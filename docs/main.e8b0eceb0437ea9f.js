"use strict";(self.webpackChunkgestion_muestras=self.webpackChunkgestion_muestras||[]).push([[179],{8482:(Ie,S,F)=>{function G(n,e,t,i,r,o,s){try{var a=n[o](s),c=a.value}catch(l){return void t(l)}a.done?e(c):Promise.resolve(c).then(i,r)}function b(n){return function(){var e=this,t=arguments;return new Promise(function(i,r){var o=n.apply(e,t);function s(c){G(o,i,r,s,a,"next",c)}function a(c){G(o,i,r,s,a,"throw",c)}s(void 0)})}}let N=null,K=1;const R=Symbol("SIGNAL");function U(n){const e=N;return N=n,e}function k(n){if((!Ls(n)||n.dirty)&&(n.dirty||n.lastCleanEpoch!==K)){if(!n.producerMustRecompute(n)&&!ur(n))return n.dirty=!1,void(n.lastCleanEpoch=K);n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=K}}function ur(n){Ye(n);for(let e=0;e<n.producerNode.length;e++){const t=n.producerNode[e],i=n.producerLastReadVersion[e];if(i!==t.version||(k(t),i!==t.version))return!0}return!1}function Fc(n,e){if(function qt(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),Ye(n),1===n.liveConsumerNode.length)for(let i=0;i<n.producerNode.length;i++)Fc(n.producerNode[i],n.producerIndexOfThis[i]);const t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){const i=n.liveConsumerIndexOfThis[e],r=n.liveConsumerNode[e];Ye(r),r.producerIndexOfThis[i]=e}}function Ls(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Ye(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let sF=null;function vt(n){return"function"==typeof n}function Ax(n){const t=n(i=>{Error.call(i),i.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const Sx=Ax(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function s_(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class _i{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:i}=this;if(vt(i))try{i()}catch(o){e=o instanceof Sx?o.errors:[o]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const o of r)try{dF(o)}catch(s){e=e??[],s instanceof Sx?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Sx(e)}}add(e){var t;if(e&&e!==this)if(this.closed)dF(e);else{if(e instanceof _i){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&s_(t,e)}remove(e){const{_finalizers:t}=this;t&&s_(t,e),e instanceof _i&&e._removeParent(this)}}_i.EMPTY=(()=>{const n=new _i;return n.closed=!0,n})();const lF=_i.EMPTY;function uF(n){return n instanceof _i||n&&"closed"in n&&vt(n.remove)&&vt(n.add)&&vt(n.unsubscribe)}function dF(n){vt(n)?n():n.unsubscribe()}const Lc={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},a_={setTimeout(n,e,...t){const{delegate:i}=a_;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=a_;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function hF(n){a_.setTimeout(()=>{const{onUnhandledError:e}=Lc;if(!e)throw n;e(n)})}function Yh(){}const bZ=kx("C",void 0,void 0);function kx(n,e,t){return{kind:n,value:e,error:t}}let Vc=null;function c_(n){if(Lc.useDeprecatedSynchronousErrorHandling){const e=!Vc;if(e&&(Vc={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:i}=Vc;if(Vc=null,t)throw i}}else n()}class Ox extends _i{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,uF(e)&&e.add(this)):this.destination=IZ}static create(e,t,i){return new Xh(e,t,i)}next(e){this.isStopped?Rx(function vZ(n){return kx("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Rx(function yZ(n){return kx("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Rx(bZ,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const xZ=Function.prototype.bind;function Px(n,e){return xZ.call(n,e)}class CZ{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){l_(i)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){l_(i)}else l_(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){l_(t)}}}class Xh extends Ox{constructor(e,t,i){let r;if(super(),vt(e)||!e)r={next:e??void 0,error:t??void 0,complete:i??void 0};else{let o;this&&Lc.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&Px(e.next,o),error:e.error&&Px(e.error,o),complete:e.complete&&Px(e.complete,o)}):r=e}this.destination=new CZ(r)}}function l_(n){Lc.useDeprecatedSynchronousErrorHandling?function wZ(n){Lc.useDeprecatedSynchronousErrorHandling&&Vc&&(Vc.errorThrown=!0,Vc.error=n)}(n):hF(n)}function Rx(n,e){const{onStoppedNotification:t}=Lc;t&&a_.setTimeout(()=>t(n,e))}const IZ={closed:!0,next:Yh,error:function EZ(n){throw n},complete:Yh},Nx="function"==typeof Symbol&&Symbol.observable||"@@observable";function Ea(n){return n}function fF(n){return 0===n.length?Ea:1===n.length?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}let Wt=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){const o=function MZ(n){return n&&n instanceof Ox||function DZ(n){return n&&vt(n.next)&&vt(n.error)&&vt(n.complete)}(n)&&uF(n)}(t)?t:new Xh(t,i,r);return c_(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return new(i=pF(i))((r,o)=>{const s=new Xh({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(t){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(t)}[Nx](){return this}pipe(...t){return fF(t)(this)}toPromise(t){return new(t=pF(t))((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return n.create=e=>new n(e),n})();function pF(n){var e;return null!==(e=n??Lc.Promise)&&void 0!==e?e:Promise}const AZ=Ax(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Mt=(()=>{class n extends Wt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const i=new gF(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new AZ}next(t){c_(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(t)}})}error(t){c_(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){c_(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:i,isStopped:r,observers:o}=this;return i||r?lF:(this.currentObservers=null,o.push(t),new _i(()=>{this.currentObservers=null,s_(o,t)}))}_checkFinalizedStatuses(t){const{hasError:i,thrownError:r,isStopped:o}=this;i?t.error(r):o&&t.complete()}asObservable(){const t=new Wt;return t.source=this,t}}return n.create=(e,t)=>new gF(e,t),n})();class gF extends Mt{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===i||i.call(t,e)}error(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===i||i.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,i;return null!==(i=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==i?i:lF}}class dr extends Mt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}function mF(n){return vt(n?.lift)}function wn(n){return e=>{if(mF(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function gn(n,e,t,i,r){return new SZ(n,e,t,i,r)}class SZ extends Ox{constructor(e,t,i,r,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=r?function(a){try{r(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Ne(n,e){return wn((t,i)=>{let r=0;t.subscribe(gn(i,o=>{i.next(n.call(e,o,r++))}))})}const _F="https://g.co/ng/security#xss";class z extends Error{constructor(e,t){super(function fu(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function Fx(n){return e=>{setTimeout(n,void 0,e)}}const Xe=class kZ extends Mt{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,i){let r=e,o=t||(()=>null),s=i;if(e&&"object"==typeof e){const c=e;r=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=Fx(o),r&&(r=Fx(r)),s&&(s=Fx(s)));const a=super.subscribe({next:r,error:o,complete:s});return e instanceof _i&&e.add(a),a}};var at=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(at||{});function ci(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(ci).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function Lx(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}var d_=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(d_||{}),Io=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Io||{});function Vs(n){return{toString:n}.toString()}const Ot=globalThis,Ko={},Et=[];function Rt(n){for(let e in n)if(n[e]===Rt)return e;throw Error("Could not find renamed property on target object.")}function NZ(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}const Zh=Rt({\u0275cmp:Rt}),Vx=Rt({\u0275dir:Rt}),Bx=Rt({\u0275pipe:Rt}),vF=Rt({\u0275mod:Rt}),Bs=Rt({\u0275fac:Rt}),Jh=Rt({__NG_ELEMENT_ID__:Rt}),wF=Rt({__NG_ENV_ID__:Rt});var ct=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(ct||{});function xF(n,e,t){let i=n.length;for(;;){const r=n.indexOf(e,t);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const o=e.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}t=r+1}}function Ux(n,e,t){let i=0;for(;i<t.length;){const r=t[i];if("number"==typeof r){if(0!==r)break;i++;const o=t[i++],s=t[i++],a=t[i++];n.setAttribute(e,s,a,o)}else{const o=r,s=t[++i];EF(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),i++}}return i}function CF(n){return 3===n||4===n||6===n}function EF(n){return 64===n.charCodeAt(0)}function ef(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){const r=e[i];"number"==typeof r?t=r:0===t||IF(n,t,r,null,-1===t||2===t?e[++i]:null)}}return n}function IF(n,e,t,i,r){let o=0,s=n.length;if(-1===e)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===t){if(null===i)return void(null!==r&&(n[o+1]=r));if(i===n[o+1])return void(n[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==s&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),null!==i&&n.splice(o++,0,i),null!==r&&n.splice(o++,0,r)}const TF="ng-template";function FZ(n,e,t){let i=0,r=!0;for(;i<n.length;){let o=n[i++];if("string"==typeof o&&r){const s=n[i++];if(t&&"class"===o&&-1!==xF(s.toLowerCase(),e,0))return!0}else{if(1===o){for(;i<n.length&&"string"==typeof(o=n[i++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(r=!1)}}return!1}function DF(n){return 4===n.type&&n.value!==TF}function LZ(n,e,t){return e===(4!==n.type||t?n.value:TF)}function VZ(n,e,t){let i=4;const r=n.attrs||[],o=function zZ(n){for(let e=0;e<n.length;e++)if(CF(n[e]))return e;return n.length}(r);let s=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!s)if(4&i){if(i=2|1&i,""!==c&&!LZ(n,c,t)||""===c&&1===e.length){if(To(i))return!1;s=!0}}else{const l=8&i?c:e[++a];if(8&i&&null!==n.attrs){if(!FZ(n.attrs,l,t)){if(To(i))return!1;s=!0}continue}const d=BZ(8&i?"class":c,r,DF(n),t);if(-1===d){if(To(i))return!1;s=!0;continue}if(""!==l){let h;h=d>o?"":r[d+1].toLowerCase();const f=8&i?h:null;if(f&&-1!==xF(f,l,0)||2&i&&l!==h){if(To(i))return!1;s=!0}}}}else{if(!s&&!To(i)&&!To(c))return!1;if(s&&To(c))continue;s=!1,i=c|1&i}}return To(i)||s}function To(n){return 0==(1&n)}function BZ(n,e,t,i){if(null===e)return-1;let r=0;if(i||!t){let o=!1;for(;r<e.length;){const s=e[r];if(s===n)return r;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++r];for(;"string"==typeof a;)a=e[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=o?1:2}return-1}return function jZ(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const i=n[t];if("number"==typeof i)return-1;if(i===e)return t;t++}return-1}(e,n)}function MF(n,e,t=!1){for(let i=0;i<e.length;i++)if(VZ(n,e[i],t))return!0;return!1}function HZ(n,e){e:for(let t=0;t<e.length;t++){const i=e[t];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function AF(n,e){return n?":not("+e.trim()+")":e}function $Z(n){let e=n[0],t=1,i=2,r="",o=!1;for(;t<n.length;){let s=n[t];if("string"==typeof s)if(2&i){const a=n[++t];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""!==r&&!To(s)&&(e+=AF(o,r),r=""),i=s,o=o||!To(i);t++}return""!==r&&(e+=AF(o,r)),e}function Me(n){return Vs(()=>{const e=kF(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===d_.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Io.Emulated,styles:n.styles||Et,_:null,schemas:n.schemas||null,tView:null,id:""};OF(t);const i=n.dependencies;return t.directiveDefs=h_(i,!1),t.pipeDefs=h_(i,!0),t.id=function YZ(n){let e=0;const t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const r of t)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(t),t})}function WZ(n){return tt(n)||li(n)}function KZ(n){return null!==n}function et(n){return Vs(()=>({type:n.type,bootstrap:n.bootstrap||Et,declarations:n.declarations||Et,imports:n.imports||Et,exports:n.exports||Et,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function SF(n,e){if(null==n)return Ko;const t={};for(const i in n)if(n.hasOwnProperty(i)){const r=n[i];let o,s,a=ct.None;Array.isArray(r)?(a=r[0],o=r[1],s=r[2]??o):(o=r,s=r),e?(t[o]=a!==ct.None?[i,a]:i,e[o]=s):t[o]=i}return t}function be(n){return Vs(()=>{const e=kF(n);return OF(e),e})}function tt(n){return n[Zh]||null}function li(n){return n[Vx]||null}function Ri(n){return n[Bx]||null}function Qi(n,e){const t=n[vF]||null;if(!t&&!0===e)throw new Error(`Type ${ci(n)} does not have '\u0275mod' property.`);return t}function kF(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||Ko,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||Et,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:SF(n.inputs,e),outputs:SF(n.outputs),debugInfo:null}}function OF(n){n.features?.forEach(e=>e(n))}function h_(n,e){if(!n)return null;const t=e?Ri:WZ;return()=>("function"==typeof n?n():n).map(i=>t(i)).filter(KZ)}const mn=0,oe=1,Ee=2,Ln=3,Do=4,Yi=5,Mo=6,pu=7,Kt=8,Ni=9,Us=10,Fe=11,tf=12,PF=13,gu=14,xn=15,nf=16,mu=17,zs=18,rf=19,RF=20,Da=21,f_=22,Bc=23,Ue=25,zx=1,Qo=7,_u=9,Vn=10;var jx=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(jx||{});function Xi(n){return Array.isArray(n)&&"object"==typeof n[zx]}function Zi(n){return Array.isArray(n)&&!0===n[zx]}function Hx(n){return 0!=(4&n.flags)}function Uc(n){return n.componentOffset>-1}function g_(n){return 1==(1&n.flags)}function Ao(n){return!!n.template}function $x(n){return 0!=(512&n[Ee])}let UF=!1;function Bt(n){for(;Array.isArray(n);)n=n[mn];return n}function af(n,e){return Bt(e[n])}function hr(n,e){return Bt(e[n.index])}function cf(n,e){return n.data[e]}function $r(n,e){const t=e[n];return Xi(t)?t:t[mn]}function Kx(n){return 128==(128&n[Ee])}function Yo(n,e){return null==e?null:n[e]}function zF(n){n[mu]=0}function rJ(n){1024&n[Ee]||(n[Ee]|=1024,Kx(n)&&lf(n))}function Qx(n){return!!(9216&n[Ee]||n[Bc]?.dirty)}function Yx(n){Qx(n)?lf(n):64&n[Ee]&&(function eJ(){return UF}()?(n[Ee]|=1024,lf(n)):n[Us].changeDetectionScheduler?.notify())}function lf(n){n[Us].changeDetectionScheduler?.notify();let e=zc(n);for(;null!==e&&!(8192&e[Ee])&&(e[Ee]|=8192,Kx(e));)e=zc(e)}function m_(n,e){if(256==(256&n[Ee]))throw new z(911,!1);null===n[Da]&&(n[Da]=[]),n[Da].push(e)}function zc(n){const e=n[Ln];return Zi(e)?e[Ln]:e}const Pe={lFrame:XF(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function $F(){return Pe.bindingsEnabled}function yu(){return null!==Pe.skipHydrationRootTNode}function W(){return Pe.lFrame.lView}function lt(){return Pe.lFrame.tView}function Le(n){return Pe.lFrame.contextLView=n,n[Kt]}function Ve(n){return Pe.lFrame.contextLView=null,n}function Nt(){let n=GF();for(;null!==n&&64===n.type;)n=n.parent;return n}function GF(){return Pe.lFrame.currentTNode}function Xo(n,e){const t=Pe.lFrame;t.currentTNode=n,t.isParent=e}function Zx(){return Pe.lFrame.isParent}function Jx(){Pe.lFrame.isParent=!1}function So(){return Pe.lFrame.bindingIndex++}function Hs(n){const e=Pe.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function gJ(n,e){const t=Pe.lFrame;t.bindingIndex=t.bindingRootIndex=n,eC(e)}function eC(n){Pe.lFrame.currentDirectiveIndex=n}function tC(n){const e=Pe.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}function nC(){return Pe.lFrame.currentQueryIndex}function __(n){Pe.lFrame.currentQueryIndex=n}function _J(n){const e=n[oe];return 2===e.type?e.declTNode:1===e.type?n[Yi]:null}function QF(n,e,t){if(t&at.SkipSelf){let r=e,o=n;for(;!(r=r.parent,null!==r||t&at.Host||(r=_J(o),null===r||(o=o[gu],10&r.type))););if(null===r)return!1;e=r,n=o}const i=Pe.lFrame=YF();return i.currentTNode=e,i.lView=n,!0}function iC(n){const e=YF(),t=n[oe];Pe.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function YF(){const n=Pe.lFrame,e=null===n?null:n.child;return null===e?XF(n):e}function XF(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function ZF(){const n=Pe.lFrame;return Pe.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const JF=ZF;function rC(){const n=ZF();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Ji(){return Pe.lFrame.selectedIndex}function jc(n){Pe.lFrame.selectedIndex=n}function Qt(){const n=Pe.lFrame;return cf(n.tView,n.selectedIndex)}function b_(){Pe.lFrame.currentNamespace="svg"}function oC(){!function vJ(){Pe.lFrame.currentNamespace=null}()}let tL=!0;function y_(){return tL}function Ma(n){tL=n}function wJ(){return vu(Nt(),W())}function vu(n,e){return new an(hr(n,e))}let lC,an=(()=>{class n{constructor(t){this.nativeElement=t}static#e=this.__NG_ELEMENT_ID__=wJ}return n})();function nL(n){return n instanceof an?n.nativeElement:n}function wu(n,e){n.forEach(t=>Array.isArray(t)?wu(t,e):e(t))}function iL(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function v_(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Gr(n,e,t){let i=xu(n,e);return i>=0?n[1|i]=t:(i=~i,function rL(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(1===r)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;)n[r]=n[r-2],r--;n[e]=t,n[e+1]=i}}(n,i,e,t)),i}function aC(n,e){const t=xu(n,e);if(t>=0)return n[1|t]}function xu(n,e){return function oL(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){const o=i+(r-i>>1),s=n[o<<t];if(e===s)return o<<t;s>e?r=o:i=o+1}return~(r<<t)}(n,e,1)}function CJ(){return this._results[Symbol.iterator]()}class cC{static#e=Symbol.iterator;get changes(){return this._changes??=new Xe}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const t=cC.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=CJ)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;const i=function Dr(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function xJ(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=e[i];if(t&&(r=t(r),o=t(o)),o!==r)return!1}return!0}(this._results,i,t))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function x_(n){return 128==(128&n.flags)}function re(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Ze(n){return{providers:n.providers||[],imports:n.imports||[]}}function E_(n){return cL(n,T_)||cL(n,lL)}function cL(n,e){return n.hasOwnProperty(e)?n[e]:null}function I_(n){return n&&(n.hasOwnProperty(uC)||n.hasOwnProperty(MJ))?n[uC]:null}const T_=Rt({\u0275prov:Rt}),uC=Rt({\u0275inj:Rt}),lL=Rt({ngInjectableDef:Rt}),MJ=Rt({ngInjectorDef:Rt});class Y{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=re({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const D_=new Y("",{providedIn:"root",factory:()=>AJ}),AJ="ng",uL=new Y(""),so=new Y("",{providedIn:"platform",factory:()=>"unknown"}),Hc=new Y(""),dC=new Y("",{providedIn:"root",factory:()=>function Aa(){if(void 0!==lC)return lC;if(typeof document<"u")return document;throw new z(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),OJ=Rt({__forward_ref__:Rt});function Yt(n){return n.__forward_ref__=Yt,n.toString=function(){return ci(this())},n}function Oe(n){return M_(n)?n():n}function M_(n){return"function"==typeof n&&n.hasOwnProperty(OJ)&&n.__forward_ref__===Yt}function mC(n){return n&&!!n.\u0275providers}function ze(n){return"string"==typeof n?n:null==n?"":String(n)}function _C(n,e){throw new z(-201,!1)}let bC;function hL(){return bC}function Mr(n){const e=bC;return bC=n,e}function fL(n,e,t){const i=E_(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:t&at.Optional?null:void 0!==e?e:void _C()}const hf={},yC="__NG_DI_FLAG__",A_="ngTempTokenPath",VJ=/\n/gm,pL="__source";let Cu;function Sa(n){const e=Cu;return Cu=n,e}function zJ(n,e=at.Default){if(void 0===Cu)throw new z(-203,!1);return null===Cu?fL(n,void 0,e):Cu.get(n,e&at.Optional?null:void 0,e)}function $(n,e=at.Default){return(hL()||zJ)(Oe(n),e)}function J(n,e=at.Default){return $(n,S_(e))}function S_(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function vC(n){const e=[];for(let t=0;t<n.length;t++){const i=Oe(n[t]);if(Array.isArray(i)){if(0===i.length)throw new z(900,!1);let r,o=at.Default;for(let s=0;s<i.length;s++){const a=i[s],c=jJ(a);"number"==typeof c?-1===c?r=a.token:o|=c:r=a}e.push($(r,o))}else e.push($(i))}return e}function ff(n,e){return n[yC]=e,n.prototype[yC]=e,n}function jJ(n){return n[yC]}let mL=()=>null;function MC(n,e,t=!1){return mL(n,e,t)}const Mu="__parameters__";function Su(n,e,t){return Vs(()=>{const i=function OC(n){return function(...t){if(n){const i=n(...t);for(const r in i)this[r]=i[r]}}}(e);function r(...o){if(this instanceof r)return i.apply(this,o),this;const s=new r(...o);return a.annotation=s,a;function a(c,l,u){const d=c.hasOwnProperty(Mu)?c[Mu]:Object.defineProperty(c,Mu,{value:[]})[Mu];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}const Xt=ff(Su("Optional"),8),_f=ff(Su("SkipSelf"),4);function $c(n,e){return n.hasOwnProperty(Bs)?n[Bs]:null}const Gc=new Y(""),xL=new Y("",-1),PC=new Y("");class F_{get(e,t=hf){if(t===hf){const i=new Error(`NullInjectorError: No provider for ${ci(e)}!`);throw i.name="NullInjectorError",i}return t}}function nee(...n){return{\u0275providers:RC(0,n),\u0275fromNgModule:!0}}function RC(n,...e){const t=[],i=new Set;let r;const o=s=>{t.push(s)};return wu(e,s=>{const a=s;V_(a,o,[],i)&&(r||=[],r.push(a))}),void 0!==r&&CL(r,o),t}function CL(n,e){for(let t=0;t<n.length;t++){const{ngModule:i,providers:r}=n[t];NC(r,o=>{e(o,i)})}}function V_(n,e,t,i){if(!(n=Oe(n)))return!1;let r=null,o=I_(n);const s=!o&&tt(n);if(o||s){if(s&&!s.standalone)return!1;r=n}else{const c=n.ngModule;if(o=I_(c),!o)return!1;r=c}const a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const l of c)V_(l,e,t,i)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let l;i.add(r);try{wu(o.imports,u=>{V_(u,e,t,i)&&(l||=[],l.push(u))})}finally{}void 0!==l&&CL(l,e)}if(!a){const l=$c(r)||(()=>new r);e({provide:r,useFactory:l,deps:Et},r),e({provide:PC,useValue:r,multi:!0},r),e({provide:Gc,useValue:()=>$(r),multi:!0},r)}const c=o.providers;if(null!=c&&!a){const l=n;NC(c,u=>{e(u,l)})}}}return r!==n&&void 0!==n.providers}function NC(n,e){for(let t of n)mC(t)&&(t=t.\u0275providers),Array.isArray(t)?NC(t,e):e(t)}const iee=Rt({provide:String,useValue:Rt});function FC(n){return null!==n&&"object"==typeof n&&iee in n}function qc(n){return"function"==typeof n}const LC=new Y(""),B_={},oee={};let VC;function U_(){return void 0===VC&&(VC=new F_),VC}class qr{}class ku extends qr{get destroyed(){return this._destroyed}constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,UC(e,s=>this.processProvider(s)),this.records.set(xL,Ou(void 0,this)),r.has("environment")&&this.records.set(qr,Ou(void 0,this));const o=this.records.get(LC);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(PC,Et,at.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of e)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const t=Sa(this),i=Mr(void 0);try{return e()}finally{Sa(t),Mr(i)}}get(e,t=hf,i=at.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(wF))return e[wF](this);i=S_(i);const o=Sa(this),s=Mr(void 0);try{if(!(i&at.SkipSelf)){let c=this.records.get(e);if(void 0===c){const l=function uee(n){return"function"==typeof n||"object"==typeof n&&n instanceof Y}(e)&&E_(e);c=l&&this.injectableDefInScope(l)?Ou(BC(e),B_):null,this.records.set(e,c)}if(null!=c)return this.hydrate(e,c)}return(i&at.Self?U_():this.parent).get(e,t=i&at.Optional&&t===hf?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[A_]=a[A_]||[]).unshift(ci(e)),o)throw a;return function HJ(n,e,t,i){const r=n[A_];throw e[pL]&&r.unshift(e[pL]),n.message=function $J(n,e,t,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let r=ci(e);if(Array.isArray(e))r=e.map(ci).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):ci(a)))}r=`{${o.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace(VJ,"\n  ")}`}("\n"+n.message,r,t,i),n.ngTokenPath=r,n[A_]=null,n}(a,e,"R3InjectorError",this.source)}throw a}finally{Mr(s),Sa(o)}}resolveInjectorInitializers(){const e=Sa(this),t=Mr(void 0);try{const r=this.get(Gc,Et,at.Self);for(const o of r)o()}finally{Sa(e),Mr(t)}}toString(){const e=[],t=this.records;for(const i of t.keys())e.push(ci(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new z(205,!1)}processProvider(e){let t=qc(e=Oe(e))?e:Oe(e&&e.provide);const i=function aee(n){return FC(n)?Ou(void 0,n.useValue):Ou(TL(n),B_)}(e);if(!qc(e)&&!0===e.multi){let r=this.records.get(t);r||(r=Ou(void 0,B_,!0),r.factory=()=>vC(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t){return t.value===B_&&(t.value=oee,t.value=t.factory()),"object"==typeof t.value&&t.value&&function lee(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=Oe(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){const t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}}function BC(n){const e=E_(n),t=null!==e?e.factory:$c(n);if(null!==t)return t;if(n instanceof Y)throw new z(204,!1);if(n instanceof Function)return function see(n){if(n.length>0)throw new z(204,!1);const t=function DJ(n){return n&&(n[T_]||n[lL])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new z(204,!1)}function TL(n,e,t){let i;if(qc(n)){const r=Oe(n);return $c(r)||BC(r)}if(FC(n))i=()=>Oe(n.useValue);else if(function IL(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...vC(n.deps||[]));else if(function EL(n){return!(!n||!n.useExisting)}(n))i=()=>$(Oe(n.useExisting));else{const r=Oe(n&&(n.useClass||n.provide));if(!function cee(n){return!!n.deps}(n))return $c(r)||BC(r);i=()=>new r(...vC(n.deps))}return i}function Ou(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function UC(n,e){for(const t of n)Array.isArray(t)?UC(t,e):t&&mC(t)?UC(t.\u0275providers,e):e(t)}function Wc(n,e){n instanceof ku&&n.assertNotDestroyed();const i=Sa(n),r=Mr(void 0);try{return e()}finally{Sa(i),Mr(r)}}class vee{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}}function ML(n,e,t,i){null!==e?e.applyValueToInputSignal(e,i):n[t]=i}function ao(){return AL}function AL(n){return n.type.prototype.ngOnChanges&&(n.setInput=xee),wee}function wee(){const n=kL(this),e=n?.current;if(e){const t=n.previous;if(t===Ko)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function xee(n,e,t,i,r){const o=this.declaredInputs[i],s=kL(n)||function Cee(n,e){return n[SL]=e}(n,{previous:Ko,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new vee(l&&l.currentValue,t,c===Ko),ML(n,e,r,t)}ao.ngInherit=!0;const SL="__ngSimpleChanges__";function kL(n){return n[SL]||null}const Zo=function(n,e,t){};function H_(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){const o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),null!=u&&(n.destroyHooks??=[]).push(t,u)}}function $_(n,e,t){OL(n,e,3,t)}function G_(n,e,t,i){(3&n[Ee])===t&&OL(n,e,t,i)}function HC(n,e){let t=n[Ee];(3&t)===e&&(t&=16383,t+=1,n[Ee]=t)}function OL(n,e,t,i){const o=i??-1,s=e.length-1;let a=0;for(let c=void 0!==i?65535&n[mu]:0;c<s;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=i&&a>=i)break}else e[c]<0&&(n[mu]+=65536),(a<o||-1==o)&&(Tee(n,t,e,c),n[mu]=(4294901760&n[mu])+c+2),c++}function PL(n,e){Zo(4,n,e);const t=U(null);try{e.call(n)}finally{U(t),Zo(5,n,e)}}function Tee(n,e,t,i){const r=t[i]<0,o=t[i+1],a=n[r?-t[i]:t[i]];r?n[Ee]>>14<n[mu]>>16&&(3&n[Ee])===e&&(n[Ee]+=16384,PL(a,o)):PL(a,o)}const Ru=-1;class yf{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}}function GC(n){return n!==Ru}function vf(n){return 32767&n}function wf(n,e){let t=function kee(n){return n>>16}(n),i=e;for(;t>0;)i=i[gu],t--;return i}let qC=!0;function q_(n){const e=qC;return qC=n,e}const RL=255,NL=5;let Oee=0;const Jo={};function W_(n,e){const t=FL(n,e);if(-1!==t)return t;const i=e[oe];i.firstCreatePass&&(n.injectorIndex=e.length,WC(i.data,n),WC(e,null),WC(i.blueprint,null));const r=K_(n,e),o=n.injectorIndex;if(GC(r)){const s=vf(r),a=wf(r,e),c=a[oe].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=r,o}function WC(n,e){n.push(0,0,0,0,0,0,0,0,e)}function FL(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function K_(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;null!==r;){if(i=HL(r),null===i)return Ru;if(t++,r=r[gu],-1!==i.injectorIndex)return i.injectorIndex|t<<16}return Ru}function KC(n,e,t){!function Pee(n,e,t){let i;"string"==typeof t?i=t.charCodeAt(0)||0:t.hasOwnProperty(Jh)&&(i=t[Jh]),null==i&&(i=t[Jh]=Oee++);const r=i&RL;e.data[n+(r>>NL)]|=1<<r}(n,e,t)}function LL(n,e,t){if(t&at.Optional||void 0!==n)return n;_C()}function VL(n,e,t,i){if(t&at.Optional&&void 0===i&&(i=null),!(t&(at.Self|at.Host))){const r=n[Ni],o=Mr(void 0);try{return r?r.get(e,i,t&at.Optional):fL(e,i,t&at.Optional)}finally{Mr(o)}}return LL(i,0,t)}function BL(n,e,t,i=at.Default,r){if(null!==n){if(2048&e[Ee]&&!(i&at.Self)){const s=function Vee(n,e,t,i,r){let o=n,s=e;for(;null!==o&&null!==s&&2048&s[Ee]&&!(512&s[Ee]);){const a=UL(o,s,t,i|at.Self,Jo);if(a!==Jo)return a;let c=o.parent;if(!c){const l=s[RF];if(l){const u=l.get(t,Jo,i);if(u!==Jo)return u}c=HL(s),s=s[gu]}o=c}return r}(n,e,t,i,Jo);if(s!==Jo)return s}const o=UL(n,e,t,i,Jo);if(o!==Jo)return o}return VL(e,t,i,r)}function UL(n,e,t,i,r){const o=function Fee(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Jh)?n[Jh]:void 0;return"number"==typeof e?e>=0?e&RL:Lee:e}(t);if("function"==typeof o){if(!QF(e,n,i))return i&at.Host?LL(r,0,i):VL(e,t,i,r);try{let s;if(s=o(i),null!=s||i&at.Optional)return s;_C()}finally{JF()}}else if("number"==typeof o){let s=null,a=FL(n,e),c=Ru,l=i&at.Host?e[xn][Yi]:null;for((-1===a||i&at.SkipSelf)&&(c=-1===a?K_(n,e):e[a+8],c!==Ru&&jL(i,!1)?(s=e[oe],a=vf(c),e=wf(c,e)):a=-1);-1!==a;){const u=e[oe];if(zL(o,a,u.data)){const d=Nee(a,e,t,s,i,l);if(d!==Jo)return d}c=e[a+8],c!==Ru&&jL(i,e[oe].data[a+8]===l)&&zL(o,a,e)?(s=u,a=vf(c),e=wf(c,e)):a=-1}}return r}function Nee(n,e,t,i,r,o){const s=e[oe],a=s.data[n+8],u=Q_(a,s,t,null==i?Uc(a)&&qC:i!=s&&0!=(3&a.type),r&at.Host&&o===a);return null!==u?Kc(e,s,u,a):Jo}function Q_(n,e,t,i,r){const o=n.providerIndexes,s=e.data,a=1048575&o,c=n.directiveStart,u=o>>20,h=r?a+u:n.directiveEnd;for(let f=i?a:a+u;f<h;f++){const _=s[f];if(f<c&&t===_||f>=c&&_.type===t)return f}if(r){const f=s[c];if(f&&Ao(f)&&f.type===t)return c}return null}function Kc(n,e,t,i){let r=n[t];const o=e.data;if(function Dee(n){return n instanceof yf}(r)){const s=r;s.resolving&&function NJ(n,e){throw e&&e.join(" > "),new z(-200,n)}(function At(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():ze(n)}(o[t]));const a=q_(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?Mr(s.injectImpl):null;QF(n,i,at.Default);try{r=n[t]=s.factory(void 0,o,n,i),e.firstCreatePass&&t>=i.directiveStart&&function Iee(n,e,t){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){const s=AL(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}r&&(t.preOrderHooks??=[]).push(0-n,r),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}(t,o[t],e)}finally{null!==l&&Mr(l),q_(a),s.resolving=!1,JF()}}return r}function zL(n,e,t){return!!(t[e+(n>>NL)]&1<<n)}function jL(n,e){return!(n&at.Self||n&at.Host&&e)}class di{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return BL(this._tNode,this._lView,e,S_(i),t)}}function Lee(){return new di(Nt(),W())}function bi(n){return Vs(()=>{const e=n.prototype.constructor,t=e[Bs]||QC(e),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const o=r[Bs]||QC(r);if(o&&o!==t)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function QC(n){return M_(n)?()=>{const e=QC(Oe(n));return e&&e()}:$c(n)}function HL(n){const e=n[oe],t=e.type;return 2===t?e.declTNode:1===t?n[Yi]:null}function KL(n,e=null,t=null,i){const r=QL(n,e,t,i);return r.resolveInjectorInitializers(),r}function QL(n,e=null,t=null,i,r=new Set){const o=[t||Et,nee(n)];return i=i||("object"==typeof n?void 0:ci(n)),new ku(o,e||U_(),i||null,r)}let jt=(()=>{class n{static#e=this.THROW_IF_NOT_FOUND=hf;static#t=this.NULL=new F_;static create(t,i){if(Array.isArray(t))return KL({name:""},i,t,"");{const r=t.name??"";return KL({name:r},t.parent,t.providers,r)}}static#n=this.\u0275prov=re({token:n,providedIn:"any",factory:()=>$(xL)});static#i=this.__NG_ELEMENT_ID__=-1}return n})();function XC(n){return n.ngOriginalError}class ko{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&XC(e);for(;t&&XC(t);)t=XC(t);return t||null}}const XL=new Y("",{providedIn:"root",factory:()=>J(ko).handleError.bind(void 0)}),JL=new Y("",{providedIn:"root",factory:()=>!1});class Qc{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${_F})`}}function Wr(n){return n instanceof Qc?n.changingThisBreaksApplicationSecurity:n}const cte=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Fi=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Fi||{});function iE(n){const e=function Cf(){const n=W();return n&&n[Us].sanitizer}();return e?e.sanitize(Fi.URL,n)||"":function es(n,e){const t=function Jee(n){return n instanceof Qc&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${_F})`)}return t===e}(n,"URL")?Wr(n):function tb(n){return(n=String(n)).match(cte)?n:"unsafe:"+n}(ze(n))}const rE=new Map;let Dte=0;const sE="__ngContext__";function er(n,e){Xi(e)?(n[sE]=e[rf],function Ate(n){rE.set(n[rf],n)}(e)):n[sE]=e}function Kr(n){return n instanceof Function?n():n}var Oa=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Oa||{});let uE;function dE(n,e){return uE(n,e)}function Bu(n,e,t,i,r){if(null!=i){let o,s=!1;Zi(i)?o=i:Xi(i)&&(s=!0,i=i[mn]);const a=Bt(i);0===n&&null!==t?null==r?k3(e,t,a):Yc(e,t,a,r||null,!0):1===n&&null!==t?Yc(e,t,a,r||null,!0):2===n?function ub(n,e,t){const i=cb(n,e);i&&function Xte(n,e,t,i){n.removeChild(e,t,i)}(n,i,e,t)}(e,a,s):3===n&&e.destroyNode(a),null!=o&&function ene(n,e,t,i,r){const o=t[Qo];o!==Bt(t)&&Bu(e,n,i,o,r);for(let a=Vn;a<t.length;a++){const c=t[a];db(c[oe],c,n,e,i,o)}}(e,n,o,t,r)}}function sb(n,e,t){return n.createElement(e,t)}function M3(n,e){db(n,e,e[Fe],2,null,null)}function A3(n,e){const t=n[_u],i=t.indexOf(e);t.splice(i,1)}function If(n,e){if(n.length<=Vn)return;const t=Vn+e,i=n[t];if(i){const r=i[nf];null!==r&&r!==n&&A3(r,i),e>0&&(n[t-1][Do]=i[Do]);const o=v_(n,Vn+e);!function $te(n,e){M3(n,e),e[mn]=null,e[Yi]=null}(i[oe],i);const s=o[zs];null!==s&&s.detachView(o[oe]),i[Ln]=null,i[Do]=null,i[Ee]&=-129}return i}function ab(n,e){if(!(256&e[Ee])){const t=e[Fe];t.destroyNode&&db(n,e,t,3,null,null),function qte(n){let e=n[tf];if(!e)return fE(n[oe],n);for(;e;){let t=null;if(Xi(e))t=e[tf];else{const i=e[Vn];i&&(t=i)}if(!t){for(;e&&!e[Do]&&e!==n;)Xi(e)&&fE(e[oe],e),e=e[Ln];null===e&&(e=n),Xi(e)&&fE(e[oe],e),t=e&&e[Do]}e=t}}(e)}}function fE(n,e){if(!(256&e[Ee])){e[Ee]&=-129,e[Ee]|=256,e[Bc]&&function Eo(n){if(Ye(n),Ls(n))for(let e=0;e<n.producerNode.length;e++)Fc(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}(e[Bc]),function Yte(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let i=0;i<t.length;i+=2){const r=e[t[i]];if(!(r instanceof yf)){const o=t[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=r[o[s]],c=o[s+1];Zo(4,a,c);try{c.call(a)}finally{Zo(5,a,c)}}else{Zo(4,r,o);try{o.call(r)}finally{Zo(5,r,o)}}}}}(n,e),function Qte(n,e){const t=n.cleanup,i=e[pu];if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const s=t[o+3];s>=0?i[s]():i[-s].unsubscribe(),o+=2}else t[o].call(i[t[o+1]]);null!==i&&(e[pu]=null);const r=e[Da];if(null!==r){e[Da]=null;for(let o=0;o<r.length;o++)(0,r[o])()}}(n,e),1===e[oe].type&&e[Fe].destroy();const t=e[nf];if(null!==t&&Zi(e[Ln])){t!==e[Ln]&&A3(t,e);const i=e[zs];null!==i&&i.detachView(n)}!function Ste(n){rE.delete(n[rf])}(e)}}function pE(n,e,t){return function S3(n,e,t){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return t[mn];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:o}=n.data[i.directiveStart+r];if(o===Io.None||o===Io.Emulated)return null}return hr(i,t)}}(n,e.parent,t)}function Yc(n,e,t,i,r){n.insertBefore(e,t,i,r)}function k3(n,e,t){n.appendChild(e,t)}function O3(n,e,t,i,r){null!==i?Yc(n,e,t,i,r):k3(n,e,t)}function cb(n,e){return n.parentNode(e)}function P3(n,e,t){return N3(n,e,t)}let gE,N3=function R3(n,e,t){return 40&n.type?hr(n,t):null};function lb(n,e,t,i){const r=pE(n,i,e),o=e[Fe],a=P3(i.parent||e[Yi],i,e);if(null!=r)if(Array.isArray(t))for(let c=0;c<t.length;c++)O3(o,r,t[c],a,!1);else O3(o,r,t,a,!1);void 0!==gE&&gE(o,i,e,t,r)}function Tf(n,e){if(null!==e){const t=e.type;if(3&t)return hr(e,n);if(4&t)return mE(-1,n[e.index]);if(8&t){const i=e.child;if(null!==i)return Tf(n,i);{const r=n[e.index];return Zi(r)?mE(-1,r):Bt(r)}}if(32&t)return dE(e,n)()||Bt(n[e.index]);{const i=L3(n,e);return null!==i?Array.isArray(i)?i[0]:Tf(zc(n[xn]),i):Tf(n,e.next)}}return null}function L3(n,e){return null!==e?n[xn][Yi].projection[e.projection]:null}function mE(n,e){const t=Vn+n+1;if(t<e.length){const i=e[t],r=i[oe].firstChild;if(null!==r)return Tf(i,r)}return e[Qo]}function _E(n,e,t,i,r,o,s){for(;null!=t;){const a=i[t.index],c=t.type;if(s&&0===e&&(a&&er(Bt(a),i),t.flags|=2),32!=(32&t.flags))if(8&c)_E(n,e,t.child,i,r,o,!1),Bu(e,n,r,a,o);else if(32&c){const l=dE(t,i);let u;for(;u=l();)Bu(e,n,r,u,o);Bu(e,n,r,a,o)}else 16&c?B3(n,e,i,t,r,o):Bu(e,n,r,a,o);t=s?t.projectionNext:t.next}}function db(n,e,t,i,r,o){_E(t,i,n.firstChild,e,r,o,!1)}function B3(n,e,t,i,r,o){const s=t[xn],c=s[Yi].projection[i.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)Bu(e,n,r,c[l],o);else{let l=c;const u=s[Ln];x_(i)&&(l.flags|=128),_E(n,e,l,u,r,o,!0)}}function U3(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function z3(n,e,t){const{mergedAttrs:i,classes:r,styles:o}=t;null!==i&&Ux(n,e,i),null!==r&&U3(n,e,r),null!==o&&function nne(n,e,t){n.setAttribute(e,"style",t)}(n,e,o)}const Ge={};function H(n=1){j3(lt(),W(),Ji()+n,!1)}function j3(n,e,t,i){if(!i)if(3==(3&e[Ee])){const o=n.preOrderCheckHooks;null!==o&&$_(e,o,t)}else{const o=n.preOrderHooks;null!==o&&G_(e,o,0,t)}jc(t)}function E(n,e=at.Default){const t=W();return null===t?$(n,e):BL(Nt(),t,Oe(n),e)}function bE(){throw new Error("invalid")}function H3(n,e,t,i,r,o){const s=U(null);try{let a=null;r&ct.SignalBased&&(a=e[i][R]),null!==a&&void 0!==a.transformFn&&(o=a.transformFn(o)),r&ct.HasDecoratorInputTransform&&(o=n.inputTransforms[i].call(e,o)),null!==n.setInput?n.setInput(e,a,o,t,i):ML(e,a,i,o)}finally{U(s)}}function hb(n,e,t,i,r,o,s,a,c,l,u){const d=e.blueprint.slice();return d[mn]=r,d[Ee]=204|i,(null!==l||n&&2048&n[Ee])&&(d[Ee]|=2048),zF(d),d[Ln]=d[gu]=n,d[Kt]=t,d[Us]=s||n&&n[Us],d[Fe]=a||n&&n[Fe],d[Ni]=c||n&&n[Ni]||null,d[Yi]=o,d[rf]=function Mte(){return Dte++}(),d[Mo]=u,d[RF]=l,d[xn]=2==e.type?n[xn]:d,d}function Uu(n,e,t,i,r){let o=n.data[e];if(null===o)o=function yE(n,e,t,i,r){const o=GF(),s=Zx(),c=n.data[e]=function une(n,e,t,i,r,o){let s=e?e.injectorIndex:-1,a=0;return yu()&&(a|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,t,e,i,r);return null===n.firstChild&&(n.firstChild=c),null!==o&&(s?null==o.child&&null!==c.parent&&(o.child=c):null===o.next&&(o.next=c,c.prev=o)),c}(n,e,t,i,r),function pJ(){return Pe.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=t,o.value=i,o.attrs=r;const s=function uf(){const n=Pe.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Xo(o,!0),o}function Df(n,e,t,i){if(0===t)return-1;const r=e.length;for(let o=0;o<t;o++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function $3(n,e,t,i,r){const o=Ji(),s=2&i;try{jc(-1),s&&e.length>Ue&&j3(n,e,Ue,!1),Zo(s?2:0,r),t(i,r)}finally{jc(o),Zo(s?3:1,r)}}function vE(n,e,t){if(Hx(e)){const i=U(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=n.data[s];a.contentQueries&&a.contentQueries(1,t[s],s)}}finally{U(i)}}}function wE(n,e,t){$F()&&(function _ne(n,e,t,i){const r=t.directiveStart,o=t.directiveEnd;Uc(t)&&function Ene(n,e,t){const i=hr(e,n),r=G3(t);let s=16;t.signals?s=4096:t.onPush&&(s=64);const a=fb(n,hb(n,r,null,s,i,e,null,n[Us].rendererFactory.createRenderer(i,t),null,null,null));n[e.index]=a}(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||W_(t,e),er(i,e);const s=t.initialInputs;for(let a=r;a<o;a++){const c=n.data[a],l=Kc(e,n,a,t);er(l,e),null!==s&&Ine(0,a-r,l,c,0,s),Ao(c)&&($r(t.index,e)[Kt]=Kc(e,n,a,t))}}(n,e,t,hr(t,e)),64==(64&t.flags)&&Y3(n,e,t))}function xE(n,e,t=hr){const i=e.localNames;if(null!==i){let r=e.index+1;for(let o=0;o<i.length;o+=2){const s=i[o+1],a=-1===s?t(e,n):n[s];n[r++]=a}}}function G3(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=CE(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function CE(n,e,t,i,r,o,s,a,c,l,u){const d=Ue+i,h=d+r,f=function rne(n,e){const t=[];for(let i=0;i<e;i++)t.push(i<n?null:Ge);return t}(d,h),_="function"==typeof l?l():l;return f[oe]={type:n,blueprint:f,template:t,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:_,incompleteFirstPass:!1,ssrId:u}}let q3=()=>null;function W3(n,e,t,i,r){for(let o in e){if(!e.hasOwnProperty(o))continue;const s=e[o];if(void 0===s)continue;i??={};let a,c=ct.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let l=o;if(null!==r){if(!r.hasOwnProperty(o))continue;l=r[o]}0===n?K3(i,t,l,a,c):K3(i,t,l,a)}return i}function K3(n,e,t,i,r){let o;n.hasOwnProperty(t)?(o=n[t]).push(e,i):o=n[t]=[e,i],void 0!==r&&o.push(r)}function Sr(n,e,t,i,r,o,s,a){const c=hr(e,t);let u,l=e.inputs;!a&&null!=l&&(u=l[i])?(ME(n,t,u,i,r),Uc(e)&&function fne(n,e){const t=$r(e,n);16&t[Ee]||(t[Ee]|=64)}(t,e.index)):3&e.type&&(i=function hne(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=s?s(r,e.value||"",i):r,o.setProperty(c,i,r))}function EE(n,e,t,i){if($F()){const r=null===i?null:{"":-1},o=function yne(n,e){const t=n.directiveRegistry;let i=null,r=null;if(t)for(let o=0;o<t.length;o++){const s=t[o];if(MF(e,s.selectors,!1))if(i||(i=[]),Ao(s))if(null!==s.findHostDirectiveDefs){const a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),i.unshift(...a,s),IE(n,e,a.length)}else i.unshift(s),IE(n,e,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return null===i?null:[i,r]}(n,t);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&Q3(n,e,t,s,r,a),r&&function vne(n,e,t){if(e){const i=n.localNames=[];for(let r=0;r<e.length;r+=2){const o=t[e[r+1]];if(null==o)throw new z(-301,!1);i.push(e[r],o)}}}(t,i,r)}t.mergedAttrs=ef(t.mergedAttrs,t.attrs)}function Q3(n,e,t,i,r,o){for(let l=0;l<i.length;l++)KC(W_(t,e),n,i[l].type);!function xne(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,i.length);for(let l=0;l<i.length;l++){const u=i[l];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,c=Df(n,e,i.length,null);for(let l=0;l<i.length;l++){const u=i[l];t.mergedAttrs=ef(t.mergedAttrs,u.hostAttrs),Cne(n,t,e,c,u),wne(c,u,r),null!==u.contentQueries&&(t.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(t.flags|=64);const d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),c++}!function dne(n,e,t){const r=e.directiveEnd,o=n.data,s=e.attrs,a=[];let c=null,l=null;for(let u=e.directiveStart;u<r;u++){const d=o[u],h=t?t.get(d):null,_=h?h.outputs:null;c=W3(0,d.inputs,u,c,h?h.inputs:null),l=W3(1,d.outputs,u,l,_);const C=null===c||null===s||DF(e)?null:Tne(c,u,s);a.push(C)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}(n,t,o)}function Y3(n,e,t){const i=t.directiveStart,r=t.directiveEnd,o=t.index,s=function mJ(){return Pe.lFrame.currentDirectiveIndex}();try{jc(o);for(let a=i;a<r;a++){const c=n.data[a],l=e[a];eC(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&bne(c,l)}}finally{jc(-1),eC(s)}}function bne(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function IE(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function wne(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;Ao(e)&&(t[""]=n)}}function Cne(n,e,t,i,r){n.data[i]=r;const o=r.factory||(r.factory=$c(r.type)),s=new yf(o,Ao(r),E);n.blueprint[i]=s,t[i]=s,function gne(n,e,t,i,r){const o=r.hostBindings;if(o){let s=n.hostBindingOpCodes;null===s&&(s=n.hostBindingOpCodes=[]);const a=~e.index;(function mne(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(s)!=a&&s.push(a),s.push(t,i,o)}}(n,e,i,Df(n,t,r.hostVars,Ge),r)}function ts(n,e,t,i,r,o){const s=hr(n,e);!function TE(n,e,t,i,r,o,s){if(null==o)n.removeAttribute(e,r,t);else{const a=null==s?ze(o):s(o,i||"",r);n.setAttribute(e,r,a,t)}}(e[Fe],s,o,n.value,t,i,r)}function Ine(n,e,t,i,r,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;)H3(i,t,s[a++],s[a++],s[a++],s[a++])}function Tne(n,e,t){let i=null,r=0;for(;r<t.length;){const o=t[r];if(0!==o)if(5!==o){if("number"==typeof o)break;if(n.hasOwnProperty(o)){null===i&&(i=[]);const s=n[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){i.push(o,s[a+1],s[a+2],t[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function X3(n,e,t,i){return[n,!0,0,e,null,i,null,t,null,null]}function Z3(n,e){const t=n.contentQueries;if(null!==t){const i=U(null);try{for(let r=0;r<t.length;r+=2){const s=t[r+1];if(-1!==s){const a=n.data[s];__(t[r]),a.contentQueries(2,e[s],s)}}}finally{U(i)}}}function fb(n,e){return n[tf]?n[PF][Do]=e:n[tf]=e,n[PF]=e,e}function DE(n,e,t){__(0);const i=U(null);try{e(n,t)}finally{U(i)}}function J3(n){return n[pu]||(n[pu]=[])}function eV(n){return n.cleanup||(n.cleanup=[])}function tV(n,e,t){return(null===n||Ao(n))&&(t=function Wx(n){for(;Array.isArray(n);){if("object"==typeof n[zx])return n;n=n[mn]}return null}(t[e.index])),t[Fe]}function pb(n,e){const t=n[Ni],i=t?t.get(ko,null):null;i&&i.handleError(e)}function ME(n,e,t,i,r){for(let o=0;o<t.length;){const s=t[o++],a=t[o++],c=t[o++];H3(n.data[s],e[s],i,a,c,r)}}function Dne(n,e){const t=$r(e,n),i=t[oe];!function Mne(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}(i,t);const r=t[mn];null!==r&&null===t[Mo]&&(t[Mo]=MC(r,t[Ni])),AE(i,t,t[Kt])}function AE(n,e,t){iC(e);try{const i=n.viewQuery;null!==i&&DE(1,i,t);const r=n.template;null!==r&&$3(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[zs]?.finishViewCreation(n),n.staticContentQueries&&Z3(n,e),n.staticViewQueries&&DE(2,n.viewQuery,t);const o=n.components;null!==o&&function Ane(n,e){for(let t=0;t<e.length;t++)Dne(n,e[t])}(e,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[Ee]&=-5,rC()}}function zu(n,e){return!e||null===e.firstChild||x_(n)}function Af(n,e,t,i=!0){const r=e[oe];if(function Wte(n,e,t,i){const r=Vn+i,o=t.length;i>0&&(t[r-1][Do]=e),i<o-Vn?(e[Do]=t[r],iL(t,Vn+i,e)):(t.push(e),e[Do]=null),e[Ln]=t;const s=e[nf];null!==s&&t!==s&&function Kte(n,e){const t=n[_u];e[xn]!==e[Ln][Ln][xn]&&(n[Ee]|=jx.HasTransplantedViews),null===t?n[_u]=[e]:t.push(e)}(s,e);const a=e[zs];null!==a&&a.insertView(n),Yx(e),e[Ee]|=128}(r,e,n,t),i){const s=mE(t,n),a=e[Fe],c=cb(a,n[Qo]);null!==c&&function Gte(n,e,t,i,r,o){i[mn]=r,i[Yi]=e,db(n,i,t,1,r,o)}(r,n[Yi],a,e,c,s)}const o=e[Mo];null!==o&&null!==o.firstChild&&(o.firstChild=null)}function Sf(n,e,t,i,r=!1){for(;null!==t;){const o=e[t.index];null!==o&&i.push(Bt(o)),Zi(o)&&iV(o,i);const s=t.type;if(8&s)Sf(n,e,t.child,i);else if(32&s){const a=dE(t,e);let c;for(;c=a();)i.push(c)}else if(16&s){const a=L3(e,t);if(Array.isArray(a))i.push(...a);else{const c=zc(e[xn]);Sf(c[oe],c,a,i,!0)}}t=r?t.projectionNext:t.next}return i}function iV(n,e){for(let t=Vn;t<n.length;t++){const i=n[t],r=i[oe].firstChild;null!==r&&Sf(i[oe],i,r,e)}n[Qo]!==n[mn]&&e.push(n[Qo])}let rV=[];const Pne={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{lf(n.lView)},consumerOnSignalRead(){this.lView[Bc]=this}};function oV(n){return aV(n[tf])}function sV(n){return aV(n[Do])}function aV(n){for(;null!==n&&!Zi(n);)n=n[Do];return n}function gb(n,e=!0,t=0){const i=n[Us],r=i.rendererFactory;r.begin?.();try{!function Fne(n,e){kE(n,e);let t=0;for(;Qx(n);){if(100===t)throw new z(103,!1);t++,kE(n,1)}}(n,t)}catch(s){throw e&&pb(n,s),s}finally{r.end?.(),i.inlineEffectRunner?.flush()}}function Lne(n,e,t,i){const r=e[Ee];if(256==(256&r))return;e[Us].inlineEffectRunner?.flush(),iC(e);let s=null,a=null;(function Vne(n){return 2!==n.type})(n)&&(a=function Sne(n){return n[Bc]??function kne(n){const e=rV.pop()??Object.create(Pne);return e.lView=n,e}(n)}(e),s=function pe(n){return n&&(n.nextProducerIndex=0),U(n)}(a));try{zF(e),function WF(n){return Pe.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&$3(n,e,t,2,i);const c=3==(3&r);if(c){const d=n.preOrderCheckHooks;null!==d&&$_(e,d,null)}else{const d=n.preOrderHooks;null!==d&&G_(e,d,0,null),HC(e,0)}if(function Bne(n){for(let e=oV(n);null!==e;e=sV(e)){if(!(e[Ee]&jx.HasTransplantedViews))continue;const t=e[_u];for(let i=0;i<t.length;i++){rJ(t[i])}}}(e),lV(e,0),null!==n.contentQueries&&Z3(n,e),c){const d=n.contentCheckHooks;null!==d&&$_(e,d)}else{const d=n.contentHooks;null!==d&&G_(e,d,1),HC(e,1)}!function ine(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let i=0;i<t.length;i++){const r=t[i];if(r<0)jc(~r);else{const o=r,s=t[++i],a=t[++i];gJ(s,o),a(2,e[o])}}}finally{jc(-1)}}(n,e);const l=n.components;null!==l&&dV(e,l,0);const u=n.viewQuery;if(null!==u&&DE(2,u,i),c){const d=n.viewCheckHooks;null!==d&&$_(e,d)}else{const d=n.viewHooks;null!==d&&G_(e,d,2),HC(e,2)}if(!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[f_]){for(const d of e[f_])d();e[f_]=null}e[Ee]&=-73}catch(c){throw lf(e),c}finally{null!==a&&(function Gt(n,e){if(U(e),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(Ls(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Fc(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}(a,s),function One(n){n.lView[Bc]!==n&&(n.lView=null,rV.push(n))}(a)),rC()}}function lV(n,e){for(let t=oV(n);null!==t;t=sV(t))for(let i=Vn;i<t.length;i++)uV(t[i],e)}function Une(n,e,t){uV($r(e,n),t)}function uV(n,e){Kx(n)&&kE(n,e)}function kE(n,e){const i=n[oe],r=n[Ee],o=n[Bc];let s=!!(0===e&&16&r);if(s||=!!(64&r&&0===e),s||=!!(1024&r),s||=!(!o?.dirty||!ur(o)),o&&(o.dirty=!1),n[Ee]&=-9217,s)Lne(i,n,i.template,n[Kt]);else if(8192&r){lV(n,1);const a=i.components;null!==a&&dV(n,a,1)}}function dV(n,e,t){for(let i=0;i<e.length;i++)Une(n,e[i],t)}function kf(n){for(n[Us].changeDetectionScheduler?.notify();n;){n[Ee]|=64;const e=zc(n);if($x(n)&&!e)return n;n=e}return null}class Of{get rootNodes(){const e=this._lView,t=e[oe];return Sf(t,e,t.firstChild,[])}constructor(e,t,i=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Kt]}set context(e){this._lView[Kt]=e}get destroyed(){return 256==(256&this._lView[Ee])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Ln];if(Zi(e)){const t=e[8],i=t?t.indexOf(this):-1;i>-1&&(If(e,i),v_(t,i))}this._attachedToViewContainer=!1}ab(this._lView[oe],this._lView)}onDestroy(e){m_(this._lView,e)}markForCheck(){kf(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ee]&=-129}reattach(){Yx(this._lView),this._lView[Ee]|=128}detectChanges(){this._lView[Ee]|=1024,gb(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new z(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,M3(this._lView[oe],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new z(902,!1);this._appRef=e,Yx(this._lView)}}let ns=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=Hne}return n})();const zne=ns,jne=class extends zne{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,i){const r=function Mf(n,e,t,i){const r=e.tView,a=hb(n,r,t,4096&n[Ee]?4096:16,null,e,null,null,null,i?.injector??null,i?.dehydratedView??null);a[nf]=n[e.index];const l=n[zs];return null!==l&&(a[zs]=l.createEmbeddedView(r)),AE(r,a,t),a}(this._declarationLView,this._declarationTContainer,e,{injector:t,dehydratedView:i});return new Of(r)}};function Hne(){return mb(Nt(),W())}function mb(n,e){return 4&n.type?new jne(e,n,vu(n,e)):null}class LE{}class die{}class bV{}class fie{resolveComponentFactory(e){throw function hie(n){const e=Error(`No component factory found for ${ci(n)}.`);return e.ngComponent=n,e}(e)}}let Hu=(()=>{class n{static#e=this.NULL=new fie}return n})();class VE{}let Oo=(()=>{class n{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function pie(){const n=W(),t=$r(Nt().index,n);return(Xi(t)?t:n)[Fe]}()}return n})(),gie=(()=>{class n{static#e=this.\u0275prov=re({token:n,providedIn:"root",factory:()=>null})}return n})();const BE={};const wV=new Set;function is(n){wV.has(n)||(wV.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function xV(n){return function vV(n){return"function"==typeof n&&void 0!==n[R]}(n)&&"function"==typeof n.set}function wb(n){return!!function UE(n){return null!==n&&("function"==typeof n||"object"==typeof n)}(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}class EV{constructor(){}supports(e){return wb(e)}create(e){return new wie(e)}}const vie=(n,e)=>e;class wie{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||vie}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,r=0,o=null;for(;t||i;){const s=!i||t&&t.currentIndex<TV(i,r,o)?t:i,a=TV(s,r,o),c=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(t=t._next,null==s.previousIndex)r++;else{o||(o=[]);const l=a-r,u=c-r;if(l!=u){for(let h=0;h<l;h++){const f=h<o.length?o[h]:o[h]=0,_=f+h;u<=_&&_<l&&(o[h]=f+1)}o[s.previousIndex]=u-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!wb(e))throw new z(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let r,o,s,t=this._itHead,i=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==t&&Object.is(t.trackById,s)?(i&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,s,a),i=!0),t=t._next}else r=0,function yie(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let i;for(;!(i=t.next()).done;)e(i.value)}}(e,a=>{s=this._trackByFn(r,a),null!==t&&Object.is(t.trackById,s)?(i&&(t=this._verifyReinsertion(t,a,s,r)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,r),i=!0),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,r){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,r)):e=this._addAfter(new xie(t,i),o,r),e}_verifyReinsertion(e,t,i,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?e=this._reinsertAfter(o,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,o=e._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new IV),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,i=e._next;return null===t?this._itHead=i:t._next=i,null===i?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new IV),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class xie{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Cie{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===t||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){const t=e._prevDup,i=e._nextDup;return null===t?this._head=i:t._nextDup=i,null===i?this._tail=t:i._prevDup=t,null===this._head}}class IV{constructor(){this.map=new Map}put(e){const t=e.trackById;let i=this.map.get(t);i||(i=new Cie,this.map.set(t,i)),i.add(e)}get(e,t){const r=this.map.get(e);return r?r.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function TV(n,e,t){const i=n.previousIndex;if(null===i)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+e+r}function MV(){return new zE([new EV])}let zE=(()=>{class n{static#e=this.\u0275prov=re({token:n,providedIn:"root",factory:MV});constructor(t){this.factories=t}static create(t,i){if(null!=i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||MV()),deps:[[n,new _f,new Xt]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(null!=i)return i;throw new z(901,!1)}}return n})(),$u=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=Die}return n})();function Die(n){return function Mie(n,e,t){if(Uc(n)&&!t){const i=$r(n.index,e);return new Of(i,i)}return 47&n.type?new Of(e[xn],e):null}(Nt(),W(),16==(16&n))}let Cb=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=Oie;static#t=this.__NG_ENV_ID__=t=>t}return n})();class kie extends Cb{constructor(e){super(),this._lView=e}onDestroy(e){return m_(this._lView,e),()=>function Xx(n,e){if(null===n[Da])return;const t=n[Da].indexOf(e);-1!==t&&n[Da].splice(t,1)}(this._lView,e)}}function Oie(){return new kie(W())}function SV(...n){}class Te{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Xe(!1),this.onMicrotaskEmpty=new Xe(!1),this.onStable=new Xe(!1),this.onError=new Xe(!1),typeof Zone>"u")throw new z(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&t,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function Vie(){const n="function"==typeof Ot.requestAnimationFrame;let e=Ot[n?"requestAnimationFrame":"setTimeout"],t=Ot[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function zie(n){const e=()=>{!function Uie(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Ot,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,HE(n),n.isCheckStableRunning=!0,jE(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),HE(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,i,r,o,s,a)=>{if(function jie(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return t.invokeTask(r,o,s,a);try{return kV(n),t.invokeTask(r,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&e(),OV(n)}},onInvoke:(t,i,r,o,s,a,c)=>{try{return kV(n),t.invoke(r,o,s,a,c)}finally{n.shouldCoalesceRunChangeDetection&&e(),OV(n)}},onHasTask:(t,i,r,o)=>{t.hasTask(r,o),i===r&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,HE(n),jE(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,i,r,o)=>(t.handleError(r,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Te.isInAngularZone())throw new z(909,!1)}static assertNotInAngularZone(){if(Te.isInAngularZone())throw new z(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,e,Bie,SV,SV);try{return o.runTask(s,t,i)}finally{o.cancelTask(s)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}}const Bie={};function jE(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function HE(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function kV(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function OV(n){n._nesting--,jE(n)}class PV{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Xe,this.onMicrotaskEmpty=new Xe,this.onStable=new Xe,this.onError=new Xe}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}}var Xc=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(Xc||{});const RV={destroy(){}};function NV(n,e){!e&&function z_(n){if(!hL()&&!function UJ(){return Cu}())throw new z(-203,!1)}();const t=e?.injector??J(jt);if(!function ka(n){return"browser"===(n??J(jt)).get(so)}(t))return RV;is("NgAfterNextRender");const i=t.get(Lf),r=i.handler??=new LV,o=e?.phase??Xc.MixedReadWrite,s=()=>{r.unregister(c),a()},a=t.get(Cb).onDestroy(s),c=new FV(t,o,()=>{s(),n()});return r.register(c),{destroy:s}}class FV{constructor(e,t,i){this.phase=t,this.callbackFn=i,this.zone=e.get(Te),this.errorHandler=e.get(ko,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}}class LV{constructor(){this.executingCallbacks=!1,this.buckets={[Xc.EarlyRead]:new Set,[Xc.Write]:new Set,[Xc.MixedReadWrite]:new Set,[Xc.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(const e of Object.values(this.buckets))for(const t of e)t.invoke();this.executingCallbacks=!1;for(const e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(const e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}}let Lf=(()=>{class n{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const t=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const i of t)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=re({token:n,providedIn:"root",factory:()=>new n})}return n})();function Ib(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?r=Lx(r,a):2==o&&(i=Lx(i,a+": "+e[++s]+";"))}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}class UV extends Hu{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=tt(e);return new Uf(t,this.ngModule)}}function zV(n){const e=[];for(const t in n){if(!n.hasOwnProperty(t))continue;const i=n[t];void 0!==i&&e.push({propName:Array.isArray(i)?i[0]:i,templateName:t})}return e}class Kie{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){i=S_(i);const r=this.injector.get(e,BE,i);return r!==BE||t===BE?r:this.parentInjector.get(e,t,i)}}class Uf extends bV{get inputs(){const e=this.componentDef,t=e.inputTransforms,i=zV(e.inputs);if(null!==t)for(const r of i)t.hasOwnProperty(r.propName)&&(r.transform=t[r.propName]);return i}get outputs(){return zV(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function GZ(n){return n.map($Z).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,i,r){let o=(r=r||this.ngModule)instanceof qr?r:r?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new Kie(e,o):e,a=s.get(VE,null);if(null===a)throw new z(407,!1);const d={rendererFactory:a,sanitizer:s.get(gie,null),inlineEffectRunner:null,afterRenderEventManager:s.get(Lf,null),changeDetectionScheduler:s.get(LE,null)},h=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",_=i?function one(n,e,t,i){const o=i.get(JL,!1)||t===Io.ShadowDom,s=n.selectRootElement(e,o);return function sne(n){q3(n)}(s),s}(h,i,this.componentDef.encapsulation,s):sb(h,f,function Wie(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(f));let C=512;this.componentDef.signals?C|=4096:this.componentDef.onPush||(C|=16);let I=null;null!==_&&(I=MC(_,s,!0));const O=CE(0,null,null,1,0,null,null,null,null,null,null),M=hb(null,O,null,C,null,null,d,h,s,null,I);let B,Q;iC(M);try{const ae=this.componentDef;let fe,$e=null;ae.findHostDirectiveDefs?(fe=[],$e=new Map,ae.findHostDirectiveDefs(ae,fe,$e),fe.push(ae)):fe=[ae];const gt=function Yie(n,e){const t=n[oe],i=Ue;return n[i]=e,Uu(t,i,2,"#host",null)}(M,_),ai=function Xie(n,e,t,i,r,o,s){const a=r[oe];!function Zie(n,e,t,i){for(const r of n)e.mergedAttrs=ef(e.mergedAttrs,r.hostAttrs);null!==e.mergedAttrs&&(Ib(e,e.mergedAttrs,!0),null!==t&&z3(i,t,e))}(i,n,e,s);let c=null;null!==e&&(c=MC(e,r[Ni]));const l=o.rendererFactory.createRenderer(e,t);let u=16;t.signals?u=4096:t.onPush&&(u=64);const d=hb(r,G3(t),null,u,r[n.index],n,o,l,null,null,c);return a.firstCreatePass&&IE(a,n,i.length-1),fb(r,d),r[n.index]=d}(gt,_,ae,fe,M,d,h);Q=cf(O,Ue),_&&function ere(n,e,t,i){if(i)Ux(n,t,["ng-version","17.2.3"]);else{const{attrs:r,classes:o}=function qZ(n){const e=[],t=[];let i=1,r=2;for(;i<n.length;){let o=n[i];if("string"==typeof o)2===r?""!==o&&e.push(o,n[++i]):8===r&&t.push(o);else{if(!To(r))break;r=o}i++}return{attrs:e,classes:t}}(e.selectors[0]);r&&Ux(n,t,r),o&&o.length>0&&U3(n,t,o.join(" "))}}(h,ae,_,i),void 0!==t&&function tre(n,e,t){const i=n.projection=[];for(let r=0;r<e.length;r++){const o=t[r];i.push(null!=o?Array.from(o):null)}}(Q,this.ngContentSelectors,t),B=function Jie(n,e,t,i,r,o){const s=Nt(),a=r[oe],c=hr(s,r);Q3(a,r,s,t,null,i);for(let u=0;u<t.length;u++)er(Kc(r,a,s.directiveStart+u,s),r);Y3(a,r,s),c&&er(c,r);const l=Kc(r,a,s.directiveStart+s.componentOffset,s);if(n[Kt]=r[Kt]=l,null!==o)for(const u of o)u(l,e);return vE(a,s,r),l}(ai,ae,fe,$e,M,[nre]),AE(O,M,null)}finally{rC()}return new Qie(this.componentType,B,vu(Q,M),M,Q)}}class Qie extends die{constructor(e,t,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new Of(r,void 0,!1),this.componentType=e}setInput(e,t){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;const o=this._rootLView;ME(o[oe],o,r,e,t),this.previousInputValues.set(e,t),kf($r(this._tNode.index,o))}}get injector(){return new di(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function nre(){const n=Nt();H_(W()[oe],n)}let co=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=ire}return n})();function ire(){return $V(Nt(),W())}const rre=co,jV=class extends rre{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return vu(this._hostTNode,this._hostLView)}get injector(){return new di(this._hostTNode,this._hostLView)}get parentInjector(){const e=K_(this._hostTNode,this._hostLView);if(GC(e)){const t=wf(e,this._hostLView),i=vf(e);return new di(t[oe].data[i+8],t)}return new di(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=HV(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-Vn}createEmbeddedView(e,t,i){let r,o;"number"==typeof i?r=i:null!=i&&(r=i.index,o=i.injector);const a=e.createEmbeddedViewImpl(t||{},o,null);return this.insertImpl(a,r,zu(this._hostTNode,null)),a}createComponent(e,t,i,r,o){const s=e&&!function bf(n){return"function"==typeof n}(e);let a;if(s)a=t;else{const _=t||{};a=_.index,i=_.injector,r=_.projectableNodes,o=_.environmentInjector||_.ngModuleRef}const c=s?e:new Uf(tt(e)),l=i||this.parentInjector;if(!o&&null==c.ngModule){const C=(s?l:this.parentInjector).get(qr,null);C&&(o=C)}tt(c.componentType??{});const f=c.create(l,r,null,o);return this.insertImpl(f.hostView,a,zu(this._hostTNode,null)),f}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,i){const r=e._lView;if(function iJ(n){return Zi(n[Ln])}(r)){const a=this.indexOf(e);if(-1!==a)this.detach(a);else{const c=r[Ln],l=new jV(c,c[Yi],c[Ln]);l.detach(l.indexOf(e))}}const o=this._adjustIndex(t),s=this._lContainer;return Af(s,r,o,i),e.attachToViewContainerRef(),iL(WE(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=HV(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),i=If(this._lContainer,t);i&&(v_(WE(this._lContainer),t),ab(i[oe],i))}detach(e){const t=this._adjustIndex(e,-1),i=If(this._lContainer,t);return i&&null!=v_(WE(this._lContainer),t)?new Of(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function HV(n){return n[8]}function WE(n){return n[8]||(n[8]=[])}function $V(n,e){let t;const i=e[n.index];return Zi(i)?t=i:(t=X3(i,e,null,n),e[n.index]=t,fb(e,t)),GV(t,e,n,i),new jV(t,n,e)}let GV=function WV(n,e,t,i){if(n[Qo])return;let r;r=8&t.type?Bt(i):function ore(n,e){const t=n[Fe],i=t.createComment(""),r=hr(e,n);return Yc(t,cb(t,r),i,function Zte(n,e){return n.nextSibling(e)}(t,r),!1),i}(e,t),n[Qo]=r},KE=()=>!1;class QE{constructor(e){this.queryList=e,this.matches=null}clone(){return new QE(this.queryList)}setDirty(){this.queryList.setDirty()}}class YE{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const i=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let o=0;o<i;o++){const s=t.getByIndex(o);r.push(this.queries[s.indexInDeclarationView].clone())}return new YE(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==t1(e,t).matches&&this.queries[t].setDirty()}}class KV{constructor(e,t,i=null){this.flags=t,this.read=i,this.predicate="string"==typeof e?function fre(n){return n.split(",").map(e=>e.trim())}(e):e}}class XE{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){const r=null!==t?t.length:0,o=this.getByIndex(i).embeddedTView(e,r);o&&(o.indexInDeclarationView=i,null!==t?t.push(o):t=[o])}return null!==t?new XE(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class ZE{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new ZE(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let i=e.parent;for(;null!==i&&8&i.type&&i.index!==t;)i=i.parent;return t===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];this.matchTNodeWithReadOption(e,t,lre(t,o)),this.matchTNodeWithReadOption(e,t,Q_(t,e,o,!1,!1))}else i===ns?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Q_(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===an||r===co||r===ns&&4&t.type)this.addMatch(t.index,-2);else{const o=Q_(t,e,r,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,i)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function lre(n,e){const t=n.localNames;if(null!==t)for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1];return null}function dre(n,e,t,i){return-1===t?function ure(n,e){return 11&n.type?vu(n,e):4&n.type?mb(n,e):null}(e,n):-2===t?function hre(n,e,t){return t===an?vu(e,n):t===ns?mb(e,n):t===co?$V(e,n):void 0}(n,e,i):Kc(n,n[oe],t,e)}function QV(n,e,t,i){const r=e[zs].queries[i];if(null===r.matches){const o=n.data,s=t.matches,a=[];for(let c=0;null!==s&&c<s.length;c+=2){const l=s[c];a.push(l<0?null:dre(e,o[l],s[c+1],t.metadata.read))}r.matches=a}return r.matches}function JE(n,e,t,i){const r=n.queries.getByIndex(t),o=r.matches;if(null!==o){const s=QV(n,e,r,t);for(let a=0;a<o.length;a+=2){const c=o[a];if(c>0)i.push(s[a/2]);else{const l=o[a+1],u=e[-c];for(let d=Vn;d<u.length;d++){const h=u[d];h[nf]===h[Ln]&&JE(h[oe],h,l,i)}if(null!==u[_u]){const d=u[_u];for(let h=0;h<d.length;h++){const f=d[h];JE(f[oe],f,l,i)}}}}}return i}function YV(n,e,t){const i=new cC(4==(4&t));return function lne(n,e,t,i){const r=J3(e);r.push(t),n.firstCreatePass&&eV(n).push(i,r.length-1)}(n,e,i,i.destroy),(e[zs]??=new YE).queries.push(new QE(i))-1}function JV(n,e,t){null===n.queries&&(n.queries=new XE),n.queries.track(new ZE(e,t))}function t1(n,e){return n.queries.getByIndex(e)}function e4(n,e){const t=n[oe],i=t1(t,e);return i.crossesNgTemplate?JE(t,n,e,[]):QV(t,n,i,e)}function wt(n){let e=function h4(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const i=[n];for(;e;){let r;if(Ao(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new z(903,!1);r=e.\u0275dir}if(r){if(t){i.push(r);const s=n;s.inputs=Db(n.inputs),s.inputTransforms=Db(n.inputTransforms),s.declaredInputs=Db(n.declaredInputs),s.outputs=Db(n.outputs);const a=r.hostBindings;a&&Mre(n,a);const c=r.viewQuery,l=r.contentQueries;if(c&&Tre(n,c),l&&Dre(n,l),Ere(n,r),NZ(n.outputs,r.outputs),Ao(r)&&r.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(r.data.animation)}}const o=r.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===wt&&(t=!1)}}e=Object.getPrototypeOf(e)}!function Ire(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=ef(r.hostAttrs,t=ef(t,r.hostAttrs))}}(i)}function Ere(n,e){for(const t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;const i=e.inputs[t];if(void 0!==i&&(n.inputs[t]=i,n.declaredInputs[t]=e.declaredInputs[t],null!==e.inputTransforms)){const r=Array.isArray(i)?i[0]:i;if(!e.inputTransforms.hasOwnProperty(r))continue;n.inputTransforms??={},n.inputTransforms[r]=e.inputTransforms[r]}}}function Db(n){return n===Ko?{}:n===Et?[]:n}function Tre(n,e){const t=n.viewQuery;n.viewQuery=t?(i,r)=>{e(i,r),t(i,r)}:e}function Dre(n,e){const t=n.contentQueries;n.contentQueries=t?(i,r,o)=>{e(i,r,o),t(i,r,o)}:e}function Mre(n,e){const t=n.hostBindings;n.hostBindings=t?(i,r)=>{e(i,r),t(i,r)}:e}function r1(n){const e=n.inputConfig,t={};for(const i in e)if(e.hasOwnProperty(i)){const r=e[i];Array.isArray(r)&&r[3]&&(t[i]=r[3])}n.inputTransforms=t}class Zc{}class m4{}class o1 extends Zc{constructor(e,t,i){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new UV(this);const r=Qi(e);this._bootstrapComponents=Kr(r.bootstrap),this._r3Injector=QL(e,t,[{provide:Zc,useValue:this},{provide:Hu,useValue:this.componentFactoryResolver},...i],ci(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class s1 extends m4{constructor(e){super(),this.moduleType=e}create(e){return new o1(this.moduleType,e,[])}}class _4 extends Zc{constructor(e){super(),this.componentFactoryResolver=new UV(this),this.instance=null;const t=new ku([...e.providers,{provide:Zc,useValue:this},{provide:Hu,useValue:this.componentFactoryResolver}],e.parent||U_(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Mb(n,e,t=null){return new _4({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}let jf=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new dr(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Bn(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Zn(n,e,t,i,r,o,s,a){const c=W(),l=lt(),u=n+Ue,d=l.firstCreatePass?function Vre(n,e,t,i,r,o,s,a,c){const l=e.consts,u=Uu(e,n,4,s||null,Yo(l,a));EE(e,t,u,Yo(l,c)),H_(e,u);const d=u.tView=CE(2,u,i,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,l,c,e,t,i,r,o,s):l.data[u];Xo(d,!1);const h=b4(l,c,d,n);y_()&&lb(l,c,h,d),er(h,c);const f=X3(h,c,h,d);return c[u]=f,fb(c,f),function qV(n,e,t){return KE(n,e,t)}(f,d,c),g_(d)&&wE(l,c,d),null!=s&&xE(c,d,a),Zn}let b4=function y4(n,e,t,i){return Ma(!0),e[Fe].createComment("")};function kr(n,e,t,i){const r=W();return Bn(r,So(),e)&&(lt(),ts(Qt(),r,n,e,t,i)),kr}function Fb(n,e){return n<<17|e<<2}function Fa(n){return n>>17&32767}function m1(n){return 2|n}function tl(n){return(131068&n)>>2}function _1(n,e){return-131069&n|e<<2}function b1(n){return 1|n}function Y4(n,e,t,i){const r=n[t+1],o=null===e;let s=i?Fa(r):tl(r),a=!1;for(;0!==s&&(!1===a||o);){const l=n[s+1];xoe(n[s],e)&&(a=!0,n[s+1]=i?b1(l):m1(l)),s=i?Fa(l):tl(l)}a&&(n[t+1]=i?m1(r):b1(r))}function xoe(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&xu(n,e)>=0}const hi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function X4(n){return n.substring(hi.key,hi.keyEnd)}function Z4(n,e){const t=hi.textEnd;return t===e?-1:(e=hi.keyEnd=function Toe(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,hi.key=e,t),ad(n,e,t))}function ad(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function Jn(n,e,t){const i=W();return Bn(i,So(),e)&&Sr(lt(),Qt(),i,n,e,i[Fe],t,!1),Jn}function y1(n,e,t,i,r){const s=r?"class":"style";ME(n,t,e.inputs[s],s,i)}function uo(n,e){return function Po(n,e,t,i){const r=W(),o=lt(),s=Hs(2);o.firstUpdatePass&&s5(o,n,s,i),e!==Ge&&Bn(r,s,e)&&c5(o,o.data[Ji()],r,r[Fe],n,r[s+1]=function Loe(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=ci(Wr(n)))),n}(e,t),i,s)}(n,e,null,!0),uo}function Lb(n){!function Ro(n,e,t,i){const r=lt(),o=Hs(2);r.firstUpdatePass&&s5(r,null,o,i);const s=W();if(t!==Ge&&Bn(s,o,t)){const a=r.data[Ji()];if(u5(a,i)&&!o5(r,o)){let c=i?a.classesWithoutHost:a.stylesWithoutHost;null!==c&&(t=Lx(c,t||"")),y1(r,a,s,t,i)}else!function Foe(n,e,t,i,r,o,s,a){r===Ge&&(r=Et);let c=0,l=0,u=0<r.length?r[0]:null,d=0<o.length?o[0]:null;for(;null!==u||null!==d;){const h=c<r.length?r[c+1]:void 0,f=l<o.length?o[l+1]:void 0;let C,_=null;u===d?(c+=2,l+=2,h!==f&&(_=d,C=f)):null===d||null!==u&&u<d?(c+=2,_=u):(l+=2,_=d,C=f),null!==_&&c5(n,e,t,i,_,C,s,a),u=c<r.length?r[c]:null,d=l<o.length?o[l]:null}}(r,a,s,s[Fe],s[o+1],s[o+1]=function Roe(n,e,t){if(null==t||""===t)return Et;const i=[],r=Wr(t);if(Array.isArray(r))for(let o=0;o<r.length;o++)n(i,r[o],!0);else if("object"==typeof r)for(const o in r)r.hasOwnProperty(o)&&n(i,o,r[o]);else"string"==typeof r&&e(i,r);return i}(n,e,t),i,o)}}(Noe,ss,n,!0)}function ss(n,e){for(let t=function Eoe(n){return function e5(n){hi.key=0,hi.keyEnd=0,hi.value=0,hi.valueEnd=0,hi.textEnd=n.length}(n),Z4(n,ad(n,0,hi.textEnd))}(e);t>=0;t=Z4(e,t))Gr(n,X4(e),!0)}function o5(n,e){return e>=n.expandoStartIndex}function s5(n,e,t,i){const r=n.data;if(null===r[t+1]){const o=r[Ji()],s=o5(n,t);u5(o,i)&&null===e&&!s&&(e=!1),e=function Soe(n,e,t,i){const r=tC(n);let o=i?e.residualClasses:e.residualStyles;if(null===r)0===(i?e.classBindings:e.styleBindings)&&(t=Wf(t=v1(null,n,e,t,i),e.attrs,i),o=null);else{const s=e.directiveStylingLast;if(-1===s||n[s]!==r)if(t=v1(r,n,e,t,i),null===o){let c=function koe(n,e,t){const i=t?e.classBindings:e.styleBindings;if(0!==tl(i))return n[Fa(i)]}(n,e,i);void 0!==c&&Array.isArray(c)&&(c=v1(null,n,e,c[1],i),c=Wf(c,e.attrs,i),function Ooe(n,e,t,i){n[Fa(t?e.classBindings:e.styleBindings)]=i}(n,e,i,c))}else o=function Poe(n,e,t){let i;const r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++)i=Wf(i,n[o].hostAttrs,t);return Wf(i,e.attrs,t)}(n,e,i)}return void 0!==o&&(i?e.residualClasses=o:e.residualStyles=o),t}(r,o,e,i),function voe(n,e,t,i,r,o){let s=o?e.classBindings:e.styleBindings,a=Fa(s),c=tl(s);n[i]=t;let u,l=!1;if(Array.isArray(t)?(u=t[1],(null===u||xu(t,u)>0)&&(l=!0)):u=t,r)if(0!==c){const h=Fa(n[a+1]);n[i+1]=Fb(h,a),0!==h&&(n[h+1]=_1(n[h+1],i)),n[a+1]=function boe(n,e){return 131071&n|e<<17}(n[a+1],i)}else n[i+1]=Fb(a,0),0!==a&&(n[a+1]=_1(n[a+1],i)),a=i;else n[i+1]=Fb(c,0),0===a?a=i:n[c+1]=_1(n[c+1],i),c=i;l&&(n[i+1]=m1(n[i+1])),Y4(n,u,i,!0),Y4(n,u,i,!1),function woe(n,e,t,i,r){const o=r?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof e&&xu(o,e)>=0&&(t[i+1]=b1(t[i+1]))}(e,u,n,i,o),s=Fb(a,c),o?e.classBindings=s:e.styleBindings=s}(r,o,e,t,s,i)}}function v1(n,e,t,i,r){let o=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(o=e[a],i=Wf(i,o.hostAttrs,r),o!==n);)a++;return null!==n&&(t.directiveStylingLast=a),i}function Wf(n,e,t){const i=t?1:2;let r=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?r=s:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Gr(n,s,!!t||e[++o]))}return void 0===n?null:n}function Noe(n,e,t){const i=String(e);""!==i&&!i.includes(" ")&&Gr(n,i,t)}function c5(n,e,t,i,r,o,s,a){if(!(3&e.type))return;const c=n.data,l=c[a+1],u=function yoe(n){return 1==(1&n)}(l)?l5(c,e,t,r,tl(l),s):void 0;Vb(u)||(Vb(o)||function _oe(n){return 2==(2&n)}(l)&&(o=l5(c,null,t,r,a,s)),function tne(n,e,t,i,r){if(e)r?n.addClass(t,i):n.removeClass(t,i);else{let o=-1===i.indexOf("-")?void 0:Oa.DashCase;null==r?n.removeStyle(t,i,o):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=Oa.Important),n.setStyle(t,i,r,o))}}(i,s,af(Ji(),t),r,o))}function l5(n,e,t,i,r,o){const s=null===e;let a;for(;r>0;){const c=n[r],l=Array.isArray(c),u=l?c[1]:c,d=null===u;let h=t[r+1];h===Ge&&(h=d?Et:void 0);let f=d?aC(h,i):u===i?h:void 0;if(l&&!Vb(f)&&(f=aC(c,i)),Vb(f)&&(a=f,s))return a;const _=n[r+1];r=s?Fa(_):tl(_)}if(null!==e){let c=o?e.residualClasses:e.residualStyles;null!=c&&(a=aC(c,i))}return a}function Vb(n){return void 0!==n}function u5(n,e){return 0!=(n.flags&(e?8:16))}function g(n,e,t,i){const r=W(),o=lt(),s=Ue+n,a=r[Fe],c=o.firstCreatePass?function sse(n,e,t,i,r,o){const s=e.consts,c=Uu(e,n,2,i,Yo(s,r));return EE(e,t,c,Yo(s,o)),null!==c.attrs&&Ib(c,c.attrs,!1),null!==c.mergedAttrs&&Ib(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(s,o,r,e,t,i):o.data[s],l=p5(o,r,c,a,e,n);r[s]=l;const u=g_(c);return Xo(c,!0),z3(a,l,c),32!=(32&c.flags)&&y_()&&lb(o,r,l,c),0===function oJ(){return Pe.lFrame.elementDepthCount}()&&er(l,r),function sJ(){Pe.lFrame.elementDepthCount++}(),u&&(wE(o,r,c),vE(o,c,r)),null!==i&&xE(r,c),g}function p(){let n=Nt();Zx()?Jx():(n=n.parent,Xo(n,!1));const e=n;(function cJ(n){return Pe.skipHydrationRootTNode===n})(e)&&function hJ(){Pe.skipHydrationRootTNode=null}(),function aJ(){Pe.lFrame.elementDepthCount--}();const t=lt();return t.firstCreatePass&&(H_(t,n),Hx(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function Aee(n){return 0!=(8&n.flags)}(e)&&y1(t,e,W(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function See(n){return 0!=(16&n.flags)}(e)&&y1(t,e,W(),e.stylesWithoutHost,!1),p}function ie(n,e,t,i){return g(n,e,t,i),p(),ie}let p5=(n,e,t,i,r,o)=>(Ma(!0),sb(i,r,function eL(){return Pe.lFrame.currentNamespace}()));function It(){return W()}function D1(n,e,t){const i=W();if(Bn(i,So(),e)){const o=lt(),s=Qt();Sr(o,s,i,n,e,tV(tC(o.data),s,i),t,!0)}return D1}const ld="en-US";let v5=ld;function ee(n,e,t,i){const r=W(),o=lt(),s=Nt();return k1(o,r,r[Fe],s,n,e,i),ee}function S1(n,e){const t=Nt(),i=W(),r=lt();return k1(r,i,tV(tC(r.data),t,i),t,n,e),S1}function k1(n,e,t,i,r,o,s){const a=g_(i),l=n.firstCreatePass&&eV(n),u=e[Kt],d=J3(e);let h=!0;if(3&i.type||s){const C=hr(i,e),I=s?s(C):C,O=d.length,M=s?Q=>s(Bt(Q[i.index])):i.index;let B=null;if(!s&&a&&(B=function cae(n,e,t,i){const r=n.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const s=r[o];if(s===t&&r[o+1]===i){const a=e[pu],c=r[o+2];return a.length>c?a[c]:null}"string"==typeof s&&(o+=2)}return null}(n,e,r,i.index)),null!==B)(B.__ngLastListenerFn__||B).__ngNextListenerFn__=o,B.__ngLastListenerFn__=o,h=!1;else{o=q5(i,e,u,o,!1);const Q=t.listen(I,r,o);d.push(o,Q),l&&l.push(r,M,O,O+1)}}else o=q5(i,e,u,o,!1);const f=i.outputs;let _;if(h&&null!==f&&(_=f[r])){const C=_.length;if(C)for(let I=0;I<C;I+=2){const ae=e[_[I]][_[I+1]].subscribe(o),fe=d.length;d.push(o,ae),l&&l.push(r,i.index,fe,"function"==typeof ae?fe+1:-(fe+1))}}}function G5(n,e,t,i){try{return Zo(6,e,t),!1!==t(i)}catch(r){return pb(n,r),!1}finally{Zo(7,e,t)}}function q5(n,e,t,i,r){return function o(s){if(s===Function)return i;kf(n.componentOffset>-1?$r(n.index,e):e);let c=G5(e,t,i,s),l=o.__ngNextListenerFn__;for(;l;)c=G5(e,t,l,s)&&c,l=l.__ngNextListenerFn__;return r&&!1===c&&s.preventDefault(),c}}function cn(n=1){return function bJ(n){return(Pe.lFrame.contextLView=function jF(n,e){for(;n>0;)e=e[gu],n--;return e}(n,Pe.lFrame.contextLView))[Kt]}(n)}function lae(n,e){let t=null;const i=function UZ(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(n);for(let r=0;r<e.length;r++){const o=e[r];if("*"!==o){if(null===i?MF(n,o,!0):HZ(i,o))return r}else t=r}return t}function il(n){const e=W()[xn][Yi];if(!e.projection){const i=e.projection=function w_(n,e){const t=[];for(let i=0;i<n;i++)t.push(e);return t}(n?n.length:1,null),r=i.slice();let o=e.child;for(;null!==o;){const s=n?lae(o,n):0;null!==s&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o),o=o.next}}}function Pr(n,e=0,t){const i=W(),r=lt(),o=Uu(r,Ue+n,16,null,t||null);null===o.projection&&(o.projection=e),Jx(),(!i[Mo]||yu())&&32!=(32&o.flags)&&function Jte(n,e,t){B3(e[Fe],0,e,t,pE(n,t,e),P3(t.parent||e[Yi],t,e))}(r,i,o)}function P1(n,e,t,i){!function ZV(n,e,t,i){const r=lt();if(r.firstCreatePass){const o=Nt();JV(r,new KV(e,t,i),o.index),function pre(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(r,n),2==(2&t)&&(r.staticContentQueries=!0)}return YV(r,W(),t)}(n,e,t,i)}function jn(n,e,t){!function XV(n,e,t){const i=lt();return i.firstCreatePass&&(JV(i,new KV(n,e,t),-1),2==(2&e)&&(i.staticViewQueries=!0)),YV(i,W(),e)}(n,e,t)}function Cn(n){const e=W(),t=lt(),i=nC();__(i+1);const r=t1(t,i);if(n.dirty&&function nJ(n){return 4==(4&n[Ee])}(e)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const o=e4(e,i);n.reset(o,nL),n.notifyOnChanges()}return!0}return!1}function En(){return function e1(n,e){return n[zs].queries[e].queryList}(W(),nC())}function In(n){return function bu(n,e){return n[e]}(function fJ(){return Pe.lFrame.contextLView}(),Ue+n)}function w(n,e=""){const t=W(),i=lt(),r=n+Ue,o=i.firstCreatePass?Uu(i,r,1,e,null):i.data[r],s=dB(i,t,o,e,n);t[r]=s,y_()&&lb(i,t,s,o),Xo(o,!1)}let dB=(n,e,t,i,r)=>(Ma(!0),function ob(n,e){return n.createText(e)}(e[Fe],i));function qe(n){return je("",n,""),qe}function je(n,e,t){const i=W(),r=function Ju(n,e,t,i){return Bn(n,So(),t)?e+ze(t)+i:Ge}(i,n,e,t);return r!==Ge&&function Gs(n,e,t){const i=af(e,n);!function D3(n,e,t){n.setValue(e,t)}(n[Fe],i,t)}(i,Ji(),r),je}function rt(n,e,t){xV(e)&&(e=e());const i=W();return Bn(i,So(),e)&&Sr(lt(),Qt(),i,n,e,i[Fe],t,!1),rt}function ut(n,e){const t=xV(n);return t&&n.set(e),t}function ot(n,e){const t=W(),i=lt(),r=Nt();return k1(i,t,t[Fe],r,n,e),ot}function R1(n,e,t,i,r){if(n=Oe(n),Array.isArray(n))for(let o=0;o<n.length;o++)R1(n[o],e,t,i,r);else{const o=lt(),s=W(),a=Nt();let c=qc(n)?n:Oe(n.provide);const l=TL(n),u=1048575&a.providerIndexes,d=a.directiveStart,h=a.providerIndexes>>20;if(qc(n)||!n.multi){const f=new yf(l,r,E),_=F1(c,e,r?u:u+h,d);-1===_?(KC(W_(a,s),o,c),N1(o,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(f),s.push(f)):(t[_]=f,s[_]=f)}else{const f=F1(c,e,u+h,d),_=F1(c,e,u,u+h),I=_>=0&&t[_];if(r&&!I||!r&&!(f>=0&&t[f])){KC(W_(a,s),o,c);const O=function Mae(n,e,t,i,r){const o=new yf(n,t,E);return o.multi=[],o.index=e,o.componentProviders=0,vB(o,r,i&&!t),o}(r?Dae:Tae,t.length,r,i,l);!r&&I&&(t[_].providerFactory=O),N1(o,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(O),s.push(O)}else N1(o,n,f>-1?f:_,vB(t[r?_:f],l,!r&&i));!r&&i&&I&&t[_].componentProviders++}}}function N1(n,e,t,i){const r=qc(e),o=function ree(n){return!!n.useClass}(e);if(r||o){const c=(o?Oe(e.useClass):e).prototype.ngOnDestroy;if(c){const l=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){const u=l.indexOf(t);-1===u?l.push(t,[i,c]):l[u+1].push(i,c)}else l.push(t,c)}}}function vB(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function F1(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function Tae(n,e,t,i){return L1(this.multi,[])}function Dae(n,e,t,i){const r=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Kc(t,t[oe],this.providerFactory.index,i);o=a.slice(0,s),L1(r,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],L1(r,o);return o}function L1(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function _n(n,e=[]){return t=>{t.providersResolver=(i,r)=>function Iae(n,e,t){const i=lt();if(i.firstCreatePass){const r=Ao(n);R1(t,i.data,i.blueprint,r,!0),R1(e,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,e)}}let Aae=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const i=RC(0,t.type),r=i.length>0?Mb([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,r)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=re({token:n,providedIn:"environment",factory:()=>new n($(qr))})}return n})();function No(n){is("NgStandalone"),n.getStandaloneInjector=e=>e.get(Aae).getOrCreateStandaloneInjector(n)}class La{constructor(e){this.full=e;const t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}}const Ece=new La("17.2.3");let QB=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();const eU=new Y(""),qb=new Y("");let q1,$1=(()=>{class n{constructor(t,i,r){this._ngZone=t,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,q1||(function Yce(n){q1=n}(r),r.addToWindow(i)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Te.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb()}});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(t)||(clearTimeout(i.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t()},i)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:r})}whenStable(t,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,i,r){return[]}static#e=this.\u0275fac=function(i){return new(i||n)($(Te),$(G1),$(qb))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac})}return n})(),G1=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){return q1?.findTestabilityInTree(this,t,i)??null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function ip(n){return!!n&&"function"==typeof n.then}function tU(n){return!!n&&"function"==typeof n.subscribe}const rp=new Y("");let W1=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i}),this.appInits=J(rp,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const r of this.appInits){const o=r();if(ip(o))t.push(o);else if(tU(o)){const s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),0===t.length&&i(),this.initialized=!0}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const K1=new Y("");function rU(n,e){return Array.isArray(e)?e.reduce(rU,n):{...n,...e}}let as=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=J(XL),this.afterRenderEffectManager=J(Lf),this.componentTypes=[],this.components=[],this.isStable=J(jf).hasPendingTasks.pipe(Ne(t=>!t)),this._injector=J(qr)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,i){const r=t instanceof bV;if(!this._injector.get(W1).done)throw!r&&function Ta(n){const e=tt(n)||li(n)||Ri(n);return null!==e&&e.standalone}(t),new z(405,!1);let s;s=r?t:this._injector.get(Hu).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const a=function Xce(n){return n.isBoundToModule}(s)?void 0:this._injector.get(Zc),l=s.create(jt.NULL,[],i||s.selector,a),u=l.location.nativeElement,d=l.injector.get(eU,null);return d?.registerApplication(u),l.onDestroy(()=>{this.detachView(l.hostView),Wb(this.components,l),d?.unregisterApplication(u)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new z(101,!1);try{this._runningTick=!0,this.detectChangesInAttachedViews()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}detectChangesInAttachedViews(){let t=0;const i=this.afterRenderEffectManager;for(;;){if(100===t)throw new z(103,!1);const r=0===t;for(let{_lView:o,notifyErrorHandler:s}of this._views)!r&&!Q1(o)||this.detectChangesInView(o,s,r);if(t++,i.executeInternalCallbacks(),!this._views.some(({_lView:o})=>Q1(o))&&(i.execute(),!this._views.some(({_lView:o})=>Q1(o))))break}}detectChangesInView(t,i,r){let o;r?(o=0,t[Ee]|=1024):o=64&t[Ee]?0:1,gb(t,i,o)}attachView(t){const i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){const i=t;Wb(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const i=this._injector.get(K1,[]);[...this._bootstrapListeners,...i].forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Wb(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new z(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Wb(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function Q1(n){return Qx(n)}class Jce{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let oU=(()=>{class n{compileModuleSync(t){return new s1(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const i=this.compileModuleSync(t),o=Kr(Qi(t).declarations).reduce((s,a)=>{const c=tt(a);return c&&s.push(new Uf(c)),s},[]);return new Jce(i,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),nle=(()=>{class n{constructor(){this.zone=J(Te),this.applicationRef=J(as)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ile(){const n=J(Te),e=J(ko);return t=>n.runOutsideAngular(()=>e.handleError(t))}let ole=(()=>{class n{constructor(){this.subscription=new _i,this.initialized=!1,this.zone=J(Te),this.pendingTasks=J(jf)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Te.assertNotInAngularZone(),queueMicrotask(()=>{null!==t&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Te.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const cs=new Y("",{providedIn:"root",factory:()=>J(cs,at.Optional|at.SkipSelf)||function sle(){return typeof $localize<"u"&&$localize.locale||ld}()}),Y1=new Y("");let lU=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,i){const r=function Hie(n="zone.js",e){return"noop"===n?new PV:"zone.js"===n?new Te(e):n}(i?.ngZone,function cU(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return r.run(()=>{const o=function Nre(n,e,t){return new o1(n,e,t)}(t.moduleType,this.injector,function aU(n){return[{provide:Te,useFactory:n},{provide:Gc,multi:!0,useFactory:()=>{const e=J(nle,{optional:!0});return()=>e.initialize()}},{provide:Gc,multi:!0,useFactory:()=>{const e=J(ole);return()=>{e.initialize()}}},{provide:XL,useFactory:ile}]}(()=>r)),s=o.injector.get(ko,null);return r.runOutsideAngular(()=>{const a=r.onError.subscribe({next:c=>{s.handleError(c)}});o.onDestroy(()=>{Wb(this._modules,o),a.unsubscribe()})}),function iU(n,e,t){try{const i=t();return ip(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}(s,r,()=>{const a=o.injector.get(W1);return a.runInitializers(),a.donePromise.then(()=>(function w5(n){"string"==typeof n&&(v5=n.toLowerCase().replace(/_/g,"-"))}(o.injector.get(cs,ld)||ld),this._moduleDoBootstrap(o),o))})})}bootstrapModule(t,i=[]){const r=rU({},i);return function tle(n,e,t){const i=new s1(t);return Promise.resolve(i)}(0,0,t).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(t){const i=t.injector.get(as);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!t.instance.ngDoBootstrap)throw new z(-403,!1);t.instance.ngDoBootstrap(i)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new z(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const t=this._injector.get(Y1,null);t&&(t.forEach(i=>i()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(i){return new(i||n)($(jt))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),Va=null;const uU=new Y("");function dU(n,e,t=[]){const i=`Platform: ${e}`,r=new Y(i);return(o=[])=>{let s=X1();if(!s||s.injector.get(uU,!1)){const a=[...t,...o,{provide:r,useValue:!0}];n?n(a):function lle(n){if(Va&&!Va.get(uU,!1))throw new z(400,!1);(function nU(){!function fZ(n){sF=n}(()=>{throw new z(600,!1)})})(),Va=n;const e=n.get(lU);(function fU(n){n.get(uL,null)?.forEach(t=>t())})(n)}(function hU(n=[],e){return jt.create({name:e,providers:[{provide:LC,useValue:"platform"},{provide:Y1,useValue:new Set([()=>Va=null])},...n]})}(a,i))}return function ule(n){const e=X1();if(!e)throw new z(401,!1);return e}()}}function X1(){return Va?.get(lU)??null}const _le=dU(null,"core",[]);let ble=(()=>{class n{constructor(t){}static#e=this.\u0275fac=function(i){return new(i||n)($(as))};static#t=this.\u0275mod=et({type:n});static#n=this.\u0275inj=Ze({})}return n})();function ls(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let LU=null;function Ba(){return LU}class Qle{}const dt=new Y("");let rI=(()=>{class n{historyGo(t){throw new Error("")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=re({token:n,factory:()=>J(Xle),providedIn:"platform"})}return n})();const Yle=new Y("");let Xle=(()=>{class n extends rI{constructor(){super(),this._doc=J(dt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ba().getBaseHref(this._doc)}onPopState(t){const i=Ba().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=Ba().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){this._history.pushState(t,i,r)}replaceState(t,i,r){this._history.replaceState(t,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=re({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function oI(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function VU(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function qs(n){return n&&"?"!==n[0]?"?"+n:n}let Ua=(()=>{class n{historyGo(t){throw new Error("")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=re({token:n,factory:()=>J(UU),providedIn:"root"})}return n})();const BU=new Y("");let UU=(()=>{class n extends Ua{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??J(dt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return oI(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+qs(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,o){const s=this.prepareExternalUrl(r+qs(o));this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){const s=this.prepareExternalUrl(r+qs(o));this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(i){return new(i||n)($(rI),$(BU,8))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),zU=(()=>{class n extends Ua{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){const i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=oI(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,o){let s=this.prepareExternalUrl(r+qs(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){let s=this.prepareExternalUrl(r+qs(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(i){return new(i||n)($(rI),$(BU,8))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac})}return n})(),yi=(()=>{class n{constructor(t){this._subject=new Xe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._basePath=function eue(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(VU(jU(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+qs(i))}normalize(t){return n.stripTrailingSlash(function Jle(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,jU(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+qs(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+qs(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}static#e=this.normalizeQueryParams=qs;static#t=this.joinWithSlash=oI;static#n=this.stripTrailingSlash=VU;static#i=this.\u0275fac=function(i){return new(i||n)($(Ua))};static#r=this.\u0275prov=re({token:n,factory:()=>function Zle(){return new yi($(Ua))}(),providedIn:"root"})}return n})();function jU(n){return n.replace(/\/index.html$/,"")}class zue{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let po=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,o,s)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new zue(r.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)i.remove(null===o?void 0:o);else if(null!==o){const a=i.get(o);i.move(a,s),JU(a,r)}});for(let r=0,o=i.length;r<o;r++){const a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{JU(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(E(co),E(ns),E(zE))};static#t=this.\u0275dir=be({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function JU(n,e){n.context.$implicit=e.item}let mI=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new jue,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){ez("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){ez("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(E(co),E(ns))};static#t=this.\u0275dir=be({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class jue{constructor(){this.$implicit=null,this.ngIf=null}}function ez(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${ci(e)}'.`)}let za=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=et({type:n});static#n=this.\u0275inj=Ze({})}return n})();const iz="browser";function fy(n){return n===iz}function rz(n){return"server"===n}let _de=(()=>{class n{static#e=this.\u0275prov=re({token:n,providedIn:"root",factory:()=>fy(J(so))?new bde(J(dt),window):new vde})}return n})();class bde{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){const t=function yde(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}}class vde{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}}class Qde extends Qle{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class xI extends Qde{static makeCurrent(){!function Kle(n){LU??=n}(new xI)}onAndCancel(e,t,i){return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Yde(){return up=up||document.querySelector("base"),up?up.getAttribute("href"):null}();return null==t?null:function Xde(n){return new URL(n,document.baseURI).pathname}(t)}resetBaseElement(){up=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Vue(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,o]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,e)}}let up=null,Jde=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac})}return n})();const CI=new Y("");let fz=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(o=>o.supports(t)),!i)throw new z(5101,!1);return this._eventNameToPlugin.set(t,i),i}static#e=this.\u0275fac=function(i){return new(i||n)($(CI),$(Te))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac})}return n})();class pz{constructor(e){this._doc=e}}const EI="ng-app-id";let gz=(()=>{class n{constructor(t,i,r,o={}){this.doc=t,this.appId=i,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=rz(o),this.resetHostNodes()}addStyles(t){for(const i of t)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(t){for(const i of t)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(i=>i.remove()),t.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){const i=this.styleRef;i.get(t)?.elements?.forEach(r=>r.remove()),i.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${EI}="${this.appId}"]`);if(t?.length){const i=new Map;return t.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(t,i){const r=this.styleRef;if(r.has(t)){const o=r.get(t);return o.usage+=i,o.usage}return r.set(t,{usage:i,elements:[]}),i}getStyleElement(t,i){const r=this.styleNodesInDOM,o=r?.get(i);if(o?.parentNode===t)return r.delete(i),o.removeAttribute(EI),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=i,this.platformIsServer&&s.setAttribute(EI,this.appId),t.appendChild(s),s}}addStyleToHost(t,i){const r=this.getStyleElement(t,i),o=this.styleRef,s=o.get(i)?.elements;s?s.push(r):o.set(i,{elements:[r],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#e=this.\u0275fac=function(i){return new(i||n)($(dt),$(D_),$(dC,8),$(so))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac})}return n})();const II={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},TI=/%COMP%/g,ihe=new Y("",{providedIn:"root",factory:()=>!0});function _z(n,e){return e.map(t=>t.replace(TI,n))}let DI=(()=>{class n{constructor(t,i,r,o,s,a,c,l=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=rz(a),this.defaultRenderer=new MI(t,s,c,this.platformIsServer)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Io.ShadowDom&&(i={...i,encapsulation:Io.Emulated});const r=this.getOrCreateRenderer(t,i);return r instanceof yz?r.applyToHost(t):r instanceof AI&&r.applyStyles(),r}getOrCreateRenderer(t,i){const r=this.rendererByCompId;let o=r.get(i.id);if(!o){const s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(i.encapsulation){case Io.Emulated:o=new yz(c,l,i,this.appId,u,s,a,d);break;case Io.ShadowDom:return new ahe(c,l,t,i,s,a,this.nonce,d);default:o=new AI(c,l,i,u,s,a,d)}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(i){return new(i||n)($(fz),$(gz),$(D_),$(ihe),$(dt),$(so),$(Te),$(dC))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac})}return n})();class MI{constructor(e,t,i,r){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(II[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(bz(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(bz(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?this.doc.querySelector(e):e;if(!i)throw new z(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const o=II[r];o?e.setAttributeNS(o,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=II[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(Oa.DashCase|Oa.Important)?e.style.setProperty(t,i,r&Oa.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&Oa.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){null!=e&&(e[t]=i)}setValue(e,t){e.nodeValue=t}listen(e,t,i){if("string"==typeof e&&!(e=Ba().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(i))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function bz(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class ahe extends MI{constructor(e,t,i,r,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=_z(r.id,r.styles);for(const u of l){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class AI extends MI{constructor(e,t,i,r,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=c?_z(c,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class yz extends AI{constructor(e,t,i,r,o,s,a,c){const l=r+"-"+i.id;super(e,t,i,o,s,a,c,l),this.contentAttr=function rhe(n){return"_ngcontent-%COMP%".replace(TI,n)}(l),this.hostAttr=function ohe(n){return"_nghost-%COMP%".replace(TI,n)}(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}let che=(()=>{class n extends pz{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}static#e=this.\u0275fac=function(i){return new(i||n)($(dt))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac})}return n})();const vz=["alt","control","meta","shift"],lhe={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},uhe={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let dhe=(()=>{class n extends pz{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const o=n.parseEventName(i),s=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ba().onAndCancel(t,o.domEventName,s))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),vz.forEach(l=>{const u=i.indexOf(l);u>-1&&(i.splice(u,1),s+=l+".")}),s+=o,0!=i.length||0===o.length)return null;const c={};return c.domEventName=r,c.fullKey=s,c}static matchEventFullKeyCode(t,i){let r=lhe[t.key]||t.key,o="";return i.indexOf("code.")>-1&&(r=t.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),vz.forEach(s=>{s!==r&&(0,uhe[s])(t)&&(o+=s+".")}),o+=r,o===i)}static eventCallback(t,i,r){return o=>{n.matchEventFullKeyCode(o,t)&&r.runGuarded(()=>i(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#e=this.\u0275fac=function(i){return new(i||n)($(dt))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac})}return n})();const xz=[{provide:so,useValue:iz},{provide:uL,useValue:function hhe(){xI.makeCurrent()},multi:!0},{provide:dt,useFactory:function phe(){return function IJ(n){lC=n}(document),document},deps:[]}],ghe=dU(_le,"browser",xz),mhe=new Y(""),Cz=[{provide:qb,useClass:class Zde{addToWindow(e){Ot.getAngularTestability=(i,r=!0)=>{const o=e.findTestabilityInTree(i,r);if(null==o)throw new z(5103,!1);return o},Ot.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ot.getAllAngularRootElements=()=>e.getAllRootElements(),Ot.frameworkStabilizers||(Ot.frameworkStabilizers=[]),Ot.frameworkStabilizers.push(i=>{const r=Ot.getAllAngularTestabilities();let o=r.length;const s=function(){o--,0==o&&i()};r.forEach(a=>{a.whenStable(s)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?Ba().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:eU,useClass:$1,deps:[Te,G1,qb]},{provide:$1,useClass:$1,deps:[Te,G1,qb]}],Ez=[{provide:LC,useValue:"root"},{provide:ko,useFactory:function fhe(){return new ko},deps:[]},{provide:CI,useClass:che,multi:!0,deps:[dt,Te,so]},{provide:CI,useClass:dhe,multi:!0,deps:[dt]},DI,gz,fz,{provide:VE,useExisting:DI},{provide:class wde{},useClass:Jde,deps:[]},[]];let Iz=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:D_,useValue:t.appId}]}}static#e=this.\u0275fac=function(i){return new(i||n)($(mhe,12))};static#t=this.\u0275mod=et({type:n});static#n=this.\u0275inj=Ze({providers:[...Ez,...Cz],imports:[za,ble]})}return n})(),_he=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static#e=this.\u0275fac=function(i){return new(i||n)($(dt))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function PI(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t}function ja(n){return this instanceof ja?(this.v=n,this):new ja(n)}function Oz(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function NI(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=n[o]&&function(s){return new Promise(function(a,c){!function r(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}(a,c,(s=n[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const FI=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Pz(n){return vt(n?.then)}function Rz(n){return vt(n[Nx])}function Nz(n){return Symbol.asyncIterator&&vt(n?.[Symbol.asyncIterator])}function Fz(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Lz=function jhe(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Vz(n){return vt(n?.[Lz])}function Bz(n){return function kz(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=t.apply(n,e||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(h){i[h]&&(r[h]=function(f){return new Promise(function(_,C){o.push([h,f,_,C])>1||a(h,f)})})}function a(h,f){try{!function c(h){h.value instanceof ja?Promise.resolve(h.value.v).then(l,u):d(o[0][2],h)}(i[h](f))}catch(_){d(o[0][3],_)}}function l(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),o.shift(),o.length&&a(o[0][0],o[0][1])}}(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:i,done:r}=yield ja(t.read());if(r)return yield ja(void 0);yield yield ja(i)}}finally{t.releaseLock()}})}function Uz(n){return vt(n?.getReader)}function Li(n){if(n instanceof Wt)return n;if(null!=n){if(Rz(n))return function Hhe(n){return new Wt(e=>{const t=n[Nx]();if(vt(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(FI(n))return function $he(n){return new Wt(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(Pz(n))return function Ghe(n){return new Wt(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,hF)})}(n);if(Nz(n))return zz(n);if(Vz(n))return function qhe(n){return new Wt(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(Uz(n))return function Whe(n){return zz(Bz(n))}(n)}throw Fz(n)}function zz(n){return new Wt(e=>{(function Khe(n,e){var t,i,r,o;return function Az(n,e,t,i){return new(t||(t=Promise))(function(o,s){function a(u){try{l(i.next(u))}catch(d){s(d)}}function c(u){try{l(i.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):function r(o){return o instanceof t?o:new t(function(s){s(o)})}(u.value).then(a,c)}l((i=i.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=Oz(n);!(i=yield t.next()).done;)if(e.next(i.value),e.closed)return}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=t.return)&&(yield o.call(t))}finally{if(r)throw r.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function Qs(n,e,t,i=0,r=!1){const o=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function my(n,e=0){return wn((t,i)=>{t.subscribe(gn(i,r=>Qs(i,n,()=>i.next(r),e),()=>Qs(i,n,()=>i.complete(),e),r=>Qs(i,n,()=>i.error(r),e)))})}function _y(n,e=0){return wn((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function jz(n,e){if(!n)throw new Error("Iterable cannot be null");return new Wt(t=>{Qs(t,e,()=>{const i=n[Symbol.asyncIterator]();Qs(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function pi(n,e){return e?function efe(n,e){if(null!=n){if(Rz(n))return function Qhe(n,e){return Li(n).pipe(_y(e),my(e))}(n,e);if(FI(n))return function Xhe(n,e){return new Wt(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}(n,e);if(Pz(n))return function Yhe(n,e){return Li(n).pipe(_y(e),my(e))}(n,e);if(Nz(n))return jz(n,e);if(Vz(n))return function Zhe(n,e){return new Wt(t=>{let i;return Qs(t,e,()=>{i=n[Lz](),Qs(t,e,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){return void t.error(s)}o?t.complete():t.next(r)},0,!0)}),()=>vt(i?.return)&&i.return()})}(n,e);if(Uz(n))return function Jhe(n,e){return jz(Bz(n),e)}(n,e)}throw Fz(n)}(n,e):Li(n)}const{isArray:tfe}=Array,{getPrototypeOf:nfe,prototype:ife,keys:rfe}=Object;function Hz(n){if(1===n.length){const e=n[0];if(tfe(e))return{args:e,keys:null};if(function ofe(n){return n&&"object"==typeof n&&nfe(n)===ife}(e)){const t=rfe(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}function $z(n){return n&&vt(n.schedule)}function LI(n){return n[n.length-1]}function Gz(n){return vt(LI(n))?n.pop():void 0}function hp(n){return $z(LI(n))?n.pop():void 0}const{isArray:afe}=Array;function VI(n){return Ne(e=>function cfe(n,e){return afe(e)?n(...e):n(e)}(n,e))}function qz(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}let Kz=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static#e=this.\u0275fac=function(i){return new(i||n)(E(Oo),E(an))};static#t=this.\u0275dir=be({type:n})}return n})(),ol=(()=>{class n extends Kz{static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=bi(n)))(r||n)}})();static#t=this.\u0275dir=be({type:n,features:[wt]})}return n})();const us=new Y(""),ufe={provide:us,useExisting:Yt(()=>tr),multi:!0},hfe=new Y("");let tr=(()=>{class n extends Kz{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function dfe(){const n=Ba()?Ba().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static#e=this.\u0275fac=function(i){return new(i||n)(E(Oo),E(an),E(hfe,8))};static#t=this.\u0275dir=be({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){1&i&&ee("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[_n([ufe]),wt]})}return n})();function Ha(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}const nr=new Y(""),$a=new Y("");function by(n){return null}function oj(n){return null!=n}function sj(n){return ip(n)?pi(n):n}function aj(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function cj(n,e){return e.map(t=>t(n))}function lj(n){return n.map(e=>function pfe(n){return!n.validate}(e)?e:t=>e.validate(t))}function BI(n){return null!=n?function uj(n){if(!n)return null;const e=n.filter(oj);return 0==e.length?null:function(t){return aj(cj(t,e))}}(lj(n)):null}function dj(n){if(!n)return null;const e=n.filter(oj);return 0==e.length?null:function(t){return function Wz(...n){const e=Gz(n),{args:t,keys:i}=Hz(n),r=new Wt(o=>{const{length:s}=t;if(!s)return void o.complete();const a=new Array(s);let c=s,l=s;for(let u=0;u<s;u++){let d=!1;Li(t[u]).subscribe(gn(o,h=>{d||(d=!0,l--),a[u]=h},()=>c--,void 0,()=>{(!c||!d)&&(l||o.next(i?qz(i,a):a),o.complete())}))}});return e?r.pipe(VI(e)):r}(cj(t,e).map(sj)).pipe(Ne(aj))}}function UI(n){return null!=n?dj(lj(n)):null}function hj(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function zI(n){return n?Array.isArray(n)?n:[n]:[]}function yy(n,e){return Array.isArray(n)?n.includes(e):n===e}function gj(n,e){const t=zI(e);return zI(n).forEach(r=>{yy(t,r)||t.push(r)}),t}function mj(n,e){return zI(e).filter(t=>!yy(n,t))}class _j{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=BI(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=UI(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class _r extends _j{get formDirective(){return null}get path(){return null}}class Ga extends _j{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class bj{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Rr=(()=>{class n extends bj{constructor(t){super(t)}static#e=this.\u0275fac=function(i){return new(i||n)(E(Ga,2))};static#t=this.\u0275dir=be({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){2&i&&uo("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[wt]})}return n})(),ti=(()=>{class n extends bj{constructor(t){super(t)}static#e=this.\u0275fac=function(i){return new(i||n)(E(_r,10))};static#t=this.\u0275dir=be({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){2&i&&uo("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[wt]})}return n})();const fp="VALID",wy="INVALID",pd="PENDING",pp="DISABLED";function $I(n){return(xy(n)?n.validators:n)||null}function GI(n,e){return(xy(e)?e.asyncValidators:n)||null}function xy(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class xj{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===fp}get invalid(){return this.status===wy}get pending(){return this.status==pd}get disabled(){return this.status===pp}get enabled(){return this.status!==pp}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(gj(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(gj(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(mj(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(mj(e,this._rawAsyncValidators))}hasValidator(e){return yy(this._rawValidators,e)}hasAsyncValidator(e){return yy(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=pd,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=pp,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=fp,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===fp||this.status===pd)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?pp:fp}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=pd,this._hasOwnPendingAsyncValidator=!0;const t=sj(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Xe,this.statusChanges=new Xe}_calculateStatus(){return this._allControlsDisabled()?pp:this.errors?wy:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(pd)?pd:this._anyControlsHaveStatus(wy)?wy:fp}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){xy(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function bfe(n){return Array.isArray(n)?BI(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function yfe(n){return Array.isArray(n)?UI(n):n||null}(this._rawAsyncValidators)}}class qI extends xj{constructor(e,t,i){super($I(t),GI(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function wj(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new z(1002,"")})})(this,0,e),Object.keys(e).forEach(i=>{(function vj(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new z(1e3,"");if(!i[t])throw new z(1001,"")})(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,o)=>{i=t(i,r,o)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const gd=new Y("CallSetDisabledState",{providedIn:"root",factory:()=>Cy}),Cy="always";function gp(n,e,t=Cy){WI(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function xfe(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Cj(n,e)})}(n,e),function Efe(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Cfe(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Cj(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function wfe(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Ty(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function WI(n,e){const t=function fj(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(hj(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=function pj(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(hj(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();Ty(e._rawValidators,r),Ty(e._rawAsyncValidators,r)}function Cj(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const Afe={provide:_r,useExisting:Yt(()=>kn)},mp=(()=>Promise.resolve())();let kn=(()=>{class n extends _r{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Xe,this.form=new qI({},BI(t),UI(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){mp.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),gp(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){mp.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){mp.then(()=>{const i=this._findContainer(t.path),r=new qI({});(function Ej(n,e){WI(n,e)})(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){mp.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){mp.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function Ij(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static#e=this.\u0275fac=function(i){return new(i||n)(E(nr,10),E($a,10),E(gd,8))};static#t=this.\u0275dir=be({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){1&i&&ee("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:[ct.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[_n([Afe]),wt]})}return n})();function Tj(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function Dj(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Mj=class extends xj{constructor(e=null,t,i){super($I(t),GI(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),xy(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=Dj(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Tj(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Tj(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){Dj(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Ofe={provide:Ga,useExisting:Yt(()=>br)},kj=(()=>Promise.resolve())();let br=(()=>{class n extends Ga{constructor(t,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new Mj,this._registered=!1,this.name="",this.update=new Xe,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function YI(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(o=>{o.constructor===tr?t=o:function Dfe(n){return Object.getPrototypeOf(n.constructor)===ol}(o)?i=o:r=o}),r||i||t||null}(0,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function QI(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){gp(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){kj.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=0!==i&&ls(i);kj.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function Ey(n,e){return[...e.path,n]}(t,this._parent):[t]}static#e=this.\u0275fac=function(i){return new(i||n)(E(_r,9),E(nr,10),E($a,10),E(us,10),E($u,8),E(gd,8))};static#t=this.\u0275dir=be({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[ct.None,"disabled","isDisabled"],model:[ct.None,"ngModel","model"],options:[ct.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[_n([Ofe]),wt,ao]})}return n})(),ni=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=be({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return n})();const Pfe={provide:us,useExisting:Yt(()=>XI),multi:!0};let XI=(()=>{class n extends ol{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=i=>{t(""==i?null:parseFloat(i))}}static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=bi(n)))(r||n)}})();static#t=this.\u0275dir=be({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,r){1&i&&ee("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},features:[_n([Pfe]),wt]})}return n})();const jfe={provide:us,useExisting:Yt(()=>tT),multi:!0};function Vj(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let tT=(()=>{class n extends ol{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const r=Vj(this._getOptionId(t),t);this.setProperty("value",r)}registerOnChange(t){this.onChange=i=>{this.value=this._getOptionValue(i),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),t))return i;return null}_getOptionValue(t){const i=function Hfe(n){return n.split(":")[0]}(t);return this._optionMap.has(i)?this._optionMap.get(i):t}static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=bi(n)))(r||n)}})();static#t=this.\u0275dir=be({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,r){1&i&&ee("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[_n([jfe]),wt]})}return n})(),My=(()=>{class n{constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(Vj(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(i){return new(i||n)(E(an),E(Oo),E(tT,9))};static#t=this.\u0275dir=be({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return n})();const $fe={provide:us,useExisting:Yt(()=>nT),multi:!0};function Bj(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let nT=(()=>{class n extends ol{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let i;if(this.value=t,Array.isArray(t)){const r=t.map(o=>this._getOptionId(o));i=(o,s)=>{o._setSelected(r.indexOf(s.toString())>-1)}}else i=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(t){this.onChange=i=>{const r=[],o=i.selectedOptions;if(void 0!==o){const s=o;for(let a=0;a<s.length;a++){const l=this._getOptionValue(s[a].value);r.push(l)}}else{const s=i.options;for(let a=0;a<s.length;a++){const c=s[a];if(c.selected){const l=this._getOptionValue(c.value);r.push(l)}}}this.value=r,t(r)}}_registerOption(t){const i=(this._idCounter++).toString();return this._optionMap.set(i,t),i}_getOptionId(t){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,t))return i;return null}_getOptionValue(t){const i=function Gfe(n){return n.split(":")[0]}(t);return this._optionMap.has(i)?this._optionMap.get(i)._value:t}static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=bi(n)))(r||n)}})();static#t=this.\u0275dir=be({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,r){1&i&&ee("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[_n([$fe]),wt]})}return n})(),Ay=(()=>{class n{constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(Bj(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(Bj(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(i){return new(i||n)(E(an),E(Oo),E(nT,9))};static#t=this.\u0275dir=be({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return n})();function zj(n){return"number"==typeof n?n:parseFloat(n)}let sl=(()=>{class n{constructor(){this._validator=by}ngOnChanges(t){if(this.inputName in t){const i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):by,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=be({type:n,features:[ao]})}return n})();const qfe={provide:nr,useExisting:Yt(()=>iT),multi:!0};let iT=(()=>{class n extends sl{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=t=>zj(t),this.createValidator=t=>function Zz(n){return e=>{if(Ha(e.value)||Ha(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(t)}static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=bi(n)))(r||n)}})();static#t=this.\u0275dir=be({type:n,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(i,r){2&i&&kr("max",r._enabled?r.max:null)},inputs:{max:"max"},features:[_n([qfe]),wt]})}return n})();const Wfe={provide:nr,useExisting:Yt(()=>rT),multi:!0};let rT=(()=>{class n extends sl{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=t=>zj(t),this.createValidator=t=>function Xz(n){return e=>{if(Ha(e.value)||Ha(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(t)}static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=bi(n)))(r||n)}})();static#t=this.\u0275dir=be({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(i,r){2&i&&kr("min",r._enabled?r.min:null)},inputs:{min:"min"},features:[_n([Wfe]),wt]})}return n})(),epe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=et({type:n});static#n=this.\u0275inj=Ze({})}return n})(),Sy=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:gd,useValue:t.callSetDisabledState??Cy}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=et({type:n});static#n=this.\u0275inj=Ze({imports:[epe]})}return n})();function xe(...n){return pi(n,hp(n))}function ky(...n){const e=hp(n),t=Gz(n),{args:i,keys:r}=Hz(n);if(0===i.length)return pi([],e);const o=new Wt(function ipe(n,e,t=Ea){return i=>{Wj(e,()=>{const{length:r}=n,o=new Array(r);let s=r,a=r;for(let c=0;c<r;c++)Wj(e,()=>{const l=pi(n[c],e);let u=!1;l.subscribe(gn(i,d=>{o[c]=d,u||(u=!0,a--),a||i.next(t(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}(i,e,r?s=>qz(r,s):Ea));return t?o.pipe(VI(t)):o}function Wj(n,e,t){n?Qs(t,n,e):e()}const Oy=Ax(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function vi(n,e,t=1/0){return vt(e)?vi((i,r)=>Ne((o,s)=>e(i,o,r,s))(Li(n(i,r))),t):("number"==typeof e&&(t=e),wn((i,r)=>function rpe(n,e,t,i,r,o,s,a){const c=[];let l=0,u=0,d=!1;const h=()=>{d&&!c.length&&!l&&e.complete()},f=C=>l<i?_(C):c.push(C),_=C=>{o&&e.next(C),l++;let I=!1;Li(t(C,u++)).subscribe(gn(e,O=>{r?.(O),o?f(O):e.next(O)},()=>{I=!0},void 0,()=>{if(I)try{for(l--;c.length&&l<i;){const O=c.shift();s?Qs(e,s,()=>_(O)):_(O)}h()}catch(O){e.error(O)}}))};return n.subscribe(gn(e,f,()=>{d=!0,h()})),()=>{a?.()}}(i,r,n,t)))}function md(n=1/0){return vi(Ea,n)}function _d(...n){return function ope(){return md(1)}()(pi(n,hp(n)))}function _p(n){return new Wt(e=>{Li(n()).subscribe(e)})}function bd(n,e){const t=vt(n)?n:()=>n,i=r=>r.error(t());return new Wt(e?r=>e.schedule(i,0,r):i)}const ds=new Wt(n=>n.complete());function sT(){return wn((n,e)=>{let t=null;n._refCount++;const i=gn(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,o=t;t=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class aT extends Wt{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,mF(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new _i;const t=this.getSubject();e.add(this.source.subscribe(gn(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=_i.EMPTY)}return e}refCount(){return sT()(this)}}function Nr(n,e){return wn((t,i)=>{let r=null,o=0,s=!1;const a=()=>s&&!r&&i.complete();t.subscribe(gn(i,c=>{r?.unsubscribe();let l=0;const u=o++;Li(n(c,u)).subscribe(r=gn(i,d=>i.next(e?e(c,d,u,l++):d),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function $n(n){return n<=0?()=>ds:wn((e,t)=>{let i=0;e.subscribe(gn(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function cT(...n){const e=hp(n);return wn((t,i)=>{(e?_d(n,t,e):_d(n,t)).subscribe(i)})}function Gn(n,e){return wn((t,i)=>{let r=0;t.subscribe(gn(i,o=>n.call(e,o,r++)&&i.next(o)))})}function Py(n){return wn((e,t)=>{let i=!1;e.subscribe(gn(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function Kj(n=ape){return wn((e,t)=>{let i=!1;e.subscribe(gn(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function ape(){return new Oy}function al(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Gn((r,o)=>n(r,o,i)):Ea,$n(1),t?Py(e):Kj(()=>new Oy))}function yd(n,e){return vt(e)?vi(n,e,1):vi(n,1)}function qn(n,e,t){const i=vt(n)||e||t?{next:n,error:e,complete:t}:n;return i?wn((r,o)=>{var s;null===(s=i.subscribe)||void 0===s||s.call(i);let a=!0;r.subscribe(gn(o,c=>{var l;null===(l=i.next)||void 0===l||l.call(i,c),o.next(c)},()=>{var c;a=!1,null===(c=i.complete)||void 0===c||c.call(i),o.complete()},c=>{var l;a=!1,null===(l=i.error)||void 0===l||l.call(i,c),o.error(c)},()=>{var c,l;a&&(null===(c=i.unsubscribe)||void 0===c||c.call(i)),null===(l=i.finalize)||void 0===l||l.call(i)}))}):Ea}function cl(n){return wn((e,t)=>{let o,i=null,r=!1;i=e.subscribe(gn(t,void 0,void 0,s=>{o=Li(n(s,cl(n)(e))),i?(i.unsubscribe(),i=null,o.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(t))})}function lT(n){return n<=0?()=>ds:wn((e,t)=>{let i=[];e.subscribe(gn(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function Qj(n){return Ne(()=>n)}function Ry(n){return wn((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Ny(n){return wn((e,t)=>{Li(n).subscribe(gn(t,()=>t.complete(),Yh)),!t.closed&&e.subscribe(t)})}const Je="primary",bp=Symbol("RouteTitle");class dpe{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function vd(n){return new dpe(n)}function hpe(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const s=i[o],a=n[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function hs(n,e){const t=n?uT(n):void 0,i=e?uT(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let o=0;o<t.length;o++)if(r=t[o],!Yj(n[r],e[r]))return!1;return!0}function uT(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Yj(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,o)=>i[o]===r)}return n===e}function Xj(n){return n.length>0?n[n.length-1]:null}function qa(n){return function npe(n){return!!n&&(n instanceof Wt||vt(n.lift)&&vt(n.subscribe))}(n)?n:ip(n)?pi(Promise.resolve(n)):xe(n)}const ppe={exact:function e6(n,e,t){if(!ll(n.segments,e.segments)||!Fy(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!e6(n.children[i],e.children[i],t))return!1;return!0},subset:t6},Zj={exact:function gpe(n,e){return hs(n,e)},subset:function mpe(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Yj(n[t],e[t]))},ignored:()=>!0};function Jj(n,e,t){return ppe[t.paths](n.root,e.root,t.matrixParams)&&Zj[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function t6(n,e,t){return n6(n,e,e.segments,t)}function n6(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!ll(r,t)||e.hasChildren()||!Fy(r,t,i))}if(n.segments.length===t.length){if(!ll(n.segments,t)||!Fy(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!t6(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(ll(n.segments,r)&&Fy(n.segments,r,i)&&n.children[Je])&&n6(n.children[Je],e,o,i)}}function Fy(n,e,t){return e.every((i,r)=>Zj[t](n[r].parameters,i.parameters))}class wd{constructor(e=new Ut([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap??=vd(this.queryParams),this._queryParamMap}toString(){return ype.serialize(this)}}class Ut{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ly(this)}}class yp{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=vd(this.parameters),this._parameterMap}toString(){return o6(this)}}function ll(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let xd=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=re({token:n,factory:()=>new dT,providedIn:"root"})}return n})();class dT{parse(e){const t=new Spe(e);return new wd(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${vp(e.root,!0)}`,i=function xpe(n){const e=Object.entries(n).map(([t,i])=>Array.isArray(i)?i.map(r=>`${Vy(t)}=${Vy(r)}`).join("&"):`${Vy(t)}=${Vy(i)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function vpe(n){return encodeURI(n)}(e.fragment)}`:""}`}}const ype=new dT;function Ly(n){return n.segments.map(e=>o6(e)).join("/")}function vp(n,e){if(!n.hasChildren())return Ly(n);if(e){const t=n.children[Je]?vp(n.children[Je],!1):"",i=[];return Object.entries(n.children).forEach(([r,o])=>{r!==Je&&i.push(`${r}:${vp(o,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function bpe(n,e){let t=[];return Object.entries(n.children).forEach(([i,r])=>{i===Je&&(t=t.concat(e(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==Je&&(t=t.concat(e(r,i)))}),t}(n,(i,r)=>r===Je?[vp(n.children[Je],!1)]:[`${r}:${vp(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Je]?`${Ly(n)}/${t[0]}`:`${Ly(n)}/(${t.join("//")})`}}function i6(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Vy(n){return i6(n).replace(/%3B/gi,";")}function hT(n){return i6(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function By(n){return decodeURIComponent(n)}function r6(n){return By(n.replace(/\+/g,"%20"))}function o6(n){return`${hT(n.path)}${function wpe(n){return Object.entries(n).map(([e,t])=>`;${hT(e)}=${hT(t)}`).join("")}(n.parameters)}`}const Cpe=/^[^\/()?;#]+/;function fT(n){const e=n.match(Cpe);return e?e[0]:""}const Epe=/^[^\/()?;=#]+/,Tpe=/^[^=?&#]+/,Mpe=/^[^&#]+/;class Spe{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ut([],{}):new Ut([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[Je]=new Ut(e,t)),i}parseSegment(){const e=fT(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new z(4009,!1);return this.capture(e),new yp(By(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function Ipe(n){const e=n.match(Epe);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=fT(this.remaining);r&&(i=r,this.capture(i))}e[By(t)]=By(i)}parseQueryParam(e){const t=function Dpe(n){const e=n.match(Tpe);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const s=function Ape(n){const e=n.match(Mpe);return e?e[0]:""}(this.remaining);s&&(i=s,this.capture(i))}const r=r6(t),o=r6(i);if(e.hasOwnProperty(r)){let s=e[r];Array.isArray(s)||(s=[s],e[r]=s),s.push(o)}else e[r]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=fT(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new z(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Je);const s=this.parseChildren();t[o]=1===Object.keys(s).length?s[Je]:new Ut([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new z(4011,!1)}}function s6(n){return n.segments.length>0?new Ut([],{[Je]:n}):n}function a6(n){const e={};for(const[i,r]of Object.entries(n.children)){const o=a6(r);if(i===Je&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[i]=o)}return function kpe(n){if(1===n.numberOfChildren&&n.children[Je]){const e=n.children[Je];return new Ut(n.segments.concat(e.segments),e.children)}return n}(new Ut(n.segments,e))}function Cd(n){return n instanceof wd}function c6(n){let e;const r=s6(function t(o){const s={};for(const c of o.children){const l=t(c);s[c.outlet]=l}const a=new Ut(o.url,s);return o===n&&(e=a),a}(n.root));return e??r}function l6(n,e,t,i){let r=n;for(;r.parent;)r=r.parent;if(0===e.length)return pT(r,r,r,t,i);const o=function Ppe(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new d6(!0,0,n);let e=0,t=!1;const i=n.reduce((r,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]="string"==typeof l?l.split("/"):l}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===s?(o.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?t=!0:".."===a?e++:""!=a&&r.push(a))}),r):[...r,o]},[]);return new d6(t,e,i)}(e);if(o.toRoot())return pT(r,r,new Ut([],{}),t,i);const s=function Rpe(n,e,t){if(n.isAbsolute)return new zy(e,!0,0);if(!t)return new zy(e,!1,NaN);if(null===t.parent)return new zy(t,!0,0);const i=Uy(n.commands[0])?0:1;return function Npe(n,e,t){let i=n,r=e,o=t;for(;o>r;){if(o-=r,i=i.parent,!i)throw new z(4005,!1);r=i.segments.length}return new zy(i,!1,r-o)}(t,t.segments.length-1+i,n.numberOfDoubleDots)}(o,r,n),a=s.processChildren?xp(s.segmentGroup,s.index,o.commands):h6(s.segmentGroup,s.index,o.commands);return pT(r,s.segmentGroup,a,t,i)}function Uy(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function wp(n){return"object"==typeof n&&null!=n&&n.outlets}function pT(n,e,t,i,r){let s,o={};i&&Object.entries(i).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`}),s=n===e?t:u6(n,e,t);const a=s6(a6(s));return new wd(a,o,r)}function u6(n,e,t){const i={};return Object.entries(n.children).forEach(([r,o])=>{i[r]=o===e?t:u6(o,e,t)}),new Ut(n.segments,i)}class d6{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&Uy(i[0]))throw new z(4003,!1);const r=i.find(wp);if(r&&r!==Xj(i))throw new z(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class zy{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function h6(n,e,t){if(n??=new Ut([],{}),0===n.segments.length&&n.hasChildren())return xp(n,e,t);const i=function Lpe(n,e,t){let i=0,r=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return o;const s=n.segments[r],a=t[i];if(wp(a))break;const c=`${a}`,l=i<t.length-1?t[i+1]:null;if(r>0&&void 0===c)break;if(c&&l&&"object"==typeof l&&void 0===l.outlets){if(!p6(c,l,s))return o;i+=2}else{if(!p6(c,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new Ut(n.segments.slice(0,i.pathIndex),{});return o.children[Je]=new Ut(n.segments.slice(i.pathIndex),n.children),xp(o,0,r)}return i.match&&0===r.length?new Ut(n.segments,{}):i.match&&!n.hasChildren()?gT(n,e,t):i.match?xp(n,0,r):gT(n,e,t)}function xp(n,e,t){if(0===t.length)return new Ut(n.segments,{});{const i=function Fpe(n){return wp(n[0])?n[0].outlets:{[Je]:n}}(t),r={};if(Object.keys(i).some(o=>o!==Je)&&n.children[Je]&&1===n.numberOfChildren&&0===n.children[Je].segments.length){const o=xp(n.children[Je],e,t);return new Ut(n.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(r[o]=h6(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{void 0===i[o]&&(r[o]=s)}),new Ut(n.segments,r)}}function gT(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const o=t[r];if(wp(o)){const c=Vpe(o.outlets);return new Ut(i,c)}if(0===r&&Uy(t[0])){i.push(new yp(n.segments[e].path,f6(t[0]))),r++;continue}const s=wp(o)?o.outlets[Je]:`${o}`,a=r<t.length-1?t[r+1]:null;s&&a&&Uy(a)?(i.push(new yp(s,f6(a))),r+=2):(i.push(new yp(s,{})),r++)}return new Ut(i,{})}function Vpe(n){const e={};return Object.entries(n).forEach(([t,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(e[t]=gT(new Ut([],{}),0,i))}),e}function f6(n){const e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function p6(n,e,t){return n==t.path&&hs(e,t.parameters)}const Cp="imperative";var mt=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(mt||{});class fs{constructor(e,t){this.id=e,this.url=t}}class jy extends fs{constructor(e,t,i="imperative",r=null){super(e,t),this.type=mt.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ys extends fs{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=mt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var go=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(go||{}),Hy=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Hy||{});class Ed extends fs{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=mt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Id extends fs{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=mt.NavigationSkipped}}class $y extends fs{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=mt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class g6 extends fs{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=mt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Bpe extends fs{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=mt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Upe extends fs{constructor(e,t,i,r,o){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=mt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class zpe extends fs{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=mt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jpe extends fs{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=mt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hpe{constructor(e){this.route=e,this.type=mt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class $pe{constructor(e){this.route=e,this.type=mt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Gpe{constructor(e){this.snapshot=e,this.type=mt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qpe{constructor(e){this.snapshot=e,this.type=mt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wpe{constructor(e){this.snapshot=e,this.type=mt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Kpe{constructor(e){this.snapshot=e,this.type=mt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class m6{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=mt.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class mT{}class _T{constructor(e){this.url=e}}class Qpe{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Ep,this.attachRef=null}}let Ep=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new Qpe,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class _6{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=bT(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=bT(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=yT(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return yT(e,this._root).map(t=>t.value)}}function bT(n,e){if(n===e.value)return e;for(const t of e.children){const i=bT(n,t);if(i)return i}return null}function yT(n,e){if(n===e.value)return[e];for(const t of e.children){const i=yT(n,t);if(i.length)return i.unshift(e),i}return[]}class Vo{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Td(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class b6 extends _6{constructor(e,t){super(e),this.snapshot=t,xT(this,e)}toString(){return this.snapshot.toString()}}function y6(n){const e=function Ype(n){const o=new wT([],{},{},"",{},Je,n,null,{});return new v6("",new Vo(o,[]))}(n),t=new dr([new yp("",{})]),i=new dr({}),r=new dr({}),o=new dr({}),s=new dr(""),a=new ft(t,i,o,s,r,Je,n,e.root);return a.snapshot=e.root,new b6(new Vo(a,[]),e)}class ft{constructor(e,t,i,r,o,s,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Ne(l=>l[bp]))??xe(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Ne(e=>vd(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Ne(e=>vd(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function vT(n,e,t="emptyOnly"){let i;const{routeConfig:r}=n;return i=null===e||"always"!==t&&""!==r?.path&&(e.component||e.routeConfig?.loadComponent)?{params:{...n.params},data:{...n.data},resolve:{...n.data,...n._resolvedData??{}}}:{params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.data,...r?.data,...n._resolvedData}},r&&x6(r)&&(i.resolve[bp]=r.title),i}class wT{get title(){return this.data?.[bp]}constructor(e,t,i,r,o,s,a,c,l){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=vd(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=vd(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class v6 extends _6{constructor(e,t){super(t),this.url=e,xT(this,t)}toString(){return w6(this._root)}}function xT(n,e){e.value._routerState=n,e.children.forEach(t=>xT(n,t))}function w6(n){const e=n.children.length>0?` { ${n.children.map(w6).join(", ")} } `:"";return`${n.value}${e}`}function CT(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,hs(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),hs(e.params,t.params)||n.paramsSubject.next(t.params),function fpe(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!hs(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),hs(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function ET(n,e){const t=hs(n.params,e.params)&&function _pe(n,e){return ll(n,e)&&n.every((t,i)=>hs(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||ET(n.parent,e.parent))}function x6(n){return"string"==typeof n.title||null===n.title}let Dd=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Je,this.activateEvents=new Xe,this.deactivateEvents=new Xe,this.attachEvents=new Xe,this.detachEvents=new Xe,this.parentContexts=J(Ep),this.location=J(co),this.changeDetector=J($u),this.environmentInjector=J(qr),this.inputBinder=J(Gy,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new z(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new z(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new z(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new z(4013,!1);this._activatedRoute=t;const r=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new Xpe(t,a,r.injector);this.activated=r.createComponent(s,{index:r.length,injector:c,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=be({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ao]})}return n})();class Xpe{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===ft?this.route:e===Ep?this.childContexts:this.parent.get(e,t)}}const Gy=new Y("");let C6=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:i}=t,r=ky([i.queryParams,i.params,i.data]).pipe(Nr(([o,s,a],c)=>(a={...o,...s,...a},0===c?xe(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(t);const s=function Wle(n){const e=tt(n);if(!e)return null;const t=new Uf(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(i.component);if(s)for(const{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,r)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac})}return n})();function Ip(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function Jpe(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Ip(n,i,r);return Ip(n,i)})}(n,e,t);return new Vo(i,r)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Ip(n,a)),s}}const i=function ege(n){return new ft(new dr(n.url),new dr(n.params),new dr(n.queryParams),new dr(n.fragment),new dr(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(o=>Ip(n,o));return new Vo(i,r)}}const E6="ngNavigationCancelingError";function I6(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=Cd(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=T6(!1,go.Redirect);return r.url=t,r.navigationBehaviorOptions=i,r}function T6(n,e){const t=new Error(`NavigationCancelingError: ${n||""}`);return t[E6]=!0,t.cancellationCode=e,t}function D6(n){return!!n&&n[E6]}let M6=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=Me({type:n,selectors:[["ng-component"]],standalone:!0,features:[No],decls:1,vars:0,template:function(i,r){1&i&&ie(0,"router-outlet")},dependencies:[Dd],encapsulation:2})}return n})();function IT(n){const e=n.children&&n.children.map(IT),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Je&&(t.component=M6),t}function ps(n){return n.outlet||Je}function Tp(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class cge{constructor(e,t,i,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),CT(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=Td(t);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,t,i){const r=e.value,o=t?t.value:null;if(r===o)if(r.component){const s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,i);else o&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=Td(e);for(const s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){const s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=Td(e);for(const s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){const r=Td(t);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new Kpe(o.value.snapshot))}),e.children.length&&this.forwardEvent(new qpe(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,o=t?t.value:null;if(CT(r),r===o)if(r.component){const s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),CT(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=Tp(r.snapshot);s.attachRef=null,s.route=r,s.injector=a,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,i)}}class A6{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class qy{constructor(e,t){this.component=e,this.route=t}}function lge(n,e,t){const i=n._root;return Dp(i,e?e._root:null,t,[i.value])}function Md(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||function TJ(n){return null!==E_(n)}(n)?e.get(n):n:i}function Dp(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=Td(e);return n.children.forEach(s=>{(function dge(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const c=function hge(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!ll(n.url,e.url);case"pathParamsOrQueryParamsChange":return!ll(n.url,e.url)||!hs(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ET(n,e)||!hs(n.queryParams,e.queryParams);default:return!ET(n,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new A6(i)):(o.data=s.data,o._resolvedData=s._resolvedData),Dp(n,e,o.component?a?a.children:null:t,i,r),c&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new qy(a.outlet.component,s))}else s&&Mp(e,a,r),r.canActivateChecks.push(new A6(i)),Dp(n,null,o.component?a?a.children:null:t,i,r)})(s,o[s.value.outlet],t,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Mp(a,t.getContext(s),r)),r}function Mp(n,e,t){const i=Td(n),r=n.value;Object.entries(i).forEach(([o,s])=>{Mp(s,r.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new qy(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function Ap(n){return"function"==typeof n}function S6(n){return n instanceof Oy||"EmptyError"===n?.name}const Wy=Symbol("INITIAL_VALUE");function Ad(){return Nr(n=>ky(n.map(e=>e.pipe($n(1),cT(Wy)))).pipe(Ne(e=>{for(const t of e)if(!0!==t){if(t===Wy)return Wy;if(!1===t||t instanceof wd)return t}return!0}),Gn(e=>e!==Wy),$n(1)))}function k6(n){return function TZ(...n){return fF(n)}(qn(e=>{if(Cd(e))throw I6(0,e)}),Ne(e=>!0===e))}class TT{constructor(e){this.segmentGroup=e||null}}class DT extends Error{constructor(e){super(),this.urlTree=e}}function Sd(n){return bd(new TT(n))}class kge{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return xe(i);if(r.numberOfChildren>1||!r.children[Je])return bd(new z(4e3,!1));r=r.children[Je]}}applyRedirectCommands(e,t,i){const r=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i);if(t.startsWith("/"))throw new DT(r);return r}applyRedirectCreateUrlTree(e,t,i,r){const o=this.createSegmentGroup(e,t.root,i,r);return new wd(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return Object.entries(e).forEach(([r,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);i[r]=t[a]}else i[r]=o}),i}createSegmentGroup(e,t,i,r){const o=this.createSegments(e,t.segments,i,r);let s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,i,r)}),new Ut(o,s)}createSegments(e,t,i,r){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new z(4001,!1);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}const MT={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Oge(n,e,t,i,r){const o=AT(n,e,t);return o.matched?(i=function nge(n,e){return n.providers&&!n._injector&&(n._injector=Mb(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,i),function Mge(n,e,t,i){const r=e.canMatch;return r&&0!==r.length?xe(r.map(s=>{const a=Md(s,n);return qa(function bge(n){return n&&Ap(n.canMatch)}(a)?a.canMatch(e,t):Wc(n,()=>a(e,t)))})).pipe(Ad(),k6()):xe(!0)}(i,e,t).pipe(Ne(s=>!0===s?o:{...MT}))):xe(o)}function AT(n,e,t){if("**"===e.path)return function Pge(n){return{matched:!0,parameters:n.length>0?Xj(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}(t);if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...MT}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||hpe)(t,n,e);if(!r)return{...MT};const o={};Object.entries(r.posParams??{}).forEach(([a,c])=>{o[a]=c.path});const s=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function O6(n,e,t,i){return t.length>0&&function Fge(n,e,t){return t.some(i=>Ky(n,e,i)&&ps(i)!==Je)}(n,t,i)?{segmentGroup:new Ut(e,Nge(i,new Ut(t,n.children))),slicedSegments:[]}:0===t.length&&function Lge(n,e,t){return t.some(i=>Ky(n,e,i))}(n,t,i)?{segmentGroup:new Ut(n.segments,Rge(n,t,i,n.children)),slicedSegments:t}:{segmentGroup:new Ut(n.segments,n.children),slicedSegments:t}}function Rge(n,e,t,i){const r={};for(const o of t)if(Ky(n,e,o)&&!i[ps(o)]){const s=new Ut([],{});r[ps(o)]=s}return{...i,...r}}function Nge(n,e){const t={};t[Je]=e;for(const i of n)if(""===i.path&&ps(i)!==Je){const r=new Ut([],{});t[ps(i)]=r}return t}function Ky(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class Uge{}class Hge{constructor(e,t,i,r,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new kge(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new z(4002,`'${e.segmentGroup}'`)}recognize(){const e=O6(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Ne(t=>{const i=new wT([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Je,this.rootComponentType,null,{}),r=new Vo(i,t),o=new v6("",r),s=function Ope(n,e,t=null,i=null){return l6(c6(n),e,t,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,Je).pipe(cl(i=>{if(i instanceof DT)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof TT?this.noMatchError(i):i}))}inheritParamsAndData(e,t){const i=e.value,r=vT(i,t,this.paramsInheritanceStrategy);i.params=Object.freeze(r.params),i.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o,i))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r,!0).pipe(Ne(o=>o instanceof Vo?[o]:[]))}processChildren(e,t,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return pi(r).pipe(yd(o=>{const s=i.children[o],a=function sge(n,e){const t=n.filter(i=>ps(i)===e);return t.push(...n.filter(i=>ps(i)!==e)),t}(t,o);return this.processSegmentGroup(e,a,s,o)}),function lpe(n,e){return wn(function cpe(n,e,t,i,r){return(o,s)=>{let a=t,c=e,l=0;o.subscribe(gn(s,u=>{const d=l++;c=a?n(c,u,d):(a=!0,u),i&&s.next(c)},r&&(()=>{a&&s.next(c),s.complete()})))}}(n,e,arguments.length>=2,!0))}((o,s)=>(o.push(...s),o)),Py(null),function upe(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Gn((r,o)=>n(r,o,i)):Ea,lT(1),t?Py(e):Kj(()=>new Oy))}(),vi(o=>{if(null===o)return Sd(i);const s=P6(o);return function $ge(n){n.sort((e,t)=>e.value.outlet===Je?-1:t.value.outlet===Je?1:e.value.outlet.localeCompare(t.value.outlet))}(s),xe(s)}))}processSegment(e,t,i,r,o,s){return pi(t).pipe(yd(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,i,r,o,s).pipe(cl(c=>{if(c instanceof TT)return xe(null);throw c}))),al(a=>!!a),cl(a=>{if(S6(a))return function Bge(n,e,t){return 0===e.length&&!n.children[t]}(i,r,o)?xe(new Uge):Sd(i);throw a}))}processSegmentAgainstRoute(e,t,i,r,o,s,a){return function Vge(n,e,t,i){return!!(ps(n)===i||i!==Je&&Ky(e,t,n))&&AT(e,n,t).matched}(i,r,o,s)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,r,i,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,t,i,o,s):Sd(r):Sd(r)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,o,s){const{matched:a,consumedSegments:c,positionalParamSegments:l,remainingSegments:u}=AT(t,r,o);if(!a)return Sd(t);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const d=this.applyRedirects.applyRedirectCommands(c,r.redirectTo,l);return this.applyRedirects.lineralizeSegments(r,d).pipe(vi(h=>this.processSegment(e,i,t,h.concat(u),s,!1)))}matchSegmentAgainstRoute(e,t,i,r,o){const s=Oge(t,i,r,e);return"**"===i.path&&(t.children={}),s.pipe(Nr(a=>a.matched?this.getChildConfig(e=i._injector??e,i,r).pipe(Nr(({routes:c})=>{const l=i._loadedInjector??e,{consumedSegments:u,remainingSegments:d,parameters:h}=a,f=new wT(u,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function qge(n){return n.data||{}}(i),ps(i),i.component??i._loadedComponent??null,i,function Wge(n){return n.resolve||{}}(i)),{segmentGroup:_,slicedSegments:C}=O6(t,u,d,c);if(0===C.length&&_.hasChildren())return this.processChildren(l,c,_).pipe(Ne(O=>null===O?null:new Vo(f,O)));if(0===c.length&&0===C.length)return xe(new Vo(f,[]));const I=ps(i)===o;return this.processSegment(l,c,_,C,I?Je:o,!0).pipe(Ne(O=>new Vo(f,O instanceof Vo?[O]:[])))})):Sd(t)))}getChildConfig(e,t,i){return t.children?xe({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?xe({routes:t._loadedRoutes,injector:t._loadedInjector}):function Dge(n,e,t,i){const r=e.canLoad;return void 0===r||0===r.length?xe(!0):xe(r.map(s=>{const a=Md(s,n);return qa(function pge(n){return n&&Ap(n.canLoad)}(a)?a.canLoad(e,t):Wc(n,()=>a(e,t)))})).pipe(Ad(),k6())}(e,t,i).pipe(vi(r=>r?this.configLoader.loadChildren(e,t).pipe(qn(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function Sge(n){return bd(T6(!1,go.GuardRejected))}())):xe({routes:[],injector:e})}}function Gge(n){const e=n.value.routeConfig;return e&&""===e.path}function P6(n){const e=[],t=new Set;for(const i of n){if(!Gge(i)){e.push(i);continue}const r=e.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=P6(i.children);e.push(new Vo(i.value,r))}return e.filter(i=>!t.has(i))}function R6(n){const e=n.children.map(t=>R6(t)).flat();return[n,...e]}function ST(n){return Nr(e=>{const t=n(e);return t?pi(t).pipe(Ne(()=>e)):xe(e)})}let N6=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===Je);return i}getResolvedTitleForRoute(t){return t.data[bp]}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=re({token:n,factory:()=>J(Jge),providedIn:"root"})}return n})(),Jge=(()=>{class n extends N6{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}static#e=this.\u0275fac=function(i){return new(i||n)($(_he))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const kd=new Y("",{providedIn:"root",factory:()=>({})}),Od=new Y("");let kT=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=J(oU)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return xe(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=qa(t.loadComponent()).pipe(Ne(F6),qn(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Ry(()=>{this.componentLoaders.delete(t)})),r=new aT(i,()=>new Mt).pipe(sT());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return xe({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=function eme(n,e,t,i){return qa(n.loadChildren()).pipe(Ne(F6),vi(r=>r instanceof m4||Array.isArray(r)?xe(r):pi(e.compileModuleAsync(r))),Ne(r=>{i&&i(n);let o,s,a=!1;return Array.isArray(r)?(s=r,!0):(o=r.create(t).injector,s=o.get(Od,[],{optional:!0,self:!0}).flat()),{routes:s.map(IT),injector:o}}))}(i,this.compiler,t,this.onLoadEndListener).pipe(Ry(()=>{this.childrenLoaders.delete(i)})),s=new aT(o,()=>new Mt).pipe(sT());return this.childrenLoaders.set(i,s),s}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function F6(n){return function tme(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let OT=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=re({token:n,factory:()=>J(nme),providedIn:"root"})}return n})(),nme=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const L6=new Y(""),V6=new Y("");function ime(n,e,t){const i=n.get(V6),r=n.get(dt);return n.get(Te).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,Promise.resolve();let o;const s=new Promise(l=>{o=l}),a=r.startViewTransition(()=>(o(),function rme(n){return new Promise(e=>{NV(e,{injector:n})})}(n))),{onViewTransitionCreated:c}=i;return c&&Wc(n,()=>c({transition:a,from:e,to:t})),s})}let Qy=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Mt,this.transitionAbortSubject=new Mt,this.configLoader=J(kT),this.environmentInjector=J(qr),this.urlSerializer=J(xd),this.rootContexts=J(Ep),this.location=J(yi),this.inputBindingEnabled=null!==J(Gy,{optional:!0}),this.titleStrategy=J(N6),this.options=J(kd,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=J(OT),this.createViewTransition=J(L6,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>xe(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new $pe(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new Hpe(r))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:i})}setupNavigations(t,i,r){return this.transitions=new dr({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Cp,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Gn(o=>0!==o.id),Ne(o=>({...o,extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Nr(o=>{this.currentTransition=o;let s=!1,a=!1;return xe(o).pipe(qn(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Nr(c=>{const l=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!l&&"reload"!==(c.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const d="";return this.events.next(new Id(c.id,this.urlSerializer.serialize(c.rawUrl),d,Hy.IgnoredSameUrlNavigation)),c.resolve(null),ds}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return xe(c).pipe(Nr(d=>{const h=this.transitions?.getValue();return this.events.next(new jy(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions?.getValue()?ds:Promise.resolve(d)}),function Kge(n,e,t,i,r,o){return vi(s=>function zge(n,e,t,i,r,o,s="emptyOnly"){return new Hge(n,e,t,i,r,s,o).recognize()}(n,e,t,i,s.extractedUrl,r,o).pipe(Ne(({state:a,tree:c})=>({...s,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),qn(d=>{o.targetSnapshot=d.targetSnapshot,o.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:d.urlAfterRedirects};const h=new g6(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:d,extractedUrl:h,source:f,restoredState:_,extras:C}=c,I=new jy(d,this.urlSerializer.serialize(h),f,_);this.events.next(I);const O=y6(this.rootComponentType).snapshot;return this.currentTransition=o={...c,targetSnapshot:O,urlAfterRedirects:h,extras:{...C,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=h,xe(o)}{const d="";return this.events.next(new Id(c.id,this.urlSerializer.serialize(c.extractedUrl),d,Hy.IgnoredByUrlHandlingStrategy)),c.resolve(null),ds}}),qn(c=>{const l=new Bpe(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),Ne(c=>(this.currentTransition=o={...c,guards:lge(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},o)),function yge(n,e){return vi(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return 0===s.length&&0===o.length?xe({...t,guardsResult:!0}):function vge(n,e,t,i){return pi(n).pipe(vi(r=>function Tge(n,e,t,i,r){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?xe(o.map(a=>{const c=Tp(e)??r,l=Md(a,c);return qa(function _ge(n){return n&&Ap(n.canDeactivate)}(l)?l.canDeactivate(n,e,t,i):Wc(c,()=>l(n,e,t,i))).pipe(al())})).pipe(Ad()):xe(!0)}(r.component,r.route,t,e,i)),al(r=>!0!==r,!0))}(s,i,r,n).pipe(vi(a=>a&&function fge(n){return"boolean"==typeof n}(a)?function wge(n,e,t,i){return pi(e).pipe(yd(r=>_d(function Cge(n,e){return null!==n&&e&&e(new Gpe(n)),xe(!0)}(r.route.parent,i),function xge(n,e){return null!==n&&e&&e(new Wpe(n)),xe(!0)}(r.route,i),function Ige(n,e,t){const i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function uge(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(s)).filter(s=>null!==s).map(s=>_p(()=>xe(s.guards.map(c=>{const l=Tp(s.node)??t,u=Md(c,l);return qa(function mge(n){return n&&Ap(n.canActivateChild)}(u)?u.canActivateChild(i,n):Wc(l,()=>u(i,n))).pipe(al())})).pipe(Ad())));return xe(o).pipe(Ad())}(n,r.path,t),function Ege(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return xe(!0);const r=i.map(o=>_p(()=>{const s=Tp(e)??t,a=Md(o,s);return qa(function gge(n){return n&&Ap(n.canActivate)}(a)?a.canActivate(e,n):Wc(s,()=>a(e,n))).pipe(al())}));return xe(r).pipe(Ad())}(n,r.route,t))),al(r=>!0!==r,!0))}(i,o,n,e):xe(a)),Ne(a=>({...t,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),qn(c=>{if(o.guardsResult=c.guardsResult,Cd(c.guardsResult))throw I6(0,c.guardsResult);const l=new Upe(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),Gn(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",go.GuardRejected),!1)),ST(c=>{if(c.guards.canActivateChecks.length)return xe(c).pipe(qn(l=>{const u=new zpe(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),Nr(l=>{let u=!1;return xe(l).pipe(function Qge(n,e){return vi(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return xe(t);const o=new Set(r.map(c=>c.route)),s=new Set;for(const c of o)if(!s.has(c))for(const l of R6(c))s.add(l);let a=0;return pi(s).pipe(yd(c=>o.has(c)?function Yge(n,e,t,i){const r=n.routeConfig,o=n._resolve;return void 0!==r?.title&&!x6(r)&&(o[bp]=r.title),function Xge(n,e,t,i){const r=uT(n);if(0===r.length)return xe({});const o={};return pi(r).pipe(vi(s=>function Zge(n,e,t,i){const r=Tp(e)??i,o=Md(n,r);return qa(o.resolve?o.resolve(e,t):Wc(r,()=>o(e,t)))}(n[s],e,t,i).pipe(al(),qn(a=>{o[s]=a}))),lT(1),Qj(o),cl(s=>S6(s)?ds:bd(s)))}(o,n,e,i).pipe(Ne(s=>(n._resolvedData=s,n.data=vT(n,n.parent,t).resolve,null)))}(c,i,n,e):(c.data=vT(c,c.parent,n).resolve,xe(void 0))),qn(()=>a++),lT(1),vi(c=>a===s.size?xe(t):ds))})}(this.paramsInheritanceStrategy,this.environmentInjector),qn({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(l,"",go.NoDataFromResolver)}}))}),qn(l=>{const u=new jpe(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}))}),ST(c=>{const l=u=>{const d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(qn(h=>{u.component=h}),Ne(()=>{})));for(const h of u.children)d.push(...l(h));return d};return ky(l(c.targetSnapshot.root)).pipe(Py(null),$n(1))}),ST(()=>this.afterPreactivation()),Nr(()=>{const{currentSnapshot:c,targetSnapshot:l}=o,u=this.createViewTransition?.(this.environmentInjector,c.root,l.root);return u?pi(u).pipe(Ne(()=>o)):xe(o)}),Ne(c=>{const l=function Zpe(n,e,t){const i=Ip(n,e._root,t?t._root:void 0);return new b6(i,e)}(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o={...c,targetRouterState:l},this.currentNavigation.targetRouterState=l,o}),qn(()=>{this.events.next(new mT)}),((n,e,t,i)=>Ne(r=>(new cge(e,r.targetRouterState,r.currentRouterState,t,i).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),$n(1),qn({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ys(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),Ny(this.transitionAbortSubject.pipe(qn(c=>{throw c}))),Ry(()=>{s||a||this.cancelNavigationTransition(o,"",go.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),cl(c=>{if(a=!0,D6(c))this.events.next(new Ed(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),function tge(n){return D6(n)&&Cd(n.url)}(c)?this.events.next(new _T(c.url)):o.resolve(!1);else{this.events.next(new $y(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(t.errorHandler(c))}catch(l){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(l)}}return ds}))}))}cancelNavigationTransition(t,i,r){const o=new Ed(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ome(n){return n!==Cp}let sme=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=re({token:n,factory:()=>J(cme),providedIn:"root"})}return n})();class ame{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let cme=(()=>{class n extends ame{static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=bi(n)))(r||n)}})();static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),B6=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=re({token:n,factory:()=>J(lme),providedIn:"root"})}return n})(),lme=(()=>{class n extends B6{constructor(){super(...arguments),this.location=J(yi),this.urlSerializer=J(xd),this.options=J(kd,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=J(OT),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new wd,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=y6(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(i=>{"popstate"===i.type&&t(i.url,i.state)})}handleRouterEvent(t,i){if(t instanceof jy)this.stateMemento=this.createStateMemento();else if(t instanceof Id)this.rawUrlTree=i.initialUrl;else if(t instanceof g6){if("eager"===this.urlUpdateStrategy&&!i.extras.skipLocationChange){const r=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(r,i)}}else t instanceof mT?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):t instanceof Ed&&(t.code===go.GuardRejected||t.code===go.NoDataFromResolver)?this.restoreHistory(i):t instanceof $y?this.restoreHistory(i,!0):t instanceof Ys&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",s)}else{const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(r,"",o)}}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&0===o&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=bi(n)))(r||n)}})();static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Sp=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Sp||{});function U6(n,e){n.events.pipe(Gn(t=>t instanceof Ys||t instanceof Ed||t instanceof $y||t instanceof Id),Ne(t=>t instanceof Ys||t instanceof Id?Sp.COMPLETE:t instanceof Ed&&(t.code===go.Redirect||t.code===go.SupersededByNewNavigation)?Sp.REDIRECTING:Sp.FAILED),Gn(t=>t!==Sp.REDIRECTING),$n(1)).subscribe(()=>{e()})}function ume(n){throw n}const dme={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},hme={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Se=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=J(QB),this.stateManager=J(B6),this.options=J(kd,{optional:!0})||{},this.pendingTasks=J(jf),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=J(Qy),this.urlSerializer=J(xd),this.location=J(yi),this.urlHandlingStrategy=J(OT),this._events=new Mt,this.errorHandler=this.options.errorHandler||ume,this.navigated=!1,this.routeReuseStrategy=J(sme),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=J(Od,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!J(Gy,{optional:!0}),this.eventsSubscription=new _i,this.isNgZoneEnabled=J(Te)instanceof Te&&Te.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(i=>{try{const r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(null!==r&&null!==o)if(this.stateManager.handleRouterEvent(i,o),i instanceof Ed&&i.code!==go.Redirect&&i.code!==go.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Ys)this.navigated=!0;else if(i instanceof _T){const s=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),a={info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||ome(r.source)};this.scheduleNavigation(s,Cp,null,a,{resolve:r.resolve,reject:r.reject,promise:r.promise})}(function pme(n){return!(n instanceof mT||n instanceof _T)})(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Cp,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",i)},0)})}navigateToSyncWithBrowser(t,i,r){const o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){const c={...r};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(o.state=c)}const a=this.parseUrl(t);this.scheduleNavigation(a,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(IT),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){const{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=i,l=c?this.currentUrlTree.fragment:s;let d,u=null;switch(a){case"merge":u={...this.currentUrlTree.queryParams,...o};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}null!==u&&(u=this.removeEmptyProps(u));try{d=c6(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),d=this.currentUrlTree.root}return l6(d,t,u,l??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=Cd(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,Cp,null,i)}navigate(t,i={skipLocationChange:!1}){return function fme(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new z(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,i){let r;if(r=!0===i?{...dme}:!1===i?{...hme}:i,Cd(t))return Jj(this.currentUrlTree,t,r);const o=this.parseUrl(t);return Jj(this.currentUrlTree,o,r)}removeEmptyProps(t){return Object.entries(t).reduce((i,[r,o])=>(null!=o&&(i[r]=o),i),{})}scheduleNavigation(t,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((d,h)=>{a=d,c=h});const u=this.pendingTasks.add();return U6(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class z6{}let _me=(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.injector=r,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Gn(t=>t instanceof Ys),yd(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=Mb(o.providers,t,`Route: ${o.path}`));const s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return pi(r).pipe(md())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):xe(null);const o=r.pipe(vi(s=>null===s?xe(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));return i.loadComponent&&!i._loadedComponent?pi([o,this.loader.loadComponent(i)]).pipe(md()):o})}static#e=this.\u0275fac=function(i){return new(i||n)($(Se),$(oU),$(qr),$(z6),$(kT))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const RT=new Y("");let j6=(()=>{class n{constructor(t,i,r,o,s={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof jy?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ys?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Id&&t.code===Hy.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof m6&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new m6(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){bE()};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac})}return n})();function gs(n,e){return{\u0275kind:n,\u0275providers:e}}function $6(){const n=J(jt);return e=>{const t=n.get(as);if(e!==t.components[0])return;const i=n.get(Se),r=n.get(G6);1===n.get(NT)&&i.initialNavigation(),n.get(q6,null,at.Optional)?.setUpPreloading(),n.get(RT,null,at.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const G6=new Y("",{factory:()=>new Mt}),NT=new Y("",{providedIn:"root",factory:()=>1}),q6=new Y("");function wme(n){return gs(0,[{provide:q6,useExisting:_me},{provide:z6,useExisting:n}])}function Cme(n){return gs(9,[{provide:L6,useValue:ime},{provide:V6,useValue:{skipNextTransition:!!n?.skipInitialTransition,...n}}])}const W6=new Y("ROUTER_FORROOT_GUARD"),Eme=[yi,{provide:xd,useClass:dT},Se,Ep,{provide:ft,useFactory:function H6(n){return n.routerState.root},deps:[Se]},kT,[]];let Bo=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[Eme,[],{provide:Od,multi:!0,useValue:t},{provide:W6,useFactory:Mme,deps:[[Se,new Xt,new _f]]},{provide:kd,useValue:i||{}},i?.useHash?{provide:Ua,useClass:zU}:{provide:Ua,useClass:UU},{provide:RT,useFactory:()=>{const n=J(_de),e=J(Te),t=J(kd),i=J(Qy),r=J(xd);return t.scrollOffset&&n.setOffset(t.scrollOffset),new j6(r,i,n,e,t)}},i?.preloadingStrategy?wme(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?Ame(i):[],i?.bindToComponentInputs?gs(8,[C6,{provide:Gy,useExisting:C6}]).\u0275providers:[],i?.enableViewTransitions?Cme().\u0275providers:[],[{provide:K6,useFactory:$6},{provide:K1,multi:!0,useExisting:K6}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Od,multi:!0,useValue:t}]}}static#e=this.\u0275fac=function(i){return new(i||n)($(W6,8))};static#t=this.\u0275mod=et({type:n});static#n=this.\u0275inj=Ze({})}return n})();function Mme(n){return"guarded"}function Ame(n){return["disabled"===n.initialNavigation?gs(3,[{provide:rp,multi:!0,useFactory:()=>{const e=J(Se);return()=>{e.setUpLocationChangeListener()}}},{provide:NT,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?gs(2,[{provide:NT,useValue:0},{provide:rp,multi:!0,deps:[jt],useFactory:e=>{const t=e.get(Yle,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const r=e.get(Se),o=e.get(G6);U6(r,()=>{i(!0)}),e.get(Qy).afterPreactivation=()=>(i(!0),o.closed?xe(void 0):o),r.initialNavigation()}))}}]).\u0275providers:[]]}const K6=new Y(""),ue=function(n,e){if(!n)throw Pd(e)},Pd=function(n){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+n)},Q6=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=63&r|128):55296==(64512&r)&&i+1<n.length&&56320==(64512&n.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&n.charCodeAt(++i)),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=63&r|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=63&r|128)}return e},Yy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const o=n[r],s=r+1<n.length,a=s?n[r+1]:0,c=r+2<n.length,l=c?n[r+2]:0;let h=(15&a)<<2|l>>6,f=63&l;c||(f=64,s||(h=64)),i.push(t[o>>2],t[(3&o)<<4|a>>4],t[h],t[f])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Q6(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,i=0;for(;t<n.length;){const r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=n[t++];e[i++]=String.fromCharCode((31&r)<<6|63&o)}else if(r>239&&r<365){const c=((7&r)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[i++]=String.fromCharCode(55296+(c>>10)),e[i++]=String.fromCharCode(56320+(1023&c))}else{const o=n[t++],s=n[t++];e[i++]=String.fromCharCode((15&r)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const o=t[n.charAt(r++)],a=r<n.length?t[n.charAt(r)]:0;++r;const l=r<n.length?t[n.charAt(r)]:64;++r;const d=r<n.length?t[n.charAt(r)]:64;if(++r,null==o||null==a||null==l||null==d)throw new Ome;i.push(o<<2|a>>4),64!==l&&(i.push(a<<4&240|l>>2),64!==d&&i.push(l<<6&192|d))}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Ome extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Y6=function(n){const e=Q6(n);return Yy.encodeByteArray(e,!0)},Xy=function(n){return Y6(n).replace(/\./g,"")},Zy=function(n){try{return Yy.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Pme(n){return X6(void 0,n)}function X6(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===n&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!Rme(t)||(n[t]=X6(n[t],e[t]));return n}function Rme(n){return"__proto__"!==n}const Jy=()=>{try{return function Nme(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Zy(n[1]);return e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},Z6=n=>{var e,t;return null===(t=null===(e=Jy())||void 0===e?void 0:e.emulatorHosts)||void 0===t?void 0:t[n]},LT=n=>{const e=Z6(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),i]:[e.substring(0,t),i]},J6=()=>{var n;return null===(n=Jy())||void 0===n?void 0:n.config},e9=n=>{var e;return null===(e=Jy())||void 0===e?void 0:e[`_${n}`]};class Rd{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,i))}}}function t9(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i=e||"demo-project",r=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Xy(JSON.stringify({alg:"none",type:"JWT"})),Xy(JSON.stringify(s)),""].join(".")}function Wn(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function VT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wn())}function BT(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}function n9(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Wa(){try{return"object"==typeof indexedDB}catch{return!1}}function kp(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var o;e((null===(o=r.error)||void 0===o?void 0:o.message)||"")}}catch(t){e(t)}})}function UT(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class mo extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name="FirebaseError",Object.setPrototypeOf(this,mo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ms.prototype.create)}}class ms{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},r=`${this.service}/${e}`,o=this.errors[e],s=o?function Hme(n,e){return n.replace($me,(t,i)=>{const r=e[i];return null!=r?String(r):`<${i}?>`})}(o,i):"Error";return new mo(r,`${this.serviceName}: ${s} (${r}).`,i)}}const $me=/\{\$([^}]+)}/g;function Op(n){return JSON.parse(n)}function Vi(n){return JSON.stringify(n)}const ev=function(n){let e={},t={},i={},r="";try{const o=n.split(".");e=Op(Zy(o[0])||""),t=Op(Zy(o[1])||""),r=o[2],i=t.d||{},delete t.d}catch{}return{header:e,claims:t,data:i,signature:r}};function Zs(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function Nd(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function zT(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function tv(n,e,t){const i={};for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=e.call(t,n[r],r,n));return i}function nv(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const r of t){if(!i.includes(r))return!1;const o=n[r],s=e[r];if(i9(o)&&i9(s)){if(!nv(o,s))return!1}else if(o!==s)return!1}for(const r of i)if(!t.includes(r))return!1;return!0}function i9(n){return null!==n&&"object"==typeof n}function Pp(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Rp(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,o]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(o)}}),e}function Np(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}class Wme{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const i=this.W_;if("string"==typeof e)for(let d=0;d<16;d++)i[d]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let d=0;d<16;d++)i[d]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let d=16;d<80;d++){const h=i[d-3]^i[d-8]^i[d-14]^i[d-16];i[d]=4294967295&(h<<1|h>>>31)}let l,u,r=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],c=this.chain_[4];for(let d=0;d<80;d++){d<40?d<20?(l=a^o&(s^a),u=1518500249):(l=o^s^a,u=1859775393):d<60?(l=o&s|a&(o|s),u=2400959708):(l=o^s^a,u=3395469782);const h=(r<<5|r>>>27)+l+c+u+i[d]&4294967295;c=a,a=s,s=4294967295&(o<<30|o>>>2),o=r,r=h}this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const i=t-this.blockSize;let r=0;const o=this.buf_;let s=this.inbuf_;for(;r<t;){if(0===s)for(;r<=i;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(o[s]=e.charCodeAt(r),++s,++r,s===this.blockSize){this.compress_(o),s=0;break}}else for(;r<t;)if(o[s]=e[r],++s,++r,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&t,t/=256;this.compress_(this.buf_);let i=0;for(let r=0;r<5;r++)for(let o=24;o>=0;o-=8)e[i]=this.chain_[r]>>o&255,++i;return e}}class Qme{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(void 0===e&&void 0===t&&void 0===i)throw new Error("Missing Observer.");r=function Yme(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:i},void 0===r.next&&(r.next=jT),void 0===r.error&&(r.error=jT),void 0===r.complete&&(r.complete=jT);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function jT(){}const rv=function(n){let e=0;for(let t=0;t<n.length;t++){const i=n.charCodeAt(t);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,t++):e+=3}return e},Zme=1e3,Jme=2,e_e=144e5,t_e=.5;function HT(n,e=Zme,t=Jme){const i=e*Math.pow(t,n),r=Math.round(t_e*i*(Math.random()-.5)*2);return Math.min(e_e,i+r)}function bn(n){return n&&n._delegate?n._delegate:n}class wi{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ul="[DEFAULT]";class i_e{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new Rd;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e?.identifier),r=null!==(t=e?.optional)&&void 0!==t&&t;if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function o_e(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ul})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(e=ul){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return b(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=ul){return this.instances.has(e)}getOptions(e=ul){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[o,s]of this.instancesDeferred.entries())i===this.normalizeInstanceIdentifier(o)&&s.resolve(r);return r}onInit(e,t){var i;const r=this.normalizeInstanceIdentifier(t),o=null!==(i=this.onInitCallbacks.get(r))&&void 0!==i?i:new Set;o.add(e),this.onInitCallbacks.set(r,o);const s=this.instances.get(r);return s&&e(s,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const r of i)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===ul?void 0:n),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}var n;return i||null}normalizeInstanceIdentifier(e=ul){return this.component?this.component.multipleInstances?e:ul:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class s_e{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new i_e(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const $T=[];var _t=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(_t||{});const r9={debug:_t.DEBUG,verbose:_t.VERBOSE,info:_t.INFO,warn:_t.WARN,error:_t.ERROR,silent:_t.SILENT},a_e=_t.INFO,c_e={[_t.DEBUG]:"log",[_t.VERBOSE]:"log",[_t.INFO]:"info",[_t.WARN]:"warn",[_t.ERROR]:"error"},l_e=(n,e,...t)=>{if(e<n.logLevel)return;const i=(new Date).toISOString(),r=c_e[e];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[r](`[${i}]  ${n.name}:`,...t)};class dl{constructor(e){this.name=e,this._logLevel=a_e,this._logHandler=l_e,this._userLogHandler=null,$T.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in _t))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?r9[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,_t.DEBUG,...e),this._logHandler(this,_t.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,_t.VERBOSE,...e),this._logHandler(this,_t.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,_t.INFO,...e),this._logHandler(this,_t.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,_t.WARN,...e),this._logHandler(this,_t.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,_t.ERROR,...e),this._logHandler(this,_t.ERROR,...e)}}const u_e=(n,e)=>e.some(t=>n instanceof t);let o9,s9;const a9=new WeakMap,GT=new WeakMap,c9=new WeakMap,qT=new WeakMap,WT=new WeakMap;let KT={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return GT.get(n);if("objectStoreNames"===e)return n.objectStoreNames||c9.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ka(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function __e(n){return"function"==typeof n?function m_e(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function h_e(){return s9||(s9=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(QT(this),e),Ka(a9.get(this))}:function(...e){return Ka(n.apply(QT(this),e))}:function(e,...t){const i=n.call(QT(this),e,...t);return c9.set(i,e.sort?e.sort():[e]),Ka(i)}}(n):(n instanceof IDBTransaction&&function p_e(n){if(GT.has(n))return;const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),r()},s=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});GT.set(n,e)}(n),u_e(n,function d_e(){return o9||(o9=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,KT):n)}function Ka(n){if(n instanceof IDBRequest)return function f_e(n){const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Ka(n.result)),r()},s=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&a9.set(t,n)}).catch(()=>{}),WT.set(e,n),e}(n);if(qT.has(n))return qT.get(n);const e=__e(n);return e!==n&&(qT.set(n,e),WT.set(e,n)),e}const QT=n=>WT.get(n),y_e=["get","getKey","getAll","getAllKeys","count"],v_e=["put","add","delete","clear"],YT=new Map;function l9(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(YT.get(e))return YT.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,r=v_e.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!y_e.includes(t))return;const o=function(){var s=b(function*(a,...c){const l=this.transaction(a,r?"readwrite":"readonly");let u=l.store;return i&&(u=u.index(c.shift())),(yield Promise.all([u[t](...c),r&&l.done]))[0]});return function(c){return s.apply(this,arguments)}}();return YT.set(e,o),o}!function g_e(n){KT=n(KT)}(n=>({...n,get:(e,t,i)=>l9(e,t)||n.get(e,t,i),has:(e,t)=>!!l9(e,t)||n.has(e,t)}));class w_e{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function x_e(n){const e=n.getComponent();return"VERSION"===e?.type}(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}return null}).filter(t=>t).join(" ")}}const XT="@firebase/app",hl=new dl("@firebase/app"),ov="[DEFAULT]",K_e={[XT]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},fl=new Map,sv=new Map;function Q_e(n,e){try{n.container.addComponent(e)}catch(t){hl.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Bi(n){const e=n.name;if(sv.has(e))return hl.debug(`There were multiple attempts to register component ${e}.`),!1;sv.set(e,n);for(const t of fl.values())Q_e(t,n);return!0}function Qa(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}const Js=new ms("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class X_e{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new wi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Js.create("app-deleted",{appName:this._name})}}const Ya="9.23.0";function d9(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const i=Object.assign({name:ov,automaticDataCollectionEnabled:!1},e),r=i.name;if("string"!=typeof r||!r)throw Js.create("bad-app-name",{appName:String(r)});if(t||(t=J6()),!t)throw Js.create("no-options");const o=fl.get(r);if(o){if(nv(t,o.options)&&nv(i,o.config))return o;throw Js.create("duplicate-app",{appName:r})}const s=new s_e(r);for(const c of sv.values())s.addComponent(c);const a=new X_e(t,i,s);return fl.set(r,a),a}function Fp(n=ov){const e=fl.get(n);if(!e&&n===ov&&J6())return d9();if(!e)throw Js.create("no-app",{appName:n});return e}function h9(){return Array.from(fl.values())}function zt(n,e,t){var i;let r=null!==(i=K_e[n])&&void 0!==i?i:n;t&&(r+=`-${t}`);const o=r.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${r}" with version "${e}":`];return o&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void hl.warn(a.join(" "))}Bi(new wi(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const Z_e="firebase-heartbeat-database",J_e=1,Lp="firebase-heartbeat-store";let JT=null;function f9(){return JT||(JT=function b_e(n,e,{blocked:t,upgrade:i,blocking:r,terminated:o}={}){const s=indexedDB.open(n,e),a=Ka(s);return i&&s.addEventListener("upgradeneeded",c=>{i(Ka(s.result),c.oldVersion,c.newVersion,Ka(s.transaction),c)}),t&&s.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),r&&c.addEventListener("versionchange",l=>r(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}(Z_e,J_e,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Lp)}}).catch(n=>{throw Js.create("idb-open",{originalErrorMessage:n.message})})),JT}function eD(){return(eD=b(function*(n){try{return yield(yield f9()).transaction(Lp).objectStore(Lp).get(g9(n))}catch(e){if(e instanceof mo)hl.warn(e.message);else{const t=Js.create("idb-get",{originalErrorMessage:e?.message});hl.warn(t.message)}}})).apply(this,arguments)}function p9(n,e){return tD.apply(this,arguments)}function tD(){return(tD=b(function*(n,e){try{const i=(yield f9()).transaction(Lp,"readwrite");yield i.objectStore(Lp).put(e,g9(n)),yield i.done}catch(t){if(t instanceof mo)hl.warn(t.message);else{const i=Js.create("idb-set",{originalErrorMessage:t?.message});hl.warn(i.message)}}})).apply(this,arguments)}function g9(n){return`${n.name}!${n.options.appId}`}class ibe{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new obe(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){var e=this;return b(function*(){const i=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=m9();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==r&&!e._heartbeatsCache.heartbeats.some(o=>o.date===r))return e._heartbeatsCache.heartbeats.push({date:r,agent:i}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(o=>{const s=new Date(o.date).valueOf();return Date.now()-s<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return b(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const t=m9(),{heartbeatsToSend:i,unsentEntries:r}=function rbe(n,e=1024){const t=[];let i=n.slice();for(const r of n){const o=t.find(s=>s.agent===r.agent);if(o){if(o.dates.push(r.date),_9(t)>e){o.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),_9(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}(e._heartbeatsCache.heartbeats),o=Xy(JSON.stringify({version:2,heartbeats:i}));return e._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(e._heartbeatsCache.heartbeats=r,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),o})()}}function m9(){return(new Date).toISOString().substring(0,10)}class obe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return b(function*(){return!!Wa()&&kp().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return b(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function ebe(n){return eD.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var t=this;return b(function*(){var i;if(yield t._canUseIndexedDBPromise){const o=yield t.read();return p9(t.app,{lastSentHeartbeatDate:null!==(i=e.lastSentHeartbeatDate)&&void 0!==i?i:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return b(function*(){var i;if(yield t._canUseIndexedDBPromise){const o=yield t.read();return p9(t.app,{lastSentHeartbeatDate:null!==(i=e.lastSentHeartbeatDate)&&void 0!==i?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}})()}}function _9(n){return Xy(JSON.stringify({version:2,heartbeats:n})).length}!function sbe(n){Bi(new wi("platform-logger",e=>new w_e(e),"PRIVATE")),Bi(new wi("heartbeat",e=>new ibe(e),"PRIVATE")),zt(XT,"0.9.13",n),zt(XT,"0.9.13","esm2017"),zt("fire-js","")}(""),zt("firebase","9.23.0","app");const lbe=(n,e)=>e.some(t=>n instanceof t);let b9,y9;const v9=new WeakMap,nD=new WeakMap,w9=new WeakMap,iD=new WeakMap,rD=new WeakMap;let oD={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return nD.get(n);if("objectStoreNames"===e)return n.objectStoreNames||w9.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Xa(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function mbe(n){return"function"==typeof n?function gbe(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function dbe(){return y9||(y9=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(sD(this),e),Xa(v9.get(this))}:function(...e){return Xa(n.apply(sD(this),e))}:function(e,...t){const i=n.call(sD(this),e,...t);return w9.set(i,e.sort?e.sort():[e]),Xa(i)}}(n):(n instanceof IDBTransaction&&function fbe(n){if(nD.has(n))return;const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),r()},s=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});nD.set(n,e)}(n),lbe(n,function ube(){return b9||(b9=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,oD):n)}function Xa(n){if(n instanceof IDBRequest)return function hbe(n){const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Xa(n.result)),r()},s=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&v9.set(t,n)}).catch(()=>{}),rD.set(e,n),e}(n);if(iD.has(n))return iD.get(n);const e=mbe(n);return e!==n&&(iD.set(n,e),rD.set(e,n)),e}const sD=n=>rD.get(n),bbe=["get","getKey","getAll","getAllKeys","count"],ybe=["put","add","delete","clear"],aD=new Map;function x9(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(aD.get(e))return aD.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,r=ybe.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!bbe.includes(t))return;const o=function(){var s=b(function*(a,...c){const l=this.transaction(a,r?"readwrite":"readonly");let u=l.store;return i&&(u=u.index(c.shift())),(yield Promise.all([u[t](...c),r&&l.done]))[0]});return function(c){return s.apply(this,arguments)}}();return aD.set(e,o),o}!function pbe(n){oD=n(oD)}(n=>({...n,get:(e,t,i)=>x9(e,t)||n.get(e,t,i),has:(e,t)=>!!x9(e,t)||n.has(e,t)}));const C9="@firebase/installations",cD="0.6.4",E9=1e4,I9=`w:${cD}`,T9="FIS_v2",vbe="https://firebaseinstallations.googleapis.com/v1",wbe=36e5,ea=new ms("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function D9(n){return n instanceof mo&&n.code.includes("request-failed")}function lD({projectId:n}){return`${vbe}/projects/${n}/installations`}function M9(n){return{token:n.token,requestStatus:2,expiresIn:Ibe(n.expiresIn),creationTime:Date.now()}}function uD(n,e){return dD.apply(this,arguments)}function dD(){return(dD=b(function*(n,e){const i=(yield e.json()).error;return ea.create("request-failed",{requestName:n,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})})).apply(this,arguments)}function A9({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function hD(n){return fD.apply(this,arguments)}function fD(){return(fD=b(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function Ibe(n){return Number(n.replace("s","000"))}function pD(){return(pD=b(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const i=lD(n),r=A9(n),o=e.getImmediate({optional:!0});if(o){const l=yield o.getHeartbeatsHeader();l&&r.append("x-firebase-client",l)}const a={method:"POST",headers:r,body:JSON.stringify({fid:t,authVersion:T9,appId:n.appId,sdkVersion:I9})},c=yield hD(()=>fetch(i,a));if(c.ok){const l=yield c.json();return{fid:l.fid||t,registrationStatus:2,refreshToken:l.refreshToken,authToken:M9(l.authToken)}}throw yield uD("Create Installation",c)})).apply(this,arguments)}function k9(n){return new Promise(e=>{setTimeout(e,n)})}const Abe=/^[cdef][\w-]{21}$/,gD="";function Sbe(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function kbe(n){return function Mbe(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return Abe.test(t)?t:gD}catch{return gD}}function Fd(n){return`${n.appName}!${n.appId}`}const Ld=new Map;function O9(n,e){const t=Fd(n);P9(t,e),function Rbe(n,e){const t=function R9(){return!pl&&"BroadcastChannel"in self&&(pl=new BroadcastChannel("[Firebase] FID Change"),pl.onmessage=n=>{P9(n.data.key,n.data.fid)}),pl}();t&&t.postMessage({key:n,fid:e}),function N9(){0===Ld.size&&pl&&(pl.close(),pl=null)}()}(t,e)}function P9(n,e){const t=Ld.get(n);if(t)for(const i of t)i(e)}let pl=null;const Nbe="firebase-installations-database",Fbe=1,gl="firebase-installations-store";let mD=null;function _D(){return mD||(mD=function _be(n,e,{blocked:t,upgrade:i,blocking:r,terminated:o}={}){const s=indexedDB.open(n,e),a=Xa(s);return i&&s.addEventListener("upgradeneeded",c=>{i(Xa(s.result),c.oldVersion,c.newVersion,Xa(s.transaction))}),t&&s.addEventListener("blocked",()=>t()),a.then(c=>{o&&c.addEventListener("close",()=>o()),r&&c.addEventListener("versionchange",()=>r())}).catch(()=>{}),a}(Nbe,Fbe,{upgrade:(n,e)=>{0===e&&n.createObjectStore(gl)}})),mD}function av(n,e){return bD.apply(this,arguments)}function bD(){return(bD=b(function*(n,e){const t=Fd(n),r=(yield _D()).transaction(gl,"readwrite"),o=r.objectStore(gl),s=yield o.get(t);return yield o.put(e,t),yield r.done,(!s||s.fid!==e.fid)&&O9(n,e.fid),e})).apply(this,arguments)}function yD(n){return vD.apply(this,arguments)}function vD(){return(vD=b(function*(n){const e=Fd(n),i=(yield _D()).transaction(gl,"readwrite");yield i.objectStore(gl).delete(e),yield i.done})).apply(this,arguments)}function Vp(n,e){return wD.apply(this,arguments)}function wD(){return(wD=b(function*(n,e){const t=Fd(n),r=(yield _D()).transaction(gl,"readwrite"),o=r.objectStore(gl),s=yield o.get(t),a=e(s);return void 0===a?yield o.delete(t):yield o.put(a,t),yield r.done,a&&(!s||s.fid!==a.fid)&&O9(n,a.fid),a})).apply(this,arguments)}function xD(n){return CD.apply(this,arguments)}function CD(){return CD=b(function*(n){let e;const t=yield Vp(n.appConfig,i=>{const r=function Lbe(n){return L9(n||{fid:Sbe(),registrationStatus:0})}(i),o=function Vbe(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(ea.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=function Bbe(n,e){return ED.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:i}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Ube(n)}:{installationEntry:e}}(n,r);return e=o.registrationPromise,o.installationEntry});return t.fid===gD?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}}),CD.apply(this,arguments)}function ED(){return ED=b(function*(n,e){try{const t=yield function Dbe(n,e){return pD.apply(this,arguments)}(n,e);return av(n.appConfig,t)}catch(t){throw D9(t)&&409===t.customData.serverCode?yield yD(n.appConfig):yield av(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}),ED.apply(this,arguments)}function Ube(n){return ID.apply(this,arguments)}function ID(){return(ID=b(function*(n){let e=yield F9(n.appConfig);for(;1===e.registrationStatus;)yield k9(100),e=yield F9(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:i}=yield xD(n);return i||t}return e})).apply(this,arguments)}function F9(n){return Vp(n,e=>{if(!e)throw ea.create("installation-not-found");return L9(e)})}function L9(n){return function zbe(n){return 1===n.registrationStatus&&n.registrationTime+E9<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function TD(){return(TD=b(function*({appConfig:n,heartbeatServiceProvider:e},t){const i=function Hbe(n,{fid:e}){return`${lD(n)}/${e}/authTokens:generate`}(n,t),r=function S9(n,{refreshToken:e}){const t=A9(n);return t.append("Authorization",function Tbe(n){return`${T9} ${n}`}(e)),t}(n,t),o=e.getImmediate({optional:!0});if(o){const l=yield o.getHeartbeatsHeader();l&&r.append("x-firebase-client",l)}const a={method:"POST",headers:r,body:JSON.stringify({installation:{sdkVersion:I9,appId:n.appId}})},c=yield hD(()=>fetch(i,a));if(c.ok)return M9(yield c.json());throw yield uD("Generate Auth Token",c)})).apply(this,arguments)}function DD(n){return MD.apply(this,arguments)}function MD(){return MD=b(function*(n,e=!1){let t;const i=yield Vp(n.appConfig,o=>{if(!B9(o))throw ea.create("not-registered");const s=o.authToken;if(!e&&function qbe(n){return 2===n.requestStatus&&!function Wbe(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+wbe}(n)}(s))return o;if(1===s.requestStatus)return t=function $be(n,e){return AD.apply(this,arguments)}(n,e),o;{if(!navigator.onLine)throw ea.create("app-offline");const a=function Kbe(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}(o);return t=function Gbe(n,e){return SD.apply(this,arguments)}(n,a),a}});return t?yield t:i.authToken}),MD.apply(this,arguments)}function AD(){return(AD=b(function*(n,e){let t=yield V9(n.appConfig);for(;1===t.authToken.requestStatus;)yield k9(100),t=yield V9(n.appConfig);const i=t.authToken;return 0===i.requestStatus?DD(n,e):i})).apply(this,arguments)}function V9(n){return Vp(n,e=>{if(!B9(e))throw ea.create("not-registered");return function Qbe(n){return 1===n.requestStatus&&n.requestTime+E9<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function SD(){return SD=b(function*(n,e){try{const t=yield function jbe(n,e){return TD.apply(this,arguments)}(n,e),i=Object.assign(Object.assign({},e),{authToken:t});return yield av(n.appConfig,i),t}catch(t){if(!D9(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield av(n.appConfig,i)}else yield yD(n.appConfig);throw t}}),SD.apply(this,arguments)}function B9(n){return void 0!==n&&2===n.registrationStatus}function kD(){return(kD=b(function*(n){const e=n,{installationEntry:t,registrationPromise:i}=yield xD(e);return i?i.catch(console.error):DD(e).catch(console.error),t.fid})).apply(this,arguments)}function OD(){return OD=b(function*(n,e=!1){const t=n;return yield function Zbe(n){return PD.apply(this,arguments)}(t),(yield DD(t,e)).token}),OD.apply(this,arguments)}function PD(){return(PD=b(function*(n){const{registrationPromise:e}=yield xD(n);e&&(yield e)})).apply(this,arguments)}function FD(n){return ea.create("missing-app-config-values",{valueName:n})}const U9="installations",iye=n=>{const e=n.getProvider("app").getImmediate(),t=function tye(n){if(!n||!n.options)throw FD("App Configuration");if(!n.name)throw FD("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw FD(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:Qa(e,"heartbeat"),_delete:()=>Promise.resolve()}},rye=n=>{const t=Qa(n.getProvider("app").getImmediate(),U9).getImmediate();return{getId:()=>function Ybe(n){return kD.apply(this,arguments)}(t),getToken:r=>function Xbe(n){return OD.apply(this,arguments)}(t,r)}};(function oye(){Bi(new wi(U9,iye,"PUBLIC")),Bi(new wi("installations-internal",rye,"PRIVATE"))})(),zt(C9,cD),zt(C9,cD,"esm2017");const LD="@firebase/remote-config",Fr=new ms("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class mye{constructor(e,t,i,r){this.client=e,this.storage=t,this.storageCache=i,this.logger=r}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const i=Date.now()-t,r=i<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${i}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${r}.`),r}fetch(e){var t=this;return b(function*(){const[i,r]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(r&&t.isCachedDataFresh(e.cacheMaxAgeMillis,i))return r;e.eTag=r&&r.eTag;const o=yield t.client.fetch(e),s=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===o.status&&s.push(t.storage.setLastSuccessfulFetchResponse(o)),yield Promise.all(s),o})()}}function _ye(n=navigator){return n.languages&&n.languages[0]||n.language}class bye{constructor(e,t,i,r,o,s){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=i,this.projectId=r,this.apiKey=o,this.appId=s}fetch(e){var t=this;return b(function*(){const[i,r]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),s=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},c={sdk_version:t.sdkVersion,app_instance_id:i,app_instance_id_token:r,app_id:t.appId,language_code:_ye()},l={method:"POST",headers:a,body:JSON.stringify(c)},u=fetch(s,l),d=new Promise((O,M)=>{e.signal.addEventListener(()=>{const B=new Error("The operation was aborted.");B.name="AbortError",M(B)})});let h;try{yield Promise.race([u,d]),h=yield u}catch(O){let M="fetch-client-network";throw"AbortError"===O?.name&&(M="fetch-timeout"),Fr.create(M,{originalErrorMessage:O?.message})}let f=h.status;const _=h.headers.get("ETag")||void 0;let C,I;if(200===h.status){let O;try{O=yield h.json()}catch(M){throw Fr.create("fetch-client-parse",{originalErrorMessage:M?.message})}C=O.entries,I=O.state}if("INSTANCE_STATE_UNSPECIFIED"===I?f=500:"NO_CHANGE"===I?f=304:("NO_TEMPLATE"===I||"EMPTY_CONFIG"===I)&&(C={}),304!==f&&200!==f)throw Fr.create("fetch-status",{httpStatus:f});return{status:f,eTag:_,config:C}})()}}class wye{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return b(function*(){const i=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,i)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:i}){var r=this;return b(function*(){yield function yye(n,e){return new Promise((t,i)=>{const r=Math.max(e-Date.now(),0),o=setTimeout(t,r);n.addEventListener(()=>{clearTimeout(o),i(Fr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const o=yield r.client.fetch(e);return yield r.storage.deleteThrottleMetadata(),o}catch(o){if(!function vye(n){if(!(n instanceof mo&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(o))throw o;const s={throttleEndTimeMillis:Date.now()+HT(i),backoffCount:i+1};return yield r.storage.setThrottleMetadata(s),r.attemptFetch(e,s)}})()}}class Eye{constructor(e,t,i,r,o){this.app=e,this._client=t,this._storageCache=i,this._storage=r,this._logger=o,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function lv(n,e){const t=n.target.error||void 0;return Fr.create(e,{originalErrorMessage:t&&t?.message})}const ml="app_namespace_store";class Mye{constructor(e,t,i,r=function Dye(){return new Promise((n,e)=>{try{const t=indexedDB.open("firebase_remote_config",1);t.onerror=i=>{e(lv(i,"storage-open"))},t.onsuccess=i=>{n(i.target.result)},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(ml,{keyPath:"compositeKey"})}}catch(t){e(Fr.create("storage-open",{originalErrorMessage:t?.message}))}})}()){this.appId=e,this.appName=t,this.namespace=i,this.openDbPromise=r}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return b(function*(){const i=yield t.openDbPromise;return new Promise((r,o)=>{const a=i.transaction([ml],"readonly").objectStore(ml),c=t.createCompositeKey(e);try{const l=a.get(c);l.onerror=u=>{o(lv(u,"storage-get"))},l.onsuccess=u=>{const d=u.target.result;r(d?d.value:void 0)}}catch(l){o(Fr.create("storage-get",{originalErrorMessage:l?.message}))}})})()}set(e,t){var i=this;return b(function*(){const r=yield i.openDbPromise;return new Promise((o,s)=>{const c=r.transaction([ml],"readwrite").objectStore(ml),l=i.createCompositeKey(e);try{const u=c.put({compositeKey:l,value:t});u.onerror=d=>{s(lv(d,"storage-set"))},u.onsuccess=()=>{o()}}catch(u){s(Fr.create("storage-set",{originalErrorMessage:u?.message}))}})})()}delete(e){var t=this;return b(function*(){const i=yield t.openDbPromise;return new Promise((r,o)=>{const a=i.transaction([ml],"readwrite").objectStore(ml),c=t.createCompositeKey(e);try{const l=a.delete(c);l.onerror=u=>{o(lv(u,"storage-delete"))},l.onsuccess=()=>{r()}}catch(l){o(Fr.create("storage-delete",{originalErrorMessage:l?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class Aye{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return b(function*(){const t=e.storage.getLastFetchStatus(),i=e.storage.getLastSuccessfulFetchTimestampMillis(),r=e.storage.getActiveConfig(),o=yield t;o&&(e.lastFetchStatus=o);const s=yield i;s&&(e.lastSuccessfulFetchTimestampMillis=s);const a=yield r;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function kye(){return jD.apply(this,arguments)}function jD(){return(jD=b(function*(){if(!Wa())return!1;try{return yield kp()}catch{return!1}})).apply(this,arguments)}!function Sye(){Bi(new wi("remote-config",function n(e,{instanceIdentifier:t}){const i=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Fr.create("registration-window");if(!Wa())throw Fr.create("indexed-db-unavailable");const{projectId:o,apiKey:s,appId:a}=i.options;if(!o)throw Fr.create("registration-project-id");if(!s)throw Fr.create("registration-api-key");if(!a)throw Fr.create("registration-app-id");const c=new Mye(a,i.name,t=t||"firebase"),l=new Aye(c),u=new dl(LD);u.logLevel=_t.ERROR;const d=new bye(r,Ya,t,o,s,a),h=new wye(d,c),f=new mye(h,c,l,u),_=new Eye(i,f,l,c,u);return function fye(n){const e=bn(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(_),_},"PUBLIC").setMultipleInstances(!0)),zt(LD,"0.4.4"),zt(LD,"0.4.4","esm2017")}();const Oye=(n,e)=>e.some(t=>n instanceof t);let $9,G9;const q9=new WeakMap,HD=new WeakMap,W9=new WeakMap,$D=new WeakMap,GD=new WeakMap;let qD={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return HD.get(n);if("objectStoreNames"===e)return n.objectStoreNames||W9.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ta(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function Bye(n){return"function"==typeof n?function Vye(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Rye(){return G9||(G9=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(WD(this),e),ta(q9.get(this))}:function(...e){return ta(n.apply(WD(this),e))}:function(e,...t){const i=n.call(WD(this),e,...t);return W9.set(i,e.sort?e.sort():[e]),ta(i)}}(n):(n instanceof IDBTransaction&&function Fye(n){if(HD.has(n))return;const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),r()},s=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});HD.set(n,e)}(n),Oye(n,function Pye(){return $9||($9=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,qD):n)}function ta(n){if(n instanceof IDBRequest)return function Nye(n){const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(ta(n.result)),r()},s=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&q9.set(t,n)}).catch(()=>{}),GD.set(e,n),e}(n);if($D.has(n))return $D.get(n);const e=Bye(n);return e!==n&&($D.set(n,e),GD.set(e,n)),e}const WD=n=>GD.get(n);function K9(n,e,{blocked:t,upgrade:i,blocking:r,terminated:o}={}){const s=indexedDB.open(n,e),a=ta(s);return i&&s.addEventListener("upgradeneeded",c=>{i(ta(s.result),c.oldVersion,c.newVersion,ta(s.transaction))}),t&&s.addEventListener("blocked",()=>t()),a.then(c=>{o&&c.addEventListener("close",()=>o()),r&&c.addEventListener("versionchange",()=>r())}).catch(()=>{}),a}function KD(n,{blocked:e}={}){const t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",()=>e()),ta(t).then(()=>{})}const Uye=["get","getKey","getAll","getAllKeys","count"],zye=["put","add","delete","clear"],QD=new Map;function Q9(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(QD.get(e))return QD.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,r=zye.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!Uye.includes(t))return;const o=function(){var s=b(function*(a,...c){const l=this.transaction(a,r?"readwrite":"readonly");let u=l.store;return i&&(u=u.index(c.shift())),(yield Promise.all([u[t](...c),r&&l.done]))[0]});return function(c){return s.apply(this,arguments)}}();return QD.set(e,o),o}!function Lye(n){qD=n(qD)}(n=>({...n,get:(e,t,i)=>Q9(e,t)||n.get(e,t,i),has:(e,t)=>!!Q9(e,t)||n.has(e,t)}));const jye="/firebase-messaging-sw.js",Hye="/firebase-cloud-messaging-push-scope",Y9="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",$ye="https://fcmregistrations.googleapis.com/v1",X9="google.c.a.c_id",Gye="google.c.a.c_l",qye="google.c.a.ts";var uv=function(n){return n.PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",n}(uv||{});function na(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Qye(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),i=atob(t),r=new Uint8Array(i.length);for(let o=0;o<i.length;++o)r[o]=i.charCodeAt(o);return r}const YD="fcm_token_details_db",Yye=5,Z9="fcm_token_object_Store";function XD(){return XD=b(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(o=>o.name).includes(YD))return null;let e=null;return(yield K9(YD,Yye,{upgrade:(i=b(function*(r,o,s,a){var c;if(o<2||!r.objectStoreNames.contains(Z9))return;const l=a.objectStore(Z9),u=yield l.index("fcmSenderId").get(n);if(yield l.clear(),u)if(2===o){const d=u;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(c=d.createTime)&&void 0!==c?c:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:na(d.vapidKey)}}}else if(3===o){const d=u;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:na(d.auth),p256dh:na(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:na(d.vapidKey)}}}else if(4===o){const d=u;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:na(d.auth),p256dh:na(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:na(d.vapidKey)}}}}),function(o,s,a,c){return i.apply(this,arguments)})})).close(),yield KD(YD),yield KD("fcm_vapid_details_db"),yield KD("undefined"),function Zye(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var i}),XD.apply(this,arguments)}const Jye="firebase-messaging-database",eve=1,_l="firebase-messaging-store";let ZD=null;function JD(){return ZD||(ZD=K9(Jye,eve,{upgrade:(n,e)=>{0===e&&n.createObjectStore(_l)}})),ZD}function J9(n){return eM.apply(this,arguments)}function eM(){return eM=b(function*(n){const e=rM(n),i=yield(yield JD()).transaction(_l).objectStore(_l).get(e);if(i)return i;{const r=yield function Xye(n){return XD.apply(this,arguments)}(n.appConfig.senderId);if(r)return yield tM(n,r),r}}),eM.apply(this,arguments)}function tM(n,e){return nM.apply(this,arguments)}function nM(){return(nM=b(function*(n,e){const t=rM(n),r=(yield JD()).transaction(_l,"readwrite");return yield r.objectStore(_l).put(e,t),yield r.done,e})).apply(this,arguments)}function iM(){return(iM=b(function*(n){const e=rM(n),i=(yield JD()).transaction(_l,"readwrite");yield i.objectStore(_l).delete(e),yield i.done})).apply(this,arguments)}function rM({appConfig:n}){return n.appId}const Ui=new ms("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function ive(n,e){return oM.apply(this,arguments)}function oM(){return(oM=b(function*(n,e){const t=yield lM(n),i=tH(e),r={method:"POST",headers:t,body:JSON.stringify(i)};let o;try{o=yield(yield fetch(cM(n.appConfig),r)).json()}catch(s){throw Ui.create("token-subscribe-failed",{errorInfo:s?.toString()})}if(o.error)throw Ui.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw Ui.create("token-subscribe-no-token");return o.token})).apply(this,arguments)}function sM(){return(sM=b(function*(n,e){const t=yield lM(n),i=tH(e.subscriptionOptions),r={method:"PATCH",headers:t,body:JSON.stringify(i)};let o;try{o=yield(yield fetch(`${cM(n.appConfig)}/${e.token}`,r)).json()}catch(s){throw Ui.create("token-update-failed",{errorInfo:s?.toString()})}if(o.error)throw Ui.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw Ui.create("token-update-no-token");return o.token})).apply(this,arguments)}function eH(n,e){return aM.apply(this,arguments)}function aM(){return(aM=b(function*(n,e){const i={method:"DELETE",headers:yield lM(n)};try{const o=yield(yield fetch(`${cM(n.appConfig)}/${e}`,i)).json();if(o.error)throw Ui.create("token-unsubscribe-failed",{errorInfo:o.error.message})}catch(r){throw Ui.create("token-unsubscribe-failed",{errorInfo:r?.toString()})}})).apply(this,arguments)}function cM({projectId:n}){return`${$ye}/projects/${n}/registrations`}function lM(n){return uM.apply(this,arguments)}function uM(){return(uM=b(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})).apply(this,arguments)}function tH({p256dh:n,auth:e,endpoint:t,vapidKey:i}){const r={web:{endpoint:t,auth:e,p256dh:n}};return i!==Y9&&(r.web.applicationPubKey=i),r}const ove=6048e5;function dM(){return dM=b(function*(n){const e=yield function cve(n,e){return gM.apply(this,arguments)}(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:na(e.getKey("auth")),p256dh:na(e.getKey("p256dh"))},i=yield J9(n.firebaseDependencies);if(i){if(function lve(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}(i.subscriptionOptions,t))return Date.now()>=i.createTime+ove?function ave(n,e){return fM.apply(this,arguments)}(n,{token:i.token,createTime:Date.now(),subscriptionOptions:t}):i.token;try{yield eH(n.firebaseDependencies,i.token)}catch(r){console.warn(r)}return iH(n.firebaseDependencies,t)}return iH(n.firebaseDependencies,t)}),dM.apply(this,arguments)}function hM(){return hM=b(function*(n){const e=yield J9(n.firebaseDependencies);e&&(yield eH(n.firebaseDependencies,e.token),yield function tve(n){return iM.apply(this,arguments)}(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()}),hM.apply(this,arguments)}function fM(){return fM=b(function*(n,e){try{const t=yield function rve(n,e){return sM.apply(this,arguments)}(n.firebaseDependencies,e),i=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield tM(n.firebaseDependencies,i),t}catch(t){throw yield function nH(n){return hM.apply(this,arguments)}(n),t}}),fM.apply(this,arguments)}function iH(n,e){return pM.apply(this,arguments)}function pM(){return(pM=b(function*(n,e){const i={token:yield ive(n,e),createTime:Date.now(),subscriptionOptions:e};return yield tM(n,i),i.token})).apply(this,arguments)}function gM(){return(gM=b(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Qye(e)})})).apply(this,arguments)}function rH(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function uve(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const i=e.notification.body;i&&(n.notification.body=i);const r=e.notification.image;r&&(n.notification.image=r);const o=e.notification.icon;o&&(n.notification.icon=o)}(e,n),function dve(n,e){e.data&&(n.data=e.data)}(e,n),function hve(n,e){var t,i,r,o,s;if(!(e.fcmOptions||null!==(t=e.notification)&&void 0!==t&&t.click_action))return;n.fcmOptions={};const a=null!==(r=null===(i=e.fcmOptions)||void 0===i?void 0:i.link)&&void 0!==r?r:null===(o=e.notification)||void 0===o?void 0:o.click_action;a&&(n.fcmOptions.link=a);const c=null===(s=e.fcmOptions)||void 0===s?void 0:s.analytics_label;c&&(n.fcmOptions.analyticsLabel=c)}(e,n),e}function oH(n,e){const t=[];for(let i=0;i<n.length;i++)t.push(n.charAt(i)),i<e.length&&t.push(e.charAt(i));return t.join("")}function mM(n){return Ui.create("missing-app-config-values",{valueName:n})}oH("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),oH("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class gve{constructor(e,t,i){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const r=function pve(n){if(!n||!n.options)throw mM("App Configuration Object");if(!n.name)throw mM("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const i of e)if(!t[i])throw mM(i);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:r,installations:t,analyticsProvider:i}}_delete(){return Promise.resolve()}}function _M(){return(_M=b(function*(n){try{n.swRegistration=yield navigator.serviceWorker.register(jye,{scope:Hye}),n.swRegistration.update().catch(()=>{})}catch(e){throw Ui.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function bM(){return(bM=b(function*(n,e){if(!e&&!n.swRegistration&&(yield function sH(n){return _M.apply(this,arguments)}(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Ui.create("invalid-sw-registration");n.swRegistration=e}})).apply(this,arguments)}function yM(){return(yM=b(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=Y9)})).apply(this,arguments)}function vM(){return vM=b(function*(n,e){if(!navigator)throw Ui.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Ui.create("permission-blocked");return yield function _ve(n,e){return yM.apply(this,arguments)}(n,e?.vapidKey),yield function mve(n,e){return bM.apply(this,arguments)}(n,e?.serviceWorkerRegistration),function sve(n){return dM.apply(this,arguments)}(n)}),vM.apply(this,arguments)}function wM(){return(wM=b(function*(n,e,t){const i=function yve(n){switch(n){case uv.NOTIFICATION_CLICKED:return"notification_open";case uv.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(i,{message_id:t[X9],message_name:t[Gye],message_time:t[qye],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function xM(){return xM=b(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===uv.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(rH(t)):n.onMessageHandler.next(rH(t)));const i=t.data;(function fve(n){return"object"==typeof n&&!!n&&X9 in n})(i)&&"1"===i["google.c.a.e"]&&(yield function bve(n,e,t){return wM.apply(this,arguments)}(n,t.messageType,i))}),xM.apply(this,arguments)}const cH="@firebase/messaging",wve=n=>{const e=new gve(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function vve(n,e){return xM.apply(this,arguments)}(e,t)),e},xve=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:i=>function aH(n,e){return vM.apply(this,arguments)}(e,i)}};function uH(){return CM.apply(this,arguments)}function CM(){return(CM=b(function*(){try{yield kp()}catch{return!1}return typeof window<"u"&&Wa()&&UT()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Cve(){Bi(new wi("messaging",wve,"PUBLIC")),Bi(new wi("messaging-internal",xve,"PRIVATE")),zt(cH,"0.12.4"),zt(cH,"0.12.4","esm2017")}();const dv="analytics",Tve="firebase_id",Dve="origin",Mve=6e4,Ave="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",TM="https://www.googletagmanager.com/gtag/js",xi=new dl("@firebase/analytics"),yr=new ms("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function kve(n){if(!n.startsWith(TM)){const e=yr.create("invalid-gtag-resource",{gtagURL:n});return xi.warn(e.message),""}return n}function dH(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function DM(){return(DM=b(function*(n,e,t,i,r,o){const s=i[r];try{if(s)yield e[s];else{const c=(yield dH(t)).find(l=>l.measurementId===r);c&&(yield e[c.appId])}}catch(a){xi.error(a)}n("config",r,o)})).apply(this,arguments)}function MM(){return(MM=b(function*(n,e,t,i,r){try{let o=[];if(r&&r.send_to){let s=r.send_to;Array.isArray(s)||(s=[s]);const a=yield dH(t);for(const c of s){const l=a.find(d=>d.measurementId===c),u=l&&e[l.appId];if(!u){o=[];break}o.push(u)}}0===o.length&&(o=Object.values(e)),yield Promise.all(o),n("event",i,r||{})}catch(o){xi.error(o)}})).apply(this,arguments)}const Uve=30,hH=new class jve{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Hve(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function AM(){return(AM=b(function*(n){var e;const{appId:t,apiKey:i}=n,r={method:"GET",headers:Hve(i)},o=Ave.replace("{app-id}",t),s=yield fetch(o,r);if(200!==s.status&&304!==s.status){let a="";try{const c=yield s.json();null!==(e=c.error)&&void 0!==e&&e.message&&(a=c.error.message)}catch{}throw yr.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a})}return s.json()})).apply(this,arguments)}function SM(){return(SM=b(function*(n,e=hH,t){const{appId:i,apiKey:r,measurementId:o}=n.options;if(!i)throw yr.create("no-app-id");if(!r){if(o)return{measurementId:o,appId:i};throw yr.create("no-api-key")}const s=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Kve;return setTimeout(b(function*(){a.abort()}),void 0!==t?t:Mve),fH({appId:i,apiKey:r,measurementId:o},s,a,e)})).apply(this,arguments)}function fH(n,e,t){return kM.apply(this,arguments)}function kM(){return kM=b(function*(n,{throttleEndTimeMillis:e,backoffCount:t},i,r=hH){var o;const{appId:s,measurementId:a}=n;try{yield function qve(n,e){return new Promise((t,i)=>{const r=Math.max(e-Date.now(),0),o=setTimeout(t,r);n.addEventListener(()=>{clearTimeout(o),i(yr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(i,e)}catch(c){if(a)return xi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:s,measurementId:a};throw c}try{const c=yield function $ve(n){return AM.apply(this,arguments)}(n);return r.deleteThrottleMetadata(s),c}catch(c){const l=c;if(!function Wve(n){if(!(n instanceof mo&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(l)){if(r.deleteThrottleMetadata(s),a)return xi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l?.message}]`),{appId:s,measurementId:a};throw c}const u=503===Number(null===(o=l?.customData)||void 0===o?void 0:o.httpStatus)?HT(t,r.intervalMillis,Uve):HT(t,r.intervalMillis),d={throttleEndTimeMillis:Date.now()+u,backoffCount:t+1};return r.setThrottleMetadata(s,d),xi.debug(`Calling attemptFetch again in ${u} millis`),fH(n,d,i,r)}}),kM.apply(this,arguments)}class Kve{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let OM,BM;function PM(){return(PM=b(function*(n,e,t,i,r){if(r&&r.global)n("event",t,i);else{const o=yield e;n("event",t,Object.assign(Object.assign({},i),{send_to:o}))}})).apply(this,arguments)}function UM(){return(UM=b(function*(){if(!Wa())return xi.warn(yr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield kp()}catch(n){return xi.warn(yr.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}return!0})).apply(this,arguments)}function zM(){return zM=b(function*(n,e,t,i,r,o,s){var a;const c=function Gve(n){return SM.apply(this,arguments)}(n);c.then(f=>{t[f.measurementId]=f.appId,n.options.measurementId&&f.measurementId!==n.options.measurementId&&xi.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>xi.error(f)),e.push(c);const l=function t0e(){return UM.apply(this,arguments)}().then(f=>{if(f)return i.getId()}),[u,d]=yield Promise.all([c,l]);(function Bve(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(TM)&&t.src.includes(n))return t;return null})(o)||function Pve(n,e){const t=function Ove(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}("firebase-js-sdk-policy",{createScriptURL:kve}),i=document.createElement("script"),r=`${TM}?l=${n}&id=${e}`;i.src=t?t?.createScriptURL(r):r,i.async=!0,document.head.appendChild(i)}(o,u.measurementId),BM&&(r("consent","default",BM),function pH(n){BM=n}(void 0)),r("js",new Date);const h=null!==(a=s?.config)&&void 0!==a?a:{};return h[Dve]="firebase",h.update=!0,null!=d&&(h[Tve]=d),r("config",u.measurementId,h),OM&&(r("set",OM),function gH(n){OM=n}(void 0)),u.measurementId}),zM.apply(this,arguments)}class i0e{constructor(e){this.app=e}_delete(){return delete _s[this.app.options.appId],Promise.resolve()}}let _s={},mH=[];const _H={};let yH,bs,hv="dataLayer",jM=!1;function o0e(n,e,t){!function r0e(){const n=[];if(BT()&&n.push("This is a browser extension environment."),UT()||n.push("Cookies are not available."),n.length>0){const e=n.map((i,r)=>`(${r+1}) ${i}`).join(" "),t=yr.create("invalid-analytics-context",{errorInfo:e});xi.warn(t.message)}}();const i=n.options.appId;if(!i)throw yr.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw yr.create("no-api-key");xi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=_s[i])throw yr.create("already-exists",{id:i});if(!jM){!function Rve(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(hv);const{wrappedGtag:o,gtagCore:s}=function Vve(n,e,t,i,r){let o=function(...s){window[i].push(arguments)};return window[r]&&"function"==typeof window[r]&&(o=window[r]),window[r]=function Lve(n,e,t,i){function o(){return o=b(function*(s,...a){try{if("event"===s){const[c,l]=a;yield function Fve(n,e,t,i,r){return MM.apply(this,arguments)}(n,e,t,c,l)}else if("config"===s){const[c,l]=a;yield function Nve(n,e,t,i,r,o){return DM.apply(this,arguments)}(n,e,t,i,c,l)}else if("consent"===s){const[c]=a;n("consent","update",c)}else if("get"===s){const[c,l,u]=a;n("get",c,l,u)}else if("set"===s){const[c]=a;n("set",c)}else n(s,...a)}catch(c){xi.error(c)}}),o.apply(this,arguments)}return function r(s){return o.apply(this,arguments)}}(o,n,e,t),{gtagCore:o,wrappedGtag:window[r]}}(_s,mH,_H,hv,"gtag");bs=o,yH=s,jM=!0}return _s[i]=function n0e(n,e,t,i,r,o,s){return zM.apply(this,arguments)}(n,mH,_H,e,yH,hv,t),new i0e(n)}function a0e(){return HM.apply(this,arguments)}function HM(){return(HM=b(function*(){if(BT()||!UT()||!Wa())return!1;try{return yield kp()}catch{return!1}})).apply(this,arguments)}const vH="@firebase/analytics";!function l0e(){Bi(new wi(dv,(e,{options:t})=>o0e(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),Bi(new wi("analytics-internal",function n(e){try{const t=e.getProvider(dv).getImmediate();return{logEvent:(i,r,o)=>function c0e(n,e,t,i){n=bn(n),function Qve(n,e,t,i,r){return PM.apply(this,arguments)}(bs,_s[n.app.options.appId],e,t,i).catch(r=>xi.error(r))}(t,i,r,o)}}catch(t){throw yr.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),zt(vH,"0.10.0"),zt(vH,"0.10.0","esm2017")}();class u0e extends _i{constructor(e,t){super()}schedule(e,t=0){return this}}const fv={setInterval(n,e,...t){const{delegate:i}=fv;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=fv;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class pv extends u0e{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;const r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,t)),this.pending=!0,this.delay=t,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,i=0){return fv.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return t;null!=t&&fv.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r,i=!1;try{this.work(e)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,s_(i,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const xH={now:()=>(xH.delegate||Date).now(),delegate:void 0};class Bp{constructor(e,t=Bp.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}}Bp.now=xH.now;class gv extends Bp{constructor(e,t=Bp.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let i;this._active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}}const f0e=new class h0e extends gv{}(class d0e extends pv{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,i=0){return null!=i&&i>0||null==i&&this.delay>0?super.requestAsyncId(e,t,i):(e.flush(this),0)}}),Up=new gv(pv),p0e=Up,Vd=new La("7.6.1"),GM="__angularfire_symbol__analyticsIsSupportedValue",qM="__angularfire_symbol__analyticsIsSupported",WM="__angularfire_symbol__remoteConfigIsSupportedValue",KM="__angularfire_symbol__remoteConfigIsSupported",QM="__angularfire_symbol__messagingIsSupportedValue",YM="__angularfire_symbol__messagingIsSupported";function zp(n,e,t){if(e){if(1===e.length)return e[0];const o=e.filter(s=>s.app===t);if(1===o.length)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}globalThis[qM]||(globalThis[qM]=a0e().then(n=>globalThis[GM]=n).catch(()=>globalThis[GM]=!1)),globalThis[YM]||(globalThis[YM]=uH().then(n=>globalThis[QM]=n).catch(()=>globalThis[QM]=!1)),globalThis[KM]||(globalThis[KM]=kye().then(n=>globalThis[WM]=n).catch(()=>globalThis[WM]=!1));const jp=(n,e)=>{const t=e?[e]:h9(),i=[];return t.forEach(r=>{r.container.getProvider(n).instances.forEach(s=>{i.includes(s)||i.push(s)})}),i};function Bd(){}class CH{constructor(e,t=f0e){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,i){const r=this.zone;return this.delegate.schedule(function(s){r.runGuarded(()=>{e.apply(this,[s])})},t,i)}}class g0e{constructor(e){this.zone=e,this.task=null}call(e,t){const i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Bd,{},Bd,Bd)),t.pipe(qn({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Hp=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new CH(Zone.current)),this.insideAngular=t.run(()=>new CH(Zone.current,Up)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)($(Te))},n.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function bl(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function yl(n){return bl().ngZone.run(()=>n())}function _0e(n){return bl(),function b0e(n){return function(t){return(t=t.lift(new g0e(n.ngZone))).pipe(_y(n.outsideAngular),my(n.insideAngular))}}(bl())(n)}const y0e=(n,e)=>function(){const i=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),yl(()=>n.apply(void 0,i))},Ci=(n,e)=>function(){let t;const i=arguments;for(let o=0;o<arguments.length;o++)"function"==typeof i[o]&&(e&&(t||(t=yl(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Bd,{},Bd,Bd)))),i[o]=y0e(i[o],t));const r=function m0e(n){return bl().ngZone.runOutsideAngular(()=>n())}(()=>n.apply(this,i));if(!e){if(r instanceof Wt){const o=bl();return r.pipe(_y(o.outsideAngular),my(o.insideAngular))}return yl(()=>r)}return r instanceof Wt?r.pipe(_0e):r instanceof Promise?yl(()=>new Promise((o,s)=>r.then(a=>yl(()=>o(a)),a=>yl(()=>s(a))))):"function"==typeof r&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),r.apply(this,arguments)}:yl(()=>r)};class Za{constructor(e){return e}}class $p{constructor(){return h9()}}const ZM=new Y("angularfire2._apps"),w0e={provide:Za,useFactory:function v0e(n){return n&&1===n.length?n[0]:new Za(Fp())},deps:[[new Xt,ZM]]},x0e={provide:$p,deps:[[new Xt,ZM]]};function C0e(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new Za(i)}}let E0e=(()=>{class n{constructor(t){zt("angularfire",Vd.full,"core"),zt("angularfire",Vd.full,"app"),zt("angular",Ece.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)($(so))},n.\u0275mod=et({type:n}),n.\u0275inj=Ze({providers:[w0e,x0e]}),n})();function I0e(n,...e){return{ngModule:E0e,providers:[{provide:ZM,useFactory:C0e(n),multi:!0,deps:[Te,jt,Hp,...e]}]}}const T0e=Ci(d9,!0),JM=new Map,EH={activated:!1,tokenObservers:[]},D0e={initialized:!1,enabled:!1};function On(n){return JM.get(n)||Object.assign({},EH)}function mv(){return D0e}const eA="https://content-firebaseappcheck.googleapis.com/v1",k0e="exchangeDebugToken",IH={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class P0e{constructor(e,t,i,r,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return b(function*(){t.stop();try{t.pending=new Rd,yield function R0e(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Rd,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const zi=new ms("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function tA(n){if(!On(n).activated)throw zi.create("use-before-activation",{appName:n.name})}function yv(n,e){return iA.apply(this,arguments)}function iA(){return(iA=b(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},r=t.getImmediate({optional:!0});if(r){const d=yield r.getHeartbeatsHeader();d&&(i["X-Firebase-Client"]=d)}const o={method:"POST",body:JSON.stringify(e),headers:i};let s,a;try{s=yield fetch(n,o)}catch(d){throw zi.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==s.status)throw zi.create("fetch-status-error",{httpStatus:s.status});try{a=yield s.json()}catch(d){throw zi.create("fetch-parse-error",{originalErrorMessage:d?.message})}const c=a.ttl.match(/^([\d.]+)(s)$/);if(!c||!c[2]||isNaN(Number(c[1])))throw zi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const l=1e3*Number(c[1]),u=Date.now();return{token:a.token,expireTimeMillis:u+l,issuedAtTimeMillis:u}})).apply(this,arguments)}function TH(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`${eA}/projects/${t}/apps/${i}:${k0e}?key=${r}`,body:{debug_token:e}}}const V0e="firebase-app-check-database",B0e=1,Gp="firebase-app-check-store";let vv=null;function rA(){return(rA=b(function*(n,e){const i=(yield function MH(){return vv||(vv=new Promise((n,e)=>{try{const t=indexedDB.open(V0e,B0e);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var r;e(zi.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Gp,{keyPath:"compositeKey"})}}catch(t){e(zi.create("storage-open",{originalErrorMessage:t?.message}))}}),vv)}()).transaction(Gp,"readwrite"),o=i.objectStore(Gp).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=c=>{s()},i.onerror=c=>{var l;a(zi.create("storage-set",{originalErrorMessage:null===(l=c.target.error)||void 0===l?void 0:l.message}))}})})).apply(this,arguments)}const qp=new dl("@firebase/app-check");function aA(n,e){return Wa()?function z0e(n,e){return function AH(n,e){return rA.apply(this,arguments)}(function kH(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{qp.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function lA(){return mv().enabled}function uA(){return dA.apply(this,arguments)}function dA(){return(dA=b(function*(){const n=mv();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const W0e={error:"UNKNOWN_ERROR"};function K0e(n){return Yy.encodeString(JSON.stringify(n),!1)}function wv(n){return hA.apply(this,arguments)}function hA(){return(hA=b(function*(n,e=!1){const t=n.app;tA(t);const i=On(t);let o,r=i.token;if(r&&!Ud(r)&&(i.token=void 0,r=void 0),!r){const c=yield i.cachedTokenPromise;c&&(Ud(c)?r=c:yield aA(t,void 0))}if(!e&&r&&Ud(r))return{token:r.token};let a,s=!1;if(lA()){i.exchangeTokenPromise||(i.exchangeTokenPromise=yv(TH(t,yield uA()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),s=!0);const c=yield i.exchangeTokenPromise;return yield aA(t,c),i.token=c,{token:c.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),s=!0),r=yield On(t).exchangeTokenPromise}catch(c){"appCheck/throttled"===c.code?qp.warn(c.message):qp.error(c),o=c}return r?o?a=Ud(r)?{token:r.token,internalError:o}:NH(o):(a={token:r.token},i.token=r,yield aA(t,r)):a=NH(o),s&&function RH(n,e){const t=On(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}(t,a),a})).apply(this,arguments)}function OH(n){return fA.apply(this,arguments)}function fA(){return(fA=b(function*(n){const e=n.app;tA(e);const{provider:t}=On(e);if(lA()){const i=yield uA(),{token:r}=yield yv(TH(e,i),n.heartbeatServiceProvider);return{token:r}}{const{token:i}=yield t.getToken();return{token:i}}})).apply(this,arguments)}function gA(n,e){const t=On(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function PH(n){const{app:e}=n,t=On(e);let i=t.tokenRefresher;i||(i=function Q0e(n){const{app:e}=n;return new P0e(b(function*(){let i;if(i=On(e).token?yield wv(n,!0):yield wv(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const t=On(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},IH.RETRIAL_MIN_WAIT,IH.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function Ud(n){return n.expireTimeMillis-Date.now()>0}function NH(n){return{token:K0e(W0e),error:n}}class Y0e{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=On(this.app);for(const t of e)gA(this.app,t.next);return Promise.resolve()}}const HH="app-check-internal";!function uwe(){Bi(new wi("app-check",n=>function X0e(n,e){return new Y0e(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(HH).initialize()})),Bi(new wi(HH,n=>function Z0e(n){return{getToken:e=>wv(n,e),getLimitedUseToken:()=>OH(n),addTokenListener:e=>function pA(n,e,t,i){const{app:r}=n,o=On(r);if(o.tokenObservers=[...o.tokenObservers,{next:t,error:i,type:e}],o.token&&Ud(o.token)){const a=o.token;Promise.resolve().then(()=>{t({token:a.token}),PH(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>PH(n))}(n,"INTERNAL",e),removeTokenListener:e=>gA(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),zt("@firebase/app-check","0.8.0")}();class Wp{constructor(){return jp("app-check")}}typeof window<"u"&&window;const gwe=function GH(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},qH=new ms("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Cv=new dl("@firebase/auth");function Ev(n,...e){Cv.logLevel<=_t.ERROR&&Cv.error(`Auth (${Ya}): ${n}`,...e)}function Lr(n,...e){throw vA(n,...e)}function ys(n,...e){return vA(n,...e)}function vA(n,...e){if("string"!=typeof n){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return qH.create(n,...e)}function se(n,e,...t){if(!n)throw vA(e,...t)}function vs(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Ev(e),new Error(e)}function Ja(n,e){n||vs(e)}function Kp(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function KH(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class Qp{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ja(t>e,"Short delay should be less than long delay!"),this.isMobile=VT()||n9()}get(){return function _we(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function wA(){return"http:"===KH()||"https:"===KH()}()||BT()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function xA(n,e){Ja(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class QH{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void vs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void vs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void vs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ywe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},vwe=new Qp(3e4,6e4);function Tn(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Pn(n,e,t,i){return CA.apply(this,arguments)}function CA(){return(CA=b(function*(n,e,t,i,r={}){return YH(n,r,b(function*(){let o={},s={};i&&("GET"===e?s=i:o={body:JSON.stringify(i)});const a=Pp(Object.assign({key:n.config.apiKey},s)).slice(1),c=yield n._getAdditionalHeaders();return c["Content-Type"]="application/json",n.languageCode&&(c["X-Firebase-Locale"]=n.languageCode),QH.fetch()(XH(n,n.config.apiHost,t,a),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},o))}))})).apply(this,arguments)}function YH(n,e,t){return EA.apply(this,arguments)}function EA(){return(EA=b(function*(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},ywe),e);try{const r=new wwe(n),o=yield Promise.race([t(),r.promise]);r.clearNetworkTimeout();const s=yield o.json();if("needConfirmation"in s)throw Yp(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[c,l]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===c)throw Yp(n,"credential-already-in-use",s);if("EMAIL_EXISTS"===c)throw Yp(n,"email-already-in-use",s);if("USER_DISABLED"===c)throw Yp(n,"user-disabled",s);const u=i[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw function WH(n,e,t){const i=Object.assign(Object.assign({},gwe()),{[e]:t});return new ms("auth","Firebase",i).create(e,{appName:n.name})}(n,u,l);Lr(n,u)}}catch(r){if(r instanceof mo)throw r;Lr(n,"network-request-failed",{message:String(r)})}})).apply(this,arguments)}function ia(n,e,t,i){return IA.apply(this,arguments)}function IA(){return(IA=b(function*(n,e,t,i,r={}){const o=yield Pn(n,e,t,i,r);return"mfaPendingCredential"in o&&Lr(n,"multi-factor-auth-required",{_serverResponse:o}),o})).apply(this,arguments)}function XH(n,e,t,i){const r=`${e}${t}?${i}`;return n.config.emulator?xA(n.config,r):`${n.config.apiScheme}://${r}`}class wwe{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(ys(this.auth,"network-request-failed")),vwe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Yp(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const r=ys(n,e,i);return r.customData._tokenResponse=t,r}function TA(){return(TA=b(function*(n,e){return Pn(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function MA(){return(MA=b(function*(n,e){return Pn(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Xp(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function AA(){return(AA=b(function*(n,e=!1){const t=bn(n),i=yield t.getIdToken(e),r=Iv(i);se(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");const o="object"==typeof r.firebase?r.firebase:void 0,s=o?.sign_in_provider;return{claims:r,token:i,authTime:Xp(SA(r.auth_time)),issuedAtTime:Xp(SA(r.iat)),expirationTime:Xp(SA(r.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})).apply(this,arguments)}function SA(n){return 1e3*Number(n)}function Iv(n){const[e,t,i]=n.split(".");if(void 0===e||void 0===t||void 0===i)return Ev("JWT malformed, contained fewer than 3 sections"),null;try{const r=Zy(t);return r?JSON.parse(r):(Ev("Failed to decode base64 JWT payload"),null)}catch(r){return Ev("Caught error parsing JWT payload as JSON",r?.toString()),null}}function ra(n,e){return kA.apply(this,arguments)}function kA(){return(kA=b(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(i){throw i instanceof mo&&function Dwe({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(i)&&n.auth.currentUser===n&&(yield n.auth.signOut()),i}})).apply(this,arguments)}class Mwe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),i}{this.errorBackoff=3e4;const r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(b(function*(){yield t.iteration()}),i)}iteration(){var e=this;return b(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class ZH{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xp(this.lastLoginAt),this.creationTime=Xp(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Zp(n){return OA.apply(this,arguments)}function OA(){return OA=b(function*(n){var e;const t=n.auth,i=yield n.getIdToken(),r=yield ra(n,function Ewe(n,e){return MA.apply(this,arguments)}(t,{idToken:i}));se(r?.users.length,t,"internal-error");const o=r.users[0];n._notifyReloadListener(o);const s=null!==(e=o.providerUserInfo)&&void 0!==e&&e.length?function kwe(n){return n.map(e=>{var{providerId:t}=e,i=PI(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}(o.providerUserInfo):[],a=function Swe(n,e){return[...n.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}(n.providerData,s),u=!!n.isAnonymous&&!(n.email&&o.passwordHash||a?.length),d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new ZH(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(n,d)}),OA.apply(this,arguments)}function PA(){return(PA=b(function*(n){const e=bn(n);yield Zp(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function RA(){return(RA=b(function*(n,e){const t=yield YH(n,{},b(function*(){const i=Pp({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:o}=n.config,s=XH(n,r,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",QH.fetch()(s,{method:"POST",headers:a,body:i})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class Jp{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){se(e.idToken,"internal-error"),se(typeof e.idToken<"u","internal-error"),se(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function Twe(n){const e=Iv(n);return se(e,"internal-error"),se(typeof e.exp<"u","internal-error"),se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var i=this;return b(function*(){return se(!i.accessToken||i.refreshToken,e,"user-token-expired"),t||!i.accessToken||i.isExpired?i.refreshToken?(yield i.refresh(e,i.refreshToken),i.accessToken):null:i.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var i=this;return b(function*(){const{accessToken:r,refreshToken:o,expiresIn:s}=yield function Owe(n,e){return RA.apply(this,arguments)}(e,t);i.updateTokensAndExpiration(r,o,Number(s))})()}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*i}static fromJSON(e,t){const{refreshToken:i,accessToken:r,expirationTime:o}=t,s=new Jp;return i&&(se("string"==typeof i,"internal-error",{appName:e}),s.refreshToken=i),r&&(se("string"==typeof r,"internal-error",{appName:e}),s.accessToken=r),o&&(se("number"==typeof o,"internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Jp,this.toJSON())}_performRefresh(){return vs("not implemented")}}function ec(n,e){se("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class vl{constructor(e){var{uid:t,auth:i,stsTokenManager:r}=e,o=PI(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Mwe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ZH(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){var t=this;return b(function*(){const i=yield ra(t,t.stsTokenManager.getToken(t.auth,e));return se(i,t.auth,"internal-error"),t.accessToken!==i&&(t.accessToken=i,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),i})()}getIdTokenResult(e){return function Iwe(n){return AA.apply(this,arguments)}(this,e)}reload(){return function Awe(n){return PA.apply(this,arguments)}(this)}_assign(e){this!==e&&(se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new vl(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var i=this;return b(function*(){let r=!1;e.idToken&&e.idToken!==i.stsTokenManager.accessToken&&(i.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield Zp(i)),yield i.auth._persistUserIfCurrent(i),r&&i.auth._notifyListenersIfCurrent(i)})()}delete(){var e=this;return b(function*(){const t=yield e.getIdToken();return yield ra(e,function xwe(n,e){return TA.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,r,o,s,a,c,l,u;const d=null!==(i=t.displayName)&&void 0!==i?i:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,f=null!==(o=t.phoneNumber)&&void 0!==o?o:void 0,_=null!==(s=t.photoURL)&&void 0!==s?s:void 0,C=null!==(a=t.tenantId)&&void 0!==a?a:void 0,I=null!==(c=t._redirectEventId)&&void 0!==c?c:void 0,O=null!==(l=t.createdAt)&&void 0!==l?l:void 0,M=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:B,emailVerified:Q,isAnonymous:ae,providerData:fe,stsTokenManager:$e}=t;se(B&&$e,e,"internal-error");const gt=Jp.fromJSON(this.name,$e);se("string"==typeof B,e,"internal-error"),ec(d,e.name),ec(h,e.name),se("boolean"==typeof Q,e,"internal-error"),se("boolean"==typeof ae,e,"internal-error"),ec(f,e.name),ec(_,e.name),ec(C,e.name),ec(I,e.name),ec(O,e.name),ec(M,e.name);const ai=new vl({uid:B,auth:e,email:h,emailVerified:Q,displayName:d,isAnonymous:ae,photoURL:_,phoneNumber:f,tenantId:C,stsTokenManager:gt,createdAt:O,lastLoginAt:M});return fe&&Array.isArray(fe)&&(ai.providerData=fe.map(Ki=>Object.assign({},Ki))),I&&(ai._redirectEventId=I),ai}static _fromIdTokenResponse(e,t,i=!1){return b(function*(){const r=new Jp;r.updateFromServerResponse(t);const o=new vl({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return yield Zp(o),o})()}}const JH=new Map;function oa(n){Ja(n instanceof Function,"Expected a class definition");let e=JH.get(n);return e?(Ja(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,JH.set(n,e),e)}const e$=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return b(function*(){return!0})()}_set(t,i){var r=this;return b(function*(){r.storage[t]=i})()}_get(t){var i=this;return b(function*(){const r=i.storage[t];return void 0===r?null:r})()}_remove(t){var i=this;return b(function*(){delete i.storage[t]})()}_addListener(t,i){}_removeListener(t,i){}}return n.type="NONE",n})();function Tv(n,e,t){return`firebase:${n}:${e}:${t}`}class jd{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:r,name:o}=this.auth;this.fullUserKey=Tv(this.userKey,r.apiKey,o),this.fullPersistenceKey=Tv("persistence",r.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return b(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?vl._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return b(function*(){if(t.persistence===e)return;const i=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,i?t.setCurrentUser(i):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,i="authUser"){return b(function*(){if(!t.length)return new jd(oa(e$),e,i);const r=(yield Promise.all(t.map(function(){var l=b(function*(u){if(yield u._isAvailable())return u});return function(u){return l.apply(this,arguments)}}()))).filter(l=>l);let o=r[0]||oa(e$);const s=Tv(i,e.config.apiKey,e.name);let a=null;for(const l of t)try{const u=yield l._get(s);if(u){const d=vl._fromJSON(e,u);l!==o&&(a=d),o=l;break}}catch{}const c=r.filter(l=>l._shouldAllowMigration);return o._shouldAllowMigration&&c.length?(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(function(){var l=b(function*(u){if(u!==o)try{yield u._remove(s)}catch{}});return function(u){return l.apply(this,arguments)}}())),new jd(o,e,i)):new jd(o,e,i)})()}}function t$(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(r$(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(n$(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(s$(e))return"Blackberry";if(a$(e))return"Webos";if(NA(e))return"Safari";if((e.includes("chrome/")||i$(e))&&!e.includes("edge/"))return"Chrome";if(o$(e))return"Android";{const i=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===i?.length)return i[1]}return"Other"}function n$(n=Wn()){return/firefox\//i.test(n)}function NA(n=Wn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function i$(n=Wn()){return/crios\//i.test(n)}function r$(n=Wn()){return/iemobile/i.test(n)}function o$(n=Wn()){return/android/i.test(n)}function s$(n=Wn()){return/blackberry/i.test(n)}function a$(n=Wn()){return/webos/i.test(n)}function Dv(n=Wn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function c$(n=Wn()){return Dv(n)||o$(n)||a$(n)||s$(n)||/windows phone/i.test(n)||r$(n)}function l$(n,e=[]){let t;switch(n){case"Browser":t=t$(Wn());break;case"Worker":t=`${t$(Wn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ya}/${i}`}function u$(n,e){return LA.apply(this,arguments)}function LA(){return(LA=b(function*(n,e){return Pn(n,"GET","/v2/recaptchaConfig",Tn(n,e))})).apply(this,arguments)}function h$(n){return void 0!==n&&void 0!==n.enterprise}class f${constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(t=>"EMAIL_PASSWORD_PROVIDER"===t.provider&&"OFF"!==t.enforcementState)}}function VA(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=r=>{const o=ys("internal-error");o.customData=r,t(o)},i.type="text/javascript",i.charset="UTF-8",function Lwe(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(i)})}function p$(n){return`__${n}${Math.floor(1e6*Math.random())}`}class g${constructor(e){this.type="recaptcha-enterprise",this.auth=Ei(e)}verify(e="verify",t=!1){var i=this;return b(function*(){function o(){return o=b(function*(a){if(!t){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var c=b(function*(l,u){u$(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new f$(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,l(h.siteKey)}u(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{u(d)})});return function(l,u){return c.apply(this,arguments)}}())}),o.apply(this,arguments)}function s(a,c,l){const u=window.grecaptcha;h$(u)?u.enterprise.ready(()=>{u.enterprise.execute(a,{action:e}).then(d=>{c(d)}).catch(()=>{c("NO_RECAPTCHA")})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,c)=>{(function r(a){return o.apply(this,arguments)})(i.auth).then(l=>{if(!t&&h$(window.grecaptcha))s(l,a,c);else{if(typeof window>"u")return void c(new Error("RecaptchaVerifier is only supported in browser"));VA("https://www.google.com/recaptcha/enterprise.js?render="+l).then(()=>{s(l,a,c)}).catch(u=>{c(u)})}}).catch(l=>{c(l)})})})()}}function tc(n,e,t){return BA.apply(this,arguments)}function BA(){return(BA=b(function*(n,e,t,i=!1){const r=new g$(n);let o;try{o=yield r.verify(t)}catch{o=yield r.verify(t,!0)}const s=Object.assign({},e);return Object.assign(s,i?{captchaResp:o}:{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})).apply(this,arguments)}class zwe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=o=>new Promise((s,a)=>{try{s(e(o))}catch(c){a(c)}});i.onAbort=t,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return b(function*(){if(t.auth.currentUser===e)return;const i=[];try{for(const r of t.queue)yield r(e),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const o of i)try{o()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})()}}class jwe{constructor(e,t,i,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new m$(this),this.idTokenSubscription=new m$(this),this.beforeStateQueue=new zwe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qH,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){var i=this;return t&&(this._popupRedirectResolver=oa(t)),this._initializationPromise=this.queue(b(function*(){var r,o;if(!i._deleted&&(i.persistenceManager=yield jd.create(i,e),!i._deleted)){if(null!==(r=i._popupRedirectResolver)&&void 0!==r&&r._shouldInitProactively)try{yield i._popupRedirectResolver._initialize(i)}catch{}yield i.initializeCurrentUser(t),i.lastNotifiedUid=(null===(o=i.currentUser)||void 0===o?void 0:o.uid)||null,!i._deleted&&(i._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return b(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return b(function*(){var i;const r=yield t.assertedPersistence.getCurrentUser();let o=r,s=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const a=null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId,c=o?._redirectEventId,l=yield t.tryRedirectSignIn(e);(!a||a===c)&&l?.user&&(o=l.user,s=!0)}if(!o)return t.directlySetCurrentUser(null);if(!o._redirectEventId){if(s)try{yield t.beforeStateQueue.runMiddleware(o)}catch(a){o=r,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(a))}return o?t.reloadAndSetCurrentUserOrClear(o):t.directlySetCurrentUser(null)}return se(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===o._redirectEventId?t.directlySetCurrentUser(o):t.reloadAndSetCurrentUserOrClear(o)})()}tryRedirectSignIn(e){var t=this;return b(function*(){let i=null;try{i=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return i})()}reloadAndSetCurrentUserOrClear(e){var t=this;return b(function*(){try{yield Zp(e)}catch(i){if("auth/network-request-failed"!==i?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function bwe(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return b(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return b(function*(){const i=e?bn(e):null;return i&&se(i.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(i&&i._clone(t))})()}_updateCurrentUser(e,t=!1){var i=this;return b(function*(){if(!i._deleted)return e&&se(i.tenantId===e.tenantId,i,"tenant-id-mismatch"),t||(yield i.beforeStateQueue.runMiddleware(e)),i.queue(b(function*(){yield i.directlySetCurrentUser(e),i.notifyAuthListeners()}))})()}signOut(){var e=this;return b(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue(b(function*(){yield t.assertedPersistence.setPersistence(oa(e))}))}initializeRecaptchaConfig(){var e=this;return b(function*(){const t=yield u$(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),i=new f$(t);null==e.tenantId?e._agentRecaptchaConfig=i:e._tenantRecaptchaConfigs[e.tenantId]=i,i.emailPasswordEnabled&&new g$(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ms("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var i=this;return b(function*(){const r=yield i.getOrInitRedirectPersistenceManager(t);return null===e?r.removeCurrentUser():r.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return b(function*(){if(!t.redirectPersistenceManager){const i=e&&oa(e)||t._popupRedirectResolver;se(i,t,"argument-error"),t.redirectPersistenceManager=yield jd.create(t,[oa(i._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return b(function*(){var i,r;return t._isInitialized&&(yield t.queue(b(function*(){}))),(null===(i=t._currentUser)||void 0===i?void 0:i._redirectEventId)===e?t._currentUser:(null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return b(function*(){if(e===t.currentUser)return t.queue(b(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};const o="function"==typeof t?t:t.next.bind(t),s=this._isInitialized?Promise.resolve():this._initializationPromise;return se(s,this,"internal-error"),s.then(()=>o(this.currentUser)),"function"==typeof t?e.addObserver(t,i,r):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return b(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=l$(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return b(function*(){var t;const i={"X-Client-Version":e.clientVersion};e.app.options.appId&&(i["X-Firebase-gmpid"]=e.app.options.appId);const r=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();r&&(i["X-Firebase-Client"]=r);const o=yield e._getAppCheckToken();return o&&(i["X-Firebase-AppCheck"]=o),i})()}_getAppCheckToken(){var e=this;return b(function*(){var t;const i=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return i?.error&&function mwe(n,...e){Cv.logLevel<=_t.WARN&&Cv.warn(`Auth (${Ya}): ${n}`,...e)}(`Error while retrieving App Check token: ${i.error}`),i?.token})()}}function Ei(n){return bn(n)}class m${constructor(e){this.auth=e,this.observer=null,this.addObserver=function Kme(n,e){const t=new Qme(n,e);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function _$(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function b$(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}class y${constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return vs("not implemented")}_getIdTokenResponse(e){return vs("not implemented")}_linkToIdToken(e,t){return vs("not implemented")}_getReauthenticationResolver(e){return vs("not implemented")}}function w$(n,e){return zA.apply(this,arguments)}function zA(){return(zA=b(function*(n,e){return Pn(n,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function HA(n,e){return $A.apply(this,arguments)}function $A(){return($A=b(function*(n,e){return ia(n,"POST","/v1/accounts:signInWithPassword",Tn(n,e))})).apply(this,arguments)}function ZA(){return(ZA=b(function*(n,e){return ia(n,"POST","/v1/accounts:signInWithEmailLink",Tn(n,e))})).apply(this,arguments)}function JA(){return(JA=b(function*(n,e){return ia(n,"POST","/v1/accounts:signInWithEmailLink",Tn(n,e))})).apply(this,arguments)}class eg extends y${constructor(e,t,i,r=null){super("password",i),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new eg(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new eg(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if(t?.email&&t?.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){var t=this;return b(function*(){var i;switch(t.signInMethod){case"password":const r={returnSecureToken:!0,email:t._email,password:t._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(i=e._getRecaptchaConfig())&&void 0!==i&&i.emailPasswordEnabled){const o=yield tc(e,r,"signInWithPassword");return HA(e,o)}return HA(e,r).catch(function(){var o=b(function*(s){if("auth/missing-recaptcha-token"===s.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const a=yield tc(e,r,"signInWithPassword");return HA(e,a)}return Promise.reject(s)});return function(s){return o.apply(this,arguments)}}());case"emailLink":return function Xwe(n,e){return ZA.apply(this,arguments)}(e,{email:t._email,oobCode:t._password});default:Lr(e,"internal-error")}})()}_linkToIdToken(e,t){var i=this;return b(function*(){switch(i.signInMethod){case"password":return w$(e,{idToken:t,returnSecureToken:!0,email:i._email,password:i._password});case"emailLink":return function Zwe(n,e){return JA.apply(this,arguments)}(e,{idToken:t,email:i._email,oobCode:i._password});default:Lr(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function sa(n,e){return eS.apply(this,arguments)}function eS(){return(eS=b(function*(n,e){return ia(n,"POST","/v1/accounts:signInWithIdp",Tn(n,e))})).apply(this,arguments)}class ig{constructor(e){var t,i,r,o,s,a;const c=Rp(Np(e)),l=null!==(t=c.apiKey)&&void 0!==t?t:null,u=null!==(i=c.oobCode)&&void 0!==i?i:null,d=function oxe(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=c.mode)&&void 0!==r?r:null);se(l&&u&&d,"argument-error"),this.apiKey=l,this.operation=d,this.code=u,this.continueUrl=null!==(o=c.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(s=c.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=c.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function sxe(n){const e=Rp(Np(n)).link,t=e?Rp(Np(e)).deep_link_id:null,i=Rp(Np(n)).deep_link_id;return(i?Rp(Np(i)).link:null)||i||t||e||n}(e);try{return new ig(t)}catch{return null}}}let x$=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,i){return eg._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){const r=ig.parseLink(i);return se(r,"argument-error"),eg._fromEmailAndCode(t,r.code,r.tenantId)}}return n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink",n})();class nc{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class axe extends nc{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}function Sv(n,e){return sS.apply(this,arguments)}function sS(){return(sS=b(function*(n,e){return ia(n,"POST","/v1/accounts:signUp",Tn(n,e))})).apply(this,arguments)}class _o{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,i,r=!1){return b(function*(){const o=yield vl._fromIdTokenResponse(e,i,r),s=C$(i);return new _o({user:o,providerId:s,_tokenResponse:i,operationType:t})})()}static _forOperation(e,t,i){return b(function*(){yield e._updateTokensIfNecessary(i,!0);const r=C$(i);return new _o({user:e,providerId:r,_tokenResponse:i,operationType:t})})()}}function C$(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class kv extends mo{constructor(e,t,i,r){var o;super(t.code,t.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,kv.prototype),this.customData={appName:e.name,tenantId:null!==(o=e.tenantId)&&void 0!==o?o:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,r){return new kv(e,t,i,r)}}function E$(n,e,t,i){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw"auth/multi-factor-auth-required"===o.code?kv._fromErrorAndOperation(n,o,e,i):o})}function uS(){return(uS=b(function*(n,e,t=!1){const i=yield ra(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return _o._forOperation(n,"link",i)})).apply(this,arguments)}function hS(){return(hS=b(function*(n,e,t=!1){const{auth:i}=n,r="reauthenticate";try{const o=yield ra(n,E$(i,r,e,n),t);se(o.idToken,i,"internal-error");const s=Iv(o.idToken);se(s,i,"internal-error");const{sub:a}=s;return se(n.uid===a,i,"user-mismatch"),_o._forOperation(n,r,o)}catch(o){throw"auth/user-not-found"===o?.code&&Lr(i,"user-mismatch"),o}})).apply(this,arguments)}function D$(n,e){return fS.apply(this,arguments)}function fS(){return(fS=b(function*(n,e,t=!1){const i="signIn",r=yield E$(n,i,e),o=yield _o._fromIdTokenResponse(n,i,r);return t||(yield n._updateCurrentUser(o.user)),o})).apply(this,arguments)}function gS(){return(gS=b(function*(n,e){return D$(Ei(n),e)})).apply(this,arguments)}function pxe(n,e,t){return MS.apply(this,arguments)}function MS(){return MS=b(function*(n,e,t){var i;const r=Ei(n),o={returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"};let s;if(null!==(i=r._getRecaptchaConfig())&&void 0!==i&&i.emailPasswordEnabled){const l=yield tc(r,o,"signUpPassword");s=Sv(r,l)}else s=Sv(r,o).catch(function(){var l=b(function*(u){if("auth/missing-recaptcha-token"===u.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const d=yield tc(r,o,"signUpPassword");return Sv(r,d)}return Promise.reject(u)});return function(u){return l.apply(this,arguments)}}());const a=yield s.catch(l=>Promise.reject(l)),c=yield _o._fromIdTokenResponse(r,"signIn",a);return yield r._updateCurrentUser(c.user),c}),MS.apply(this,arguments)}function gxe(n,e,t){return function pS(n,e){return gS.apply(this,arguments)}(bn(n),x$.credential(e,t))}function Ixe(n,e,t,i){return bn(n).onAuthStateChanged(e,t,i)}function Txe(n){return bn(n).signOut()}const Pv="__sak";class A${constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Pv,"1"),this.storage.removeItem(Pv),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Rxe=(()=>{class n extends A${constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function kxe(){const n=Wn();return NA(n)||Dv(n)}()&&function Nwe(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=c$(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),o=this.localCache[i];r!==o&&t(i,o,r)}}onStorageEvent(t,i=!1){if(!t.key)return void this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});const r=t.key;if(i?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(r);if(t.newValue!==a)null!==t.newValue?this.storage.setItem(r,t.newValue):this.storage.removeItem(r);else if(this.localCache[r]===t.newValue&&!i)return}const o=()=>{const a=this.storage.getItem(r);!i&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);!function Rwe(){return function Ume(){const n=Wn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}()&&10===document.documentMode}()||s===t.newValue||t.newValue===t.oldValue?o():setTimeout(o,10)}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,i){var r=()=>super._set,o=this;return b(function*(){yield r().call(o,t,i),o.localCache[t]=JSON.stringify(i)})()}_get(t){var i=()=>super._get,r=this;return b(function*(){const o=yield i().call(r,t);return r.localCache[t]=JSON.stringify(o),o})()}_remove(t){var i=()=>super._remove,r=this;return b(function*(){yield i().call(r,t),delete r.localCache[t]})()}}return n.type="LOCAL",n})(),S$=(()=>{class n extends A${constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}return n.type="SESSION",n})();let Fxe=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;const r=new n(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}handleEvent(t){var i=this;return b(function*(){const r=t,{eventId:o,eventType:s,data:a}=r.data,c=i.handlersMap[s];if(!c?.size)return;r.ports[0].postMessage({status:"ack",eventId:o,eventType:s});const l=Array.from(c).map(function(){var d=b(function*(h){return h(r.origin,a)});return function(h){return d.apply(this,arguments)}}()),u=yield function Nxe(n){return Promise.all(n.map(function(){var e=b(function*(t){try{return{fulfilled:!0,value:yield t}}catch(i){return{fulfilled:!1,reason:i}}});return function(t){return e.apply(this,arguments)}}()))}(l);r.ports[0].postMessage({status:"done",eventId:o,eventType:s,response:u})})()}_subscribe(t,i){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function HS(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(10*Math.random());return n+t}class Lxe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,i=50){var r=this;return b(function*(){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let s,a;return new Promise((c,l)=>{const u=HS("",20);o.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},i);a={messageChannel:o,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(f.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"))}}},r.handlers.add(a),o.port1.addEventListener("message",a.onMessage),r.target.postMessage({eventType:e,eventId:u,data:t},[o.port2])}).finally(()=>{a&&r.removeMessageHandler(a)})})()}}function ii(){return window}function $S(){return typeof ii().WorkerGlobalScope<"u"&&"function"==typeof ii().importScripts}function GS(){return(GS=b(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const k$="firebaseLocalStorageDb",Rv="firebaseLocalStorage",O$="fbase_key";class og{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Nv(n,e){return n.transaction([Rv],e?"readwrite":"readonly").objectStore(Rv)}function qS(){const n=indexedDB.open(k$,1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Rv,{keyPath:O$})}catch(r){t(r)}}),n.addEventListener("success",b(function*(){const i=n.result;i.objectStoreNames.contains(Rv)?e(i):(i.close(),yield function Hxe(){const n=indexedDB.deleteDatabase(k$);return new og(n).toPromise()}(),e(yield qS()))}))})}function P$(n,e,t){return WS.apply(this,arguments)}function WS(){return(WS=b(function*(n,e,t){const i=Nv(n,!0).put({[O$]:e,value:t});return new og(i).toPromise()})).apply(this,arguments)}function KS(){return(KS=b(function*(n,e){const t=Nv(n,!1).get(e),i=yield new og(t).toPromise();return void 0===i?null:i.value})).apply(this,arguments)}function R$(n,e){const t=Nv(n,!0).delete(e);return new og(t).toPromise()}const Wxe=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return b(function*(){return t.db||(t.db=yield qS()),t.db})()}_withRetries(t){var i=this;return b(function*(){let r=0;for(;;)try{const o=yield i._openDb();return yield t(o)}catch(o){if(r++>3)throw o;i.db&&(i.db.close(),i.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return b(function*(){return $S()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return b(function*(){t.receiver=Fxe._getInstance(function zxe(){return $S()?self:null}()),t.receiver._subscribe("keyChanged",function(){var i=b(function*(r,o){return{keyProcessed:(yield t._poll()).includes(o.key)}});return function(r,o){return i.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var i=b(function*(r,o){return["keyChanged"]});return function(r,o){return i.apply(this,arguments)}}())})()}initializeSender(){var t=this;return b(function*(){var i,r;if(t.activeServiceWorker=yield function Bxe(){return GS.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new Lxe(t.activeServiceWorker);const o=yield t.sender._send("ping",{},800);o&&null!==(i=o[0])&&void 0!==i&&i.fulfilled&&null!==(r=o[0])&&void 0!==r&&r.value.includes("keyChanged")&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var i=this;return b(function*(){if(i.sender&&i.activeServiceWorker&&function Uxe(){var n;return(null===(n=navigator?.serviceWorker)||void 0===n?void 0:n.controller)||null}()===i.activeServiceWorker)try{yield i.sender._send("keyChanged",{key:t},i.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return b(function*(){try{if(!indexedDB)return!1;const t=yield qS();return yield P$(t,Pv,"1"),yield R$(t,Pv),!0}catch{}return!1})()}_withPendingWrite(t){var i=this;return b(function*(){i.pendingWrites++;try{yield t()}finally{i.pendingWrites--}})()}_set(t,i){var r=this;return b(function*(){return r._withPendingWrite(b(function*(){return yield r._withRetries(o=>P$(o,t,i)),r.localCache[t]=i,r.notifyServiceWorker(t)}))})()}_get(t){var i=this;return b(function*(){const r=yield i._withRetries(o=>function $xe(n,e){return KS.apply(this,arguments)}(o,t));return i.localCache[t]=r,r})()}_remove(t){var i=this;return b(function*(){return i._withPendingWrite(b(function*(){return yield i._withRetries(r=>R$(r,t)),delete i.localCache[t],i.notifyServiceWorker(t)}))})()}_poll(){var t=this;return b(function*(){const i=yield t._withRetries(s=>{const a=Nv(s,!1).getAll();return new og(a).toPromise()});if(!i)return[];if(0!==t.pendingWrites)return[];const r=[],o=new Set;for(const{fbase_key:s,value:a}of i)o.add(s),JSON.stringify(t.localCache[s])!==JSON.stringify(a)&&(t.notifyListeners(s,a),r.push(s));for(const s of Object.keys(t.localCache))t.localCache[s]&&!o.has(s)&&(t.notifyListeners(s,null),r.push(s));return r})()}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(i)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval(b(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();p$("rcb"),new Qp(3e4,6e4);class ik extends y${constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return sa(e,this._buildIdpRequest())}_linkToIdToken(e,t){return sa(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return sa(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function lCe(n){return D$(n.auth,new ik(n),n.bypassAuthState)}function uCe(n){const{auth:e,user:t}=n;return se(t,e,"internal-error"),function T$(n,e){return hS.apply(this,arguments)}(t,new ik(n),n.bypassAuthState)}function dCe(n){return rk.apply(this,arguments)}function rk(){return(rk=b(function*(n){const{auth:e,user:t}=n;return se(t,e,"internal-error"),function lS(n,e){return uS.apply(this,arguments)}(t,new ik(n),n.bypassAuthState)})).apply(this,arguments)}class hCe{constructor(e,t,i,r,o=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=b(function*(i,r){e.pendingPromise={resolve:i,reject:r};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(o){e.reject(o)}});return function(i,r){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return b(function*(){const{urlResponse:i,sessionId:r,postBody:o,tenantId:s,error:a,type:c}=e;if(a)return void t.reject(a);const l={auth:t.auth,requestUri:i,sessionId:r,tenantId:s||void 0,postBody:o||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(c)(l))}catch(u){t.reject(u)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return lCe;case"linkViaPopup":case"linkViaRedirect":return dCe;case"reauthViaPopup":case"reauthViaRedirect":return uCe;default:Lr(this.auth,"internal-error")}}resolve(e){Ja(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ja(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new Qp(2e3,1e4);const fCe="pendingRedirect",sg=new Map;class pCe extends hCe{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}execute(){var e=()=>super.execute,t=this;return b(function*(){let i=sg.get(t.auth._key());if(!i){try{const o=(yield function gCe(n,e){return lk.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;i=()=>Promise.resolve(o)}catch(r){i=()=>Promise.reject(r)}sg.set(t.auth._key(),i)}return t.bypassAuthState||sg.set(t.auth._key(),()=>Promise.resolve(null)),i()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,i=this;return b(function*(){if("signInViaRedirect"===e.type)return t().call(i,e);if("unknown"!==e.type){if(e.eventId){const r=yield i.auth._redirectUserForId(e.eventId);if(r)return i.user=r,t().call(i,e);i.resolve(null)}}else i.resolve(null)})()}onExecution(){return b(function*(){})()}cleanUp(){}}function lk(){return(lk=b(function*(n,e){const t=function L$(n){return Tv(fCe,n.config.apiKey,n.name)}(e),i=function F$(n){return oa(n._redirectPersistence)}(n);if(!(yield i._isAvailable()))return!1;const r="true"===(yield i._get(t));return yield i._remove(t),r})).apply(this,arguments)}function mCe(n,e){sg.set(n._key(),e)}function V$(n,e){return mk.apply(this,arguments)}function mk(){return(mk=b(function*(n,e,t=!1){const i=Ei(n),r=function xl(n,e){return e?oa(e):(se(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}(i,e),s=yield new pCe(i,r,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield i._persistUserIfCurrent(s.user),yield i._setRedirectUser(null,e)),s})).apply(this,arguments)}class wCe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function xCe(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return z$(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!z$(e)){const r=(null===(i=e.error.code)||void 0===i?void 0:i.split("auth/")[1])||"internal-error";t.onError(ys(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(U$(e))}saveEventToCache(e){this.cachedEventUids.add(U$(e)),this.lastProcessedEventTime=Date.now()}}function U$(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function z$({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===e?.code}function bk(){return(bk=b(function*(n,e={}){return Pn(n,"GET","/v1/projects",e)})).apply(this,arguments)}const ECe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ICe=/^https?/;function yk(){return yk=b(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield function CCe(n){return bk.apply(this,arguments)}(n);for(const t of e)try{if(DCe(t))return}catch{}Lr(n,"unauthorized-domain")}),yk.apply(this,arguments)}function DCe(n){const e=Kp(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const s=new URL(n);return""===s.hostname&&""===i?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&s.hostname===i}if(!ICe.test(t))return!1;if(ECe.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}const MCe=new Qp(3e4,6e4);function j$(){const n=ii().___jsl;if(n?.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let Lv=null;const kCe=new Qp(5e3,15e3),OCe="__/auth/iframe",PCe="emulator/auth/iframe",RCe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},NCe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function FCe(n){const e=n.config;se(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?xA(e,PCe):`https://${n.config.authDomain}/${OCe}`,i={apiKey:e.apiKey,appName:n.name,v:Ya},r=NCe.get(n.config.apiHost);r&&(i.eid=r);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${t}?${Pp(i).slice(1)}`}function vk(){return vk=b(function*(n){const e=yield function SCe(n){return Lv=Lv||function ACe(n){return new Promise((e,t)=>{var i,r,o;function s(){j$(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{j$(),t(ys(n,"network-request-failed"))},timeout:MCe.get()})}if(null!==(r=null===(i=ii().gapi)||void 0===i?void 0:i.iframes)&&void 0!==r&&r.Iframe)e(gapi.iframes.getContext());else{if(null===(o=ii().gapi)||void 0===o||!o.load){const a=p$("iframefcb");return ii()[a]=()=>{gapi.load?s():t(ys(n,"network-request-failed"))},VA(`https://apis.google.com/js/api.js?onload=${a}`).catch(c=>t(c))}s()}}).catch(e=>{throw Lv=null,e})}(n),Lv}(n),t=ii().gapi;return se(t,n,"internal-error"),e.open({where:document.body,url:FCe(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:RCe,dontclear:!0},i=>new Promise(function(){var r=b(function*(o,s){yield i.restyle({setHideOnLeave:!1});const a=ys(n,"network-request-failed"),c=ii().setTimeout(()=>{s(a)},kCe.get());function l(){ii().clearTimeout(c),o(i)}i.ping(l).then(l,()=>{s(a)})});return function(o,s){return r.apply(this,arguments)}}()))}),vk.apply(this,arguments)}const VCe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class H${constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const GCe="__/auth/handler",qCe="emulator/auth/handler",WCe=encodeURIComponent("fac");function $$(n,e,t,i,r,o){return wk.apply(this,arguments)}function wk(){return(wk=b(function*(n,e,t,i,r,o){se(n.config.authDomain,n,"auth-domain-config-required"),se(n.config.apiKey,n,"invalid-api-key");const s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Ya,eventId:r};if(e instanceof nc){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",zT(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries(o||{}))s[u]=d}if(e instanceof axe){const u=e.getScopes().filter(d=>""!==d);u.length>0&&(s.scopes=u.join(","))}n.tenantId&&(s.tid=n.tenantId);const a=s;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const c=yield n._getAppCheckToken(),l=c?`#${WCe}=${encodeURIComponent(c)}`:"";return`${function KCe({config:n}){return n.emulator?xA(n,qCe):`https://${n.authDomain}/${GCe}`}(n)}?${Pp(a).slice(1)}${l}`})).apply(this,arguments)}const xk="webStorageSupport",YCe=class QCe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=S$,this._completeRedirectFn=V$,this._overrideRedirectResult=mCe}_openPopup(e,t,i,r){var o=this;return b(function*(){var s;Ja(null===(s=o.eventManagers[e._key()])||void 0===s?void 0:s.manager,"_initialize() not called before _openPopup()");const a=yield $$(e,t,i,Kp(),r);return function HCe(n,e,t,i=500,r=600){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),s=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const c=Object.assign(Object.assign({},VCe),{width:i.toString(),height:r.toString(),top:o,left:s}),l=Wn().toLowerCase();t&&(a=i$(l)?"_blank":t),n$(l)&&(e=e||"http://localhost",c.scrollbars="yes");const u=Object.entries(c).reduce((h,[f,_])=>`${h}${f}=${_},`,"");if(function Pwe(n=Wn()){var e;return Dv(n)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(l)&&"_self"!==a)return function $Ce(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}(e||"",a),new H$(null);const d=window.open(e||"",a,u);se(d,n,"popup-blocked");try{d.focus()}catch{}return new H$(d)}(e,a,HS())})()}_openRedirect(e,t,i,r){var o=this;return b(function*(){return yield o._originValidation(e),function Vxe(n){ii().location.href=n}(yield $$(e,t,i,Kp(),r)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:r,promise:o}=this.eventManagers[t];return r?Promise.resolve(r):(Ja(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}initAndGetManager(e){var t=this;return b(function*(){const i=yield function LCe(n){return vk.apply(this,arguments)}(e),r=new wCe(e);return i.register("authEvent",o=>(se(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:r},t.iframes[e._key()]=i,r})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(xk,{type:xk},r=>{var o;const s=null===(o=r?.[0])||void 0===o?void 0:o[xk];void 0!==s&&t(!!s),Lr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function TCe(n){return yk.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return c$()||NA()||Dv()}};var W$="@firebase/auth";class XCe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return b(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const tEe=e9("authIdTokenMaxAge")||300;let Q$=null;const nEe=n=>function(){var e=b(function*(t){const i=t&&(yield t.getIdTokenResult()),r=i&&((new Date).getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>tEe)return;const o=i?.token;Q$!==o&&(Q$=o,yield fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))});return function(t){return e.apply(this,arguments)}}();function iEe(n=Fp()){const e=Qa(n,"auth");if(e.isInitialized())return e.getImmediate();const t=function Hwe(n,e){const t=Qa(n,"auth");if(t.isInitialized()){const r=t.getImmediate();if(nv(t.getOptions(),e??{}))return r;Lr(r,"already-initialized")}return t.initialize({options:e})}(n,{popupRedirectResolver:YCe,persistence:[Wxe,Rxe,S$]}),i=e9("authTokenSyncURL");if(i){const o=nEe(i);(function Exe(n,e,t){bn(n).beforeAuthStateChanged(e,t)})(t,o,()=>o(t.currentUser)),function Cxe(n,e,t,i){bn(n).onIdTokenChanged(e,t,i)}(t,s=>o(s))}const r=Z6("auth");return r&&function Gwe(n,e,t){const i=Ei(n);se(i._canInitEmulator,i,"emulator-config-failed"),se(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!!t?.disableWarnings,o=_$(e),{host:s,port:a}=function qwe(n){const e=_$(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const o=r[1];return{host:o,port:b$(i.substr(o.length+1))}}{const[o,s]=i.split(":");return{host:o,port:b$(s)}}}(e);i.config.emulator={url:`${o}//${s}${null===a?"":`:${a}`}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||function Wwe(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(t,`http://${r}`),t}!function JCe(n){Bi(new wi("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=i.options;se(s&&!s.includes(":"),"invalid-api-key",{appName:i.name});const c={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:l$(n)},l=new jwe(i,r,o,c);return function $we(n,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(oa);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Bi(new wi("auth-internal",e=>{const t=Ei(e.getProvider("auth").getImmediate());return new XCe(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),zt(W$,"0.23.2",function ZCe(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),zt(W$,"0.23.2","esm2017")}("Browser");class We{constructor(e){return e}}class Bv{constructor(){return jp("auth")}}const Ek=new Y("angularfire2.auth-instances");function oEe(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new We(i)}}const sEe={provide:Bv,deps:[[new Xt,Ek]]},aEe={provide:We,useFactory:function rEe(n,e){const t=zp("auth",n,e);return t&&new We(t)},deps:[[new Xt,Ek],Za]};let cEe=(()=>{class n{constructor(){zt("angularfire",Vd.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=et({type:n}),n.\u0275inj=Ze({providers:[aEe,sEe]}),n})();function lEe(n,...e){return{ngModule:cEe,providers:[{provide:Ek,useFactory:oEe(n),multi:!0,deps:[Te,jt,Hp,$p,[new Xt,Wp],...e]}]}}const uEe=Ci(pxe,!0),ws=Ci(iEe,!0),aa=Ci(Ixe,!0),dEe=Ci(gxe,!0),ji=Ci(Txe,!0);let X$=(()=>{class n{constructor(t,i){this.auth=t,this.router=i,this.title="gestion-muestras"}Login(){this.router.navigate(["/auth/login"])}handleSignOut(){ji(this.auth).then(()=>{}).catch(t=>{console.log("here")})}Home(){this.router.navigate(["auth/select"])}static#e=this.\u0275fac=function(i){return new(i||n)(E(We),E(Se))};static#t=this.\u0275cmp=Me({type:n,selectors:[["app-auth"]],decls:12,vars:0,consts:[[1,"navbar"],[1,"tituloBox"],[1,"tituloText"],[1,"logoAgro"],[1,"logoUcv"],[1,"homeBox",3,"click"],[1,"UserLogo"],[1,"homeText"],[1,"homeLogo"]],template:function(i,r){1&i&&(g(0,"div",0)(1,"div",1)(2,"span",2),w(3,"Gestion de Muestras"),p()(),ie(4,"div",3)(5,"div",4),g(6,"div",5),ee("click",function(){return r.Login()}),ie(7,"div",6),g(8,"span",7),w(9,"Ingersar"),p(),ie(10,"div",8),p()(),ie(11,"router-outlet"))},dependencies:[Dd],styles:[".main[_ngcontent-%COMP%]{display:flex;height:100vh;justify-content:center;align-items:center;flex-direction:column}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}.homeBox[_ngcontent-%COMP%]{background-color:#0a9217;width:25%;height:10%;position:absolute;cursor:pointer;left:75%;top:0%;text-align:center}.homeText[_ngcontent-%COMP%]{color:#fff;display:inline-block;vertical-align:middle;font-family:Verdana;font-size:32px;letter-spacing:0;position:absolute;right:20px;top:30%}.UserLogo[_ngcontent-%COMP%]{position:absolute;top:30%;right:175px;width:36px;height:36px;text-align:center;background-image:url(userWhite.1acab0fe6d96dff4.png);background-repeat:no-repeat;background-size:cover}.tituloBox[_ngcontent-%COMP%]{background-color:#0a9217;width:100%;height:10%;position:absolute;left:0%;top:0%;text-align:center}.tituloText[_ngcontent-%COMP%]{color:#fff;display:inline-block;vertical-align:middle;line-height:225%;font-family:Verdana;font-weight:700;font-size:40px;letter-spacing:0}.logoAgro[_ngcontent-%COMP%]{width:100px;height:69px;position:absolute;left:140px;top:1%;background-image:url(Logo-Agronomia2.2ed90bcafa53fa56.png);background-repeat:no-repeat;background-size:cover}.logoUcv[_ngcontent-%COMP%]{width:69px;height:69px;position:absolute;left:30px;top:1%;background-image:url(logo_ucv_bg2_1.32a61806277cba42.png);background-repeat:no-repeat;background-size:cover}@media only screen and (max-width: 768px){.homeBox[_ngcontent-%COMP%]{background-color:#0a9217;border-right:4px solid white;width:20%;height:15%;position:absolute;left:0;top:0%}.homeText[_ngcontent-%COMP%]{display:none}.UserLogo[_ngcontent-%COMP%]{position:absolute;top:30%;left:25%;width:36px;height:36px;text-align:center;background-image:url(userWhite.1acab0fe6d96dff4.png);background-repeat:no-repeat;background-size:cover}.homeLogo[_ngcontent-%COMP%]{display:none}.tituloBox[_ngcontent-%COMP%]{background-color:#0a9217;width:80%;height:15%;position:absolute;left:20%;top:0%;text-align:center}.tituloText[_ngcontent-%COMP%]{color:#fff;line-height:1.6;display:inline-block;vertical-align:middle;font-family:Verdana;font-size:32px;letter-spacing:0px}.logoAgro[_ngcontent-%COMP%]{width:45px;height:35px;position:absolute;left:84%;top:5%;background-image:url(Logo-Agronomia2.2ed90bcafa53fa56.png);background-repeat:no-repeat;background-size:cover}.logoUcv[_ngcontent-%COMP%]{width:35px;height:35px;position:absolute;left:24%;top:5%;background-image:url(logo_ucv_bg2_1.32a61806277cba42.png);background-repeat:no-repeat;background-size:cover}}"]})}return n})();var he,hEe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Uo={},Ik=Ik||{},He=hEe||self;function Uv(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function ag(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Tk="closure_uid_"+(1e9*Math.random()>>>0),pEe=0;function gEe(n,e,t){return n.call.apply(n.bind,arguments)}function mEe(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function ir(n,e,t){return(ir=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?gEe:mEe).apply(null,arguments)}function zv(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Ii(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(i,r,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[r].apply(i,s)}}function ic(){this.s=this.s,this.o=this.o}ic.prototype.s=!1,ic.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function fEe(n){Object.prototype.hasOwnProperty.call(n,Tk)&&n[Tk]||(n[Tk]=++pEe)}(this)},ic.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Z$=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function Dk(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function J$(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(Uv(i)){const r=n.length||0,o=i.length||0;n.length=r+o;for(let s=0;s<o;s++)n[r+s]=i[s]}else n.push(i)}}function rr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}rr.prototype.h=function(){this.defaultPrevented=!0};var bEe=function(){if(!He.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{He.addEventListener("test",()=>{},e),He.removeEventListener("test",()=>{},e)}catch{}return n}();function cg(n){return/^[\s\xa0]*$/.test(n)}function jv(){var n=He.navigator;return n&&(n=n.userAgent)?n:""}function xs(n){return-1!=jv().indexOf(n)}function Mk(n){return Mk[" "](n),n}Mk[" "]=function(){};var Sk,n,vEe=xs("Opera"),$d=xs("Trident")||xs("MSIE"),e8=xs("Edge"),Ak=e8||$d,t8=xs("Gecko")&&!(-1!=jv().toLowerCase().indexOf("webkit")&&!xs("Edge"))&&!(xs("Trident")||xs("MSIE"))&&!xs("Edge"),wEe=-1!=jv().toLowerCase().indexOf("webkit")&&!xs("Edge");function n8(){var n=He.document;return n?n.documentMode:void 0}e:{var kk="",Ok=(n=jv(),t8?/rv:([^\);]+)(\)|;)/.exec(n):e8?/Edge\/([\d\.]+)/.exec(n):$d?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):wEe?/WebKit\/(\S+)/.exec(n):vEe?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Ok&&(kk=Ok?Ok[1]:""),$d){var Pk=n8();if(null!=Pk&&Pk>parseFloat(kk)){Sk=String(Pk);break e}}Sk=kk}var xEe=He.document&&$d&&(n8()||parseInt(Sk,10))||void 0;function lg(n,e){if(rr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(t8){e:{try{Mk(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:CEe[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&lg.$.h.call(this)}}Ii(lg,rr);var CEe={2:"touch",3:"pen",4:"mouse"};lg.prototype.h=function(){lg.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var ug="closure_listenable_"+(1e6*Math.random()|0),EEe=0;function IEe(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.la=r,this.key=++EEe,this.fa=this.ia=!1}function Hv(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function Nk(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function r8(n){const e={};for(const t in n)e[t]=n[t];return e}const o8="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function s8(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let o=0;o<o8.length;o++)t=o8[o],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function $v(n){this.src=n,this.g={},this.h=0}function Fk(n,e){var t=e.type;if(t in n.g){var o,i=n.g[t],r=Z$(i,e);(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(Hv(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Lk(n,e,t,i){for(var r=0;r<n.length;++r){var o=n[r];if(!o.fa&&o.listener==e&&o.capture==!!t&&o.la==i)return r}return-1}$v.prototype.add=function(n,e,t,i,r){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var s=Lk(n,e,i,r);return-1<s?(e=n[s],t||(e.ia=!1)):((e=new IEe(e,this.src,o,!!i,r)).ia=t,n.push(e)),e};var Vk="closure_lm_"+(1e6*Math.random()|0),Bk={};function a8(n,e,t,i,r){if(i&&i.once)return l8(n,e,t,i,r);if(Array.isArray(e)){for(var o=0;o<e.length;o++)a8(n,e[o],t,i,r);return null}return t=Hk(t),n&&n[ug]?n.O(e,t,ag(i)?!!i.capture:!!i,r):c8(n,e,t,!1,i,r)}function c8(n,e,t,i,r,o){if(!e)throw Error("Invalid event type");var s=ag(r)?!!r.capture:!!r,a=zk(n);if(a||(n[Vk]=a=new $v(n)),(t=a.add(e,t,i,s,o)).proxy)return t;if(i=function DEe(){const e=MEe;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)bEe||(r=s),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(d8(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function l8(n,e,t,i,r){if(Array.isArray(e)){for(var o=0;o<e.length;o++)l8(n,e[o],t,i,r);return null}return t=Hk(t),n&&n[ug]?n.P(e,t,ag(i)?!!i.capture:!!i,r):c8(n,e,t,!0,i,r)}function u8(n,e,t,i,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)u8(n,e[o],t,i,r);else i=ag(i)?!!i.capture:!!i,t=Hk(t),n&&n[ug]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Lk(o=n.g[e],t,i,r))&&(Hv(o[t]),Array.prototype.splice.call(o,t,1),0==o.length&&(delete n.g[e],n.h--))):n&&(n=zk(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Lk(e,t,i,r)),(t=-1<n?e[n]:null)&&Uk(t))}function Uk(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[ug])Fk(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(d8(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=zk(e))?(Fk(t,n),0==t.h&&(t.src=null,e[Vk]=null)):Hv(n)}}}function d8(n){return n in Bk?Bk[n]:Bk[n]="on"+n}function MEe(n,e){if(n.fa)n=!0;else{e=new lg(e,this);var t=n.listener,i=n.la||n.src;n.ia&&Uk(n),n=t.call(i,e)}return n}function zk(n){return(n=n[Vk])instanceof $v?n:null}var jk="__closure_events_fn_"+(1e9*Math.random()>>>0);function Hk(n){return"function"==typeof n?n:(n[jk]||(n[jk]=function(e){return n.handleEvent(e)}),n[jk])}function Ti(){ic.call(this),this.i=new $v(this),this.S=this,this.J=null}function Hi(n,e){var t,i=n.J;if(i)for(t=[];i;i=i.J)t.push(i);if(n=n.S,i=e.type||e,"string"==typeof e)e=new rr(e,n);else if(e instanceof rr)e.target=e.target||n;else{var r=e;s8(e=new rr(i,n),r)}if(r=!0,t)for(var o=t.length-1;0<=o;o--){var s=e.g=t[o];r=Gv(s,i,!0,e)&&r}if(r=Gv(s=e.g=n,i,!0,e)&&r,r=Gv(s,i,!1,e)&&r,t)for(o=0;o<t.length;o++)r=Gv(s=e.g=t[o],i,!1,e)&&r}function Gv(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==t){var a=s.listener,c=s.la||s.src;s.ia&&Fk(n.i,s),r=!1!==a.call(c,i)&&r}}return r&&!i.defaultPrevented}Ii(Ti,ic),Ti.prototype[ug]=!0,Ti.prototype.removeEventListener=function(n,e,t,i){u8(this,n,e,t,i)},Ti.prototype.N=function(){if(Ti.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)Hv(t[i]);delete n.g[e],n.h--}}this.J=null},Ti.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},Ti.prototype.P=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var $k=He.JSON.stringify;function SEe(){var n=Gk;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var h8=new class AEe{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new OEe,n=>n.reset());class OEe{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function PEe(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function REe(n){He.setTimeout(()=>{throw n},0)}let dg,hg=!1,Gk=new class kEe{constructor(){this.h=this.g=null}add(e,t){const i=h8.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}},f8=()=>{const n=He.Promise.resolve(void 0);dg=()=>{n.then(NEe)}};var NEe=()=>{for(var n;n=SEe();){try{n.h.call(n.g)}catch(t){REe(t)}var e=h8;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}hg=!1};function qv(n,e){Ti.call(this),this.h=n||1,this.g=e||He,this.j=ir(this.qb,this),this.l=Date.now()}function qk(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function Wk(n,e,t){if("function"==typeof n)t&&(n=ir(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ir(n.handleEvent,n)}return 2147483647<Number(e)?-1:He.setTimeout(n,e||0)}function p8(n){n.g=Wk(()=>{n.g=null,n.i&&(n.i=!1,p8(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Ii(qv,Ti),(he=qv.prototype).ga=!1,he.T=null,he.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Hi(this,"tick"),this.ga&&(qk(this),this.start()))}},he.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},he.N=function(){qv.$.N.call(this),qk(this),delete this.g};class FEe extends ic{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:p8(this)}N(){super.N(),this.g&&(He.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fg(n){ic.call(this),this.h=n,this.g={}}Ii(fg,ic);var g8=[];function m8(n,e,t,i){Array.isArray(t)||(t&&(g8[0]=t.toString()),t=g8);for(var r=0;r<t.length;r++){var o=a8(e,t[r],i||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function _8(n){Nk(n.g,function(e,t){this.g.hasOwnProperty(t)&&Uk(e)},n),n.g={}}function Wv(){this.g=!0}function Gd(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function UEe(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<r.length;s++)r[s]=""}}}return $k(t)}catch{return e}}(n,t)+(i?" "+i:"")})}fg.prototype.N=function(){fg.$.N.call(this),_8(this)},fg.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Wv.prototype.Ea=function(){this.g=!1},Wv.prototype.info=function(){};var Cl={},b8=null;function Kv(){return b8=b8||new Ti}function y8(n){rr.call(this,Cl.Ta,n)}function pg(n){const e=Kv();Hi(e,new y8(e))}function v8(n,e){rr.call(this,Cl.STAT_EVENT,n),this.stat=e}function vr(n){const e=Kv();Hi(e,new v8(e,n))}function w8(n,e){rr.call(this,Cl.Ua,n),this.size=e}function gg(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return He.setTimeout(function(){n()},e)}Cl.Ta="serverreachability",Ii(y8,rr),Cl.STAT_EVENT="statevent",Ii(v8,rr),Cl.Ua="timingevent",Ii(w8,rr);var Qv={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},x8={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Kk(){}function E8(){}Kk.prototype.h=null;var Xk,mg={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Qk(){rr.call(this,"d")}function Yk(){rr.call(this,"c")}function Yv(){}function _g(n,e,t,i){this.l=n,this.j=e,this.m=t,this.W=i||1,this.U=new fg(this),this.P=zEe,this.V=new qv(n=Ak?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new I8}function I8(){this.i=null,this.g="",this.h=!1}Ii(Qk,rr),Ii(Yk,rr),Ii(Yv,Kk),Yv.prototype.g=function(){return new XMLHttpRequest},Yv.prototype.i=function(){return{}},Xk=new Yv;var zEe=45e3,Zk={},Xv={};function Jk(n,e,t){n.L=1,n.v=t0(ca(e)),n.s=t,n.S=!0,T8(n,null)}function T8(n,e){n.G=Date.now(),bg(n),n.A=ca(n.v);var t=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),F8(t.i,"t",i),n.C=0,t=n.l.J,n.h=new I8,n.g=s7(n.l,t?e:null,!n.s),0<n.O&&(n.M=new FEe(ir(n.Pa,n,n.g),n.O)),m8(n.U,n.g,"readystatechange",n.nb),e=n.I?r8(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),pg(),function LEe(n,e,t,i,r,o){n.info(function(){if(n.g)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var d=u.split("_");s=2<=d.length&&"type"==d[1]?s+(u+"=")+l+"&":s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+s})}(n.j,n.u,n.A,n.m,n.W,n.s)}function D8(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function M8(n,e,t){let r,i=!0;for(;!n.J&&n.C<t.length;){if(r=jEe(n,t),r==Xv){4==e&&(n.o=4,vr(14),i=!1),Gd(n.j,n.m,null,"[Incomplete Response]");break}if(r==Zk){n.o=4,vr(15),Gd(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}Gd(n.j,n.m,r,null),eO(n,r)}D8(n)&&r!=Xv&&r!=Zk&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,vr(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),aO(e),e.M=!0,vr(11))):(Gd(n.j,n.m,t,"[Invalid Chunked Response]"),El(n),yg(n))}function jEe(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?Xv:(t=Number(e.substring(t,i)),isNaN(t)?Zk:(i+=1)+t>e.length?Xv:(e=e.slice(i,i+t),n.C=i+t,e))}function bg(n){n.Y=Date.now()+n.P,A8(n,n.P)}function A8(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=gg(ir(n.lb,n),e)}function Zv(n){n.B&&(He.clearTimeout(n.B),n.B=null)}function yg(n){0==n.l.H||n.J||n7(n.l,n)}function El(n){Zv(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,qk(n.V),_8(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function eO(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||tO(t.i,n)))if(!n.K&&tO(t.i,n)&&3==t.H){try{var i=t.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;c0(t),s0(t)}sO(t),vr(18)}}else t.Fa=r[1],0<t.Fa-t.V&&37500>r[2]&&t.G&&0==t.A&&!t.v&&(t.v=gg(ir(t.ib,t),6e3));if(1>=B8(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Tl(t,11)}else if((n.K||t.g==n)&&c0(t),!cg(e))for(r=t.Ja.g.parse(e),e=0;e<r.length;e++){let l=r[e];if(t.V=l[0],l=l[1],2==t.H)if("c"==l[0]){t.K=l[1],t.pa=l[2];const u=l[3];null!=u&&(t.ra=u,t.l.info("VER="+t.ra));const d=l[4];null!=d&&(t.Ga=d,t.l.info("SVER="+t.Ga));const h=l[5];null!=h&&"number"==typeof h&&0<h&&(t.L=i=1.5*h,t.l.info("backChannelRequestTimeoutMs_="+i)),i=t;const f=n.g;if(f){const _=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_){var o=i.i;o.g||-1==_.indexOf("spdy")&&-1==_.indexOf("quic")&&-1==_.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(nO(o,o.h),o.h=null))}if(i.F){const C=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;C&&(i.Da=C,ln(i.I,i.F,C))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var s=n;if((i=t).wa=o7(i,i.J?i.pa:null,i.Y),s.K){U8(i.i,s);var a=s,c=i.L;c&&a.setTimeout(c),a.B&&(Zv(a),bg(a)),i.g=s}else e7(i);0<t.j.length&&a0(t)}else"stop"!=l[0]&&"close"!=l[0]||Tl(t,7);else 3==t.H&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?Tl(t,7):oO(t):"noop"!=l[0]&&t.h&&t.h.Aa(l),t.A=0)}pg()}catch{}}function S8(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Uv(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function $Ee(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Uv(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function HEe(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Uv(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length,o=0;o<r;o++)e.call(void 0,i[o],t&&t[o],n)}(he=_g.prototype).setTimeout=function(n){this.P=n},he.nb=function(n){n=n.target;const e=this.M;e&&3==Cs(n)?e.l():this.Pa(n)},he.Pa=function(n){try{if(n==this.g)e:{const u=Cs(this.g);var e=this.g.Ia();if(this.g.da(),!(3>u)&&(3!=u||Ak||this.g&&(this.h.h||this.g.ja()||K8(this.g)))){this.J||4!=u||7==e||pg(),Zv(this);var t=this.g.da();this.ca=t;t:if(D8(this)){var i=K8(this.g);n="";var r=i.length,o=4==Cs(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){El(this),yg(this);var s="";break t}this.h.i=new He.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:o&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==t,function VEe(n,e,t,i,r,o,s){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+o+" "+s})}(this.j,this.u,this.A,this.m,this.W,u,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!cg(a)){var l=a;break t}}l=null}if(!(t=l)){this.i=!1,this.o=3,vr(12),El(this),yg(this);break e}Gd(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,eO(this,t)}this.S?(M8(this,u,s),Ak&&this.i&&3==u&&(m8(this.U,this.V,"tick",this.mb),this.V.start())):(Gd(this.j,this.m,s,null),eO(this,s)),4==u&&El(this),this.i&&!this.J&&(4==u?n7(this.l,this):(this.i=!1,bg(this)))}else(function c1e(n){const e={};n=(n.g&&2<=Cs(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(cg(n[i]))continue;var t=PEe(n[i]);const r=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const o=e[r]||[];e[r]=o,o.push(t)}!function TEe(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(i){return i.join(", ")})})(this.g),400==t&&0<s.indexOf("Unknown SID")?(this.o=3,vr(12)):(this.o=0,vr(13)),El(this),yg(this)}}}catch{}},he.mb=function(){if(this.g){var n=Cs(this.g),e=this.g.ja();this.C<e.length&&(Zv(this),M8(this,n,e),this.i&&4!=n&&bg(this))}},he.cancel=function(){this.J=!0,El(this)},he.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function BEe(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(pg(),vr(17)),El(this),this.o=2,yg(this)):A8(this,this.Y-n)};var k8=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Il(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Il){this.h=n.h,Jv(this,n.j),this.s=n.s,this.g=n.g,e0(this,n.m),this.l=n.l;var e=n.i,t=new xg;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),O8(this,t),this.o=n.o}else n&&(e=String(n).match(k8))?(this.h=!1,Jv(this,e[1]||"",!0),this.s=vg(e[2]||""),this.g=vg(e[3]||"",!0),e0(this,e[4]),this.l=vg(e[5]||"",!0),O8(this,e[6]||"",!0),this.o=vg(e[7]||"")):(this.h=!1,this.i=new xg(null,this.h))}function ca(n){return new Il(n)}function Jv(n,e,t){n.j=t?vg(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function e0(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function O8(n,e,t){e instanceof xg?(n.i=e,function XEe(n,e){e&&!n.j&&(rc(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(R8(this,i),F8(this,r,t))},n)),n.j=e}(n.i,n.h)):(t||(e=wg(e,QEe)),n.i=new xg(e,n.h))}function ln(n,e,t){n.i.set(e,t)}function t0(n){return ln(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function vg(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function wg(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,qEe),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function qEe(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Il.prototype.toString=function(){var n=[],e=this.j;e&&n.push(wg(e,P8,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(wg(e,P8,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(wg(t,"/"==t.charAt(0)?KEe:WEe,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",wg(t,YEe)),n.join("")};var P8=/[#\/\?@]/g,WEe=/[#\?:]/g,KEe=/[#\?]/g,QEe=/[#\?@]/g,YEe=/#/g;function xg(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function rc(n){n.g||(n.g=new Map,n.h=0,n.i&&function GEe(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var o=n[t].substring(0,i);r=n[t].substring(i+1)}else o=n[t];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function R8(n,e){rc(n),e=qd(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function N8(n,e){return rc(n),e=qd(n,e),n.g.has(e)}function F8(n,e,t){R8(n,e),0<t.length&&(n.i=null,n.g.set(qd(n,e),Dk(t)),n.h+=t.length)}function qd(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}(he=xg.prototype).add=function(n,e){rc(this),this.i=null,n=qd(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},he.forEach=function(n,e){rc(this),this.g.forEach(function(t,i){t.forEach(function(r){n.call(e,r,i,this)},this)},this)},he.ta=function(){rc(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const r=n[i];for(let o=0;o<r.length;o++)t.push(e[i])}return t},he.Z=function(n){rc(this);let e=[];if("string"==typeof n)N8(this,n)&&(e=e.concat(this.g.get(qd(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},he.set=function(n,e){return rc(this),this.i=null,N8(this,n=qd(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},he.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},he.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const o=encodeURIComponent(String(i)),s=this.Z(i);for(i=0;i<s.length;i++){var r=o;""!==s[i]&&(r+="="+encodeURIComponent(String(s[i]))),n.push(r)}}return this.i=n.join("&")};var ZEe=class{constructor(n,e){this.g=n,this.map=e}};function L8(n){this.l=n||JEe,n=He.PerformanceNavigationTiming?0<(n=He.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(He.g&&He.g.Ka&&He.g.Ka()&&He.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var JEe=10;function V8(n){return!!n.h||!!n.g&&n.g.size>=n.j}function B8(n){return n.h?1:n.g?n.g.size:0}function tO(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function nO(n,e){n.g?n.g.add(e):n.h=e}function U8(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function z8(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return Dk(n.i)}L8.prototype.cancel=function(){if(this.i=z8(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var e1e=class{stringify(n){return He.JSON.stringify(n,void 0)}parse(n){return He.JSON.parse(n,void 0)}};function t1e(){this.g=new e1e}function n1e(n,e,t){const i=t||"";try{S8(n,function(r,o){let s=r;ag(r)&&(s=$k(r)),e.push(i+o+"="+encodeURIComponent(s))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function n0(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function Cg(n){this.l=n.fc||null,this.j=n.ob||!1}function r0(n,e){Ti.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=iO,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ii(Cg,Kk),Cg.prototype.g=function(){return new r0(this.l,this.j)},Cg.prototype.i=function(n){return function(){return n}}({}),Ii(r0,Ti);var iO=0;function j8(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Eg(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Ig(n)}function Ig(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(he=r0.prototype).open=function(n,e){if(this.readyState!=iO)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Ig(this)},he.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||He).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},he.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Eg(this)),this.readyState=iO},he.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Ig(this)),this.g&&(this.readyState=3,Ig(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof He.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;j8(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},he.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Eg(this):Ig(this),3==this.readyState&&j8(this)}},he.Za=function(n){this.g&&(this.response=this.responseText=n,Eg(this))},he.Ya=function(n){this.g&&(this.response=n,Eg(this))},he.ka=function(){this.g&&Eg(this)},he.setRequestHeader=function(n,e){this.v.append(n,e)},he.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},he.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(r0.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var r1e=He.JSON.parse;function Rn(n){Ti.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=H8,this.L=this.M=!1}Ii(Rn,Ti);var H8="",o1e=/^https?$/i,s1e=["POST","PUT"];function $8(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,G8(n),o0(n)}function G8(n){n.F||(n.F=!0,Hi(n,"complete"),Hi(n,"error"))}function q8(n){if(n.h&&typeof Ik<"u"&&(!n.C[1]||4!=Cs(n)||2!=n.da()))if(n.v&&4==Cs(n))Wk(n.La,0,n);else if(Hi(n,"readystatechange"),4==Cs(n)){n.h=!1;try{const s=n.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===s){var r=String(n.I).match(k8)[1]||null;!r&&He.self&&He.self.location&&(r=He.self.location.protocol.slice(0,-1)),i=!o1e.test(r?r.toLowerCase():"")}t=i}if(t)Hi(n,"complete"),Hi(n,"success");else{n.m=6;try{var o=2<Cs(n)?n.g.statusText:""}catch{o=""}n.j=o+" ["+n.da()+"]",G8(n)}}finally{o0(n)}}}function o0(n,e){if(n.g){W8(n);const t=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Hi(n,"ready");try{t.onreadystatechange=i}catch{}}}function W8(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(He.clearTimeout(n.A),n.A=null)}function Cs(n){return n.g?n.g.readyState:0}function K8(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case H8:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function Q8(n){let e="";return Nk(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function rO(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=Q8(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):ln(n,e,t))}function Tg(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Y8(n){this.Ga=0,this.j=[],this.l=new Wv,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Tg("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Tg("baseRetryDelayMs",5e3,n),this.hb=Tg("retryDelaySeedMs",1e4,n),this.eb=Tg("forwardChannelMaxRetries",2,n),this.xa=Tg("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new L8(n&&n.concurrentRequestLimit),this.Ja=new t1e,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function oO(n){if(X8(n),3==n.H){var e=n.W++,t=ca(n.I);if(ln(t,"SID",n.K),ln(t,"RID",e),ln(t,"TYPE","terminate"),Dg(n,t),(e=new _g(n,n.l,e)).L=2,e.v=t0(ca(t)),t=!1,He.navigator&&He.navigator.sendBeacon)try{t=He.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&He.Image&&((new Image).src=e.v,t=!0),t||(e.g=s7(e.l,null),e.g.ha(e.v)),e.G=Date.now(),bg(e)}r7(n)}function s0(n){n.g&&(aO(n),n.g.cancel(),n.g=null)}function X8(n){s0(n),n.u&&(He.clearTimeout(n.u),n.u=null),c0(n),n.i.cancel(),n.m&&("number"==typeof n.m&&He.clearTimeout(n.m),n.m=null)}function a0(n){if(!V8(n.i)&&!n.m){n.m=!0;var e=n.Na;dg||f8(),hg||(dg(),hg=!0),Gk.add(e,n),n.C=0}}function Z8(n,e){var t;t=e?e.m:n.W++;const i=ca(n.I);ln(i,"SID",n.K),ln(i,"RID",t),ln(i,"AID",n.V),Dg(n,i),n.o&&n.s&&rO(i,n.o,n.s),t=new _g(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=J8(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),nO(n.i,t),Jk(t,i,e)}function Dg(n,e){n.na&&Nk(n.na,function(t,i){ln(e,i,t)}),n.h&&S8({},function(t,i){ln(e,i,t)})}function J8(n,e,t){t=Math.min(n.j.length,t);var i=n.h?ir(n.h.Va,n.h,n):null;e:{var r=n.j;let o=-1;for(;;){const s=["count="+t];-1==o?0<t?(o=r[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let c=0;c<t;c++){let l=r[c].g;const u=r[c].map;if(l-=o,0>l)o=Math.max(0,r[c].g-100),a=!1;else try{n1e(u,s,"req"+l+"_")}catch{i&&i(u)}}if(a){i=s.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,i}function e7(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;dg||f8(),hg||(dg(),hg=!0),Gk.add(e,n),n.A=0}}function sO(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=gg(ir(n.Ma,n),i7(n,n.A)),n.A++,0))}function aO(n){null!=n.B&&(He.clearTimeout(n.B),n.B=null)}function t7(n){n.g=new _g(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=ca(n.wa);ln(e,"RID","rpc"),ln(e,"SID",n.K),ln(e,"AID",n.V),ln(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&ln(e,"TO",n.qa),ln(e,"TYPE","xmlhttp"),Dg(n,e),n.o&&n.s&&rO(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=t0(ca(e)),t.s=null,t.S=!0,T8(t,n)}function c0(n){null!=n.v&&(He.clearTimeout(n.v),n.v=null)}function n7(n,e){var t=null;if(n.g==e){c0(n),aO(n),n.g=null;var i=2}else{if(!tO(n.i,e))return;t=e.F,U8(n.i,e),i=1}if(0!=n.H)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.G;var r=n.C;Hi(i=Kv(),new w8(i,t)),a0(n)}else e7(n);else if(3==(r=e.o)||0==r&&0<e.ca||!(1==i&&function l1e(n,e){return!(B8(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=gg(ir(n.Na,n,e),i7(n,n.C)),n.C++,0)))}(n,e)||2==i&&sO(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),r){case 1:Tl(n,5);break;case 4:Tl(n,10);break;case 3:Tl(n,6);break;default:Tl(n,2)}}function i7(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Tl(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var i=ir(n.pb,n);t||(t=new Il("//www.google.com/images/cleardot.gif"),He.location&&"http"==He.location.protocol||Jv(t,"https"),t0(t)),function i1e(n,e){const t=new Wv;if(He.Image){const i=new Image;i.onload=zv(n0,t,i,"TestLoadImage: loaded",!0,e),i.onerror=zv(n0,t,i,"TestLoadImage: error",!1,e),i.onabort=zv(n0,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=zv(n0,t,i,"TestLoadImage: timeout",!1,e),He.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else vr(2);n.H=0,n.h&&n.h.za(e),r7(n),X8(n)}function r7(n){if(n.H=0,n.ma=[],n.h){const e=z8(n.i);(0!=e.length||0!=n.j.length)&&(J$(n.ma,e),J$(n.ma,n.j),n.i.i.length=0,Dk(n.j),n.j.length=0),n.h.ya()}}function o7(n,e,t){var i=t instanceof Il?ca(t):new Il(t);if(""!=i.g)e&&(i.g=e+"."+i.g),e0(i,i.m);else{var r=He.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var o=new Il(null);i&&Jv(o,i),e&&(o.g=e),r&&e0(o,r),t&&(o.l=t),i=o}return e=n.Da,(t=n.F)&&e&&ln(i,t,e),ln(i,"VER",n.ra),Dg(n,i),i}function s7(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Rn(t&&n.Ha&&!n.va?new Cg({ob:!0}):n.va)).Oa(n.J),e}function a7(){}function l0(){if($d&&!(10<=Number(xEe)))throw Error("Environmental error: no available transport.")}function Xr(n,e){Ti.call(this),this.g=new Y8(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!cg(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!cg(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Wd(this)}function c7(n){Qk.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function l7(){Yk.call(this),this.status=1}function Wd(n){this.g=n}function zo(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function cO(n,e,t){t||(t=0);var i=Array(16);if("string"==typeof e)for(var r=0;16>r;++r)i[r]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(r=0;16>r;++r)i[r]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var o=n.g[3],s=(e=n.g[0])+(o^(t=n.g[1])&((r=n.g[2])^o))+i[0]+3614090360&4294967295;s=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=t+(s<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(r^o))+i[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(r^o))+i[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(r^o))+i[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=e+(r^o&(t^r))+i[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=e+(r^o&(t^r))+i[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=e+(r^o&(t^r))+i[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=e+(r^o&(t^r))+i[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=e+(t^r^o)+i[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^r^o)+i[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^r^o)+i[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^r^o)+i[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=e+(r^(t|~o))+i[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=r+(e^(o|~t))+i[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(r|~e))+i[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=e+(r^(t|~o))+i[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=r+(e^(o|~t))+i[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(r|~e))+i[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=e+(r^(t|~o))+i[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=r+(e^(o|~t))+i[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(r|~e))+i[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(e=t+((s=e+(r^(t|~o))+i[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((r=o+((s=r+(e^(o|~t))+i[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~e))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(r+(s<<21&4294967295|s>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+o&4294967295}function Ft(n,e){this.h=e;for(var t=[],i=!0,r=n.length-1;0<=r;r--){var o=0|n[r];i&&o==e||(t[r]=o,i=!1)}this.g=t}(he=Rn.prototype).Oa=function(n){this.M=n},he.ha=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Xk.g(),this.C=function C8(n){return n.h||(n.h=n.i())}(this.u?this.u:Xk),this.g.onreadystatechange=ir(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(o){return void $8(this,o)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)t.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const o of i.keys())t.set(o,i.get(o))}i=Array.from(t.keys()).find(o=>"content-type"==o.toLowerCase()),r=He.FormData&&n instanceof He.FormData,!(0<=Z$(s1e,e))||i||r||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of t)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{W8(this),0<this.B&&((this.L=function a1e(n){return $d&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ir(this.ua,this)):this.A=Wk(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){$8(this,o)}},he.ua=function(){typeof Ik<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Hi(this,"timeout"),this.abort(8))},he.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Hi(this,"complete"),Hi(this,"abort"),o0(this))},he.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),o0(this,!0)),Rn.$.N.call(this)},he.La=function(){this.s||(this.G||this.v||this.l?q8(this):this.kb())},he.kb=function(){q8(this)},he.isActive=function(){return!!this.g},he.da=function(){try{return 2<Cs(this)?this.g.status:-1}catch{return-1}},he.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},he.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),r1e(e)}},he.Ia=function(){return this.m},he.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(he=Y8.prototype).ra=8,he.H=1,he.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new _g(this,this.l,n);let o=this.s;if(this.U&&(o?(o=r8(o),s8(o,this.U)):o=this.U),null!==this.o||this.O||(r.I=o,o=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var i=this.j[t];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=J8(this,r,e),ln(t=ca(this.I),"RID",n),ln(t,"CVER",22),this.F&&ln(t,"X-HTTP-Session-Id",this.F),Dg(this,t),o&&(this.O?e="headers="+encodeURIComponent(String(Q8(o)))+"&"+e:this.o&&rO(t,this.o,o)),nO(this.i,r),this.bb&&ln(t,"TYPE","init"),this.P?(ln(t,"$req",e),ln(t,"SID","null"),r.aa=!0,Jk(r,t,null)):Jk(r,t,e),this.H=2}}else 3==this.H&&(n?Z8(this,n):0==this.j.length||V8(this.i)||Z8(this))},he.Ma=function(){if(this.u=null,t7(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=gg(ir(this.jb,this),n)}},he.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,vr(10),s0(this),t7(this))},he.ib=function(){null!=this.v&&(this.v=null,s0(this),sO(this),vr(19))},he.pb=function(n){n?(this.l.info("Successfully pinged google.com"),vr(2)):(this.l.info("Failed to ping google.com"),vr(1))},he.isActive=function(){return!!this.h&&this.h.isActive(this)},(he=a7.prototype).Ba=function(){},he.Aa=function(){},he.za=function(){},he.ya=function(){},he.isActive=function(){return!0},he.Va=function(){},l0.prototype.g=function(n,e){return new Xr(n,e)},Ii(Xr,Ti),Xr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;vr(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=o7(n,null,n.Y),a0(n)},Xr.prototype.close=function(){oO(this.g)},Xr.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=$k(n),n=t);e.j.push(new ZEe(e.fb++,n)),3==e.H&&a0(e)},Xr.prototype.N=function(){this.g.h=null,delete this.j,oO(this.g),delete this.g,Xr.$.N.call(this)},Ii(c7,Qk),Ii(l7,Yk),Ii(Wd,a7),Wd.prototype.Ba=function(){Hi(this.g,"a")},Wd.prototype.Aa=function(n){Hi(this.g,new c7(n))},Wd.prototype.za=function(n){Hi(this.g,new l7)},Wd.prototype.ya=function(){Hi(this.g,"b")},Ii(zo,function u1e(){this.blockSize=-1}),zo.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},zo.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,i=this.m,r=this.h,o=0;o<e;){if(0==r)for(;o<=t;)cO(this,n,o),o+=this.blockSize;if("string"==typeof n){for(;o<e;)if(i[r++]=n.charCodeAt(o++),r==this.blockSize){cO(this,i),r=0;break}}else for(;o<e;)if(i[r++]=n[o++],r==this.blockSize){cO(this,i),r=0;break}}this.h=r,this.i+=e},zo.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var i=0;32>i;i+=8)n[t++]=this.g[e]>>>i&255;return n};var d1e={};function lO(n){return-128<=n&&128>n?function yEe(n,e){var t=d1e;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Ft([0|e],0>e?-1:0)}):new Ft([0|n],0>n?-1:0)}function Es(n){if(isNaN(n)||!isFinite(n))return Kd;if(0>n)return $i(Es(-n));for(var e=[],t=1,i=0;n>=t;i++)e[i]=n/t|0,t*=uO;return new Ft(e,0)}var uO=4294967296,Kd=lO(0),dO=lO(1),d7=lO(16777216);function la(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function bo(n){return-1==n.h}function $i(n){for(var e=n.g.length,t=[],i=0;i<e;i++)t[i]=~n.g[i];return new Ft(t,~n.h).add(dO)}function u0(n,e){return n.add($i(e))}function d0(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Mg(n,e){this.g=n,this.h=e}function h0(n,e){if(la(e))throw Error("division by zero");if(la(n))return new Mg(Kd,Kd);if(bo(n))return e=h0($i(n),e),new Mg($i(e.g),$i(e.h));if(bo(e))return e=h0(n,$i(e)),new Mg($i(e.g),e.h);if(30<n.g.length){if(bo(n)||bo(e))throw Error("slowDivide_ only works with positive integers.");for(var t=dO,i=e;0>=i.X(n);)t=h7(t),i=h7(i);var r=Qd(t,1),o=Qd(i,1);for(i=Qd(i,2),t=Qd(t,2);!la(i);){var s=o.add(i);0>=s.X(n)&&(r=r.add(t),o=s),i=Qd(i,1),t=Qd(t,1)}return e=u0(n,r.R(e)),new Mg(r,e)}for(r=Kd;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),i=48>=(i=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,i-48),s=(o=Es(t)).R(e);bo(s)||0<s.X(n);)s=(o=Es(t-=i)).R(e);la(o)&&(o=dO),r=r.add(o),n=u0(n,s)}return new Mg(r,n)}function h7(n){for(var e=n.g.length+1,t=[],i=0;i<e;i++)t[i]=n.D(i)<<1|n.D(i-1)>>>31;return new Ft(t,n.h)}function Qd(n,e){var t=e>>5;e%=32;for(var i=n.g.length-t,r=[],o=0;o<i;o++)r[o]=0<e?n.D(o+t)>>>e|n.D(o+t+1)<<32-e:n.D(o+t);return new Ft(r,n.h)}(he=Ft.prototype).ea=function(){if(bo(this))return-$i(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var i=this.D(t);n+=(0<=i?i:uO+i)*e,e*=uO}return n},he.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(la(this))return"0";if(bo(this))return"-"+$i(this).toString(n);for(var e=Es(Math.pow(n,6)),t=this,i="";;){var r=h0(t,e).g,o=((0<(t=u0(t,r.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(la(t=r))return o+i;for(;6>o.length;)o="0"+o;i=o+i}},he.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},he.X=function(n){return bo(n=u0(this,n))?-1:la(n)?0:1},he.abs=function(){return bo(this)?$i(this):this},he.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0,r=0;r<=e;r++){var o=i+(65535&this.D(r))+(65535&n.D(r)),s=(o>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=s>>>16,t[r]=(s&=65535)<<16|(o&=65535)}return new Ft(t,-2147483648&t[t.length-1]?-1:0)},he.R=function(n){if(la(this)||la(n))return Kd;if(bo(this))return bo(n)?$i(this).R($i(n)):$i($i(this).R(n));if(bo(n))return $i(this.R($i(n)));if(0>this.X(d7)&&0>n.X(d7))return Es(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],i=0;i<2*e;i++)t[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var o=this.D(i)>>>16,s=65535&this.D(i),a=n.D(r)>>>16,c=65535&n.D(r);t[2*i+2*r]+=s*c,d0(t,2*i+2*r),t[2*i+2*r+1]+=o*c,d0(t,2*i+2*r+1),t[2*i+2*r+1]+=s*a,d0(t,2*i+2*r+1),t[2*i+2*r+2]+=o*a,d0(t,2*i+2*r+2)}for(i=0;i<e;i++)t[i]=t[2*i+1]<<16|t[2*i];for(i=e;i<2*e;i++)t[i]=0;return new Ft(t,0)},he.gb=function(n){return h0(this,n).h},he.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)&n.D(i);return new Ft(t,this.h&n.h)},he.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)|n.D(i);return new Ft(t,this.h|n.h)},he.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)^n.D(i);return new Ft(t,this.h^n.h)},l0.prototype.createWebChannel=l0.prototype.g,Xr.prototype.send=Xr.prototype.u,Xr.prototype.open=Xr.prototype.m,Xr.prototype.close=Xr.prototype.close,Qv.NO_ERROR=0,Qv.TIMEOUT=8,Qv.HTTP_ERROR=6,x8.COMPLETE="complete",E8.EventType=mg,mg.OPEN="a",mg.CLOSE="b",mg.ERROR="c",mg.MESSAGE="d",Ti.prototype.listen=Ti.prototype.O,Rn.prototype.listenOnce=Rn.prototype.P,Rn.prototype.getLastError=Rn.prototype.Sa,Rn.prototype.getLastErrorCode=Rn.prototype.Ia,Rn.prototype.getStatus=Rn.prototype.da,Rn.prototype.getResponseJson=Rn.prototype.Wa,Rn.prototype.getResponseText=Rn.prototype.ja,Rn.prototype.send=Rn.prototype.ha,Rn.prototype.setWithCredentials=Rn.prototype.Oa,zo.prototype.digest=zo.prototype.l,zo.prototype.reset=zo.prototype.reset,zo.prototype.update=zo.prototype.j,Ft.prototype.add=Ft.prototype.add,Ft.prototype.multiply=Ft.prototype.R,Ft.prototype.modulo=Ft.prototype.gb,Ft.prototype.compare=Ft.prototype.X,Ft.prototype.toNumber=Ft.prototype.ea,Ft.prototype.toString=Ft.prototype.toString,Ft.prototype.getBits=Ft.prototype.D,Ft.fromNumber=Es,Ft.fromString=function u7(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return $i(u7(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Es(Math.pow(e,8)),i=Kd,r=0;r<n.length;r+=8){var o=Math.min(8,n.length-r),s=parseInt(n.substring(r,r+o),e);8>o?(o=Es(Math.pow(e,o)),i=i.R(o).add(Es(s))):i=(i=i.R(t)).add(Es(s))}return i};var h1e=Uo.createWebChannelTransport=function(){return new l0},f1e=Uo.getStatEventTarget=function(){return Kv()},hO=Uo.ErrorCode=Qv,p1e=Uo.EventType=x8,g1e=Uo.Event=Cl,f7=Uo.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},m1e=Uo.FetchXmlHttpFactory=Cg,f0=Uo.WebChannel=E8,_1e=Uo.XhrIo=Rn,b1e=Uo.Md5=zo,Yd=Uo.Integer=Ft;const p7="@firebase/firestore";class Di{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Di.UNAUTHENTICATED=new Di(null),Di.GOOGLE_CREDENTIALS=new Di("google-credentials-uid"),Di.FIRST_PARTY=new Di("first-party-uid"),Di.MOCK_USER=new Di("mock-user");let Xd="9.23.0";const oc=new dl("@firebase/firestore");function fO(){return oc.logLevel}function ne(n,...e){if(oc.logLevel<=_t.DEBUG){const t=e.map(pO);oc.debug(`Firestore (${Xd}): ${n}`,...t)}}function Kn(n,...e){if(oc.logLevel<=_t.ERROR){const t=e.map(pO);oc.error(`Firestore (${Xd}): ${n}`,...t)}}function jo(n,...e){if(oc.logLevel<=_t.WARN){const t=e.map(pO);oc.warn(`Firestore (${Xd}): ${n}`,...t)}}function pO(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function ge(n="Unexpected state"){const e=`FIRESTORE (${Xd}) INTERNAL ASSERTION FAILED: `+n;throw Kn(e),new Error(e)}function ve(n,e){n||ge()}function de(n,e){return n}const V={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class X extends mo{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class gi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class g7{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class y1e{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Di.UNAUTHENTICATED))}shutdown(){}}class v1e{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class w1e{constructor(e){this.t=e,this.currentUser=Di.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const o=l=>this.i!==r?(r=this.i,t(l)):Promise.resolve();let s=new gi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new gi,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const l=s;e.enqueueRetryable(b(function*(){yield l.promise,yield o(i.currentUser)}))},c=l=>{ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>c(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?c(l):(ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new gi)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ve("string"==typeof i.accessToken),new g7(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ve(null===e||"string"==typeof e),new Di(e)}}class x1e{constructor(e,t,i){this.h=e,this.l=t,this.m=i,this.type="FirstParty",this.user=Di.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class C1e{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new x1e(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Di.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class m7{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class E1e{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const i=o=>{null!=o.error&&ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.T;return this.T=o.token,ne("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};const r=o=>{ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.I.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.I.getImmediate({optional:!0});o?r(o):ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ve("string"==typeof t.token),this.T=t.token,new m7(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function I1e(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class _7{static A(){const t=62*Math.floor(256/62);let i="";for(;i.length<20;){const r=I1e(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<t&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[o]%62))}return i}}function Be(n,e){return n<e?-1:n>e?1:0}function Zd(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function b7(n){return n+"\0"}class Dn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new X(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new X(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new X(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new X(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Dn.fromMillis(Date.now())}static fromDate(e){return Dn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Dn(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Be(this.nanoseconds,e.nanoseconds):Be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class we{constructor(e){this.timestamp=e}static fromTimestamp(e){return new we(e)}static min(){return new we(new Dn(0,0))}static max(){return new we(new Dn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ag{constructor(e,t,i){void 0===t?t=0:t>e.length&&ge(),void 0===i?i=e.length-t:i>e.length-t&&ge(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===Ag.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ag?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const o=e.get(r),s=t.get(r);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class xt extends Ag{construct(e,t,i){return new xt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new X(V.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new xt(t)}static emptyPath(){return new xt([])}}const T1e=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qn extends Ag{construct(e,t,i){return new Qn(e,t,i)}static isValidIdentifier(e){return T1e.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Qn(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const o=()=>{if(0===i.length)throw new X(V.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let s=!1;for(;r<e.length;){const a=e[r];if("\\"===a){if(r+1===e.length)throw new X(V.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[r+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new X(V.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=c,r+=2}else"`"===a?(s=!s,r++):"."!==a||s?(i+=a,r++):(o(),r++)}if(o(),s)throw new X(V.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qn(t)}static emptyPath(){return new Qn([])}}class ce{constructor(e){this.path=e}static fromPath(e){return new ce(xt.fromString(e))}static fromName(e){return new ce(xt.fromString(e).popFirst(5))}static empty(){return new ce(xt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===xt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return xt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ce(new xt(e.slice()))}}class p0{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function gO(n){return n.fields.find(e=>2===e.kind)}function Dl(n){return n.fields.filter(e=>2!==e.kind)}p0.UNKNOWN_ID=-1;class g0{constructor(e,t){this.fieldPath=e,this.kind=t}}class Sg{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Sg(0,Zr.min())}}function v7(n){return new Zr(n.readTime,n.key,-1)}class Zr{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Zr(we.min(),ce.empty(),-1)}static max(){return new Zr(we.max(),ce.empty(),-1)}}function mO(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=ce.comparator(n.documentKey,e.documentKey),0!==t?t:Be(n.largestBatchId,e.largestBatchId))}const w7="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class x7{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function sc(n){return _O.apply(this,arguments)}function _O(){return _O=b(function*(n){if(n.code!==V.FAILED_PRECONDITION||n.message!==w7)throw n;ne("LocalStore","Unexpectedly lost primary lease")}),_O.apply(this,arguments)}class L{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ge(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new L((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(t,o).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof L?t:L.resolve(t)}catch(t){return L.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):L.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):L.reject(t)}static resolve(e){return new L((t,i)=>{t(e)})}static reject(e){return new L((t,i)=>{i(e)})}static waitFor(e){return new L((t,i)=>{let r=0,o=0,s=!1;e.forEach(a=>{++r,a.next(()=>{++o,s&&o===r&&t()},c=>i(c))}),s=!0,o===r&&t()})}static or(e){let t=L.resolve(!1);for(const i of e)t=t.next(r=>r?L.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,o)=>{i.push(t.call(this,r,o))}),this.waitFor(i)}static mapArray(e,t){return new L((i,r)=>{const o=e.length,s=new Array(o);let a=0;for(let c=0;c<o;c++){const l=c;t(e[l]).next(u=>{s[l]=u,++a,a===o&&i(s)},u=>r(u))}})}static doWhile(e,t){return new L((i,r)=>{const o=()=>{!0===e()?t().next(()=>{o()},r):i()};o()})}}class m0{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new gi,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new kg(e,t.error)):this.v.resolve()},this.transaction.onerror=i=>{const r=bO(i.target.error);this.v.reject(new kg(e,r))}}static open(e,t,i,r){try{return new m0(t,e.transaction(r,i))}catch(o){throw new kg(t,o)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(ne("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new S1e(t)}}class Ho{constructor(e,t,i){this.name=e,this.version=t,this.V=i,12.2===Ho.S(Wn())&&Kn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ne("SimpleDb","Removing database:",e),Ml(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Wa())return!1;if(Ho.C())return!0;const e=Wn(),t=Ho.S(e),i=0<t&&t<10,r=Ho.N(e),o=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||o)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static N(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}$(e){var t=this;return b(function*(){return t.db||(ne("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const o=indexedDB.open(t.name,t.version);o.onsuccess=s=>{i(s.target.result)},o.onblocked=()=>{r(new kg(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=s=>{const a=s.target.error;r("VersionError"===a.name?new X(V.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===a.name?new X(V.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a):new kg(e,a))},o.onupgradeneeded=s=>{ne("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',s.oldVersion),t.V.O(s.target.result,o.transaction,s.oldVersion,t.version).next(()=>{ne("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=i=>t.F(i)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var o=this;return b(function*(){const s="readonly"===t;let a=0;for(;;){++a;try{o.db=yield o.$(e);const c=m0.open(o.db,e,s?"readonly":"readwrite",i),l=r(c).next(u=>(c.P(),u)).catch(u=>(c.abort(u),L.reject(u))).toPromise();return l.catch(()=>{}),yield c.R,l}catch(c){const l=c,u="FirebaseError"!==l.name&&a<3;if(ne("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),o.close(),!u)return Promise.reject(l)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class A1e{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Ml(this.L.delete())}}class kg extends X{constructor(e,t){super(V.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function ac(n){return"IndexedDbTransactionError"===n.name}class S1e{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(ne("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(ne("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),Ml(i)}add(e){return ne("SimpleDb","ADD",this.store.name,e,e),Ml(this.store.add(e))}get(e){return Ml(this.store.get(e)).next(t=>(void 0===t&&(t=null),ne("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return ne("SimpleDb","DELETE",this.store.name,e),Ml(this.store.delete(e))}count(){return ne("SimpleDb","COUNT",this.store.name),Ml(this.store.count())}j(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),o=[];return this.W(r,(s,a)=>{o.push(a)}).next(()=>o)}{const r=this.store.getAll(i.range);return new L((o,s)=>{r.onerror=a=>{s(a.target.error)},r.onsuccess=a=>{o(a.target.result)}})}}H(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new L((r,o)=>{i.onerror=s=>{o(s.target.error)},i.onsuccess=s=>{r(s.target.result)}})}J(e,t){ne("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.Y=!1;const r=this.cursor(i);return this.W(r,(o,s,a)=>a.delete())}X(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.W(r,t)}Z(e){const t=this.cursor({});return new L((i,r)=>{t.onerror=o=>{const s=bO(o.target.error);r(s)},t.onsuccess=o=>{const s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():i()}):i()}})}W(e,t){const i=[];return new L((r,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{const a=s.target.result;if(!a)return void r();const c=new A1e(a),l=t(a.primaryKey,a.value,c);if(l instanceof L){const u=l.catch(d=>(c.done(),L.reject(d)));i.push(u)}c.isDone?r():null===c.K?a.continue():a.continue(c.K)}}).next(()=>L.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.Y?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Ml(n){return new L((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=bO(i.target.error);t(r)}})}let C7=!1;function bO(n){const e=Ho.S(Wn());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new X("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return C7||(C7=!0,setTimeout(()=>{throw i},0)),i}}return n}class k1e{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;ne("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,b(function*(){t.task=null;try{ne("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(i){ac(i)?ne("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield sc(i)}yield t.et(6e4)}))}}class O1e{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return b(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.st(i,e))})()}st(e,t){const i=new Set;let r=t,o=!0;return L.doWhile(()=>!0===o&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(s=>{if(null!==s&&!i.has(s))return ne("IndexBackiller",`Processing collection: ${s}`),this.it(e,s,r).next(a=>{r-=a,i.add(s)});o=!1})).next(()=>t-r)}it(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(o=>{const s=o.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next(()=>this.rt(r,o)).next(a=>(ne("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,t,a))).next(()=>s.size)}))}rt(e,t){let i=e;return t.changes.forEach((r,o)=>{const s=v7(o);mO(s,i)>0&&(i=s)}),new Zr(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Jr=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>i.writeSequenceNumber(r))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function Og(n){return null==n}function Pg(n){return 0===n&&1/n==-1/0}function or(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=I7(e)),e=P1e(n.get(t),e);return I7(e)}function P1e(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=o}}return t}function I7(n){return n+"\x01\x01"}function Is(n){const e=n.length;if(ve(e>=2),2===e)return ve("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),xt.emptyPath();const t=e-2,i=[];let r="";for(let o=0;o<e;){const s=n.indexOf("\x01",o);switch((s<0||s>t)&&ge(),n.charAt(s+1)){case"\x01":const a=n.substring(o,s);let c;0===r.length?c=a:(r+=a,c=r,r=""),i.push(c);break;case"\x10":r+=n.substring(o,s),r+="\0";break;case"\x11":r+=n.substring(o,s+1);break;default:ge()}o=s+2}return new xt(i)}const T7=["userId","batchId"];function _0(n,e){return[n,or(e)]}function D7(n,e,t){return[n,or(e),t]}const R1e={},N1e=["prefixPath","collectionGroup","readTime","documentId"],F1e=["prefixPath","collectionGroup","documentId"],L1e=["collectionGroup","readTime","prefixPath","documentId"],V1e=["canonicalId","targetId"],B1e=["targetId","path"],U1e=["path","targetId"],z1e=["collectionId","parent"],j1e=["indexId","uid"],H1e=["uid","sequenceNumber"],$1e=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],G1e=["indexId","uid","orderedDocumentKey"],q1e=["userId","collectionPath","documentId"],W1e=["userId","collectionPath","largestBatchId"],K1e=["userId","collectionGroup","largestBatchId"],M7=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Q1e=[...M7,"documentOverlays"],A7=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],S7=A7,Y1e=[...S7,"indexConfiguration","indexState","indexEntries"];class yO extends x7{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function Mi(n,e){const t=de(n);return Ho.M(t.ht,e)}function k7(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function cc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function O7(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class tn{constructor(e,t){this.comparator=e,this.root=t||Gi.EMPTY}insert(e,t){return new tn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Gi.BLACK,null,null))}remove(e){return new tn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new b0(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new b0(this.root,e,this.comparator,!1)}getReverseIterator(){return new b0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new b0(this.root,e,this.comparator,!0)}}class b0{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?i(e.key,t):1,t&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gi{constructor(e,t,i,r,o){this.key=e,this.value=t,this.color=i??Gi.RED,this.left=r??Gi.EMPTY,this.right=o??Gi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,o){return new Gi(e??this.key,t??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===o?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Gi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Gi.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ge();const e=this.left.check();if(e!==this.right.check())throw ge();return e+(this.isRed()?0:1)}}Gi.EMPTY=null,Gi.RED=!0,Gi.BLACK=!1,Gi.EMPTY=new class{constructor(){this.size=0}get key(){throw ge()}get value(){throw ge()}get color(){throw ge()}get left(){throw ge()}get right(){throw ge()}copy(n,e,t,i,r){return this}insert(n,e,t){return new Gi(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class un{constructor(e){this.comparator=e,this.data=new tn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new P7(this.data.getIterator())}getIteratorFrom(e){return new P7(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof un)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new un(this.comparator);return t.data=e,t}}class P7{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Jd(n){return n.hasNext()?n.getNext():void 0}class Vr{constructor(e){this.fields=e,e.sort(Qn.comparator)}static empty(){return new Vr([])}unionWith(e){let t=new un(Qn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Vr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Zd(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class R7 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class mi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new R7("Invalid base64 string: "+r):r}}(e);return new mi(t)}static fromUint8Array(e){const t=function(i){let r="";for(let o=0;o<i.length;++o)r+=String.fromCharCode(i[o]);return r}(e);return new mi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}mi.EMPTY_BYTE_STRING=new mi("");const X1e=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function lc(n){if(ve(!!n),"string"==typeof n){let e=0;const t=X1e.exec(n);if(ve(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Nn(n.seconds),nanos:Nn(n.nanos)}}function Nn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function ua(n){return"string"==typeof n?mi.fromBase64String(n):mi.fromUint8Array(n)}function y0(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function v0(n){const e=n.mapValue.fields.__previous_value__;return y0(e)?v0(e):e}function Rg(n){const e=lc(n.mapValue.fields.__local_write_time__.timestampValue);return new Dn(e.seconds,e.nanos)}class Z1e{constructor(e,t,i,r,o,s,a,c,l){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}}class Al{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Al("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Al&&e.projectId===this.projectId&&e.database===this.database}}const uc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},w0={nullValue:"NULL_VALUE"};function dc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?y0(n)?4:V7(n)?9007199254740991:10:ge()}function Ts(n,e){if(n===e)return!0;const t=dc(n);if(t!==dc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Rg(n).isEqual(Rg(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const o=lc(i.timestampValue),s=lc(r.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,ua(n.bytesValue).isEqual(ua(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return Nn(i.geoPointValue.latitude)===Nn(r.geoPointValue.latitude)&&Nn(i.geoPointValue.longitude)===Nn(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Nn(i.integerValue)===Nn(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const o=Nn(i.doubleValue),s=Nn(r.doubleValue);return o===s?Pg(o)===Pg(s):isNaN(o)&&isNaN(s)}return!1}(n,e);case 9:return Zd(n.arrayValue.values||[],e.arrayValue.values||[],Ts);case 10:return function(i,r){const o=i.mapValue.fields||{},s=r.mapValue.fields||{};if(k7(o)!==k7(s))return!1;for(const a in o)if(o.hasOwnProperty(a)&&(void 0===s[a]||!Ts(o[a],s[a])))return!1;return!0}(n,e);default:return ge()}var r}function Ng(n,e){return void 0!==(n.values||[]).find(t=>Ts(t,e))}function hc(n,e){if(n===e)return 0;const t=dc(n),i=dc(e);if(t!==i)return Be(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Be(n.booleanValue,e.booleanValue);case 2:return function(r,o){const s=Nn(r.integerValue||r.doubleValue),a=Nn(o.integerValue||o.doubleValue);return s<a?-1:s>a?1:s===a?0:isNaN(s)?isNaN(a)?0:-1:1}(n,e);case 3:return N7(n.timestampValue,e.timestampValue);case 4:return N7(Rg(n),Rg(e));case 5:return Be(n.stringValue,e.stringValue);case 6:return function(r,o){const s=ua(r),a=ua(o);return s.compareTo(a)}(n.bytesValue,e.bytesValue);case 7:return function(r,o){const s=r.split("/"),a=o.split("/");for(let c=0;c<s.length&&c<a.length;c++){const l=Be(s[c],a[c]);if(0!==l)return l}return Be(s.length,a.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,o){const s=Be(Nn(r.latitude),Nn(o.latitude));return 0!==s?s:Be(Nn(r.longitude),Nn(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,o){const s=r.values||[],a=o.values||[];for(let c=0;c<s.length&&c<a.length;++c){const l=hc(s[c],a[c]);if(l)return l}return Be(s.length,a.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,o){if(r===uc.mapValue&&o===uc.mapValue)return 0;if(r===uc.mapValue)return 1;if(o===uc.mapValue)return-1;const s=r.fields||{},a=Object.keys(s),c=o.fields||{},l=Object.keys(c);a.sort(),l.sort();for(let u=0;u<a.length&&u<l.length;++u){const d=Be(a[u],l[u]);if(0!==d)return d;const h=hc(s[a[u]],c[l[u]]);if(0!==h)return h}return Be(a.length,l.length)}(n.mapValue,e.mapValue);default:throw ge()}}function N7(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Be(n,e);const t=lc(n),i=lc(e),r=Be(t.seconds,i.seconds);return 0!==r?r:Be(t.nanos,i.nanos)}function eh(n){return vO(n)}function vO(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=lc(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?ua(n.bytesValue).toBase64():"referenceValue"in n?ce.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",o=!0;for(const s of i.values||[])o?o=!1:r+=",",r+=vO(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let o="{",s=!0;for(const a of r)s?s=!1:o+=",",o+=`${a}:${vO(i.fields[a])}`;return o+"}"}(n.mapValue):ge();var e}function Sl(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function wO(n){return!!n&&"integerValue"in n}function Fg(n){return!!n&&"arrayValue"in n}function F7(n){return!!n&&"nullValue"in n}function L7(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function C0(n){return!!n&&"mapValue"in n}function Lg(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return cc(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Lg(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Lg(n.arrayValue.values[t]);return e}return Object.assign({},n)}function V7(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function J1e(n){return"nullValue"in n?w0:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Sl(Al.empty(),ce.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:ge()}function eIe(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Sl(Al.empty(),ce.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?uc:ge()}function B7(n,e){const t=hc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function U7(n,e){const t=hc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class qi{constructor(e){this.value=e}static empty(){return new qi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!C0(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Lg(t)}setAll(e){let t=Qn.emptyPath(),i={},r=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){const c=this.getFieldsMap(t);this.applyChanges(c,i,r),i={},r=[],t=a.popLast()}s?i[a.lastSegment()]=Lg(s):r.push(a.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,i,r)}delete(e){const t=this.field(e.popLast());C0(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ts(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];C0(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){cc(t,(r,o)=>e[r]=o);for(const r of i)delete e[r]}clone(){return new qi(Lg(this.value))}}function z7(n){const e=[];return cc(n.fields,(t,i)=>{const r=new Qn([t]);if(C0(i)){const o=z7(i.mapValue).fields;if(0===o.length)e.push(r);else for(const s of o)e.push(r.child(s))}else e.push(r)}),new Vr(e)}class dn{constructor(e,t,i,r,o,s,a){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new dn(e,0,we.min(),we.min(),we.min(),qi.empty(),0)}static newFoundDocument(e,t,i,r){return new dn(e,1,t,we.min(),i,r,0)}static newNoDocument(e,t){return new dn(e,2,t,we.min(),we.min(),qi.empty(),0)}static newUnknownDocument(e,t){return new dn(e,3,t,we.min(),we.min(),qi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(we.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class fc{constructor(e,t){this.position=e,this.inclusive=t}}function j7(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const o=e[r],s=n.position[r];if(i=o.field.isKeyField()?ce.comparator(ce.fromName(s.referenceValue),t.key):hc(s,t.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function H7(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ts(n.position[t],e.position[t]))return!1;return!0}class th{constructor(e,t="asc"){this.field=e,this.dir=t}}function tIe(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class $7{}class pt extends $7{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new nIe(e,t,i):"array-contains"===t?new oIe(e,i):"in"===t?new Y7(e,i):"not-in"===t?new sIe(e,i):"array-contains-any"===t?new aIe(e,i):new pt(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new iIe(e,i):new rIe(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(hc(t,this.value)):null!==t&&dc(this.value)===dc(t)&&this.matchesComparison(hc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ge()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Lt extends $7{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Lt(e,t)}matches(e){return nh(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function nh(n){return"and"===n.op}function xO(n){return"or"===n.op}function CO(n){return G7(n)&&nh(n)}function G7(n){for(const e of n.filters)if(e instanceof Lt)return!1;return!0}function EO(n){if(n instanceof pt)return n.field.canonicalString()+n.op.toString()+eh(n.value);if(CO(n))return n.filters.map(e=>EO(e)).join(",");{const e=n.filters.map(t=>EO(t)).join(",");return`${n.op}(${e})`}}function q7(n,e){return n instanceof pt?(t=n,(i=e)instanceof pt&&t.op===i.op&&t.field.isEqual(i.field)&&Ts(t.value,i.value)):n instanceof Lt?function(t,i){return i instanceof Lt&&t.op===i.op&&t.filters.length===i.filters.length&&t.filters.reduce((r,o,s)=>r&&q7(o,i.filters[s]),!0)}(n,e):void ge();var t,i}function W7(n,e){const t=n.filters.concat(e);return Lt.create(t,n.op)}function K7(n){return n instanceof pt?`${(e=n).field.canonicalString()} ${e.op} ${eh(e.value)}`:n instanceof Lt?function(e){return e.op.toString()+" {"+e.getFilters().map(K7).join(" ,")+"}"}(n):"Filter";var e}class nIe extends pt{constructor(e,t,i){super(e,t,i),this.key=ce.fromName(i.referenceValue)}matches(e){const t=ce.comparator(e.key,this.key);return this.matchesComparison(t)}}class iIe extends pt{constructor(e,t){super(e,"in",t),this.keys=Q7(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class rIe extends pt{constructor(e,t){super(e,"not-in",t),this.keys=Q7(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Q7(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>ce.fromName(i.referenceValue))}class oIe extends pt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Fg(t)&&Ng(t.arrayValue,this.value)}}class Y7 extends pt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ng(this.value.arrayValue,t)}}class sIe extends pt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ng(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Ng(this.value.arrayValue,t)}}class aIe extends pt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Fg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Ng(this.value.arrayValue,i))}}class cIe{constructor(e,t=null,i=[],r=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=s,this.endAt=a,this.dt=null}}function IO(n,e=null,t=[],i=[],r=null,o=null,s=null){return new cIe(n,e,t,i,r,o,s)}function kl(n){const e=de(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>EO(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),Og(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>eh(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>eh(i)).join(",")),e.dt=t}return e.dt}function Vg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!tIe(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!q7(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!H7(n.startAt,e.startAt)&&H7(n.endAt,e.endAt)}function E0(n){return ce.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function I0(n,e){return n.filters.filter(t=>t instanceof pt&&t.field.isEqual(e))}function X7(n,e,t){let i=w0,r=!0;for(const o of I0(n,e)){let s=w0,a=!0;switch(o.op){case"<":case"<=":s=J1e(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=w0}B7({value:i,inclusive:r},{value:s,inclusive:a})<0&&(i=s,r=a)}if(null!==t)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const s=t.position[o];B7({value:i,inclusive:r},{value:s,inclusive:t.inclusive})<0&&(i=s,r=t.inclusive);break}return{value:i,inclusive:r}}function Z7(n,e,t){let i=uc,r=!0;for(const o of I0(n,e)){let s=uc,a=!0;switch(o.op){case">=":case">":s=eIe(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=uc}U7({value:i,inclusive:r},{value:s,inclusive:a})>0&&(i=s,r=a)}if(null!==t)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const s=t.position[o];U7({value:i,inclusive:r},{value:s,inclusive:t.inclusive})>0&&(i=s,r=t.inclusive);break}return{value:i,inclusive:r}}class da{constructor(e,t=null,i=[],r=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.wt=null,this._t=null}}function ih(n){return new da(n)}function eG(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function TO(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function T0(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function DO(n){return null!==n.collectionGroup}function Ol(n){const e=de(n);if(null===e.wt){e.wt=[];const t=T0(e),i=TO(e);if(null!==t&&null===i)t.isKeyField()||e.wt.push(new th(t)),e.wt.push(new th(Qn.keyField(),"asc"));else{let r=!1;for(const o of e.explicitOrderBy)e.wt.push(o),o.field.isKeyField()&&(r=!0);if(!r){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new th(Qn.keyField(),o))}}}return e.wt}function wr(n){const e=de(n);if(!e._t)if("F"===e.limitType)e._t=IO(e.path,e.collectionGroup,Ol(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const o of Ol(e))t.push(new th(o.field,"desc"===o.dir?"asc":"desc"));const i=e.endAt?new fc(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new fc(e.startAt.position,e.startAt.inclusive):null;e._t=IO(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e._t}function MO(n,e){e.getFirstInequalityField(),T0(n);const t=n.filters.concat([e]);return new da(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function D0(n,e,t){return new da(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Bg(n,e){return Vg(wr(n),wr(e))&&n.limitType===e.limitType}function tG(n){return`${kl(wr(n))}|lt:${n.limitType}`}function AO(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(i=>K7(i)).join(", ")}]`),Og(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>eh(i)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>eh(i)).join(",")),`Target(${t})`}(wr(n))}; limitType=${n.limitType})`}function Ug(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):ce.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of Ol(t))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,o,s){const a=j7(r,o,s);return r.inclusive?a<=0:a<0}(t.startAt,Ol(t),i)||t.endAt&&!function(r,o,s){const a=j7(r,o,s);return r.inclusive?a>=0:a>0}(t.endAt,Ol(t),i)));var t,i}function iG(n){return(e,t)=>{let i=!1;for(const r of Ol(n)){const o=lIe(r,e,t);if(0!==o)return o;i=i||r.field.isKeyField()}return 0}}function lIe(n,e,t){const i=n.field.isKeyField()?ce.comparator(e.key,t.key):function(r,o,s){const a=o.data.field(r),c=s.data.field(r);return null!==a&&null!==c?hc(a,c):ge()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return ge()}}class ha{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,o]of i)if(this.equalsFn(r,e))return o}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){cc(this.inner,(t,i)=>{for(const[r,o]of i)e(r,o)})}isEmpty(){return O7(this.inner)}size(){return this.innerSize}}const uIe=new tn(ce.comparator);function Br(){return uIe}const rG=new tn(ce.comparator);function zg(...n){let e=rG;for(const t of n)e=e.insert(t.key,t);return e}function oG(n){let e=rG;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Ds(){return jg()}function sG(){return jg()}function jg(){return new ha(n=>n.toString(),(n,e)=>n.isEqual(e))}const dIe=new tn(ce.comparator),hIe=new un(ce.comparator);function Qe(...n){let e=hIe;for(const t of n)e=e.add(t);return e}const fIe=new un(Be);function aG(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pg(e)?"-0":e}}function cG(n){return{integerValue:""+n}}function lG(n,e){return function E7(n){return"number"==typeof n&&Number.isInteger(n)&&!Pg(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?cG(e):aG(n,e)}class M0{constructor(){this._=void 0}}function pIe(n,e,t){return n instanceof rh?function(i,r){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&y0(r)&&(r=v0(r)),r&&(o.fields.__previous_value__=r),{mapValue:o}}(t,e):n instanceof Pl?dG(n,e):n instanceof Rl?hG(n,e):function(i,r){const o=uG(i,r),s=fG(o)+fG(i.gt);return wO(o)&&wO(i.gt)?cG(s):aG(i.serializer,s)}(n,e)}function gIe(n,e,t){return n instanceof Pl?dG(n,e):n instanceof Rl?hG(n,e):t}function uG(n,e){return n instanceof oh?wO(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class rh extends M0{}class Pl extends M0{constructor(e){super(),this.elements=e}}function dG(n,e){const t=pG(e);for(const i of n.elements)t.some(r=>Ts(r,i))||t.push(i);return{arrayValue:{values:t}}}class Rl extends M0{constructor(e){super(),this.elements=e}}function hG(n,e){let t=pG(e);for(const i of n.elements)t=t.filter(r=>!Ts(r,i));return{arrayValue:{values:t}}}class oh extends M0{constructor(e,t){super(),this.serializer=e,this.gt=t}}function fG(n){return Nn(n.integerValue||n.doubleValue)}function pG(n){return Fg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Hg{constructor(e,t){this.field=e,this.transform=t}}class _Ie{constructor(e,t){this.version=e,this.transformResults=t}}class yn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new yn}static exists(e){return new yn(void 0,e)}static updateTime(e){return new yn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function A0(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class S0{}function gG(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new ah(n.key,yn.none()):new sh(n.key,n.data,yn.none());{const t=n.data,i=qi.empty();let r=new un(Qn.comparator);for(let o of e.fields)if(!r.has(o)){let s=t.field(o);null===s&&o.length>1&&(o=o.popLast(),s=t.field(o)),null===s?i.delete(o):i.set(o,s),r=r.add(o)}return new fa(n.key,i,new Vr(r.toArray()),yn.none())}}function bIe(n,e,t){n instanceof sh?function(i,r,o){const s=i.value.clone(),a=bG(i.fieldTransforms,r,o.transformResults);s.setAll(a),r.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(n,e,t):n instanceof fa?function(i,r,o){if(!A0(i.precondition,r))return void r.convertToUnknownDocument(o.version);const s=bG(i.fieldTransforms,r,o.transformResults),a=r.data;a.setAll(_G(i)),a.setAll(s),r.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function $g(n,e,t,i){return n instanceof sh?function(r,o,s,a){if(!A0(r.precondition,o))return s;const c=r.value.clone(),l=yG(r.fieldTransforms,a,o);return c.setAll(l),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(n,e,t,i):n instanceof fa?function(r,o,s,a){if(!A0(r.precondition,o))return s;const c=yG(r.fieldTransforms,a,o),l=o.data;return l.setAll(_G(r)),l.setAll(c),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null===s?null:s.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(u=>u.field))}(n,e,t,i):(s=t,A0(n.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s);var o,s}function yIe(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),o=uG(i.transform,r||null);null!=o&&(null===t&&(t=qi.empty()),t.set(i.field,o))}return t||null}function mG(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&Zd(t,i,(r,o)=>function mIe(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof Pl&&i instanceof Pl||t instanceof Rl&&i instanceof Rl?Zd(t.elements,i.elements,Ts):t instanceof oh&&i instanceof oh?Ts(t.gt,i.gt):t instanceof rh&&i instanceof rh);var t,i}(r,o))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class sh extends S0{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class fa extends S0{constructor(e,t,i,r,o=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function _G(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function bG(n,e,t){const i=new Map;ve(n.length===t.length);for(let r=0;r<t.length;r++){const o=n[r],s=o.transform,a=e.data.field(o.field);i.set(o.field,gIe(s,a,t[r]))}return i}function yG(n,e,t){const i=new Map;for(const r of n){const o=r.transform,s=t.data.field(r.field);i.set(r.field,pIe(o,s,e))}return i}class ah extends S0{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class kO extends S0{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class OO{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(e.key)&&bIe(o,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=$g(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=$g(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=sG();return this.mutations.forEach(r=>{const o=e.get(r.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=t.has(r.key)?null:a;const c=gG(s,a);null!==c&&i.set(r.key,c),s.isValidDocument()||s.convertToNoDocument(we.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Qe())}isEqual(e){return this.batchId===e.batchId&&Zd(this.mutations,e.mutations,(t,i)=>mG(t,i))&&Zd(this.baseMutations,e.baseMutations,(t,i)=>mG(t,i))}}class PO{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){ve(e.mutations.length===i.length);let r=dIe;const o=e.mutations;for(let s=0;s<o.length;s++)r=r.insert(o[s].key,i[s].version);return new PO(e,t,i,r)}}class RO{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class wIe{constructor(e,t){this.count=e,this.unchangedNames=t}}var ri,Ct;function wG(n){if(void 0===n)return Kn("GRPC error has no .code"),V.UNKNOWN;switch(n){case ri.OK:return V.OK;case ri.CANCELLED:return V.CANCELLED;case ri.UNKNOWN:return V.UNKNOWN;case ri.DEADLINE_EXCEEDED:return V.DEADLINE_EXCEEDED;case ri.RESOURCE_EXHAUSTED:return V.RESOURCE_EXHAUSTED;case ri.INTERNAL:return V.INTERNAL;case ri.UNAVAILABLE:return V.UNAVAILABLE;case ri.UNAUTHENTICATED:return V.UNAUTHENTICATED;case ri.INVALID_ARGUMENT:return V.INVALID_ARGUMENT;case ri.NOT_FOUND:return V.NOT_FOUND;case ri.ALREADY_EXISTS:return V.ALREADY_EXISTS;case ri.PERMISSION_DENIED:return V.PERMISSION_DENIED;case ri.FAILED_PRECONDITION:return V.FAILED_PRECONDITION;case ri.ABORTED:return V.ABORTED;case ri.OUT_OF_RANGE:return V.OUT_OF_RANGE;case ri.UNIMPLEMENTED:return V.UNIMPLEMENTED;case ri.DATA_LOSS:return V.DATA_LOSS;default:return ge()}}(Ct=ri||(ri={}))[Ct.OK=0]="OK",Ct[Ct.CANCELLED=1]="CANCELLED",Ct[Ct.UNKNOWN=2]="UNKNOWN",Ct[Ct.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ct[Ct.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ct[Ct.NOT_FOUND=5]="NOT_FOUND",Ct[Ct.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ct[Ct.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ct[Ct.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ct[Ct.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ct[Ct.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ct[Ct.ABORTED=10]="ABORTED",Ct[Ct.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ct[Ct.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ct[Ct.INTERNAL=13]="INTERNAL",Ct[Ct.UNAVAILABLE=14]="UNAVAILABLE",Ct[Ct.DATA_LOSS=15]="DATA_LOSS";class NO{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return k0}static getOrCreateInstance(){return null===k0&&(k0=new NO),k0}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let k0=null;const xIe=new Yd([4294967295,4294967295],0);function CG(n){const e=function xG(){return new TextEncoder}().encode(n),t=new b1e;return t.update(e),new Uint8Array(t.digest())}function EG(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Yd([t,i],0),new Yd([r,o],0)]}class FO{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Gg(`Invalid padding: ${t}`);if(i<0)throw new Gg(`Invalid hash count: ${i}`);if(e.length>0&&0===this.hashCount)throw new Gg(`Invalid hash count: ${i}`);if(0===e.length&&0!==t)throw new Gg(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Yd.fromNumber(this.It)}Et(e,t,i){let r=e.add(t.multiply(Yd.fromNumber(i)));return 1===r.compare(xIe)&&(r=new Yd([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=CG(e),[i,r]=EG(t);for(let o=0;o<this.hashCount;o++){const s=this.Et(i,r,o);if(!this.At(s))return!1}return!0}static create(e,t,i){const r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new FO(o,r,t);return i.forEach(a=>s.insert(a)),s}insert(e){if(0===this.It)return;const t=CG(e),[i,r]=EG(t);for(let o=0;o<this.hashCount;o++){const s=this.Et(i,r,o);this.Rt(s)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Gg extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class qg{constructor(e,t,i,r,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,Wg.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new qg(we.min(),r,new tn(Be),Br(),Qe())}}class Wg{constructor(e,t,i,r,o){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Wg(i,t,Qe(),Qe(),Qe())}}class O0{constructor(e,t,i,r){this.Pt=e,this.removedTargetIds=t,this.key=i,this.bt=r}}class IG{constructor(e,t){this.targetId=e,this.Vt=t}}class TG{constructor(e,t,i=mi.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class DG{constructor(){this.St=0,this.Dt=AG(),this.Ct=mi.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Qe(),t=Qe(),i=Qe();return this.Dt.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:ge()}}),new Wg(this.Ct,this.xt,e,t,i)}Ft(){this.Nt=!1,this.Dt=AG()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class CIe{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Br(),this.zt=MG(),this.Wt=new tn(Be)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const i=this.Zt(t);switch(e.state){case 0:this.te(t)&&i.$t(e.resumeToken);break;case 1:i.Ut(),i.kt||i.Ft(),i.$t(e.resumeToken);break;case 2:i.Ut(),i.kt||this.removeTarget(t);break;case 3:this.te(t)&&(i.Kt(),i.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),i.$t(e.resumeToken));break;default:ge()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((i,r)=>{this.te(r)&&t(r)})}ne(e){var t;const i=e.targetId,r=e.Vt.count,o=this.se(i);if(o){const s=o.target;if(E0(s))if(0===r){const a=new ce(s.path);this.Yt(i,a,dn.newNoDocument(a,we.min()))}else ve(1===r);else{const a=this.ie(i);if(a!==r){const c=this.re(e,a);0!==c&&(this.ee(i),this.Wt=this.Wt.insert(i,2===c?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=NO.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(l,u,d){var h,f,_,C,I,O;const M={localCacheCount:u,existenceFilterCount:d.count},B=d.unchangedNames;return B&&(M.bloomFilter={applied:0===l,hashCount:null!==(h=B?.hashCount)&&void 0!==h?h:0,bitmapLength:null!==(C=null===(_=null===(f=B?.bits)||void 0===f?void 0:f.bitmap)||void 0===_?void 0:_.length)&&void 0!==C?C:0,padding:null!==(O=null===(I=B?.bits)||void 0===I?void 0:I.padding)&&void 0!==O?O:0}),M}(c,a,e.Vt))}}}}re(e,t){const{unchangedNames:i,count:r}=e.Vt;if(!i||!i.bits)return 1;const{bits:{bitmap:o="",padding:s=0},hashCount:a=0}=i;let c,l;try{c=ua(o).toUint8Array()}catch(u){if(u instanceof R7)return jo("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw u}try{l=new FO(c,s,a)}catch(u){return jo(u instanceof Gg?"BloomFilter error: ":"Applying bloom filter failed: ",u),1}return 0===l.It?1:r!==t-this.oe(e.targetId,l)?2:0}oe(e,t){const i=this.Gt.getRemoteKeysForTarget(e);let r=0;return i.forEach(o=>{const s=this.Gt.ue(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;t.vt(a)||(this.Yt(e,o,null),r++)}),r}ce(e){const t=new Map;this.Qt.forEach((o,s)=>{const a=this.se(s);if(a){if(o.current&&E0(a.target)){const c=new ce(a.target.path);null!==this.jt.get(c)||this.ae(s,c)||this.Yt(s,c,dn.newNoDocument(c,e))}o.Mt&&(t.set(s,o.Ot()),o.Ft())}});let i=Qe();this.zt.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{const l=this.se(c);return!l||"TargetPurposeLimboResolution"===l.purpose||(a=!1,!1)}),a&&(i=i.add(o))}),this.jt.forEach((o,s)=>s.setReadTime(e));const r=new qg(e,t,this.Wt,this.jt,i);return this.jt=Br(),this.zt=MG(),this.Wt=new tn(Be),r}Jt(e,t){if(!this.te(e))return;const i=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,i),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,i){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),i&&(this.jt=this.jt.insert(t,i))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new DG,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new un(Be),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||ne("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new DG),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function MG(){return new tn(ce.comparator)}function AG(){return new tn(ce.comparator)}const EIe={asc:"ASCENDING",desc:"DESCENDING"},IIe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},TIe={and:"AND",or:"OR"};class DIe{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function LO(n,e){return n.useProto3Json||Og(e)?e:{value:e}}function ch(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function SG(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function MIe(n,e){return ch(n,e.toTimestamp())}function Yn(n){return ve(!!n),we.fromTimestamp(function(e){const t=lc(e);return new Dn(t.seconds,t.nanos)}(n))}function VO(n,e){return(t=n,new xt(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function kG(n){const e=xt.fromString(n);return ve(UG(e)),e}function Kg(n,e){return VO(n.databaseId,e.path)}function Ms(n,e){const t=kG(e);if(t.get(1)!==n.databaseId.projectId)throw new X(V.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new X(V.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ce(PG(t))}function BO(n,e){return VO(n.databaseId,e)}function OG(n){const e=kG(n);return 4===e.length?xt.emptyPath():PG(e)}function Qg(n){return new xt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function PG(n){return ve(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function RG(n,e,t){return{name:Kg(n,e),fields:t.value.mapValue.fields}}function Yg(n,e){let t;if(e instanceof sh)t={update:RG(n,e.key,e.value)};else if(e instanceof ah)t={delete:Kg(n,e.key)};else if(e instanceof fa)t={update:RG(n,e.key,e.data),updateMask:FIe(e.fieldMask)};else{if(!(e instanceof kO))return ge();t={verify:Kg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,o){const s=o.transform;if(s instanceof rh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof Pl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof Rl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof oh)return{fieldPath:o.field.canonicalString(),increment:s.gt};throw ge()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:MIe(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:ge()),t;var r}function UO(n,e){const t=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?yn.updateTime(Yn(r.updateTime)):void 0!==r.exists?yn.exists(r.exists):yn.none():yn.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(o,s){let a=null;"setToServerValue"in s?(ve("REQUEST_TIME"===s.setToServerValue),a=new rh):"appendMissingElements"in s?a=new Pl(s.appendMissingElements.values||[]):"removeAllFromArray"in s?a=new Rl(s.removeAllFromArray.values||[]):"increment"in s?a=new oh(o,s.increment):ge();const c=Qn.fromServerFormat(s.fieldPath);return new Hg(c,a)}(n,r)):[];var r;if(e.update){const r=Ms(n,e.update.name),o=new qi({mapValue:{fields:e.update.fields}});if(e.updateMask){const s=new Vr((e.updateMask.fieldPaths||[]).map(l=>Qn.fromServerFormat(l)));return new fa(r,o,s,t,i)}return new sh(r,o,t,i)}if(e.delete){const r=Ms(n,e.delete);return new ah(r,t)}if(e.verify){const r=Ms(n,e.verify);return new kO(r,t)}return ge()}function FG(n,e){return{documents:[BO(n,e.path)]}}function zO(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=BO(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=BO(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(c){if(0!==c.length)return BG(Lt.create(c,"and"))}(e.filters);r&&(t.structuredQuery.where=r);const o=function(c){if(0!==c.length)return c.map(l=>{return{field:pc((u=l).field),direction:PIe(u.dir)};var u})}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const s=LO(n,e.limit);var a,c;return null!==s&&(t.structuredQuery.limit=s),e.startAt&&(t.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(t.structuredQuery.endAt={before:!(c=e.endAt).inclusive,values:c.position}),t}function LG(n){let e=OG(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){ve(1===i);const u=t.from[0];u.allDescendants?r=u.collectionId:e=e.child(u.collectionId)}let o=[];t.where&&(o=function(u){const d=VG(u);return d instanceof Lt&&CO(d)?d.getFilters():[d]}(t.where));let s=[];t.orderBy&&(s=t.orderBy.map(u=>{return new th(lh((d=u).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;t.limit&&(a=function(u){let d;return d="object"==typeof u?u.value:u,Og(d)?null:d}(t.limit));let c=null;var u;t.startAt&&(c=new fc((u=t.startAt).values||[],!!u.before));let l=null;return t.endAt&&(l=function(u){return new fc(u.values||[],!u.before)}(t.endAt)),function J7(n,e,t,i,r,o,s,a){return new da(n,e,t,i,r,o,s,a)}(e,r,s,o,a,"F",c,l)}function VG(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=lh(e.unaryFilter.field);return pt.create(t,"==",{doubleValue:NaN});case"IS_NULL":const i=lh(e.unaryFilter.field);return pt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=lh(e.unaryFilter.field);return pt.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=lh(e.unaryFilter.field);return pt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ge()}}(n):void 0!==n.fieldFilter?pt.create(lh((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ge()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Lt.create(e.compositeFilter.filters.map(t=>VG(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return ge()}}(e.compositeFilter.op))}(n):ge();var e}function PIe(n){return EIe[n]}function RIe(n){return IIe[n]}function NIe(n){return TIe[n]}function pc(n){return{fieldPath:n.canonicalString()}}function lh(n){return Qn.fromServerFormat(n.fieldPath)}function BG(n){return n instanceof pt?function(e){if("=="===e.op){if(L7(e.value))return{unaryFilter:{field:pc(e.field),op:"IS_NAN"}};if(F7(e.value))return{unaryFilter:{field:pc(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(L7(e.value))return{unaryFilter:{field:pc(e.field),op:"IS_NOT_NAN"}};if(F7(e.value))return{unaryFilter:{field:pc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pc(e.field),op:RIe(e.op),value:e.value}}}(n):n instanceof Lt?function(e){const t=e.getFilters().map(i=>BG(i));return 1===t.length?t[0]:{compositeFilter:{op:NIe(e.op),filters:t}}}(n):ge()}function FIe(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function UG(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class pa{constructor(e,t,i,r,o=we.min(),s=we.min(),a=mi.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new pa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new pa(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new pa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new pa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class zG{constructor(e){this.fe=e}}function jG(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:P0(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:Kg(r=n.fe,(o=e).key),fields:o.data.value.mapValue.fields,updateTime:ch(r,o.version.toTimestamp()),createTime:ch(r,o.createTime.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:Nl(e.version)};else{if(!e.isUnknownDocument())return ge();i.unknownDocument={path:t.path.toArray(),version:Nl(e.version)}}var r,o;return i}function P0(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Nl(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Fl(n){const e=new Dn(n.seconds,n.nanoseconds);return we.fromTimestamp(e)}function Ll(n,e){const t=(e.baseMutations||[]).map(o=>UO(n.fe,o));for(let o=0;o<e.mutations.length-1;++o)o+1<e.mutations.length&&void 0!==e.mutations[o+1].transform&&(e.mutations[o].updateTransforms=e.mutations[o+1].transform.fieldTransforms,e.mutations.splice(o+1,1),++o);const i=e.mutations.map(o=>UO(n.fe,o)),r=Dn.fromMillis(e.localWriteTimeMs);return new OO(e.batchId,r,t,i)}function Xg(n){const e=Fl(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Fl(n.lastLimboFreeSnapshotVersion):we.min();let i;var r;return void 0!==n.query.documents?(ve(1===(r=n.query).documents.length),i=wr(ih(OG(r.documents[0])))):i=wr(LG(n.query)),new pa(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,mi.fromBase64String(n.resumeToken))}function HG(n,e){const t=Nl(e.snapshotVersion),i=Nl(e.lastLimboFreeSnapshotVersion);let r;r=E0(e.target)?FG(n.fe,e.target):zO(n.fe,e.target);const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:kl(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function jO(n){const e=LG({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?D0(e,e.limit,"L"):e}function HO(n,e){return new RO(e.largestBatchId,UO(n.fe,e.overlayMutation))}function $G(n,e){const t=e.path.lastSegment();return[n,or(e.path.popLast()),t]}function GG(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Nl(i.readTime),documentKey:or(i.documentKey.path),largestBatchId:i.largestBatchId}}class VIe{getBundleMetadata(e,t){return qG(e).get(t).next(i=>{if(i)return{id:(r=i).bundleId,createTime:Fl(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return qG(e).put({bundleId:(i=t).id,createTime:Nl(Yn(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return WG(e).get(t).next(i=>{if(i)return{name:(r=i).name,query:jO(r.bundledQuery),readTime:Fl(r.readTime)};var r})}saveNamedQuery(e,t){return WG(e).put({name:(i=t).name,readTime:Nl(Yn(i.readTime)),bundledQuery:i.bundledQuery});var i}}function qG(n){return Mi(n,"bundles")}function WG(n){return Mi(n,"namedQueries")}class R0{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new R0(e,t.uid||"")}getOverlay(e,t){return Zg(e).get($G(this.userId,t)).next(i=>i?HO(this.serializer,i):null)}getOverlays(e,t){const i=Ds();return L.forEach(t,r=>this.getOverlay(e,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(e,t,i){const r=[];return i.forEach((o,s)=>{const a=new RO(t,s);r.push(this.we(e,a))}),L.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(s=>r.add(or(s.getCollectionPath())));const o=[];return r.forEach(s=>{const a=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,i+1],!1,!0);o.push(Zg(e).J("collectionPathOverlayIndex",a))}),L.waitFor(o)}getOverlaysForCollection(e,t,i){const r=Ds(),o=or(t),s=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Zg(e).j("collectionPathOverlayIndex",s).next(a=>{for(const c of a){const l=HO(this.serializer,c);r.set(l.getKey(),l)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const o=Ds();let s;const a=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Zg(e).X({index:"collectionGroupOverlayIndex",range:a},(c,l,u)=>{const d=HO(this.serializer,l);o.size()<r||d.largestBatchId===s?(o.set(d.getKey(),d),s=d.largestBatchId):u.done()}).next(()=>o)}we(e,t){return Zg(e).put(function(i,r,o){const[s,a,c]=$G(r,o.mutation.key);return{userId:r,collectionPath:a,documentId:c,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:Yg(i.fe,o.mutation)}}(this.serializer,this.userId,t))}}function Zg(n){return Mi(n,"documentOverlays")}class Vl{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Nn(e.integerValue));else if("doubleValue"in e){const i=Nn(e.doubleValue);isNaN(i)?this.ye(t,13):(this.ye(t,15),Pg(i)?t.pe(0):t.pe(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ye(t,20),"string"==typeof i?t.Ie(i):(t.Ie(`${i.seconds||""}`),t.pe(i.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(ua(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.ye(t,45),t.pe(i.latitude||0),t.pe(i.longitude||0)}else"mapValue"in e?V7(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):ge()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const i=e.fields||{};this.ye(t,55);for(const r of Object.keys(i))this.Te(r,t),this.me(i[r],t)}Pe(e,t){const i=e.values||[];this.ye(t,50);for(const r of i)this.me(r,t)}ve(e,t){this.ye(t,37),ce.fromName(e).path.forEach(i=>{this.ye(t,60),this.be(i,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function BIe(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function KG(n){const e=64-function(t){let i=0;for(let r=0;r<8;++r){const o=BIe(255&t[r]);if(i+=o,8!==o)break}return i}(n);return Math.ceil(e/8)}Vl.Ve=new Vl;class UIe{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.De(i.value),i=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ne(i.value),i=t.next();this.ke()}Me(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.De(i);else if(i<2048)this.De(960|i>>>6),this.De(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.De(480|i>>>12),this.De(128|63&i>>>6),this.De(128|63&i);else{const r=t.codePointAt(0);this.De(240|r>>>18),this.De(128|63&r>>>12),this.De(128|63&r>>>6),this.De(128|63&r)}}this.Ce()}$e(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ne(i);else if(i<2048)this.Ne(960|i>>>6),this.Ne(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i);else{const r=t.codePointAt(0);this.Ne(240|r>>>18),this.Ne(128|63&r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r)}}this.ke()}Oe(e){const t=this.Fe(e),i=KG(t);this.Be(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Le(e){const t=this.Fe(e),i=KG(t);this.Be(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(r){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,r,!1),new Uint8Array(o.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class zIe{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class jIe{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class Jg{constructor(){this.je=new UIe,this.ze=new zIe(this.je),this.We=new jIe(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class Bl{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new Bl(this.indexId,this.documentKey,this.arrayValue,i)}}function gc(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=QG(n.arrayValue,e.arrayValue),0!==t?t:(t=QG(n.directionalValue,e.directionalValue),0!==t?t:ce.comparator(n.documentKey,e.documentKey)))}function QG(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class HIe{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const i=t;i.isInequality()?this.Ze=i:this.Xe.push(i)}}tn(e){ve(e.collectionGroup===this.collectionId);const t=gO(e);if(void 0!==t&&!this.en(t))return!1;const i=Dl(e);let r=new Set,o=0,s=0;for(;o<i.length&&this.en(i[o]);++o)r=r.add(i[o].fieldPath.canonicalString());if(o===i.length)return!0;if(void 0!==this.Ze){if(!r.has(this.Ze.field.canonicalString())){const a=i[o];if(!this.nn(this.Ze,a)||!this.sn(this.Ye[s++],a))return!1}++o}for(;o<i.length;++o)if(s>=this.Ye.length||!this.sn(this.Ye[s++],i[o]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function YG(n){var e,t;if(ve(n instanceof pt||n instanceof Lt),n instanceof pt){if(n instanceof Y7){const r=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(o=>pt.create(n.field,"==",o)))||[];return Lt.create(r,"or")}return n}const i=n.filters.map(r=>YG(r));return Lt.create(i,n.op)}function $Ie(n){if(0===n.getFilters().length)return[];const e=qO(YG(n));return ve(XG(e)),$O(e)||GO(e)?[e]:e.getFilters()}function $O(n){return n instanceof pt}function GO(n){return n instanceof Lt&&CO(n)}function XG(n){return $O(n)||GO(n)||function(e){if(e instanceof Lt&&xO(e)){for(const t of e.getFilters())if(!$O(t)&&!GO(t))return!1;return!0}return!1}(n)}function qO(n){if(ve(n instanceof pt||n instanceof Lt),n instanceof pt)return n;if(1===n.filters.length)return qO(n.filters[0]);const e=n.filters.map(i=>qO(i));let t=Lt.create(e,n.op);return t=N0(t),XG(t)?t:(ve(t instanceof Lt),ve(nh(t)),ve(t.filters.length>1),t.filters.reduce((i,r)=>WO(i,r)))}function WO(n,e){let t;return ve(n instanceof pt||n instanceof Lt),ve(e instanceof pt||e instanceof Lt),t=n instanceof pt?e instanceof pt?Lt.create([n,e],"and"):ZG(n,e):e instanceof pt?ZG(e,n):function(i,r){if(ve(i.filters.length>0&&r.filters.length>0),nh(i)&&nh(r))return W7(i,r.getFilters());const o=xO(i)?i:r,s=xO(i)?r:i,a=o.filters.map(c=>WO(c,s));return Lt.create(a,"or")}(n,e),N0(t)}function ZG(n,e){if(nh(e))return W7(e,n.getFilters());{const t=e.filters.map(i=>WO(n,i));return Lt.create(t,"or")}}function N0(n){if(ve(n instanceof pt||n instanceof Lt),n instanceof pt)return n;const e=n.getFilters();if(1===e.length)return N0(e[0]);if(G7(n))return n;const t=e.map(r=>N0(r)),i=[];return t.forEach(r=>{r instanceof pt?i.push(r):r instanceof Lt&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:Lt.create(i,n.op)}class GIe{constructor(){this.rn=new KO}addToCollectionParentIndex(e,t){return this.rn.add(t),L.resolve()}getCollectionParents(e,t){return L.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return L.resolve()}deleteFieldIndex(e,t){return L.resolve()}getDocumentsMatchingTarget(e,t){return L.resolve(null)}getIndexType(e,t){return L.resolve(0)}getFieldIndexes(e,t){return L.resolve([])}getNextCollectionGroupToUpdate(e){return L.resolve(null)}getMinOffset(e,t){return L.resolve(Zr.min())}getMinOffsetFromCollectionGroup(e,t){return L.resolve(Zr.min())}updateCollectionGroup(e,t,i){return L.resolve()}updateIndexEntries(e,t){return L.resolve()}}class KO{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new un(xt.comparator),o=!r.has(i);return this.index[t]=r.add(i),o}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new un(xt.comparator)).toArray()}}const F0=new Uint8Array(0);class qIe{constructor(e,t){this.user=e,this.databaseId=t,this.on=new KO,this.un=new ha(i=>kl(i),(i,r)=>Vg(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const o={collectionId:i,parent:or(r)};return JG(e).put(o)}return L.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[b7(t),""],!1,!0);return JG(e).j(r).next(o=>{for(const s of o){if(s.collectionId!==t)break;i.push(Is(s.parent))}return i})}addFieldIndex(e,t){const i=L0(e),r={indexId:(s=t).indexId,collectionGroup:s.collectionGroup,fields:s.fields.map(a=>[a.fieldPath.canonicalString(),a.kind])};var s;delete r.indexId;const o=i.add(r);if(t.indexState){const s=tm(e);return o.next(a=>{s.put(GG(a,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return o.next()}deleteFieldIndex(e,t){const i=L0(e),r=tm(e),o=em(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=em(e);let r=!0;const o=new Map;return L.forEach(this.cn(t),s=>this.an(e,s).next(a=>{r&&(r=!!a),o.set(s,a)})).next(()=>{if(r){let s=Qe();const a=[];return L.forEach(o,(c,l)=>{var u;ne("IndexedDbIndexManager",`Using index ${u=c,`id=${u.indexId}|cg=${u.collectionGroup}|f=${u.fields.map(B=>`${B.fieldPath}:${B.kind}`).join(",")}`} to execute ${kl(t)}`);const d=function(B,Q){const ae=gO(Q);if(void 0===ae)return null;for(const fe of I0(B,ae.fieldPath))switch(fe.op){case"array-contains-any":return fe.value.arrayValue.values||[];case"array-contains":return[fe.value]}return null}(l,c),h=function(B,Q){const ae=new Map;for(const fe of Dl(Q))for(const $e of I0(B,fe.fieldPath))switch($e.op){case"==":case"in":ae.set(fe.fieldPath.canonicalString(),$e.value);break;case"not-in":case"!=":return ae.set(fe.fieldPath.canonicalString(),$e.value),Array.from(ae.values())}return null}(l,c),f=function(B,Q){const ae=[];let fe=!0;for(const $e of Dl(Q)){const gt=0===$e.kind?X7(B,$e.fieldPath,B.startAt):Z7(B,$e.fieldPath,B.startAt);ae.push(gt.value),fe&&(fe=gt.inclusive)}return new fc(ae,fe)}(l,c),_=function(B,Q){const ae=[];let fe=!0;for(const $e of Dl(Q)){const gt=0===$e.kind?Z7(B,$e.fieldPath,B.endAt):X7(B,$e.fieldPath,B.endAt);ae.push(gt.value),fe&&(fe=gt.inclusive)}return new fc(ae,fe)}(l,c),C=this.hn(c,l,f),I=this.hn(c,l,_),O=this.ln(c,l,h),M=this.fn(c.indexId,d,C,f.inclusive,I,_.inclusive,O);return L.forEach(M,B=>i.H(B,t.limit).next(Q=>{Q.forEach(ae=>{const fe=ce.fromSegments(ae.documentKey);s.has(fe)||(s=s.add(fe),a.push(fe))})}))}).next(()=>a)}return L.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:$Ie(Lt.create(e.filters,"and")).map(i=>IO(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,i,r,o,s,a){const c=(null!=t?t.length:1)*Math.max(i.length,o.length),l=c/(null!=t?t.length:1),u=[];for(let d=0;d<c;++d){const h=t?this.dn(t[d/l]):F0,f=this.wn(e,h,i[d%l],r),_=this._n(e,h,o[d%l],s),C=a.map(I=>this.wn(e,h,I,!0));u.push(...this.createRange(f,_,C))}return u}wn(e,t,i,r){const o=new Bl(e,ce.empty(),t,i);return r?o:o.Je()}_n(e,t,i,r){const o=new Bl(e,ce.empty(),t,i);return r?o.Je():o}an(e,t){const i=new HIe(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(o=>{let s=null;for(const a of o)i.tn(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(e,t){let i=2;const r=this.cn(t);return L.forEach(r,o=>this.an(e,o).next(s=>{s?0!==i&&s.fields.length<function(a){let c=new un(Qn.comparator),l=!1;for(const u of a.filters)for(const d of u.getFlattenedFilters())d.field.isKeyField()||("array-contains"===d.op||"array-contains-any"===d.op?l=!0:c=c.add(d.field));for(const u of a.orderBy)u.field.isKeyField()||(c=c.add(u.field));return c.size+(l?1:0)}(o)&&(i=1):i=0})).next(()=>null!==t.limit&&r.length>1&&2===i?1:i)}mn(e,t){const i=new Jg;for(const r of Dl(e)){const o=t.data.field(r.fieldPath);if(null==o)return null;const s=i.He(r.kind);Vl.Ve._e(o,s)}return i.Qe()}dn(e){const t=new Jg;return Vl.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const i=new Jg;return Vl.Ve._e(Sl(this.databaseId,t),i.He(function(r){const o=Dl(r);return 0===o.length?0:o[o.length-1].kind}(e))),i.Qe()}ln(e,t,i){if(null===i)return[];let r=[];r.push(new Jg);let o=0;for(const s of Dl(e)){const a=i[o++];for(const c of r)if(this.yn(t,s.fieldPath)&&Fg(a))r=this.pn(r,s,a);else{const l=c.He(s.kind);Vl.Ve._e(a,l)}}return this.In(r)}hn(e,t,i){return this.ln(e,t,i.position)}In(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].Qe();return t}pn(e,t,i){const r=[...e],o=[];for(const s of i.arrayValue.values||[])for(const a of r){const c=new Jg;c.seed(a.Qe()),Vl.Ve._e(s,c.He(t.kind)),o.push(c)}return o}yn(e,t){return!!e.filters.find(i=>i instanceof pt&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=L0(e),r=tm(e);return(t?i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.j()).next(o=>{const s=[];return L.forEach(o,a=>r.get([a.indexId,this.uid]).next(c=>{s.push(function(l,u){const d=u?new Sg(u.sequenceNumber,new Zr(Fl(u.readTime),new ce(Is(u.documentKey)),u.largestBatchId)):Sg.empty(),h=l.fields.map(([f,_])=>new g0(Qn.fromServerFormat(f),_));return new p0(l.indexId,l.collectionGroup,h,d)}(a,c))})).next(()=>s)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const o=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==o?o:Be(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=L0(e),o=tm(e);return this.Tn(e).next(s=>r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(a=>L.forEach(a,c=>o.put(GG(c.indexId,this.user,s,i)))))}updateIndexEntries(e,t){const i=new Map;return L.forEach(t,(r,o)=>{const s=i.get(r.collectionGroup);return(s?L.resolve(s):this.getFieldIndexes(e,r.collectionGroup)).next(a=>(i.set(r.collectionGroup,a),L.forEach(a,c=>this.En(e,r,c).next(l=>{const u=this.An(o,c);return l.isEqual(u)?L.resolve():this.vn(e,o,c,l,u)}))))})}Rn(e,t,i,r){return em(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.gn(i,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,i,r){return em(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.gn(i,t.key),t.key.path.toArray()])}En(e,t,i){const r=em(e);let o=new un(gc);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.gn(i,t)])},(s,a)=>{o=o.add(new Bl(i.indexId,t,a.arrayValue,a.directionalValue))}).next(()=>o)}An(e,t){let i=new un(gc);const r=this.mn(t,e);if(null==r)return i;const o=gO(t);if(null!=o){const s=e.data.field(o.fieldPath);if(Fg(s))for(const a of s.arrayValue.values||[])i=i.add(new Bl(t.indexId,e.key,this.dn(a),r))}else i=i.add(new Bl(t.indexId,e.key,F0,r));return i}vn(e,t,i,r,o){ne("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const s=[];return function(a,c,l,u,d){const h=a.getIterator(),f=c.getIterator();let _=Jd(h),C=Jd(f);for(;_||C;){let I=!1,O=!1;if(_&&C){const M=l(_,C);M<0?O=!0:M>0&&(I=!0)}else null!=_?O=!0:I=!0;I?(u(C),C=Jd(f)):O?(d(_),_=Jd(h)):(_=Jd(h),C=Jd(f))}}(r,o,gc,a=>{s.push(this.Rn(e,t,i,a))},a=>{s.push(this.Pn(e,t,i,a))}),L.waitFor(s)}Tn(e){let t=1;return tm(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,o)=>{o.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((s,a)=>gc(s,a)).filter((s,a,c)=>!a||0!==gc(s,c[a-1]));const r=[];r.push(e);for(const s of i){const a=gc(s,e),c=gc(s,t);if(0===a)r[0]=e.Je();else if(a>0&&c<0)r.push(s),r.push(s.Je());else if(c>0)break}r.push(t);const o=[];for(let s=0;s<r.length;s+=2){if(this.bn(r[s],r[s+1]))return[];o.push(IDBKeyRange.bound([r[s].indexId,this.uid,r[s].arrayValue,r[s].directionalValue,F0,[]],[r[s+1].indexId,this.uid,r[s+1].arrayValue,r[s+1].directionalValue,F0,[]]))}return o}bn(e,t){return gc(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(eq)}getMinOffset(e,t){return L.mapArray(this.cn(t),i=>this.an(e,i).next(r=>r||ge())).next(eq)}}function JG(n){return Mi(n,"collectionParents")}function em(n){return Mi(n,"indexEntries")}function L0(n){return Mi(n,"indexConfiguration")}function tm(n){return Mi(n,"indexState")}function eq(n){ve(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;mO(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new Zr(e.readTime,e.documentKey,t)}const tq={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class sr{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new sr(e,sr.DEFAULT_COLLECTION_PERCENTILE,sr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function nq(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),o=[],s=IDBKeyRange.only(t.batchId);let a=0;const c=i.X({range:s},(u,d,h)=>(a++,h.delete()));o.push(c.next(()=>{ve(1===a)}));const l=[];for(const u of t.mutations){const d=D7(e,u.key.path,t.batchId);o.push(r.delete(d)),l.push(u.key)}return L.waitFor(o).next(()=>l)}function V0(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw ge();e=n.noDocument}return JSON.stringify(e).length}sr.DEFAULT_COLLECTION_PERCENTILE=10,sr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sr.DEFAULT=new sr(41943040,sr.DEFAULT_COLLECTION_PERCENTILE,sr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sr.DISABLED=new sr(-1,0,0);class B0{constructor(e,t,i,r){this.userId=e,this.serializer=t,this.indexManager=i,this.referenceDelegate=r,this.Vn={}}static de(e,t,i,r){ve(""!==e.uid);const o=e.isAuthenticated()?e.uid:"";return new B0(o,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return mc(e).X({index:"userMutationsIndex",range:i},(r,o,s)=>{t=!1,s.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const o=uh(e),s=mc(e);return s.add({}).next(a=>{ve("number"==typeof a);const c=new OO(a,t,i,r),l=function(h,f,_){const C=_.baseMutations.map(O=>Yg(h.fe,O)),I=_.mutations.map(O=>Yg(h.fe,O));return{userId:f,batchId:_.batchId,localWriteTimeMs:_.localWriteTime.toMillis(),baseMutations:C,mutations:I}}(this.serializer,this.userId,c),u=[];let d=new un((h,f)=>Be(h.canonicalString(),f.canonicalString()));for(const h of r){const f=D7(this.userId,h.key.path,a);d=d.add(h.key.path.popLast()),u.push(s.put(l)),u.push(o.put(f,R1e))}return d.forEach(h=>{u.push(this.indexManager.addToCollectionParentIndex(e,h))}),e.addOnCommittedListener(()=>{this.Vn[a]=c.keys()}),L.waitFor(u).next(()=>c)})}lookupMutationBatch(e,t){return mc(e).get(t).next(i=>i?(ve(i.userId===this.userId),Ll(this.serializer,i)):null)}Sn(e,t){return this.Vn[t]?L.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.Vn[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return mc(e).X({index:"userMutationsIndex",range:r},(s,a,c)=>{a.userId===this.userId&&(ve(a.batchId>=i),o=Ll(this.serializer,a)),c.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return mc(e).X({index:"userMutationsIndex",range:t,reverse:!0},(r,o,s)=>{i=o.batchId,s.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return mc(e).j("userMutationsIndex",t).next(i=>i.map(r=>Ll(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=_0(this.userId,t.path),r=IDBKeyRange.lowerBound(i),o=[];return uh(e).X({range:r},(s,a,c)=>{const[l,u,d]=s,h=Is(u);if(l===this.userId&&t.path.isEqual(h))return mc(e).get(d).next(f=>{if(!f)throw ge();ve(f.userId===this.userId),o.push(Ll(this.serializer,f))});c.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new un(Be);const r=[];return t.forEach(o=>{const s=_0(this.userId,o.path),a=IDBKeyRange.lowerBound(s),c=uh(e).X({range:a},(l,u,d)=>{const[h,f,_]=l,C=Is(f);h===this.userId&&o.path.isEqual(C)?i=i.add(_):d.done()});r.push(c)}),L.waitFor(r).next(()=>this.Dn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,o=_0(this.userId,i),s=IDBKeyRange.lowerBound(o);let a=new un(Be);return uh(e).X({range:s},(c,l,u)=>{const[d,h,f]=c,_=Is(h);d===this.userId&&i.isPrefixOf(_)?_.length===r&&(a=a.add(f)):u.done()}).next(()=>this.Dn(e,a))}Dn(e,t){const i=[],r=[];return t.forEach(o=>{r.push(mc(e).get(o).next(s=>{if(null===s)throw ge();ve(s.userId===this.userId),i.push(Ll(this.serializer,s))}))}),L.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return nq(e.ht,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),L.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return L.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return uh(e).X({range:i},(o,s,a)=>{if(o[0]===this.userId){const c=Is(o[1]);r.push(c)}else a.done()}).next(()=>{ve(0===r.length)})})}containsKey(e,t){return iq(e,this.userId,t)}xn(e){return rq(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function iq(n,e,t){const i=_0(e,t.path),r=i[1],o=IDBKeyRange.lowerBound(i);let s=!1;return uh(n).X({range:o,Y:!0},(a,c,l)=>{const[u,d,h]=a;u===e&&d===r&&(s=!0),l.done()}).next(()=>s)}function mc(n){return Mi(n,"mutations")}function uh(n){return Mi(n,"documentMutations")}function rq(n){return Mi(n,"mutationQueues")}class Ul{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Ul(0)}static Mn(){return new Ul(-1)}}class WIe{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const i=new Ul(t.highestTargetId);return t.highestTargetId=i.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>we.fromTimestamp(new Dn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.$n(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.On(e,r)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(i=>(i.targetCount+=1,this.Bn(t,i),this.On(e,i))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>dh(e).delete(t.targetId)).next(()=>this.$n(e)).next(i=>(ve(i.targetCount>0),i.targetCount-=1,this.On(e,i)))}removeTargets(e,t,i){let r=0;const o=[];return dh(e).X((s,a)=>{const c=Xg(a);c.sequenceNumber<=t&&null===i.get(c.targetId)&&(r++,o.push(this.removeTargetData(e,c)))}).next(()=>L.waitFor(o)).next(()=>r)}forEachTarget(e,t){return dh(e).X((i,r)=>{const o=Xg(r);t(o)})}$n(e){return oq(e).get("targetGlobalKey").next(t=>(ve(null!==t),t))}On(e,t){return oq(e).put("targetGlobalKey",t)}Fn(e,t){return dh(e).put(HG(this.serializer,t))}Bn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const i=kl(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return dh(e).X({range:r,index:"queryTargetsIndex"},(s,a,c)=>{const l=Xg(a);Vg(t,l.target)&&(o=l,c.done())}).next(()=>o)}addMatchingKeys(e,t,i){const r=[],o=_c(e);return t.forEach(s=>{const a=or(s.path);r.push(o.put({targetId:i,path:a})),r.push(this.referenceDelegate.addReference(e,i,s))}),L.waitFor(r)}removeMatchingKeys(e,t,i){const r=_c(e);return L.forEach(t,o=>{const s=or(o.path);return L.waitFor([r.delete([i,s]),this.referenceDelegate.removeReference(e,i,o)])})}removeMatchingKeysForTargetId(e,t){const i=_c(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=_c(e);let o=Qe();return r.X({range:i,Y:!0},(s,a,c)=>{const l=Is(s[1]),u=new ce(l);o=o.add(u)}).next(()=>o)}containsKey(e,t){const i=or(t.path),r=IDBKeyRange.bound([i],[b7(i)],!1,!0);let o=0;return _c(e).X({index:"documentTargetsIndex",Y:!0,range:r},([s,a],c,l)=>{0!==s&&(o++,l.done())}).next(()=>o>0)}le(e,t){return dh(e).get(t).next(i=>i?Xg(i):null)}}function dh(n){return Mi(n,"targets")}function oq(n){return Mi(n,"targetGlobal")}function _c(n){return Mi(n,"targetDocuments")}function sq([n,e],[t,i]){const r=Be(n,t);return 0===r?Be(e,i):r}class KIe{constructor(e){this.Ln=e,this.buffer=new un(sq),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();sq(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class aq{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;ne("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,b(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){ac(i)?ne("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield sc(i)}yield t.Qn(3e5)}))}}class QIe{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return L.resolve(Jr.ct);const i=new KIe(t);return this.jn.forEachTarget(e,r=>i.Kn(r.sequenceNumber)).next(()=>this.jn.Wn(e,r=>i.Kn(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.jn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(ne("LruGarbageCollector","Garbage collection skipped; disabled"),L.resolve(tq)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ne("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),tq):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let i,r,o,s,a,c,l;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(ne("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),r=this.params.maximumSequenceNumbersToCollect):r=d,s=Date.now(),this.nthSequenceNumber(e,r))).next(d=>(i=d,a=Date.now(),this.removeTargets(e,i,t))).next(d=>(o=d,c=Date.now(),this.removeOrphanedDocuments(e,i))).next(d=>(l=Date.now(),fO()<=_t.DEBUG&&ne("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-u}ms\n\tDetermined least recently used ${r} in `+(a-s)+`ms\n\tRemoved ${o} targets in `+(c-a)+`ms\n\tRemoved ${d} documents in `+(l-c)+`ms\nTotal Duration: ${l-u}ms`),L.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:d})))}}class YIe{constructor(e,t){this.db=e,this.garbageCollector=function cq(n,e){return new QIe(n,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}Jn(e){let t=0;return this.Wn(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(i,r)=>t(r))}addReference(e,t,i){return U0(e,i)}removeReference(e,t,i){return U0(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return U0(e,t)}Xn(e,t){return function(i,r){let o=!1;return rq(i).Z(s=>iq(i,s,r).next(a=>(a&&(o=!0),L.resolve(!a)))).next(()=>o)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let o=0;return this.Yn(e,(s,a)=>{if(a<=t){const c=this.Xn(e,s).next(l=>{if(!l)return o++,i.getEntry(e,s).next(()=>(i.removeEntry(s,we.min()),_c(e).delete([0,or(s.path)])))});r.push(c)}}).next(()=>L.waitFor(r)).next(()=>i.apply(e)).next(()=>o)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return U0(e,t)}Yn(e,t){const i=_c(e);let r,o=Jr.ct;return i.X({index:"documentTargetsIndex"},([s,a],{path:c,sequenceNumber:l})=>{0===s?(o!==Jr.ct&&t(new ce(Is(r)),o),o=l,r=c):o=Jr.ct}).next(()=>{o!==Jr.ct&&t(new ce(Is(r)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function U0(n,e){return _c(n).put((i=n.currentSequenceNumber,{targetId:0,path:or(e.path),sequenceNumber:i}));var i}class lq{constructor(){this.changes=new ha(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,dn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?L.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class XIe{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return zl(e).put(i)}removeEntry(e,t,i){return zl(e).delete(function(r,o){const s=r.path.toArray();return[s.slice(0,s.length-2),s[s.length-2],P0(o),s[s.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.Zn(e,i)))}getEntry(e,t){let i=dn.newInvalidDocument(t);return zl(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(nm(t))},(r,o)=>{i=this.ts(t,o)}).next(()=>i)}es(e,t){let i={size:0,document:dn.newInvalidDocument(t)};return zl(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(nm(t))},(r,o)=>{i={document:this.ts(t,o),size:V0(o)}}).next(()=>i)}getEntries(e,t){let i=Br();return this.ns(e,t,(r,o)=>{const s=this.ts(r,o);i=i.insert(r,s)}).next(()=>i)}ss(e,t){let i=Br(),r=new tn(ce.comparator);return this.ns(e,t,(o,s)=>{const a=this.ts(o,s);i=i.insert(o,a),r=r.insert(o,V0(s))}).next(()=>({documents:i,rs:r}))}ns(e,t,i){if(t.isEmpty())return L.resolve();let r=new un(fq);t.forEach(c=>r=r.add(c));const o=IDBKeyRange.bound(nm(r.first()),nm(r.last())),s=r.getIterator();let a=s.getNext();return zl(e).X({index:"documentKeyIndex",range:o},(c,l,u)=>{const d=ce.fromSegments([...l.prefixPath,l.collectionGroup,l.documentId]);for(;a&&fq(a,d)<0;)i(a,null),a=s.getNext();a&&a.isEqual(d)&&(i(a,l),a=s.hasNext()?s.getNext():null),a?u.G(nm(a)):u.done()}).next(()=>{for(;a;)i(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,t,i,r){const o=t.path,s=[o.popLast().toArray(),o.lastSegment(),P0(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],a=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return zl(e).j(IDBKeyRange.bound(s,a,!0)).next(c=>{let l=Br();for(const u of c){const d=this.ts(ce.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);d.isFoundDocument()&&(Ug(t,d)||r.has(d.key))&&(l=l.insert(d.key,d))}return l})}getAllFromCollectionGroup(e,t,i,r){let o=Br();const s=hq(t,i),a=hq(t,Zr.max());return zl(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},(c,l,u)=>{const d=this.ts(ce.fromSegments(l.prefixPath.concat(l.collectionGroup,l.documentId)),l);o=o.insert(d.key,d),o.size===r&&u.done()}).next(()=>o)}newChangeBuffer(e){return new ZIe(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return dq(e).get("remoteDocumentGlobalKey").next(t=>(ve(!!t),t))}Zn(e,t){return dq(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const i=function LIe(n,e){let t;if(e.document)t=function NG(n,e,t){const i=Ms(n,e.name),r=Yn(e.updateTime),o=e.createTime?Yn(e.createTime):we.min(),s=new qi({mapValue:{fields:e.fields}}),a=dn.newFoundDocument(i,r,o,s);return t&&a.setHasCommittedMutations(),t?a.setHasCommittedMutations():a}(n.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=ce.fromSegments(e.noDocument.path),r=Fl(e.noDocument.readTime);t=dn.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ge();{const i=ce.fromSegments(e.unknownDocument.path),r=Fl(e.unknownDocument.version);t=dn.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(i){const r=new Dn(i[0],i[1]);return we.fromTimestamp(r)}(e.readTime)),t}(this.serializer,t);if(!i.isNoDocument()||!i.version.isEqual(we.min()))return i}return dn.newInvalidDocument(e)}}function uq(n){return new XIe(n)}class ZIe extends lq{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new ha(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new un((o,s)=>Be(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{const a=this.us.get(o);if(t.push(this.os.removeEntry(e,o,a.readTime)),s.isValidDocument()){const c=jG(this.os.serializer,s);r=r.add(o.path.popLast());const l=V0(c);i+=l-a.size,t.push(this.os.addEntry(e,o,c))}else if(i-=a.size,this.trackRemovals){const c=jG(this.os.serializer,s.convertToNoDocument(we.min()));t.push(this.os.addEntry(e,o,c))}}),r.forEach(o=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,o))}),t.push(this.os.updateMetadata(e,i)),L.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(i=>(this.us.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:i,rs:r})=>(r.forEach((o,s)=>{this.us.set(o,{size:s,readTime:i.get(o).readTime})}),i))}}function dq(n){return Mi(n,"remoteDocumentGlobal")}function zl(n){return Mi(n,"remoteDocumentsV14")}function nm(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function hq(n,e){const t=e.documentKey.path.toArray();return[n,P0(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function fq(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let o=0;o<t.length-2&&o<i.length-2;++o)if(r=Be(t[o],i[o]),r)return r;return r=Be(t.length,i.length),r||(r=Be(t[t.length-2],i[i.length-2]),r||Be(t[t.length-1],i[i.length-1]))}class JIe{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class pq{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(null!==i&&$g(i.mutation,r,Vr.empty(),Dn.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Qe()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Qe()){const r=Ds();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(o=>{let s=zg();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){const i=Ds();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Qe()))}populateOverlays(e,t,i){const r=[];return i.forEach(o=>{t.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,i,r){let o=Br();const s=jg(),a=jg();return t.forEach((c,l)=>{const u=i.get(l.key);r.has(l.key)&&(void 0===u||u.mutation instanceof fa)?o=o.insert(l.key,l):void 0!==u?(s.set(l.key,u.mutation.getFieldMask()),$g(u.mutation,l,u.mutation.getFieldMask(),Dn.now())):s.set(l.key,Vr.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((l,u)=>s.set(l,u)),t.forEach((l,u)=>{var d;return a.set(l,new JIe(u,null!==(d=s.get(l))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,t){const i=jg();let r=new tn((s,a)=>s-a),o=Qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(const a of s)a.keys().forEach(c=>{const l=t.get(c);if(null===l)return;let u=i.get(c)||Vr.empty();u=a.applyToLocalView(l,u),i.set(c,u);const d=(r.get(a.batchId)||Qe()).add(c);r=r.insert(a.batchId,d)})}).next(()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),l=c.key,u=c.value,d=sG();u.forEach(h=>{if(!o.has(h)){const f=gG(t.get(h),i.get(h));null!==f&&d.set(h,f),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,d))}return L.waitFor(s)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return ce.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):DO(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var r}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(o=>{const s=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-o.size):L.resolve(Ds());let a=-1,c=o;return s.next(l=>L.forEach(l,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(u)?L.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{c=c.insert(u,h)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,c,l,Qe())).next(u=>({batchId:a,changes:oG(u)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ce(t)).next(i=>{let r=zg();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const r=t.collectionGroup;let o=zg();return this.indexManager.getCollectionParents(e,r).next(s=>L.forEach(s,a=>{const c=(l=t,u=a.child(r),new da(u,null,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt));var l,u;return this.getDocumentsMatchingCollectionQuery(e,c,i).next(l=>{l.forEach((u,d)=>{o=o.insert(u,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,i){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(o=>(r=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,r))).next(o=>{r.forEach((a,c)=>{const l=c.getKey();null===o.get(l)&&(o=o.insert(l,dn.newInvalidDocument(l)))});let s=zg();return o.forEach((a,c)=>{const l=r.get(a);void 0!==l&&$g(l.mutation,c,Vr.empty(),Dn.now()),Ug(t,c)&&(s=s.insert(a,c))}),s})}}class eTe{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return L.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var i;return this.cs.set(t.id,{id:(i=t).id,version:i.version,createTime:Yn(i.createTime)}),L.resolve()}getNamedQuery(e,t){return L.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(i=t).name,query:jO(i.bundledQuery),readTime:Yn(i.readTime)}),L.resolve();var i}}class tTe{constructor(){this.overlays=new tn(ce.comparator),this.ls=new Map}getOverlay(e,t){return L.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Ds();return L.forEach(t,r=>this.getOverlay(e,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,o)=>{this.we(e,t,o)}),L.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.ls.get(i);return void 0!==r&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.ls.delete(i)),L.resolve()}getOverlaysForCollection(e,t,i){const r=Ds(),o=t.length+1,s=new ce(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const c=a.getNext().value,l=c.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&c.largestBatchId>i&&r.set(c.getKey(),c)}return L.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let o=new tn((l,u)=>l-u);const s=this.overlays.getIterator();for(;s.hasNext();){const l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>i){let u=o.get(l.largestBatchId);null===u&&(u=Ds(),o=o.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}const a=Ds(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,u)=>a.set(l,u)),!(a.size()>=r)););return L.resolve(a)}we(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const s=this.ls.get(r.largestBatchId).delete(i.key);this.ls.set(r.largestBatchId,s)}this.overlays=this.overlays.insert(i.key,new RO(t,i));let o=this.ls.get(t);void 0===o&&(o=Qe(),this.ls.set(t,o)),this.ls.set(t,o.add(i.key))}}class QO{constructor(){this.fs=new un(Ai.ds),this.ws=new un(Ai._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const i=new Ai(e,t);this.fs=this.fs.add(i),this.ws=this.ws.add(i)}gs(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.ys(new Ai(e,t))}ps(e,t){e.forEach(i=>this.removeReference(i,t))}Is(e){const t=new ce(new xt([])),i=new Ai(t,e),r=new Ai(t,e+1),o=[];return this.ws.forEachInRange([i,r],s=>{this.ys(s),o.push(s.key)}),o}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new ce(new xt([])),i=new Ai(t,e),r=new Ai(t,e+1);let o=Qe();return this.ws.forEachInRange([i,r],s=>{o=o.add(s.key)}),o}containsKey(e){const t=new Ai(e,0),i=this.fs.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Ai{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return ce.comparator(e.key,t.key)||Be(e.As,t.As)}static _s(e,t){return Be(e.As,t.As)||ce.comparator(e.key,t.key)}}class nTe{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new un(Ai.ds)}checkEmpty(e){return L.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const o=this.vs;this.vs++;const s=new OO(o,t,i,r);this.mutationQueue.push(s);for(const a of r)this.Rs=this.Rs.add(new Ai(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return L.resolve(s)}lookupMutationBatch(e,t){return L.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.bs(t+1),o=r<0?0:r;return L.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Ai(t,0),r=new Ai(t,Number.POSITIVE_INFINITY),o=[];return this.Rs.forEachInRange([i,r],s=>{const a=this.Ps(s.As);o.push(a)}),L.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new un(Be);return t.forEach(r=>{const o=new Ai(r,0),s=new Ai(r,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([o,s],a=>{i=i.add(a.As)})}),L.resolve(this.Vs(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let o=i;ce.isDocumentKey(o)||(o=o.child(""));const s=new Ai(new ce(o),0);let a=new un(Be);return this.Rs.forEachWhile(c=>{const l=c.key.path;return!!i.isPrefixOf(l)&&(l.length===r&&(a=a.add(c.As)),!0)},s),L.resolve(this.Vs(a))}Vs(e){const t=[];return e.forEach(i=>{const r=this.Ps(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){ve(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let i=this.Rs;return L.forEach(t.mutations,r=>{const o=new Ai(r.key,t.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Rs=i})}Cn(e){}containsKey(e,t){const i=new Ai(t,0),r=this.Rs.firstAfterOrEqual(i);return L.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return L.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class iTe{constructor(e){this.Ds=e,this.docs=new tn(ce.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),o=r?r.size:0,s=this.Ds(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return L.resolve(i?i.document.mutableCopy():dn.newInvalidDocument(t))}getEntries(e,t){let i=Br();return t.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():dn.newInvalidDocument(r))}),L.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let o=Br();const s=t.path,a=new ce(s.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:l,value:{document:u}}=c.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||mO(v7(u),i)<=0||(r.has(u.key)||Ug(t,u))&&(o=o.insert(u.key,u.mutableCopy()))}return L.resolve(o)}getAllFromCollectionGroup(e,t,i,r){ge()}Cs(e,t){return L.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new rTe(this)}getSize(e){return L.resolve(this.size)}}class rTe extends lq{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.os.addEntry(e,r)):this.os.removeEntry(i)}),L.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class oTe{constructor(e){this.persistence=e,this.xs=new ha(t=>kl(t),Vg),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.Ns=0,this.ks=new QO,this.targetCount=0,this.Ms=Ul.kn()}forEachTarget(e,t){return this.xs.forEach((i,r)=>t(r)),L.resolve()}getLastRemoteSnapshotVersion(e){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Ns&&(this.Ns=t),L.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Ul(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,L.resolve()}updateTargetData(e,t){return this.Fn(t),L.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,L.resolve()}removeTargets(e,t,i){let r=0;const o=[];return this.xs.forEach((s,a)=>{a.sequenceNumber<=t&&null===i.get(a.targetId)&&(this.xs.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),L.waitFor(o).next(()=>r)}getTargetCount(e){return L.resolve(this.targetCount)}getTargetData(e,t){const i=this.xs.get(t)||null;return L.resolve(i)}addMatchingKeys(e,t,i){return this.ks.gs(t,i),L.resolve()}removeMatchingKeys(e,t,i){this.ks.ps(t,i);const r=this.persistence.referenceDelegate,o=[];return r&&t.forEach(s=>{o.push(r.markPotentiallyOrphaned(e,s))}),L.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),L.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ks.Es(t);return L.resolve(i)}containsKey(e,t){return L.resolve(this.ks.containsKey(t))}}class YO{constructor(e,t){this.$s={},this.overlays={},this.Os=new Jr(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new oTe(this),this.indexManager=new GIe,this.remoteDocumentCache=new iTe(i=>this.referenceDelegate.Ls(i)),this.serializer=new zG(t),this.qs=new eTe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new tTe,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.$s[e.toKey()];return i||(i=new nTe(t,this.referenceDelegate),this.$s[e.toKey()]=i),i}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,i){ne("MemoryPersistence","Starting transaction:",e);const r=new sTe(this.Os.next());return this.referenceDelegate.Us(),i(r).next(o=>this.referenceDelegate.Ks(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Gs(e,t){return L.or(Object.values(this.$s).map(i=>()=>i.containsKey(e,t)))}}class sTe extends x7{constructor(e){super(),this.currentSequenceNumber=e}}class z0{constructor(e){this.persistence=e,this.Qs=new QO,this.js=null}static zs(e){return new z0(e)}get Ws(){if(this.js)return this.js;throw ge()}addReference(e,t,i){return this.Qs.addReference(i,t),this.Ws.delete(i.toString()),L.resolve()}removeReference(e,t,i){return this.Qs.removeReference(i,t),this.Ws.add(i.toString()),L.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),L.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(r=>this.Ws.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(o=>this.Ws.add(o.toString()))}).next(()=>i.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.Ws,i=>{const r=ce.fromPath(i);return this.Hs(e,r).next(o=>{o||t.removeEntry(r,we.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(i=>{i?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return L.or([()=>L.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class aTe{constructor(e){this.serializer=e}O(e,t,i,r){const o=new m0("createOrUpgrade",t);var a;i<1&&r>=1&&(e.createObjectStore("owner"),(a=e).createObjectStore("mutationQueues",{keyPath:"userId"}),a.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",T7,{unique:!0}),a.createObjectStore("documentMutations"),gq(e),function(a){a.createObjectStore("remoteDocuments")}(e));let s=L.resolve();return i<3&&r>=3&&(0!==i&&(function(a){a.deleteObjectStore("targetDocuments"),a.deleteObjectStore("targets"),a.deleteObjectStore("targetGlobal")}(e),gq(e)),s=s.next(()=>function(a){const c=a.store("targetGlobal"),l={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:we.min().toTimestamp(),targetCount:0};return c.put("targetGlobalKey",l)}(o))),i<4&&r>=4&&(0!==i&&(s=s.next(()=>function(a,c){return c.store("mutations").j().next(l=>{a.deleteObjectStore("mutations"),a.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",T7,{unique:!0});const u=c.store("mutations"),d=l.map(h=>u.put(h));return L.waitFor(d)})}(e,o))),s=s.next(()=>{!function(a){a.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(s=s.next(()=>this.Ys(o))),i<6&&r>=6&&(s=s.next(()=>(function(a){a.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(o)))),i<7&&r>=7&&(s=s.next(()=>this.Zs(o))),i<8&&r>=8&&(s=s.next(()=>this.ti(e,o))),i<9&&r>=9&&(s=s.next(()=>{!function(a){a.objectStoreNames.contains("remoteDocumentChanges")&&a.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(s=s.next(()=>this.ei(o))),i<11&&r>=11&&(s=s.next(()=>{(function(a){a.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(a){a.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(s=s.next(()=>{!function(a){const c=a.createObjectStore("documentOverlays",{keyPath:q1e});c.createIndex("collectionPathOverlayIndex",W1e,{unique:!1}),c.createIndex("collectionGroupOverlayIndex",K1e,{unique:!1})}(e)})),i<13&&r>=13&&(s=s.next(()=>function(a){const c=a.createObjectStore("remoteDocumentsV14",{keyPath:N1e});c.createIndex("documentKeyIndex",F1e),c.createIndex("collectionGroupIndex",L1e)}(e)).next(()=>this.ni(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(s=s.next(()=>this.si(e,o))),i<15&&r>=15&&(s=s.next(()=>function(a){a.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),a.createObjectStore("indexState",{keyPath:j1e}).createIndex("sequenceNumberIndex",H1e,{unique:!1}),a.createObjectStore("indexEntries",{keyPath:$1e}).createIndex("documentKeyIndex",G1e,{unique:!1})}(e))),s}Xs(e){let t=0;return e.store("remoteDocuments").X((i,r)=>{t+=V0(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Ys(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.j().next(r=>L.forEach(r,o=>{const s=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.j("userMutationsIndex",s).next(a=>L.forEach(a,c=>{ve(c.userId===o.userId);const l=Ll(this.serializer,c);return nq(e,o.userId,l).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const o=[];return i.X((s,a)=>{const c=new xt(s),l=[0,or(c)];o.push(t.get(l).next(u=>u?L.resolve():t.put({targetId:0,path:or(c),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>L.waitFor(o))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:z1e});const i=t.store("collectionParents"),r=new KO,o=s=>{if(r.add(s)){const a=s.lastSegment(),c=s.popLast();return i.put({collectionId:a,parent:or(c)})}};return t.store("remoteDocuments").X({Y:!0},(s,a)=>{const c=new xt(s);return o(c.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([s,a,c],l)=>{const u=Is(a);return o(u.popLast())}))}ei(e){const t=e.store("targets");return t.X((i,r)=>{const o=Xg(r),s=HG(this.serializer,o);return t.put(s)})}ni(e,t){const i=t.store("remoteDocuments"),r=[];return i.X((o,s)=>{const a=t.store("remoteDocumentsV14"),c=(l=s,l.document?new ce(xt.fromString(l.document.name).popFirst(5)):l.noDocument?ce.fromSegments(l.noDocument.path):l.unknownDocument?ce.fromSegments(l.unknownDocument.path):ge()).path.toArray();var l;const u={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};r.push(a.put(u))}).next(()=>L.waitFor(r))}si(e,t){const i=t.store("mutations"),r=uq(this.serializer),o=new YO(z0.zs,this.serializer.fe);return i.j().next(s=>{const a=new Map;return s.forEach(c=>{var l;let u=null!==(l=a.get(c.userId))&&void 0!==l?l:Qe();Ll(this.serializer,c).keys().forEach(d=>u=u.add(d)),a.set(c.userId,u)}),L.forEach(a,(c,l)=>{const u=new Di(l),d=R0.de(this.serializer,u),h=o.getIndexManager(u),f=B0.de(u,this.serializer,h,o.referenceDelegate);return new pq(r,f,d,h).recalculateAndSaveOverlaysForDocumentKeys(new yO(t,Jr.ct),c).next()})})}}function gq(n){n.createObjectStore("targetDocuments",{keyPath:B1e}).createIndex("documentTargetsIndex",U1e,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",V1e,{unique:!0}),n.createObjectStore("targetGlobal")}const XO="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class ZO{constructor(e,t,i,r,o,s,a,c,l,u,d=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.ii=o,this.window=s,this.document=a,this.ri=l,this.oi=u,this.ui=d,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=h=>Promise.resolve(),!ZO.D())throw new X(V.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new YIe(this,r),this.di=t+"main",this.serializer=new zG(c),this.wi=new Ho(this.di,this.ui,new aTe(this.serializer)),this.Bs=new WIe(this.referenceDelegate,this.serializer),this.remoteDocumentCache=uq(this.serializer),this.qs=new VIe,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===u&&Kn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new X(V.FAILED_PRECONDITION,XO);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new Jr(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var i=b(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=b(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget(b(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>H0(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(ac(e))return ne("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ne("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return im(e).get("owner").next(t=>L.resolve(this.Ri(t)))}Pi(e){return H0(e).delete(this.clientId)}bi(){var e=this;return b(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Mi(i,"clientMetadata");return r.j().next(o=>{const s=e.Si(o,18e5),a=o.filter(c=>-1===s.indexOf(c));return L.forEach(a,c=>r.delete(c.clientId)).next(()=>a)})}).catch(()=>[]);if(e._i)for(const i of t)e._i.removeItem(e.Di(i.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?L.resolve(!0):im(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new X(V.FAILED_PRECONDITION,XO);return!1}}return!(!this.networkEnabled||!this.inForeground)||H0(e).j().next(i=>void 0===this.Si(i,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(t=>(this.isPrimary!==t&&ne("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return b(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new yO(t,Jr.ct);return e.Ai(i).next(()=>e.Pi(i))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(i=>this.Vi(i.updateTimeMs,t)&&!this.Ci(i.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>H0(e).j().next(t=>this.Si(t,18e5).map(i=>i.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return B0.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new qIe(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return R0.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,i){ne("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",o=15===(s=this.ui)?Y1e:14===s?S7:13===s?A7:12===s?Q1e:11===s?M7:void ge();var s;let a;return this.wi.runTransaction(e,r,o,c=>(a=new yO(c,this.Os?this.Os.next():Jr.ct),"readwrite-primary"===t?this.Ti(a).next(l=>!!l||this.Ei(a)).next(l=>{if(!l)throw Kn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new X(V.FAILED_PRECONDITION,w7);return i(a)}).next(l=>this.vi(a).next(()=>l)):this.Oi(a).next(()=>i(a)))).then(c=>(a.raiseOnCommittedEvent(),c))}Oi(e){return im(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new X(V.FAILED_PRECONDITION,XO)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return im(e).put("owner",t)}static D(){return Ho.D()}Ai(e){const t=im(e);return t.get("owner").next(i=>this.Ri(i)?(ne("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):L.resolve())}Vi(e,t){const i=Date.now();return!(e<i-t||e>i&&(Kn(`Detected an update time that is in the future: ${e} > ${i}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(function zme(){return!function Bme(){var n;const e=null===(n=Jy())||void 0===n?void 0:n.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")})()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const i=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return ne("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Kn("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){Kn("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function im(n){return Mi(n,"owner")}function H0(n){return Mi(n,"clientMetadata")}class eP{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Fi=i,this.Bi=r}static Li(e,t){let i=Qe(),r=Qe();for(const o of t.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new eP(e,t.fromCache,i,r)}}class mq{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,i,r){return this.Ki(e,t).next(o=>o||this.Gi(e,t,r,i)).next(o=>o||this.Qi(e,t))}Ki(e,t){if(eG(t))return L.resolve(null);let i=wr(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=D0(t,null,"F"),i=wr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{const s=Qe(...o);return this.Ui.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,i).next(c=>{const l=this.ji(t,a);return this.zi(t,l,s,c.readTime)?this.Ki(e,D0(t,null,"F")):this.Wi(e,l,t,c)}))})))}Gi(e,t,i,r){return eG(t)||r.isEqual(we.min())?this.Qi(e,t):this.Ui.getDocuments(e,i).next(o=>{const s=this.ji(t,o);return this.zi(t,s,i,r)?this.Qi(e,t):(fO()<=_t.DEBUG&&ne("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),AO(t)),this.Wi(e,s,t,function y7(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=we.fromTimestamp(1e9===i?new Dn(t+1,0):new Dn(t,i));return new Zr(r,ce.empty(),e)}(r,-1)))})}ji(e,t){let i=new un(iG(e));return t.forEach((r,o)=>{Ug(e,o)&&(i=i.add(o))}),i}zi(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const o="F"===e.limitType?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Qi(e,t){return fO()<=_t.DEBUG&&ne("QueryEngine","Using full collection scan to execute query:",AO(t)),this.Ui.getDocumentsMatchingQuery(e,t,Zr.min())}Wi(e,t,i,r){return this.Ui.getDocumentsMatchingQuery(e,i,r).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}}class cTe{constructor(e,t,i,r){this.persistence=e,this.Hi=t,this.serializer=r,this.Ji=new tn(Be),this.Yi=new ha(o=>kl(o),Vg),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(i)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new pq(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function _q(n,e,t,i){return new cTe(n,e,t,i)}function bq(n,e){return tP.apply(this,arguments)}function tP(){return tP=b(function*(n,e){const t=de(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,t.tr(e),t.mutationQueue.getAllMutationBatches(i))).next(o=>{const s=[],a=[];let c=Qe();for(const l of r){s.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}for(const l of o){a.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}return t.localDocuments.getDocuments(i,c).next(l=>({er:l,removedBatchIds:s,addedBatchIds:a}))})})}),tP.apply(this,arguments)}function yq(n){const e=de(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function dTe(n,e){const t=de(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function fh(n,e,t){return nP.apply(this,arguments)}function nP(){return nP=b(function*(n,e,t){const i=de(n),r=i.Ji.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",o,s=>i.persistence.referenceDelegate.removeTarget(s,r)))}catch(s){if(!ac(s))throw s;ne("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}i.Ji=i.Ji.remove(e),i.Yi.delete(r.target)}),nP.apply(this,arguments)}function $0(n,e,t){const i=de(n);let r=we.min(),o=Qe();return i.persistence.runTransaction("Execute query","readonly",s=>function(a,c,l){const u=de(a),d=u.Yi.get(l);return void 0!==d?L.resolve(u.Ji.get(d)):u.Bs.getTargetData(c,l)}(i,s,wr(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.Bs.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>i.Hi.getDocumentsMatchingQuery(s,e,t?r:we.min(),t?o:Qe())).next(a=>(function Cq(n,e,t){let i=n.Xi.get(e)||we.min();t.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.Xi.set(e,i)}(i,function nG(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),a),{documents:a,ir:o})))}class aP{constructor(){this.activeTargetIds=function SO(){return fIe}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Tq{constructor(){this.Hr=new aP,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,i){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new aP,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class pTe{Yr(e){}shutdown(){}}class Dq{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){ne("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){ne("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let W0=null;function lP(){return null===W0?W0=268435456+Math.round(2147483648*Math.random()):W0++,"0x"+W0.toString(16)}const gTe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class mTe{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const ar="WebChannelConnection";class _Te extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,i,r,o){const s=lP(),a=this.To(e,t);ne("RestConnection",`Sending RPC '${e}' ${s}:`,a,i);const c={};return this.Eo(c,r,o),this.Ao(e,a,c,i).then(l=>(ne("RestConnection",`Received RPC '${e}' ${s}: `,l),l),l=>{throw jo("RestConnection",`RPC '${e}' ${s} failed with error: `,l,"url: ",a,"request:",i),l})}vo(e,t,i,r,o,s){return this.Io(e,t,i,r,o)}Eo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+Xd,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,o)=>e[o]=r),i&&i.headers.forEach((r,o)=>e[o]=r)}To(e,t){return`${this.mo}/v1/${t}:${gTe[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,i,r){const o=lP();return new Promise((s,a)=>{const c=new _1e;c.setWithCredentials(!0),c.listenOnce(p1e.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case hO.NO_ERROR:const u=c.getResponseJson();ne(ar,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(u)),s(u);break;case hO.TIMEOUT:ne(ar,`RPC '${e}' ${o} timed out`),a(new X(V.DEADLINE_EXCEEDED,"Request time out"));break;case hO.HTTP_ERROR:const d=c.getStatus();if(ne(ar,`RPC '${e}' ${o} failed with status:`,d,"response text:",c.getResponseText()),d>0){let h=c.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const _=function(C){const I=C.toLowerCase().replace(/_/g,"-");return Object.values(V).indexOf(I)>=0?I:V.UNKNOWN}(f.status);a(new X(_,f.message))}else a(new X(V.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new X(V.UNAVAILABLE,"Connection failed."));break;default:ge()}}finally{ne(ar,`RPC '${e}' ${o} completed.`)}});const l=JSON.stringify(r);ne(ar,`RPC '${e}' ${o} sending request:`,r),c.send(t,"POST",l,i,15)})}Ro(e,t,i){const r=lP(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=h1e(),a=f1e(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.xmlHttpFactory=new m1e({})),this.Eo(c.initMessageHeaders,t,i),c.encodeInitMessageHeaders=!0;const u=o.join("");ne(ar,`Creating RPC '${e}' stream ${r}: ${u}`,c);const d=s.createWebChannel(u,c);let h=!1,f=!1;const _=new mTe({ro:I=>{f?ne(ar,`Not sending because RPC '${e}' stream ${r} is closed:`,I):(h||(ne(ar,`Opening RPC '${e}' stream ${r} transport.`),d.open(),h=!0),ne(ar,`RPC '${e}' stream ${r} sending:`,I),d.send(I))},oo:()=>d.close()}),C=(I,O,M)=>{I.listen(O,B=>{try{M(B)}catch(Q){setTimeout(()=>{throw Q},0)}})};return C(d,f0.EventType.OPEN,()=>{f||ne(ar,`RPC '${e}' stream ${r} transport opened.`)}),C(d,f0.EventType.CLOSE,()=>{f||(f=!0,ne(ar,`RPC '${e}' stream ${r} transport closed`),_.wo())}),C(d,f0.EventType.ERROR,I=>{f||(f=!0,jo(ar,`RPC '${e}' stream ${r} transport errored:`,I),_.wo(new X(V.UNAVAILABLE,"The operation could not be completed")))}),C(d,f0.EventType.MESSAGE,I=>{var O;if(!f){const M=I.data[0];ve(!!M);const Q=M.error||(null===(O=M[0])||void 0===O?void 0:O.error);if(Q){ne(ar,`RPC '${e}' stream ${r} received error:`,Q);const ae=Q.status;let fe=function(gt){const ai=ri[gt];if(void 0!==ai)return wG(ai)}(ae),$e=Q.message;void 0===fe&&(fe=V.INTERNAL,$e="Unknown error status: "+ae+" with message "+Q.message),f=!0,_.wo(new X(fe,$e)),d.close()}else ne(ar,`RPC '${e}' stream ${r} received:`,M),_._o(M)}}),C(a,g1e.STAT_EVENT,I=>{I.stat===f7.PROXY?ne(ar,`RPC '${e}' stream ${r} detected buffering proxy`):I.stat===f7.NOPROXY&&ne(ar,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{_.fo()},0),_}}function K0(){return typeof document<"u"?document:null}function om(n){return new DIe(n,!0)}class uP{constructor(e,t,i=1e3,r=1.5,o=6e4){this.ii=e,this.timerId=t,this.Po=i,this.bo=r,this.Vo=o,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),i=Math.max(0,Date.now()-this.Co),r=Math.max(0,t-i);r>0&&ne("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class Aq{constructor(e,t,i,r,o,s,a,c){this.ii=e,this.$o=i,this.Oo=r,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new uP(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return b(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return b(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var i=this;return b(function*(){i.Ho(),i.Jo(),i.qo.cancel(),i.Fo++,4!==e?i.qo.reset():t&&t.code===V.RESOURCE_EXHAUSTED?(Kn(t.toString()),Kn("Using maximum backoff delay to prevent overloading the backend."),i.qo.xo()):t&&t.code===V.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Yo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Fo===t&&this.Zo(i,r)},i=>{e(()=>{const r=new X(V.UNKNOWN,"Fetching auth token failed: "+i.message);return this.tu(r)})})}Zo(e,t){const i=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{i(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(r=>{i(()=>this.tu(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Go(){var e=this;this.state=5,this.qo.No(b(function*(){e.state=0,e.start()}))}tu(e){return ne("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(ne("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class bTe extends Aq{constructor(e,t,i,r,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,s),this.serializer=o}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function SIe(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(c=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:ge(),r=e.targetChange.targetIds||[],o=function(c,l){return c.useProto3Json?(ve(void 0===l||"string"==typeof l),mi.fromBase64String(l||"")):(ve(void 0===l||l instanceof Uint8Array),mi.fromUint8Array(l||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){const l=void 0===c.code?V.UNKNOWN:wG(c.code);return new X(l,c.message||"")}(s);t=new TG(i,r,o,a||null)}else if("documentChange"in e){const i=e.documentChange,r=Ms(n,i.document.name),o=Yn(i.document.updateTime),s=i.document.createTime?Yn(i.document.createTime):we.min(),a=new qi({mapValue:{fields:i.document.fields}}),c=dn.newFoundDocument(r,o,s,a);t=new O0(i.targetIds||[],i.removedTargetIds||[],c.key,c)}else if("documentDelete"in e){const i=e.documentDelete,r=Ms(n,i.document),o=i.readTime?Yn(i.readTime):we.min(),s=dn.newNoDocument(r,o);t=new O0([],i.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const i=e.documentRemove,r=Ms(n,i.document);t=new O0([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return ge();{const i=e.filter,{count:r=0,unchangedNames:o}=i,s=new wIe(r,o);t=new IG(i.targetId,s)}}var c;return t}(this.serializer,e),i=function(r){if(!("targetChange"in r))return we.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?we.min():o.readTime?Yn(o.readTime):we.min()}(e);return this.listener.nu(t,i)}su(e){const t={};t.database=Qg(this.serializer),t.addTarget=function(r,o){let s;const a=o.target;if(s=E0(a)?{documents:FG(r,a)}:{query:zO(r,a)},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){s.resumeToken=SG(r,o.resumeToken);const c=LO(r,o.expectedCount);null!==c&&(s.expectedCount=c)}else if(o.snapshotVersion.compareTo(we.min())>0){s.readTime=ch(r,o.snapshotVersion.toTimestamp());const c=LO(r,o.expectedCount);null!==c&&(s.expectedCount=c)}return s}(this.serializer,e);const i=function OIe(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ge()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Wo(t)}iu(e){const t={};t.database=Qg(this.serializer),t.removeTarget=e,this.Wo(t)}}class yTe extends Aq{constructor(e,t,i,r,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,s),this.serializer=o,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(ve(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function kIe(n,e){return n&&n.length>0?(ve(void 0!==e),n.map(t=>function(i,r){let o=Yn(i.updateTime?i.updateTime:r);return o.isEqual(we.min())&&(o=Yn(r)),new _Ie(o,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=Yn(e.commitTime);return this.listener.cu(i,t)}return ve(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Qg(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>Yg(this.serializer,i))};this.Wo(t)}}class vTe extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new X(V.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.Io(e,t,i,r,o)).catch(r=>{throw"FirebaseError"===r.name?(r.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new X(V.UNKNOWN,r.toString())})}vo(e,t,i,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.vo(e,t,i,o,s,r)).catch(o=>{throw"FirebaseError"===o.name?(o.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new X(V.UNKNOWN,o.toString())})}terminate(){this.lu=!0}}class xTe{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Kn(t),this.mu=!1):ne("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class CTe{constructor(e,t,i,r,o){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=o,this.Pu.Yr(a=>{i.enqueueAndForget(b(function*(){var c;bc(s)&&(ne("RemoteStore","Restarting streams for network reachability change."),yield(c=b(function*(l){const u=de(l);u.vu.add(4),yield ph(u),u.bu.set("Unknown"),u.vu.delete(4),yield sm(u)}),function(l){return c.apply(this,arguments)})(s))}))}),this.bu=new xTe(i,r)}}function sm(n){return hP.apply(this,arguments)}function hP(){return hP=b(function*(n){if(bc(n))for(const e of n.Ru)yield e(!0)}),hP.apply(this,arguments)}function ph(n){return fP.apply(this,arguments)}function fP(){return fP=b(function*(n){for(const e of n.Ru)yield e(!1)}),fP.apply(this,arguments)}function Q0(n,e){const t=de(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),mP(t)?gP(t):mh(t).Ko()&&pP(t,e))}function am(n,e){const t=de(n),i=mh(t);t.Au.delete(e),i.Ko()&&Sq(t,e),0===t.Au.size&&(i.Ko()?i.jo():bc(t)&&t.bu.set("Unknown"))}function pP(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}mh(n).su(e)}function Sq(n,e){n.Vu.qt(e),mh(n).iu(e)}function gP(n){n.Vu=new CIe({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),mh(n).start(),n.bu.gu()}function mP(n){return bc(n)&&!mh(n).Uo()&&n.Au.size>0}function bc(n){return 0===de(n).vu.size}function kq(n){n.Vu=void 0}function ETe(n){return _P.apply(this,arguments)}function _P(){return _P=b(function*(n){n.Au.forEach((e,t)=>{pP(n,e)})}),_P.apply(this,arguments)}function ITe(n,e){return bP.apply(this,arguments)}function bP(){return bP=b(function*(n,e){kq(n),mP(n)?(n.bu.Iu(e),gP(n)):n.bu.set("Unknown")}),bP.apply(this,arguments)}function TTe(n,e,t){return yP.apply(this,arguments)}function yP(){return yP=b(function*(n,e,t){if(n.bu.set("Online"),e instanceof TG&&2===e.state&&e.cause)try{yield(i=b(function*(r,o){const s=o.cause;for(const a of o.targetIds)r.Au.has(a)&&(yield r.remoteSyncer.rejectListen(a,s),r.Au.delete(a),r.Vu.removeTarget(a))}),function(r,o){return i.apply(this,arguments)})(n,e)}catch(i){ne("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield Y0(n,i)}else if(e instanceof O0?n.Vu.Ht(e):e instanceof IG?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(we.min()))try{const i=yield yq(n.localStore);t.compareTo(i)>=0&&(yield function(r,o){const s=r.Vu.ce(o);return s.targetChanges.forEach((a,c)=>{if(a.resumeToken.approximateByteSize()>0){const l=r.Au.get(c);l&&r.Au.set(c,l.withResumeToken(a.resumeToken,o))}}),s.targetMismatches.forEach((a,c)=>{const l=r.Au.get(a);if(!l)return;r.Au.set(a,l.withResumeToken(mi.EMPTY_BYTE_STRING,l.snapshotVersion)),Sq(r,a);const u=new pa(l.target,a,c,l.sequenceNumber);pP(r,u)}),r.remoteSyncer.applyRemoteEvent(s)}(n,t))}catch(i){ne("RemoteStore","Failed to raise snapshot:",i),yield Y0(n,i)}var i}),yP.apply(this,arguments)}function Y0(n,e,t){return vP.apply(this,arguments)}function vP(){return vP=b(function*(n,e,t){if(!ac(e))throw e;n.vu.add(1),yield ph(n),n.bu.set("Offline"),t||(t=()=>yq(n.localStore)),n.asyncQueue.enqueueRetryable(b(function*(){ne("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield sm(n)}))}),vP.apply(this,arguments)}function Oq(n,e){return e().catch(t=>Y0(n,t,e))}function gh(n){return wP.apply(this,arguments)}function wP(){return wP=b(function*(n){const e=de(n),t=yc(e);let i=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;DTe(e);)try{const r=yield dTe(e.localStore,i);if(null===r){0===e.Eu.length&&t.jo();break}i=r.batchId,MTe(e,r)}catch(r){yield Y0(e,r)}Pq(e)&&Rq(e)}),wP.apply(this,arguments)}function DTe(n){return bc(n)&&n.Eu.length<10}function MTe(n,e){n.Eu.push(e);const t=yc(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function Pq(n){return bc(n)&&!yc(n).Uo()&&n.Eu.length>0}function Rq(n){yc(n).start()}function ATe(n){return xP.apply(this,arguments)}function xP(){return xP=b(function*(n){yc(n).hu()}),xP.apply(this,arguments)}function STe(n){return CP.apply(this,arguments)}function CP(){return CP=b(function*(n){const e=yc(n);for(const t of n.Eu)e.uu(t.mutations)}),CP.apply(this,arguments)}function kTe(n,e,t){return EP.apply(this,arguments)}function EP(){return EP=b(function*(n,e,t){const i=n.Eu.shift(),r=PO.from(i,e,t);yield Oq(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield gh(n)}),EP.apply(this,arguments)}function OTe(n,e){return IP.apply(this,arguments)}function IP(){return IP=b(function*(n,e){var t;e&&yc(n).ou&&(yield(t=b(function*(i,r){if(function vG(n){switch(n){default:return ge();case V.CANCELLED:case V.UNKNOWN:case V.DEADLINE_EXCEEDED:case V.RESOURCE_EXHAUSTED:case V.INTERNAL:case V.UNAVAILABLE:case V.UNAUTHENTICATED:return!1;case V.INVALID_ARGUMENT:case V.NOT_FOUND:case V.ALREADY_EXISTS:case V.PERMISSION_DENIED:case V.FAILED_PRECONDITION:case V.ABORTED:case V.OUT_OF_RANGE:case V.UNIMPLEMENTED:case V.DATA_LOSS:return!0}}(o=r.code)&&o!==V.ABORTED){const s=i.Eu.shift();yc(i).Qo(),yield Oq(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),yield gh(i)}var o}),function(i,r){return t.apply(this,arguments)})(n,e)),Pq(n)&&Rq(n)}),IP.apply(this,arguments)}function Nq(n,e){return TP.apply(this,arguments)}function TP(){return TP=b(function*(n,e){const t=de(n);t.asyncQueue.verifyOperationInProgress(),ne("RemoteStore","RemoteStore received new credentials");const i=bc(t);t.vu.add(3),yield ph(t),i&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield sm(t)}),TP.apply(this,arguments)}function MP(){return MP=b(function*(n,e){const t=de(n);e?(t.vu.delete(2),yield sm(t)):e||(t.vu.add(2),yield ph(t),t.bu.set("Unknown"))}),MP.apply(this,arguments)}function mh(n){return n.Su||(n.Su=function(e,t,i){const r=de(e);return r.fu(),new bTe(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:ETe.bind(null,n),ao:ITe.bind(null,n),nu:TTe.bind(null,n)}),n.Ru.push(function(){var e=b(function*(t){t?(n.Su.Qo(),mP(n)?gP(n):n.bu.set("Unknown")):(yield n.Su.stop(),kq(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function yc(n){return n.Du||(n.Du=function(e,t,i){const r=de(e);return r.fu(),new yTe(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:ATe.bind(null,n),ao:OTe.bind(null,n),au:STe.bind(null,n),cu:kTe.bind(null,n)}),n.Ru.push(function(){var e=b(function*(t){t?(n.Du.Qo(),yield gh(n)):(yield n.Du.stop(),n.Eu.length>0&&(ne("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class AP{constructor(e,t,i,r,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new gi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}static createAndSchedule(e,t,i,r,o){const s=Date.now()+i,a=new AP(e,t,s,r,o);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new X(V.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _h(n,e){if(Kn("AsyncQueue",`${e}: ${n}`),ac(n))return new X(V.UNAVAILABLE,`${e}: ${n}`);throw n}class bh{constructor(e){this.comparator=e?(t,i)=>e(t,i)||ce.comparator(t.key,i.key):(t,i)=>ce.comparator(t.key,i.key),this.keyedMap=zg(),this.sortedSet=new tn(this.comparator)}static emptySet(e){return new bh(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof bh)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new bh;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class Fq{constructor(){this.Cu=new tn(ce.comparator)}track(e){const t=e.doc.key,i=this.Cu.get(t);i?0!==e.type&&3===i.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==i.type?this.Cu=this.Cu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Cu=this.Cu.remove(t):1===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):ge():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,i)=>{e.push(i)}),e}}class yh{constructor(e,t,i,r,o,s,a,c,l){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,t,i,r,o){const s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new yh(e,t,bh.emptySet(t),s,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class PTe{constructor(){this.Nu=void 0,this.listeners=[]}}class RTe{constructor(){this.queries=new ha(e=>tG(e),Bg),this.onlineState="Unknown",this.ku=new Set}}function kP(){return kP=b(function*(n,e){const t=de(n),i=e.query;let r=!1,o=t.queries.get(i);if(o||(r=!0,o=new PTe),r)try{o.Nu=yield t.onListen(i)}catch(s){const a=_h(s,`Initialization of query '${AO(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.listeners.push(e),e.Mu(t.onlineState),o.Nu&&e.$u(o.Nu)&&RP(t)}),kP.apply(this,arguments)}function PP(){return PP=b(function*(n,e){const t=de(n),i=e.query;let r=!1;const o=t.queries.get(i);if(o){const s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),r=0===o.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),PP.apply(this,arguments)}function NTe(n,e){const t=de(n);let i=!1;for(const r of e){const s=t.queries.get(r.query);if(s){for(const a of s.listeners)a.$u(r)&&(i=!0);s.Nu=r}}i&&RP(t)}function FTe(n,e,t){const i=de(n),r=i.queries.get(e);if(r)for(const o of r.listeners)o.onError(t);i.queries.delete(e)}function RP(n){n.ku.forEach(e=>{e.next()})}class NP{constructor(e,t,i){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=i||{}}$u(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new yh(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=yh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class Bq{constructor(e){this.key=e}}class Uq{constructor(e){this.key=e}}class zq{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Qe(),this.mutatedKeys=Qe(),this.tc=iG(e),this.ec=new bh(this.tc)}get nc(){return this.Yu}sc(e,t){const i=t?t.ic:new Fq,r=t?t.ec:this.ec;let o=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const c="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((u,d)=>{const h=r.get(u),f=Ug(this.query,d)?d:null,_=!!h&&this.mutatedKeys.has(h.key),C=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let I=!1;h&&f?h.data.isEqual(f.data)?_!==C&&(i.track({type:3,doc:f}),I=!0):this.rc(h,f)||(i.track({type:2,doc:f}),I=!0,(c&&this.tc(f,c)>0||l&&this.tc(f,l)<0)&&(a=!0)):!h&&f?(i.track({type:0,doc:f}),I=!0):h&&!f&&(i.track({type:1,doc:h}),I=!0,(c||l)&&(a=!0)),I&&(f?(s=s.add(f),o=C?o.add(u):o.delete(u)):(s=s.delete(u),o=o.delete(u)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const u="F"===this.query.limitType?s.last():s.first();s=s.delete(u.key),o=o.delete(u.key),i.track({type:1,doc:u})}return{ec:s,ic:i,zi:a,mutatedKeys:o}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const o=e.ic.xu();o.sort((l,u)=>function(d,h){const f=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ge()}};return f(d)-f(h)}(l.type,u.type)||this.tc(l.doc,u.doc)),this.oc(i);const s=t?this.uc():[],a=0===this.Zu.size&&this.current?1:0,c=a!==this.Xu;return this.Xu=a,0!==o.length||c?{snapshot:new yh(this.query,e.ec,r,o,e.mutatedKeys,0===a,c,!1,!!i&&i.resumeToken.approximateByteSize()>0),cc:s}:{cc:s}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Fq,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Qe(),this.ec.forEach(i=>{this.ac(i.key)&&(this.Zu=this.Zu.add(i.key))});const t=[];return e.forEach(i=>{this.Zu.has(i)||t.push(new Uq(i))}),this.Zu.forEach(i=>{e.has(i)||t.push(new Bq(i))}),t}hc(e){this.Yu=e.ir,this.Zu=Qe();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return yh.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class BTe{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class UTe{constructor(e){this.key=e,this.fc=!1}}class zTe{constructor(e,t,i,r,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.dc={},this.wc=new ha(a=>tG(a),Bg),this._c=new Map,this.mc=new Set,this.gc=new tn(ce.comparator),this.yc=new Map,this.Ic=new QO,this.Tc={},this.Ec=new Map,this.Ac=Ul.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function jTe(n,e){return FP.apply(this,arguments)}function FP(){return FP=b(function*(n,e){const t=function oR(n){const e=de(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=jq.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=XTe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=GTe.bind(null,e),e.dc.nu=NTe.bind(null,e.eventManager),e.dc.Pc=FTe.bind(null,e.eventManager),e}(n);let i,r;const o=t.wc.get(e);if(o)i=o.targetId,t.sharedClientState.addLocalQueryTarget(i),r=o.view.lc();else{const s=yield function hh(n,e){const t=de(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Bs.getTargetData(i,e).next(o=>o?(r=o,L.resolve(r)):t.Bs.allocateTargetId(i).next(s=>(r=new pa(e,s,"TargetPurposeListen",i.currentSequenceNumber),t.Bs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.Ji.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(i.targetId,i),t.Yi.set(e,i.targetId)),i})}(t.localStore,wr(e)),a=t.sharedClientState.addLocalQueryTarget(s.targetId);i=s.targetId,r=yield function LP(n,e,t,i,r){return VP.apply(this,arguments)}(t,e,i,"current"===a,s.resumeToken),t.isPrimaryClient&&Q0(t.remoteStore,s)}return r}),FP.apply(this,arguments)}function VP(){return VP=b(function*(n,e,t,i,r){n.Rc=(d,h,f)=>{return(_=b(function*(C,I,O,M){let B=I.view.sc(O);B.zi&&(B=yield $0(C.localStore,I.query,!1).then(({documents:fe})=>I.view.sc(fe,B)));const Q=M&&M.targetChanges.get(I.targetId),ae=I.view.applyChanges(B,C.isPrimaryClient,Q);return KP(C,I.targetId,ae.cc),ae.snapshot}),function(C,I,O,M){return _.apply(this,arguments)})(n,d,h,f);var _};const o=yield $0(n.localStore,e,!0),s=new zq(e,o.ir),a=s.sc(o.documents),c=Wg.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,r),l=s.applyChanges(a,n.isPrimaryClient,c);KP(n,t,l.cc);const u=new BTe(e,t,s);return n.wc.set(e,u),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),l.snapshot}),VP.apply(this,arguments)}function HTe(n,e){return BP.apply(this,arguments)}function BP(){return BP=b(function*(n,e){const t=de(n),i=t.wc.get(e),r=t._c.get(i.targetId);if(r.length>1)return t._c.set(i.targetId,r.filter(o=>!Bg(o,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield fh(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),am(t.remoteStore,i.targetId),vh(t,i.targetId)}).catch(sc))):(vh(t,i.targetId),yield fh(t.localStore,i.targetId,!0))}),BP.apply(this,arguments)}function UP(){return UP=b(function*(n,e,t){const i=sR(n);try{const r=yield function(o,s){const a=de(o),c=Dn.now(),l=s.reduce((h,f)=>h.add(f.key),Qe());let u,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=Br(),_=Qe();return a.Zi.getEntries(h,l).next(C=>{f=C,f.forEach((I,O)=>{O.isValidDocument()||(_=_.add(I))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(C=>{u=C;const I=[];for(const O of s){const M=yIe(O,u.get(O.key).overlayedDocument);null!=M&&I.push(new fa(O.key,M,z7(M.value.mapValue),yn.exists(!0)))}return a.mutationQueue.addMutationBatch(h,c,I,s)}).next(C=>{d=C;const I=C.applyToLocalDocumentSet(u,_);return a.documentOverlayCache.saveOverlays(h,C.batchId,I)})}).then(()=>({batchId:d.batchId,changes:oG(u)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(o,s,a){let c=o.Tc[o.currentUser.toKey()];c||(c=new tn(Be)),c=c.insert(s,a),o.Tc[o.currentUser.toKey()]=c}(i,r.batchId,t),yield ga(i,r.changes),yield gh(i.remoteStore)}catch(r){const o=_h(r,"Failed to persist write");t.reject(o)}}),UP.apply(this,arguments)}function jq(n,e){return zP.apply(this,arguments)}function zP(){return zP=b(function*(n,e){const t=de(n);try{const i=yield function uTe(n,e){const t=de(n),i=e.snapshotVersion;let r=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=t.Zi.newChangeBuffer({trackRemovals:!0});r=t.Ji;const a=[];e.targetChanges.forEach((u,d)=>{const h=r.get(d);if(!h)return;a.push(t.Bs.removeMatchingKeys(o,u.removedDocuments,d).next(()=>t.Bs.addMatchingKeys(o,u.addedDocuments,d)));let f=h.withSequenceNumber(o.currentSequenceNumber);var _,C,I;null!==e.targetMismatches.get(d)?f=f.withResumeToken(mi.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):u.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(u.resumeToken,i)),r=r.insert(d,f),C=f,I=u,(0===(_=h).resumeToken.approximateByteSize()||C.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8||I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0)&&a.push(t.Bs.updateTargetData(o,f))});let c=Br(),l=Qe();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,u))}),a.push(function vq(n,e,t){let i=Qe(),r=Qe();return t.forEach(o=>i=i.add(o)),e.getEntries(n,i).next(o=>{let s=Br();return t.forEach((a,c)=>{const l=o.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(r=r.add(a)),c.isNoDocument()&&c.version.isEqual(we.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||0===c.version.compareTo(l.version)&&l.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):ne("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{nr:s,sr:r}})}(o,s,e.documentUpdates).next(u=>{c=u.nr,l=u.sr})),!i.isEqual(we.min())){const u=t.Bs.getLastRemoteSnapshotVersion(o).next(d=>t.Bs.setTargetsMetadata(o,o.currentSequenceNumber,i));a.push(u)}return L.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,c,l)).next(()=>c)}).then(o=>(t.Ji=r,o))}(t.localStore,e);e.targetChanges.forEach((r,o)=>{const s=t.yc.get(o);s&&(ve(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?s.fc=!0:r.modifiedDocuments.size>0?ve(s.fc):r.removedDocuments.size>0&&(ve(s.fc),s.fc=!1))}),yield ga(t,i,e)}catch(i){yield sc(i)}}),zP.apply(this,arguments)}function Hq(n,e,t){const i=de(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.wc.forEach((o,s)=>{const a=s.view.Mu(e);a.snapshot&&r.push(a.snapshot)}),function(o,s){const a=de(o);a.onlineState=s;let c=!1;a.queries.forEach((l,u)=>{for(const d of u.listeners)d.Mu(s)&&(c=!0)}),c&&RP(a)}(i.eventManager,e),r.length&&i.dc.nu(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function GTe(n,e,t){return jP.apply(this,arguments)}function jP(){return jP=b(function*(n,e,t){const i=de(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.yc.get(e),o=r&&r.key;if(o){let s=new tn(ce.comparator);s=s.insert(o,dn.newNoDocument(o,we.min()));const a=Qe().add(o),c=new qg(we.min(),new Map,new tn(Be),s,a);yield jq(i,c),i.gc=i.gc.remove(o),i.yc.delete(e),QP(i)}else yield fh(i.localStore,e,!1).then(()=>vh(i,e,t)).catch(sc)}),jP.apply(this,arguments)}function qTe(n,e){return HP.apply(this,arguments)}function HP(){return HP=b(function*(n,e){const t=de(n),i=e.batch.batchId;try{const r=yield function lTe(n,e){const t=de(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),o=t.Zi.newChangeBuffer({trackRemovals:!0});return function(s,a,c,l){const u=c.batch,d=u.keys();let h=L.resolve();return d.forEach(f=>{h=h.next(()=>l.getEntry(a,f)).next(_=>{const C=c.docVersions.get(f);ve(null!==C),_.version.compareTo(C)<0&&(u.applyToRemoteDocument(_,c),_.isValidDocument()&&(_.setReadTime(c.commitVersion),l.addEntry(_)))})}),h.next(()=>s.mutationQueue.removeMutationBatch(a,u))}(t,i,e,o).next(()=>o.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(s){let a=Qe();for(let c=0;c<s.mutationResults.length;++c)s.mutationResults[c].transformResults.length>0&&(a=a.add(s.batch.mutations[c].key));return a}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}(t.localStore,e);WP(t,i,null),qP(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield ga(t,r)}catch(r){yield sc(r)}}),HP.apply(this,arguments)}function WTe(n,e,t){return $P.apply(this,arguments)}function $P(){return $P=b(function*(n,e,t){const i=de(n);try{const r=yield function(o,s){const a=de(o);return a.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let l;return a.mutationQueue.lookupMutationBatch(c,s).next(u=>(ve(null!==u),l=u.keys(),a.mutationQueue.removeMutationBatch(c,u))).next(()=>a.mutationQueue.performConsistencyCheck(c)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(c,l,s)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,l)).next(()=>a.localDocuments.getDocuments(c,l))})}(i.localStore,e);WP(i,e,t),qP(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield ga(i,r)}catch(r){yield sc(r)}}),$P.apply(this,arguments)}function qP(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function WP(n,e,t){const i=de(n);let r=i.Tc[i.currentUser.toKey()];if(r){const o=r.get(e);o&&(t?o.reject(t):o.resolve(),r=r.remove(e)),i.Tc[i.currentUser.toKey()]=r}}function vh(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n._c.get(e))n.wc.delete(i),t&&n.dc.Pc(i,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(i=>{n.Ic.containsKey(i)||$q(n,i)})}function $q(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(am(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),QP(n))}function KP(n,e,t){for(const i of t)i instanceof Bq?(n.Ic.addReference(i.key,e),QTe(n,i)):i instanceof Uq?(ne("SyncEngine","Document no longer in limbo: "+i.key),n.Ic.removeReference(i.key,e),n.Ic.containsKey(i.key)||$q(n,i.key)):ge()}function QTe(n,e){const t=e.key,i=t.path.canonicalString();n.gc.get(t)||n.mc.has(i)||(ne("SyncEngine","New document in limbo: "+t),n.mc.add(i),QP(n))}function QP(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new ce(xt.fromString(e)),i=n.Ac.next();n.yc.set(i,new UTe(t)),n.gc=n.gc.insert(t,i),Q0(n.remoteStore,new pa(wr(ih(t.path)),i,"TargetPurposeLimboResolution",Jr.ct))}}function ga(n,e,t){return YP.apply(this,arguments)}function YP(){return YP=b(function*(n,e,t){const i=de(n),r=[],o=[],s=[];var a;i.wc.isEmpty()||(i.wc.forEach((a,c)=>{s.push(i.Rc(c,e,t).then(l=>{if((l||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(c.targetId,l?.fromCache?"not-current":"current"),l){r.push(l);const u=eP.Li(c.targetId,l);o.push(u)}}))}),yield Promise.all(s),i.dc.nu(r),yield(a=b(function*(c,l){const u=de(c);try{yield u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>L.forEach(l,h=>L.forEach(h.Fi,f=>u.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>L.forEach(h.Bi,f=>u.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!ac(d))throw d;ne("LocalStore","Failed to update sequence numbers: "+d)}for(const d of l){const h=d.targetId;if(!d.fromCache){const f=u.Ji.get(h),C=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);u.Ji=u.Ji.insert(h,C)}}}),function(c,l){return a.apply(this,arguments)})(i.localStore,o))}),YP.apply(this,arguments)}function YTe(n,e){return XP.apply(this,arguments)}function XP(){return XP=b(function*(n,e){const t=de(n);if(!t.currentUser.isEqual(e)){ne("SyncEngine","User change. New user:",e.toKey());const i=yield bq(t.localStore,e);t.currentUser=e,(r=t).Ec.forEach(s=>{s.forEach(a=>{a.reject(new X(V.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.Ec.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield ga(t,i.er)}var r}),XP.apply(this,arguments)}function XTe(n,e){const t=de(n),i=t.yc.get(e);if(i&&i.fc)return Qe().add(i.key);{let r=Qe();const o=t._c.get(e);if(!o)return r;for(const s of o){const a=t.wc.get(s);r=r.unionWith(a.view.nc)}return r}}function sR(n){const e=de(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=qTe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=WTe.bind(null,e),e}class cm{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return b(function*(){t.serializer=om(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return _q(this.persistence,new mq,e.initialUser,this.serializer)}createPersistence(e){return new YO(z0.zs,this.serializer)}createSharedClientState(e){return new Tq}terminate(){var e=this;return b(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Wq extends cm{constructor(e,t,i){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return b(function*(){yield t().call(i,e),yield i.Vc.initialize(i,e),yield sR(i.Vc.syncEngine),yield gh(i.Vc.remoteStore),yield i.persistence.Ii(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return _q(this.persistence,new mq,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new aq(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const i=new O1e(t,this.persistence);return new k1e(e.asyncQueue,i)}createPersistence(e){const t=function JO(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?sr.withCacheSize(this.cacheSizeBytes):sr.DEFAULT;return new ZO(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,function Mq(){return typeof window<"u"?window:null}(),K0(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Tq}}class wh{initialize(e,t){var i=this;return b(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>Hq(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=YTe.bind(null,i.syncEngine),yield function DP(n,e){return MP.apply(this,arguments)}(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new RTe}createDatastore(e){const t=om(e.databaseInfo.databaseId),i=new _Te(e.databaseInfo);return new vTe(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,o=a=>Hq(this.syncEngine,a,0),s=Dq.D()?new Dq:new pTe,new CTe(t,i,r,o,s);var t,i,r,o,s}createSyncEngine(e,t){return function(i,r,o,s,a,c,l){const u=new zTe(i,r,o,s,a,c);return l&&(u.vc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=b(function*(t){const i=de(t);ne("RemoteStore","RemoteStore shutting down."),i.vu.add(5),yield ph(i),i.Pu.shutdown(),i.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class X0{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Kn("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class uDe{constructor(e,t,i,r){var o=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=Di.UNAUTHENTICATED,this.clientId=_7.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var s=b(function*(a){ne("FirestoreClient","Received user=",a.uid),yield o.authCredentialListener(a),o.user=a});return function(a){return s.apply(this,arguments)}}()),this.appCheckCredentials.start(i,s=>(ne("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}getConfiguration(){var e=this;return b(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new X(V.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new gi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(b(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=_h(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function Z0(n,e){return aR.apply(this,arguments)}function aR(){return aR=b(function*(n,e){n.asyncQueue.verifyOperationInProgress(),ne("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=b(function*(o){i.isEqual(o)||(yield bq(e.localStore,o),i=o)});return function(o){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),aR.apply(this,arguments)}function cR(n,e){return lR.apply(this,arguments)}function lR(){return lR=b(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function uR(n){return dR.apply(this,arguments)}(n);ne("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>Nq(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>Nq(e.remoteStore,o)),n._onlineComponents=e}),lR.apply(this,arguments)}function Yq(n){return"FirebaseError"===n.name?n.code===V.FAILED_PRECONDITION||n.code===V.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function dR(){return dR=b(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ne("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Z0(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!Yq(t))throw t;jo("Error using user provided cache. Falling back to memory cache: "+t),yield Z0(n,new cm)}}else ne("FirestoreClient","Using default OfflineComponentProvider"),yield Z0(n,new cm);return n._offlineComponents}),dR.apply(this,arguments)}function J0(n){return hR.apply(this,arguments)}function hR(){return hR=b(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ne("FirestoreClient","Using user provided OnlineComponentProvider"),yield cR(n,n._uninitializedComponentsProvider._online)):(ne("FirestoreClient","Using default OnlineComponentProvider"),yield cR(n,new wh))),n._onlineComponents}),hR.apply(this,arguments)}function pR(){return pR=b(function*(n){const e=yield J0(n),t=e.eventManager;return t.onListen=jTe.bind(null,e.syncEngine),t.onUnlisten=HTe.bind(null,e.syncEngine),t}),pR.apply(this,arguments)}function tW(n,e,t={}){const i=new gi;return n.asyncQueue.enqueueAndForget(b(function*(){return function(r,o,s,a,c){const l=new X0({next:d=>{o.enqueueAndForget(()=>function OP(n,e){return PP.apply(this,arguments)}(r,u)),d.fromCache&&"server"===a.source?c.reject(new X(V.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(d)},error:d=>c.reject(d)}),u=new NP(s,l,{includeMetadataChanges:!0,Ku:!0});return function SP(n,e){return kP.apply(this,arguments)}(r,u)}(yield function xh(n){return pR.apply(this,arguments)}(n),n.asyncQueue,e,t,i)})),i.promise}function nW(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const iW=new Map;function gR(n,e,t){if(!t)throw new X(V.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function rW(n){if(!ce.isDocumentKey(n))throw new X(V.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function oW(n){if(ce.isDocumentKey(n))throw new X(V.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function tw(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":ge()}function bt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new X(V.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=tw(n);throw new X(V.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class aW{constructor(e){var t,i;if(void 0===e.host){if(void 0!==e.ssl)throw new X(V.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new X(V.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function yDe(n,e,t,i){if(!0===e&&!0===i)throw new X(V.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=nW(null!==(i=e.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(r){if(void 0!==r.timeoutSeconds){if(isNaN(r.timeoutSeconds))throw new X(V.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new X(V.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new X(V.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class lm{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new aW({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new X(V.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new X(V.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new aW(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new y1e;switch(t.type){case"firstParty":return new C1e(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new X(V.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=iW.get(e);t&&(ne("ComponentProvider","Removing Datastore"),iW.delete(e),t.terminate())}(this),Promise.resolve()}}class Xn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new As(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Xn(this.firestore,e,this._key)}}class Wi{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Wi(this.firestore,e,this._query)}}class As extends Wi{constructor(e,t,i){super(e,t,ih(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Xn(this.firestore,null,new ce(e))}withConverter(e){return new As(this.firestore,e,this._path)}}function wDe(n,e,...t){if(n=bn(n),gR("collection","path",e),n instanceof lm){const i=xt.fromString(e,...t);return oW(i),new As(n,null,i)}{if(!(n instanceof Xn||n instanceof As))throw new X(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(xt.fromString(e,...t));return oW(i),new As(n.firestore,null,i)}}function cW(n,e,...t){if(n=bn(n),1===arguments.length&&(e=_7.A()),gR("doc","path",e),n instanceof lm){const i=xt.fromString(e,...t);return rW(i),new Xn(n,null,new ce(i))}{if(!(n instanceof Xn||n instanceof As))throw new X(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(xt.fromString(e,...t));return rW(i),new Xn(n.firestore,n instanceof As?n.converter:null,new ce(i))}}class xDe{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new uP(this,"async_queue_retry"),this.Xc=()=>{const t=K0();t&&ne("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=K0();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=K0();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new gi;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return b(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!ac(t))throw t;ne("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(i=>{throw this.Wc=i,this.Hc=!1,Kn("INTERNAL UNHANDLED ERROR: ",function(o){let s=o.message||"";return o.stack&&(s=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),s}(i)),i}).then(i=>(this.Hc=!1,i))));return this.Gc=t,t}enqueueAfterDelay(e,t,i){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const r=AP.createAndSchedule(this,e,t,i,o=>this.na(o));return this.zc.push(r),r}Zc(){this.Wc&&ge()}verifyOperationInProgress(){}sa(){var e=this;return b(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}class hn extends lm{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new xDe,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||uW(this),this._firestoreClient.terminate()}}function EDe(n,e){const i="string"==typeof n?n:e||"(default)",r=Qa("object"==typeof n?n:Fp(),"firestore").getImmediate({identifier:i});if(!r._initialized){const o=LT("firestore");o&&function vDe(n,e,t,i={}){var r;const o=(n=bt(n,lm))._getSettings(),s=`${e}:${t}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&jo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),i.mockUserToken){let a,c;if("string"==typeof i.mockUserToken)a=i.mockUserToken,c=Di.MOCK_USER;else{a=t9(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const l=i.mockUserToken.sub||i.mockUserToken.user_id;if(!l)throw new X(V.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Di(l)}n._authCredentials=new v1e(new g7(a,c))}}(r,...o)}return r}function oi(n){return n._firestoreClient||uW(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function uW(n){var e,t,i;const r=n._freezeSettings(),o=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Z1e(n._databaseId,a,n._persistenceKey,(l=r).host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,nW(l.experimentalLongPollingOptions),l.useFetchStreams));var a,l;n._firestoreClient=new uDe(n._authCredentials,n._appCheckCredentials,n._queue,o),null!==(t=r.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(i=r.cache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}function IDe(n,e){!function hW(n){if(n._initialized||n._terminated)throw new X(V.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}(n=bt(n,hn));const t=oi(n);if(t._uninitializedComponentsProvider)throw new X(V.FAILED_PRECONDITION,"SDK cache is already specified.");jo("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),r=new wh;return function dW(n,e,t){const i=new gi;return n.asyncQueue.enqueue(b(function*(){try{yield Z0(n,t),yield cR(n,e),i.resolve()}catch(r){const o=r;if(!Yq(o))throw o;jo("Error enabling indexeddb cache. Falling back to memory cache: "+o),i.reject(o)}})).then(()=>i.promise)}(t,r,new Wq(r,i.cacheSizeBytes,e?.forceOwnership))}class jl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new jl(mi.fromBase64String(e))}catch(t){throw new X(V.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new jl(mi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ch{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new X(V.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class _R{constructor(e){this._methodName=e}}class bR{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new X(V.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new X(V.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Be(this._lat,e._lat)||Be(this._long,e._long)}}const DDe=/^__.*__$/;class MDe{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new fa(e,this.data,this.fieldMask,t,this.fieldTransforms):new sh(e,this.data,t,this.fieldTransforms)}}class fW{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new fa(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function pW(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ge()}}class nw{constructor(e,t,i,r,o,s){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===o&&this.ua(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new nw(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:i,la:!1});return r.fa(e),r}da(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:i,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return rw(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(pW(this.ca)&&DDe.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class ADe{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||om(e)}ya(e,t,i,r=!1){return new nw({ca:e,methodName:t,ga:i,path:Qn.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Eh(n){const e=n._freezeSettings(),t=om(n._databaseId);return new ADe(n._databaseId,!!e.ignoreUndefinedProperties,t)}function yR(n,e,t,i,r,o={}){const s=n.ya(o.merge||o.mergeFields?2:0,e,t,r);wR("Data must be an object, but it was:",s,i);const a=yW(i,s);let c,l;if(o.merge)c=new Vr(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){const u=[];for(const d of o.mergeFields){const h=hm(e,d,t);if(!s.contains(h))throw new X(V.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);wW(u,h)||u.push(h)}c=new Vr(u),l=s.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,l=s.fieldTransforms;return new MDe(new qi(a),c,l)}class dm extends _R{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof dm}}function Hl(n,e){if(vW(n=bn(n)))return wR("Unsupported field value:",e,n),yW(n,e);if(n instanceof _R)return function(t,i){if(!pW(i.ca))throw i._a(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i._a(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,i){const r=[];let o=0;for(const s of t){let a=Hl(s,i.wa(o));null==a&&(a={nullValue:"NULL_VALUE"}),r.push(a),o++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=bn(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return lG(i.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=Dn.fromDate(t);return{timestampValue:ch(i.serializer,r)}}if(t instanceof Dn){const r=new Dn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:ch(i.serializer,r)}}if(t instanceof bR)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof jl)return{bytesValue:SG(i.serializer,t._byteString)};if(t instanceof Xn){const r=i.databaseId,o=t.firestore._databaseId;if(!o.isEqual(r))throw i._a(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:VO(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i._a(`Unsupported field value: ${tw(t)}`)}(n,e)}function yW(n,e){const t={};return O7(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):cc(n,(i,r)=>{const o=Hl(r,e.ha(i));null!=o&&(t[i]=o)}),{mapValue:{fields:t}}}function vW(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Dn||n instanceof bR||n instanceof jl||n instanceof Xn||n instanceof _R)}function wR(n,e,t){if(!vW(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=tw(t);throw e._a("an object"===i?n+" a custom object":n+" "+i)}var i}function hm(n,e,t){if((e=bn(e))instanceof Ch)return e._internalPath;if("string"==typeof e)return iw(n,e);throw rw("Field path arguments must be of type string or ",n,!1,void 0,t)}const PDe=new RegExp("[~\\*/\\[\\]]");function iw(n,e,t){if(e.search(PDe)>=0)throw rw(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ch(...e.split("."))._internalPath}catch{throw rw(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function rw(n,e,t,i,r){const o=i&&!i.isEmpty(),s=void 0!==r;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${i}`),s&&(c+=` in document ${r}`),c+=")"),new X(V.INVALID_ARGUMENT,a+n+c)}function wW(n,e){return n.some(t=>t.isEqual(e))}class xR{constructor(e,t,i,r,o){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Xn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new RDe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ow("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class RDe extends xR{data(){return super.data()}}function ow(n,e){return"string"==typeof e?iw(n,e):e instanceof Ch?e._internalPath:e._delegate._internalPath}class CR{}class NDe extends CR{}function FDe(n,e,...t){let i=[];e instanceof CR&&i.push(e),i=i.concat(t),function(r){const o=r.filter(a=>a instanceof Ih).length,s=r.filter(a=>a instanceof fm).length;if(o>1||o>0&&s>0)throw new X(V.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class fm extends NDe{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new fm(e,t,i)}_apply(e){const t=this._parse(e);return TW(e._query,t),new Wi(e.firestore,e.converter,MO(e._query,t))}_parse(e){const t=Eh(e.firestore);return function(r,o,s,a,c,l,u){let d;if(c.isKeyField()){if("array-contains"===l||"array-contains-any"===l)throw new X(V.INVALID_ARGUMENT,`Invalid Query. You can't perform '${l}' queries on documentId().`);if("in"===l||"not-in"===l){IW(u,l);const h=[];for(const f of u)h.push(EW(a,r,f));d={arrayValue:{values:h}}}else d=EW(a,r,u)}else"in"!==l&&"not-in"!==l&&"array-contains-any"!==l||IW(u,l),d=function bW(n,e,t,i=!1){return Hl(t,n.ya(i?4:3,e))}(s,"where",u,"in"===l||"not-in"===l);return pt.create(c,l,d)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}function LDe(n,e,t){const i=e,r=ow("where",n);return fm._create(r,i,t)}class Ih extends CR{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Ih(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:Lt.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,r){let o=i;const s=r.getFlattenedFilters();for(const a of s)TW(o,a),o=MO(o,a)}(e._query,t),new Wi(e.firestore,e.converter,MO(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function EW(n,e,t){if("string"==typeof(t=bn(t))){if(""===t)throw new X(V.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!DO(e)&&-1!==t.indexOf("/"))throw new X(V.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(xt.fromString(t));if(!ce.isDocumentKey(i))throw new X(V.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Sl(n,new ce(i))}if(t instanceof Xn)return Sl(n,t._key);throw new X(V.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${tw(t)}.`)}function IW(n,e){if(!Array.isArray(n)||0===n.length)throw new X(V.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function TW(n,e){if(e.isInequality()){const i=T0(n),r=e.field;if(null!==i&&!i.isEqual(r))throw new X(V.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const o=TO(n);null!==o&&function DW(n,e,t){if(!t.isEqual(e))throw new X(V.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}(0,r,o)}const t=function(i,r){for(const o of i)for(const s of o.getFlattenedFilters())if(r.indexOf(s.op)>=0)return s.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new X(V.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class VDe{convertValue(e,t="none"){switch(dc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Nn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ua(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ge()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return cc(e,(r,o)=>{i[r]=this.convertValue(o,t)}),i}convertGeoPoint(e){return new bR(Nn(e.latitude),Nn(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=v0(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Rg(e));default:return null}}convertTimestamp(e){const t=lc(e);return new Dn(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=xt.fromString(e);ve(UG(i));const r=new Al(i.get(1),i.get(3)),o=new ce(i.popFirst(5));return r.isEqual(t)||Kn(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}class $l{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Th extends xR{constructor(e,t,i,r,o,s){super(e,t,i,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new lw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(ow("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class lw extends Th{data(e={}){return super.data(e)}}class Dh{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new $l(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new lw(this._firestore,this._userDataWriter,i.key,i,new $l(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new X(V.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(s=>({type:"added",doc:new lw(i._firestore,i._userDataWriter,s.doc.key,s.doc,new $l(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(s=>r||3!==s.type).map(s=>{const a=new lw(i._firestore,i._userDataWriter,s.doc.key,s.doc,new $l(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,l=-1;return 0!==s.type&&(c=o.indexOf(s.doc.key),o=o.delete(s.doc.key)),1!==s.type&&(o=o.add(s.doc),l=o.indexOf(s.doc.key)),{type:UDe(s.type),doc:a,oldIndex:c,newIndex:l}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function UDe(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ge()}}class vc extends VDe{constructor(e){super(),this.firestore=e}convertBytes(e){return new jl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Xn(this.firestore,null,t)}}function zDe(n){n=bt(n,Wi);const e=bt(n.firestore,hn),t=oi(e),i=new vc(e);return function xW(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new X(V.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query),tW(t,n._query).then(r=>new Dh(e,i,n,r))}function jDe(n,e,t){n=bt(n,Xn);const i=bt(n.firestore,hn),r=function IR(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}(n.converter,e,t);return pm(i,[yR(Eh(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,yn.none())])}function HDe(n,e,t,...i){n=bt(n,Xn);const r=bt(n.firestore,hn),o=Eh(r);let s;return s="string"==typeof(e=bn(e))||e instanceof Ch?function _W(n,e,t,i,r,o){const s=n.ya(1,e,t),a=[hm(e,i,t)],c=[r];if(o.length%2!=0)throw new X(V.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)a.push(hm(e,o[h])),c.push(o[h+1]);const l=[],u=qi.empty();for(let h=a.length-1;h>=0;--h)if(!wW(l,a[h])){const f=a[h];let _=c[h];_=bn(_);const C=s.da(f);if(_ instanceof dm)l.push(f);else{const I=Hl(_,C);null!=I&&(l.push(f),u.set(f,I))}}const d=new Vr(l);return new fW(u,d,s.fieldTransforms)}(o,"updateDoc",n._key,e,t,i):function mW(n,e,t,i){const r=n.ya(1,e,t);wR("Data must be an object, but it was:",r,i);const o=[],s=qi.empty();cc(i,(c,l)=>{const u=iw(e,c,t);l=bn(l);const d=r.da(u);if(l instanceof dm)o.push(u);else{const h=Hl(l,d);null!=h&&(o.push(u),s.set(u,h))}});const a=new Vr(o);return new fW(s,a,r.fieldTransforms)}(o,"updateDoc",n._key,e),pm(r,[s.toMutation(n._key,yn.exists(!0))])}function $De(n){return pm(bt(n.firestore,hn),[new ah(n._key,yn.none())])}function pm(n,e){return function(t,i){const r=new gi;return t.asyncQueue.enqueueAndForget(b(function*(){return function $Te(n,e,t){return UP.apply(this,arguments)}(yield function fR(n){return J0(n).then(e=>e.syncEngine)}(t),i,r)})),r.promise}(oi(n),e)}!function(n,e=!0){Xd=Ya,Bi(new wi("firestore",(t,{instanceIdentifier:i,options:r})=>{const o=t.getProvider("app").getImmediate(),s=new hn(new w1e(t.getProvider("auth-internal")),new E1e(t.getProvider("app-check-internal")),function(a,c){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new X(V.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Al(a.options.projectId,c)}(o,i),o);return r=Object.assign({useFetchStreams:e},r),s._setSettings(r),s},"PUBLIC").setMultipleInstances(!0)),zt(p7,"3.13.0",n),zt(p7,"3.13.0","esm2017")}();class ht{constructor(e){return e}}const SW="firestore",DR=new Y("angularfire2.firestore-instances");function rMe(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new ht(i)}}const oMe={provide:class nMe{constructor(){return jp(SW)}},deps:[[new Xt,DR]]},sMe={provide:ht,useFactory:function iMe(n,e){const t=zp(SW,n,e);return t&&new ht(t)},deps:[[new Xt,DR],Za]};let aMe=(()=>{class n{constructor(){zt("angularfire",Vd.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=et({type:n}),n.\u0275inj=Ze({providers:[sMe,oMe]}),n})();function cMe(n,...e){return{ngModule:aMe,providers:[{provide:DR,useFactory:rMe(n),multi:!0,deps:[Te,jt,Hp,$p,[new Xt,Bv],[new Xt,Wp],...e]}]}}const De=Ci(wDe,!0),Fn=Ci($De,!0),Ae=Ci(cW,!0),lMe=Ci(IDe,!0),me=Ci(zDe,!0),uMe=Ci(EDe,!0),fn=Ci(FDe,!0),xr=Ci(jDe,!0),Cr=Ci(HDe,!0),nn=Ci(LDe,!0);let MR,dMe=(()=>{class n{constructor(t,i,r){this.auth=t,this.router=i,this.firestore=r,this.data=[],this.nid=1,this.getData()}getData(){const t=De(this.firestore,"users");me(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}Signup(){this.router.navigate(["/auth/signup"])}Salir(){ji(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}handleLogin(t){var i=this;return b(function*(){let r;dEe(i.auth,t.email,t.password).then(function(){var o=b(function*(s){i.current=s.user.email,r=s.user.email;const a=fn(De(i.firestore,"users"),nn("email","==",r));console.log(i.auth.currentUser?.email),(yield me(a)).forEach(l=>{console.log(l.id," => ",l.data());let u=l.data();console.log(u.role),"Adminitrador"==u.role?i.router.navigate(["/admin"]):"Investigador"==u.role?i.router.navigate(["/user/unidad-produccion-all"]):"Cliente"==u.role&&i.router.navigate(["/client/unidad-produccion-all"])})});return function(s){return o.apply(this,arguments)}}()).catch(o=>{alert(o.message)})})()}static#e=this.\u0275fac=function(i){return new(i||n)(E(We),E(Se),E(ht))};static#t=this.\u0275cmp=Me({type:n,selectors:[["app-login"]],decls:18,vars:0,consts:[[1,"salir",3,"click"],[1,"loginBox"],[1,"loginTile"],[1,"lineBlack"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"userText"],["name","email","ngModel","","placeholder","Email","id","email","type","email",1,"input-field"],[1,"claveText"],["name","password","ngModel","","placeholder","Password","id","password","type","password",1,"input-field"],[1,"boton"]],template:function(i,r){if(1&i){const o=It();g(0,"button",0),ee("click",function(){return r.Salir()}),p(),ie(1,"div",1),g(2,"span",2),w(3,"Iniciar Sesi\xf3n"),p(),ie(4,"div",3),g(5,"form",4,5),ee("ngSubmit",function(){Le(o);const a=In(6);return Ve(r.handleLogin(a.value))}),g(7,"div",6)(8,"div",7)(9,"span",8),w(10,"Email: "),p(),ie(11,"input",9),p(),g(12,"div",7)(13,"span",10),w(14,"Clave: "),p(),ie(15,"input",11),p(),g(16,"button",12),w(17,"Log In"),p()()()}},dependencies:[ni,tr,Rr,ti,br,kn],styles:[".input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.main[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;width:450px;height:250px;position:absolute;top:38%;left:50%;transform:translate(-50%)}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:450px;height:250px;position:absolute;top:38%;left:50%;transform:translate(-50%)}.loginTile[_ngcontent-%COMP%]{color:#000;width:450px;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;top:39.5%;left:50%;transform:translate(-50%)}.lineBlack[_ngcontent-%COMP%]{width:448px;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);top:45%;left:50%;transform:translate(-50%)}#email[_ngcontent-%COMP%]{width:300px;height:26px;margin-left:5px}.userText[_ngcontent-%COMP%]{color:#000;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0}#password[_ngcontent-%COMP%]{width:300px;height:26px;margin-left:5px}.claveText[_ngcontent-%COMP%]{color:#000;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;width:80px;height:35px;border-width:0;border-radius:30px;font-size:16px;position:absolute;left:72%;top:75%}.botonText[_ngcontent-%COMP%]{color:#fff;width:80px;height:35px;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;position:absolute;left:72%;top:75%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.main[_ngcontent-%COMP%]{display:flex;width:100vw;height:100vh;justify-content:center;align-items:center;flex-direction:column}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:40%;transform:none;position:absolute;left:15%;top:35%}.loginTile[_ngcontent-%COMP%]{color:#000;width:75%;height:20%;transform:none;position:absolute;font-family:Arial;text-align:center;font-size:24px;letter-spacing:0;left:15%;top:37%}.lineBlack[_ngcontent-%COMP%]{width:75%;height:0px;transform:none;position:absolute;border:1px solid rgba(0,0,0,1);left:15%;top:43%}#email[_ngcontent-%COMP%]{width:60%;height:3%;position:absolute;left:18%;top:11%}.userText[_ngcontent-%COMP%]{color:#000;width:10%;height:5%;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;position:absolute;left:20%;top:7%}#password[_ngcontent-%COMP%]{width:60%;height:3%;position:absolute;transform:none;left:18%;top:21%}.claveText[_ngcontent-%COMP%]{color:#000;width:10%;height:3%;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;transform:none;position:absolute;left:20%;top:17%}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;border-width:0;border-radius:30px;font-size:16px;transform:none;position:absolute;left:60%;top:27%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:14px;letter-spacing:0;left:60%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:15%;left:0%;top:0%}}"]})}return n})(),hMe=(()=>{class n{constructor(t,i,r){this.auth=t,this.firestore=i,this.router=r,this.title="gestion-de-muestras-de-campo",this.data=[],this.getData()}Login(){this.router.navigate(["/auth/login"])}handleRegister(t){uEe(this.auth,t.email,t.password).then(i=>{console.log(i.user)}).catch(i=>{alert(i.message)}),this.addData(t),this.Login()}addData(t){const i=Ae(this.firestore,"users",t.email);t.password==t.confirmpassword?"Invetigador"==t.role||"Cliente"==t.role?xr(i,{email:t.email,role:t.role,password:t.password}).then(()=>{alert("Data Sent")}).catch(r=>{alert(r.message)}):alert("Rol no reconocido"):alert("Claves No Iguales")}getData(){const t=De(this.firestore,"users");me(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}Salir(){ji(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}static#e=this.\u0275fac=function(i){return new(i||n)(E(We),E(ht),E(Se))};static#t=this.\u0275cmp=Me({type:n,selectors:[["app-signup"]],decls:29,vars:0,consts:[[1,"loginBox"],[1,"loginTile"],[1,"lineBlack"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"userText"],["name","email","ngModel","","placeholder","Email","id","email","type","email",1,"input-field"],[1,"roleText"],["list","roles","name","role","ngModel","","placeholder","Roles","id","role","type","role",1,"input-field"],["id","roles"],["value","Investigador"],["value","Cliente"],[1,"claveText"],["name","password","ngModel","","placeholder","Clave","id","password","type","password",1,"input-field"],[1,"clave2Text"],["name","confirmpassword","ngModel","","placeholder","Confirmar Clave","id","confirmpassword","type","password",1,"input-field"],[1,"boton"],[1,"salir",3,"click"]],template:function(i,r){if(1&i){const o=It();ie(0,"div",0),g(1,"span",1),w(2,"Registrar"),p(),ie(3,"div",2),g(4,"form",3,4),ee("ngSubmit",function(){Le(o);const a=In(5);return Ve(r.handleRegister(a.value))}),g(6,"div",5)(7,"div",6)(8,"span",7),w(9,"Email:"),p(),ie(10,"input",8),p(),g(11,"div",6)(12,"span",9),w(13,"Roles:"),p(),ie(14,"input",10),g(15,"datalist",11),ie(16,"option",12)(17,"option",13),p()(),g(18,"div",6)(19,"span",14),w(20,"Clave:"),p(),ie(21,"input",15),p(),g(22,"div",6)(23,"span",16),w(24,"Confirmar Clave:"),p(),ie(25,"input",17),p(),g(26,"button",18),w(27,"Sign Up"),p()()(),g(28,"button",19),ee("click",function(){return r.Salir()}),p()}},dependencies:[ni,My,Ay,tr,Rr,ti,br,kn],styles:[".input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}.main[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;width:600px;height:400px;position:absolute;top:37%;left:50%;transform:translate(-50%)}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:600px;height:400px;position:absolute;top:37%;left:50%;transform:translate(-50%)}.loginTile[_ngcontent-%COMP%]{color:#000;width:600px;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;top:39.5%;left:50%;transform:translate(-50%)}.lineBlack[_ngcontent-%COMP%]{width:600px;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);top:45%;left:50%;transform:translate(-50%)}#email[_ngcontent-%COMP%]{width:300px;height:26px;margin-left:5px}.userText[_ngcontent-%COMP%]{color:#000;margin-left:93px;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0}#password[_ngcontent-%COMP%]{width:300px;height:26px;margin-left:5px}.claveText[_ngcontent-%COMP%]{color:#000;margin-left:93px;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0}#role[_ngcontent-%COMP%]{width:300px;height:26px;margin-left:5px}.roleText[_ngcontent-%COMP%]{color:#000;margin-left:93px;width:150px;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0}#confirmpassword[_ngcontent-%COMP%]{width:300px;height:26px;margin-left:5px}.clave2Text[_ngcontent-%COMP%]{color:#000;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;width:80px;height:35px;border-width:0;border-radius:30px;font-size:16px;position:absolute;left:72%;top:75%}.botonText[_ngcontent-%COMP%]{color:#fff;width:80px;height:35px;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;position:absolute;left:72%;top:75%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.main[_ngcontent-%COMP%]{display:flex;width:100vw;height:100vh;justify-content:center;align-items:center;flex-direction:column;top:0%}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:65%;transform:none;position:absolute;left:15%;top:25%}.loginTile[_ngcontent-%COMP%]{color:#000;width:75%;height:20%;transform:none;position:absolute;font-family:Arial;text-align:center;font-size:24px;letter-spacing:0;left:16%;top:26%}.lineBlack[_ngcontent-%COMP%]{width:75%;height:0px;transform:none;position:absolute;border:1px solid rgba(0,0,0,1);left:15%;top:32%}#email[_ngcontent-%COMP%]{width:60%;height:3%;position:absolute;left:20%;top:40%}.userText[_ngcontent-%COMP%]{color:#000;width:10%;height:5%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:0%;top:35%}#role[_ngcontent-%COMP%]{width:30%;height:3%;position:absolute;left:20%;top:60%}.roleText[_ngcontent-%COMP%]{color:#000;width:15%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:0%;top:55%}#password[_ngcontent-%COMP%]{width:60%;height:3%;position:absolute;left:20%;top:50%}.claveText[_ngcontent-%COMP%]{color:#000;width:10%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:0%;top:45%}#confirmpassword[_ngcontent-%COMP%]{width:60%;height:3%;position:absolute;left:20%;top:70%}.clave2Text[_ngcontent-%COMP%]{color:#000;width:60%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:20%;top:65%}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:60%;top:74}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:14px;letter-spacing:0;left:60%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:15%;left:0%;top:0%}}"]})}return n})();try{MR=typeof Intl<"u"&&Intl.v8BreakIterator}catch{MR=!1}let gm,Gl,AR,Si=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?fy(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!MR)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(i){return new(i||n)($(so))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function mm(n){return function fMe(){if(null==gm&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>gm=!0}))}finally{gm=gm||!1}return gm}()?n:!!n.capture}function pMe(){if(null==Gl){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Gl=!1,Gl;if("scrollBehavior"in document.documentElement.style)Gl=!0;else{const n=Element.prototype.scrollTo;Gl=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Gl}function SR(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function wc(n){return n.composedPath?n.composedPath()[0]:n.target}function kR(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}const _Me=[{path:"auth",component:X$,children:[{path:"login",component:dMe},{path:"signup",component:hMe},{path:"select",component:(()=>{class n{constructor(t,i,r){this.auth=t,this.router=i,this.platform=r,this.hidInstText=!0,this.hidInstBut=!0,this.platform.IOS&&(this.hidInstText=!1,this.hidInstBut=!0),this.platform.ANDROID&&(this.hidInstText=!0,this.hidInstBut=!1),window.addEventListener("appinstalled",()=>{this.disableInAppInstallPrompt()}),window.addEventListener("beforeinstallprompt",o=>{o.preventDefault(),this.promptEvent=o,console.log("promptEvent")})}disableInAppInstallPrompt(){this.hidInstBut=!0}Credits(){this.router.navigate(["/auth/credits"])}Login(){this.router.navigate(["/auth/login"])}Signup(){this.router.navigate(["/auth/signup"])}installPwa(){this.promptEvent.prompt()}static#e=this.\u0275fac=function(i){return new(i||n)(E(We),E(Se),E(Si))};static#t=this.\u0275cmp=Me({type:n,selectors:[["app-select"]],decls:21,vars:2,consts:[[1,"creditBox",3,"click"],[1,"creditText"],[1,"creditLogo"],[1,"base"],[1,"installButton",3,"hidden","click"],[1,"install",3,"hidden"],["id","share","src","../../../../assets/share.png","alt","share"],[1,"infoText"],[1,"footer"],[1,"footerText"],[1,"logoCiens"]],template:function(i,r){1&i&&(g(0,"div",0),ee("click",function(){return r.Credits()}),g(1,"span",1),w(2,"Creditos"),p(),ie(3,"div",2),p(),g(4,"div",3)(5,"div")(6,"button",4),ee("click",function(){return r.installPwa()}),w(7,"Instalar"),p()(),g(8,"div",5)(9,"span"),w(10,"Para instalar en tu dispositivo m\xf3vil, pulsa el boton de inicio \u201cCompartir\u201d "),ie(11,"img",6),w(12," y selecionar \u201cAgregar a Inicio\u201d"),p()(),g(13,"div",7)(14,"span"),w(15," El sistema de Gestion de Muestras de Campo es un proyecto que ha tenido como primer objetivo desarrollar una Aplicaci\xf3n Web Progresiva para la gesti\xf3n de muestras de campo de la Cl\xednica de Enfermedades de Plantas de la Universidad Central de Venezuela "),p()(),g(16,"div",8)(17,"div",9)(18,"span"),w(19,"Universidad Central de Venezuela (UCV) \xb7 Facultad Ciencias"),p()(),ie(20,"div",10),p()()),2&i&&(H(6),Jn("hidden",r.hidInstBut),H(2),Jn("hidden",r.hidInstText))},styles:[".main[_ngcontent-%COMP%]{display:flex;height:100vh;justify-content:center;align-items:center;flex-direction:column}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#login[_ngcontent-%COMP%]{top:20%;position:absolute}#signup[_ngcontent-%COMP%]{top:40%;position:absolute}#login[_ngcontent-%COMP%]{background-color:#3ec28f;box-shadow:2px 2px 5px #000;width:600px;height:150px;position:absolute;top:25%;left:50%;transform:translate(-50%);border-radius:30px;border-width:0;color:#fff;font-family:Arial;text-align:center;font-size:64px;letter-spacing:0}#signup[_ngcontent-%COMP%]{background-color:#3ec28f;box-shadow:2px 2px 5px #000;width:600px;height:150px;position:absolute;top:50%;left:50%;transform:translate(-50%);border-radius:30px;border-width:0;color:#fff;font-family:Arial;text-align:center;font-size:64px;letter-spacing:0}.installButton[_ngcontent-%COMP%]{border:none;background-color:#3eb3c2;box-shadow:2px 2px 5px #000;color:#fff;position:absolute;top:77%;left:50%;transform:translate(-50%);padding-bottom:5px;padding-top:5px;width:200px;height:60px;text-align:center;text-decoration:none;font-size:40px;font-weight:700;cursor:pointer;border-radius:30px}.install[_ngcontent-%COMP%]{color:#000;width:375px;position:absolute;top:77%;left:50%;transform:translate(-50%);font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;font-weight:700}.line[_ngcontent-%COMP%]{display:inline}#menu[_ngcontent-%COMP%]{width:16px;height:21.647058486938477px;background-repeat:no-repeat;background-size:cover;border-radius:5px}#share[_ngcontent-%COMP%]{width:20px;height:23.636362075805664px;background-repeat:no-repeat;background-size:cover;border-radius:5px}p[_ngcontent-%COMP%]{line-height:.5}.creditBox[_ngcontent-%COMP%]{background-color:#0a9217;border-right:4px solid white;width:20%;height:10%;position:absolute;cursor:pointer;left:0;top:0%;text-align:center;display:none}.creditText[_ngcontent-%COMP%]{color:#fff;display:inline-block;vertical-align:middle;line-height:250%;font-family:Verdana;font-size:36px;letter-spacing:0;display:none}.infoBox[_ngcontent-%COMP%]{background-color:#0a9217;width:20%;height:10%;position:absolute;cursor:pointer;left:0;top:0%;display:none}.infoText[_ngcontent-%COMP%]{color:#000;width:700px;position:absolute;top:45%;left:50%;transform:translate(-50%,-50%);font-family:Arial;text-align:center;font-size:24px;letter-spacing:0;font-weight:700}.footer[_ngcontent-%COMP%]{width:700px;position:absolute;bottom:50px;left:50%;transform:translate(-50%);text-align:center}.footerText[_ngcontent-%COMP%]{color:#000;position:relative;display:inline-block;left:30px;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0}.logoCiens[_ngcontent-%COMP%]{width:69px;height:69px;display:inline-block;position:relative;left:90px;top:30px;background-image:url(image_7.2e20c6c16e8ce206.png);background-repeat:no-repeat;background-size:cover}@media only screen and (max-width: 768px){.main[_ngcontent-%COMP%]{display:flex;height:100vh;justify-content:center;align-items:center;flex-direction:column}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;cursor:pointer}#login[_ngcontent-%COMP%]{top:20%;position:absolute}#signup[_ngcontent-%COMP%]{top:40%;position:absolute}#login[_ngcontent-%COMP%]{background-color:#3ec28f;width:70%;height:15%;margin:0;transform:none;position:absolute;left:15%;top:25%;border-radius:30px;border-width:0;color:#fff;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0}#signup[_ngcontent-%COMP%]{background-color:#3ec28f;width:70%;height:15%;margin:0;transform:none;position:absolute;left:15%;top:50%;border-radius:30px;border-width:0;color:#fff;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0}.installButton[_ngcontent-%COMP%]{border:none;background-color:#3eb3c2;box-shadow:2px 2px 5px #000;color:#fff;position:absolute;left:30%;top:77%;padding-bottom:5px;padding-top:5px;width:120px;height:50px;text-align:center;text-decoration:none;font-size:20px;font-weight:700;cursor:pointer;border-radius:30px}.install[_ngcontent-%COMP%]{color:#646464;width:75%;height:10%;transform:none;position:absolute;left:15%;top:70%;font-family:Arial;text-align:center;font-size:14px;letter-spacing:0;font-weight:700;letter-spacing:0px;line-height:20pt}.line[_ngcontent-%COMP%]{display:inline}#menu[_ngcontent-%COMP%]{width:10px;height:12px;background-repeat:no-repeat;background-size:cover;border-radius:5px}#share[_ngcontent-%COMP%]{width:20px;height:20px;padding-top:0;position:relative;top:5px;background-repeat:no-repeat;background-size:cover;border-radius:5px}p[_ngcontent-%COMP%]{line-height:.5}.creditLogo[_ngcontent-%COMP%]{position:relative;top:45%;left:25%;width:36px;height:36px;cursor:pointer;background-size:contain;background-repeat:no-repeat;background-image:url(info.f631e6664ac6fa77.png)}.creditText[_ngcontent-%COMP%]{display:none}.infoBox[_ngcontent-%COMP%]{background-color:#0a9217;width:20%;height:10%;position:absolute;cursor:pointer;left:0;top:0%;text-align:center;display:none}.infoText[_ngcontent-%COMP%]{color:#000;width:90%;position:absolute;top:35%;left:50%;transform:translate(-50%,-50%);font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;font-weight:700}.footer[_ngcontent-%COMP%]{width:100%;position:absolute;bottom:70px;text-align:center}.footerText[_ngcontent-%COMP%]{color:#000;width:100%;position:absolute;left:50%;transform:translate(-50%,-50%);font-family:Arial;text-align:center;font-size:12px;letter-spacing:0}.logoCiens[_ngcontent-%COMP%]{width:31px;height:31px;position:absolute;bottom:40px;left:50%;transform:translate(-50%);background-image:url(image_7.2e20c6c16e8ce206.png);background-repeat:no-repeat;background-size:cover}}"]})}return n})()},{path:"credits",component:(()=>{class n{constructor(t,i){this.auth=t,this.router=i}Login(){this.router.navigate(["/auth/login"])}Signup(){this.router.navigate(["/auth/signup"])}static#e=this.\u0275fac=function(i){return new(i||n)(E(We),E(Se))};static#t=this.\u0275cmp=Me({type:n,selectors:[["app-credits"]],decls:29,vars:0,consts:[[1,"base"],[1,"install"],[1,"logoCiens"]],template:function(i,r){1&i&&(g(0,"p"),w(1,"credits works!"),p(),g(2,"div",0)(3,"div",1)(4,"h2")(5,"b"),w(6,"Creditos:"),p()(),g(7,"p")(8,"b"),w(9,"Autor: "),p(),g(10,"span"),w(11,"Ioannis Morakis - m.yannis22@gmail.com"),p()(),g(12,"p")(13,"b"),w(14,"Tutora: "),p(),g(15,"span"),w(16,"Profa. Yosly Hern\xe1ndez Bieliukas"),p()(),ie(17,"br"),g(18,"h2")(19,"b"),w(20,"Objetivo:"),p()(),g(21,"p")(22,"span"),w(23," Desarrollar una Aplicaci\xf3n Web para la gesti\xf3n de muestras de campo de la Cl\xednica de Enfermedades de Plantas de la Universidad Central de Venezuela"),p()(),ie(24,"br")(25,"br"),g(26,"p"),w(27," Universidad Central de Venezuela - Escuela de Computaci\xf3n "),p(),ie(28,"div",2),p()())},styles:[".main[_ngcontent-%COMP%]{display:flex;height:100vh;justify-content:center;align-items:center;flex-direction:column}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}.install[_ngcontent-%COMP%]{color:#000;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0}.line[_ngcontent-%COMP%]{display:inline}.base[_ngcontent-%COMP%]{width:600px;height:500px;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}.logoUcv[_ngcontent-%COMP%]{width:69px;height:69px;float:left;background-image:url(logo_ucv_bg2_1.32a61806277cba42.png);background-repeat:no-repeat;background-size:cover}.logoCiens[_ngcontent-%COMP%]{width:69px;height:69px;display:inline-block;background-image:url(image_7.2e20c6c16e8ce206.png);background-repeat:no-repeat;background-size:cover}@media only screen and (max-width: 768px){.main[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}.install[_ngcontent-%COMP%]{color:#000;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0}.line[_ngcontent-%COMP%]{display:inline}.base[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:70%}.logoUcv[_ngcontent-%COMP%]{width:69px;height:69px;float:left;background-image:url(logo_ucv_bg2_1.32a61806277cba42.png);background-repeat:no-repeat;background-size:cover}.logoCiens[_ngcontent-%COMP%]{width:45px;height:45px;display:inline-block;background-image:url(image_7.2e20c6c16e8ce206.png);background-repeat:no-repeat;background-size:cover}}"]})}return n})()}]}];let bMe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=et({type:n});static#n=this.\u0275inj=Ze({imports:[Bo.forChild(_Me),Bo]})}return n})(),yMe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=et({type:n});static#n=this.\u0275inj=Ze({imports:[za,Sy,Bo,bMe]})}return n})(),vMe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=Me({type:n,selectors:[["app-home"]],decls:2,vars:0,template:function(i,r){1&i&&(g(0,"p"),w(1,"home works!"),p())}})}return n})();function wMe(n,e){if(1&n){const t=It();g(0,"tr")(1,"td",14),w(2),p(),g(3,"td",14),w(4),p(),g(5,"td")(6,"button",15),ee("click",function(){const o=Le(t).$implicit;return Ve(cn().updateData(o.id))}),w(7," Update "),p()()()}if(2&n){const t=e.$implicit;H(2),qe(t.email),H(2),qe(t.role)}}let xMe=(()=>{class n{constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.data=[],this.getData()}ngOnInit(){}getData(){const t=De(this.firestore,"users");me(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}updateData(t){const i=Ae(this.firestore,"users",t);Cr(i,{}).then(()=>{alert("Data updated"),this.getData()}).catch(r=>{alert(r.message)})}deleteData(t){const i=Ae(this.firestore,"users",t);Fn(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}handleSignOut(){ji(this.auth).then(()=>{}).catch(t=>{console.log("here")}),this.router.navigate(["auth/select"])}Home(){this.router.navigate(["admin"])}Projectos(){this.router.navigate(["admin"])}Muestras(){this.router.navigate(["admin"])}static#e=this.\u0275fac=function(i){return new(i||n)(E(Se),E(ft),E(We),E(ht))};static#t=this.\u0275cmp=Me({type:n,selectors:[["app-admin"]],decls:27,vars:1,consts:[[1,"navbar"],[1,"tituloBox"],[1,"tituloText"],[1,"logoCiens"],[1,"logoUcv"],[1,"homeBox"],[1,"homeText"],[1,"salir",3,"click"],[1,"navbar2"],[1,"navbar2Box"],["id","cerrarText",1,"navbar2Text",3,"click"],[1,"subTituloText"],[1,"list"],[4,"ngFor","ngForOf"],["contenteditable","true"],[3,"click"]],template:function(i,r){1&i&&(g(0,"p"),w(1,"admin works!"),p(),g(2,"div",0)(3,"div",1)(4,"span",2),w(5,"Gestion de Muestras"),p()(),ie(6,"div",3)(7,"div",4),g(8,"div",5)(9,"span",6),w(10,"Home"),p()()(),g(11,"button",7),ee("click",function(){return r.Home()}),p(),g(12,"div",8),ie(13,"div",9),g(14,"div",10),ee("click",function(){return r.handleSignOut()}),w(15,"CERRAR SESI\xd3N"),p()(),g(16,"h1",11),w(17,"Usuarios"),p(),g(18,"div",12)(19,"table")(20,"tr")(21,"th"),w(22," Email "),p(),g(23,"th"),w(24," Role "),p(),ie(25,"th"),p(),Zn(26,wMe,8,2,"tr",13),p()()),2&i&&(H(26),Jn("ngForOf",r.data))},dependencies:[po],styles:[".list[_ngcontent-%COMP%]{position:absolute;left:33%;top:35%}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}button[_ngcontent-%COMP%]{border:none;background-color:#3eb3c2;color:#fff;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;width:70%;height:10%;vertical-align:middle;line-height:250%;font-family:Verdana;text-align:center;font-size:48px;letter-spacing:0;left:20%;top:15%}.main[_ngcontent-%COMP%]{display:flex;height:100vh;justify-content:center;align-items:center;flex-direction:column}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}.homeBox[_ngcontent-%COMP%]{background-color:#3ec28f;border-right:4px solid white;width:20%;height:10%;position:absolute;left:0;top:0%;text-align:center}.homeText[_ngcontent-%COMP%]{color:#fff;display:inline-block;vertical-align:middle;line-height:250%;font-family:Verdana;font-size:40px;letter-spacing:0}.tituloBox[_ngcontent-%COMP%]{background-color:#3ec28f;width:80%;height:10%;position:absolute;left:20%;top:0%;text-align:center}.tituloText[_ngcontent-%COMP%]{color:#fff;display:inline-block;vertical-align:middle;line-height:250%;font-family:Verdana;font-size:40px;letter-spacing:0}.logoCiens[_ngcontent-%COMP%]{width:100px;height:69px;position:absolute;left:90%;top:1.5%;background-image:url(Logo-Agronomia2.2ed90bcafa53fa56.png);background-repeat:no-repeat;background-size:cover}.logoUcv[_ngcontent-%COMP%]{width:69px;height:69px;position:absolute;left:22%;top:1.5%;background-image:url(logo_ucv_bg2_1.32a61806277cba42.png);background-repeat:no-repeat;background-size:cover}.navbar2Box[_ngcontent-%COMP%]{width:100%;height:47px;background:#3EC28F;border-top:4px solid white;position:absolute;left:0%;top:10%}.navbar2Text[_ngcontent-%COMP%]{height:47px;color:#fff;font-size:20px;font-family:Verdana;font-weight:600;word-wrap:break-word;text-align:center;display:inline-block;vertical-align:middle;line-height:240%;border-top:4px solid white}#usernameText[_ngcontent-%COMP%]{width:20%;position:absolute;left:0%;top:10%;border-right:4px solid white}#ProyectosText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:20%;top:10%;border-right:4px solid white}#MuestrasText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:40%;top:10%;border-right:4px solid white}#ClientesText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:60%;top:10%;border-right:4px solid white}#cerrarText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:0%;top:10%;border-right:4px solid white}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.projectBlock[_ngcontent-%COMP%]{width:60%;height:25px;background:#3EC28F;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:14px;font-weight:700;letter-spacing:0;cursor:pointer}.list[_ngcontent-%COMP%]{position:absolute;left:5%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;left:30%;top:22%}.homeBox[_ngcontent-%COMP%]{background-color:#3ec28f;border-right:2px solid white;width:20%;height:15%;position:absolute;left:0;top:0%}.homeText[_ngcontent-%COMP%]{display:none}.homeLogo[_ngcontent-%COMP%]{position:relative;top:30%;left:25%;width:36px;height:36px;text-align:center;background-image:url(home.a5ce65d54c28e165.png);background-repeat:no-repeat;background-size:cover}.tituloBox[_ngcontent-%COMP%]{background-color:#3ec28f;width:80%;height:15%;position:absolute;left:20%;top:0%;text-align:center}.tituloText[_ngcontent-%COMP%]{color:#fff;line-height:1.6;display:inline-block;vertical-align:middle;font-family:Verdana;font-size:32px;letter-spacing:0px}.logoCiens[_ngcontent-%COMP%]{width:45px;height:35px;position:absolute;left:85%;top:1.5%;background-image:url(Logo-Agronomia2.2ed90bcafa53fa56.png);background-repeat:no-repeat;background-size:cover}.logoUcv[_ngcontent-%COMP%]{width:35px;height:35px;position:absolute;left:22%;top:1.5%;background-image:url(logo_ucv_bg2_1.32a61806277cba42.png);background-repeat:no-repeat;background-size:cover}.navbar2Box[_ngcontent-%COMP%]{width:100%;height:5%;background:#3EC28F;border-top:2px solid white;position:absolute;left:0%;top:15%}.navbar2Text[_ngcontent-%COMP%]{height:5%;color:#fff;font-size:10px;font-family:Verdana;font-weight:600;word-wrap:break-word;text-align:center;display:inline-block;vertical-align:middle;line-height:1.6;border-top:2px solid white}#UnidadText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:40%;top:15%;border-right:2px solid white;padding-top:7px}#ProyectosText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:20%;top:15%;border-right:2px solid white;padding-top:7px}#MuestrasText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:60%;top:15%;border-right:2px solid white;padding-top:7px}#ClientesText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:80%;top:15%;padding-top:7px}#cerrarText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:0%;top:15%;border-right:2px solid white}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}button[_ngcontent-%COMP%]{border:none;background-color:#3eb3c2;color:#fff;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;height:10%;padding:10px;margin:5px;border-radius:30px}}"]})}return n})(),CMe=(()=>{class n{constructor(t,i){this.auth=t,this.router=i}canActivate(t,i){return this.checkLogin(i.url)}checkLogin(t){return!!this.auth.currentUser||(this.router.navigate(["/"]),!1)}static#e=this.\u0275fac=function(i){return new(i||n)($(We),$(Se))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),OW=(()=>{class n{constructor(t,i){this.auth=t,this.router=i,this.title="gestion-muestras"}handleSignOut(){ji(this.auth).then(()=>{}).catch(t=>{console.log("here")}),this.router.navigate(["auth/select"])}Home(){this.router.navigate(["user/projects"])}Projectos(){this.router.navigate(["user/projects"])}Muestras(){this.router.navigate(["user/muestras-all"])}Clientes(){this.router.navigate(["user/clients"])}Unidades(){this.router.navigate(["user/unidad-produccion-all"])}Codigo(){this.router.navigate(["user/barcode-new"])}static#e=this.\u0275fac=function(i){return new(i||n)(E(We),E(Se))};static#t=this.\u0275cmp=Me({type:n,selectors:[["app-user"]],decls:36,vars:0,consts:[[1,"navbar2"],[1,"navbar2Box"],["id","cerrarText",1,"navbar2Text",3,"click"],["src","../../assets/logout-2.png","alt","Out","width","50","height","50"],["id","UnidadText",1,"navbar2Text",3,"click"],["src","../../assets/shovel2.png","alt","Shovel","width","50","height","50"],["id","MuestrasText",1,"navbar2Text",3,"click"],["src","../../assets/prueba-de-sangre.png","alt","Shovel","width","50","height","50"],["id","ClientesText",1,"navbar2Text",3,"click"],["src","../../assets/Clientes2.png","alt","Shovel","width","50","height","50"],["id","CodigoText",1,"navbar2Text",3,"click"],["src","../../assets/Scan.png","alt","Shovel","width","50","height","50"],[1,"navbar"],[1,"tituloBox"],[1,"tituloText"],[1,"logoAgro"],[1,"logoUcv"],[1,"homeBox"],[1,"UserLogo"],[1,"homeText"],[1,"homeLogo"]],template:function(i,r){1&i&&(g(0,"p"),w(1,"user works!"),p(),g(2,"div",0),ie(3,"div",1),g(4,"div",2),ee("click",function(){return r.handleSignOut()}),ie(5,"img",3)(6,"br"),w(7," Cerrar Sesi\xf3n "),p(),g(8,"div",4),ee("click",function(){return r.Unidades()}),ie(9,"img",5)(10,"br"),w(11," Unidades de Producci\xf3n "),p(),g(12,"div",6),ee("click",function(){return r.Muestras()}),ie(13,"img",7)(14,"br"),w(15," Muestras "),p(),g(16,"div",8),ee("click",function(){return r.Clientes()}),ie(17,"img",9)(18,"br"),w(19," Clientes "),p(),g(20,"div",10),ee("click",function(){return r.Codigo()}),ie(21,"img",11)(22,"br"),w(23," Generar Codigo "),p()(),g(24,"div",12)(25,"div",13)(26,"span",14),w(27,"Gestion de Muestras"),p()(),ie(28,"div",15)(29,"div",16),g(30,"div",17),ie(31,"div",18),g(32,"span",19),w(33,"Usuario"),p(),ie(34,"div",20),p()(),ie(35,"router-outlet"))},dependencies:[Dd],styles:[".main[_ngcontent-%COMP%]{display:flex;height:100vh;justify-content:center;align-items:center;flex-direction:column}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}.homeBox[_ngcontent-%COMP%]{background-color:#0a9217;width:25%;height:10%;position:absolute;cursor:pointer;left:75%;top:0%;text-align:center}.homeText[_ngcontent-%COMP%]{color:#fff;display:inline-block;vertical-align:middle;font-family:Verdana;font-size:32px;letter-spacing:0;position:absolute;right:20px;top:30%}.tituloBox[_ngcontent-%COMP%]{background-color:#0a9217;width:100%;height:10%;position:absolute;left:0%;top:0%;text-align:center}.tituloText[_ngcontent-%COMP%]{color:#fff;display:inline-block;vertical-align:middle;line-height:225%;font-family:Verdana;font-weight:700;font-size:40px;letter-spacing:0}.logoCiens[_ngcontent-%COMP%]{width:100px;height:69px;position:absolute;left:90%;top:1.5%;background-image:url(Logo-Agronomia2.2ed90bcafa53fa56.png);background-repeat:no-repeat;background-size:cover}.logoUcv[_ngcontent-%COMP%]{width:69px;height:69px;position:absolute;left:30px;top:1%;background-image:url(logo_ucv_bg2_1.32a61806277cba42.png);background-repeat:no-repeat;background-size:cover}.navbar2Box[_ngcontent-%COMP%]{width:320px;height:90%;background:#ffffff;box-shadow:0 0 6px 10px #00000040;position:absolute;left:0%;top:10%}.navbar2Text[_ngcontent-%COMP%]{height:4.5%;color:#000;font-size:16px;font-family:Verdana;font-weight:600;word-wrap:break-word;display:inline-block;vertical-align:middle;line-height:240%;padding-top:5px;padding-left:20px}#ProyectosText[_ngcontent-%COMP%]{visibility:hidden;cursor:pointer;width:17%;position:absolute;left:20%;top:10%;border-right:4px solid white}#UnidadText[_ngcontent-%COMP%]{cursor:pointer;width:300;position:absolute;left:0%;top:12%}#MuestrasText[_ngcontent-%COMP%]{cursor:pointer;width:300;position:absolute;left:0%;top:22%}#ClientesText[_ngcontent-%COMP%]{cursor:pointer;width:300;position:absolute;left:0%;top:32%}#CodigoText[_ngcontent-%COMP%]{cursor:pointer;width:300;position:absolute;left:0%;top:42%}#cerrarText[_ngcontent-%COMP%]{cursor:pointer;width:300;position:absolute;left:0%;top:52%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}.UserLogo[_ngcontent-%COMP%]{position:absolute;top:30%;right:175px;width:36px;height:36px;text-align:center;background-image:url(userWhite.1acab0fe6d96dff4.png);background-repeat:no-repeat;background-size:cover}.logoAgro[_ngcontent-%COMP%]{width:100px;height:69px;position:absolute;left:140px;top:1%;background-image:url(Logo-Agronomia2.2ed90bcafa53fa56.png);background-repeat:no-repeat;background-size:cover}img[_ngcontent-%COMP%]{position:relative;top:20px}br[_ngcontent-%COMP%]{display:none}@media only screen and (max-width: 768px){.homeBox[_ngcontent-%COMP%]{background-color:#0a9217;border-right:4px solid white;width:20%;height:15%;position:absolute;left:0;top:0%}.homeText[_ngcontent-%COMP%], .homeLogo[_ngcontent-%COMP%]{display:none}.tituloBox[_ngcontent-%COMP%]{background-color:#0a9217;width:80%;height:15%;position:absolute;left:20%;top:0%;text-align:center}.tituloText[_ngcontent-%COMP%]{color:#fff;line-height:1.6;display:inline-block;vertical-align:middle;font-family:Verdana;font-size:32px;letter-spacing:0px}.logoCiens[_ngcontent-%COMP%]{width:45px;height:35px;position:absolute;left:85%;top:5%;background-image:url(Logo-Agronomia2.2ed90bcafa53fa56.png);background-repeat:no-repeat;background-size:cover}.logoUcv[_ngcontent-%COMP%]{width:35px;height:35px;position:absolute;left:22%;top:5%;background-image:url(logo_ucv_bg2_1.32a61806277cba42.png);background-repeat:no-repeat;background-size:cover}.navbar2Box[_ngcontent-%COMP%]{width:100%;height:66px;background:#ffffff;box-shadow:0 0 6px 10px #00000040;position:absolute;left:0%;top:15%}.navbar2Text[_ngcontent-%COMP%]{height:28px;color:#000;font-size:8px;font-family:Verdana;font-weight:600;word-wrap:break-word;text-align:center;display:inline-block;vertical-align:middle;line-height:1.6;padding-top:7px;padding-left:0}.center[_ngcontent-%COMP%]{position:relative;top:18%}#cerrarText[_ngcontent-%COMP%]{cursor:pointer;width:15%;position:absolute;left:0%;top:15%;padding-left:3%;border-right:2px solid white}#ProyectosText[_ngcontent-%COMP%]{visibility:hidden;cursor:pointer;width:20%;position:absolute;left:15%;top:15%;border-right:2px solid white}#UnidadText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:20%;top:15%;border-right:2px solid white}#MuestrasText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:40%;top:15%;border-right:2px solid white}#ClientesText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:60%;top:15%;border-right:2px solid white}#CodigoText[_ngcontent-%COMP%]{cursor:pointer;width:15%;position:absolute;left:80%;top:15%;padding-left:3%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:15%;left:0%;top:0%}.UserLogo[_ngcontent-%COMP%]{position:absolute;top:30%;left:25%;width:36px;height:36px;text-align:center;background-image:url(userWhite.1acab0fe6d96dff4.png);background-repeat:no-repeat;background-size:cover}.logoAgro[_ngcontent-%COMP%]{width:45px;height:35px;position:absolute;left:84%;top:5%;background-image:url(Logo-Agronomia2.2ed90bcafa53fa56.png);background-repeat:no-repeat;background-size:cover}img[_ngcontent-%COMP%]{position:relative;top:0;width:20px;height:20px}br[_ngcontent-%COMP%]{display:inline}}"]})}return n})();var bm=F(6387);let EMe=(()=>{class n{constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o}ngOnInit(){var t=this;return b(function*(){t.route.params.subscribe(i=>{t.item=i,console.log(i),t.generateBarcode(i)}),yield t.sleep(500),window.print()})()}sleep(t){return b(function*(){return new Promise(i=>setTimeout(i,t))})()}generateBarcode(t){var i=t.id;let r=t.num;bm("#barcode",i,{format:"CODE128"});for(let o=1;o<r;o++){let s="#barcode"+o;console.log(s),bm(s,i,{format:"CODE128"})}}static#e=this.\u0275fac=function(i){return new(i||n)(E(Se),E(ft),E(We),E(ht))};static#t=this.\u0275cmp=Me({type:n,selectors:[["app-print"]],decls:5,vars:0,consts:[["id","barcode"],["id","barcode1"],["id","barcode2"],["id","barcode3"],["id","barcode4"]],template:function(i,r){1&i&&(b_(),ie(0,"svg",0)(1,"svg",1)(2,"svg",2)(3,"svg",3)(4,"svg",4))},styles:["#barcode[_ngcontent-%COMP%]{position:absolute;top:50px;left:200px}#barcode1[_ngcontent-%COMP%]{position:absolute;top:220px;left:200px}#barcode2[_ngcontent-%COMP%]{position:absolute;top:390px;left:200px}#barcode3[_ngcontent-%COMP%]{position:absolute;top:560px;left:200px}#barcode4[_ngcontent-%COMP%]{position:absolute;top:730px;left:200px}"]})}return n})(),PW=(()=>{class n{constructor(t,i){this.auth=t,this.router=i,this.title="gestion-muestras"}handleSignOut(){ji(this.auth).then(()=>{}).catch(t=>{console.log("here")}),this.router.navigate(["auth/select"])}Home(){this.router.navigate(["client/projects"])}Projectos(){this.router.navigate(["client/projects"])}Perfil(){this.router.navigate(["client/perfil"])}Muestras(){this.router.navigate(["client/muestras-all"])}Unidad(){this.router.navigate(["client/unidad-produccion-all"])}static#e=this.\u0275fac=function(i){return new(i||n)(E(We),E(Se))};static#t=this.\u0275cmp=Me({type:n,selectors:[["app-client"]],decls:25,vars:0,consts:[[1,"navbar"],[1,"tituloBox"],[1,"tituloText"],[1,"logoCiens"],[1,"logoUcv"],[1,"homeBox"],[1,"homeText"],[1,"salir",3,"click"],[1,"navbar2"],[1,"navbar2Box"],["id","cerrarText",1,"navbar2Text",3,"click"],["id","usernameText",1,"navbar2Text",3,"click"],["id","ProyectosText",1,"navbar2Text",3,"click"],["id","MuestrasText",1,"navbar2Text",3,"click"],["id","UnidadText",1,"navbar2Text",3,"click"]],template:function(i,r){1&i&&(g(0,"p"),w(1,"client works!"),p(),g(2,"div",0)(3,"div",1)(4,"span",2),w(5,"Gestion de Muestras"),p()(),ie(6,"div",3)(7,"div",4),g(8,"div",5)(9,"span",6),w(10,"Home"),p()()(),g(11,"button",7),ee("click",function(){return r.Home()}),p(),g(12,"div",8),ie(13,"div",9),g(14,"div",10),ee("click",function(){return r.handleSignOut()}),w(15,"CERRAR SESI\xd3N"),p(),g(16,"div",11),ee("click",function(){return r.Perfil()}),w(17,"USUARIO"),p(),g(18,"div",12),ee("click",function(){return r.Projectos()}),w(19,"PROYECTOS"),p(),g(20,"div",13),ee("click",function(){return r.Muestras()}),w(21,"MUESTRAS"),p(),g(22,"div",14),ee("click",function(){return r.Unidad()}),w(23,"UNIDADES"),p()(),ie(24,"router-outlet"))},dependencies:[Dd],styles:[".main[_ngcontent-%COMP%]{display:flex;height:100vh;justify-content:center;align-items:center;flex-direction:column}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}.homeBox[_ngcontent-%COMP%]{background-color:#3ec28f;border-right:4px solid white;width:20%;height:10%;position:absolute;left:0;top:0%;text-align:center}.homeText[_ngcontent-%COMP%]{color:#fff;display:inline-block;vertical-align:middle;line-height:250%;font-family:Verdana;font-size:40px;letter-spacing:0}.tituloBox[_ngcontent-%COMP%]{background-color:#3ec28f;width:80%;height:10%;position:absolute;left:20%;top:0%;text-align:center}.tituloText[_ngcontent-%COMP%]{color:#fff;display:inline-block;vertical-align:middle;line-height:250%;font-family:Verdana;font-size:40px;letter-spacing:0}.logoCiens[_ngcontent-%COMP%]{width:100px;height:69px;position:absolute;left:90%;top:1.5%;background-image:url(Logo-Agronomia2.2ed90bcafa53fa56.png);background-repeat:no-repeat;background-size:cover}.logoUcv[_ngcontent-%COMP%]{width:69px;height:69px;position:absolute;left:22%;top:1.5%;background-image:url(logo_ucv_bg2_1.32a61806277cba42.png);background-repeat:no-repeat;background-size:cover}.navbar2Box[_ngcontent-%COMP%]{width:100%;height:47px;background:#3EC28F;border-top:4px solid white;position:absolute;left:0%;top:10%}.navbar2Text[_ngcontent-%COMP%]{height:47px;color:#fff;font-size:20px;font-family:Verdana;font-weight:600;word-wrap:break-word;text-align:center;display:inline-block;vertical-align:middle;line-height:240%;border-top:4px solid white}#usernameText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:80%;top:10%}#ProyectosText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:20%;top:10%;border-right:4px solid white}#MuestrasText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:60%;top:10%;border-right:4px solid white}#UnidadText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:40%;top:10%;border-right:4px solid white}#cerrarText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:0%;top:10%;border-right:4px solid white}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.homeBox[_ngcontent-%COMP%]{background-color:#3ec28f;border-right:2px solid white;width:20%;height:15%;position:absolute;left:0;top:0%}.homeText[_ngcontent-%COMP%]{display:none}.homeLogo[_ngcontent-%COMP%]{position:relative;top:30%;left:25%;width:36px;height:36px;text-align:center;background-image:url(home.a5ce65d54c28e165.png);background-repeat:no-repeat;background-size:cover}.tituloBox[_ngcontent-%COMP%]{background-color:#3ec28f;width:80%;height:15%;position:absolute;left:20%;top:0%;text-align:center}.tituloText[_ngcontent-%COMP%]{color:#fff;line-height:1.6;display:inline-block;vertical-align:middle;font-family:Verdana;font-size:32px;letter-spacing:0px}.logoCiens[_ngcontent-%COMP%]{width:45px;height:35px;position:absolute;left:85%;top:1.5%;background-image:url(Logo-Agronomia2.2ed90bcafa53fa56.png);background-repeat:no-repeat;background-size:cover}.logoUcv[_ngcontent-%COMP%]{width:35px;height:35px;position:absolute;left:22%;top:1.5%;background-image:url(logo_ucv_bg2_1.32a61806277cba42.png);background-repeat:no-repeat;background-size:cover}.navbar2Box[_ngcontent-%COMP%]{width:100%;height:5%;background:#3EC28F;border-top:2px solid white;position:absolute;left:0%;top:15%}.navbar2Text[_ngcontent-%COMP%]{height:5%;color:#fff;font-size:10px;font-family:Verdana;font-weight:600;word-wrap:break-word;text-align:center;display:inline-block;vertical-align:middle;line-height:1.6;border-top:2px solid white}#usernameText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:80%;top:15%;padding-top:7px}#UnidadText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:40%;top:15%;border-right:2px solid white;padding-top:7px}#ProyectosText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:20%;top:15%;border-right:2px solid white;padding-top:7px}#MuestrasText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:60%;top:15%;border-right:2px solid white;padding-top:7px}#ClientesText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:80%;top:15%;padding-top:7px}#cerrarText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:0%;top:15%;border-right:2px solid white}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:15%;left:0%;top:0%}}"]})}return n})();const IMe=[{path:"",redirectTo:"auth/select",pathMatch:"full"},{path:"home",component:vMe},{path:"admin",component:xMe,canActivate:[CMe]},{path:"auth",component:X$},{path:"user",component:OW},{path:"client",component:PW},{path:"print/:id/:num",component:EMe}];let RW=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=et({type:n});static#n=this.\u0275inj=Ze({imports:[Bo.forRoot(IMe),Bo]})}return n})(),TMe=(()=>{class n{constructor(t,i,r){this.auth=t,this.router=i,this.title="gestion-muestras",console.log("inside app component")}handleSignOut(){ji(this.auth).then(()=>{}).catch(t=>{console.log("here")})}static#e=this.\u0275fac=function(i){return new(i||n)(E(We),E(Se),E(ht))};static#t=this.\u0275cmp=Me({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(i,r){1&i&&ie(0,"router-outlet")},dependencies:[Dd],styles:[".base[_ngcontent-%COMP%]{margin:0;width:100%;height:100%;top:0;left:0;background-repeat:repeat;background-image:url(CaptureLeafRepeatOpacity10.38bc5159f70f7053.png)}"]})}return n})();const DMe_firebase={projectId:"gestion-de-muestras-de-c-fabe0",appId:"1:881625861704:web:1da279954953bf7e3ad27d",databaseURL:"https://gestion-de-muestras-de-c-fabe0-default-rtdb.firebaseio.com",storageBucket:"gestion-de-muestras-de-c-fabe0.appspot.com",apiKey:"AIzaSyD0Py3MA2BD1yEsMg4wM9RDhbNgmEAxZPk",authDomain:"gestion-de-muestras-de-c-fabe0.firebaseapp.com",messagingSenderId:"881625861704",measurementId:"G-PTHV8B640J"},NW="@firebase/database";let OR="";class AMe{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Vi(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Op(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class SMe{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return Zs(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const LW=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new AMe(e)}}catch{}return new SMe},ql=LW("localStorage"),PR=LW("sessionStorage"),Ah=new dl("@firebase/database"),VW=function(){let n=1;return function(){return n++}}(),BW=function(n){const e=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);if(r>=55296&&r<=56319){const o=r-55296;i++,ue(i<n.length,"Surrogate pair missing trail surrogate."),r=65536+(o<<10)+(n.charCodeAt(i)-56320)}r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=63&r|128):r<65536?(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=63&r|128):(e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=63&r|128)}return e}(n),t=new Wme;t.update(e);const i=t.digest();return Yy.encodeByteArray(i)},ym=function(...n){let e="";for(let t=0;t<n.length;t++){const i=n[t];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?e+=ym.apply(null,i):e+="object"==typeof i?Vi(i):i,e+=" "}return e};let Wl=null,UW=!0;const ki=function(...n){if(!0===UW&&(UW=!1,null===Wl&&!0===PR.get("logging_enabled")&&function(n,e){ue(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Ah.logLevel=_t.VERBOSE,Wl=Ah.log.bind(Ah),e&&PR.set("logging_enabled",!0)):"function"==typeof n?Wl=n:(Wl=null,PR.remove("logging_enabled"))}(!0)),Wl){const e=ym.apply(null,n);Wl(e)}},vm=function(n){return function(...e){ki(n,...e)}},RR=function(...n){const e="FIREBASE INTERNAL ERROR: "+ym(...n);Ah.error(e)},Ss=function(...n){const e=`FIREBASE FATAL ERROR: ${ym(...n)}`;throw Ah.error(e),new Error(e)},cr=function(...n){const e="FIREBASE WARNING: "+ym(...n);Ah.warn(e)},hw=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},xc="[MIN_NAME]",ma="[MAX_NAME]",Kl=function(n,e){if(n===e)return 0;if(n===xc||e===ma)return-1;if(e===xc||n===ma)return 1;{const t=$W(n),i=$W(e);return null!==t?null!==i?t-i==0?n.length-e.length:t-i:-1:null!==i?1:n<e?-1:1}},PMe=function(n,e){return n===e?0:n<e?-1:1},wm=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+Vi(e))},NR=function(n){if("object"!=typeof n||null===n)return Vi(n);const e=[];for(const i in n)e.push(i);e.sort();let t="{";for(let i=0;i<e.length;i++)0!==i&&(t+=","),t+=Vi(e[i]),t+=":",t+=NR(n[e[i]]);return t+="}",t},jW=function(n,e){const t=n.length;if(t<=e)return[n];const i=[];for(let r=0;r<t;r+=e)i.push(n.substring(r,r+e>t?t:r+e));return i};function Oi(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const HW=function(n){ue(!hw(n),"Invalid JSON number");const i=1023;let r,o,s,a,c;0===n?(o=0,s=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(a=Math.min(Math.floor(Math.log(n)/Math.LN2),i),o=a+i,s=Math.round(n*Math.pow(2,52-a)-Math.pow(2,52))):(o=0,s=Math.round(n/Math.pow(2,-1074))));const l=[];for(c=52;c;c-=1)l.push(s%2?1:0),s=Math.floor(s/2);for(c=11;c;c-=1)l.push(o%2?1:0),o=Math.floor(o/2);l.push(r?1:0),l.reverse();const u=l.join("");let d="";for(c=0;c<64;c+=8){let h=parseInt(u.substr(c,8),2).toString(16);1===h.length&&(h="0"+h),d+=h}return d.toLowerCase()},LMe=new RegExp("^-?(0*)\\d{1,10}$"),$W=function(n){if(LMe.test(n)){const e=Number(n);if(e>=-2147483648&&e<=2147483647)return e}return null},Sh=function(n){try{n()}catch(e){setTimeout(()=>{throw cr("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},xm=function(n,e){const t=setTimeout(n,e);return"number"==typeof t&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):"object"==typeof t&&t.unref&&t.unref(),t};class zMe{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){cr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class jMe{constructor(e,t,i){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(ki("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',cr(e)}}let Cm=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const QW=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,ZW="websocket",JW="long_polling";class LR{constructor(e,t,i,r,o=!1,s="",a=!1,c=!1){this.secure=t,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ql.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ql.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function eK(n,e,t){let i;if(ue("string"==typeof e,"typeof type must == string"),ue("object"==typeof t,"typeof params must == object"),e===ZW)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==JW)throw new Error("Unknown connection type: "+e);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function HMe(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const r=[];return Oi(t,(o,s)=>{r.push(o+"="+s)}),i+r.join("&")}class $Me{constructor(){this.counters_={}}incrementCounter(e,t=1){Zs(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return Pme(this.counters_)}}const VR={},BR={};function UR(n){const e=n.toString();return VR[e]||(VR[e]=new $Me),VR[e]}class qMe{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&Sh(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Cc{constructor(e,t,i,r,o,s,a){this.connId=e,this.repoInfo=t,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=vm(e),this.stats_=UR(t),this.urlFn=c=>(this.appCheckToken&&(c.ac=this.appCheckToken),eK(t,JW,c))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new qMe(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if("complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new zR((...o)=>{const[s,a,c,l,u]=o;if(this.incrementIncomingBytes_(o),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===s)this.id=a,this.password=c;else{if("close"!==s)throw new Error("Unrecognized command received: "+s);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...o)=>{const[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&QW.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Cc.forceAllow_=!0}static forceDisallow(){Cc.forceDisallow_=!0}static isAvailable(){return!(!Cc.forceAllow_&&(Cc.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=Vi(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=Y6(t),r=jW(i,1840);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=e,i.pw=t,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=Vi(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class zR{constructor(e,t,i,r){this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=VW(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=zR.createIFrame_();let o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(o='<script>document.domain="'+document.domain+'";<\/script>');const s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){ki("frame writing exception"),a.stack&&ki(a.stack),ki(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||ki("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const s=this.pendingSegs.shift();i=i+"&seg"+r+"="+s.seg+"&ts"+r+"="+s.ts+"&d"+r+"="+s.d,r++}return t+=i,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,i){this.pendingSegs.push({seg:e,ts:t,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const i=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(r),i()})}addTag(e,t){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=()=>{ki("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let pw=null;typeof MozWebSocket<"u"?pw=MozWebSocket:typeof WebSocket<"u"&&(pw=WebSocket);let kh=(()=>{class n{constructor(t,i,r,o,s,a,c){this.connId=t,this.applicationId=r,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=vm(this.connId),this.stats_=UR(i),this.connURL=n.connectionURL_(i,a,c,o,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,r,o,s){const a={v:"5"};return typeof location<"u"&&location.hostname&&QW.test(location.hostname)&&(a.r="f"),i&&(a.s=i),r&&(a.ls=r),o&&(a.ac=o),s&&(a.p=s),eK(t,ZW,a)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ql.set("previous_websocket_failure",!0);try{let r;0,this.mySock=new pw(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;return o&&this.log_(o),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&null!==pw&&!n.forceDisallow_}static previouslyFailed(){return ql.isInMemoryStorage||!0===ql.get("previous_websocket_failure")}markConnectionHealthy(){ql.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=Op(i);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(ue(null===this.frames,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const i=Vi(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=jW(i,16384);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),aK=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[Cc,kh]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const i=kh&&kh.isAvailable();let r=i&&!kh.previouslyFailed();if(t.webSocketOnly&&(i||cr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[kh];else{const o=this.transports_=[];for(const s of n.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class pK{constructor(e,t,i,r,o,s,a,c,l,u){this.id=e,this.repoInfo_=t,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=c,this.onKill_=l,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=vm("c:"+this.id+":"),this.transportManager_=new aK(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,i)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=xm(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=wm("t",e),i=wm("d",e);if("c"===t)this.onSecondaryControl_(i);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=wm("t",e),i=wm("d",e);"c"===t?this.onControl_(i):"d"===t&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=wm("t",e);if("d"in e){const i=e.d;if("h"===t){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(i):"r"===t?this.onReset_(i):"e"===t?RR("Server Error: "+i):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):RR("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==i&&cr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,i),xm(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):xm(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ql.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class gK{put(e,t,i,r){}merge(e,t,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,i){}onDisconnectMerge(e,t,i){}onDisconnectCancel(e,t){}reportStats(e){}}class mK{constructor(e){this.allowedEvents_=e,this.listeners_={},ue(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,t)}}on(e,t,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:i});const r=this.getInitialEvent(e);r&&t.apply(i,r)}off(e,t,i){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let o=0;o<r.length;o++)if(r[o].callback===t&&(!i||i===r[o].context))return void r.splice(o,1)}validateEventType_(e){ue(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class gw extends mK{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!VT()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new gw}getInitialEvent(e){return ue("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class Pt{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function Tt(){return new Pt("")}function nt(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Ec(n){return n.pieces_.length-n.pieceNum_}function $t(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new Pt(n.pieces_,e)}function HR(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function Em(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function yK(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new Pt(e,0)}function vn(n,e){const t=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)t.push(n.pieces_[i]);if(e instanceof Pt)for(let i=e.pieceNum_;i<e.pieces_.length;i++)t.push(e.pieces_[i]);else{const i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&t.push(i[r])}return new Pt(t,0)}function it(n){return n.pieceNum_>=n.pieces_.length}function Er(n,e){const t=nt(n),i=nt(e);if(null===t)return e;if(t===i)return Er($t(n),$t(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function $R(n,e){if(Ec(n)!==Ec(e))return!1;for(let t=n.pieceNum_,i=e.pieceNum_;t<=n.pieces_.length;t++,i++)if(n.pieces_[t]!==e.pieces_[i])return!1;return!0}function yo(n,e){let t=n.pieceNum_,i=e.pieceNum_;if(Ec(n)>Ec(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[i])return!1;++t,++i}return!0}class gAe{constructor(e,t){this.errorPrefix_=t,this.parts_=Em(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=rv(this.parts_[i]);vK(this)}}function vK(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Ql(n))}function Ql(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class GR extends mK{constructor(){let e,t;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new GR}getInitialEvent(e){return ue("visible"===e,"Unknown event type: "+e),[this.visible_]}}const Im=1e3;let _w,Yl=(()=>{class n extends gK{constructor(t,i,r,o,s,a,c,l){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=l,this.id=n.nextPersistentConnectionId_++,this.log_=vm("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Im,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");GR.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&gw.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,r){const o=++this.requestNumber_,s={r:o,a:t,b:i};this.log_(Vi(s)),ue(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[o]=r)}get(t){this.initConnection_();const i=new Rd,o={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:a=>{const c=a.d;"ok"===a.s?i.resolve(c):i.reject(c)}};return this.outstandingGets_.push(o),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(t,i,r,o){this.initConnection_();const s=t._queryIdentifier,a=t._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),ue(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ue(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");const c={onComplete:o,hashFn:i,query:t,tag:r};this.listens.get(a).set(s,c),this.connected_&&this.sendListen_(c)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(t){const i=t.query,r=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+r+" for "+o);const s={p:r};t.tag&&(s.q=i._queryObject,s.t=t.tag),s.h=t.hashFn(),this.sendRequest("q",s,c=>{const l=c.d,u=c.s;n.warnOnListenWarnings_(l,i),(this.listens.get(r)&&this.listens.get(r).get(o))===t&&(this.log_("listen response",c),"ok"!==u&&this.removeListen_(r,o),t.onComplete&&t.onComplete(u,l))})}static warnOnListenWarnings_(t,i){if(t&&"object"==typeof t&&Zs(t,"w")){const r=Nd(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',s=i._path.toString();cr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||function(n){const e=ev(n).claims;return"object"==typeof e&&!0===e.admin}(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=function(n){const t=ev(n).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,o=>{const s=o.s,a=o.d||"error";this.authToken_===t&&("ok"===s?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,r=t.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(t,i){const r=t._path.toString(),o=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),ue(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,t._queryObject,i)}sendUnlisten_(t,i,r,o){this.log_("Unlisten on "+t+" for "+i);const s={p:t};o&&(s.q=r,s.t=o),this.sendRequest("n",s)}onDisconnectPut(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:r})}onDisconnectMerge(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:r})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,r,o){const s={p:i,d:r};this.log_("onDisconnect "+t,s),this.sendRequest(t,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(t,i,r,o){this.putInternal("p",t,i,r,o)}merge(t,i,r,o){this.putInternal("m",t,i,r,o)}putInternal(t,i,r,o,s){this.initConnection_();const a={p:i,d:r};void 0!==s&&(a.h=s),this.outstandingPuts_.push({action:t,request:a,onComplete:o}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,o=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,r,s=>{this.log_(i+" response",s),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+Vi(t));const i=t.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),"d"===t?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===t?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===t?this.onListenRevoked_(i.p,i.q):"ac"===t?this.onAuthRevoked_(i.s,i.d):"apc"===t?this.onAppCheckRevoked_(i.s,i.d):"sd"===t?this.onSecurityDebugPacket_(i):RR("Unrecognized action received from server: "+Vi(t)+"\nAre you using the latest client?")}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){ue(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Im,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Im,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Im),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return b(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const i=t.onDataMessage_.bind(t),r=t.onReady_.bind(t),o=t.onRealtimeDisconnect_.bind(t),s=t.id+":"+n.nextConnectionId_++,a=t.lastSessionId;let c=!1,l=null;const u=function(){l?l.close():(c=!0,o())};t.realtime_={close:u,sendRequest:function(f){ue(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(f)}};const h=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[f,_]=yield Promise.all([t.authTokenProvider_.getToken(h),t.appCheckTokenProvider_.getToken(h)]);c?ki("getToken() completed but was canceled"):(ki("getToken() completed. Creating connection."),t.authToken_=f&&f.accessToken,t.appCheckToken_=_&&_.token,l=new pK(s,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,i,r,o,C=>{cr(C+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},a))}catch(f){t.log_("Failed to get token: "+f),c||(t.repoInfo_.nodeAdmin&&cr(f),u())}}})()}interrupt(t){ki("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){ki("Resuming connection for reason: "+t),delete this.interruptReasons_[t],zT(this.interruptReasons_)&&(this.reconnectDelay_=Im,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let r;r=i?i.map(s=>NR(s)).join("$"):"default";const o=this.removeListen_(t,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(t,i){const r=new Pt(t).toString();let o;if(this.listens.has(r)){const s=this.listens.get(r);o=s.get(i),s.delete(i),0===s.size&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(t,i){ki("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){ki("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";t["sdk."+i+"."+OR.replace(/\./g,"-")]=1,VT()?t["framework.cordova"]=1:n9()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=gw.getInstance().currentlyOnline();return zT(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class st{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new st(e,t)}}class mw{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const i=new st(xc,e),r=new st(xc,t);return 0!==this.compare(i,r)}minPost(){return st.MIN}}class CK extends mw{static get __EMPTY_NODE(){return _w}static set __EMPTY_NODE(e){_w=e}compare(e,t){return Kl(e.name,t.name)}isDefinedOn(e){throw Pd("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return st.MIN}maxPost(){return new st(ma,_w)}makePost(e,t){return ue("string"==typeof e,"KeyIndex indexValue must always be a string."),new st(e,_w)}toString(){return".key"}}const ks=new CK;class bw{constructor(e,t,i,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(s=t?i(e.key,t):1,r&&(s*=-1),s<0)e=this.isReverse_?e.left:e.right;else{if(0===s){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let WR,$o=(()=>{class n{constructor(t,i,r,o,s){this.key=t,this.value=i,this.color=r??n.RED,this.left=o??Ur.EMPTY_NODE,this.right=s??Ur.EMPTY_NODE}copy(t,i,r,o,s){return new n(t??this.key,i??this.value,r??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let o=this;const s=r(t,o.key);return o=s<0?o.copy(null,null,null,o.left.insert(t,i,r),null):0===s?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ur.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let r,o;if(r=this,i(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(t,r.key)){if(r.right.isEmpty())return Ur.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Ur{constructor(e,t=Ur.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Ur(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,$o.BLACK,null,null))}remove(e){return new Ur(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,$o.BLACK,null,null))}get(e){let t,i=this.root_;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t)return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}getPredecessorKey(e){let t,i=this.root_,r=null;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}t<0?i=i.left:t>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new bw(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new bw(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new bw(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new bw(this.root_,null,this.comparator_,!0,e)}}function CAe(n,e){return Kl(n.name,e.name)}function qR(n,e){return Kl(n,e)}Ur.EMPTY_NODE=new class xAe{copy(e,t,i,r,o){return this}insert(e,t,i){return new $o(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const EK=function(n){return"number"==typeof n?"number:"+HW(n):"string:"+n},IK=function(n){if(n.isLeafNode()){const e=n.val();ue("string"==typeof e||"number"==typeof e||"object"==typeof e&&Zs(e,".sv"),"Priority must be a string or number.")}else ue(n===WR||n.isEmpty(),"priority of unexpected type.");ue(n===WR||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let TK,DK,MK,Oh=(()=>{class n{constructor(t,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,ue(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),IK(this.priorityNode_)}static set __childrenNodeConstructor(t){TK=t}static get __childrenNodeConstructor(){return TK}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return it(t)?this:".priority"===nt(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return".priority"===t?this.updatePriority(i):i.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const r=nt(t);return null===r?i:i.isEmpty()&&".priority"!==r?this:(ue(".priority"!==r||1===Ec(t),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild($t(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+EK(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",t+="number"===i?HW(this.value_):this.value_,this.lazyHash_=BW(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:(ue(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,r=typeof this.value_,o=n.VALUE_TYPE_ORDER.indexOf(i),s=n.VALUE_TYPE_ORDER.indexOf(r);return ue(o>=0,"Unknown leaf type: "+i),ue(s>=0,"Unknown leaf type: "+r),o===s?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(t){return t===this||!!t.isLeafNode()&&(this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const rn=new class DAe extends mw{compare(e,t){const i=e.node.getPriority(),r=t.node.getPriority(),o=i.compareTo(r);return 0===o?Kl(e.name,t.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return st.MIN}maxPost(){return new st(ma,new Oh("[PRIORITY-POST]",MK))}makePost(e,t){const i=DK(e);return new st(t,new Oh("[PRIORITY-POST]",i))}toString(){return".priority"}},MAe=Math.log(2);class AAe{constructor(e){this.count=parseInt(Math.log(e+1)/MAe,10),this.current_=this.count-1;const r=(o=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const yw=function(n,e,t,i){n.sort(e);const r=function(c,l){const u=l-c;let d,h;if(0===u)return null;if(1===u)return d=n[c],h=t?t(d):d,new $o(h,d.node,$o.BLACK,null,null);{const f=parseInt(u/2,10)+c,_=r(c,f),C=r(f+1,l);return d=n[f],h=t?t(d):d,new $o(h,d.node,$o.BLACK,_,C)}},a=function(c){let l=null,u=null,d=n.length;const h=function(_,C){const I=d-_,O=d;d-=_;const M=r(I+1,O),B=n[I],Q=t?t(B):B;f(new $o(Q,B.node,C,null,M))},f=function(_){l?(l.left=_,l=_):(u=_,l=_)};for(let _=0;_<c.count;++_){const C=c.nextBitIsOne(),I=Math.pow(2,c.count-(_+1));C?h(I,$o.BLACK):(h(I,$o.BLACK),h(I,$o.RED))}return u}(new AAe(n.length));return new Ur(i||e,a)};let KR;const Ph={};class _a{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return ue(Ph&&rn,"ChildrenNode.ts has not been loaded"),KR=KR||new _a({".priority":Ph},{".priority":rn}),KR}get(e){const t=Nd(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Ur?t:null}hasIndex(e){return Zs(this.indexSet_,e.toString())}addIndex(e,t){ue(e!==ks,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const o=t.getIterator(st.Wrap);let a,s=o.getNext();for(;s;)r=r||e.isDefinedOn(s.node),i.push(s),s=o.getNext();a=r?yw(i,e.getCompare()):Ph;const c=e.toString(),l=Object.assign({},this.indexSet_);l[c]=e;const u=Object.assign({},this.indexes_);return u[c]=a,new _a(u,l)}addToIndexes(e,t){const i=tv(this.indexes_,(r,o)=>{const s=Nd(this.indexSet_,o);if(ue(s,"Missing index implementation for "+o),r===Ph){if(s.isDefinedOn(e.node)){const a=[],c=t.getIterator(st.Wrap);let l=c.getNext();for(;l;)l.name!==e.name&&a.push(l),l=c.getNext();return a.push(e),yw(a,s.getCompare())}return Ph}{const a=t.get(e.name);let c=r;return a&&(c=c.remove(new st(e.name,a))),c.insert(e,e.node)}});return new _a(i,this.indexSet_)}removeFromIndexes(e,t){const i=tv(this.indexes_,r=>{if(r===Ph)return r;{const o=t.get(e.name);return o?r.remove(new st(e.name,o)):r}});return new _a(i,this.indexSet_)}}let Tm,Ke=(()=>{class n{constructor(t,i,r){this.children_=t,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&IK(this.priorityNode_),this.children_.isEmpty()&&ue(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Tm||(Tm=new n(new Ur(qR),null,_a.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Tm}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const i=this.children_.get(t);return null===i?Tm:i}}getChild(t){const i=nt(t);return null===i?this:this.getImmediateChild(i).getChild($t(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,i){if(ue(i,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(i);{const r=new st(t,i);let o,s;i.isEmpty()?(o=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(t,i),s=this.indexMap_.addToIndexes(r,this.children_));const a=o.isEmpty()?Tm:this.priorityNode_;return new n(o,a,s)}}updateChild(t,i){const r=nt(t);if(null===r)return i;{ue(".priority"!==nt(t)||1===Ec(t),".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild($t(t),i);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let r=0,o=0,s=!0;if(this.forEachChild(rn,(a,c)=>{i[a]=c.val(t),r++,s&&n.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!t&&s&&o<2*r){const a=[];for(const c in i)a[c]=i[c];return a}return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+EK(this.getPriority().val())+":"),this.forEachChild(rn,(i,r)=>{const o=r.hash();""!==o&&(t+=":"+i+":"+o)}),this.lazyHash_=""===t?"":BW(t)}return this.lazyHash_}getPredecessorChildName(t,i,r){const o=this.resolveIndex_(r);if(o){const s=o.getPredecessorKey(new st(t,i));return s?s.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new st(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new st(i,this.children_.get(i)):null}forEachChild(t,i){const r=this.resolveIndex_(t);return r?r.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(t,o=>o);{const o=this.children_.getIteratorFrom(t.name,st.Wrap);let s=o.peek();for(;null!=s&&i.compare(s,t)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(t,o=>o);{const o=this.children_.getReverseIteratorFrom(t.name,st.Wrap);let s=o.peek();for(;null!=s&&i.compare(s,t)>0;)o.getNext(),s=o.peek();return o}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Dm?-1:0}withIndex(t){if(t===ks||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===ks||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(rn),o=i.getIterator(rn);let s=r.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=r.getNext(),a=o.getNext()}return null===s&&null===a}return!1}return!1}}resolveIndex_(t){return t===ks?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const Dm=new class SAe extends Ke{constructor(){super(new Ur(qR),Ke.EMPTY_NODE,_a.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Ke.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(st,{MIN:{value:new st(xc,Ke.EMPTY_NODE)},MAX:{value:new st(ma,Dm)}}),CK.__EMPTY_NODE=Ke.EMPTY_NODE,Oh.__childrenNodeConstructor=Ke,function EAe(n){WR=n}(Dm),function TAe(n){MK=n}(Dm);const kAe=!0;function Mn(n,e=null){if(null===n)return Ke.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),ue(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Oh(n,Mn(e));if(n instanceof Array||!kAe){let t=Ke.EMPTY_NODE;return Oi(n,(i,r)=>{if(Zs(n,i)&&"."!==i.substring(0,1)){const o=Mn(r);(o.isLeafNode()||!o.isEmpty())&&(t=t.updateImmediateChild(i,o))}}),t.updatePriority(Mn(e))}{const t=[];let i=!1;if(Oi(n,(s,a)=>{if("."!==s.substring(0,1)){const c=Mn(a);c.isEmpty()||(i=i||!c.getPriority().isEmpty(),t.push(new st(s,c)))}}),0===t.length)return Ke.EMPTY_NODE;const o=yw(t,CAe,s=>s.name,qR);if(i){const s=yw(t,rn.getCompare());return new Ke(o,Mn(e),new _a({".priority":s},{".priority":rn}))}return new Ke(o,Mn(e),_a.Default)}}!function IAe(n){DK=n}(Mn);class QR extends mw{constructor(e){super(),this.indexPath_=e,ue(!it(e)&&".priority"!==nt(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const i=this.extractChild(e.node),r=this.extractChild(t.node),o=i.compareTo(r);return 0===o?Kl(e.name,t.name):o}makePost(e,t){const i=Mn(e),r=Ke.EMPTY_NODE.updateChild(this.indexPath_,i);return new st(t,r)}maxPost(){const e=Ke.EMPTY_NODE.updateChild(this.indexPath_,Dm);return new st(ma,e)}toString(){return Em(this.indexPath_,0).join("/")}}const YR=new class OAe extends mw{compare(e,t){const i=e.node.compareTo(t.node);return 0===i?Kl(e.name,t.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return st.MIN}maxPost(){return st.MAX}makePost(e,t){const i=Mn(e);return new st(t,i)}toString(){return".value"}};function Am(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class ZR{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=rn}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return ue(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ue(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:xc}hasEnd(){return this.endSet_}getIndexEndValue(){return ue(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ue(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ma}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return ue(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===rn}copy(){const e=new ZR;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function SK(n){const e={};if(n.isDefault())return e;let t;if(n.index_===rn?t="$priority":n.index_===YR?t="$value":n.index_===ks?t="$key":(ue(n.index_ instanceof QR,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=Vi(t),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";e[i]=Vi(n.indexStartValue_),n.startNameSet_&&(e[i]+=","+Vi(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";e[i]=Vi(n.indexEndValue_),n.endNameSet_&&(e[i]+=","+Vi(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function kK(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==rn&&(e.i=n.index_.toString()),e}class ww extends gK{constructor(e,t,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=vm("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(ue(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,i,r){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const s=ww.getListenId_(e,i),a={};this.listens_[s]=a;const c=SK(e._queryParams);this.restRequest_(o+".json",c,(l,u)=>{let d=u;if(404===l&&(d=null,l=null),null===l&&this.onDataUpdate_(o,d,!1,i),Nd(this.listens_,s)===a){let h;h=l?401===l?"permission_denied":"rest_error:"+l:"ok",r(h,null)}})}unlisten(e,t){const i=ww.getListenId_(e,t);delete this.listens_[i]}get(e){const t=SK(e._queryParams),i=e._path.toString(),r=new Rd;return this.restRequest_(i+".json",t,(o,s)=>{let a=s;404===o&&(a=null,o=null),null===o?(this.onDataUpdate_(i,a,!1,null),r.resolve(a)):r.reject(new Error(a))}),r.promise}refreshAuthToken(e){}restRequest_(e,t={},i){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,o])=>{r&&r.accessToken&&(t.auth=r.accessToken),o&&o.token&&(t.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Pp(t);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(i&&4===a.readyState){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=Op(a.responseText)}catch{cr("Failed to parse JSON response for "+s+": "+a.responseText)}i(null,c)}else 401!==a.status&&404!==a.status&&cr("Got unsuccessful REST response for "+s+" Status: "+a.status),i(a.status);i=null}},a.open("GET",s,!0),a.send()})}}class UAe{constructor(){this.rootNode_=Ke.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function xw(){return{value:null,children:new Map}}function Nh(n,e,t){if(it(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const i=nt(e);n.children.has(i)||n.children.set(i,xw()),Nh(n.children.get(i),e=$t(e),t)}}function nN(n,e,t){null!==n.value?t(e,n.value):function zAe(n,e){n.children.forEach((t,i)=>{e(i,t)})}(n,(i,r)=>{nN(r,new Pt(e.toString()+"/"+i),t)})}class jAe{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Oi(this.last_,(i,r)=>{t[i]=t[i]-r}),this.last_=e,t}}class GAe{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new jAe(e);const i=1e4+2e4*Math.random();xm(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),t={};let i=!1;Oi(e,(r,o)=>{o>0&&Zs(this.statsToReport_,r)&&(t[r]=o,i=!0)}),i&&this.server_.reportStats(t),xm(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Os=function(n){return n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",n}(Os||{});function oN(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class Cw{constructor(e,t,i){this.path=e,this.affectedTree=t,this.revert=i,this.type=Os.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(it(this.path)){if(null!=this.affectedTree.value)return ue(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Pt(e));return new Cw(Tt(),t,this.revert)}}return ue(nt(this.path)===e,"operationForChild called for unrelated child."),new Cw($t(this.path),this.affectedTree,this.revert)}}class Xl{constructor(e,t,i){this.source=e,this.path=t,this.snap=i,this.type=Os.OVERWRITE}operationForChild(e){return it(this.path)?new Xl(this.source,Tt(),this.snap.getImmediateChild(e)):new Xl(this.source,$t(this.path),this.snap)}}class Fh{constructor(e,t,i){this.source=e,this.path=t,this.children=i,this.type=Os.MERGE}operationForChild(e){if(it(this.path)){const t=this.children.subtree(new Pt(e));return t.isEmpty()?null:t.value?new Xl(this.source,Tt(),t.value):new Fh(this.source,Tt(),t)}return ue(nt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Fh(this.source,$t(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Ic{constructor(e,t,i){this.node_=e,this.fullyInitialized_=t,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(it(e))return this.isFullyInitialized()&&!this.filtered_;const t=nt(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function Om(n,e,t,i,r,o){const s=i.filter(a=>a.type===t);s.sort((a,c)=>function QAe(n,e,t){if(null==e.childName||null==t.childName)throw Pd("Should only compare child_ events.");const i=new st(e.childName,e.snapshotNode),r=new st(t.childName,t.snapshotNode);return n.index_.compare(i,r)}(n,a,c)),s.forEach(a=>{const c=function KAe(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,a,o);r.forEach(l=>{l.respondsTo(a.type)&&e.push(l.createEvent(c,n.query_))})})}function Ew(n,e){return{eventCache:n,serverCache:e}}function Pm(n,e,t,i){return Ew(new Ic(e,t,i),n.serverCache)}function PK(n,e,t,i){return Ew(n.eventCache,new Ic(e,t,i))}function Iw(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Zl(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let sN;class on{constructor(e,t=(()=>(sN||(sN=new Ur(PMe)),sN))()){this.value=e,this.children=t}static fromObject(e){let t=new on(null);return Oi(e,(i,r)=>{t=t.set(new Pt(i),r)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:Tt(),value:this.value};if(it(e))return null;{const i=nt(e),r=this.children.get(i);if(null!==r){const o=r.findRootMostMatchingPathAndValue($t(e),t);return null!=o?{path:vn(new Pt(i),o.path),value:o.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(it(e))return this;{const t=nt(e),i=this.children.get(t);return null!==i?i.subtree($t(e)):new on(null)}}set(e,t){if(it(e))return new on(t,this.children);{const i=nt(e),o=(this.children.get(i)||new on(null)).set($t(e),t),s=this.children.insert(i,o);return new on(this.value,s)}}remove(e){if(it(e))return this.children.isEmpty()?new on(null):new on(null,this.children);{const t=nt(e),i=this.children.get(t);if(i){const r=i.remove($t(e));let o;return o=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&o.isEmpty()?new on(null):new on(this.value,o)}return this}}get(e){if(it(e))return this.value;{const t=nt(e),i=this.children.get(t);return i?i.get($t(e)):null}}setTree(e,t){if(it(e))return t;{const i=nt(e),o=(this.children.get(i)||new on(null)).setTree($t(e),t);let s;return s=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new on(this.value,s)}}fold(e){return this.fold_(Tt(),e)}fold_(e,t){const i={};return this.children.inorderTraversal((r,o)=>{i[r]=o.fold_(vn(e,r),t)}),t(e,this.value,i)}findOnPath(e,t){return this.findOnPath_(e,Tt(),t)}findOnPath_(e,t,i){const r=!!this.value&&i(t,this.value);if(r)return r;if(it(e))return null;{const o=nt(e),s=this.children.get(o);return s?s.findOnPath_($t(e),vn(t,o),i):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Tt(),t)}foreachOnPath_(e,t,i){if(it(e))return this;{this.value&&i(t,this.value);const r=nt(e),o=this.children.get(r);return o?o.foreachOnPath_($t(e),vn(t,r),i):new on(null)}}foreach(e){this.foreach_(Tt(),e)}foreach_(e,t){this.children.inorderTraversal((i,r)=>{r.foreach_(vn(e,i),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,i)=>{i.value&&e(t,i.value)})}}class Go{constructor(e){this.writeTree_=e}static empty(){return new Go(new on(null))}}function Rm(n,e,t){if(it(e))return new Go(new on(t));{const i=n.writeTree_.findRootMostValueAndPath(e);if(null!=i){const r=i.path;let o=i.value;const s=Er(r,e);return o=o.updateChild(s,t),new Go(n.writeTree_.set(r,o))}{const r=new on(t),o=n.writeTree_.setTree(e,r);return new Go(o)}}}function aN(n,e,t){let i=n;return Oi(t,(r,o)=>{i=Rm(i,vn(e,r),o)}),i}function RK(n,e){if(it(e))return Go.empty();{const t=n.writeTree_.setTree(e,new on(null));return new Go(t)}}function cN(n,e){return null!=Jl(n,e)}function Jl(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(Er(t.path,e)):null}function NK(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(rn,(i,r)=>{e.push(new st(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&e.push(new st(i,r.value))}),e}function Tc(n,e){if(it(e))return n;{const t=Jl(n,e);return new Go(null!=t?new on(t):n.writeTree_.subtree(e))}}function lN(n){return n.writeTree_.isEmpty()}function Lh(n,e){return FK(Tt(),n.writeTree_,e)}function FK(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let i=null;return e.children.inorderTraversal((r,o)=>{".priority"===r?(ue(null!==o.value,"Priority writes must always be leaf nodes"),i=o.value):t=FK(vn(n,r),o,t)}),!t.getChild(n).isEmpty()&&null!==i&&(t=t.updateChild(vn(n,".priority"),i)),t}}function Tw(n,e){return zK(e,n)}function tSe(n,e){if(n.snap)return yo(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&yo(vn(n.path,t),e))return!0;return!1}function iSe(n){return n.visible}function LK(n,e,t){let i=Go.empty();for(let r=0;r<n.length;++r){const o=n[r];if(e(o)){const s=o.path;let a;if(o.snap)yo(t,s)?(a=Er(t,s),i=Rm(i,a,o.snap)):yo(s,t)&&(a=Er(s,t),i=Rm(i,Tt(),o.snap.getChild(a)));else{if(!o.children)throw Pd("WriteRecord should have .snap or .children");if(yo(t,s))a=Er(t,s),i=aN(i,a,o.children);else if(yo(s,t))if(a=Er(s,t),it(a))i=aN(i,Tt(),o.children);else{const c=Nd(o.children,nt(a));if(c){const l=c.getChild($t(a));i=Rm(i,Tt(),l)}}}}}return i}function VK(n,e,t,i,r){if(i||r){const o=Tc(n.visibleWrites,e);return!r&&lN(o)?t:r||null!=t||cN(o,Tt())?Lh(LK(n.allWrites,function(l){return(l.visible||r)&&(!i||!~i.indexOf(l.writeId))&&(yo(l.path,e)||yo(e,l.path))},e),t||Ke.EMPTY_NODE):null}{const o=Jl(n.visibleWrites,e);if(null!=o)return o;{const s=Tc(n.visibleWrites,e);return lN(s)?t:null!=t||cN(s,Tt())?Lh(s,t||Ke.EMPTY_NODE):null}}}function Dw(n,e,t,i){return VK(n.writeTree,n.treePath,e,t,i)}function uN(n,e){return function rSe(n,e,t){let i=Ke.EMPTY_NODE;const r=Jl(n.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(rn,(o,s)=>{i=i.updateImmediateChild(o,s)}),i;if(t){const o=Tc(n.visibleWrites,e);return t.forEachChild(rn,(s,a)=>{const c=Lh(Tc(o,new Pt(s)),a);i=i.updateImmediateChild(s,c)}),NK(o).forEach(s=>{i=i.updateImmediateChild(s.name,s.node)}),i}return NK(Tc(n.visibleWrites,e)).forEach(s=>{i=i.updateImmediateChild(s.name,s.node)}),i}(n.writeTree,n.treePath,e)}function BK(n,e,t,i){return function oSe(n,e,t,i,r){ue(i||r,"Either existingEventSnap or existingServerSnap must exist");const o=vn(e,t);if(cN(n.visibleWrites,o))return null;{const s=Tc(n.visibleWrites,o);return lN(s)?r.getChild(t):Lh(s,r.getChild(t))}}(n.writeTree,n.treePath,e,t,i)}function Mw(n,e){return function aSe(n,e){return Jl(n.visibleWrites,e)}(n.writeTree,vn(n.treePath,e))}function dN(n,e,t){return function sSe(n,e,t,i){const r=vn(e,t),o=Jl(n.visibleWrites,r);return null!=o?o:i.isCompleteForChild(t)?Lh(Tc(n.visibleWrites,r),i.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function UK(n,e){return zK(vn(n.treePath,e),n.writeTree)}function zK(n,e){return{treePath:n,writeTree:e}}class dSe{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,i=e.childName;ue("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),ue(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const o=r.type;if("child_added"===t&&"child_removed"===o)this.changeMap.set(i,Am(i,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===o)this.changeMap.delete(i);else if("child_removed"===t&&"child_changed"===o)this.changeMap.set(i,function Mm(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}(i,r.oldSnap));else if("child_changed"===t&&"child_added"===o)this.changeMap.set(i,function Rh(n,e){return{type:"child_added",snapshotNode:e,childName:n}}(i,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==o)throw Pd("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(i,Am(i,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}const jK=new class hSe{getCompleteChild(e){return null}getChildAfterChild(e,t,i){return null}};class hN{constructor(e,t,i=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=i}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const i=null!=this.optCompleteServerCache_?new Ic(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return dN(this.writes_,e,i)}}getChildAfterChild(e,t,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Zl(this.viewCache_),o=function uSe(n,e,t,i,r,o){return function cSe(n,e,t,i,r,o,s){let a;const c=Tc(n.visibleWrites,e),l=Jl(c,Tt());if(null!=l)a=l;else{if(null==t)return[];a=Lh(c,t)}if(a=a.withIndex(s),a.isEmpty()||a.isLeafNode())return[];{const u=[],d=s.getCompare(),h=o?a.getReverseIteratorFrom(i,s):a.getIteratorFrom(i,s);let f=h.getNext();for(;f&&u.length<r;)0!==d(f,i)&&u.push(f),f=h.getNext();return u}}(n.writeTree,n.treePath,e,t,i,r,o)}(this.writes_,r,t,1,i,e);return 0===o.length?null:o[0]}}function HK(n,e,t,i,r,o){const s=e.eventCache;if(null!=Mw(i,t))return e;{let a,c;if(it(t))if(ue(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const l=Zl(e),d=uN(i,l instanceof Ke?l:Ke.EMPTY_NODE);a=n.filter.updateFullNode(e.eventCache.getNode(),d,o)}else{const l=Dw(i,Zl(e));a=n.filter.updateFullNode(e.eventCache.getNode(),l,o)}else{const l=nt(t);if(".priority"===l){ue(1===Ec(t),"Can't have a priority with additional path components");const u=s.getNode();c=e.serverCache.getNode();const d=BK(i,t,u,c);a=null!=d?n.filter.updatePriority(u,d):s.getNode()}else{const u=$t(t);let d;if(s.isCompleteForChild(l)){c=e.serverCache.getNode();const h=BK(i,t,s.getNode(),c);d=null!=h?s.getNode().getImmediateChild(l).updateChild(u,h):s.getNode().getImmediateChild(l)}else d=dN(i,l,e.serverCache);a=null!=d?n.filter.updateChild(s.getNode(),l,d,u,r,o):s.getNode()}}return Pm(e,a,s.isFullyInitialized()||it(t),n.filter.filtersNodes())}}function Aw(n,e,t,i,r,o,s,a){const c=e.serverCache;let l;const u=s?n.filter:n.filter.getIndexedFilter();if(it(t))l=u.updateFullNode(c.getNode(),i,null);else if(u.filtersNodes()&&!c.isFiltered()){const f=c.getNode().updateChild(t,i);l=u.updateFullNode(c.getNode(),f,null)}else{const f=nt(t);if(!c.isCompleteForPath(t)&&Ec(t)>1)return e;const _=$t(t),I=c.getNode().getImmediateChild(f).updateChild(_,i);l=".priority"===f?u.updatePriority(c.getNode(),I):u.updateChild(c.getNode(),f,I,_,jK,null)}const d=PK(e,l,c.isFullyInitialized()||it(t),u.filtersNodes());return HK(n,d,t,r,new hN(r,d,o),a)}function fN(n,e,t,i,r,o,s){const a=e.eventCache;let c,l;const u=new hN(r,e,o);if(it(t))l=n.filter.updateFullNode(e.eventCache.getNode(),i,s),c=Pm(e,l,!0,n.filter.filtersNodes());else{const d=nt(t);if(".priority"===d)l=n.filter.updatePriority(e.eventCache.getNode(),i),c=Pm(e,l,a.isFullyInitialized(),a.isFiltered());else{const h=$t(t),f=a.getNode().getImmediateChild(d);let _;if(it(h))_=i;else{const C=u.getCompleteChild(d);_=null!=C?".priority"===HR(h)&&C.getChild(yK(h)).isEmpty()?C:C.updateChild(h,i):Ke.EMPTY_NODE}c=f.equals(_)?e:Pm(e,n.filter.updateChild(a.getNode(),d,_,h,u,s),a.isFullyInitialized(),n.filter.filtersNodes())}}return c}function $K(n,e){return n.eventCache.isCompleteForChild(e)}function GK(n,e,t){return t.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function pN(n,e,t,i,r,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l,c=e;l=it(t)?i:new on(null).setTree(t,i);const u=e.serverCache.getNode();return l.children.inorderTraversal((d,h)=>{if(u.hasChild(d)){const _=GK(0,e.serverCache.getNode().getImmediateChild(d),h);c=Aw(n,c,new Pt(d),_,r,o,s,a)}}),l.children.inorderTraversal((d,h)=>{const f=!e.serverCache.isCompleteForChild(d)&&null===h.value;if(!u.hasChild(d)&&!f){const C=GK(0,e.serverCache.getNode().getImmediateChild(d),h);c=Aw(n,c,new Pt(d),C,r,o,s,a)}}),c}function ESe(n,e){const t=Zl(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!it(e)&&!t.getImmediateChild(nt(e)).isEmpty())?t.getChild(e):null}function KK(n,e,t,i){e.type===Os.MERGE&&null!==e.source.queryId&&(ue(Zl(n.viewCache_),"We should always have a full cache before handling merges"),ue(Iw(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,o=function gSe(n,e,t,i,r){const o=new dSe;let s,a;if(t.type===Os.OVERWRITE){const l=t;l.source.fromUser?s=fN(n,e,l.path,l.snap,i,r,o):(ue(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered()&&!it(l.path),s=Aw(n,e,l.path,l.snap,i,r,a,o))}else if(t.type===Os.MERGE){const l=t;l.source.fromUser?s=function _Se(n,e,t,i,r,o,s){let a=e;return i.foreach((c,l)=>{const u=vn(t,c);$K(e,nt(u))&&(a=fN(n,a,u,l,r,o,s))}),i.foreach((c,l)=>{const u=vn(t,c);$K(e,nt(u))||(a=fN(n,a,u,l,r,o,s))}),a}(n,e,l.path,l.children,i,r,o):(ue(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered(),s=pN(n,e,l.path,l.children,i,r,a,o))}else if(t.type===Os.ACK_USER_WRITE){const l=t;s=l.revert?function vSe(n,e,t,i,r,o){let s;if(null!=Mw(i,t))return e;{const a=new hN(i,e,r),c=e.eventCache.getNode();let l;if(it(t)||".priority"===nt(t)){let u;if(e.serverCache.isFullyInitialized())u=Dw(i,Zl(e));else{const d=e.serverCache.getNode();ue(d instanceof Ke,"serverChildren would be complete if leaf node"),u=uN(i,d)}l=n.filter.updateFullNode(c,u,o)}else{const u=nt(t);let d=dN(i,u,e.serverCache);null==d&&e.serverCache.isCompleteForChild(u)&&(d=c.getImmediateChild(u)),l=null!=d?n.filter.updateChild(c,u,d,$t(t),a,o):e.eventCache.getNode().hasChild(u)?n.filter.updateChild(c,u,Ke.EMPTY_NODE,$t(t),a,o):c,l.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=Dw(i,Zl(e)),s.isLeafNode()&&(l=n.filter.updateFullNode(l,s,o)))}return s=e.serverCache.isFullyInitialized()||null!=Mw(i,Tt()),Pm(e,l,s,n.filter.filtersNodes())}}(n,e,l.path,i,r,o):function bSe(n,e,t,i,r,o,s){if(null!=Mw(r,t))return e;const a=e.serverCache.isFiltered(),c=e.serverCache;if(null!=i.value){if(it(t)&&c.isFullyInitialized()||c.isCompleteForPath(t))return Aw(n,e,t,c.getNode().getChild(t),r,o,a,s);if(it(t)){let l=new on(null);return c.getNode().forEachChild(ks,(u,d)=>{l=l.set(new Pt(u),d)}),pN(n,e,t,l,r,o,a,s)}return e}{let l=new on(null);return i.foreach((u,d)=>{const h=vn(t,u);c.isCompleteForPath(h)&&(l=l.set(u,c.getNode().getChild(h)))}),pN(n,e,t,l,r,o,a,s)}}(n,e,l.path,l.affectedTree,i,r,o)}else{if(t.type!==Os.LISTEN_COMPLETE)throw Pd("Unknown operation type: "+t.type);s=function ySe(n,e,t,i,r){const o=e.serverCache;return HK(n,PK(e,o.getNode(),o.isFullyInitialized()||it(t),o.isFiltered()),t,i,jK,r)}(n,e,t.path,i,o)}const c=o.getChanges();return function mSe(n,e,t){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=Iw(n);(t.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&t.push(function AK(n){return{type:"value",snapshotNode:n}}(Iw(e)))}}(e,s,c),{viewCache:s,changes:c}}(n.processor_,r,e,t,i);return function pSe(n,e){ue(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),ue(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,o.viewCache),ue(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=o.viewCache,function QK(n,e,t,i){return function WAe(n,e,t,i){const r=[],o=[];return e.forEach(s=>{"child_changed"===s.type&&n.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(function PAe(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(s.childName,s.snapshotNode))}),Om(n,r,"child_removed",e,i,t),Om(n,r,"child_added",e,i,t),Om(n,r,"child_moved",o,i,t),Om(n,r,"child_changed",e,i,t),Om(n,r,"value",e,i,t),r}(n.eventGenerator_,e,t,i?[i]:n.eventRegistrations_)}(n,o.changes,o.viewCache.eventCache.getNode(),null)}let Sw,Ow;function gN(n,e,t,i){const r=e.source.queryId;if(null!==r){const o=n.views.get(r);return ue(null!=o,"SyncTree gave us an op for an invalid query."),KK(o,e,t,i)}{let o=[];for(const s of n.views.values())o=o.concat(KK(s,e,t,i));return o}}function Dc(n,e){let t=null;for(const i of n.views.values())t=t||ESe(i,e);return t}class tQ{constructor(e){this.listenProvider_=e,this.syncPointTree_=new on(null),this.pendingWriteTree_=function lSe(){return{visibleWrites:Go.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function mN(n,e,t,i,r){return function XAe(n,e,t,i,r){ue(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:e,snap:t,writeId:i,visible:r}),r&&(n.visibleWrites=Rm(n.visibleWrites,e,t)),n.lastWriteId=i}(n.pendingWriteTree_,e,t,i,r),r?Vh(n,new Xl({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function Ac(n,e,t=!1){const i=function JAe(n,e){for(let t=0;t<n.allWrites.length;t++){const i=n.allWrites[t];if(i.writeId===e)return i}return null}(n.pendingWriteTree_,e);if(function eSe(n,e){const t=n.allWrites.findIndex(a=>a.writeId===e);ue(t>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[t];n.allWrites.splice(t,1);let r=i.visible,o=!1,s=n.allWrites.length-1;for(;r&&s>=0;){const a=n.allWrites[s];a.visible&&(s>=t&&tSe(a,i.path)?r=!1:yo(i.path,a.path)&&(o=!0)),s--}return!!r&&(o?(function nSe(n){n.visibleWrites=LK(n.allWrites,iSe,Tt()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=RK(n.visibleWrites,i.path):Oi(i.children,c=>{n.visibleWrites=RK(n.visibleWrites,vn(i.path,c))}),!0))}(n.pendingWriteTree_,e)){let o=new on(null);return null!=i.snap?o=o.set(Tt(),!0):Oi(i.children,s=>{o=o.set(new Pt(s),!0)}),Vh(n,new Cw(i.path,o,t))}return[]}function Nm(n,e,t){return Vh(n,new Xl({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function Rw(n,e,t){const r=n.pendingWriteTree_,o=n.syncPointTree_.findOnPath(e,(s,a)=>{const l=Dc(a,Er(s,e));if(l)return l});return VK(r,e,o,t,!0)}function Vh(n,e){return iQ(e,n.syncPointTree_,null,Tw(n.pendingWriteTree_,Tt()))}function iQ(n,e,t,i){if(it(n.path))return rQ(n,e,t,i);{const r=e.get(Tt());null==t&&null!=r&&(t=Dc(r,Tt()));let o=[];const s=nt(n.path),a=n.operationForChild(s),c=e.children.get(s);if(c&&a){const l=t?t.getImmediateChild(s):null,u=UK(i,s);o=o.concat(iQ(a,c,l,u))}return r&&(o=o.concat(gN(r,n,i,t))),o}}function rQ(n,e,t,i){const r=e.get(Tt());null==t&&null!=r&&(t=Dc(r,Tt()));let o=[];return e.children.inorderTraversal((s,a)=>{const c=t?t.getImmediateChild(s):null,l=UK(i,s),u=n.operationForChild(s);u&&(o=o.concat(rQ(u,a,c,l)))}),r&&(o=o.concat(gN(r,n,i,t))),o}function bN(n,e){return n.tagToQueryMap.get(e)}function yN(n){const e=n.indexOf("$");return ue(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new Pt(n.substr(0,e))}}function vN(n,e,t){const i=n.syncPointTree_.get(e);return ue(i,"Missing sync point for query tag that we're tracking"),gN(i,t,Tw(n.pendingWriteTree_,e),null)}class wN{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new wN(t)}node(){return this.node_}}class xN{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=vn(this.path_,e);return new xN(this.syncTree_,t)}node(){return Rw(this.syncTree_,this.path_)}}const GSe=function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n},sQ=function(n,e,t){return n&&"object"==typeof n?(ue(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?qSe(n[".sv"],e,t):"object"==typeof n[".sv"]?WSe(n[".sv"],e):void ue(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},qSe=function(n,e,t){if("timestamp"===n)return t.timestamp;ue(!1,"Unexpected server value: "+n)},WSe=function(n,e,t){n.hasOwnProperty("increment")||ue(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&ue(!1,"Unexpected increment value: "+i);const r=e.node();if(ue(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const s=r.getValue();return"number"!=typeof s?i:s+i},aQ=function(n,e,t,i){return EN(e,new xN(t,n),i)},CN=function(n,e,t){return EN(n,new wN(e),t)};function EN(n,e,t){const i=n.getPriority().val(),r=sQ(i,e.getImmediateChild(".priority"),t);let o;if(n.isLeafNode()){const s=n,a=sQ(s.getValue(),e,t);return a!==s.getValue()||r!==s.getPriority().val()?new Oh(a,Mn(r)):n}{const s=n;return o=s,r!==s.getPriority().val()&&(o=o.updatePriority(new Oh(r))),s.forEachChild(rn,(a,c)=>{const l=EN(c,e.getImmediateChild(a),t);l!==c&&(o=o.updateImmediateChild(a,l))}),o}}class IN{constructor(e="",t=null,i={children:{},childCount:0}){this.name=e,this.parent=t,this.node=i}}function Fw(n,e){let t=e instanceof Pt?e:new Pt(e),i=n,r=nt(t);for(;null!==r;){const o=Nd(i.node.children,r)||{children:{},childCount:0};i=new IN(r,i,o),t=$t(t),r=nt(t)}return i}function eu(n){return n.node.value}function TN(n,e){n.node.value=e,DN(n)}function cQ(n){return n.node.childCount>0}function Lw(n,e){Oi(n.node.children,(t,i)=>{e(new IN(t,n,i))})}function lQ(n,e,t,i){t&&!i&&e(n),Lw(n,r=>{lQ(r,e,!0,i)}),t&&i&&e(n)}function Vm(n){return new Pt(null===n.parent?n.name:Vm(n.parent)+"/"+n.name)}function DN(n){null!==n.parent&&function YSe(n,e,t){const i=function KSe(n){return void 0===eu(n)&&!cQ(n)}(t),r=Zs(n.node.children,e);i&&r?(delete n.node.children[e],n.node.childCount--,DN(n)):!i&&!r&&(n.node.children[e]=t.node,n.node.childCount++,DN(n))}(n.parent,n.name,n)}const XSe=/[\[\].#$\/\u0000-\u001F\u007F]/,ZSe=/[\[\].#$\u0000-\u001F\u007F]/,MN=10485760,Vw=function(n){return"string"==typeof n&&0!==n.length&&!XSe.test(n)},Um=function(n,e,t){const i=t instanceof Pt?new gAe(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+Ql(i));if("function"==typeof e)throw new Error(n+"contains a function "+Ql(i)+" with contents = "+e.toString());if(hw(e))throw new Error(n+"contains "+e.toString()+" "+Ql(i));if("string"==typeof e&&e.length>MN/3&&rv(e)>MN)throw new Error(n+"contains a string greater than "+MN+" utf8 bytes "+Ql(i)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let r=!1,o=!1;if(Oi(e,(s,a)=>{if(".value"===s)r=!0;else if(".priority"!==s&&".sv"!==s&&(o=!0,!Vw(s)))throw new Error(n+" contains an invalid key ("+s+") "+Ql(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function mAe(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=rv(e),vK(n)})(i,s),Um(n,a,i),function _Ae(n){const e=n.parts_.pop();n.byteLength_-=rv(e),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&o)throw new Error(n+' contains ".value" child '+Ql(i)+" in addition to actual children.")}},hQ=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!Vw(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),function(n){return"string"==typeof n&&0!==n.length&&!ZSe.test(n)}(n)}(t))throw new Error(function iv(n,e){return`${n} failed: ${e} argument `}(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class nke{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function eo(n,e,t){(function Bw(n,e){let t=null;for(let i=0;i<e.length;i++){const r=e[i],o=r.getPath();null!==t&&!$R(o,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:o}),t.events.push(r)}t&&n.eventLists_.push(t)})(n,t),function pQ(n,e){n.recursionDepth_++;let t=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(e(r.path)?(ike(n.eventLists_[i]),n.eventLists_[i]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}(n,i=>yo(i,e)||yo(e,i))}function ike(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const i=t.getEventRunner();Wl&&ki("event: "+t.toString()),Sh(i)}}}const rke=25;class oke{constructor(e,t,i,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new nke,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=xw(),this.transactionQueueTree_=new IN,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function mQ(n){const t=n.infoData_.getNode(new Pt(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function jm(n){return GSe({timestamp:mQ(n)})}function _Q(n,e,t,i,r){n.dataUpdateCount++;const o=new Pt(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let s=[];if(r)if(i){const c=tv(t,l=>Mn(l));s=function BSe(n,e,t,i){const r=bN(n,i);if(r){const o=yN(r),s=o.path,a=o.queryId,c=Er(s,e),l=on.fromObject(t);return vN(n,s,new Fh(oN(a),c,l))}return[]}(n.serverSyncTree_,o,c,r)}else{const c=Mn(t);s=function nQ(n,e,t,i){const r=bN(n,i);if(null!=r){const o=yN(r),s=o.path,a=o.queryId,c=Er(s,e);return vN(n,s,new Xl(oN(a),c,t))}return[]}(n.serverSyncTree_,o,c,r)}else if(i){const c=tv(t,l=>Mn(l));s=function FSe(n,e,t){const i=on.fromObject(t);return Vh(n,new Fh({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,i))}(n.serverSyncTree_,o,c)}else{const c=Mn(t);s=Nm(n.serverSyncTree_,o,c)}let a=o;s.length>0&&(a=Uh(n,o)),eo(n.eventQueue_,a,s)}function bQ(n,e){kN(n,"connected",e),!1===e&&function uke(n){Bh(n,"onDisconnectEvents");const e=jm(n),t=xw();nN(n.onDisconnect_,Tt(),(r,o)=>{const s=aQ(r,o,n.serverSyncTree_,e);Nh(t,r,s)});let i=[];nN(t,Tt(),(r,o)=>{i=i.concat(Nm(n.serverSyncTree_,r,o));const s=function NN(n,e){const t=Vm(wQ(n,e)),i=Fw(n.transactionQueueTree_,e);return function QSe(n,e,t){let i=t?n:n.parent;for(;null!==i;){if(e(i))return!0;i=i.parent}}(i,r=>{FN(n,r)}),FN(n,i),lQ(i,r=>{FN(n,r)}),t}(n,r);Uh(n,s)}),n.onDisconnect_=xw(),eo(n.eventQueue_,Tt(),i)}(n)}function kN(n,e,t){const i=new Pt("/.info/"+e),r=Mn(t);n.infoData_.updateSnapshot(i,r);const o=Nm(n.infoSyncTree_,i,r);eo(n.eventQueue_,i,o)}function Uw(n){return n.nextWriteId_++}function Bh(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),ki(t,...e)}function RN(n,e,t){return Rw(n.serverSyncTree_,e,t)||Ke.EMPTY_NODE}function zw(n,e=n.transactionQueueTree_){if(e||jw(n,e),eu(e)){const t=xQ(n,e);ue(t.length>0,"Sending zero length transaction queue"),t.every(r=>0===r.status)&&function _ke(n,e,t){const i=t.map(l=>l.currentWriteId),r=RN(n,e,i);let o=r;const s=r.hash();for(let l=0;l<t.length;l++){const u=t[l];ue(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=Er(e,u.path);o=o.updateChild(d,u.currentOutputSnapshotRaw)}const a=o.val(!0),c=e;n.server_.put(c.toString(),a,l=>{Bh(n,"transaction put response",{path:c.toString(),status:l});let u=[];if("ok"===l){const d=[];for(let h=0;h<t.length;h++)t[h].status=2,u=u.concat(Ac(n.serverSyncTree_,t[h].currentWriteId)),t[h].onComplete&&d.push(()=>t[h].onComplete(null,!0,t[h].currentOutputSnapshotResolved)),t[h].unwatcher();jw(n,Fw(n.transactionQueueTree_,e)),zw(n,n.transactionQueueTree_),eo(n.eventQueue_,e,u);for(let h=0;h<d.length;h++)Sh(d[h])}else{if("datastale"===l)for(let d=0;d<t.length;d++)t[d].status=3===t[d].status?4:0;else{cr("transaction at "+c.toString()+" failed: "+l);for(let d=0;d<t.length;d++)t[d].status=4,t[d].abortReason=l}Uh(n,e)}},s)}(n,Vm(e),t)}else cQ(e)&&Lw(e,t=>{zw(n,t)})}function Uh(n,e){const t=wQ(n,e),i=Vm(t);return function bke(n,e,t){if(0===e.length)return;const i=[];let r=[];const s=e.filter(a=>0===a.status).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const c=e[a],l=Er(t,c.path);let d,u=!1;if(ue(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===c.status)u=!0,d=c.abortReason,r=r.concat(Ac(n.serverSyncTree_,c.currentWriteId,!0));else if(0===c.status)if(c.retryCount>=rke)u=!0,d="maxretry",r=r.concat(Ac(n.serverSyncTree_,c.currentWriteId,!0));else{const h=RN(n,c.path,s);c.currentInputSnapshot=h;const f=e[a].update(h.val());if(void 0!==f){Um("transaction failed: Data returned ",f,c.path);let _=Mn(f);"object"==typeof f&&null!=f&&Zs(f,".priority")||(_=_.updatePriority(h.getPriority()));const I=c.currentWriteId,O=jm(n),M=CN(_,h,O);c.currentOutputSnapshotRaw=_,c.currentOutputSnapshotResolved=M,c.currentWriteId=Uw(n),s.splice(s.indexOf(I),1),r=r.concat(mN(n.serverSyncTree_,c.path,M,c.currentWriteId,c.applyLocally)),r=r.concat(Ac(n.serverSyncTree_,I,!0))}else u=!0,d="nodata",r=r.concat(Ac(n.serverSyncTree_,c.currentWriteId,!0))}eo(n.eventQueue_,t,r),r=[],u&&(e[a].status=2,setTimeout(e[a].unwatcher,Math.floor(0)),e[a].onComplete&&i.push("nodata"===d?()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot):()=>e[a].onComplete(new Error(d),!1,null)))}jw(n,n.transactionQueueTree_);for(let a=0;a<i.length;a++)Sh(i[a]);zw(n,n.transactionQueueTree_)}(n,xQ(n,t),i),i}function wQ(n,e){let t,i=n.transactionQueueTree_;for(t=nt(e);null!==t&&void 0===eu(i);)i=Fw(i,t),t=nt(e=$t(e));return i}function xQ(n,e){const t=[];return CQ(n,e,t),t.sort((i,r)=>i.order-r.order),t}function CQ(n,e,t){const i=eu(e);if(i)for(let r=0;r<i.length;r++)t.push(i[r]);Lw(e,r=>{CQ(n,r,t)})}function jw(n,e){const t=eu(e);if(t){let i=0;for(let r=0;r<t.length;r++)2!==t[r].status&&(t[i]=t[r],i++);t.length=i,TN(e,t.length>0?t:void 0)}Lw(e,i=>{jw(n,i)})}function FN(n,e){const t=eu(e);if(t){const i=[];let r=[],o=-1;for(let s=0;s<t.length;s++)3===t[s].status||(1===t[s].status?(ue(o===s-1,"All SENT items should be at beginning of queue."),o=s,t[s].status=3,t[s].abortReason="set"):(ue(0===t[s].status,"Unexpected transaction status in abort"),t[s].unwatcher(),r=r.concat(Ac(n.serverSyncTree_,t[s].currentWriteId,!0)),t[s].onComplete&&i.push(t[s].onComplete.bind(null,new Error("set"),!1,null))));-1===o?TN(e,void 0):t.length=o+1,eo(n.eventQueue_,Vm(e),r);for(let s=0;s<i.length;s++)Sh(i[s])}}const LN=function(n,e){const t=wke(n),i=t.namespace;return"firebase.com"===t.domain&&Ss(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==t.domain&&Ss("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&cr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new LR(t.host,t.secure,i,"ws"===t.scheme||"wss"===t.scheme,e,"",i!==t.subdomain),path:new Pt(t.pathString)}},wke=function(n){let e="",t="",i="",r="",o="",s=!0,a="https",c=443;if("string"==typeof n){let l=n.indexOf("//");l>=0&&(a=n.substring(0,l-1),n=n.substring(l+2));let u=n.indexOf("/");-1===u&&(u=n.length);let d=n.indexOf("?");-1===d&&(d=n.length),e=n.substring(0,Math.min(u,d)),u<d&&(r=function yke(n){let e="";const t=n.split("/");for(let i=0;i<t.length;i++)if(t[i].length>0){let r=t[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}(n.substring(u,d)));const h=function vke(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const i=t.split("=");2===i.length?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):cr(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,d)));l=e.indexOf(":"),l>=0?(s="https"===a||"wss"===a,c=parseInt(e.substring(l+1),10)):l=e.length;const f=e.slice(0,l);if("localhost"===f.toLowerCase())t="localhost";else if(f.split(".").length<=2)t=f;else{const _=e.indexOf(".");i=e.substring(0,_).toLowerCase(),t=e.substring(_+1),o=i}"ns"in h&&(o=h.ns)}return{host:e,port:c,domain:t,subdomain:i,secure:s,scheme:a,pathString:r,namespace:o}};class to{constructor(e,t,i,r){this._repo=e,this._path=t,this._queryParams=i,this._orderByCalled=r}get key(){return it(this._path)?null:HR(this._path)}get ref(){return new qo(this._repo,this._path)}get _queryIdentifier(){const e=kK(this._queryParams),t=NR(e);return"{}"===t?"default":t}get _queryObject(){return kK(this._queryParams)}isEqual(e){if(!((e=bn(e))instanceof to))return!1;const t=this._repo===e._repo,i=$R(this._path,e._path);return t&&i&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function fAe(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}class qo extends to{constructor(e,t){super(e,t,new ZR,!1)}get parent(){const e=yK(this._path);return null===e?null:new qo(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}(function DSe(n){ue(!Sw,"__referenceConstructor has already been defined"),Sw=n})(qo),function OSe(n){ue(!Ow,"__referenceConstructor has already been defined"),Ow=n}(qo);const BN={};class zke{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function ske(n,e,t){if(n.stats_=UR(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new ww(n.repoInfo_,(i,r,o,s)=>{_Q(n,i,r,o,s)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>bQ(n,!0),0);else{if(typeof t<"u"&&null!==t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Vi(t)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new Yl(n.repoInfo_,e,(i,r,o,s)=>{_Q(n,i,r,o,s)},i=>{bQ(n,i)},i=>{!function ake(n,e){Oi(e,(t,i)=>{kN(n,t,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function GMe(n,e){const t=n.toString();return BR[t]||(BR[t]=e()),BR[t]}(n.repoInfo_,()=>new GAe(n.stats_,n.server_)),n.infoData_=new UAe,n.infoSyncTree_=new tQ({startListening:(i,r,o,s)=>{let a=[];const c=n.infoData_.getNode(i._path);return c.isEmpty()||(a=Nm(n.infoSyncTree_,i._path,c),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),kN(n,"connected",!1),n.serverSyncTree_=new tQ({startListening:(i,r,o,s)=>(n.server_.listen(i,o,r,(a,c)=>{const l=s(a,c);eo(n.eventQueue_,i._path,l)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new qo(this._repo,Tt())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Vke(n,e){const t=BN[e];(!t||t[n.key]!==n)&&Ss(`Database ${e}(${n.repoInfo_}) has already been deleted.`),function vQ(n){n.persistentConnection_&&n.persistentConnection_.interrupt("repo_interrupt")}(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Ss("Cannot call "+e+" on a deleted database.")}}function jke(n=Fp(),e){const t=Qa(n,"database").getImmediate({identifier:e});if(!t._instanceStarted){const i=LT("database");i&&function Hke(n,e,t,i={}){(n=bn(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Ss("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let o;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&Ss('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Cm(Cm.OWNER);else if(i.mockUserToken){const s="string"==typeof i.mockUserToken?i.mockUserToken:t9(i.mockUserToken,n.app.options.projectId);o=new Cm(s)}!function Fke(n,e,t,i){n.repoInfo_=new LR(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),i&&(n.authTokenProvider_=i)}(r,e,t,o)}(t,...i)}return t}Yl.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},Yl.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function $ke(n){(function MMe(n){OR=n})(Ya),Bi(new wi("database",(e,{instanceIdentifier:t})=>function Lke(n,e,t,i,r){let o=i||n.options.databaseURL;void 0===o&&(n.options.projectId||Ss("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ki("Using default host for project ",n.options.projectId),o=`${n.options.projectId}-default-rtdb.firebaseio.com`);let c,l,s=LN(o,r),a=s.repoInfo;typeof process<"u"&&process.env&&(l=process.env.FIREBASE_DATABASE_EMULATOR_HOST),l?(c=!0,o=`http://${l}?ns=${a.namespace}`,s=LN(o,r),a=s.repoInfo):c=!s.repoInfo.secure;const u=r&&c?new Cm(Cm.OWNER):new jMe(n.name,n.options,e);hQ("Invalid Firebase Database URL",s),it(s.path)||Ss("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function Bke(n,e,t,i){let r=BN[e.name];r||(r={},BN[e.name]=r);let o=r[n.toURLString()];return o&&Ss("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new oke(n,!1,t,i),r[n.toURLString()]=o,o}(a,n,u,new zMe(n.name,t));return new zke(d,n)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),zt(NW,"0.14.4",n),zt(NW,"0.14.4","esm2017")}();class UN{constructor(e){return e}}const OQ="database",zN=new Y("angularfire2.database-instances");function Qke(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new UN(i)}}const Yke={provide:class Wke{constructor(){return jp(OQ)}},deps:[[new Xt,zN]]},Xke={provide:UN,useFactory:function Kke(n,e){const t=zp(OQ,n,e);return t&&new UN(t)},deps:[[new Xt,zN],Za]};let Zke=(()=>{class n{constructor(){zt("angularfire",Vd.full,"rtdb")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=et({type:n}),n.\u0275inj=Ze({providers:[Xke,Yke]}),n})();function Jke(n,...e){return{ngModule:Zke,providers:[{provide:zN,useFactory:Qke(n),multi:!0,deps:[Te,jt,Hp,$p,[new Xt,Bv],[new Xt,Wp],...e]}]}}const eOe=Ci(jke,!0),HN="functions";class oOe{constructor(e,t,i){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then(r=>this.auth=r,()=>{}),this.messaging||t.get().then(r=>this.messaging=r,()=>{}),this.appCheck||i.get().then(r=>this.appCheck=r,()=>{})}getAuthToken(){var e=this;return b(function*(){if(e.auth)try{const t=yield e.auth.getToken();return t?.accessToken}catch{return}})()}getMessagingToken(){var e=this;return b(function*(){if(e.messaging&&"Notification"in self&&"granted"===Notification.permission)try{return yield e.messaging.getToken()}catch{return}})()}getAppCheckToken(e){var t=this;return b(function*(){if(t.appCheck){const i=e?yield t.appCheck.getLimitedUseToken():yield t.appCheck.getToken();return i.error?null:i.token}return null})()}getContext(e){var t=this;return b(function*(){return{authToken:yield t.getAuthToken(),messagingToken:yield t.getMessagingToken(),appCheckToken:yield t.getAppCheckToken(e)}})()}}const $N="us-central1";class aOe{constructor(e,t,i,r,o=$N,s){this.app=e,this.fetchImpl=s,this.emulatorOrigin=null,this.contextProvider=new oOe(t,i,r),this.cancelAllRequests=new Promise(a=>{this.deleteService=()=>Promise.resolve(a())});try{const a=new URL(o);this.customDomain=a.origin,this.region=$N}catch{this.customDomain=null,this.region=o}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;return null!==this.emulatorOrigin?`${this.emulatorOrigin}/${t}/${this.region}/${e}`:null!==this.customDomain?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}}const FQ="@firebase/functions";function _Oe(n=Fp(),e=$N){const i=Qa(bn(n),HN).getImmediate({identifier:e}),r=LT("functions");return r&&function bOe(n,e,t){!function cOe(n,e,t){n.emulatorOrigin=`http://${e}:${t}`}(bn(n),e,t)}(i,...r),i}!function mOe(n,e){Bi(new wi(HN,(i,{instanceIdentifier:r})=>{const o=i.getProvider("app").getImmediate(),s=i.getProvider("auth-internal"),a=i.getProvider("messaging-internal"),c=i.getProvider("app-check-internal");return new aOe(o,s,a,c,r,n)},"PUBLIC").setMultipleInstances(!0)),zt(FQ,"0.10.0",e),zt(FQ,"0.10.0","esm2017")}(fetch.bind(self));class WN{constructor(e){return e}}const VQ="functions",KN=new Y("angularfire2.functions-instances");function wOe(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new WN(i)}}const xOe={provide:class yOe{constructor(){return jp(VQ)}},deps:[[new Xt,KN]]},COe={provide:WN,useFactory:function vOe(n,e){const t=zp(VQ,n,e);return t&&new WN(t)},deps:[[new Xt,KN],Za]};let EOe=(()=>{class n{constructor(){zt("angularfire",Vd.full,"fn")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=et({type:n}),n.\u0275inj=Ze({providers:[COe,xOe]}),n})();function IOe(n,...e){return{ngModule:EOe,providers:[{provide:KN,useFactory:wOe(n),multi:!0,deps:[Te,jt,Hp,$p,[new Xt,Bv],[new Xt,Wp],...e]}]}}const TOe=Ci(_Oe,!0);function DOe(n,e){if(1&n){const t=It();g(0,"tr")(1,"td"),w(2),p(),g(3,"td"),w(4),p(),g(5,"td",5),w(6),p(),g(7,"td"),w(8),p(),g(9,"td")(10,"button",8),ee("click",function(){const o=Le(t).$implicit;return Ve(cn().Unidades(o.name))}),p(),g(11,"button",9),ee("click",function(){const o=Le(t).$implicit;return Ve(cn().infoProject(o.name))}),p(),g(12,"button",10),ee("click",function(){const o=Le(t).$implicit;return Ve(cn().editProyecto(o.name))}),p()()()}if(2&n){const t=e.$implicit;H(2),qe(t.name),H(2),qe(t.owner),H(2),qe(t.integrantes),H(2),qe(t.cliente)}}let MOe=(()=>{class n{constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.data=[],this.list=[],this.email="",this.MyQuery()}getData(){const t=ws();aa(t,r=>{r&&r.email&&(this.email=r.email)});const i=De(this.firestore,"projects");me(i).then(r=>{this.data=[...r.docs.map(o=>({...o.data(),id:o.id}))]})}updateData(t){const i=Ae(this.firestore,"projects",t);Cr(i,{}).then(()=>{alert("Data updated"),this.getData()}).catch(r=>{alert(r.message)})}deleteData(t){const i=Ae(this.firestore,"projects",t);Fn(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}infoProject(t){this.router.navigate(["user/project-info/"+t])}newProject(){this.router.navigate(["user/project-new"])}EditProject(){this.router.navigate(["user/project-new"])}Unidades(t){this.router.navigate(["user/unidad-produccion/"+t])}Muestras(t){this.router.navigate(["user/muestras/"+t])}editProyecto(t){this.router.navigate(["user/project-edit/"+t])}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["user/projects"])}logOut(){ji(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}MyQuery(){var t=this;return b(function*(){const i=ws();let r;r="",console.log(i),aa(i,function(){var o=b(function*(s){if(s&&(console.log(s.email),s.email)){r=s.email;const a=fn(De(t.firestore,"projects"),nn("owner","==",r));me(a).then(c=>{t.data=[...c.docs.map(l=>({...l.data(),id:l.id}))]})}});return function(s){return o.apply(this,arguments)}}()),console.log("done")})()}static#e=this.\u0275fac=function(i){return new(i||n)(E(Se),E(ft),E(We),E(ht))};static#t=this.\u0275cmp=Me({type:n,selectors:[["app-projects"]],decls:23,vars:1,consts:[[1,"center"],[1,"subTituloText"],[1,"scanbutton"],[1,"scantext",3,"click"],[1,"list"],[1,"integrantes"],[4,"ngFor","ngForOf"],["id","agregar",1,"boton",3,"click"],[1,"muestras",3,"click"],[1,"detalles",3,"click"],[1,"edit",3,"click"]],template:function(i,r){1&i&&(g(0,"p"),w(1,"projects works!"),p(),g(2,"div",0)(3,"h1",1),w(4,"Proyectos"),p(),g(5,"div",2)(6,"div",3),ee("click",function(){return r.Scan()}),w(7,"SCAN"),p()(),g(8,"div",4)(9,"table")(10,"tr")(11,"th"),w(12," Nombre "),p(),g(13,"th"),w(14," Due\xf1o "),p(),g(15,"th",5),w(16," Integrantes"),p(),g(17,"th"),w(18," Clientes "),p(),ie(19,"th"),p(),Zn(20,DOe,13,4,"tr",6),p(),g(21,"button",7),ee("click",function(){return r.newProject()}),w(22," Agregar "),p()()()),2&i&&(H(20),Jn("ngForOf",r.data))},dependencies:[po],styles:[".center[_ngcontent-%COMP%]{display:block}.list[_ngcontent-%COMP%]{position:absolute;margin:10px;left:15%;top:38%}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{cursor:pointer;width:153px;height:36px;left:45%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px;box-shadow:2px 2px 5px #000}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:56px;letter-spacing:0;text-shadow:2px 2px 5px black;left:40%;top:20%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}@media only screen and (max-width: 768px){.list[_ngcontent-%COMP%]{position:absolute;margin:0;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px}.boton[_ngcontent-%COMP%]{position:absolute;left:80%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;text-shadow:2px 2px 5px black;left:30%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}.scanbutton[_ngcontent-%COMP%]{cursor:pointer;width:153px;height:36px;left:30%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}}@media only screen and (min-width: 1536px){.center[_ngcontent-%COMP%]{display:block;width:1200px;position:absolute;left:50%;top:50%;transform:translate(-50%,-60%)}.scanbutton[_ngcontent-%COMP%]{position:relative;width:153px;height:36px;left:49%;top:22%;position:absolute;background:#4C9EFF;border-radius:30px;box-shadow:2px 2px 5px #000}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:relative;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:relative;margin:0;width:400px;height:64px;font-family:Verdana;font-size:56px;letter-spacing:0;text-shadow:2px 2px 5px black;left:500px;top:0%}.list[_ngcontent-%COMP%]{position:relative;width:1000px;margin:10px;left:200px;top:100px}}"]})}return n})();function AOe(n,e){if(1&n){const t=It();g(0,"tr")(1,"td"),w(2),p(),g(3,"td"),w(4),p(),g(5,"td"),w(6),p(),g(7,"td"),w(8),p(),g(9,"td")(10,"button",7),ee("click",function(){const o=Le(t).$implicit;return Ve(cn().infoMuestra(o.codigo))}),g(11,"div",8),w(12,"Informaci\xf3n"),p()(),g(13,"button",9),ee("click",function(){const o=Le(t).$implicit;return Ve(cn().editMuestra(o.codigo))}),g(14,"div",10),w(15,"Editar"),p()(),g(16,"button",11),ee("click",function(){const o=Le(t).$implicit;return Ve(cn().Barcode(o.codigo))}),g(17,"div",12),w(18,"Imprimir"),p()()()()}if(2&n){const t=e.$implicit;H(2),qe(t.codigo),H(2),qe(t.fecha),H(2),qe(t.cultivo),H(2),qe(t.coordenadas)}}let SOe=(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.location=s,this.data=[]}ngOnInit(){this.route.params.subscribe(t=>{this.item=t.id,this.up=t.up,console.log(t),console.log(t.id)}),this.MyQuery()}getData(){const t=De(this.firestore,"muestras");me(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}updateData(t){const i=Ae(this.firestore,"muestras",t);Cr(i,{}).then(()=>{alert("Data updated"),this.getData()}).catch(r=>{alert(r.message)})}deleteData(t){const i=Ae(this.firestore,"muestras",t);Fn(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["user/projects"])}logOut(){ji(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}newMuestra(t){this.router.navigate(["user/muestras-new/"+t])}editMuestra(t){this.router.navigate(["user/muestras-edit/"+t])}infoUnidad(t){this.router.navigate(["user/unidad-produccion-info/"+t])}infoMuestra(t){this.router.navigate(["user/muestras-info/"+t])}Barcode(t){this.router.navigate(["user/barcode/"+t])}backPage(){this.location.back()}MyQuery(){var t=this;return b(function*(){let i=t.item;t.pid=i;let r=t.up;console.log(i);const o=fn(De(t.firestore,"muestras"),nn("project","==",i),nn("unidad","==",r));me(o).then(a=>{t.data=[...a.docs.map(c=>({...c.data(),id:c.id}))]}),(yield me(o)).forEach(a=>{console.log(a.id," => ",a.data())})})()}static#e=this.\u0275fac=function(i){return new(i||n)(E(Se),E(ft),E(We),E(ht),E(yi))};static#t=this.\u0275cmp=Me({type:n,selectors:[["app-muestras"]],decls:23,vars:1,consts:[[1,"subTituloText"],[1,"scanbutton"],[1,"scantext",3,"click"],[1,"list"],[4,"ngFor","ngForOf"],["id","agregar",1,"boton",3,"click"],["id","volver",1,"boton",3,"click"],[1,"detalles",3,"click"],[1,"detalles-tip"],[1,"edit",3,"click"],[1,"edit-tip"],[1,"imprimir",3,"click"],[1,"imprimir-tip"]],template:function(i,r){1&i&&(g(0,"p"),w(1,"muestras works!"),p(),g(2,"h1",0),w(3,"Muestras"),p(),g(4,"div",1)(5,"div",2),ee("click",function(){return r.Scan()}),w(6,"ESCANEAR"),p()(),g(7,"div",3)(8,"table")(9,"tr")(10,"th"),w(11," Codigo "),p(),g(12,"th"),w(13," Fecha "),p(),g(14,"th"),w(15," Cultivo"),p(),g(16,"th"),w(17," Coordenadas "),p(),ie(18,"th"),p(),Zn(19,AOe,19,4,"tr",4),p(),g(20,"button",5),ee("click",function(){return r.newMuestra(r.pid)}),w(21," Agregar "),p(),g(22,"button",6),ee("click",function(){return r.backPage()}),p()()),2&i&&(H(19),Jn("ngForOf",r.data))},dependencies:[po],styles:[".list[_ngcontent-%COMP%]{position:absolute;left:38%;top:38%}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.projectBlock[_ngcontent-%COMP%]{width:60%;height:35px;background:#3EC28F;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:20px;font-weight:700;letter-spacing:0;cursor:pointer}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{cursor:pointer;width:153px;height:36px;left:49%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px;box-shadow:2px 2px 5px #000}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}#volver[_ngcontent-%COMP%]{position:absolute;left:0%;border:none;width:50px;height:50px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(back-button-Edit4.8567daeed3ab1418.png)}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;text-shadow:2px 2px 5px black;left:45%;top:20%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.edit[_ngcontent-%COMP%]:hover   .edit-tip[_ngcontent-%COMP%]{display:block;opacity:1;transition:.5s}.edit-tip[_ngcontent-%COMP%]{display:none;position:relative;background-color:#2f3033;color:#fff;padding:5px;width:-moz-fit-content;width:fit-content;margin:5px;top:100%;left:0;opacity:0;transition:.5s;z-index:100;border-radius:3px;font-weight:700;font-family:Trebuchet MS,sans-serif}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.detalles[_ngcontent-%COMP%]:hover   .detalles-tip[_ngcontent-%COMP%]{display:block;opacity:1;transition:.5s}.detalles-tip[_ngcontent-%COMP%]{display:none;position:relative;background-color:#2f3033;color:#fff;padding:5px;width:-moz-fit-content;width:fit-content;margin:5px;top:100%;left:0;opacity:0;transition:.5s;z-index:100;border-radius:3px;font-weight:700;font-family:Trebuchet MS,sans-serif}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.imprimir[_ngcontent-%COMP%]:hover   .imprimir-tip[_ngcontent-%COMP%]{display:block;opacity:1;transition:.5s}.imprimir-tip[_ngcontent-%COMP%]{display:none;position:relative;background-color:#2f3033;color:#fff;padding:5px;width:-moz-fit-content;width:fit-content;margin:5px;top:100%;left:0;opacity:0;transition:.5s;z-index:100;border-radius:3px;font-weight:700;font-family:Trebuchet MS,sans-serif}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.projectBlock[_ngcontent-%COMP%]{width:60%;height:25px;background:#3EC28F;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:14px;font-weight:700;letter-spacing:0;cursor:pointer}.list[_ngcontent-%COMP%]{position:absolute;left:5%;top:45%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:153px;height:36px;left:30%;top:35%;position:absolute;background:#4C9EFF;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:80%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}#volver[_ngcontent-%COMP%]{position:absolute;left:0%;width:30px;height:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;left:30%;top:27%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}return n})(),kOe=(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.location=s,this.data=[],this.num=1}ngOnInit(){let t;this.route.params.subscribe(i=>{this.item=i.id,t=i.id,this.generateBarcode(t)})}handleRegister(t){console.log(t.cantidad),this.toPrint(t.cantidad)}generateBarcode(t){var r=t;this.res=r,bm("#barcode",r,{format:"CODE128"})}generateSVG(t,i){for(let r=0;r<t;r++){const o=document.createElement("div"),s=document.createElement("svg");o.setAttribute("class","subcode"),s.setAttribute("id","barcode"+r),document.getElementById("codes")?.appendChild(s)}}toPrint(t){this.router.navigate(["/print/"+this.res+"/"+t])}sleep(t){return b(function*(){return new Promise(i=>setTimeout(i,t))})()}backPage(){this.location.back()}static#e=this.\u0275fac=function(i){return new(i||n)(E(Se),E(ft),E(We),E(ht),E(yi))};static#t=this.\u0275cmp=Me({type:n,selectors:[["app-barcode"]],decls:13,vars:1,consts:[["id","barcode"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],["name","cantidad","ngModel","","placeholder","N\xb0","id","cantidad","type","number","min","1","max","5",1,"input-field",3,"ngModel","ngModelChange"],[1,"print"],["id","volver",3,"click"]],template:function(i,r){if(1&i){const o=It();g(0,"p"),w(1,"barcode works!"),p(),b_(),ie(2,"svg",0),oC(),g(3,"form",1,2),ee("ngSubmit",function(){Le(o);const a=In(4);return Ve(r.handleRegister(a.value))}),g(5,"div",3)(6,"div",4)(7,"span",5),w(8,"Cantidad: "),p(),g(9,"input",6),ot("ngModelChange",function(a){return ut(r.num,a)||(r.num=a),a}),p()(),g(10,"button",7),w(11,"Imprimir"),p()()(),g(12,"button",8),ee("click",function(){return r.backPage()}),p()}2&i&&(H(9),rt("ngModel",r.num))},dependencies:[ni,tr,XI,Rr,ti,rT,iT,br,kn],styles:[".main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:40%;top:50%}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:56px;letter-spacing:0;text-shadow:2px 2px 5px black;left:45%;top:20%}.input-fields[_ngcontent-%COMP%]{position:inherit;width:180px;top:25px}.Text[_ngcontent-%COMP%]{display:inline;font-family:Arial;text-align:center;font-size:24px;font-weight:700}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{height:20px;width:40px;font-size:16px}.print[_ngcontent-%COMP%]{position:inherit;left:200px}svg[_ngcontent-%COMP%]{position:absolute;left:44%;top:32%}button[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:24px;font-weight:700;cursor:pointer;border-radius:30px}#volver[_ngcontent-%COMP%]{font-size:16px;position:absolute;left:35%;top:20%;border:none;width:50px;height:50px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(back-button-Edit4.8567daeed3ab1418.png)}#barcode[_ngcontent-%COMP%]{display:inline;border:2px solid rgb(0,0,0);box-shadow:2px 2px 5px #000}@media only screen and (max-width: 768px){.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:60%;height:20%;left:36%;top:60%}.input-fields[_ngcontent-%COMP%]{position:inherit;width:130px;top:25px}.Text[_ngcontent-%COMP%]{display:inline;font-family:Arial;text-align:center;font-size:20px}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{height:20px;width:20px;font-size:16px}.print[_ngcontent-%COMP%]{position:absolute;left:33%;top:45%;font-size:16px}#test[_ngcontent-%COMP%]{position:absolute;left:30%;top:60%;display:none}#codes[_ngcontent-%COMP%]{position:absolute;left:30%;top:35%}svg[_ngcontent-%COMP%]{position:absolute;left:25%;top:30%;margin:15px 0}.space[_ngcontent-%COMP%]{height:200px}#barcode[_ngcontent-%COMP%]{display:inline;border:2px solid rgb(0,0,0);box-shadow:2px 2px 5px #000}button[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:20px;font-weight:700;cursor:pointer;border-radius:30px}#volver[_ngcontent-%COMP%]{font-size:16px;position:absolute;left:28%;top:70%;border:none;width:36px;height:36px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(back-button-Edit4.8567daeed3ab1418.png)}}"]})}return n})();const OOe=["div"];let POe=(()=>{class n{constructor(t,i,r){this.auth=t,this.firestore=i,this.renderer=r,this.title="gestion-de-muestras-de-campo",this.data=[],this.getData(),this.index=1}randomCode(){let t="";for(let o=0;o<20;o++)t+="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".charAt(Math.floor(62*Math.random()));return t}handleRegister(t){this.addData(t)}addData(t){var i=this;return b(function*(){i.randomCode();let s=t.integrantes.split(/[\s,]+/);const a=Ae(i.firestore,"projects",t.name);xr(a,{name:t.name,cliente:t.cliente,owner:t.owner,integrantes:s}).then(()=>{alert("Data Sent")}).catch(c=>{alert(c.message)})})()}getData(){const t=De(this.firestore,"projects");me(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}static#e=this.\u0275fac=function(i){return new(i||n)(E(We),E(ht),E(Oo))};static#t=this.\u0275cmp=Me({type:n,selectors:[["app-project-new"]],viewQuery:function(i,r){if(1&i&&jn(OOe,5),2&i){let o;Cn(o=En())&&(r.div=o.first)}},decls:26,vars:0,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],["name","name","ngModel","","placeholder","Name","id","name","type","name",1,"input-field"],["name","owner","ngModel","","placeholder","Owner","id","owner","type","owner",1,"input-field"],["name","integrantes","ngModel","","placeholder","Integrantes","id","integrantes","type","integrantes",1,"input-field"],["name","cliente","ngModel","","placeholder","Cliente","id","cliente","type","cliente",1,"input-field"],[1,"boton"]],template:function(i,r){if(1&i){const o=It();g(0,"p"),w(1,"project-new works!"),p(),g(2,"h1",0),w(3,"Nuevo Proyecto"),p(),g(4,"div",1)(5,"form",2,3),ee("ngSubmit",function(){Le(o);const a=In(6);return Ve(r.handleRegister(a.value))}),g(7,"div",4)(8,"div",5)(9,"span",6),w(10,"Name:"),p(),ie(11,"input",7),p(),g(12,"div",5)(13,"span",6),w(14,"Owner:"),p(),ie(15,"input",8),p(),g(16,"div",5)(17,"span",6),w(18,"Integrantes:"),p(),ie(19,"input",9),p(),g(20,"div",5)(21,"span",6),w(22,"Cliente:"),p(),ie(23,"input",10),p(),g(24,"button",11),w(25,"Crear Proyecto"),p()()()()}},dependencies:[ni,tr,Rr,ti,br,kn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:45%;flex-shrink:0;position:absolute;left:15%;top:30%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:3%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:85%;height:20px;left:92px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:35%;top:20%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#A6A6A6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:85%;top:110%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:85%;height:50%;flex-shrink:0;position:absolute;left:7%;top:30%}.input-field[_ngcontent-%COMP%]{margin:10px 10px 10px 20px;width:85%;height:20px;left:92px}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:20px;font-family:Arial;font-size:16px;letter-spacing:0}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:3%;top:3%}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:75%;top:110%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}@media only screen and (min-width: 1536px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:1000px;height:400px;flex-shrink:0;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}.boton[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(310px)}.subTituloText[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%)}}"]})}return n})();const ROe=["geo"];let NOe=(()=>{class n{static#e=this.text="";constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.title="gestion-de-muestras-de-campo",this.data=[],this.res="",this.somethingChange=new Xe}ngOnInit(){this.route.params.subscribe(t=>{this.pid=t.id})}handleRegister(t){this.addData(t)}addData(t){const i=Ae(this.firestore,"muestras",t.codigo);xr(i,{codigo:t.codigo,cliente:t.cliente,fecha:t.fecha,cultivo:t.cultivo,tipo:t.tipo,fitopatogeno:t.fitopatogeno,repeticion:t.repeticion,coordenadas:t.coordenadas,sintomas:t.sintomas,comentarios:t.comentarios,project:this.pid}).then(()=>{alert("Data Sent")}).catch(r=>{alert(r.message)})}getData(){const t=De(this.firestore,"muestras");me(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}showPosition(t){n.text=t.coords.latitude+", "+t.coords.longitude,console.log(n.text)}getLocation(){var t=this;return b(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{t.res=n.text,console.log(t.res)},1e3)})()}static#t=this.\u0275fac=function(i){return new(i||n)(E(Se),E(ft),E(We),E(ht))};static#n=this.\u0275cmp=Me({type:n,selectors:[["app-muestras-new"]],viewQuery:function(i,r){if(1&i&&jn(ROe,5),2&i){let o;Cn(o=En())&&(r.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:64,vars:1,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],["name","codigo","ngModel","","placeholder","Codigo","id","codigo","type","codigo",1,"input-field"],["name","cliente","ngModel","","placeholder","Cliente","id","cliente","type","cliente",1,"input-field"],["name","fecha","ngModel","","placeholder","Fecha","id","fecha","type","date",1,"input-field"],["name","cultivo","ngModel","","placeholder","Cultivo","id","cultivo","type","cultivo",1,"input-field"],["list","tipos","name","tipo","ngModel","","placeholder","Tipo","id","tipo","type","tipo",1,"input-field"],["id","tipos"],["value","Hibrido"],["value","Variedad"],["value","Clone"],["list","fitopatogenos","name","fitopatogeno","ngModel","","placeholder","Fitopatogeno","id","fitopatogeno","type","fitopatogeno",1,"input-field"],["id","fitopatogenos"],["value","Hongos"],["value","Bacterias"],["value","Virus"],["name","lote","ngModel","","placeholder","Lote","id","lote","type","lote",1,"input-field"],["name","repeticion","ngModel","","placeholder","Repeticion","id","repeticion","type","repeticion",1,"input-field"],["name","coordenadas","ngModel","","placeholder","Coordenadas","id","coordenadas","type","coordenadas",1,"input-field",3,"ngModel","ngModelChange"],[1,"bUbicacion",3,"click"],["src","../../../../assets/Ubicacion.png","alt","U"],["name","s\xedntomas","ngModel","","placeholder","S\xedntomas","id","s\xedntomas","type","s\xedntomas",1,"input-field"],["name","comentarios","ngModel","","placeholder","Comentarios","id","comentarios","type","comentarios",1,"input-field"],[1,"boton"]],template:function(i,r){if(1&i){const o=It();g(0,"p"),w(1,"muestras-new works!"),p(),g(2,"h1",0),w(3,"Nueva Muestra"),p(),g(4,"div",1)(5,"form",2,3),ee("ngSubmit",function(){Le(o);const a=In(6);return Ve(r.handleRegister(a.value))}),g(7,"div",4)(8,"div",5)(9,"span",6),w(10,"Codigo:"),p(),ie(11,"input",7),p(),g(12,"div",5)(13,"span",6),w(14,"Cliente:"),p(),ie(15,"input",8),p(),g(16,"div",5)(17,"span",6),w(18,"Fecha:"),p(),ie(19,"input",9),p(),g(20,"div",5)(21,"span",6),w(22,"Cultivo:"),p(),ie(23,"input",10),p(),g(24,"div",5)(25,"span",6),w(26,"Tipo:"),p(),ie(27,"input",11),g(28,"datalist",12),ie(29,"option",13)(30,"option",14)(31,"option",15),p()(),g(32,"div",5)(33,"span",6),w(34,"Fitopat\xf3geno:"),p(),ie(35,"input",16),g(36,"datalist",17),ie(37,"option",18)(38,"option",19)(39,"option",20),p()(),g(40,"div",5)(41,"span",6),w(42,"Lote:"),p(),ie(43,"input",21),p(),g(44,"div",5)(45,"span",6),w(46,"Repetici\xf3n:"),p(),ie(47,"input",22),p(),g(48,"div",5)(49,"span",6),w(50,"Coordenadas:"),p(),g(51,"input",23),ot("ngModelChange",function(a){return ut(r.res,a)||(r.res=a),a}),p(),g(52,"div",24),ee("click",function(){return r.getLocation()}),ie(53,"img",25),p()(),g(54,"div",5)(55,"span",6),w(56,"Sintomas:"),p(),ie(57,"input",26),p(),g(58,"div",5)(59,"span",6),w(60,"Comentarios:"),p(),ie(61,"input",27),p(),g(62,"button",28),w(63,"Crear Muestra"),p()()()()}2&i&&(H(51),rt("ngModel",r.res))},dependencies:[ni,My,Ay,tr,Rr,ti,br,kn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:65%;height:73%;flex-shrink:0;position:absolute;left:50%;top:25%;transform:translate(-30%)}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:3%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:85%;height:20px;left:92px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:50%;top:17%;transform:translate(-50%)}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#A6A6A6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:80%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:95%;height:100%;flex-shrink:0;position:absolute;left:2.5%;top:30%}.input-field[_ngcontent-%COMP%]{margin:10px 10px 10px 20px;width:85%;height:20px;left:92px}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:20px;font-family:Arial;font-size:16px;letter-spacing:0}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:3%;top:3%}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:75%;top:110%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}@media only screen and (min-width: 1536px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:1000px;height:660px;flex-shrink:0;position:absolute;left:50%;top:50%;transform:translate(-50%,-35%)}.subTituloText[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%)}}"]})}return n})();class vo extends Mt{constructor(){super(...arguments),this._value=null,this._hasValue=!1,this._isComplete=!1}_checkFinalizedStatuses(e){const{hasError:t,_hasValue:i,_value:r,thrownError:o,isStopped:s,_isComplete:a}=this;t?e.error(o):(s||a)&&(i&&e.next(r),e.complete())}next(e){this.isStopped||(this._value=e,this._hasValue=!0)}complete(){const{_hasValue:e,_value:t,_isComplete:i}=this;i||(this._isComplete=!0,e&&super.next(t),super.complete())}}const FOe=["video"],LOe=["canvas"],VOe=["resultsPanel"],QN="assets/wasm/index.js",Gm="https://cdn.jsdelivr.net/npm/ngx-scanner-qrcode@1.6.4/wasm/index.js",BQ={audio:!1,video:!0},YN={lineWidth:1,strokeStyle:"green",fillStyle:"#55f02880"},XN={font:"15px serif",strokeStyle:"#fff0",fillStyle:"#ff0000"},ba={src:"",fps:30,vibrate:300,decode:"utf-8",isBeep:!0,constraints:BQ,canvasStyles:[YN,XN]};var Ww=()=>"zbarWasm"in window;const Dt=(n,e,t)=>{t?n.error(t):n.next(e),n.complete()},ZN=(n=!1)=>{if(!1===n)return;const e=new Audio("data:audio/mpeg;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU4LjI5LjEwMAAAAAAAAAAAAAAA/+M4wAAAAAAAAAAAAEluZm8AAAAPAAAABQAAAkAAgICAgICAgICAgICAgICAgICAgKCgoKCgoKCgoKCgoKCgoKCgoKCgwMDAwMDAwMDAwMDAwMDAwMDAwMDg4ODg4ODg4ODg4ODg4ODg4ODg4P//////////////////////////AAAAAExhdmM1OC41NAAAAAAAAAAAAAAAACQEUQAAAAAAAAJAk0uXRQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/+MYxAANQAbGeUEQAAHZYZ3fASqD4P5TKBgocg+Bw/8+CAYBA4XB9/4EBAEP4nB9+UOf/6gfUCAIKyjgQ/Kf//wfswAAAwQA/+MYxAYOqrbdkZGQAMA7DJLCsQxNOij///////////+tv///3RWiZGBEhsf/FO/+LoCSFs1dFVS/g8f/4Mhv0nhqAieHleLy/+MYxAYOOrbMAY2gABf/////////////////usPJ66R0wI4boY9/8jQYg//g2SPx1M0N3Z0kVJLIs///Uw4aMyvHJJYmPBYG/+MYxAgPMALBucAQAoGgaBoFQVBUFQWDv6gZBUFQVBUGgaBr5YSgqCoKhIGg7+IQVBUFQVBoGga//SsFSoKnf/iVTEFNRTMu/+MYxAYAAANIAAAAADEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV");e.oncanplaythrough=()=>{const t=e.play();t&&t.catch(i=>{})}},UQ=(n,e,t,i)=>{let r,o,s=e.width,a=e.height,c=s/a,l=parseInt(getComputedStyle(e).width),u=parseInt(getComputedStyle(e).height),d=l/u;t.innerHTML="",c>d?(r=l/s,o=l/c/a):(o=u/a,r=u*c/s);for(let h=0;h<n.length;h++){const f=n[h];let _=document.createElement("canvas"),C=_.getContext("2d",{willReadFrequently:!0}),I={},O=[],M=[],B=0,Q=0,ae=2===i.length&&i[1]?.font?.replace(/[^0-9]/g,"");ae&&/[0-9]/g.test(ae)&&(B=parseFloat(ae),Q=(r||1)*B,Number.isNaN(Q)&&(Q=B));const fe=f.points;for(let Vt=0;Vt<fe.length;Vt++){const uu=fe?.[Vt]?.x??0,du=fe?.[Vt]?.y??0;I[`x${Vt+1}`]=uu,I[`y${Vt+1}`]=du,O.push(uu),M.push(du)}let $e=Math.max(...O),gt=Math.min(...O),ai=Math.max(...M),Ki=Math.min(...M);_.setAttribute("class","qrcode-polygon"),c>d?(_.style.top=Ki*o+.5*(u-l/c)+"px",_.style.left=gt*r+"px",_.width=($e-gt)*r,_.height=(ai-Ki)*r):(_.style.top=Ki*o+"px",_.style.left=gt*r+.5*(l-u*c)+"px",_.width=($e-gt)*o,_.height=(ai-Ki)*o);for(const Vt in i[0])C[Vt]=i[0][Vt];const Qh=[];for(let Vt=0;Vt<O.length;Vt++)Qh.push((I[`x${Vt+1}`]-gt)*o),Qh.push((I[`y${Vt+1}`]-Ki)*r);const ro=Qh.slice(0);for(C.beginPath(),C.moveTo(ro.shift(),ro.shift());ro.length;)C.lineTo(ro.shift(),ro.shift());if(C.closePath(),C.fill(),C.stroke(),B){const Vt=document.createElement("div");Vt.setAttribute("class","qrcode-tooltip-temp"),Vt.innerText=f.value,Vt.style.maxWidth=(s>window.innerWidth?.9*window.innerWidth:s)+"px",Vt.style.borderRadius=`clamp(1px, ${r*B-10}px, 3px)`,Vt.style.paddingBlock=`clamp(1px, ${r*B-10}px, 3px)`,Vt.style.paddingInline=`clamp(2.5px, ${r*B-6}px, 10px)`;const uu=`<svg xmlns="http://www.w3.org/2000/svg" width="${Q}" height="${Q}" viewBox="0 0 512 512"><rect x="128" y="128" width="336" height="336" rx="57" ry="57"></rect><path d="M383.5,128l.5-24a56.16,56.16,0,0,0-56-56H112a64.19,64.19,0,0,0-64,64V328a56.16,56.16,0,0,0,56,56h24"></path></svg>`,du=(new DOMParser).parseFromString(uu,"application/xml"),_e=Vt.ownerDocument.importNode(du.documentElement,!0);_e.style.marginLeft=`clamp(1px, ${r*B-10}px, 3px)`,Vt.appendChild(_e),_e.addEventListener("click",()=>window.navigator.clipboard.writeText(f.value)),Vt.addEventListener("click",()=>window.navigator.clipboard.writeText(f.value));const ye=document.createElement("div");ye.setAttribute("class","qrcode-tooltip"),ye.appendChild(Vt),o=u/a,r=u*c/s,ye.style.fontSize=r*B+"px",ye.style.top=Ki*o+"px",ye.style.left=gt*r+.5*(l-u*c)+"px",ye.style.width=($e-gt)*o+"px",ye.style.height=(ai-Ki)*o+"px";const Ce=document.createElement("span");Ce.innerText=f.value,Ce.style.top=Ki*o+-20*o+"px",Ce.style.left=gt*r+.5*(l-u*c)+"px";const yt=i[1]?.font?.split(" ")?.[1];Ce.style.fontFamily=yt,Ce.style.fontSize=r*B+"px",Ce.style.color=i?.[1]?.fillStyle,t?.appendChild(ye),t?.appendChild(Ce)}t?.appendChild(_)}},zQ=(n,e)=>new Promise((t,i)=>n.toBlob(r=>t(r),e)),jQ=(n=[],e,t,i,r=new vo)=>(HQ(n,t,i).then(o=>{Promise.all(Object.assign([],n).map(s=>((n,e)=>{let t=e?.decode??ba.decode,i=2===e?.canvasStyles?.length?e?.canvasStyles:[YN,XN],r=e?.isBeep??ba.isBeep;return new Promise((o,s)=>{const a=new FileReader;a.onload=()=>{const c={name:n.name,file:n,url:URL.createObjectURL(n)},l=new Image;l.setAttribute("crossOrigin","anonymous"),l.onload=b(function*(){const u=document.createElement("canvas");u.width=l.naturalWidth||l.width,u.height=l.naturalHeight||l.height;const d=u.getContext("2d");d.drawImage(l,0,0,u.width,u.height);const h=d.getImageData(0,0,u.width,u.height);if(Ww()){const f=yield zbarWasm.scanImageData(h);if(f?.length){f.forEach(O=>O.value=O.decode(t?.toLocaleLowerCase())),((n,e,t)=>{let i=e.getContext("2d",{willReadFrequently:!0});for(let r=0;r<n.length;r++){const o=n[r];let s={},a=[],c=[],l=0,d=t[1]?.font?.split(" ")?.[0]?.replace(/[^0-9]/g,"");d&&/[0-9]/g.test(d)&&(l=parseFloat(d));const h=o.points;for(let M=0;M<h.length;M++){const B=h?.[M]?.x??0,Q=h?.[M]?.y??0;s[`x${M+1}`]=B,s[`y${M+1}`]=Q,a.push(B),c.push(Q)}let f=Math.min(...a),_=Math.min(...c);const C=()=>{for(const Q in t[0])i[Q]=t[0][Q];const M=[];for(let Q=0;Q<a.length;Q++)M.push(s[`x${Q+1}`]),M.push(s[`y${Q+1}`]);const B=M.slice(0);for(i.beginPath(),i.moveTo(B.shift(),B.shift());B.length;)i.lineTo(B.shift(),B.shift());i.closePath(),i.fill(),i.stroke()};let I=document.createElement("canvas");const O=()=>{const M=t[1]?.font?.split(" ")?.[1];I.height=e.height,I.width=e.width;let B=I.getContext("2d",{willReadFrequently:!0});B.font=l+"px "+M;for(const Q in t[1])B[Q]=t[1][Q];GOe(B,o.value,f,_-5)};C(),O(),i.drawImage(I,0,0)}})(f,u,i);const _=yield zQ(u),C=URL.createObjectURL(_);o(Object.assign({},c,{data:f,url:C,canvas:u,file:(O=_,M=c.name,new File([O],M,{lastModified:(new Date).getTime(),type:O.type}))})),ZN(r)}else o(Object.assign({},c,{data:f,canvas:u}))}var O,M}),l.src=c.url},a.onerror=c=>s(c),a.readAsDataURL(n)})})(s,e))).then(s=>{Dt(r,s)}).catch(s=>Dt(r,null,s))}),r),GOe=(n,e,t,i)=>{let r=1.2*n.measureText("M").width,o=e.split("\n");for(var s=0;s<o.length;++s)n.fillText(o[s],t,i),n.strokeText(o[s],t,i),i+=r},HQ=function(){var n=b(function*(e=[],t=.5,i="image/jpeg"){if(!e.length||1===t)return e;const r=function(){var s=b(function*(a){const c=yield createImageBitmap(a),l=document.createElement("canvas");l.width=c.width,l.height=c.height,l.getContext("2d").drawImage(c,0,0);const d=yield new Promise(h=>l.toBlob(h,i,t));return new File([d],a.name,{type:d.type})});return function(c){return s.apply(this,arguments)}}(),o=new DataTransfer;return yield b(function*(){for(const s of e){if(!s.type.startsWith("image")){o.items.add(s);continue}const a=yield r(s);o.items.add(a)}})(),o.files});return function(){return n.apply(this,arguments)}}(),$Q=n=>{Object.assign([],n.childNodes).forEach(e=>n.removeChild(e))},JN=(n,e)=>{n.style.width=e.offsetWidth+"px",n.style.height=e.offsetHeight+"px"},GQ=(n=300)=>{n&&WOe()&&window?.navigator?.vibrate(n)},WOe=()=>{const n=navigator.userAgent||navigator.vendor||window.opera;return!(!/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(n)&&!/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(n.substr(0,4))||/^((?!chrome|android).)*safari/i.test(n))};let qQ=(()=>{class n{loadFiles(t=[],i,r){const o=new vo;return HQ(t,i,r).then(s=>{Promise.all(Object.assign([],t).map(a=>this.readAsDataURL(a))).then(a=>Dt(o,a)).catch(a=>Dt(o,null,a))}),o}loadFilesToScan(t=[],i,r,o){return jQ(t,i,r,o)}readAsDataURL(t){return new Promise((i,r)=>{const o=new FileReader;o.onload=()=>{const s={name:t.name,file:t,url:URL.createObjectURL(t)};i(s)},o.onerror=s=>r(s),o.readAsDataURL(t)})}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),QOe=(()=>{class n{constructor(t,i){this.renderer=t,this.elementRef=i,this.event=new Xe,this.src=ba.src,this.fps=ba.fps,this.vibrate=ba.vibrate,this.decode=ba.decode,this.isBeep=ba.isBeep,this.config=ba,this.constraints=ba.constraints,this.canvasStyles=[YN,XN],this.isStart=!1,this.isPause=!1,this.isLoading=!1,this.isTorch=!1,this.data=new dr([]),this.devices=new dr([]),this.deviceIndexActive=0,this.dataForResize=[],this.ready=new vo,this.STATUS={startON:()=>this.isStart=!0,pauseON:()=>this.isPause=!0,loadingON:()=>this.isLoading=!0,startOFF:()=>this.isStart=!1,pauseOFF:()=>this.isPause=!1,loadingOFF:()=>this.isLoading=!1,torchOFF:()=>this.isTorch=!1}}ngOnInit(){this.overrideConfig(),((n=new vo,e)=>{let t=0;const i=(r=!1)=>{const o=()=>{let c;try{const l=()=>{clearTimeout(c),Ww()?setTimeout(()=>Dt(n,!0)):c=setTimeout(()=>l())};setTimeout(()=>l()),setTimeout(()=>clearTimeout(c),3e3)}catch{clearTimeout(c)}},s=document.querySelectorAll(`script[src="${Gm}"]`),a=document.querySelectorAll('script[src="https://cdn.jsdelivr.net/npm/ngx-scanner-qrcode@latest/wasm/index.js"]');if(s.length||a.length)o();else{const c=document.querySelectorAll(`script[src="${QN}"]`);if(1===c.length)o();else if(c.forEach(l=>l.remove()),e){const l=e.createElement("script");e.setAttribute(l,"src",r?Gm:QN),e.setAttribute(l,"type","text/javascript"),e.setAttribute(l,"async",""),e.appendChild(document.head,l),l.onload=()=>o(),l.onerror=()=>{t<2?(document.head.removeChild(l),i(!0)):Dt(n,!1,Gm)},t+=1}else{const l=document.createElement("script");l.setAttribute("src",r?Gm:QN),l.setAttribute("type","text/javascript"),l.setAttribute("async",""),document.head.appendChild(l),l.onload=()=>o(),l.onerror=()=>{t<2?(document.head.removeChild(l),i(!0)):Dt(n,!1,Gm)},t+=1}}};return i(),n})(this.ready,this.renderer).subscribe(()=>{this.src&&this.loadImage(this.src),this.resize()})}start(t){const i=new vo;return this.isStart?Dt(i,!1):this.safariWebRTC(i,t),i}stop(){this.STATUS.pauseOFF(),this.STATUS.startOFF(),this.STATUS.torchOFF(),this.STATUS.loadingOFF();const t=new vo;try{clearTimeout(this.rAF_ID),this.video.nativeElement.srcObject.getTracks().forEach(i=>{i.stop(),Dt(t,!0)}),this.dataForResize=[],(n=>{n.getContext("2d",{willReadFrequently:!0}).clearRect(0,0,n.width,n.height)})(this.canvas.nativeElement),$Q(this.resultsPanel.nativeElement)}catch(i){Dt(t,!1,i)}return t}play(){const t=new vo;return this.isPause?(this.video.nativeElement.play(),this.STATUS.pauseOFF(),this.requestAnimationFrame(),Dt(t,!0)):Dt(t,!1),t}pause(){const t=new vo;return this.isStart?(clearTimeout(this.rAF_ID),this.video.nativeElement.pause(),this.STATUS.pauseON(),Dt(t,!0)):Dt(t,!1),t}playDevice(t,i=new vo){const r=this.getConstraints();switch(!0){case"null"===t||"undefined"===t||!t:stop(),this.stop(),Dt(i,!1);break;case t&&(!this.isStart||!r||r.deviceId!==t):stop(),this.stop(),this.STATUS.loadingON(),this.deviceIndexActive=this.devices.value.findIndex(a=>a.deviceId===t);const s={...this.constraints,audio:!1,video:{deviceId:t,...this.constraints.video}};navigator.mediaDevices.getUserMedia(s).then(a=>{this.video.nativeElement.srcObject=a,this.video.nativeElement.onloadedmetadata=()=>{this.video.nativeElement.play(),this.requestAnimationFrame(),Dt(i,!0),this.STATUS.startON(),this.STATUS.loadingOFF()}}).catch(a=>{this.eventEmit(!1),Dt(i,!1,a),this.STATUS.startOFF(),this.STATUS.loadingOFF()});break;default:Dt(i,!1),this.STATUS.loadingOFF()}return i}loadImage(t){const i=new vo;this.STATUS.startOFF(),this.STATUS.loadingON();const r=new Image;return r.setAttribute("crossOrigin","anonymous"),r.onload=()=>{Ww()&&this.drawImage(r,o=>{Dt(i,o),this.STATUS.startOFF(),this.STATUS.loadingOFF()})},r.src=t,i}torcher(){const t=this.applyConstraints({advanced:[{torch:this.isTorch}]});return t.subscribe(()=>!1,()=>this.isTorch=!this.isTorch),t}applyConstraints(t,i=0){var r=this;const o=new vo;if(this.isStart){const s=this.video.nativeElement.srcObject;if(null===i&&void 0===i&&Number.isNaN(i))Dt(o,!1,"Please check again deviceIndex");else{const a=s.getVideoTracks()[i];new window.ImageCapture(a).getPhotoCapabilities().then(b(function*(){yield a.applyConstraints(t),JN(r.video.nativeElement,r.canvas.nativeElement),Dt(o,!0)})).catch(l=>{switch(l?.name){case"NotFoundError":case"DevicesNotFoundError":Dt(o,!1,"Required track is missing");break;case"NotReadableError":case"TrackStartError":Dt(o,!1,"Webcam or mic are already in use");break;case"OverconstrainedError":case"ConstraintNotSatisfiedError":Dt(o,!1,"Constraints can not be satisfied by avb. devices");break;case"NotAllowedError":case"PermissionDeniedError":Dt(o,!1,"Permission denied in browser");break;case"TypeError":Dt(o,!1,"Empty constraints object");break;default:Dt(o,!1,l)}})}}else Dt(o,!1,"Please start the scanner");return o}getConstraints(t=0){return this.video.nativeElement.srcObject?.getVideoTracks()[t]?.getConstraints()}download(t=`ngx_scanner_qrcode_${Date.now()}.png`,i,r){var o=this;const s=new vo;return b(function*(){const c=((n,e)=>new File([n],e,{lastModified:(new Date).getTime(),type:n.type}))(yield zQ(o.canvas.nativeElement),t);jQ([c],o.config,i,r,s).subscribe(l=>{l.forEach(u=>{if(u?.data?.length){const d=document.createElement("a");d.href=u.url,d.download=u.name,d.click(),d.remove()}})})})(),s}resize(){window.addEventListener("resize",()=>{UQ(this.dataForResize,this.canvas.nativeElement,this.resultsPanel.nativeElement,this.canvasStyles),JN(this.video.nativeElement,this.canvas.nativeElement)})}overrideConfig(){"src"in this.config&&(this.src=this.config.src),"fps"in this.config&&(this.fps=this.config.fps),"vibrate"in this.config&&(this.vibrate=this.config.vibrate),"decode"in this.config&&(this.decode=this.config.decode),"isBeep"in this.config&&(this.isBeep=this.config.isBeep),"constraints"in this.config&&(this.constraints=((n,e,t)=>{if(e&&Object.keys(e[n]).length){for(const i in t){const r=JSON.parse(JSON.stringify({...e[n],[i]:t[i]}));e[n]=e[n].hasOwnProperty(i)?e[n]:r}return e[n]}return t})("constraints",this.config,BQ)),"canvasStyles"in this.config&&2===this.config?.canvasStyles?.length&&(this.canvasStyles=this.config.canvasStyles)}safariWebRTC(t,i){this.STATUS.startOFF(),this.STATUS.loadingON(),navigator.mediaDevices.getUserMedia(this.constraints).then(r=>{r.getTracks().forEach(o=>o.stop()),this.loadAllDevices(t,i)}).catch(r=>{Dt(t,!1,r),this.STATUS.startOFF(),this.STATUS.loadingOFF()})}loadAllDevices(t,i){navigator.mediaDevices.enumerateDevices().then(r=>{let o=r.filter(s=>"videoinput"==s.kind);this.devices.next(o),o?.length>0?(Dt(t,o),i?i(o):this.playDevice(o[0].deviceId)):(Dt(t,!1,"No camera detected."),this.STATUS.startOFF(),this.STATUS.loadingOFF())}).catch(r=>{Dt(t,!1,r),this.STATUS.startOFF(),this.STATUS.loadingOFF()})}drawImage(t,i=(()=>{})){var r=this;return b(function*(){const o=r.canvas.nativeElement,s=o.getContext("2d",{willReadFrequently:!0});t instanceof HTMLImageElement&&(o.width=t.naturalWidth,o.height=t.naturalHeight,t.style.visibility="",r.video.nativeElement.style.visibility="hidden",r.renderer.setStyle(r.elementRef.nativeElement,"width",o.width+"px"),r.renderer.setStyle(r.elementRef.nativeElement,"maxWidth","100%"),r.renderer.setStyle(r.elementRef.nativeElement,"display","inline-block")),t instanceof HTMLVideoElement&&(o.width=t.videoWidth,o.height=t.videoHeight,t.style.visibility="",r.canvas.nativeElement.style.visibility="hidden"),JN(r.video.nativeElement,o),s.clearRect(0,0,o.width,o.height),s.drawImage(t,0,0,o.width,o.height);const a=s.getImageData(0,0,o.width,o.height),c=yield zbarWasm.scanImageData(a);if(c?.length){c.forEach(u=>u.value=u.decode(r.decode?.toLocaleLowerCase())),UQ(c,Object.freeze(r.canvas.nativeElement),r.resultsPanel.nativeElement,r.canvasStyles);const l=()=>{r.eventEmit(c),r.dataForResize=c};t instanceof HTMLImageElement&&(i(!0),l(),GQ(r.vibrate),ZN(r.isBeep)),t instanceof HTMLVideoElement&&(l(),GQ(r.vibrate),ZN(r.isBeep))}else i(!1),$Q(r.resultsPanel.nativeElement),r.dataForResize=[]})()}eventEmit(t=!1){!1!==t&&this.data.next(t||[]),!1!==t&&this.event.emit(t||[])}requestAnimationFrame(t=100){try{clearTimeout(this.rAF_ID),this.rAF_ID=setTimeout(()=>{this.video.nativeElement.readyState===this.video.nativeElement.HAVE_ENOUGH_DATA&&(t=0,Ww()&&this.drawImage(this.video.nativeElement),this.isStart&&!this.isPause&&this.requestAnimationFrame(t))},t||this.fps)}catch{clearTimeout(this.rAF_ID)}}get isReady(){return this.ready}ngOnDestroy(){this.pause()}static#e=this.\u0275fac=function(i){return new(i||n)(E(Oo),E(an))};static#t=this.\u0275cmp=Me({type:n,selectors:[["ngx-scanner-qrcode"]],viewQuery:function(i,r){if(1&i&&(jn(FOe,5),jn(LOe,5),jn(VOe,5)),2&i){let o;Cn(o=En())&&(r.video=o.first),Cn(o=En())&&(r.canvas=o.first),Cn(o=En())&&(r.resultsPanel=o.first)}},hostAttrs:[1,"ngx-scanner-qrcode"],inputs:{src:"src",fps:"fps",vibrate:"vibrate",decode:"decode",isBeep:"isBeep",config:"config",constraints:"constraints",canvasStyles:"canvasStyles"},outputs:{event:"event"},exportAs:["scanner"],decls:6,vars:0,consts:[[1,"origin-overlay"],["resultsPanel",""],[1,"origin-canvas"],["canvas",""],["playsinline","",1,"origin-video"],["video",""]],template:function(i,r){1&i&&ie(0,"div",0,1)(2,"canvas",2,3)(4,"video",4,5)},styles:[".ngx-scanner-qrcode{display:block;position:relative}.origin-overlay{width:100%;position:absolute}.origin-overlay span{z-index:2;text-align:left;position:absolute}.origin-overlay .qrcode-polygon{z-index:1;position:absolute}.origin-canvas{width:100%;position:absolute}.origin-video{width:100%;background-color:#262626}.qrcode-tooltip{z-index:3;position:absolute}.qrcode-tooltip:hover .qrcode-tooltip-temp{display:block;position:absolute;cursor:copy}.qrcode-tooltip:hover .qrcode-tooltip-temp:active{color:#afafaf}.qrcode-tooltip .qrcode-tooltip-temp{bottom:0;left:50%;color:#fff;text-align:left;display:none;width:max-content;word-wrap:break-word;transform:translate(-50%);transform-style:preserve-3d;background-color:#000000d0;box-shadow:1px 1px 20px #000000e0}.qrcode-tooltip .qrcode-tooltip-temp svg{cursor:pointer}.qrcode-tooltip .qrcode-tooltip-temp svg rect{fill:none;stroke:#fff;stroke-linejoin:round;stroke-width:32px}.qrcode-tooltip .qrcode-tooltip-temp svg path{fill:none;stroke:#fff;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px}.qrcode-tooltip .qrcode-tooltip-temp svg:active rect{stroke:#afafaf}.qrcode-tooltip .qrcode-tooltip-temp svg:active path{stroke:#afafaf}\n"],encapsulation:2})}return n})(),t2=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=et({type:n});static#n=this.\u0275inj=Ze({providers:[qQ]})}return n})();const JOe=["action"];function ePe(n,e){1&n&&(g(0,"p"),w(1,"\u231b Loading..."),p())}let tPe=(()=>{class n{constructor(t,i,r,o,s){this.qrcode=t,this.router=i,this.route=r,this.auth=o,this.firestore=s,this.data=[],this.config={constraints:{video:{width:window.innerWidth}}},this.qrCodeResult=[],this.qrCodeResult2=[],this.getData()}ngAfterViewInit(){this.action.isReady.subscribe(t=>{})}onEvent(t,i){console.log(t[0].value),this.item=t[0].value,this.MyQuery()}handle(t,i){"start"===i?t[i](o=>{const s=o.find(a=>/back|rear|environment/gi.test(a.label));t.playDevice(s?s.deviceId:o[0].deviceId)}).subscribe(o=>console.log(i,o),alert):t[i]().subscribe(o=>console.log(i,o),alert)}onDowload(t){t.download().subscribe(console.log,alert)}onSelects(t){this.qrcode.loadFiles(t,.5).subscribe(i=>{this.qrCodeResult=i})}onSelects2(t){this.qrcode.loadFilesToScan(t,this.config,.5).subscribe(i=>{console.log(i),this.qrCodeResult2=i})}getData(){const t=De(this.firestore,"muestras");me(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}MyQuery(){var t=this;return b(function*(){let i=t.item;console.log(i);const r=fn(De(t.firestore,"muestras"),nn("codigo","==",i));me(r).then(o=>{t.data=[...o.docs.map(s=>({...s.data(),id:s.id}))],0!=t.data.length&&(t.handle(t.action,"stop"),t.router.navigate(["user/muestras-info/"+i]))})})()}static#e=this.\u0275fac=function(i){return new(i||n)(E(qQ),E(Se),E(ft),E(We),E(ht))};static#t=this.\u0275cmp=Me({type:n,selectors:[["app-scan"]],viewQuery:function(i,r){if(1&i&&jn(JOe,5),2&i){let o;Cn(o=En())&&(r.action=o.first)}},decls:6,vars:8,consts:[[1,"container"],[1,"screen",3,"config","event"],["action","scanner"],[4,"ngIf"],[1,"btn",3,"disabled","click"],["width","30px",3,"src"]],template:function(i,r){if(1&i){const o=It();g(0,"div",0)(1,"ngx-scanner-qrcode",1,2),ee("event",function(a){Le(o);const c=In(2);return Ve(r.onEvent(a,c))}),p(),Zn(3,ePe,2,0,"p",3),g(4,"button",4),ee("click",function(){Le(o);const a=In(2);return Ve(r.handle(a,a.isStart?"stop":"start"))}),ie(5,"img",5),p()()}if(2&i){const o=In(2);H(),Jn("config",r.config),H(2),Jn("ngIf",o.isLoading),H(),uo("btn-info",!o.isStart)("btn-warning",o.isStart),Jn("disabled",o.isLoading),H(),Jn("src",o.isStart?"https://id1945.github.io/images/svg/camera-off.svg":"https://id1945.github.io/images/svg/camera-on.svg",iE)}},dependencies:[mI,QOe],styles:["h1[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{font-weight:600;word-break:break-all;font-family:Courier New,Courier,monospace}div[_ngcontent-%COMP%]{text-align:center}div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:50%;height:60px;width:60px;margin:4px}div[_ngcontent-%COMP%]   buttondisabled[_ngcontent-%COMP%]{cursor:no-drop}div[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]{background:antiquewhite;border-radius:5px}.origin-overlay[_ngcontent-%COMP%]   .qrcode-tooltip[_ngcontent-%COMP%]   .qrcode-tooltip-temp[_ngcontent-%COMP%]{padding:5px!important}.screen[_ngcontent-%COMP%]{display:block;height:50%;width:50%;margin-left:auto;margin-right:auto}.container[_ngcontent-%COMP%]{top:25%;width:100%;position:absolute;left:0%}@media only screen and (max-width: 768px){h1[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{font-weight:600;word-break:break-all;font-family:Courier New,Courier,monospace}div[_ngcontent-%COMP%]{text-align:center}div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:50%;height:60px;width:60px;margin:10px 4px 4px}div[_ngcontent-%COMP%]   buttondisabled[_ngcontent-%COMP%]{cursor:no-drop}div[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]{background:antiquewhite;border-radius:5px}.origin-overlay[_ngcontent-%COMP%]   .qrcode-tooltip[_ngcontent-%COMP%]   .qrcode-tooltip-temp[_ngcontent-%COMP%]{padding:5px!important}.screen[_ngcontent-%COMP%]{display:block;height:80%;width:80%;margin-left:auto;margin-right:auto}.container[_ngcontent-%COMP%]{top:25%;width:100%;position:absolute}}"]})}return n})();const nPe=["geo"];let iPe=(()=>{class n{static#e=this.text="";constructor(t,i,r,o,s){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.location=s,this.title="gestion-de-muestras-de-campo",this.data=[],this.res="",this.somethingChange=new Xe}ngOnInit(){this.route.params.subscribe(t=>{this.x=t.id,console.log(t),console.log(t.id)}),this.getData(),this.MyQuery()}handleRegister(t){this.addData(t),this.Home()}addData(t){var i=this;return b(function*(){console.log(t);const r=Ae(i.firestore,"muestras",t.codigo);Cr(r,{codigo:t.codigo,cliente:t.cliente,fecha:t.fecha,cultivo:t.cultivo,tipo:t.tipo,fitopatogeno:t.fitopatogeno,repeticion:t.repeticion,coordenadas:t.coordenadas,sintomas:t.sintomas,comentarios:t.comentarios,project:i.pid}).then(()=>{alert("Data Sent")}).catch(o=>{alert(o.message)}),console.log(i.pid)})()}getData(){const t=De(this.firestore,"muestras");me(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude),n.text=t.coords.latitude+", "+t.coords.longitude}getLocation(){var t=this;return b(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{t.res=n.text,console.log(t.res)},1e3)})()}MyQuery(){var t=this;return b(function*(){let i=t.x;const r=fn(De(t.firestore,"muestras"),nn("codigo","==",i)),o=yield me(r);o.empty||o.forEach(s=>{t.item=s.data(),console.log(s.id," => ",s.data()),t.res=t.item.coordenadas,t.pid=t.item.project})})()}deleteData(t){const r=Ae(this.firestore,"muestras",this.x);Fn(r).then(()=>{alert("Data Deleted"),this.router.navigate(["user/muestras/"+this.pid])}).catch(o=>{alert(o.message)})}Home(){this.router.navigate(["user/projects"])}static#t=this.\u0275fac=function(i){return new(i||n)(E(Se),E(ft),E(We),E(ht),E(yi))};static#n=this.\u0275cmp=Me({type:n,selectors:[["app-muestras-edit"]],viewQuery:function(i,r){if(1&i&&jn(nPe,5),2&i){let o;Cn(o=En())&&(r.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:67,vars:11,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],["name","codigo","ngModel","","placeholder","codigo","id","codigo","type","codigo",1,"input-field",3,"ngModel","ngModelChange"],["name","cliente","ngModel","","placeholder","Cliente","id","cliente","type","cliente",1,"input-field",3,"ngModel","ngModelChange"],["name","fecha","ngModel","","placeholder","Fecha","id","fecha","type","fecha",1,"input-field",3,"ngModel","ngModelChange"],["name","cultivo","ngModel","","placeholder","Cultivo","id","cultivo","type","cultivo",1,"input-field",3,"ngModel","ngModelChange"],["list","tipos","name","tipo","ngModel","","placeholder","Tipo","id","tipo","type","tipo",1,"input-field",3,"ngModel","ngModelChange"],["id","tipos"],["value","Hibrido"],["value","Variedad"],["value","Clone"],["list","fitopatogenos","name","fitopatogeno","ngModel","","placeholder","Fitopat\xf3geno","id","fitopatogeno","type","fitopatogeno",1,"input-field",3,"ngModel","ngModelChange"],["id","fitopatogenos"],["value","Hongos"],["value","Bacterias"],["value","Virus"],["name","lote","ngModel","","placeholder","Lote","id","lote","type","lote",1,"input-field",3,"ngModel","ngModelChange"],["name","repeticion","ngModel","","placeholder","Repeticion","id","repeticion","type","repeticion",1,"input-field",3,"ngModel","ngModelChange"],["name","coordenadas","ngModel","","placeholder","Coordenadas","id","coordenadas","type","coordenadas",1,"input-field",3,"ngModel","ngModelChange"],[1,"bUbicacion",3,"click"],["src","../../../../assets/Ubicacion.png","alt","U"],["name","s\xedntomas","ngModel","","placeholder","S\xedntomas","id","s\xedntomas","type","s\xedntomas",1,"input-field",3,"ngModel","ngModelChange"],["name","comentarios","ngModel","","placeholder","Comentarios","id","comentarios","type","comentarios",1,"input-field",3,"ngModel","ngModelChange"],[1,"boton"],[1,"botonrojo",3,"click"],[1,"blank"]],template:function(i,r){if(1&i){const o=It();g(0,"p"),w(1,"muestras-edit works!"),p(),g(2,"h1",0),w(3,"Editar Muestra"),p(),g(4,"div",1)(5,"form",2,3),ee("ngSubmit",function(){Le(o);const a=In(6);return Ve(r.handleRegister(a.value))}),g(7,"div",4)(8,"div",5)(9,"span",6),w(10,"Codigo:"),p(),g(11,"input",7),ot("ngModelChange",function(a){return ut(r.item.codigo,a)||(r.item.codigo=a),a}),p()(),g(12,"div",5)(13,"span",6),w(14,"Cliente:"),p(),g(15,"input",8),ot("ngModelChange",function(a){return ut(r.item.cliente,a)||(r.item.cliente=a),a}),p()(),g(16,"div",5)(17,"span",6),w(18,"Fecha:"),p(),g(19,"input",9),ot("ngModelChange",function(a){return ut(r.item.fecha,a)||(r.item.fecha=a),a}),p()(),g(20,"div",5)(21,"span",6),w(22,"Cultivo:"),p(),g(23,"input",10),ot("ngModelChange",function(a){return ut(r.item.cultivo,a)||(r.item.cultivo=a),a}),p()(),g(24,"div",5)(25,"span",6),w(26,"Tipo:"),p(),g(27,"input",11),ot("ngModelChange",function(a){return ut(r.item.tipo,a)||(r.item.tipo=a),a}),p(),g(28,"datalist",12),ie(29,"option",13)(30,"option",14)(31,"option",15),p()(),g(32,"div",5)(33,"span",6),w(34,"Fitopat\xf3geno:"),p(),g(35,"input",16),ot("ngModelChange",function(a){return ut(r.item.fitopatogeno,a)||(r.item.fitopatogeno=a),a}),p(),g(36,"datalist",17),ie(37,"option",18)(38,"option",19)(39,"option",20),p()(),g(40,"div",5)(41,"span",6),w(42,"Lote:"),p(),g(43,"input",21),ot("ngModelChange",function(a){return ut(r.item.lote,a)||(r.item.lote=a),a}),p()(),g(44,"div",5)(45,"span",6),w(46,"Repetici\xf3n:"),p(),g(47,"input",22),ot("ngModelChange",function(a){return ut(r.item.repeticion,a)||(r.item.repeticion=a),a}),p()(),g(48,"div",5)(49,"span",6),w(50,"Coordenadas:"),p(),g(51,"input",23),ot("ngModelChange",function(a){return ut(r.res,a)||(r.res=a),a}),p(),g(52,"div",24),ee("click",function(){return r.getLocation()}),ie(53,"img",25),p()(),g(54,"div",5)(55,"span",6),w(56,"S\xedntomas:"),p(),g(57,"input",26),ot("ngModelChange",function(a){return ut(r.item.sintomas,a)||(r.item.sintomas=a),a}),p()(),g(58,"div",5)(59,"span",6),w(60,"Comentarios:"),p(),g(61,"input",27),ot("ngModelChange",function(a){return ut(r.item.comentarios,a)||(r.item.comentarios=a),a}),p()(),g(62,"button",28),w(63,"Editar Muestra"),p(),g(64,"button",29),ee("click",function(){return r.deleteData(r.item.id)}),w(65," Delete "),p()(),ie(66,"div",30),p()()}2&i&&(H(11),rt("ngModel",r.item.codigo),H(4),rt("ngModel",r.item.cliente),H(4),rt("ngModel",r.item.fecha),H(4),rt("ngModel",r.item.cultivo),H(4),rt("ngModel",r.item.tipo),H(8),rt("ngModel",r.item.fitopatogeno),H(8),rt("ngModel",r.item.lote),H(4),rt("ngModel",r.item.repeticion),H(4),rt("ngModel",r.res),H(6),rt("ngModel",r.item.sintomas),H(4),rt("ngModel",r.item.comentarios))},dependencies:[ni,My,Ay,tr,Rr,ti,br,kn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;padding-top:2px;width:65%;height:72%;flex-shrink:0;position:absolute;left:50%;top:24%;transform:translate(-30%)}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;padding-top:7px;width:90%;left:5%;top:0%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:85%;height:20px;left:92px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:39%;top:16%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#A6A6A6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{margin:2%;background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:85%;top:100%}.botonrojo[_ngcontent-%COMP%]{margin:2%;background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:0%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.input-field[_ngcontent-%COMP%]{margin:6px 6px 6px 24px;height:20px;left:92px;color:#000;font-family:Arial;font-size:16px;letter-spacing:0;text-overflow:ellipsis}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:6px 6px 6px 22px;font-family:Arial;width:85%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:3%;top:2%}.Text[_ngcontent-%COMP%]{color:#000;height:20px;font-family:Arial;font-size:16px;letter-spacing:0}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:95%;height:67%;flex-shrink:0;position:absolute;left:2.5%;top:30%;transform:none}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:67%;top:105%;border:none;float:right;background-color:#3eb3c2;color:#fff;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:12px;left:0%;top:105%}.blank[_ngcontent-%COMP%]{width:100%;height:16px;position:absolute;left:0%;top:110%}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:24%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}.blank[_ngcontent-%COMP%]{position:absolute;top:0%;left:0%;display:hidden;width:0px;height:0px}}@media only screen and (min-width: 1536px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:960px;height:660px;flex-shrink:0;position:absolute;left:50%;top:50%;transform:translate(-50%,-36%)}.subTituloText[_ngcontent-%COMP%]{position:absolute;left:52%;transform:translate(-50%)}}"]})}return n})();const rPe=["geo"];let oPe=(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.location=s,this.title="gestion-de-muestras-de-campo",this.data=[],this.somethingChange=new Xe,this.getData(),this.MyQuery()}ngOnInit(){this.route.params.subscribe(t=>{this.text=t.id,console.log(t),console.log(t.id)}),this.getData(),this.MyQuery()}handleRegister(t){this.addData(t)}addData(t){const i=Ae(this.firestore,"muestras",t.codigo);xr(i,t).then(()=>{alert("Data Sent")}).catch(r=>{alert(r.message)}),console.log(t.comentarios)}getData(){const t=De(this.firestore,"muestras");me(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude)}getLocation(){var t=this;return b(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{console.log(t.res)},1e3)})()}MyQuery(){var t=this;return b(function*(){let i=t.text;const r=fn(De(t.firestore,"muestras"),nn("codigo","==",i)),o=yield me(r);o.empty||o.forEach(s=>{t.item=s.data(),console.log(s.id," => ",s.data())})})()}editMuestra(){this.router.navigate(["user/muestras-edit/"+this.text])}deleteData(t){const i=Ae(this.firestore,"users",t);Fn(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}backPage(){this.location.back()}static#e=this.\u0275fac=function(i){return new(i||n)(E(Se),E(ft),E(We),E(ht),E(yi))};static#t=this.\u0275cmp=Me({type:n,selectors:[["app-muestras-info"]],viewQuery:function(i,r){if(1&i&&jn(rPe,5),2&i){let o;Cn(o=En())&&(r.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:60,vars:10,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],[1,"input-field"],[1,"boton",3,"click"]],template:function(i,r){if(1&i){const o=It();g(0,"p"),w(1,"muestras-info works!"),p(),g(2,"h1",0),w(3,"Datos de la Muestra"),p(),g(4,"div",1)(5,"form",2,3),ee("ngSubmit",function(){Le(o);const a=In(6);return Ve(r.handleRegister(a.value))}),g(7,"div",4)(8,"div",5)(9,"span",6),w(10,"Codigo:"),p(),g(11,"span",7),w(12),p()(),g(13,"div",5)(14,"span",6),w(15,"Cliente:"),p(),g(16,"span",7),w(17),p()(),g(18,"div",5)(19,"span",6),w(20,"Fecha:"),p(),g(21,"span",7),w(22),p()(),g(23,"div",5)(24,"span",6),w(25,"Cultivo:"),p(),g(26,"span",7),w(27),p()(),g(28,"div",5)(29,"span",6),w(30,"Tipo:"),p(),g(31,"span",7),w(32),p()(),g(33,"div",5)(34,"span",6),w(35,"Fitopat\xf3geno:"),p(),g(36,"span",7),w(37),p()(),g(38,"div",5)(39,"span",6),w(40,"Lote:"),p(),g(41,"span",7),w(42),p()(),g(43,"div",5)(44,"span",6),w(45,"Repetici\xf3n:"),p(),g(46,"span",7),w(47),p()(),g(48,"div",5)(49,"span",6),w(50,"S\xedntomas:"),p(),g(51,"span",7),w(52),p()(),g(53,"div",5)(54,"span",6),w(55,"Comentarios:"),p(),g(56,"span",7),w(57),p()()()()(),g(58,"button",8),ee("click",function(){return r.editMuestra()}),w(59,"Editar Muestra"),p()}2&i&&(H(12),je(" ",r.item.codigo,""),H(5),je(" ",r.item.cliente,""),H(5),je(" ",r.item.fecha,""),H(5),je(" ",r.item.cultivo,""),H(5),je(" ",r.item.tipo,""),H(5),je(" ",r.item.fitopatogeno,""),H(5),je(" ",r.item.lote,""),H(5),je(" ",r.item.repeticion,""),H(5),je(" ",r.item.sintomas,""),H(5),je(" ",r.item.comentarios,""))},dependencies:[ni,ti,kn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:65%;height:62%;flex-shrink:0;position:absolute;left:50%;top:28%;transform:translate(-30%)}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:10%;top:2%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:12px 12px 12px 25px;height:20px;left:92px;color:#000;font-family:Arial;font-size:20px;letter-spacing:0}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:40%;top:20%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;height:25px;font-family:Arial;font-size:20px;font-weight:700;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#A6A6A6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:80%;top:92%}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:0%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.input-field[_ngcontent-%COMP%]{margin:6px 6px 6px 10px;height:20px;left:92px;color:#000;font-family:Arial;font-size:16px;letter-spacing:0;text-overflow:ellipsis}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:5%;top:2%}.Text[_ngcontent-%COMP%]{color:#000;height:20px;font-family:Arial;font-size:16px;letter-spacing:0}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:90%;height:40%;flex-shrink:0;position:absolute;left:5%;top:40%;transform:none}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:67%;top:85%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:12px;left:0%;top:110%}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:28%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}@media only screen and (min-width: 1536px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:850px;height:560px;flex-shrink:0;position:absolute;left:50%;top:50%;transform:translate(-50%,-35%)}.subTituloText[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%)}.boton[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(310px)}}"]})}return n})();const sPe=["geo"];let aPe=(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.location=s,this.title="gestion-de-muestras-de-campo",this.data=[],this.somethingChange=new Xe}ngOnInit(){this.route.params.subscribe(t=>{this.text=t.id,console.log(t),console.log(t.id)}),this.getData(),this.MyQuery()}handleRegister(t){this.addData(t),this.Home()}randomCode(){let t="";for(let o=0;o<20;o++)t+="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".charAt(Math.floor(62*Math.random()));return t}addData(t){let i=t.integrantes.split(/[\s,]+/);const r=Ae(this.firestore,"projects",this.pid);xr(r,{name:t.name,cliente:t.cliente,owner:t.owner,integrantes:i}).then(()=>{alert("Data Sent")}).catch(o=>{alert(o.message)}),console.log(t.comentarios)}getData(){const t=De(this.firestore,"projects");me(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude)}getLocation(){var t=this;return b(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{console.log(t.res)},1e3)})()}MyQuery(){var t=this;return b(function*(){let i=t.text;const r=fn(De(t.firestore,"projects"),nn("name","==",i));(yield me(r)).forEach(s=>{t.item=s.data(),t.pid=s.id,console.log(s.id," => ",s.data())})})()}deleteData(t){const i=Ae(this.firestore,"projects",t);Fn(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}Home(){this.router.navigate(["user/projects"])}backPage(){this.location.back()}static#e=this.\u0275fac=function(i){return new(i||n)(E(Se),E(ft),E(We),E(ht),E(yi))};static#t=this.\u0275cmp=Me({type:n,selectors:[["app-project-edit"]],viewQuery:function(i,r){if(1&i&&jn(sPe,5),2&i){let o;Cn(o=En())&&(r.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:28,vars:4,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],["name","name","ngModel","","placeholder","Name","id","name","type","name",1,"input-field",3,"ngModel","ngModelChange"],["name","owner","ngModel","","placeholder","Owner","id","owner","type","owner",1,"input-field",3,"ngModel","ngModelChange"],["name","integrantes","ngModel","","placeholder","Integrantes","id","integrantes","type","integrantes",1,"input-field",3,"ngModel","ngModelChange"],["name","cliente","ngModel","","placeholder","Cliente","id","cliente","type","cliente",1,"input-field",3,"ngModel","ngModelChange"],[1,"boton"],[1,"botonrojo",3,"click"]],template:function(i,r){if(1&i){const o=It();g(0,"p"),w(1,"project-edit works!"),p(),g(2,"h1",0),w(3,"Editar Projecto"),p(),g(4,"div",1)(5,"form",2,3),ee("ngSubmit",function(){Le(o);const a=In(6);return Ve(r.handleRegister(a.value))}),g(7,"div",4)(8,"div",5)(9,"span",6),w(10,"Nombre:"),p(),g(11,"input",7),ot("ngModelChange",function(a){return ut(r.item.name,a)||(r.item.name=a),a}),p()(),g(12,"div",5)(13,"span",6),w(14,"Owner:"),p(),g(15,"input",8),ot("ngModelChange",function(a){return ut(r.item.owner,a)||(r.item.owner=a),a}),p()(),g(16,"div",5)(17,"span",6),w(18,"Integrantes:"),p(),g(19,"input",9),ot("ngModelChange",function(a){return ut(r.item.integrantes,a)||(r.item.integrantes=a),a}),p()(),g(20,"div",5)(21,"span",6),w(22,"Cliente:"),p(),g(23,"input",10),ot("ngModelChange",function(a){return ut(r.item.cliente,a)||(r.item.cliente=a),a}),p()(),g(24,"button",11),w(25,"Editar Projecto"),p(),g(26,"button",12),ee("click",function(){return r.deleteData(r.pid)}),w(27," Delete "),p()()()()}2&i&&(H(11),rt("ngModel",r.item.name),H(4),rt("ngModel",r.item.owner),H(4),rt("ngModel",r.item.integrantes),H(4),rt("ngModel",r.item.cliente))},dependencies:[ni,tr,Rr,ti,br,kn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:35%;flex-shrink:0;position:absolute;left:15%;top:30%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:5%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:85%;height:20px;left:92px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:35%;top:20%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#A6A6A6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:85%;top:110%}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:0%;top:110%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.input-field[_ngcontent-%COMP%]{margin:6px 6px 6px 20px;height:20px;width:50%;left:92px;color:#000;font-family:Arial;font-size:16px;letter-spacing:0;text-overflow:ellipsis}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:20px;font-family:Arial;font-size:16px;letter-spacing:0}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:90%;height:25%;flex-shrink:0;position:absolute;left:5%;top:45%}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:70%;top:110%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:12px;left:0%;top:110%}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:30%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}@media only screen and (min-width: 1536px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:900px;height:280px;flex-shrink:0;position:absolute;left:50%;top:45%;transform:translate(-50%,-50%)}.boton[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(310px)}.subTituloText[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%)}}"]})}return n})();function cPe(n,e){if(1&n){const t=It();g(0,"tr")(1,"td"),w(2),p(),g(3,"td"),w(4),p(),g(5,"td"),w(6),p(),g(7,"td"),w(8),p(),g(9,"td")(10,"button",5),ee("click",function(){const o=Le(t).$implicit;return Ve(cn().infoMuestra(o.codigo))}),g(11,"div",6),w(12,"Informaci\xf3n"),p()(),g(13,"button",7),ee("click",function(){const o=Le(t).$implicit;return Ve(cn().editMuestra(o.codigo))}),g(14,"div",8),w(15,"Editar"),p()(),g(16,"button",9),ee("click",function(){const o=Le(t).$implicit;return Ve(cn().Barcode(o.codigo))}),g(17,"div",10),w(18,"Imprimir"),p()()()()}if(2&n){const t=e.$implicit;H(2),qe(t.codigo),H(2),qe(t.fecha),H(2),qe(t.cultivo),H(2),qe(t.coordenadas)}}let lPe=(()=>{class n{constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.data=[],this.getData()}ngOnInit(){this.route.params.subscribe(t=>{this.item=t.id,console.log(t),console.log(t.id)})}getData(){const t=De(this.firestore,"muestras");me(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}updateData(t){const i=Ae(this.firestore,"muestras",t);Cr(i,{}).then(()=>{alert("Data updated"),this.getData()}).catch(r=>{alert(r.message)})}deleteData(t){const i=Ae(this.firestore,"muestras",t);Fn(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["user/projects"])}logOut(){ji(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}newMuestra(){this.router.navigate(["user/muestras-new"])}editMuestra(t){this.router.navigate(["user/muestras-edit/"+t])}infoProject(t){this.router.navigate(["user/project-edit/"+t])}infoMuestra(t){this.router.navigate(["user/muestras-info/"+t])}Barcode(t){this.router.navigate(["user/barcode/"+t])}MyQuery(){var t=this;return b(function*(){let i=t.item;t.pid=i,console.log(i);const r=fn(De(t.firestore,"muestras"),nn("project","==",i));me(r).then(s=>{t.data=[...s.docs.map(a=>({...a.data(),id:a.id}))]}),(yield me(r)).forEach(s=>{console.log(s.id," => ",s.data())})})()}static#e=this.\u0275fac=function(i){return new(i||n)(E(Se),E(ft),E(We),E(ht))};static#t=this.\u0275cmp=Me({type:n,selectors:[["app-muestras-all"]],decls:20,vars:1,consts:[[1,"subTituloText"],[1,"scanbutton"],[1,"scantext",3,"click"],[1,"list"],[4,"ngFor","ngForOf"],[1,"detalles",3,"click"],[1,"detalles-tip"],[1,"edit",3,"click"],[1,"edit-tip"],[1,"imprimir",3,"click"],[1,"imprimir-tip"]],template:function(i,r){1&i&&(g(0,"p"),w(1,"muestras-all works!"),p(),g(2,"h1",0),w(3,"Muestras"),p(),g(4,"div",1)(5,"div",2),ee("click",function(){return r.Scan()}),w(6,"ESCANEAR"),p()(),g(7,"div",3)(8,"table")(9,"tr")(10,"th"),w(11," Codigo "),p(),g(12,"th"),w(13," Fecha "),p(),g(14,"th"),w(15," Cultivo"),p(),g(16,"th"),w(17," Coordenadas "),p(),ie(18,"th"),p(),Zn(19,cPe,19,4,"tr",4),p()()),2&i&&(H(19),Jn("ngForOf",r.data))},dependencies:[po],styles:[".list[_ngcontent-%COMP%]{position:absolute;top:38%;left:50%;transform:translate(-40%)}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.projectBlock[_ngcontent-%COMP%]{width:auto;height:35px;background:#3EC28F;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:20px;font-weight:700;letter-spacing:0;cursor:pointer}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{cursor:pointer;width:153px;height:36px;top:30%;left:50%;transform:translate(-40%);position:absolute;background:#4C9EFF;box-shadow:2px 2px 5px #000;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;top:20%;left:50%;transform:translate(-40%)}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.edit[_ngcontent-%COMP%]:hover   .edit-tip[_ngcontent-%COMP%]{display:block;opacity:1;transition:.5s}.edit-tip[_ngcontent-%COMP%]{display:none;position:relative;background-color:#2f3033;color:#fff;padding:5px;width:-moz-fit-content;width:fit-content;margin:5px;top:100%;left:0;opacity:0;transition:.5s;z-index:100;border-radius:3px;font-weight:700;font-family:Trebuchet MS,sans-serif}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.detalles[_ngcontent-%COMP%]:hover   .detalles-tip[_ngcontent-%COMP%]{display:block;opacity:1;transition:.5s}.detalles-tip[_ngcontent-%COMP%]{display:none;position:relative;background-color:#2f3033;color:#fff;padding:5px;width:-moz-fit-content;width:fit-content;margin:5px;top:100%;left:0;opacity:0;transition:.5s;z-index:100;border-radius:3px;font-weight:700;font-family:Trebuchet MS,sans-serif}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;margin-left:2px;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.imprimir[_ngcontent-%COMP%]:hover   .imprimir-tip[_ngcontent-%COMP%]{display:block;opacity:1;transition:.5s}.imprimir-tip[_ngcontent-%COMP%]{display:none;position:relative;background-color:#2f3033;color:#fff;padding:5px;width:-moz-fit-content;width:fit-content;margin:5px;top:100%;left:0;opacity:0;transition:.5s;z-index:100;border-radius:3px;font-weight:700;font-family:Trebuchet MS,sans-serif}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.list[_ngcontent-%COMP%]{position:absolute;left:5%;top:48%;text-overflow:ellipsis;transform:none}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{transform:none;width:153px;height:36px;left:30%;top:38%;position:absolute;background:#4C9EFF;border-radius:30px}.scantext[_ngcontent-%COMP%]{transform:none;cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:80%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;transform:none;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;left:30%;top:28%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}return n})();const uPe=["geo"];let dPe=(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.location=s,this.title="gestion-de-muestras-de-campo",this.data=[],this.somethingChange=new Xe}ngOnInit(){this.route.params.subscribe(t=>{this.text=t.id,console.log(t),console.log(t.id)}),this.getData(),this.MyQuery()}handleRegister(t){this.addData(t)}randomCode(){let t="";for(let o=0;o<20;o++)t+="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".charAt(Math.floor(62*Math.random()));return t}addData(t){let i=t.integrantes.split(/[\s,]+/);const r=Ae(this.firestore,"projects",this.pid);xr(r,{name:t.name,cliente:t.cliente,owner:t.owner,integrantes:i}).then(()=>{alert("Data Sent")}).catch(o=>{alert(o.message)}),console.log(t.comentarios)}getData(){const t=De(this.firestore,"projects");me(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude)}getLocation(){var t=this;return b(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{console.log(t.res)},1e3)})()}MyQuery(){var t=this;return b(function*(){let i=t.text;const r=fn(De(t.firestore,"projects"),nn("name","==",i));(yield me(r)).forEach(s=>{t.item=s.data(),t.pid=s.id,console.log(s.id," => ",s.data())})})()}deleteData(t){const i=Ae(this.firestore,"projects",t);Fn(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}editProyecto(){this.router.navigate(["user/project-edit/"+this.text])}backPage(){this.location.back()}static#e=this.\u0275fac=function(i){return new(i||n)(E(Se),E(ft),E(We),E(ht),E(yi))};static#t=this.\u0275cmp=Me({type:n,selectors:[["app-project-info"]],viewQuery:function(i,r){if(1&i&&jn(uPe,5),2&i){let o;Cn(o=En())&&(r.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:30,vars:4,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],[1,"input-field"],[1,"boton",3,"click"]],template:function(i,r){if(1&i){const o=It();g(0,"p"),w(1,"project-info works!"),p(),g(2,"h1",0),w(3,"Datos del Projecto"),p(),g(4,"div",1)(5,"form",2,3),ee("ngSubmit",function(){Le(o);const a=In(6);return Ve(r.handleRegister(a.value))}),g(7,"div",4)(8,"div",5)(9,"span",6),w(10,"Nombre:"),p(),g(11,"span",7),w(12),p()(),g(13,"div",5)(14,"span",6),w(15,"Owner:"),p(),g(16,"span",7),w(17),p()(),g(18,"div",5)(19,"span",6),w(20,"Integrantes:"),p(),g(21,"span",7),w(22),p()(),g(23,"div",5)(24,"span",6),w(25,"Cliente:"),p(),g(26,"span",7),w(27),p()()()()(),g(28,"button",8),ee("click",function(){return r.editProyecto()}),w(29,"Editar Proyecto"),p()}2&i&&(H(12),je(" ",r.item.name,""),H(5),je(" ",r.item.owner,""),H(5),je(" ",r.item.integrantes,""),H(5),je(" ",r.item.cliente,""))},dependencies:[ni,ti,kn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:25%;flex-shrink:0;position:absolute;left:15%;top:30%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:5%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:12px 12px 12px 25px;height:20px;left:92px;color:#000;font-family:Arial;font-size:20px;letter-spacing:0}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:35%;top:20%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#A6A6A6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:80%;top:60%}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:0%;top:110%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.input-field[_ngcontent-%COMP%]{margin:6px 6px 6px 20px;height:20px;width:50%;left:92px;color:#000;font-family:Arial;font-size:16px;letter-spacing:0;text-overflow:ellipsis}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:20px;font-family:Arial;font-size:16px;letter-spacing:0}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:90%;height:25%;flex-shrink:0;position:absolute;left:5%;top:45%}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:70%;top:75%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:30%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}@media only screen and (min-width: 1536px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:900px;height:260px;flex-shrink:0;position:absolute;left:50%;top:45%;transform:translate(-50%,-50%)}.boton[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(310px)}.subTituloText[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%)}}"]})}return n})();function hPe(n,e){if(1&n){const t=It();g(0,"tr")(1,"td"),w(2),p(),g(3,"td"),w(4),p(),g(5,"td"),w(6),p(),g(7,"td"),w(8),p(),g(9,"td")(10,"button",8),ee("click",function(){const o=Le(t).$implicit,s=cn();return Ve(s.Muestras(s.pid,o.codigo))}),p(),g(11,"button",9),ee("click",function(){const o=Le(t).$implicit;return Ve(cn().infoUnidad(o.codigo))}),p(),g(12,"button",10),ee("click",function(){const o=Le(t).$implicit;return Ve(cn().editUnidad(o.codigo))}),p()()()}if(2&n){const t=e.$implicit;H(2),qe(t.codigo),H(2),qe(t.cliente),H(2),qe(t.altitud),H(2),qe(t.coordenadas)}}let fPe=(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.location=s,this.data=[]}ngOnInit(){this.route.params.subscribe(t=>{this.pid=t.id,console.log(t),console.log(t.id)}),this.MyQuery()}getData(){const t=De(this.firestore,"unidad-produccion");me(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}updateData(t){const i=Ae(this.firestore,"unidad-produccion",t);Cr(i,{}).then(()=>{alert("Data updated"),this.getData()}).catch(r=>{alert(r.message)})}deleteData(t){const i=Ae(this.firestore,"unidad-produccion",t);Fn(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["user/projects"])}Muestras(t,i){this.router.navigate(["user/muestras/"+t+"/"+i])}logOut(){ji(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}newUnidad(t){this.router.navigate(["user/unidad-produccion-new/"+t])}editUnidad(t){this.router.navigate(["user/unidad-produccion-edit/"+t])}infoProject(t){this.router.navigate(["user/project-info/"+t])}infoUnidad(t){this.router.navigate(["user/unidad-produccion-info/"+t])}MyQuery(){var t=this;return b(function*(){let i=t.pid;console.log(i);const r=fn(De(t.firestore,"unidad-produccion"),nn("project","==",i));me(r).then(s=>{t.data=[...s.docs.map(a=>({...a.data(),id:a.id}))]}),(yield me(r)).forEach(s=>{console.log(s.id," => ",s.data())})})()}backPage(){this.location.back()}static#e=this.\u0275fac=function(i){return new(i||n)(E(Se),E(ft),E(We),E(ht),E(yi))};static#t=this.\u0275cmp=Me({type:n,selectors:[["app-unidad-produccion"]],decls:25,vars:1,consts:[[1,"subTituloText"],[1,"scanbutton"],[1,"scantext",3,"click"],[1,"list"],[1,"projectBlock"],[4,"ngFor","ngForOf"],["id","agregar",1,"boton",3,"click"],["id","volver",1,"boton",3,"click"],[1,"muestras",3,"click"],[1,"detalles",3,"click"],[1,"edit",3,"click"]],template:function(i,r){1&i&&(g(0,"p"),w(1,"unidad-produccion works!"),p(),g(2,"h1",0),w(3,"Unidades "),p(),g(4,"div",1)(5,"div",2),ee("click",function(){return r.Scan()}),w(6,"SCAN"),p()(),g(7,"div",3)(8,"div",4),w(9,"Proyecto"),p(),g(10,"table")(11,"tr")(12,"th"),w(13," Codigo "),p(),g(14,"th"),w(15," Cliente "),p(),g(16,"th"),w(17," Altitud"),p(),g(18,"th"),w(19," Coordenadas "),p(),ie(20,"th"),p(),Zn(21,hPe,13,4,"tr",5),p(),g(22,"button",6),ee("click",function(){return r.newUnidad(r.pid)}),w(23," Agregar "),p(),g(24,"button",7),ee("click",function(){return r.backPage()}),p()()),2&i&&(H(21),Jn("ngForOf",r.data))},dependencies:[po],styles:[".list[_ngcontent-%COMP%]{position:absolute;left:38%;top:38%}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.projectBlock[_ngcontent-%COMP%]{width:60%;height:35px;background:#3EC28F;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:20px;font-weight:700;letter-spacing:0;cursor:pointer}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:153px;height:36px;left:49%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px;box-shadow:2px 2px 5px #000}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}#volver[_ngcontent-%COMP%]{position:absolute;left:0%;border:none;width:50px;height:50px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(back-button-Edit4.8567daeed3ab1418.png)}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;text-shadow:2px 2px 5px black;left:45%;top:20%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.projectBlock[_ngcontent-%COMP%]{width:40%;height:25px;background:#3EC28F;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:14px;font-weight:700;letter-spacing:0;cursor:pointer}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:153px;height:36px;left:30%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:80%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}#volver[_ngcontent-%COMP%]{position:absolute;left:0%}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;left:30%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}return n})();const pPe=["geo"];let gPe=(()=>{class n{static#e=this.text="";constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.title="gestion-de-muestras-de-campo",this.data=[],this.res="",this.somethingChange=new Xe}ngOnInit(){this.route.params.subscribe(t=>{this.pid=t.id})}handleRegister(t){this.addData(t)}addData(t){const i=Ae(this.firestore,"unidad-produccion",t.codigo);xr(i,{codigo:t.codigo,cliente:t.cliente,fecha:t.fecha,cultivo:t.cultivo,tipo:t.tipo,fitopatogeno:t.fitopatogeno,estado:t.estado,coordenadas:t.coordenadas,sintomas:t.sintomas,comentarios:t.comentarios}).then(()=>{alert("Data Sent")}).catch(r=>{alert(r.message)}),console.log(t.comentarios)}getData(){const t=De(this.firestore,"unidad-produccion");me(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude),n.text=t.coords.latitude+", "+t.coords.longitude,console.log(n.text)}getLocation(){var t=this;return b(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{t.res=n.text,console.log(t.res)},1e3)})()}static#t=this.\u0275fac=function(i){return new(i||n)(E(Se),E(ft),E(We),E(ht))};static#n=this.\u0275cmp=Me({type:n,selectors:[["app-unidad-produccion-new"]],viewQuery:function(i,r){if(1&i&&jn(pPe,5),2&i){let o;Cn(o=En())&&(r.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:52,vars:1,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],["name","codigo","ngModel","","placeholder","codigo","id","codigo","type","codigo",1,"input-field"],["name","cliente","ngModel","","placeholder","Cliente","id","cliente","type","cliente",1,"input-field"],["name","coordenadas","ngModel","","placeholder","Coordenadas","id","coordenadas","type","coordenadas",1,"input-field",3,"ngModel","ngModelChange"],[1,"bUbicacion",3,"click"],["src","../../../../assets/Ubicacion.png","alt","U"],["name","localidad","ngModel","","placeholder","Localidad","id","localidad","type","localidad",1,"input-field"],["name","municipio","ngModel","","placeholder","Municipio","id","municipio","type","municipio",1,"input-field"],["name","estado","ngModel","","placeholder","Estado","id","estado","type","estado",1,"input-field"],["name","altitud","ngModel","","placeholder","Altitud","id","altitud","type","altitud",1,"input-field"],["name","tempmax","ngModel","","placeholder","Temperaturas M\xe1ximas","id","tempmax","type","tempmax",1,"input-field"],["name","tempmin","ngModel","","placeholder","Temperaturas M\xednimas","id","tempmin","type","tempmin",1,"input-field"],["name","precipitacion","ngModel","","placeholder","Precipitaci\xf3n","id","precipitacion","type","precipitacion",1,"input-field"],[1,"boton"]],template:function(i,r){if(1&i){const o=It();g(0,"p"),w(1,"unidad-produccion-new works!"),p(),g(2,"h1",0),w(3,"Nueva Unidad"),p(),g(4,"div",1)(5,"form",2,3),ee("ngSubmit",function(){Le(o);const a=In(6);return Ve(r.handleRegister(a.value))}),g(7,"div",4)(8,"div",5)(9,"span",6),w(10,"Codigo:"),p(),ie(11,"input",7),p(),g(12,"div",5)(13,"span",6),w(14,"Cliente:"),p(),ie(15,"input",8),p(),g(16,"div",5)(17,"span",6),w(18,"Coordenadas:"),p(),g(19,"input",9),ot("ngModelChange",function(a){return ut(r.res,a)||(r.res=a),a}),p(),g(20,"div",10),ee("click",function(){return r.getLocation()}),ie(21,"img",11),p()(),g(22,"div",5)(23,"span",6),w(24,"Localidad:"),p(),ie(25,"input",12),p(),g(26,"div",5)(27,"span",6),w(28,"Municipio:"),p(),ie(29,"input",13),p(),g(30,"div",5)(31,"span",6),w(32,"Estado:"),p(),ie(33,"input",14),p(),g(34,"div",5)(35,"span",6),w(36,"Altitud:"),p(),ie(37,"input",15),p(),g(38,"div",5)(39,"span",6),w(40,"Temperaturas M\xe1ximas:"),p(),ie(41,"input",16),p(),g(42,"div",5)(43,"span",6),w(44,"Temperaturas M\xednimas:"),p(),ie(45,"input",17),p(),g(46,"div",5)(47,"span",6),w(48,"Precipitaci\xf3n:"),p(),ie(49,"input",18),p(),g(50,"button",19),w(51,"Crear Unidad"),p()()()()}2&i&&(H(19),rt("ngModel",r.res))},dependencies:[ni,tr,Rr,ti,br,kn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:65%;height:60%;flex-shrink:0;position:absolute;left:50%;top:30%;transform:translate(-30%)}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:3%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:70%;height:20px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:50%;top:19%;transform:translate(-50%)}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#A6A6A6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:88%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:85%;height:50%;flex-shrink:0;position:absolute;left:7%;top:30%}.input-field[_ngcontent-%COMP%]{margin:10px 10px 10px 20px;width:85%;height:20px;left:92px}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:20px;font-family:Arial;font-size:16px;letter-spacing:0}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:3%;top:3%}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:75%;top:110%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}@media only screen and (min-width: 1536px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:1100px;height:550px;flex-shrink:0;position:absolute;left:60%;top:50%;transform:translate(-50%,-35%)}.subTituloText[_ngcontent-%COMP%]{position:absolute;left:52%;transform:translate(-50%)}}"]})}return n})();const mPe=["geo"];let _Pe=(()=>{class n{static#e=this.text="";constructor(t,i,r,o,s){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.location=s,this.title="gestion-de-muestras-de-campo",this.data=[],this.res="",this.somethingChange=new Xe}ngOnInit(){this.route.params.subscribe(t=>{this.x=t.id,console.log(t),console.log(t.id)}),this.getData(),this.MyQuery()}handleRegister(t){this.addData(t),this.Home()}addData(t){var i=this;return b(function*(){console.log(t);const r=Ae(i.firestore,"unidad-produccion",t.codigo);Cr(r,{codigo:t.codigo,cliente:t.cliente,fecha:t.fecha,cultivo:t.cultivo,tipo:t.tipo,fitopatogeno:t.fitopatogeno,estado:t.estado,coordenadas:t.coordenadas,sintomas:t.sintomas,comentarios:t.comentarios,project:i.pid}).then(()=>{alert("Data Sent")}).catch(o=>{alert(o.message)}),console.log(i.pid)})()}getData(){const t=De(this.firestore,"unidad-produccion");me(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude),n.text=t.coords.latitude+", "+t.coords.longitude}getLocation(){var t=this;return b(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{t.res=n.text,console.log(t.res)},1e3)})()}MyQuery(){var t=this;return b(function*(){let i=t.x;const r=fn(De(t.firestore,"unidad-produccion"),nn("codigo","==",i)),o=yield me(r);o.empty||o.forEach(s=>{t.item=s.data(),console.log(s.id," => ",s.data()),t.res=t.item.coordenadas,t.pid=t.item.project})})()}deleteData(t){const r=Ae(this.firestore,"unidad-produccion",this.x);Fn(r).then(()=>{alert("Data Deleted"),this.router.navigate(["user/unidad-produccion/"+this.pid])}).catch(o=>{alert(o.message)})}Home(){this.router.navigate(["user/projects"])}backPage(){this.location.back()}static#t=this.\u0275fac=function(i){return new(i||n)(E(Se),E(ft),E(We),E(ht),E(yi))};static#n=this.\u0275cmp=Me({type:n,selectors:[["app-unidad-produccion-edit"]],viewQuery:function(i,r){if(1&i&&jn(mPe,5),2&i){let o;Cn(o=En())&&(r.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:55,vars:10,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],["name","codigo","ngModel","","placeholder","codigo","id","codigo","type","codigo",1,"input-field",3,"ngModel","ngModelChange"],["name","cliente","ngModel","","placeholder","Cliente","id","cliente","type","cliente",1,"input-field",3,"ngModel","ngModelChange"],["name","coordenadas","ngModel","","placeholder","Coordenadas","id","coordenadas","type","coordenadas",1,"input-field",3,"ngModel","ngModelChange"],[1,"bUbicacion",3,"click"],["src","../../../../assets/Ubicacion.png","alt","U"],["name","localidad","ngModel","","placeholder","Localidad","id","localidad","type","localidad",1,"input-field",3,"ngModel","ngModelChange"],["name","municipio","ngModel","","placeholder","Municipio","id","municipio","type","municipio",1,"input-field",3,"ngModel","ngModelChange"],["name","estado","ngModel","","placeholder","Estado","id","estado","type","estado",1,"input-field",3,"ngModel","ngModelChange"],["name","altitud","ngModel","","placeholder","Altitud","id","altitud","type","altitud",1,"input-field",3,"ngModel","ngModelChange"],["name","tempmax","ngModel","","placeholder","Temperaturas M\xe1ximas","id","tempmax","type","tempmax",1,"input-field",3,"ngModel","ngModelChange"],["name","tempmin","ngModel","","placeholder","Temperaturas M\xednimas","id","tempmin","type","tempmin",1,"input-field",3,"ngModel","ngModelChange"],["name","precipitacion","ngModel","","placeholder","Precipitaci\xf3n","id","precipitacion","type","precipitacion",1,"input-field",3,"ngModel","ngModelChange"],[1,"boton"],[1,"botonrojo",3,"click"],[1,"blank"]],template:function(i,r){if(1&i){const o=It();g(0,"p"),w(1,"unidad-produccion-edit works!"),p(),g(2,"h1",0),w(3,"Editar Unidad"),p(),g(4,"div",1)(5,"form",2,3),ee("ngSubmit",function(){Le(o);const a=In(6);return Ve(r.handleRegister(a.value))}),g(7,"div",4)(8,"div",5)(9,"span",6),w(10,"Codigo:"),p(),g(11,"input",7),ot("ngModelChange",function(a){return ut(r.item.codigo,a)||(r.item.codigo=a),a}),p()(),g(12,"div",5)(13,"span",6),w(14,"Cliente:"),p(),g(15,"input",8),ot("ngModelChange",function(a){return ut(r.item.cliente,a)||(r.item.cliente=a),a}),p()(),g(16,"div",5)(17,"span",6),w(18,"Coordenadas:"),p(),g(19,"input",9),ot("ngModelChange",function(a){return ut(r.res,a)||(r.res=a),a}),p(),g(20,"div",10),ee("click",function(){return r.getLocation()}),ie(21,"img",11),p()(),g(22,"div",5)(23,"span",6),w(24,"Localidad:"),p(),g(25,"input",12),ot("ngModelChange",function(a){return ut(r.item.localidad,a)||(r.item.localidad=a),a}),p()(),g(26,"div",5)(27,"span",6),w(28,"Municipio:"),p(),g(29,"input",13),ot("ngModelChange",function(a){return ut(r.item.municipio,a)||(r.item.municipio=a),a}),p()(),g(30,"div",5)(31,"span",6),w(32,"Estado:"),p(),g(33,"input",14),ot("ngModelChange",function(a){return ut(r.item.estado,a)||(r.item.estado=a),a}),p()(),g(34,"div",5)(35,"span",6),w(36,"Altitud:"),p(),g(37,"input",15),ot("ngModelChange",function(a){return ut(r.item.altitud,a)||(r.item.altitud=a),a}),p()(),g(38,"div",5)(39,"span",6),w(40,"Temperaturas M\xe1ximas:"),p(),g(41,"input",16),ot("ngModelChange",function(a){return ut(r.item.tempmax,a)||(r.item.tempmax=a),a}),p()(),g(42,"div",5)(43,"span",6),w(44,"Temperaturas M\xednimas:"),p(),g(45,"input",17),ot("ngModelChange",function(a){return ut(r.item.tempmin,a)||(r.item.tempmin=a),a}),p()(),g(46,"div",5)(47,"span",6),w(48,"Precipitaci\xf3n:"),p(),g(49,"input",18),ot("ngModelChange",function(a){return ut(r.item.precipitacion,a)||(r.item.precipitacion=a),a}),p()(),g(50,"button",19),w(51,"Editar Unidad"),p(),g(52,"button",20),ee("click",function(){return r.deleteData(r.item.id)}),w(53," Delete "),p()(),ie(54,"div",21),p()()}2&i&&(H(11),rt("ngModel",r.item.codigo),H(4),rt("ngModel",r.item.cliente),H(4),rt("ngModel",r.res),H(6),rt("ngModel",r.item.localidad),H(4),rt("ngModel",r.item.municipio),H(4),rt("ngModel",r.item.estado),H(4),rt("ngModel",r.item.altitud),H(4),rt("ngModel",r.item.tempmax),H(4),rt("ngModel",r.item.tempmin),H(4),rt("ngModel",r.item.precipitacion))},dependencies:[ni,tr,Rr,ti,br,kn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:65%;height:70%;flex-shrink:0;position:absolute;left:30%;top:25%;transform:translate(0)}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:3%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:85%;height:20px;left:92px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:50%;top:17%;transform:translate(-50%)}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#A6A6A6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:90%;top:100%}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:0%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.input-field[_ngcontent-%COMP%]{margin:6px 6px 6px 24px;height:20px;left:92px;color:#000;font-family:Arial;font-size:16px;letter-spacing:0;text-overflow:ellipsis}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:6px 6px 6px 22px;font-family:Arial;width:85%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:3%;top:2%}.Text[_ngcontent-%COMP%]{color:#000;height:-moz-fit-content;height:fit-content;font-family:Arial;font-size:16px;letter-spacing:0;margin-top:5px;margin-bottom:10px}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:95%;height:57%;flex-shrink:0;position:absolute;left:2.5%;top:35%}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:67%;top:105%;border:none;float:right;background-color:#3eb3c2;color:#fff;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:12px;left:0%;top:105%}.blank[_ngcontent-%COMP%]{width:100%;height:16px;position:absolute;left:0%;top:110%}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:27%;transform:none}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}@media only screen and (min-width: 1536px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:700px;height:500px;flex-shrink:0;position:absolute;left:50%;top:50%;transform:translate(-50%,-40%)}.subTituloText[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%)}.boton[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(235px)}}@media only screen and (min-width: 1536px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:65%;height:70%;flex-shrink:0;position:absolute;left:30%;top:25%;transform:translate(0)}.subTituloText[_ngcontent-%COMP%]{position:absolute;left:52%;transform:translate(-50%)}}"]})}return n})();const bPe=["geo"];let yPe=(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.location=s,this.title="gestion-de-muestras-de-campo",this.data=[],this.somethingChange=new Xe,this.getData(),this.MyQuery()}ngOnInit(){this.route.params.subscribe(t=>{this.text=t.id,console.log(t),console.log(t.id)}),this.getData(),this.MyQuery()}handleRegister(t){this.addData(t)}addData(t){const i=Ae(this.firestore,"unidad-produccion",t.codigo);xr(i,t).then(()=>{alert("Data Sent")}).catch(r=>{alert(r.message)}),console.log(t.comentarios)}getData(){const t=De(this.firestore,"unidad-produccion");me(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude)}getLocation(){var t=this;return b(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{console.log(t.res)},1e3)})()}MyQuery(){var t=this;return b(function*(){let i=t.text;const r=fn(De(t.firestore,"unidad-produccion"),nn("codigo","==",i)),o=yield me(r);o.empty||o.forEach(s=>{t.item=s.data(),console.log(s.id," => ",s.data())})})()}editMuestra(){this.router.navigate(["user/unidad-produccion-edit/"+this.text])}deleteData(t){const i=Ae(this.firestore,"users",t);Fn(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}backPage(){this.location.back()}static#e=this.\u0275fac=function(i){return new(i||n)(E(Se),E(ft),E(We),E(ht),E(yi))};static#t=this.\u0275cmp=Me({type:n,selectors:[["app-unidad-produccion-info"]],viewQuery:function(i,r){if(1&i&&jn(bPe,5),2&i){let o;Cn(o=En())&&(r.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:60,vars:10,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],[1,"input-field"],[1,"boton",3,"click"]],template:function(i,r){if(1&i){const o=It();g(0,"p"),w(1,"unidad-produccion-info works!"),p(),g(2,"h1",0),w(3,"Datos de la Unidad"),p(),g(4,"div",1)(5,"form",2,3),ee("ngSubmit",function(){Le(o);const a=In(6);return Ve(r.handleRegister(a.value))}),g(7,"div",4)(8,"div",5)(9,"span",6),w(10,"Codigo:"),p(),g(11,"span",7),w(12),p()(),g(13,"div",5)(14,"span",6),w(15,"Cliente:"),p(),g(16,"span",7),w(17),p()(),g(18,"div",5)(19,"span",6),w(20,"Coordenadas:"),p(),g(21,"span",7),w(22),p()(),g(23,"div",5)(24,"span",6),w(25,"Localidad:"),p(),g(26,"span",7),w(27),p()(),g(28,"div",5)(29,"span",6),w(30,"Municipio:"),p(),g(31,"span",7),w(32),p()(),g(33,"div",5)(34,"span",6),w(35,"Estado:"),p(),g(36,"span",7),w(37),p()(),g(38,"div",5)(39,"span",6),w(40,"Altitud:"),p(),g(41,"span",7),w(42),p()(),g(43,"div",5)(44,"span",6),w(45,"Temperaturas M\xe1ximas:"),p(),g(46,"span",7),w(47),p()(),g(48,"div",5)(49,"span",6),w(50,"Temperaturas M\xednimas:"),p(),g(51,"span",7),w(52),p()(),g(53,"div",5)(54,"span",6),w(55,"Precipitaci\xf3n:"),p(),g(56,"span",7),w(57),p()()()()(),g(58,"button",8),ee("click",function(){return r.editMuestra()}),w(59,"Editar Unidad"),p()}2&i&&(H(12),je(" ",r.item.codigo,""),H(5),je(" ",r.item.cliente,""),H(5),je(" ",r.item.coordenadas,""),H(5),je(" ",r.item.localidad,""),H(5),je(" ",r.item.municipio,""),H(5),je(" ",r.item.cliente,""),H(5),je(" ",r.item.altitud,""),H(5),je(" ",r.item.tempmax,""),H(5),je(" ",r.item.tempmin,""),H(5),je(" ",r.item.precipitacion,""))},dependencies:[ni,ti,kn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:65%;height:55%;flex-shrink:0;position:absolute;left:50%;top:30%;transform:translate(-30%)}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:10%;top:7%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:12px 12px 12px 25px;height:20px;left:92px;color:#000;font-family:Arial;font-size:20px;letter-spacing:0}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:40%;top:20%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;height:25px;font-family:Arial;font-size:20px;font-weight:700;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#A6A6A6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:80%;top:88%}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:0%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.input-field[_ngcontent-%COMP%]{margin:6px 6px 6px 15px;height:20px;left:92px;color:#000;font-family:Arial;font-size:16px;letter-spacing:0;text-overflow:ellipsis}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:5%;top:3%}.Text[_ngcontent-%COMP%]{color:#000;height:20px;font-family:Arial;font-size:16px;letter-spacing:0}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:90%;height:45%;flex-shrink:0;position:absolute;left:5%;top:35%;transform:none}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:67%;top:90%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:12px;left:0%;top:110%}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:25%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}@media only screen and (min-width: 1536px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:700px;height:500px;flex-shrink:0;position:absolute;left:50%;top:50%;transform:translate(-50%,-40%)}.subTituloText[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%)}.boton[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(235px)}}"]})}return n})();function vPe(n,e){if(1&n){const t=It();g(0,"tr")(1,"td"),w(2),p(),g(3,"td"),w(4),p(),g(5,"td"),w(6),p(),g(7,"td"),w(8),p(),g(9,"td")(10,"button",4),ee("click",function(){const o=Le(t).$implicit;return Ve(cn().infoClients(o.email))}),p(),g(11,"button",5),ee("click",function(){const o=Le(t).$implicit;return Ve(cn().editClients(o.email))}),p()()()}if(2&n){const t=e.$implicit;H(2),qe(t.email),H(2),qe(t.nombre),H(2),qe(t.telefono),H(2),qe(t.direccion)}}let wPe=(()=>{class n{constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.data=[],this.getData()}ngOnInit(){this.route.params.subscribe(t=>{this.item=t.id,console.log(t),console.log(t.id)})}getData(){const t=De(this.firestore,"clientes");me(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}updateData(t){const i=Ae(this.firestore,"muestras",t);Cr(i,{}).then(()=>{alert("Data updated"),this.getData()}).catch(r=>{alert(r.message)})}deleteData(t){const i=Ae(this.firestore,"muestras",t);Fn(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["user/projects"])}logOut(){ji(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}newClients(){this.router.navigate(["user/clients-new"])}editClients(t){this.router.navigate(["user/clients-edit/"+t])}infoClients(t){this.router.navigate(["user/clients-info/"+t])}infoMuestra(t){this.router.navigate(["user/muestras-info/"+t])}MyQuery(){var t=this;return b(function*(){let i=t.item;t.pid=i,console.log(i);const r=fn(De(t.firestore,"muestras"),nn("project","==",i));me(r).then(s=>{t.data=[...s.docs.map(a=>({...a.data(),id:a.id}))]}),(yield me(r)).forEach(s=>{console.log(s.id," => ",s.data())})})()}static#e=this.\u0275fac=function(i){return new(i||n)(E(Se),E(ft),E(We),E(ht))};static#t=this.\u0275cmp=Me({type:n,selectors:[["app-clients"]],decls:19,vars:1,consts:[[1,"subTituloText"],[1,"list"],[4,"ngFor","ngForOf"],["id","agregar",1,"boton",3,"click"],[1,"detalles",3,"click"],[1,"edit",3,"click"]],template:function(i,r){1&i&&(g(0,"p"),w(1,"clients works!"),p(),g(2,"h1",0),w(3,"Clientes"),p(),g(4,"div",1)(5,"table")(6,"tr")(7,"th"),w(8," Email "),p(),g(9,"th"),w(10," Nombre "),p(),g(11,"th"),w(12," Telefono"),p(),g(13,"th"),w(14," Direccion "),p(),ie(15,"th"),p(),Zn(16,vPe,12,4,"tr",2),p(),g(17,"button",3),ee("click",function(){return r.newClients()}),w(18," Agregar "),p()()),2&i&&(H(16),Jn("ngForOf",r.data))},dependencies:[po],styles:[".list[_ngcontent-%COMP%]{position:absolute;top:32%;left:45%;transform:translate(-25%)}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.projectBlock[_ngcontent-%COMP%]{width:auto;height:35px;background:#3EC28F;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:20px;font-weight:700;letter-spacing:0;cursor:pointer}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:153px;height:36px;top:30%;left:50%;transform:translate(-50%);position:absolute;background:#4C9EFF;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:126px;height:16px;left:50%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;width:300px;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;top:20%;left:50%;transform:translate(-50%)}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;margin-left:2px;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.list[_ngcontent-%COMP%]{transform:none;position:absolute;left:2%;width:94%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{transform:none;width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px}.scantext[_ngcontent-%COMP%]{transform:none;width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{transform:none;position:absolute;left:80%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{transform:none;color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;left:30%;top:30%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}return n})();const xPe=["geo"];let CPe=(()=>{class n{static#e=this.text="";constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.title="gestion-de-muestras-de-campo",this.data=[],this.res="",this.somethingChange=new Xe}ngOnInit(){this.route.params.subscribe(t=>{this.pid=t.id})}handleRegister(t){this.addData(t)}addData(t){const i=Ae(this.firestore,"clientes",t.email);xr(i,{email:t.email,nombre:t.nombre,fecha:t.fecha,telefono:t.telefono,direccion:t.direccion}).then(()=>{alert("Data Sent")}).catch(r=>{alert(r.message)}),console.log(t.comentarios)}getData(){const t=De(this.firestore,"muestras");me(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude),n.text=t.coords.latitude+", "+t.coords.longitude,console.log(n.text)}getLocation(){var t=this;return b(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{t.res=n.text,console.log(t.res)},1e3)})()}static#t=this.\u0275fac=function(i){return new(i||n)(E(Se),E(ft),E(We),E(ht))};static#n=this.\u0275cmp=Me({type:n,selectors:[["app-clients-new"]],viewQuery:function(i,r){if(1&i&&jn(xPe,5),2&i){let o;Cn(o=En())&&(r.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:26,vars:0,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],["name","email","ngModel","","placeholder","Email","id","emai","type","email",1,"input-field"],["name","nombre","ngModel","","placeholder","Nombre","id","nombre","type","nombre",1,"input-field"],["name","telefono","ngModel","","placeholder","Telefono","id","telefono","type","telefono",1,"input-field"],["name","direccion","ngModel","","placeholder","Direccion","id","direccion","type","direccion",1,"input-field"],[1,"boton"]],template:function(i,r){if(1&i){const o=It();g(0,"p"),w(1,"clients-new works!"),p(),g(2,"h1",0),w(3,"Nuevo Cliente"),p(),g(4,"div",1)(5,"form",2,3),ee("ngSubmit",function(){Le(o);const a=In(6);return Ve(r.handleRegister(a.value))}),g(7,"div",4)(8,"div",5)(9,"span",6),w(10,"Email:"),p(),ie(11,"input",7),p(),g(12,"div",5)(13,"span",6),w(14,"Nombre:"),p(),ie(15,"input",8),p(),g(16,"div",5)(17,"span",6),w(18,"Telefono:"),p(),ie(19,"input",9),p(),g(20,"div",5)(21,"span",6),w(22,"Direccion:"),p(),ie(23,"input",10),p(),g(24,"button",11),w(25,"Crear Cliente"),p()()()()}},dependencies:[ni,tr,Rr,ti,br,kn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:30%;flex-shrink:0;position:absolute;left:15%;top:30%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:3%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:85%;height:20px;left:92px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:35%;top:20%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#A6A6A6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:80%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:85%;height:50%;flex-shrink:0;position:absolute;left:7%;top:30%}.input-field[_ngcontent-%COMP%]{margin:10px 10px 10px 20px;width:85%;height:20px;left:92px}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:20px;font-family:Arial;font-size:16px;letter-spacing:0}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:3%;top:3%}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:75%;top:110%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}return n})();function EPe(n,e){if(1&n){const t=It();g(0,"tr")(1,"td"),w(2),p(),g(3,"td"),w(4),p(),g(5,"td"),w(6),p(),g(7,"td"),w(8),p(),g(9,"td")(10,"button",6),ee("click",function(){const o=Le(t).$implicit;return Ve(cn().Muestras(o.project,o.codigo))}),g(11,"div",7),w(12,"Listar Muestras"),p()(),g(13,"button",8),ee("click",function(){const o=Le(t).$implicit;return Ve(cn().infoUnidad(o.codigo))}),g(14,"div",9),w(15,"Informaci\xf3n"),p()(),g(16,"button",10),ee("click",function(){const o=Le(t).$implicit;return Ve(cn().editUnidad(o.codigo))}),g(17,"div",11),w(18,"Editar"),p()()()()}if(2&n){const t=e.$implicit;H(2),qe(t.codigo),H(2),qe(t.cliente),H(2),qe(t.altitud),H(2),qe(t.coordenadas)}}let IPe=(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.elem=s,this.data=[],this.getData()}ngOnInit(){this.route.params.subscribe(t=>{this.pid=t.id,console.log(t),console.log(t.id)})}getData(){const t=De(this.firestore,"unidad-produccion");me(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}updateData(t){const i=Ae(this.firestore,"unidad-produccion",t);Cr(i,{}).then(()=>{alert("Data updated"),this.getData()}).catch(r=>{alert(r.message)})}deleteData(t){const i=Ae(this.firestore,"unidad-produccion",t);Fn(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["user/projects"])}Muestras(t,i){this.router.navigate(["user/muestras/"+t+"/"+i])}logOut(){ji(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}newUnidad(t){this.router.navigate(["user/unidad-produccion-new/"+t])}editUnidad(t){this.router.navigate(["user/unidad-produccion-edit/"+t])}infoProject(t){this.router.navigate(["user/project-info/"+t])}infoUnidad(t){this.router.navigate(["user/unidad-produccion-info/"+t])}MyQuery(){var t=this;return b(function*(){let i=t.pid;console.log(i);const r=fn(De(t.firestore,"unidad-produccion"),nn("project","==",i));me(r).then(s=>{t.data=[...s.docs.map(a=>({...a.data(),id:a.id}))]}),(yield me(r)).forEach(s=>{console.log(s.id," => ",s.data())})})()}static#e=this.\u0275fac=function(i){return new(i||n)(E(Se),E(ft),E(We),E(ht),E(an))};static#t=this.\u0275cmp=Me({type:n,selectors:[["app-unidad-produccion-all"]],decls:22,vars:1,consts:[[1,"subTituloText"],[1,"scanbutton"],[1,"scantext",3,"click"],[1,"list"],[4,"ngFor","ngForOf"],["id","agregar",1,"boton",3,"click"],[1,"muestras",3,"click"],[1,"muestras-tip"],[1,"detalles",3,"click"],[1,"detalles-tip"],[1,"edit",3,"click"],[1,"edit-tip"]],template:function(i,r){1&i&&(g(0,"p"),w(1,"unidad-produccion-all works!"),p(),g(2,"h1",0),w(3,"Unidades de Producci\xf3n "),p(),g(4,"div",1)(5,"div",2),ee("click",function(){return r.Scan()}),w(6," ESCANEAR "),p()(),g(7,"div",3)(8,"table")(9,"tr")(10,"th"),w(11," Codigo "),p(),g(12,"th"),w(13," Cliente "),p(),g(14,"th"),w(15," Altitud"),p(),g(16,"th"),w(17," Coordenadas "),p(),ie(18,"th"),p(),Zn(19,EPe,19,4,"tr",4),p(),g(20,"button",5),ee("click",function(){return r.newUnidad(r.pid)}),w(21," Agregar "),p()()),2&i&&(H(19),Jn("ngForOf",r.data))},dependencies:[po],styles:[".list[_ngcontent-%COMP%]{position:absolute;left:50%;top:38%;transform:translate(-30%)}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.projectBlock[_ngcontent-%COMP%]{width:auto;height:35px;background:#3EC28F;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:20px;font-weight:700;letter-spacing:0;cursor:pointer}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{cursor:pointer;width:153px;height:36px;left:50%;top:30%;transform:translate(0);position:absolute;background:#4C9EFF;box-shadow:2px 2px 5px #000;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;width:650px;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;left:50%;top:20%;transform:translate(-35%)}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.edit[_ngcontent-%COMP%]:hover   .edit-tip[_ngcontent-%COMP%]{display:block;opacity:1;transition:.5s}.edit-tip[_ngcontent-%COMP%]{display:none;position:relative;background-color:#2f3033;color:#fff;padding:5px;width:-moz-fit-content;width:fit-content;margin:5px;top:100%;left:0;opacity:0;transition:.5s;z-index:100;border-radius:3px;font-weight:700;font-family:Trebuchet MS,sans-serif}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.muestras[_ngcontent-%COMP%]:hover   .muestras-tip[_ngcontent-%COMP%]{display:block;opacity:1;transition:.5s}.muestras-tip[_ngcontent-%COMP%]{display:none;position:relative;background-color:#2f3033;color:#fff;padding:5px;width:-moz-fit-content;width:fit-content;margin:5px;top:100%;left:0;opacity:0;transition:.5s;z-index:100;border-radius:3px;line-height:1.6;font-weight:700;font-family:Trebuchet MS,sans-serif}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.detalles[_ngcontent-%COMP%]:hover   .detalles-tip[_ngcontent-%COMP%]{display:block;opacity:1;transition:.5s}.detalles-tip[_ngcontent-%COMP%]{display:none;position:relative;background-color:#2f3033;color:#fff;padding:5px;width:-moz-fit-content;width:fit-content;margin:5px;top:100%;left:0;opacity:0;transition:.5s;z-index:100;border-radius:3px;font-weight:700;font-family:Trebuchet MS,sans-serif}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.list[_ngcontent-%COMP%]{transform:none;position:absolute;left:2%;top:50%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:153px;height:36px;transform:none;left:35%;top:40%;position:absolute;background:#4C9EFF;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;transform:none;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:80%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;margin:0;width:200px;height:100px;font-family:Verdana;font-size:28px;letter-spacing:0;transform:none;position:absolute;left:30%;top:28%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}.muestras-tip[_ngcontent-%COMP%]{margin:5px;position:relative;top:-50px;left:-40px;font-size:10px}.detalles-tip[_ngcontent-%COMP%]{font-size:10px;position:relative;top:-28px;left:-48px}.edit-tip[_ngcontent-%COMP%]{font-size:10px;position:relative;top:-28px;left:-33px}}"]})}return n})();const TPe=["geo"];let DPe=(()=>{class n{static#e=this.text="";constructor(t,i,r,o,s){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.location=s,this.title="gestion-de-muestras-de-campo",this.data=[],this.res="",this.somethingChange=new Xe}ngOnInit(){this.route.params.subscribe(t=>{this.x=t.id,console.log(t),console.log(t.id)}),this.getData(),this.MyQuery()}handleRegister(t){this.addData(t),this.Home()}addData(t){var i=this;return b(function*(){console.log(t);const r=Ae(i.firestore,"clientes",t.email);Cr(r,{email:t.email,nombre:t.nombre,fecha:t.fecha,telefono:t.telefono,direccion:t.direccion}).then(()=>{alert("Data Sent")}).catch(o=>{alert(o.message)}),console.log(i.pid)})()}getData(){const t=De(this.firestore,"clientes");me(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude),n.text=t.coords.latitude+", "+t.coords.longitude}getLocation(){var t=this;return b(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{t.res=n.text,console.log(t.res)},1e3)})()}MyQuery(){var t=this;return b(function*(){let i=t.x;const r=fn(De(t.firestore,"clientes"),nn("email","==",i)),o=yield me(r);o.empty||o.forEach(s=>{t.item=s.data(),console.log(s.id," => ",s.data()),t.res=t.item.coordenadas,t.pid=t.item.project})})()}deleteData(t){const r=Ae(this.firestore,"clientes",this.x);Fn(r).then(()=>{alert("Data Deleted"),this.router.navigate(["user/muestras/"+this.pid])}).catch(o=>{alert(o.message)})}Home(){this.router.navigate(["user/projects"])}backPage(){this.location.back()}static#t=this.\u0275fac=function(i){return new(i||n)(E(Se),E(ft),E(We),E(ht),E(yi))};static#n=this.\u0275cmp=Me({type:n,selectors:[["app-clients-edit"]],viewQuery:function(i,r){if(1&i&&jn(TPe,5),2&i){let o;Cn(o=En())&&(r.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:26,vars:4,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],["name","email","ngModel","","placeholder","Email","id","emai","type","email",1,"input-field",3,"ngModel","ngModelChange"],["name","nombre","ngModel","","placeholder","Nombre","id","nombre","type","nombre",1,"input-field",3,"ngModel","ngModelChange"],["name","telefono","ngModel","","placeholder","Telefono","id","telefono","type","telefono",1,"input-field",3,"ngModel","ngModelChange"],["name","direccion","ngModel","","placeholder","Direccion","id","direccion","type","direccion",1,"input-field",3,"ngModel","ngModelChange"],[1,"boton"]],template:function(i,r){if(1&i){const o=It();g(0,"p"),w(1,"clients-edit works!"),p(),g(2,"h1",0),w(3,"Nuevo Cliente"),p(),g(4,"div",1)(5,"form",2,3),ee("ngSubmit",function(){Le(o);const a=In(6);return Ve(r.handleRegister(a.value))}),g(7,"div",4)(8,"div",5)(9,"span",6),w(10,"Email:"),p(),g(11,"input",7),ot("ngModelChange",function(a){return ut(r.item.email,a)||(r.item.email=a),a}),p()(),g(12,"div",5)(13,"span",6),w(14,"Nombre:"),p(),g(15,"input",8),ot("ngModelChange",function(a){return ut(r.item.nombre,a)||(r.item.nombre=a),a}),p()(),g(16,"div",5)(17,"span",6),w(18,"Telefono:"),p(),g(19,"input",9),ot("ngModelChange",function(a){return ut(r.item.telefono,a)||(r.item.telefono=a),a}),p()(),g(20,"div",5)(21,"span",6),w(22,"Direccion:"),p(),g(23,"input",10),ot("ngModelChange",function(a){return ut(r.item.direccion,a)||(r.item.direccion=a),a}),p()(),g(24,"button",11),w(25,"Editar Cliente"),p()()()()}2&i&&(H(11),rt("ngModel",r.item.email),H(4),rt("ngModel",r.item.nombre),H(4),rt("ngModel",r.item.telefono),H(4),rt("ngModel",r.item.direccion))},dependencies:[ni,tr,Rr,ti,br,kn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:30%;flex-shrink:0;position:absolute;left:15%;top:30%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:3%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:85%;height:20px;left:92px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:35%;top:20%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#A6A6A6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:80%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:50%;flex-shrink:0;position:absolute;left:15%;top:30%}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:75%;top:110%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}return n})();const MPe=["geo"],APe=[{path:"user",component:OW,children:[{path:"projects",component:MOe},{path:"project-new",component:POe},{path:"project-edit/:id",component:aPe},{path:"project-info/:id",component:dPe},{path:"barcode/:id",component:kOe},{path:"barcode-cantidad/:id",component:(()=>{class n{constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.data=[]}ngOnInit(){let t;this.route.params.subscribe(i=>{this.item=i.id,t=i.id,console.log(i),console.log(i.id),this.generateBarcode(t)})}generateBarcode(t){var i=t;console.log(t),console.log(i),this.res=i,bm("#barcode",i,{format:"CODE128"})}toPrint(){this.router.navigate(["/print/"+this.res])}static#e=this.\u0275fac=function(i){return new(i||n)(E(Se),E(ft),E(We),E(ht))};static#t=this.\u0275cmp=Me({type:n,selectors:[["app-barcode-cantidad"]],standalone:!0,features:[No],decls:5,vars:0,consts:[["onclick","window.print(this)","id","barcode"],[1,"print",3,"click"]],template:function(i,r){1&i&&(g(0,"p"),w(1,"barcode-cantidad works!"),p(),b_(),ie(2,"svg",0),oC(),g(3,"button",1),ee("click",function(){return r.toPrint()}),w(4,"Print"),p())},styles:[".main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:100%;left:5%;top:20%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.print[_ngcontent-%COMP%]{position:absolute;width:10%;left:45%;top:20%}svg[_ngcontent-%COMP%]{position:absolute;left:44%;top:35%}button[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:24px;font-weight:700;cursor:pointer;border-radius:30px}@media only screen and (max-width: 768px){.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:100%;left:5%;top:20%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.print[_ngcontent-%COMP%]{position:absolute;width:30%;left:40%;top:20%}svg[_ngcontent-%COMP%]{position:absolute;left:30%;top:35%}button[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:24px;font-weight:700;cursor:pointer;border-radius:30px}}"]})}return n})()},{path:"barcode-new",component:(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.location=s,this.data=[],this.num=1}ngOnInit(){let t;this.route.params.subscribe(i=>{this.item=i.id,t=i.id,this.generateBarcode(t)})}handleRegister(t){console.log(t.codigo),this.addData(t),this.Barcode(t.codigo)}generateBarcode(t){var r=t;this.res=r,bm("#barcode",r,{format:"CODE128"})}generateSVG(t,i){for(let r=0;r<t;r++){const o=document.createElement("div"),s=document.createElement("svg");o.setAttribute("class","subcode"),s.setAttribute("id","barcode"+r),document.getElementById("codes")?.appendChild(s)}}addData(t){let i=Ae(this.firestore,"muestras",t.codigo);xr(i,{codigo:t.codigo}),t.id&&(i=Ae(this.firestore,"projects",t.id),xr(i,{name:t.id})),t.ud&&(i=Ae(this.firestore,"unidad-produccion",t.ud),xr(i,{codigo:t.ud}))}toPrint(t){this.router.navigate(["/print/"+this.res+"/"+t])}sleep(t){return b(function*(){return new Promise(i=>setTimeout(i,t))})()}backPage(){this.location.back()}Barcode(t){this.router.navigate(["user/barcode/"+t])}static#e=this.\u0275fac=function(i){return new(i||n)(E(Se),E(ft),E(We),E(ht),E(yi))};static#t=this.\u0275cmp=Me({type:n,selectors:[["app-barcode-new"]],decls:25,vars:0,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"group1"],[1,"input-fields"],[1,"Text"],["name","ud","ngModel","","placeholder","ID Unidad","id","ud","type","ud",1,"input-field"],[1,"Opcional"],[1,"group2"],["name","codigo","ngModel","","placeholder","Codigo","id","codigo","type","codigo",1,"input-field"],[1,"red"],[1,"print"],["id","volver",3,"click"]],template:function(i,r){if(1&i){const o=It();g(0,"p"),w(1,"barcode-new works!"),p(),g(2,"h1",0),w(3,"Generar Codigo"),p(),g(4,"div",1)(5,"form",2,3),ee("ngSubmit",function(){Le(o);const a=In(6);return Ve(r.handleRegister(a.value))}),g(7,"div",4)(8,"div",5)(9,"div",6)(10,"span",7),w(11,"Unidad de Producci\xf3n: "),p(),ie(12,"input",8),g(13,"span",9),w(14," (opcional) "),p()()(),g(15,"div",10)(16,"div",6)(17,"span",7),w(18," Codigo: "),p(),ie(19,"input",11),g(20,"span",12),w(21," * (obligatorio) "),p()()(),g(22,"button",13),w(23,"Generar"),p(),g(24,"button",14),ee("click",function(){return r.backPage()}),p()()()()}},dependencies:[ni,tr,Rr,ti,br,kn],styles:[".main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;margin:10px;height:95%;width:95%}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:56px;letter-spacing:0;text-shadow:2px 2px 5px black;left:50%;top:20%;transform:translate(-40%)}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:625px;height:225px;flex-shrink:0;position:absolute;top:50%;left:53%;transform:translate(-50%,-50%)}.group2[_ngcontent-%COMP%]{display:inline}.input-fields[_ngcontent-%COMP%]{position:inherit;margin:25px 10px;top:25px}.Text[_ngcontent-%COMP%]{display:inline;font-family:Arial;text-align:center;font-size:24px;font-weight:700}.Opcional[_ngcontent-%COMP%]{display:inline;font-family:Arial;text-align:center;font-size:16px}.red[_ngcontent-%COMP%]{display:inline;font-family:Arial;text-align:center;font-size:16px;color:red}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{height:20px;width:35%;font-size:16px}.print[_ngcontent-%COMP%]{position:absolute;top:60%;left:75%}svg[_ngcontent-%COMP%]{position:absolute;left:44%;top:32%}button[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:24px;font-weight:700;cursor:pointer;border-radius:30px}#volver[_ngcontent-%COMP%]{font-size:16px;position:absolute;left:5%;top:60%;border:none;width:50px;height:50px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(back-button-Edit4.8567daeed3ab1418.png)}#barcode[_ngcontent-%COMP%]{display:inline;border:2px solid rgb(0,0,0);box-shadow:2px 2px 5px #000}@media only screen and (max-width: 768px){.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:100%;height:100%;left:0%;top:0%;transform:none}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;margin:0;width:100%;height:30px;font-family:Verdana;font-size:28px;text-align:center;letter-spacing:0;transform:none;position:absolute;left:0%;top:30%}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:50%;transform:none;position:absolute;left:10%;top:40%}.input-fields[_ngcontent-%COMP%]{position:inherit;width:100%;top:25px}.Text[_ngcontent-%COMP%]{display:inline;font-family:Arial;font-size:20px}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:10px;height:20px;width:80%;font-size:16px}.print[_ngcontent-%COMP%]{position:absolute;left:57%;top:75%;font-size:16px}#test[_ngcontent-%COMP%]{position:absolute;left:30%;top:60%;display:none}#codes[_ngcontent-%COMP%]{position:absolute;left:30%;top:35%}svg[_ngcontent-%COMP%]{position:absolute;left:25%;top:30%;margin:15px 0}.space[_ngcontent-%COMP%]{height:200px}#barcode[_ngcontent-%COMP%]{display:inline;border:2px solid rgb(0,0,0);box-shadow:2px 2px 5px #000}.red[_ngcontent-%COMP%]{display:block;font-family:Arial;text-align:left;font-size:16px;color:red}button[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:20px;font-weight:700;cursor:pointer;border-radius:30px}#volver[_ngcontent-%COMP%]{font-size:16px;transform:none;position:absolute;left:10%;top:75%;border:none;width:36px;height:36px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(back-button-Edit4.8567daeed3ab1418.png)}}"]})}return n})()},{path:"muestras/:id/:up",component:SOe},{path:"muestras-new/:id",component:NOe},{path:"muestras-edit/:id",component:iPe},{path:"muestras-info/:id",component:oPe},{path:"muestras-all",component:lPe},{path:"unidad-produccion/:id",component:fPe},{path:"unidad-produccion-new/:id",component:gPe},{path:"unidad-produccion-edit/:id",component:_Pe},{path:"unidad-produccion-info/:id",component:yPe},{path:"unidad-produccion-all",component:IPe},{path:"clients",component:wPe},{path:"clients-new",component:CPe},{path:"clients-edit/:id",component:DPe},{path:"clients-info/:id",component:(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.location=s,this.title="gestion-de-muestras-de-campo",this.data=[],this.somethingChange=new Xe,this.getData(),this.MyQuery()}ngOnInit(){this.route.params.subscribe(t=>{this.text=t.id,console.log(t),console.log(t.id)}),this.getData(),this.MyQuery()}handleRegister(t){this.addData(t)}addData(t){const i=Ae(this.firestore,"clientes",t.codigo);xr(i,t).then(()=>{alert("Data Sent")}).catch(r=>{alert(r.message)}),console.log(t.comentarios)}getData(){const t=De(this.firestore,"clientes");me(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude)}getLocation(){var t=this;return b(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{console.log(t.res)},1e3)})()}MyQuery(){var t=this;return b(function*(){let i=t.text;const r=fn(De(t.firestore,"clientes"),nn("email","==",i)),o=yield me(r);o.empty||o.forEach(s=>{t.item=s.data(),console.log(s.id," => ",s.data())})})()}editClients(){this.router.navigate(["user/clientes-edit/"+this.text])}deleteData(t){const i=Ae(this.firestore,"clientes",t);Fn(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}backPage(){this.location.back()}static#e=this.\u0275fac=function(i){return new(i||n)(E(Se),E(ft),E(We),E(ht),E(yi))};static#t=this.\u0275cmp=Me({type:n,selectors:[["app-clients-info"]],viewQuery:function(i,r){if(1&i&&jn(MPe,5),2&i){let o;Cn(o=En())&&(r.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:30,vars:4,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],[1,"input-field"],[1,"boton",3,"click"]],template:function(i,r){if(1&i){const o=It();g(0,"p"),w(1,"clients-info works!"),p(),g(2,"h1",0),w(3,"Informacion del Cliente"),p(),g(4,"div",1)(5,"form",2,3),ee("ngSubmit",function(){Le(o);const a=In(6);return Ve(r.handleRegister(a.value))}),g(7,"div",4)(8,"div",5)(9,"span",6),w(10,"Email:"),p(),g(11,"span",7),w(12),p()(),g(13,"div",5)(14,"span",6),w(15,"Nombre:"),p(),g(16,"span",7),w(17),p()(),g(18,"div",5)(19,"span",6),w(20,"Telefono:"),p(),g(21,"span",7),w(22),p()(),g(23,"div",5)(24,"span",6),w(25,"Direccion:"),p(),g(26,"span",7),w(27),p()()()()(),g(28,"button",8),ee("click",function(){return r.editClients()}),w(29,"Editar Cliente"),p()}2&i&&(H(12),je(" ",r.item.email,""),H(5),je(" ",r.item.nombre,""),H(5),je(" ",r.item.telefono,""),H(5),je(" ",r.item.direccion,""))},dependencies:[ni,ti,kn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:25%;flex-shrink:0;position:absolute;left:15%;top:30%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:3%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:85%;height:20px;left:92px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:35%;top:20%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#A6A6A6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:80%;top:58%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:50%;flex-shrink:0;position:absolute;left:15%;top:30%}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:75%;top:110%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}return n})()},{path:"scan",component:tPe}]}];let SPe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=et({type:n});static#n=this.\u0275inj=Ze({imports:[Bo.forChild(APe),Bo]})}return n})();function YQ(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function XQ(n){return Gn((e,t)=>n<=t)}function LPe(n,e){return n===e}let VPe=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),BPe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=et({type:n});static#n=this.\u0275inj=Ze({providers:[VPe]})}return n})();function Kw(n){return Array.isArray(n)?n:[n]}function si(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Hh(n){return n instanceof an?n.nativeElement:n}const ZQ=new Set;let nu,jPe=(()=>{class n{constructor(t,i){this._platform=t,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):$Pe}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function HPe(n,e){if(!ZQ.has(n))try{nu||(nu=document.createElement("style"),e&&(nu.nonce=e),nu.setAttribute("type","text/css"),document.head.appendChild(nu)),nu.sheet&&(nu.sheet.insertRule(`@media ${n} {body{ }}`,0),ZQ.add(n))}catch(t){console.error(t)}}(t,this._nonce),this._matchMedia(t)}static#e=this.\u0275fac=function(i){return new(i||n)($(Si),$(dC,8))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function $Pe(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let JQ=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new Mt}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return eY(Kw(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let o=ky(eY(Kw(t)).map(s=>this._registerQuery(s).observable));return o=_d(o.pipe($n(1)),o.pipe(XQ(1),function zPe(n,e=Up){return wn((t,i)=>{let r=null,o=null,s=null;const a=()=>{if(r){r.unsubscribe(),r=null;const l=o;o=null,i.next(l)}};function c(){const l=s+n,u=e.now();if(u<l)return r=this.schedule(void 0,l-u),void i.add(r);a()}t.subscribe(gn(i,l=>{o=l,s=e.now(),r||(r=e.schedule(c,n),i.add(r))},()=>{a(),i.complete()},void 0,()=>{o=r=null}))})}(0))),o.pipe(Ne(s=>{const a={matches:!1,breakpoints:{}};return s.forEach(({matches:c,query:l})=>{a.matches=a.matches||c,a.breakpoints[l]=c}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),o={observable:new Wt(s=>{const a=c=>this._zone.run(()=>s.next(c));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(cT(i),Ne(({matches:s})=>({query:t,matches:s})),Ny(this._destroySubject)),mql:i};return this._queries.set(t,o),o}static#e=this.\u0275fac=function(i){return new(i||n)($(jPe),$(Te))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function eY(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}const $h_Medium="(min-width: 960px) and (max-width: 1279.98px)",$h_Large="(min-width: 1280px) and (max-width: 1919.98px)";let n2=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function KPe(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const i=function WPe(n){try{return n.frameElement}catch{return null}}(function nRe(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(i&&(-1===rY(i)||!this.isVisible(i)))return!1;let r=t.nodeName.toLowerCase(),o=rY(t);return t.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function eRe(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,i){return function tRe(n){return!function YPe(n){return function ZPe(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function QPe(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function XPe(n){return function JPe(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||iY(n))}(t)&&!this.isDisabled(t)&&(i?.ignoreVisibility||this.isVisible(t))}static#e=this.\u0275fac=function(i){return new(i||n)($(Si))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function iY(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function rY(n){if(!iY(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class iRe{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,t,i,r,o=!1){this._element=e,this._checker=t,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const i=this._getFirstTabbableElement(t);return i?.focus(e),!!i}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=0;i<t.length;i++){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[i]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=t.length-1;i>=0;i--){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[i]):null;if(r)return r}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe($n(1)).subscribe(e)}}let oY=(()=>{class n{constructor(t,i,r){this._checker=t,this._ngZone=i,this._document=r}create(t,i=!1){return new iRe(t,this._checker,this._ngZone,this._document,i)}static#e=this.\u0275fac=function(i){return new(i||n)($(n2),$(Te),$(dt))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function sY(n){return 0===n.buttons||0===n.detail}function aY(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const rRe=new Y("cdk-input-modality-detector-options"),oRe={ignoreKeys:[18,17,224,91,16]},Gh=mm({passive:!0,capture:!0});let sRe=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,i,r,o){this._platform=t,this._mostRecentTarget=null,this._modality=new dr(null),this._lastTouchMs=0,this._onKeydown=s=>{this._options?.ignoreKeys?.some(a=>a===s.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=wc(s))},this._onMousedown=s=>{Date.now()-this._lastTouchMs<650||(this._modality.next(sY(s)?"keyboard":"mouse"),this._mostRecentTarget=wc(s))},this._onTouchstart=s=>{aY(s)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=wc(s))},this._options={...oRe,...o},this.modalityDetected=this._modality.pipe(XQ(1)),this.modalityChanged=this.modalityDetected.pipe(function FPe(n,e=Ea){return n=n??LPe,wn((t,i)=>{let r,o=!0;t.subscribe(gn(i,s=>{const a=e(s);(o||!n(r,a))&&(o=!1,r=a,i.next(s))}))})}()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Gh),r.addEventListener("mousedown",this._onMousedown,Gh),r.addEventListener("touchstart",this._onTouchstart,Gh)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Gh),document.removeEventListener("mousedown",this._onMousedown,Gh),document.removeEventListener("touchstart",this._onTouchstart,Gh))}static#e=this.\u0275fac=function(i){return new(i||n)($(Si),$(Te),$(dt),$(rRe,8))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Qw=function(n){return n[n.IMMEDIATE=0]="IMMEDIATE",n[n.EVENTUAL=1]="EVENTUAL",n}(Qw||{});const cRe=new Y("cdk-focus-monitor-default-options"),Yw=mm({passive:!0,capture:!0});let r2=(()=>{class n{constructor(t,i,r,o,s){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Mt,this._rootNodeFocusAndBlurListener=a=>{for(let l=wc(a);l;l=l.parentElement)"focus"===a.type?this._onFocus(a,l):this._onBlur(a,l)},this._document=o,this._detectionMode=s?.detectionMode||Qw.IMMEDIATE}monitor(t,i=!1){const r=Hh(t);if(!this._platform.isBrowser||1!==r.nodeType)return xe();const o=function mMe(n){if(function gMe(){if(null==AR){const n=typeof document<"u"?document.head:null;AR=!(!n||!n.createShadowRoot&&!n.attachShadow)}return AR}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),s=this._elementInfo.get(r);if(s)return i&&(s.checkChildren=!0),s.subject;const a={checkChildren:i,subject:new Mt,rootNode:o};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){const i=Hh(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const o=Hh(t);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([a,c])=>this._originChanged(a,i,c)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return this._detectionMode===Qw.EVENTUAL||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,this._detectionMode===Qw.IMMEDIATE&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),o=wc(t);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,Yw),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,Yw)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Ny(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Yw),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Yw),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,o)=>{(o===t||r.checkChildren&&o.contains(t))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const o=t.labels;if(o)for(let s=0;s<o.length;s++)if(o[s].contains(i))return!0;return!1}static#e=this.\u0275fac=function(i){return new(i||n)($(Te),$(Si),$(sRe),$(dt,8),$(cRe,8))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var iu=function(n){return n[n.NONE=0]="NONE",n[n.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",n[n.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",n}(iu||{});const lY="cdk-high-contrast-black-on-white",uY="cdk-high-contrast-white-on-black",o2="cdk-high-contrast-active";let dY=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=J(JQ).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return iu.NONE;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return iu.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return iu.BLACK_ON_WHITE}return iu.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(o2,lY,uY),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();i===iu.BLACK_ON_WHITE?t.add(o2,lY):i===iu.WHITE_ON_BLACK&&t.add(o2,uY)}}static#e=this.\u0275fac=function(i){return new(i||n)($(Si),$(dt))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),hY=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(i){return new(i||n)($(dY))};static#t=this.\u0275mod=et({type:n});static#n=this.\u0275inj=Ze({imports:[BPe]})}return n})();const lRe=["addListener","removeListener"],uRe=["addEventListener","removeEventListener"],dRe=["on","off"];function qm(n,e,t,i){if(vt(t)&&(i=t,t=void 0),i)return qm(n,e,t).pipe(VI(i));const[r,o]=function pRe(n){return vt(n.addEventListener)&&vt(n.removeEventListener)}(n)?uRe.map(s=>a=>n[s](e,a,t)):function hRe(n){return vt(n.addListener)&&vt(n.removeListener)}(n)?lRe.map(fY(n,e)):function fRe(n){return vt(n.on)&&vt(n.off)}(n)?dRe.map(fY(n,e)):[];if(!r&&FI(n))return vi(s=>qm(s,e,t))(Li(n));if(!r)throw new TypeError("Invalid event target");return new Wt(s=>{const a=(...c)=>s.next(1<c.length?c:c[0]);return r(a),()=>o(a)})}function fY(n,e){return t=>i=>n[t](e,i)}const Wm={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=Wm;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(o=>{t=void 0,n(o)});return new _i(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=Wm;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=Wm;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class mRe extends gv{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class gRe extends pv{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=Wm.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:o}=e;null!=t&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==t&&(Wm.cancelAnimationFrame(t),e._scheduled=void 0)}});let s2,bRe=1;const Xw={};function pY(n){return n in Xw&&(delete Xw[n],!0)}const yRe={setImmediate(n){const e=bRe++;return Xw[e]=!0,s2||(s2=Promise.resolve()),s2.then(()=>pY(e)&&n()),e},clearImmediate(n){pY(n)}},{setImmediate:vRe,clearImmediate:wRe}=yRe,Zw={setImmediate(...n){const{delegate:e}=Zw;return(e?.setImmediate||vRe)(...n)},clearImmediate(n){const{delegate:e}=Zw;return(e?.clearImmediate||wRe)(n)},delegate:void 0};new class CRe extends gv{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class xRe extends pv{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=Zw.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:o}=e;null!=t&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==t&&(Zw.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}});function a2(n=0,e,t=p0e){let i=-1;return null!=e&&($z(e)?t=e:i=e),new Wt(r=>{let o=function TRe(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function gY(n,e=Up){return function IRe(n){return wn((e,t)=>{let i=!1,r=null,o=null,s=!1;const a=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const l=r;r=null,t.next(l)}s&&t.complete()},c=()=>{o=null,s&&t.complete()};e.subscribe(gn(t,l=>{i=!0,r=l,o||Li(n(l)).subscribe(o=gn(t,a,c))},()=>{s=!0,(!i||!o||o.closed)&&t.complete()}))})}(()=>a2(n,e))}const DRe=new Y("cdk-dir-doc",{providedIn:"root",factory:function MRe(){return J(dt)}}),ARe=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let c2=(()=>{class n{constructor(t){this.value="ltr",this.change=new Xe,t&&(this.value=function SRe(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?ARe.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(i){return new(i||n)($(DRe,8))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Km=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=et({type:n});static#n=this.\u0275inj=Ze({})}return n})(),ORe=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new Mt,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Wt(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(gY(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):xe()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(Gn(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,t)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=Hh(i),o=t.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>qm(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(i){return new(i||n)($(Te),$(Si),$(dt,8))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),mY=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new Mt,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,o=r.getBoundingClientRect();return{top:-o.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(gY(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(i){return new(i||n)($(Si),$(Te),$(dt,8))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),l2=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=et({type:n});static#n=this.\u0275inj=Ze({})}return n})(),_Y=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=et({type:n});static#n=this.\u0275inj=Ze({imports:[Km,l2,Km,l2]})}return n})();class u2{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class d2 extends u2{constructor(e,t,i,r,o){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=o}}class bY extends u2{constructor(e,t,i,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class RRe extends u2{constructor(e){super(),this.element=e instanceof an?e.nativeElement:e}}class h2{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof d2?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof bY?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof RRe?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class NRe extends h2{constructor(e,t,i,r,o){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=s=>{const a=s.element,c=this._document.createComment("dom-portal");a.parentNode.insertBefore(c,a),this.outletElement.appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(a,c)})},this._document=o}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||jt.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let f2=(()=>{class n extends h2{constructor(t,i,r){super(),this._componentFactoryResolver=t,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new Xe,this.attachDomPortal=o=>{const s=o.element,a=this._document.createComment("dom-portal");o.setAttachedHost(this),s.parentNode.insertBefore(a,s),this._getRootNode().appendChild(s),this._attachedPortal=o,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(s,a)})},this._document=r}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);const i=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,o=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),s=i.createComponent(o,i.length,t.injector||i.injector,t.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(s.hostView.rootNodes[0]),super.setDisposeFn(()=>s.destroy()),this._attachedPortal=t,this._attachedRef=s,this.attached.emit(s),s}attachTemplatePortal(t){t.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}static#e=this.\u0275fac=function(i){return new(i||n)(E(Hu),E(co),E(dt))};static#t=this.\u0275dir=be({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[ct.None,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[wt]})}return n})(),Jw=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=et({type:n});static#n=this.\u0275inj=Ze({})}return n})();function ex(...n){const e=hp(n),t=function sfe(n,e){return"number"==typeof LI(n)?n.pop():e}(n,1/0),i=n;return i.length?1===i.length?Li(i[0]):md(t)(pi(i,e)):ds}const yY=pMe();class FRe{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=si(-this._previousScrollPosition.left),e.style.top=si(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,o=i.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),yY&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),yY&&(i.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class LRe{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0).pipe(Gn(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class vY{enable(){}disable(){}attach(){}}function p2(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function wY(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class VRe{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();p2(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let BRe=(()=>{class n{constructor(t,i,r,o){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new vY,this.close=s=>new LRe(this._scrollDispatcher,this._ngZone,this._viewportRuler,s),this.block=()=>new FRe(this._viewportRuler,this._document),this.reposition=s=>new VRe(this._scrollDispatcher,this._viewportRuler,this._ngZone,s),this._document=o}static#e=this.\u0275fac=function(i){return new(i||n)($(ORe),$(mY),$(Te),$(dt))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class xY{constructor(e){if(this.scrollStrategy=new vY,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class URe{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let CY=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(i){return new(i||n)($(dt))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),zRe=(()=>{class n extends CY{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const o=this._attachedOverlays;for(let s=o.length-1;s>-1;s--)if(o[s]._keydownEvents.observers.length>0){const a=o[s]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(r)):a.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(i){return new(i||n)($(dt),$(Te,8))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),jRe=(()=>{class n extends CY{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=wc(o)},this._clickListener=o=>{const s=wc(o),a="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const c=this._attachedOverlays.slice();for(let l=c.length-1;l>-1;l--){const u=c[l];if(u._outsidePointerEvents.observers.length<1||!u.hasAttached())continue;if(u.overlayElement.contains(s)||u.overlayElement.contains(a))break;const d=u._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>d.next(o)):d.next(o)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(i){return new(i||n)($(dt),$(Si),$(Te,8))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),g2=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||kR()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(t),kR()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}static#e=this.\u0275fac=function(i){return new(i||n)($(dt),$(Si))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class tx{constructor(e,t,i,r,o,s,a,c,l,u=!1){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=c,this._outsideClickDispatcher=l,this._animationsDisabled=u,this._backdropElement=null,this._backdropClick=new Mt,this._attachments=new Mt,this._detachments=new Mt,this._locationChanges=_i.EMPTY,this._backdropClickHandler=d=>this._backdropClick.next(d),this._backdropTransitionendHandler=d=>{this._disposeBackdrop(d.target)},this._keydownEvents=new Mt,this._outsidePointerEvents=new Mt,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe($n(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=si(this._config.width),e.height=si(this._config.height),e.minWidth=si(this._config.minWidth),e.minHeight=si(this._config.minHeight),e.maxWidth=si(this._config.maxWidth),e.maxHeight=si(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,i){const r=Kw(t||[]).filter(o=>!!o);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(Ny(ex(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const EY="cdk-overlay-connected-position-bounding-box",HRe=/([A-Za-z%]+)$/;class $Re{get positions(){return this._preferredPositions}constructor(e,t,i,r,o){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Mt,this._resizeSubscription=_i.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(EY),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let s;for(let a of this._preferredPositions){let c=this._getOriginPoint(e,r,a),l=this._getOverlayPoint(c,t,a),u=this._getOverlayFit(l,t,i,a);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,c);this._canFitWithFlexibleDimensions(u,l,i)?o.push({position:a,origin:c,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(c,a)}):(!s||s.overlayFit.visibleArea<u.visibleArea)&&(s={overlayFit:u,overlayPoint:l,originPoint:c,position:a,overlayRect:t})}if(o.length){let a=null,c=-1;for(const l of o){const u=l.boundingBoxRect.width*l.boundingBoxRect.height*(l.position.weight||1);u>c&&(c=u,a=l)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&ru(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(EY),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,o;if("center"==i.originX)r=e.left+e.width/2;else{const s=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;r="start"==i.originX?s:a}return t.left<0&&(r-=t.left),o="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(o-=t.top),{x:r,y:o}}_getOverlayPoint(e,t,i){let r,o;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,o="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+o}}_getOverlayFit(e,t,i,r){const o=TY(t);let{x:s,y:a}=e,c=this._getOffset(r,"x"),l=this._getOffset(r,"y");c&&(s+=c),l&&(a+=l);let h=0-a,f=a+o.height-i.height,_=this._subtractOverflows(o.width,0-s,s+o.width-i.width),C=this._subtractOverflows(o.height,h,f),I=_*C;return{visibleArea:I,isCompletelyWithinViewport:o.width*o.height===I,fitsInViewportVertically:C===o.height,fitsInViewportHorizontally:_==o.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,o=i.right-t.x,s=IY(this._overlayRef.getConfig().minHeight),a=IY(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=s&&s<=r)&&(e.fitsInViewportHorizontally||null!=a&&a<=o)}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=TY(t),o=this._viewportRect,s=Math.max(e.x+r.width-o.width,0),a=Math.max(e.y+r.height-o.height,0),c=Math.max(o.top-i.top-e.y,0),l=Math.max(o.left-i.left-e.x,0);let u=0,d=0;return u=r.width<=o.width?l||-s:e.x<this._viewportMargin?o.left-i.left-e.x:0,d=r.height<=o.height?c||-a:e.y<this._viewportMargin?o.top-i.top-e.y:0,this._previousPushAmount={x:u,y:d},{x:e.x+u,y:e.y+d}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._positionChanges.observers.length){const i=this._getScrollVisibility();if(e!==this._lastPosition||!this._lastScrollVisibility||!function GRe(n,e){return n===e||n.isOriginClipped===e.isOriginClipped&&n.isOriginOutsideView===e.isOriginOutsideView&&n.isOverlayClipped===e.isOverlayClipped&&n.isOverlayOutsideView===e.isOverlayOutsideView}(this._lastScrollVisibility,i)){const r=new URe(e,i);this._positionChanges.next(r)}this._lastScrollVisibility=i}this._lastPosition=e,this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let o=0;o<t.length;o++)t[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let o,s,a,u,d,h;if("top"===t.overlayY)s=e.y,o=i.height-s+this._viewportMargin;else if("bottom"===t.overlayY)a=i.height-e.y+2*this._viewportMargin,o=i.height-a+this._viewportMargin;else{const f=Math.min(i.bottom-e.y+i.top,e.y),_=this._lastBoundingBoxSize.height;o=2*f,s=e.y-f,o>_&&!this._isInitialRender&&!this._growAfterOpen&&(s=e.y-_/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)h=i.width-e.x+2*this._viewportMargin,u=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)d=e.x,u=i.right-e.x;else{const f=Math.min(i.right-e.x+i.left,e.x),_=this._lastBoundingBoxSize.width;u=2*f,d=e.x-f,u>_&&!this._isInitialRender&&!this._growAfterOpen&&(d=e.x-_/2)}return{top:s,left:d,bottom:a,right:h,width:u,height:o}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=si(i.height),r.top=si(i.top),r.bottom=si(i.bottom),r.width=si(i.width),r.left=si(i.left),r.right=si(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=si(o)),s&&(r.maxWidth=si(s))}this._lastBoundingBoxSize=i,ru(this._boundingBox.style,r)}_resetBoundingBoxStyles(){ru(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){ru(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){const u=this._viewportRuler.getViewportScrollPosition();ru(i,this._getExactOverlayY(t,e,u)),ru(i,this._getExactOverlayX(t,e,u))}else i.position="static";let a="",c=this._getOffset(t,"x"),l=this._getOffset(t,"y");c&&(a+=`translateX(${c}px) `),l&&(a+=`translateY(${l}px)`),i.transform=a.trim(),s.maxHeight&&(r?i.maxHeight=si(s.maxHeight):o&&(i.maxHeight="")),s.maxWidth&&(r?i.maxWidth=si(s.maxWidth):o&&(i.maxWidth="")),ru(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=si(o.y),r}_getExactOverlayX(e,t,i){let s,r={left:"",right:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),s=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===s?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=si(o.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:wY(e,i),isOriginOutsideView:p2(e,i),isOverlayClipped:wY(t,i),isOverlayOutsideView:p2(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&Kw(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof an)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function ru(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function IY(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(HRe);return t&&"px"!==t?null:parseFloat(e)}return n||null}function TY(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const DY="cdk-global-overlay-wrapper";class qRe{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(DY),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:a}=i,c=!("100%"!==r&&"100vw"!==r||s&&"100%"!==s&&"100vw"!==s),l=!("100%"!==o&&"100vh"!==o||a&&"100%"!==a&&"100vh"!==a),u=this._xPosition,d=this._xOffset,h="rtl"===this._overlayRef.getConfig().direction;let f="",_="",C="";c?C="flex-start":"center"===u?(C="center",h?_=d:f=d):h?"left"===u||"end"===u?(C="flex-end",f=d):("right"===u||"start"===u)&&(C="flex-start",_=d):"left"===u||"start"===u?(C="flex-start",f=d):("right"===u||"end"===u)&&(C="flex-end",_=d),e.position=this._cssPosition,e.marginLeft=c?"0":f,e.marginTop=l?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=c?"0":_,t.justifyContent=C,t.alignItems=l?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(DY),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let WRe=(()=>{class n{constructor(t,i,r,o){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new qRe}flexibleConnectedTo(t){return new $Re(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(i){return new(i||n)($(mY),$(dt),$(Si),$(g2))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),KRe=0,ya=(()=>{class n{constructor(t,i,r,o,s,a,c,l,u,d,h,f){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=s,this._injector=a,this._ngZone=c,this._document=l,this._directionality=u,this._location=d,this._outsideClickDispatcher=h,this._animationsModuleType=f}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),s=new xY(t);return s.direction=s.direction||this._directionality.value,new tx(o,i,r,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+KRe++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(as)),new NRe(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(i){return new(i||n)($(BRe),$(g2),$(Hu),$(WRe),$(zRe),$(jt),$(Te),$(dt),$(c2),$(yi),$(jRe),$(Hc,8))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const QRe=new Y("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{const n=J(ya);return()=>n.scrollStrategies.reposition()}}),XRe={provide:QRe,deps:[ya],useFactory:function YRe(n){return()=>n.scrollStrategies.reposition()}};let MY=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=et({type:n});static#n=this.\u0275inj=Ze({providers:[ya,XRe],imports:[Km,Jw,_Y,_Y]})}return n})();var Re=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(Re||{});const va="*";function AY(n,e){return{type:Re.Trigger,name:n,definitions:e,options:{}}}function nx(n,e=null){return{type:Re.Animate,styles:e,timings:n}}function SY(n,e=null){return{type:Re.Group,steps:n,options:e}}function qh(n){return{type:Re.Style,styles:n,offset:null}}function ix(n,e,t){return{type:Re.State,name:n,styles:e,options:t}}function rx(n,e,t=null){return{type:Re.Transition,expr:n,animation:e,options:t}}function kY(n=null){return{type:Re.AnimateChild,options:n}}function OY(n,e,t=null){return{type:Re.Query,selector:n,animation:e,options:t}}class Qm{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class PY{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const o=this.players.length;0==o?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}let FY=(()=>{class n{static#e=this.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)";static#t=this.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)";static#n=this.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)";static#i=this.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)"}return n})(),LY=(()=>{class n{static#e=this.COMPLEX="375ms";static#t=this.ENTERING="225ms";static#n=this.EXITING="195ms"}return n})();const iNe=new Y("mat-sanity-checks",{providedIn:"root",factory:function nNe(){return!0}});let zr=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!kR()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}static#e=this.\u0275fac=function(i){return new(i||n)($(dY),$(iNe,8),$(dt))};static#t=this.\u0275mod=et({type:n});static#n=this.\u0275inj=Ze({imports:[Km,Km]})}return n})();const VY=new Y("MAT_DATE_LOCALE",{providedIn:"root",factory:function oNe(){return J(cs)}});class BY{constructor(){this._localeChanges=new Mt,this.localeChanges=this._localeChanges}getValidDateOrNull(e){return this.isDateInstance(e)&&this.isValid(e)?e:null}deserialize(e){return null==e||this.isDateInstance(e)&&this.isValid(e)?e:this.invalid()}setLocale(e){this.locale=e,this._localeChanges.next()}compareDate(e,t){return this.getYear(e)-this.getYear(t)||this.getMonth(e)-this.getMonth(t)||this.getDate(e)-this.getDate(t)}sameDate(e,t){if(e&&t){let i=this.isValid(e),r=this.isValid(t);return i&&r?!this.compareDate(e,t):i==r}return e==t}clampDate(e,t,i){return t&&this.compareDate(e,t)<0?t:i&&this.compareDate(e,i)>0?i:e}}const sNe=new Y("mat-date-formats"),aNe=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function _2(n,e){const t=Array(n);for(let i=0;i<n;i++)t[i]=e(i);return t}let cNe=(()=>{class n extends BY{constructor(t){super(),this.useUtcForDisplay=!1,this._matDateLocale=J(VY,{optional:!0}),void 0!==t&&(this._matDateLocale=t),super.setLocale(this._matDateLocale)}getYear(t){return t.getFullYear()}getMonth(t){return t.getMonth()}getDate(t){return t.getDate()}getDayOfWeek(t){return t.getDay()}getMonthNames(t){const i=new Intl.DateTimeFormat(this.locale,{month:t,timeZone:"utc"});return _2(12,r=>this._format(i,new Date(2017,r,1)))}getDateNames(){const t=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return _2(31,i=>this._format(t,new Date(2017,0,i+1)))}getDayOfWeekNames(t){const i=new Intl.DateTimeFormat(this.locale,{weekday:t,timeZone:"utc"});return _2(7,r=>this._format(i,new Date(2017,0,r+1)))}getYearName(t){const i=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(i,t)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(t){return this.getDate(this._createDateWithOverflow(this.getYear(t),this.getMonth(t)+1,0))}clone(t){return new Date(t.getTime())}createDate(t,i,r){let o=this._createDateWithOverflow(t,i,r);return o.getMonth(),o}today(){return new Date}parse(t,i){return"number"==typeof t?new Date(t):t?new Date(Date.parse(t)):null}format(t,i){if(!this.isValid(t))throw Error("NativeDateAdapter: Cannot format invalid date.");const r=new Intl.DateTimeFormat(this.locale,{...i,timeZone:"utc"});return this._format(r,t)}addCalendarYears(t,i){return this.addCalendarMonths(t,12*i)}addCalendarMonths(t,i){let r=this._createDateWithOverflow(this.getYear(t),this.getMonth(t)+i,this.getDate(t));return this.getMonth(r)!=((this.getMonth(t)+i)%12+12)%12&&(r=this._createDateWithOverflow(this.getYear(r),this.getMonth(r),0)),r}addCalendarDays(t,i){return this._createDateWithOverflow(this.getYear(t),this.getMonth(t),this.getDate(t)+i)}toIso8601(t){return[t.getUTCFullYear(),this._2digit(t.getUTCMonth()+1),this._2digit(t.getUTCDate())].join("-")}deserialize(t){if("string"==typeof t){if(!t)return null;if(aNe.test(t)){let i=new Date(t);if(this.isValid(i))return i}}return super.deserialize(t)}isDateInstance(t){return t instanceof Date}isValid(t){return!isNaN(t.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(t,i,r){const o=new Date;return o.setFullYear(t,i,r),o.setHours(0,0,0,0),o}_2digit(t){return("00"+t).slice(-2)}_format(t,i){const r=new Date;return r.setUTCFullYear(i.getFullYear(),i.getMonth(),i.getDate()),r.setUTCHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),t.format(r)}static#e=this.\u0275fac=function(i){return new(i||n)($(VY,8))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac})}return n})();const lNe={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};function uNe(n=lNe){return[{provide:BY,useClass:cNe},{provide:sNe,useValue:n}]}var wo=function(n){return n[n.FADING_IN=0]="FADING_IN",n[n.VISIBLE=1]="VISIBLE",n[n.FADING_OUT=2]="FADING_OUT",n[n.HIDDEN=3]="HIDDEN",n}(wo||{});class dNe{constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=wo.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}}const UY=mm({passive:!0,capture:!0});class hNe{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=wc(e);t&&this._events.get(e.type)?.forEach((i,r)=>{(r===t||r.contains(t))&&i.forEach(o=>o.handleEvent(e))})}}addHandler(e,t,i,r){const o=this._events.get(t);if(o){const s=o.get(i);s?s.add(r):o.set(i,new Set([r]))}else this._events.set(t,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,UY)})}removeHandler(e,t,i){const r=this._events.get(e);if(!r)return;const o=r.get(t);o&&(o.delete(i),0===o.size&&r.delete(t),0===r.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,UY)))}}const zY={enterDuration:225,exitDuration:150},jY=mm({passive:!0,capture:!0}),HY=["mousedown","touchstart"],$Y=["mouseup","mouseleave","touchend","touchcancel"];class ox{static#e=this._eventManager=new hNe;constructor(e,t,i,r){this._target=e,this._ngZone=t,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Hh(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...zY,...i.animation};i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const s=i.radius||function pNe(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),a=e-r.left,c=t-r.top,l=o.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=a-s+"px",u.style.top=c-s+"px",u.style.height=2*s+"px",u.style.width=2*s+"px",null!=i.color&&(u.style.backgroundColor=i.color),u.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(u);const d=window.getComputedStyle(u),f=d.transitionDuration,_="none"===d.transitionProperty||"0s"===f||"0s, 0s"===f||0===r.width&&0===r.height,C=new dNe(this,u,i,_);u.style.transform="scale3d(1, 1, 1)",C.state=wo.FADING_IN,i.persistent||(this._mostRecentTransientRipple=C);let I=null;return!_&&(l||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const O=()=>this._finishRippleTransition(C),M=()=>this._destroyRipple(C);u.addEventListener("transitionend",O),u.addEventListener("transitioncancel",M),I={onTransitionEnd:O,onTransitionCancel:M}}),this._activeRipples.set(C,I),(_||!l)&&this._finishRippleTransition(C),C}fadeOutRipple(e){if(e.state===wo.FADING_OUT||e.state===wo.HIDDEN)return;const t=e.element,i={...zY,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=wo.FADING_OUT,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Hh(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,HY.forEach(i=>{ox._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{$Y.forEach(t=>{this._triggerElement.addEventListener(t,this,jY)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===wo.FADING_IN?this._startFadeOutTransition(e):e.state===wo.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=wo.VISIBLE,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=wo.HIDDEN,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=sY(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!aY(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;if(t)for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(e.state===wo.VISIBLE||e.config.terminateOnPointerUp&&e.state===wo.FADING_IN)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(HY.forEach(t=>ox._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&$Y.forEach(t=>e.removeEventListener(t,this,jY)))}}const GY=new Y("mat-ripple-global-options");let gNe=(()=>{class n{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,i,r,o,s){this._elementRef=t,this._animationMode=s,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new ox(this,i,t,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}static#e=this.\u0275fac=function(i){return new(i||n)(E(an),E(Te),E(Si),E(GY,8),E(Hc,8))};static#t=this.\u0275dir=be({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,r){2&i&&uo("mat-ripple-unbounded",r.unbounded)},inputs:{color:[ct.None,"matRippleColor","color"],unbounded:[ct.None,"matRippleUnbounded","unbounded"],centered:[ct.None,"matRippleCentered","centered"],radius:[ct.None,"matRippleRadius","radius"],animation:[ct.None,"matRippleAnimation","animation"],disabled:[ct.None,"matRippleDisabled","disabled"],trigger:[ct.None,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0})}return n})(),mNe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=et({type:n});static#n=this.\u0275inj=Ze({imports:[zr,zr]})}return n})();const qY={capture:!0},WY=["focus","click","mouseenter","touchstart"],b2="mat-ripple-loader-uninitialized",y2="mat-ripple-loader-class-name",KY="mat-ripple-loader-centered",sx="mat-ripple-loader-disabled";let _Ne=(()=>{class n{constructor(){this._document=J(dt,{optional:!0}),this._animationMode=J(Hc,{optional:!0}),this._globalRippleOptions=J(GY,{optional:!0}),this._platform=J(Si),this._ngZone=J(Te),this._hosts=new Map,this._onInteraction=t=>{if(!(t.target instanceof HTMLElement))return;const r=t.target.closest(`[${b2}]`);r&&this._createRipple(r)},this._ngZone.runOutsideAngular(()=>{for(const t of WY)this._document?.addEventListener(t,this._onInteraction,qY)})}ngOnDestroy(){const t=this._hosts.keys();for(const i of t)this.destroyRipple(i);for(const i of WY)this._document?.removeEventListener(i,this._onInteraction,qY)}configureRipple(t,i){t.setAttribute(b2,""),(i.className||!t.hasAttribute(y2))&&t.setAttribute(y2,i.className||""),i.centered&&t.setAttribute(KY,""),i.disabled&&t.setAttribute(sx,"")}getRipple(t){return this._hosts.get(t)||this._createRipple(t)}setDisabled(t,i){const r=this._hosts.get(t);r?r.disabled=i:i?t.setAttribute(sx,""):t.removeAttribute(sx)}_createRipple(t){if(!this._document)return;const i=this._hosts.get(t);if(i)return i;t.querySelector(".mat-ripple")?.remove();const r=this._document.createElement("span");r.classList.add("mat-ripple",t.getAttribute(y2)),t.append(r);const o=new gNe(new an(r),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return o._isInitialized=!0,o.trigger=t,o.centered=t.hasAttribute(KY),o.disabled=t.hasAttribute(sx),this.attachRipple(t,o),o}attachRipple(t,i){t.removeAttribute(b2),this._hosts.set(t,i)}destroyRipple(t){const i=this._hosts.get(t);i&&(i.ngOnDestroy(),this._hosts.delete(t))}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const bNe=new Y("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{const n=J(ya);return()=>n.scrollStrategies.reposition({scrollThrottle:20})}}),vNe={provide:bNe,deps:[ya],useFactory:function yNe(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}};let xNe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=et({type:n});static#n=this.\u0275inj=Ze({providers:[vNe],imports:[hY,za,MY,zr,zr,l2]})}return n})(),CNe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=et({type:n});static#n=this.\u0275inj=Ze({providers:[uNe()],imports:[za,SPe,Sy,t2,xNe]})}return n})(),ENe=(()=>{class n{Hello(){console.log("hello")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=et({type:n});static#n=this.\u0275inj=Ze({imports:[za]})}return n})();function INe(n,e){}class ax{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let YY=(()=>{class n extends h2{constructor(t,i,r,o,s,a,c,l){super(),this._elementRef=t,this._focusTrapFactory=i,this._config=o,this._interactivityChecker=s,this._ngZone=a,this._overlayRef=c,this._focusMonitor=l,this._platform=J(Si),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=J($u),this.attachDomPortal=u=>{this._portalOutlet.hasAttached();const d=this._portalOutlet.attachDomPortal(u);return this._contentAttached(),d},this._document=r,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(t){this._ariaLabelledByQueue.push(t),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(t){const i=this._ariaLabelledByQueue.indexOf(t);i>-1&&(this._ariaLabelledByQueue.splice(i,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(t){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(t);return this._contentAttached(),i}attachTemplatePortal(t){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(t);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{t.removeEventListener("blur",r),t.removeEventListener("mousedown",r),t.removeAttribute("tabindex")};t.addEventListener("blur",r),t.addEventListener("mousedown",r)})),t.focus(i)}_focusByCssSelector(t,i){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,i)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._config.restoreFocus;let i=null;if("string"==typeof t?i=this._document.querySelector(t):"boolean"==typeof t?i=t?this._elementFocusedBeforeDialogWasOpened:null:t&&(i=t),this._config.restoreFocus&&i&&"function"==typeof i.focus){const r=SR(),o=this._elementRef.nativeElement;(!r||r===this._document.body||r===o||o.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,i=SR();return t===i||t.contains(i)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=SR()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static#e=this.\u0275fac=function(i){return new(i||n)(E(an),E(oY),E(dt,8),E(ax),E(n2),E(Te),E(tx),E(r2))};static#t=this.\u0275cmp=Me({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(i,r){if(1&i&&jn(f2,7),2&i){let o;Cn(o=En())&&(r._portalOutlet=o.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(i,r){2&i&&kr("id",r._config.id||null)("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null)},standalone:!0,features:[wt,No],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(i,r){1&i&&Zn(0,INe,0,0,"ng-template",0)},dependencies:[f2],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return n})();class v2{constructor(e,t){this.overlayRef=e,this.config=t,this.closed=new Mt,this.disableClose=t.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=t.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!YQ(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=e.detachments().subscribe(()=>{!1!==t.closeOnOverlayDetachments&&this.close()})}close(e,t){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=t?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),i.next(e),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",t=""){return this.overlayRef.updateSize({width:e,height:t}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}}const XY=new Y("DialogScrollStrategy",{providedIn:"root",factory:()=>{const n=J(ya);return()=>n.scrollStrategies.block()}}),TNe=new Y("DialogData"),DNe=new Y("DefaultDialogConfig");let ANe=0,ZY=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(t,i,r,o,s,a){this._overlay=t,this._injector=i,this._defaultOptions=r,this._parentDialog=o,this._overlayContainer=s,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Mt,this._afterOpenedAtThisLevel=new Mt,this._ariaHiddenElements=new Map,this.afterAllClosed=_p(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(cT(void 0))),this._scrollStrategy=a}open(t,i){(i={...this._defaultOptions||new ax,...i}).id=i.id||"cdk-dialog-"+ANe++,i.id&&this.getDialogById(i.id);const o=this._getOverlayConfig(i),s=this._overlay.create(o),a=new v2(s,i),c=this._attachContainer(s,a,i);return a.containerInstance=c,this._attachDialogContent(t,a,c,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(a),a.closed.subscribe(()=>this._removeOpenDialog(a,!0)),this.afterOpened.next(a),a}closeAll(){w2(this.openDialogs,t=>t.close())}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){w2(this._openDialogsAtThisLevel,t=>{!1===t.config.closeOnDestroy&&this._removeOpenDialog(t,!1)}),w2(this._openDialogsAtThisLevel,t=>t.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(t){const i=new xY({positionStrategy:t.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,width:t.width,height:t.height,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(i.backdropClass=t.backdropClass),i}_attachContainer(t,i,r){const o=r.injector||r.viewContainerRef?.injector,s=[{provide:ax,useValue:r},{provide:v2,useValue:i},{provide:tx,useValue:t}];let a;r.container?"function"==typeof r.container?a=r.container:(a=r.container.type,s.push(...r.container.providers(r))):a=YY;const c=new d2(a,r.viewContainerRef,jt.create({parent:o||this._injector,providers:s}),r.componentFactoryResolver);return t.attach(c).instance}_attachDialogContent(t,i,r,o){if(t instanceof ns){const s=this._createInjector(o,i,r,void 0);let a={$implicit:o.data,dialogRef:i};o.templateContext&&(a={...a,..."function"==typeof o.templateContext?o.templateContext():o.templateContext}),r.attachTemplatePortal(new bY(t,null,a,s))}else{const s=this._createInjector(o,i,r,this._injector),a=r.attachComponentPortal(new d2(t,o.viewContainerRef,s,o.componentFactoryResolver));i.componentRef=a,i.componentInstance=a.instance}}_createInjector(t,i,r,o){const s=t.injector||t.viewContainerRef?.injector,a=[{provide:TNe,useValue:t.data},{provide:v2,useValue:i}];return t.providers&&("function"==typeof t.providers?a.push(...t.providers(i,t,r)):a.push(...t.providers)),t.direction&&(!s||!s.get(c2,null,{optional:!0}))&&a.push({provide:c2,useValue:{value:t.direction,change:xe()}}),jt.create({parent:s||o,providers:a})}_removeOpenDialog(t,i){const r=this.openDialogs.indexOf(t);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,s)=>{o?s.setAttribute("aria-hidden",o):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const i=t.parentElement.children;for(let r=i.length-1;r>-1;r--){const o=i[r];o!==t&&"SCRIPT"!==o.nodeName&&"STYLE"!==o.nodeName&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}static#e=this.\u0275fac=function(i){return new(i||n)($(ya),$(jt),$(DNe,8),$(n,12),$(g2),$(XY))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function w2(n,e){let t=n.length;for(;t--;)e(n[t])}let SNe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=et({type:n});static#n=this.\u0275inj=Ze({providers:[ZY],imports:[MY,Jw,hY,Jw]})}return n})();function kNe(n,e){}const ONe={bottomSheetState:AY("state",[ix("void, hidden",qh({transform:"translateY(100%)"})),ix("visible",qh({transform:"translateY(0%)"})),rx("visible => void, visible => hidden",SY([nx(`${LY.COMPLEX} ${FY.ACCELERATION_CURVE}`),OY("@*",kY(),{optional:!0})])),rx("void => visible",SY([nx(`${LY.EXITING} ${FY.DECELERATION_CURVE}`),OY("@*",kY(),{optional:!0})]))])};let PNe=(()=>{class n extends YY{constructor(t,i,r,o,s,a,c,l,u){super(t,i,r,o,s,a,c,u),this._animationState="void",this._animationStateChanged=new Xe,this._breakpointSubscription=l.observe([$h_Medium,$h_Large,"(min-width: 1920px)"]).subscribe(()=>{this._toggleClass("mat-bottom-sheet-container-medium",l.isMatched($h_Medium)),this._toggleClass("mat-bottom-sheet-container-large",l.isMatched($h_Large)),this._toggleClass("mat-bottom-sheet-container-xlarge",l.isMatched("(min-width: 1920px)"))})}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges())}exit(){this._destroyed||(this._animationState="hidden",this._changeDetectorRef.markForCheck())}ngOnDestroy(){super.ngOnDestroy(),this._breakpointSubscription.unsubscribe(),this._destroyed=!0}_onAnimationDone(t){"visible"===t.toState&&this._trapFocus(),this._animationStateChanged.emit(t)}_onAnimationStart(t){this._animationStateChanged.emit(t)}_captureInitialFocus(){}_toggleClass(t,i){this._elementRef.nativeElement.classList.toggle(t,i)}static#e=this.\u0275fac=function(i){return new(i||n)(E(an),E(oY),E(dt,8),E(ax),E(n2),E(Te),E(tx),E(JQ),E(r2))};static#t=this.\u0275cmp=Me({type:n,selectors:[["mat-bottom-sheet-container"]],hostAttrs:["tabindex","-1",1,"mat-bottom-sheet-container"],hostVars:4,hostBindings:function(i,r){1&i&&S1("@state.start",function(s){return r._onAnimationStart(s)})("@state.done",function(s){return r._onAnimationDone(s)}),2&i&&(kr("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-label",r._config.ariaLabel),D1("@state",r._animationState))},standalone:!0,features:[wt,No],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(i,r){1&i&&Zn(0,kNe,0,0,"ng-template",0)},dependencies:[f2],styles:[".mat-bottom-sheet-container{box-shadow:0px 8px 10px -5px rgba(0, 0, 0, 0.2), 0px 16px 24px 2px rgba(0, 0, 0, 0.14), 0px 6px 30px 5px rgba(0, 0, 0, 0.12);padding:8px 16px;min-width:100vw;box-sizing:border-box;display:block;outline:0;max-height:80vh;overflow:auto;background:var(--mat-bottom-sheet-container-background-color);color:var(--mat-bottom-sheet-container-text-color);font-family:var(--mat-bottom-sheet-container-text-font);font-size:var(--mat-bottom-sheet-container-text-size);line-height:var(--mat-bottom-sheet-container-text-line-height);font-weight:var(--mat-bottom-sheet-container-text-weight);letter-spacing:var(--mat-bottom-sheet-container-text-tracking)}.cdk-high-contrast-active .mat-bottom-sheet-container{outline:1px solid}.mat-bottom-sheet-container-xlarge,.mat-bottom-sheet-container-large,.mat-bottom-sheet-container-medium{border-top-left-radius:var(--mat-bottom-sheet-container-shape);border-top-right-radius:var(--mat-bottom-sheet-container-shape)}.mat-bottom-sheet-container-medium{min-width:384px;max-width:calc(100vw - 128px)}.mat-bottom-sheet-container-large{min-width:512px;max-width:calc(100vw - 256px)}.mat-bottom-sheet-container-xlarge{min-width:576px;max-width:calc(100vw - 384px)}"],encapsulation:2,data:{animation:[ONe.bottomSheetState]}})}return n})();const JY=new Y("MatBottomSheetData");class RNe{constructor(){this.data=null,this.hasBackdrop=!0,this.disableClose=!1,this.ariaLabel=null,this.ariaModal=!0,this.closeOnNavigation=!0,this.autoFocus="dialog",this.restoreFocus=!0}}class x2{get instance(){return this._ref.componentInstance}get componentRef(){return this._ref.componentRef}constructor(e,t,i){this._ref=e,this._afterOpened=new Mt,this.containerInstance=i,this.disableClose=t.disableClose,i._animationStateChanged.pipe(Gn(r=>"done"===r.phaseName&&"visible"===r.toState),$n(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(Gn(r=>"done"===r.phaseName&&"hidden"===r.toState),$n(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._ref.close(this._result)}),e.overlayRef.detachments().subscribe(()=>{this._ref.close(this._result)}),ex(this.backdropClick(),this.keydownEvents().pipe(Gn(r=>27===r.keyCode))).subscribe(r=>{!this.disableClose&&("keydown"!==r.type||!YQ(r))&&(r.preventDefault(),this.dismiss())})}dismiss(e){this.containerInstance&&(this.containerInstance._animationStateChanged.pipe(Gn(t=>"start"===t.phaseName),$n(1)).subscribe(t=>{this._closeFallbackTimeout=setTimeout(()=>{this._ref.close(this._result)},t.totalTime+100),this._ref.overlayRef.detachBackdrop()}),this._result=e,this.containerInstance.exit(),this.containerInstance=null)}afterDismissed(){return this._ref.closed}afterOpened(){return this._afterOpened}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}}const NNe=new Y("mat-bottom-sheet-default-options");let eX=(()=>{class n{get _openedBottomSheetRef(){const t=this._parentBottomSheet;return t?t._openedBottomSheetRef:this._bottomSheetRefAtThisLevel}set _openedBottomSheetRef(t){this._parentBottomSheet?this._parentBottomSheet._openedBottomSheetRef=t:this._bottomSheetRefAtThisLevel=t}constructor(t,i,r,o){this._overlay=t,this._parentBottomSheet=r,this._defaultOptions=o,this._bottomSheetRefAtThisLevel=null,this._dialog=i.get(ZY)}open(t,i){const r={...this._defaultOptions||new RNe,...i};let o;return this._dialog.open(t,{...r,disableClose:!0,closeOnOverlayDetachments:!1,maxWidth:"100%",container:PNe,scrollStrategy:r.scrollStrategy||this._overlay.scrollStrategies.block(),positionStrategy:this._overlay.position().global().centerHorizontally().bottom("0"),templateContext:()=>({bottomSheetRef:o}),providers:(s,a,c)=>(o=new x2(s,r,c),[{provide:x2,useValue:o},{provide:JY,useValue:r.data}])}),o.afterDismissed().subscribe(()=>{this._openedBottomSheetRef===o&&(this._openedBottomSheetRef=null)}),this._openedBottomSheetRef?(this._openedBottomSheetRef.afterDismissed().subscribe(()=>o.containerInstance?.enter()),this._openedBottomSheetRef.dismiss()):o.containerInstance.enter(),this._openedBottomSheetRef=o,o}dismiss(t){this._openedBottomSheetRef&&this._openedBottomSheetRef.dismiss(t)}ngOnDestroy(){this._bottomSheetRefAtThisLevel&&this._bottomSheetRefAtThisLevel.dismiss()}static#e=this.\u0275fac=function(i){return new(i||n)($(ya),$(jt),$(n,12),$(NNe,8))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),FNe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=et({type:n});static#n=this.\u0275inj=Ze({providers:[eX],imports:[SNe,zr,Jw,zr]})}return n})();const Wh=new Wt(Yh),VNe={connector:()=>new Mt};function tX(n,e=VNe){const{connector:t}=e;return wn((i,r)=>{const o=t();Li(n(function LNe(n){return new Wt(e=>n.subscribe(e))}(o))).subscribe(r),r.add(i.subscribe(o))})}function nX(n,e){return e?t=>_d(e.pipe($n(1),function zNe(){return wn((n,e)=>{n.subscribe(gn(e,Yh))})}()),t.pipe(nX(n))):vi((t,i)=>Li(n(t,i)).pipe($n(1),Qj(t)))}const Xm="Service workers are disabled or not supported by this browser";class cx{constructor(e){if(this.serviceWorker=e,e){const i=qm(e,"controllerchange").pipe(Ne(()=>e.controller)),o=_d(_p(()=>xe(e.controller)),i);this.worker=o.pipe(Gn(u=>!!u)),this.registration=this.worker.pipe(Nr(()=>e.getRegistration()));const l=qm(e,"message").pipe(Ne(u=>u.data)).pipe(Gn(u=>u&&u.type)).pipe(function UNe(n){return n?e=>tX(n)(e):e=>function BNe(n,e){const t=vt(n)?n:()=>n;return vt(e)?tX(e,{connector:t}):i=>new aT(i,t)}(new Mt)(e)}());l.connect(),this.events=l}else this.worker=this.events=this.registration=function HNe(n){return _p(()=>bd(new Error(n)))}(Xm)}postMessage(e,t){return this.worker.pipe($n(1),qn(i=>{i.postMessage({action:e,...t})})).toPromise().then(()=>{})}postMessageWithOperation(e,t,i){const r=this.waitForOperationCompleted(i),o=this.postMessage(e,t);return Promise.all([o,r]).then(([,s])=>s)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(e){let t;return t="string"==typeof e?i=>i.type===e:i=>e.includes(i.type),this.events.pipe(Gn(t))}nextEventOfType(e){return this.eventsOfType(e).pipe($n(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(Gn(t=>t.nonce===e),$n(1),Ne(t=>{if(void 0!==t.result)return t.result;throw new Error(t.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let iX=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,this.pushManager=null,this.subscriptionChanges=new Mt,!t.isEnabled)return this.messages=Wh,this.notificationClicks=Wh,void(this.subscription=Wh);this.messages=this.sw.eventsOfType("PUSH").pipe(Ne(r=>r.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(Ne(r=>r.data)),this.pushManager=this.sw.registration.pipe(Ne(r=>r.pushManager));const i=this.pushManager.pipe(Nr(r=>r.getSubscription()));this.subscription=ex(i,this.subscriptionChanges)}requestSubscription(t){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(Xm));const i={userVisibleOnly:!0};let r=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),o=new Uint8Array(new ArrayBuffer(r.length));for(let s=0;s<r.length;s++)o[s]=r.charCodeAt(s);return i.applicationServerKey=o,this.pushManager.pipe(Nr(s=>s.subscribe(i)),$n(1)).toPromise().then(s=>(this.subscriptionChanges.next(s),s))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe($n(1),Nr(i=>{if(null===i)throw new Error("Not subscribed to push notifications.");return i.unsubscribe().then(r=>{if(!r)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(Xm))}decodeBase64(t){return atob(t)}static#e=this.\u0275fac=function(i){return new(i||n)($(cx))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac})}return n})(),rX=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,!t.isEnabled)return this.versionUpdates=Wh,void(this.unrecoverable=Wh);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Xm));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Xm));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}static#e=this.\u0275fac=function(i){return new(i||n)($(cx))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac})}return n})();const oX=new Y("");function $Ne(n,e,t,i){return()=>{if(!fy(i)||!("serviceWorker"in navigator)||!1===t.enabled)return;let r;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof t.registrationStrategy)r=t.registrationStrategy();else{const[s,...a]=(t.registrationStrategy||"registerWhenStable:30000").split(":");switch(s){case"registerImmediately":r=xe(null);break;case"registerWithDelay":r=sX(+a[0]||0);break;case"registerWhenStable":r=a[0]?ex(aX(n),sX(+a[0])):aX(n);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${t.registrationStrategy}`)}}n.get(Te).runOutsideAngular(()=>r.pipe($n(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:t.scope}).catch(s=>console.error("Service worker registration failed with:",s))))}}function sX(n){return xe(null).pipe(function jNe(n,e=Up){const t=a2(n,e);return nX(()=>t)}(n))}function aX(n){return n.get(as).isStable.pipe(Gn(t=>t))}function GNe(n,e){return new cx(fy(e)&&!1!==n.enabled?navigator.serviceWorker:void 0)}class C2{}function qNe(n,e={}){return function L_(n){return{\u0275providers:n}}([iX,rX,{provide:oX,useValue:n},{provide:C2,useValue:e},{provide:cx,useFactory:GNe,deps:[C2,so]},{provide:rp,useFactory:$Ne,deps:[jt,oX,C2,so],multi:!0}])}let WNe=(()=>{class n{static register(t,i={}){return{ngModule:n,providers:[qNe(t,i)]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=et({type:n});static#n=this.\u0275inj=Ze({providers:[iX,rX]})}return n})();function KNe(n,e){if(1&n){const t=It();g(0,"tr")(1,"td"),w(2),p(),g(3,"td"),w(4),p(),g(5,"td"),w(6),p(),g(7,"td")(8,"button",3),ee("click",function(){const o=Le(t).$implicit;return Ve(cn().Muestras(o.name))}),p()()()}if(2&n){const t=e.$implicit;H(2),qe(t.name),H(2),qe(t.owner),H(2),qe(t.integrantes)}}let QNe=(()=>{class n{constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.data=[],this.list=[],this.email="",this.getData(),this.MyQuery()}getData(){const t=ws();aa(t,r=>{r&&(console.log(r.email),r.email&&(this.email=r.email))});const i=De(this.firestore,"projects");me(i).then(r=>{this.data=[...r.docs.map(o=>({...o.data(),id:o.id}))]})}updateData(t){const i=Ae(this.firestore,"projects",t);Cr(i,{}).then(()=>{alert("Data updated"),this.getData()}).catch(r=>{alert(r.message)})}deleteData(t){const i=Ae(this.firestore,"projects",t);Fn(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}newProject(){this.router.navigate(["user/project-new"])}EditProject(){this.router.navigate(["user/project-new"])}Muestras(t){this.router.navigate(["client/muestras/"+t])}editProyecto(t){this.router.navigate(["user/project-edit/"+t])}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["user/projects"])}logOut(){ji(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}MyQuery(){var t=this;return b(function*(){const i=ws();let r;r="",console.log(i),aa(i,function(){var o=b(function*(s){if(s&&(console.log(s.email),s.email)){r=s.email;const a=fn(De(t.firestore,"projects"),nn("cliente","==",r));me(a).then(l=>{t.data=[...l.docs.map(u=>({...u.data(),id:u.id}))]});const c=yield me(a);console.log(c),c.forEach(l=>{console.log(l.id," => ",l.data()),console.log("here2")}),console.log(t.data.length),console.log(t.data),console.log(t.data[0].cliente)}});return function(s){return o.apply(this,arguments)}}())})()}static#e=this.\u0275fac=function(i){return new(i||n)(E(Se),E(ft),E(We),E(ht))};static#t=this.\u0275cmp=Me({type:n,selectors:[["app-projects"]],decls:15,vars:1,consts:[[1,"subTituloText"],[1,"list"],[4,"ngFor","ngForOf"],[1,"muestras",3,"click"]],template:function(i,r){1&i&&(g(0,"p"),w(1,"projects works!"),p(),g(2,"h1",0),w(3,"Proyectos"),p(),g(4,"div",1)(5,"table")(6,"tr")(7,"th"),w(8," Nombre "),p(),g(9,"th"),w(10," Due\xf1o "),p(),g(11,"th"),w(12," Integrantes"),p(),ie(13,"th"),p(),Zn(14,KNe,9,3,"tr",2),p()()),2&i&&(H(14),Jn("ngForOf",r.data))},dependencies:[po],styles:[".list[_ngcontent-%COMP%]{position:absolute;left:25%;top:38%}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:153px;height:36px;left:49%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:126px;height:16px;left:50%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:300px;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;left:45%;top:20%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.list[_ngcontent-%COMP%]{position:absolute;margin:0;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px}.boton[_ngcontent-%COMP%]{position:absolute;left:80%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;left:30%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}.scanbutton[_ngcontent-%COMP%]{cursor:pointer;width:153px;height:36px;left:30%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}}"]})}return n})();function YNe(n,e){if(1&n){const t=It();g(0,"tr")(1,"td"),w(2),p(),g(3,"td"),w(4),p(),g(5,"td"),w(6),p(),g(7,"td"),w(8),p(),g(9,"td")(10,"button",4),ee("click",function(){const o=Le(t).$implicit;return Ve(cn().infoMuestra(o.codigo))}),p()()()}if(2&n){const t=e.$implicit;H(2),qe(t.codigo),H(2),qe(t.fecha),H(2),qe(t.cultivo),H(2),qe(t.coordenadas)}}let cX=(()=>{class n{constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.data=[],this.MyQuery()}ngOnInit(){this.route.params.subscribe(t=>{this.item=t.id,console.log(t),console.log(t.id)}),this.MyQuery()}getData(){const t=De(this.firestore,"muestras");me(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}updateData(t){const i=Ae(this.firestore,"muestras",t);Cr(i,{}).then(()=>{alert("Data updated"),this.getData()}).catch(r=>{alert(r.message)})}deleteData(t){const i=Ae(this.firestore,"muestras",t);Fn(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["client/projects"])}logOut(){ji(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}newMuestra(){this.router.navigate(["user/muestras-new"])}editMuestra(t){this.router.navigate(["user/muestras-edit/"+t])}infoProject(t){this.router.navigate(["user/project-edit/"+t])}infoMuestra(t){this.router.navigate(["client/muestras-info/"+t])}MyQuery(){var t=this;return b(function*(){let i=t.item;t.pid=i,console.log(i);const r=fn(De(t.firestore,"muestras"),nn("project","==",i));me(r).then(s=>{t.data=[...s.docs.map(a=>({...a.data(),id:a.id}))]}),(yield me(r)).forEach(s=>{console.log(s.id," => ",s.data())})})()}static#e=this.\u0275fac=function(i){return new(i||n)(E(Se),E(ft),E(We),E(ht))};static#t=this.\u0275cmp=Me({type:n,selectors:[["app-muestras"]],decls:19,vars:1,consts:[[1,"subTituloText"],[1,"list"],[1,"projectBlock",3,"click"],[4,"ngFor","ngForOf"],[1,"detalles",3,"click"]],template:function(i,r){1&i&&(g(0,"p"),w(1,"muestras works!"),p(),g(2,"h1",0),w(3,"Muestras"),p(),g(4,"div",1)(5,"div",2),ee("click",function(){return r.infoProject(r.pid)}),w(6,"Proyecto"),p(),g(7,"table")(8,"tr")(9,"th"),w(10," Codigo "),p(),g(11,"th"),w(12," Fecha "),p(),g(13,"th"),w(14," Cultivo"),p(),g(15,"th"),w(16," Coordenadas "),p(),ie(17,"th"),p(),Zn(18,YNe,11,4,"tr",3),p()()),2&i&&(H(18),Jn("ngForOf",r.data))},dependencies:[po],styles:[".list[_ngcontent-%COMP%]{position:absolute;left:38%;top:38%}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.projectBlock[_ngcontent-%COMP%]{width:auto;height:35px;background:#3EC28F;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:20px;font-weight:700;letter-spacing:0;cursor:pointer}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:153px;height:36px;left:49%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:126px;height:16px;left:50%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:300px;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;left:45%;top:20%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.projectBlock[_ngcontent-%COMP%]{width:60%;height:25px;background:#3EC28F;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:14px;font-weight:700;letter-spacing:0;cursor:pointer}.list[_ngcontent-%COMP%]{position:absolute;left:5%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:80%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;left:30%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}return n})();function XNe(n,e){if(1&n){const t=It();g(0,"tr")(1,"td"),w(2),p(),g(3,"td"),w(4),p(),g(5,"td"),w(6),p(),g(7,"td"),w(8),p(),g(9,"td")(10,"button",3),ee("click",function(){const o=Le(t).$implicit;return Ve(cn().infoMuestra(o.codigo))}),p()()()}if(2&n){const t=e.$implicit;H(2),qe(t.codigo),H(2),qe(t.fecha),H(2),qe(t.cultivo),H(2),qe(t.coordenadas)}}let ZNe=(()=>{class n{constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.data=[],this.arr=[]}ngOnInit(){this.route.params.subscribe(t=>{this.item=t.id,console.log(t),console.log(t.id)}),this.getData(),this.MyQuery()}getData(){const t=De(this.firestore,"muestras");me(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}updateData(t){const i=Ae(this.firestore,"muestras",t);Cr(i,{}).then(()=>{alert("Data updated"),this.getData()}).catch(r=>{alert(r.message)})}deleteData(t){const i=Ae(this.firestore,"muestras",t);Fn(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["user/projects"])}logOut(){ji(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}newMuestra(){this.router.navigate(["user/muestras-new"])}editMuestra(t){this.router.navigate(["user/muestras-edit/"+t])}infoProject(t){this.router.navigate(["user/project-edit/"+t])}infoMuestra(t){this.router.navigate(["user/muestras-info/"+t])}MyQuery(){var t=this;return b(function*(){const i=ws();let r,o=[];r="",console.log(i),aa(i,function(){var s=b(function*(a){if(a&&(console.log(a.email),a.email)){r=a.email;const d=fn(De(t.firestore,"projects"),nn("cliente","==",r));me(d).then(_=>{t.dataTem=[..._.docs.map(C=>({...C.data(),id:C.id}))]}),(yield me(d)).forEach(_=>{}),console.log(t.dataTem.length),console.log(t.dataTem[0].name);let f=t.dataTem.length;console.log(f);for(let _=0;_<f;_++)console.log(t.dataTem[_].name),o.push(t.dataTem[_].name);console.log(o)}console.log("next"),console.log(o),t.pid=t.item;const l=fn(De(t.firestore,"muestras"),nn("project","in",o));me(l).then(d=>{t.data=[...d.docs.map(h=>({...h.data(),id:h.id}))]}),(yield me(l)).forEach(d=>{console.log(d.id," => ",d.data())})});return function(a){return s.apply(this,arguments)}}())})()}static#e=this.\u0275fac=function(i){return new(i||n)(E(Se),E(ft),E(We),E(ht))};static#t=this.\u0275cmp=Me({type:n,selectors:[["app-muestras-all"]],decls:17,vars:1,consts:[[1,"subTituloText"],[1,"list"],[4,"ngFor","ngForOf"],[1,"detalles",3,"click"]],template:function(i,r){1&i&&(g(0,"p"),w(1,"muestras-all works!"),p(),g(2,"h1",0),w(3,"Muestras"),p(),g(4,"div",1)(5,"table")(6,"tr")(7,"th"),w(8," Codigo "),p(),g(9,"th"),w(10," Fecha "),p(),g(11,"th"),w(12," Cultivo"),p(),g(13,"th"),w(14," Coordenadas "),p(),ie(15,"th"),p(),Zn(16,XNe,11,4,"tr",2),p()()),2&i&&(H(16),Jn("ngForOf",r.data))},dependencies:[po],styles:[".list[_ngcontent-%COMP%]{position:absolute;left:38%;top:38%}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.projectBlock[_ngcontent-%COMP%]{width:auto;height:35px;background:#3EC28F;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:20px;font-weight:700;letter-spacing:0;cursor:pointer}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:153px;height:36px;left:49%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:126px;height:16px;left:50%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:300px;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;left:45%;top:20%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;margin-left:2px;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.list[_ngcontent-%COMP%]{position:absolute;left:5%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:80%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;left:30%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}return n})();function JNe(n,e){if(1&n){const t=It();g(0,"tr")(1,"td"),w(2),p(),g(3,"td"),w(4),p(),g(5,"td"),w(6),p(),g(7,"td"),w(8),p(),g(9,"td")(10,"button",3),ee("click",function(){const o=Le(t).$implicit;return Ve(cn().infoUnidad(o.codigo))}),p()()()}if(2&n){const t=e.$implicit;H(2),qe(t.codigo),H(2),qe(t.project),H(2),qe(t.altitud),H(2),qe(t.coordenadas)}}let e2e=(()=>{class n{constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.data=[],this.arr=[]}ngOnInit(){this.route.params.subscribe(t=>{this.item=t.id,console.log(t),console.log(t.id)}),this.getData(),this.MyQuery()}getData(){const t=De(this.firestore,"unidad-produccion");me(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}updateData(t){const i=Ae(this.firestore,"unidad-produccion",t);Cr(i,{}).then(()=>{alert("Data updated"),this.getData()}).catch(r=>{alert(r.message)})}deleteData(t){const i=Ae(this.firestore,"unidad-produccion",t);Fn(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["user/projects"])}logOut(){ji(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}newMuestra(){this.router.navigate(["user/muestras-new"])}editMuestra(t){this.router.navigate(["user/muestras-edit/"+t])}infoProject(t){this.router.navigate(["user/project-edit/"+t])}infoUnidad(t){this.router.navigate(["client/unidad-produccion-info/"+t])}MyQuery(){var t=this;return b(function*(){const i=ws();let r,o=[];r="",console.log(i),aa(i,function(){var s=b(function*(a){if(a&&(console.log(a.email),a.email)){r=a.email;const d=fn(De(t.firestore,"projects"),nn("cliente","==",r));me(d).then(_=>{t.dataTem=[..._.docs.map(C=>({...C.data(),id:C.id}))]}),(yield me(d)).forEach(_=>{}),console.log(t.dataTem.length),console.log(t.dataTem[0].name);let f=t.dataTem.length;console.log(f);for(let _=0;_<f;_++)console.log(t.dataTem[_].name),o.push(t.dataTem[_].name);console.log(o)}console.log("next"),console.log(o),t.pid=t.item;const l=fn(De(t.firestore,"unidad-produccion"),nn("project","in",o));me(l).then(d=>{t.data=[...d.docs.map(h=>({...h.data(),id:h.id}))]}),(yield me(l)).forEach(d=>{console.log(d.id," => ",d.data())})});return function(a){return s.apply(this,arguments)}}())})()}static#e=this.\u0275fac=function(i){return new(i||n)(E(Se),E(ft),E(We),E(ht))};static#t=this.\u0275cmp=Me({type:n,selectors:[["app-unidad-produccion-all"]],decls:17,vars:1,consts:[[1,"subTituloText"],[1,"list"],[4,"ngFor","ngForOf"],[1,"detalles",3,"click"]],template:function(i,r){1&i&&(g(0,"p"),w(1,"unidad-produccion-all works!"),p(),g(2,"h1",0),w(3,"Unidades"),p(),g(4,"div",1)(5,"table")(6,"tr")(7,"th"),w(8," Codigo "),p(),g(9,"th"),w(10," Proyecto "),p(),g(11,"th"),w(12," Altitud"),p(),g(13,"th"),w(14," Coordenadas "),p(),ie(15,"th"),p(),Zn(16,JNe,11,4,"tr",2),p()()),2&i&&(H(16),Jn("ngForOf",r.data))},dependencies:[po],styles:[".list[_ngcontent-%COMP%]{position:absolute;left:38%;top:38%}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.projectBlock[_ngcontent-%COMP%]{width:auto;height:35px;background:#3EC28F;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:20px;font-weight:700;letter-spacing:0;cursor:pointer}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:153px;height:36px;left:49%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:126px;height:16px;left:50%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:300px;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;left:45%;top:20%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;margin-left:2px;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.list[_ngcontent-%COMP%]{position:absolute;left:2%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:80%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;left:30%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}return n})();const t2e=["geo"];let n2e=(()=>{class n{constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.title="gestion-de-muestras-de-campo",this.data=[],this.somethingChange=new Xe}ngOnInit(){this.route.params.subscribe(t=>{this.text=t.id,console.log(t),console.log(t.id)}),this.MyQuery()}handleRegister(t){this.addData(t)}addData(t){const i=Ae(this.firestore,"unidad-produccion",t.codigo);xr(i,t).then(()=>{alert("Data Sent")}).catch(r=>{alert(r.message)}),console.log(t.comentarios)}getData(){const t=De(this.firestore,"unidad-produccion");me(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude)}getLocation(){var t=this;return b(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{console.log(t.res)},1e3)})()}MyQuery(){var t=this;return b(function*(){let i=t.text;const r=fn(De(t.firestore,"unidad-produccion"),nn("codigo","==",i)),o=yield me(r);o.empty||o.forEach(s=>{t.item=s.data(),console.log(s.id," => ",s.data())})})()}editMuestra(){this.router.navigate(["user/unidad-produccion-edit/"+this.text])}deleteData(t){const i=Ae(this.firestore,"users",t);Fn(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}static#e=this.\u0275fac=function(i){return new(i||n)(E(Se),E(ft),E(We),E(ht))};static#t=this.\u0275cmp=Me({type:n,selectors:[["app-unidad-produccion-info"]],viewQuery:function(i,r){if(1&i&&jn(t2e,5),2&i){let o;Cn(o=En())&&(r.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:58,vars:10,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],[1,"input-field"]],template:function(i,r){if(1&i){const o=It();g(0,"p"),w(1,"unidad-produccion-info works!"),p(),g(2,"h1",0),w(3,"Datos de la Muestra"),p(),g(4,"div",1)(5,"form",2,3),ee("ngSubmit",function(){Le(o);const a=In(6);return Ve(r.handleRegister(a.value))}),g(7,"div",4)(8,"div",5)(9,"span",6),w(10,"Codigo:"),p(),g(11,"span",7),w(12),p()(),g(13,"div",5)(14,"span",6),w(15,"Cliente:"),p(),g(16,"span",7),w(17),p()(),g(18,"div",5)(19,"span",6),w(20,"Coordenadas:"),p(),g(21,"span",7),w(22),p()(),g(23,"div",5)(24,"span",6),w(25,"Localidad:"),p(),g(26,"span",7),w(27),p()(),g(28,"div",5)(29,"span",6),w(30,"Municipio:"),p(),g(31,"span",7),w(32),p()(),g(33,"div",5)(34,"span",6),w(35,"Estado:"),p(),g(36,"span",7),w(37),p()(),g(38,"div",5)(39,"span",6),w(40,"Altitud:"),p(),g(41,"span",7),w(42),p()(),g(43,"div",5)(44,"span",6),w(45,"Temperaturas M\xe1ximas:"),p(),g(46,"span",7),w(47),p()(),g(48,"div",5)(49,"span",6),w(50,"Temperaturas M\xednimas:"),p(),g(51,"span",7),w(52),p()(),g(53,"div",5)(54,"span",6),w(55,"Precipitaci\xf3n:"),p(),g(56,"span",7),w(57),p()()()()()}2&i&&(H(12),je(" ",r.item.codigo,""),H(5),je(" ",r.item.cliente,""),H(5),je(" ",r.item.coordenadas,""),H(5),je(" ",r.item.localidad,""),H(5),je(" ",r.item.municipio,""),H(5),je(" ",r.item.cliente,""),H(5),je(" ",r.item.altitud,""),H(5),je(" ",r.item.tempmax,""),H(5),je(" ",r.item.tempmin,""),H(5),je(" ",r.item.precipitacion,""))},dependencies:[ni,ti,kn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:65%;height:55%;flex-shrink:0;position:absolute;left:25%;top:30%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:10%;top:7%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:12px 12px 12px 25px;height:20px;left:92px;color:#000;font-family:Arial;font-size:20px;letter-spacing:0}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:40%;top:20%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;height:25px;font-family:Arial;font-size:20px;font-weight:700;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#A6A6A6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:80%;top:88%}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:0%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.input-field[_ngcontent-%COMP%]{margin:6px 6px 6px 15px;height:20px;left:92px;color:#000;font-family:Arial;font-size:16px;letter-spacing:0;text-overflow:ellipsis}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:5%;top:3%}.Text[_ngcontent-%COMP%]{color:#000;height:20px;font-family:Arial;font-size:16px;letter-spacing:0}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:90%;height:53%;flex-shrink:0;position:absolute;left:5%;top:35%}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:67%;top:90%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:12px;left:0%;top:110%}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:25%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}return n})();const i2e=["geo"];let r2e=(()=>{class n{static#e=this.text="";constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.title="gestion-de-muestras-de-campo",this.data=[],this.res="",this.email="",this.somethingChange=new Xe}ngOnInit(){this.route.params.subscribe(t=>{this.x=t.id,console.log(t),console.log(t.id)}),this.getData(),this.MyQuery()}handleRegister(t){this.addData(t)}addData(t){var i=this;return b(function*(){const r=Ae(i.firestore,"clientes",t.codigo);xr(r,t).then(()=>{alert("Data Sent")}).catch(o=>{alert(o.message)}),console.log(i.pid)})()}getData(){const t=ws();aa(t,r=>{r&&r.email&&(this.email=r.email)});const i=De(this.firestore,"clientes");me(i).then(r=>{this.data=[...r.docs.map(o=>({...o.data(),id:o.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude),n.text=t.coords.latitude+", "+t.coords.longitude}getLocation(){var t=this;return b(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{t.res=n.text,console.log(t.res)},1e3)})()}MyQuery(){var t=this;return b(function*(){const i=ws();let r;r="",console.log(i),aa(i,function(){var o=b(function*(s){if(s&&(console.log(s.email),s.email)){r=s.email;const a=fn(De(t.firestore,"clientes"),nn("email","==",r));me(a).then(l=>{t.data=[...l.docs.map(u=>({...u.data(),id:u.id}))]});const c=yield me(a);console.log(c),c.forEach(l=>{t.item=l.data(),t.pid=l.id,console.log(l.id," => ",l.data()),console.log("here2")}),console.log(t.data.length),console.log(t.data),console.log(t.data[0].email)}});return function(s){return o.apply(this,arguments)}}())})()}editClients(){this.router.navigate(["client/perfil-edit"])}deleteData(t){const r=Ae(this.firestore,"clientes",this.x);Fn(r).then(()=>{alert("Data Deleted"),this.router.navigate(["user/muestras/"+this.pid])}).catch(o=>{alert(o.message)})}static#t=this.\u0275fac=function(i){return new(i||n)(E(Se),E(ft),E(We),E(ht))};static#n=this.\u0275cmp=Me({type:n,selectors:[["app-perfil"]],viewQuery:function(i,r){if(1&i&&jn(i2e,5),2&i){let o;Cn(o=En())&&(r.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:32,vars:4,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],[1,"input-field"],[1,"boton",3,"click"]],template:function(i,r){if(1&i){const o=It();g(0,"p"),w(1,"perfil works!"),p(),g(2,"p"),w(3,"clients-info works!"),p(),g(4,"h1",0),w(5,"Informacion del Cliente"),p(),g(6,"div",1)(7,"form",2,3),ee("ngSubmit",function(){Le(o);const a=In(8);return Ve(r.handleRegister(a.value))}),g(9,"div",4)(10,"div",5)(11,"span",6),w(12,"Email:"),p(),g(13,"span",7),w(14),p()(),g(15,"div",5)(16,"span",6),w(17,"Nombre:"),p(),g(18,"span",7),w(19),p()(),g(20,"div",5)(21,"span",6),w(22,"Telefono:"),p(),g(23,"span",7),w(24),p()(),g(25,"div",5)(26,"span",6),w(27,"Direccion:"),p(),g(28,"span",7),w(29),p()()()()(),g(30,"button",8),ee("click",function(){return r.editClients()}),w(31,"Editar Cliente"),p()}2&i&&(H(14),je(" ",r.item.email,""),H(5),je(" ",r.item.nombre,""),H(5),je(" ",r.item.telefono,""),H(5),je(" ",r.item.direccion,""))},dependencies:[ni,ti,kn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:25%;flex-shrink:0;position:absolute;left:15%;top:30%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:3%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:85%;height:20px;left:92px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:35%;top:20%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#A6A6A6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:80%;top:58%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:50%;flex-shrink:0;position:absolute;left:15%;top:30%}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:75%;top:110%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}return n})();const o2e=["geo"],s2e=[{path:"client",component:PW,children:[{path:"projects",component:QNe},{path:"muestras-all",component:ZNe},{path:"muestras/:id",component:cX},{path:"unidad-produccion-all",component:e2e},{path:"muestras-info/:id",component:cX},{path:"unidad-produccion-info/:id",component:n2e},{path:"perfil",component:r2e},{path:"perfil-edit",component:(()=>{class n{static#e=this.text="";constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.title="gestion-de-muestras-de-campo",this.data=[],this.res="",this.email="",this.somethingChange=new Xe,this.getData(),this.MyQuery()}handleRegister(t){this.addData(t)}addData(t){var i=this;return b(function*(){console.log(t);const r=Ae(i.firestore,"clientes",t.email);Cr(r,{email:t.email,nombre:t.nombre,fecha:t.fecha,telefono:t.telefono,direccion:t.direccion}).then(()=>{alert("Data Sent")}).catch(o=>{alert(o.message)}),console.log(i.pid)})()}getData(){const t=De(this.firestore,"clientes");me(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude),n.text=t.coords.latitude+", "+t.coords.longitude}getLocation(){var t=this;return b(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{t.res=n.text,console.log(t.res)},1e3)})()}MyQuery(){var t=this;return b(function*(){const i=ws();let r;r="",console.log(i),aa(i,function(){var o=b(function*(s){if(s&&(console.log(s.email),s.email)){r=s.email;const a=fn(De(t.firestore,"clientes"),nn("email","==",r));me(a).then(l=>{t.data=[...l.docs.map(u=>({...u.data(),id:u.id}))]});const c=yield me(a);console.log(c),c.forEach(l=>{t.item=l.data(),t.pid=l.id,console.log(l.id," => ",l.data()),console.log("here2")}),console.log(t.data.length),console.log(t.data),console.log(t.data[0].email)}});return function(s){return o.apply(this,arguments)}}())})()}deleteData(t){const r=Ae(this.firestore,"clientes",this.x);Fn(r).then(()=>{alert("Data Deleted"),this.router.navigate(["user/muestras/"+this.pid])}).catch(o=>{alert(o.message)})}static#t=this.\u0275fac=function(i){return new(i||n)(E(Se),E(ft),E(We),E(ht))};static#n=this.\u0275cmp=Me({type:n,selectors:[["app-perfil-edit"]],viewQuery:function(i,r){if(1&i&&jn(o2e,5),2&i){let o;Cn(o=En())&&(r.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:26,vars:4,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],["name","email","ngModel","","placeholder","Email","id","emai","type","email",1,"input-field",3,"ngModel","ngModelChange"],["name","nombre","ngModel","","placeholder","Nombre","id","nombre","type","nombre",1,"input-field",3,"ngModel","ngModelChange"],["name","telefono","ngModel","","placeholder","Telefono","id","telefono","type","telefono",1,"input-field",3,"ngModel","ngModelChange"],["name","direccion","ngModel","","placeholder","Direccion","id","direccion","type","direccion",1,"input-field",3,"ngModel","ngModelChange"],[1,"boton"]],template:function(i,r){if(1&i){const o=It();g(0,"p"),w(1,"perfil-edit works!"),p(),g(2,"h1",0),w(3," Editar Perfil"),p(),g(4,"div",1)(5,"form",2,3),ee("ngSubmit",function(){Le(o);const a=In(6);return Ve(r.handleRegister(a.value))}),g(7,"div",4)(8,"div",5)(9,"span",6),w(10,"Email:"),p(),g(11,"input",7),ot("ngModelChange",function(a){return ut(r.item.email,a)||(r.item.email=a),a}),p()(),g(12,"div",5)(13,"span",6),w(14,"Nombre:"),p(),g(15,"input",8),ot("ngModelChange",function(a){return ut(r.item.nombre,a)||(r.item.nombre=a),a}),p()(),g(16,"div",5)(17,"span",6),w(18,"Telefono:"),p(),g(19,"input",9),ot("ngModelChange",function(a){return ut(r.item.telefono,a)||(r.item.telefono=a),a}),p()(),g(20,"div",5)(21,"span",6),w(22,"Direccion:"),p(),g(23,"input",10),ot("ngModelChange",function(a){return ut(r.item.direccion,a)||(r.item.direccion=a),a}),p()(),g(24,"button",11),w(25,"Editar Cliente"),p()()()()}2&i&&(H(11),rt("ngModel",r.item.email),H(4),rt("ngModel",r.item.nombre),H(4),rt("ngModel",r.item.telefono),H(4),rt("ngModel",r.item.direccion))},dependencies:[ni,tr,Rr,ti,br,kn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:30%;flex-shrink:0;position:absolute;left:15%;top:30%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:3%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:85%;height:20px;left:92px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:35%;top:20%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#A6A6A6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:80%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:50%;flex-shrink:0;position:absolute;left:15%;top:30%}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:75%;top:110%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}return n})()}]}];let a2e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=et({type:n});static#n=this.\u0275inj=Ze({imports:[Bo.forChild(s2e),Bo]})}return n})(),c2e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=et({type:n});static#n=this.\u0275inj=Ze({imports:[a2e,RW,za,Sy,t2,Bo]})}return n})();const l2e=["*",[["mat-toolbar-row"]]],u2e=["*","mat-toolbar-row"];let d2e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=be({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"],standalone:!0})}return n})(),h2e=(()=>{class n{constructor(t,i,r){this._elementRef=t,this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}static#e=this.\u0275fac=function(i){return new(i||n)(E(an),E(Si),E(dt))};static#t=this.\u0275cmp=Me({type:n,selectors:[["mat-toolbar"]],contentQueries:function(i,r,o){if(1&i&&P1(o,d2e,5),2&i){let s;Cn(s=En())&&(r._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(i,r){2&i&&(Lb(r.color?"mat-"+r.color:""),uo("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length))},inputs:{color:"color"},exportAs:["matToolbar"],standalone:!0,features:[No],ngContentSelectors:u2e,decls:2,vars:0,template:function(i,r){1&i&&(il(l2e),Pr(0),Pr(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color:var(--mat-toolbar-container-text-color);--mdc-outlined-button-label-text-color:var(--mat-toolbar-container-text-color)}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0})}return n})(),f2e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=et({type:n});static#n=this.\u0275inj=Ze({imports:[zr,zr]})}return n})();const p2e=["mat-button",""],g2e=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],m2e=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],b2e=["mat-icon-button",""],y2e=["*"],v2e=new Y("MAT_BUTTON_CONFIG"),w2e=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}];let lX=(()=>{class n{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(t){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,t)}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=t,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._updateRippleDisabled()}constructor(t,i,r,o){this._elementRef=t,this._platform=i,this._ngZone=r,this._animationMode=o,this._focusMonitor=J(r2),this._rippleLoader=J(_Ne),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;const s=J(v2e,{optional:!0}),a=t.nativeElement,c=a.classList;this.disabledInteractive=s?.disabledInteractive??!1,this._rippleLoader?.configureRipple(a,{className:"mat-mdc-button-ripple"});for(const{attribute:l,mdcClasses:u}of w2e)a.hasAttribute(l)&&c.add(...u)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(t="program",i){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,i):this._elementRef.nativeElement.focus(i)}_getAriaDisabled(){return null!=this.ariaDisabled?this.ariaDisabled:!(!this.disabled||!this.disabledInteractive)||null}_getDisabledAttribute(){return!(this.disabledInteractive||!this.disabled)||null}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function(i){bE()};static#t=this.\u0275dir=be({type:n,inputs:{color:"color",disableRipple:[ct.HasDecoratorInputTransform,"disableRipple","disableRipple",ls],disabled:[ct.HasDecoratorInputTransform,"disabled","disabled",ls],ariaDisabled:[ct.HasDecoratorInputTransform,"aria-disabled","ariaDisabled",ls],disabledInteractive:[ct.HasDecoratorInputTransform,"disabledInteractive","disabledInteractive",ls]},features:[r1]})}return n})(),x2e=(()=>{class n extends lX{constructor(t,i,r,o){super(t,i,r,o)}static#e=this.\u0275fac=function(i){return new(i||n)(E(an),E(Si),E(Te),E(Hc,8))};static#t=this.\u0275cmp=Me({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(i,r){2&i&&(kr("disabled",r._getDisabledAttribute())("aria-disabled",r._getAriaDisabled()),Lb(r.color?"mat-"+r.color:""),uo("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[wt,No],attrs:p2e,ngContentSelectors:m2e,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(il(g2e),ie(0,"span",0),Pr(1),g(2,"span",1),Pr(3,1),p(),Pr(4,2),ie(5,"span",2)(6,"span",3)),2&i&&uo("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px);display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);font-weight:var(--mdc-text-button-label-text-weight);text-transform:var(--mdc-text-button-label-text-transform);height:var(--mdc-text-button-container-height);border-radius:var(--mdc-text-button-container-shape);padding:0 var(--mat-text-button-horizontal-padding, 8px)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);font-weight:var(--mdc-filled-button-label-text-weight);text-transform:var(--mdc-filled-button-label-text-transform);height:var(--mdc-filled-button-container-height);border-radius:var(--mdc-filled-button-container-shape);padding:0 var(--mat-filled-button-horizontal-padding, 16px)}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color)}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);font-weight:var(--mdc-protected-button-label-text-weight);text-transform:var(--mdc-protected-button-label-text-transform);height:var(--mdc-protected-button-container-height);border-radius:var(--mdc-protected-button-container-shape);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow)}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color)}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);font-weight:var(--mdc-outlined-button-label-text-weight);text-transform:var(--mdc-outlined-button-label-text-transform);height:var(--mdc-outlined-button-container-height);border-radius:var(--mdc-outlined-button-container-shape);padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width);padding:0 var(--mat-outlined-button-horizontal-padding, 15px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color)}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape)}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width))}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button-base{text-decoration:none}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return n})(),E2e=(()=>{class n extends lX{constructor(t,i,r,o){super(t,i,r,o),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static#e=this.\u0275fac=function(i){return new(i||n)(E(an),E(Si),E(Te),E(Hc,8))};static#t=this.\u0275cmp=Me({type:n,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(i,r){2&i&&(kr("disabled",r._getDisabledAttribute())("aria-disabled",r._getAriaDisabled()),Lb(r.color?"mat-"+r.color:""),uo("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[wt,No],attrs:b2e,ngContentSelectors:y2e,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(il(),ie(0,"span",0),Pr(1),ie(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{color:var(--mdc-icon-button-icon-color)}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 48px);height:var(--mdc-icon-button-state-layer-size, 48px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 48px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size);-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color)}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color)}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color)}.mat-mdc-icon-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity)}.mat-mdc-icon-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity)}.mat-mdc-icon-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity)}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return n})(),I2e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=et({type:n});static#n=this.\u0275inj=Ze({imports:[zr,mNe,zr]})}return n})();function T2e(n,e){if(1&n){const t=It();g(0,"mat-toolbar",1)(1,"button",2),ee("click",function(){return Le(t),Ve(cn().installPwa())}),w(2," Agregar a Inicio "),p(),g(3,"button",3),ee("click",function(){return Le(t),Ve(cn().close())}),w(4," Cerrar "),p()()}}let D2e=(()=>{class n{constructor(t,i){this.data=t,this.bottomSheetRef=i}installPwa(){this.data.promptEvent.prompt(),this.close()}close(){this.bottomSheetRef.dismiss()}static#e=this.\u0275fac=function(i){return new(i||n)(E(JY),E(x2))};static#t=this.\u0275cmp=Me({type:n,selectors:[["app-prompt"]],decls:1,vars:1,consts:[["color","primary","class","android-prompt",4,"ngIf"],["color","primary",1,"android-prompt"],["mat-button","",1,"install",3,"click"],["mat-icon-button","",1,"close",3,"click"]],template:function(i,r){1&i&&Zn(0,T2e,5,0,"mat-toolbar",0),2&i&&Jn("ngIf","android"===r.data.mobileType)},dependencies:[h2e,x2e,E2e,mI],styles:[".mat-bottom-sheet-container{--mat-bottom-sheet-container-background-color: white!important;--mat-bottom-sheet-container-text-color: rgba(0, 0, 0, .87) !important;padding:3vh 2px!important;min-width:95vw!important;min-height:15vh!important;margin:0 auto;box-sizing:border-box!important;display:block!important}.android-prompt[_ngcontent-%COMP%]{position:inherit;padding:1vh 2px!important;display:flex;justify-content:space-between;align-items:center}.android-prompt[_ngcontent-%COMP%]   .install[_ngcontent-%COMP%]{background-color:#4c8bf5;color:#fff;border-radius:5px;margin:5px;padding:5px 10px;font-family:Arial;text-align:center;font-size:18px}.android-prompt[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{background-color:#fff;color:#4c8bf5;border-radius:5px;border:5px;margin:5px;padding:5px 10px;font-family:Arial;text-align:center;font-size:18px;min-width:75px}.ios-prompt[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;align-items:center}.ios-prompt[_ngcontent-%COMP%]   .close-ios-inv[_ngcontent-%COMP%]{position:absolute;right:0;top:0}.ios-prompt[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{text-align:center;padding:10px 25px 0}.ios-prompt[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{position:relative;top:-7px}.ios-prompt[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:inline}"]})}return n})(),M2e=(()=>{class n{constructor(t,i){this.bottomSheet=t,this.platform=i}initPwaPrompt(){this.platform.ANDROID&&(console.log("android"),window.addEventListener("beforeinstallprompt",t=>{t.preventDefault(),this.promptEvent=t,this.openPromptComponent("android")}))}openPromptComponent(t){a2(2e3).pipe($n(1)).subscribe(()=>this.bottomSheet.open(D2e,{data:{mobileType:t,promptEvent:this.promptEvent}}))}static#e=this.\u0275fac=function(i){return new(i||n)($(eX),$(Si))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),PX=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=et({type:n});static#n=this.\u0275inj=Ze({imports:[zr,zr]})}return n})(),mFe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=et({type:n});static#n=this.\u0275inj=Ze({imports:[zr,za,zr]})}return n})();function RX(n){return new z(3e3,!1)}function Rc(n){switch(n.length){case 0:return new Qm;case 1:return n[0];default:return new PY(n)}}function NX(n,e,t=new Map,i=new Map){const r=[],o=[];let s=-1,a=null;if(e.forEach(c=>{const l=c.get("offset"),u=l==s,d=u&&a||new Map;c.forEach((h,f)=>{let _=f,C=h;if("offset"!==f)switch(_=n.normalizePropertyName(_,r),C){case"!":C=t.get(f);break;case va:C=i.get(f);break;default:C=n.normalizeStyleValue(f,_,C,r)}d.set(_,C)}),u||o.push(d),a=d,s=l}),r.length)throw function BFe(n){return new z(3502,!1)}();return o}function P2(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&R2(t,"start",n)));break;case"done":n.onDone(()=>i(t&&R2(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&R2(t,"destroy",n)))}}function R2(n,e,t){const o=N2(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),s=n._data;return null!=s&&(o._data=s),o}function N2(n,e,t,i,r="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function no(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function FX(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}const XFe=(()=>typeof document>"u"?null:document.documentElement)();function F2(n){const e=n.parentNode||n.host||null;return e===XFe?null:e}let au=null,LX=!1;function VX(n,e){for(;e;){if(e===n)return!0;e=F2(e)}return!1}function BX(n,e,t){if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]}let L2=(()=>{class n{validateStyleProperty(t){return function JFe(n){au||(au=function eLe(){return typeof document<"u"?document.body:null}()||{},LX=!!au.style&&"WebkitAppearance"in au.style);let e=!0;return au.style&&!function ZFe(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in au.style,!e&&LX&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in au.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return VX(t,i)}getParentElement(t){return F2(t)}query(t,i,r){return BX(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,o,s,a=[],c){return new Qm(r,o)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac})}return n})();class V2{static#e=this.NOOP=new L2}class B2{}const nLe=1e3,U2="ng-enter",px="ng-leave",gx="ng-trigger",mx=".ng-trigger",zX="ng-animating",z2=".ng-animating";function xa(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:j2(parseFloat(e[1]),e[2])}function j2(n,e){return"s"===e?n*nLe:n}function _x(n,e,t){return n.hasOwnProperty("duration")?n:function rLe(n,e,t){let r,o=0,s="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(RX()),{duration:0,delay:0,easing:""};r=j2(parseFloat(a[1]),a[2]);const c=a[3];null!=c&&(o=j2(parseFloat(c),a[4]));const l=a[5];l&&(s=l)}else r=n;if(!t){let a=!1,c=e.length;r<0&&(e.push(function _Fe(){return new z(3100,!1)}()),a=!0),o<0&&(e.push(function bFe(){return new z(3101,!1)}()),a=!0),a&&e.splice(c,0,RX())}return{duration:r,delay:o,easing:s}}(n,e,t)}function Ns(n,e,t){e.forEach((i,r)=>{const o=$2(r);t&&!t.has(r)&&t.set(r,n.style[o]),n.style[o]=i})}function cu(n,e){e.forEach((t,i)=>{const r=$2(i);n.style[r]=""})}function t_(n){return Array.isArray(n)?1==n.length?n[0]:function ZRe(n,e=null){return{type:Re.Sequence,steps:n,options:e}}(n):n}const H2=new RegExp("{{\\s*(.+?)\\s*}}","g");function HX(n){let e=[];if("string"==typeof n){let t;for(;t=H2.exec(n);)e.push(t[1]);H2.lastIndex=0}return e}function n_(n,e,t){const i=`${n}`,r=i.replace(H2,(o,s)=>{let a=e[s];return null==a&&(t.push(function vFe(n){return new z(3003,!1)}()),a=""),a.toString()});return r==i?n:r}const aLe=/-+([a-z0-9])/g;function $2(n){return n.replace(aLe,(...e)=>e[1].toUpperCase())}function io(n,e,t){switch(e.type){case Re.Trigger:return n.visitTrigger(e,t);case Re.State:return n.visitState(e,t);case Re.Transition:return n.visitTransition(e,t);case Re.Sequence:return n.visitSequence(e,t);case Re.Group:return n.visitGroup(e,t);case Re.Animate:return n.visitAnimate(e,t);case Re.Keyframes:return n.visitKeyframes(e,t);case Re.Style:return n.visitStyle(e,t);case Re.Reference:return n.visitReference(e,t);case Re.AnimateChild:return n.visitAnimateChild(e,t);case Re.AnimateRef:return n.visitAnimateRef(e,t);case Re.Query:return n.visitQuery(e,t);case Re.Stagger:return n.visitStagger(e,t);default:throw function wFe(n){return new z(3004,!1)}()}}function G2(n,e){return window.getComputedStyle(n)[e]}const uLe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class $X extends B2{normalizePropertyName(e,t){return $2(e)}normalizeStyleValue(e,t,i,r){let o="";const s=i.toString().trim();if(uLe.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function xFe(n,e){return new z(3005,!1)}())}return s+o}}const bx="*";const yx=new Set(["true","1"]),vx=new Set(["false","0"]);function GX(n,e){const t=yx.has(n)||vx.has(n),i=yx.has(e)||vx.has(e);return(r,o)=>{let s=n==bx||n==r,a=e==bx||e==o;return!s&&t&&"boolean"==typeof r&&(s=r?yx.has(n):vx.has(n)),!a&&i&&"boolean"==typeof o&&(a=o?yx.has(e):vx.has(e)),s&&a}}const pLe=new RegExp("s*:selfs*,?","g");function q2(n,e,t,i){return new gLe(n).build(e,t,i)}class gLe{constructor(e){this._driver=e}build(e,t,i){const r=new bLe(t);return this._resetContextStyleTimingState(r),io(this,t_(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const o=[],s=[];return"@"==e.name.charAt(0)&&t.errors.push(function CFe(){return new z(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==Re.State){const c=a,l=c.name;l.toString().split(/\s*,\s*/).forEach(u=>{c.name=u,o.push(this.visitState(c,t))}),c.name=l}else if(a.type==Re.Transition){const c=this.visitTransition(a,t);i+=c.queryCount,r+=c.depCount,s.push(c)}else t.errors.push(function EFe(){return new z(3007,!1)}())}),{type:Re.Trigger,name:e.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const o=new Set,s=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{HX(c).forEach(l=>{s.hasOwnProperty(l)||o.add(l)})})}),o.size&&t.errors.push(function IFe(n,e){return new z(3008,!1)}(0,o.values()))}return{type:Re.State,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=io(this,t_(e.animation),t),r=function dLe(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function hLe(n,e,t){if(":"==n[0]){const c=function fLe(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function NFe(n){return new z(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof c)return void e.push(c);n=c}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function RFe(n){return new z(3015,!1)}()),e;const r=i[1],o=i[2],s=i[3];e.push(GX(r,s)),"<"==o[0]&&(r!=bx||s!=bx)&&e.push(GX(s,r))}(i,t,e)):t.push(n),t}(e.expr,t.errors);return{type:Re.Transition,matchers:r,animation:i,queryCount:t.queryCount,depCount:t.depCount,options:lu(e.options)}}visitSequence(e,t){return{type:Re.Sequence,steps:e.steps.map(i=>io(this,i,t)),options:lu(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const o=e.steps.map(s=>{t.currentTime=i;const a=io(this,s,t);return r=Math.max(r,t.currentTime),a});return t.currentTime=r,{type:Re.Group,steps:o,options:lu(e.options)}}visitAnimate(e,t){const i=function vLe(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return W2(_x(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=W2(0,0,"");return o.dynamic=!0,o.strValue=t,o}const r=_x(t,e);return W2(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,o=e.styles?e.styles:qh({});if(o.type==Re.Keyframes)r=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;const l={};i.easing&&(l.easing=i.easing),s=qh(l)}t.currentTime+=i.duration+i.delay;const c=this.visitStyle(s,t);c.isEmptyStep=a,r=c}return t.currentAnimateTimings=null,{type:Re.Animate,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of r)"string"==typeof a?a===va?i.push(a):t.errors.push(new z(3002,!1)):i.push(new Map(Object.entries(a)));let o=!1,s=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o))for(let c of a.values())if(c.toString().indexOf("{{")>=0){o=!0;break}}),{type:Re.Style,styles:i,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,o=t.currentTime;i&&o>0&&(o-=i.duration+i.delay),e.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,c)=>{const l=t.collectedStyles.get(t.currentQuerySelector),u=l.get(c);let d=!0;u&&(o!=r&&o>=u.startTime&&r<=u.endTime&&(t.errors.push(function DFe(n,e,t,i,r){return new z(3010,!1)}()),d=!1),o=u.startTime),d&&l.set(c,{startTime:o,endTime:r}),t.options&&function sLe(n,e,t){const i=e.params||{},r=HX(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||t.push(function yFe(n){return new z(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:Re.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function MFe(){return new z(3011,!1)}()),i;let o=0;const s=[];let a=!1,c=!1,l=0;const u=e.steps.map(O=>{const M=this._makeStyleAst(O,t);let B=null!=M.offset?M.offset:function yLe(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(M.styles),Q=0;return null!=B&&(o++,Q=M.offset=B),c=c||Q<0||Q>1,a=a||Q<l,l=Q,s.push(Q),M});c&&t.errors.push(function AFe(){return new z(3012,!1)}()),a&&t.errors.push(function SFe(){return new z(3200,!1)}());const d=e.steps.length;let h=0;o>0&&o<d?t.errors.push(function kFe(){return new z(3202,!1)}()):0==o&&(h=1/(d-1));const f=d-1,_=t.currentTime,C=t.currentAnimateTimings,I=C.duration;return u.forEach((O,M)=>{const B=h>0?M==f?1:h*M:s[M],Q=B*I;t.currentTime=_+C.delay+Q,C.duration=Q,this._validateStyleAst(O,t),O.offset=B,i.styles.push(O)}),i}visitReference(e,t){return{type:Re.Reference,animation:io(this,t_(e.animation),t),options:lu(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:Re.AnimateChild,options:lu(e.options)}}visitAnimateRef(e,t){return{type:Re.AnimateRef,animation:this.visitReference(e.animation,t),options:lu(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[o,s]=function mLe(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(pLe,"")),n=n.replace(/@\*/g,mx).replace(/@\w+/g,t=>mx+"-"+t.slice(1)).replace(/:animating/g,z2),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+o:o,no(t.collectedStyles,t.currentQuerySelector,new Map);const a=io(this,t_(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:Re.Query,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:lu(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function OFe(){return new z(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:_x(e.timings,t.errors,!0);return{type:Re.Stagger,animation:io(this,t_(e.animation),t),timings:i,options:null}}}class bLe{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function lu(n){return n?(n={...n}).params&&(n.params=function _Le(n){return n?{...n}:null}(n.params)):n={},n}function W2(n,e,t){return{duration:n,delay:e,easing:t}}function K2(n,e,t,i,r,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}class wx{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const CLe=new RegExp(":enter","g"),ILe=new RegExp(":leave","g");function Q2(n,e,t,i,r,o=new Map,s=new Map,a,c,l=[]){return(new TLe).buildKeyframes(n,e,t,i,r,o,s,a,c,l)}class TLe{buildKeyframes(e,t,i,r,o,s,a,c,l,u=[]){l=l||new wx;const d=new Y2(e,t,l,r,o,u,[]);d.options=c;const h=c.delay?xa(c.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([s],null,d.errors,c),io(this,i,d);const f=d.timelines.filter(_=>_.containsAnimation());if(f.length&&a.size){let _;for(let C=f.length-1;C>=0;C--){const I=f[C];if(I.element===t){_=I;break}}_&&!_.allowOnlyTimelineStyles()&&_.setStyles([a],null,d.errors,c)}return f.length?f.map(_=>_.buildKeyframes()):[K2(t,[],[],[],0,h,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const o=r?.delay;if(o){const s="number"==typeof o?o:xa(n_(o,r?.params??{},t.errors));i.delayNextStep(s)}}}_visitSubInstructions(e,t,i){let o=t.currentTimeline.currentTime;const s=null!=i.duration?xa(i.duration):null,a=null!=i.delay?xa(i.delay):null;return 0!==s&&e.forEach(c=>{const l=t.appendInstructionToTimeline(c,s,a);o=Math.max(o,l.duration+l.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),io(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const o=e.options;if(o&&(o.params||o.delay)&&(r=t.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){r.previousNode.type==Re.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=xx);const s=xa(o.delay);r.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>io(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const o=e.options&&e.options.delay?xa(e.options.delay):0;e.steps.forEach(s=>{const a=t.createSubContext(e.options);o&&a.delayNextStep(o),io(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return _x(t.params?n_(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const o=e.style;o.type==Re.Keyframes?this.visitKeyframes(o,t):(t.incrementTime(i.duration),this.visitStyle(o,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(o):i.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,o=i.duration,a=t.createSubContext().currentTimeline;a.easing=i.easing,e.styles.forEach(c=>{a.forwardTime((c.offset||0)*o),a.setStyles(c.styles,c.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(r+o),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},o=r.delay?xa(r.delay):0;o&&(t.previousNode.type===Re.Style||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=xx);let s=i;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=a.length;let c=null;a.forEach((l,u)=>{t.currentQueryIndex=u;const d=t.createSubContext(e.options,l);o&&d.delayNextStep(o),l===t.element&&(c=d.currentTimeline),io(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,d.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),c&&(t.currentTimeline.mergeTimelineCollectedStyles(c),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1);let c=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=i.currentStaggerTime}const u=t.currentTimeline;c&&u.delayNextStep(c);const d=u.currentTime;io(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-d+(r.startTime-i.currentTimeline.startTime)}}const xx={};class Y2{constructor(e,t,i,r,o,s,a,c){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=xx,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new Cx(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=xa(i.duration)),null!=i.delay&&(r.delay=xa(i.delay));const o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=n_(o[a],s,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,o=new Y2(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=xx,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},o=new DLe(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,o,s){let a=[];if(r&&a.push(this.element),e.length>0){e=(e=e.replace(CLe,"."+this._enterClassName)).replace(ILe,"."+this._leaveClassName);let l=this._driver.query(this.element,e,1!=i);0!==i&&(l=i<0?l.slice(l.length+i,l.length):l.slice(0,i)),a.push(...l)}return!o&&0==a.length&&s.push(function PFe(n){return new z(3014,!1)}()),a}}class Cx{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Cx(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||va),this._currentKeyframe.set(t,va);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const o=r&&r.params||{},s=function MLe(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i??=e.keys();for(let o of i)t.set(o,va)}else for(let[o,s]of r)t.set(o,s)}),t}(e,this._globalTimelineStyles);for(let[a,c]of s){const l=n_(c,o,i);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??va),this._updateStyle(a,l)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,c)=>{const l=new Map([...this._backFill,...a]);l.forEach((u,d)=>{"!"===u?e.add(d):u===va&&t.add(d)}),i||l.set("offset",c/this.duration),r.push(l)});const o=[...e.values()],s=[...t.values()];if(i){const a=r[0],c=new Map(a);a.set("offset",0),c.set("offset",1),r=[a,c]}return K2(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}}class DLe extends Cx{constructor(e,t,i,r,o,s,a=!1){super(e,t,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const o=[],s=i+t,a=t/s,c=new Map(e[0]);c.set("offset",0),o.push(c);const l=new Map(e[0]);l.set("offset",KX(a)),o.push(l);const u=e.length-1;for(let d=1;d<=u;d++){let h=new Map(e[d]);const f=h.get("offset");h.set("offset",KX((t+f*i)/s)),o.push(h)}i=s,t=0,r="",e=o}return K2(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function KX(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}function QX(n,e,t,i,r,o,s,a,c,l,u,d,h){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:u,totalTime:d,errors:h}}const X2={};class YX{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function ALe(n,e,t,i,r){return n.some(o=>o(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,o,s,a,c,l,u){const d=[],h=this.ast.options&&this.ast.options.params||X2,_=this.buildStyles(i,a&&a.params||X2,d),C=c&&c.params||X2,I=this.buildStyles(r,C,d),O=new Set,M=new Map,B=new Map,Q="void"===r,ae={params:XX(C,h),delay:this.ast.options?.delay},fe=u?[]:Q2(e,t,this.ast.animation,o,s,_,I,ae,l,d);let $e=0;return fe.forEach(gt=>{$e=Math.max(gt.duration+gt.delay,$e)}),d.length?QX(t,this._triggerName,i,r,Q,_,I,[],[],M,B,$e,d):(fe.forEach(gt=>{const ai=gt.element,Ki=no(M,ai,new Set);gt.preStyleProps.forEach(ro=>Ki.add(ro));const Qh=no(B,ai,new Set);gt.postStyleProps.forEach(ro=>Qh.add(ro)),ai!==t&&O.add(ai)}),QX(t,this._triggerName,i,r,Q,_,I,fe,[...O.values()],M,B,$e))}}function XX(n,e){const t={...e};return Object.entries(n).forEach(([i,r])=>{null!=r&&(t[i]=r)}),t}class SLe{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=XX(e,this.defaultParams);return this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,a)=>{s&&(s=n_(s,r,t));const c=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,c,s,t),i.set(a,s)})}),i}}class OLe{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new SLe(r.style,r.options&&r.options.params||{},i))}),ZX(this.states,"true","1"),ZX(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new YX(e,r,this.states))}),this.fallbackTransition=function PLe(n,e,t){return new YX(n,{type:Re.Transition,animation:{type:Re.Sequence,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(s=>s.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function ZX(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const RLe=new wx;class NLe{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],o=q2(this._driver,t,i,[]);if(i.length)throw function UFe(n){return new z(3503,!1)}();this._animations.set(e,o)}_buildPlayer(e,t,i){const r=e.element,o=NX(this._normalizer,e.keyframes,t,i);return this._driver.animate(r,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],o=this._animations.get(e);let s;const a=new Map;if(o?(s=Q2(this._driver,t,o,U2,px,new Map,new Map,i,RLe,r),s.forEach(u=>{const d=no(a,u.element,new Map);u.postStyleProps.forEach(h=>d.set(h,null))})):(r.push(function zFe(){return new z(3300,!1)}()),s=[]),r.length)throw function jFe(n){return new z(3504,!1)}();a.forEach((u,d)=>{u.forEach((h,f)=>{u.set(f,this._driver.computeStyle(d,f,va))})});const l=Rc(s.map(u=>{const d=a.get(u.element);return this._buildPlayer(u,new Map,d)}));return this._playersById.set(e,l),l.onDestroy(()=>this.destroy(e)),this.players.push(l),l}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function HFe(n){return new z(3301,!1)}();return t}listen(e,t,i,r){const o=N2(t,"","","");return P2(this._getPlayer(e),i,o,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const o=this._getPlayer(e);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const JX="ng-animate-queued",Z2="ng-animate-disabled",ULe=[],eZ={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},zLe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Wo="__ng_removed";class J2{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function GLe(n){return n??null}(i?e.value:e),i){const{value:o,...s}=e;this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const i_="void",eF=new J2(i_);class jLe{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,xo(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function $Fe(n,e){return new z(3302,!1)}();if(null==i||0==i.length)throw function GFe(n){return new z(3303,!1)}();if(!function qLe(n){return"start"==n||"done"==n}(i))throw function qFe(n,e){return new z(3400,!1)}();const o=no(this._elementListeners,e,[]),s={name:t,phase:i,callback:r};o.push(s);const a=no(this._engine.statesByElement,e,new Map);return a.has(t)||(xo(e,gx),xo(e,gx+"-"+t),a.set(t,eF)),()=>{this._engine.afterFlush(()=>{const c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function WFe(n){return new z(3401,!1)}();return t}trigger(e,t,i,r=!0){const o=this._getTrigger(t),s=new tF(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(xo(e,gx),xo(e,gx+"-"+t),this._engine.statesByElement.set(e,a=new Map));let c=a.get(t);const l=new J2(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&c&&l.absorbOptions(c.options),a.set(t,l),c||(c=eF),l.value!==i_&&c.value===l.value){if(!function QLe(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const o=t[r];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}(c.params,l.params)){const C=[],I=o.matchStyles(c.value,c.params,C),O=o.matchStyles(l.value,l.params,C);C.length?this._engine.reportError(C):this._engine.afterFlush(()=>{cu(e,I),Ns(e,O)})}return}const h=no(this._engine.playersByElement,e,[]);h.forEach(C=>{C.namespaceId==this.id&&C.triggerName==t&&C.queued&&C.destroy()});let f=o.matchTransition(c.value,l.value,e,l.params),_=!1;if(!f){if(!r)return;f=o.fallbackTransition,_=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:f,fromState:c,toState:l,player:s,isFallbackTransition:_}),_||(xo(e,JX),s.onStart(()=>{Kh(e,JX)})),s.onDone(()=>{let C=this.players.indexOf(s);C>=0&&this.players.splice(C,1);const I=this._engine.playersByElement.get(e);if(I){let O=I.indexOf(s);O>=0&&I.splice(O,1)}}),this.players.push(s),h.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,mx,!0);i.forEach(r=>{if(r[Wo])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const o=this._engine.statesByElement.get(e),s=new Map;if(o){const a=[];if(o.forEach((c,l)=>{if(s.set(l,c.value),this._triggers.has(l)){const u=this.trigger(e,l,i_,r);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),i&&Rc(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(o=>{const s=o.name;if(r.has(s))return;r.add(s);const c=this._triggers.get(s).fallbackTransition,l=i.get(s)||eF,u=new J2(i_),d=new tF(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:c,fromState:l,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(e):[];if(o&&o.length)r=!0;else{let s=e;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const o=e[Wo];(!o||o===eZ)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){xo(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==i.triggerName){const c=N2(o,i.triggerName,i.fromState.value,i.toState.value);c._data=e,P2(i.player,a.phase,c,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const o=i.transition.ast.depCount,s=r.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class HLe{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i,r){this.bodyNode=e,this.driver=t,this._normalizer=i,this.scheduler=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new jLe(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){const c=r.get(a);if(c){const l=i.indexOf(c);i.splice(l+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&t.add(o)}return t}trigger(e,t,i,r){if(Ex(t)){const o=this._fetchNamespace(e);if(o)return o.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!Ex(t))return;const o=t[Wo];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){const s=this._fetchNamespace(e);s&&s.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),xo(e,Z2)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Kh(e,Z2))}removeNode(e,t,i){if(Ex(t)){this.scheduler?.notify();const r=e?this._fetchNamespace(e):null;r?r.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i);const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,i)}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,i,r,o){this.collectedLeaveElements.push(t),t[Wo]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,i,r,o){return Ex(t)?this._fetchNamespace(e).listen(t,i,r,o):()=>{}}_buildInstruction(e,t,i,r,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,mx,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,z2,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Rc(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Wo];if(t&&t.setForRemoval){if(e[Wo]=eZ,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(Z2)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)xo(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?Rc(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function KFe(n){return new z(3402,!1)}()}_flushAnimations(e,t){const i=new wx,r=[],o=new Map,s=[],a=new Map,c=new Map,l=new Map,u=new Set;this.disabledNodes.forEach(_e=>{u.add(_e);const ye=this.driver.query(_e,".ng-animate-queued",!0);for(let Ce=0;Ce<ye.length;Ce++)u.add(ye[Ce])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=iZ(h,this.collectedEnterElements),_=new Map;let C=0;f.forEach((_e,ye)=>{const Ce=U2+C++;_.set(ye,Ce),_e.forEach(yt=>xo(yt,Ce))});const I=[],O=new Set,M=new Set;for(let _e=0;_e<this.collectedLeaveElements.length;_e++){const ye=this.collectedLeaveElements[_e],Ce=ye[Wo];Ce&&Ce.setForRemoval&&(I.push(ye),O.add(ye),Ce.hasAnimation?this.driver.query(ye,".ng-star-inserted",!0).forEach(yt=>O.add(yt)):M.add(ye))}const B=new Map,Q=iZ(h,Array.from(O));Q.forEach((_e,ye)=>{const Ce=px+C++;B.set(ye,Ce),_e.forEach(yt=>xo(yt,Ce))}),e.push(()=>{f.forEach((_e,ye)=>{const Ce=_.get(ye);_e.forEach(yt=>Kh(yt,Ce))}),Q.forEach((_e,ye)=>{const Ce=B.get(ye);_e.forEach(yt=>Kh(yt,Ce))}),I.forEach(_e=>{this.processLeaveNode(_e)})});const ae=[],fe=[];for(let _e=this._namespaceList.length-1;_e>=0;_e--)this._namespaceList[_e].drainQueuedTransitions(t).forEach(Ce=>{const yt=Ce.player,Pi=Ce.element;if(ae.push(yt),this.collectedEnterElements.length){const lr=Pi[Wo];if(lr&&lr.setForMove){if(lr.previousTriggersValues&&lr.previousTriggersValues.has(Ce.triggerName)){const hu=lr.previousTriggersValues.get(Ce.triggerName),Co=this.statesByElement.get(Ce.element);if(Co&&Co.has(Ce.triggerName)){const Tx=Co.get(Ce.triggerName);Tx.value=hu,Co.set(Ce.triggerName,Tx)}}return void yt.destroy()}}const Fs=!d||!this.driver.containsElement(d,Pi),oo=B.get(Pi),Nc=_.get(Pi),An=this._buildInstruction(Ce,i,Nc,oo,Fs);if(An.errors&&An.errors.length)return void fe.push(An);if(Fs)return yt.onStart(()=>cu(Pi,An.fromStyles)),yt.onDestroy(()=>Ns(Pi,An.toStyles)),void r.push(yt);if(Ce.isFallbackTransition)return yt.onStart(()=>cu(Pi,An.fromStyles)),yt.onDestroy(()=>Ns(Pi,An.toStyles)),void r.push(yt);const hZ=[];An.timelines.forEach(lr=>{lr.stretchStartingKeyframe=!0,this.disabledNodes.has(lr.element)||hZ.push(lr)}),An.timelines=hZ,i.append(Pi,An.timelines),s.push({instruction:An,player:yt,element:Pi}),An.queriedElements.forEach(lr=>no(a,lr,[]).push(yt)),An.preStyleProps.forEach((lr,hu)=>{if(lr.size){let Co=c.get(hu);Co||c.set(hu,Co=new Set),lr.forEach((Tx,rF)=>Co.add(rF))}}),An.postStyleProps.forEach((lr,hu)=>{let Co=l.get(hu);Co||l.set(hu,Co=new Set),lr.forEach((Tx,rF)=>Co.add(rF))})});if(fe.length){const _e=[];fe.forEach(ye=>{_e.push(function QFe(n,e){return new z(3505,!1)}())}),ae.forEach(ye=>ye.destroy()),this.reportError(_e)}const $e=new Map,gt=new Map;s.forEach(_e=>{const ye=_e.element;i.has(ye)&&(gt.set(ye,ye),this._beforeAnimationBuild(_e.player.namespaceId,_e.instruction,$e))}),r.forEach(_e=>{const ye=_e.element;this._getPreviousPlayers(ye,!1,_e.namespaceId,_e.triggerName,null).forEach(yt=>{no($e,ye,[]).push(yt),yt.destroy()})});const ai=I.filter(_e=>oZ(_e,c,l)),Ki=new Map;nZ(Ki,this.driver,M,l,va).forEach(_e=>{oZ(_e,c,l)&&ai.push(_e)});const ro=new Map;f.forEach((_e,ye)=>{nZ(ro,this.driver,new Set(_e),c,"!")}),ai.forEach(_e=>{const ye=Ki.get(_e),Ce=ro.get(_e);Ki.set(_e,new Map([...ye?.entries()??[],...Ce?.entries()??[]]))});const Vt=[],uu=[],du={};s.forEach(_e=>{const{element:ye,player:Ce,instruction:yt}=_e;if(i.has(ye)){if(u.has(ye))return Ce.onDestroy(()=>Ns(ye,yt.toStyles)),Ce.disabled=!0,Ce.overrideTotalTime(yt.totalTime),void r.push(Ce);let Pi=du;if(gt.size>1){let oo=ye;const Nc=[];for(;oo=oo.parentNode;){const An=gt.get(oo);if(An){Pi=An;break}Nc.push(oo)}Nc.forEach(An=>gt.set(An,Pi))}const Fs=this._buildAnimation(Ce.namespaceId,yt,$e,o,ro,Ki);if(Ce.setRealPlayer(Fs),Pi===du)Vt.push(Ce);else{const oo=this.playersByElement.get(Pi);oo&&oo.length&&(Ce.parentPlayer=Rc(oo)),r.push(Ce)}}else cu(ye,yt.fromStyles),Ce.onDestroy(()=>Ns(ye,yt.toStyles)),uu.push(Ce),u.has(ye)&&r.push(Ce)}),uu.forEach(_e=>{const ye=o.get(_e.element);if(ye&&ye.length){const Ce=Rc(ye);_e.setRealPlayer(Ce)}}),r.forEach(_e=>{_e.parentPlayer?_e.syncPlayerEvents(_e.parentPlayer):_e.destroy()});for(let _e=0;_e<I.length;_e++){const ye=I[_e],Ce=ye[Wo];if(Kh(ye,px),Ce&&Ce.hasAnimation)continue;let yt=[];if(a.size){let Fs=a.get(ye);Fs&&Fs.length&&yt.push(...Fs);let oo=this.driver.query(ye,z2,!0);for(let Nc=0;Nc<oo.length;Nc++){let An=a.get(oo[Nc]);An&&An.length&&yt.push(...An)}}const Pi=yt.filter(Fs=>!Fs.destroyed);Pi.length?WLe(this,ye,Pi):this.processLeaveNode(ye)}return I.length=0,Vt.forEach(_e=>{this.players.push(_e),_e.onDone(()=>{_e.destroy();const ye=this.players.indexOf(_e);this.players.splice(ye,1)}),_e.play()}),Vt}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,o){let s=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(s=a)}else{const a=this.playersByElement.get(e);if(a){const c=!o||o==i_;a.forEach(l=>{l.queued||!c&&l.triggerName!=r||s.push(l)})}}return(i||r)&&(s=s.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(e,t,i){const o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const c of t.timelines){const l=c.element,u=l!==o,d=no(i,l,[]);this._getPreviousPlayers(l,u,s,a,t.toState).forEach(f=>{const _=f.getRealPlayer();_.beforeDestroy&&_.beforeDestroy(),f.destroy(),d.push(f)})}cu(o,t.fromStyles)}_buildAnimation(e,t,i,r,o,s){const a=t.triggerName,c=t.element,l=[],u=new Set,d=new Set,h=t.timelines.map(_=>{const C=_.element;u.add(C);const I=C[Wo];if(I&&I.removedBeforeQueried)return new Qm(_.duration,_.delay);const O=C!==c,M=function KLe(n){const e=[];return rZ(n,e),e}((i.get(C)||ULe).map($e=>$e.getRealPlayer())).filter($e=>!!$e.element&&$e.element===C),B=o.get(C),Q=s.get(C),ae=NX(this._normalizer,_.keyframes,B,Q),fe=this._buildPlayer(_,ae,M);if(_.subTimeline&&r&&d.add(C),O){const $e=new tF(e,a,C);$e.setRealPlayer(fe),l.push($e)}return fe});l.forEach(_=>{no(this.playersByQueriedElement,_.element,[]).push(_),_.onDone(()=>function $Le(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,_.element,_))}),u.forEach(_=>xo(_,zX));const f=Rc(h);return f.onDestroy(()=>{u.forEach(_=>Kh(_,zX)),Ns(c,t.toStyles)}),d.forEach(_=>{no(r,_,[]).push(f)}),f}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new Qm(e.duration,e.delay)}}class tF{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new Qm,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>P2(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){no(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Ex(n){return n&&1===n.nodeType}function tZ(n,e){const t=n.style.display;return n.style.display=e??"none",t}function nZ(n,e,t,i,r){const o=[];t.forEach(c=>o.push(tZ(c)));const s=[];i.forEach((c,l)=>{const u=new Map;c.forEach(d=>{const h=e.computeStyle(l,d,r);u.set(d,h),(!h||0==h.length)&&(l[Wo]=zLe,s.push(l))}),n.set(l,u)});let a=0;return t.forEach(c=>tZ(c,o[a++])),s}function iZ(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const r=new Set(e),o=new Map;function s(a){if(!a)return 1;let c=o.get(a);if(c)return c;const l=a.parentNode;return c=t.has(l)?l:r.has(l)?1:s(l),o.set(a,c),c}return e.forEach(a=>{const c=s(a);1!==c&&t.get(c).push(a)}),t}function xo(n,e){n.classList?.add(e)}function Kh(n,e){n.classList?.remove(e)}function WLe(n,e,t){Rc(t).onDone(()=>n.processLeaveNode(e))}function rZ(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof PY?rZ(i.players,e):e.push(i)}}function oZ(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(o=>r.add(o)):e.set(n,i),t.delete(n),!0}class r_{constructor(e,t,i,r){this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(o,s)=>{},this._transitionEngine=new HLe(e.body,t,i,r),this._timelineEngine=new NLe(e.body,t,i),this._transitionEngine.onRemovalComplete=(o,s)=>this.onRemovalComplete(o,s)}registerTrigger(e,t,i,r,o){const s=e+"-"+r;let a=this._triggerCache[s];if(!a){const c=[],u=q2(this._driver,o,c,[]);if(c.length)throw function VFe(n,e){return new z(3404,!1)}();a=function kLe(n,e,t){return new OLe(n,e,t)}(r,u,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,r,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i){this._transitionEngine.removeNode(e,t,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[o,s]=FX(i);this._timelineEngine.command(o,t,s,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,o){if("@"==i.charAt(0)){const[s,a]=FX(i);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,i,r,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}class o_{static#e=this.initialStylesByElement=new WeakMap;constructor(e,t,i){this._element=e,this._startStyles=t,this._endStyles=i,this._state=0;let r=o_.initialStylesByElement.get(e);r||o_.initialStylesByElement.set(e,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&Ns(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ns(this._element,this._initialStyles),this._endStyles&&(Ns(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(o_.initialStylesByElement.delete(this._element),this._startStyles&&(cu(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(cu(this._element,this._endStyles),this._endStyles=null),Ns(this._element,this._initialStyles),this._state=3)}}function nF(n){let e=null;return n.forEach((t,i)=>{(function XLe(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class sZ{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;const t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:G2(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class aZ{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return VX(e,t)}getParentElement(e){return F2(e)}query(e,t,i){return BX(e,t,i)}computeStyle(e,t,i){return G2(e,t)}animate(e,t,i,r,o,s=[]){const c={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(c.easing=o);const l=new Map,u=s.filter(f=>f instanceof sZ);(function cLe(n,e){return 0===n||0===e})(i,r)&&u.forEach(f=>{f.currentSnapshot.forEach((_,C)=>l.set(C,_))});let d=function oLe(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}(t).map(f=>new Map(f));d=function lLe(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((o,s)=>{i.has(s)||r.push(s),i.set(s,o)}),r.length)for(let o=1;o<e.length;o++){let s=e[o];r.forEach(a=>s.set(a,G2(n,a)))}}return e}(e,d,l);const h=function YLe(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=nF(e[0]),e.length>1&&(i=nF(e[e.length-1]))):e instanceof Map&&(t=nF(e)),t||i?new o_(n,t,i):null}(e,d);return new sZ(e,d,c,h)}}const cZ="@.disabled";class lZ{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==cZ?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class ZLe extends lZ{constructor(e,t,i,r,o){super(t,i,r,o),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==cZ?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function JLe(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let o=t.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function e3e(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(o)),this.engine.listen(this.namespaceId,r,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(e,t,i)}}class t3e{constructor(e,t,i){this.delegate=e,this.engine=t,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,t.onRemovalComplete=(r,o)=>{const s=o?.parentNode(r);s&&o.removeChild(s,r)}}createRenderer(e,t){const r=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){const l=this._rendererCache;let u=l.get(r);return u||(u=new lZ("",r,this.engine,()=>l.delete(r)),l.set(r,u)),u}const o=t.id,s=t.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);const a=l=>{Array.isArray(l)?l.forEach(a):this.engine.registerTrigger(o,s,e,l.name,l)};return t.data.animation.forEach(a),new ZLe(this,s,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,i){if(e>=0&&e<this._microtaskId)return void this._zone.run(()=>t(i));const r=this._animationCallbacksBuffer;0==r.length&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),r.push([t,i])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}let n3e=(()=>{class n extends r_{constructor(t,i,r){super(t,i,r,J(LE,{optional:!0}))}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(i){return new(i||n)($(dt),$(V2),$(B2))};static#t=this.\u0275prov=re({token:n,factory:n.\u0275fac})}return n})();const uZ=[{provide:B2,useFactory:function i3e(){return new $X}},{provide:r_,useClass:n3e},{provide:VE,useFactory:function r3e(n,e,t){return new t3e(n,e,t)},deps:[DI,r_,Te]}],iF=[{provide:V2,useFactory:()=>new aZ},{provide:Hc,useValue:"BrowserAnimations"},...uZ],dZ=[{provide:V2,useClass:L2},{provide:Hc,useValue:"NoopAnimations"},...uZ];let o3e=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?dZ:iF}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=et({type:n});static#n=this.\u0275inj=Ze({providers:iF,imports:[Iz]})}return n})();const s3e=n=>()=>n.initPwaPrompt();let a3e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=et({type:n,bootstrap:[TMe]});static#n=this.\u0275inj=Ze({providers:[{provide:Ua,useClass:zU},{provide:rp,useFactory:s3e,deps:[M2e],multi:!0}],imports:[FNe,f2e,PX,mFe,PX,I2e,o3e,za,Bo,Iz,RW,Sy,yMe,I0e(()=>T0e(DMe_firebase)),lEe(()=>ws()),Jke(()=>eOe()),cMe(()=>{const t=uMe();return lMe(t),t}),IOe(()=>TOe()),CNe,ENe,c2e,t2,WNe.register("ngsw-worker.js",{enabled:!0,registrationStrategy:"registerWhenStable:30000"})]})}return n})();ghe().bootstrapModule(a3e).catch(n=>console.error(n))},6387:(Ie,S,F)=>{var b=le(F(4168)),N=le(F(6017)),K=le(F(1301)),U=le(F(7164)),m=le(F(8619)),x=le(F(4866)),T=le(F(3057)),k=F(723),te=le(F(530));function le(Ye){return Ye&&Ye.__esModule?Ye:{default:Ye}}var pe=function(){},Gt=function(qt,Sn,sn){var pn=new pe;if(typeof qt>"u")throw Error("No element to render on was provided.");return pn._renderProperties=(0,m.default)(qt),pn._encodings=[],pn._options=te.default,pn._errorHandler=new T.default(pn),typeof Sn<"u"&&((sn=sn||{}).format||(sn.format=Fc()),pn.options(sn)[sn.format](Sn,sn).render()),pn};for(var ur in Gt.getModule=function(Ye){return b.default[Ye]},b.default)b.default.hasOwnProperty(ur)&&Eo(b.default,ur);function Eo(Ye,qt){pe.prototype[qt]=pe.prototype[qt.toUpperCase()]=pe.prototype[qt.toLowerCase()]=function(Sn,sn){var pn=this;return pn._errorHandler.wrapBarcodeCall(function(){sn.text=typeof sn.text>"u"?void 0:""+sn.text;var Ir=(0,N.default)(pn._options,sn);Ir=(0,x.default)(Ir);var oF=Ca(Sn,Ye[qt],Ir);return pn._encodings.push(oF),pn})}}function Ca(Ye,qt,Sn){var sn=new qt(Ye=""+Ye,Sn);if(!sn.valid())throw new k.InvalidInputException(sn.constructor.name,Ye);var pn=sn.encode();pn=(0,K.default)(pn);for(var Ir=0;Ir<pn.length;Ir++)pn[Ir].options=(0,N.default)(Sn,pn[Ir].options);return pn}function Fc(){return b.default.CODE128?"CODE128":Object.keys(b.default)[0]}function Ls(Ye,qt,Sn){qt=(0,K.default)(qt);for(var sn=0;sn<qt.length;sn++)qt[sn].options=(0,N.default)(Sn,qt[sn].options),(0,U.default)(qt[sn].options);(0,U.default)(Sn),new(0,Ye.renderer)(Ye.element,qt,Sn).render(),Ye.afterRender&&Ye.afterRender()}pe.prototype.options=function(Ye){return this._options=(0,N.default)(this._options,Ye),this},pe.prototype.blank=function(Ye){var qt=new Array(Ye+1).join("0");return this._encodings.push({data:qt}),this},pe.prototype.init=function(){var Ye;if(this._renderProperties)for(var qt in Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]),this._renderProperties){var Sn=(0,N.default)(this._options,(Ye=this._renderProperties[qt]).options);"auto"==Sn.format&&(Sn.format=Fc()),this._errorHandler.wrapBarcodeCall(function(){var Ir=Ca(Sn.value,b.default[Sn.format.toUpperCase()],Sn);Ls(Ye,Ir,Sn)})}},pe.prototype.render=function(){if(!this._renderProperties)throw new k.NoElementException;if(Array.isArray(this._renderProperties))for(var Ye=0;Ye<this._renderProperties.length;Ye++)Ls(this._renderProperties[Ye],this._encodings,this._options);else Ls(this._renderProperties,this._encodings,this._options);return this},pe.prototype._defaults=te.default,typeof window<"u"&&(window.JsBarcode=Gt),typeof jQuery<"u"&&(jQuery.fn.JsBarcode=function(Ye,qt){var Sn=[];return jQuery(this).each(function(){Sn.push(this)}),Gt(Sn,Ye,qt)}),Ie.exports=Gt},9418:(Ie,S)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.default=function b(j,N){(function F(b,j){if(!(b instanceof j))throw new TypeError("Cannot call a class as a function")})(this,b),this.data=j,this.text=N.text||j,this.options=N}},8514:(Ie,S,F)=>{Object.defineProperty(S,"__esModule",{value:!0});var G=function(){function m(y,x){for(var v=0;v<x.length;v++){var T=x[v];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(y,T.key,T)}}return function(y,x,v){return x&&m(y.prototype,x),v&&m(y,v),y}}(),j=function q(m){return m&&m.__esModule?m:{default:m}}(F(9418)),N=F(9144),D=function(m){function y(x,v){!function K(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")}(this,y);var T=function R(m,y){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!y||"object"!=typeof y&&"function"!=typeof y?m:y}(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,x.substring(1),v));return T.bytes=x.split("").map(function(k){return k.charCodeAt(0)}),T}return function U(m,y){if("function"!=typeof y&&null!==y)throw new TypeError("Super expression must either be null or a function, not "+typeof y);m.prototype=Object.create(y&&y.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(m,y):m.__proto__=y)}(y,m),G(y,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var v=this.bytes,T=v.shift()-105,k=N.SET_BY_CODE[T];if(void 0===k)throw new RangeError("The encoding does not start with a start character.");!0===this.shouldEncodeAsEan128()&&v.unshift(N.FNC1);var P=y.next(v,1,k);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:y.getBar(T)+P.result+y.getBar((P.checksum+T)%N.MODULO)+y.getBar(N.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var v=this.options.ean128||!1;return"string"==typeof v&&(v="true"===v.toLowerCase()),v}}],[{key:"getBar",value:function(v){return N.BARS[v]?N.BARS[v].toString():""}},{key:"correctIndex",value:function(v,T){if(T===N.SET_A){var k=v.shift();return k<32?k+64:k-32}return T===N.SET_B?v.shift()-32:10*(v.shift()-48)+v.shift()-48}},{key:"next",value:function(v,T,k){if(!v.length)return{result:"",checksum:0};var P=void 0,te=void 0;if(v[0]>=200){te=v.shift()-105;var le=N.SWAP[te];void 0!==le?P=y.next(v,T+1,le):((k===N.SET_A||k===N.SET_B)&&te===N.SHIFT&&(v[0]=k===N.SET_A?v[0]>95?v[0]-96:v[0]:v[0]<32?v[0]+96:v[0]),P=y.next(v,T+1,k))}else te=y.correctIndex(v,k),P=y.next(v,T+1,k);return{result:y.getBar(te)+P.result,checksum:te*T+P.checksum}}}]),y}(j.default);S.default=D},2100:(Ie,S,F)=>{Object.defineProperty(S,"__esModule",{value:!0});var G=function(){function m(y,x){for(var v=0;v<x.length;v++){var T=x[v];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(y,T.key,T)}}return function(y,x,v){return x&&m(y.prototype,x),v&&m(y,v),y}}(),j=function q(m){return m&&m.__esModule?m:{default:m}}(F(8514)),N=F(9144),D=function(m){function y(x,v){return function K(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")}(this,y),function R(m,y){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!y||"object"!=typeof y&&"function"!=typeof y?m:y}(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,N.A_START_CHAR+x,v))}return function U(m,y){if("function"!=typeof y&&null!==y)throw new TypeError("Super expression must either be null or a function, not "+typeof y);m.prototype=Object.create(y&&y.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(m,y):m.__proto__=y)}(y,m),G(y,[{key:"valid",value:function(){return new RegExp("^"+N.A_CHARS+"+$").test(this.data)}}]),y}(j.default);S.default=D},2943:(Ie,S,F)=>{Object.defineProperty(S,"__esModule",{value:!0});var G=function(){function m(y,x){for(var v=0;v<x.length;v++){var T=x[v];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(y,T.key,T)}}return function(y,x,v){return x&&m(y.prototype,x),v&&m(y,v),y}}(),j=function q(m){return m&&m.__esModule?m:{default:m}}(F(8514)),N=F(9144),D=function(m){function y(x,v){return function K(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")}(this,y),function R(m,y){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!y||"object"!=typeof y&&"function"!=typeof y?m:y}(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,N.B_START_CHAR+x,v))}return function U(m,y){if("function"!=typeof y&&null!==y)throw new TypeError("Super expression must either be null or a function, not "+typeof y);m.prototype=Object.create(y&&y.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(m,y):m.__proto__=y)}(y,m),G(y,[{key:"valid",value:function(){return new RegExp("^"+N.B_CHARS+"+$").test(this.data)}}]),y}(j.default);S.default=D},5683:(Ie,S,F)=>{Object.defineProperty(S,"__esModule",{value:!0});var G=function(){function m(y,x){for(var v=0;v<x.length;v++){var T=x[v];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(y,T.key,T)}}return function(y,x,v){return x&&m(y.prototype,x),v&&m(y,v),y}}(),j=function q(m){return m&&m.__esModule?m:{default:m}}(F(8514)),N=F(9144),D=function(m){function y(x,v){return function K(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")}(this,y),function R(m,y){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!y||"object"!=typeof y&&"function"!=typeof y?m:y}(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,N.C_START_CHAR+x,v))}return function U(m,y){if("function"!=typeof y&&null!==y)throw new TypeError("Super expression must either be null or a function, not "+typeof y);m.prototype=Object.create(y&&y.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(m,y):m.__proto__=y)}(y,m),G(y,[{key:"valid",value:function(){return new RegExp("^"+N.C_CHARS+"+$").test(this.data)}}]),y}(j.default);S.default=D},7737:(Ie,S,F)=>{Object.defineProperty(S,"__esModule",{value:!0});var b=q(F(8514)),N=q(F(4336));function q(m){return m&&m.__esModule?m:{default:m}}function R(m,y){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!y||"object"!=typeof y&&"function"!=typeof y?m:y}var D=function(m){function y(x,v){if(function K(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")}(this,y),/^[\x00-\x7F\xC8-\xD3]+$/.test(x))var T=R(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,(0,N.default)(x),v));else T=R(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,x,v));return R(T)}return function U(m,y){if("function"!=typeof y&&null!==y)throw new TypeError("Super expression must either be null or a function, not "+typeof y);m.prototype=Object.create(y&&y.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(m,y):m.__proto__=y)}(y,m),y}(b.default);S.default=D},4336:(Ie,S,F)=>{Object.defineProperty(S,"__esModule",{value:!0});var G=F(9144),b=function(U){return U.match(new RegExp("^"+G.A_CHARS+"*"))[0].length},j=function(U){return U.match(new RegExp("^"+G.B_CHARS+"*"))[0].length},N=function(U){return U.match(new RegExp("^"+G.C_CHARS+"*"))[0]};function q(R,U){var D=U?G.A_CHARS:G.B_CHARS,m=R.match(new RegExp("^("+D+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(m)return m[1]+String.fromCharCode(204)+K(R.substring(m[1].length));var y=R.match(new RegExp("^"+D+"+"))[0];return y.length===R.length?R:y+String.fromCharCode(U?205:206)+q(R.substring(y.length),!U)}function K(R){var U=N(R),D=U.length;if(D===R.length)return R;R=R.substring(D);var m=b(R)>=j(R);return U+String.fromCharCode(m?206:205)+q(R,m)}S.default=function(R){var U=void 0;if(N(R).length>=2)U=G.C_START_CHAR+K(R);else{var m=b(R)>j(R);U=(m?G.A_START_CHAR:G.B_START_CHAR)+q(R,m)}return U.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,function(y,x){return String.fromCharCode(203)+x})}},9144:(Ie,S)=>{var F;function G(ur,Eo,Ca){return Eo in ur?Object.defineProperty(ur,Eo,{value:Ca,enumerable:!0,configurable:!0,writable:!0}):ur[Eo]=Ca,ur}Object.defineProperty(S,"__esModule",{value:!0});var b=S.SET_A=0,j=S.SET_B=1,N=S.SET_C=2,K=(S.SHIFT=98,S.START_A=103),R=S.START_B=104,U=S.START_C=105;S.MODULO=103,S.STOP=106,S.FNC1=207,S.SET_BY_CODE=(G(F={},K,b),G(F,R,j),G(F,U,N),F),S.SWAP={101:b,100:j,99:N},S.A_START_CHAR=String.fromCharCode(208),S.B_START_CHAR=String.fromCharCode(209),S.C_START_CHAR=String.fromCharCode(210),S.A_CHARS="[\0-_\xc8-\xcf]",S.B_CHARS="[ -\x7f\xc8-\xcf]",S.C_CHARS="(\xcf*[0-9]{2}\xcf*)",S.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011]},8754:(Ie,S,F)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.CODE128C=S.CODE128B=S.CODE128A=S.CODE128=void 0;var b=D(F(7737)),N=D(F(2100)),K=D(F(2943)),U=D(F(5683));function D(m){return m&&m.__esModule?m:{default:m}}S.CODE128=b.default,S.CODE128A=N.default,S.CODE128B=K.default,S.CODE128C=U.default},6602:(Ie,S,F)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.CODE39=void 0;var G=function(){function P(te,le){for(var pe=0;pe<le.length;pe++){var Gt=le[pe];Gt.enumerable=Gt.enumerable||!1,Gt.configurable=!0,"value"in Gt&&(Gt.writable=!0),Object.defineProperty(te,Gt.key,Gt)}}return function(te,le,pe){return le&&P(te.prototype,le),pe&&P(te,pe),te}}(),U=function(P){function te(le,pe){return function q(P,te){if(!(P instanceof te))throw new TypeError("Cannot call a class as a function")}(this,te),le=le.toUpperCase(),pe.mod43&&(le+=function v(P){return D[P]}(function k(P){for(var te=0,le=0;le<P.length;le++)te+=T(P[le]);return te%=43}(le))),function K(P,te){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!te||"object"!=typeof te&&"function"!=typeof te?P:te}(this,(te.__proto__||Object.getPrototypeOf(te)).call(this,le,pe))}return function R(P,te){if("function"!=typeof te&&null!==te)throw new TypeError("Super expression must either be null or a function, not "+typeof te);P.prototype=Object.create(te&&te.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),te&&(Object.setPrototypeOf?Object.setPrototypeOf(P,te):P.__proto__=te)}(te,P),G(te,[{key:"encode",value:function(){for(var pe=y("*"),Gt=0;Gt<this.data.length;Gt++)pe+=y(this.data[Gt])+"0";return{data:pe+=y("*"),text:this.text}}},{key:"valid",value:function(){return-1!==this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)}}]),te}(function N(P){return P&&P.__esModule?P:{default:P}}(F(9418)).default),D=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],m=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function y(P){return function x(P){return m[P].toString(2)}(T(P))}function T(P){return D.indexOf(P)}S.CODE39=U},4079:(Ie,S,F)=>{Object.defineProperty(S,"__esModule",{value:!0});var G=function(){function x(v,T){for(var k=0;k<T.length;k++){var P=T[k];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(v,P.key,P)}}return function(v,T,k){return T&&x(v.prototype,T),k&&x(v,k),v}}(),b=F(1392),N=R(F(2651));function R(x){return x&&x.__esModule?x:{default:x}}var y=function(x){function v(T,k){!function U(x,v){if(!(x instanceof v))throw new TypeError("Cannot call a class as a function")}(this,v);var P=function D(x,v){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||"object"!=typeof v&&"function"!=typeof v?x:v}(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,T,k));return P.fontSize=!k.flat&&k.fontSize>10*k.width?10*k.width:k.fontSize,P.guardHeight=k.height+P.fontSize/2+k.textMargin,P}return function m(x,v){if("function"!=typeof v&&null!==v)throw new TypeError("Super expression must either be null or a function, not "+typeof v);x.prototype=Object.create(v&&v.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(x,v):x.__proto__=v)}(v,x),G(v,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(k,P){return this.text.substr(k,P)}},{key:"leftEncode",value:function(k,P){return(0,N.default)(k,P)}},{key:"rightText",value:function(k,P){return this.text.substr(k,P)}},{key:"rightEncode",value:function(k,P){return(0,N.default)(k,P)}},{key:"encodeGuarded",value:function(){var k={fontSize:this.fontSize},P={height:this.guardHeight};return[{data:b.SIDE_BIN,options:P},{data:this.leftEncode(),text:this.leftText(),options:k},{data:b.MIDDLE_BIN,options:P},{data:this.rightEncode(),text:this.rightText(),options:k},{data:b.SIDE_BIN,options:P}]}},{key:"encodeFlat",value:function(){return{data:[b.SIDE_BIN,this.leftEncode(),b.MIDDLE_BIN,this.rightEncode(),b.SIDE_BIN].join(""),text:this.text}}}]),v}(R(F(9418)).default);S.default=y},9619:(Ie,S,F)=>{Object.defineProperty(S,"__esModule",{value:!0});var G=function(){function x(v,T){for(var k=0;k<T.length;k++){var P=T[k];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(v,P.key,P)}}return function(v,T,k){return T&&x(v.prototype,T),k&&x(v,k),v}}(),b=function x(v,T,k){null===v&&(v=Function.prototype);var P=Object.getOwnPropertyDescriptor(v,T);if(void 0===P){var te=Object.getPrototypeOf(v);return null===te?void 0:x(te,T,k)}if("value"in P)return P.value;var le=P.get;return void 0===le?void 0:le.call(k)},j=F(1392),q=function K(x){return x&&x.__esModule?x:{default:x}}(F(4079)),m=function(v){return(10-v.substr(0,12).split("").map(function(k){return+k}).reduce(function(k,P,te){return te%2?k+3*P:k+P},0)%10)%10},y=function(x){function v(T,k){(function R(x,v){if(!(x instanceof v))throw new TypeError("Cannot call a class as a function")})(this,v),-1!==T.search(/^[0-9]{12}$/)&&(T+=m(T));var P=function U(x,v){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||"object"!=typeof v&&"function"!=typeof v?x:v}(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,T,k));return P.lastChar=k.lastChar,P}return function D(x,v){if("function"!=typeof v&&null!==v)throw new TypeError("Super expression must either be null or a function, not "+typeof v);x.prototype=Object.create(v&&v.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(x,v):x.__proto__=v)}(v,x),G(v,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{13}$/)&&+this.data[12]===m(this.data)}},{key:"leftText",value:function(){return b(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var k=this.data.substr(1,6),P=j.EAN13_STRUCTURE[this.data[0]];return b(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"leftEncode",this).call(this,k,P)}},{key:"rightText",value:function(){return b(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var k=this.data.substr(7,6);return b(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"rightEncode",this).call(this,k,"RRRRRR")}},{key:"encodeGuarded",value:function(){var k=b(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(k.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(k.push({data:"00"}),k.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),k}}]),v}(q.default);S.default=y},5754:(Ie,S,F)=>{Object.defineProperty(S,"__esModule",{value:!0});var G=function(){function x(v,T){for(var k=0;k<T.length;k++){var P=T[k];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(v,P.key,P)}}return function(v,T,k){return T&&x(v.prototype,T),k&&x(v,k),v}}(),b=F(1392),N=R(F(2651));function R(x){return x&&x.__esModule?x:{default:x}}var y=function(x){function v(T,k){return function U(x,v){if(!(x instanceof v))throw new TypeError("Cannot call a class as a function")}(this,v),function D(x,v){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||"object"!=typeof v&&"function"!=typeof v?x:v}(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,T,k))}return function m(x,v){if("function"!=typeof v&&null!==v)throw new TypeError("Super expression must either be null or a function, not "+typeof v);x.prototype=Object.create(v&&v.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(x,v):x.__proto__=v)}(v,x),G(v,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{2}$/)}},{key:"encode",value:function(){var k=b.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,N.default)(this.data,k,"01"),text:this.text}}}]),v}(R(F(9418)).default);S.default=y},1931:(Ie,S,F)=>{Object.defineProperty(S,"__esModule",{value:!0});var G=function(){function v(T,k){for(var P=0;P<k.length;P++){var te=k[P];te.enumerable=te.enumerable||!1,te.configurable=!0,"value"in te&&(te.writable=!0),Object.defineProperty(T,te.key,te)}}return function(T,k,P){return k&&v(T.prototype,k),P&&v(T,P),T}}(),b=F(1392),N=R(F(2651));function R(v){return v&&v.__esModule?v:{default:v}}var x=function(v){function T(k,P){return function U(v,T){if(!(v instanceof T))throw new TypeError("Cannot call a class as a function")}(this,T),function D(v,T){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!T||"object"!=typeof T&&"function"!=typeof T?v:T}(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,k,P))}return function m(v,T){if("function"!=typeof T&&null!==T)throw new TypeError("Super expression must either be null or a function, not "+typeof T);v.prototype=Object.create(T&&T.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(v,T):v.__proto__=T)}(T,v),G(T,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{5}$/)}},{key:"encode",value:function(){var P=b.EAN5_STRUCTURE[function(T){return T.split("").map(function(P){return+P}).reduce(function(P,te,le){return le%2?P+9*te:P+3*te},0)%10}(this.data)];return{data:"1011"+(0,N.default)(this.data,P,"01"),text:this.text}}}]),T}(R(F(9418)).default);S.default=x},3372:(Ie,S,F)=>{Object.defineProperty(S,"__esModule",{value:!0});var G=function(){function y(x,v){for(var T=0;T<v.length;T++){var k=v[T];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(x,k.key,k)}}return function(x,v,T){return v&&y(x.prototype,v),T&&y(x,T),x}}(),b=function y(x,v,T){null===x&&(x=Function.prototype);var k=Object.getOwnPropertyDescriptor(x,v);if(void 0===k){var P=Object.getPrototypeOf(x);return null===P?void 0:y(P,v,T)}if("value"in k)return k.value;var te=k.get;return void 0===te?void 0:te.call(T)},N=function q(y){return y&&y.__esModule?y:{default:y}}(F(4079)),D=function(x){return(10-x.substr(0,7).split("").map(function(T){return+T}).reduce(function(T,k,P){return P%2?T+k:T+3*k},0)%10)%10},m=function(y){function x(v,T){return function K(y,x){if(!(y instanceof x))throw new TypeError("Cannot call a class as a function")}(this,x),-1!==v.search(/^[0-9]{7}$/)&&(v+=D(v)),function R(y,x){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!x||"object"!=typeof x&&"function"!=typeof x?y:x}(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,v,T))}return function U(y,x){if("function"!=typeof x&&null!==x)throw new TypeError("Super expression must either be null or a function, not "+typeof x);y.prototype=Object.create(x&&x.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(y,x):y.__proto__=x)}(x,y),G(x,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{8}$/)&&+this.data[7]===D(this.data)}},{key:"leftText",value:function(){return b(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var T=this.data.substr(0,4);return b(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"leftEncode",this).call(this,T,"LLLL")}},{key:"rightText",value:function(){return b(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var T=this.data.substr(4,4);return b(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"rightEncode",this).call(this,T,"RRRR")}}]),x}(N.default);S.default=m},5821:(Ie,S,F)=>{Object.defineProperty(S,"__esModule",{value:!0});var G=function(){function x(v,T){for(var k=0;k<T.length;k++){var P=T[k];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(v,P.key,P)}}return function(v,T,k){return T&&x(v.prototype,T),k&&x(v,k),v}}();S.checksum=y;var j=K(F(2651));function K(x){return x&&x.__esModule?x:{default:x}}var m=function(x){function v(T,k){(function R(x,v){if(!(x instanceof v))throw new TypeError("Cannot call a class as a function")})(this,v),-1!==T.search(/^[0-9]{11}$/)&&(T+=y(T));var P=function U(x,v){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||"object"!=typeof v&&"function"!=typeof v?x:v}(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,T,k));return P.displayValue=k.displayValue,P.fontSize=k.fontSize>10*k.width?10*k.width:k.fontSize,P.guardHeight=k.height+P.fontSize/2+k.textMargin,P}return function D(x,v){if("function"!=typeof v&&null!==v)throw new TypeError("Super expression must either be null or a function, not "+typeof v);x.prototype=Object.create(v&&v.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(x,v):x.__proto__=v)}(v,x),G(v,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{12}$/)&&this.data[11]==y(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var k="";return k+="101",k+=(0,j.default)(this.data.substr(0,6),"LLLLLL"),k+="01010",k+=(0,j.default)(this.data.substr(6,6),"RRRRRR"),{data:k+="101",text:this.text}}},{key:"guardedEncoding",value:function(){var k=[];return this.displayValue&&k.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),k.push({data:"101"+(0,j.default)(this.data[0],"L"),options:{height:this.guardHeight}}),k.push({data:(0,j.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),k.push({data:"01010",options:{height:this.guardHeight}}),k.push({data:(0,j.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),k.push({data:(0,j.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&k.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),k}}]),v}(K(F(9418)).default);function y(x){var T,v=0;for(T=1;T<11;T+=2)v+=parseInt(x[T]);for(T=0;T<11;T+=2)v+=3*parseInt(x[T]);return(10-v%10)%10}S.default=m},1091:(Ie,S,F)=>{Object.defineProperty(S,"__esModule",{value:!0});var G=function(){function k(P,te){for(var le=0;le<te.length;le++){var pe=te[le];pe.enumerable=pe.enumerable||!1,pe.configurable=!0,"value"in pe&&(pe.writable=!0),Object.defineProperty(P,pe.key,pe)}}return function(P,te,le){return te&&k(P.prototype,te),le&&k(P,le),P}}(),j=R(F(2651)),q=R(F(9418)),K=F(5821);function R(k){return k&&k.__esModule?k:{default:k}}function D(k,P){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!P||"object"!=typeof P&&"function"!=typeof P?k:P}var y=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],x=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],v=function(k){function P(te,le){!function U(k,P){if(!(k instanceof P))throw new TypeError("Cannot call a class as a function")}(this,P);var pe=D(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,te,le));if(pe.isValid=!1,-1!==te.search(/^[0-9]{6}$/))pe.middleDigits=te,pe.upcA=T(te,"0"),pe.text=le.text||""+pe.upcA[0]+te+pe.upcA[pe.upcA.length-1],pe.isValid=!0;else{if(-1===te.search(/^[01][0-9]{7}$/))return D(pe);if(pe.middleDigits=te.substring(1,te.length-1),pe.upcA=T(pe.middleDigits,te[0]),pe.upcA[pe.upcA.length-1]!==te[te.length-1])return D(pe);pe.isValid=!0}return pe.displayValue=le.displayValue,pe.fontSize=le.fontSize>10*le.width?10*le.width:le.fontSize,pe.guardHeight=le.height+pe.fontSize/2+le.textMargin,pe}return function m(k,P){if("function"!=typeof P&&null!==P)throw new TypeError("Super expression must either be null or a function, not "+typeof P);k.prototype=Object.create(P&&P.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(k,P):k.__proto__=P)}(P,k),G(P,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var le="";return le+="101",le+=this.encodeMiddleDigits(),{data:le+="010101",text:this.text}}},{key:"guardedEncoding",value:function(){var le=[];return this.displayValue&&le.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),le.push({data:"101",options:{height:this.guardHeight}}),le.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),le.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&le.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),le}},{key:"encodeMiddleDigits",value:function(){var le=this.upcA[0],Gt=x[parseInt(this.upcA[this.upcA.length-1])][parseInt(le)];return(0,j.default)(this.middleDigits,Gt)}}]),P}(q.default);function T(k,P){for(var te=parseInt(k[k.length-1]),le=y[te],pe="",Gt=0,ur=0;ur<le.length;ur++){var Eo=le[ur];pe+="X"===Eo?k[Gt++]:Eo}return(pe=""+P+pe)+(0,K.checksum)(pe)}S.default=v},1392:(Ie,S)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.SIDE_BIN="101",S.MIDDLE_BIN="01010",S.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]},S.EAN2_STRUCTURE=["LL","LG","GL","GG"],S.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"],S.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"]},2651:(Ie,S,F)=>{Object.defineProperty(S,"__esModule",{value:!0});var G=F(1392);S.default=function(N,q,K){var R=N.split("").map(function(D,m){return G.BINARIES[q[m]]}).map(function(D,m){return D?D[N[m]]:""});if(K){var U=N.length-1;R=R.map(function(D,m){return m<U?D+K:D})}return R.join("")}},2708:(Ie,S,F)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.UPCE=S.UPC=S.EAN2=S.EAN5=S.EAN8=S.EAN13=void 0;var b=v(F(9619)),N=v(F(3372)),K=v(F(1931)),U=v(F(5754)),m=v(F(5821)),x=v(F(1091));function v(T){return T&&T.__esModule?T:{default:T}}S.EAN13=b.default,S.EAN8=N.default,S.EAN5=K.default,S.EAN2=U.default,S.UPC=m.default,S.UPCE=x.default},8817:(Ie,S,F)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.GenericBarcode=void 0;var G=function(){function D(m,y){for(var x=0;x<y.length;x++){var v=y[x];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,v.key,v)}}return function(m,y,x){return y&&D(m.prototype,y),x&&D(m,x),m}}(),U=function(D){function m(y,x){return function q(D,m){if(!(D instanceof m))throw new TypeError("Cannot call a class as a function")}(this,m),function K(D,m){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||"object"!=typeof m&&"function"!=typeof m?D:m}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,y,x))}return function R(D,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function, not "+typeof m);D.prototype=Object.create(m&&m.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(D,m):D.__proto__=m)}(m,D),G(m,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),m}(function N(D){return D&&D.__esModule?D:{default:D}}(F(9418)).default);S.GenericBarcode=U},6065:(Ie,S,F)=>{Object.defineProperty(S,"__esModule",{value:!0});var G=function(){function m(y,x){for(var v=0;v<x.length;v++){var T=x[v];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(y,T.key,T)}}return function(y,x,v){return x&&m(y.prototype,x),v&&m(y,v),y}}(),b=F(5168),D=function(m){function y(){return function K(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")}(this,y),function R(m,y){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!y||"object"!=typeof y&&"function"!=typeof y?m:y}(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return function U(m,y){if("function"!=typeof y&&null!==y)throw new TypeError("Super expression must either be null or a function, not "+typeof y);m.prototype=Object.create(y&&y.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(m,y):m.__proto__=y)}(y,m),G(y,[{key:"valid",value:function(){return-1!==this.data.search(/^([0-9]{2})+$/)}},{key:"encode",value:function(){var v=this,T=this.data.match(/.{2}/g).map(function(k){return v.encodePair(k)}).join("");return{data:b.START_BIN+T+b.END_BIN,text:this.text}}},{key:"encodePair",value:function(v){var T=b.BINARIES[v[1]];return b.BINARIES[v[0]].split("").map(function(k,P){return("1"===k?"111":"1")+("1"===T[P]?"000":"0")}).join("")}}]),y}(function q(m){return m&&m.__esModule?m:{default:m}}(F(9418)).default);S.default=D},9643:(Ie,S,F)=>{Object.defineProperty(S,"__esModule",{value:!0});var G=function(){function m(y,x){for(var v=0;v<x.length;v++){var T=x[v];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(y,T.key,T)}}return function(y,x,v){return x&&m(y.prototype,x),v&&m(y,v),y}}(),j=function N(m){return m&&m.__esModule?m:{default:m}}(F(6065)),U=function(y){var x=y.substr(0,13).split("").map(function(v){return parseInt(v,10)}).reduce(function(v,T,k){return v+T*(3-k%2*2)},0);return 10*Math.ceil(x/10)-x},D=function(m){function y(x,v){return function q(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")}(this,y),-1!==x.search(/^[0-9]{13}$/)&&(x+=U(x)),function K(m,y){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!y||"object"!=typeof y&&"function"!=typeof y?m:y}(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,x,v))}return function R(m,y){if("function"!=typeof y&&null!==y)throw new TypeError("Super expression must either be null or a function, not "+typeof y);m.prototype=Object.create(y&&y.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(m,y):m.__proto__=y)}(y,m),G(y,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{14}$/)&&+this.data[13]===U(this.data)}}]),y}(j.default);S.default=D},5168:(Ie,S)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.START_BIN="1010",S.END_BIN="11101",S.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"]},8969:(Ie,S,F)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.ITF14=S.ITF=void 0;var b=q(F(6065)),N=q(F(9643));function q(K){return K&&K.__esModule?K:{default:K}}S.ITF=b.default,S.ITF14=N.default},7037:(Ie,S,F)=>{Object.defineProperty(S,"__esModule",{value:!0});var G=function(){function m(y,x){for(var v=0;v<x.length;v++){var T=x[v];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(y,T.key,T)}}return function(y,x,v){return x&&m(y.prototype,x),v&&m(y,v),y}}(),U=function(m){function y(x,v){return function q(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")}(this,y),function K(m,y){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!y||"object"!=typeof y&&"function"!=typeof y?m:y}(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,x,v))}return function R(m,y){if("function"!=typeof y&&null!==y)throw new TypeError("Super expression must either be null or a function, not "+typeof y);m.prototype=Object.create(y&&y.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(m,y):m.__proto__=y)}(y,m),G(y,[{key:"encode",value:function(){for(var v="110",T=0;T<this.data.length;T++){var P=parseInt(this.data[T]).toString(2);P=D(P,4-P.length);for(var te=0;te<P.length;te++)v+="0"==P[te]?"100":"110"}return{data:v+="1001",text:this.text}}},{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]+$/)}}]),y}(function N(m){return m&&m.__esModule?m:{default:m}}(F(9418)).default);function D(m,y){for(var x=0;x<y;x++)m="0"+m;return m}S.default=U},3922:(Ie,S,F)=>{Object.defineProperty(S,"__esModule",{value:!0});var b=function N(D){return D&&D.__esModule?D:{default:D}}(F(7037)),j=F(6225),U=function(D){function m(y,x){return function q(D,m){if(!(D instanceof m))throw new TypeError("Cannot call a class as a function")}(this,m),function K(D,m){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||"object"!=typeof m&&"function"!=typeof m?D:m}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,y+(0,j.mod10)(y),x))}return function R(D,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function, not "+typeof m);D.prototype=Object.create(m&&m.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(D,m):D.__proto__=m)}(m,D),m}(b.default);S.default=U},8742:(Ie,S,F)=>{Object.defineProperty(S,"__esModule",{value:!0});var b=function N(D){return D&&D.__esModule?D:{default:D}}(F(7037)),j=F(6225),U=function(D){function m(y,x){return function q(D,m){if(!(D instanceof m))throw new TypeError("Cannot call a class as a function")}(this,m),y+=(0,j.mod10)(y),y+=(0,j.mod10)(y),function K(D,m){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||"object"!=typeof m&&"function"!=typeof m?D:m}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,y,x))}return function R(D,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function, not "+typeof m);D.prototype=Object.create(m&&m.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(D,m):D.__proto__=m)}(m,D),m}(b.default);S.default=U},1825:(Ie,S,F)=>{Object.defineProperty(S,"__esModule",{value:!0});var b=function N(D){return D&&D.__esModule?D:{default:D}}(F(7037)),j=F(6225),U=function(D){function m(y,x){return function q(D,m){if(!(D instanceof m))throw new TypeError("Cannot call a class as a function")}(this,m),function K(D,m){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||"object"!=typeof m&&"function"!=typeof m?D:m}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,y+(0,j.mod11)(y),x))}return function R(D,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function, not "+typeof m);D.prototype=Object.create(m&&m.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(D,m):D.__proto__=m)}(m,D),m}(b.default);S.default=U},4455:(Ie,S,F)=>{Object.defineProperty(S,"__esModule",{value:!0});var b=function N(D){return D&&D.__esModule?D:{default:D}}(F(7037)),j=F(6225),U=function(D){function m(y,x){return function q(D,m){if(!(D instanceof m))throw new TypeError("Cannot call a class as a function")}(this,m),y+=(0,j.mod11)(y),y+=(0,j.mod10)(y),function K(D,m){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||"object"!=typeof m&&"function"!=typeof m?D:m}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,y,x))}return function R(D,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function, not "+typeof m);D.prototype=Object.create(m&&m.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(D,m):D.__proto__=m)}(m,D),m}(b.default);S.default=U},6225:(Ie,S)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.mod10=function F(b){for(var j=0,N=0;N<b.length;N++){var q=parseInt(b[N]);j+=(N+b.length)%2==0?q:2*q%10+Math.floor(2*q/10)}return(10-j%10)%10},S.mod11=function G(b){for(var j=0,N=[2,3,4,5,6,7],q=0;q<b.length;q++){var K=parseInt(b[b.length-1-q]);j+=N[q%N.length]*K}return(11-j%11)%11}},1122:(Ie,S,F)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.MSI1110=S.MSI1010=S.MSI11=S.MSI10=S.MSI=void 0;var b=y(F(7037)),N=y(F(3922)),K=y(F(1825)),U=y(F(8742)),m=y(F(4455));function y(x){return x&&x.__esModule?x:{default:x}}S.MSI=b.default,S.MSI10=N.default,S.MSI11=K.default,S.MSI1010=U.default,S.MSI1110=m.default},886:(Ie,S,F)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.codabar=void 0;var G=function(){function D(m,y){for(var x=0;x<y.length;x++){var v=y[x];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,v.key,v)}}return function(m,y,x){return y&&D(m.prototype,y),x&&D(m,x),m}}(),U=function(D){function m(y,x){(function q(D,m){if(!(D instanceof m))throw new TypeError("Cannot call a class as a function")})(this,m),0===y.search(/^[0-9\-\$\:\.\+\/]+$/)&&(y="A"+y+"A");var v=function K(D,m){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||"object"!=typeof m&&"function"!=typeof m?D:m}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,y.toUpperCase(),x));return v.text=v.options.text||v.text.replace(/[A-D]/g,""),v}return function R(D,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function, not "+typeof m);D.prototype=Object.create(m&&m.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(D,m):D.__proto__=m)}(m,D),G(m,[{key:"valid",value:function(){return-1!==this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)}},{key:"encode",value:function(){for(var x=[],v=this.getEncodings(),T=0;T<this.data.length;T++)x.push(v[this.data.charAt(T)]),T!==this.data.length-1&&x.push("0");return{text:this.text,data:x.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"1011011011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),m}(function N(D){return D&&D.__esModule?D:{default:D}}(F(9418)).default);S.codabar=U},4168:(Ie,S,F)=>{Object.defineProperty(S,"__esModule",{value:!0});var G=F(6602),b=F(8754),j=F(2708),N=F(8969),q=F(1122),K=F(8758),R=F(886),U=F(8817);S.default={CODE39:G.CODE39,CODE128:b.CODE128,CODE128A:b.CODE128A,CODE128B:b.CODE128B,CODE128C:b.CODE128C,EAN13:j.EAN13,EAN8:j.EAN8,EAN5:j.EAN5,EAN2:j.EAN2,UPC:j.UPC,UPCE:j.UPCE,ITF14:N.ITF14,ITF:N.ITF,MSI:q.MSI,MSI10:q.MSI10,MSI11:q.MSI11,MSI1010:q.MSI1010,MSI1110:q.MSI1110,pharmacode:K.pharmacode,codabar:R.codabar,GenericBarcode:U.GenericBarcode}},8758:(Ie,S,F)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.pharmacode=void 0;var G=function(){function D(m,y){for(var x=0;x<y.length;x++){var v=y[x];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,v.key,v)}}return function(m,y,x){return y&&D(m.prototype,y),x&&D(m,x),m}}(),U=function(D){function m(y,x){!function q(D,m){if(!(D instanceof m))throw new TypeError("Cannot call a class as a function")}(this,m);var v=function K(D,m){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||"object"!=typeof m&&"function"!=typeof m?D:m}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,y,x));return v.number=parseInt(y,10),v}return function R(D,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function, not "+typeof m);D.prototype=Object.create(m&&m.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(D,m):D.__proto__=m)}(m,D),G(m,[{key:"encode",value:function(){for(var x=this.number,v="";!isNaN(x)&&0!=x;)x%2==0?(v="11100"+v,x=(x-2)/2):(v="100"+v,x=(x-1)/2);return{data:v=v.slice(0,-2),text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),m}(function N(D){return D&&D.__esModule?D:{default:D}}(F(9418)).default);S.pharmacode=U},3057:(Ie,S)=>{Object.defineProperty(S,"__esModule",{value:!0});var F=function(){function j(N,q){for(var K=0;K<q.length;K++){var R=q[K];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(N,R.key,R)}}return function(N,q,K){return q&&j(N.prototype,q),K&&j(N,K),N}}(),b=function(){function j(N){(function G(j,N){if(!(j instanceof N))throw new TypeError("Cannot call a class as a function")})(this,j),this.api=N}return F(j,[{key:"handleCatch",value:function(q){if("InvalidInputException"!==q.name)throw q;if(this.api._options.valid===this.api._defaults.valid)throw q.message;this.api._options.valid(!1),this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(q){try{var K=q.apply(void 0,arguments);return this.api._options.valid(!0),K}catch(R){return this.handleCatch(R),this.api}}}]),j}();S.default=b},723:(Ie,S)=>{function F(K,R){if(!(K instanceof R))throw new TypeError("Cannot call a class as a function")}function G(K,R){if(!K)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!R||"object"!=typeof R&&"function"!=typeof R?K:R}function b(K,R){if("function"!=typeof R&&null!==R)throw new TypeError("Super expression must either be null or a function, not "+typeof R);K.prototype=Object.create(R&&R.prototype,{constructor:{value:K,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(K,R):K.__proto__=R)}Object.defineProperty(S,"__esModule",{value:!0});var j=function(K){function R(U,D){F(this,R);var m=G(this,(R.__proto__||Object.getPrototypeOf(R)).call(this));return m.name="InvalidInputException",m.symbology=U,m.input=D,m.message='"'+m.input+'" is not a valid input for '+m.symbology,m}return b(R,Error),R}(),N=function(K){function R(){F(this,R);var U=G(this,(R.__proto__||Object.getPrototypeOf(R)).call(this));return U.name="InvalidElementException",U.message="Not supported type to render on",U}return b(R,Error),R}(),q=function(K){function R(){F(this,R);var U=G(this,(R.__proto__||Object.getPrototypeOf(R)).call(this));return U.name="NoElementException",U.message="No element to render on.",U}return b(R,Error),R}();S.InvalidInputException=j,S.InvalidElementException=N,S.NoElementException=q},7164:(Ie,S)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.default=function F(G){return G.marginTop=G.marginTop||G.margin,G.marginBottom=G.marginBottom||G.margin,G.marginRight=G.marginRight||G.margin,G.marginLeft=G.marginLeft||G.margin,G}},7020:(Ie,S,F)=>{Object.defineProperty(S,"__esModule",{value:!0});var b=q(F(4866)),N=q(F(530));function q(R){return R&&R.__esModule?R:{default:R}}S.default=function K(R){var U={};for(var D in N.default)N.default.hasOwnProperty(D)&&(R.hasAttribute("jsbarcode-"+D.toLowerCase())&&(U[D]=R.getAttribute("jsbarcode-"+D.toLowerCase())),R.hasAttribute("data-"+D.toLowerCase())&&(U[D]=R.getAttribute("data-"+D.toLowerCase())));return U.value=R.getAttribute("jsbarcode-value")||R.getAttribute("data-value"),(0,b.default)(U)}},8619:(Ie,S,F)=>{Object.defineProperty(S,"__esModule",{value:!0});var G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(y){return typeof y}:function(y){return y&&"function"==typeof Symbol&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},j=R(F(7020)),q=R(F(2233)),K=F(723);function R(y){return y&&y.__esModule?y:{default:y}}S.default=function U(y){if("string"==typeof y)return function D(y){var x=document.querySelectorAll(y);if(0!==x.length){for(var v=[],T=0;T<x.length;T++)v.push(U(x[T]));return v}}(y);if(Array.isArray(y)){for(var x=[],v=0;v<y.length;v++)x.push(U(y[v]));return x}if(typeof HTMLCanvasElement<"u"&&y instanceof HTMLImageElement)return function m(y){var x=document.createElement("canvas");return{element:x,options:(0,j.default)(y),renderer:q.default.CanvasRenderer,afterRender:function(){y.setAttribute("src",x.toDataURL())}}}(y);if(y&&y.nodeName&&"svg"===y.nodeName.toLowerCase()||typeof SVGElement<"u"&&y instanceof SVGElement)return{element:y,options:(0,j.default)(y),renderer:q.default.SVGRenderer};if(typeof HTMLCanvasElement<"u"&&y instanceof HTMLCanvasElement)return{element:y,options:(0,j.default)(y),renderer:q.default.CanvasRenderer};if(y&&y.getContext)return{element:y,renderer:q.default.CanvasRenderer};if(y&&"object"===(typeof y>"u"?"undefined":G(y))&&!y.nodeName)return{element:y,renderer:q.default.ObjectRenderer};throw new K.InvalidElementException}},1301:(Ie,S)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.default=function F(G){var b=[];return function j(N){if(Array.isArray(N))for(var q=0;q<N.length;q++)j(N[q]);else N.text=N.text||"",N.data=N.data||"",b.push(N)}(G),b}},6017:(Ie,S)=>{Object.defineProperty(S,"__esModule",{value:!0});var F=Object.assign||function(G){for(var b=1;b<arguments.length;b++){var j=arguments[b];for(var N in j)Object.prototype.hasOwnProperty.call(j,N)&&(G[N]=j[N])}return G};S.default=function(G,b){return F({},G,b)}},4866:(Ie,S)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.default=function F(G){var b=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var j in b)b.hasOwnProperty(j)&&"string"==typeof G[j=b[j]]&&(G[j]=parseInt(G[j],10));return"string"==typeof G.displayValue&&(G.displayValue="false"!=G.displayValue),G}},530:(Ie,S)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.default={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}}},1799:(Ie,S,F)=>{Object.defineProperty(S,"__esModule",{value:!0});var G=function(){function U(D,m){for(var y=0;y<m.length;y++){var x=m[y];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(D,x.key,x)}}return function(D,m,y){return m&&U(D.prototype,m),y&&U(D,y),D}}(),j=function q(U){return U&&U.__esModule?U:{default:U}}(F(6017)),N=F(4358),R=function(){function U(D,m,y){(function K(U,D){if(!(U instanceof D))throw new TypeError("Cannot call a class as a function")})(this,U),this.canvas=D,this.encodings=m,this.options=y}return G(U,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var m=0;m<this.encodings.length;m++){var y=(0,j.default)(this.options,this.encodings[m].options);this.drawCanvasBarcode(y,this.encodings[m]),this.drawCanvasText(y,this.encodings[m]),this.moveCanvasDrawing(this.encodings[m])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var m=this.canvas.getContext("2d");m.save(),(0,N.calculateEncodingAttributes)(this.encodings,this.options,m);var y=(0,N.getTotalWidthOfEncodings)(this.encodings),x=(0,N.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=y+this.options.marginLeft+this.options.marginRight,this.canvas.height=x,m.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(m.fillStyle=this.options.background,m.fillRect(0,0,this.canvas.width,this.canvas.height)),m.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(m,y){var T,x=this.canvas.getContext("2d"),v=y.data;T="top"==m.textPosition?m.marginTop+m.fontSize+m.textMargin:m.marginTop,x.fillStyle=m.lineColor;for(var k=0;k<v.length;k++){var P=k*m.width+y.barcodePadding;"1"===v[k]?x.fillRect(P,T,m.width,m.height):v[k]&&x.fillRect(P,T,m.width,m.height*v[k])}}},{key:"drawCanvasText",value:function(m,y){var T,k,x=this.canvas.getContext("2d");m.displayValue&&(k="top"==m.textPosition?m.marginTop+m.fontSize-m.textMargin:m.height+m.textMargin+m.marginTop+m.fontSize,x.font=m.fontOptions+" "+m.fontSize+"px "+m.font,"left"==m.textAlign||y.barcodePadding>0?(T=0,x.textAlign="left"):"right"==m.textAlign?(T=y.width-1,x.textAlign="right"):(T=y.width/2,x.textAlign="center"),x.fillText(y.text,T,k))}},{key:"moveCanvasDrawing",value:function(m){this.canvas.getContext("2d").translate(m.width,0)}},{key:"restoreCanvas",value:function(){this.canvas.getContext("2d").restore()}}]),U}();S.default=R},2233:(Ie,S,F)=>{Object.defineProperty(S,"__esModule",{value:!0});var b=R(F(1799)),N=R(F(5794)),K=R(F(1138));function R(U){return U&&U.__esModule?U:{default:U}}S.default={CanvasRenderer:b.default,SVGRenderer:N.default,ObjectRenderer:K.default}},1138:(Ie,S)=>{Object.defineProperty(S,"__esModule",{value:!0});var F=function(){function j(N,q){for(var K=0;K<q.length;K++){var R=q[K];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(N,R.key,R)}}return function(N,q,K){return q&&j(N.prototype,q),K&&j(N,K),N}}(),b=function(){function j(N,q,K){(function G(j,N){if(!(j instanceof N))throw new TypeError("Cannot call a class as a function")})(this,j),this.object=N,this.encodings=q,this.options=K}return F(j,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),j}();S.default=b},4358:(Ie,S,F)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.getTotalWidthOfEncodings=S.calculateEncodingAttributes=S.getBarcodePadding=S.getEncodingHeight=S.getMaximumHeightOfEncodings=void 0;var b=function j(m){return m&&m.__esModule?m:{default:m}}(F(6017));function N(m,y){return y.height+(y.displayValue&&m.text.length>0?y.fontSize+y.textMargin:0)+y.marginTop+y.marginBottom}function q(m,y,x){if(x.displayValue&&y<m){if("center"==x.textAlign)return Math.floor((m-y)/2);if("left"==x.textAlign)return 0;if("right"==x.textAlign)return Math.floor(m-y)}return 0}function D(m,y,x){var v;if(x)v=x;else{if(!(typeof document<"u"))return 0;v=document.createElement("canvas").getContext("2d")}v.font=y.fontOptions+" "+y.fontSize+"px "+y.font;var T=v.measureText(m);return T?T.width:0}S.getMaximumHeightOfEncodings=function U(m){for(var y=0,x=0;x<m.length;x++)m[x].height>y&&(y=m[x].height);return y},S.getEncodingHeight=N,S.getBarcodePadding=q,S.calculateEncodingAttributes=function K(m,y,x){for(var v=0;v<m.length;v++){var P,T=m[v],k=(0,b.default)(y,T.options);P=k.displayValue?D(T.text,k,x):0;var te=T.data.length*k.width;T.width=Math.ceil(Math.max(P,te)),T.height=N(T,k),T.barcodePadding=q(P,te,k)}},S.getTotalWidthOfEncodings=function R(m){for(var y=0,x=0;x<m.length;x++)y+=m[x].width;return y}},5794:(Ie,S,F)=>{Object.defineProperty(S,"__esModule",{value:!0});var G=function(){function D(m,y){for(var x=0;x<y.length;x++){var v=y[x];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,v.key,v)}}return function(m,y,x){return y&&D(m.prototype,y),x&&D(m,x),m}}(),j=function q(D){return D&&D.__esModule?D:{default:D}}(F(6017)),N=F(4358),R="http://www.w3.org/2000/svg",U=function(){function D(m,y,x){(function K(D,m){if(!(D instanceof m))throw new TypeError("Cannot call a class as a function")})(this,D),this.svg=m,this.encodings=y,this.options=x,this.document=x.xmlDocument||document}return G(D,[{key:"render",value:function(){var y=this.options.marginLeft;this.prepareSVG();for(var x=0;x<this.encodings.length;x++){var v=this.encodings[x],T=(0,j.default)(this.options,v.options),k=this.createGroup(y,T.marginTop,this.svg);this.setGroupOptions(k,T),this.drawSvgBarcode(k,T,v),this.drawSVGText(k,T,v),y+=v.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,N.calculateEncodingAttributes)(this.encodings,this.options);var y=(0,N.getTotalWidthOfEncodings)(this.encodings),x=(0,N.getMaximumHeightOfEncodings)(this.encodings),v=y+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(v,x),this.options.background&&this.drawRect(0,0,v,x,this.svg).setAttribute("style","fill:"+this.options.background+";")}},{key:"drawSvgBarcode",value:function(y,x,v){var k,T=v.data;k="top"==x.textPosition?x.fontSize+x.textMargin:0;for(var P=0,te=0,le=0;le<T.length;le++)te=le*x.width+v.barcodePadding,"1"===T[le]?P++:P>0&&(this.drawRect(te-x.width*P,k,x.width*P,x.height,y),P=0);P>0&&this.drawRect(te-x.width*(P-1),k,x.width*P,x.height,y)}},{key:"drawSVGText",value:function(y,x,v){var k,P,T=this.document.createElementNS(R,"text");x.displayValue&&(T.setAttribute("style","font:"+x.fontOptions+" "+x.fontSize+"px "+x.font),P="top"==x.textPosition?x.fontSize-x.textMargin:x.height+x.textMargin+x.fontSize,"left"==x.textAlign||v.barcodePadding>0?(k=0,T.setAttribute("text-anchor","start")):"right"==x.textAlign?(k=v.width-1,T.setAttribute("text-anchor","end")):(k=v.width/2,T.setAttribute("text-anchor","middle")),T.setAttribute("x",k),T.setAttribute("y",P),T.appendChild(this.document.createTextNode(v.text)),y.appendChild(T))}},{key:"setSvgAttributes",value:function(y,x){var v=this.svg;v.setAttribute("width",y+"px"),v.setAttribute("height",x+"px"),v.setAttribute("x","0px"),v.setAttribute("y","0px"),v.setAttribute("viewBox","0 0 "+y+" "+x),v.setAttribute("xmlns",R),v.setAttribute("version","1.1"),v.setAttribute("style","transform: translate(0,0)")}},{key:"createGroup",value:function(y,x,v){var T=this.document.createElementNS(R,"g");return T.setAttribute("transform","translate("+y+", "+x+")"),v.appendChild(T),T}},{key:"setGroupOptions",value:function(y,x){y.setAttribute("style","fill:"+x.lineColor+";")}},{key:"drawRect",value:function(y,x,v,T,k){var P=this.document.createElementNS(R,"rect");return P.setAttribute("x",y),P.setAttribute("y",x),P.setAttribute("width",v),P.setAttribute("height",T),k.appendChild(P),P}}]),D}();S.default=U}},Ie=>{Ie(Ie.s=8482)}]);