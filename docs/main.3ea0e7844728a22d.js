"use strict";(self.webpackChunkgestion_muestras=self.webpackChunkgestion_muestras||[]).push([[590],{308:(xe,S,N)=>{function H(n,e,t,i,r,o,s){try{var a=n[o](s),c=a.value}catch(l){return void t(l)}a.done?e(c):Promise.resolve(c).then(i,r)}function _(n){return function(){var e=this,t=arguments;return new Promise(function(i,r){var o=n.apply(e,t);function s(c){H(o,i,r,s,a,"next",c)}function a(c){H(o,i,r,s,a,"throw",c)}s(void 0)})}}let R=null,W=1;const P=Symbol("SIGNAL");function B(n){const e=R;return R=n,e}function A(n){if((!Fs(n)||n.dirty)&&(n.dirty||n.lastCleanEpoch!==W)){if(!n.producerMustRecompute(n)&&!cr(n))return n.dirty=!1,void(n.lastCleanEpoch=W);n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=W}}function cr(n){Ke(n);for(let e=0;e<n.producerNode.length;e++){const t=n.producerNode[e],i=n.producerLastReadVersion[e];if(i!==t.version||(A(t),i!==t.version))return!0}return!1}function Rc(n,e){if(function Gt(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),Ke(n),1===n.liveConsumerNode.length)for(let i=0;i<n.producerNode.length;i++)Rc(n.producerNode[i],n.producerIndexOfThis[i]);const t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){const i=n.liveConsumerIndexOfThis[e],r=n.liveConsumerNode[e];Ke(r),r.producerIndexOfThis[i]=e}}function Fs(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Ke(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let cF=null;function bt(n){return"function"==typeof n}function NC(n){const t=n(i=>{Error.call(i),i.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const FC=NC(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function p_(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class si{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:i}=this;if(bt(i))try{i()}catch(o){e=o instanceof FC?o.errors:[o]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const o of r)try{fF(o)}catch(s){e=e??[],s instanceof FC?e=[...e,...s.errors]:e.push(s)}}if(e)throw new FC(e)}}add(e){var t;if(e&&e!==this)if(this.closed)fF(e);else{if(e instanceof si){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&p_(t,e)}remove(e){const{_finalizers:t}=this;t&&p_(t,e),e instanceof si&&e._removeParent(this)}}si.EMPTY=(()=>{const n=new si;return n.closed=!0,n})();const dF=si.EMPTY;function hF(n){return n instanceof si||n&&"closed"in n&&bt(n.remove)&&bt(n.add)&&bt(n.unsubscribe)}function fF(n){bt(n)?n():n.unsubscribe()}const Nc={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},g_={setTimeout(n,e,...t){const{delegate:i}=g_;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=g_;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function pF(n){g_.setTimeout(()=>{const{onUnhandledError:e}=Nc;if(!e)throw n;e(n)})}function Jh(){}const mZ=LC("C",void 0,void 0);function LC(n,e,t){return{kind:n,value:e,error:t}}let Fc=null;function m_(n){if(Nc.useDeprecatedSynchronousErrorHandling){const e=!Fc;if(e&&(Fc={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:i}=Fc;if(Fc=null,t)throw i}}else n()}class VC extends si{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,hF(e)&&e.add(this)):this.destination=xZ}static create(e,t,i){return new ef(e,t,i)}next(e){this.isStopped?UC(function bZ(n){return LC("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?UC(function _Z(n){return LC("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?UC(mZ,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const vZ=Function.prototype.bind;function BC(n,e){return vZ.call(n,e)}class wZ{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){__(i)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){__(i)}else __(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){__(t)}}}class ef extends VC{constructor(e,t,i){let r;if(super(),bt(e)||!e)r={next:e??void 0,error:t??void 0,complete:i??void 0};else{let o;this&&Nc.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&BC(e.next,o),error:e.error&&BC(e.error,o),complete:e.complete&&BC(e.complete,o)}):r=e}this.destination=new wZ(r)}}function __(n){Nc.useDeprecatedSynchronousErrorHandling?function yZ(n){Nc.useDeprecatedSynchronousErrorHandling&&Fc&&(Fc.errorThrown=!0,Fc.error=n)}(n):pF(n)}function UC(n,e){const{onStoppedNotification:t}=Nc;t&&g_.setTimeout(()=>t(n,e))}const xZ={closed:!0,next:Jh,error:function CZ(n){throw n},complete:Jh},jC="function"==typeof Symbol&&Symbol.observable||"@@observable";function Ca(n){return n}function gF(n){return 0===n.length?Ca:1===n.length?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}let qt=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){const o=function TZ(n){return n&&n instanceof VC||function IZ(n){return n&&bt(n.next)&&bt(n.error)&&bt(n.complete)}(n)&&hF(n)}(t)?t:new ef(t,i,r);return m_(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return new(i=mF(i))((r,o)=>{const s=new ef({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(t){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(t)}[jC](){return this}pipe(...t){return gF(t)(this)}toPromise(t){return new(t=mF(t))((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return n.create=e=>new n(e),n})();function mF(n){var e;return null!==(e=n??Nc.Promise)&&void 0!==e?e:Promise}const DZ=NC(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Ct=(()=>{class n extends qt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const i=new _F(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new DZ}next(t){m_(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(t)}})}error(t){m_(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){m_(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:i,isStopped:r,observers:o}=this;return i||r?dF:(this.currentObservers=null,o.push(t),new si(()=>{this.currentObservers=null,p_(o,t)}))}_checkFinalizedStatuses(t){const{hasError:i,thrownError:r,isStopped:o}=this;i?t.error(r):o&&t.complete()}asObservable(){const t=new qt;return t.source=this,t}}return n.create=(e,t)=>new _F(e,t),n})();class _F extends Ct{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===i||i.call(t,e)}error(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===i||i.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,i;return null!==(i=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==i?i:dF}}class lr extends Ct{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}function bF(n){return bt(n?.lift)}function yn(n){return e=>{if(bF(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function fn(n,e,t,i,r){return new MZ(n,e,t,i,r)}class MZ extends VC{constructor(e,t,i,r,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=r?function(a){try{r(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Pe(n,e){return yn((t,i)=>{let r=0;t.subscribe(fn(i,o=>{i.next(n.call(e,o,r++))}))})}const yF="https://g.co/ng/security#xss";class U extends Error{constructor(e,t){super(function gu(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function zC(n){return e=>{setTimeout(n,void 0,e)}}const Qe=class SZ extends Ct{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,i){let r=e,o=t||(()=>null),s=i;if(e&&"object"==typeof e){const c=e;r=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=zC(o),r&&(r=zC(r)),s&&(s=zC(s)));const a=super.subscribe({next:r,error:o,complete:s});return e instanceof si&&e.add(a),a}};var ot=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(ot||{});function ai(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(ai).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function $C(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}var y_=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(y_||{}),xo=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(xo||{});function Ls(n){return{toString:n}.toString()}const At=globalThis,qo={},xt=[];function Ot(n){for(let e in n)if(n[e]===Ot)return e;throw Error("Could not find renamed property on target object.")}function PZ(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}const tf=Ot({\u0275cmp:Ot}),HC=Ot({\u0275dir:Ot}),GC=Ot({\u0275pipe:Ot}),CF=Ot({\u0275mod:Ot}),Vs=Ot({\u0275fac:Ot}),nf=Ot({__NG_ELEMENT_ID__:Ot}),xF=Ot({__NG_ENV_ID__:Ot});var st=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(st||{});function EF(n,e,t){let i=n.length;for(;;){const r=n.indexOf(e,t);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const o=e.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}t=r+1}}function qC(n,e,t){let i=0;for(;i<t.length;){const r=t[i];if("number"==typeof r){if(0!==r)break;i++;const o=t[i++],s=t[i++],a=t[i++];n.setAttribute(e,s,a,o)}else{const o=r,s=t[++i];TF(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),i++}}return i}function IF(n){return 3===n||4===n||6===n}function TF(n){return 64===n.charCodeAt(0)}function rf(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){const r=e[i];"number"==typeof r?t=r:0===t||DF(n,t,r,null,-1===t||2===t?e[++i]:null)}}return n}function DF(n,e,t,i,r){let o=0,s=n.length;if(-1===e)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===t){if(null===i)return void(null!==r&&(n[o+1]=r));if(i===n[o+1])return void(n[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==s&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),null!==i&&n.splice(o++,0,i),null!==r&&n.splice(o++,0,r)}const MF="ng-template";function RZ(n,e,t){let i=0,r=!0;for(;i<n.length;){let o=n[i++];if("string"==typeof o&&r){const s=n[i++];if(t&&"class"===o&&-1!==EF(s.toLowerCase(),e,0))return!0}else{if(1===o){for(;i<n.length&&"string"==typeof(o=n[i++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(r=!1)}}return!1}function SF(n){return 4===n.type&&n.value!==MF}function NZ(n,e,t){return e===(4!==n.type||t?n.value:MF)}function FZ(n,e,t){let i=4;const r=n.attrs||[],o=function BZ(n){for(let e=0;e<n.length;e++)if(IF(n[e]))return e;return n.length}(r);let s=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!s)if(4&i){if(i=2|1&i,""!==c&&!NZ(n,c,t)||""===c&&1===e.length){if(Eo(i))return!1;s=!0}}else{const l=8&i?c:e[++a];if(8&i&&null!==n.attrs){if(!RZ(n.attrs,l,t)){if(Eo(i))return!1;s=!0}continue}const d=LZ(8&i?"class":c,r,SF(n),t);if(-1===d){if(Eo(i))return!1;s=!0;continue}if(""!==l){let h;h=d>o?"":r[d+1].toLowerCase();const f=8&i?h:null;if(f&&-1!==EF(f,l,0)||2&i&&l!==h){if(Eo(i))return!1;s=!0}}}}else{if(!s&&!Eo(i)&&!Eo(c))return!1;if(s&&Eo(c))continue;s=!1,i=c|1&i}}return Eo(i)||s}function Eo(n){return 0==(1&n)}function LZ(n,e,t,i){if(null===e)return-1;let r=0;if(i||!t){let o=!1;for(;r<e.length;){const s=e[r];if(s===n)return r;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++r];for(;"string"==typeof a;)a=e[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=o?1:2}return-1}return function UZ(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const i=n[t];if("number"==typeof i)return-1;if(i===e)return t;t++}return-1}(e,n)}function AF(n,e,t=!1){for(let i=0;i<e.length;i++)if(FZ(n,e[i],t))return!0;return!1}function jZ(n,e){e:for(let t=0;t<e.length;t++){const i=e[t];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function kF(n,e){return n?":not("+e.trim()+")":e}function zZ(n){let e=n[0],t=1,i=2,r="",o=!1;for(;t<n.length;){let s=n[t];if("string"==typeof s)if(2&i){const a=n[++t];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""!==r&&!Eo(s)&&(e+=kF(o,r),r=""),i=s,o=o||!Eo(i);t++}return""!==r&&(e+=kF(o,r)),e}function Te(n){return Ls(()=>{const e=PF(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===y_.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||xo.Emulated,styles:n.styles||xt,_:null,schemas:n.schemas||null,tView:null,id:""};RF(t);const i=n.dependencies;return t.directiveDefs=v_(i,!1),t.pipeDefs=v_(i,!0),t.id=function KZ(n){let e=0;const t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const r of t)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(t),t})}function GZ(n){return Je(n)||ci(n)}function qZ(n){return null!==n}function Ze(n){return Ls(()=>({type:n.type,bootstrap:n.bootstrap||xt,declarations:n.declarations||xt,imports:n.imports||xt,exports:n.exports||xt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function OF(n,e){if(null==n)return qo;const t={};for(const i in n)if(n.hasOwnProperty(i)){const r=n[i];let o,s,a=st.None;Array.isArray(r)?(a=r[0],o=r[1],s=r[2]??o):(o=r,s=r),e?(t[o]=a!==st.None?[i,a]:i,e[o]=s):t[o]=i}return t}function me(n){return Ls(()=>{const e=PF(n);return RF(e),e})}function Je(n){return n[tf]||null}function ci(n){return n[HC]||null}function Oi(n){return n[GC]||null}function Wi(n,e){const t=n[CF]||null;if(!t&&!0===e)throw new Error(`Type ${ai(n)} does not have '\u0275mod' property.`);return t}function PF(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||qo,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||xt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:OF(n.inputs,e),outputs:OF(n.outputs),debugInfo:null}}function RF(n){n.features?.forEach(e=>e(n))}function v_(n,e){if(!n)return null;const t=e?Oi:GZ;return()=>("function"==typeof n?n():n).map(i=>t(i)).filter(qZ)}const pn=0,ie=1,Ce=2,Ln=3,Io=4,Ki=5,To=6,mu=7,Wt=8,Pi=9,Bs=10,Re=11,sf=12,NF=13,_u=14,vn=15,af=16,bu=17,Us=18,cf=19,FF=20,Ia=21,w_=22,Lc=23,Ve=25,WC=1,Wo=7,yu=9,Vn=10;var KC=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(KC||{});function Qi(n){return Array.isArray(n)&&"object"==typeof n[WC]}function Yi(n){return Array.isArray(n)&&!0===n[WC]}function QC(n){return 0!=(4&n.flags)}function Vc(n){return n.componentOffset>-1}function x_(n){return 1==(1&n.flags)}function Do(n){return!!n.template}function YC(n){return 0!=(512&n[Ce])}let zF=!1;function Lt(n){for(;Array.isArray(n);)n=n[pn];return n}function uf(n,e){return Lt(e[n])}function ur(n,e){return Lt(e[n.index])}function df(n,e){return n.data[e]}function jr(n,e){const t=e[n];return Qi(t)?t:t[pn]}function ex(n){return 128==(128&n[Ce])}function Ko(n,e){return null==e?null:n[e]}function $F(n){n[bu]=0}function nJ(n){1024&n[Ce]||(n[Ce]|=1024,ex(n)&&hf(n))}function tx(n){return!!(9216&n[Ce]||n[Lc]?.dirty)}function nx(n){tx(n)?hf(n):64&n[Ce]&&(function ZZ(){return zF}()?(n[Ce]|=1024,hf(n)):n[Bs].changeDetectionScheduler?.notify())}function hf(n){n[Bs].changeDetectionScheduler?.notify();let e=Bc(n);for(;null!==e&&!(8192&e[Ce])&&(e[Ce]|=8192,ex(e));)e=Bc(e)}function E_(n,e){if(256==(256&n[Ce]))throw new U(911,!1);null===n[Ia]&&(n[Ia]=[]),n[Ia].push(e)}function Bc(n){const e=n[Ln];return Yi(e)?e[Ln]:e}const ke={lFrame:JF(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function qF(){return ke.bindingsEnabled}function wu(){return null!==ke.skipHydrationRootTNode}function q(){return ke.lFrame.lView}function at(){return ke.lFrame.tView}function Ne(n){return ke.lFrame.contextLView=n,n[Wt]}function Fe(n){return ke.lFrame.contextLView=null,n}function Pt(){let n=WF();for(;null!==n&&64===n.type;)n=n.parent;return n}function WF(){return ke.lFrame.currentTNode}function Qo(n,e){const t=ke.lFrame;t.currentTNode=n,t.isParent=e}function rx(){return ke.lFrame.isParent}function ox(){ke.lFrame.isParent=!1}function Mo(){return ke.lFrame.bindingIndex++}function zs(n){const e=ke.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function fJ(n,e){const t=ke.lFrame;t.bindingIndex=t.bindingRootIndex=n,sx(e)}function sx(n){ke.lFrame.currentDirectiveIndex=n}function ax(n){const e=ke.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}function cx(){return ke.lFrame.currentQueryIndex}function I_(n){ke.lFrame.currentQueryIndex=n}function gJ(n){const e=n[ie];return 2===e.type?e.declTNode:1===e.type?n[Ki]:null}function XF(n,e,t){if(t&ot.SkipSelf){let r=e,o=n;for(;!(r=r.parent,null!==r||t&ot.Host||(r=gJ(o),null===r||(o=o[_u],10&r.type))););if(null===r)return!1;e=r,n=o}const i=ke.lFrame=ZF();return i.currentTNode=e,i.lView=n,!0}function lx(n){const e=ZF(),t=n[ie];ke.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function ZF(){const n=ke.lFrame,e=null===n?null:n.child;return null===e?JF(n):e}function JF(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function eL(){const n=ke.lFrame;return ke.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const tL=eL;function ux(){const n=eL();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Xi(){return ke.lFrame.selectedIndex}function Uc(n){ke.lFrame.selectedIndex=n}function Kt(){const n=ke.lFrame;return df(n.tView,n.selectedIndex)}function T_(){ke.lFrame.currentNamespace="svg"}function dx(){!function bJ(){ke.lFrame.currentNamespace=null}()}let iL=!0;function D_(){return iL}function Ta(n){iL=n}function yJ(){return Cu(Pt(),q())}function Cu(n,e){return new gn(ur(n,e))}let px,gn=(()=>{class n{constructor(t){this.nativeElement=t}static#e=this.__NG_ELEMENT_ID__=yJ}return n})();function rL(n){return n instanceof gn?n.nativeElement:n}function xu(n,e){n.forEach(t=>Array.isArray(t)?xu(t,e):e(t))}function oL(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function M_(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function zr(n,e,t){let i=Eu(n,e);return i>=0?n[1|i]=t:(i=~i,function sL(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(1===r)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;)n[r]=n[r-2],r--;n[e]=t,n[e+1]=i}}(n,i,e,t)),i}function fx(n,e){const t=Eu(n,e);if(t>=0)return n[1|t]}function Eu(n,e){return function aL(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){const o=i+(r-i>>1),s=n[o<<t];if(e===s)return o<<t;s>e?r=o:i=o+1}return~(r<<t)}(n,e,1)}function wJ(){return this._results[Symbol.iterator]()}class pf{static#e=Symbol.iterator;get changes(){return this._changes??=new Qe}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const t=pf.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=wJ)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;const i=function Ir(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function vJ(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=e[i];if(t&&(r=t(r),o=t(o)),o!==r)return!1}return!0}(this._results,i,t))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function A_(n){return 128==(128&n.flags)}function ne(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Xe(n){return{providers:n.providers||[],imports:n.imports||[]}}function O_(n){return uL(n,R_)||uL(n,dL)}function uL(n,e){return n.hasOwnProperty(e)?n[e]:null}function P_(n){return n&&(n.hasOwnProperty(gx)||n.hasOwnProperty(TJ))?n[gx]:null}const R_=Ot({\u0275prov:Ot}),gx=Ot({\u0275inj:Ot}),dL=Ot({ngInjectableDef:Ot}),TJ=Ot({ngInjectorDef:Ot});class X{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=ne({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const N_=new X("",{providedIn:"root",factory:()=>DJ}),DJ="ng",hL=new X(""),ro=new X("",{providedIn:"platform",factory:()=>"unknown"}),jc=new X(""),mx=new X("",{providedIn:"root",factory:()=>function Da(){if(void 0!==px)return px;if(typeof document<"u")return document;throw new U(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),AJ=Ot({__forward_ref__:Ot});function Qt(n){return n.__forward_ref__=Qt,n.toString=function(){return ai(this())},n}function Ae(n){return F_(n)?n():n}function F_(n){return"function"==typeof n&&n.hasOwnProperty(AJ)&&n.__forward_ref__===Qt}function wx(n){return n&&!!n.\u0275providers}function Be(n){return"string"==typeof n?n:null==n?"":String(n)}function Cx(n,e){throw new U(-201,!1)}let xx;function pL(){return xx}function Tr(n){const e=xx;return xx=n,e}function gL(n,e,t){const i=O_(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:t&ot.Optional?null:void 0!==e?e:void Cx()}const mf={},Ex="__NG_DI_FLAG__",L_="ngTempTokenPath",FJ=/\n/gm,mL="__source";let Iu;function Ma(n){const e=Iu;return Iu=n,e}function BJ(n,e=ot.Default){if(void 0===Iu)throw new U(-203,!1);return null===Iu?gL(n,void 0,e):Iu.get(n,e&ot.Optional?null:void 0,e)}function $(n,e=ot.Default){return(pL()||BJ)(Ae(n),e)}function Z(n,e=ot.Default){return $(n,V_(e))}function V_(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Ix(n){const e=[];for(let t=0;t<n.length;t++){const i=Ae(n[t]);if(Array.isArray(i)){if(0===i.length)throw new U(900,!1);let r,o=ot.Default;for(let s=0;s<i.length;s++){const a=i[s],c=UJ(a);"number"==typeof c?-1===c?r=a.token:o|=c:r=a}e.push($(r,o))}else e.push($(i))}return e}function _f(n,e){return n[Ex]=e,n.prototype[Ex]=e,n}function UJ(n){return n[Ex]}let bL=()=>null;function Px(n,e,t=!1){return bL(n,e,t)}const Au="__parameters__";function Ou(n,e,t){return Ls(()=>{const i=function Lx(n){return function(...t){if(n){const i=n(...t);for(const r in i)this[r]=i[r]}}}(e);function r(...o){if(this instanceof r)return i.apply(this,o),this;const s=new r(...o);return a.annotation=s,a;function a(c,l,u){const d=c.hasOwnProperty(Au)?c[Au]:Object.defineProperty(c,Au,{value:[]})[Au];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}const Yt=_f(Ou("Optional"),8),wf=_f(Ou("SkipSelf"),4);function zc(n,e){return n.hasOwnProperty(Vs)?n[Vs]:null}const $c=new X(""),EL=new X("",-1),Vx=new X("");class H_{get(e,t=mf){if(t===mf){const i=new Error(`NullInjectorError: No provider for ${ai(e)}!`);throw i.name="NullInjectorError",i}return t}}function eee(...n){return{\u0275providers:Bx(0,n),\u0275fromNgModule:!0}}function Bx(n,...e){const t=[],i=new Set;let r;const o=s=>{t.push(s)};return xu(e,s=>{const a=s;q_(a,o,[],i)&&(r||=[],r.push(a))}),void 0!==r&&IL(r,o),t}function IL(n,e){for(let t=0;t<n.length;t++){const{ngModule:i,providers:r}=n[t];Ux(r,o=>{e(o,i)})}}function q_(n,e,t,i){if(!(n=Ae(n)))return!1;let r=null,o=P_(n);const s=!o&&Je(n);if(o||s){if(s&&!s.standalone)return!1;r=n}else{const c=n.ngModule;if(o=P_(c),!o)return!1;r=c}const a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const l of c)q_(l,e,t,i)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let l;i.add(r);try{xu(o.imports,u=>{q_(u,e,t,i)&&(l||=[],l.push(u))})}finally{}void 0!==l&&IL(l,e)}if(!a){const l=zc(r)||(()=>new r);e({provide:r,useFactory:l,deps:xt},r),e({provide:Vx,useValue:r,multi:!0},r),e({provide:$c,useValue:()=>$(r),multi:!0},r)}const c=o.providers;if(null!=c&&!a){const l=n;Ux(c,u=>{e(u,l)})}}}return r!==n&&void 0!==n.providers}function Ux(n,e){for(let t of n)wx(t)&&(t=t.\u0275providers),Array.isArray(t)?Ux(t,e):e(t)}const tee=Ot({provide:String,useValue:Ot});function jx(n){return null!==n&&"object"==typeof n&&tee in n}function Hc(n){return"function"==typeof n}const zx=new X(""),W_={},iee={};let $x;function K_(){return void 0===$x&&($x=new H_),$x}class $r{}class Pu extends $r{get destroyed(){return this._destroyed}constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Gx(e,s=>this.processProvider(s)),this.records.set(EL,Ru(void 0,this)),r.has("environment")&&this.records.set($r,Ru(void 0,this));const o=this.records.get(zx);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Vx,xt,ot.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of e)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const t=Ma(this),i=Tr(void 0);try{return e()}finally{Ma(t),Tr(i)}}get(e,t=mf,i=ot.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(xF))return e[xF](this);i=V_(i);const o=Ma(this),s=Tr(void 0);try{if(!(i&ot.SkipSelf)){let c=this.records.get(e);if(void 0===c){const l=function cee(n){return"function"==typeof n||"object"==typeof n&&n instanceof X}(e)&&O_(e);c=l&&this.injectableDefInScope(l)?Ru(Hx(e),W_):null,this.records.set(e,c)}if(null!=c)return this.hydrate(e,c)}return(i&ot.Self?K_():this.parent).get(e,t=i&ot.Optional&&t===mf?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[L_]=a[L_]||[]).unshift(ai(e)),o)throw a;return function jJ(n,e,t,i){const r=n[L_];throw e[mL]&&r.unshift(e[mL]),n.message=function zJ(n,e,t,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let r=ai(e);if(Array.isArray(e))r=e.map(ai).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):ai(a)))}r=`{${o.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace(FJ,"\n  ")}`}("\n"+n.message,r,t,i),n.ngTokenPath=r,n[L_]=null,n}(a,e,"R3InjectorError",this.source)}throw a}finally{Tr(s),Ma(o)}}resolveInjectorInitializers(){const e=Ma(this),t=Tr(void 0);try{const r=this.get($c,xt,ot.Self);for(const o of r)o()}finally{Ma(e),Tr(t)}}toString(){const e=[],t=this.records;for(const i of t.keys())e.push(ai(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new U(205,!1)}processProvider(e){let t=Hc(e=Ae(e))?e:Ae(e&&e.provide);const i=function oee(n){return jx(n)?Ru(void 0,n.useValue):Ru(ML(n),W_)}(e);if(!Hc(e)&&!0===e.multi){let r=this.records.get(t);r||(r=Ru(void 0,W_,!0),r.factory=()=>Ix(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t){return t.value===W_&&(t.value=iee,t.value=t.factory()),"object"==typeof t.value&&t.value&&function aee(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=Ae(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){const t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}}function Hx(n){const e=O_(n),t=null!==e?e.factory:zc(n);if(null!==t)return t;if(n instanceof X)throw new U(204,!1);if(n instanceof Function)return function ree(n){if(n.length>0)throw new U(204,!1);const t=function IJ(n){return n&&(n[R_]||n[dL])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new U(204,!1)}function ML(n,e,t){let i;if(Hc(n)){const r=Ae(n);return zc(r)||Hx(r)}if(jx(n))i=()=>Ae(n.useValue);else if(function DL(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...Ix(n.deps||[]));else if(function TL(n){return!(!n||!n.useExisting)}(n))i=()=>$(Ae(n.useExisting));else{const r=Ae(n&&(n.useClass||n.provide));if(!function see(n){return!!n.deps}(n))return zc(r)||Hx(r);i=()=>new r(...Ix(n.deps))}return i}function Ru(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function Gx(n,e){for(const t of n)Array.isArray(t)?Gx(t,e):t&&wx(t)?Gx(t.\u0275providers,e):e(t)}function Gc(n,e){n instanceof Pu&&n.assertNotDestroyed();const i=Ma(n),r=Tr(void 0);try{return e()}finally{Ma(i),Tr(r)}}class bee{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}}function AL(n,e,t,i){null!==e?e.applyValueToInputSignal(e,i):n[t]=i}function oo(){return kL}function kL(n){return n.type.prototype.ngOnChanges&&(n.setInput=vee),yee}function yee(){const n=PL(this),e=n?.current;if(e){const t=n.previous;if(t===qo)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function vee(n,e,t,i,r){const o=this.declaredInputs[i],s=PL(n)||function wee(n,e){return n[OL]=e}(n,{previous:qo,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new bee(l&&l.currentValue,t,c===qo),AL(n,e,r,t)}oo.ngInherit=!0;const OL="__ngSimpleChanges__";function PL(n){return n[OL]||null}const Yo=function(n,e,t){};function X_(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){const o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),null!=u&&(n.destroyHooks??=[]).push(t,u)}}function Z_(n,e,t){RL(n,e,3,t)}function J_(n,e,t,i){(3&n[Ce])===t&&RL(n,e,t,i)}function Kx(n,e){let t=n[Ce];(3&t)===e&&(t&=16383,t+=1,n[Ce]=t)}function RL(n,e,t,i){const o=i??-1,s=e.length-1;let a=0;for(let c=void 0!==i?65535&n[bu]:0;c<s;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=i&&a>=i)break}else e[c]<0&&(n[bu]+=65536),(a<o||-1==o)&&(Eee(n,t,e,c),n[bu]=(4294901760&n[bu])+c+2),c++}function NL(n,e){Yo(4,n,e);const t=B(null);try{e.call(n)}finally{B(t),Yo(5,n,e)}}function Eee(n,e,t,i){const r=t[i]<0,o=t[i+1],a=n[r?-t[i]:t[i]];r?n[Ce]>>14<n[bu]>>16&&(3&n[Ce])===e&&(n[Ce]+=16384,NL(a,o)):NL(a,o)}const Fu=-1;class xf{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}}function Yx(n){return n!==Fu}function Ef(n){return 32767&n}function If(n,e){let t=function See(n){return n>>16}(n),i=e;for(;t>0;)i=i[_u],t--;return i}let Xx=!0;function eb(n){const e=Xx;return Xx=n,e}const FL=255,LL=5;let Aee=0;const Xo={};function tb(n,e){const t=VL(n,e);if(-1!==t)return t;const i=e[ie];i.firstCreatePass&&(n.injectorIndex=e.length,Zx(i.data,n),Zx(e,null),Zx(i.blueprint,null));const r=nb(n,e),o=n.injectorIndex;if(Yx(r)){const s=Ef(r),a=If(r,e),c=a[ie].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=r,o}function Zx(n,e){n.push(0,0,0,0,0,0,0,0,e)}function VL(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function nb(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;null!==r;){if(i=GL(r),null===i)return Fu;if(t++,r=r[_u],-1!==i.injectorIndex)return i.injectorIndex|t<<16}return Fu}function Jx(n,e,t){!function kee(n,e,t){let i;"string"==typeof t?i=t.charCodeAt(0)||0:t.hasOwnProperty(nf)&&(i=t[nf]),null==i&&(i=t[nf]=Aee++);const r=i&FL;e.data[n+(r>>LL)]|=1<<r}(n,e,t)}function BL(n,e,t){if(t&ot.Optional||void 0!==n)return n;Cx()}function UL(n,e,t,i){if(t&ot.Optional&&void 0===i&&(i=null),!(t&(ot.Self|ot.Host))){const r=n[Pi],o=Tr(void 0);try{return r?r.get(e,i,t&ot.Optional):gL(e,i,t&ot.Optional)}finally{Tr(o)}}return BL(i,0,t)}function jL(n,e,t,i=ot.Default,r){if(null!==n){if(2048&e[Ce]&&!(i&ot.Self)){const s=function Fee(n,e,t,i,r){let o=n,s=e;for(;null!==o&&null!==s&&2048&s[Ce]&&!(512&s[Ce]);){const a=zL(o,s,t,i|ot.Self,Xo);if(a!==Xo)return a;let c=o.parent;if(!c){const l=s[FF];if(l){const u=l.get(t,Xo,i);if(u!==Xo)return u}c=GL(s),s=s[_u]}o=c}return r}(n,e,t,i,Xo);if(s!==Xo)return s}const o=zL(n,e,t,i,Xo);if(o!==Xo)return o}return UL(e,t,i,r)}function zL(n,e,t,i,r){const o=function Ree(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(nf)?n[nf]:void 0;return"number"==typeof e?e>=0?e&FL:Nee:e}(t);if("function"==typeof o){if(!XF(e,n,i))return i&ot.Host?BL(r,0,i):UL(e,t,i,r);try{let s;if(s=o(i),null!=s||i&ot.Optional)return s;Cx()}finally{tL()}}else if("number"==typeof o){let s=null,a=VL(n,e),c=Fu,l=i&ot.Host?e[vn][Ki]:null;for((-1===a||i&ot.SkipSelf)&&(c=-1===a?nb(n,e):e[a+8],c!==Fu&&HL(i,!1)?(s=e[ie],a=Ef(c),e=If(c,e)):a=-1);-1!==a;){const u=e[ie];if($L(o,a,u.data)){const d=Pee(a,e,t,s,i,l);if(d!==Xo)return d}c=e[a+8],c!==Fu&&HL(i,e[ie].data[a+8]===l)&&$L(o,a,e)?(s=u,a=Ef(c),e=If(c,e)):a=-1}}return r}function Pee(n,e,t,i,r,o){const s=e[ie],a=s.data[n+8],u=ib(a,s,t,null==i?Vc(a)&&Xx:i!=s&&0!=(3&a.type),r&ot.Host&&o===a);return null!==u?qc(e,s,u,a):Xo}function ib(n,e,t,i,r){const o=n.providerIndexes,s=e.data,a=1048575&o,c=n.directiveStart,u=o>>20,h=r?a+u:n.directiveEnd;for(let f=i?a:a+u;f<h;f++){const b=s[f];if(f<c&&t===b||f>=c&&b.type===t)return f}if(r){const f=s[c];if(f&&Do(f)&&f.type===t)return c}return null}function qc(n,e,t,i){let r=n[t];const o=e.data;if(function Iee(n){return n instanceof xf}(r)){const s=r;s.resolving&&function PJ(n,e){throw e&&e.join(" > "),new U(-200,n)}(function Dt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Be(n)}(o[t]));const a=eb(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?Tr(s.injectImpl):null;XF(n,i,ot.Default);try{r=n[t]=s.factory(void 0,o,n,i),e.firstCreatePass&&t>=i.directiveStart&&function xee(n,e,t){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){const s=kL(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}r&&(t.preOrderHooks??=[]).push(0-n,r),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}(t,o[t],e)}finally{null!==l&&Tr(l),eb(a),s.resolving=!1,tL()}}return r}function $L(n,e,t){return!!(t[e+(n>>LL)]&1<<n)}function HL(n,e){return!(n&ot.Self||n&ot.Host&&e)}class ui{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return jL(this._tNode,this._lView,e,V_(i),t)}}function Nee(){return new ui(Pt(),q())}function mi(n){return Ls(()=>{const e=n.prototype.constructor,t=e[Vs]||eE(e),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const o=r[Vs]||eE(r);if(o&&o!==t)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function eE(n){return F_(n)?()=>{const e=eE(Ae(n));return e&&e()}:zc(n)}function GL(n){const e=n[ie],t=e.type;return 2===t?e.declTNode:1===t?n[Ki]:null}function YL(n,e=null,t=null,i){const r=XL(n,e,t,i);return r.resolveInjectorInitializers(),r}function XL(n,e=null,t=null,i,r=new Set){const o=[t||xt,eee(n)];return i=i||("object"==typeof n?void 0:ai(n)),new Pu(o,e||K_(),i||null,r)}let Ut=(()=>{class n{static#e=this.THROW_IF_NOT_FOUND=mf;static#t=this.NULL=new H_;static create(t,i){if(Array.isArray(t))return YL({name:""},i,t,"");{const r=t.name??"";return YL({name:r},t.parent,t.providers,r)}}static#n=this.\u0275prov=ne({token:n,providedIn:"any",factory:()=>$(EL)});static#i=this.__NG_ELEMENT_ID__=-1}return n})();function nE(n){return n.ngOriginalError}class So{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&nE(e);for(;t&&nE(t);)t=nE(t);return t||null}}const JL=new X("",{providedIn:"root",factory:()=>Z(So).handleError.bind(void 0)}),t3=new X("",{providedIn:"root",factory:()=>!1});class Wc{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${yF})`}}function Hr(n){return n instanceof Wc?n.changingThisBreaksApplicationSecurity:n}const ste=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Ri=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Ri||{});function cE(n){const e=function Df(){const n=q();return n&&n[Bs].sanitizer}();return e?e.sanitize(Ri.URL,n)||"":function Zo(n,e){const t=function Xee(n){return n instanceof Wc&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${yF})`)}return t===e}(n,"URL")?Hr(n):function lb(n){return(n=String(n)).match(ste)?n:"unsafe:"+n}(Be(n))}const lE=new Map;let Ite=0;const dE="__ngContext__";function Zi(n,e){Qi(e)?(n[dE]=e[cf],function Dte(n){lE.set(n[cf],n)}(e)):n[dE]=e}function Gr(n){return n instanceof Function?n():n}var Aa=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Aa||{});let gE;function mE(n,e){return gE(n,e)}function ju(n,e,t,i,r){if(null!=i){let o,s=!1;Yi(i)?o=i:Qi(i)&&(s=!0,i=i[pn]);const a=Lt(i);0===n&&null!==t?null==r?O3(e,t,a):Kc(e,t,a,r||null,!0):1===n&&null!==t?Kc(e,t,a,r||null,!0):2===n?function bb(n,e,t){const i=mb(n,e);i&&function Qte(n,e,t,i){n.removeChild(e,t,i)}(n,i,e,t)}(e,a,s):3===n&&e.destroyNode(a),null!=o&&function Zte(n,e,t,i,r){const o=t[Wo];o!==Lt(t)&&ju(e,n,i,o,r);for(let a=Vn;a<t.length;a++){const c=t[a];yb(c[ie],c,n,e,i,o)}}(e,n,o,t,r)}}function pb(n,e,t){return n.createElement(e,t)}function S3(n,e){yb(n,e,e[Re],2,null,null)}function A3(n,e){const t=n[yu],i=t.indexOf(e);t.splice(i,1)}function Sf(n,e){if(n.length<=Vn)return;const t=Vn+e,i=n[t];if(i){const r=i[af];null!==r&&r!==n&&A3(r,i),e>0&&(n[t-1][Io]=i[Io]);const o=M_(n,Vn+e);!function zte(n,e){S3(n,e),e[pn]=null,e[Ki]=null}(i[ie],i);const s=o[Us];null!==s&&s.detachView(o[ie]),i[Ln]=null,i[Io]=null,i[Ce]&=-129}return i}function gb(n,e){if(!(256&e[Ce])){const t=e[Re];t.destroyNode&&yb(n,e,t,3,null,null),function Hte(n){let e=n[sf];if(!e)return bE(n[ie],n);for(;e;){let t=null;if(Qi(e))t=e[sf];else{const i=e[Vn];i&&(t=i)}if(!t){for(;e&&!e[Io]&&e!==n;)Qi(e)&&bE(e[ie],e),e=e[Ln];null===e&&(e=n),Qi(e)&&bE(e[ie],e),t=e&&e[Io]}e=t}}(e)}}function bE(n,e){if(!(256&e[Ce])){e[Ce]&=-129,e[Ce]|=256,e[Lc]&&function Co(n){if(Ke(n),Fs(n))for(let e=0;e<n.producerNode.length;e++)Rc(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}(e[Lc]),function Kte(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let i=0;i<t.length;i+=2){const r=e[t[i]];if(!(r instanceof xf)){const o=t[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=r[o[s]],c=o[s+1];Yo(4,a,c);try{c.call(a)}finally{Yo(5,a,c)}}else{Yo(4,r,o);try{o.call(r)}finally{Yo(5,r,o)}}}}}(n,e),function Wte(n,e){const t=n.cleanup,i=e[mu];if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const s=t[o+3];s>=0?i[s]():i[-s].unsubscribe(),o+=2}else t[o].call(i[t[o+1]]);null!==i&&(e[mu]=null);const r=e[Ia];if(null!==r){e[Ia]=null;for(let o=0;o<r.length;o++)(0,r[o])()}}(n,e),1===e[ie].type&&e[Re].destroy();const t=e[af];if(null!==t&&Yi(e[Ln])){t!==e[Ln]&&A3(t,e);const i=e[Us];null!==i&&i.detachView(n)}!function Mte(n){lE.delete(n[cf])}(e)}}function yE(n,e,t){return function k3(n,e,t){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return t[pn];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:o}=n.data[i.directiveStart+r];if(o===xo.None||o===xo.Emulated)return null}return ur(i,t)}}(n,e.parent,t)}function Kc(n,e,t,i,r){n.insertBefore(e,t,i,r)}function O3(n,e,t){n.appendChild(e,t)}function P3(n,e,t,i,r){null!==i?Kc(n,e,t,i,r):O3(n,e,t)}function mb(n,e){return n.parentNode(e)}function R3(n,e,t){return F3(n,e,t)}let vE,F3=function N3(n,e,t){return 40&n.type?ur(n,t):null};function _b(n,e,t,i){const r=yE(n,i,e),o=e[Re],a=R3(i.parent||e[Ki],i,e);if(null!=r)if(Array.isArray(t))for(let c=0;c<t.length;c++)P3(o,r,t[c],a,!1);else P3(o,r,t,a,!1);void 0!==vE&&vE(o,i,e,t,r)}function Af(n,e){if(null!==e){const t=e.type;if(3&t)return ur(e,n);if(4&t)return wE(-1,n[e.index]);if(8&t){const i=e.child;if(null!==i)return Af(n,i);{const r=n[e.index];return Yi(r)?wE(-1,r):Lt(r)}}if(32&t)return mE(e,n)()||Lt(n[e.index]);{const i=V3(n,e);return null!==i?Array.isArray(i)?i[0]:Af(Bc(n[vn]),i):Af(n,e.next)}}return null}function V3(n,e){return null!==e?n[vn][Ki].projection[e.projection]:null}function wE(n,e){const t=Vn+n+1;if(t<e.length){const i=e[t],r=i[ie].firstChild;if(null!==r)return Af(i,r)}return e[Wo]}function CE(n,e,t,i,r,o,s){for(;null!=t;){const a=i[t.index],c=t.type;if(s&&0===e&&(a&&Zi(Lt(a),i),t.flags|=2),32!=(32&t.flags))if(8&c)CE(n,e,t.child,i,r,o,!1),ju(e,n,r,a,o);else if(32&c){const l=mE(t,i);let u;for(;u=l();)ju(e,n,r,u,o);ju(e,n,r,a,o)}else 16&c?U3(n,e,i,t,r,o):ju(e,n,r,a,o);t=s?t.projectionNext:t.next}}function yb(n,e,t,i,r,o){CE(t,i,n.firstChild,e,r,o,!1)}function U3(n,e,t,i,r,o){const s=t[vn],c=s[Ki].projection[i.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)ju(e,n,r,c[l],o);else{let l=c;const u=s[Ln];A_(i)&&(l.flags|=128),CE(n,e,l,u,r,o,!0)}}function j3(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function z3(n,e,t){const{mergedAttrs:i,classes:r,styles:o}=t;null!==i&&qC(n,e,i),null!==r&&j3(n,e,r),null!==o&&function ene(n,e,t){n.setAttribute(e,"style",t)}(n,e,o)}const $e={};function z(n=1){$3(at(),q(),Xi()+n,!1)}function $3(n,e,t,i){if(!i)if(3==(3&e[Ce])){const o=n.preOrderCheckHooks;null!==o&&Z_(e,o,t)}else{const o=n.preOrderHooks;null!==o&&J_(e,o,0,t)}Uc(t)}function E(n,e=ot.Default){const t=q();return null===t?$(n,e):jL(Pt(),t,Ae(n),e)}function xE(){throw new Error("invalid")}function H3(n,e,t,i,r,o){const s=B(null);try{let a=null;r&st.SignalBased&&(a=e[i][P]),null!==a&&void 0!==a.transformFn&&(o=a.transformFn(o)),r&st.HasDecoratorInputTransform&&(o=n.inputTransforms[i].call(e,o)),null!==n.setInput?n.setInput(e,a,o,t,i):AL(e,a,i,o)}finally{B(s)}}function vb(n,e,t,i,r,o,s,a,c,l,u){const d=e.blueprint.slice();return d[pn]=r,d[Ce]=204|i,(null!==l||n&&2048&n[Ce])&&(d[Ce]|=2048),$F(d),d[Ln]=d[_u]=n,d[Wt]=t,d[Bs]=s||n&&n[Bs],d[Re]=a||n&&n[Re],d[Pi]=c||n&&n[Pi]||null,d[Ki]=o,d[cf]=function Tte(){return Ite++}(),d[To]=u,d[FF]=l,d[vn]=2==e.type?n[vn]:d,d}function zu(n,e,t,i,r){let o=n.data[e];if(null===o)o=function EE(n,e,t,i,r){const o=WF(),s=rx(),c=n.data[e]=function cne(n,e,t,i,r,o){let s=e?e.injectorIndex:-1,a=0;return wu()&&(a|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,t,e,i,r);return null===n.firstChild&&(n.firstChild=c),null!==o&&(s?null==o.child&&null!==c.parent&&(o.child=c):null===o.next&&(o.next=c,c.prev=o)),c}(n,e,t,i,r),function hJ(){return ke.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=t,o.value=i,o.attrs=r;const s=function ff(){const n=ke.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Qo(o,!0),o}function kf(n,e,t,i){if(0===t)return-1;const r=e.length;for(let o=0;o<t;o++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function G3(n,e,t,i,r){const o=Xi(),s=2&i;try{Uc(-1),s&&e.length>Ve&&$3(n,e,Ve,!1),Yo(s?2:0,r),t(i,r)}finally{Uc(o),Yo(s?3:1,r)}}function IE(n,e,t){if(QC(e)){const i=B(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=n.data[s];a.contentQueries&&a.contentQueries(1,t[s],s)}}finally{B(i)}}}function TE(n,e,t){qF()&&(function gne(n,e,t,i){const r=t.directiveStart,o=t.directiveEnd;Vc(t)&&function Cne(n,e,t){const i=ur(e,n),r=q3(t);let s=16;t.signals?s=4096:t.onPush&&(s=64);const a=wb(n,vb(n,r,null,s,i,e,null,n[Bs].rendererFactory.createRenderer(i,t),null,null,null));n[e.index]=a}(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||tb(t,e),Zi(i,e);const s=t.initialInputs;for(let a=r;a<o;a++){const c=n.data[a],l=qc(e,n,a,t);Zi(l,e),null!==s&&xne(0,a-r,l,c,0,s),Do(c)&&(jr(t.index,e)[Wt]=qc(e,n,a,t))}}(n,e,t,ur(t,e)),64==(64&t.flags)&&X3(n,e,t))}function DE(n,e,t=ur){const i=e.localNames;if(null!==i){let r=e.index+1;for(let o=0;o<i.length;o+=2){const s=i[o+1],a=-1===s?t(e,n):n[s];n[r++]=a}}}function q3(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=ME(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function ME(n,e,t,i,r,o,s,a,c,l,u){const d=Ve+i,h=d+r,f=function nne(n,e){const t=[];for(let i=0;i<e;i++)t.push(i<n?null:$e);return t}(d,h),b="function"==typeof l?l():l;return f[ie]={type:n,blueprint:f,template:t,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:b,incompleteFirstPass:!1,ssrId:u}}let W3=()=>null;function K3(n,e,t,i,r){for(let o in e){if(!e.hasOwnProperty(o))continue;const s=e[o];if(void 0===s)continue;i??={};let a,c=st.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let l=o;if(null!==r){if(!r.hasOwnProperty(o))continue;l=r[o]}0===n?Q3(i,t,l,a,c):Q3(i,t,l,a)}return i}function Q3(n,e,t,i,r){let o;n.hasOwnProperty(t)?(o=n[t]).push(e,i):o=n[t]=[e,i],void 0!==r&&o.push(r)}function Mr(n,e,t,i,r,o,s,a){const c=ur(e,t);let u,l=e.inputs;!a&&null!=l&&(u=l[i])?(PE(n,t,u,i,r),Vc(e)&&function dne(n,e){const t=jr(e,n);16&t[Ce]||(t[Ce]|=64)}(t,e.index)):3&e.type&&(i=function une(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=s?s(r,e.value||"",i):r,o.setProperty(c,i,r))}function SE(n,e,t,i){if(qF()){const r=null===i?null:{"":-1},o=function _ne(n,e){const t=n.directiveRegistry;let i=null,r=null;if(t)for(let o=0;o<t.length;o++){const s=t[o];if(AF(e,s.selectors,!1))if(i||(i=[]),Do(s))if(null!==s.findHostDirectiveDefs){const a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),i.unshift(...a,s),AE(n,e,a.length)}else i.unshift(s),AE(n,e,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return null===i?null:[i,r]}(n,t);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&Y3(n,e,t,s,r,a),r&&function bne(n,e,t){if(e){const i=n.localNames=[];for(let r=0;r<e.length;r+=2){const o=t[e[r+1]];if(null==o)throw new U(-301,!1);i.push(e[r],o)}}}(t,i,r)}t.mergedAttrs=rf(t.mergedAttrs,t.attrs)}function Y3(n,e,t,i,r,o){for(let l=0;l<i.length;l++)Jx(tb(t,e),n,i[l].type);!function vne(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,i.length);for(let l=0;l<i.length;l++){const u=i[l];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,c=kf(n,e,i.length,null);for(let l=0;l<i.length;l++){const u=i[l];t.mergedAttrs=rf(t.mergedAttrs,u.hostAttrs),wne(n,t,e,c,u),yne(c,u,r),null!==u.contentQueries&&(t.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(t.flags|=64);const d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),c++}!function lne(n,e,t){const r=e.directiveEnd,o=n.data,s=e.attrs,a=[];let c=null,l=null;for(let u=e.directiveStart;u<r;u++){const d=o[u],h=t?t.get(d):null,b=h?h.outputs:null;c=K3(0,d.inputs,u,c,h?h.inputs:null),l=K3(1,d.outputs,u,l,b);const x=null===c||null===s||SF(e)?null:Ene(c,u,s);a.push(x)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}(n,t,o)}function X3(n,e,t){const i=t.directiveStart,r=t.directiveEnd,o=t.index,s=function pJ(){return ke.lFrame.currentDirectiveIndex}();try{Uc(o);for(let a=i;a<r;a++){const c=n.data[a],l=e[a];sx(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&mne(c,l)}}finally{Uc(-1),sx(s)}}function mne(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function AE(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function yne(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;Do(e)&&(t[""]=n)}}function wne(n,e,t,i,r){n.data[i]=r;const o=r.factory||(r.factory=zc(r.type)),s=new xf(o,Do(r),E);n.blueprint[i]=s,t[i]=s,function fne(n,e,t,i,r){const o=r.hostBindings;if(o){let s=n.hostBindingOpCodes;null===s&&(s=n.hostBindingOpCodes=[]);const a=~e.index;(function pne(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(s)!=a&&s.push(a),s.push(t,i,o)}}(n,e,i,kf(n,t,r.hostVars,$e),r)}function Jo(n,e,t,i,r,o){const s=ur(n,e);!function kE(n,e,t,i,r,o,s){if(null==o)n.removeAttribute(e,r,t);else{const a=null==s?Be(o):s(o,i||"",r);n.setAttribute(e,r,a,t)}}(e[Re],s,o,n.value,t,i,r)}function xne(n,e,t,i,r,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;)H3(i,t,s[a++],s[a++],s[a++],s[a++])}function Ene(n,e,t){let i=null,r=0;for(;r<t.length;){const o=t[r];if(0!==o)if(5!==o){if("number"==typeof o)break;if(n.hasOwnProperty(o)){null===i&&(i=[]);const s=n[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){i.push(o,s[a+1],s[a+2],t[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function Z3(n,e,t,i){return[n,!0,0,e,null,i,null,t,null,null]}function J3(n,e){const t=n.contentQueries;if(null!==t){const i=B(null);try{for(let r=0;r<t.length;r+=2){const s=t[r+1];if(-1!==s){const a=n.data[s];I_(t[r]),a.contentQueries(2,e[s],s)}}}finally{B(i)}}}function wb(n,e){return n[sf]?n[NF][Io]=e:n[sf]=e,n[NF]=e,e}function OE(n,e,t){I_(0);const i=B(null);try{e(n,t)}finally{B(i)}}function eV(n){return n[mu]||(n[mu]=[])}function tV(n){return n.cleanup||(n.cleanup=[])}function nV(n,e,t){return(null===n||Do(n))&&(t=function JC(n){for(;Array.isArray(n);){if("object"==typeof n[WC])return n;n=n[pn]}return null}(t[e.index])),t[Re]}function Cb(n,e){const t=n[Pi],i=t?t.get(So,null):null;i&&i.handleError(e)}function PE(n,e,t,i,r){for(let o=0;o<t.length;){const s=t[o++],a=t[o++],c=t[o++];H3(n.data[s],e[s],i,a,c,r)}}function Ine(n,e){const t=jr(e,n),i=t[ie];!function Tne(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}(i,t);const r=t[pn];null!==r&&null===t[To]&&(t[To]=Px(r,t[Pi])),RE(i,t,t[Wt])}function RE(n,e,t){lx(e);try{const i=n.viewQuery;null!==i&&OE(1,i,t);const r=n.template;null!==r&&G3(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Us]?.finishViewCreation(n),n.staticContentQueries&&J3(n,e),n.staticViewQueries&&OE(2,n.viewQuery,t);const o=n.components;null!==o&&function Dne(n,e){for(let t=0;t<e.length;t++)Ine(n,e[t])}(e,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[Ce]&=-5,ux()}}function $u(n,e){return!e||null===e.firstChild||A_(n)}function Pf(n,e,t,i=!0){const r=e[ie];if(function Gte(n,e,t,i){const r=Vn+i,o=t.length;i>0&&(t[r-1][Io]=e),i<o-Vn?(e[Io]=t[r],oL(t,Vn+i,e)):(t.push(e),e[Io]=null),e[Ln]=t;const s=e[af];null!==s&&t!==s&&function qte(n,e){const t=n[yu];e[vn]!==e[Ln][Ln][vn]&&(n[Ce]|=KC.HasTransplantedViews),null===t?n[yu]=[e]:t.push(e)}(s,e);const a=e[Us];null!==a&&a.insertView(n),nx(e),e[Ce]|=128}(r,e,n,t),i){const s=wE(t,n),a=e[Re],c=mb(a,n[Wo]);null!==c&&function $te(n,e,t,i,r,o){i[pn]=r,i[Ki]=e,yb(n,i,t,1,r,o)}(r,n[Ki],a,e,c,s)}const o=e[To];null!==o&&null!==o.firstChild&&(o.firstChild=null)}function Rf(n,e,t,i,r=!1){for(;null!==t;){const o=e[t.index];null!==o&&i.push(Lt(o)),Yi(o)&&rV(o,i);const s=t.type;if(8&s)Rf(n,e,t.child,i);else if(32&s){const a=mE(t,e);let c;for(;c=a();)i.push(c)}else if(16&s){const a=V3(e,t);if(Array.isArray(a))i.push(...a);else{const c=Bc(e[vn]);Rf(c[ie],c,a,i,!0)}}t=r?t.projectionNext:t.next}return i}function rV(n,e){for(let t=Vn;t<n.length;t++){const i=n[t],r=i[ie].firstChild;null!==r&&Rf(i[ie],i,r,e)}n[Wo]!==n[pn]&&e.push(n[Wo])}let oV=[];const kne={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{hf(n.lView)},consumerOnSignalRead(){this.lView[Lc]=this}};function sV(n){return cV(n[sf])}function aV(n){return cV(n[Io])}function cV(n){for(;null!==n&&!Yi(n);)n=n[Io];return n}function xb(n,e=!0,t=0){const i=n[Bs],r=i.rendererFactory;r.begin?.();try{!function Rne(n,e){FE(n,e);let t=0;for(;tx(n);){if(100===t)throw new U(103,!1);t++,FE(n,1)}}(n,t)}catch(s){throw e&&Cb(n,s),s}finally{r.end?.(),i.inlineEffectRunner?.flush()}}function Nne(n,e,t,i){const r=e[Ce];if(256==(256&r))return;e[Bs].inlineEffectRunner?.flush(),lx(e);let s=null,a=null;(function Fne(n){return 2!==n.type})(n)&&(a=function Mne(n){return n[Lc]??function Sne(n){const e=oV.pop()??Object.create(kne);return e.lView=n,e}(n)}(e),s=function he(n){return n&&(n.nextProducerIndex=0),B(n)}(a));try{$F(e),function QF(n){return ke.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&G3(n,e,t,2,i);const c=3==(3&r);if(c){const d=n.preOrderCheckHooks;null!==d&&Z_(e,d,null)}else{const d=n.preOrderHooks;null!==d&&J_(e,d,0,null),Kx(e,0)}if(function Lne(n){for(let e=sV(n);null!==e;e=aV(e)){if(!(e[Ce]&KC.HasTransplantedViews))continue;const t=e[yu];for(let i=0;i<t.length;i++){nJ(t[i])}}}(e),uV(e,0),null!==n.contentQueries&&J3(n,e),c){const d=n.contentCheckHooks;null!==d&&Z_(e,d)}else{const d=n.contentHooks;null!==d&&J_(e,d,1),Kx(e,1)}!function tne(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let i=0;i<t.length;i++){const r=t[i];if(r<0)Uc(~r);else{const o=r,s=t[++i],a=t[++i];fJ(s,o),a(2,e[o])}}}finally{Uc(-1)}}(n,e);const l=n.components;null!==l&&hV(e,l,0);const u=n.viewQuery;if(null!==u&&OE(2,u,i),c){const d=n.viewCheckHooks;null!==d&&Z_(e,d)}else{const d=n.viewHooks;null!==d&&J_(e,d,2),Kx(e,2)}if(!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[w_]){for(const d of e[w_])d();e[w_]=null}e[Ce]&=-73}catch(c){throw hf(e),c}finally{null!==a&&(function Ht(n,e){if(B(e),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(Fs(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Rc(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}(a,s),function Ane(n){n.lView[Lc]!==n&&(n.lView=null,oV.push(n))}(a)),ux()}}function uV(n,e){for(let t=sV(n);null!==t;t=aV(t))for(let i=Vn;i<t.length;i++)dV(t[i],e)}function Vne(n,e,t){dV(jr(e,n),t)}function dV(n,e){ex(n)&&FE(n,e)}function FE(n,e){const i=n[ie],r=n[Ce],o=n[Lc];let s=!!(0===e&&16&r);if(s||=!!(64&r&&0===e),s||=!!(1024&r),s||=!(!o?.dirty||!cr(o)),o&&(o.dirty=!1),n[Ce]&=-9217,s)Nne(i,n,i.template,n[Wt]);else if(8192&r){uV(n,1);const a=i.components;null!==a&&hV(n,a,1)}}function hV(n,e,t){for(let i=0;i<e.length;i++)Vne(n,e[i],t)}function Nf(n){for(n[Bs].changeDetectionScheduler?.notify();n;){n[Ce]|=64;const e=Bc(n);if(YC(n)&&!e)return n;n=e}return null}class Ff{get rootNodes(){const e=this._lView,t=e[ie];return Rf(t,e,t.firstChild,[])}constructor(e,t,i=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Wt]}set context(e){this._lView[Wt]=e}get destroyed(){return 256==(256&this._lView[Ce])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Ln];if(Yi(e)){const t=e[8],i=t?t.indexOf(this):-1;i>-1&&(Sf(e,i),M_(t,i))}this._attachedToViewContainer=!1}gb(this._lView[ie],this._lView)}onDestroy(e){E_(this._lView,e)}markForCheck(){Nf(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ce]&=-129}reattach(){nx(this._lView),this._lView[Ce]|=128}detectChanges(){this._lView[Ce]|=1024,xb(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new U(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,S3(this._lView[ie],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new U(902,!1);this._appRef=e,nx(this._lView)}}let es=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=jne}return n})();const Bne=es,Une=class extends Bne{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,i){const r=function Of(n,e,t,i){const r=e.tView,a=vb(n,r,t,4096&n[Ce]?4096:16,null,e,null,null,null,i?.injector??null,i?.dehydratedView??null);a[af]=n[e.index];const l=n[Us];return null!==l&&(a[Us]=l.createEmbeddedView(r)),RE(r,a,t),a}(this._declarationLView,this._declarationTContainer,e,{injector:t,dehydratedView:i});return new Ff(r)}};function jne(){return Eb(Pt(),q())}function Eb(n,e){return 4&n.type?new Une(e,n,Cu(n,e)):null}class zE{}class lie{}class yV{}class die{resolveComponentFactory(e){throw function uie(n){const e=Error(`No component factory found for ${ai(n)}.`);return e.ngComponent=n,e}(e)}}let Gu=(()=>{class n{static#e=this.NULL=new die}return n})();class $E{}let Ao=(()=>{class n{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function hie(){const n=q(),t=jr(Pt().index,n);return(Qi(t)?t:n)[Re]}()}return n})(),fie=(()=>{class n{static#e=this.\u0275prov=ne({token:n,providedIn:"root",factory:()=>null})}return n})();const HE={};const CV=new Set;function ts(n){CV.has(n)||(CV.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function xV(n){return function wV(n){return"function"==typeof n&&void 0!==n[P]}(n)&&"function"==typeof n.set}function Sb(n){return!!function GE(n){return null!==n&&("function"==typeof n||"object"==typeof n)}(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}class IV{constructor(){}supports(e){return Sb(e)}create(e){return new yie(e)}}const bie=(n,e)=>e;class yie{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||bie}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,r=0,o=null;for(;t||i;){const s=!i||t&&t.currentIndex<DV(i,r,o)?t:i,a=DV(s,r,o),c=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(t=t._next,null==s.previousIndex)r++;else{o||(o=[]);const l=a-r,u=c-r;if(l!=u){for(let h=0;h<l;h++){const f=h<o.length?o[h]:o[h]=0,b=f+h;u<=b&&b<l&&(o[h]=f+1)}o[s.previousIndex]=u-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Sb(e))throw new U(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let r,o,s,t=this._itHead,i=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==t&&Object.is(t.trackById,s)?(i&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,s,a),i=!0),t=t._next}else r=0,function _ie(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let i;for(;!(i=t.next()).done;)e(i.value)}}(e,a=>{s=this._trackByFn(r,a),null!==t&&Object.is(t.trackById,s)?(i&&(t=this._verifyReinsertion(t,a,s,r)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,r),i=!0),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,r){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,r)):e=this._addAfter(new vie(t,i),o,r),e}_verifyReinsertion(e,t,i,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?e=this._reinsertAfter(o,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,o=e._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new TV),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,i=e._next;return null===t?this._itHead=i:t._next=i,null===i?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new TV),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class vie{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class wie{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===t||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){const t=e._prevDup,i=e._nextDup;return null===t?this._head=i:t._nextDup=i,null===i?this._tail=t:i._prevDup=t,null===this._head}}class TV{constructor(){this.map=new Map}put(e){const t=e.trackById;let i=this.map.get(t);i||(i=new wie,this.map.set(t,i)),i.add(e)}get(e,t){const r=this.map.get(e);return r?r.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function DV(n,e,t){const i=n.previousIndex;if(null===i)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+e+r}function SV(){return new qE([new IV])}let qE=(()=>{class n{static#e=this.\u0275prov=ne({token:n,providedIn:"root",factory:SV});constructor(t){this.factories=t}static create(t,i){if(null!=i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||SV()),deps:[[n,new wf,new Yt]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(null!=i)return i;throw new U(901,!1)}}return n})(),qu=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=Iie}return n})();function Iie(n){return function Tie(n,e,t){if(Vc(n)&&!t){const i=jr(n.index,e);return new Ff(i,i)}return 47&n.type?new Ff(e[vn],e):null}(Pt(),q(),16==(16&n))}let kb=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=Aie;static#t=this.__NG_ENV_ID__=t=>t}return n})();class Sie extends kb{constructor(e){super(),this._lView=e}onDestroy(e){return E_(this._lView,e),()=>function ix(n,e){if(null===n[Ia])return;const t=n[Ia].indexOf(e);-1!==t&&n[Ia].splice(t,1)}(this._lView,e)}}function Aie(){return new Sie(q())}function kV(...n){}class Ee{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Qe(!1),this.onMicrotaskEmpty=new Qe(!1),this.onStable=new Qe(!1),this.onError=new Qe(!1),typeof Zone>"u")throw new U(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&t,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function Fie(){const n="function"==typeof At.requestAnimationFrame;let e=At[n?"requestAnimationFrame":"setTimeout"],t=At[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function Bie(n){const e=()=>{!function Vie(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(At,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,KE(n),n.isCheckStableRunning=!0,WE(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),KE(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,i,r,o,s,a)=>{if(function Uie(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return t.invokeTask(r,o,s,a);try{return OV(n),t.invokeTask(r,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&e(),PV(n)}},onInvoke:(t,i,r,o,s,a,c)=>{try{return OV(n),t.invoke(r,o,s,a,c)}finally{n.shouldCoalesceRunChangeDetection&&e(),PV(n)}},onHasTask:(t,i,r,o)=>{t.hasTask(r,o),i===r&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,KE(n),WE(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,i,r,o)=>(t.handleError(r,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ee.isInAngularZone())throw new U(909,!1)}static assertNotInAngularZone(){if(Ee.isInAngularZone())throw new U(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,e,Lie,kV,kV);try{return o.runTask(s,t,i)}finally{o.cancelTask(s)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}}const Lie={};function WE(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function KE(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function OV(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function PV(n){n._nesting--,WE(n)}class RV{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Qe,this.onMicrotaskEmpty=new Qe,this.onStable=new Qe,this.onError=new Qe}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}}var Qc=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(Qc||{});const NV={destroy(){}};function FV(n,e){!e&&function Q_(n){if(!pL()&&!function VJ(){return Iu}())throw new U(-203,!1)}();const t=e?.injector??Z(Ut);if(!function Sa(n){return"browser"===(n??Z(Ut)).get(ro)}(t))return NV;ts("NgAfterNextRender");const i=t.get(jf),r=i.handler??=new VV,o=e?.phase??Qc.MixedReadWrite,s=()=>{r.unregister(c),a()},a=t.get(kb).onDestroy(s),c=new LV(t,o,()=>{s(),n()});return r.register(c),{destroy:s}}class LV{constructor(e,t,i){this.phase=t,this.callbackFn=i,this.zone=e.get(Ee),this.errorHandler=e.get(So,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}}class VV{constructor(){this.executingCallbacks=!1,this.buckets={[Qc.EarlyRead]:new Set,[Qc.Write]:new Set,[Qc.MixedReadWrite]:new Set,[Qc.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(const e of Object.values(this.buckets))for(const t of e)t.invoke();this.executingCallbacks=!1;for(const e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(const e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}}let jf=(()=>{class n{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const t=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const i of t)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=ne({token:n,providedIn:"root",factory:()=>new n})}return n})();function Pb(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?r=$C(r,a):2==o&&(i=$C(i,a+": "+e[++s]+";"))}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}class jV extends Gu{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Je(e);return new Hf(t,this.ngModule)}}function zV(n){const e=[];for(const t in n){if(!n.hasOwnProperty(t))continue;const i=n[t];void 0!==i&&e.push({propName:Array.isArray(i)?i[0]:i,templateName:t})}return e}class qie{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){i=V_(i);const r=this.injector.get(e,HE,i);return r!==HE||t===HE?r:this.parentInjector.get(e,t,i)}}class Hf extends yV{get inputs(){const e=this.componentDef,t=e.inputTransforms,i=zV(e.inputs);if(null!==t)for(const r of i)t.hasOwnProperty(r.propName)&&(r.transform=t[r.propName]);return i}get outputs(){return zV(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function $Z(n){return n.map(zZ).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,i,r){let o=(r=r||this.ngModule)instanceof $r?r:r?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new qie(e,o):e,a=s.get($E,null);if(null===a)throw new U(407,!1);const d={rendererFactory:a,sanitizer:s.get(fie,null),inlineEffectRunner:null,afterRenderEventManager:s.get(jf,null),changeDetectionScheduler:s.get(zE,null)},h=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",b=i?function ine(n,e,t,i){const o=i.get(t3,!1)||t===xo.ShadowDom,s=n.selectRootElement(e,o);return function rne(n){W3(n)}(s),s}(h,i,this.componentDef.encapsulation,s):pb(h,f,function Gie(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(f));let x=512;this.componentDef.signals?x|=4096:this.componentDef.onPush||(x|=16);let I=null;null!==b&&(I=Px(b,s,!0));const k=ME(0,null,null,1,0,null,null,null,null,null,null),M=vb(null,k,null,x,null,null,d,h,s,null,I);let V,K;lx(M);try{const oe=this.componentDef;let de,ze=null;oe.findHostDirectiveDefs?(de=[],ze=new Map,oe.findHostDirectiveDefs(oe,de,ze),de.push(oe)):de=[oe];const ft=function Kie(n,e){const t=n[ie],i=Ve;return n[i]=e,zu(t,i,2,"#host",null)}(M,b),oi=function Qie(n,e,t,i,r,o,s){const a=r[ie];!function Yie(n,e,t,i){for(const r of n)e.mergedAttrs=rf(e.mergedAttrs,r.hostAttrs);null!==e.mergedAttrs&&(Pb(e,e.mergedAttrs,!0),null!==t&&z3(i,t,e))}(i,n,e,s);let c=null;null!==e&&(c=Px(e,r[Pi]));const l=o.rendererFactory.createRenderer(e,t);let u=16;t.signals?u=4096:t.onPush&&(u=64);const d=vb(r,q3(t),null,u,r[n.index],n,o,l,null,null,c);return a.firstCreatePass&&AE(a,n,i.length-1),wb(r,d),r[n.index]=d}(ft,b,oe,de,M,d,h);K=df(k,Ve),b&&function Zie(n,e,t,i){if(i)qC(n,t,["ng-version","17.2.3"]);else{const{attrs:r,classes:o}=function HZ(n){const e=[],t=[];let i=1,r=2;for(;i<n.length;){let o=n[i];if("string"==typeof o)2===r?""!==o&&e.push(o,n[++i]):8===r&&t.push(o);else{if(!Eo(r))break;r=o}i++}return{attrs:e,classes:t}}(e.selectors[0]);r&&qC(n,t,r),o&&o.length>0&&j3(n,t,o.join(" "))}}(h,oe,b,i),void 0!==t&&function Jie(n,e,t){const i=n.projection=[];for(let r=0;r<e.length;r++){const o=t[r];i.push(null!=o?Array.from(o):null)}}(K,this.ngContentSelectors,t),V=function Xie(n,e,t,i,r,o){const s=Pt(),a=r[ie],c=ur(s,r);Y3(a,r,s,t,null,i);for(let u=0;u<t.length;u++)Zi(qc(r,a,s.directiveStart+u,s),r);X3(a,r,s),c&&Zi(c,r);const l=qc(r,a,s.directiveStart+s.componentOffset,s);if(n[Wt]=r[Wt]=l,null!==o)for(const u of o)u(l,e);return IE(a,s,r),l}(oi,oe,de,ze,M,[ere]),RE(k,M,null)}finally{ux()}return new Wie(this.componentType,V,Cu(K,M),M,K)}}class Wie extends lie{constructor(e,t,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new Ff(r,void 0,!1),this.componentType=e}setInput(e,t){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;const o=this._rootLView;PE(o[ie],o,r,e,t),this.previousInputValues.set(e,t),Nf(jr(this._tNode.index,o))}}get injector(){return new ui(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function ere(){const n=Pt();X_(q()[ie],n)}let so=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=tre}return n})();function tre(){return GV(Pt(),q())}const nre=so,$V=class extends nre{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return Cu(this._hostTNode,this._hostLView)}get injector(){return new ui(this._hostTNode,this._hostLView)}get parentInjector(){const e=nb(this._hostTNode,this._hostLView);if(Yx(e)){const t=If(e,this._hostLView),i=Ef(e);return new ui(t[ie].data[i+8],t)}return new ui(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=HV(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-Vn}createEmbeddedView(e,t,i){let r,o;"number"==typeof i?r=i:null!=i&&(r=i.index,o=i.injector);const a=e.createEmbeddedViewImpl(t||{},o,null);return this.insertImpl(a,r,$u(this._hostTNode,null)),a}createComponent(e,t,i,r,o){const s=e&&!function Cf(n){return"function"==typeof n}(e);let a;if(s)a=t;else{const b=t||{};a=b.index,i=b.injector,r=b.projectableNodes,o=b.environmentInjector||b.ngModuleRef}const c=s?e:new Hf(Je(e)),l=i||this.parentInjector;if(!o&&null==c.ngModule){const x=(s?l:this.parentInjector).get($r,null);x&&(o=x)}Je(c.componentType??{});const f=c.create(l,r,null,o);return this.insertImpl(f.hostView,a,$u(this._hostTNode,null)),f}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,i){const r=e._lView;if(function tJ(n){return Yi(n[Ln])}(r)){const a=this.indexOf(e);if(-1!==a)this.detach(a);else{const c=r[Ln],l=new $V(c,c[Ki],c[Ln]);l.detach(l.indexOf(e))}}const o=this._adjustIndex(t),s=this._lContainer;return Pf(s,r,o,i),e.attachToViewContainerRef(),oL(ZE(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=HV(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),i=Sf(this._lContainer,t);i&&(M_(ZE(this._lContainer),t),gb(i[ie],i))}detach(e){const t=this._adjustIndex(e,-1),i=Sf(this._lContainer,t);return i&&null!=M_(ZE(this._lContainer),t)?new Ff(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function HV(n){return n[8]}function ZE(n){return n[8]||(n[8]=[])}function GV(n,e){let t;const i=e[n.index];return Yi(i)?t=i:(t=Z3(i,e,null,n),e[n.index]=t,wb(e,t)),qV(t,e,n,i),new $V(t,n,e)}let qV=function KV(n,e,t,i){if(n[Wo])return;let r;r=8&t.type?Lt(i):function ire(n,e){const t=n[Re],i=t.createComment(""),r=ur(e,n);return Kc(t,mb(t,r),i,function Yte(n,e){return n.nextSibling(e)}(t,r),!1),i}(e,t),n[Wo]=r},JE=()=>!1;class e1{constructor(e){this.queryList=e,this.matches=null}clone(){return new e1(this.queryList)}setDirty(){this.queryList.setDirty()}}class t1{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const i=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let o=0;o<i;o++){const s=t.getByIndex(o);r.push(this.queries[s.indexInDeclarationView].clone())}return new t1(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==a1(e,t).matches&&this.queries[t].setDirty()}}class QV{constructor(e,t,i=null){this.flags=t,this.read=i,this.predicate="string"==typeof e?function dre(n){return n.split(",").map(e=>e.trim())}(e):e}}class n1{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){const r=null!==t?t.length:0,o=this.getByIndex(i).embeddedTView(e,r);o&&(o.indexInDeclarationView=i,null!==t?t.push(o):t=[o])}return null!==t?new n1(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class r1{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new r1(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let i=e.parent;for(;null!==i&&8&i.type&&i.index!==t;)i=i.parent;return t===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];this.matchTNodeWithReadOption(e,t,are(t,o)),this.matchTNodeWithReadOption(e,t,ib(t,e,o,!1,!1))}else i===es?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,ib(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===gn||r===so||r===es&&4&t.type)this.addMatch(t.index,-2);else{const o=ib(t,e,r,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,i)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function are(n,e){const t=n.localNames;if(null!==t)for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1];return null}function lre(n,e,t,i){return-1===t?function cre(n,e){return 11&n.type?Cu(n,e):4&n.type?Eb(n,e):null}(e,n):-2===t?function ure(n,e,t){return t===gn?Cu(e,n):t===es?Eb(e,n):t===so?GV(e,n):void 0}(n,e,i):qc(n,n[ie],t,e)}function YV(n,e,t,i){const r=e[Us].queries[i];if(null===r.matches){const o=n.data,s=t.matches,a=[];for(let c=0;null!==s&&c<s.length;c+=2){const l=s[c];a.push(l<0?null:lre(e,o[l],s[c+1],t.metadata.read))}r.matches=a}return r.matches}function o1(n,e,t,i){const r=n.queries.getByIndex(t),o=r.matches;if(null!==o){const s=YV(n,e,r,t);for(let a=0;a<o.length;a+=2){const c=o[a];if(c>0)i.push(s[a/2]);else{const l=o[a+1],u=e[-c];for(let d=Vn;d<u.length;d++){const h=u[d];h[af]===h[Ln]&&o1(h[ie],h,l,i)}if(null!==u[yu]){const d=u[yu];for(let h=0;h<d.length;h++){const f=d[h];o1(f[ie],f,l,i)}}}}}return i}function XV(n,e,t){const i=new pf(4==(4&t));return function ane(n,e,t,i){const r=eV(e);r.push(t),n.firstCreatePass&&tV(n).push(i,r.length-1)}(n,e,i,i.destroy),(e[Us]??=new t1).queries.push(new e1(i))-1}function e4(n,e,t){null===n.queries&&(n.queries=new n1),n.queries.track(new r1(e,t))}function a1(n,e){return n.queries.getByIndex(e)}function t4(n,e){const t=n[ie],i=a1(t,e);return i.crossesNgTemplate?o1(t,n,e,[]):YV(t,n,i,e)}function yt(n){let e=function h4(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const i=[n];for(;e;){let r;if(Do(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new U(903,!1);r=e.\u0275dir}if(r){if(t){i.push(r);const s=n;s.inputs=Nb(n.inputs),s.inputTransforms=Nb(n.inputTransforms),s.declaredInputs=Nb(n.declaredInputs),s.outputs=Nb(n.outputs);const a=r.hostBindings;a&&Tre(n,a);const c=r.viewQuery,l=r.contentQueries;if(c&&Ere(n,c),l&&Ire(n,l),Cre(n,r),PZ(n.outputs,r.outputs),Do(r)&&r.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(r.data.animation)}}const o=r.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===yt&&(t=!1)}}e=Object.getPrototypeOf(e)}!function xre(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=rf(r.hostAttrs,t=rf(t,r.hostAttrs))}}(i)}function Cre(n,e){for(const t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;const i=e.inputs[t];if(void 0!==i&&(n.inputs[t]=i,n.declaredInputs[t]=e.declaredInputs[t],null!==e.inputTransforms)){const r=Array.isArray(i)?i[0]:i;if(!e.inputTransforms.hasOwnProperty(r))continue;n.inputTransforms??={},n.inputTransforms[r]=e.inputTransforms[r]}}}function Nb(n){return n===qo?{}:n===xt?[]:n}function Ere(n,e){const t=n.viewQuery;n.viewQuery=t?(i,r)=>{e(i,r),t(i,r)}:e}function Ire(n,e){const t=n.contentQueries;n.contentQueries=t?(i,r,o)=>{e(i,r,o),t(i,r,o)}:e}function Tre(n,e){const t=n.hostBindings;n.hostBindings=t?(i,r)=>{e(i,r),t(i,r)}:e}function l1(n){const e=n.inputConfig,t={};for(const i in e)if(e.hasOwnProperty(i)){const r=e[i];Array.isArray(r)&&r[3]&&(t[i]=r[3])}n.inputTransforms=t}class Yc{}class m4{}class u1 extends Yc{constructor(e,t,i){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new jV(this);const r=Wi(e);this._bootstrapComponents=Gr(r.bootstrap),this._r3Injector=XL(e,t,[{provide:Yc,useValue:this},{provide:Gu,useValue:this.componentFactoryResolver},...i],ai(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class d1 extends m4{constructor(e){super(),this.moduleType=e}create(e){return new u1(this.moduleType,e,[])}}class _4 extends Yc{constructor(e){super(),this.componentFactoryResolver=new jV(this),this.instance=null;const t=new Pu([...e.providers,{provide:Yc,useValue:this},{provide:Gu,useValue:this.componentFactoryResolver}],e.parent||K_(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Fb(n,e,t=null){return new _4({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}let qf=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new lr(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Bn(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Yn(n,e,t,i,r,o,s,a){const c=q(),l=at(),u=n+Ve,d=l.firstCreatePass?function Fre(n,e,t,i,r,o,s,a,c){const l=e.consts,u=zu(e,n,4,s||null,Ko(l,a));SE(e,t,u,Ko(l,c)),X_(e,u);const d=u.tView=ME(2,u,i,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,l,c,e,t,i,r,o,s):l.data[u];Qo(d,!1);const h=b4(l,c,d,n);D_()&&_b(l,c,h,d),Zi(h,c);const f=Z3(h,c,h,d);return c[u]=f,wb(c,f),function WV(n,e,t){return JE(n,e,t)}(f,d,c),x_(d)&&TE(l,c,d),null!=s&&DE(c,d,a),Yn}let b4=function y4(n,e,t,i){return Ta(!0),e[Re].createComment("")};function Sr(n,e,t,i){const r=q();return Bn(r,Mo(),e)&&(at(),Jo(Kt(),r,n,e,t,i)),Sr}function Hb(n,e){return n<<17|e<<2}function Ra(n){return n>>17&32767}function w1(n){return 2|n}function Jc(n){return(131068&n)>>2}function C1(n,e){return-131069&n|e<<2}function x1(n){return 1|n}function Y4(n,e,t,i){const r=n[t+1],o=null===e;let s=i?Ra(r):Jc(r),a=!1;for(;0!==s&&(!1===a||o);){const l=n[s+1];voe(n[s],e)&&(a=!0,n[s+1]=i?x1(l):w1(l)),s=i?Ra(l):Jc(l)}a&&(n[t+1]=i?w1(r):x1(r))}function voe(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Eu(n,e)>=0}const di={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function X4(n){return n.substring(di.key,di.keyEnd)}function Z4(n,e){const t=di.textEnd;return t===e?-1:(e=di.keyEnd=function Eoe(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,di.key=e,t),ld(n,e,t))}function ld(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function Xn(n,e,t){const i=q();return Bn(i,Mo(),e)&&Mr(at(),Kt(),i,n,e,i[Re],t,!1),Xn}function E1(n,e,t,i,r){const s=r?"class":"style";PE(n,t,e.inputs[s],s,i)}function co(n,e){return function ko(n,e,t,i){const r=q(),o=at(),s=zs(2);o.firstUpdatePass&&s5(o,n,s,i),e!==$e&&Bn(r,s,e)&&c5(o,o.data[Xi()],r,r[Re],n,r[s+1]=function Noe(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=ai(Hr(n)))),n}(e,t),i,s)}(n,e,null,!0),co}function Gb(n){!function Oo(n,e,t,i){const r=at(),o=zs(2);r.firstUpdatePass&&s5(r,null,o,i);const s=q();if(t!==$e&&Bn(s,o,t)){const a=r.data[Xi()];if(u5(a,i)&&!o5(r,o)){let c=i?a.classesWithoutHost:a.stylesWithoutHost;null!==c&&(t=$C(c,t||"")),E1(r,a,s,t,i)}else!function Roe(n,e,t,i,r,o,s,a){r===$e&&(r=xt);let c=0,l=0,u=0<r.length?r[0]:null,d=0<o.length?o[0]:null;for(;null!==u||null!==d;){const h=c<r.length?r[c+1]:void 0,f=l<o.length?o[l+1]:void 0;let x,b=null;u===d?(c+=2,l+=2,h!==f&&(b=d,x=f)):null===d||null!==u&&u<d?(c+=2,b=u):(l+=2,b=d,x=f),null!==b&&c5(n,e,t,i,b,x,s,a),u=c<r.length?r[c]:null,d=l<o.length?o[l]:null}}(r,a,s,s[Re],s[o+1],s[o+1]=function Ooe(n,e,t){if(null==t||""===t)return xt;const i=[],r=Hr(t);if(Array.isArray(r))for(let o=0;o<r.length;o++)n(i,r[o],!0);else if("object"==typeof r)for(const o in r)r.hasOwnProperty(o)&&n(i,o,r[o]);else"string"==typeof r&&e(i,r);return i}(n,e,t),i,o)}}(Poe,rs,n,!0)}function rs(n,e){for(let t=function Coe(n){return function e5(n){di.key=0,di.keyEnd=0,di.value=0,di.valueEnd=0,di.textEnd=n.length}(n),Z4(n,ld(n,0,di.textEnd))}(e);t>=0;t=Z4(e,t))zr(n,X4(e),!0)}function o5(n,e){return e>=n.expandoStartIndex}function s5(n,e,t,i){const r=n.data;if(null===r[t+1]){const o=r[Xi()],s=o5(n,t);u5(o,i)&&null===e&&!s&&(e=!1),e=function Moe(n,e,t,i){const r=ax(n);let o=i?e.residualClasses:e.residualStyles;if(null===r)0===(i?e.classBindings:e.styleBindings)&&(t=Xf(t=I1(null,n,e,t,i),e.attrs,i),o=null);else{const s=e.directiveStylingLast;if(-1===s||n[s]!==r)if(t=I1(r,n,e,t,i),null===o){let c=function Soe(n,e,t){const i=t?e.classBindings:e.styleBindings;if(0!==Jc(i))return n[Ra(i)]}(n,e,i);void 0!==c&&Array.isArray(c)&&(c=I1(null,n,e,c[1],i),c=Xf(c,e.attrs,i),function Aoe(n,e,t,i){n[Ra(t?e.classBindings:e.styleBindings)]=i}(n,e,i,c))}else o=function koe(n,e,t){let i;const r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++)i=Xf(i,n[o].hostAttrs,t);return Xf(i,e.attrs,t)}(n,e,i)}return void 0!==o&&(i?e.residualClasses=o:e.residualStyles=o),t}(r,o,e,i),function boe(n,e,t,i,r,o){let s=o?e.classBindings:e.styleBindings,a=Ra(s),c=Jc(s);n[i]=t;let u,l=!1;if(Array.isArray(t)?(u=t[1],(null===u||Eu(t,u)>0)&&(l=!0)):u=t,r)if(0!==c){const h=Ra(n[a+1]);n[i+1]=Hb(h,a),0!==h&&(n[h+1]=C1(n[h+1],i)),n[a+1]=function moe(n,e){return 131071&n|e<<17}(n[a+1],i)}else n[i+1]=Hb(a,0),0!==a&&(n[a+1]=C1(n[a+1],i)),a=i;else n[i+1]=Hb(c,0),0===a?a=i:n[c+1]=C1(n[c+1],i),c=i;l&&(n[i+1]=w1(n[i+1])),Y4(n,u,i,!0),Y4(n,u,i,!1),function yoe(n,e,t,i,r){const o=r?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof e&&Eu(o,e)>=0&&(t[i+1]=x1(t[i+1]))}(e,u,n,i,o),s=Hb(a,c),o?e.classBindings=s:e.styleBindings=s}(r,o,e,t,s,i)}}function I1(n,e,t,i,r){let o=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(o=e[a],i=Xf(i,o.hostAttrs,r),o!==n);)a++;return null!==n&&(t.directiveStylingLast=a),i}function Xf(n,e,t){const i=t?1:2;let r=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?r=s:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),zr(n,s,!!t||e[++o]))}return void 0===n?null:n}function Poe(n,e,t){const i=String(e);""!==i&&!i.includes(" ")&&zr(n,i,t)}function c5(n,e,t,i,r,o,s,a){if(!(3&e.type))return;const c=n.data,l=c[a+1],u=function _oe(n){return 1==(1&n)}(l)?l5(c,e,t,r,Jc(l),s):void 0;qb(u)||(qb(o)||function goe(n){return 2==(2&n)}(l)&&(o=l5(c,null,t,r,a,s)),function Jte(n,e,t,i,r){if(e)r?n.addClass(t,i):n.removeClass(t,i);else{let o=-1===i.indexOf("-")?void 0:Aa.DashCase;null==r?n.removeStyle(t,i,o):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=Aa.Important),n.setStyle(t,i,r,o))}}(i,s,uf(Xi(),t),r,o))}function l5(n,e,t,i,r,o){const s=null===e;let a;for(;r>0;){const c=n[r],l=Array.isArray(c),u=l?c[1]:c,d=null===u;let h=t[r+1];h===$e&&(h=d?xt:void 0);let f=d?fx(h,i):u===i?h:void 0;if(l&&!qb(f)&&(f=fx(c,i)),qb(f)&&(a=f,s))return a;const b=n[r+1];r=s?Ra(b):Jc(b)}if(null!==e){let c=o?e.residualClasses:e.residualStyles;null!=c&&(a=fx(c,i))}return a}function qb(n){return void 0!==n}function u5(n,e){return 0!=(n.flags&(e?8:16))}function g(n,e,t,i){const r=q(),o=at(),s=Ve+n,a=r[Re],c=o.firstCreatePass?function rse(n,e,t,i,r,o){const s=e.consts,c=zu(e,n,2,i,Ko(s,r));return SE(e,t,c,Ko(s,o)),null!==c.attrs&&Pb(c,c.attrs,!1),null!==c.mergedAttrs&&Pb(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(s,o,r,e,t,i):o.data[s],l=p5(o,r,c,a,e,n);r[s]=l;const u=x_(c);return Qo(c,!0),z3(a,l,c),32!=(32&c.flags)&&D_()&&_b(o,r,l,c),0===function iJ(){return ke.lFrame.elementDepthCount}()&&Zi(l,r),function rJ(){ke.lFrame.elementDepthCount++}(),u&&(TE(o,r,c),IE(o,c,r)),null!==i&&DE(r,c),g}function p(){let n=Pt();rx()?ox():(n=n.parent,Qo(n,!1));const e=n;(function sJ(n){return ke.skipHydrationRootTNode===n})(e)&&function uJ(){ke.skipHydrationRootTNode=null}(),function oJ(){ke.lFrame.elementDepthCount--}();const t=at();return t.firstCreatePass&&(X_(t,n),QC(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function Dee(n){return 0!=(8&n.flags)}(e)&&E1(t,e,q(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function Mee(n){return 0!=(16&n.flags)}(e)&&E1(t,e,q(),e.stylesWithoutHost,!1),p}function te(n,e,t,i){return g(n,e,t,i),p(),te}let p5=(n,e,t,i,r,o)=>(Ta(!0),pb(i,r,function nL(){return ke.lFrame.currentNamespace}()));function Et(){return q()}function O1(n,e,t){const i=q();if(Bn(i,Mo(),e)){const o=at(),s=Kt();Mr(o,s,i,n,e,nV(ax(o.data),s,i),t,!0)}return O1}const dd="en-US";let v5=dd;function Q(n,e,t,i){const r=q(),o=at(),s=Pt();return F1(o,r,r[Re],s,n,e,i),Q}function N1(n,e){const t=Pt(),i=q(),r=at();return F1(r,i,nV(ax(r.data),t,i),t,n,e),N1}function F1(n,e,t,i,r,o,s){const a=x_(i),l=n.firstCreatePass&&tV(n),u=e[Wt],d=eV(e);let h=!0;if(3&i.type||s){const x=ur(i,e),I=s?s(x):x,k=d.length,M=s?K=>s(Lt(K[i.index])):i.index;let V=null;if(!s&&a&&(V=function sae(n,e,t,i){const r=n.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const s=r[o];if(s===t&&r[o+1]===i){const a=e[mu],c=r[o+2];return a.length>c?a[c]:null}"string"==typeof s&&(o+=2)}return null}(n,e,r,i.index)),null!==V)(V.__ngLastListenerFn__||V).__ngNextListenerFn__=o,V.__ngLastListenerFn__=o,h=!1;else{o=q5(i,e,u,o,!1);const K=t.listen(I,r,o);d.push(o,K),l&&l.push(r,M,k,k+1)}}else o=q5(i,e,u,o,!1);const f=i.outputs;let b;if(h&&null!==f&&(b=f[r])){const x=b.length;if(x)for(let I=0;I<x;I+=2){const oe=e[b[I]][b[I+1]].subscribe(o),de=d.length;d.push(o,oe),l&&l.push(r,i.index,de,"function"==typeof oe?de+1:-(de+1))}}}function G5(n,e,t,i){try{return Yo(6,e,t),!1!==t(i)}catch(r){return Cb(n,r),!1}finally{Yo(7,e,t)}}function q5(n,e,t,i,r){return function o(s){if(s===Function)return i;Nf(n.componentOffset>-1?jr(n.index,e):e);let c=G5(e,t,i,s),l=o.__ngNextListenerFn__;for(;l;)c=G5(e,t,l,s)&&c,l=l.__ngNextListenerFn__;return r&&!1===c&&s.preventDefault(),c}}function sn(n=1){return function mJ(n){return(ke.lFrame.contextLView=function HF(n,e){for(;n>0;)e=e[_u],n--;return e}(n,ke.lFrame.contextLView))[Wt]}(n)}function aae(n,e){let t=null;const i=function VZ(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(n);for(let r=0;r<e.length;r++){const o=e[r];if("*"!==o){if(null===i?AF(n,o,!0):jZ(i,o))return r}else t=r}return t}function tl(n){const e=q()[vn][Ki];if(!e.projection){const i=e.projection=function S_(n,e){const t=[];for(let i=0;i<n;i++)t.push(e);return t}(n?n.length:1,null),r=i.slice();let o=e.child;for(;null!==o;){const s=n?aae(o,n):0;null!==s&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o),o=o.next}}}function kr(n,e=0,t){const i=q(),r=at(),o=zu(r,Ve+n,16,null,t||null);null===o.projection&&(o.projection=e),ox(),(!i[To]||wu())&&32!=(32&o.flags)&&function Xte(n,e,t){U3(e[Re],0,e,t,yE(n,t,e),R3(t.parent||e[Ki],t,e))}(r,i,o)}function V1(n,e,t,i){!function JV(n,e,t,i){const r=at();if(r.firstCreatePass){const o=Pt();e4(r,new QV(e,t,i),o.index),function hre(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(r,n),2==(2&t)&&(r.staticContentQueries=!0)}return XV(r,q(),t)}(n,e,t,i)}function zn(n,e,t){!function ZV(n,e,t){const i=at();return i.firstCreatePass&&(e4(i,new QV(n,e,t),-1),2==(2&e)&&(i.staticViewQueries=!0)),XV(i,q(),e)}(n,e,t)}function wn(n){const e=q(),t=at(),i=cx();I_(i+1);const r=a1(t,i);if(n.dirty&&function eJ(n){return 4==(4&n[Ce])}(e)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const o=t4(e,i);n.reset(o,rL),n.notifyOnChanges()}return!0}return!1}function Cn(){return function s1(n,e){return n[Us].queries[e].queryList}(q(),cx())}function xn(n){return function vu(n,e){return n[e]}(function dJ(){return ke.lFrame.contextLView}(),Ve+n)}function w(n,e=""){const t=q(),i=at(),r=n+Ve,o=i.firstCreatePass?zu(i,r,1,e,null):i.data[r],s=dB(i,t,o,e,n);t[r]=s,D_()&&_b(i,t,s,o),Qo(o,!1)}let dB=(n,e,t,i,r)=>(Ta(!0),function fb(n,e){return n.createText(e)}(e[Re],i));function He(n){return Ue("",n,""),He}function Ue(n,e,t){const i=q(),r=function td(n,e,t,i){return Bn(n,Mo(),t)?e+Be(t)+i:$e}(i,n,e,t);return r!==$e&&function Hs(n,e,t){const i=uf(e,n);!function M3(n,e,t){n.setValue(e,t)}(n[Re],i,t)}(i,Xi(),r),Ue}function nt(n,e,t){xV(e)&&(e=e());const i=q();return Bn(i,Mo(),e)&&Mr(at(),Kt(),i,n,e,i[Re],t,!1),nt}function ct(n,e){const t=xV(n);return t&&n.set(e),t}function it(n,e){const t=q(),i=at(),r=Pt();return F1(i,t,t[Re],r,n,e),it}function B1(n,e,t,i,r){if(n=Ae(n),Array.isArray(n))for(let o=0;o<n.length;o++)B1(n[o],e,t,i,r);else{const o=at(),s=q(),a=Pt();let c=Hc(n)?n:Ae(n.provide);const l=ML(n),u=1048575&a.providerIndexes,d=a.directiveStart,h=a.providerIndexes>>20;if(Hc(n)||!n.multi){const f=new xf(l,r,E),b=j1(c,e,r?u:u+h,d);-1===b?(Jx(tb(a,s),o,c),U1(o,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(f),s.push(f)):(t[b]=f,s[b]=f)}else{const f=j1(c,e,u+h,d),b=j1(c,e,u,u+h),I=b>=0&&t[b];if(r&&!I||!r&&!(f>=0&&t[f])){Jx(tb(a,s),o,c);const k=function Tae(n,e,t,i,r){const o=new xf(n,t,E);return o.multi=[],o.index=e,o.componentProviders=0,vB(o,r,i&&!t),o}(r?Iae:Eae,t.length,r,i,l);!r&&I&&(t[b].providerFactory=k),U1(o,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(k),s.push(k)}else U1(o,n,f>-1?f:b,vB(t[r?b:f],l,!r&&i));!r&&i&&I&&t[b].componentProviders++}}}function U1(n,e,t,i){const r=Hc(e),o=function nee(n){return!!n.useClass}(e);if(r||o){const c=(o?Ae(e.useClass):e).prototype.ngOnDestroy;if(c){const l=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){const u=l.indexOf(t);-1===u?l.push(t,[i,c]):l[u+1].push(i,c)}else l.push(t,c)}}}function vB(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function j1(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function Eae(n,e,t,i){return z1(this.multi,[])}function Iae(n,e,t,i){const r=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=qc(t,t[ie],this.providerFactory.index,i);o=a.slice(0,s),z1(r,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],z1(r,o);return o}function z1(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function mn(n,e=[]){return t=>{t.providersResolver=(i,r)=>function xae(n,e,t){const i=at();if(i.firstCreatePass){const r=Do(n);B1(t,i.data,i.blueprint,r,!0),B1(e,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,e)}}let Dae=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const i=Bx(0,t.type),r=i.length>0?Fb([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,r)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=ne({token:n,providedIn:"environment",factory:()=>new n($($r))})}return n})();function Po(n){ts("NgStandalone"),n.getStandaloneInjector=e=>e.get(Dae).getOrCreateStandaloneInjector(n)}class Na{constructor(e){this.full=e;const t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}}const Cce=new Na("17.2.3");let QB=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();const eU=new X(""),ey=new X("");let X1,Q1=(()=>{class n{constructor(t,i,r){this._ngZone=t,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,X1||(function Kce(n){X1=n}(r),r.addToWindow(i)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ee.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb()}});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(t)||(clearTimeout(i.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t()},i)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:r})}whenStable(t,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,i,r){return[]}static#e=this.\u0275fac=function(i){return new(i||n)($(Ee),$(Y1),$(ey))};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac})}return n})(),Y1=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){return X1?.findTestabilityInTree(this,t,i)??null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function ap(n){return!!n&&"function"==typeof n.then}function tU(n){return!!n&&"function"==typeof n.subscribe}const cp=new X("");let Z1=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i}),this.appInits=Z(cp,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const r of this.appInits){const o=r();if(ap(o))t.push(o);else if(tU(o)){const s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),0===t.length&&i(),this.initialized=!0}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const J1=new X("");function rU(n,e){return Array.isArray(e)?e.reduce(rU,n):{...n,...e}}let os=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Z(JL),this.afterRenderEffectManager=Z(jf),this.componentTypes=[],this.components=[],this.isStable=Z(qf).hasPendingTasks.pipe(Pe(t=>!t)),this._injector=Z($r)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,i){const r=t instanceof yV;if(!this._injector.get(Z1).done)throw!r&&function Ea(n){const e=Je(n)||ci(n)||Oi(n);return null!==e&&e.standalone}(t),new U(405,!1);let s;s=r?t:this._injector.get(Gu).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const a=function Qce(n){return n.isBoundToModule}(s)?void 0:this._injector.get(Yc),l=s.create(Ut.NULL,[],i||s.selector,a),u=l.location.nativeElement,d=l.injector.get(eU,null);return d?.registerApplication(u),l.onDestroy(()=>{this.detachView(l.hostView),ty(this.components,l),d?.unregisterApplication(u)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new U(101,!1);try{this._runningTick=!0,this.detectChangesInAttachedViews()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}detectChangesInAttachedViews(){let t=0;const i=this.afterRenderEffectManager;for(;;){if(100===t)throw new U(103,!1);const r=0===t;for(let{_lView:o,notifyErrorHandler:s}of this._views)!r&&!eI(o)||this.detectChangesInView(o,s,r);if(t++,i.executeInternalCallbacks(),!this._views.some(({_lView:o})=>eI(o))&&(i.execute(),!this._views.some(({_lView:o})=>eI(o))))break}}detectChangesInView(t,i,r){let o;r?(o=0,t[Ce]|=1024):o=64&t[Ce]?0:1,xb(t,i,o)}attachView(t){const i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){const i=t;ty(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const i=this._injector.get(J1,[]);[...this._bootstrapListeners,...i].forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>ty(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new U(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ty(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function eI(n){return tx(n)}class Xce{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let oU=(()=>{class n{compileModuleSync(t){return new d1(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const i=this.compileModuleSync(t),o=Gr(Wi(t).declarations).reduce((s,a)=>{const c=Je(a);return c&&s.push(new Hf(c)),s},[]);return new Xce(i,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ele=(()=>{class n{constructor(){this.zone=Z(Ee),this.applicationRef=Z(os)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function tle(){const n=Z(Ee),e=Z(So);return t=>n.runOutsideAngular(()=>e.handleError(t))}let ile=(()=>{class n{constructor(){this.subscription=new si,this.initialized=!1,this.zone=Z(Ee),this.pendingTasks=Z(qf)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ee.assertNotInAngularZone(),queueMicrotask(()=>{null!==t&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ee.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const ss=new X("",{providedIn:"root",factory:()=>Z(ss,ot.Optional|ot.SkipSelf)||function rle(){return typeof $localize<"u"&&$localize.locale||dd}()}),tI=new X("");let lU=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,i){const r=function jie(n="zone.js",e){return"noop"===n?new RV:"zone.js"===n?new Ee(e):n}(i?.ngZone,function cU(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return r.run(()=>{const o=function Pre(n,e,t){return new u1(n,e,t)}(t.moduleType,this.injector,function aU(n){return[{provide:Ee,useFactory:n},{provide:$c,multi:!0,useFactory:()=>{const e=Z(ele,{optional:!0});return()=>e.initialize()}},{provide:$c,multi:!0,useFactory:()=>{const e=Z(ile);return()=>{e.initialize()}}},{provide:JL,useFactory:tle}]}(()=>r)),s=o.injector.get(So,null);return r.runOutsideAngular(()=>{const a=r.onError.subscribe({next:c=>{s.handleError(c)}});o.onDestroy(()=>{ty(this._modules,o),a.unsubscribe()})}),function iU(n,e,t){try{const i=t();return ap(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}(s,r,()=>{const a=o.injector.get(Z1);return a.runInitializers(),a.donePromise.then(()=>(function w5(n){"string"==typeof n&&(v5=n.toLowerCase().replace(/_/g,"-"))}(o.injector.get(ss,dd)||dd),this._moduleDoBootstrap(o),o))})})}bootstrapModule(t,i=[]){const r=rU({},i);return function Jce(n,e,t){const i=new d1(t);return Promise.resolve(i)}(0,0,t).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(t){const i=t.injector.get(os);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!t.instance.ngDoBootstrap)throw new U(-403,!1);t.instance.ngDoBootstrap(i)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new U(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const t=this._injector.get(tI,null);t&&(t.forEach(i=>i()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(i){return new(i||n)($(Ut))};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),Fa=null;const uU=new X("");function dU(n,e,t=[]){const i=`Platform: ${e}`,r=new X(i);return(o=[])=>{let s=nI();if(!s||s.injector.get(uU,!1)){const a=[...t,...o,{provide:r,useValue:!0}];n?n(a):function ale(n){if(Fa&&!Fa.get(uU,!1))throw new U(400,!1);(function nU(){!function dZ(n){cF=n}(()=>{throw new U(600,!1)})})(),Fa=n;const e=n.get(lU);(function fU(n){n.get(hL,null)?.forEach(t=>t())})(n)}(function hU(n=[],e){return Ut.create({name:e,providers:[{provide:zx,useValue:"platform"},{provide:tI,useValue:new Set([()=>Fa=null])},...n]})}(a,i))}return function cle(n){const e=nI();if(!e)throw new U(401,!1);return e}()}}function nI(){return Fa?.get(lU)??null}const ple=dU(null,"core",[]);let gle=(()=>{class n{constructor(t){}static#e=this.\u0275fac=function(i){return new(i||n)($(os))};static#t=this.\u0275mod=Ze({type:n});static#n=this.\u0275inj=Xe({})}return n})();function as(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let VU=null;function La(){return VU}class qle{}const lt=new X("");let lI=(()=>{class n{historyGo(t){throw new Error("")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ne({token:n,factory:()=>Z(Kle),providedIn:"platform"})}return n})();const Wle=new X("");let Kle=(()=>{class n extends lI{constructor(){super(),this._doc=Z(lt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return La().getBaseHref(this._doc)}onPopState(t){const i=La().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=La().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){this._history.pushState(t,i,r)}replaceState(t,i,r){this._history.replaceState(t,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ne({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function uI(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function BU(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Gs(n){return n&&"?"!==n[0]?"?"+n:n}let Va=(()=>{class n{historyGo(t){throw new Error("")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ne({token:n,factory:()=>Z(jU),providedIn:"root"})}return n})();const UU=new X("");let jU=(()=>{class n extends Va{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??Z(lt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return uI(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+Gs(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,o){const s=this.prepareExternalUrl(r+Gs(o));this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){const s=this.prepareExternalUrl(r+Gs(o));this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(i){return new(i||n)($(lI),$(UU,8))};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),zU=(()=>{class n extends Va{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){const i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=uI(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,o){let s=this.prepareExternalUrl(r+Gs(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){let s=this.prepareExternalUrl(r+Gs(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(i){return new(i||n)($(lI),$(UU,8))};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac})}return n})(),_i=(()=>{class n{constructor(t){this._subject=new Qe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._basePath=function Xle(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(BU($U(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+Gs(i))}normalize(t){return n.stripTrailingSlash(function Yle(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,$U(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Gs(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Gs(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}static#e=this.normalizeQueryParams=Gs;static#t=this.joinWithSlash=uI;static#n=this.stripTrailingSlash=BU;static#i=this.\u0275fac=function(i){return new(i||n)($(Va))};static#r=this.\u0275prov=ne({token:n,factory:()=>function Qle(){return new _i($(Va))}(),providedIn:"root"})}return n})();function $U(n){return n.replace(/\/index.html$/,"")}class Vue{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ho=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,o,s)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Vue(r.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)i.remove(null===o?void 0:o);else if(null!==o){const a=i.get(o);i.move(a,s),ej(a,r)}});for(let r=0,o=i.length;r<o;r++){const a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{ej(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(E(so),E(es),E(qE))};static#t=this.\u0275dir=me({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function ej(n,e){n.context.$implicit=e.item}let wI=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new Bue,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){tj("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){tj("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(E(so),E(es))};static#t=this.\u0275dir=me({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class Bue{constructor(){this.$implicit=null,this.ngIf=null}}function tj(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${ai(e)}'.`)}let il=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ze({type:n});static#n=this.\u0275inj=Xe({})}return n})();const rj="browser";function wy(n){return n===rj}function oj(n){return"server"===n}let pde=(()=>{class n{static#e=this.\u0275prov=ne({token:n,providedIn:"root",factory:()=>wy(Z(ro))?new gde(Z(lt),window):new _de})}return n})();class gde{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){const t=function mde(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}}class _de{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}}class qde extends qle{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class DI extends qde{static makeCurrent(){!function Gle(n){VU??=n}(new DI)}onAndCancel(e,t,i){return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Wde(){return pp=pp||document.querySelector("base"),pp?pp.getAttribute("href"):null}();return null==t?null:function Kde(n){return new URL(n,document.baseURI).pathname}(t)}resetBaseElement(){pp=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Nue(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,o]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,e)}}let pp=null,Yde=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac})}return n})();const MI=new X("");let pj=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(o=>o.supports(t)),!i)throw new U(5101,!1);return this._eventNameToPlugin.set(t,i),i}static#e=this.\u0275fac=function(i){return new(i||n)($(MI),$(Ee))};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac})}return n})();class gj{constructor(e){this._doc=e}}const SI="ng-app-id";let mj=(()=>{class n{constructor(t,i,r,o={}){this.doc=t,this.appId=i,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=oj(o),this.resetHostNodes()}addStyles(t){for(const i of t)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(t){for(const i of t)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(i=>i.remove()),t.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){const i=this.styleRef;i.get(t)?.elements?.forEach(r=>r.remove()),i.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${SI}="${this.appId}"]`);if(t?.length){const i=new Map;return t.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(t,i){const r=this.styleRef;if(r.has(t)){const o=r.get(t);return o.usage+=i,o.usage}return r.set(t,{usage:i,elements:[]}),i}getStyleElement(t,i){const r=this.styleNodesInDOM,o=r?.get(i);if(o?.parentNode===t)return r.delete(i),o.removeAttribute(SI),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=i,this.platformIsServer&&s.setAttribute(SI,this.appId),t.appendChild(s),s}}addStyleToHost(t,i){const r=this.getStyleElement(t,i),o=this.styleRef,s=o.get(i)?.elements;s?s.push(r):o.set(i,{elements:[r],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#e=this.\u0275fac=function(i){return new(i||n)($(lt),$(N_),$(mx,8),$(ro))};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac})}return n})();const AI={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},kI=/%COMP%/g,ehe=new X("",{providedIn:"root",factory:()=>!0});function bj(n,e){return e.map(t=>t.replace(kI,n))}let OI=(()=>{class n{constructor(t,i,r,o,s,a,c,l=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=oj(a),this.defaultRenderer=new PI(t,s,c,this.platformIsServer)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===xo.ShadowDom&&(i={...i,encapsulation:xo.Emulated});const r=this.getOrCreateRenderer(t,i);return r instanceof vj?r.applyToHost(t):r instanceof RI&&r.applyStyles(),r}getOrCreateRenderer(t,i){const r=this.rendererByCompId;let o=r.get(i.id);if(!o){const s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(i.encapsulation){case xo.Emulated:o=new vj(c,l,i,this.appId,u,s,a,d);break;case xo.ShadowDom:return new rhe(c,l,t,i,s,a,this.nonce,d);default:o=new RI(c,l,i,u,s,a,d)}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(i){return new(i||n)($(pj),$(mj),$(N_),$(ehe),$(lt),$(ro),$(Ee),$(mx))};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac})}return n})();class PI{constructor(e,t,i,r){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(AI[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(yj(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(yj(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?this.doc.querySelector(e):e;if(!i)throw new U(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const o=AI[r];o?e.setAttributeNS(o,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=AI[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(Aa.DashCase|Aa.Important)?e.style.setProperty(t,i,r&Aa.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&Aa.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){null!=e&&(e[t]=i)}setValue(e,t){e.nodeValue=t}listen(e,t,i){if("string"==typeof e&&!(e=La().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(i))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function yj(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class rhe extends PI{constructor(e,t,i,r,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=bj(r.id,r.styles);for(const u of l){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class RI extends PI{constructor(e,t,i,r,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=c?bj(c,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class vj extends RI{constructor(e,t,i,r,o,s,a,c){const l=r+"-"+i.id;super(e,t,i,o,s,a,c,l),this.contentAttr=function the(n){return"_ngcontent-%COMP%".replace(kI,n)}(l),this.hostAttr=function nhe(n){return"_nghost-%COMP%".replace(kI,n)}(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}let ohe=(()=>{class n extends gj{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}static#e=this.\u0275fac=function(i){return new(i||n)($(lt))};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac})}return n})();const wj=["alt","control","meta","shift"],she={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ahe={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let che=(()=>{class n extends gj{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const o=n.parseEventName(i),s=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>La().onAndCancel(t,o.domEventName,s))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),wj.forEach(l=>{const u=i.indexOf(l);u>-1&&(i.splice(u,1),s+=l+".")}),s+=o,0!=i.length||0===o.length)return null;const c={};return c.domEventName=r,c.fullKey=s,c}static matchEventFullKeyCode(t,i){let r=she[t.key]||t.key,o="";return i.indexOf("code.")>-1&&(r=t.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),wj.forEach(s=>{s!==r&&(0,ahe[s])(t)&&(o+=s+".")}),o+=r,o===i)}static eventCallback(t,i,r){return o=>{n.matchEventFullKeyCode(o,t)&&r.runGuarded(()=>i(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#e=this.\u0275fac=function(i){return new(i||n)($(lt))};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac})}return n})();const xj=[{provide:ro,useValue:rj},{provide:hL,useValue:function lhe(){DI.makeCurrent()},multi:!0},{provide:lt,useFactory:function dhe(){return function xJ(n){px=n}(document),document},deps:[]}],hhe=dU(ple,"browser",xj),fhe=new X(""),Ej=[{provide:ey,useClass:class Qde{addToWindow(e){At.getAngularTestability=(i,r=!0)=>{const o=e.findTestabilityInTree(i,r);if(null==o)throw new U(5103,!1);return o},At.getAllAngularTestabilities=()=>e.getAllTestabilities(),At.getAllAngularRootElements=()=>e.getAllRootElements(),At.frameworkStabilizers||(At.frameworkStabilizers=[]),At.frameworkStabilizers.push(i=>{const r=At.getAllAngularTestabilities();let o=r.length;const s=function(){o--,0==o&&i()};r.forEach(a=>{a.whenStable(s)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?La().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:eU,useClass:Q1,deps:[Ee,Y1,ey]},{provide:Q1,useClass:Q1,deps:[Ee,Y1,ey]}],Ij=[{provide:zx,useValue:"root"},{provide:So,useFactory:function uhe(){return new So},deps:[]},{provide:MI,useClass:ohe,multi:!0,deps:[lt,Ee,ro]},{provide:MI,useClass:che,multi:!0,deps:[lt]},OI,mj,pj,{provide:$E,useExisting:OI},{provide:class bde{},useClass:Yde,deps:[]},[]];let Tj=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:N_,useValue:t.appId}]}}static#e=this.\u0275fac=function(i){return new(i||n)($(fhe,12))};static#t=this.\u0275mod=Ze({type:n});static#n=this.\u0275inj=Xe({providers:[...Ij,...Ej],imports:[il,gle]})}return n})(),phe=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static#e=this.\u0275fac=function(i){return new(i||n)($(lt))};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Ey(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t}function Ba(n){return this instanceof Ba?(this.v=n,this):new Ba(n)}function Pj(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function BI(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=n[o]&&function(s){return new Promise(function(a,c){!function r(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}(a,c,(s=n[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const UI=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Rj(n){return bt(n?.then)}function Nj(n){return bt(n[jC])}function Fj(n){return Symbol.asyncIterator&&bt(n?.[Symbol.asyncIterator])}function Lj(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Vj=function Bhe(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Bj(n){return bt(n?.[Vj])}function Uj(n){return function Oj(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=t.apply(n,e||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(h){i[h]&&(r[h]=function(f){return new Promise(function(b,x){o.push([h,f,b,x])>1||a(h,f)})})}function a(h,f){try{!function c(h){h.value instanceof Ba?Promise.resolve(h.value.v).then(l,u):d(o[0][2],h)}(i[h](f))}catch(b){d(o[0][3],b)}}function l(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),o.shift(),o.length&&a(o[0][0],o[0][1])}}(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:i,done:r}=yield Ba(t.read());if(r)return yield Ba(void 0);yield yield Ba(i)}}finally{t.releaseLock()}})}function jj(n){return bt(n?.getReader)}function Ni(n){if(n instanceof qt)return n;if(null!=n){if(Nj(n))return function Uhe(n){return new qt(e=>{const t=n[jC]();if(bt(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(UI(n))return function jhe(n){return new qt(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(Rj(n))return function zhe(n){return new qt(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,pF)})}(n);if(Fj(n))return zj(n);if(Bj(n))return function $he(n){return new qt(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(jj(n))return function Hhe(n){return zj(Uj(n))}(n)}throw Lj(n)}function zj(n){return new qt(e=>{(function Ghe(n,e){var t,i,r,o;return function Aj(n,e,t,i){return new(t||(t=Promise))(function(o,s){function a(u){try{l(i.next(u))}catch(d){s(d)}}function c(u){try{l(i.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):function r(o){return o instanceof t?o:new t(function(s){s(o)})}(u.value).then(a,c)}l((i=i.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=Pj(n);!(i=yield t.next()).done;)if(e.next(i.value),e.closed)return}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=t.return)&&(yield o.call(t))}finally{if(r)throw r.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function Ks(n,e,t,i=0,r=!1){const o=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function Iy(n,e=0){return yn((t,i)=>{t.subscribe(fn(i,r=>Ks(i,n,()=>i.next(r),e),()=>Ks(i,n,()=>i.complete(),e),r=>Ks(i,n,()=>i.error(r),e)))})}function Ty(n,e=0){return yn((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function $j(n,e){if(!n)throw new Error("Iterable cannot be null");return new qt(t=>{Ks(t,e,()=>{const i=n[Symbol.asyncIterator]();Ks(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function fi(n,e){return e?function Xhe(n,e){if(null!=n){if(Nj(n))return function qhe(n,e){return Ni(n).pipe(Ty(e),Iy(e))}(n,e);if(UI(n))return function Khe(n,e){return new qt(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}(n,e);if(Rj(n))return function Whe(n,e){return Ni(n).pipe(Ty(e),Iy(e))}(n,e);if(Fj(n))return $j(n,e);if(Bj(n))return function Qhe(n,e){return new qt(t=>{let i;return Ks(t,e,()=>{i=n[Vj](),Ks(t,e,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){return void t.error(s)}o?t.complete():t.next(r)},0,!0)}),()=>bt(i?.return)&&i.return()})}(n,e);if(jj(n))return function Yhe(n,e){return $j(Uj(n),e)}(n,e)}throw Lj(n)}(n,e):Ni(n)}const{isArray:Zhe}=Array,{getPrototypeOf:Jhe,prototype:efe,keys:tfe}=Object;function Hj(n){if(1===n.length){const e=n[0];if(Zhe(e))return{args:e,keys:null};if(function nfe(n){return n&&"object"==typeof n&&Jhe(n)===efe}(e)){const t=tfe(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}function Gj(n){return n&&bt(n.schedule)}function jI(n){return n[n.length-1]}function qj(n){return bt(jI(n))?n.pop():void 0}function mp(n){return Gj(jI(n))?n.pop():void 0}const{isArray:rfe}=Array;function zI(n){return Pe(e=>function ofe(n,e){return rfe(e)?n(...e):n(e)}(n,e))}function Wj(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}let Qj=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static#e=this.\u0275fac=function(i){return new(i||n)(E(Ao),E(gn))};static#t=this.\u0275dir=me({type:n})}return n})(),rl=(()=>{class n extends Qj{static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=mi(n)))(r||n)}})();static#t=this.\u0275dir=me({type:n,features:[yt]})}return n})();const cs=new X(""),afe={provide:cs,useExisting:Qt(()=>Ji),multi:!0},lfe=new X("");let Ji=(()=>{class n extends Qj{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function cfe(){const n=La()?La().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static#e=this.\u0275fac=function(i){return new(i||n)(E(Ao),E(gn),E(lfe,8))};static#t=this.\u0275dir=me({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){1&i&&Q("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[mn([afe]),yt]})}return n})();function Ua(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}const er=new X(""),ja=new X("");function Dy(n){return null}function sz(n){return null!=n}function az(n){return ap(n)?fi(n):n}function cz(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function lz(n,e){return e.map(t=>t(n))}function uz(n){return n.map(e=>function dfe(n){return!n.validate}(e)?e:t=>e.validate(t))}function $I(n){return null!=n?function dz(n){if(!n)return null;const e=n.filter(sz);return 0==e.length?null:function(t){return cz(lz(t,e))}}(uz(n)):null}function hz(n){if(!n)return null;const e=n.filter(sz);return 0==e.length?null:function(t){return function Kj(...n){const e=qj(n),{args:t,keys:i}=Hj(n),r=new qt(o=>{const{length:s}=t;if(!s)return void o.complete();const a=new Array(s);let c=s,l=s;for(let u=0;u<s;u++){let d=!1;Ni(t[u]).subscribe(fn(o,h=>{d||(d=!0,l--),a[u]=h},()=>c--,void 0,()=>{(!c||!d)&&(l||o.next(i?Wj(i,a):a),o.complete())}))}});return e?r.pipe(zI(e)):r}(lz(t,e).map(az)).pipe(Pe(cz))}}function HI(n){return null!=n?hz(uz(n)):null}function fz(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function GI(n){return n?Array.isArray(n)?n:[n]:[]}function My(n,e){return Array.isArray(n)?n.includes(e):n===e}function mz(n,e){const t=GI(e);return GI(n).forEach(r=>{My(t,r)||t.push(r)}),t}function _z(n,e){return GI(e).filter(t=>!My(n,t))}class bz{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=$I(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=HI(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class gr extends bz{get formDirective(){return null}get path(){return null}}class za extends bz{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class yz{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Or=(()=>{class n extends yz{constructor(t){super(t)}static#e=this.\u0275fac=function(i){return new(i||n)(E(za,2))};static#t=this.\u0275dir=me({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){2&i&&co("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[yt]})}return n})(),Jn=(()=>{class n extends yz{constructor(t){super(t)}static#e=this.\u0275fac=function(i){return new(i||n)(E(gr,10))};static#t=this.\u0275dir=me({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){2&i&&co("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[yt]})}return n})();const _p="VALID",Ay="INVALID",md="PENDING",bp="DISABLED";function KI(n){return(ky(n)?n.validators:n)||null}function QI(n,e){return(ky(e)?e.asyncValidators:n)||null}function ky(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class YI{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===_p}get invalid(){return this.status===Ay}get pending(){return this.status==md}get disabled(){return this.status===bp}get enabled(){return this.status!==bp}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(mz(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(mz(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(_z(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(_z(e,this._rawAsyncValidators))}hasValidator(e){return My(this._rawValidators,e)}hasAsyncValidator(e){return My(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=md,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=bp,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=_p,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===_p||this.status===md)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?bp:_p}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=md,this._hasOwnPendingAsyncValidator=!0;const t=az(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Qe,this.statusChanges=new Qe}_calculateStatus(){return this._allControlsDisabled()?bp:this.errors?Ay:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(md)?md:this._anyControlsHaveStatus(Ay)?Ay:_p}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){ky(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function gfe(n){return Array.isArray(n)?$I(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function mfe(n){return Array.isArray(n)?HI(n):n||null}(this._rawAsyncValidators)}}class XI extends YI{constructor(e,t,i){super(KI(t),QI(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function Cz(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new U(1002,"")})})(this,0,e),Object.keys(e).forEach(i=>{(function wz(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new U(1e3,"");if(!i[t])throw new U(1001,"")})(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,o)=>{i=t(i,r,o)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const _d=new X("CallSetDisabledState",{providedIn:"root",factory:()=>Oy}),Oy="always";function yp(n,e,t=Oy){ZI(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function yfe(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&xz(n,e)})}(n,e),function wfe(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function vfe(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&xz(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function bfe(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Ny(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function ZI(n,e){const t=function pz(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(fz(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=function gz(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(fz(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();Ny(e._rawValidators,r),Ny(e._rawAsyncValidators,r)}function xz(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const Tfe={provide:gr,useExisting:Qt(()=>Sn)},vp=Promise.resolve();let Sn=(()=>{class n extends gr{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Qe,this.form=new XI({},$I(t),HI(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){vp.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),yp(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){vp.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){vp.then(()=>{const i=this._findContainer(t.path),r=new XI({});(function Ez(n,e){ZI(n,e)})(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){vp.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){vp.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function Iz(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static#e=this.\u0275fac=function(i){return new(i||n)(E(er,10),E(ja,10),E(_d,8))};static#t=this.\u0275dir=me({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){1&i&&Q("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:[st.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[mn([Tfe]),yt]})}return n})();function Tz(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function Dz(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Mz=class extends YI{constructor(e=null,t,i){super(KI(t),QI(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ky(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=Dz(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Tz(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Tz(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){Dz(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Sfe={provide:za,useExisting:Qt(()=>mr)},kz=Promise.resolve();let mr=(()=>{class n extends za{constructor(t,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new Mz,this._registered=!1,this.name="",this.update=new Qe,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function tT(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(o=>{o.constructor===Ji?t=o:function Efe(n){return Object.getPrototypeOf(n.constructor)===rl}(o)?i=o:r=o}),r||i||t||null}(0,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function eT(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){yp(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){kz.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=0!==i&&as(i);kz.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function Py(n,e){return[...e.path,n]}(t,this._parent):[t]}static#e=this.\u0275fac=function(i){return new(i||n)(E(gr,9),E(er,10),E(ja,10),E(cs,10),E(qu,8),E(_d,8))};static#t=this.\u0275dir=me({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[st.None,"disabled","isDisabled"],model:[st.None,"ngModel","model"],options:[st.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[mn([Sfe]),yt,oo]})}return n})(),ei=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=me({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return n})();const Afe={provide:cs,useExisting:Qt(()=>nT),multi:!0};let nT=(()=>{class n extends rl{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=i=>{t(""==i?null:parseFloat(i))}}static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=mi(n)))(r||n)}})();static#t=this.\u0275dir=me({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,r){1&i&&Q("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},features:[mn([Afe]),yt]})}return n})();const Bfe={provide:cs,useExisting:Qt(()=>sT),multi:!0};function Vz(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let sT=(()=>{class n extends rl{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const r=Vz(this._getOptionId(t),t);this.setProperty("value",r)}registerOnChange(t){this.onChange=i=>{this.value=this._getOptionValue(i),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),t))return i;return null}_getOptionValue(t){const i=function Ufe(n){return n.split(":")[0]}(t);return this._optionMap.has(i)?this._optionMap.get(i):t}static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=mi(n)))(r||n)}})();static#t=this.\u0275dir=me({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,r){1&i&&Q("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[mn([Bfe]),yt]})}return n})(),wp=(()=>{class n{constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(Vz(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(i){return new(i||n)(E(gn),E(Ao),E(sT,9))};static#t=this.\u0275dir=me({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return n})();const jfe={provide:cs,useExisting:Qt(()=>aT),multi:!0};function Bz(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let aT=(()=>{class n extends rl{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let i;if(this.value=t,Array.isArray(t)){const r=t.map(o=>this._getOptionId(o));i=(o,s)=>{o._setSelected(r.indexOf(s.toString())>-1)}}else i=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(t){this.onChange=i=>{const r=[],o=i.selectedOptions;if(void 0!==o){const s=o;for(let a=0;a<s.length;a++){const l=this._getOptionValue(s[a].value);r.push(l)}}else{const s=i.options;for(let a=0;a<s.length;a++){const c=s[a];if(c.selected){const l=this._getOptionValue(c.value);r.push(l)}}}this.value=r,t(r)}}_registerOption(t){const i=(this._idCounter++).toString();return this._optionMap.set(i,t),i}_getOptionId(t){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,t))return i;return null}_getOptionValue(t){const i=function zfe(n){return n.split(":")[0]}(t);return this._optionMap.has(i)?this._optionMap.get(i)._value:t}static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=mi(n)))(r||n)}})();static#t=this.\u0275dir=me({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,r){1&i&&Q("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[mn([jfe]),yt]})}return n})(),Cp=(()=>{class n{constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(Bz(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(Bz(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(i){return new(i||n)(E(gn),E(Ao),E(aT,9))};static#t=this.\u0275dir=me({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return n})();function jz(n){return"number"==typeof n?n:parseFloat(n)}let ol=(()=>{class n{constructor(){this._validator=Dy}ngOnChanges(t){if(this.inputName in t){const i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Dy,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=me({type:n,features:[oo]})}return n})();const $fe={provide:er,useExisting:Qt(()=>cT),multi:!0};let cT=(()=>{class n extends ol{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=t=>jz(t),this.createValidator=t=>function Jj(n){return e=>{if(Ua(e.value)||Ua(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(t)}static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=mi(n)))(r||n)}})();static#t=this.\u0275dir=me({type:n,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(i,r){2&i&&Sr("max",r._enabled?r.max:null)},inputs:{max:"max"},features:[mn([$fe]),yt]})}return n})();const Hfe={provide:er,useExisting:Qt(()=>lT),multi:!0};let lT=(()=>{class n extends ol{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=t=>jz(t),this.createValidator=t=>function Zj(n){return e=>{if(Ua(e.value)||Ua(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(t)}static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=mi(n)))(r||n)}})();static#t=this.\u0275dir=me({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(i,r){2&i&&Sr("min",r._enabled?r.min:null)},inputs:{min:"min"},features:[mn([Hfe]),yt]})}return n})(),Xfe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ze({type:n});static#n=this.\u0275inj=Xe({})}return n})(),Ly=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:_d,useValue:t.callSetDisabledState??Oy}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ze({type:n});static#n=this.\u0275inj=Xe({imports:[Xfe]})}return n})();function ve(...n){return fi(n,mp(n))}function Vy(...n){const e=mp(n),t=qj(n),{args:i,keys:r}=Hj(n);if(0===i.length)return fi([],e);const o=new qt(function epe(n,e,t=Ca){return i=>{Wz(e,()=>{const{length:r}=n,o=new Array(r);let s=r,a=r;for(let c=0;c<r;c++)Wz(e,()=>{const l=fi(n[c],e);let u=!1;l.subscribe(fn(i,d=>{o[c]=d,u||(u=!0,a--),a||i.next(t(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}(i,e,r?s=>Wj(r,s):Ca));return t?o.pipe(zI(t)):o}function Wz(n,e,t){n?Ks(t,n,e):e()}const By=NC(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function bi(n,e,t=1/0){return bt(e)?bi((i,r)=>Pe((o,s)=>e(i,o,r,s))(Ni(n(i,r))),t):("number"==typeof e&&(t=e),yn((i,r)=>function tpe(n,e,t,i,r,o,s,a){const c=[];let l=0,u=0,d=!1;const h=()=>{d&&!c.length&&!l&&e.complete()},f=x=>l<i?b(x):c.push(x),b=x=>{o&&e.next(x),l++;let I=!1;Ni(t(x,u++)).subscribe(fn(e,k=>{r?.(k),o?f(k):e.next(k)},()=>{I=!0},void 0,()=>{if(I)try{for(l--;c.length&&l<i;){const k=c.shift();s?Ks(e,s,()=>b(k)):b(k)}h()}catch(k){e.error(k)}}))};return n.subscribe(fn(e,f,()=>{d=!0,h()})),()=>{a?.()}}(i,r,n,t)))}function bd(n=1/0){return bi(Ca,n)}function yd(...n){return function npe(){return bd(1)}()(fi(n,mp(n)))}function xp(n){return new qt(e=>{Ni(n()).subscribe(e)})}function vd(n,e){const t=bt(n)?n:()=>n,i=r=>r.error(t());return new qt(e?r=>e.schedule(i,0,r):i)}const ls=new qt(n=>n.complete());function dT(){return yn((n,e)=>{let t=null;n._refCount++;const i=fn(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,o=t;t=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class hT extends qt{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,bF(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new si;const t=this.getSubject();e.add(this.source.subscribe(fn(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=si.EMPTY)}return e}refCount(){return dT()(this)}}function Pr(n,e){return yn((t,i)=>{let r=null,o=0,s=!1;const a=()=>s&&!r&&i.complete();t.subscribe(fn(i,c=>{r?.unsubscribe();let l=0;const u=o++;Ni(n(c,u)).subscribe(r=fn(i,d=>i.next(e?e(c,d,u,l++):d),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function Hn(n){return n<=0?()=>ls:yn((e,t)=>{let i=0;e.subscribe(fn(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function fT(...n){const e=mp(n);return yn((t,i)=>{(e?yd(n,t,e):yd(n,t)).subscribe(i)})}function An(n,e){return yn((t,i)=>{let r=0;t.subscribe(fn(i,o=>n.call(e,o,r++)&&i.next(o)))})}function Uy(n){return yn((e,t)=>{let i=!1;e.subscribe(fn(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function Kz(n=rpe){return yn((e,t)=>{let i=!1;e.subscribe(fn(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function rpe(){return new By}function sl(n,e){const t=arguments.length>=2;return i=>i.pipe(n?An((r,o)=>n(r,o,i)):Ca,Hn(1),t?Uy(e):Kz(()=>new By))}function wd(n,e){return bt(e)?bi(n,e,1):bi(n,1)}function kn(n,e,t){const i=bt(n)||e||t?{next:n,error:e,complete:t}:n;return i?yn((r,o)=>{var s;null===(s=i.subscribe)||void 0===s||s.call(i);let a=!0;r.subscribe(fn(o,c=>{var l;null===(l=i.next)||void 0===l||l.call(i,c),o.next(c)},()=>{var c;a=!1,null===(c=i.complete)||void 0===c||c.call(i),o.complete()},c=>{var l;a=!1,null===(l=i.error)||void 0===l||l.call(i,c),o.error(c)},()=>{var c,l;a&&(null===(c=i.unsubscribe)||void 0===c||c.call(i)),null===(l=i.finalize)||void 0===l||l.call(i)}))}):Ca}function al(n){return yn((e,t)=>{let o,i=null,r=!1;i=e.subscribe(fn(t,void 0,void 0,s=>{o=Ni(n(s,al(n)(e))),i?(i.unsubscribe(),i=null,o.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(t))})}function pT(n){return n<=0?()=>ls:yn((e,t)=>{let i=[];e.subscribe(fn(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function Qz(n){return Pe(()=>n)}function jy(n){return yn((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function zy(n){return yn((e,t)=>{Ni(n).subscribe(fn(t,()=>t.complete(),Jh)),!t.closed&&e.subscribe(t)})}const Ye="primary",Ep=Symbol("RouteTitle");class cpe{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Cd(n){return new cpe(n)}function lpe(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const s=i[o],a=n[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function us(n,e){const t=n?gT(n):void 0,i=e?gT(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let o=0;o<t.length;o++)if(r=t[o],!Yz(n[r],e[r]))return!1;return!0}function gT(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Yz(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,o)=>i[o]===r)}return n===e}function Xz(n){return n.length>0?n[n.length-1]:null}function $a(n){return function Jfe(n){return!!n&&(n instanceof qt||bt(n.lift)&&bt(n.subscribe))}(n)?n:ap(n)?fi(Promise.resolve(n)):ve(n)}const dpe={exact:function e6(n,e,t){if(!cl(n.segments,e.segments)||!$y(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!e6(n.children[i],e.children[i],t))return!1;return!0},subset:t6},Zz={exact:function hpe(n,e){return us(n,e)},subset:function fpe(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Yz(n[t],e[t]))},ignored:()=>!0};function Jz(n,e,t){return dpe[t.paths](n.root,e.root,t.matrixParams)&&Zz[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function t6(n,e,t){return n6(n,e,e.segments,t)}function n6(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!cl(r,t)||e.hasChildren()||!$y(r,t,i))}if(n.segments.length===t.length){if(!cl(n.segments,t)||!$y(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!t6(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(cl(n.segments,r)&&$y(n.segments,r,i)&&n.children[Ye])&&n6(n.children[Ye],e,o,i)}}function $y(n,e,t){return e.every((i,r)=>Zz[t](n[r].parameters,i.parameters))}class xd{constructor(e=new Vt([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Cd(this.queryParams),this._queryParamMap}toString(){return mpe.serialize(this)}}class Vt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Hy(this)}}class Ip{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Cd(this.parameters),this._parameterMap}toString(){return o6(this)}}function cl(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let Ed=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ne({token:n,factory:()=>new mT,providedIn:"root"})}return n})();class mT{parse(e){const t=new Dpe(e);return new xd(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Tp(e.root,!0)}`,i=function ype(n){const e=Object.entries(n).map(([t,i])=>Array.isArray(i)?i.map(r=>`${Gy(t)}=${Gy(r)}`).join("&"):`${Gy(t)}=${Gy(i)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function _pe(n){return encodeURI(n)}(e.fragment)}`:""}`}}const mpe=new mT;function Hy(n){return n.segments.map(e=>o6(e)).join("/")}function Tp(n,e){if(!n.hasChildren())return Hy(n);if(e){const t=n.children[Ye]?Tp(n.children[Ye],!1):"",i=[];return Object.entries(n.children).forEach(([r,o])=>{r!==Ye&&i.push(`${r}:${Tp(o,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function gpe(n,e){let t=[];return Object.entries(n.children).forEach(([i,r])=>{i===Ye&&(t=t.concat(e(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==Ye&&(t=t.concat(e(r,i)))}),t}(n,(i,r)=>r===Ye?[Tp(n.children[Ye],!1)]:[`${r}:${Tp(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ye]?`${Hy(n)}/${t[0]}`:`${Hy(n)}/(${t.join("//")})`}}function i6(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Gy(n){return i6(n).replace(/%3B/gi,";")}function _T(n){return i6(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function qy(n){return decodeURIComponent(n)}function r6(n){return qy(n.replace(/\+/g,"%20"))}function o6(n){return`${_T(n.path)}${function bpe(n){return Object.entries(n).map(([e,t])=>`;${_T(e)}=${_T(t)}`).join("")}(n.parameters)}`}const vpe=/^[^\/()?;#]+/;function bT(n){const e=n.match(vpe);return e?e[0]:""}const wpe=/^[^\/()?;=#]+/,xpe=/^[^=?&#]+/,Ipe=/^[^&#]+/;class Dpe{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Vt([],{}):new Vt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[Ye]=new Vt(e,t)),i}parseSegment(){const e=bT(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new U(4009,!1);return this.capture(e),new Ip(qy(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function Cpe(n){const e=n.match(wpe);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=bT(this.remaining);r&&(i=r,this.capture(i))}e[qy(t)]=qy(i)}parseQueryParam(e){const t=function Epe(n){const e=n.match(xpe);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const s=function Tpe(n){const e=n.match(Ipe);return e?e[0]:""}(this.remaining);s&&(i=s,this.capture(i))}const r=r6(t),o=r6(i);if(e.hasOwnProperty(r)){let s=e[r];Array.isArray(s)||(s=[s],e[r]=s),s.push(o)}else e[r]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=bT(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new U(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Ye);const s=this.parseChildren();t[o]=1===Object.keys(s).length?s[Ye]:new Vt([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new U(4011,!1)}}function s6(n){return n.segments.length>0?new Vt([],{[Ye]:n}):n}function a6(n){const e={};for(const[i,r]of Object.entries(n.children)){const o=a6(r);if(i===Ye&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[i]=o)}return function Mpe(n){if(1===n.numberOfChildren&&n.children[Ye]){const e=n.children[Ye];return new Vt(n.segments.concat(e.segments),e.children)}return n}(new Vt(n.segments,e))}function Id(n){return n instanceof xd}function c6(n){let e;const r=s6(function t(o){const s={};for(const c of o.children){const l=t(c);s[c.outlet]=l}const a=new Vt(o.url,s);return o===n&&(e=a),a}(n.root));return e??r}function l6(n,e,t,i){let r=n;for(;r.parent;)r=r.parent;if(0===e.length)return yT(r,r,r,t,i);const o=function Ape(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new d6(!0,0,n);let e=0,t=!1;const i=n.reduce((r,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]="string"==typeof l?l.split("/"):l}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===s?(o.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?t=!0:".."===a?e++:""!=a&&r.push(a))}),r):[...r,o]},[]);return new d6(t,e,i)}(e);if(o.toRoot())return yT(r,r,new Vt([],{}),t,i);const s=function kpe(n,e,t){if(n.isAbsolute)return new Ky(e,!0,0);if(!t)return new Ky(e,!1,NaN);if(null===t.parent)return new Ky(t,!0,0);const i=Wy(n.commands[0])?0:1;return function Ope(n,e,t){let i=n,r=e,o=t;for(;o>r;){if(o-=r,i=i.parent,!i)throw new U(4005,!1);r=i.segments.length}return new Ky(i,!1,r-o)}(t,t.segments.length-1+i,n.numberOfDoubleDots)}(o,r,n),a=s.processChildren?Mp(s.segmentGroup,s.index,o.commands):h6(s.segmentGroup,s.index,o.commands);return yT(r,s.segmentGroup,a,t,i)}function Wy(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Dp(n){return"object"==typeof n&&null!=n&&n.outlets}function yT(n,e,t,i,r){let s,o={};i&&Object.entries(i).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`}),s=n===e?t:u6(n,e,t);const a=s6(a6(s));return new xd(a,o,r)}function u6(n,e,t){const i={};return Object.entries(n.children).forEach(([r,o])=>{i[r]=o===e?t:u6(o,e,t)}),new Vt(n.segments,i)}class d6{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&Wy(i[0]))throw new U(4003,!1);const r=i.find(Dp);if(r&&r!==Xz(i))throw new U(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ky{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function h6(n,e,t){if(n??=new Vt([],{}),0===n.segments.length&&n.hasChildren())return Mp(n,e,t);const i=function Rpe(n,e,t){let i=0,r=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return o;const s=n.segments[r],a=t[i];if(Dp(a))break;const c=`${a}`,l=i<t.length-1?t[i+1]:null;if(r>0&&void 0===c)break;if(c&&l&&"object"==typeof l&&void 0===l.outlets){if(!p6(c,l,s))return o;i+=2}else{if(!p6(c,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new Vt(n.segments.slice(0,i.pathIndex),{});return o.children[Ye]=new Vt(n.segments.slice(i.pathIndex),n.children),Mp(o,0,r)}return i.match&&0===r.length?new Vt(n.segments,{}):i.match&&!n.hasChildren()?vT(n,e,t):i.match?Mp(n,0,r):vT(n,e,t)}function Mp(n,e,t){if(0===t.length)return new Vt(n.segments,{});{const i=function Ppe(n){return Dp(n[0])?n[0].outlets:{[Ye]:n}}(t),r={};if(Object.keys(i).some(o=>o!==Ye)&&n.children[Ye]&&1===n.numberOfChildren&&0===n.children[Ye].segments.length){const o=Mp(n.children[Ye],e,t);return new Vt(n.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(r[o]=h6(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{void 0===i[o]&&(r[o]=s)}),new Vt(n.segments,r)}}function vT(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const o=t[r];if(Dp(o)){const c=Npe(o.outlets);return new Vt(i,c)}if(0===r&&Wy(t[0])){i.push(new Ip(n.segments[e].path,f6(t[0]))),r++;continue}const s=Dp(o)?o.outlets[Ye]:`${o}`,a=r<t.length-1?t[r+1]:null;s&&a&&Wy(a)?(i.push(new Ip(s,f6(a))),r+=2):(i.push(new Ip(s,{})),r++)}return new Vt(i,{})}function Npe(n){const e={};return Object.entries(n).forEach(([t,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(e[t]=vT(new Vt([],{}),0,i))}),e}function f6(n){const e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function p6(n,e,t){return n==t.path&&us(e,t.parameters)}const Sp="imperative";var pt=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(pt||{});class ds{constructor(e,t){this.id=e,this.url=t}}class Qy extends ds{constructor(e,t,i="imperative",r=null){super(e,t),this.type=pt.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Qs extends ds{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=pt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var fo=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(fo||{}),Yy=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Yy||{});class Td extends ds{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=pt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Dd extends ds{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=pt.NavigationSkipped}}class Xy extends ds{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=pt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class g6 extends ds{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=pt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fpe extends ds{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=pt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Lpe extends ds{constructor(e,t,i,r,o){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=pt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Vpe extends ds{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=pt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Bpe extends ds{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=pt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Upe{constructor(e){this.route=e,this.type=pt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class jpe{constructor(e){this.route=e,this.type=pt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class zpe{constructor(e){this.snapshot=e,this.type=pt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $pe{constructor(e){this.snapshot=e,this.type=pt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hpe{constructor(e){this.snapshot=e,this.type=pt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gpe{constructor(e){this.snapshot=e,this.type=pt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class m6{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=pt.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class wT{}class CT{constructor(e){this.url=e}}class qpe{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Ap,this.attachRef=null}}let Ap=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new qpe,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class _6{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=xT(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=xT(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=ET(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return ET(e,this._root).map(t=>t.value)}}function xT(n,e){if(n===e.value)return e;for(const t of e.children){const i=xT(n,t);if(i)return i}return null}function ET(n,e){if(n===e.value)return[e];for(const t of e.children){const i=ET(n,t);if(i.length)return i.unshift(e),i}return[]}class Fo{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Md(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class b6 extends _6{constructor(e,t){super(e),this.snapshot=t,DT(this,e)}toString(){return this.snapshot.toString()}}function y6(n){const e=function Wpe(n){const o=new TT([],{},{},"",{},Ye,n,null,{});return new v6("",new Fo(o,[]))}(n),t=new lr([new Ip("",{})]),i=new lr({}),r=new lr({}),o=new lr({}),s=new lr(""),a=new dt(t,i,o,s,r,Ye,n,e.root);return a.snapshot=e.root,new b6(new Fo(a,[]),e)}class dt{constructor(e,t,i,r,o,s,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Pe(l=>l[Ep]))??ve(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Pe(e=>Cd(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Pe(e=>Cd(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function IT(n,e,t="emptyOnly"){let i;const{routeConfig:r}=n;return i=null===e||"always"!==t&&""!==r?.path&&(e.component||e.routeConfig?.loadComponent)?{params:{...n.params},data:{...n.data},resolve:{...n.data,...n._resolvedData??{}}}:{params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.data,...r?.data,...n._resolvedData}},r&&C6(r)&&(i.resolve[Ep]=r.title),i}class TT{get title(){return this.data?.[Ep]}constructor(e,t,i,r,o,s,a,c,l){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Cd(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Cd(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class v6 extends _6{constructor(e,t){super(t),this.url=e,DT(this,t)}toString(){return w6(this._root)}}function DT(n,e){e.value._routerState=n,e.children.forEach(t=>DT(n,t))}function w6(n){const e=n.children.length>0?` { ${n.children.map(w6).join(", ")} } `:"";return`${n.value}${e}`}function MT(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,us(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),us(e.params,t.params)||n.paramsSubject.next(t.params),function upe(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!us(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),us(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function ST(n,e){const t=us(n.params,e.params)&&function ppe(n,e){return cl(n,e)&&n.every((t,i)=>us(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||ST(n.parent,e.parent))}function C6(n){return"string"==typeof n.title||null===n.title}let Sd=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ye,this.activateEvents=new Qe,this.deactivateEvents=new Qe,this.attachEvents=new Qe,this.detachEvents=new Qe,this.parentContexts=Z(Ap),this.location=Z(so),this.changeDetector=Z(qu),this.environmentInjector=Z($r),this.inputBinder=Z(Zy,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new U(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new U(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new U(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new U(4013,!1);this._activatedRoute=t;const r=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new Kpe(t,a,r.injector);this.activated=r.createComponent(s,{index:r.length,injector:c,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=me({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[oo]})}return n})();class Kpe{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===dt?this.route:e===Ap?this.childContexts:this.parent.get(e,t)}}const Zy=new X("");let x6=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:i}=t,r=Vy([i.queryParams,i.params,i.data]).pipe(Pr(([o,s,a],c)=>(a={...o,...s,...a},0===c?ve(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(t);const s=function Hle(n){const e=Je(n);if(!e)return null;const t=new Hf(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(i.component);if(s)for(const{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,r)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac})}return n})();function kp(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function Ype(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return kp(n,i,r);return kp(n,i)})}(n,e,t);return new Fo(i,r)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>kp(n,a)),s}}const i=function Xpe(n){return new dt(new lr(n.url),new lr(n.params),new lr(n.queryParams),new lr(n.fragment),new lr(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(o=>kp(n,o));return new Fo(i,r)}}const E6="ngNavigationCancelingError";function I6(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=Id(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=T6(!1,fo.Redirect);return r.url=t,r.navigationBehaviorOptions=i,r}function T6(n,e){const t=new Error(`NavigationCancelingError: ${n||""}`);return t[E6]=!0,t.cancellationCode=e,t}function D6(n){return!!n&&n[E6]}let M6=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=Te({type:n,selectors:[["ng-component"]],standalone:!0,features:[Po],decls:1,vars:0,template:function(i,r){1&i&&te(0,"router-outlet")},dependencies:[Sd],encapsulation:2})}return n})();function AT(n){const e=n.children&&n.children.map(AT),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Ye&&(t.component=M6),t}function hs(n){return n.outlet||Ye}function Op(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class oge{constructor(e,t,i,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),MT(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=Md(t);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,t,i){const r=e.value,o=t?t.value:null;if(r===o)if(r.component){const s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,i);else o&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=Md(e);for(const s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){const s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=Md(e);for(const s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){const r=Md(t);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new Gpe(o.value.snapshot))}),e.children.length&&this.forwardEvent(new $pe(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,o=t?t.value:null;if(MT(r),r===o)if(r.component){const s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),MT(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=Op(r.snapshot);s.attachRef=null,s.route=r,s.injector=a,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,i)}}class S6{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Jy{constructor(e,t){this.component=e,this.route=t}}function sge(n,e,t){const i=n._root;return Pp(i,e?e._root:null,t,[i.value])}function Ad(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||function EJ(n){return null!==O_(n)}(n)?e.get(n):n:i}function Pp(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=Md(e);return n.children.forEach(s=>{(function cge(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const c=function lge(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!cl(n.url,e.url);case"pathParamsOrQueryParamsChange":return!cl(n.url,e.url)||!us(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ST(n,e)||!us(n.queryParams,e.queryParams);default:return!ST(n,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new S6(i)):(o.data=s.data,o._resolvedData=s._resolvedData),Pp(n,e,o.component?a?a.children:null:t,i,r),c&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Jy(a.outlet.component,s))}else s&&Rp(e,a,r),r.canActivateChecks.push(new S6(i)),Pp(n,null,o.component?a?a.children:null:t,i,r)})(s,o[s.value.outlet],t,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Rp(a,t.getContext(s),r)),r}function Rp(n,e,t){const i=Md(n),r=n.value;Object.entries(i).forEach(([o,s])=>{Rp(s,r.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new Jy(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function Np(n){return"function"==typeof n}function A6(n){return n instanceof By||"EmptyError"===n?.name}const ev=Symbol("INITIAL_VALUE");function kd(){return Pr(n=>Vy(n.map(e=>e.pipe(Hn(1),fT(ev)))).pipe(Pe(e=>{for(const t of e)if(!0!==t){if(t===ev)return ev;if(!1===t||t instanceof xd)return t}return!0}),An(e=>e!==ev),Hn(1)))}function k6(n){return function EZ(...n){return gF(n)}(kn(e=>{if(Id(e))throw I6(0,e)}),Pe(e=>!0===e))}class kT{constructor(e){this.segmentGroup=e||null}}class OT extends Error{constructor(e){super(),this.urlTree=e}}function Od(n){return vd(new kT(n))}class Mge{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return ve(i);if(r.numberOfChildren>1||!r.children[Ye])return vd(new U(4e3,!1));r=r.children[Ye]}}applyRedirectCommands(e,t,i){const r=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i);if(t.startsWith("/"))throw new OT(r);return r}applyRedirectCreateUrlTree(e,t,i,r){const o=this.createSegmentGroup(e,t.root,i,r);return new xd(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return Object.entries(e).forEach(([r,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);i[r]=t[a]}else i[r]=o}),i}createSegmentGroup(e,t,i,r){const o=this.createSegments(e,t.segments,i,r);let s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,i,r)}),new Vt(o,s)}createSegments(e,t,i,r){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new U(4001,!1);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}const PT={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Sge(n,e,t,i,r){const o=RT(n,e,t);return o.matched?(i=function Jpe(n,e){return n.providers&&!n._injector&&(n._injector=Fb(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,i),function Ige(n,e,t,i){const r=e.canMatch;return r&&0!==r.length?ve(r.map(s=>{const a=Ad(s,n);return $a(function gge(n){return n&&Np(n.canMatch)}(a)?a.canMatch(e,t):Gc(n,()=>a(e,t)))})).pipe(kd(),k6()):ve(!0)}(i,e,t).pipe(Pe(s=>!0===s?o:{...PT}))):ve(o)}function RT(n,e,t){if("**"===e.path)return function Age(n){return{matched:!0,parameters:n.length>0?Xz(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}(t);if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...PT}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||lpe)(t,n,e);if(!r)return{...PT};const o={};Object.entries(r.posParams??{}).forEach(([a,c])=>{o[a]=c.path});const s=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function O6(n,e,t,i){return t.length>0&&function Pge(n,e,t){return t.some(i=>tv(n,e,i)&&hs(i)!==Ye)}(n,t,i)?{segmentGroup:new Vt(e,Oge(i,new Vt(t,n.children))),slicedSegments:[]}:0===t.length&&function Rge(n,e,t){return t.some(i=>tv(n,e,i))}(n,t,i)?{segmentGroup:new Vt(n.segments,kge(n,t,i,n.children)),slicedSegments:t}:{segmentGroup:new Vt(n.segments,n.children),slicedSegments:t}}function kge(n,e,t,i){const r={};for(const o of t)if(tv(n,e,o)&&!i[hs(o)]){const s=new Vt([],{});r[hs(o)]=s}return{...i,...r}}function Oge(n,e){const t={};t[Ye]=e;for(const i of n)if(""===i.path&&hs(i)!==Ye){const r=new Vt([],{});t[hs(i)]=r}return t}function tv(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class Lge{}class Uge{constructor(e,t,i,r,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Mge(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new U(4002,`'${e.segmentGroup}'`)}recognize(){const e=O6(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Pe(t=>{const i=new TT([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ye,this.rootComponentType,null,{}),r=new Fo(i,t),o=new v6("",r),s=function Spe(n,e,t=null,i=null){return l6(c6(n),e,t,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,Ye).pipe(al(i=>{if(i instanceof OT)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof kT?this.noMatchError(i):i}))}inheritParamsAndData(e,t){const i=e.value,r=IT(i,t,this.paramsInheritanceStrategy);i.params=Object.freeze(r.params),i.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o,i))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r,!0).pipe(Pe(o=>o instanceof Fo?[o]:[]))}processChildren(e,t,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return fi(r).pipe(wd(o=>{const s=i.children[o],a=function ige(n,e){const t=n.filter(i=>hs(i)===e);return t.push(...n.filter(i=>hs(i)!==e)),t}(t,o);return this.processSegmentGroup(e,a,s,o)}),function spe(n,e){return yn(function ope(n,e,t,i,r){return(o,s)=>{let a=t,c=e,l=0;o.subscribe(fn(s,u=>{const d=l++;c=a?n(c,u,d):(a=!0,u),i&&s.next(c)},r&&(()=>{a&&s.next(c),s.complete()})))}}(n,e,arguments.length>=2,!0))}((o,s)=>(o.push(...s),o)),Uy(null),function ape(n,e){const t=arguments.length>=2;return i=>i.pipe(n?An((r,o)=>n(r,o,i)):Ca,pT(1),t?Uy(e):Kz(()=>new By))}(),bi(o=>{if(null===o)return Od(i);const s=P6(o);return function jge(n){n.sort((e,t)=>e.value.outlet===Ye?-1:t.value.outlet===Ye?1:e.value.outlet.localeCompare(t.value.outlet))}(s),ve(s)}))}processSegment(e,t,i,r,o,s){return fi(t).pipe(wd(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,i,r,o,s).pipe(al(c=>{if(c instanceof kT)return ve(null);throw c}))),sl(a=>!!a),al(a=>{if(A6(a))return function Fge(n,e,t){return 0===e.length&&!n.children[t]}(i,r,o)?ve(new Lge):Od(i);throw a}))}processSegmentAgainstRoute(e,t,i,r,o,s,a){return function Nge(n,e,t,i){return!!(hs(n)===i||i!==Ye&&tv(e,t,n))&&RT(e,n,t).matched}(i,r,o,s)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,r,i,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,t,i,o,s):Od(r):Od(r)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,o,s){const{matched:a,consumedSegments:c,positionalParamSegments:l,remainingSegments:u}=RT(t,r,o);if(!a)return Od(t);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const d=this.applyRedirects.applyRedirectCommands(c,r.redirectTo,l);return this.applyRedirects.lineralizeSegments(r,d).pipe(bi(h=>this.processSegment(e,i,t,h.concat(u),s,!1)))}matchSegmentAgainstRoute(e,t,i,r,o){const s=Sge(t,i,r,e);return"**"===i.path&&(t.children={}),s.pipe(Pr(a=>a.matched?this.getChildConfig(e=i._injector??e,i,r).pipe(Pr(({routes:c})=>{const l=i._loadedInjector??e,{consumedSegments:u,remainingSegments:d,parameters:h}=a,f=new TT(u,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function $ge(n){return n.data||{}}(i),hs(i),i.component??i._loadedComponent??null,i,function Hge(n){return n.resolve||{}}(i)),{segmentGroup:b,slicedSegments:x}=O6(t,u,d,c);if(0===x.length&&b.hasChildren())return this.processChildren(l,c,b).pipe(Pe(k=>null===k?null:new Fo(f,k)));if(0===c.length&&0===x.length)return ve(new Fo(f,[]));const I=hs(i)===o;return this.processSegment(l,c,b,x,I?Ye:o,!0).pipe(Pe(k=>new Fo(f,k instanceof Fo?[k]:[])))})):Od(t)))}getChildConfig(e,t,i){return t.children?ve({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?ve({routes:t._loadedRoutes,injector:t._loadedInjector}):function Ege(n,e,t,i){const r=e.canLoad;return void 0===r||0===r.length?ve(!0):ve(r.map(s=>{const a=Ad(s,n);return $a(function dge(n){return n&&Np(n.canLoad)}(a)?a.canLoad(e,t):Gc(n,()=>a(e,t)))})).pipe(kd(),k6())}(e,t,i).pipe(bi(r=>r?this.configLoader.loadChildren(e,t).pipe(kn(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function Dge(n){return vd(T6(!1,fo.GuardRejected))}())):ve({routes:[],injector:e})}}function zge(n){const e=n.value.routeConfig;return e&&""===e.path}function P6(n){const e=[],t=new Set;for(const i of n){if(!zge(i)){e.push(i);continue}const r=e.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=P6(i.children);e.push(new Fo(i.value,r))}return e.filter(i=>!t.has(i))}function R6(n){const e=n.children.map(t=>R6(t)).flat();return[n,...e]}function NT(n){return Pr(e=>{const t=n(e);return t?fi(t).pipe(Pe(()=>e)):ve(e)})}let N6=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===Ye);return i}getResolvedTitleForRoute(t){return t.data[Ep]}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ne({token:n,factory:()=>Z(Yge),providedIn:"root"})}return n})(),Yge=(()=>{class n extends N6{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}static#e=this.\u0275fac=function(i){return new(i||n)($(phe))};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Pd=new X("",{providedIn:"root",factory:()=>({})}),Rd=new X("");let FT=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Z(oU)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return ve(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=$a(t.loadComponent()).pipe(Pe(F6),kn(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),jy(()=>{this.componentLoaders.delete(t)})),r=new hT(i,()=>new Ct).pipe(dT());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return ve({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=function Xge(n,e,t,i){return $a(n.loadChildren()).pipe(Pe(F6),bi(r=>r instanceof m4||Array.isArray(r)?ve(r):fi(e.compileModuleAsync(r))),Pe(r=>{i&&i(n);let o,s,a=!1;return Array.isArray(r)?(s=r,!0):(o=r.create(t).injector,s=o.get(Rd,[],{optional:!0,self:!0}).flat()),{routes:s.map(AT),injector:o}}))}(i,this.compiler,t,this.onLoadEndListener).pipe(jy(()=>{this.childrenLoaders.delete(i)})),s=new hT(o,()=>new Ct).pipe(dT());return this.childrenLoaders.set(i,s),s}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function F6(n){return function Zge(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let LT=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ne({token:n,factory:()=>Z(Jge),providedIn:"root"})}return n})(),Jge=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const L6=new X(""),V6=new X("");function eme(n,e,t){const i=n.get(V6),r=n.get(lt);return n.get(Ee).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,Promise.resolve();let o;const s=new Promise(l=>{o=l}),a=r.startViewTransition(()=>(o(),function tme(n){return new Promise(e=>{FV(e,{injector:n})})}(n))),{onViewTransitionCreated:c}=i;return c&&Gc(n,()=>c({transition:a,from:e,to:t})),s})}let nv=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ct,this.transitionAbortSubject=new Ct,this.configLoader=Z(FT),this.environmentInjector=Z($r),this.urlSerializer=Z(Ed),this.rootContexts=Z(Ap),this.location=Z(_i),this.inputBindingEnabled=null!==Z(Zy,{optional:!0}),this.titleStrategy=Z(N6),this.options=Z(Pd,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=Z(LT),this.createViewTransition=Z(L6,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ve(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new jpe(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new Upe(r))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:i})}setupNavigations(t,i,r){return this.transitions=new lr({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Sp,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(An(o=>0!==o.id),Pe(o=>({...o,extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Pr(o=>{this.currentTransition=o;let s=!1,a=!1;return ve(o).pipe(kn(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Pr(c=>{const l=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!l&&"reload"!==(c.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const d="";return this.events.next(new Dd(c.id,this.urlSerializer.serialize(c.rawUrl),d,Yy.IgnoredSameUrlNavigation)),c.resolve(null),ls}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return ve(c).pipe(Pr(d=>{const h=this.transitions?.getValue();return this.events.next(new Qy(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions?.getValue()?ls:Promise.resolve(d)}),function Gge(n,e,t,i,r,o){return bi(s=>function Vge(n,e,t,i,r,o,s="emptyOnly"){return new Uge(n,e,t,i,r,s,o).recognize()}(n,e,t,i,s.extractedUrl,r,o).pipe(Pe(({state:a,tree:c})=>({...s,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),kn(d=>{o.targetSnapshot=d.targetSnapshot,o.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:d.urlAfterRedirects};const h=new g6(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:d,extractedUrl:h,source:f,restoredState:b,extras:x}=c,I=new Qy(d,this.urlSerializer.serialize(h),f,b);this.events.next(I);const k=y6(this.rootComponentType).snapshot;return this.currentTransition=o={...c,targetSnapshot:k,urlAfterRedirects:h,extras:{...x,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=h,ve(o)}{const d="";return this.events.next(new Dd(c.id,this.urlSerializer.serialize(c.extractedUrl),d,Yy.IgnoredByUrlHandlingStrategy)),c.resolve(null),ls}}),kn(c=>{const l=new Fpe(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),Pe(c=>(this.currentTransition=o={...c,guards:sge(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},o)),function mge(n,e){return bi(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return 0===s.length&&0===o.length?ve({...t,guardsResult:!0}):function _ge(n,e,t,i){return fi(n).pipe(bi(r=>function xge(n,e,t,i,r){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?ve(o.map(a=>{const c=Op(e)??r,l=Ad(a,c);return $a(function pge(n){return n&&Np(n.canDeactivate)}(l)?l.canDeactivate(n,e,t,i):Gc(c,()=>l(n,e,t,i))).pipe(sl())})).pipe(kd()):ve(!0)}(r.component,r.route,t,e,i)),sl(r=>!0!==r,!0))}(s,i,r,n).pipe(bi(a=>a&&function uge(n){return"boolean"==typeof n}(a)?function bge(n,e,t,i){return fi(e).pipe(wd(r=>yd(function vge(n,e){return null!==n&&e&&e(new zpe(n)),ve(!0)}(r.route.parent,i),function yge(n,e){return null!==n&&e&&e(new Hpe(n)),ve(!0)}(r.route,i),function Cge(n,e,t){const i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function age(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(s)).filter(s=>null!==s).map(s=>xp(()=>ve(s.guards.map(c=>{const l=Op(s.node)??t,u=Ad(c,l);return $a(function fge(n){return n&&Np(n.canActivateChild)}(u)?u.canActivateChild(i,n):Gc(l,()=>u(i,n))).pipe(sl())})).pipe(kd())));return ve(o).pipe(kd())}(n,r.path,t),function wge(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return ve(!0);const r=i.map(o=>xp(()=>{const s=Op(e)??t,a=Ad(o,s);return $a(function hge(n){return n&&Np(n.canActivate)}(a)?a.canActivate(e,n):Gc(s,()=>a(e,n))).pipe(sl())}));return ve(r).pipe(kd())}(n,r.route,t))),sl(r=>!0!==r,!0))}(i,o,n,e):ve(a)),Pe(a=>({...t,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),kn(c=>{if(o.guardsResult=c.guardsResult,Id(c.guardsResult))throw I6(0,c.guardsResult);const l=new Lpe(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),An(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",fo.GuardRejected),!1)),NT(c=>{if(c.guards.canActivateChecks.length)return ve(c).pipe(kn(l=>{const u=new Vpe(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),Pr(l=>{let u=!1;return ve(l).pipe(function qge(n,e){return bi(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return ve(t);const o=new Set(r.map(c=>c.route)),s=new Set;for(const c of o)if(!s.has(c))for(const l of R6(c))s.add(l);let a=0;return fi(s).pipe(wd(c=>o.has(c)?function Wge(n,e,t,i){const r=n.routeConfig,o=n._resolve;return void 0!==r?.title&&!C6(r)&&(o[Ep]=r.title),function Kge(n,e,t,i){const r=gT(n);if(0===r.length)return ve({});const o={};return fi(r).pipe(bi(s=>function Qge(n,e,t,i){const r=Op(e)??i,o=Ad(n,r);return $a(o.resolve?o.resolve(e,t):Gc(r,()=>o(e,t)))}(n[s],e,t,i).pipe(sl(),kn(a=>{o[s]=a}))),pT(1),Qz(o),al(s=>A6(s)?ls:vd(s)))}(o,n,e,i).pipe(Pe(s=>(n._resolvedData=s,n.data=IT(n,n.parent,t).resolve,null)))}(c,i,n,e):(c.data=IT(c,c.parent,n).resolve,ve(void 0))),kn(()=>a++),pT(1),bi(c=>a===s.size?ve(t):ls))})}(this.paramsInheritanceStrategy,this.environmentInjector),kn({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(l,"",fo.NoDataFromResolver)}}))}),kn(l=>{const u=new Bpe(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}))}),NT(c=>{const l=u=>{const d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(kn(h=>{u.component=h}),Pe(()=>{})));for(const h of u.children)d.push(...l(h));return d};return Vy(l(c.targetSnapshot.root)).pipe(Uy(null),Hn(1))}),NT(()=>this.afterPreactivation()),Pr(()=>{const{currentSnapshot:c,targetSnapshot:l}=o,u=this.createViewTransition?.(this.environmentInjector,c.root,l.root);return u?fi(u).pipe(Pe(()=>o)):ve(o)}),Pe(c=>{const l=function Qpe(n,e,t){const i=kp(n,e._root,t?t._root:void 0);return new b6(i,e)}(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o={...c,targetRouterState:l},this.currentNavigation.targetRouterState=l,o}),kn(()=>{this.events.next(new wT)}),((n,e,t,i)=>Pe(r=>(new oge(e,r.targetRouterState,r.currentRouterState,t,i).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Hn(1),kn({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Qs(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),zy(this.transitionAbortSubject.pipe(kn(c=>{throw c}))),jy(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",fo.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),al(c=>{if(a=!0,D6(c))this.events.next(new Td(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),function Zpe(n){return D6(n)&&Id(n.url)}(c)?this.events.next(new CT(c.url)):o.resolve(!1);else{this.events.next(new Xy(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(t.errorHandler(c))}catch(l){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(l)}}return ls}))}))}cancelNavigationTransition(t,i,r){const o=new Td(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function nme(n){return n!==Sp}let ime=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ne({token:n,factory:()=>Z(ome),providedIn:"root"})}return n})();class rme{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let ome=(()=>{class n extends rme{static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=mi(n)))(r||n)}})();static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),B6=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ne({token:n,factory:()=>Z(sme),providedIn:"root"})}return n})(),sme=(()=>{class n extends B6{constructor(){super(...arguments),this.location=Z(_i),this.urlSerializer=Z(Ed),this.options=Z(Pd,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=Z(LT),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new xd,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=y6(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(i=>{"popstate"===i.type&&t(i.url,i.state)})}handleRouterEvent(t,i){if(t instanceof Qy)this.stateMemento=this.createStateMemento();else if(t instanceof Dd)this.rawUrlTree=i.initialUrl;else if(t instanceof g6){if("eager"===this.urlUpdateStrategy&&!i.extras.skipLocationChange){const r=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(r,i)}}else t instanceof wT?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):t instanceof Td&&(t.code===fo.GuardRejected||t.code===fo.NoDataFromResolver)?this.restoreHistory(i):t instanceof Xy?this.restoreHistory(i,!0):t instanceof Qs&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",s)}else{const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(r,"",o)}}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&0===o&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=mi(n)))(r||n)}})();static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Fp=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Fp||{});function U6(n,e){n.events.pipe(An(t=>t instanceof Qs||t instanceof Td||t instanceof Xy||t instanceof Dd),Pe(t=>t instanceof Qs||t instanceof Dd?Fp.COMPLETE:t instanceof Td&&(t.code===fo.Redirect||t.code===fo.SupersededByNewNavigation)?Fp.REDIRECTING:Fp.FAILED),An(t=>t!==Fp.REDIRECTING),Hn(1)).subscribe(()=>{e()})}function ame(n){throw n}const cme={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},lme={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Me=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=Z(QB),this.stateManager=Z(B6),this.options=Z(Pd,{optional:!0})||{},this.pendingTasks=Z(qf),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=Z(nv),this.urlSerializer=Z(Ed),this.location=Z(_i),this.urlHandlingStrategy=Z(LT),this._events=new Ct,this.errorHandler=this.options.errorHandler||ame,this.navigated=!1,this.routeReuseStrategy=Z(ime),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=Z(Rd,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!Z(Zy,{optional:!0}),this.eventsSubscription=new si,this.isNgZoneEnabled=Z(Ee)instanceof Ee&&Ee.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(i=>{try{const r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(null!==r&&null!==o)if(this.stateManager.handleRouterEvent(i,o),i instanceof Td&&i.code!==fo.Redirect&&i.code!==fo.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Qs)this.navigated=!0;else if(i instanceof CT){const s=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),a={info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||nme(r.source)};this.scheduleNavigation(s,Sp,null,a,{resolve:r.resolve,reject:r.reject,promise:r.promise})}(function dme(n){return!(n instanceof wT||n instanceof CT)})(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Sp,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",i)},0)})}navigateToSyncWithBrowser(t,i,r){const o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){const c={...r};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(o.state=c)}const a=this.parseUrl(t);this.scheduleNavigation(a,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(AT),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){const{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=i,l=c?this.currentUrlTree.fragment:s;let d,u=null;switch(a){case"merge":u={...this.currentUrlTree.queryParams,...o};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}null!==u&&(u=this.removeEmptyProps(u));try{d=c6(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),d=this.currentUrlTree.root}return l6(d,t,u,l??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=Id(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,Sp,null,i)}navigate(t,i={skipLocationChange:!1}){return function ume(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new U(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,i){let r;if(r=!0===i?{...cme}:!1===i?{...lme}:i,Id(t))return Jz(this.currentUrlTree,t,r);const o=this.parseUrl(t);return Jz(this.currentUrlTree,o,r)}removeEmptyProps(t){return Object.entries(t).reduce((i,[r,o])=>(null!=o&&(i[r]=o),i),{})}scheduleNavigation(t,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((d,h)=>{a=d,c=h});const u=this.pendingTasks.add();return U6(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class j6{}let pme=(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.injector=r,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(An(t=>t instanceof Qs),wd(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=Fb(o.providers,t,`Route: ${o.path}`));const s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return fi(r).pipe(bd())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):ve(null);const o=r.pipe(bi(s=>null===s?ve(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));return i.loadComponent&&!i._loadedComponent?fi([o,this.loader.loadComponent(i)]).pipe(bd()):o})}static#e=this.\u0275fac=function(i){return new(i||n)($(Me),$(oU),$($r),$(j6),$(FT))};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const BT=new X("");let z6=(()=>{class n{constructor(t,i,r,o,s={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Qy?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Qs?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Dd&&t.code===Yy.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof m6&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new m6(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){xE()};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac})}return n})();function fs(n,e){return{\u0275kind:n,\u0275providers:e}}function H6(){const n=Z(Ut);return e=>{const t=n.get(os);if(e!==t.components[0])return;const i=n.get(Me),r=n.get(G6);1===n.get(UT)&&i.initialNavigation(),n.get(q6,null,ot.Optional)?.setUpPreloading(),n.get(BT,null,ot.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const G6=new X("",{factory:()=>new Ct}),UT=new X("",{providedIn:"root",factory:()=>1}),q6=new X("");function bme(n){return fs(0,[{provide:q6,useExisting:pme},{provide:j6,useExisting:n}])}function vme(n){return fs(9,[{provide:L6,useValue:eme},{provide:V6,useValue:{skipNextTransition:!!n?.skipInitialTransition,...n}}])}const W6=new X("ROUTER_FORROOT_GUARD"),wme=[_i,{provide:Ed,useClass:mT},Me,Ap,{provide:dt,useFactory:function $6(n){return n.routerState.root},deps:[Me]},FT,[]];let Lo=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[wme,[],{provide:Rd,multi:!0,useValue:t},{provide:W6,useFactory:Ime,deps:[[Me,new Yt,new wf]]},{provide:Pd,useValue:i||{}},i?.useHash?{provide:Va,useClass:zU}:{provide:Va,useClass:jU},{provide:BT,useFactory:()=>{const n=Z(pde),e=Z(Ee),t=Z(Pd),i=Z(nv),r=Z(Ed);return t.scrollOffset&&n.setOffset(t.scrollOffset),new z6(r,i,n,e,t)}},i?.preloadingStrategy?bme(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?Tme(i):[],i?.bindToComponentInputs?fs(8,[x6,{provide:Zy,useExisting:x6}]).\u0275providers:[],i?.enableViewTransitions?vme().\u0275providers:[],[{provide:K6,useFactory:H6},{provide:J1,multi:!0,useExisting:K6}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Rd,multi:!0,useValue:t}]}}static#e=this.\u0275fac=function(i){return new(i||n)($(W6,8))};static#t=this.\u0275mod=Ze({type:n});static#n=this.\u0275inj=Xe({})}return n})();function Ime(n){return"guarded"}function Tme(n){return["disabled"===n.initialNavigation?fs(3,[{provide:cp,multi:!0,useFactory:()=>{const e=Z(Me);return()=>{e.setUpLocationChangeListener()}}},{provide:UT,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?fs(2,[{provide:UT,useValue:0},{provide:cp,multi:!0,deps:[Ut],useFactory:e=>{const t=e.get(Wle,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const r=e.get(Me),o=e.get(G6);U6(r,()=>{i(!0)}),e.get(nv).afterPreactivation=()=>(i(!0),o.closed?ve(void 0):o),r.initialNavigation()}))}}]).\u0275providers:[]]}const K6=new X(""),se=function(n,e){if(!n)throw Nd(e)},Nd=function(n){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+n)},Q6=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=63&r|128):55296==(64512&r)&&i+1<n.length&&56320==(64512&n.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&n.charCodeAt(++i)),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=63&r|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=63&r|128)}return e},iv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const o=n[r],s=r+1<n.length,a=s?n[r+1]:0,c=r+2<n.length,l=c?n[r+2]:0;let h=(15&a)<<2|l>>6,f=63&l;c||(f=64,s||(h=64)),i.push(t[o>>2],t[(3&o)<<4|a>>4],t[h],t[f])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Q6(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,i=0;for(;t<n.length;){const r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=n[t++];e[i++]=String.fromCharCode((31&r)<<6|63&o)}else if(r>239&&r<365){const c=((7&r)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[i++]=String.fromCharCode(55296+(c>>10)),e[i++]=String.fromCharCode(56320+(1023&c))}else{const o=n[t++],s=n[t++];e[i++]=String.fromCharCode((15&r)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const o=t[n.charAt(r++)],a=r<n.length?t[n.charAt(r)]:0;++r;const l=r<n.length?t[n.charAt(r)]:64;++r;const d=r<n.length?t[n.charAt(r)]:64;if(++r,null==o||null==a||null==l||null==d)throw new Sme;i.push(o<<2|a>>4),64!==l&&(i.push(a<<4&240|l>>2),64!==d&&i.push(l<<6&192|d))}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Sme extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Y6=function(n){const e=Q6(n);return iv.encodeByteArray(e,!0)},rv=function(n){return Y6(n).replace(/\./g,"")},ov=function(n){try{return iv.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Ame(n){return X6(void 0,n)}function X6(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===n&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!kme(t)||(n[t]=X6(n[t],e[t]));return n}function kme(n){return"__proto__"!==n}const sv=()=>{try{return function Ome(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&ov(n[1]);return e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},Z6=n=>{var e,t;return null===(t=null===(e=sv())||void 0===e?void 0:e.emulatorHosts)||void 0===t?void 0:t[n]},zT=n=>{const e=Z6(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),i]:[e.substring(0,t),i]},J6=()=>{var n;return null===(n=sv())||void 0===n?void 0:n.config},e9=n=>{var e;return null===(e=sv())||void 0===e?void 0:e[`_${n}`]};class Fd{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,i))}}}function t9(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i=e||"demo-project",r=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[rv(JSON.stringify({alg:"none",type:"JWT"})),rv(JSON.stringify(s)),""].join(".")}function Gn(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function $T(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Gn())}function HT(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}function n9(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ha(){try{return"object"==typeof indexedDB}catch{return!1}}function Lp(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var o;e((null===(o=r.error)||void 0===o?void 0:o.message)||"")}}catch(t){e(t)}})}function GT(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Kr extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name="FirebaseError",Object.setPrototypeOf(this,Kr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ps.prototype.create)}}class ps{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},r=`${this.service}/${e}`,o=this.errors[e],s=o?function Ume(n,e){return n.replace(jme,(t,i)=>{const r=e[i];return null!=r?String(r):`<${i}?>`})}(o,i):"Error";return new Kr(r,`${this.serviceName}: ${s} (${r}).`,i)}}const jme=/\{\$([^}]+)}/g;function Vp(n){return JSON.parse(n)}function Fi(n){return JSON.stringify(n)}const av=function(n){let e={},t={},i={},r="";try{const o=n.split(".");e=Vp(ov(o[0])||""),t=Vp(ov(o[1])||""),r=o[2],i=t.d||{},delete t.d}catch{}return{header:e,claims:t,data:i,signature:r}};function gs(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function Ld(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function qT(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function cv(n,e,t){const i={};for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=e.call(t,n[r],r,n));return i}function lv(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const r of t){if(!i.includes(r))return!1;const o=n[r],s=e[r];if(i9(o)&&i9(s)){if(!lv(o,s))return!1}else if(o!==s)return!1}for(const r of i)if(!t.includes(r))return!1;return!0}function i9(n){return null!==n&&"object"==typeof n}function Vd(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Bp(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,o]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(o)}}),e}function Up(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}class Hme{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const i=this.W_;if("string"==typeof e)for(let d=0;d<16;d++)i[d]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let d=0;d<16;d++)i[d]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let d=16;d<80;d++){const h=i[d-3]^i[d-8]^i[d-14]^i[d-16];i[d]=4294967295&(h<<1|h>>>31)}let l,u,r=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],c=this.chain_[4];for(let d=0;d<80;d++){d<40?d<20?(l=a^o&(s^a),u=1518500249):(l=o^s^a,u=1859775393):d<60?(l=o&s|a&(o|s),u=2400959708):(l=o^s^a,u=3395469782);const h=(r<<5|r>>>27)+l+c+u+i[d]&4294967295;c=a,a=s,s=4294967295&(o<<30|o>>>2),o=r,r=h}this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const i=t-this.blockSize;let r=0;const o=this.buf_;let s=this.inbuf_;for(;r<t;){if(0===s)for(;r<=i;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(o[s]=e.charCodeAt(r),++s,++r,s===this.blockSize){this.compress_(o),s=0;break}}else for(;r<t;)if(o[s]=e[r],++s,++r,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&t,t/=256;this.compress_(this.buf_);let i=0;for(let r=0;r<5;r++)for(let o=24;o>=0;o-=8)e[i]=this.chain_[r]>>o&255,++i;return e}}class qme{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(void 0===e&&void 0===t&&void 0===i)throw new Error("Missing Observer.");r=function Wme(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:i},void 0===r.next&&(r.next=WT),void 0===r.error&&(r.error=WT),void 0===r.complete&&(r.complete=WT);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function WT(){}const uv=function(n){let e=0;for(let t=0;t<n.length;t++){const i=n.charCodeAt(t);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,t++):e+=3}return e},Qme=1e3,Yme=2,Xme=144e5,Zme=.5;function KT(n,e=Qme,t=Yme){const i=e*Math.pow(t,n),r=Math.round(Zme*i*(Math.random()-.5)*2);return Math.min(Xme,i+r)}function zt(n){return n&&n._delegate?n._delegate:n}class yi{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ll="[DEFAULT]";class e_e{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new Fd;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e?.identifier),r=null!==(t=e?.optional)&&void 0!==t&&t;if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function n_e(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ll})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(e=ll){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return _(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=ll){return this.instances.has(e)}getOptions(e=ll){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[o,s]of this.instancesDeferred.entries())i===this.normalizeInstanceIdentifier(o)&&s.resolve(r);return r}onInit(e,t){var i;const r=this.normalizeInstanceIdentifier(t),o=null!==(i=this.onInitCallbacks.get(r))&&void 0!==i?i:new Set;o.add(e),this.onInitCallbacks.set(r,o);const s=this.instances.get(r);return s&&e(s,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const r of i)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===ll?void 0:n),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}var n;return i||null}normalizeInstanceIdentifier(e=ll){return this.component?this.component.multipleInstances?e:ll:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class i_e{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new e_e(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const QT=[];var gt=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(gt||{});const r9={debug:gt.DEBUG,verbose:gt.VERBOSE,info:gt.INFO,warn:gt.WARN,error:gt.ERROR,silent:gt.SILENT},r_e=gt.INFO,o_e={[gt.DEBUG]:"log",[gt.VERBOSE]:"log",[gt.INFO]:"info",[gt.WARN]:"warn",[gt.ERROR]:"error"},s_e=(n,e,...t)=>{if(e<n.logLevel)return;const i=(new Date).toISOString(),r=o_e[e];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[r](`[${i}]  ${n.name}:`,...t)};class ul{constructor(e){this.name=e,this._logLevel=r_e,this._logHandler=s_e,this._userLogHandler=null,QT.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in gt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?r9[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,gt.DEBUG,...e),this._logHandler(this,gt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,gt.VERBOSE,...e),this._logHandler(this,gt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,gt.INFO,...e),this._logHandler(this,gt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,gt.WARN,...e),this._logHandler(this,gt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,gt.ERROR,...e),this._logHandler(this,gt.ERROR,...e)}}const a_e=(n,e)=>e.some(t=>n instanceof t);let o9,s9;const a9=new WeakMap,YT=new WeakMap,c9=new WeakMap,XT=new WeakMap,ZT=new WeakMap;let JT={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return YT.get(n);if("objectStoreNames"===e)return n.objectStoreNames||c9.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ga(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function p_e(n){return"function"==typeof n?function f_e(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function l_e(){return s9||(s9=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(eD(this),e),Ga(a9.get(this))}:function(...e){return Ga(n.apply(eD(this),e))}:function(e,...t){const i=n.call(eD(this),e,...t);return c9.set(i,e.sort?e.sort():[e]),Ga(i)}}(n):(n instanceof IDBTransaction&&function d_e(n){if(YT.has(n))return;const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),r()},s=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});YT.set(n,e)}(n),a_e(n,function c_e(){return o9||(o9=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,JT):n)}function Ga(n){if(n instanceof IDBRequest)return function u_e(n){const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Ga(n.result)),r()},s=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&a9.set(t,n)}).catch(()=>{}),ZT.set(e,n),e}(n);if(XT.has(n))return XT.get(n);const e=p_e(n);return e!==n&&(XT.set(n,e),ZT.set(e,n)),e}const eD=n=>ZT.get(n),m_e=["get","getKey","getAll","getAllKeys","count"],__e=["put","add","delete","clear"],tD=new Map;function l9(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(tD.get(e))return tD.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,r=__e.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!m_e.includes(t))return;const o=function(){var s=_(function*(a,...c){const l=this.transaction(a,r?"readwrite":"readonly");let u=l.store;return i&&(u=u.index(c.shift())),(yield Promise.all([u[t](...c),r&&l.done]))[0]});return function(c){return s.apply(this,arguments)}}();return tD.set(e,o),o}!function h_e(n){JT=n(JT)}(n=>({...n,get:(e,t,i)=>l9(e,t)||n.get(e,t,i),has:(e,t)=>!!l9(e,t)||n.has(e,t)}));class b_e{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function y_e(n){const e=n.getComponent();return"VERSION"===e?.type}(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}return null}).filter(t=>t).join(" ")}}const nD="@firebase/app",dl=new ul("@firebase/app"),dv="[DEFAULT]",G_e={[nD]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},hl=new Map,hv=new Map;function q_e(n,e){try{n.container.addComponent(e)}catch(t){dl.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Li(n){const e=n.name;if(hv.has(e))return dl.debug(`There were multiple attempts to register component ${e}.`),!1;hv.set(e,n);for(const t of hl.values())q_e(t,n);return!0}function qa(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}const Xs=new ps("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class K_e{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new yi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xs.create("app-deleted",{appName:this._name})}}const Wa="9.23.0";function d9(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const i=Object.assign({name:dv,automaticDataCollectionEnabled:!1},e),r=i.name;if("string"!=typeof r||!r)throw Xs.create("bad-app-name",{appName:String(r)});if(t||(t=J6()),!t)throw Xs.create("no-options");const o=hl.get(r);if(o){if(lv(t,o.options)&&lv(i,o.config))return o;throw Xs.create("duplicate-app",{appName:r})}const s=new i_e(r);for(const c of hv.values())s.addComponent(c);const a=new K_e(t,i,s);return hl.set(r,a),a}function zp(n=dv){const e=hl.get(n);if(!e&&n===dv&&J6())return d9();if(!e)throw Xs.create("no-app",{appName:n});return e}function h9(){return Array.from(hl.values())}function Bt(n,e,t){var i;let r=null!==(i=G_e[n])&&void 0!==i?i:n;t&&(r+=`-${t}`);const o=r.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${r}" with version "${e}":`];return o&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void dl.warn(a.join(" "))}Li(new yi(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const Q_e="firebase-heartbeat-database",Y_e=1,$p="firebase-heartbeat-store";let rD=null;function f9(){return rD||(rD=function g_e(n,e,{blocked:t,upgrade:i,blocking:r,terminated:o}={}){const s=indexedDB.open(n,e),a=Ga(s);return i&&s.addEventListener("upgradeneeded",c=>{i(Ga(s.result),c.oldVersion,c.newVersion,Ga(s.transaction),c)}),t&&s.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),r&&c.addEventListener("versionchange",l=>r(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}(Q_e,Y_e,{upgrade:(n,e)=>{0===e&&n.createObjectStore($p)}}).catch(n=>{throw Xs.create("idb-open",{originalErrorMessage:n.message})})),rD}function oD(){return(oD=_(function*(n){try{return yield(yield f9()).transaction($p).objectStore($p).get(g9(n))}catch(e){if(e instanceof Kr)dl.warn(e.message);else{const t=Xs.create("idb-get",{originalErrorMessage:e?.message});dl.warn(t.message)}}})).apply(this,arguments)}function p9(n,e){return sD.apply(this,arguments)}function sD(){return(sD=_(function*(n,e){try{const i=(yield f9()).transaction($p,"readwrite");yield i.objectStore($p).put(e,g9(n)),yield i.done}catch(t){if(t instanceof Kr)dl.warn(t.message);else{const i=Xs.create("idb-set",{originalErrorMessage:t?.message});dl.warn(i.message)}}})).apply(this,arguments)}function g9(n){return`${n.name}!${n.options.appId}`}class ebe{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new nbe(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){var e=this;return _(function*(){const i=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=m9();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==r&&!e._heartbeatsCache.heartbeats.some(o=>o.date===r))return e._heartbeatsCache.heartbeats.push({date:r,agent:i}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(o=>{const s=new Date(o.date).valueOf();return Date.now()-s<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return _(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const t=m9(),{heartbeatsToSend:i,unsentEntries:r}=function tbe(n,e=1024){const t=[];let i=n.slice();for(const r of n){const o=t.find(s=>s.agent===r.agent);if(o){if(o.dates.push(r.date),_9(t)>e){o.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),_9(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}(e._heartbeatsCache.heartbeats),o=rv(JSON.stringify({version:2,heartbeats:i}));return e._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(e._heartbeatsCache.heartbeats=r,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),o})()}}function m9(){return(new Date).toISOString().substring(0,10)}class nbe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(function*(){return!!Ha()&&Lp().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return _(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function X_e(n){return oD.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var t=this;return _(function*(){var i;if(yield t._canUseIndexedDBPromise){const o=yield t.read();return p9(t.app,{lastSentHeartbeatDate:null!==(i=e.lastSentHeartbeatDate)&&void 0!==i?i:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return _(function*(){var i;if(yield t._canUseIndexedDBPromise){const o=yield t.read();return p9(t.app,{lastSentHeartbeatDate:null!==(i=e.lastSentHeartbeatDate)&&void 0!==i?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}})()}}function _9(n){return rv(JSON.stringify({version:2,heartbeats:n})).length}!function ibe(n){Li(new yi("platform-logger",e=>new b_e(e),"PRIVATE")),Li(new yi("heartbeat",e=>new ebe(e),"PRIVATE")),Bt(nD,"0.9.13",n),Bt(nD,"0.9.13","esm2017"),Bt("fire-js","")}(""),Bt("firebase","9.23.0","app");const sbe=(n,e)=>e.some(t=>n instanceof t);let b9,y9;const v9=new WeakMap,aD=new WeakMap,w9=new WeakMap,cD=new WeakMap,lD=new WeakMap;let uD={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return aD.get(n);if("objectStoreNames"===e)return n.objectStoreNames||w9.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ka(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function fbe(n){return"function"==typeof n?function hbe(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function cbe(){return y9||(y9=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(dD(this),e),Ka(v9.get(this))}:function(...e){return Ka(n.apply(dD(this),e))}:function(e,...t){const i=n.call(dD(this),e,...t);return w9.set(i,e.sort?e.sort():[e]),Ka(i)}}(n):(n instanceof IDBTransaction&&function ube(n){if(aD.has(n))return;const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),r()},s=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});aD.set(n,e)}(n),sbe(n,function abe(){return b9||(b9=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,uD):n)}function Ka(n){if(n instanceof IDBRequest)return function lbe(n){const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Ka(n.result)),r()},s=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&v9.set(t,n)}).catch(()=>{}),lD.set(e,n),e}(n);if(cD.has(n))return cD.get(n);const e=fbe(n);return e!==n&&(cD.set(n,e),lD.set(e,n)),e}const dD=n=>lD.get(n),gbe=["get","getKey","getAll","getAllKeys","count"],mbe=["put","add","delete","clear"],hD=new Map;function C9(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(hD.get(e))return hD.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,r=mbe.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!gbe.includes(t))return;const o=function(){var s=_(function*(a,...c){const l=this.transaction(a,r?"readwrite":"readonly");let u=l.store;return i&&(u=u.index(c.shift())),(yield Promise.all([u[t](...c),r&&l.done]))[0]});return function(c){return s.apply(this,arguments)}}();return hD.set(e,o),o}!function dbe(n){uD=n(uD)}(n=>({...n,get:(e,t,i)=>C9(e,t)||n.get(e,t,i),has:(e,t)=>!!C9(e,t)||n.has(e,t)}));const x9="@firebase/installations",fD="0.6.4",E9=1e4,I9=`w:${fD}`,T9="FIS_v2",_be="https://firebaseinstallations.googleapis.com/v1",bbe=36e5,Zs=new ps("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function D9(n){return n instanceof Kr&&n.code.includes("request-failed")}function pD({projectId:n}){return`${_be}/projects/${n}/installations`}function M9(n){return{token:n.token,requestStatus:2,expiresIn:Cbe(n.expiresIn),creationTime:Date.now()}}function gD(n,e){return mD.apply(this,arguments)}function mD(){return(mD=_(function*(n,e){const i=(yield e.json()).error;return Zs.create("request-failed",{requestName:n,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})})).apply(this,arguments)}function S9({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function _D(n){return bD.apply(this,arguments)}function bD(){return(bD=_(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function Cbe(n){return Number(n.replace("s","000"))}function yD(){return(yD=_(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const i=pD(n),r=S9(n),o=e.getImmediate({optional:!0});if(o){const l=yield o.getHeartbeatsHeader();l&&r.append("x-firebase-client",l)}const a={method:"POST",headers:r,body:JSON.stringify({fid:t,authVersion:T9,appId:n.appId,sdkVersion:I9})},c=yield _D(()=>fetch(i,a));if(c.ok){const l=yield c.json();return{fid:l.fid||t,registrationStatus:2,refreshToken:l.refreshToken,authToken:M9(l.authToken)}}throw yield gD("Create Installation",c)})).apply(this,arguments)}function k9(n){return new Promise(e=>{setTimeout(e,n)})}const Tbe=/^[cdef][\w-]{21}$/,vD="";function Dbe(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function Mbe(n){return function Ibe(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return Tbe.test(t)?t:vD}catch{return vD}}function Bd(n){return`${n.appName}!${n.appId}`}const Ud=new Map;function O9(n,e){const t=Bd(n);P9(t,e),function kbe(n,e){const t=function R9(){return!fl&&"BroadcastChannel"in self&&(fl=new BroadcastChannel("[Firebase] FID Change"),fl.onmessage=n=>{P9(n.data.key,n.data.fid)}),fl}();t&&t.postMessage({key:n,fid:e}),function N9(){0===Ud.size&&fl&&(fl.close(),fl=null)}()}(t,e)}function P9(n,e){const t=Ud.get(n);if(t)for(const i of t)i(e)}let fl=null;const Obe="firebase-installations-database",Pbe=1,pl="firebase-installations-store";let wD=null;function CD(){return wD||(wD=function pbe(n,e,{blocked:t,upgrade:i,blocking:r,terminated:o}={}){const s=indexedDB.open(n,e),a=Ka(s);return i&&s.addEventListener("upgradeneeded",c=>{i(Ka(s.result),c.oldVersion,c.newVersion,Ka(s.transaction))}),t&&s.addEventListener("blocked",()=>t()),a.then(c=>{o&&c.addEventListener("close",()=>o()),r&&c.addEventListener("versionchange",()=>r())}).catch(()=>{}),a}(Obe,Pbe,{upgrade:(n,e)=>{0===e&&n.createObjectStore(pl)}})),wD}function fv(n,e){return xD.apply(this,arguments)}function xD(){return(xD=_(function*(n,e){const t=Bd(n),r=(yield CD()).transaction(pl,"readwrite"),o=r.objectStore(pl),s=yield o.get(t);return yield o.put(e,t),yield r.done,(!s||s.fid!==e.fid)&&O9(n,e.fid),e})).apply(this,arguments)}function ED(n){return ID.apply(this,arguments)}function ID(){return(ID=_(function*(n){const e=Bd(n),i=(yield CD()).transaction(pl,"readwrite");yield i.objectStore(pl).delete(e),yield i.done})).apply(this,arguments)}function Hp(n,e){return TD.apply(this,arguments)}function TD(){return(TD=_(function*(n,e){const t=Bd(n),r=(yield CD()).transaction(pl,"readwrite"),o=r.objectStore(pl),s=yield o.get(t),a=e(s);return void 0===a?yield o.delete(t):yield o.put(a,t),yield r.done,a&&(!s||s.fid!==a.fid)&&O9(n,a.fid),a})).apply(this,arguments)}function DD(n){return MD.apply(this,arguments)}function MD(){return MD=_(function*(n){let e;const t=yield Hp(n.appConfig,i=>{const r=function Rbe(n){return L9(n||{fid:Dbe(),registrationStatus:0})}(i),o=function Nbe(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Zs.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=function Fbe(n,e){return SD.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:i}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Lbe(n)}:{installationEntry:e}}(n,r);return e=o.registrationPromise,o.installationEntry});return t.fid===vD?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}}),MD.apply(this,arguments)}function SD(){return SD=_(function*(n,e){try{const t=yield function Ebe(n,e){return yD.apply(this,arguments)}(n,e);return fv(n.appConfig,t)}catch(t){throw D9(t)&&409===t.customData.serverCode?yield ED(n.appConfig):yield fv(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}),SD.apply(this,arguments)}function Lbe(n){return AD.apply(this,arguments)}function AD(){return(AD=_(function*(n){let e=yield F9(n.appConfig);for(;1===e.registrationStatus;)yield k9(100),e=yield F9(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:i}=yield DD(n);return i||t}return e})).apply(this,arguments)}function F9(n){return Hp(n,e=>{if(!e)throw Zs.create("installation-not-found");return L9(e)})}function L9(n){return function Vbe(n){return 1===n.registrationStatus&&n.registrationTime+E9<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function kD(){return(kD=_(function*({appConfig:n,heartbeatServiceProvider:e},t){const i=function Ube(n,{fid:e}){return`${pD(n)}/${e}/authTokens:generate`}(n,t),r=function A9(n,{refreshToken:e}){const t=S9(n);return t.append("Authorization",function xbe(n){return`${T9} ${n}`}(e)),t}(n,t),o=e.getImmediate({optional:!0});if(o){const l=yield o.getHeartbeatsHeader();l&&r.append("x-firebase-client",l)}const a={method:"POST",headers:r,body:JSON.stringify({installation:{sdkVersion:I9,appId:n.appId}})},c=yield _D(()=>fetch(i,a));if(c.ok)return M9(yield c.json());throw yield gD("Generate Auth Token",c)})).apply(this,arguments)}function OD(n){return PD.apply(this,arguments)}function PD(){return PD=_(function*(n,e=!1){let t;const i=yield Hp(n.appConfig,o=>{if(!B9(o))throw Zs.create("not-registered");const s=o.authToken;if(!e&&function $be(n){return 2===n.requestStatus&&!function Hbe(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+bbe}(n)}(s))return o;if(1===s.requestStatus)return t=function jbe(n,e){return RD.apply(this,arguments)}(n,e),o;{if(!navigator.onLine)throw Zs.create("app-offline");const a=function Gbe(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}(o);return t=function zbe(n,e){return ND.apply(this,arguments)}(n,a),a}});return t?yield t:i.authToken}),PD.apply(this,arguments)}function RD(){return(RD=_(function*(n,e){let t=yield V9(n.appConfig);for(;1===t.authToken.requestStatus;)yield k9(100),t=yield V9(n.appConfig);const i=t.authToken;return 0===i.requestStatus?OD(n,e):i})).apply(this,arguments)}function V9(n){return Hp(n,e=>{if(!B9(e))throw Zs.create("not-registered");return function qbe(n){return 1===n.requestStatus&&n.requestTime+E9<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function ND(){return ND=_(function*(n,e){try{const t=yield function Bbe(n,e){return kD.apply(this,arguments)}(n,e),i=Object.assign(Object.assign({},e),{authToken:t});return yield fv(n.appConfig,i),t}catch(t){if(!D9(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield fv(n.appConfig,i)}else yield ED(n.appConfig);throw t}}),ND.apply(this,arguments)}function B9(n){return void 0!==n&&2===n.registrationStatus}function FD(){return(FD=_(function*(n){const e=n,{installationEntry:t,registrationPromise:i}=yield DD(e);return i?i.catch(console.error):OD(e).catch(console.error),t.fid})).apply(this,arguments)}function LD(){return LD=_(function*(n,e=!1){const t=n;return yield function Qbe(n){return VD.apply(this,arguments)}(t),(yield OD(t,e)).token}),LD.apply(this,arguments)}function VD(){return(VD=_(function*(n){const{registrationPromise:e}=yield DD(n);e&&(yield e)})).apply(this,arguments)}function jD(n){return Zs.create("missing-app-config-values",{valueName:n})}const U9="installations",eye=n=>{const e=n.getProvider("app").getImmediate(),t=function Zbe(n){if(!n||!n.options)throw jD("App Configuration");if(!n.name)throw jD("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw jD(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:qa(e,"heartbeat"),_delete:()=>Promise.resolve()}},tye=n=>{const t=qa(n.getProvider("app").getImmediate(),U9).getImmediate();return{getId:()=>function Wbe(n){return FD.apply(this,arguments)}(t),getToken:r=>function Kbe(n){return LD.apply(this,arguments)}(t,r)}};(function nye(){Li(new yi(U9,eye,"PUBLIC")),Li(new yi("installations-internal",tye,"PRIVATE"))})(),Bt(x9,fD),Bt(x9,fD,"esm2017");const zD="@firebase/remote-config",Rr=new ps("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class fye{constructor(e,t,i,r){this.client=e,this.storage=t,this.storageCache=i,this.logger=r}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const i=Date.now()-t,r=i<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${i}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${r}.`),r}fetch(e){var t=this;return _(function*(){const[i,r]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(r&&t.isCachedDataFresh(e.cacheMaxAgeMillis,i))return r;e.eTag=r&&r.eTag;const o=yield t.client.fetch(e),s=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===o.status&&s.push(t.storage.setLastSuccessfulFetchResponse(o)),yield Promise.all(s),o})()}}function pye(n=navigator){return n.languages&&n.languages[0]||n.language}class gye{constructor(e,t,i,r,o,s){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=i,this.projectId=r,this.apiKey=o,this.appId=s}fetch(e){var t=this;return _(function*(){const[i,r]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),s=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},c={sdk_version:t.sdkVersion,app_instance_id:i,app_instance_id_token:r,app_id:t.appId,language_code:pye()},l={method:"POST",headers:a,body:JSON.stringify(c)},u=fetch(s,l),d=new Promise((k,M)=>{e.signal.addEventListener(()=>{const V=new Error("The operation was aborted.");V.name="AbortError",M(V)})});let h;try{yield Promise.race([u,d]),h=yield u}catch(k){let M="fetch-client-network";throw"AbortError"===k?.name&&(M="fetch-timeout"),Rr.create(M,{originalErrorMessage:k?.message})}let f=h.status;const b=h.headers.get("ETag")||void 0;let x,I;if(200===h.status){let k;try{k=yield h.json()}catch(M){throw Rr.create("fetch-client-parse",{originalErrorMessage:M?.message})}x=k.entries,I=k.state}if("INSTANCE_STATE_UNSPECIFIED"===I?f=500:"NO_CHANGE"===I?f=304:("NO_TEMPLATE"===I||"EMPTY_CONFIG"===I)&&(x={}),304!==f&&200!==f)throw Rr.create("fetch-status",{httpStatus:f});return{status:f,eTag:b,config:x}})()}}class bye{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return _(function*(){const i=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,i)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:i}){var r=this;return _(function*(){yield function mye(n,e){return new Promise((t,i)=>{const r=Math.max(e-Date.now(),0),o=setTimeout(t,r);n.addEventListener(()=>{clearTimeout(o),i(Rr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const o=yield r.client.fetch(e);return yield r.storage.deleteThrottleMetadata(),o}catch(o){if(!function _ye(n){if(!(n instanceof Kr&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(o))throw o;const s={throttleEndTimeMillis:Date.now()+KT(i),backoffCount:i+1};return yield r.storage.setThrottleMetadata(s),r.attemptFetch(e,s)}})()}}class wye{constructor(e,t,i,r,o){this.app=e,this._client=t,this._storageCache=i,this._storage=r,this._logger=o,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function gv(n,e){const t=n.target.error||void 0;return Rr.create(e,{originalErrorMessage:t&&t?.message})}const gl="app_namespace_store";class Iye{constructor(e,t,i,r=function Eye(){return new Promise((n,e)=>{try{const t=indexedDB.open("firebase_remote_config",1);t.onerror=i=>{e(gv(i,"storage-open"))},t.onsuccess=i=>{n(i.target.result)},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(gl,{keyPath:"compositeKey"})}}catch(t){e(Rr.create("storage-open",{originalErrorMessage:t?.message}))}})}()){this.appId=e,this.appName=t,this.namespace=i,this.openDbPromise=r}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return _(function*(){const i=yield t.openDbPromise;return new Promise((r,o)=>{const a=i.transaction([gl],"readonly").objectStore(gl),c=t.createCompositeKey(e);try{const l=a.get(c);l.onerror=u=>{o(gv(u,"storage-get"))},l.onsuccess=u=>{const d=u.target.result;r(d?d.value:void 0)}}catch(l){o(Rr.create("storage-get",{originalErrorMessage:l?.message}))}})})()}set(e,t){var i=this;return _(function*(){const r=yield i.openDbPromise;return new Promise((o,s)=>{const c=r.transaction([gl],"readwrite").objectStore(gl),l=i.createCompositeKey(e);try{const u=c.put({compositeKey:l,value:t});u.onerror=d=>{s(gv(d,"storage-set"))},u.onsuccess=()=>{o()}}catch(u){s(Rr.create("storage-set",{originalErrorMessage:u?.message}))}})})()}delete(e){var t=this;return _(function*(){const i=yield t.openDbPromise;return new Promise((r,o)=>{const a=i.transaction([gl],"readwrite").objectStore(gl),c=t.createCompositeKey(e);try{const l=a.delete(c);l.onerror=u=>{o(gv(u,"storage-delete"))},l.onsuccess=()=>{r()}}catch(l){o(Rr.create("storage-delete",{originalErrorMessage:l?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class Tye{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return _(function*(){const t=e.storage.getLastFetchStatus(),i=e.storage.getLastSuccessfulFetchTimestampMillis(),r=e.storage.getActiveConfig(),o=yield t;o&&(e.lastFetchStatus=o);const s=yield i;s&&(e.lastSuccessfulFetchTimestampMillis=s);const a=yield r;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function Mye(){return WD.apply(this,arguments)}function WD(){return(WD=_(function*(){if(!Ha())return!1;try{return yield Lp()}catch{return!1}})).apply(this,arguments)}!function Dye(){Li(new yi("remote-config",function n(e,{instanceIdentifier:t}){const i=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Rr.create("registration-window");if(!Ha())throw Rr.create("indexed-db-unavailable");const{projectId:o,apiKey:s,appId:a}=i.options;if(!o)throw Rr.create("registration-project-id");if(!s)throw Rr.create("registration-api-key");if(!a)throw Rr.create("registration-app-id");const c=new Iye(a,i.name,t=t||"firebase"),l=new Tye(c),u=new ul(zD);u.logLevel=gt.ERROR;const d=new gye(r,Wa,t,o,s,a),h=new bye(d,c),f=new fye(h,c,l,u),b=new wye(i,f,l,c,u);return function uye(n){const e=zt(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(b),b},"PUBLIC").setMultipleInstances(!0)),Bt(zD,"0.4.4"),Bt(zD,"0.4.4","esm2017")}();const Sye=(n,e)=>e.some(t=>n instanceof t);let H9,G9;const q9=new WeakMap,KD=new WeakMap,W9=new WeakMap,QD=new WeakMap,YD=new WeakMap;let XD={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return KD.get(n);if("objectStoreNames"===e)return n.objectStoreNames||W9.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Js(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function Fye(n){return"function"==typeof n?function Nye(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function kye(){return G9||(G9=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(ZD(this),e),Js(q9.get(this))}:function(...e){return Js(n.apply(ZD(this),e))}:function(e,...t){const i=n.call(ZD(this),e,...t);return W9.set(i,e.sort?e.sort():[e]),Js(i)}}(n):(n instanceof IDBTransaction&&function Pye(n){if(KD.has(n))return;const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),r()},s=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});KD.set(n,e)}(n),Sye(n,function Aye(){return H9||(H9=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,XD):n)}function Js(n){if(n instanceof IDBRequest)return function Oye(n){const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Js(n.result)),r()},s=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&q9.set(t,n)}).catch(()=>{}),YD.set(e,n),e}(n);if(QD.has(n))return QD.get(n);const e=Fye(n);return e!==n&&(QD.set(n,e),YD.set(e,n)),e}const ZD=n=>YD.get(n);function K9(n,e,{blocked:t,upgrade:i,blocking:r,terminated:o}={}){const s=indexedDB.open(n,e),a=Js(s);return i&&s.addEventListener("upgradeneeded",c=>{i(Js(s.result),c.oldVersion,c.newVersion,Js(s.transaction))}),t&&s.addEventListener("blocked",()=>t()),a.then(c=>{o&&c.addEventListener("close",()=>o()),r&&c.addEventListener("versionchange",()=>r())}).catch(()=>{}),a}function JD(n,{blocked:e}={}){const t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",()=>e()),Js(t).then(()=>{})}const Lye=["get","getKey","getAll","getAllKeys","count"],Vye=["put","add","delete","clear"],eM=new Map;function Q9(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(eM.get(e))return eM.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,r=Vye.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!Lye.includes(t))return;const o=function(){var s=_(function*(a,...c){const l=this.transaction(a,r?"readwrite":"readonly");let u=l.store;return i&&(u=u.index(c.shift())),(yield Promise.all([u[t](...c),r&&l.done]))[0]});return function(c){return s.apply(this,arguments)}}();return eM.set(e,o),o}!function Rye(n){XD=n(XD)}(n=>({...n,get:(e,t,i)=>Q9(e,t)||n.get(e,t,i),has:(e,t)=>!!Q9(e,t)||n.has(e,t)}));const Bye="/firebase-messaging-sw.js",Uye="/firebase-cloud-messaging-push-scope",Y9="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",jye="https://fcmregistrations.googleapis.com/v1",X9="google.c.a.c_id",zye="google.c.a.c_l",$ye="google.c.a.ts";var mv=function(n){return n.PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",n}(mv||{});function ea(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function qye(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),i=atob(t),r=new Uint8Array(i.length);for(let o=0;o<i.length;++o)r[o]=i.charCodeAt(o);return r}const tM="fcm_token_details_db",Wye=5,Z9="fcm_token_object_Store";function nM(){return nM=_(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(o=>o.name).includes(tM))return null;let e=null;return(yield K9(tM,Wye,{upgrade:(i=_(function*(r,o,s,a){var c;if(o<2||!r.objectStoreNames.contains(Z9))return;const l=a.objectStore(Z9),u=yield l.index("fcmSenderId").get(n);if(yield l.clear(),u)if(2===o){const d=u;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(c=d.createTime)&&void 0!==c?c:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:ea(d.vapidKey)}}}else if(3===o){const d=u;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:ea(d.auth),p256dh:ea(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:ea(d.vapidKey)}}}else if(4===o){const d=u;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:ea(d.auth),p256dh:ea(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:ea(d.vapidKey)}}}}),function(o,s,a,c){return i.apply(this,arguments)})})).close(),yield JD(tM),yield JD("fcm_vapid_details_db"),yield JD("undefined"),function Qye(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var i}),nM.apply(this,arguments)}const Yye="firebase-messaging-database",Xye=1,ml="firebase-messaging-store";let iM=null;function rM(){return iM||(iM=K9(Yye,Xye,{upgrade:(n,e)=>{0===e&&n.createObjectStore(ml)}})),iM}function J9(n){return oM.apply(this,arguments)}function oM(){return oM=_(function*(n){const e=lM(n),i=yield(yield rM()).transaction(ml).objectStore(ml).get(e);if(i)return i;{const r=yield function Kye(n){return nM.apply(this,arguments)}(n.appConfig.senderId);if(r)return yield sM(n,r),r}}),oM.apply(this,arguments)}function sM(n,e){return aM.apply(this,arguments)}function aM(){return(aM=_(function*(n,e){const t=lM(n),r=(yield rM()).transaction(ml,"readwrite");return yield r.objectStore(ml).put(e,t),yield r.done,e})).apply(this,arguments)}function cM(){return(cM=_(function*(n){const e=lM(n),i=(yield rM()).transaction(ml,"readwrite");yield i.objectStore(ml).delete(e),yield i.done})).apply(this,arguments)}function lM({appConfig:n}){return n.appId}const Vi=new ps("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function eve(n,e){return uM.apply(this,arguments)}function uM(){return(uM=_(function*(n,e){const t=yield pM(n),i=t8(e),r={method:"POST",headers:t,body:JSON.stringify(i)};let o;try{o=yield(yield fetch(fM(n.appConfig),r)).json()}catch(s){throw Vi.create("token-subscribe-failed",{errorInfo:s?.toString()})}if(o.error)throw Vi.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw Vi.create("token-subscribe-no-token");return o.token})).apply(this,arguments)}function dM(){return(dM=_(function*(n,e){const t=yield pM(n),i=t8(e.subscriptionOptions),r={method:"PATCH",headers:t,body:JSON.stringify(i)};let o;try{o=yield(yield fetch(`${fM(n.appConfig)}/${e.token}`,r)).json()}catch(s){throw Vi.create("token-update-failed",{errorInfo:s?.toString()})}if(o.error)throw Vi.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw Vi.create("token-update-no-token");return o.token})).apply(this,arguments)}function e8(n,e){return hM.apply(this,arguments)}function hM(){return(hM=_(function*(n,e){const i={method:"DELETE",headers:yield pM(n)};try{const o=yield(yield fetch(`${fM(n.appConfig)}/${e}`,i)).json();if(o.error)throw Vi.create("token-unsubscribe-failed",{errorInfo:o.error.message})}catch(r){throw Vi.create("token-unsubscribe-failed",{errorInfo:r?.toString()})}})).apply(this,arguments)}function fM({projectId:n}){return`${jye}/projects/${n}/registrations`}function pM(n){return gM.apply(this,arguments)}function gM(){return(gM=_(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})).apply(this,arguments)}function t8({p256dh:n,auth:e,endpoint:t,vapidKey:i}){const r={web:{endpoint:t,auth:e,p256dh:n}};return i!==Y9&&(r.web.applicationPubKey=i),r}const nve=6048e5;function mM(){return mM=_(function*(n){const e=yield function ove(n,e){return vM.apply(this,arguments)}(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:ea(e.getKey("auth")),p256dh:ea(e.getKey("p256dh"))},i=yield J9(n.firebaseDependencies);if(i){if(function sve(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}(i.subscriptionOptions,t))return Date.now()>=i.createTime+nve?function rve(n,e){return bM.apply(this,arguments)}(n,{token:i.token,createTime:Date.now(),subscriptionOptions:t}):i.token;try{yield e8(n.firebaseDependencies,i.token)}catch(r){console.warn(r)}return i8(n.firebaseDependencies,t)}return i8(n.firebaseDependencies,t)}),mM.apply(this,arguments)}function _M(){return _M=_(function*(n){const e=yield J9(n.firebaseDependencies);e&&(yield e8(n.firebaseDependencies,e.token),yield function Zye(n){return cM.apply(this,arguments)}(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()}),_M.apply(this,arguments)}function bM(){return bM=_(function*(n,e){try{const t=yield function tve(n,e){return dM.apply(this,arguments)}(n.firebaseDependencies,e),i=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield sM(n.firebaseDependencies,i),t}catch(t){throw yield function n8(n){return _M.apply(this,arguments)}(n),t}}),bM.apply(this,arguments)}function i8(n,e){return yM.apply(this,arguments)}function yM(){return(yM=_(function*(n,e){const i={token:yield eve(n,e),createTime:Date.now(),subscriptionOptions:e};return yield sM(n,i),i.token})).apply(this,arguments)}function vM(){return(vM=_(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:qye(e)})})).apply(this,arguments)}function r8(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function ave(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const i=e.notification.body;i&&(n.notification.body=i);const r=e.notification.image;r&&(n.notification.image=r);const o=e.notification.icon;o&&(n.notification.icon=o)}(e,n),function cve(n,e){e.data&&(n.data=e.data)}(e,n),function lve(n,e){var t,i,r,o,s;if(!(e.fcmOptions||null!==(t=e.notification)&&void 0!==t&&t.click_action))return;n.fcmOptions={};const a=null!==(r=null===(i=e.fcmOptions)||void 0===i?void 0:i.link)&&void 0!==r?r:null===(o=e.notification)||void 0===o?void 0:o.click_action;a&&(n.fcmOptions.link=a);const c=null===(s=e.fcmOptions)||void 0===s?void 0:s.analytics_label;c&&(n.fcmOptions.analyticsLabel=c)}(e,n),e}function o8(n,e){const t=[];for(let i=0;i<n.length;i++)t.push(n.charAt(i)),i<e.length&&t.push(e.charAt(i));return t.join("")}function wM(n){return Vi.create("missing-app-config-values",{valueName:n})}o8("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),o8("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class hve{constructor(e,t,i){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const r=function dve(n){if(!n||!n.options)throw wM("App Configuration Object");if(!n.name)throw wM("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const i of e)if(!t[i])throw wM(i);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:r,installations:t,analyticsProvider:i}}_delete(){return Promise.resolve()}}function CM(){return(CM=_(function*(n){try{n.swRegistration=yield navigator.serviceWorker.register(Bye,{scope:Uye}),n.swRegistration.update().catch(()=>{})}catch(e){throw Vi.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function xM(){return(xM=_(function*(n,e){if(!e&&!n.swRegistration&&(yield function s8(n){return CM.apply(this,arguments)}(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Vi.create("invalid-sw-registration");n.swRegistration=e}})).apply(this,arguments)}function EM(){return(EM=_(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=Y9)})).apply(this,arguments)}function IM(){return IM=_(function*(n,e){if(!navigator)throw Vi.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Vi.create("permission-blocked");return yield function pve(n,e){return EM.apply(this,arguments)}(n,e?.vapidKey),yield function fve(n,e){return xM.apply(this,arguments)}(n,e?.serviceWorkerRegistration),function ive(n){return mM.apply(this,arguments)}(n)}),IM.apply(this,arguments)}function TM(){return(TM=_(function*(n,e,t){const i=function mve(n){switch(n){case mv.NOTIFICATION_CLICKED:return"notification_open";case mv.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(i,{message_id:t[X9],message_name:t[zye],message_time:t[$ye],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function DM(){return DM=_(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===mv.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(r8(t)):n.onMessageHandler.next(r8(t)));const i=t.data;(function uve(n){return"object"==typeof n&&!!n&&X9 in n})(i)&&"1"===i["google.c.a.e"]&&(yield function gve(n,e,t){return TM.apply(this,arguments)}(n,t.messageType,i))}),DM.apply(this,arguments)}const c8="@firebase/messaging",bve=n=>{const e=new hve(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function _ve(n,e){return DM.apply(this,arguments)}(e,t)),e},yve=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:i=>function a8(n,e){return IM.apply(this,arguments)}(e,i)}};function u8(){return MM.apply(this,arguments)}function MM(){return(MM=_(function*(){try{yield Lp()}catch{return!1}return typeof window<"u"&&Ha()&&GT()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function vve(){Li(new yi("messaging",bve,"PUBLIC")),Li(new yi("messaging-internal",yve,"PRIVATE")),Bt(c8,"0.12.4"),Bt(c8,"0.12.4","esm2017")}();const _v="analytics",xve="firebase_id",Eve="origin",Ive=6e4,Tve="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",kM="https://www.googletagmanager.com/gtag/js",vi=new ul("@firebase/analytics"),_r=new ps("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Mve(n){if(!n.startsWith(kM)){const e=_r.create("invalid-gtag-resource",{gtagURL:n});return vi.warn(e.message),""}return n}function d8(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function OM(){return(OM=_(function*(n,e,t,i,r,o){const s=i[r];try{if(s)yield e[s];else{const c=(yield d8(t)).find(l=>l.measurementId===r);c&&(yield e[c.appId])}}catch(a){vi.error(a)}n("config",r,o)})).apply(this,arguments)}function PM(){return(PM=_(function*(n,e,t,i,r){try{let o=[];if(r&&r.send_to){let s=r.send_to;Array.isArray(s)||(s=[s]);const a=yield d8(t);for(const c of s){const l=a.find(d=>d.measurementId===c),u=l&&e[l.appId];if(!u){o=[];break}o.push(u)}}0===o.length&&(o=Object.values(e)),yield Promise.all(o),n("event",i,r||{})}catch(o){vi.error(o)}})).apply(this,arguments)}const Lve=30,h8=new class Bve{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Uve(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function RM(){return(RM=_(function*(n){var e;const{appId:t,apiKey:i}=n,r={method:"GET",headers:Uve(i)},o=Tve.replace("{app-id}",t),s=yield fetch(o,r);if(200!==s.status&&304!==s.status){let a="";try{const c=yield s.json();null!==(e=c.error)&&void 0!==e&&e.message&&(a=c.error.message)}catch{}throw _r.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a})}return s.json()})).apply(this,arguments)}function NM(){return(NM=_(function*(n,e=h8,t){const{appId:i,apiKey:r,measurementId:o}=n.options;if(!i)throw _r.create("no-app-id");if(!r){if(o)return{measurementId:o,appId:i};throw _r.create("no-api-key")}const s=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Gve;return setTimeout(_(function*(){a.abort()}),void 0!==t?t:Ive),f8({appId:i,apiKey:r,measurementId:o},s,a,e)})).apply(this,arguments)}function f8(n,e,t){return FM.apply(this,arguments)}function FM(){return FM=_(function*(n,{throttleEndTimeMillis:e,backoffCount:t},i,r=h8){var o;const{appId:s,measurementId:a}=n;try{yield function $ve(n,e){return new Promise((t,i)=>{const r=Math.max(e-Date.now(),0),o=setTimeout(t,r);n.addEventListener(()=>{clearTimeout(o),i(_r.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(i,e)}catch(c){if(a)return vi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:s,measurementId:a};throw c}try{const c=yield function jve(n){return RM.apply(this,arguments)}(n);return r.deleteThrottleMetadata(s),c}catch(c){const l=c;if(!function Hve(n){if(!(n instanceof Kr&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(l)){if(r.deleteThrottleMetadata(s),a)return vi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l?.message}]`),{appId:s,measurementId:a};throw c}const u=503===Number(null===(o=l?.customData)||void 0===o?void 0:o.httpStatus)?KT(t,r.intervalMillis,Lve):KT(t,r.intervalMillis),d={throttleEndTimeMillis:Date.now()+u,backoffCount:t+1};return r.setThrottleMetadata(s,d),vi.debug(`Calling attemptFetch again in ${u} millis`),f8(n,d,i,r)}}),FM.apply(this,arguments)}class Gve{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let LM,HM;function VM(){return(VM=_(function*(n,e,t,i,r){if(r&&r.global)n("event",t,i);else{const o=yield e;n("event",t,Object.assign(Object.assign({},i),{send_to:o}))}})).apply(this,arguments)}function GM(){return(GM=_(function*(){if(!Ha())return vi.warn(_r.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield Lp()}catch(n){return vi.warn(_r.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}return!0})).apply(this,arguments)}function qM(){return qM=_(function*(n,e,t,i,r,o,s){var a;const c=function zve(n){return NM.apply(this,arguments)}(n);c.then(f=>{t[f.measurementId]=f.appId,n.options.measurementId&&f.measurementId!==n.options.measurementId&&vi.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>vi.error(f)),e.push(c);const l=function Zve(){return GM.apply(this,arguments)}().then(f=>{if(f)return i.getId()}),[u,d]=yield Promise.all([c,l]);(function Fve(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(kM)&&t.src.includes(n))return t;return null})(o)||function Ave(n,e){const t=function Sve(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}("firebase-js-sdk-policy",{createScriptURL:Mve}),i=document.createElement("script"),r=`${kM}?l=${n}&id=${e}`;i.src=t?t?.createScriptURL(r):r,i.async=!0,document.head.appendChild(i)}(o,u.measurementId),HM&&(r("consent","default",HM),function p8(n){HM=n}(void 0)),r("js",new Date);const h=null!==(a=s?.config)&&void 0!==a?a:{};return h[Eve]="firebase",h.update=!0,null!=d&&(h[xve]=d),r("config",u.measurementId,h),LM&&(r("set",LM),function g8(n){LM=n}(void 0)),u.measurementId}),qM.apply(this,arguments)}class e0e{constructor(e){this.app=e}_delete(){return delete ms[this.app.options.appId],Promise.resolve()}}let ms={},m8=[];const _8={};let y8,_s,bv="dataLayer",WM=!1;function n0e(n,e,t){!function t0e(){const n=[];if(HT()&&n.push("This is a browser extension environment."),GT()||n.push("Cookies are not available."),n.length>0){const e=n.map((i,r)=>`(${r+1}) ${i}`).join(" "),t=_r.create("invalid-analytics-context",{errorInfo:e});vi.warn(t.message)}}();const i=n.options.appId;if(!i)throw _r.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw _r.create("no-api-key");vi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ms[i])throw _r.create("already-exists",{id:i});if(!WM){!function kve(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(bv);const{wrappedGtag:o,gtagCore:s}=function Nve(n,e,t,i,r){let o=function(...s){window[i].push(arguments)};return window[r]&&"function"==typeof window[r]&&(o=window[r]),window[r]=function Rve(n,e,t,i){function o(){return o=_(function*(s,...a){try{if("event"===s){const[c,l]=a;yield function Pve(n,e,t,i,r){return PM.apply(this,arguments)}(n,e,t,c,l)}else if("config"===s){const[c,l]=a;yield function Ove(n,e,t,i,r,o){return OM.apply(this,arguments)}(n,e,t,i,c,l)}else if("consent"===s){const[c]=a;n("consent","update",c)}else if("get"===s){const[c,l,u]=a;n("get",c,l,u)}else if("set"===s){const[c]=a;n("set",c)}else n(s,...a)}catch(c){vi.error(c)}}),o.apply(this,arguments)}return function r(s){return o.apply(this,arguments)}}(o,n,e,t),{gtagCore:o,wrappedGtag:window[r]}}(ms,m8,_8,bv,"gtag");_s=o,y8=s,WM=!0}return ms[i]=function Jve(n,e,t,i,r,o,s){return qM.apply(this,arguments)}(n,m8,_8,e,y8,bv,t),new e0e(n)}function r0e(){return KM.apply(this,arguments)}function KM(){return(KM=_(function*(){if(HT()||!GT()||!Ha())return!1;try{return yield Lp()}catch{return!1}})).apply(this,arguments)}const v8="@firebase/analytics";!function s0e(){Li(new yi(_v,(e,{options:t})=>n0e(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),Li(new yi("analytics-internal",function n(e){try{const t=e.getProvider(_v).getImmediate();return{logEvent:(i,r,o)=>function o0e(n,e,t,i){n=zt(n),function qve(n,e,t,i,r){return VM.apply(this,arguments)}(_s,ms[n.app.options.appId],e,t,i).catch(r=>vi.error(r))}(t,i,r,o)}}catch(t){throw _r.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),Bt(v8,"0.10.0"),Bt(v8,"0.10.0","esm2017")}();class a0e extends si{constructor(e,t){super()}schedule(e,t=0){return this}}const yv={setInterval(n,e,...t){const{delegate:i}=yv;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=yv;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class vv extends a0e{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;const r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,t)),this.pending=!0,this.delay=t,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,i=0){return yv.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return t;null!=t&&yv.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r,i=!1;try{this.work(e)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,p_(i,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const C8={now:()=>(C8.delegate||Date).now(),delegate:void 0};class Gp{constructor(e,t=Gp.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}}Gp.now=C8.now;class wv extends Gp{constructor(e,t=Gp.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let i;this._active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}}const u0e=new class l0e extends wv{}(class c0e extends vv{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,i=0){return null!=i&&i>0||null==i&&this.delay>0?super.requestAsyncId(e,t,i):(e.flush(this),0)}}),qp=new wv(vv),d0e=qp,jd=new Na("7.6.1"),YM="__angularfire_symbol__analyticsIsSupportedValue",XM="__angularfire_symbol__analyticsIsSupported",ZM="__angularfire_symbol__remoteConfigIsSupportedValue",JM="__angularfire_symbol__remoteConfigIsSupported",eS="__angularfire_symbol__messagingIsSupportedValue",tS="__angularfire_symbol__messagingIsSupported";function Wp(n,e,t){if(e){if(1===e.length)return e[0];const o=e.filter(s=>s.app===t);if(1===o.length)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}globalThis[XM]||(globalThis[XM]=r0e().then(n=>globalThis[YM]=n).catch(()=>globalThis[YM]=!1)),globalThis[tS]||(globalThis[tS]=u8().then(n=>globalThis[eS]=n).catch(()=>globalThis[eS]=!1)),globalThis[JM]||(globalThis[JM]=Mye().then(n=>globalThis[ZM]=n).catch(()=>globalThis[ZM]=!1));const Kp=(n,e)=>{const t=e?[e]:h9(),i=[];return t.forEach(r=>{r.container.getProvider(n).instances.forEach(s=>{i.includes(s)||i.push(s)})}),i};function zd(){}class x8{constructor(e,t=u0e){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,i){const r=this.zone;return this.delegate.schedule(function(s){r.runGuarded(()=>{e.apply(this,[s])})},t,i)}}class h0e{constructor(e){this.zone=e,this.task=null}call(e,t){const i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",zd,{},zd,zd)),t.pipe(kn({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Qp=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new x8(Zone.current)),this.insideAngular=t.run(()=>new x8(Zone.current,qp)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)($(Ee))},n.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function _l(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function bl(n){return _l().ngZone.run(()=>n())}function p0e(n){return _l(),function g0e(n){return function(t){return(t=t.lift(new h0e(n.ngZone))).pipe(Ty(n.outsideAngular),Iy(n.insideAngular))}}(_l())(n)}const m0e=(n,e)=>function(){const i=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),bl(()=>n.apply(void 0,i))},wi=(n,e)=>function(){let t;const i=arguments;for(let o=0;o<arguments.length;o++)"function"==typeof i[o]&&(e&&(t||(t=bl(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",zd,{},zd,zd)))),i[o]=m0e(i[o],t));const r=function f0e(n){return _l().ngZone.runOutsideAngular(()=>n())}(()=>n.apply(this,i));if(!e){if(r instanceof qt){const o=_l();return r.pipe(Ty(o.outsideAngular),Iy(o.insideAngular))}return bl(()=>r)}return r instanceof qt?r.pipe(p0e):r instanceof Promise?bl(()=>new Promise((o,s)=>r.then(a=>bl(()=>o(a)),a=>bl(()=>s(a))))):"function"==typeof r&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),r.apply(this,arguments)}:bl(()=>r)};class Qa{constructor(e){return e}}class Yp{constructor(){return h9()}}const iS=new X("angularfire2._apps"),b0e={provide:Qa,useFactory:function _0e(n){return n&&1===n.length?n[0]:new Qa(zp())},deps:[[new Yt,iS]]},y0e={provide:Yp,deps:[[new Yt,iS]]};function v0e(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new Qa(i)}}let w0e=(()=>{class n{constructor(t){Bt("angularfire",jd.full,"core"),Bt("angularfire",jd.full,"app"),Bt("angular",Cce.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)($(ro))},n.\u0275mod=Ze({type:n}),n.\u0275inj=Xe({providers:[b0e,y0e]}),n})();function C0e(n,...e){return{ngModule:w0e,providers:[{provide:iS,useFactory:v0e(n),multi:!0,deps:[Ee,Ut,Qp,...e]}]}}const x0e=wi(d9,!0),rS=new Map,E8={activated:!1,tokenObservers:[]},E0e={initialized:!1,enabled:!1};function On(n){return rS.get(n)||Object.assign({},E8)}function Cv(){return E0e}const oS="https://content-firebaseappcheck.googleapis.com/v1",M0e="exchangeDebugToken",I8={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class A0e{constructor(e,t,i,r,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return _(function*(){t.stop();try{t.pending=new Fd,yield function k0e(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Fd,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Bi=new ps("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function sS(n){if(!On(n).activated)throw Bi.create("use-before-activation",{appName:n.name})}function Iv(n,e){return cS.apply(this,arguments)}function cS(){return(cS=_(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},r=t.getImmediate({optional:!0});if(r){const d=yield r.getHeartbeatsHeader();d&&(i["X-Firebase-Client"]=d)}const o={method:"POST",body:JSON.stringify(e),headers:i};let s,a;try{s=yield fetch(n,o)}catch(d){throw Bi.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==s.status)throw Bi.create("fetch-status-error",{httpStatus:s.status});try{a=yield s.json()}catch(d){throw Bi.create("fetch-parse-error",{originalErrorMessage:d?.message})}const c=a.ttl.match(/^([\d.]+)(s)$/);if(!c||!c[2]||isNaN(Number(c[1])))throw Bi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const l=1e3*Number(c[1]),u=Date.now();return{token:a.token,expireTimeMillis:u+l,issuedAtTimeMillis:u}})).apply(this,arguments)}function T8(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`${oS}/projects/${t}/apps/${i}:${M0e}?key=${r}`,body:{debug_token:e}}}const N0e="firebase-app-check-database",F0e=1,Xp="firebase-app-check-store";let Tv=null;function lS(){return(lS=_(function*(n,e){const i=(yield function M8(){return Tv||(Tv=new Promise((n,e)=>{try{const t=indexedDB.open(N0e,F0e);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var r;e(Bi.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Xp,{keyPath:"compositeKey"})}}catch(t){e(Bi.create("storage-open",{originalErrorMessage:t?.message}))}}),Tv)}()).transaction(Xp,"readwrite"),o=i.objectStore(Xp).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=c=>{s()},i.onerror=c=>{var l;a(Bi.create("storage-set",{originalErrorMessage:null===(l=c.target.error)||void 0===l?void 0:l.message}))}})})).apply(this,arguments)}const Zp=new ul("@firebase/app-check");function hS(n,e){return Ha()?function V0e(n,e){return function S8(n,e){return lS.apply(this,arguments)}(function k8(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Zp.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function pS(){return Cv().enabled}function gS(){return mS.apply(this,arguments)}function mS(){return(mS=_(function*(){const n=Cv();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const H0e={error:"UNKNOWN_ERROR"};function G0e(n){return iv.encodeString(JSON.stringify(n),!1)}function Dv(n){return _S.apply(this,arguments)}function _S(){return(_S=_(function*(n,e=!1){const t=n.app;sS(t);const i=On(t);let o,r=i.token;if(r&&!$d(r)&&(i.token=void 0,r=void 0),!r){const c=yield i.cachedTokenPromise;c&&($d(c)?r=c:yield hS(t,void 0))}if(!e&&r&&$d(r))return{token:r.token};let a,s=!1;if(pS()){i.exchangeTokenPromise||(i.exchangeTokenPromise=Iv(T8(t,yield gS()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),s=!0);const c=yield i.exchangeTokenPromise;return yield hS(t,c),i.token=c,{token:c.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),s=!0),r=yield On(t).exchangeTokenPromise}catch(c){"appCheck/throttled"===c.code?Zp.warn(c.message):Zp.error(c),o=c}return r?o?a=$d(r)?{token:r.token,internalError:o}:N8(o):(a={token:r.token},i.token=r,yield hS(t,r)):a=N8(o),s&&function R8(n,e){const t=On(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}(t,a),a})).apply(this,arguments)}function O8(n){return bS.apply(this,arguments)}function bS(){return(bS=_(function*(n){const e=n.app;sS(e);const{provider:t}=On(e);if(pS()){const i=yield gS(),{token:r}=yield Iv(T8(e,i),n.heartbeatServiceProvider);return{token:r}}{const{token:i}=yield t.getToken();return{token:i}}})).apply(this,arguments)}function vS(n,e){const t=On(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function P8(n){const{app:e}=n,t=On(e);let i=t.tokenRefresher;i||(i=function q0e(n){const{app:e}=n;return new A0e(_(function*(){let i;if(i=On(e).token?yield Dv(n,!0):yield Dv(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const t=On(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},I8.RETRIAL_MIN_WAIT,I8.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function $d(n){return n.expireTimeMillis-Date.now()>0}function N8(n){return{token:G0e(H0e),error:n}}class W0e{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=On(this.app);for(const t of e)vS(this.app,t.next);return Promise.resolve()}}const $8="app-check-internal";!function awe(){Li(new yi("app-check",n=>function K0e(n,e){return new W0e(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider($8).initialize()})),Li(new yi($8,n=>function Q0e(n){return{getToken:e=>Dv(n,e),getLimitedUseToken:()=>O8(n),addTokenListener:e=>function yS(n,e,t,i){const{app:r}=n,o=On(r);if(o.tokenObservers=[...o.tokenObservers,{next:t,error:i,type:e}],o.token&&$d(o.token)){const a=o.token;Promise.resolve().then(()=>{t({token:a.token}),P8(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>P8(n))}(n,"INTERNAL",e),removeTokenListener:e=>vS(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),Bt("@firebase/app-check","0.8.0")}();class Jp{constructor(){return Kp("app-check")}}typeof window<"u"&&window;const hwe=function G8(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},q8=new ps("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Sv=new ul("@firebase/auth");function Av(n,...e){Sv.logLevel<=gt.ERROR&&Sv.error(`Auth (${Wa}): ${n}`,...e)}function Nr(n,...e){throw IS(n,...e)}function bs(n,...e){return IS(n,...e)}function IS(n,...e){if("string"!=typeof n){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return q8.create(n,...e)}function re(n,e,...t){if(!n)throw IS(e,...t)}function ys(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Av(e),new Error(e)}function Ya(n,e){n||ys(e)}function eg(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function K8(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class tg{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ya(t>e,"Short delay should be less than long delay!"),this.isMobile=$T()||n9()}get(){return function pwe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function TS(){return"http:"===K8()||"https:"===K8()}()||HT()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function DS(n,e){Ya(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class Q8{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ys("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ys("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ys("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const mwe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},_we=new tg(3e4,6e4);function En(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Pn(n,e,t,i){return MS.apply(this,arguments)}function MS(){return(MS=_(function*(n,e,t,i,r={}){return Y8(n,r,_(function*(){let o={},s={};i&&("GET"===e?s=i:o={body:JSON.stringify(i)});const a=Vd(Object.assign({key:n.config.apiKey},s)).slice(1),c=yield n._getAdditionalHeaders();return c["Content-Type"]="application/json",n.languageCode&&(c["X-Firebase-Locale"]=n.languageCode),Q8.fetch()(X8(n,n.config.apiHost,t,a),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},o))}))})).apply(this,arguments)}function Y8(n,e,t){return SS.apply(this,arguments)}function SS(){return(SS=_(function*(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},mwe),e);try{const r=new bwe(n),o=yield Promise.race([t(),r.promise]);r.clearNetworkTimeout();const s=yield o.json();if("needConfirmation"in s)throw ng(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[c,l]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===c)throw ng(n,"credential-already-in-use",s);if("EMAIL_EXISTS"===c)throw ng(n,"email-already-in-use",s);if("USER_DISABLED"===c)throw ng(n,"user-disabled",s);const u=i[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw function W8(n,e,t){const i=Object.assign(Object.assign({},hwe()),{[e]:t});return new ps("auth","Firebase",i).create(e,{appName:n.name})}(n,u,l);Nr(n,u)}}catch(r){if(r instanceof Kr)throw r;Nr(n,"network-request-failed",{message:String(r)})}})).apply(this,arguments)}function ta(n,e,t,i){return AS.apply(this,arguments)}function AS(){return(AS=_(function*(n,e,t,i,r={}){const o=yield Pn(n,e,t,i,r);return"mfaPendingCredential"in o&&Nr(n,"multi-factor-auth-required",{_serverResponse:o}),o})).apply(this,arguments)}function X8(n,e,t,i){const r=`${e}${t}?${i}`;return n.config.emulator?DS(n.config,r):`${n.config.apiScheme}://${r}`}class bwe{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(bs(this.auth,"network-request-failed")),_we.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ng(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const r=bs(n,e,i);return r.customData._tokenResponse=t,r}function kS(){return(kS=_(function*(n,e){return Pn(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function PS(){return(PS=_(function*(n,e){return Pn(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function ig(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function RS(){return(RS=_(function*(n,e=!1){const t=zt(n),i=yield t.getIdToken(e),r=kv(i);re(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");const o="object"==typeof r.firebase?r.firebase:void 0,s=o?.sign_in_provider;return{claims:r,token:i,authTime:ig(NS(r.auth_time)),issuedAtTime:ig(NS(r.iat)),expirationTime:ig(NS(r.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})).apply(this,arguments)}function NS(n){return 1e3*Number(n)}function kv(n){const[e,t,i]=n.split(".");if(void 0===e||void 0===t||void 0===i)return Av("JWT malformed, contained fewer than 3 sections"),null;try{const r=ov(t);return r?JSON.parse(r):(Av("Failed to decode base64 JWT payload"),null)}catch(r){return Av("Caught error parsing JWT payload as JSON",r?.toString()),null}}function na(n,e){return FS.apply(this,arguments)}function FS(){return(FS=_(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(i){throw i instanceof Kr&&function Ewe({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(i)&&n.auth.currentUser===n&&(yield n.auth.signOut()),i}})).apply(this,arguments)}class Iwe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),i}{this.errorBackoff=3e4;const r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(_(function*(){yield t.iteration()}),i)}iteration(){var e=this;return _(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class Z8{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ig(this.lastLoginAt),this.creationTime=ig(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function rg(n){return LS.apply(this,arguments)}function LS(){return LS=_(function*(n){var e;const t=n.auth,i=yield n.getIdToken(),r=yield na(n,function wwe(n,e){return PS.apply(this,arguments)}(t,{idToken:i}));re(r?.users.length,t,"internal-error");const o=r.users[0];n._notifyReloadListener(o);const s=null!==(e=o.providerUserInfo)&&void 0!==e&&e.length?function Mwe(n){return n.map(e=>{var{providerId:t}=e,i=Ey(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}(o.providerUserInfo):[],a=function Dwe(n,e){return[...n.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}(n.providerData,s),u=!!n.isAnonymous&&!(n.email&&o.passwordHash||a?.length),d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Z8(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(n,d)}),LS.apply(this,arguments)}function VS(){return(VS=_(function*(n){const e=zt(n);yield rg(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function BS(){return(BS=_(function*(n,e){const t=yield Y8(n,{},_(function*(){const i=Vd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:o}=n.config,s=X8(n,r,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Q8.fetch()(s,{method:"POST",headers:a,body:i})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class og{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){re(e.idToken,"internal-error"),re(typeof e.idToken<"u","internal-error"),re(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function xwe(n){const e=kv(n);return re(e,"internal-error"),re(typeof e.exp<"u","internal-error"),re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var i=this;return _(function*(){return re(!i.accessToken||i.refreshToken,e,"user-token-expired"),t||!i.accessToken||i.isExpired?i.refreshToken?(yield i.refresh(e,i.refreshToken),i.accessToken):null:i.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var i=this;return _(function*(){const{accessToken:r,refreshToken:o,expiresIn:s}=yield function Swe(n,e){return BS.apply(this,arguments)}(e,t);i.updateTokensAndExpiration(r,o,Number(s))})()}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*i}static fromJSON(e,t){const{refreshToken:i,accessToken:r,expirationTime:o}=t,s=new og;return i&&(re("string"==typeof i,"internal-error",{appName:e}),s.refreshToken=i),r&&(re("string"==typeof r,"internal-error",{appName:e}),s.accessToken=r),o&&(re("number"==typeof o,"internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new og,this.toJSON())}_performRefresh(){return ys("not implemented")}}function Xa(n,e){re("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class yl{constructor(e){var{uid:t,auth:i,stsTokenManager:r}=e,o=Ey(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Iwe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Z8(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){var t=this;return _(function*(){const i=yield na(t,t.stsTokenManager.getToken(t.auth,e));return re(i,t.auth,"internal-error"),t.accessToken!==i&&(t.accessToken=i,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),i})()}getIdTokenResult(e){return function Cwe(n){return RS.apply(this,arguments)}(this,e)}reload(){return function Twe(n){return VS.apply(this,arguments)}(this)}_assign(e){this!==e&&(re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new yl(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var i=this;return _(function*(){let r=!1;e.idToken&&e.idToken!==i.stsTokenManager.accessToken&&(i.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield rg(i)),yield i.auth._persistUserIfCurrent(i),r&&i.auth._notifyListenersIfCurrent(i)})()}delete(){var e=this;return _(function*(){const t=yield e.getIdToken();return yield na(e,function ywe(n,e){return kS.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,r,o,s,a,c,l,u;const d=null!==(i=t.displayName)&&void 0!==i?i:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,f=null!==(o=t.phoneNumber)&&void 0!==o?o:void 0,b=null!==(s=t.photoURL)&&void 0!==s?s:void 0,x=null!==(a=t.tenantId)&&void 0!==a?a:void 0,I=null!==(c=t._redirectEventId)&&void 0!==c?c:void 0,k=null!==(l=t.createdAt)&&void 0!==l?l:void 0,M=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:V,emailVerified:K,isAnonymous:oe,providerData:de,stsTokenManager:ze}=t;re(V&&ze,e,"internal-error");const ft=og.fromJSON(this.name,ze);re("string"==typeof V,e,"internal-error"),Xa(d,e.name),Xa(h,e.name),re("boolean"==typeof K,e,"internal-error"),re("boolean"==typeof oe,e,"internal-error"),Xa(f,e.name),Xa(b,e.name),Xa(x,e.name),Xa(I,e.name),Xa(k,e.name),Xa(M,e.name);const oi=new yl({uid:V,auth:e,email:h,emailVerified:K,displayName:d,isAnonymous:oe,photoURL:b,phoneNumber:f,tenantId:x,stsTokenManager:ft,createdAt:k,lastLoginAt:M});return de&&Array.isArray(de)&&(oi.providerData=de.map(qi=>Object.assign({},qi))),I&&(oi._redirectEventId=I),oi}static _fromIdTokenResponse(e,t,i=!1){return _(function*(){const r=new og;r.updateFromServerResponse(t);const o=new yl({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return yield rg(o),o})()}}const J8=new Map;function ia(n){Ya(n instanceof Function,"Expected a class definition");let e=J8.get(n);return e?(Ya(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,J8.set(n,e),e)}const e$=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(function*(){return!0})()}_set(t,i){var r=this;return _(function*(){r.storage[t]=i})()}_get(t){var i=this;return _(function*(){const r=i.storage[t];return void 0===r?null:r})()}_remove(t){var i=this;return _(function*(){delete i.storage[t]})()}_addListener(t,i){}_removeListener(t,i){}}return n.type="NONE",n})();function Ov(n,e,t){return`firebase:${n}:${e}:${t}`}class Gd{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:r,name:o}=this.auth;this.fullUserKey=Ov(this.userKey,r.apiKey,o),this.fullPersistenceKey=Ov("persistence",r.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return _(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?yl._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return _(function*(){if(t.persistence===e)return;const i=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,i?t.setCurrentUser(i):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,i="authUser"){return _(function*(){if(!t.length)return new Gd(ia(e$),e,i);const r=(yield Promise.all(t.map(function(){var l=_(function*(u){if(yield u._isAvailable())return u});return function(u){return l.apply(this,arguments)}}()))).filter(l=>l);let o=r[0]||ia(e$);const s=Ov(i,e.config.apiKey,e.name);let a=null;for(const l of t)try{const u=yield l._get(s);if(u){const d=yl._fromJSON(e,u);l!==o&&(a=d),o=l;break}}catch{}const c=r.filter(l=>l._shouldAllowMigration);return o._shouldAllowMigration&&c.length?(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(function(){var l=_(function*(u){if(u!==o)try{yield u._remove(s)}catch{}});return function(u){return l.apply(this,arguments)}}())),new Gd(o,e,i)):new Gd(o,e,i)})()}}function t$(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(r$(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(n$(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(s$(e))return"Blackberry";if(a$(e))return"Webos";if(US(e))return"Safari";if((e.includes("chrome/")||i$(e))&&!e.includes("edge/"))return"Chrome";if(o$(e))return"Android";{const i=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===i?.length)return i[1]}return"Other"}function n$(n=Gn()){return/firefox\//i.test(n)}function US(n=Gn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function i$(n=Gn()){return/crios\//i.test(n)}function r$(n=Gn()){return/iemobile/i.test(n)}function o$(n=Gn()){return/android/i.test(n)}function s$(n=Gn()){return/blackberry/i.test(n)}function a$(n=Gn()){return/webos/i.test(n)}function Pv(n=Gn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function c$(n=Gn()){return Pv(n)||o$(n)||a$(n)||s$(n)||/windows phone/i.test(n)||r$(n)}function l$(n,e=[]){let t;switch(n){case"Browser":t=t$(Gn());break;case"Worker":t=`${t$(Gn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Wa}/${i}`}function u$(n,e){return zS.apply(this,arguments)}function zS(){return(zS=_(function*(n,e){return Pn(n,"GET","/v2/recaptchaConfig",En(n,e))})).apply(this,arguments)}function h$(n){return void 0!==n&&void 0!==n.enterprise}class f${constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(t=>"EMAIL_PASSWORD_PROVIDER"===t.provider&&"OFF"!==t.enforcementState)}}function $S(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=r=>{const o=bs("internal-error");o.customData=r,t(o)},i.type="text/javascript",i.charset="UTF-8",function Rwe(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(i)})}function p$(n){return`__${n}${Math.floor(1e6*Math.random())}`}class g${constructor(e){this.type="recaptcha-enterprise",this.auth=Ci(e)}verify(e="verify",t=!1){var i=this;return _(function*(){function o(){return o=_(function*(a){if(!t){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var c=_(function*(l,u){u$(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new f$(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,l(h.siteKey)}u(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{u(d)})});return function(l,u){return c.apply(this,arguments)}}())}),o.apply(this,arguments)}function s(a,c,l){const u=window.grecaptcha;h$(u)?u.enterprise.ready(()=>{u.enterprise.execute(a,{action:e}).then(d=>{c(d)}).catch(()=>{c("NO_RECAPTCHA")})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,c)=>{(function r(a){return o.apply(this,arguments)})(i.auth).then(l=>{if(!t&&h$(window.grecaptcha))s(l,a,c);else{if(typeof window>"u")return void c(new Error("RecaptchaVerifier is only supported in browser"));$S("https://www.google.com/recaptcha/enterprise.js?render="+l).then(()=>{s(l,a,c)}).catch(u=>{c(u)})}}).catch(l=>{c(l)})})})()}}function Za(n,e,t){return HS.apply(this,arguments)}function HS(){return(HS=_(function*(n,e,t,i=!1){const r=new g$(n);let o;try{o=yield r.verify(t)}catch{o=yield r.verify(t,!0)}const s=Object.assign({},e);return Object.assign(s,i?{captchaResp:o}:{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})).apply(this,arguments)}class Vwe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=o=>new Promise((s,a)=>{try{s(e(o))}catch(c){a(c)}});i.onAbort=t,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return _(function*(){if(t.auth.currentUser===e)return;const i=[];try{for(const r of t.queue)yield r(e),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const o of i)try{o()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})()}}class Bwe{constructor(e,t,i,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new m$(this),this.idTokenSubscription=new m$(this),this.beforeStateQueue=new Vwe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=q8,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){var i=this;return t&&(this._popupRedirectResolver=ia(t)),this._initializationPromise=this.queue(_(function*(){var r,o;if(!i._deleted&&(i.persistenceManager=yield Gd.create(i,e),!i._deleted)){if(null!==(r=i._popupRedirectResolver)&&void 0!==r&&r._shouldInitProactively)try{yield i._popupRedirectResolver._initialize(i)}catch{}yield i.initializeCurrentUser(t),i.lastNotifiedUid=(null===(o=i.currentUser)||void 0===o?void 0:o.uid)||null,!i._deleted&&(i._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return _(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return _(function*(){var i;const r=yield t.assertedPersistence.getCurrentUser();let o=r,s=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const a=null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId,c=o?._redirectEventId,l=yield t.tryRedirectSignIn(e);(!a||a===c)&&l?.user&&(o=l.user,s=!0)}if(!o)return t.directlySetCurrentUser(null);if(!o._redirectEventId){if(s)try{yield t.beforeStateQueue.runMiddleware(o)}catch(a){o=r,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(a))}return o?t.reloadAndSetCurrentUserOrClear(o):t.directlySetCurrentUser(null)}return re(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===o._redirectEventId?t.directlySetCurrentUser(o):t.reloadAndSetCurrentUserOrClear(o)})()}tryRedirectSignIn(e){var t=this;return _(function*(){let i=null;try{i=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return i})()}reloadAndSetCurrentUserOrClear(e){var t=this;return _(function*(){try{yield rg(e)}catch(i){if("auth/network-request-failed"!==i?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function gwe(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return _(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return _(function*(){const i=e?zt(e):null;return i&&re(i.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(i&&i._clone(t))})()}_updateCurrentUser(e,t=!1){var i=this;return _(function*(){if(!i._deleted)return e&&re(i.tenantId===e.tenantId,i,"tenant-id-mismatch"),t||(yield i.beforeStateQueue.runMiddleware(e)),i.queue(_(function*(){yield i.directlySetCurrentUser(e),i.notifyAuthListeners()}))})()}signOut(){var e=this;return _(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue(_(function*(){yield t.assertedPersistence.setPersistence(ia(e))}))}initializeRecaptchaConfig(){var e=this;return _(function*(){const t=yield u$(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),i=new f$(t);null==e.tenantId?e._agentRecaptchaConfig=i:e._tenantRecaptchaConfigs[e.tenantId]=i,i.emailPasswordEnabled&&new g$(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ps("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var i=this;return _(function*(){const r=yield i.getOrInitRedirectPersistenceManager(t);return null===e?r.removeCurrentUser():r.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return _(function*(){if(!t.redirectPersistenceManager){const i=e&&ia(e)||t._popupRedirectResolver;re(i,t,"argument-error"),t.redirectPersistenceManager=yield Gd.create(t,[ia(i._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return _(function*(){var i,r;return t._isInitialized&&(yield t.queue(_(function*(){}))),(null===(i=t._currentUser)||void 0===i?void 0:i._redirectEventId)===e?t._currentUser:(null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return _(function*(){if(e===t.currentUser)return t.queue(_(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};const o="function"==typeof t?t:t.next.bind(t),s=this._isInitialized?Promise.resolve():this._initializationPromise;return re(s,this,"internal-error"),s.then(()=>o(this.currentUser)),"function"==typeof t?e.addObserver(t,i,r):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return _(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=l$(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return _(function*(){var t;const i={"X-Client-Version":e.clientVersion};e.app.options.appId&&(i["X-Firebase-gmpid"]=e.app.options.appId);const r=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();r&&(i["X-Firebase-Client"]=r);const o=yield e._getAppCheckToken();return o&&(i["X-Firebase-AppCheck"]=o),i})()}_getAppCheckToken(){var e=this;return _(function*(){var t;const i=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return i?.error&&function fwe(n,...e){Sv.logLevel<=gt.WARN&&Sv.warn(`Auth (${Wa}): ${n}`,...e)}(`Error while retrieving App Check token: ${i.error}`),i?.token})()}}function Ci(n){return zt(n)}class m${constructor(e){this.auth=e,this.observer=null,this.addObserver=function Gme(n,e){const t=new qme(n,e);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function _$(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function b$(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}class sg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ys("not implemented")}_getIdTokenResponse(e){return ys("not implemented")}_linkToIdToken(e,t){return ys("not implemented")}_getReauthenticationResolver(e){return ys("not implemented")}}function v$(n,e){return qS.apply(this,arguments)}function qS(){return(qS=_(function*(n,e){return Pn(n,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function KS(n,e){return QS.apply(this,arguments)}function QS(){return(QS=_(function*(n,e){return ta(n,"POST","/v1/accounts:signInWithPassword",En(n,e))})).apply(this,arguments)}function iA(){return(iA=_(function*(n,e){return ta(n,"POST","/v1/accounts:signInWithEmailLink",En(n,e))})).apply(this,arguments)}function rA(){return(rA=_(function*(n,e){return ta(n,"POST","/v1/accounts:signInWithEmailLink",En(n,e))})).apply(this,arguments)}class ag extends sg{constructor(e,t,i,r=null){super("password",i),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new ag(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new ag(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if(t?.email&&t?.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){var t=this;return _(function*(){var i;switch(t.signInMethod){case"password":const r={returnSecureToken:!0,email:t._email,password:t._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(i=e._getRecaptchaConfig())&&void 0!==i&&i.emailPasswordEnabled){const o=yield Za(e,r,"signInWithPassword");return KS(e,o)}return KS(e,r).catch(function(){var o=_(function*(s){if("auth/missing-recaptcha-token"===s.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const a=yield Za(e,r,"signInWithPassword");return KS(e,a)}return Promise.reject(s)});return function(s){return o.apply(this,arguments)}}());case"emailLink":return function Kwe(n,e){return iA.apply(this,arguments)}(e,{email:t._email,oobCode:t._password});default:Nr(e,"internal-error")}})()}_linkToIdToken(e,t){var i=this;return _(function*(){switch(i.signInMethod){case"password":return v$(e,{idToken:t,returnSecureToken:!0,email:i._email,password:i._password});case"emailLink":return function Qwe(n,e){return rA.apply(this,arguments)}(e,{idToken:t,email:i._email,oobCode:i._password});default:Nr(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function ra(n,e){return oA.apply(this,arguments)}function oA(){return(oA=_(function*(n,e){return ta(n,"POST","/v1/accounts:signInWithIdp",En(n,e))})).apply(this,arguments)}class ug{constructor(e){var t,i,r,o,s,a;const c=Bp(Up(e)),l=null!==(t=c.apiKey)&&void 0!==t?t:null,u=null!==(i=c.oobCode)&&void 0!==i?i:null,d=function nCe(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=c.mode)&&void 0!==r?r:null);re(l&&u&&d,"argument-error"),this.apiKey=l,this.operation=d,this.code=u,this.continueUrl=null!==(o=c.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(s=c.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=c.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function iCe(n){const e=Bp(Up(n)).link,t=e?Bp(Up(e)).deep_link_id:null,i=Bp(Up(n)).deep_link_id;return(i?Bp(Up(i)).link:null)||i||t||e||n}(e);try{return new ug(t)}catch{return null}}}let w$=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,i){return ag._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){const r=ug.parseLink(i);return re(r,"argument-error"),ag._fromEmailAndCode(t,r.code,r.tenantId)}}return n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink",n})();class oa{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class rCe extends oa{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}function Fv(n,e){return dA.apply(this,arguments)}function dA(){return(dA=_(function*(n,e){return ta(n,"POST","/v1/accounts:signUp",En(n,e))})).apply(this,arguments)}class po{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,i,r=!1){return _(function*(){const o=yield yl._fromIdTokenResponse(e,i,r),s=C$(i);return new po({user:o,providerId:s,_tokenResponse:i,operationType:t})})()}static _forOperation(e,t,i){return _(function*(){yield e._updateTokensIfNecessary(i,!0);const r=C$(i);return new po({user:e,providerId:r,_tokenResponse:i,operationType:t})})()}}function C$(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class Lv extends Kr{constructor(e,t,i,r){var o;super(t.code,t.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,Lv.prototype),this.customData={appName:e.name,tenantId:null!==(o=e.tenantId)&&void 0!==o?o:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,r){return new Lv(e,t,i,r)}}function x$(n,e,t,i){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw"auth/multi-factor-auth-required"===o.code?Lv._fromErrorAndOperation(n,o,e,i):o})}function gA(){return(gA=_(function*(n,e,t=!1){const i=yield na(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return po._forOperation(n,"link",i)})).apply(this,arguments)}function _A(){return(_A=_(function*(n,e,t=!1){const{auth:i}=n,r="reauthenticate";try{const o=yield na(n,x$(i,r,e,n),t);re(o.idToken,i,"internal-error");const s=kv(o.idToken);re(s,i,"internal-error");const{sub:a}=s;return re(n.uid===a,i,"user-mismatch"),po._forOperation(n,r,o)}catch(o){throw"auth/user-not-found"===o?.code&&Nr(i,"user-mismatch"),o}})).apply(this,arguments)}function T$(n,e){return bA.apply(this,arguments)}function bA(){return(bA=_(function*(n,e,t=!1){const i="signIn",r=yield x$(n,i,e),o=yield po._fromIdTokenResponse(n,i,r);return t||(yield n._updateCurrentUser(o.user)),o})).apply(this,arguments)}function vA(){return(vA=_(function*(n,e){return T$(Ci(n),e)})).apply(this,arguments)}function dCe(n,e,t){return OA.apply(this,arguments)}function OA(){return OA=_(function*(n,e,t){var i;const r=Ci(n),o={returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"};let s;if(null!==(i=r._getRecaptchaConfig())&&void 0!==i&&i.emailPasswordEnabled){const l=yield Za(r,o,"signUpPassword");s=Fv(r,l)}else s=Fv(r,o).catch(function(){var l=_(function*(u){if("auth/missing-recaptcha-token"===u.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const d=yield Za(r,o,"signUpPassword");return Fv(r,d)}return Promise.reject(u)});return function(u){return l.apply(this,arguments)}}());const a=yield s.catch(l=>Promise.reject(l)),c=yield po._fromIdTokenResponse(r,"signIn",a);return yield r._updateCurrentUser(c.user),c}),OA.apply(this,arguments)}function hCe(n,e,t){return function yA(n,e){return vA.apply(this,arguments)}(zt(n),w$.credential(e,t))}function CCe(n,e,t,i){return zt(n).onAuthStateChanged(e,t,i)}function xCe(n){return zt(n).signOut()}const Bv="__sak";class S${constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Bv,"1"),this.storage.removeItem(Bv),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const kCe=(()=>{class n extends S${constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function MCe(){const n=Gn();return US(n)||Pv(n)}()&&function Owe(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=c$(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),o=this.localCache[i];r!==o&&t(i,o,r)}}onStorageEvent(t,i=!1){if(!t.key)return void this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});const r=t.key;if(i?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(r);if(t.newValue!==a)null!==t.newValue?this.storage.setItem(r,t.newValue):this.storage.removeItem(r);else if(this.localCache[r]===t.newValue&&!i)return}const o=()=>{const a=this.storage.getItem(r);!i&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);!function kwe(){return function Lme(){const n=Gn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}()&&10===document.documentMode}()||s===t.newValue||t.newValue===t.oldValue?o():setTimeout(o,10)}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,i){var r=()=>super._set,o=this;return _(function*(){yield r().call(o,t,i),o.localCache[t]=JSON.stringify(i)})()}_get(t){var i=()=>super._get,r=this;return _(function*(){const o=yield i().call(r,t);return r.localCache[t]=JSON.stringify(o),o})()}_remove(t){var i=()=>super._remove,r=this;return _(function*(){yield i().call(r,t),delete r.localCache[t]})()}}return n.type="LOCAL",n})(),A$=(()=>{class n extends S${constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}return n.type="SESSION",n})();let PCe=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;const r=new n(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}handleEvent(t){var i=this;return _(function*(){const r=t,{eventId:o,eventType:s,data:a}=r.data,c=i.handlersMap[s];if(!c?.size)return;r.ports[0].postMessage({status:"ack",eventId:o,eventType:s});const l=Array.from(c).map(function(){var d=_(function*(h){return h(r.origin,a)});return function(h){return d.apply(this,arguments)}}()),u=yield function OCe(n){return Promise.all(n.map(function(){var e=_(function*(t){try{return{fulfilled:!0,value:yield t}}catch(i){return{fulfilled:!1,reason:i}}});return function(t){return e.apply(this,arguments)}}()))}(l);r.ports[0].postMessage({status:"done",eventId:o,eventType:s,response:u})})()}_subscribe(t,i){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function qA(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(10*Math.random());return n+t}class RCe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,i=50){var r=this;return _(function*(){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let s,a;return new Promise((c,l)=>{const u=qA("",20);o.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},i);a={messageChannel:o,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(f.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"))}}},r.handlers.add(a),o.port1.addEventListener("message",a.onMessage),r.target.postMessage({eventType:e,eventId:u,data:t},[o.port2])}).finally(()=>{a&&r.removeMessageHandler(a)})})()}}function ti(){return window}function WA(){return typeof ti().WorkerGlobalScope<"u"&&"function"==typeof ti().importScripts}function KA(){return(KA=_(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const k$="firebaseLocalStorageDb",Uv="firebaseLocalStorage",O$="fbase_key";class fg{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function jv(n,e){return n.transaction([Uv],e?"readwrite":"readonly").objectStore(Uv)}function QA(){const n=indexedDB.open(k$,1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Uv,{keyPath:O$})}catch(r){t(r)}}),n.addEventListener("success",_(function*(){const i=n.result;i.objectStoreNames.contains(Uv)?e(i):(i.close(),yield function UCe(){const n=indexedDB.deleteDatabase(k$);return new fg(n).toPromise()}(),e(yield QA()))}))})}function P$(n,e,t){return YA.apply(this,arguments)}function YA(){return(YA=_(function*(n,e,t){const i=jv(n,!0).put({[O$]:e,value:t});return new fg(i).toPromise()})).apply(this,arguments)}function XA(){return(XA=_(function*(n,e){const t=jv(n,!1).get(e),i=yield new fg(t).toPromise();return void 0===i?null:i.value})).apply(this,arguments)}function R$(n,e){const t=jv(n,!0).delete(e);return new fg(t).toPromise()}const HCe=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return _(function*(){return t.db||(t.db=yield QA()),t.db})()}_withRetries(t){var i=this;return _(function*(){let r=0;for(;;)try{const o=yield i._openDb();return yield t(o)}catch(o){if(r++>3)throw o;i.db&&(i.db.close(),i.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return _(function*(){return WA()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return _(function*(){t.receiver=PCe._getInstance(function VCe(){return WA()?self:null}()),t.receiver._subscribe("keyChanged",function(){var i=_(function*(r,o){return{keyProcessed:(yield t._poll()).includes(o.key)}});return function(r,o){return i.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var i=_(function*(r,o){return["keyChanged"]});return function(r,o){return i.apply(this,arguments)}}())})()}initializeSender(){var t=this;return _(function*(){var i,r;if(t.activeServiceWorker=yield function FCe(){return KA.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new RCe(t.activeServiceWorker);const o=yield t.sender._send("ping",{},800);o&&null!==(i=o[0])&&void 0!==i&&i.fulfilled&&null!==(r=o[0])&&void 0!==r&&r.value.includes("keyChanged")&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var i=this;return _(function*(){if(i.sender&&i.activeServiceWorker&&function LCe(){var n;return(null===(n=navigator?.serviceWorker)||void 0===n?void 0:n.controller)||null}()===i.activeServiceWorker)try{yield i.sender._send("keyChanged",{key:t},i.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return _(function*(){try{if(!indexedDB)return!1;const t=yield QA();return yield P$(t,Bv,"1"),yield R$(t,Bv),!0}catch{}return!1})()}_withPendingWrite(t){var i=this;return _(function*(){i.pendingWrites++;try{yield t()}finally{i.pendingWrites--}})()}_set(t,i){var r=this;return _(function*(){return r._withPendingWrite(_(function*(){return yield r._withRetries(o=>P$(o,t,i)),r.localCache[t]=i,r.notifyServiceWorker(t)}))})()}_get(t){var i=this;return _(function*(){const r=yield i._withRetries(o=>function jCe(n,e){return XA.apply(this,arguments)}(o,t));return i.localCache[t]=r,r})()}_remove(t){var i=this;return _(function*(){return i._withPendingWrite(_(function*(){return yield i._withRetries(r=>R$(r,t)),delete i.localCache[t],i.notifyServiceWorker(t)}))})()}_poll(){var t=this;return _(function*(){const i=yield t._withRetries(s=>{const a=jv(s,!1).getAll();return new fg(a).toPromise()});if(!i)return[];if(0!==t.pendingWrites)return[];const r=[],o=new Set;for(const{fbase_key:s,value:a}of i)o.add(s),JSON.stringify(t.localCache[s])!==JSON.stringify(a)&&(t.notifyListeners(s,a),r.push(s));for(const s of Object.keys(t.localCache))t.localCache[s]&&!o.has(s)&&(t.notifyListeners(s,null),r.push(s));return r})()}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(i)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval(_(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();p$("rcb"),new tg(3e4,6e4);class sk extends sg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ra(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ra(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ra(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function sxe(n){return T$(n.auth,new sk(n),n.bypassAuthState)}function axe(n){const{auth:e,user:t}=n;return re(t,e,"internal-error"),function I$(n,e){return _A.apply(this,arguments)}(t,new sk(n),n.bypassAuthState)}function cxe(n){return ak.apply(this,arguments)}function ak(){return(ak=_(function*(n){const{auth:e,user:t}=n;return re(t,e,"internal-error"),function pA(n,e){return gA.apply(this,arguments)}(t,new sk(n),n.bypassAuthState)})).apply(this,arguments)}class lxe{constructor(e,t,i,r,o=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=_(function*(i,r){e.pendingPromise={resolve:i,reject:r};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(o){e.reject(o)}});return function(i,r){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return _(function*(){const{urlResponse:i,sessionId:r,postBody:o,tenantId:s,error:a,type:c}=e;if(a)return void t.reject(a);const l={auth:t.auth,requestUri:i,sessionId:r,tenantId:s||void 0,postBody:o||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(c)(l))}catch(u){t.reject(u)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return sxe;case"linkViaPopup":case"linkViaRedirect":return cxe;case"reauthViaPopup":case"reauthViaRedirect":return axe;default:Nr(this.auth,"internal-error")}}resolve(e){Ya(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ya(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new tg(2e3,1e4);const uxe="pendingRedirect",pg=new Map;class dxe extends lxe{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}execute(){var e=()=>super.execute,t=this;return _(function*(){let i=pg.get(t.auth._key());if(!i){try{const o=(yield function hxe(n,e){return hk.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;i=()=>Promise.resolve(o)}catch(r){i=()=>Promise.reject(r)}pg.set(t.auth._key(),i)}return t.bypassAuthState||pg.set(t.auth._key(),()=>Promise.resolve(null)),i()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,i=this;return _(function*(){if("signInViaRedirect"===e.type)return t().call(i,e);if("unknown"!==e.type){if(e.eventId){const r=yield i.auth._redirectUserForId(e.eventId);if(r)return i.user=r,t().call(i,e);i.resolve(null)}}else i.resolve(null)})()}onExecution(){return _(function*(){})()}cleanUp(){}}function hk(){return(hk=_(function*(n,e){const t=function L$(n){return Ov(uxe,n.config.apiKey,n.name)}(e),i=function F$(n){return ia(n._redirectPersistence)}(n);if(!(yield i._isAvailable()))return!1;const r="true"===(yield i._get(t));return yield i._remove(t),r})).apply(this,arguments)}function fxe(n,e){pg.set(n._key(),e)}function V$(n,e){return yk.apply(this,arguments)}function yk(){return(yk=_(function*(n,e,t=!1){const i=Ci(n),r=function wl(n,e){return e?ia(e):(re(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}(i,e),s=yield new dxe(i,r,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield i._persistUserIfCurrent(s.user),yield i._setRedirectUser(null,e)),s})).apply(this,arguments)}class bxe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function yxe(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return j$(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!j$(e)){const r=(null===(i=e.error.code)||void 0===i?void 0:i.split("auth/")[1])||"internal-error";t.onError(bs(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(U$(e))}saveEventToCache(e){this.cachedEventUids.add(U$(e)),this.lastProcessedEventTime=Date.now()}}function U$(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function j$({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===e?.code}function wk(){return(wk=_(function*(n,e={}){return Pn(n,"GET","/v1/projects",e)})).apply(this,arguments)}const wxe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Cxe=/^https?/;function Ck(){return Ck=_(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield function vxe(n){return wk.apply(this,arguments)}(n);for(const t of e)try{if(Exe(t))return}catch{}Nr(n,"unauthorized-domain")}),Ck.apply(this,arguments)}function Exe(n){const e=eg(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const s=new URL(n);return""===s.hostname&&""===i?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&s.hostname===i}if(!Cxe.test(t))return!1;if(wxe.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}const Ixe=new tg(3e4,6e4);function z$(){const n=ti().___jsl;if(n?.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let $v=null;const Mxe=new tg(5e3,15e3),Sxe="__/auth/iframe",Axe="emulator/auth/iframe",kxe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Oxe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Pxe(n){const e=n.config;re(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?DS(e,Axe):`https://${n.config.authDomain}/${Sxe}`,i={apiKey:e.apiKey,appName:n.name,v:Wa},r=Oxe.get(n.config.apiHost);r&&(i.eid=r);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${t}?${Vd(i).slice(1)}`}function xk(){return xk=_(function*(n){const e=yield function Dxe(n){return $v=$v||function Txe(n){return new Promise((e,t)=>{var i,r,o;function s(){z$(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{z$(),t(bs(n,"network-request-failed"))},timeout:Ixe.get()})}if(null!==(r=null===(i=ti().gapi)||void 0===i?void 0:i.iframes)&&void 0!==r&&r.Iframe)e(gapi.iframes.getContext());else{if(null===(o=ti().gapi)||void 0===o||!o.load){const a=p$("iframefcb");return ti()[a]=()=>{gapi.load?s():t(bs(n,"network-request-failed"))},$S(`https://apis.google.com/js/api.js?onload=${a}`).catch(c=>t(c))}s()}}).catch(e=>{throw $v=null,e})}(n),$v}(n),t=ti().gapi;return re(t,n,"internal-error"),e.open({where:document.body,url:Pxe(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:kxe,dontclear:!0},i=>new Promise(function(){var r=_(function*(o,s){yield i.restyle({setHideOnLeave:!1});const a=bs(n,"network-request-failed"),c=ti().setTimeout(()=>{s(a)},Mxe.get());function l(){ti().clearTimeout(c),o(i)}i.ping(l).then(l,()=>{s(a)})});return function(o,s){return r.apply(this,arguments)}}()))}),xk.apply(this,arguments)}const Nxe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class $${constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const zxe="__/auth/handler",$xe="emulator/auth/handler",Hxe=encodeURIComponent("fac");function H$(n,e,t,i,r,o){return Ek.apply(this,arguments)}function Ek(){return(Ek=_(function*(n,e,t,i,r,o){re(n.config.authDomain,n,"auth-domain-config-required"),re(n.config.apiKey,n,"invalid-api-key");const s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Wa,eventId:r};if(e instanceof oa){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",qT(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries(o||{}))s[u]=d}if(e instanceof rCe){const u=e.getScopes().filter(d=>""!==d);u.length>0&&(s.scopes=u.join(","))}n.tenantId&&(s.tid=n.tenantId);const a=s;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const c=yield n._getAppCheckToken(),l=c?`#${Hxe}=${encodeURIComponent(c)}`:"";return`${function Gxe({config:n}){return n.emulator?DS(n,$xe):`https://${n.authDomain}/${zxe}`}(n)}?${Vd(a).slice(1)}${l}`})).apply(this,arguments)}const Ik="webStorageSupport",Wxe=class qxe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=A$,this._completeRedirectFn=V$,this._overrideRedirectResult=fxe}_openPopup(e,t,i,r){var o=this;return _(function*(){var s;Ya(null===(s=o.eventManagers[e._key()])||void 0===s?void 0:s.manager,"_initialize() not called before _openPopup()");const a=yield H$(e,t,i,eg(),r);return function Uxe(n,e,t,i=500,r=600){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),s=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const c=Object.assign(Object.assign({},Nxe),{width:i.toString(),height:r.toString(),top:o,left:s}),l=Gn().toLowerCase();t&&(a=i$(l)?"_blank":t),n$(l)&&(e=e||"http://localhost",c.scrollbars="yes");const u=Object.entries(c).reduce((h,[f,b])=>`${h}${f}=${b},`,"");if(function Awe(n=Gn()){var e;return Pv(n)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(l)&&"_self"!==a)return function jxe(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}(e||"",a),new $$(null);const d=window.open(e||"",a,u);re(d,n,"popup-blocked");try{d.focus()}catch{}return new $$(d)}(e,a,qA())})()}_openRedirect(e,t,i,r){var o=this;return _(function*(){return yield o._originValidation(e),function NCe(n){ti().location.href=n}(yield H$(e,t,i,eg(),r)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:r,promise:o}=this.eventManagers[t];return r?Promise.resolve(r):(Ya(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}initAndGetManager(e){var t=this;return _(function*(){const i=yield function Rxe(n){return xk.apply(this,arguments)}(e),r=new bxe(e);return i.register("authEvent",o=>(re(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:r},t.iframes[e._key()]=i,r})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Ik,{type:Ik},r=>{var o;const s=null===(o=r?.[0])||void 0===o?void 0:o[Ik];void 0!==s&&t(!!s),Nr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function xxe(n){return Ck.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return c$()||US()||Pv()}};var K$="@firebase/auth";class Kxe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return _(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Zxe=e9("authIdTokenMaxAge")||300;let Y$=null;const Jxe=n=>function(){var e=_(function*(t){const i=t&&(yield t.getIdTokenResult()),r=i&&((new Date).getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>Zxe)return;const o=i?.token;Y$!==o&&(Y$=o,yield fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))});return function(t){return e.apply(this,arguments)}}();function eEe(n=zp()){const e=qa(n,"auth");if(e.isInitialized())return e.getImmediate();const t=function Uwe(n,e){const t=qa(n,"auth");if(t.isInitialized()){const r=t.getImmediate();if(lv(t.getOptions(),e??{}))return r;Nr(r,"already-initialized")}return t.initialize({options:e})}(n,{popupRedirectResolver:Wxe,persistence:[HCe,kCe,A$]}),i=e9("authTokenSyncURL");if(i){const o=Jxe(i);(function wCe(n,e,t){zt(n).beforeAuthStateChanged(e,t)})(t,o,()=>o(t.currentUser)),function vCe(n,e,t,i){zt(n).onIdTokenChanged(e,t,i)}(t,s=>o(s))}const r=Z6("auth");return r&&function zwe(n,e,t){const i=Ci(n);re(i._canInitEmulator,i,"emulator-config-failed"),re(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!!t?.disableWarnings,o=_$(e),{host:s,port:a}=function $we(n){const e=_$(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const o=r[1];return{host:o,port:b$(i.substr(o.length+1))}}{const[o,s]=i.split(":");return{host:o,port:b$(s)}}}(e);i.config.emulator={url:`${o}//${s}${null===a?"":`:${a}`}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||function Hwe(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(t,`http://${r}`),t}!function Yxe(n){Li(new yi("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=i.options;re(s&&!s.includes(":"),"invalid-api-key",{appName:i.name});const c={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:l$(n)},l=new Bwe(i,r,o,c);return function jwe(n,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(ia);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Li(new yi("auth-internal",e=>{const t=Ci(e.getProvider("auth").getImmediate());return new Kxe(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Bt(K$,"0.23.2",function Qxe(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),Bt(K$,"0.23.2","esm2017")}("Browser");class Ge{constructor(e){return e}}class Gv{constructor(){return Kp("auth")}}const Dk=new X("angularfire2.auth-instances");function nEe(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new Ge(i)}}const iEe={provide:Gv,deps:[[new Yt,Dk]]},rEe={provide:Ge,useFactory:function tEe(n,e){const t=Wp("auth",n,e);return t&&new Ge(t)},deps:[[new Yt,Dk],Qa]};let oEe=(()=>{class n{constructor(){Bt("angularfire",jd.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ze({type:n}),n.\u0275inj=Xe({providers:[rEe,iEe]}),n})();function sEe(n,...e){return{ngModule:oEe,providers:[{provide:Dk,useFactory:nEe(n),multi:!0,deps:[Ee,Ut,Qp,Yp,[new Yt,Jp],...e]}]}}const aEe=wi(dCe,!0),vs=wi(eEe,!0),sa=wi(CCe,!0),cEe=wi(hCe,!0),Ui=wi(xCe,!0);let Z$=(()=>{class n{constructor(t,i){this.auth=t,this.router=i,this.title="gestion-muestras"}Login(){this.router.navigate(["/auth/login"])}handleSignOut(){Ui(this.auth).then(()=>{}).catch(t=>{console.log("here")})}Home(){this.router.navigate(["auth/select"])}static#e=this.\u0275fac=function(i){return new(i||n)(E(Ge),E(Me))};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-auth"]],decls:11,vars:0,consts:[[1,"navbar"],[1,"tituloBox"],[1,"tituloText"],[1,"logoCiens"],[1,"logoUcv"],[1,"homeBox",3,"click"],[1,"homeText"],[1,"homeLogo"]],template:function(i,r){1&i&&(g(0,"div",0)(1,"div",1)(2,"span",2),w(3,"Gestion de Muestras"),p()(),te(4,"div",3)(5,"div",4),g(6,"div",5),Q("click",function(){return r.Home()}),g(7,"span",6),w(8,"Home"),p(),te(9,"div",7),p()(),te(10,"router-outlet"))},dependencies:[Sd],styles:[".main[_ngcontent-%COMP%]{display:flex;height:100vh;justify-content:center;align-items:center;flex-direction:column}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}.homeBox[_ngcontent-%COMP%]{background-color:#3ec28f;border-right:4px solid white;width:20%;height:10%;position:absolute;cursor:pointer;left:0;top:0%;text-align:center}.homeText[_ngcontent-%COMP%]{color:#fff;display:inline-block;vertical-align:middle;line-height:250%;font-family:Verdana;font-size:40px;letter-spacing:0}.tituloBox[_ngcontent-%COMP%]{background-color:#3ec28f;width:80%;height:10%;position:absolute;left:20%;top:0%;text-align:center}.tituloText[_ngcontent-%COMP%]{color:#fff;display:inline-block;vertical-align:middle;line-height:250%;font-family:Verdana;font-size:40px;letter-spacing:0}.logoCiens[_ngcontent-%COMP%]{width:100px;height:69px;position:absolute;left:90%;top:1.5%;background-image:url(Logo-Agronomia2.2ed90bcafa53fa56.png);background-repeat:no-repeat;background-size:cover}.logoUcv[_ngcontent-%COMP%]{width:69px;height:69px;position:absolute;left:22%;top:1.5%;background-image:url(logo_ucv_bg2_1.32a61806277cba42.png);background-repeat:no-repeat;background-size:cover}@media only screen and (max-width: 768px){.homeBox[_ngcontent-%COMP%]{background-color:#3ec28f;border-right:4px solid white;width:20%;height:15%;position:absolute;left:0;top:0%}.homeText[_ngcontent-%COMP%]{display:none}.homeLogo[_ngcontent-%COMP%]{position:relative;top:30%;left:25%;width:36px;height:36px;text-align:center;background-image:url(home.a5ce65d54c28e165.png);background-repeat:no-repeat;background-size:cover}.tituloBox[_ngcontent-%COMP%]{background-color:#3ec28f;width:80%;height:15%;position:absolute;left:20%;top:0%;text-align:center}.tituloText[_ngcontent-%COMP%]{color:#fff;line-height:1.6;display:inline-block;vertical-align:middle;font-family:Verdana;font-size:32px;letter-spacing:0px}.logoCiens[_ngcontent-%COMP%]{width:45px;height:35px;position:absolute;left:84%;top:5%;background-image:url(Logo-Agronomia2.2ed90bcafa53fa56.png);background-repeat:no-repeat;background-size:cover}.logoUcv[_ngcontent-%COMP%]{width:35px;height:35px;position:absolute;left:24%;top:5%;background-image:url(logo_ucv_bg2_1.32a61806277cba42.png);background-repeat:no-repeat;background-size:cover}}"]})}return n})();var ue,lEe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Vo={},Mk=Mk||{},je=lEe||self;function qv(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function gg(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Sk="closure_uid_"+(1e9*Math.random()>>>0),dEe=0;function hEe(n,e,t){return n.call.apply(n.bind,arguments)}function fEe(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function tr(n,e,t){return(tr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?hEe:fEe).apply(null,arguments)}function Wv(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function xi(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(i,r,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[r].apply(i,s)}}function Ja(){this.s=this.s,this.o=this.o}Ja.prototype.s=!1,Ja.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function uEe(n){Object.prototype.hasOwnProperty.call(n,Sk)&&n[Sk]||(n[Sk]=++dEe)}(this)},Ja.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const J$=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function Ak(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function eH(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(qv(i)){const r=n.length||0,o=i.length||0;n.length=r+o;for(let s=0;s<o;s++)n[r+s]=i[s]}else n.push(i)}}function nr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}nr.prototype.h=function(){this.defaultPrevented=!0};var gEe=function(){if(!je.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{je.addEventListener("test",()=>{},e),je.removeEventListener("test",()=>{},e)}catch{}return n}();function mg(n){return/^[\s\xa0]*$/.test(n)}function Kv(){var n=je.navigator;return n&&(n=n.userAgent)?n:""}function ws(n){return-1!=Kv().indexOf(n)}function kk(n){return kk[" "](n),n}kk[" "]=function(){};var Pk,n,_Ee=ws("Opera"),Kd=ws("Trident")||ws("MSIE"),tH=ws("Edge"),Ok=tH||Kd,nH=ws("Gecko")&&!(-1!=Kv().toLowerCase().indexOf("webkit")&&!ws("Edge"))&&!(ws("Trident")||ws("MSIE"))&&!ws("Edge"),bEe=-1!=Kv().toLowerCase().indexOf("webkit")&&!ws("Edge");function iH(){var n=je.document;return n?n.documentMode:void 0}e:{var Rk="",Nk=(n=Kv(),nH?/rv:([^\);]+)(\)|;)/.exec(n):tH?/Edge\/([\d\.]+)/.exec(n):Kd?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):bEe?/WebKit\/(\S+)/.exec(n):_Ee?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Nk&&(Rk=Nk?Nk[1]:""),Kd){var Fk=iH();if(null!=Fk&&Fk>parseFloat(Rk)){Pk=String(Fk);break e}}Pk=Rk}var yEe=je.document&&Kd&&(iH()||parseInt(Pk,10))||void 0;function _g(n,e){if(nr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(nH){e:{try{kk(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:vEe[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&_g.$.h.call(this)}}xi(_g,nr);var vEe={2:"touch",3:"pen",4:"mouse"};_g.prototype.h=function(){_g.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var bg="closure_listenable_"+(1e6*Math.random()|0),wEe=0;function CEe(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.la=r,this.key=++wEe,this.fa=this.ia=!1}function Qv(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function Vk(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function oH(n){const e={};for(const t in n)e[t]=n[t];return e}const sH="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function aH(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let o=0;o<sH.length;o++)t=sH[o],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function Yv(n){this.src=n,this.g={},this.h=0}function Bk(n,e){var t=e.type;if(t in n.g){var o,i=n.g[t],r=J$(i,e);(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(Qv(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Uk(n,e,t,i){for(var r=0;r<n.length;++r){var o=n[r];if(!o.fa&&o.listener==e&&o.capture==!!t&&o.la==i)return r}return-1}Yv.prototype.add=function(n,e,t,i,r){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var s=Uk(n,e,i,r);return-1<s?(e=n[s],t||(e.ia=!1)):((e=new CEe(e,this.src,o,!!i,r)).ia=t,n.push(e)),e};var jk="closure_lm_"+(1e6*Math.random()|0),zk={};function cH(n,e,t,i,r){if(i&&i.once)return uH(n,e,t,i,r);if(Array.isArray(e)){for(var o=0;o<e.length;o++)cH(n,e[o],t,i,r);return null}return t=qk(t),n&&n[bg]?n.O(e,t,gg(i)?!!i.capture:!!i,r):lH(n,e,t,!1,i,r)}function lH(n,e,t,i,r,o){if(!e)throw Error("Invalid event type");var s=gg(r)?!!r.capture:!!r,a=Hk(n);if(a||(n[jk]=a=new Yv(n)),(t=a.add(e,t,i,s,o)).proxy)return t;if(i=function EEe(){const e=IEe;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)gEe||(r=s),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(hH(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function uH(n,e,t,i,r){if(Array.isArray(e)){for(var o=0;o<e.length;o++)uH(n,e[o],t,i,r);return null}return t=qk(t),n&&n[bg]?n.P(e,t,gg(i)?!!i.capture:!!i,r):lH(n,e,t,!0,i,r)}function dH(n,e,t,i,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)dH(n,e[o],t,i,r);else i=gg(i)?!!i.capture:!!i,t=qk(t),n&&n[bg]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Uk(o=n.g[e],t,i,r))&&(Qv(o[t]),Array.prototype.splice.call(o,t,1),0==o.length&&(delete n.g[e],n.h--))):n&&(n=Hk(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Uk(e,t,i,r)),(t=-1<n?e[n]:null)&&$k(t))}function $k(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[bg])Bk(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(hH(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=Hk(e))?(Bk(t,n),0==t.h&&(t.src=null,e[jk]=null)):Qv(n)}}}function hH(n){return n in zk?zk[n]:zk[n]="on"+n}function IEe(n,e){if(n.fa)n=!0;else{e=new _g(e,this);var t=n.listener,i=n.la||n.src;n.ia&&$k(n),n=t.call(i,e)}return n}function Hk(n){return(n=n[jk])instanceof Yv?n:null}var Gk="__closure_events_fn_"+(1e9*Math.random()>>>0);function qk(n){return"function"==typeof n?n:(n[Gk]||(n[Gk]=function(e){return n.handleEvent(e)}),n[Gk])}function Ei(){Ja.call(this),this.i=new Yv(this),this.S=this,this.J=null}function ji(n,e){var t,i=n.J;if(i)for(t=[];i;i=i.J)t.push(i);if(n=n.S,i=e.type||e,"string"==typeof e)e=new nr(e,n);else if(e instanceof nr)e.target=e.target||n;else{var r=e;aH(e=new nr(i,n),r)}if(r=!0,t)for(var o=t.length-1;0<=o;o--){var s=e.g=t[o];r=Xv(s,i,!0,e)&&r}if(r=Xv(s=e.g=n,i,!0,e)&&r,r=Xv(s,i,!1,e)&&r,t)for(o=0;o<t.length;o++)r=Xv(s=e.g=t[o],i,!1,e)&&r}function Xv(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==t){var a=s.listener,c=s.la||s.src;s.ia&&Bk(n.i,s),r=!1!==a.call(c,i)&&r}}return r&&!i.defaultPrevented}xi(Ei,Ja),Ei.prototype[bg]=!0,Ei.prototype.removeEventListener=function(n,e,t,i){dH(this,n,e,t,i)},Ei.prototype.N=function(){if(Ei.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)Qv(t[i]);delete n.g[e],n.h--}}this.J=null},Ei.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},Ei.prototype.P=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var Wk=je.JSON.stringify;function DEe(){var n=Kk;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var fH=new class TEe{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new SEe,n=>n.reset());class SEe{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function AEe(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function kEe(n){je.setTimeout(()=>{throw n},0)}let yg,vg=!1,Kk=new class MEe{constructor(){this.h=this.g=null}add(e,t){const i=fH.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}},pH=()=>{const n=je.Promise.resolve(void 0);yg=()=>{n.then(OEe)}};var OEe=()=>{for(var n;n=DEe();){try{n.h.call(n.g)}catch(t){kEe(t)}var e=fH;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}vg=!1};function Zv(n,e){Ei.call(this),this.h=n||1,this.g=e||je,this.j=tr(this.qb,this),this.l=Date.now()}function Qk(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function Yk(n,e,t){if("function"==typeof n)t&&(n=tr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=tr(n.handleEvent,n)}return 2147483647<Number(e)?-1:je.setTimeout(n,e||0)}function gH(n){n.g=Yk(()=>{n.g=null,n.i&&(n.i=!1,gH(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}xi(Zv,Ei),(ue=Zv.prototype).ga=!1,ue.T=null,ue.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ji(this,"tick"),this.ga&&(Qk(this),this.start()))}},ue.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ue.N=function(){Zv.$.N.call(this),Qk(this),delete this.g};class PEe extends Ja{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:gH(this)}N(){super.N(),this.g&&(je.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wg(n){Ja.call(this),this.h=n,this.g={}}xi(wg,Ja);var mH=[];function _H(n,e,t,i){Array.isArray(t)||(t&&(mH[0]=t.toString()),t=mH);for(var r=0;r<t.length;r++){var o=cH(e,t[r],i||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function bH(n){Vk(n.g,function(e,t){this.g.hasOwnProperty(t)&&$k(e)},n),n.g={}}function Jv(){this.g=!0}function Qd(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function LEe(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<r.length;s++)r[s]=""}}}return Wk(t)}catch{return e}}(n,t)+(i?" "+i:"")})}wg.prototype.N=function(){wg.$.N.call(this),bH(this)},wg.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Jv.prototype.Ea=function(){this.g=!1},Jv.prototype.info=function(){};var Cl={},yH=null;function e0(){return yH=yH||new Ei}function vH(n){nr.call(this,Cl.Ta,n)}function Cg(n){const e=e0();ji(e,new vH(e))}function wH(n,e){nr.call(this,Cl.STAT_EVENT,n),this.stat=e}function br(n){const e=e0();ji(e,new wH(e,n))}function CH(n,e){nr.call(this,Cl.Ua,n),this.size=e}function xg(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return je.setTimeout(function(){n()},e)}Cl.Ta="serverreachability",xi(vH,nr),Cl.STAT_EVENT="statevent",xi(wH,nr),Cl.Ua="timingevent",xi(CH,nr);var t0={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},xH={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Xk(){}function IH(){}Xk.prototype.h=null;var eO,Eg={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Zk(){nr.call(this,"d")}function Jk(){nr.call(this,"c")}function n0(){}function Ig(n,e,t,i){this.l=n,this.j=e,this.m=t,this.W=i||1,this.U=new wg(this),this.P=VEe,this.V=new Zv(n=Ok?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new TH}function TH(){this.i=null,this.g="",this.h=!1}xi(Zk,nr),xi(Jk,nr),xi(n0,Xk),n0.prototype.g=function(){return new XMLHttpRequest},n0.prototype.i=function(){return{}},eO=new n0;var VEe=45e3,tO={},r0={};function nO(n,e,t){n.L=1,n.v=c0(aa(e)),n.s=t,n.S=!0,DH(n,null)}function DH(n,e){n.G=Date.now(),Tg(n),n.A=aa(n.v);var t=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),LH(t.i,"t",i),n.C=0,t=n.l.J,n.h=new TH,n.g=a7(n.l,t?e:null,!n.s),0<n.O&&(n.M=new PEe(tr(n.Pa,n,n.g),n.O)),_H(n.U,n.g,"readystatechange",n.nb),e=n.I?oH(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),Cg(),function REe(n,e,t,i,r,o){n.info(function(){if(n.g)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var d=u.split("_");s=2<=d.length&&"type"==d[1]?s+(u+"=")+l+"&":s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+s})}(n.j,n.u,n.A,n.m,n.W,n.s)}function MH(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function SH(n,e,t){let r,i=!0;for(;!n.J&&n.C<t.length;){if(r=BEe(n,t),r==r0){4==e&&(n.o=4,br(14),i=!1),Qd(n.j,n.m,null,"[Incomplete Response]");break}if(r==tO){n.o=4,br(15),Qd(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}Qd(n.j,n.m,r,null),iO(n,r)}MH(n)&&r!=r0&&r!=tO&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,br(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),uO(e),e.M=!0,br(11))):(Qd(n.j,n.m,t,"[Invalid Chunked Response]"),xl(n),Dg(n))}function BEe(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?r0:(t=Number(e.substring(t,i)),isNaN(t)?tO:(i+=1)+t>e.length?r0:(e=e.slice(i,i+t),n.C=i+t,e))}function Tg(n){n.Y=Date.now()+n.P,AH(n,n.P)}function AH(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=xg(tr(n.lb,n),e)}function o0(n){n.B&&(je.clearTimeout(n.B),n.B=null)}function Dg(n){0==n.l.H||n.J||i7(n.l,n)}function xl(n){o0(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,Qk(n.V),bH(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function iO(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||rO(t.i,n)))if(!n.K&&rO(t.i,n)&&3==t.H){try{var i=t.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;p0(t),h0(t)}lO(t),br(18)}}else t.Fa=r[1],0<t.Fa-t.V&&37500>r[2]&&t.G&&0==t.A&&!t.v&&(t.v=xg(tr(t.ib,t),6e3));if(1>=UH(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Il(t,11)}else if((n.K||t.g==n)&&p0(t),!mg(e))for(r=t.Ja.g.parse(e),e=0;e<r.length;e++){let l=r[e];if(t.V=l[0],l=l[1],2==t.H)if("c"==l[0]){t.K=l[1],t.pa=l[2];const u=l[3];null!=u&&(t.ra=u,t.l.info("VER="+t.ra));const d=l[4];null!=d&&(t.Ga=d,t.l.info("SVER="+t.Ga));const h=l[5];null!=h&&"number"==typeof h&&0<h&&(t.L=i=1.5*h,t.l.info("backChannelRequestTimeoutMs_="+i)),i=t;const f=n.g;if(f){const b=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(b){var o=i.i;o.g||-1==b.indexOf("spdy")&&-1==b.indexOf("quic")&&-1==b.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(oO(o,o.h),o.h=null))}if(i.F){const x=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;x&&(i.Da=x,an(i.I,i.F,x))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var s=n;if((i=t).wa=s7(i,i.J?i.pa:null,i.Y),s.K){jH(i.i,s);var a=s,c=i.L;c&&a.setTimeout(c),a.B&&(o0(a),Tg(a)),i.g=s}else t7(i);0<t.j.length&&f0(t)}else"stop"!=l[0]&&"close"!=l[0]||Il(t,7);else 3==t.H&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?Il(t,7):cO(t):"noop"!=l[0]&&t.h&&t.h.Aa(l),t.A=0)}Cg()}catch{}}function kH(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(qv(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function jEe(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(qv(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function UEe(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(qv(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length,o=0;o<r;o++)e.call(void 0,i[o],t&&t[o],n)}(ue=Ig.prototype).setTimeout=function(n){this.P=n},ue.nb=function(n){n=n.target;const e=this.M;e&&3==Cs(n)?e.l():this.Pa(n)},ue.Pa=function(n){try{if(n==this.g)e:{const u=Cs(this.g);var e=this.g.Ia();if(this.g.da(),!(3>u)&&(3!=u||Ok||this.g&&(this.h.h||this.g.ja()||QH(this.g)))){this.J||4!=u||7==e||Cg(),o0(this);var t=this.g.da();this.ca=t;t:if(MH(this)){var i=QH(this.g);n="";var r=i.length,o=4==Cs(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){xl(this),Dg(this);var s="";break t}this.h.i=new je.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:o&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==t,function NEe(n,e,t,i,r,o,s){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+o+" "+s})}(this.j,this.u,this.A,this.m,this.W,u,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!mg(a)){var l=a;break t}}l=null}if(!(t=l)){this.i=!1,this.o=3,br(12),xl(this),Dg(this);break e}Qd(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,iO(this,t)}this.S?(SH(this,u,s),Ok&&this.i&&3==u&&(_H(this.U,this.V,"tick",this.mb),this.V.start())):(Qd(this.j,this.m,s,null),iO(this,s)),4==u&&xl(this),this.i&&!this.J&&(4==u?i7(this.l,this):(this.i=!1,Tg(this)))}else(function o1e(n){const e={};n=(n.g&&2<=Cs(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(mg(n[i]))continue;var t=AEe(n[i]);const r=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const o=e[r]||[];e[r]=o,o.push(t)}!function xEe(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(i){return i.join(", ")})})(this.g),400==t&&0<s.indexOf("Unknown SID")?(this.o=3,br(12)):(this.o=0,br(13)),xl(this),Dg(this)}}}catch{}},ue.mb=function(){if(this.g){var n=Cs(this.g),e=this.g.ja();this.C<e.length&&(o0(this),SH(this,n,e),this.i&&4!=n&&Tg(this))}},ue.cancel=function(){this.J=!0,xl(this)},ue.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function FEe(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Cg(),br(17)),xl(this),this.o=2,Dg(this)):AH(this,this.Y-n)};var OH=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function El(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof El){this.h=n.h,s0(this,n.j),this.s=n.s,this.g=n.g,a0(this,n.m),this.l=n.l;var e=n.i,t=new Ag;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),PH(this,t),this.o=n.o}else n&&(e=String(n).match(OH))?(this.h=!1,s0(this,e[1]||"",!0),this.s=Mg(e[2]||""),this.g=Mg(e[3]||"",!0),a0(this,e[4]),this.l=Mg(e[5]||"",!0),PH(this,e[6]||"",!0),this.o=Mg(e[7]||"")):(this.h=!1,this.i=new Ag(null,this.h))}function aa(n){return new El(n)}function s0(n,e,t){n.j=t?Mg(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function a0(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function PH(n,e,t){e instanceof Ag?(n.i=e,function KEe(n,e){e&&!n.j&&(ec(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(NH(this,i),LH(this,r,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Sg(e,qEe)),n.i=new Ag(e,n.h))}function an(n,e,t){n.i.set(e,t)}function c0(n){return an(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Mg(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Sg(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,$Ee),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function $Ee(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}El.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Sg(e,RH,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Sg(e,RH,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Sg(t,"/"==t.charAt(0)?GEe:HEe,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Sg(t,WEe)),n.join("")};var RH=/[#\/\?@]/g,HEe=/[#\?:]/g,GEe=/[#\?]/g,qEe=/[#\?@]/g,WEe=/#/g;function Ag(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function ec(n){n.g||(n.g=new Map,n.h=0,n.i&&function zEe(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var o=n[t].substring(0,i);r=n[t].substring(i+1)}else o=n[t];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function NH(n,e){ec(n),e=Yd(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function FH(n,e){return ec(n),e=Yd(n,e),n.g.has(e)}function LH(n,e,t){NH(n,e),0<t.length&&(n.i=null,n.g.set(Yd(n,e),Ak(t)),n.h+=t.length)}function Yd(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}(ue=Ag.prototype).add=function(n,e){ec(this),this.i=null,n=Yd(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},ue.forEach=function(n,e){ec(this),this.g.forEach(function(t,i){t.forEach(function(r){n.call(e,r,i,this)},this)},this)},ue.ta=function(){ec(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const r=n[i];for(let o=0;o<r.length;o++)t.push(e[i])}return t},ue.Z=function(n){ec(this);let e=[];if("string"==typeof n)FH(this,n)&&(e=e.concat(this.g.get(Yd(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},ue.set=function(n,e){return ec(this),this.i=null,FH(this,n=Yd(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},ue.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},ue.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const o=encodeURIComponent(String(i)),s=this.Z(i);for(i=0;i<s.length;i++){var r=o;""!==s[i]&&(r+="="+encodeURIComponent(String(s[i]))),n.push(r)}}return this.i=n.join("&")};var QEe=class{constructor(n,e){this.g=n,this.map=e}};function VH(n){this.l=n||YEe,n=je.PerformanceNavigationTiming?0<(n=je.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(je.g&&je.g.Ka&&je.g.Ka()&&je.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var YEe=10;function BH(n){return!!n.h||!!n.g&&n.g.size>=n.j}function UH(n){return n.h?1:n.g?n.g.size:0}function rO(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function oO(n,e){n.g?n.g.add(e):n.h=e}function jH(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function zH(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return Ak(n.i)}VH.prototype.cancel=function(){if(this.i=zH(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var XEe=class{stringify(n){return je.JSON.stringify(n,void 0)}parse(n){return je.JSON.parse(n,void 0)}};function ZEe(){this.g=new XEe}function JEe(n,e,t){const i=t||"";try{kH(n,function(r,o){let s=r;gg(r)&&(s=Wk(r)),e.push(i+o+"="+encodeURIComponent(s))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function l0(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function kg(n){this.l=n.fc||null,this.j=n.ob||!1}function u0(n,e){Ei.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=sO,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}xi(kg,Xk),kg.prototype.g=function(){return new u0(this.l,this.j)},kg.prototype.i=function(n){return function(){return n}}({}),xi(u0,Ei);var sO=0;function $H(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Og(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Pg(n)}function Pg(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ue=u0.prototype).open=function(n,e){if(this.readyState!=sO)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Pg(this)},ue.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||je).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},ue.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Og(this)),this.readyState=sO},ue.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Pg(this)),this.g&&(this.readyState=3,Pg(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof je.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;$H(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},ue.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Og(this):Pg(this),3==this.readyState&&$H(this)}},ue.Za=function(n){this.g&&(this.response=this.responseText=n,Og(this))},ue.Ya=function(n){this.g&&(this.response=n,Og(this))},ue.ka=function(){this.g&&Og(this)},ue.setRequestHeader=function(n,e){this.v.append(n,e)},ue.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ue.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(u0.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var t1e=je.JSON.parse;function Rn(n){Ei.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=HH,this.L=this.M=!1}xi(Rn,Ei);var HH="",n1e=/^https?$/i,i1e=["POST","PUT"];function GH(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,qH(n),d0(n)}function qH(n){n.F||(n.F=!0,ji(n,"complete"),ji(n,"error"))}function WH(n){if(n.h&&typeof Mk<"u"&&(!n.C[1]||4!=Cs(n)||2!=n.da()))if(n.v&&4==Cs(n))Yk(n.La,0,n);else if(ji(n,"readystatechange"),4==Cs(n)){n.h=!1;try{const s=n.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===s){var r=String(n.I).match(OH)[1]||null;!r&&je.self&&je.self.location&&(r=je.self.location.protocol.slice(0,-1)),i=!n1e.test(r?r.toLowerCase():"")}t=i}if(t)ji(n,"complete"),ji(n,"success");else{n.m=6;try{var o=2<Cs(n)?n.g.statusText:""}catch{o=""}n.j=o+" ["+n.da()+"]",qH(n)}}finally{d0(n)}}}function d0(n,e){if(n.g){KH(n);const t=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||ji(n,"ready");try{t.onreadystatechange=i}catch{}}}function KH(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(je.clearTimeout(n.A),n.A=null)}function Cs(n){return n.g?n.g.readyState:0}function QH(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case HH:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function YH(n){let e="";return Vk(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function aO(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=YH(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):an(n,e,t))}function Rg(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function XH(n){this.Ga=0,this.j=[],this.l=new Jv,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Rg("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Rg("baseRetryDelayMs",5e3,n),this.hb=Rg("retryDelaySeedMs",1e4,n),this.eb=Rg("forwardChannelMaxRetries",2,n),this.xa=Rg("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new VH(n&&n.concurrentRequestLimit),this.Ja=new ZEe,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function cO(n){if(ZH(n),3==n.H){var e=n.W++,t=aa(n.I);if(an(t,"SID",n.K),an(t,"RID",e),an(t,"TYPE","terminate"),Ng(n,t),(e=new Ig(n,n.l,e)).L=2,e.v=c0(aa(t)),t=!1,je.navigator&&je.navigator.sendBeacon)try{t=je.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&je.Image&&((new Image).src=e.v,t=!0),t||(e.g=a7(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Tg(e)}o7(n)}function h0(n){n.g&&(uO(n),n.g.cancel(),n.g=null)}function ZH(n){h0(n),n.u&&(je.clearTimeout(n.u),n.u=null),p0(n),n.i.cancel(),n.m&&("number"==typeof n.m&&je.clearTimeout(n.m),n.m=null)}function f0(n){if(!BH(n.i)&&!n.m){n.m=!0;var e=n.Na;yg||pH(),vg||(yg(),vg=!0),Kk.add(e,n),n.C=0}}function JH(n,e){var t;t=e?e.m:n.W++;const i=aa(n.I);an(i,"SID",n.K),an(i,"RID",t),an(i,"AID",n.V),Ng(n,i),n.o&&n.s&&aO(i,n.o,n.s),t=new Ig(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=e7(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),oO(n.i,t),nO(t,i,e)}function Ng(n,e){n.na&&Vk(n.na,function(t,i){an(e,i,t)}),n.h&&kH({},function(t,i){an(e,i,t)})}function e7(n,e,t){t=Math.min(n.j.length,t);var i=n.h?tr(n.h.Va,n.h,n):null;e:{var r=n.j;let o=-1;for(;;){const s=["count="+t];-1==o?0<t?(o=r[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let c=0;c<t;c++){let l=r[c].g;const u=r[c].map;if(l-=o,0>l)o=Math.max(0,r[c].g-100),a=!1;else try{JEe(u,s,"req"+l+"_")}catch{i&&i(u)}}if(a){i=s.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,i}function t7(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;yg||pH(),vg||(yg(),vg=!0),Kk.add(e,n),n.A=0}}function lO(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=xg(tr(n.Ma,n),r7(n,n.A)),n.A++,0))}function uO(n){null!=n.B&&(je.clearTimeout(n.B),n.B=null)}function n7(n){n.g=new Ig(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=aa(n.wa);an(e,"RID","rpc"),an(e,"SID",n.K),an(e,"AID",n.V),an(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&an(e,"TO",n.qa),an(e,"TYPE","xmlhttp"),Ng(n,e),n.o&&n.s&&aO(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=c0(aa(e)),t.s=null,t.S=!0,DH(t,n)}function p0(n){null!=n.v&&(je.clearTimeout(n.v),n.v=null)}function i7(n,e){var t=null;if(n.g==e){p0(n),uO(n),n.g=null;var i=2}else{if(!rO(n.i,e))return;t=e.F,jH(n.i,e),i=1}if(0!=n.H)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.G;var r=n.C;ji(i=e0(),new CH(i,t)),f0(n)}else t7(n);else if(3==(r=e.o)||0==r&&0<e.ca||!(1==i&&function s1e(n,e){return!(UH(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=xg(tr(n.Na,n,e),r7(n,n.C)),n.C++,0)))}(n,e)||2==i&&lO(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),r){case 1:Il(n,5);break;case 4:Il(n,10);break;case 3:Il(n,6);break;default:Il(n,2)}}function r7(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Il(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var i=tr(n.pb,n);t||(t=new El("//www.google.com/images/cleardot.gif"),je.location&&"http"==je.location.protocol||s0(t,"https"),c0(t)),function e1e(n,e){const t=new Jv;if(je.Image){const i=new Image;i.onload=Wv(l0,t,i,"TestLoadImage: loaded",!0,e),i.onerror=Wv(l0,t,i,"TestLoadImage: error",!1,e),i.onabort=Wv(l0,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=Wv(l0,t,i,"TestLoadImage: timeout",!1,e),je.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else br(2);n.H=0,n.h&&n.h.za(e),o7(n),ZH(n)}function o7(n){if(n.H=0,n.ma=[],n.h){const e=zH(n.i);(0!=e.length||0!=n.j.length)&&(eH(n.ma,e),eH(n.ma,n.j),n.i.i.length=0,Ak(n.j),n.j.length=0),n.h.ya()}}function s7(n,e,t){var i=t instanceof El?aa(t):new El(t);if(""!=i.g)e&&(i.g=e+"."+i.g),a0(i,i.m);else{var r=je.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var o=new El(null);i&&s0(o,i),e&&(o.g=e),r&&a0(o,r),t&&(o.l=t),i=o}return e=n.Da,(t=n.F)&&e&&an(i,t,e),an(i,"VER",n.ra),Ng(n,i),i}function a7(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Rn(t&&n.Ha&&!n.va?new kg({ob:!0}):n.va)).Oa(n.J),e}function c7(){}function g0(){if(Kd&&!(10<=Number(yEe)))throw Error("Environmental error: no available transport.")}function Qr(n,e){Ei.call(this),this.g=new XH(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!mg(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!mg(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Xd(this)}function l7(n){Zk.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function u7(){Jk.call(this),this.status=1}function Xd(n){this.g=n}function Bo(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function dO(n,e,t){t||(t=0);var i=Array(16);if("string"==typeof e)for(var r=0;16>r;++r)i[r]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(r=0;16>r;++r)i[r]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var o=n.g[3],s=(e=n.g[0])+(o^(t=n.g[1])&((r=n.g[2])^o))+i[0]+3614090360&4294967295;s=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=t+(s<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(r^o))+i[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(r^o))+i[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(r^o))+i[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=e+(r^o&(t^r))+i[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=e+(r^o&(t^r))+i[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=e+(r^o&(t^r))+i[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=e+(r^o&(t^r))+i[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=e+(t^r^o)+i[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^r^o)+i[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^r^o)+i[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^r^o)+i[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=e+(r^(t|~o))+i[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=r+(e^(o|~t))+i[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(r|~e))+i[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=e+(r^(t|~o))+i[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=r+(e^(o|~t))+i[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(r|~e))+i[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=e+(r^(t|~o))+i[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=r+(e^(o|~t))+i[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(r|~e))+i[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(e=t+((s=e+(r^(t|~o))+i[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((r=o+((s=r+(e^(o|~t))+i[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~e))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(r+(s<<21&4294967295|s>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+o&4294967295}function Rt(n,e){this.h=e;for(var t=[],i=!0,r=n.length-1;0<=r;r--){var o=0|n[r];i&&o==e||(t[r]=o,i=!1)}this.g=t}(ue=Rn.prototype).Oa=function(n){this.M=n},ue.ha=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():eO.g(),this.C=function EH(n){return n.h||(n.h=n.i())}(this.u?this.u:eO),this.g.onreadystatechange=tr(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(o){return void GH(this,o)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)t.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const o of i.keys())t.set(o,i.get(o))}i=Array.from(t.keys()).find(o=>"content-type"==o.toLowerCase()),r=je.FormData&&n instanceof je.FormData,!(0<=J$(i1e,e))||i||r||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of t)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{KH(this),0<this.B&&((this.L=function r1e(n){return Kd&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=tr(this.ua,this)):this.A=Yk(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){GH(this,o)}},ue.ua=function(){typeof Mk<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ji(this,"timeout"),this.abort(8))},ue.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ji(this,"complete"),ji(this,"abort"),d0(this))},ue.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),d0(this,!0)),Rn.$.N.call(this)},ue.La=function(){this.s||(this.G||this.v||this.l?WH(this):this.kb())},ue.kb=function(){WH(this)},ue.isActive=function(){return!!this.g},ue.da=function(){try{return 2<Cs(this)?this.g.status:-1}catch{return-1}},ue.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},ue.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),t1e(e)}},ue.Ia=function(){return this.m},ue.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ue=XH.prototype).ra=8,ue.H=1,ue.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new Ig(this,this.l,n);let o=this.s;if(this.U&&(o?(o=oH(o),aH(o,this.U)):o=this.U),null!==this.o||this.O||(r.I=o,o=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var i=this.j[t];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=e7(this,r,e),an(t=aa(this.I),"RID",n),an(t,"CVER",22),this.F&&an(t,"X-HTTP-Session-Id",this.F),Ng(this,t),o&&(this.O?e="headers="+encodeURIComponent(String(YH(o)))+"&"+e:this.o&&aO(t,this.o,o)),oO(this.i,r),this.bb&&an(t,"TYPE","init"),this.P?(an(t,"$req",e),an(t,"SID","null"),r.aa=!0,nO(r,t,null)):nO(r,t,e),this.H=2}}else 3==this.H&&(n?JH(this,n):0==this.j.length||BH(this.i)||JH(this))},ue.Ma=function(){if(this.u=null,n7(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=xg(tr(this.jb,this),n)}},ue.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,br(10),h0(this),n7(this))},ue.ib=function(){null!=this.v&&(this.v=null,h0(this),lO(this),br(19))},ue.pb=function(n){n?(this.l.info("Successfully pinged google.com"),br(2)):(this.l.info("Failed to ping google.com"),br(1))},ue.isActive=function(){return!!this.h&&this.h.isActive(this)},(ue=c7.prototype).Ba=function(){},ue.Aa=function(){},ue.za=function(){},ue.ya=function(){},ue.isActive=function(){return!0},ue.Va=function(){},g0.prototype.g=function(n,e){return new Qr(n,e)},xi(Qr,Ei),Qr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;br(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=s7(n,null,n.Y),f0(n)},Qr.prototype.close=function(){cO(this.g)},Qr.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Wk(n),n=t);e.j.push(new QEe(e.fb++,n)),3==e.H&&f0(e)},Qr.prototype.N=function(){this.g.h=null,delete this.j,cO(this.g),delete this.g,Qr.$.N.call(this)},xi(l7,Zk),xi(u7,Jk),xi(Xd,c7),Xd.prototype.Ba=function(){ji(this.g,"a")},Xd.prototype.Aa=function(n){ji(this.g,new l7(n))},Xd.prototype.za=function(n){ji(this.g,new u7)},Xd.prototype.ya=function(){ji(this.g,"b")},xi(Bo,function a1e(){this.blockSize=-1}),Bo.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Bo.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,i=this.m,r=this.h,o=0;o<e;){if(0==r)for(;o<=t;)dO(this,n,o),o+=this.blockSize;if("string"==typeof n){for(;o<e;)if(i[r++]=n.charCodeAt(o++),r==this.blockSize){dO(this,i),r=0;break}}else for(;o<e;)if(i[r++]=n[o++],r==this.blockSize){dO(this,i),r=0;break}}this.h=r,this.i+=e},Bo.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var i=0;32>i;i+=8)n[t++]=this.g[e]>>>i&255;return n};var c1e={};function hO(n){return-128<=n&&128>n?function mEe(n,e){var t=c1e;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Rt([0|e],0>e?-1:0)}):new Rt([0|n],0>n?-1:0)}function xs(n){if(isNaN(n)||!isFinite(n))return Zd;if(0>n)return zi(xs(-n));for(var e=[],t=1,i=0;n>=t;i++)e[i]=n/t|0,t*=fO;return new Rt(e,0)}var fO=4294967296,Zd=hO(0),pO=hO(1),h7=hO(16777216);function ca(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function go(n){return-1==n.h}function zi(n){for(var e=n.g.length,t=[],i=0;i<e;i++)t[i]=~n.g[i];return new Rt(t,~n.h).add(pO)}function m0(n,e){return n.add(zi(e))}function _0(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Fg(n,e){this.g=n,this.h=e}function b0(n,e){if(ca(e))throw Error("division by zero");if(ca(n))return new Fg(Zd,Zd);if(go(n))return e=b0(zi(n),e),new Fg(zi(e.g),zi(e.h));if(go(e))return e=b0(n,zi(e)),new Fg(zi(e.g),e.h);if(30<n.g.length){if(go(n)||go(e))throw Error("slowDivide_ only works with positive integers.");for(var t=pO,i=e;0>=i.X(n);)t=f7(t),i=f7(i);var r=Jd(t,1),o=Jd(i,1);for(i=Jd(i,2),t=Jd(t,2);!ca(i);){var s=o.add(i);0>=s.X(n)&&(r=r.add(t),o=s),i=Jd(i,1),t=Jd(t,1)}return e=m0(n,r.R(e)),new Fg(r,e)}for(r=Zd;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),i=48>=(i=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,i-48),s=(o=xs(t)).R(e);go(s)||0<s.X(n);)s=(o=xs(t-=i)).R(e);ca(o)&&(o=pO),r=r.add(o),n=m0(n,s)}return new Fg(r,n)}function f7(n){for(var e=n.g.length+1,t=[],i=0;i<e;i++)t[i]=n.D(i)<<1|n.D(i-1)>>>31;return new Rt(t,n.h)}function Jd(n,e){var t=e>>5;e%=32;for(var i=n.g.length-t,r=[],o=0;o<i;o++)r[o]=0<e?n.D(o+t)>>>e|n.D(o+t+1)<<32-e:n.D(o+t);return new Rt(r,n.h)}(ue=Rt.prototype).ea=function(){if(go(this))return-zi(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var i=this.D(t);n+=(0<=i?i:fO+i)*e,e*=fO}return n},ue.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(ca(this))return"0";if(go(this))return"-"+zi(this).toString(n);for(var e=xs(Math.pow(n,6)),t=this,i="";;){var r=b0(t,e).g,o=((0<(t=m0(t,r.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(ca(t=r))return o+i;for(;6>o.length;)o="0"+o;i=o+i}},ue.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},ue.X=function(n){return go(n=m0(this,n))?-1:ca(n)?0:1},ue.abs=function(){return go(this)?zi(this):this},ue.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0,r=0;r<=e;r++){var o=i+(65535&this.D(r))+(65535&n.D(r)),s=(o>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=s>>>16,t[r]=(s&=65535)<<16|(o&=65535)}return new Rt(t,-2147483648&t[t.length-1]?-1:0)},ue.R=function(n){if(ca(this)||ca(n))return Zd;if(go(this))return go(n)?zi(this).R(zi(n)):zi(zi(this).R(n));if(go(n))return zi(this.R(zi(n)));if(0>this.X(h7)&&0>n.X(h7))return xs(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],i=0;i<2*e;i++)t[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var o=this.D(i)>>>16,s=65535&this.D(i),a=n.D(r)>>>16,c=65535&n.D(r);t[2*i+2*r]+=s*c,_0(t,2*i+2*r),t[2*i+2*r+1]+=o*c,_0(t,2*i+2*r+1),t[2*i+2*r+1]+=s*a,_0(t,2*i+2*r+1),t[2*i+2*r+2]+=o*a,_0(t,2*i+2*r+2)}for(i=0;i<e;i++)t[i]=t[2*i+1]<<16|t[2*i];for(i=e;i<2*e;i++)t[i]=0;return new Rt(t,0)},ue.gb=function(n){return b0(this,n).h},ue.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)&n.D(i);return new Rt(t,this.h&n.h)},ue.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)|n.D(i);return new Rt(t,this.h|n.h)},ue.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)^n.D(i);return new Rt(t,this.h^n.h)},g0.prototype.createWebChannel=g0.prototype.g,Qr.prototype.send=Qr.prototype.u,Qr.prototype.open=Qr.prototype.m,Qr.prototype.close=Qr.prototype.close,t0.NO_ERROR=0,t0.TIMEOUT=8,t0.HTTP_ERROR=6,xH.COMPLETE="complete",IH.EventType=Eg,Eg.OPEN="a",Eg.CLOSE="b",Eg.ERROR="c",Eg.MESSAGE="d",Ei.prototype.listen=Ei.prototype.O,Rn.prototype.listenOnce=Rn.prototype.P,Rn.prototype.getLastError=Rn.prototype.Sa,Rn.prototype.getLastErrorCode=Rn.prototype.Ia,Rn.prototype.getStatus=Rn.prototype.da,Rn.prototype.getResponseJson=Rn.prototype.Wa,Rn.prototype.getResponseText=Rn.prototype.ja,Rn.prototype.send=Rn.prototype.ha,Rn.prototype.setWithCredentials=Rn.prototype.Oa,Bo.prototype.digest=Bo.prototype.l,Bo.prototype.reset=Bo.prototype.reset,Bo.prototype.update=Bo.prototype.j,Rt.prototype.add=Rt.prototype.add,Rt.prototype.multiply=Rt.prototype.R,Rt.prototype.modulo=Rt.prototype.gb,Rt.prototype.compare=Rt.prototype.X,Rt.prototype.toNumber=Rt.prototype.ea,Rt.prototype.toString=Rt.prototype.toString,Rt.prototype.getBits=Rt.prototype.D,Rt.fromNumber=xs,Rt.fromString=function d7(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return zi(d7(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=xs(Math.pow(e,8)),i=Zd,r=0;r<n.length;r+=8){var o=Math.min(8,n.length-r),s=parseInt(n.substring(r,r+o),e);8>o?(o=xs(Math.pow(e,o)),i=i.R(o).add(xs(s))):i=(i=i.R(t)).add(xs(s))}return i};var l1e=Vo.createWebChannelTransport=function(){return new g0},u1e=Vo.getStatEventTarget=function(){return e0()},gO=Vo.ErrorCode=t0,d1e=Vo.EventType=xH,h1e=Vo.Event=Cl,p7=Vo.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},f1e=Vo.FetchXmlHttpFactory=kg,y0=Vo.WebChannel=IH,p1e=Vo.XhrIo=Rn,g1e=Vo.Md5=Bo,eh=Vo.Integer=Rt;const g7="@firebase/firestore";class Ii{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ii.UNAUTHENTICATED=new Ii(null),Ii.GOOGLE_CREDENTIALS=new Ii("google-credentials-uid"),Ii.FIRST_PARTY=new Ii("first-party-uid"),Ii.MOCK_USER=new Ii("mock-user");let th="9.23.0";const tc=new ul("@firebase/firestore");function mO(){return tc.logLevel}function ee(n,...e){if(tc.logLevel<=gt.DEBUG){const t=e.map(_O);tc.debug(`Firestore (${th}): ${n}`,...t)}}function qn(n,...e){if(tc.logLevel<=gt.ERROR){const t=e.map(_O);tc.error(`Firestore (${th}): ${n}`,...t)}}function Uo(n,...e){if(tc.logLevel<=gt.WARN){const t=e.map(_O);tc.warn(`Firestore (${th}): ${n}`,...t)}}function _O(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function fe(n="Unexpected state"){const e=`FIRESTORE (${th}) INTERNAL ASSERTION FAILED: `+n;throw qn(e),new Error(e)}function be(n,e){n||fe()}function le(n,e){return n}const L={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Y extends Kr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class pi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class m7{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class m1e{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ii.UNAUTHENTICATED))}shutdown(){}}class _1e{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class b1e{constructor(e){this.t=e,this.currentUser=Ii.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const o=l=>this.i!==r?(r=this.i,t(l)):Promise.resolve();let s=new pi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new pi,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const l=s;e.enqueueRetryable(_(function*(){yield l.promise,yield o(i.currentUser)}))},c=l=>{ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>c(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?c(l):(ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new pi)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(be("string"==typeof i.accessToken),new m7(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return be(null===e||"string"==typeof e),new Ii(e)}}class y1e{constructor(e,t,i){this.h=e,this.l=t,this.m=i,this.type="FirstParty",this.user=Ii.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class v1e{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new y1e(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Ii.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class _7{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class w1e{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const i=o=>{null!=o.error&&ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.T;return this.T=o.token,ee("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};const r=o=>{ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.I.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.I.getImmediate({optional:!0});o?r(o):ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(be("string"==typeof t.token),this.T=t.token,new _7(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function C1e(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class b7{static A(){const t=62*Math.floor(256/62);let i="";for(;i.length<20;){const r=C1e(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<t&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[o]%62))}return i}}function Le(n,e){return n<e?-1:n>e?1:0}function nh(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function y7(n){return n+"\0"}class In{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Y(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Y(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Y(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Y(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return In.fromMillis(Date.now())}static fromDate(e){return In.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new In(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ye{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ye(e)}static min(){return new ye(new In(0,0))}static max(){return new ye(new In(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Lg{constructor(e,t,i){void 0===t?t=0:t>e.length&&fe(),void 0===i?i=e.length-t:i>e.length-t&&fe(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===Lg.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Lg?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const o=e.get(r),s=t.get(r);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class vt extends Lg{construct(e,t,i){return new vt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Y(L.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new vt(t)}static emptyPath(){return new vt([])}}const x1e=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wn extends Lg{construct(e,t,i){return new Wn(e,t,i)}static isValidIdentifier(e){return x1e.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Wn(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const o=()=>{if(0===i.length)throw new Y(L.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let s=!1;for(;r<e.length;){const a=e[r];if("\\"===a){if(r+1===e.length)throw new Y(L.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[r+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new Y(L.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=c,r+=2}else"`"===a?(s=!s,r++):"."!==a||s?(i+=a,r++):(o(),r++)}if(o(),s)throw new Y(L.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wn(t)}static emptyPath(){return new Wn([])}}class ae{constructor(e){this.path=e}static fromPath(e){return new ae(vt.fromString(e))}static fromName(e){return new ae(vt.fromString(e).popFirst(5))}static empty(){return new ae(vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===vt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return vt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ae(new vt(e.slice()))}}class v0{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function bO(n){return n.fields.find(e=>2===e.kind)}function Tl(n){return n.fields.filter(e=>2!==e.kind)}v0.UNKNOWN_ID=-1;class w0{constructor(e,t){this.fieldPath=e,this.kind=t}}class Vg{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Vg(0,Yr.min())}}function w7(n){return new Yr(n.readTime,n.key,-1)}class Yr{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Yr(ye.min(),ae.empty(),-1)}static max(){return new Yr(ye.max(),ae.empty(),-1)}}function yO(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=ae.comparator(n.documentKey,e.documentKey),0!==t?t:Le(n.largestBatchId,e.largestBatchId))}const C7="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class x7{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function nc(n){return vO.apply(this,arguments)}function vO(){return vO=_(function*(n){if(n.code!==L.FAILED_PRECONDITION||n.message!==C7)throw n;ee("LocalStore","Unexpectedly lost primary lease")}),vO.apply(this,arguments)}class F{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&fe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new F((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(t,o).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof F?t:F.resolve(t)}catch(t){return F.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):F.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):F.reject(t)}static resolve(e){return new F((t,i)=>{t(e)})}static reject(e){return new F((t,i)=>{i(e)})}static waitFor(e){return new F((t,i)=>{let r=0,o=0,s=!1;e.forEach(a=>{++r,a.next(()=>{++o,s&&o===r&&t()},c=>i(c))}),s=!0,o===r&&t()})}static or(e){let t=F.resolve(!1);for(const i of e)t=t.next(r=>r?F.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,o)=>{i.push(t.call(this,r,o))}),this.waitFor(i)}static mapArray(e,t){return new F((i,r)=>{const o=e.length,s=new Array(o);let a=0;for(let c=0;c<o;c++){const l=c;t(e[l]).next(u=>{s[l]=u,++a,a===o&&i(s)},u=>r(u))}})}static doWhile(e,t){return new F((i,r)=>{const o=()=>{!0===e()?t().next(()=>{o()},r):i()};o()})}}class C0{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new pi,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new Bg(e,t.error)):this.v.resolve()},this.transaction.onerror=i=>{const r=wO(i.target.error);this.v.reject(new Bg(e,r))}}static open(e,t,i,r){try{return new C0(t,e.transaction(r,i))}catch(o){throw new Bg(t,o)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(ee("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new D1e(t)}}class jo{constructor(e,t,i){this.name=e,this.version=t,this.V=i,12.2===jo.S(Gn())&&qn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ee("SimpleDb","Removing database:",e),Dl(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Ha())return!1;if(jo.C())return!0;const e=Gn(),t=jo.S(e),i=0<t&&t<10,r=jo.N(e),o=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||o)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static N(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}$(e){var t=this;return _(function*(){return t.db||(ee("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const o=indexedDB.open(t.name,t.version);o.onsuccess=s=>{i(s.target.result)},o.onblocked=()=>{r(new Bg(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=s=>{const a=s.target.error;r("VersionError"===a.name?new Y(L.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===a.name?new Y(L.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a):new Bg(e,a))},o.onupgradeneeded=s=>{ee("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',s.oldVersion),t.V.O(s.target.result,o.transaction,s.oldVersion,t.version).next(()=>{ee("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=i=>t.F(i)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var o=this;return _(function*(){const s="readonly"===t;let a=0;for(;;){++a;try{o.db=yield o.$(e);const c=C0.open(o.db,e,s?"readonly":"readwrite",i),l=r(c).next(u=>(c.P(),u)).catch(u=>(c.abort(u),F.reject(u))).toPromise();return l.catch(()=>{}),yield c.R,l}catch(c){const l=c,u="FirebaseError"!==l.name&&a<3;if(ee("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),o.close(),!u)return Promise.reject(l)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class T1e{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Dl(this.L.delete())}}class Bg extends Y{constructor(e,t){super(L.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function ic(n){return"IndexedDbTransactionError"===n.name}class D1e{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(ee("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(ee("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),Dl(i)}add(e){return ee("SimpleDb","ADD",this.store.name,e,e),Dl(this.store.add(e))}get(e){return Dl(this.store.get(e)).next(t=>(void 0===t&&(t=null),ee("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return ee("SimpleDb","DELETE",this.store.name,e),Dl(this.store.delete(e))}count(){return ee("SimpleDb","COUNT",this.store.name),Dl(this.store.count())}j(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),o=[];return this.W(r,(s,a)=>{o.push(a)}).next(()=>o)}{const r=this.store.getAll(i.range);return new F((o,s)=>{r.onerror=a=>{s(a.target.error)},r.onsuccess=a=>{o(a.target.result)}})}}H(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new F((r,o)=>{i.onerror=s=>{o(s.target.error)},i.onsuccess=s=>{r(s.target.result)}})}J(e,t){ee("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.Y=!1;const r=this.cursor(i);return this.W(r,(o,s,a)=>a.delete())}X(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.W(r,t)}Z(e){const t=this.cursor({});return new F((i,r)=>{t.onerror=o=>{const s=wO(o.target.error);r(s)},t.onsuccess=o=>{const s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():i()}):i()}})}W(e,t){const i=[];return new F((r,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{const a=s.target.result;if(!a)return void r();const c=new T1e(a),l=t(a.primaryKey,a.value,c);if(l instanceof F){const u=l.catch(d=>(c.done(),F.reject(d)));i.push(u)}c.isDone?r():null===c.K?a.continue():a.continue(c.K)}}).next(()=>F.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.Y?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Dl(n){return new F((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=wO(i.target.error);t(r)}})}let E7=!1;function wO(n){const e=jo.S(Gn());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new Y("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return E7||(E7=!0,setTimeout(()=>{throw i},0)),i}}return n}class M1e{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;ee("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,_(function*(){t.task=null;try{ee("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(i){ic(i)?ee("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield nc(i)}yield t.et(6e4)}))}}class S1e{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return _(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.st(i,e))})()}st(e,t){const i=new Set;let r=t,o=!0;return F.doWhile(()=>!0===o&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(s=>{if(null!==s&&!i.has(s))return ee("IndexBackiller",`Processing collection: ${s}`),this.it(e,s,r).next(a=>{r-=a,i.add(s)});o=!1})).next(()=>t-r)}it(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(o=>{const s=o.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next(()=>this.rt(r,o)).next(a=>(ee("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,t,a))).next(()=>s.size)}))}rt(e,t){let i=e;return t.changes.forEach((r,o)=>{const s=w7(o);yO(s,i)>0&&(i=s)}),new Yr(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Xr=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>i.writeSequenceNumber(r))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function Ug(n){return null==n}function jg(n){return 0===n&&1/n==-1/0}function ir(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=T7(e)),e=A1e(n.get(t),e);return T7(e)}function A1e(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=o}}return t}function T7(n){return n+"\x01\x01"}function Es(n){const e=n.length;if(be(e>=2),2===e)return be("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),vt.emptyPath();const t=e-2,i=[];let r="";for(let o=0;o<e;){const s=n.indexOf("\x01",o);switch((s<0||s>t)&&fe(),n.charAt(s+1)){case"\x01":const a=n.substring(o,s);let c;0===r.length?c=a:(r+=a,c=r,r=""),i.push(c);break;case"\x10":r+=n.substring(o,s),r+="\0";break;case"\x11":r+=n.substring(o,s+1);break;default:fe()}o=s+2}return new vt(i)}const D7=["userId","batchId"];function x0(n,e){return[n,ir(e)]}function M7(n,e,t){return[n,ir(e),t]}const k1e={},O1e=["prefixPath","collectionGroup","readTime","documentId"],P1e=["prefixPath","collectionGroup","documentId"],R1e=["collectionGroup","readTime","prefixPath","documentId"],N1e=["canonicalId","targetId"],F1e=["targetId","path"],L1e=["path","targetId"],V1e=["collectionId","parent"],B1e=["indexId","uid"],U1e=["uid","sequenceNumber"],j1e=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],z1e=["indexId","uid","orderedDocumentKey"],$1e=["userId","collectionPath","documentId"],H1e=["userId","collectionPath","largestBatchId"],G1e=["userId","collectionGroup","largestBatchId"],S7=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],q1e=[...S7,"documentOverlays"],A7=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],k7=A7,W1e=[...k7,"indexConfiguration","indexState","indexEntries"];class CO extends x7{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function Ti(n,e){const t=le(n);return jo.M(t.ht,e)}function O7(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function rc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function P7(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class en{constructor(e,t){this.comparator=e,this.root=t||$i.EMPTY}insert(e,t){return new en(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,$i.BLACK,null,null))}remove(e){return new en(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$i.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new E0(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new E0(this.root,e,this.comparator,!1)}getReverseIterator(){return new E0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new E0(this.root,e,this.comparator,!0)}}class E0{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?i(e.key,t):1,t&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $i{constructor(e,t,i,r,o){this.key=e,this.value=t,this.color=i??$i.RED,this.left=r??$i.EMPTY,this.right=o??$i.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,o){return new $i(e??this.key,t??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===o?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return $i.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return $i.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$i.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$i.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw fe();const e=this.left.check();if(e!==this.right.check())throw fe();return e+(this.isRed()?0:1)}}$i.EMPTY=null,$i.RED=!0,$i.BLACK=!1,$i.EMPTY=new class{constructor(){this.size=0}get key(){throw fe()}get value(){throw fe()}get color(){throw fe()}get left(){throw fe()}get right(){throw fe()}copy(n,e,t,i,r){return this}insert(n,e,t){return new $i(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class cn{constructor(e){this.comparator=e,this.data=new en(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new R7(this.data.getIterator())}getIteratorFrom(e){return new R7(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof cn)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new cn(this.comparator);return t.data=e,t}}class R7{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ih(n){return n.hasNext()?n.getNext():void 0}class Fr{constructor(e){this.fields=e,e.sort(Wn.comparator)}static empty(){return new Fr([])}unionWith(e){let t=new cn(Wn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Fr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return nh(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class N7 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class gi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new N7("Invalid base64 string: "+r):r}}(e);return new gi(t)}static fromUint8Array(e){const t=function(i){let r="";for(let o=0;o<i.length;++o)r+=String.fromCharCode(i[o]);return r}(e);return new gi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gi.EMPTY_BYTE_STRING=new gi("");const K1e=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function oc(n){if(be(!!n),"string"==typeof n){let e=0;const t=K1e.exec(n);if(be(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Nn(n.seconds),nanos:Nn(n.nanos)}}function Nn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function la(n){return"string"==typeof n?gi.fromBase64String(n):gi.fromUint8Array(n)}function I0(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function T0(n){const e=n.mapValue.fields.__previous_value__;return I0(e)?T0(e):e}function zg(n){const e=oc(n.mapValue.fields.__local_write_time__.timestampValue);return new In(e.seconds,e.nanos)}class Q1e{constructor(e,t,i,r,o,s,a,c,l){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}}class Ml{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ml("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ml&&e.projectId===this.projectId&&e.database===this.database}}const sc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},D0={nullValue:"NULL_VALUE"};function ac(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?I0(n)?4:B7(n)?9007199254740991:10:fe()}function Is(n,e){if(n===e)return!0;const t=ac(n);if(t!==ac(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return zg(n).isEqual(zg(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const o=oc(i.timestampValue),s=oc(r.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,la(n.bytesValue).isEqual(la(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return Nn(i.geoPointValue.latitude)===Nn(r.geoPointValue.latitude)&&Nn(i.geoPointValue.longitude)===Nn(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Nn(i.integerValue)===Nn(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const o=Nn(i.doubleValue),s=Nn(r.doubleValue);return o===s?jg(o)===jg(s):isNaN(o)&&isNaN(s)}return!1}(n,e);case 9:return nh(n.arrayValue.values||[],e.arrayValue.values||[],Is);case 10:return function(i,r){const o=i.mapValue.fields||{},s=r.mapValue.fields||{};if(O7(o)!==O7(s))return!1;for(const a in o)if(o.hasOwnProperty(a)&&(void 0===s[a]||!Is(o[a],s[a])))return!1;return!0}(n,e);default:return fe()}var r}function $g(n,e){return void 0!==(n.values||[]).find(t=>Is(t,e))}function cc(n,e){if(n===e)return 0;const t=ac(n),i=ac(e);if(t!==i)return Le(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Le(n.booleanValue,e.booleanValue);case 2:return function(r,o){const s=Nn(r.integerValue||r.doubleValue),a=Nn(o.integerValue||o.doubleValue);return s<a?-1:s>a?1:s===a?0:isNaN(s)?isNaN(a)?0:-1:1}(n,e);case 3:return F7(n.timestampValue,e.timestampValue);case 4:return F7(zg(n),zg(e));case 5:return Le(n.stringValue,e.stringValue);case 6:return function(r,o){const s=la(r),a=la(o);return s.compareTo(a)}(n.bytesValue,e.bytesValue);case 7:return function(r,o){const s=r.split("/"),a=o.split("/");for(let c=0;c<s.length&&c<a.length;c++){const l=Le(s[c],a[c]);if(0!==l)return l}return Le(s.length,a.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,o){const s=Le(Nn(r.latitude),Nn(o.latitude));return 0!==s?s:Le(Nn(r.longitude),Nn(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,o){const s=r.values||[],a=o.values||[];for(let c=0;c<s.length&&c<a.length;++c){const l=cc(s[c],a[c]);if(l)return l}return Le(s.length,a.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,o){if(r===sc.mapValue&&o===sc.mapValue)return 0;if(r===sc.mapValue)return 1;if(o===sc.mapValue)return-1;const s=r.fields||{},a=Object.keys(s),c=o.fields||{},l=Object.keys(c);a.sort(),l.sort();for(let u=0;u<a.length&&u<l.length;++u){const d=Le(a[u],l[u]);if(0!==d)return d;const h=cc(s[a[u]],c[l[u]]);if(0!==h)return h}return Le(a.length,l.length)}(n.mapValue,e.mapValue);default:throw fe()}}function F7(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Le(n,e);const t=oc(n),i=oc(e),r=Le(t.seconds,i.seconds);return 0!==r?r:Le(t.nanos,i.nanos)}function rh(n){return xO(n)}function xO(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=oc(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?la(n.bytesValue).toBase64():"referenceValue"in n?ae.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",o=!0;for(const s of i.values||[])o?o=!1:r+=",",r+=xO(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let o="{",s=!0;for(const a of r)s?s=!1:o+=",",o+=`${a}:${xO(i.fields[a])}`;return o+"}"}(n.mapValue):fe();var e}function Sl(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function EO(n){return!!n&&"integerValue"in n}function Hg(n){return!!n&&"arrayValue"in n}function L7(n){return!!n&&"nullValue"in n}function V7(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function S0(n){return!!n&&"mapValue"in n}function Gg(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return rc(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Gg(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Gg(n.arrayValue.values[t]);return e}return Object.assign({},n)}function B7(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function Y1e(n){return"nullValue"in n?D0:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Sl(Ml.empty(),ae.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:fe()}function X1e(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Sl(Ml.empty(),ae.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?sc:fe()}function U7(n,e){const t=cc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function j7(n,e){const t=cc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Hi{constructor(e){this.value=e}static empty(){return new Hi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!S0(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gg(t)}setAll(e){let t=Wn.emptyPath(),i={},r=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){const c=this.getFieldsMap(t);this.applyChanges(c,i,r),i={},r=[],t=a.popLast()}s?i[a.lastSegment()]=Gg(s):r.push(a.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,i,r)}delete(e){const t=this.field(e.popLast());S0(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Is(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];S0(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){rc(t,(r,o)=>e[r]=o);for(const r of i)delete e[r]}clone(){return new Hi(Gg(this.value))}}function z7(n){const e=[];return rc(n.fields,(t,i)=>{const r=new Wn([t]);if(S0(i)){const o=z7(i.mapValue).fields;if(0===o.length)e.push(r);else for(const s of o)e.push(r.child(s))}else e.push(r)}),new Fr(e)}class ln{constructor(e,t,i,r,o,s,a){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new ln(e,0,ye.min(),ye.min(),ye.min(),Hi.empty(),0)}static newFoundDocument(e,t,i,r){return new ln(e,1,t,ye.min(),i,r,0)}static newNoDocument(e,t){return new ln(e,2,t,ye.min(),ye.min(),Hi.empty(),0)}static newUnknownDocument(e,t){return new ln(e,3,t,ye.min(),ye.min(),Hi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ye.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ye.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class lc{constructor(e,t){this.position=e,this.inclusive=t}}function $7(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const o=e[r],s=n.position[r];if(i=o.field.isKeyField()?ae.comparator(ae.fromName(s.referenceValue),t.key):cc(s,t.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function H7(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Is(n.position[t],e.position[t]))return!1;return!0}class oh{constructor(e,t="asc"){this.field=e,this.dir=t}}function Z1e(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class G7{}class ht extends G7{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new J1e(e,t,i):"array-contains"===t?new nIe(e,i):"in"===t?new X7(e,i):"not-in"===t?new iIe(e,i):"array-contains-any"===t?new rIe(e,i):new ht(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new eIe(e,i):new tIe(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(cc(t,this.value)):null!==t&&ac(this.value)===ac(t)&&this.matchesComparison(cc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return fe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Nt extends G7{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Nt(e,t)}matches(e){return sh(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function sh(n){return"and"===n.op}function IO(n){return"or"===n.op}function TO(n){return q7(n)&&sh(n)}function q7(n){for(const e of n.filters)if(e instanceof Nt)return!1;return!0}function DO(n){if(n instanceof ht)return n.field.canonicalString()+n.op.toString()+rh(n.value);if(TO(n))return n.filters.map(e=>DO(e)).join(",");{const e=n.filters.map(t=>DO(t)).join(",");return`${n.op}(${e})`}}function W7(n,e){return n instanceof ht?(t=n,(i=e)instanceof ht&&t.op===i.op&&t.field.isEqual(i.field)&&Is(t.value,i.value)):n instanceof Nt?function(t,i){return i instanceof Nt&&t.op===i.op&&t.filters.length===i.filters.length&&t.filters.reduce((r,o,s)=>r&&W7(o,i.filters[s]),!0)}(n,e):void fe();var t,i}function K7(n,e){const t=n.filters.concat(e);return Nt.create(t,n.op)}function Q7(n){return n instanceof ht?`${(e=n).field.canonicalString()} ${e.op} ${rh(e.value)}`:n instanceof Nt?function(e){return e.op.toString()+" {"+e.getFilters().map(Q7).join(" ,")+"}"}(n):"Filter";var e}class J1e extends ht{constructor(e,t,i){super(e,t,i),this.key=ae.fromName(i.referenceValue)}matches(e){const t=ae.comparator(e.key,this.key);return this.matchesComparison(t)}}class eIe extends ht{constructor(e,t){super(e,"in",t),this.keys=Y7(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class tIe extends ht{constructor(e,t){super(e,"not-in",t),this.keys=Y7(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Y7(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>ae.fromName(i.referenceValue))}class nIe extends ht{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Hg(t)&&$g(t.arrayValue,this.value)}}class X7 extends ht{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&$g(this.value.arrayValue,t)}}class iIe extends ht{constructor(e,t){super(e,"not-in",t)}matches(e){if($g(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!$g(this.value.arrayValue,t)}}class rIe extends ht{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Hg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>$g(this.value.arrayValue,i))}}class oIe{constructor(e,t=null,i=[],r=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=s,this.endAt=a,this.dt=null}}function MO(n,e=null,t=[],i=[],r=null,o=null,s=null){return new oIe(n,e,t,i,r,o,s)}function Al(n){const e=le(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>DO(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),Ug(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>rh(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>rh(i)).join(",")),e.dt=t}return e.dt}function qg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Z1e(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!W7(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!H7(n.startAt,e.startAt)&&H7(n.endAt,e.endAt)}function A0(n){return ae.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function k0(n,e){return n.filters.filter(t=>t instanceof ht&&t.field.isEqual(e))}function Z7(n,e,t){let i=D0,r=!0;for(const o of k0(n,e)){let s=D0,a=!0;switch(o.op){case"<":case"<=":s=Y1e(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=D0}U7({value:i,inclusive:r},{value:s,inclusive:a})<0&&(i=s,r=a)}if(null!==t)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const s=t.position[o];U7({value:i,inclusive:r},{value:s,inclusive:t.inclusive})<0&&(i=s,r=t.inclusive);break}return{value:i,inclusive:r}}function J7(n,e,t){let i=sc,r=!0;for(const o of k0(n,e)){let s=sc,a=!0;switch(o.op){case">=":case">":s=X1e(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=sc}j7({value:i,inclusive:r},{value:s,inclusive:a})>0&&(i=s,r=a)}if(null!==t)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const s=t.position[o];j7({value:i,inclusive:r},{value:s,inclusive:t.inclusive})>0&&(i=s,r=t.inclusive);break}return{value:i,inclusive:r}}class ua{constructor(e,t=null,i=[],r=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.wt=null,this._t=null}}function ah(n){return new ua(n)}function tG(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function SO(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function O0(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function AO(n){return null!==n.collectionGroup}function kl(n){const e=le(n);if(null===e.wt){e.wt=[];const t=O0(e),i=SO(e);if(null!==t&&null===i)t.isKeyField()||e.wt.push(new oh(t)),e.wt.push(new oh(Wn.keyField(),"asc"));else{let r=!1;for(const o of e.explicitOrderBy)e.wt.push(o),o.field.isKeyField()&&(r=!0);if(!r){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new oh(Wn.keyField(),o))}}}return e.wt}function yr(n){const e=le(n);if(!e._t)if("F"===e.limitType)e._t=MO(e.path,e.collectionGroup,kl(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const o of kl(e))t.push(new oh(o.field,"desc"===o.dir?"asc":"desc"));const i=e.endAt?new lc(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new lc(e.startAt.position,e.startAt.inclusive):null;e._t=MO(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e._t}function kO(n,e){e.getFirstInequalityField(),O0(n);const t=n.filters.concat([e]);return new ua(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function P0(n,e,t){return new ua(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Wg(n,e){return qg(yr(n),yr(e))&&n.limitType===e.limitType}function nG(n){return`${Al(yr(n))}|lt:${n.limitType}`}function OO(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(i=>Q7(i)).join(", ")}]`),Ug(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>rh(i)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>rh(i)).join(",")),`Target(${t})`}(yr(n))}; limitType=${n.limitType})`}function Kg(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):ae.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of kl(t))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,o,s){const a=$7(r,o,s);return r.inclusive?a<=0:a<0}(t.startAt,kl(t),i)||t.endAt&&!function(r,o,s){const a=$7(r,o,s);return r.inclusive?a>=0:a>0}(t.endAt,kl(t),i)));var t,i}function rG(n){return(e,t)=>{let i=!1;for(const r of kl(n)){const o=sIe(r,e,t);if(0!==o)return o;i=i||r.field.isKeyField()}return 0}}function sIe(n,e,t){const i=n.field.isKeyField()?ae.comparator(e.key,t.key):function(r,o,s){const a=o.data.field(r),c=s.data.field(r);return null!==a&&null!==c?cc(a,c):fe()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return fe()}}class da{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,o]of i)if(this.equalsFn(r,e))return o}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){rc(this.inner,(t,i)=>{for(const[r,o]of i)e(r,o)})}isEmpty(){return P7(this.inner)}size(){return this.innerSize}}const aIe=new en(ae.comparator);function Lr(){return aIe}const oG=new en(ae.comparator);function Qg(...n){let e=oG;for(const t of n)e=e.insert(t.key,t);return e}function sG(n){let e=oG;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Ts(){return Yg()}function aG(){return Yg()}function Yg(){return new da(n=>n.toString(),(n,e)=>n.isEqual(e))}const cIe=new en(ae.comparator),lIe=new cn(ae.comparator);function We(...n){let e=lIe;for(const t of n)e=e.add(t);return e}const uIe=new cn(Le);function cG(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jg(e)?"-0":e}}function lG(n){return{integerValue:""+n}}function uG(n,e){return function I7(n){return"number"==typeof n&&Number.isInteger(n)&&!jg(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?lG(e):cG(n,e)}class R0{constructor(){this._=void 0}}function dIe(n,e,t){return n instanceof ch?function(i,r){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&I0(r)&&(r=T0(r)),r&&(o.fields.__previous_value__=r),{mapValue:o}}(t,e):n instanceof Ol?hG(n,e):n instanceof Pl?fG(n,e):function(i,r){const o=dG(i,r),s=pG(o)+pG(i.gt);return EO(o)&&EO(i.gt)?lG(s):cG(i.serializer,s)}(n,e)}function hIe(n,e,t){return n instanceof Ol?hG(n,e):n instanceof Pl?fG(n,e):t}function dG(n,e){return n instanceof lh?EO(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class ch extends R0{}class Ol extends R0{constructor(e){super(),this.elements=e}}function hG(n,e){const t=gG(e);for(const i of n.elements)t.some(r=>Is(r,i))||t.push(i);return{arrayValue:{values:t}}}class Pl extends R0{constructor(e){super(),this.elements=e}}function fG(n,e){let t=gG(e);for(const i of n.elements)t=t.filter(r=>!Is(r,i));return{arrayValue:{values:t}}}class lh extends R0{constructor(e,t){super(),this.serializer=e,this.gt=t}}function pG(n){return Nn(n.integerValue||n.doubleValue)}function gG(n){return Hg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Xg{constructor(e,t){this.field=e,this.transform=t}}class pIe{constructor(e,t){this.version=e,this.transformResults=t}}class _n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new _n}static exists(e){return new _n(void 0,e)}static updateTime(e){return new _n(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function N0(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class F0{}function mG(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new dh(n.key,_n.none()):new uh(n.key,n.data,_n.none());{const t=n.data,i=Hi.empty();let r=new cn(Wn.comparator);for(let o of e.fields)if(!r.has(o)){let s=t.field(o);null===s&&o.length>1&&(o=o.popLast(),s=t.field(o)),null===s?i.delete(o):i.set(o,s),r=r.add(o)}return new ha(n.key,i,new Fr(r.toArray()),_n.none())}}function gIe(n,e,t){n instanceof uh?function(i,r,o){const s=i.value.clone(),a=yG(i.fieldTransforms,r,o.transformResults);s.setAll(a),r.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(n,e,t):n instanceof ha?function(i,r,o){if(!N0(i.precondition,r))return void r.convertToUnknownDocument(o.version);const s=yG(i.fieldTransforms,r,o.transformResults),a=r.data;a.setAll(bG(i)),a.setAll(s),r.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Zg(n,e,t,i){return n instanceof uh?function(r,o,s,a){if(!N0(r.precondition,o))return s;const c=r.value.clone(),l=vG(r.fieldTransforms,a,o);return c.setAll(l),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(n,e,t,i):n instanceof ha?function(r,o,s,a){if(!N0(r.precondition,o))return s;const c=vG(r.fieldTransforms,a,o),l=o.data;return l.setAll(bG(r)),l.setAll(c),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null===s?null:s.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(u=>u.field))}(n,e,t,i):(s=t,N0(n.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s);var o,s}function mIe(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),o=dG(i.transform,r||null);null!=o&&(null===t&&(t=Hi.empty()),t.set(i.field,o))}return t||null}function _G(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&nh(t,i,(r,o)=>function fIe(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof Ol&&i instanceof Ol||t instanceof Pl&&i instanceof Pl?nh(t.elements,i.elements,Is):t instanceof lh&&i instanceof lh?Is(t.gt,i.gt):t instanceof ch&&i instanceof ch);var t,i}(r,o))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class uh extends F0{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class ha extends F0{constructor(e,t,i,r,o=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function bG(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function yG(n,e,t){const i=new Map;be(n.length===t.length);for(let r=0;r<t.length;r++){const o=n[r],s=o.transform,a=e.data.field(o.field);i.set(o.field,hIe(s,a,t[r]))}return i}function vG(n,e,t){const i=new Map;for(const r of n){const o=r.transform,s=t.data.field(r.field);i.set(r.field,dIe(o,s,e))}return i}class dh extends F0{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class RO extends F0{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class NO{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(e.key)&&gIe(o,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Zg(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Zg(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=aG();return this.mutations.forEach(r=>{const o=e.get(r.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=t.has(r.key)?null:a;const c=mG(s,a);null!==c&&i.set(r.key,c),s.isValidDocument()||s.convertToNoDocument(ye.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),We())}isEqual(e){return this.batchId===e.batchId&&nh(this.mutations,e.mutations,(t,i)=>_G(t,i))&&nh(this.baseMutations,e.baseMutations,(t,i)=>_G(t,i))}}class FO{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){be(e.mutations.length===i.length);let r=cIe;const o=e.mutations;for(let s=0;s<o.length;s++)r=r.insert(o[s].key,i[s].version);return new FO(e,t,i,r)}}class LO{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class bIe{constructor(e,t){this.count=e,this.unchangedNames=t}}var ni,wt;function CG(n){if(void 0===n)return qn("GRPC error has no .code"),L.UNKNOWN;switch(n){case ni.OK:return L.OK;case ni.CANCELLED:return L.CANCELLED;case ni.UNKNOWN:return L.UNKNOWN;case ni.DEADLINE_EXCEEDED:return L.DEADLINE_EXCEEDED;case ni.RESOURCE_EXHAUSTED:return L.RESOURCE_EXHAUSTED;case ni.INTERNAL:return L.INTERNAL;case ni.UNAVAILABLE:return L.UNAVAILABLE;case ni.UNAUTHENTICATED:return L.UNAUTHENTICATED;case ni.INVALID_ARGUMENT:return L.INVALID_ARGUMENT;case ni.NOT_FOUND:return L.NOT_FOUND;case ni.ALREADY_EXISTS:return L.ALREADY_EXISTS;case ni.PERMISSION_DENIED:return L.PERMISSION_DENIED;case ni.FAILED_PRECONDITION:return L.FAILED_PRECONDITION;case ni.ABORTED:return L.ABORTED;case ni.OUT_OF_RANGE:return L.OUT_OF_RANGE;case ni.UNIMPLEMENTED:return L.UNIMPLEMENTED;case ni.DATA_LOSS:return L.DATA_LOSS;default:return fe()}}(wt=ni||(ni={}))[wt.OK=0]="OK",wt[wt.CANCELLED=1]="CANCELLED",wt[wt.UNKNOWN=2]="UNKNOWN",wt[wt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",wt[wt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",wt[wt.NOT_FOUND=5]="NOT_FOUND",wt[wt.ALREADY_EXISTS=6]="ALREADY_EXISTS",wt[wt.PERMISSION_DENIED=7]="PERMISSION_DENIED",wt[wt.UNAUTHENTICATED=16]="UNAUTHENTICATED",wt[wt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",wt[wt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",wt[wt.ABORTED=10]="ABORTED",wt[wt.OUT_OF_RANGE=11]="OUT_OF_RANGE",wt[wt.UNIMPLEMENTED=12]="UNIMPLEMENTED",wt[wt.INTERNAL=13]="INTERNAL",wt[wt.UNAVAILABLE=14]="UNAVAILABLE",wt[wt.DATA_LOSS=15]="DATA_LOSS";class VO{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return L0}static getOrCreateInstance(){return null===L0&&(L0=new VO),L0}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let L0=null;const yIe=new eh([4294967295,4294967295],0);function EG(n){const e=function xG(){return new TextEncoder}().encode(n),t=new g1e;return t.update(e),new Uint8Array(t.digest())}function IG(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new eh([t,i],0),new eh([r,o],0)]}class BO{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Jg(`Invalid padding: ${t}`);if(i<0)throw new Jg(`Invalid hash count: ${i}`);if(e.length>0&&0===this.hashCount)throw new Jg(`Invalid hash count: ${i}`);if(0===e.length&&0!==t)throw new Jg(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=eh.fromNumber(this.It)}Et(e,t,i){let r=e.add(t.multiply(eh.fromNumber(i)));return 1===r.compare(yIe)&&(r=new eh([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=EG(e),[i,r]=IG(t);for(let o=0;o<this.hashCount;o++){const s=this.Et(i,r,o);if(!this.At(s))return!1}return!0}static create(e,t,i){const r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new BO(o,r,t);return i.forEach(a=>s.insert(a)),s}insert(e){if(0===this.It)return;const t=EG(e),[i,r]=IG(t);for(let o=0;o<this.hashCount;o++){const s=this.Et(i,r,o);this.Rt(s)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Jg extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class em{constructor(e,t,i,r,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,tm.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new em(ye.min(),r,new en(Le),Lr(),We())}}class tm{constructor(e,t,i,r,o){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new tm(i,t,We(),We(),We())}}class V0{constructor(e,t,i,r){this.Pt=e,this.removedTargetIds=t,this.key=i,this.bt=r}}class TG{constructor(e,t){this.targetId=e,this.Vt=t}}class DG{constructor(e,t,i=gi.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class MG{constructor(){this.St=0,this.Dt=AG(),this.Ct=gi.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=We(),t=We(),i=We();return this.Dt.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:fe()}}),new tm(this.Ct,this.xt,e,t,i)}Ft(){this.Nt=!1,this.Dt=AG()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class vIe{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Lr(),this.zt=SG(),this.Wt=new en(Le)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const i=this.Zt(t);switch(e.state){case 0:this.te(t)&&i.$t(e.resumeToken);break;case 1:i.Ut(),i.kt||i.Ft(),i.$t(e.resumeToken);break;case 2:i.Ut(),i.kt||this.removeTarget(t);break;case 3:this.te(t)&&(i.Kt(),i.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),i.$t(e.resumeToken));break;default:fe()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((i,r)=>{this.te(r)&&t(r)})}ne(e){var t;const i=e.targetId,r=e.Vt.count,o=this.se(i);if(o){const s=o.target;if(A0(s))if(0===r){const a=new ae(s.path);this.Yt(i,a,ln.newNoDocument(a,ye.min()))}else be(1===r);else{const a=this.ie(i);if(a!==r){const c=this.re(e,a);0!==c&&(this.ee(i),this.Wt=this.Wt.insert(i,2===c?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=VO.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(l,u,d){var h,f,b,x,I,k;const M={localCacheCount:u,existenceFilterCount:d.count},V=d.unchangedNames;return V&&(M.bloomFilter={applied:0===l,hashCount:null!==(h=V?.hashCount)&&void 0!==h?h:0,bitmapLength:null!==(x=null===(b=null===(f=V?.bits)||void 0===f?void 0:f.bitmap)||void 0===b?void 0:b.length)&&void 0!==x?x:0,padding:null!==(k=null===(I=V?.bits)||void 0===I?void 0:I.padding)&&void 0!==k?k:0}),M}(c,a,e.Vt))}}}}re(e,t){const{unchangedNames:i,count:r}=e.Vt;if(!i||!i.bits)return 1;const{bits:{bitmap:o="",padding:s=0},hashCount:a=0}=i;let c,l;try{c=la(o).toUint8Array()}catch(u){if(u instanceof N7)return Uo("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw u}try{l=new BO(c,s,a)}catch(u){return Uo(u instanceof Jg?"BloomFilter error: ":"Applying bloom filter failed: ",u),1}return 0===l.It?1:r!==t-this.oe(e.targetId,l)?2:0}oe(e,t){const i=this.Gt.getRemoteKeysForTarget(e);let r=0;return i.forEach(o=>{const s=this.Gt.ue(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;t.vt(a)||(this.Yt(e,o,null),r++)}),r}ce(e){const t=new Map;this.Qt.forEach((o,s)=>{const a=this.se(s);if(a){if(o.current&&A0(a.target)){const c=new ae(a.target.path);null!==this.jt.get(c)||this.ae(s,c)||this.Yt(s,c,ln.newNoDocument(c,e))}o.Mt&&(t.set(s,o.Ot()),o.Ft())}});let i=We();this.zt.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{const l=this.se(c);return!l||"TargetPurposeLimboResolution"===l.purpose||(a=!1,!1)}),a&&(i=i.add(o))}),this.jt.forEach((o,s)=>s.setReadTime(e));const r=new em(e,t,this.Wt,this.jt,i);return this.jt=Lr(),this.zt=SG(),this.Wt=new en(Le),r}Jt(e,t){if(!this.te(e))return;const i=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,i),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,i){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),i&&(this.jt=this.jt.insert(t,i))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new MG,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new cn(Le),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||ee("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new MG),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function SG(){return new en(ae.comparator)}function AG(){return new en(ae.comparator)}const wIe={asc:"ASCENDING",desc:"DESCENDING"},CIe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xIe={and:"AND",or:"OR"};class EIe{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function UO(n,e){return n.useProto3Json||Ug(e)?e:{value:e}}function hh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function kG(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function IIe(n,e){return hh(n,e.toTimestamp())}function Kn(n){return be(!!n),ye.fromTimestamp(function(e){const t=oc(e);return new In(t.seconds,t.nanos)}(n))}function jO(n,e){return(t=n,new vt(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function OG(n){const e=vt.fromString(n);return be(jG(e)),e}function nm(n,e){return jO(n.databaseId,e.path)}function Ds(n,e){const t=OG(e);if(t.get(1)!==n.databaseId.projectId)throw new Y(L.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Y(L.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ae(RG(t))}function zO(n,e){return jO(n.databaseId,e)}function PG(n){const e=OG(n);return 4===e.length?vt.emptyPath():RG(e)}function im(n){return new vt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function RG(n){return be(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function NG(n,e,t){return{name:nm(n,e),fields:t.value.mapValue.fields}}function rm(n,e){let t;if(e instanceof uh)t={update:NG(n,e.key,e.value)};else if(e instanceof dh)t={delete:nm(n,e.key)};else if(e instanceof ha)t={update:NG(n,e.key,e.data),updateMask:PIe(e.fieldMask)};else{if(!(e instanceof RO))return fe();t={verify:nm(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,o){const s=o.transform;if(s instanceof ch)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof Ol)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof Pl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof lh)return{fieldPath:o.field.canonicalString(),increment:s.gt};throw fe()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:IIe(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:fe()),t;var r}function $O(n,e){const t=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?_n.updateTime(Kn(r.updateTime)):void 0!==r.exists?_n.exists(r.exists):_n.none():_n.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(o,s){let a=null;"setToServerValue"in s?(be("REQUEST_TIME"===s.setToServerValue),a=new ch):"appendMissingElements"in s?a=new Ol(s.appendMissingElements.values||[]):"removeAllFromArray"in s?a=new Pl(s.removeAllFromArray.values||[]):"increment"in s?a=new lh(o,s.increment):fe();const c=Wn.fromServerFormat(s.fieldPath);return new Xg(c,a)}(n,r)):[];var r;if(e.update){const r=Ds(n,e.update.name),o=new Hi({mapValue:{fields:e.update.fields}});if(e.updateMask){const s=new Fr((e.updateMask.fieldPaths||[]).map(l=>Wn.fromServerFormat(l)));return new ha(r,o,s,t,i)}return new uh(r,o,t,i)}if(e.delete){const r=Ds(n,e.delete);return new dh(r,t)}if(e.verify){const r=Ds(n,e.verify);return new RO(r,t)}return fe()}function LG(n,e){return{documents:[zO(n,e.path)]}}function HO(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=zO(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=zO(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(c){if(0!==c.length)return UG(Nt.create(c,"and"))}(e.filters);r&&(t.structuredQuery.where=r);const o=function(c){if(0!==c.length)return c.map(l=>{return{field:uc((u=l).field),direction:AIe(u.dir)};var u})}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const s=UO(n,e.limit);var a,c;return null!==s&&(t.structuredQuery.limit=s),e.startAt&&(t.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(t.structuredQuery.endAt={before:!(c=e.endAt).inclusive,values:c.position}),t}function VG(n){let e=PG(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){be(1===i);const u=t.from[0];u.allDescendants?r=u.collectionId:e=e.child(u.collectionId)}let o=[];t.where&&(o=function(u){const d=BG(u);return d instanceof Nt&&TO(d)?d.getFilters():[d]}(t.where));let s=[];t.orderBy&&(s=t.orderBy.map(u=>{return new oh(fh((d=u).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;t.limit&&(a=function(u){let d;return d="object"==typeof u?u.value:u,Ug(d)?null:d}(t.limit));let c=null;var u;t.startAt&&(c=new lc((u=t.startAt).values||[],!!u.before));let l=null;return t.endAt&&(l=function(u){return new lc(u.values||[],!u.before)}(t.endAt)),function eG(n,e,t,i,r,o,s,a){return new ua(n,e,t,i,r,o,s,a)}(e,r,s,o,a,"F",c,l)}function BG(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=fh(e.unaryFilter.field);return ht.create(t,"==",{doubleValue:NaN});case"IS_NULL":const i=fh(e.unaryFilter.field);return ht.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=fh(e.unaryFilter.field);return ht.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=fh(e.unaryFilter.field);return ht.create(o,"!=",{nullValue:"NULL_VALUE"});default:return fe()}}(n):void 0!==n.fieldFilter?ht.create(fh((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return fe()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Nt.create(e.compositeFilter.filters.map(t=>BG(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return fe()}}(e.compositeFilter.op))}(n):fe();var e}function AIe(n){return wIe[n]}function kIe(n){return CIe[n]}function OIe(n){return xIe[n]}function uc(n){return{fieldPath:n.canonicalString()}}function fh(n){return Wn.fromServerFormat(n.fieldPath)}function UG(n){return n instanceof ht?function(e){if("=="===e.op){if(V7(e.value))return{unaryFilter:{field:uc(e.field),op:"IS_NAN"}};if(L7(e.value))return{unaryFilter:{field:uc(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(V7(e.value))return{unaryFilter:{field:uc(e.field),op:"IS_NOT_NAN"}};if(L7(e.value))return{unaryFilter:{field:uc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:uc(e.field),op:kIe(e.op),value:e.value}}}(n):n instanceof Nt?function(e){const t=e.getFilters().map(i=>UG(i));return 1===t.length?t[0]:{compositeFilter:{op:OIe(e.op),filters:t}}}(n):fe()}function PIe(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function jG(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class fa{constructor(e,t,i,r,o=ye.min(),s=ye.min(),a=gi.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new fa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new fa(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new fa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new fa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class zG{constructor(e){this.fe=e}}function $G(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:B0(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:nm(r=n.fe,(o=e).key),fields:o.data.value.mapValue.fields,updateTime:hh(r,o.version.toTimestamp()),createTime:hh(r,o.createTime.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:Rl(e.version)};else{if(!e.isUnknownDocument())return fe();i.unknownDocument={path:t.path.toArray(),version:Rl(e.version)}}var r,o;return i}function B0(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Rl(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Nl(n){const e=new In(n.seconds,n.nanoseconds);return ye.fromTimestamp(e)}function Fl(n,e){const t=(e.baseMutations||[]).map(o=>$O(n.fe,o));for(let o=0;o<e.mutations.length-1;++o)o+1<e.mutations.length&&void 0!==e.mutations[o+1].transform&&(e.mutations[o].updateTransforms=e.mutations[o+1].transform.fieldTransforms,e.mutations.splice(o+1,1),++o);const i=e.mutations.map(o=>$O(n.fe,o)),r=In.fromMillis(e.localWriteTimeMs);return new NO(e.batchId,r,t,i)}function om(n){const e=Nl(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Nl(n.lastLimboFreeSnapshotVersion):ye.min();let i;var r;return void 0!==n.query.documents?(be(1===(r=n.query).documents.length),i=yr(ah(PG(r.documents[0])))):i=yr(VG(n.query)),new fa(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,gi.fromBase64String(n.resumeToken))}function HG(n,e){const t=Rl(e.snapshotVersion),i=Rl(e.lastLimboFreeSnapshotVersion);let r;r=A0(e.target)?LG(n.fe,e.target):HO(n.fe,e.target);const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Al(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function GO(n){const e=VG({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?P0(e,e.limit,"L"):e}function qO(n,e){return new LO(e.largestBatchId,$O(n.fe,e.overlayMutation))}function GG(n,e){const t=e.path.lastSegment();return[n,ir(e.path.popLast()),t]}function qG(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Rl(i.readTime),documentKey:ir(i.documentKey.path),largestBatchId:i.largestBatchId}}class NIe{getBundleMetadata(e,t){return WG(e).get(t).next(i=>{if(i)return{id:(r=i).bundleId,createTime:Nl(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return WG(e).put({bundleId:(i=t).id,createTime:Rl(Kn(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return KG(e).get(t).next(i=>{if(i)return{name:(r=i).name,query:GO(r.bundledQuery),readTime:Nl(r.readTime)};var r})}saveNamedQuery(e,t){return KG(e).put({name:(i=t).name,readTime:Rl(Kn(i.readTime)),bundledQuery:i.bundledQuery});var i}}function WG(n){return Ti(n,"bundles")}function KG(n){return Ti(n,"namedQueries")}class U0{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new U0(e,t.uid||"")}getOverlay(e,t){return sm(e).get(GG(this.userId,t)).next(i=>i?qO(this.serializer,i):null)}getOverlays(e,t){const i=Ts();return F.forEach(t,r=>this.getOverlay(e,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(e,t,i){const r=[];return i.forEach((o,s)=>{const a=new LO(t,s);r.push(this.we(e,a))}),F.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(s=>r.add(ir(s.getCollectionPath())));const o=[];return r.forEach(s=>{const a=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,i+1],!1,!0);o.push(sm(e).J("collectionPathOverlayIndex",a))}),F.waitFor(o)}getOverlaysForCollection(e,t,i){const r=Ts(),o=ir(t),s=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return sm(e).j("collectionPathOverlayIndex",s).next(a=>{for(const c of a){const l=qO(this.serializer,c);r.set(l.getKey(),l)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const o=Ts();let s;const a=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return sm(e).X({index:"collectionGroupOverlayIndex",range:a},(c,l,u)=>{const d=qO(this.serializer,l);o.size()<r||d.largestBatchId===s?(o.set(d.getKey(),d),s=d.largestBatchId):u.done()}).next(()=>o)}we(e,t){return sm(e).put(function(i,r,o){const[s,a,c]=GG(r,o.mutation.key);return{userId:r,collectionPath:a,documentId:c,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:rm(i.fe,o.mutation)}}(this.serializer,this.userId,t))}}function sm(n){return Ti(n,"documentOverlays")}class Ll{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Nn(e.integerValue));else if("doubleValue"in e){const i=Nn(e.doubleValue);isNaN(i)?this.ye(t,13):(this.ye(t,15),jg(i)?t.pe(0):t.pe(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ye(t,20),"string"==typeof i?t.Ie(i):(t.Ie(`${i.seconds||""}`),t.pe(i.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(la(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.ye(t,45),t.pe(i.latitude||0),t.pe(i.longitude||0)}else"mapValue"in e?B7(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):fe()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const i=e.fields||{};this.ye(t,55);for(const r of Object.keys(i))this.Te(r,t),this.me(i[r],t)}Pe(e,t){const i=e.values||[];this.ye(t,50);for(const r of i)this.me(r,t)}ve(e,t){this.ye(t,37),ae.fromName(e).path.forEach(i=>{this.ye(t,60),this.be(i,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function FIe(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function QG(n){const e=64-function(t){let i=0;for(let r=0;r<8;++r){const o=FIe(255&t[r]);if(i+=o,8!==o)break}return i}(n);return Math.ceil(e/8)}Ll.Ve=new Ll;class LIe{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.De(i.value),i=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ne(i.value),i=t.next();this.ke()}Me(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.De(i);else if(i<2048)this.De(960|i>>>6),this.De(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.De(480|i>>>12),this.De(128|63&i>>>6),this.De(128|63&i);else{const r=t.codePointAt(0);this.De(240|r>>>18),this.De(128|63&r>>>12),this.De(128|63&r>>>6),this.De(128|63&r)}}this.Ce()}$e(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ne(i);else if(i<2048)this.Ne(960|i>>>6),this.Ne(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i);else{const r=t.codePointAt(0);this.Ne(240|r>>>18),this.Ne(128|63&r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r)}}this.ke()}Oe(e){const t=this.Fe(e),i=QG(t);this.Be(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Le(e){const t=this.Fe(e),i=QG(t);this.Be(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(r){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,r,!1),new Uint8Array(o.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class VIe{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class BIe{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class am{constructor(){this.je=new LIe,this.ze=new VIe(this.je),this.We=new BIe(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class Vl{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new Vl(this.indexId,this.documentKey,this.arrayValue,i)}}function dc(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=YG(n.arrayValue,e.arrayValue),0!==t?t:(t=YG(n.directionalValue,e.directionalValue),0!==t?t:ae.comparator(n.documentKey,e.documentKey)))}function YG(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class UIe{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const i=t;i.isInequality()?this.Ze=i:this.Xe.push(i)}}tn(e){be(e.collectionGroup===this.collectionId);const t=bO(e);if(void 0!==t&&!this.en(t))return!1;const i=Tl(e);let r=new Set,o=0,s=0;for(;o<i.length&&this.en(i[o]);++o)r=r.add(i[o].fieldPath.canonicalString());if(o===i.length)return!0;if(void 0!==this.Ze){if(!r.has(this.Ze.field.canonicalString())){const a=i[o];if(!this.nn(this.Ze,a)||!this.sn(this.Ye[s++],a))return!1}++o}for(;o<i.length;++o)if(s>=this.Ye.length||!this.sn(this.Ye[s++],i[o]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function XG(n){var e,t;if(be(n instanceof ht||n instanceof Nt),n instanceof ht){if(n instanceof X7){const r=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(o=>ht.create(n.field,"==",o)))||[];return Nt.create(r,"or")}return n}const i=n.filters.map(r=>XG(r));return Nt.create(i,n.op)}function jIe(n){if(0===n.getFilters().length)return[];const e=QO(XG(n));return be(ZG(e)),WO(e)||KO(e)?[e]:e.getFilters()}function WO(n){return n instanceof ht}function KO(n){return n instanceof Nt&&TO(n)}function ZG(n){return WO(n)||KO(n)||function(e){if(e instanceof Nt&&IO(e)){for(const t of e.getFilters())if(!WO(t)&&!KO(t))return!1;return!0}return!1}(n)}function QO(n){if(be(n instanceof ht||n instanceof Nt),n instanceof ht)return n;if(1===n.filters.length)return QO(n.filters[0]);const e=n.filters.map(i=>QO(i));let t=Nt.create(e,n.op);return t=j0(t),ZG(t)?t:(be(t instanceof Nt),be(sh(t)),be(t.filters.length>1),t.filters.reduce((i,r)=>YO(i,r)))}function YO(n,e){let t;return be(n instanceof ht||n instanceof Nt),be(e instanceof ht||e instanceof Nt),t=n instanceof ht?e instanceof ht?Nt.create([n,e],"and"):JG(n,e):e instanceof ht?JG(e,n):function(i,r){if(be(i.filters.length>0&&r.filters.length>0),sh(i)&&sh(r))return K7(i,r.getFilters());const o=IO(i)?i:r,s=IO(i)?r:i,a=o.filters.map(c=>YO(c,s));return Nt.create(a,"or")}(n,e),j0(t)}function JG(n,e){if(sh(e))return K7(e,n.getFilters());{const t=e.filters.map(i=>YO(n,i));return Nt.create(t,"or")}}function j0(n){if(be(n instanceof ht||n instanceof Nt),n instanceof ht)return n;const e=n.getFilters();if(1===e.length)return j0(e[0]);if(q7(n))return n;const t=e.map(r=>j0(r)),i=[];return t.forEach(r=>{r instanceof ht?i.push(r):r instanceof Nt&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:Nt.create(i,n.op)}class zIe{constructor(){this.rn=new XO}addToCollectionParentIndex(e,t){return this.rn.add(t),F.resolve()}getCollectionParents(e,t){return F.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return F.resolve()}deleteFieldIndex(e,t){return F.resolve()}getDocumentsMatchingTarget(e,t){return F.resolve(null)}getIndexType(e,t){return F.resolve(0)}getFieldIndexes(e,t){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,t){return F.resolve(Yr.min())}getMinOffsetFromCollectionGroup(e,t){return F.resolve(Yr.min())}updateCollectionGroup(e,t,i){return F.resolve()}updateIndexEntries(e,t){return F.resolve()}}class XO{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new cn(vt.comparator),o=!r.has(i);return this.index[t]=r.add(i),o}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new cn(vt.comparator)).toArray()}}const z0=new Uint8Array(0);class $Ie{constructor(e,t){this.user=e,this.databaseId=t,this.on=new XO,this.un=new da(i=>Al(i),(i,r)=>qg(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const o={collectionId:i,parent:ir(r)};return eq(e).put(o)}return F.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[y7(t),""],!1,!0);return eq(e).j(r).next(o=>{for(const s of o){if(s.collectionId!==t)break;i.push(Es(s.parent))}return i})}addFieldIndex(e,t){const i=$0(e),r={indexId:(s=t).indexId,collectionGroup:s.collectionGroup,fields:s.fields.map(a=>[a.fieldPath.canonicalString(),a.kind])};var s;delete r.indexId;const o=i.add(r);if(t.indexState){const s=lm(e);return o.next(a=>{s.put(qG(a,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return o.next()}deleteFieldIndex(e,t){const i=$0(e),r=lm(e),o=cm(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=cm(e);let r=!0;const o=new Map;return F.forEach(this.cn(t),s=>this.an(e,s).next(a=>{r&&(r=!!a),o.set(s,a)})).next(()=>{if(r){let s=We();const a=[];return F.forEach(o,(c,l)=>{var u;ee("IndexedDbIndexManager",`Using index ${u=c,`id=${u.indexId}|cg=${u.collectionGroup}|f=${u.fields.map(V=>`${V.fieldPath}:${V.kind}`).join(",")}`} to execute ${Al(t)}`);const d=function(V,K){const oe=bO(K);if(void 0===oe)return null;for(const de of k0(V,oe.fieldPath))switch(de.op){case"array-contains-any":return de.value.arrayValue.values||[];case"array-contains":return[de.value]}return null}(l,c),h=function(V,K){const oe=new Map;for(const de of Tl(K))for(const ze of k0(V,de.fieldPath))switch(ze.op){case"==":case"in":oe.set(de.fieldPath.canonicalString(),ze.value);break;case"not-in":case"!=":return oe.set(de.fieldPath.canonicalString(),ze.value),Array.from(oe.values())}return null}(l,c),f=function(V,K){const oe=[];let de=!0;for(const ze of Tl(K)){const ft=0===ze.kind?Z7(V,ze.fieldPath,V.startAt):J7(V,ze.fieldPath,V.startAt);oe.push(ft.value),de&&(de=ft.inclusive)}return new lc(oe,de)}(l,c),b=function(V,K){const oe=[];let de=!0;for(const ze of Tl(K)){const ft=0===ze.kind?J7(V,ze.fieldPath,V.endAt):Z7(V,ze.fieldPath,V.endAt);oe.push(ft.value),de&&(de=ft.inclusive)}return new lc(oe,de)}(l,c),x=this.hn(c,l,f),I=this.hn(c,l,b),k=this.ln(c,l,h),M=this.fn(c.indexId,d,x,f.inclusive,I,b.inclusive,k);return F.forEach(M,V=>i.H(V,t.limit).next(K=>{K.forEach(oe=>{const de=ae.fromSegments(oe.documentKey);s.has(de)||(s=s.add(de),a.push(de))})}))}).next(()=>a)}return F.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:jIe(Nt.create(e.filters,"and")).map(i=>MO(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,i,r,o,s,a){const c=(null!=t?t.length:1)*Math.max(i.length,o.length),l=c/(null!=t?t.length:1),u=[];for(let d=0;d<c;++d){const h=t?this.dn(t[d/l]):z0,f=this.wn(e,h,i[d%l],r),b=this._n(e,h,o[d%l],s),x=a.map(I=>this.wn(e,h,I,!0));u.push(...this.createRange(f,b,x))}return u}wn(e,t,i,r){const o=new Vl(e,ae.empty(),t,i);return r?o:o.Je()}_n(e,t,i,r){const o=new Vl(e,ae.empty(),t,i);return r?o.Je():o}an(e,t){const i=new UIe(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(o=>{let s=null;for(const a of o)i.tn(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(e,t){let i=2;const r=this.cn(t);return F.forEach(r,o=>this.an(e,o).next(s=>{s?0!==i&&s.fields.length<function(a){let c=new cn(Wn.comparator),l=!1;for(const u of a.filters)for(const d of u.getFlattenedFilters())d.field.isKeyField()||("array-contains"===d.op||"array-contains-any"===d.op?l=!0:c=c.add(d.field));for(const u of a.orderBy)u.field.isKeyField()||(c=c.add(u.field));return c.size+(l?1:0)}(o)&&(i=1):i=0})).next(()=>null!==t.limit&&r.length>1&&2===i?1:i)}mn(e,t){const i=new am;for(const r of Tl(e)){const o=t.data.field(r.fieldPath);if(null==o)return null;const s=i.He(r.kind);Ll.Ve._e(o,s)}return i.Qe()}dn(e){const t=new am;return Ll.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const i=new am;return Ll.Ve._e(Sl(this.databaseId,t),i.He(function(r){const o=Tl(r);return 0===o.length?0:o[o.length-1].kind}(e))),i.Qe()}ln(e,t,i){if(null===i)return[];let r=[];r.push(new am);let o=0;for(const s of Tl(e)){const a=i[o++];for(const c of r)if(this.yn(t,s.fieldPath)&&Hg(a))r=this.pn(r,s,a);else{const l=c.He(s.kind);Ll.Ve._e(a,l)}}return this.In(r)}hn(e,t,i){return this.ln(e,t,i.position)}In(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].Qe();return t}pn(e,t,i){const r=[...e],o=[];for(const s of i.arrayValue.values||[])for(const a of r){const c=new am;c.seed(a.Qe()),Ll.Ve._e(s,c.He(t.kind)),o.push(c)}return o}yn(e,t){return!!e.filters.find(i=>i instanceof ht&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=$0(e),r=lm(e);return(t?i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.j()).next(o=>{const s=[];return F.forEach(o,a=>r.get([a.indexId,this.uid]).next(c=>{s.push(function(l,u){const d=u?new Vg(u.sequenceNumber,new Yr(Nl(u.readTime),new ae(Es(u.documentKey)),u.largestBatchId)):Vg.empty(),h=l.fields.map(([f,b])=>new w0(Wn.fromServerFormat(f),b));return new v0(l.indexId,l.collectionGroup,h,d)}(a,c))})).next(()=>s)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const o=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==o?o:Le(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=$0(e),o=lm(e);return this.Tn(e).next(s=>r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(a=>F.forEach(a,c=>o.put(qG(c.indexId,this.user,s,i)))))}updateIndexEntries(e,t){const i=new Map;return F.forEach(t,(r,o)=>{const s=i.get(r.collectionGroup);return(s?F.resolve(s):this.getFieldIndexes(e,r.collectionGroup)).next(a=>(i.set(r.collectionGroup,a),F.forEach(a,c=>this.En(e,r,c).next(l=>{const u=this.An(o,c);return l.isEqual(u)?F.resolve():this.vn(e,o,c,l,u)}))))})}Rn(e,t,i,r){return cm(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.gn(i,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,i,r){return cm(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.gn(i,t.key),t.key.path.toArray()])}En(e,t,i){const r=cm(e);let o=new cn(dc);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.gn(i,t)])},(s,a)=>{o=o.add(new Vl(i.indexId,t,a.arrayValue,a.directionalValue))}).next(()=>o)}An(e,t){let i=new cn(dc);const r=this.mn(t,e);if(null==r)return i;const o=bO(t);if(null!=o){const s=e.data.field(o.fieldPath);if(Hg(s))for(const a of s.arrayValue.values||[])i=i.add(new Vl(t.indexId,e.key,this.dn(a),r))}else i=i.add(new Vl(t.indexId,e.key,z0,r));return i}vn(e,t,i,r,o){ee("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const s=[];return function(a,c,l,u,d){const h=a.getIterator(),f=c.getIterator();let b=ih(h),x=ih(f);for(;b||x;){let I=!1,k=!1;if(b&&x){const M=l(b,x);M<0?k=!0:M>0&&(I=!0)}else null!=b?k=!0:I=!0;I?(u(x),x=ih(f)):k?(d(b),b=ih(h)):(b=ih(h),x=ih(f))}}(r,o,dc,a=>{s.push(this.Rn(e,t,i,a))},a=>{s.push(this.Pn(e,t,i,a))}),F.waitFor(s)}Tn(e){let t=1;return lm(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,o)=>{o.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((s,a)=>dc(s,a)).filter((s,a,c)=>!a||0!==dc(s,c[a-1]));const r=[];r.push(e);for(const s of i){const a=dc(s,e),c=dc(s,t);if(0===a)r[0]=e.Je();else if(a>0&&c<0)r.push(s),r.push(s.Je());else if(c>0)break}r.push(t);const o=[];for(let s=0;s<r.length;s+=2){if(this.bn(r[s],r[s+1]))return[];o.push(IDBKeyRange.bound([r[s].indexId,this.uid,r[s].arrayValue,r[s].directionalValue,z0,[]],[r[s+1].indexId,this.uid,r[s+1].arrayValue,r[s+1].directionalValue,z0,[]]))}return o}bn(e,t){return dc(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(tq)}getMinOffset(e,t){return F.mapArray(this.cn(t),i=>this.an(e,i).next(r=>r||fe())).next(tq)}}function eq(n){return Ti(n,"collectionParents")}function cm(n){return Ti(n,"indexEntries")}function $0(n){return Ti(n,"indexConfiguration")}function lm(n){return Ti(n,"indexState")}function tq(n){be(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;yO(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new Yr(e.readTime,e.documentKey,t)}const nq={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class rr{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new rr(e,rr.DEFAULT_COLLECTION_PERCENTILE,rr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function iq(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),o=[],s=IDBKeyRange.only(t.batchId);let a=0;const c=i.X({range:s},(u,d,h)=>(a++,h.delete()));o.push(c.next(()=>{be(1===a)}));const l=[];for(const u of t.mutations){const d=M7(e,u.key.path,t.batchId);o.push(r.delete(d)),l.push(u.key)}return F.waitFor(o).next(()=>l)}function H0(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw fe();e=n.noDocument}return JSON.stringify(e).length}rr.DEFAULT_COLLECTION_PERCENTILE=10,rr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rr.DEFAULT=new rr(41943040,rr.DEFAULT_COLLECTION_PERCENTILE,rr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rr.DISABLED=new rr(-1,0,0);class G0{constructor(e,t,i,r){this.userId=e,this.serializer=t,this.indexManager=i,this.referenceDelegate=r,this.Vn={}}static de(e,t,i,r){be(""!==e.uid);const o=e.isAuthenticated()?e.uid:"";return new G0(o,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return hc(e).X({index:"userMutationsIndex",range:i},(r,o,s)=>{t=!1,s.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const o=ph(e),s=hc(e);return s.add({}).next(a=>{be("number"==typeof a);const c=new NO(a,t,i,r),l=function(h,f,b){const x=b.baseMutations.map(k=>rm(h.fe,k)),I=b.mutations.map(k=>rm(h.fe,k));return{userId:f,batchId:b.batchId,localWriteTimeMs:b.localWriteTime.toMillis(),baseMutations:x,mutations:I}}(this.serializer,this.userId,c),u=[];let d=new cn((h,f)=>Le(h.canonicalString(),f.canonicalString()));for(const h of r){const f=M7(this.userId,h.key.path,a);d=d.add(h.key.path.popLast()),u.push(s.put(l)),u.push(o.put(f,k1e))}return d.forEach(h=>{u.push(this.indexManager.addToCollectionParentIndex(e,h))}),e.addOnCommittedListener(()=>{this.Vn[a]=c.keys()}),F.waitFor(u).next(()=>c)})}lookupMutationBatch(e,t){return hc(e).get(t).next(i=>i?(be(i.userId===this.userId),Fl(this.serializer,i)):null)}Sn(e,t){return this.Vn[t]?F.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.Vn[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return hc(e).X({index:"userMutationsIndex",range:r},(s,a,c)=>{a.userId===this.userId&&(be(a.batchId>=i),o=Fl(this.serializer,a)),c.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return hc(e).X({index:"userMutationsIndex",range:t,reverse:!0},(r,o,s)=>{i=o.batchId,s.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return hc(e).j("userMutationsIndex",t).next(i=>i.map(r=>Fl(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=x0(this.userId,t.path),r=IDBKeyRange.lowerBound(i),o=[];return ph(e).X({range:r},(s,a,c)=>{const[l,u,d]=s,h=Es(u);if(l===this.userId&&t.path.isEqual(h))return hc(e).get(d).next(f=>{if(!f)throw fe();be(f.userId===this.userId),o.push(Fl(this.serializer,f))});c.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new cn(Le);const r=[];return t.forEach(o=>{const s=x0(this.userId,o.path),a=IDBKeyRange.lowerBound(s),c=ph(e).X({range:a},(l,u,d)=>{const[h,f,b]=l,x=Es(f);h===this.userId&&o.path.isEqual(x)?i=i.add(b):d.done()});r.push(c)}),F.waitFor(r).next(()=>this.Dn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,o=x0(this.userId,i),s=IDBKeyRange.lowerBound(o);let a=new cn(Le);return ph(e).X({range:s},(c,l,u)=>{const[d,h,f]=c,b=Es(h);d===this.userId&&i.isPrefixOf(b)?b.length===r&&(a=a.add(f)):u.done()}).next(()=>this.Dn(e,a))}Dn(e,t){const i=[],r=[];return t.forEach(o=>{r.push(hc(e).get(o).next(s=>{if(null===s)throw fe();be(s.userId===this.userId),i.push(Fl(this.serializer,s))}))}),F.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return iq(e.ht,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),F.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return F.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return ph(e).X({range:i},(o,s,a)=>{if(o[0]===this.userId){const c=Es(o[1]);r.push(c)}else a.done()}).next(()=>{be(0===r.length)})})}containsKey(e,t){return rq(e,this.userId,t)}xn(e){return oq(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function rq(n,e,t){const i=x0(e,t.path),r=i[1],o=IDBKeyRange.lowerBound(i);let s=!1;return ph(n).X({range:o,Y:!0},(a,c,l)=>{const[u,d,h]=a;u===e&&d===r&&(s=!0),l.done()}).next(()=>s)}function hc(n){return Ti(n,"mutations")}function ph(n){return Ti(n,"documentMutations")}function oq(n){return Ti(n,"mutationQueues")}class Bl{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Bl(0)}static Mn(){return new Bl(-1)}}class HIe{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const i=new Bl(t.highestTargetId);return t.highestTargetId=i.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>ye.fromTimestamp(new In(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.$n(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.On(e,r)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(i=>(i.targetCount+=1,this.Bn(t,i),this.On(e,i))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>gh(e).delete(t.targetId)).next(()=>this.$n(e)).next(i=>(be(i.targetCount>0),i.targetCount-=1,this.On(e,i)))}removeTargets(e,t,i){let r=0;const o=[];return gh(e).X((s,a)=>{const c=om(a);c.sequenceNumber<=t&&null===i.get(c.targetId)&&(r++,o.push(this.removeTargetData(e,c)))}).next(()=>F.waitFor(o)).next(()=>r)}forEachTarget(e,t){return gh(e).X((i,r)=>{const o=om(r);t(o)})}$n(e){return sq(e).get("targetGlobalKey").next(t=>(be(null!==t),t))}On(e,t){return sq(e).put("targetGlobalKey",t)}Fn(e,t){return gh(e).put(HG(this.serializer,t))}Bn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const i=Al(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return gh(e).X({range:r,index:"queryTargetsIndex"},(s,a,c)=>{const l=om(a);qg(t,l.target)&&(o=l,c.done())}).next(()=>o)}addMatchingKeys(e,t,i){const r=[],o=fc(e);return t.forEach(s=>{const a=ir(s.path);r.push(o.put({targetId:i,path:a})),r.push(this.referenceDelegate.addReference(e,i,s))}),F.waitFor(r)}removeMatchingKeys(e,t,i){const r=fc(e);return F.forEach(t,o=>{const s=ir(o.path);return F.waitFor([r.delete([i,s]),this.referenceDelegate.removeReference(e,i,o)])})}removeMatchingKeysForTargetId(e,t){const i=fc(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=fc(e);let o=We();return r.X({range:i,Y:!0},(s,a,c)=>{const l=Es(s[1]),u=new ae(l);o=o.add(u)}).next(()=>o)}containsKey(e,t){const i=ir(t.path),r=IDBKeyRange.bound([i],[y7(i)],!1,!0);let o=0;return fc(e).X({index:"documentTargetsIndex",Y:!0,range:r},([s,a],c,l)=>{0!==s&&(o++,l.done())}).next(()=>o>0)}le(e,t){return gh(e).get(t).next(i=>i?om(i):null)}}function gh(n){return Ti(n,"targets")}function sq(n){return Ti(n,"targetGlobal")}function fc(n){return Ti(n,"targetDocuments")}function aq([n,e],[t,i]){const r=Le(n,t);return 0===r?Le(e,i):r}class GIe{constructor(e){this.Ln=e,this.buffer=new cn(aq),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();aq(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class cq{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;ee("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,_(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){ic(i)?ee("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield nc(i)}yield t.Qn(3e5)}))}}class qIe{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return F.resolve(Xr.ct);const i=new GIe(t);return this.jn.forEachTarget(e,r=>i.Kn(r.sequenceNumber)).next(()=>this.jn.Wn(e,r=>i.Kn(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.jn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(ee("LruGarbageCollector","Garbage collection skipped; disabled"),F.resolve(nq)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ee("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),nq):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let i,r,o,s,a,c,l;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(ee("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),r=this.params.maximumSequenceNumbersToCollect):r=d,s=Date.now(),this.nthSequenceNumber(e,r))).next(d=>(i=d,a=Date.now(),this.removeTargets(e,i,t))).next(d=>(o=d,c=Date.now(),this.removeOrphanedDocuments(e,i))).next(d=>(l=Date.now(),mO()<=gt.DEBUG&&ee("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-u}ms\n\tDetermined least recently used ${r} in `+(a-s)+`ms\n\tRemoved ${o} targets in `+(c-a)+`ms\n\tRemoved ${d} documents in `+(l-c)+`ms\nTotal Duration: ${l-u}ms`),F.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:d})))}}class WIe{constructor(e,t){this.db=e,this.garbageCollector=function lq(n,e){return new qIe(n,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}Jn(e){let t=0;return this.Wn(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(i,r)=>t(r))}addReference(e,t,i){return q0(e,i)}removeReference(e,t,i){return q0(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return q0(e,t)}Xn(e,t){return function(i,r){let o=!1;return oq(i).Z(s=>rq(i,s,r).next(a=>(a&&(o=!0),F.resolve(!a)))).next(()=>o)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let o=0;return this.Yn(e,(s,a)=>{if(a<=t){const c=this.Xn(e,s).next(l=>{if(!l)return o++,i.getEntry(e,s).next(()=>(i.removeEntry(s,ye.min()),fc(e).delete([0,ir(s.path)])))});r.push(c)}}).next(()=>F.waitFor(r)).next(()=>i.apply(e)).next(()=>o)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return q0(e,t)}Yn(e,t){const i=fc(e);let r,o=Xr.ct;return i.X({index:"documentTargetsIndex"},([s,a],{path:c,sequenceNumber:l})=>{0===s?(o!==Xr.ct&&t(new ae(Es(r)),o),o=l,r=c):o=Xr.ct}).next(()=>{o!==Xr.ct&&t(new ae(Es(r)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function q0(n,e){return fc(n).put((i=n.currentSequenceNumber,{targetId:0,path:ir(e.path),sequenceNumber:i}));var i}class uq{constructor(){this.changes=new da(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ln.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?F.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class KIe{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return Ul(e).put(i)}removeEntry(e,t,i){return Ul(e).delete(function(r,o){const s=r.path.toArray();return[s.slice(0,s.length-2),s[s.length-2],B0(o),s[s.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.Zn(e,i)))}getEntry(e,t){let i=ln.newInvalidDocument(t);return Ul(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(um(t))},(r,o)=>{i=this.ts(t,o)}).next(()=>i)}es(e,t){let i={size:0,document:ln.newInvalidDocument(t)};return Ul(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(um(t))},(r,o)=>{i={document:this.ts(t,o),size:H0(o)}}).next(()=>i)}getEntries(e,t){let i=Lr();return this.ns(e,t,(r,o)=>{const s=this.ts(r,o);i=i.insert(r,s)}).next(()=>i)}ss(e,t){let i=Lr(),r=new en(ae.comparator);return this.ns(e,t,(o,s)=>{const a=this.ts(o,s);i=i.insert(o,a),r=r.insert(o,H0(s))}).next(()=>({documents:i,rs:r}))}ns(e,t,i){if(t.isEmpty())return F.resolve();let r=new cn(pq);t.forEach(c=>r=r.add(c));const o=IDBKeyRange.bound(um(r.first()),um(r.last())),s=r.getIterator();let a=s.getNext();return Ul(e).X({index:"documentKeyIndex",range:o},(c,l,u)=>{const d=ae.fromSegments([...l.prefixPath,l.collectionGroup,l.documentId]);for(;a&&pq(a,d)<0;)i(a,null),a=s.getNext();a&&a.isEqual(d)&&(i(a,l),a=s.hasNext()?s.getNext():null),a?u.G(um(a)):u.done()}).next(()=>{for(;a;)i(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,t,i,r){const o=t.path,s=[o.popLast().toArray(),o.lastSegment(),B0(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],a=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ul(e).j(IDBKeyRange.bound(s,a,!0)).next(c=>{let l=Lr();for(const u of c){const d=this.ts(ae.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);d.isFoundDocument()&&(Kg(t,d)||r.has(d.key))&&(l=l.insert(d.key,d))}return l})}getAllFromCollectionGroup(e,t,i,r){let o=Lr();const s=fq(t,i),a=fq(t,Yr.max());return Ul(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},(c,l,u)=>{const d=this.ts(ae.fromSegments(l.prefixPath.concat(l.collectionGroup,l.documentId)),l);o=o.insert(d.key,d),o.size===r&&u.done()}).next(()=>o)}newChangeBuffer(e){return new QIe(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return hq(e).get("remoteDocumentGlobalKey").next(t=>(be(!!t),t))}Zn(e,t){return hq(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const i=function RIe(n,e){let t;if(e.document)t=function FG(n,e,t){const i=Ds(n,e.name),r=Kn(e.updateTime),o=e.createTime?Kn(e.createTime):ye.min(),s=new Hi({mapValue:{fields:e.fields}}),a=ln.newFoundDocument(i,r,o,s);return t&&a.setHasCommittedMutations(),t?a.setHasCommittedMutations():a}(n.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=ae.fromSegments(e.noDocument.path),r=Nl(e.noDocument.readTime);t=ln.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return fe();{const i=ae.fromSegments(e.unknownDocument.path),r=Nl(e.unknownDocument.version);t=ln.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(i){const r=new In(i[0],i[1]);return ye.fromTimestamp(r)}(e.readTime)),t}(this.serializer,t);if(!i.isNoDocument()||!i.version.isEqual(ye.min()))return i}return ln.newInvalidDocument(e)}}function dq(n){return new KIe(n)}class QIe extends uq{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new da(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new cn((o,s)=>Le(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{const a=this.us.get(o);if(t.push(this.os.removeEntry(e,o,a.readTime)),s.isValidDocument()){const c=$G(this.os.serializer,s);r=r.add(o.path.popLast());const l=H0(c);i+=l-a.size,t.push(this.os.addEntry(e,o,c))}else if(i-=a.size,this.trackRemovals){const c=$G(this.os.serializer,s.convertToNoDocument(ye.min()));t.push(this.os.addEntry(e,o,c))}}),r.forEach(o=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,o))}),t.push(this.os.updateMetadata(e,i)),F.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(i=>(this.us.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:i,rs:r})=>(r.forEach((o,s)=>{this.us.set(o,{size:s,readTime:i.get(o).readTime})}),i))}}function hq(n){return Ti(n,"remoteDocumentGlobal")}function Ul(n){return Ti(n,"remoteDocumentsV14")}function um(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function fq(n,e){const t=e.documentKey.path.toArray();return[n,B0(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function pq(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let o=0;o<t.length-2&&o<i.length-2;++o)if(r=Le(t[o],i[o]),r)return r;return r=Le(t.length,i.length),r||(r=Le(t[t.length-2],i[i.length-2]),r||Le(t[t.length-1],i[i.length-1]))}class YIe{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class gq{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(null!==i&&Zg(i.mutation,r,Fr.empty(),In.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,We()).next(()=>i))}getLocalViewOfDocuments(e,t,i=We()){const r=Ts();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(o=>{let s=Qg();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){const i=Ts();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,We()))}populateOverlays(e,t,i){const r=[];return i.forEach(o=>{t.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,i,r){let o=Lr();const s=Yg(),a=Yg();return t.forEach((c,l)=>{const u=i.get(l.key);r.has(l.key)&&(void 0===u||u.mutation instanceof ha)?o=o.insert(l.key,l):void 0!==u?(s.set(l.key,u.mutation.getFieldMask()),Zg(u.mutation,l,u.mutation.getFieldMask(),In.now())):s.set(l.key,Fr.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((l,u)=>s.set(l,u)),t.forEach((l,u)=>{var d;return a.set(l,new YIe(u,null!==(d=s.get(l))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,t){const i=Yg();let r=new en((s,a)=>s-a),o=We();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(const a of s)a.keys().forEach(c=>{const l=t.get(c);if(null===l)return;let u=i.get(c)||Fr.empty();u=a.applyToLocalView(l,u),i.set(c,u);const d=(r.get(a.batchId)||We()).add(c);r=r.insert(a.batchId,d)})}).next(()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),l=c.key,u=c.value,d=aG();u.forEach(h=>{if(!o.has(h)){const f=mG(t.get(h),i.get(h));null!==f&&d.set(h,f),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,d))}return F.waitFor(s)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return ae.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):AO(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var r}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(o=>{const s=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-o.size):F.resolve(Ts());let a=-1,c=o;return s.next(l=>F.forEach(l,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(u)?F.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{c=c.insert(u,h)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,c,l,We())).next(u=>({batchId:a,changes:sG(u)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ae(t)).next(i=>{let r=Qg();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const r=t.collectionGroup;let o=Qg();return this.indexManager.getCollectionParents(e,r).next(s=>F.forEach(s,a=>{const c=(l=t,u=a.child(r),new ua(u,null,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt));var l,u;return this.getDocumentsMatchingCollectionQuery(e,c,i).next(l=>{l.forEach((u,d)=>{o=o.insert(u,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,i){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(o=>(r=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,r))).next(o=>{r.forEach((a,c)=>{const l=c.getKey();null===o.get(l)&&(o=o.insert(l,ln.newInvalidDocument(l)))});let s=Qg();return o.forEach((a,c)=>{const l=r.get(a);void 0!==l&&Zg(l.mutation,c,Fr.empty(),In.now()),Kg(t,c)&&(s=s.insert(a,c))}),s})}}class XIe{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return F.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var i;return this.cs.set(t.id,{id:(i=t).id,version:i.version,createTime:Kn(i.createTime)}),F.resolve()}getNamedQuery(e,t){return F.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(i=t).name,query:GO(i.bundledQuery),readTime:Kn(i.readTime)}),F.resolve();var i}}class ZIe{constructor(){this.overlays=new en(ae.comparator),this.ls=new Map}getOverlay(e,t){return F.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Ts();return F.forEach(t,r=>this.getOverlay(e,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,o)=>{this.we(e,t,o)}),F.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.ls.get(i);return void 0!==r&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.ls.delete(i)),F.resolve()}getOverlaysForCollection(e,t,i){const r=Ts(),o=t.length+1,s=new ae(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const c=a.getNext().value,l=c.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&c.largestBatchId>i&&r.set(c.getKey(),c)}return F.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let o=new en((l,u)=>l-u);const s=this.overlays.getIterator();for(;s.hasNext();){const l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>i){let u=o.get(l.largestBatchId);null===u&&(u=Ts(),o=o.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}const a=Ts(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,u)=>a.set(l,u)),!(a.size()>=r)););return F.resolve(a)}we(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const s=this.ls.get(r.largestBatchId).delete(i.key);this.ls.set(r.largestBatchId,s)}this.overlays=this.overlays.insert(i.key,new LO(t,i));let o=this.ls.get(t);void 0===o&&(o=We(),this.ls.set(t,o)),this.ls.set(t,o.add(i.key))}}class ZO{constructor(){this.fs=new cn(Di.ds),this.ws=new cn(Di._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const i=new Di(e,t);this.fs=this.fs.add(i),this.ws=this.ws.add(i)}gs(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.ys(new Di(e,t))}ps(e,t){e.forEach(i=>this.removeReference(i,t))}Is(e){const t=new ae(new vt([])),i=new Di(t,e),r=new Di(t,e+1),o=[];return this.ws.forEachInRange([i,r],s=>{this.ys(s),o.push(s.key)}),o}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new ae(new vt([])),i=new Di(t,e),r=new Di(t,e+1);let o=We();return this.ws.forEachInRange([i,r],s=>{o=o.add(s.key)}),o}containsKey(e){const t=new Di(e,0),i=this.fs.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Di{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return ae.comparator(e.key,t.key)||Le(e.As,t.As)}static _s(e,t){return Le(e.As,t.As)||ae.comparator(e.key,t.key)}}class JIe{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new cn(Di.ds)}checkEmpty(e){return F.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const o=this.vs;this.vs++;const s=new NO(o,t,i,r);this.mutationQueue.push(s);for(const a of r)this.Rs=this.Rs.add(new Di(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return F.resolve(s)}lookupMutationBatch(e,t){return F.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.bs(t+1),o=r<0?0:r;return F.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Di(t,0),r=new Di(t,Number.POSITIVE_INFINITY),o=[];return this.Rs.forEachInRange([i,r],s=>{const a=this.Ps(s.As);o.push(a)}),F.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new cn(Le);return t.forEach(r=>{const o=new Di(r,0),s=new Di(r,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([o,s],a=>{i=i.add(a.As)})}),F.resolve(this.Vs(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let o=i;ae.isDocumentKey(o)||(o=o.child(""));const s=new Di(new ae(o),0);let a=new cn(Le);return this.Rs.forEachWhile(c=>{const l=c.key.path;return!!i.isPrefixOf(l)&&(l.length===r&&(a=a.add(c.As)),!0)},s),F.resolve(this.Vs(a))}Vs(e){const t=[];return e.forEach(i=>{const r=this.Ps(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){be(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let i=this.Rs;return F.forEach(t.mutations,r=>{const o=new Di(r.key,t.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Rs=i})}Cn(e){}containsKey(e,t){const i=new Di(t,0),r=this.Rs.firstAfterOrEqual(i);return F.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return F.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class eTe{constructor(e){this.Ds=e,this.docs=new en(ae.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),o=r?r.size:0,s=this.Ds(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return F.resolve(i?i.document.mutableCopy():ln.newInvalidDocument(t))}getEntries(e,t){let i=Lr();return t.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():ln.newInvalidDocument(r))}),F.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let o=Lr();const s=t.path,a=new ae(s.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:l,value:{document:u}}=c.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||yO(w7(u),i)<=0||(r.has(u.key)||Kg(t,u))&&(o=o.insert(u.key,u.mutableCopy()))}return F.resolve(o)}getAllFromCollectionGroup(e,t,i,r){fe()}Cs(e,t){return F.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new tTe(this)}getSize(e){return F.resolve(this.size)}}class tTe extends uq{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.os.addEntry(e,r)):this.os.removeEntry(i)}),F.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class nTe{constructor(e){this.persistence=e,this.xs=new da(t=>Al(t),qg),this.lastRemoteSnapshotVersion=ye.min(),this.highestTargetId=0,this.Ns=0,this.ks=new ZO,this.targetCount=0,this.Ms=Bl.kn()}forEachTarget(e,t){return this.xs.forEach((i,r)=>t(r)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Ns&&(this.Ns=t),F.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Bl(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,F.resolve()}updateTargetData(e,t){return this.Fn(t),F.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,t,i){let r=0;const o=[];return this.xs.forEach((s,a)=>{a.sequenceNumber<=t&&null===i.get(a.targetId)&&(this.xs.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),F.waitFor(o).next(()=>r)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,t){const i=this.xs.get(t)||null;return F.resolve(i)}addMatchingKeys(e,t,i){return this.ks.gs(t,i),F.resolve()}removeMatchingKeys(e,t,i){this.ks.ps(t,i);const r=this.persistence.referenceDelegate,o=[];return r&&t.forEach(s=>{o.push(r.markPotentiallyOrphaned(e,s))}),F.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),F.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ks.Es(t);return F.resolve(i)}containsKey(e,t){return F.resolve(this.ks.containsKey(t))}}class JO{constructor(e,t){this.$s={},this.overlays={},this.Os=new Xr(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new nTe(this),this.indexManager=new zIe,this.remoteDocumentCache=new eTe(i=>this.referenceDelegate.Ls(i)),this.serializer=new zG(t),this.qs=new XIe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ZIe,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.$s[e.toKey()];return i||(i=new JIe(t,this.referenceDelegate),this.$s[e.toKey()]=i),i}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,i){ee("MemoryPersistence","Starting transaction:",e);const r=new iTe(this.Os.next());return this.referenceDelegate.Us(),i(r).next(o=>this.referenceDelegate.Ks(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Gs(e,t){return F.or(Object.values(this.$s).map(i=>()=>i.containsKey(e,t)))}}class iTe extends x7{constructor(e){super(),this.currentSequenceNumber=e}}class W0{constructor(e){this.persistence=e,this.Qs=new ZO,this.js=null}static zs(e){return new W0(e)}get Ws(){if(this.js)return this.js;throw fe()}addReference(e,t,i){return this.Qs.addReference(i,t),this.Ws.delete(i.toString()),F.resolve()}removeReference(e,t,i){return this.Qs.removeReference(i,t),this.Ws.add(i.toString()),F.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),F.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(r=>this.Ws.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(o=>this.Ws.add(o.toString()))}).next(()=>i.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.Ws,i=>{const r=ae.fromPath(i);return this.Hs(e,r).next(o=>{o||t.removeEntry(r,ye.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(i=>{i?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return F.or([()=>F.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class rTe{constructor(e){this.serializer=e}O(e,t,i,r){const o=new C0("createOrUpgrade",t);var a;i<1&&r>=1&&(e.createObjectStore("owner"),(a=e).createObjectStore("mutationQueues",{keyPath:"userId"}),a.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",D7,{unique:!0}),a.createObjectStore("documentMutations"),mq(e),function(a){a.createObjectStore("remoteDocuments")}(e));let s=F.resolve();return i<3&&r>=3&&(0!==i&&(function(a){a.deleteObjectStore("targetDocuments"),a.deleteObjectStore("targets"),a.deleteObjectStore("targetGlobal")}(e),mq(e)),s=s.next(()=>function(a){const c=a.store("targetGlobal"),l={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ye.min().toTimestamp(),targetCount:0};return c.put("targetGlobalKey",l)}(o))),i<4&&r>=4&&(0!==i&&(s=s.next(()=>function(a,c){return c.store("mutations").j().next(l=>{a.deleteObjectStore("mutations"),a.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",D7,{unique:!0});const u=c.store("mutations"),d=l.map(h=>u.put(h));return F.waitFor(d)})}(e,o))),s=s.next(()=>{!function(a){a.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(s=s.next(()=>this.Ys(o))),i<6&&r>=6&&(s=s.next(()=>(function(a){a.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(o)))),i<7&&r>=7&&(s=s.next(()=>this.Zs(o))),i<8&&r>=8&&(s=s.next(()=>this.ti(e,o))),i<9&&r>=9&&(s=s.next(()=>{!function(a){a.objectStoreNames.contains("remoteDocumentChanges")&&a.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(s=s.next(()=>this.ei(o))),i<11&&r>=11&&(s=s.next(()=>{(function(a){a.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(a){a.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(s=s.next(()=>{!function(a){const c=a.createObjectStore("documentOverlays",{keyPath:$1e});c.createIndex("collectionPathOverlayIndex",H1e,{unique:!1}),c.createIndex("collectionGroupOverlayIndex",G1e,{unique:!1})}(e)})),i<13&&r>=13&&(s=s.next(()=>function(a){const c=a.createObjectStore("remoteDocumentsV14",{keyPath:O1e});c.createIndex("documentKeyIndex",P1e),c.createIndex("collectionGroupIndex",R1e)}(e)).next(()=>this.ni(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(s=s.next(()=>this.si(e,o))),i<15&&r>=15&&(s=s.next(()=>function(a){a.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),a.createObjectStore("indexState",{keyPath:B1e}).createIndex("sequenceNumberIndex",U1e,{unique:!1}),a.createObjectStore("indexEntries",{keyPath:j1e}).createIndex("documentKeyIndex",z1e,{unique:!1})}(e))),s}Xs(e){let t=0;return e.store("remoteDocuments").X((i,r)=>{t+=H0(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Ys(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.j().next(r=>F.forEach(r,o=>{const s=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.j("userMutationsIndex",s).next(a=>F.forEach(a,c=>{be(c.userId===o.userId);const l=Fl(this.serializer,c);return iq(e,o.userId,l).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const o=[];return i.X((s,a)=>{const c=new vt(s),l=[0,ir(c)];o.push(t.get(l).next(u=>u?F.resolve():t.put({targetId:0,path:ir(c),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>F.waitFor(o))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:V1e});const i=t.store("collectionParents"),r=new XO,o=s=>{if(r.add(s)){const a=s.lastSegment(),c=s.popLast();return i.put({collectionId:a,parent:ir(c)})}};return t.store("remoteDocuments").X({Y:!0},(s,a)=>{const c=new vt(s);return o(c.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([s,a,c],l)=>{const u=Es(a);return o(u.popLast())}))}ei(e){const t=e.store("targets");return t.X((i,r)=>{const o=om(r),s=HG(this.serializer,o);return t.put(s)})}ni(e,t){const i=t.store("remoteDocuments"),r=[];return i.X((o,s)=>{const a=t.store("remoteDocumentsV14"),c=(l=s,l.document?new ae(vt.fromString(l.document.name).popFirst(5)):l.noDocument?ae.fromSegments(l.noDocument.path):l.unknownDocument?ae.fromSegments(l.unknownDocument.path):fe()).path.toArray();var l;const u={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};r.push(a.put(u))}).next(()=>F.waitFor(r))}si(e,t){const i=t.store("mutations"),r=dq(this.serializer),o=new JO(W0.zs,this.serializer.fe);return i.j().next(s=>{const a=new Map;return s.forEach(c=>{var l;let u=null!==(l=a.get(c.userId))&&void 0!==l?l:We();Fl(this.serializer,c).keys().forEach(d=>u=u.add(d)),a.set(c.userId,u)}),F.forEach(a,(c,l)=>{const u=new Ii(l),d=U0.de(this.serializer,u),h=o.getIndexManager(u),f=G0.de(u,this.serializer,h,o.referenceDelegate);return new gq(r,f,d,h).recalculateAndSaveOverlaysForDocumentKeys(new CO(t,Xr.ct),c).next()})})}}function mq(n){n.createObjectStore("targetDocuments",{keyPath:F1e}).createIndex("documentTargetsIndex",L1e,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",N1e,{unique:!0}),n.createObjectStore("targetGlobal")}const eP="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class tP{constructor(e,t,i,r,o,s,a,c,l,u,d=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.ii=o,this.window=s,this.document=a,this.ri=l,this.oi=u,this.ui=d,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=h=>Promise.resolve(),!tP.D())throw new Y(L.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new WIe(this,r),this.di=t+"main",this.serializer=new zG(c),this.wi=new jo(this.di,this.ui,new rTe(this.serializer)),this.Bs=new HIe(this.referenceDelegate,this.serializer),this.remoteDocumentCache=dq(this.serializer),this.qs=new NIe,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===u&&qn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Y(L.FAILED_PRECONDITION,eP);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new Xr(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var i=_(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=_(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget(_(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Q0(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(ic(e))return ee("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ee("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return dm(e).get("owner").next(t=>F.resolve(this.Ri(t)))}Pi(e){return Q0(e).delete(this.clientId)}bi(){var e=this;return _(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Ti(i,"clientMetadata");return r.j().next(o=>{const s=e.Si(o,18e5),a=o.filter(c=>-1===s.indexOf(c));return F.forEach(a,c=>r.delete(c.clientId)).next(()=>a)})}).catch(()=>[]);if(e._i)for(const i of t)e._i.removeItem(e.Di(i.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?F.resolve(!0):dm(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new Y(L.FAILED_PRECONDITION,eP);return!1}}return!(!this.networkEnabled||!this.inForeground)||Q0(e).j().next(i=>void 0===this.Si(i,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(t=>(this.isPrimary!==t&&ee("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return _(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new CO(t,Xr.ct);return e.Ai(i).next(()=>e.Pi(i))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(i=>this.Vi(i.updateTimeMs,t)&&!this.Ci(i.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>Q0(e).j().next(t=>this.Si(t,18e5).map(i=>i.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return G0.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new $Ie(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return U0.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,i){ee("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",o=15===(s=this.ui)?W1e:14===s?k7:13===s?A7:12===s?q1e:11===s?S7:void fe();var s;let a;return this.wi.runTransaction(e,r,o,c=>(a=new CO(c,this.Os?this.Os.next():Xr.ct),"readwrite-primary"===t?this.Ti(a).next(l=>!!l||this.Ei(a)).next(l=>{if(!l)throw qn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new Y(L.FAILED_PRECONDITION,C7);return i(a)}).next(l=>this.vi(a).next(()=>l)):this.Oi(a).next(()=>i(a)))).then(c=>(a.raiseOnCommittedEvent(),c))}Oi(e){return dm(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Y(L.FAILED_PRECONDITION,eP)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return dm(e).put("owner",t)}static D(){return jo.D()}Ai(e){const t=dm(e);return t.get("owner").next(i=>this.Ri(i)?(ee("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):F.resolve())}Vi(e,t){const i=Date.now();return!(e<i-t||e>i&&(qn(`Detected an update time that is in the future: ${e} > ${i}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(function Vme(){return!function Fme(){var n;const e=null===(n=sv())||void 0===n?void 0:n.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")})()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const i=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return ee("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return qn("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){qn("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function dm(n){return Ti(n,"owner")}function Q0(n){return Ti(n,"clientMetadata")}class iP{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Fi=i,this.Bi=r}static Li(e,t){let i=We(),r=We();for(const o of t.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new iP(e,t.fromCache,i,r)}}class _q{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,i,r){return this.Ki(e,t).next(o=>o||this.Gi(e,t,r,i)).next(o=>o||this.Qi(e,t))}Ki(e,t){if(tG(t))return F.resolve(null);let i=yr(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=P0(t,null,"F"),i=yr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{const s=We(...o);return this.Ui.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,i).next(c=>{const l=this.ji(t,a);return this.zi(t,l,s,c.readTime)?this.Ki(e,P0(t,null,"F")):this.Wi(e,l,t,c)}))})))}Gi(e,t,i,r){return tG(t)||r.isEqual(ye.min())?this.Qi(e,t):this.Ui.getDocuments(e,i).next(o=>{const s=this.ji(t,o);return this.zi(t,s,i,r)?this.Qi(e,t):(mO()<=gt.DEBUG&&ee("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),OO(t)),this.Wi(e,s,t,function v7(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=ye.fromTimestamp(1e9===i?new In(t+1,0):new In(t,i));return new Yr(r,ae.empty(),e)}(r,-1)))})}ji(e,t){let i=new cn(rG(e));return t.forEach((r,o)=>{Kg(e,o)&&(i=i.add(o))}),i}zi(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const o="F"===e.limitType?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Qi(e,t){return mO()<=gt.DEBUG&&ee("QueryEngine","Using full collection scan to execute query:",OO(t)),this.Ui.getDocumentsMatchingQuery(e,t,Yr.min())}Wi(e,t,i,r){return this.Ui.getDocumentsMatchingQuery(e,i,r).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}}class oTe{constructor(e,t,i,r){this.persistence=e,this.Hi=t,this.serializer=r,this.Ji=new en(Le),this.Yi=new da(o=>Al(o),qg),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(i)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gq(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function bq(n,e,t,i){return new oTe(n,e,t,i)}function yq(n,e){return rP.apply(this,arguments)}function rP(){return rP=_(function*(n,e){const t=le(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,t.tr(e),t.mutationQueue.getAllMutationBatches(i))).next(o=>{const s=[],a=[];let c=We();for(const l of r){s.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}for(const l of o){a.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}return t.localDocuments.getDocuments(i,c).next(l=>({er:l,removedBatchIds:s,addedBatchIds:a}))})})}),rP.apply(this,arguments)}function vq(n){const e=le(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function cTe(n,e){const t=le(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function _h(n,e,t){return oP.apply(this,arguments)}function oP(){return oP=_(function*(n,e,t){const i=le(n),r=i.Ji.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",o,s=>i.persistence.referenceDelegate.removeTarget(s,r)))}catch(s){if(!ic(s))throw s;ee("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}i.Ji=i.Ji.remove(e),i.Yi.delete(r.target)}),oP.apply(this,arguments)}function Y0(n,e,t){const i=le(n);let r=ye.min(),o=We();return i.persistence.runTransaction("Execute query","readonly",s=>function(a,c,l){const u=le(a),d=u.Yi.get(l);return void 0!==d?F.resolve(u.Ji.get(d)):u.Bs.getTargetData(c,l)}(i,s,yr(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.Bs.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>i.Hi.getDocumentsMatchingQuery(s,e,t?r:ye.min(),t?o:We())).next(a=>(function Eq(n,e,t){let i=n.Xi.get(e)||ye.min();t.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.Xi.set(e,i)}(i,function iG(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),a),{documents:a,ir:o})))}class uP{constructor(){this.activeTargetIds=function PO(){return uIe}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Dq{constructor(){this.Hr=new uP,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,i){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new uP,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class dTe{Yr(e){}shutdown(){}}class Mq{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){ee("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){ee("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let J0=null;function hP(){return null===J0?J0=268435456+Math.round(2147483648*Math.random()):J0++,"0x"+J0.toString(16)}const hTe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class fTe{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const or="WebChannelConnection";class pTe extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,i,r,o){const s=hP(),a=this.To(e,t);ee("RestConnection",`Sending RPC '${e}' ${s}:`,a,i);const c={};return this.Eo(c,r,o),this.Ao(e,a,c,i).then(l=>(ee("RestConnection",`Received RPC '${e}' ${s}: `,l),l),l=>{throw Uo("RestConnection",`RPC '${e}' ${s} failed with error: `,l,"url: ",a,"request:",i),l})}vo(e,t,i,r,o,s){return this.Io(e,t,i,r,o)}Eo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+th,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,o)=>e[o]=r),i&&i.headers.forEach((r,o)=>e[o]=r)}To(e,t){return`${this.mo}/v1/${t}:${hTe[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,i,r){const o=hP();return new Promise((s,a)=>{const c=new p1e;c.setWithCredentials(!0),c.listenOnce(d1e.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case gO.NO_ERROR:const u=c.getResponseJson();ee(or,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(u)),s(u);break;case gO.TIMEOUT:ee(or,`RPC '${e}' ${o} timed out`),a(new Y(L.DEADLINE_EXCEEDED,"Request time out"));break;case gO.HTTP_ERROR:const d=c.getStatus();if(ee(or,`RPC '${e}' ${o} failed with status:`,d,"response text:",c.getResponseText()),d>0){let h=c.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const b=function(x){const I=x.toLowerCase().replace(/_/g,"-");return Object.values(L).indexOf(I)>=0?I:L.UNKNOWN}(f.status);a(new Y(b,f.message))}else a(new Y(L.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new Y(L.UNAVAILABLE,"Connection failed."));break;default:fe()}}finally{ee(or,`RPC '${e}' ${o} completed.`)}});const l=JSON.stringify(r);ee(or,`RPC '${e}' ${o} sending request:`,r),c.send(t,"POST",l,i,15)})}Ro(e,t,i){const r=hP(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=l1e(),a=u1e(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.xmlHttpFactory=new f1e({})),this.Eo(c.initMessageHeaders,t,i),c.encodeInitMessageHeaders=!0;const u=o.join("");ee(or,`Creating RPC '${e}' stream ${r}: ${u}`,c);const d=s.createWebChannel(u,c);let h=!1,f=!1;const b=new fTe({ro:I=>{f?ee(or,`Not sending because RPC '${e}' stream ${r} is closed:`,I):(h||(ee(or,`Opening RPC '${e}' stream ${r} transport.`),d.open(),h=!0),ee(or,`RPC '${e}' stream ${r} sending:`,I),d.send(I))},oo:()=>d.close()}),x=(I,k,M)=>{I.listen(k,V=>{try{M(V)}catch(K){setTimeout(()=>{throw K},0)}})};return x(d,y0.EventType.OPEN,()=>{f||ee(or,`RPC '${e}' stream ${r} transport opened.`)}),x(d,y0.EventType.CLOSE,()=>{f||(f=!0,ee(or,`RPC '${e}' stream ${r} transport closed`),b.wo())}),x(d,y0.EventType.ERROR,I=>{f||(f=!0,Uo(or,`RPC '${e}' stream ${r} transport errored:`,I),b.wo(new Y(L.UNAVAILABLE,"The operation could not be completed")))}),x(d,y0.EventType.MESSAGE,I=>{var k;if(!f){const M=I.data[0];be(!!M);const K=M.error||(null===(k=M[0])||void 0===k?void 0:k.error);if(K){ee(or,`RPC '${e}' stream ${r} received error:`,K);const oe=K.status;let de=function(ft){const oi=ni[ft];if(void 0!==oi)return CG(oi)}(oe),ze=K.message;void 0===de&&(de=L.INTERNAL,ze="Unknown error status: "+oe+" with message "+K.message),f=!0,b.wo(new Y(de,ze)),d.close()}else ee(or,`RPC '${e}' stream ${r} received:`,M),b._o(M)}}),x(a,h1e.STAT_EVENT,I=>{I.stat===p7.PROXY?ee(or,`RPC '${e}' stream ${r} detected buffering proxy`):I.stat===p7.NOPROXY&&ee(or,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{b.fo()},0),b}}function ew(){return typeof document<"u"?document:null}function fm(n){return new EIe(n,!0)}class fP{constructor(e,t,i=1e3,r=1.5,o=6e4){this.ii=e,this.timerId=t,this.Po=i,this.bo=r,this.Vo=o,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),i=Math.max(0,Date.now()-this.Co),r=Math.max(0,t-i);r>0&&ee("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class Aq{constructor(e,t,i,r,o,s,a,c){this.ii=e,this.$o=i,this.Oo=r,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new fP(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return _(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return _(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var i=this;return _(function*(){i.Ho(),i.Jo(),i.qo.cancel(),i.Fo++,4!==e?i.qo.reset():t&&t.code===L.RESOURCE_EXHAUSTED?(qn(t.toString()),qn("Using maximum backoff delay to prevent overloading the backend."),i.qo.xo()):t&&t.code===L.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Yo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Fo===t&&this.Zo(i,r)},i=>{e(()=>{const r=new Y(L.UNKNOWN,"Fetching auth token failed: "+i.message);return this.tu(r)})})}Zo(e,t){const i=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{i(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(r=>{i(()=>this.tu(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Go(){var e=this;this.state=5,this.qo.No(_(function*(){e.state=0,e.start()}))}tu(e){return ee("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(ee("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class gTe extends Aq{constructor(e,t,i,r,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,s),this.serializer=o}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function DIe(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(c=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:fe(),r=e.targetChange.targetIds||[],o=function(c,l){return c.useProto3Json?(be(void 0===l||"string"==typeof l),gi.fromBase64String(l||"")):(be(void 0===l||l instanceof Uint8Array),gi.fromUint8Array(l||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){const l=void 0===c.code?L.UNKNOWN:CG(c.code);return new Y(l,c.message||"")}(s);t=new DG(i,r,o,a||null)}else if("documentChange"in e){const i=e.documentChange,r=Ds(n,i.document.name),o=Kn(i.document.updateTime),s=i.document.createTime?Kn(i.document.createTime):ye.min(),a=new Hi({mapValue:{fields:i.document.fields}}),c=ln.newFoundDocument(r,o,s,a);t=new V0(i.targetIds||[],i.removedTargetIds||[],c.key,c)}else if("documentDelete"in e){const i=e.documentDelete,r=Ds(n,i.document),o=i.readTime?Kn(i.readTime):ye.min(),s=ln.newNoDocument(r,o);t=new V0([],i.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const i=e.documentRemove,r=Ds(n,i.document);t=new V0([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return fe();{const i=e.filter,{count:r=0,unchangedNames:o}=i,s=new bIe(r,o);t=new TG(i.targetId,s)}}var c;return t}(this.serializer,e),i=function(r){if(!("targetChange"in r))return ye.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?ye.min():o.readTime?Kn(o.readTime):ye.min()}(e);return this.listener.nu(t,i)}su(e){const t={};t.database=im(this.serializer),t.addTarget=function(r,o){let s;const a=o.target;if(s=A0(a)?{documents:LG(r,a)}:{query:HO(r,a)},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){s.resumeToken=kG(r,o.resumeToken);const c=UO(r,o.expectedCount);null!==c&&(s.expectedCount=c)}else if(o.snapshotVersion.compareTo(ye.min())>0){s.readTime=hh(r,o.snapshotVersion.toTimestamp());const c=UO(r,o.expectedCount);null!==c&&(s.expectedCount=c)}return s}(this.serializer,e);const i=function SIe(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fe()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Wo(t)}iu(e){const t={};t.database=im(this.serializer),t.removeTarget=e,this.Wo(t)}}class mTe extends Aq{constructor(e,t,i,r,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,s),this.serializer=o,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(be(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function MIe(n,e){return n&&n.length>0?(be(void 0!==e),n.map(t=>function(i,r){let o=Kn(i.updateTime?i.updateTime:r);return o.isEqual(ye.min())&&(o=Kn(r)),new pIe(o,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=Kn(e.commitTime);return this.listener.cu(i,t)}return be(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=im(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>rm(this.serializer,i))};this.Wo(t)}}class _Te extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new Y(L.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.Io(e,t,i,r,o)).catch(r=>{throw"FirebaseError"===r.name?(r.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Y(L.UNKNOWN,r.toString())})}vo(e,t,i,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.vo(e,t,i,o,s,r)).catch(o=>{throw"FirebaseError"===o.name?(o.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Y(L.UNKNOWN,o.toString())})}terminate(){this.lu=!0}}class yTe{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(qn(t),this.mu=!1):ee("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class vTe{constructor(e,t,i,r,o){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=o,this.Pu.Yr(a=>{i.enqueueAndForget(_(function*(){var c;pc(s)&&(ee("RemoteStore","Restarting streams for network reachability change."),yield(c=_(function*(l){const u=le(l);u.vu.add(4),yield bh(u),u.bu.set("Unknown"),u.vu.delete(4),yield pm(u)}),function(l){return c.apply(this,arguments)})(s))}))}),this.bu=new yTe(i,r)}}function pm(n){return gP.apply(this,arguments)}function gP(){return gP=_(function*(n){if(pc(n))for(const e of n.Ru)yield e(!0)}),gP.apply(this,arguments)}function bh(n){return mP.apply(this,arguments)}function mP(){return mP=_(function*(n){for(const e of n.Ru)yield e(!1)}),mP.apply(this,arguments)}function tw(n,e){const t=le(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),yP(t)?bP(t):vh(t).Ko()&&_P(t,e))}function gm(n,e){const t=le(n),i=vh(t);t.Au.delete(e),i.Ko()&&kq(t,e),0===t.Au.size&&(i.Ko()?i.jo():pc(t)&&t.bu.set("Unknown"))}function _P(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ye.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}vh(n).su(e)}function kq(n,e){n.Vu.qt(e),vh(n).iu(e)}function bP(n){n.Vu=new vIe({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),vh(n).start(),n.bu.gu()}function yP(n){return pc(n)&&!vh(n).Uo()&&n.Au.size>0}function pc(n){return 0===le(n).vu.size}function Oq(n){n.Vu=void 0}function wTe(n){return vP.apply(this,arguments)}function vP(){return vP=_(function*(n){n.Au.forEach((e,t)=>{_P(n,e)})}),vP.apply(this,arguments)}function CTe(n,e){return wP.apply(this,arguments)}function wP(){return wP=_(function*(n,e){Oq(n),yP(n)?(n.bu.Iu(e),bP(n)):n.bu.set("Unknown")}),wP.apply(this,arguments)}function xTe(n,e,t){return CP.apply(this,arguments)}function CP(){return CP=_(function*(n,e,t){if(n.bu.set("Online"),e instanceof DG&&2===e.state&&e.cause)try{yield(i=_(function*(r,o){const s=o.cause;for(const a of o.targetIds)r.Au.has(a)&&(yield r.remoteSyncer.rejectListen(a,s),r.Au.delete(a),r.Vu.removeTarget(a))}),function(r,o){return i.apply(this,arguments)})(n,e)}catch(i){ee("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield nw(n,i)}else if(e instanceof V0?n.Vu.Ht(e):e instanceof TG?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(ye.min()))try{const i=yield vq(n.localStore);t.compareTo(i)>=0&&(yield function(r,o){const s=r.Vu.ce(o);return s.targetChanges.forEach((a,c)=>{if(a.resumeToken.approximateByteSize()>0){const l=r.Au.get(c);l&&r.Au.set(c,l.withResumeToken(a.resumeToken,o))}}),s.targetMismatches.forEach((a,c)=>{const l=r.Au.get(a);if(!l)return;r.Au.set(a,l.withResumeToken(gi.EMPTY_BYTE_STRING,l.snapshotVersion)),kq(r,a);const u=new fa(l.target,a,c,l.sequenceNumber);_P(r,u)}),r.remoteSyncer.applyRemoteEvent(s)}(n,t))}catch(i){ee("RemoteStore","Failed to raise snapshot:",i),yield nw(n,i)}var i}),CP.apply(this,arguments)}function nw(n,e,t){return xP.apply(this,arguments)}function xP(){return xP=_(function*(n,e,t){if(!ic(e))throw e;n.vu.add(1),yield bh(n),n.bu.set("Offline"),t||(t=()=>vq(n.localStore)),n.asyncQueue.enqueueRetryable(_(function*(){ee("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield pm(n)}))}),xP.apply(this,arguments)}function Pq(n,e){return e().catch(t=>nw(n,t,e))}function yh(n){return EP.apply(this,arguments)}function EP(){return EP=_(function*(n){const e=le(n),t=gc(e);let i=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;ETe(e);)try{const r=yield cTe(e.localStore,i);if(null===r){0===e.Eu.length&&t.jo();break}i=r.batchId,ITe(e,r)}catch(r){yield nw(e,r)}Rq(e)&&Nq(e)}),EP.apply(this,arguments)}function ETe(n){return pc(n)&&n.Eu.length<10}function ITe(n,e){n.Eu.push(e);const t=gc(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function Rq(n){return pc(n)&&!gc(n).Uo()&&n.Eu.length>0}function Nq(n){gc(n).start()}function TTe(n){return IP.apply(this,arguments)}function IP(){return IP=_(function*(n){gc(n).hu()}),IP.apply(this,arguments)}function DTe(n){return TP.apply(this,arguments)}function TP(){return TP=_(function*(n){const e=gc(n);for(const t of n.Eu)e.uu(t.mutations)}),TP.apply(this,arguments)}function MTe(n,e,t){return DP.apply(this,arguments)}function DP(){return DP=_(function*(n,e,t){const i=n.Eu.shift(),r=FO.from(i,e,t);yield Pq(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield yh(n)}),DP.apply(this,arguments)}function STe(n,e){return MP.apply(this,arguments)}function MP(){return MP=_(function*(n,e){var t;e&&gc(n).ou&&(yield(t=_(function*(i,r){if(function wG(n){switch(n){default:return fe();case L.CANCELLED:case L.UNKNOWN:case L.DEADLINE_EXCEEDED:case L.RESOURCE_EXHAUSTED:case L.INTERNAL:case L.UNAVAILABLE:case L.UNAUTHENTICATED:return!1;case L.INVALID_ARGUMENT:case L.NOT_FOUND:case L.ALREADY_EXISTS:case L.PERMISSION_DENIED:case L.FAILED_PRECONDITION:case L.ABORTED:case L.OUT_OF_RANGE:case L.UNIMPLEMENTED:case L.DATA_LOSS:return!0}}(o=r.code)&&o!==L.ABORTED){const s=i.Eu.shift();gc(i).Qo(),yield Pq(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),yield yh(i)}var o}),function(i,r){return t.apply(this,arguments)})(n,e)),Rq(n)&&Nq(n)}),MP.apply(this,arguments)}function Fq(n,e){return SP.apply(this,arguments)}function SP(){return SP=_(function*(n,e){const t=le(n);t.asyncQueue.verifyOperationInProgress(),ee("RemoteStore","RemoteStore received new credentials");const i=pc(t);t.vu.add(3),yield bh(t),i&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield pm(t)}),SP.apply(this,arguments)}function kP(){return kP=_(function*(n,e){const t=le(n);e?(t.vu.delete(2),yield pm(t)):e||(t.vu.add(2),yield bh(t),t.bu.set("Unknown"))}),kP.apply(this,arguments)}function vh(n){return n.Su||(n.Su=function(e,t,i){const r=le(e);return r.fu(),new gTe(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:wTe.bind(null,n),ao:CTe.bind(null,n),nu:xTe.bind(null,n)}),n.Ru.push(function(){var e=_(function*(t){t?(n.Su.Qo(),yP(n)?bP(n):n.bu.set("Unknown")):(yield n.Su.stop(),Oq(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function gc(n){return n.Du||(n.Du=function(e,t,i){const r=le(e);return r.fu(),new mTe(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:TTe.bind(null,n),ao:STe.bind(null,n),au:DTe.bind(null,n),cu:MTe.bind(null,n)}),n.Ru.push(function(){var e=_(function*(t){t?(n.Du.Qo(),yield yh(n)):(yield n.Du.stop(),n.Eu.length>0&&(ee("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class OP{constructor(e,t,i,r,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new pi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}static createAndSchedule(e,t,i,r,o){const s=Date.now()+i,a=new OP(e,t,s,r,o);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Y(L.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wh(n,e){if(qn("AsyncQueue",`${e}: ${n}`),ic(n))return new Y(L.UNAVAILABLE,`${e}: ${n}`);throw n}class Ch{constructor(e){this.comparator=e?(t,i)=>e(t,i)||ae.comparator(t.key,i.key):(t,i)=>ae.comparator(t.key,i.key),this.keyedMap=Qg(),this.sortedSet=new en(this.comparator)}static emptySet(e){return new Ch(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ch)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new Ch;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class Lq{constructor(){this.Cu=new en(ae.comparator)}track(e){const t=e.doc.key,i=this.Cu.get(t);i?0!==e.type&&3===i.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==i.type?this.Cu=this.Cu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Cu=this.Cu.remove(t):1===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):fe():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,i)=>{e.push(i)}),e}}class xh{constructor(e,t,i,r,o,s,a,c,l){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,t,i,r,o){const s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new xh(e,t,Ch.emptySet(t),s,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class ATe{constructor(){this.Nu=void 0,this.listeners=[]}}class kTe{constructor(){this.queries=new da(e=>nG(e),Wg),this.onlineState="Unknown",this.ku=new Set}}function RP(){return RP=_(function*(n,e){const t=le(n),i=e.query;let r=!1,o=t.queries.get(i);if(o||(r=!0,o=new ATe),r)try{o.Nu=yield t.onListen(i)}catch(s){const a=wh(s,`Initialization of query '${OO(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.listeners.push(e),e.Mu(t.onlineState),o.Nu&&e.$u(o.Nu)&&LP(t)}),RP.apply(this,arguments)}function FP(){return FP=_(function*(n,e){const t=le(n),i=e.query;let r=!1;const o=t.queries.get(i);if(o){const s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),r=0===o.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),FP.apply(this,arguments)}function OTe(n,e){const t=le(n);let i=!1;for(const r of e){const s=t.queries.get(r.query);if(s){for(const a of s.listeners)a.$u(r)&&(i=!0);s.Nu=r}}i&&LP(t)}function PTe(n,e,t){const i=le(n),r=i.queries.get(e);if(r)for(const o of r.listeners)o.onError(t);i.queries.delete(e)}function LP(n){n.ku.forEach(e=>{e.next()})}class VP{constructor(e,t,i){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=i||{}}$u(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new xh(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=xh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class Uq{constructor(e){this.key=e}}class jq{constructor(e){this.key=e}}class zq{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=We(),this.mutatedKeys=We(),this.tc=rG(e),this.ec=new Ch(this.tc)}get nc(){return this.Yu}sc(e,t){const i=t?t.ic:new Lq,r=t?t.ec:this.ec;let o=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const c="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((u,d)=>{const h=r.get(u),f=Kg(this.query,d)?d:null,b=!!h&&this.mutatedKeys.has(h.key),x=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let I=!1;h&&f?h.data.isEqual(f.data)?b!==x&&(i.track({type:3,doc:f}),I=!0):this.rc(h,f)||(i.track({type:2,doc:f}),I=!0,(c&&this.tc(f,c)>0||l&&this.tc(f,l)<0)&&(a=!0)):!h&&f?(i.track({type:0,doc:f}),I=!0):h&&!f&&(i.track({type:1,doc:h}),I=!0,(c||l)&&(a=!0)),I&&(f?(s=s.add(f),o=x?o.add(u):o.delete(u)):(s=s.delete(u),o=o.delete(u)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const u="F"===this.query.limitType?s.last():s.first();s=s.delete(u.key),o=o.delete(u.key),i.track({type:1,doc:u})}return{ec:s,ic:i,zi:a,mutatedKeys:o}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const o=e.ic.xu();o.sort((l,u)=>function(d,h){const f=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fe()}};return f(d)-f(h)}(l.type,u.type)||this.tc(l.doc,u.doc)),this.oc(i);const s=t?this.uc():[],a=0===this.Zu.size&&this.current?1:0,c=a!==this.Xu;return this.Xu=a,0!==o.length||c?{snapshot:new xh(this.query,e.ec,r,o,e.mutatedKeys,0===a,c,!1,!!i&&i.resumeToken.approximateByteSize()>0),cc:s}:{cc:s}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Lq,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=We(),this.ec.forEach(i=>{this.ac(i.key)&&(this.Zu=this.Zu.add(i.key))});const t=[];return e.forEach(i=>{this.Zu.has(i)||t.push(new jq(i))}),this.Zu.forEach(i=>{e.has(i)||t.push(new Uq(i))}),t}hc(e){this.Yu=e.ir,this.Zu=We();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return xh.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class FTe{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class LTe{constructor(e){this.key=e,this.fc=!1}}class VTe{constructor(e,t,i,r,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.dc={},this.wc=new da(a=>nG(a),Wg),this._c=new Map,this.mc=new Set,this.gc=new en(ae.comparator),this.yc=new Map,this.Ic=new ZO,this.Tc={},this.Ec=new Map,this.Ac=Bl.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function BTe(n,e){return BP.apply(this,arguments)}function BP(){return BP=_(function*(n,e){const t=function cR(n){const e=le(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=$q.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=KTe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=zTe.bind(null,e),e.dc.nu=OTe.bind(null,e.eventManager),e.dc.Pc=PTe.bind(null,e.eventManager),e}(n);let i,r;const o=t.wc.get(e);if(o)i=o.targetId,t.sharedClientState.addLocalQueryTarget(i),r=o.view.lc();else{const s=yield function mh(n,e){const t=le(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Bs.getTargetData(i,e).next(o=>o?(r=o,F.resolve(r)):t.Bs.allocateTargetId(i).next(s=>(r=new fa(e,s,"TargetPurposeListen",i.currentSequenceNumber),t.Bs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.Ji.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(i.targetId,i),t.Yi.set(e,i.targetId)),i})}(t.localStore,yr(e)),a=t.sharedClientState.addLocalQueryTarget(s.targetId);i=s.targetId,r=yield function UP(n,e,t,i,r){return jP.apply(this,arguments)}(t,e,i,"current"===a,s.resumeToken),t.isPrimaryClient&&tw(t.remoteStore,s)}return r}),BP.apply(this,arguments)}function jP(){return jP=_(function*(n,e,t,i,r){n.Rc=(d,h,f)=>{return(b=_(function*(x,I,k,M){let V=I.view.sc(k);V.zi&&(V=yield Y0(x.localStore,I.query,!1).then(({documents:de})=>I.view.sc(de,V)));const K=M&&M.targetChanges.get(I.targetId),oe=I.view.applyChanges(V,x.isPrimaryClient,K);return XP(x,I.targetId,oe.cc),oe.snapshot}),function(x,I,k,M){return b.apply(this,arguments)})(n,d,h,f);var b};const o=yield Y0(n.localStore,e,!0),s=new zq(e,o.ir),a=s.sc(o.documents),c=tm.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,r),l=s.applyChanges(a,n.isPrimaryClient,c);XP(n,t,l.cc);const u=new FTe(e,t,s);return n.wc.set(e,u),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),l.snapshot}),jP.apply(this,arguments)}function UTe(n,e){return zP.apply(this,arguments)}function zP(){return zP=_(function*(n,e){const t=le(n),i=t.wc.get(e),r=t._c.get(i.targetId);if(r.length>1)return t._c.set(i.targetId,r.filter(o=>!Wg(o,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield _h(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),gm(t.remoteStore,i.targetId),Eh(t,i.targetId)}).catch(nc))):(Eh(t,i.targetId),yield _h(t.localStore,i.targetId,!0))}),zP.apply(this,arguments)}function $P(){return $P=_(function*(n,e,t){const i=lR(n);try{const r=yield function(o,s){const a=le(o),c=In.now(),l=s.reduce((h,f)=>h.add(f.key),We());let u,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=Lr(),b=We();return a.Zi.getEntries(h,l).next(x=>{f=x,f.forEach((I,k)=>{k.isValidDocument()||(b=b.add(I))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(x=>{u=x;const I=[];for(const k of s){const M=mIe(k,u.get(k.key).overlayedDocument);null!=M&&I.push(new ha(k.key,M,z7(M.value.mapValue),_n.exists(!0)))}return a.mutationQueue.addMutationBatch(h,c,I,s)}).next(x=>{d=x;const I=x.applyToLocalDocumentSet(u,b);return a.documentOverlayCache.saveOverlays(h,x.batchId,I)})}).then(()=>({batchId:d.batchId,changes:sG(u)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(o,s,a){let c=o.Tc[o.currentUser.toKey()];c||(c=new en(Le)),c=c.insert(s,a),o.Tc[o.currentUser.toKey()]=c}(i,r.batchId,t),yield pa(i,r.changes),yield yh(i.remoteStore)}catch(r){const o=wh(r,"Failed to persist write");t.reject(o)}}),$P.apply(this,arguments)}function $q(n,e){return HP.apply(this,arguments)}function HP(){return HP=_(function*(n,e){const t=le(n);try{const i=yield function aTe(n,e){const t=le(n),i=e.snapshotVersion;let r=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=t.Zi.newChangeBuffer({trackRemovals:!0});r=t.Ji;const a=[];e.targetChanges.forEach((u,d)=>{const h=r.get(d);if(!h)return;a.push(t.Bs.removeMatchingKeys(o,u.removedDocuments,d).next(()=>t.Bs.addMatchingKeys(o,u.addedDocuments,d)));let f=h.withSequenceNumber(o.currentSequenceNumber);var b,x,I;null!==e.targetMismatches.get(d)?f=f.withResumeToken(gi.EMPTY_BYTE_STRING,ye.min()).withLastLimboFreeSnapshotVersion(ye.min()):u.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(u.resumeToken,i)),r=r.insert(d,f),x=f,I=u,(0===(b=h).resumeToken.approximateByteSize()||x.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8||I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0)&&a.push(t.Bs.updateTargetData(o,f))});let c=Lr(),l=We();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,u))}),a.push(function wq(n,e,t){let i=We(),r=We();return t.forEach(o=>i=i.add(o)),e.getEntries(n,i).next(o=>{let s=Lr();return t.forEach((a,c)=>{const l=o.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(r=r.add(a)),c.isNoDocument()&&c.version.isEqual(ye.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||0===c.version.compareTo(l.version)&&l.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):ee("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{nr:s,sr:r}})}(o,s,e.documentUpdates).next(u=>{c=u.nr,l=u.sr})),!i.isEqual(ye.min())){const u=t.Bs.getLastRemoteSnapshotVersion(o).next(d=>t.Bs.setTargetsMetadata(o,o.currentSequenceNumber,i));a.push(u)}return F.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,c,l)).next(()=>c)}).then(o=>(t.Ji=r,o))}(t.localStore,e);e.targetChanges.forEach((r,o)=>{const s=t.yc.get(o);s&&(be(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?s.fc=!0:r.modifiedDocuments.size>0?be(s.fc):r.removedDocuments.size>0&&(be(s.fc),s.fc=!1))}),yield pa(t,i,e)}catch(i){yield nc(i)}}),HP.apply(this,arguments)}function Hq(n,e,t){const i=le(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.wc.forEach((o,s)=>{const a=s.view.Mu(e);a.snapshot&&r.push(a.snapshot)}),function(o,s){const a=le(o);a.onlineState=s;let c=!1;a.queries.forEach((l,u)=>{for(const d of u.listeners)d.Mu(s)&&(c=!0)}),c&&LP(a)}(i.eventManager,e),r.length&&i.dc.nu(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function zTe(n,e,t){return GP.apply(this,arguments)}function GP(){return GP=_(function*(n,e,t){const i=le(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.yc.get(e),o=r&&r.key;if(o){let s=new en(ae.comparator);s=s.insert(o,ln.newNoDocument(o,ye.min()));const a=We().add(o),c=new em(ye.min(),new Map,new en(Le),s,a);yield $q(i,c),i.gc=i.gc.remove(o),i.yc.delete(e),ZP(i)}else yield _h(i.localStore,e,!1).then(()=>Eh(i,e,t)).catch(nc)}),GP.apply(this,arguments)}function $Te(n,e){return qP.apply(this,arguments)}function qP(){return qP=_(function*(n,e){const t=le(n),i=e.batch.batchId;try{const r=yield function sTe(n,e){const t=le(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),o=t.Zi.newChangeBuffer({trackRemovals:!0});return function(s,a,c,l){const u=c.batch,d=u.keys();let h=F.resolve();return d.forEach(f=>{h=h.next(()=>l.getEntry(a,f)).next(b=>{const x=c.docVersions.get(f);be(null!==x),b.version.compareTo(x)<0&&(u.applyToRemoteDocument(b,c),b.isValidDocument()&&(b.setReadTime(c.commitVersion),l.addEntry(b)))})}),h.next(()=>s.mutationQueue.removeMutationBatch(a,u))}(t,i,e,o).next(()=>o.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(s){let a=We();for(let c=0;c<s.mutationResults.length;++c)s.mutationResults[c].transformResults.length>0&&(a=a.add(s.batch.mutations[c].key));return a}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}(t.localStore,e);YP(t,i,null),QP(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield pa(t,r)}catch(r){yield nc(r)}}),qP.apply(this,arguments)}function HTe(n,e,t){return WP.apply(this,arguments)}function WP(){return WP=_(function*(n,e,t){const i=le(n);try{const r=yield function(o,s){const a=le(o);return a.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let l;return a.mutationQueue.lookupMutationBatch(c,s).next(u=>(be(null!==u),l=u.keys(),a.mutationQueue.removeMutationBatch(c,u))).next(()=>a.mutationQueue.performConsistencyCheck(c)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(c,l,s)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,l)).next(()=>a.localDocuments.getDocuments(c,l))})}(i.localStore,e);YP(i,e,t),QP(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield pa(i,r)}catch(r){yield nc(r)}}),WP.apply(this,arguments)}function QP(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function YP(n,e,t){const i=le(n);let r=i.Tc[i.currentUser.toKey()];if(r){const o=r.get(e);o&&(t?o.reject(t):o.resolve(),r=r.remove(e)),i.Tc[i.currentUser.toKey()]=r}}function Eh(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n._c.get(e))n.wc.delete(i),t&&n.dc.Pc(i,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(i=>{n.Ic.containsKey(i)||Gq(n,i)})}function Gq(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(gm(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),ZP(n))}function XP(n,e,t){for(const i of t)i instanceof Uq?(n.Ic.addReference(i.key,e),qTe(n,i)):i instanceof jq?(ee("SyncEngine","Document no longer in limbo: "+i.key),n.Ic.removeReference(i.key,e),n.Ic.containsKey(i.key)||Gq(n,i.key)):fe()}function qTe(n,e){const t=e.key,i=t.path.canonicalString();n.gc.get(t)||n.mc.has(i)||(ee("SyncEngine","New document in limbo: "+t),n.mc.add(i),ZP(n))}function ZP(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new ae(vt.fromString(e)),i=n.Ac.next();n.yc.set(i,new LTe(t)),n.gc=n.gc.insert(t,i),tw(n.remoteStore,new fa(yr(ah(t.path)),i,"TargetPurposeLimboResolution",Xr.ct))}}function pa(n,e,t){return JP.apply(this,arguments)}function JP(){return JP=_(function*(n,e,t){const i=le(n),r=[],o=[],s=[];var a;i.wc.isEmpty()||(i.wc.forEach((a,c)=>{s.push(i.Rc(c,e,t).then(l=>{if((l||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(c.targetId,l?.fromCache?"not-current":"current"),l){r.push(l);const u=iP.Li(c.targetId,l);o.push(u)}}))}),yield Promise.all(s),i.dc.nu(r),yield(a=_(function*(c,l){const u=le(c);try{yield u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>F.forEach(l,h=>F.forEach(h.Fi,f=>u.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>F.forEach(h.Bi,f=>u.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!ic(d))throw d;ee("LocalStore","Failed to update sequence numbers: "+d)}for(const d of l){const h=d.targetId;if(!d.fromCache){const f=u.Ji.get(h),x=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);u.Ji=u.Ji.insert(h,x)}}}),function(c,l){return a.apply(this,arguments)})(i.localStore,o))}),JP.apply(this,arguments)}function WTe(n,e){return eR.apply(this,arguments)}function eR(){return eR=_(function*(n,e){const t=le(n);if(!t.currentUser.isEqual(e)){ee("SyncEngine","User change. New user:",e.toKey());const i=yield yq(t.localStore,e);t.currentUser=e,(r=t).Ec.forEach(s=>{s.forEach(a=>{a.reject(new Y(L.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.Ec.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield pa(t,i.er)}var r}),eR.apply(this,arguments)}function KTe(n,e){const t=le(n),i=t.yc.get(e);if(i&&i.fc)return We().add(i.key);{let r=We();const o=t._c.get(e);if(!o)return r;for(const s of o){const a=t.wc.get(s);r=r.unionWith(a.view.nc)}return r}}function lR(n){const e=le(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$Te.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=HTe.bind(null,e),e}class Ih{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return _(function*(){t.serializer=fm(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return bq(this.persistence,new _q,e.initialUser,this.serializer)}createPersistence(e){return new JO(W0.zs,this.serializer)}createSharedClientState(e){return new Dq}terminate(){var e=this;return _(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class uR extends Ih{constructor(e,t,i){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return _(function*(){yield t().call(i,e),yield i.Vc.initialize(i,e),yield lR(i.Vc.syncEngine),yield yh(i.Vc.remoteStore),yield i.persistence.Ii(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return bq(this.persistence,new _q,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new cq(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const i=new S1e(t,this.persistence);return new M1e(e.asyncQueue,i)}createPersistence(e){const t=function nP(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?rr.withCacheSize(this.cacheSizeBytes):rr.DEFAULT;return new tP(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,function Sq(){return typeof window<"u"?window:null}(),ew(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Dq}}class Th{initialize(e,t){var i=this;return _(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>Hq(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=WTe.bind(null,i.syncEngine),yield function AP(n,e){return kP.apply(this,arguments)}(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new kTe}createDatastore(e){const t=fm(e.databaseInfo.databaseId),i=new pTe(e.databaseInfo);return new _Te(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,o=a=>Hq(this.syncEngine,a,0),s=Mq.D()?new Mq:new dTe,new vTe(t,i,r,o,s);var t,i,r,o,s}createSyncEngine(e,t){return function(i,r,o,s,a,c,l){const u=new VTe(i,r,o,s,a,c);return l&&(u.vc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=_(function*(t){const i=le(t);ee("RemoteStore","RemoteStore shutting down."),i.vu.add(5),yield bh(i),i.Pu.shutdown(),i.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class iw{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):qn("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class aDe{constructor(e,t,i,r){var o=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=Ii.UNAUTHENTICATED,this.clientId=b7.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var s=_(function*(a){ee("FirestoreClient","Received user=",a.uid),yield o.authCredentialListener(a),o.user=a});return function(a){return s.apply(this,arguments)}}()),this.appCheckCredentials.start(i,s=>(ee("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}getConfiguration(){var e=this;return _(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Y(L.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new pi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(_(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=wh(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function rw(n,e){return dR.apply(this,arguments)}function dR(){return dR=_(function*(n,e){n.asyncQueue.verifyOperationInProgress(),ee("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=_(function*(o){i.isEqual(o)||(yield yq(e.localStore,o),i=o)});return function(o){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),dR.apply(this,arguments)}function hR(n,e){return fR.apply(this,arguments)}function fR(){return fR=_(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function pR(n){return gR.apply(this,arguments)}(n);ee("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>Fq(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>Fq(e.remoteStore,o)),n._onlineComponents=e}),fR.apply(this,arguments)}function Yq(n){return"FirebaseError"===n.name?n.code===L.FAILED_PRECONDITION||n.code===L.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function gR(){return gR=_(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ee("FirestoreClient","Using user provided OfflineComponentProvider");try{yield rw(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!Yq(t))throw t;Uo("Error using user provided cache. Falling back to memory cache: "+t),yield rw(n,new Ih)}}else ee("FirestoreClient","Using default OfflineComponentProvider"),yield rw(n,new Ih);return n._offlineComponents}),gR.apply(this,arguments)}function ow(n){return mR.apply(this,arguments)}function mR(){return mR=_(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ee("FirestoreClient","Using user provided OnlineComponentProvider"),yield hR(n,n._uninitializedComponentsProvider._online)):(ee("FirestoreClient","Using default OnlineComponentProvider"),yield hR(n,new Th))),n._onlineComponents}),mR.apply(this,arguments)}function bR(){return bR=_(function*(n){const e=yield ow(n),t=e.eventManager;return t.onListen=BTe.bind(null,e.syncEngine),t.onUnlisten=UTe.bind(null,e.syncEngine),t}),bR.apply(this,arguments)}function tW(n,e,t={}){const i=new pi;return n.asyncQueue.enqueueAndForget(_(function*(){return function(r,o,s,a,c){const l=new iw({next:d=>{o.enqueueAndForget(()=>function NP(n,e){return FP.apply(this,arguments)}(r,u)),d.fromCache&&"server"===a.source?c.reject(new Y(L.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(d)},error:d=>c.reject(d)}),u=new VP(s,l,{includeMetadataChanges:!0,Ku:!0});return function PP(n,e){return RP.apply(this,arguments)}(r,u)}(yield function Dh(n){return bR.apply(this,arguments)}(n),n.asyncQueue,e,t,i)})),i.promise}function nW(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const iW=new Map;function yR(n,e,t){if(!t)throw new Y(L.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function rW(n){if(!ae.isDocumentKey(n))throw new Y(L.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function oW(n){if(ae.isDocumentKey(n))throw new Y(L.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function aw(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":fe()}function mt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Y(L.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=aw(n);throw new Y(L.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class aW{constructor(e){var t,i;if(void 0===e.host){if(void 0!==e.ssl)throw new Y(L.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Y(L.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function mDe(n,e,t,i){if(!0===e&&!0===i)throw new Y(L.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=nW(null!==(i=e.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(r){if(void 0!==r.timeoutSeconds){if(isNaN(r.timeoutSeconds))throw new Y(L.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Y(L.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Y(L.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class mm{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new aW({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Y(L.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Y(L.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new aW(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new m1e;switch(t.type){case"firstParty":return new v1e(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Y(L.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=iW.get(e);t&&(ee("ComponentProvider","Removing Datastore"),iW.delete(e),t.terminate())}(this),Promise.resolve()}}class Qn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ms(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Qn(this.firestore,e,this._key)}}class Gi{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Gi(this.firestore,e,this._query)}}class Ms extends Gi{constructor(e,t,i){super(e,t,ah(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Qn(this.firestore,null,new ae(e))}withConverter(e){return new Ms(this.firestore,e,this._path)}}function bDe(n,e,...t){if(n=zt(n),yR("collection","path",e),n instanceof mm){const i=vt.fromString(e,...t);return oW(i),new Ms(n,null,i)}{if(!(n instanceof Qn||n instanceof Ms))throw new Y(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(vt.fromString(e,...t));return oW(i),new Ms(n.firestore,null,i)}}function cW(n,e,...t){if(n=zt(n),1===arguments.length&&(e=b7.A()),yR("doc","path",e),n instanceof mm){const i=vt.fromString(e,...t);return rW(i),new Qn(n,null,new ae(i))}{if(!(n instanceof Qn||n instanceof Ms))throw new Y(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(vt.fromString(e,...t));return rW(i),new Qn(n.firestore,n instanceof Ms?n.converter:null,new ae(i))}}class yDe{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new fP(this,"async_queue_retry"),this.Xc=()=>{const t=ew();t&&ee("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=ew();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=ew();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new pi;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return _(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!ic(t))throw t;ee("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(i=>{throw this.Wc=i,this.Hc=!1,qn("INTERNAL UNHANDLED ERROR: ",function(o){let s=o.message||"";return o.stack&&(s=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),s}(i)),i}).then(i=>(this.Hc=!1,i))));return this.Gc=t,t}enqueueAfterDelay(e,t,i){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const r=OP.createAndSchedule(this,e,t,i,o=>this.na(o));return this.zc.push(r),r}Zc(){this.Wc&&fe()}verifyOperationInProgress(){}sa(){var e=this;return _(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}class un extends mm{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new yDe,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||uW(this),this._firestoreClient.terminate()}}function wDe(n,e){const i="string"==typeof n?n:e||"(default)",r=qa("object"==typeof n?n:zp(),"firestore").getImmediate({identifier:i});if(!r._initialized){const o=zT("firestore");o&&function _De(n,e,t,i={}){var r;const o=(n=mt(n,mm))._getSettings(),s=`${e}:${t}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&Uo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),i.mockUserToken){let a,c;if("string"==typeof i.mockUserToken)a=i.mockUserToken,c=Ii.MOCK_USER;else{a=t9(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const l=i.mockUserToken.sub||i.mockUserToken.user_id;if(!l)throw new Y(L.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Ii(l)}n._authCredentials=new _1e(new m7(a,c))}}(r,...o)}return r}function ii(n){return n._firestoreClient||uW(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function uW(n){var e,t,i;const r=n._freezeSettings(),o=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Q1e(n._databaseId,a,n._persistenceKey,(l=r).host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,nW(l.experimentalLongPollingOptions),l.useFetchStreams));var a,l;n._firestoreClient=new aDe(n._authCredentials,n._appCheckCredentials,n._queue,o),null!==(t=r.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(i=r.cache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}function CDe(n,e){!function hW(n){if(n._initialized||n._terminated)throw new Y(L.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}(n=mt(n,un));const t=ii(n);if(t._uninitializedComponentsProvider)throw new Y(L.FAILED_PRECONDITION,"SDK cache is already specified.");Uo("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),r=new Th;return function dW(n,e,t){const i=new pi;return n.asyncQueue.enqueue(_(function*(){try{yield rw(n,t),yield hR(n,e),i.resolve()}catch(r){const o=r;if(!Yq(o))throw o;Uo("Error enabling indexeddb cache. Falling back to memory cache: "+o),i.reject(o)}})).then(()=>i.promise)}(t,r,new uR(r,i.cacheSizeBytes,e?.forceOwnership))}class jl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new jl(gi.fromBase64String(e))}catch(t){throw new Y(L.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new jl(gi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class zl{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Y(L.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Mh{constructor(e){this._methodName=e}}class wR{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Y(L.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Y(L.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}}const EDe=/^__.*__$/;class IDe{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new ha(e,this.data,this.fieldMask,t,this.fieldTransforms):new uh(e,this.data,t,this.fieldTransforms)}}class fW{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new ha(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function pW(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fe()}}class cw{constructor(e,t,i,r,o,s){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===o&&this.ua(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new cw(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:i,la:!1});return r.fa(e),r}da(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:i,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return dw(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(pW(this.ca)&&EDe.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class TDe{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||fm(e)}ya(e,t,i,r=!1){return new cw({ca:e,methodName:t,ga:i,path:Wn.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $l(n){const e=n._freezeSettings(),t=fm(n._databaseId);return new TDe(n._databaseId,!!e.ignoreUndefinedProperties,t)}function lw(n,e,t,i,r,o={}){const s=n.ya(o.merge||o.mergeFields?2:0,e,t,r);IR("Data must be an object, but it was:",s,i);const a=_W(i,s);let c,l;if(o.merge)c=new Fr(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){const u=[];for(const d of o.mergeFields){const h=ym(e,d,t);if(!s.contains(h))throw new Y(L.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);yW(u,h)||u.push(h)}c=new Fr(u),l=s.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,l=s.fieldTransforms;return new IDe(new Hi(a),c,l)}class bm extends Mh{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof bm}}function Hl(n,e){if(bW(n=zt(n)))return IR("Unsupported field value:",e,n),_W(n,e);if(n instanceof Mh)return function(t,i){if(!pW(i.ca))throw i._a(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i._a(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,i){const r=[];let o=0;for(const s of t){let a=Hl(s,i.wa(o));null==a&&(a={nullValue:"NULL_VALUE"}),r.push(a),o++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=zt(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return uG(i.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=In.fromDate(t);return{timestampValue:hh(i.serializer,r)}}if(t instanceof In){const r=new In(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:hh(i.serializer,r)}}if(t instanceof wR)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof jl)return{bytesValue:kG(i.serializer,t._byteString)};if(t instanceof Qn){const r=i.databaseId,o=t.firestore._databaseId;if(!o.isEqual(r))throw i._a(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:jO(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i._a(`Unsupported field value: ${aw(t)}`)}(n,e)}function _W(n,e){const t={};return P7(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):rc(n,(i,r)=>{const o=Hl(r,e.ha(i));null!=o&&(t[i]=o)}),{mapValue:{fields:t}}}function bW(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof In||n instanceof wR||n instanceof jl||n instanceof Qn||n instanceof Mh)}function IR(n,e,t){if(!bW(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=aw(t);throw e._a("an object"===i?n+" a custom object":n+" "+i)}var i}function ym(n,e,t){if((e=zt(e))instanceof zl)return e._internalPath;if("string"==typeof e)return uw(n,e);throw dw("Field path arguments must be of type string or ",n,!1,void 0,t)}const ADe=new RegExp("[~\\*/\\[\\]]");function uw(n,e,t){if(e.search(ADe)>=0)throw dw(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new zl(...e.split("."))._internalPath}catch{throw dw(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function dw(n,e,t,i,r){const o=i&&!i.isEmpty(),s=void 0!==r;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${i}`),s&&(c+=` in document ${r}`),c+=")"),new Y(L.INVALID_ARGUMENT,a+n+c)}function yW(n,e){return n.some(t=>t.isEqual(e))}class vm{constructor(e,t,i,r,o){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Qn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new kDe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(hw("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class kDe extends vm{data(){return super.data()}}function hw(n,e){return"string"==typeof e?uw(n,e):e instanceof zl?e._internalPath:e._delegate._internalPath}class TR{}class wm extends TR{}function ODe(n,e,...t){let i=[];e instanceof TR&&i.push(e),i=i.concat(t),function(r){const o=r.filter(a=>a instanceof Sh).length,s=r.filter(a=>a instanceof Cm).length;if(o>1||o>0&&s>0)throw new Y(L.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class Cm extends wm{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Cm(e,t,i)}_apply(e){const t=this._parse(e);return EW(e._query,t),new Gi(e.firestore,e.converter,kO(e._query,t))}_parse(e){const t=$l(e.firestore);return function(r,o,s,a,c,l,u){let d;if(c.isKeyField()){if("array-contains"===l||"array-contains-any"===l)throw new Y(L.INVALID_ARGUMENT,`Invalid Query. You can't perform '${l}' queries on documentId().`);if("in"===l||"not-in"===l){xW(u,l);const h=[];for(const f of u)h.push(CW(a,r,f));d={arrayValue:{values:h}}}else d=CW(a,r,u)}else"in"!==l&&"not-in"!==l&&"array-contains-any"!==l||xW(u,l),d=function mW(n,e,t,i=!1){return Hl(t,n.ya(i?4:3,e))}(s,"where",u,"in"===l||"not-in"===l);return ht.create(c,l,d)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}function PDe(n,e,t){const i=e,r=hw("where",n);return Cm._create(r,i,t)}class Sh extends TR{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Sh(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:Nt.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,r){let o=i;const s=r.getFlattenedFilters();for(const a of s)EW(o,a),o=kO(o,a)}(e._query,t),new Gi(e.firestore,e.converter,kO(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function CW(n,e,t){if("string"==typeof(t=zt(t))){if(""===t)throw new Y(L.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!AO(e)&&-1!==t.indexOf("/"))throw new Y(L.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(vt.fromString(t));if(!ae.isDocumentKey(i))throw new Y(L.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Sl(n,new ae(i))}if(t instanceof Qn)return Sl(n,t._key);throw new Y(L.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${aw(t)}.`)}function xW(n,e){if(!Array.isArray(n)||0===n.length)throw new Y(L.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function EW(n,e){if(e.isInequality()){const i=O0(n),r=e.field;if(null!==i&&!i.isEqual(r))throw new Y(L.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const o=SO(n);null!==o&&function IW(n,e,t){if(!t.isEqual(e))throw new Y(L.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}(0,r,o)}const t=function(i,r){for(const o of i)for(const s of o.getFlattenedFilters())if(r.indexOf(s.op)>=0)return s.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Y(L.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class DW{convertValue(e,t="none"){switch(ac(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Nn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(la(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw fe()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return rc(e,(r,o)=>{i[r]=this.convertValue(o,t)}),i}convertGeoPoint(e){return new wR(Nn(e.latitude),Nn(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=T0(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(zg(e));default:return null}}convertTimestamp(e){const t=oc(e);return new In(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=vt.fromString(e);be(jG(i));const r=new Ml(i.get(1),i.get(3)),o=new ae(i.popFirst(5));return r.isEqual(t)||qn(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}class Gl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ah extends vm{constructor(e,t,i,r,o,s){super(e,t,i,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new _w(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(hw("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class _w extends Ah{data(e={}){return super.data(e)}}class kh{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Gl(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new _w(this._firestore,this._userDataWriter,i.key,i,new Gl(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Y(L.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(s=>({type:"added",doc:new _w(i._firestore,i._userDataWriter,s.doc.key,s.doc,new Gl(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(s=>r||3!==s.type).map(s=>{const a=new _w(i._firestore,i._userDataWriter,s.doc.key,s.doc,new Gl(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,l=-1;return 0!==s.type&&(c=o.indexOf(s.doc.key),o=o.delete(s.doc.key)),1!==s.type&&(o=o.add(s.doc),l=o.indexOf(s.doc.key)),{type:FDe(s.type),doc:a,oldIndex:c,newIndex:l}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function FDe(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fe()}}class mc extends DW{constructor(e){super(),this.firestore=e}convertBytes(e){return new jl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Qn(this.firestore,null,t)}}function LDe(n){n=mt(n,Gi);const e=mt(n.firestore,un),t=ii(e),i=new mc(e);return function vW(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Y(L.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query),tW(t,n._query).then(r=>new kh(e,i,n,r))}function VDe(n,e,t){n=mt(n,Qn);const i=mt(n.firestore,un),r=function mw(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}(n.converter,e,t);return xm(i,[lw($l(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,_n.none())])}function BDe(n,e,t,...i){n=mt(n,Qn);const r=mt(n.firestore,un),o=$l(r);let s;return s="string"==typeof(e=zt(e))||e instanceof zl?function ER(n,e,t,i,r,o){const s=n.ya(1,e,t),a=[ym(e,i,t)],c=[r];if(o.length%2!=0)throw new Y(L.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)a.push(ym(e,o[h])),c.push(o[h+1]);const l=[],u=Hi.empty();for(let h=a.length-1;h>=0;--h)if(!yW(l,a[h])){const f=a[h];let b=c[h];b=zt(b);const x=s.da(f);if(b instanceof bm)l.push(f);else{const I=Hl(b,x);null!=I&&(l.push(f),u.set(f,I))}}const d=new Fr(l);return new fW(u,d,s.fieldTransforms)}(o,"updateDoc",n._key,e,t,i):function xR(n,e,t,i){const r=n.ya(1,e,t);IR("Data must be an object, but it was:",r,i);const o=[],s=Hi.empty();rc(i,(c,l)=>{const u=uw(e,c,t);l=zt(l);const d=r.da(u);if(l instanceof bm)o.push(u);else{const h=Hl(l,d);null!=h&&(o.push(u),s.set(u,h))}});const a=new Fr(o);return new fW(s,a,r.fieldTransforms)}(o,"updateDoc",n._key,e),xm(r,[s.toMutation(n._key,_n.exists(!0))])}function UDe(n){return xm(mt(n.firestore,un),[new dh(n._key,_n.none())])}function xm(n,e){return function(t,i){const r=new pi;return t.asyncQueue.enqueueAndForget(_(function*(){return function jTe(n,e,t){return $P.apply(this,arguments)}(yield function _R(n){return ow(n).then(e=>e.syncEngine)}(t),i,r)})),r.promise}(ii(n),e)}!function(n,e=!0){th=Wa,Li(new yi("firestore",(t,{instanceIdentifier:i,options:r})=>{const o=t.getProvider("app").getImmediate(),s=new un(new b1e(t.getProvider("auth-internal")),new w1e(t.getProvider("app-check-internal")),function(a,c){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new Y(L.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ml(a.options.projectId,c)}(o,i),o);return r=Object.assign({useFetchStreams:e},r),s._setSettings(r),s},"PUBLIC").setMultipleInstances(!0)),Bt(g7,"3.13.0",n),Bt(g7,"3.13.0","esm2017")}();class ut{constructor(e){return e}}const SW="firestore",SR=new X("angularfire2.firestore-instances");function eMe(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new ut(i)}}const tMe={provide:class ZDe{constructor(){return Kp(SW)}},deps:[[new Yt,SR]]},nMe={provide:ut,useFactory:function JDe(n,e){const t=Wp(SW,n,e);return t&&new ut(t)},deps:[[new Yt,SR],Qa]};let iMe=(()=>{class n{constructor(){Bt("angularfire",jd.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ze({type:n}),n.\u0275inj=Xe({providers:[nMe,tMe]}),n})();function rMe(n,...e){return{ngModule:iMe,providers:[{provide:SR,useFactory:eMe(n),multi:!0,deps:[Ee,Ut,Qp,Yp,[new Yt,Gv],[new Yt,Jp],...e]}]}}const Ie=wi(bDe,!0),Fn=wi(UDe,!0),De=wi(cW,!0),oMe=wi(CDe,!0),pe=wi(LDe,!0),sMe=wi(wDe,!0),dn=wi(ODe,!0),vr=wi(VDe,!0),wr=wi(BDe,!0),tn=wi(PDe,!0);let AR,aMe=(()=>{class n{constructor(t,i,r){this.auth=t,this.router=i,this.firestore=r,this.data=[],this.nid=1,this.getData()}getData(){const t=Ie(this.firestore,"users");pe(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}Signup(){this.router.navigate(["/auth/signup"])}Salir(){Ui(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}handleLogin(t){var i=this;return _(function*(){let r;cEe(i.auth,t.email,t.password).then(function(){var o=_(function*(s){i.current=s.user.email,r=s.user.email;const a=dn(Ie(i.firestore,"users"),tn("email","==",r));console.log(i.auth.currentUser?.email),(yield pe(a)).forEach(l=>{console.log(l.id," => ",l.data());let u=l.data();console.log(u.role),"Adminitrador"==u.role?i.router.navigate(["/admin"]):"Investigador"==u.role?i.router.navigate(["/user/unidad-produccion-all"]):"Cliente"==u.role&&i.router.navigate(["/client/unidad-produccion-all"])})});return function(s){return o.apply(this,arguments)}}()).catch(o=>{alert(o.message)})})()}static#e=this.\u0275fac=function(i){return new(i||n)(E(Ge),E(Me),E(ut))};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-login"]],decls:18,vars:0,consts:[[1,"salir",3,"click"],[1,"loginBox"],[1,"loginTile"],[1,"lineBlack"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"userText"],["name","email","ngModel","","placeholder","Email","id","email","type","email",1,"input-field"],[1,"claveText"],["name","password","ngModel","","placeholder","Password","id","password","type","password",1,"input-field"],[1,"boton"]],template:function(i,r){if(1&i){const o=Et();g(0,"button",0),Q("click",function(){return r.Salir()}),p(),te(1,"div",1),g(2,"span",2),w(3,"Iniciar Sesi\xf3n"),p(),te(4,"div",3),g(5,"form",4,5),Q("ngSubmit",function(){Ne(o);const a=xn(6);return Fe(r.handleLogin(a.value))}),g(7,"div",6)(8,"div",7)(9,"span",8),w(10,"Email: "),p(),te(11,"input",9),p(),g(12,"div",7)(13,"span",10),w(14,"Clave: "),p(),te(15,"input",11),p(),g(16,"button",12),w(17,"Log In"),p()()()}},dependencies:[ei,Ji,Or,Jn,mr,Sn],styles:[".input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.main[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;width:450px;height:250px;position:absolute;top:38%;left:50%;transform:translate(-50%)}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:450px;height:250px;position:absolute;top:38%;left:50%;transform:translate(-50%)}.loginTile[_ngcontent-%COMP%]{color:#000;width:450px;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;top:39.5%;left:50%;transform:translate(-50%)}.lineBlack[_ngcontent-%COMP%]{width:448px;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);top:45%;left:50%;transform:translate(-50%)}#email[_ngcontent-%COMP%]{width:300px;height:26px;margin-left:5px}.userText[_ngcontent-%COMP%]{color:#000;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0}#password[_ngcontent-%COMP%]{width:300px;height:26px;margin-left:5px}.claveText[_ngcontent-%COMP%]{color:#000;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;width:80px;height:35px;border-width:0;border-radius:30px;font-size:16px;position:absolute;left:72%;top:75%}.botonText[_ngcontent-%COMP%]{color:#fff;width:80px;height:35px;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;position:absolute;left:72%;top:75%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.main[_ngcontent-%COMP%]{display:flex;width:100vw;height:100vh;justify-content:center;align-items:center;flex-direction:column}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:40%;transform:none;position:absolute;left:15%;top:35%}.loginTile[_ngcontent-%COMP%]{color:#000;width:75%;height:20%;transform:none;position:absolute;font-family:Arial;text-align:center;font-size:24px;letter-spacing:0;left:15%;top:37%}.lineBlack[_ngcontent-%COMP%]{width:75%;height:0px;transform:none;position:absolute;border:1px solid rgba(0,0,0,1);left:15%;top:43%}#email[_ngcontent-%COMP%]{width:60%;height:3%;position:absolute;left:18%;top:11%}.userText[_ngcontent-%COMP%]{color:#000;width:10%;height:5%;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;position:absolute;left:20%;top:7%}#password[_ngcontent-%COMP%]{width:60%;height:3%;position:absolute;transform:none;left:18%;top:21%}.claveText[_ngcontent-%COMP%]{color:#000;width:10%;height:3%;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;transform:none;position:absolute;left:20%;top:17%}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;width:20%;height:5%;border-width:0;border-radius:30px;font-size:12px;position:absolute;left:60%;top:28%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:14px;letter-spacing:0;left:60%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:15%;left:0%;top:0%}}"]})}return n})(),cMe=(()=>{class n{constructor(t,i,r){this.auth=t,this.firestore=i,this.router=r,this.title="gestion-de-muestras-de-campo",this.data=[],this.getData()}Login(){this.router.navigate(["/auth/login"])}handleRegister(t){aEe(this.auth,t.email,t.password).then(i=>{console.log(i.user)}).catch(i=>{alert(i.message)}),this.addData(t),this.Login()}addData(t){const i=De(this.firestore,"users",t.email);t.password==t.confirmpassword?"Invetigador"==t.role||"Cliente"==t.role?vr(i,{email:t.email,role:t.role,password:t.password}).then(()=>{alert("Data Sent")}).catch(r=>{alert(r.message)}):alert("Rol no reconocido"):alert("Claves No Iguales")}getData(){const t=Ie(this.firestore,"users");pe(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}Salir(){Ui(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}static#e=this.\u0275fac=function(i){return new(i||n)(E(Ge),E(ut),E(Me))};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-signup"]],decls:29,vars:0,consts:[[1,"salir",3,"click"],[1,"loginBox"],[1,"loginTile"],[1,"lineBlack"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"userText"],["name","email","ngModel","","placeholder","Email","id","email","type","email",1,"input-field"],[1,"roleText"],["list","roles","name","role","ngModel","","placeholder","Roles","id","role","type","role",1,"input-field"],["id","roles"],["value","Investigador"],["value","Cliente"],[1,"claveText"],["name","password","ngModel","","placeholder","Clave","id","password","type","password",1,"input-field"],[1,"clave2Text"],["name","confirmpassword","ngModel","","placeholder","Confirmar Clave","id","confirmpassword","type","password",1,"input-field"],[1,"boton"]],template:function(i,r){if(1&i){const o=Et();g(0,"button",0),Q("click",function(){return r.Salir()}),p(),te(1,"div",1),g(2,"span",2),w(3,"Registrar"),p(),te(4,"div",3),g(5,"form",4,5),Q("ngSubmit",function(){Ne(o);const a=xn(6);return Fe(r.handleRegister(a.value))}),g(7,"div",6)(8,"div",7)(9,"span",8),w(10,"Email:"),p(),te(11,"input",9),p(),g(12,"div",7)(13,"span",10),w(14,"Roles:"),p(),te(15,"input",11),g(16,"datalist",12),te(17,"option",13)(18,"option",14),p()(),g(19,"div",7)(20,"span",15),w(21,"Clave:"),p(),te(22,"input",16),p(),g(23,"div",7)(24,"span",17),w(25,"Confirmar Clave:"),p(),te(26,"input",18),p(),g(27,"button",19),w(28,"Sign Up"),p()()()}},dependencies:[ei,wp,Cp,Ji,Or,Jn,mr,Sn],styles:[".input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}.main[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;width:600px;height:400px;position:absolute;top:37%;left:50%;transform:translate(-50%)}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:600px;height:400px;position:absolute;top:37%;left:50%;transform:translate(-50%)}.loginTile[_ngcontent-%COMP%]{color:#000;width:600px;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;top:39.5%;left:50%;transform:translate(-50%)}.lineBlack[_ngcontent-%COMP%]{width:600px;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);top:45%;left:50%;transform:translate(-50%)}#email[_ngcontent-%COMP%]{width:300px;height:26px;margin-left:5px}.userText[_ngcontent-%COMP%]{color:#000;margin-left:93px;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0}#password[_ngcontent-%COMP%]{width:300px;height:26px;margin-left:5px}.claveText[_ngcontent-%COMP%]{color:#000;margin-left:93px;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0}#role[_ngcontent-%COMP%]{width:300px;height:26px;margin-left:5px}.roleText[_ngcontent-%COMP%]{color:#000;margin-left:93px;width:150px;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0}#confirmpassword[_ngcontent-%COMP%]{width:300px;height:26px;margin-left:5px}.clave2Text[_ngcontent-%COMP%]{color:#000;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;width:80px;height:35px;border-width:0;border-radius:30px;font-size:16px;position:absolute;left:72%;top:75%}.botonText[_ngcontent-%COMP%]{color:#fff;width:80px;height:35px;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;position:absolute;left:72%;top:75%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.main[_ngcontent-%COMP%]{display:flex;width:100vw;height:100vh;justify-content:center;align-items:center;flex-direction:column;top:0%}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:60%;transform:none;position:absolute;left:15%;top:25%}.loginTile[_ngcontent-%COMP%]{color:#000;width:75%;height:20%;transform:none;position:absolute;font-family:Arial;text-align:center;font-size:24px;letter-spacing:0;left:15%;top:26%}.lineBlack[_ngcontent-%COMP%]{width:75%;height:0px;transform:none;position:absolute;border:1px solid rgba(0,0,0,1);left:15%;top:32%}#email[_ngcontent-%COMP%]{width:60%;height:3%;position:absolute;left:20%;top:40%}.userText[_ngcontent-%COMP%]{color:#000;width:10%;height:5%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:0%;top:35%}#role[_ngcontent-%COMP%]{width:30%;height:3%;position:absolute;left:20%;top:60%}.roleText[_ngcontent-%COMP%]{color:#000;width:15%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:0%;top:55%}#password[_ngcontent-%COMP%]{width:60%;height:3%;position:absolute;left:20%;top:50%}.claveText[_ngcontent-%COMP%]{color:#000;width:10%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:0%;top:45%}#confirmpassword[_ngcontent-%COMP%]{width:60%;height:3%;position:absolute;left:20%;top:70%}.clave2Text[_ngcontent-%COMP%]{color:#000;width:60%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:20%;top:65%}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;width:20%;height:5%;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:60%;top:75%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:14px;letter-spacing:0;left:60%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:15%;left:0%;top:0%}}"]})}return n})();try{AR=typeof Intl<"u"&&Intl.v8BreakIterator}catch{AR=!1}let Em,ql,kR,Mi=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?wy(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!AR)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(i){return new(i||n)($(ro))};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function bw(n){return function lMe(){if(null==Em&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Em=!0}))}finally{Em=Em||!1}return Em}()?n:!!n.capture}function uMe(){if(null==ql){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return ql=!1,ql;if("scrollBehavior"in document.documentElement.style)ql=!0;else{const n=Element.prototype.scrollTo;ql=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return ql}function OR(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function bc(n){return n.composedPath?n.composedPath()[0]:n.target}function PR(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}const fMe=[{path:"auth",component:Z$,children:[{path:"login",component:aMe},{path:"signup",component:cMe},{path:"select",component:(()=>{class n{constructor(t,i,r){this.auth=t,this.router=i,this.platform=r,this.hidInstText=!0,this.hidInstBut=!1,this.platform.IOS&&(this.hidInstText=!1,this.hidInstBut=!0),this.platform.ANDROID&&(this.hidInstText=!0,this.hidInstBut=!1),window.addEventListener("appinstalled",()=>{this.disableInAppInstallPrompt()}),window.addEventListener("beforeinstallprompt",o=>{o.preventDefault(),this.promptEvent=o,console.log("promptEvent")})}disableInAppInstallPrompt(){this.hidInstBut=!0}Credits(){this.router.navigate(["/auth/credits"])}Login(){this.router.navigate(["/auth/login"])}Signup(){this.router.navigate(["/auth/signup"])}installPwa(){this.promptEvent.prompt()}static#e=this.\u0275fac=function(i){return new(i||n)(E(Ge),E(Me),E(Mi))};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-select"]],decls:20,vars:2,consts:[[1,"creditBox",3,"click"],[1,"creditText"],[1,"creditLogo"],[1,"base"],["id","login",3,"click"],["id","signup",3,"click"],[1,"installButton",3,"hidden","click"],[1,"install",3,"hidden"],["id","share","src","../../../../assets/share.png","alt","share"]],template:function(i,r){1&i&&(g(0,"div",0),Q("click",function(){return r.Credits()}),g(1,"span",1),w(2,"Creditos"),p(),te(3,"div",2),p(),g(4,"div",3)(5,"div")(6,"button",4),Q("click",function(){return r.Login()}),w(7,"Iniciar Sesi\xf3n"),p()(),te(8,"div"),g(9,"div")(10,"button",5),Q("click",function(){return r.Signup()}),w(11,"Registrarse"),p()(),g(12,"div")(13,"button",6),Q("click",function(){return r.installPwa()}),w(14,"Instalar"),p()(),g(15,"div",7)(16,"span"),w(17,"Para instalar en tu dispositivo m\xf3vil, pulsa el boton de inicio \u201cCompartir\u201d "),te(18,"img",8),w(19," y selecionar \u201cAgregar a Inicio\u201d"),p()()()),2&i&&(z(13),Xn("hidden",r.hidInstBut),z(2),Xn("hidden",r.hidInstText))},styles:[".main[_ngcontent-%COMP%]{display:flex;height:100vh;justify-content:center;align-items:center;flex-direction:column}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#login[_ngcontent-%COMP%]{top:20%;position:absolute}#signup[_ngcontent-%COMP%]{top:40%;position:absolute}#login[_ngcontent-%COMP%]{background-color:#3ec28f;box-shadow:2px 2px 5px #000;width:600px;height:150px;position:absolute;top:25%;left:50%;transform:translate(-50%);border-radius:30px;border-width:0;color:#fff;font-family:Arial;text-align:center;font-size:64px;letter-spacing:0}#signup[_ngcontent-%COMP%]{background-color:#3ec28f;box-shadow:2px 2px 5px #000;width:600px;height:150px;position:absolute;top:50%;left:50%;transform:translate(-50%);border-radius:30px;border-width:0;color:#fff;font-family:Arial;text-align:center;font-size:64px;letter-spacing:0}.installButton[_ngcontent-%COMP%]{border:none;background-color:#3eb3c2;box-shadow:2px 2px 5px #000;color:#fff;position:absolute;top:77%;left:50%;transform:translate(-50%);padding-bottom:5px;padding-top:5px;width:200px;height:60px;text-align:center;text-decoration:none;font-size:40px;font-weight:700;cursor:pointer;border-radius:30px}.install[_ngcontent-%COMP%]{color:#000;width:375px;position:absolute;top:77%;left:50%;transform:translate(-50%);font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;font-weight:700}.line[_ngcontent-%COMP%]{display:inline}#menu[_ngcontent-%COMP%]{width:16px;height:21.647058486938477px;background-repeat:no-repeat;background-size:cover;border-radius:5px}#share[_ngcontent-%COMP%]{width:20px;height:23.636362075805664px;background-repeat:no-repeat;background-size:cover;border-radius:5px}p[_ngcontent-%COMP%]{line-height:.5}.creditBox[_ngcontent-%COMP%]{background-color:#3ec28f;border-right:4px solid white;width:20%;height:10%;position:absolute;cursor:pointer;left:0;top:0%;text-align:center}.creditText[_ngcontent-%COMP%]{color:#fff;display:inline-block;vertical-align:middle;line-height:250%;font-family:Verdana;font-size:36px;letter-spacing:0}@media only screen and (max-width: 768px){.main[_ngcontent-%COMP%]{display:flex;height:100vh;justify-content:center;align-items:center;flex-direction:column}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;cursor:pointer}#login[_ngcontent-%COMP%]{top:20%;position:absolute}#signup[_ngcontent-%COMP%]{top:40%;position:absolute}#login[_ngcontent-%COMP%]{background-color:#3ec28f;width:70%;height:15%;margin:0;transform:none;position:absolute;left:15%;top:25%;border-radius:30px;border-width:0;color:#fff;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0}#signup[_ngcontent-%COMP%]{background-color:#3ec28f;width:70%;height:15%;margin:0;transform:none;position:absolute;left:15%;top:50%;border-radius:30px;border-width:0;color:#fff;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0}.installButton[_ngcontent-%COMP%]{border:none;background-color:#3eb3c2;box-shadow:2px 2px 5px #000;color:#fff;position:absolute;left:30%;top:77%;padding-bottom:5px;padding-top:5px;width:120px;height:50px;text-align:center;text-decoration:none;font-size:20px;font-weight:700;cursor:pointer;border-radius:30px}.install[_ngcontent-%COMP%]{color:#000;width:70%;height:10%;transform:none;position:absolute;left:15%;top:75%;font-family:Arial;text-align:center;font-size:14px;letter-spacing:0;font-weight:700}.line[_ngcontent-%COMP%]{display:inline}#menu[_ngcontent-%COMP%]{width:10px;height:12px;background-repeat:no-repeat;background-size:cover;border-radius:5px}#share[_ngcontent-%COMP%]{width:16px;height:18px;padding-top:3px;background-repeat:no-repeat;background-size:cover;border-radius:5px}p[_ngcontent-%COMP%]{line-height:.5}.creditLogo[_ngcontent-%COMP%]{position:relative;top:45%;left:25%;width:36px;height:36px;cursor:pointer;background-size:contain;background-repeat:no-repeat;background-image:url(info.f631e6664ac6fa77.png)}.creditText[_ngcontent-%COMP%]{display:none}}"]})}return n})()},{path:"credits",component:(()=>{class n{constructor(t,i){this.auth=t,this.router=i}Login(){this.router.navigate(["/auth/login"])}Signup(){this.router.navigate(["/auth/signup"])}static#e=this.\u0275fac=function(i){return new(i||n)(E(Ge),E(Me))};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-credits"]],decls:29,vars:0,consts:[[1,"base"],[1,"install"],[1,"logoCiens"]],template:function(i,r){1&i&&(g(0,"p"),w(1,"credits works!"),p(),g(2,"div",0)(3,"div",1)(4,"h2")(5,"b"),w(6,"Creditos:"),p()(),g(7,"p")(8,"b"),w(9,"Autor: "),p(),g(10,"span"),w(11,"Ioannis Morakis - m.yannis22@gmail.com"),p()(),g(12,"p")(13,"b"),w(14,"Tutora: "),p(),g(15,"span"),w(16,"Profa. Yosly Hern\xe1ndez Bieliukas"),p()(),te(17,"br"),g(18,"h2")(19,"b"),w(20,"Objetivo:"),p()(),g(21,"p")(22,"span"),w(23," Desarrollar una Aplicaci\xf3n Web para la gesti\xf3n de muestras de campo de la Cl\xednica de Enfermedades de Plantas de la Universidad Central de Venezuela"),p()(),te(24,"br")(25,"br"),g(26,"p"),w(27," Universidad Central de Venezuela - Escuela de Computaci\xf3n "),p(),te(28,"div",2),p()())},styles:[".main[_ngcontent-%COMP%]{display:flex;height:100vh;justify-content:center;align-items:center;flex-direction:column}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}.install[_ngcontent-%COMP%]{color:#000;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0}.line[_ngcontent-%COMP%]{display:inline}.base[_ngcontent-%COMP%]{width:600px;height:500px;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}.logoUcv[_ngcontent-%COMP%]{width:69px;height:69px;float:left;background-image:url(logo_ucv_bg2_1.32a61806277cba42.png);background-repeat:no-repeat;background-size:cover}.logoCiens[_ngcontent-%COMP%]{width:69px;height:69px;display:inline-block;background-image:url(image_7.2e20c6c16e8ce206.png);background-repeat:no-repeat;background-size:cover}@media only screen and (max-width: 768px){.main[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}.install[_ngcontent-%COMP%]{color:#000;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0}.line[_ngcontent-%COMP%]{display:inline}.base[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:70%}.logoUcv[_ngcontent-%COMP%]{width:69px;height:69px;float:left;background-image:url(logo_ucv_bg2_1.32a61806277cba42.png);background-repeat:no-repeat;background-size:cover}.logoCiens[_ngcontent-%COMP%]{width:45px;height:45px;display:inline-block;background-image:url(image_7.2e20c6c16e8ce206.png);background-repeat:no-repeat;background-size:cover}}"]})}return n})()}]}];let pMe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ze({type:n});static#n=this.\u0275inj=Xe({imports:[Lo.forChild(fMe),Lo]})}return n})(),gMe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ze({type:n});static#n=this.\u0275inj=Xe({imports:[il,Ly,Lo,pMe]})}return n})(),mMe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-home"]],decls:2,vars:0,template:function(i,r){1&i&&(g(0,"p"),w(1,"home works!"),p())}})}return n})();function _Me(n,e){if(1&n){const t=Et();g(0,"tr")(1,"td",14),w(2),p(),g(3,"td",14),w(4),p(),g(5,"td")(6,"button",15),Q("click",function(){const o=Ne(t).$implicit;return Fe(sn().updateData(o.id))}),w(7," Update "),p()()()}if(2&n){const t=e.$implicit;z(2),He(t.email),z(2),He(t.role)}}let bMe=(()=>{class n{constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.data=[],this.getData()}ngOnInit(){}getData(){const t=Ie(this.firestore,"users");pe(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}updateData(t){const i=De(this.firestore,"users",t);wr(i,{}).then(()=>{alert("Data updated"),this.getData()}).catch(r=>{alert(r.message)})}deleteData(t){const i=De(this.firestore,"users",t);Fn(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}handleSignOut(){Ui(this.auth).then(()=>{}).catch(t=>{console.log("here")}),this.router.navigate(["auth/select"])}Home(){this.router.navigate(["admin"])}Projectos(){this.router.navigate(["admin"])}Muestras(){this.router.navigate(["admin"])}static#e=this.\u0275fac=function(i){return new(i||n)(E(Me),E(dt),E(Ge),E(ut))};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-admin"]],decls:27,vars:1,consts:[[1,"navbar"],[1,"tituloBox"],[1,"tituloText"],[1,"logoCiens"],[1,"logoUcv"],[1,"homeBox"],[1,"homeText"],[1,"salir",3,"click"],[1,"navbar2"],[1,"navbar2Box"],["id","cerrarText",1,"navbar2Text",3,"click"],[1,"subTituloText"],[1,"list"],[4,"ngFor","ngForOf"],["contenteditable","true"],[3,"click"]],template:function(i,r){1&i&&(g(0,"p"),w(1,"admin works!"),p(),g(2,"div",0)(3,"div",1)(4,"span",2),w(5,"Gestion de Muestras"),p()(),te(6,"div",3)(7,"div",4),g(8,"div",5)(9,"span",6),w(10,"Home"),p()()(),g(11,"button",7),Q("click",function(){return r.Home()}),p(),g(12,"div",8),te(13,"div",9),g(14,"div",10),Q("click",function(){return r.handleSignOut()}),w(15,"CERRAR SESI\xd3N"),p()(),g(16,"h1",11),w(17,"Usuarios"),p(),g(18,"div",12)(19,"table")(20,"tr")(21,"th"),w(22," Email "),p(),g(23,"th"),w(24," Role "),p(),te(25,"th"),p(),Yn(26,_Me,8,2,"tr",13),p()()),2&i&&(z(26),Xn("ngForOf",r.data))},dependencies:[ho],styles:[".list[_ngcontent-%COMP%]{position:absolute;left:33%;top:35%}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}button[_ngcontent-%COMP%]{border:none;background-color:#3eb3c2;color:#fff;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;width:70%;height:10%;vertical-align:middle;line-height:250%;font-family:Verdana;text-align:center;font-size:48px;letter-spacing:0;left:20%;top:15%}.main[_ngcontent-%COMP%]{display:flex;height:100vh;justify-content:center;align-items:center;flex-direction:column}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}.homeBox[_ngcontent-%COMP%]{background-color:#3ec28f;border-right:4px solid white;width:20%;height:10%;position:absolute;left:0;top:0%;text-align:center}.homeText[_ngcontent-%COMP%]{color:#fff;display:inline-block;vertical-align:middle;line-height:250%;font-family:Verdana;font-size:40px;letter-spacing:0}.tituloBox[_ngcontent-%COMP%]{background-color:#3ec28f;width:80%;height:10%;position:absolute;left:20%;top:0%;text-align:center}.tituloText[_ngcontent-%COMP%]{color:#fff;display:inline-block;vertical-align:middle;line-height:250%;font-family:Verdana;font-size:40px;letter-spacing:0}.logoCiens[_ngcontent-%COMP%]{width:100px;height:69px;position:absolute;left:90%;top:1.5%;background-image:url(Logo-Agronomia2.2ed90bcafa53fa56.png);background-repeat:no-repeat;background-size:cover}.logoUcv[_ngcontent-%COMP%]{width:69px;height:69px;position:absolute;left:22%;top:1.5%;background-image:url(logo_ucv_bg2_1.32a61806277cba42.png);background-repeat:no-repeat;background-size:cover}.navbar2Box[_ngcontent-%COMP%]{width:100%;height:47px;background:#3ec28f;border-top:4px solid white;position:absolute;left:0%;top:10%}.navbar2Text[_ngcontent-%COMP%]{height:47px;color:#fff;font-size:20px;font-family:Verdana;font-weight:600;word-wrap:break-word;text-align:center;display:inline-block;vertical-align:middle;line-height:240%;border-top:4px solid white}#usernameText[_ngcontent-%COMP%]{width:20%;position:absolute;left:0%;top:10%;border-right:4px solid white}#ProyectosText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:20%;top:10%;border-right:4px solid white}#MuestrasText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:40%;top:10%;border-right:4px solid white}#ClientesText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:60%;top:10%;border-right:4px solid white}#cerrarText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:0%;top:10%;border-right:4px solid white}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.projectBlock[_ngcontent-%COMP%]{width:60%;height:25px;background:#3ec28f;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:14px;font-weight:700;letter-spacing:0;cursor:pointer}.list[_ngcontent-%COMP%]{position:absolute;left:5%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;left:30%;top:22%}.homeBox[_ngcontent-%COMP%]{background-color:#3ec28f;border-right:2px solid white;width:20%;height:15%;position:absolute;left:0;top:0%}.homeText[_ngcontent-%COMP%]{display:none}.homeLogo[_ngcontent-%COMP%]{position:relative;top:30%;left:25%;width:36px;height:36px;text-align:center;background-image:url(home.a5ce65d54c28e165.png);background-repeat:no-repeat;background-size:cover}.tituloBox[_ngcontent-%COMP%]{background-color:#3ec28f;width:80%;height:15%;position:absolute;left:20%;top:0%;text-align:center}.tituloText[_ngcontent-%COMP%]{color:#fff;line-height:1.6;display:inline-block;vertical-align:middle;font-family:Verdana;font-size:32px;letter-spacing:0px}.logoCiens[_ngcontent-%COMP%]{width:45px;height:35px;position:absolute;left:85%;top:1.5%;background-image:url(Logo-Agronomia2.2ed90bcafa53fa56.png);background-repeat:no-repeat;background-size:cover}.logoUcv[_ngcontent-%COMP%]{width:35px;height:35px;position:absolute;left:22%;top:1.5%;background-image:url(logo_ucv_bg2_1.32a61806277cba42.png);background-repeat:no-repeat;background-size:cover}.navbar2Box[_ngcontent-%COMP%]{width:100%;height:5%;background:#3ec28f;border-top:2px solid white;position:absolute;left:0%;top:15%}.navbar2Text[_ngcontent-%COMP%]{height:5%;color:#fff;font-size:10px;font-family:Verdana;font-weight:600;word-wrap:break-word;text-align:center;display:inline-block;vertical-align:middle;line-height:1.6;border-top:2px solid white}#UnidadText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:40%;top:15%;border-right:2px solid white;padding-top:7px}#ProyectosText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:20%;top:15%;border-right:2px solid white;padding-top:7px}#MuestrasText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:60%;top:15%;border-right:2px solid white;padding-top:7px}#ClientesText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:80%;top:15%;padding-top:7px}#cerrarText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:0%;top:15%;border-right:2px solid white}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}button[_ngcontent-%COMP%]{border:none;background-color:#3eb3c2;color:#fff;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;height:10%;padding:10px;margin:5px;border-radius:30px}}"]})}return n})(),yMe=(()=>{class n{constructor(t,i){this.auth=t,this.router=i}canActivate(t,i){return this.checkLogin(i.url)}checkLogin(t){return!!this.auth.currentUser||(this.router.navigate(["/"]),!1)}static#e=this.\u0275fac=function(i){return new(i||n)($(Ge),$(Me))};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),kW=(()=>{class n{constructor(t,i){this.auth=t,this.router=i,this.title="gestion-muestras"}handleSignOut(){Ui(this.auth).then(()=>{}).catch(t=>{console.log("here")}),this.router.navigate(["auth/select"])}Home(){this.router.navigate(["user/projects"])}Projectos(){this.router.navigate(["user/projects"])}Muestras(){this.router.navigate(["user/muestras-all"])}Clientes(){this.router.navigate(["user/clients"])}Unidades(){this.router.navigate(["user/unidad-produccion-all"])}Codigo(){this.router.navigate(["user/barcode-new"])}static#e=this.\u0275fac=function(i){return new(i||n)(E(Ge),E(Me))};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-user"]],decls:32,vars:0,consts:[[1,"navbar"],[1,"tituloBox"],[1,"tituloText"],[1,"logoCiens"],[1,"logoUcv"],[1,"homeBox"],[1,"homeText"],[1,"homeLogo"],[1,"salir",3,"click"],[1,"navbar2"],[1,"navbar2Box"],["id","cerrarText",1,"navbar2Text",3,"click"],["id","UnidadText",1,"navbar2Text",3,"click"],[1,"center"],["id","ProyectosText",1,"navbar2Text",3,"click"],["id","MuestrasText",1,"navbar2Text",3,"click"],["id","ClientesText",1,"navbar2Text",3,"click"],["id","CodigoText",1,"navbar2Text",3,"click"]],template:function(i,r){1&i&&(g(0,"p"),w(1,"user works!"),p(),g(2,"div",0)(3,"div",1)(4,"span",2),w(5,"Gestion de Muestras"),p()(),te(6,"div",3)(7,"div",4),g(8,"div",5)(9,"span",6),w(10,"Home"),p(),te(11,"div",7),p()(),g(12,"button",8),Q("click",function(){return r.Home()}),p(),g(13,"div",9),te(14,"div",10),g(15,"div",11),Q("click",function(){return r.handleSignOut()}),w(16,"CERRAR SESI\xd3N"),p(),g(17,"div",12),Q("click",function(){return r.Unidades()}),g(18,"div",13),w(19,"UNIDADES"),p()(),g(20,"div",14),Q("click",function(){return r.Projectos()}),g(21,"div",13),w(22,"PROYECTOS"),p()(),g(23,"div",15),Q("click",function(){return r.Muestras()}),g(24,"div",13),w(25,"MUESTRAS"),p()(),g(26,"div",16),Q("click",function(){return r.Clientes()}),g(27,"div",13),w(28,"CLIENTES"),p()(),g(29,"div",17),Q("click",function(){return r.Codigo()}),w(30,"GENERAR CODIGO"),p()(),te(31,"router-outlet"))},dependencies:[Sd],styles:[".main[_ngcontent-%COMP%]{display:flex;height:100vh;justify-content:center;align-items:center;flex-direction:column}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}.homeBox[_ngcontent-%COMP%]{background-color:#3ec28f;border-right:4px solid white;width:20%;height:10%;position:absolute;left:0;top:0%;text-align:center}.homeText[_ngcontent-%COMP%]{color:#fff;display:inline-block;vertical-align:middle;line-height:250%;font-family:Verdana;font-size:40px;letter-spacing:0}.tituloBox[_ngcontent-%COMP%]{background-color:#3ec28f;width:80%;height:10%;position:absolute;left:20%;top:0%;text-align:center}.tituloText[_ngcontent-%COMP%]{color:#fff;display:inline-block;vertical-align:middle;line-height:250%;font-family:Verdana;font-size:40px;letter-spacing:0}.logoCiens[_ngcontent-%COMP%]{width:100px;height:69px;position:absolute;left:90%;top:1.5%;background-image:url(Logo-Agronomia2.2ed90bcafa53fa56.png);background-repeat:no-repeat;background-size:cover}.logoUcv[_ngcontent-%COMP%]{width:69px;height:69px;position:absolute;left:22%;top:1.5%;background-image:url(logo_ucv_bg2_1.32a61806277cba42.png);background-repeat:no-repeat;background-size:cover}.navbar2Box[_ngcontent-%COMP%]{width:100%;height:5%;background:#3ec28f;border-top:4px solid white;position:absolute;left:0%;top:10%}.navbar2Text[_ngcontent-%COMP%]{height:4.5%;color:#fff;font-size:16px;font-family:Verdana;font-weight:600;word-wrap:break-word;text-align:center;display:inline-block;vertical-align:middle;line-height:240%;border-top:4px solid white;padding-top:5px}#cerrarText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:0%;top:10%;border-right:4px solid white}#ProyectosText[_ngcontent-%COMP%]{visibility:hidden;cursor:pointer;width:17%;position:absolute;left:20%;top:10%;border-right:4px solid white}#UnidadText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:20%;top:10%;border-right:4px solid white}#MuestrasText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:40%;top:10%;border-right:4px solid white}#ClientesText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:60%;top:10%;border-right:4px solid white}#CodigoText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:80%;top:10%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.homeBox[_ngcontent-%COMP%]{background-color:#3ec28f;border-right:2px solid white;width:20%;height:15%;position:absolute;left:0;top:0%}.homeText[_ngcontent-%COMP%]{display:none}.homeLogo[_ngcontent-%COMP%]{position:relative;top:30%;left:25%;width:30px;height:30px;text-align:center;background-image:url(home.a5ce65d54c28e165.png);background-repeat:no-repeat;background-size:cover}.tituloBox[_ngcontent-%COMP%]{background-color:#3ec28f;width:80%;height:15%;position:absolute;left:20%;top:0%;text-align:center}.tituloText[_ngcontent-%COMP%]{color:#fff;line-height:1.6;display:inline-block;vertical-align:middle;font-family:Verdana;font-size:32px;letter-spacing:0px}.logoCiens[_ngcontent-%COMP%]{width:45px;height:35px;position:absolute;left:85%;top:5%;background-image:url(Logo-Agronomia2.2ed90bcafa53fa56.png);background-repeat:no-repeat;background-size:cover}.logoUcv[_ngcontent-%COMP%]{width:35px;height:35px;position:absolute;left:22%;top:5%;background-image:url(logo_ucv_bg2_1.32a61806277cba42.png);background-repeat:no-repeat;background-size:cover}.navbar2Box[_ngcontent-%COMP%]{width:100%;height:33px;background:#3ec28f;border-top:2px solid white;position:absolute;left:0%;top:15%}.navbar2Text[_ngcontent-%COMP%]{height:28px;color:#fff;font-size:8px;font-family:Verdana;font-weight:600;word-wrap:break-word;text-align:center;display:inline-block;vertical-align:middle;line-height:1.6;border-top:2px solid white;padding-top:5px}.center[_ngcontent-%COMP%]{position:relative;top:18%}#cerrarText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:0%;top:15%;border-right:2px solid white}#ProyectosText[_ngcontent-%COMP%]{visibility:hidden;cursor:pointer;width:20%;position:absolute;left:15%;top:15%;border-right:2px solid white}#UnidadText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:20%;top:15%;border-right:2px solid white}#MuestrasText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:40%;top:15%;border-right:2px solid white}#ClientesText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:60%;top:15%;border-right:2px solid white}#CodigoText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:80%;top:15%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:15%;left:0%;top:0%}}"]})}return n})();var Tm=N(2448);let vMe=(()=>{class n{constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o}ngOnInit(){this.route.params.subscribe(t=>{this.item=t,console.log(t),this.generateBarcode(t)})}generateBarcode(t){var i=t.id;let r=t.num;Tm("#barcode",i,{format:"CODE128"});for(let o=1;o<r;o++){let s="#barcode"+o;console.log(s),Tm(s,i,{format:"CODE128"})}window.print()}static#e=this.\u0275fac=function(i){return new(i||n)(E(Me),E(dt),E(Ge),E(ut))};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-print"]],decls:5,vars:0,consts:[["id","barcode"],["id","barcode1"],["id","barcode2"],["id","barcode3"],["id","barcode4"]],template:function(i,r){1&i&&(T_(),te(0,"svg",0)(1,"svg",1)(2,"svg",2)(3,"svg",3)(4,"svg",4))},styles:["#barcode[_ngcontent-%COMP%]{position:absolute;top:50px;left:200px}#barcode1[_ngcontent-%COMP%]{position:absolute;top:220px;left:200px}#barcode2[_ngcontent-%COMP%]{position:absolute;top:390px;left:200px}#barcode3[_ngcontent-%COMP%]{position:absolute;top:560px;left:200px}#barcode4[_ngcontent-%COMP%]{position:absolute;top:730px;left:200px}"]})}return n})(),OW=(()=>{class n{constructor(t,i){this.auth=t,this.router=i,this.title="gestion-muestras"}handleSignOut(){Ui(this.auth).then(()=>{}).catch(t=>{console.log("here")}),this.router.navigate(["auth/select"])}Home(){this.router.navigate(["client/projects"])}Projectos(){this.router.navigate(["client/projects"])}Perfil(){this.router.navigate(["client/perfil"])}Muestras(){this.router.navigate(["client/muestras-all"])}Unidad(){this.router.navigate(["client/unidad-produccion-all"])}static#e=this.\u0275fac=function(i){return new(i||n)(E(Ge),E(Me))};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-client"]],decls:25,vars:0,consts:[[1,"navbar"],[1,"tituloBox"],[1,"tituloText"],[1,"logoCiens"],[1,"logoUcv"],[1,"homeBox"],[1,"homeText"],[1,"salir",3,"click"],[1,"navbar2"],[1,"navbar2Box"],["id","cerrarText",1,"navbar2Text",3,"click"],["id","usernameText",1,"navbar2Text",3,"click"],["id","ProyectosText",1,"navbar2Text",3,"click"],["id","MuestrasText",1,"navbar2Text",3,"click"],["id","UnidadText",1,"navbar2Text",3,"click"]],template:function(i,r){1&i&&(g(0,"p"),w(1,"client works!"),p(),g(2,"div",0)(3,"div",1)(4,"span",2),w(5,"Gestion de Muestras"),p()(),te(6,"div",3)(7,"div",4),g(8,"div",5)(9,"span",6),w(10,"Home"),p()()(),g(11,"button",7),Q("click",function(){return r.Home()}),p(),g(12,"div",8),te(13,"div",9),g(14,"div",10),Q("click",function(){return r.handleSignOut()}),w(15,"CERRAR SESI\xd3N"),p(),g(16,"div",11),Q("click",function(){return r.Perfil()}),w(17,"USUARIO"),p(),g(18,"div",12),Q("click",function(){return r.Projectos()}),w(19,"PROYECTOS"),p(),g(20,"div",13),Q("click",function(){return r.Muestras()}),w(21,"MUESTRAS"),p(),g(22,"div",14),Q("click",function(){return r.Unidad()}),w(23,"UNIDADES"),p()(),te(24,"router-outlet"))},dependencies:[Sd],styles:[".main[_ngcontent-%COMP%]{display:flex;height:100vh;justify-content:center;align-items:center;flex-direction:column}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}.homeBox[_ngcontent-%COMP%]{background-color:#3ec28f;border-right:4px solid white;width:20%;height:10%;position:absolute;left:0;top:0%;text-align:center}.homeText[_ngcontent-%COMP%]{color:#fff;display:inline-block;vertical-align:middle;line-height:250%;font-family:Verdana;font-size:40px;letter-spacing:0}.tituloBox[_ngcontent-%COMP%]{background-color:#3ec28f;width:80%;height:10%;position:absolute;left:20%;top:0%;text-align:center}.tituloText[_ngcontent-%COMP%]{color:#fff;display:inline-block;vertical-align:middle;line-height:250%;font-family:Verdana;font-size:40px;letter-spacing:0}.logoCiens[_ngcontent-%COMP%]{width:100px;height:69px;position:absolute;left:90%;top:1.5%;background-image:url(Logo-Agronomia2.2ed90bcafa53fa56.png);background-repeat:no-repeat;background-size:cover}.logoUcv[_ngcontent-%COMP%]{width:69px;height:69px;position:absolute;left:22%;top:1.5%;background-image:url(logo_ucv_bg2_1.32a61806277cba42.png);background-repeat:no-repeat;background-size:cover}.navbar2Box[_ngcontent-%COMP%]{width:100%;height:47px;background:#3ec28f;border-top:4px solid white;position:absolute;left:0%;top:10%}.navbar2Text[_ngcontent-%COMP%]{height:47px;color:#fff;font-size:20px;font-family:Verdana;font-weight:600;word-wrap:break-word;text-align:center;display:inline-block;vertical-align:middle;line-height:240%;border-top:4px solid white}#usernameText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:80%;top:10%}#ProyectosText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:20%;top:10%;border-right:4px solid white}#MuestrasText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:60%;top:10%;border-right:4px solid white}#UnidadText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:40%;top:10%;border-right:4px solid white}#cerrarText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:0%;top:10%;border-right:4px solid white}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.homeBox[_ngcontent-%COMP%]{background-color:#3ec28f;border-right:2px solid white;width:20%;height:15%;position:absolute;left:0;top:0%}.homeText[_ngcontent-%COMP%]{display:none}.homeLogo[_ngcontent-%COMP%]{position:relative;top:30%;left:25%;width:36px;height:36px;text-align:center;background-image:url(home.a5ce65d54c28e165.png);background-repeat:no-repeat;background-size:cover}.tituloBox[_ngcontent-%COMP%]{background-color:#3ec28f;width:80%;height:15%;position:absolute;left:20%;top:0%;text-align:center}.tituloText[_ngcontent-%COMP%]{color:#fff;line-height:1.6;display:inline-block;vertical-align:middle;font-family:Verdana;font-size:32px;letter-spacing:0px}.logoCiens[_ngcontent-%COMP%]{width:45px;height:35px;position:absolute;left:85%;top:1.5%;background-image:url(Logo-Agronomia2.2ed90bcafa53fa56.png);background-repeat:no-repeat;background-size:cover}.logoUcv[_ngcontent-%COMP%]{width:35px;height:35px;position:absolute;left:22%;top:1.5%;background-image:url(logo_ucv_bg2_1.32a61806277cba42.png);background-repeat:no-repeat;background-size:cover}.navbar2Box[_ngcontent-%COMP%]{width:100%;height:5%;background:#3ec28f;border-top:2px solid white;position:absolute;left:0%;top:15%}.navbar2Text[_ngcontent-%COMP%]{height:5%;color:#fff;font-size:10px;font-family:Verdana;font-weight:600;word-wrap:break-word;text-align:center;display:inline-block;vertical-align:middle;line-height:1.6;border-top:2px solid white}#usernameText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:80%;top:15%;padding-top:7px}#UnidadText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:40%;top:15%;border-right:2px solid white;padding-top:7px}#ProyectosText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:20%;top:15%;border-right:2px solid white;padding-top:7px}#MuestrasText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:60%;top:15%;border-right:2px solid white;padding-top:7px}#ClientesText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:80%;top:15%;padding-top:7px}#cerrarText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:0%;top:15%;border-right:2px solid white}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:15%;left:0%;top:0%}}"]})}return n})();const wMe=[{path:"",redirectTo:"auth/select",pathMatch:"full"},{path:"home",component:mMe},{path:"admin",component:bMe,canActivate:[yMe]},{path:"auth",component:Z$},{path:"user",component:kW},{path:"client",component:OW},{path:"print/:id/:num",component:vMe}];let PW=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ze({type:n});static#n=this.\u0275inj=Xe({imports:[Lo.forRoot(wMe),Lo]})}return n})(),CMe=(()=>{class n{constructor(t,i,r){this.auth=t,this.router=i,this.title="gestion-muestras",console.log("inside app component")}handleSignOut(){Ui(this.auth).then(()=>{}).catch(t=>{console.log("here")})}static#e=this.\u0275fac=function(i){return new(i||n)(E(Ge),E(Me),E(ut))};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-root"]],decls:2,vars:0,consts:[[1,"base"]],template:function(i,r){1&i&&(g(0,"div",0),te(1,"router-outlet"),p())},dependencies:[Sd],styles:[".base[_ngcontent-%COMP%]{margin:0;width:100%;height:100%;top:0;left:0;background-repeat:repeat;background-image:url(CaptureLeafRepeatOpacity40.fa59cc5e435e5925.png)}"]})}return n})();const xMe_firebase={projectId:"gestion-de-muestras-de-c-fabe0",appId:"1:881625861704:web:1da279954953bf7e3ad27d",databaseURL:"https://gestion-de-muestras-de-c-fabe0-default-rtdb.firebaseio.com",storageBucket:"gestion-de-muestras-de-c-fabe0.appspot.com",apiKey:"AIzaSyD0Py3MA2BD1yEsMg4wM9RDhbNgmEAxZPk",authDomain:"gestion-de-muestras-de-c-fabe0.firebaseapp.com",messagingSenderId:"881625861704",measurementId:"G-PTHV8B640J"},RW="@firebase/database";let RR="";class IMe{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Fi(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Vp(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class TMe{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return gs(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const FW=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new IMe(e)}}catch{}return new TMe},Wl=FW("localStorage"),NR=FW("sessionStorage"),Ph=new ul("@firebase/database"),LW=function(){let n=1;return function(){return n++}}(),VW=function(n){const e=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);if(r>=55296&&r<=56319){const o=r-55296;i++,se(i<n.length,"Surrogate pair missing trail surrogate."),r=65536+(o<<10)+(n.charCodeAt(i)-56320)}r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=63&r|128):r<65536?(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=63&r|128):(e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=63&r|128)}return e}(n),t=new Hme;t.update(e);const i=t.digest();return iv.encodeByteArray(i)},Dm=function(...n){let e="";for(let t=0;t<n.length;t++){const i=n[t];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?e+=Dm.apply(null,i):e+="object"==typeof i?Fi(i):i,e+=" "}return e};let Kl=null,BW=!0;const Si=function(...n){if(!0===BW&&(BW=!1,null===Kl&&!0===NR.get("logging_enabled")&&function(n,e){se(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Ph.logLevel=gt.VERBOSE,Kl=Ph.log.bind(Ph),e&&NR.set("logging_enabled",!0)):"function"==typeof n?Kl=n:(Kl=null,NR.remove("logging_enabled"))}(!0)),Kl){const e=Dm.apply(null,n);Kl(e)}},Mm=function(n){return function(...e){Si(n,...e)}},FR=function(...n){const e="FIREBASE INTERNAL ERROR: "+Dm(...n);Ph.error(e)},Ss=function(...n){const e=`FIREBASE FATAL ERROR: ${Dm(...n)}`;throw Ph.error(e),new Error(e)},sr=function(...n){const e="FIREBASE WARNING: "+Dm(...n);Ph.warn(e)},vw=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},yc="[MIN_NAME]",ga="[MAX_NAME]",Ql=function(n,e){if(n===e)return 0;if(n===yc||e===ga)return-1;if(e===yc||n===ga)return 1;{const t=$W(n),i=$W(e);return null!==t?null!==i?t-i==0?n.length-e.length:t-i:-1:null!==i?1:n<e?-1:1}},SMe=function(n,e){return n===e?0:n<e?-1:1},Sm=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+Fi(e))},LR=function(n){if("object"!=typeof n||null===n)return Fi(n);const e=[];for(const i in n)e.push(i);e.sort();let t="{";for(let i=0;i<e.length;i++)0!==i&&(t+=","),t+=Fi(e[i]),t+=":",t+=LR(n[e[i]]);return t+="}",t},jW=function(n,e){const t=n.length;if(t<=e)return[n];const i=[];for(let r=0;r<t;r+=e)i.push(n.substring(r,r+e>t?t:r+e));return i};function Ai(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const zW=function(n){se(!vw(n),"Invalid JSON number");const i=1023;let r,o,s,a,c;0===n?(o=0,s=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(a=Math.min(Math.floor(Math.log(n)/Math.LN2),i),o=a+i,s=Math.round(n*Math.pow(2,52-a)-Math.pow(2,52))):(o=0,s=Math.round(n/Math.pow(2,-1074))));const l=[];for(c=52;c;c-=1)l.push(s%2?1:0),s=Math.floor(s/2);for(c=11;c;c-=1)l.push(o%2?1:0),o=Math.floor(o/2);l.push(r?1:0),l.reverse();const u=l.join("");let d="";for(c=0;c<64;c+=8){let h=parseInt(u.substr(c,8),2).toString(16);1===h.length&&(h="0"+h),d+=h}return d.toLowerCase()},PMe=new RegExp("^-?(0*)\\d{1,10}$"),$W=function(n){if(PMe.test(n)){const e=Number(n);if(e>=-2147483648&&e<=2147483647)return e}return null},Rh=function(n){try{n()}catch(e){setTimeout(()=>{throw sr("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},Am=function(n,e){const t=setTimeout(n,e);return"number"==typeof t&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):"object"==typeof t&&t.unref&&t.unref(),t};class LMe{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){sr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class VMe{constructor(e,t,i){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(Si("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',sr(e)}}let km=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const KW=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,XW="websocket",ZW="long_polling";class BR{constructor(e,t,i,r,o=!1,s="",a=!1,c=!1){this.secure=t,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Wl.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Wl.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function JW(n,e,t){let i;if(se("string"==typeof e,"typeof type must == string"),se("object"==typeof t,"typeof params must == object"),e===XW)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==ZW)throw new Error("Unknown connection type: "+e);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function BMe(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const r=[];return Ai(t,(o,s)=>{r.push(o+"="+s)}),i+r.join("&")}class UMe{constructor(){this.counters_={}}incrementCounter(e,t=1){gs(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return Ame(this.counters_)}}const UR={},jR={};function zR(n){const e=n.toString();return UR[e]||(UR[e]=new UMe),UR[e]}class zMe{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&Rh(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class vc{constructor(e,t,i,r,o,s,a){this.connId=e,this.repoInfo=t,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Mm(e),this.stats_=zR(t),this.urlFn=c=>(this.appCheckToken&&(c.ac=this.appCheckToken),JW(t,ZW,c))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new zMe(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if("complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new $R((...o)=>{const[s,a,c,l,u]=o;if(this.incrementIncomingBytes_(o),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===s)this.id=a,this.password=c;else{if("close"!==s)throw new Error("Unrecognized command received: "+s);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...o)=>{const[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&KW.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){vc.forceAllow_=!0}static forceDisallow(){vc.forceDisallow_=!0}static isAvailable(){return!(!vc.forceAllow_&&(vc.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=Fi(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=Y6(t),r=jW(i,1840);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=e,i.pw=t,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=Fi(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class $R{constructor(e,t,i,r){this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=LW(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=$R.createIFrame_();let o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(o='<script>document.domain="'+document.domain+'";<\/script>');const s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){Si("frame writing exception"),a.stack&&Si(a.stack),Si(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Si("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const s=this.pendingSegs.shift();i=i+"&seg"+r+"="+s.seg+"&ts"+r+"="+s.ts+"&d"+r+"="+s.d,r++}return t+=i,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,i){this.pendingSegs.push({seg:e,ts:t,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const i=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(r),i()})}addTag(e,t){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=()=>{Si("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let Cw=null;typeof MozWebSocket<"u"?Cw=MozWebSocket:typeof WebSocket<"u"&&(Cw=WebSocket);let Nh=(()=>{class n{constructor(t,i,r,o,s,a,c){this.connId=t,this.applicationId=r,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Mm(this.connId),this.stats_=zR(i),this.connURL=n.connectionURL_(i,a,c,o,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,r,o,s){const a={v:"5"};return typeof location<"u"&&location.hostname&&KW.test(location.hostname)&&(a.r="f"),i&&(a.s=i),r&&(a.ls=r),o&&(a.ac=o),s&&(a.p=s),JW(t,XW,a)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Wl.set("previous_websocket_failure",!0);try{let r;0,this.mySock=new Cw(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;return o&&this.log_(o),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&null!==Cw&&!n.forceDisallow_}static previouslyFailed(){return Wl.isInMemoryStorage||!0===Wl.get("previous_websocket_failure")}markConnectionHealthy(){Wl.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=Vp(i);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(se(null===this.frames,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const i=Fi(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=jW(i,16384);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),sK=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[vc,Nh]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const i=Nh&&Nh.isAvailable();let r=i&&!Nh.previouslyFailed();if(t.webSocketOnly&&(i||sr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Nh];else{const o=this.transports_=[];for(const s of n.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class fK{constructor(e,t,i,r,o,s,a,c,l,u){this.id=e,this.repoInfo_=t,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=c,this.onKill_=l,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Mm("c:"+this.id+":"),this.transportManager_=new sK(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,i)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=Am(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Sm("t",e),i=Sm("d",e);if("c"===t)this.onSecondaryControl_(i);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Sm("t",e),i=Sm("d",e);"c"===t?this.onControl_(i):"d"===t&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Sm("t",e);if("d"in e){const i=e.d;if("h"===t){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(i):"r"===t?this.onReset_(i):"e"===t?FR("Server Error: "+i):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):FR("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==i&&sr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,i),Am(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Am(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Wl.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class pK{put(e,t,i,r){}merge(e,t,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,i){}onDisconnectMerge(e,t,i){}onDisconnectCancel(e,t){}reportStats(e){}}class gK{constructor(e){this.allowedEvents_=e,this.listeners_={},se(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,t)}}on(e,t,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:i});const r=this.getInitialEvent(e);r&&t.apply(i,r)}off(e,t,i){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let o=0;o<r.length;o++)if(r[o].callback===t&&(!i||i===r[o].context))return void r.splice(o,1)}validateEventType_(e){se(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class xw extends gK{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!$T()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new xw}getInitialEvent(e){return se("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class kt{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function It(){return new kt("")}function et(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function wc(n){return n.pieces_.length-n.pieceNum_}function $t(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new kt(n.pieces_,e)}function GR(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function Om(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function bK(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new kt(e,0)}function bn(n,e){const t=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)t.push(n.pieces_[i]);if(e instanceof kt)for(let i=e.pieceNum_;i<e.pieces_.length;i++)t.push(e.pieces_[i]);else{const i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&t.push(i[r])}return new kt(t,0)}function tt(n){return n.pieceNum_>=n.pieces_.length}function Cr(n,e){const t=et(n),i=et(e);if(null===t)return e;if(t===i)return Cr($t(n),$t(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function qR(n,e){if(wc(n)!==wc(e))return!1;for(let t=n.pieceNum_,i=e.pieceNum_;t<=n.pieces_.length;t++,i++)if(n.pieces_[t]!==e.pieces_[i])return!1;return!0}function mo(n,e){let t=n.pieceNum_,i=e.pieceNum_;if(wc(n)>wc(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[i])return!1;++t,++i}return!0}class dSe{constructor(e,t){this.errorPrefix_=t,this.parts_=Om(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=uv(this.parts_[i]);yK(this)}}function yK(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Yl(n))}function Yl(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class WR extends gK{constructor(){let e,t;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new WR}getInitialEvent(e){return se("visible"===e,"Unknown event type: "+e),[this.visible_]}}const Pm=1e3;let Iw,Xl=(()=>{class n extends pK{constructor(t,i,r,o,s,a,c,l){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=l,this.id=n.nextPersistentConnectionId_++,this.log_=Mm("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Pm,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");WR.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&xw.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,r){const o=++this.requestNumber_,s={r:o,a:t,b:i};this.log_(Fi(s)),se(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[o]=r)}get(t){this.initConnection_();const i=new Fd,o={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:a=>{const c=a.d;"ok"===a.s?i.resolve(c):i.reject(c)}};return this.outstandingGets_.push(o),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(t,i,r,o){this.initConnection_();const s=t._queryIdentifier,a=t._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),se(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),se(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");const c={onComplete:o,hashFn:i,query:t,tag:r};this.listens.get(a).set(s,c),this.connected_&&this.sendListen_(c)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(t){const i=t.query,r=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+r+" for "+o);const s={p:r};t.tag&&(s.q=i._queryObject,s.t=t.tag),s.h=t.hashFn(),this.sendRequest("q",s,c=>{const l=c.d,u=c.s;n.warnOnListenWarnings_(l,i),(this.listens.get(r)&&this.listens.get(r).get(o))===t&&(this.log_("listen response",c),"ok"!==u&&this.removeListen_(r,o),t.onComplete&&t.onComplete(u,l))})}static warnOnListenWarnings_(t,i){if(t&&"object"==typeof t&&gs(t,"w")){const r=Ld(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',s=i._path.toString();sr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||function(n){const e=av(n).claims;return"object"==typeof e&&!0===e.admin}(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=function(n){const t=av(n).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,o=>{const s=o.s,a=o.d||"error";this.authToken_===t&&("ok"===s?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,r=t.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(t,i){const r=t._path.toString(),o=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),se(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,t._queryObject,i)}sendUnlisten_(t,i,r,o){this.log_("Unlisten on "+t+" for "+i);const s={p:t};o&&(s.q=r,s.t=o),this.sendRequest("n",s)}onDisconnectPut(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:r})}onDisconnectMerge(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:r})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,r,o){const s={p:i,d:r};this.log_("onDisconnect "+t,s),this.sendRequest(t,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(t,i,r,o){this.putInternal("p",t,i,r,o)}merge(t,i,r,o){this.putInternal("m",t,i,r,o)}putInternal(t,i,r,o,s){this.initConnection_();const a={p:i,d:r};void 0!==s&&(a.h=s),this.outstandingPuts_.push({action:t,request:a,onComplete:o}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,o=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,r,s=>{this.log_(i+" response",s),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+Fi(t));const i=t.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),"d"===t?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===t?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===t?this.onListenRevoked_(i.p,i.q):"ac"===t?this.onAuthRevoked_(i.s,i.d):"apc"===t?this.onAppCheckRevoked_(i.s,i.d):"sd"===t?this.onSecurityDebugPacket_(i):FR("Unrecognized action received from server: "+Fi(t)+"\nAre you using the latest client?")}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){se(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Pm,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Pm,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Pm),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return _(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const i=t.onDataMessage_.bind(t),r=t.onReady_.bind(t),o=t.onRealtimeDisconnect_.bind(t),s=t.id+":"+n.nextConnectionId_++,a=t.lastSessionId;let c=!1,l=null;const u=function(){l?l.close():(c=!0,o())};t.realtime_={close:u,sendRequest:function(f){se(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(f)}};const h=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[f,b]=yield Promise.all([t.authTokenProvider_.getToken(h),t.appCheckTokenProvider_.getToken(h)]);c?Si("getToken() completed but was canceled"):(Si("getToken() completed. Creating connection."),t.authToken_=f&&f.accessToken,t.appCheckToken_=b&&b.token,l=new fK(s,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,i,r,o,x=>{sr(x+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},a))}catch(f){t.log_("Failed to get token: "+f),c||(t.repoInfo_.nodeAdmin&&sr(f),u())}}})()}interrupt(t){Si("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Si("Resuming connection for reason: "+t),delete this.interruptReasons_[t],qT(this.interruptReasons_)&&(this.reconnectDelay_=Pm,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let r;r=i?i.map(s=>LR(s)).join("$"):"default";const o=this.removeListen_(t,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(t,i){const r=new kt(t).toString();let o;if(this.listens.has(r)){const s=this.listens.get(r);o=s.get(i),s.delete(i),0===s.size&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(t,i){Si("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){Si("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";t["sdk."+i+"."+RR.replace(/\./g,"-")]=1,$T()?t["framework.cordova"]=1:n9()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=xw.getInstance().currentlyOnline();return qT(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class rt{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new rt(e,t)}}class Ew{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const i=new rt(yc,e),r=new rt(yc,t);return 0!==this.compare(i,r)}minPost(){return rt.MIN}}class CK extends Ew{static get __EMPTY_NODE(){return Iw}static set __EMPTY_NODE(e){Iw=e}compare(e,t){return Ql(e.name,t.name)}isDefinedOn(e){throw Nd("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return rt.MIN}maxPost(){return new rt(ga,Iw)}makePost(e,t){return se("string"==typeof e,"KeyIndex indexValue must always be a string."),new rt(e,Iw)}toString(){return".key"}}const As=new CK;class Tw{constructor(e,t,i,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(s=t?i(e.key,t):1,r&&(s*=-1),s<0)e=this.isReverse_?e.left:e.right;else{if(0===s){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let QR,zo=(()=>{class n{constructor(t,i,r,o,s){this.key=t,this.value=i,this.color=r??n.RED,this.left=o??Vr.EMPTY_NODE,this.right=s??Vr.EMPTY_NODE}copy(t,i,r,o,s){return new n(t??this.key,i??this.value,r??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let o=this;const s=r(t,o.key);return o=s<0?o.copy(null,null,null,o.left.insert(t,i,r),null):0===s?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Vr.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let r,o;if(r=this,i(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(t,r.key)){if(r.right.isEmpty())return Vr.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Vr{constructor(e,t=Vr.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Vr(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,zo.BLACK,null,null))}remove(e){return new Vr(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,zo.BLACK,null,null))}get(e){let t,i=this.root_;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t)return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}getPredecessorKey(e){let t,i=this.root_,r=null;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}t<0?i=i.left:t>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Tw(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new Tw(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new Tw(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new Tw(this.root_,null,this.comparator_,!0,e)}}function ySe(n,e){return Ql(n.name,e.name)}function KR(n,e){return Ql(n,e)}Vr.EMPTY_NODE=new class bSe{copy(e,t,i,r,o){return this}insert(e,t,i){return new zo(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const xK=function(n){return"number"==typeof n?"number:"+zW(n):"string:"+n},EK=function(n){if(n.isLeafNode()){const e=n.val();se("string"==typeof e||"number"==typeof e||"object"==typeof e&&gs(e,".sv"),"Priority must be a string or number.")}else se(n===QR||n.isEmpty(),"priority of unexpected type.");se(n===QR||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let IK,TK,DK,Fh=(()=>{class n{constructor(t,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,se(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),EK(this.priorityNode_)}static set __childrenNodeConstructor(t){IK=t}static get __childrenNodeConstructor(){return IK}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return tt(t)?this:".priority"===et(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return".priority"===t?this.updatePriority(i):i.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const r=et(t);return null===r?i:i.isEmpty()&&".priority"!==r?this:(se(".priority"!==r||1===wc(t),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild($t(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+xK(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",t+="number"===i?zW(this.value_):this.value_,this.lazyHash_=VW(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:(se(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,r=typeof this.value_,o=n.VALUE_TYPE_ORDER.indexOf(i),s=n.VALUE_TYPE_ORDER.indexOf(r);return se(o>=0,"Unknown leaf type: "+i),se(s>=0,"Unknown leaf type: "+r),o===s?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(t){return t===this||!!t.isLeafNode()&&(this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const nn=new class xSe extends Ew{compare(e,t){const i=e.node.getPriority(),r=t.node.getPriority(),o=i.compareTo(r);return 0===o?Ql(e.name,t.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return rt.MIN}maxPost(){return new rt(ga,new Fh("[PRIORITY-POST]",DK))}makePost(e,t){const i=TK(e);return new rt(t,new Fh("[PRIORITY-POST]",i))}toString(){return".priority"}},ESe=Math.log(2);class ISe{constructor(e){this.count=parseInt(Math.log(e+1)/ESe,10),this.current_=this.count-1;const r=(o=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Dw=function(n,e,t,i){n.sort(e);const r=function(c,l){const u=l-c;let d,h;if(0===u)return null;if(1===u)return d=n[c],h=t?t(d):d,new zo(h,d.node,zo.BLACK,null,null);{const f=parseInt(u/2,10)+c,b=r(c,f),x=r(f+1,l);return d=n[f],h=t?t(d):d,new zo(h,d.node,zo.BLACK,b,x)}},a=function(c){let l=null,u=null,d=n.length;const h=function(b,x){const I=d-b,k=d;d-=b;const M=r(I+1,k),V=n[I],K=t?t(V):V;f(new zo(K,V.node,x,null,M))},f=function(b){l?(l.left=b,l=b):(u=b,l=b)};for(let b=0;b<c.count;++b){const x=c.nextBitIsOne(),I=Math.pow(2,c.count-(b+1));x?h(I,zo.BLACK):(h(I,zo.BLACK),h(I,zo.RED))}return u}(new ISe(n.length));return new Vr(i||e,a)};let YR;const Lh={};class ma{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return se(Lh&&nn,"ChildrenNode.ts has not been loaded"),YR=YR||new ma({".priority":Lh},{".priority":nn}),YR}get(e){const t=Ld(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Vr?t:null}hasIndex(e){return gs(this.indexSet_,e.toString())}addIndex(e,t){se(e!==As,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const o=t.getIterator(rt.Wrap);let a,s=o.getNext();for(;s;)r=r||e.isDefinedOn(s.node),i.push(s),s=o.getNext();a=r?Dw(i,e.getCompare()):Lh;const c=e.toString(),l=Object.assign({},this.indexSet_);l[c]=e;const u=Object.assign({},this.indexes_);return u[c]=a,new ma(u,l)}addToIndexes(e,t){const i=cv(this.indexes_,(r,o)=>{const s=Ld(this.indexSet_,o);if(se(s,"Missing index implementation for "+o),r===Lh){if(s.isDefinedOn(e.node)){const a=[],c=t.getIterator(rt.Wrap);let l=c.getNext();for(;l;)l.name!==e.name&&a.push(l),l=c.getNext();return a.push(e),Dw(a,s.getCompare())}return Lh}{const a=t.get(e.name);let c=r;return a&&(c=c.remove(new rt(e.name,a))),c.insert(e,e.node)}});return new ma(i,this.indexSet_)}removeFromIndexes(e,t){const i=cv(this.indexes_,r=>{if(r===Lh)return r;{const o=t.get(e.name);return o?r.remove(new rt(e.name,o)):r}});return new ma(i,this.indexSet_)}}let Rm,qe=(()=>{class n{constructor(t,i,r){this.children_=t,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&EK(this.priorityNode_),this.children_.isEmpty()&&se(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Rm||(Rm=new n(new Vr(KR),null,ma.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Rm}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const i=this.children_.get(t);return null===i?Rm:i}}getChild(t){const i=et(t);return null===i?this:this.getImmediateChild(i).getChild($t(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,i){if(se(i,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(i);{const r=new rt(t,i);let o,s;i.isEmpty()?(o=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(t,i),s=this.indexMap_.addToIndexes(r,this.children_));const a=o.isEmpty()?Rm:this.priorityNode_;return new n(o,a,s)}}updateChild(t,i){const r=et(t);if(null===r)return i;{se(".priority"!==et(t)||1===wc(t),".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild($t(t),i);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let r=0,o=0,s=!0;if(this.forEachChild(nn,(a,c)=>{i[a]=c.val(t),r++,s&&n.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!t&&s&&o<2*r){const a=[];for(const c in i)a[c]=i[c];return a}return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+xK(this.getPriority().val())+":"),this.forEachChild(nn,(i,r)=>{const o=r.hash();""!==o&&(t+=":"+i+":"+o)}),this.lazyHash_=""===t?"":VW(t)}return this.lazyHash_}getPredecessorChildName(t,i,r){const o=this.resolveIndex_(r);if(o){const s=o.getPredecessorKey(new rt(t,i));return s?s.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new rt(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new rt(i,this.children_.get(i)):null}forEachChild(t,i){const r=this.resolveIndex_(t);return r?r.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(t,o=>o);{const o=this.children_.getIteratorFrom(t.name,rt.Wrap);let s=o.peek();for(;null!=s&&i.compare(s,t)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(t,o=>o);{const o=this.children_.getReverseIteratorFrom(t.name,rt.Wrap);let s=o.peek();for(;null!=s&&i.compare(s,t)>0;)o.getNext(),s=o.peek();return o}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Nm?-1:0}withIndex(t){if(t===As||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===As||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(nn),o=i.getIterator(nn);let s=r.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=r.getNext(),a=o.getNext()}return null===s&&null===a}return!1}return!1}}resolveIndex_(t){return t===As?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const Nm=new class TSe extends qe{constructor(){super(new Vr(KR),qe.EMPTY_NODE,ma.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return qe.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(rt,{MIN:{value:new rt(yc,qe.EMPTY_NODE)},MAX:{value:new rt(ga,Nm)}}),CK.__EMPTY_NODE=qe.EMPTY_NODE,Fh.__childrenNodeConstructor=qe,function vSe(n){QR=n}(Nm),function CSe(n){DK=n}(Nm);const DSe=!0;function Tn(n,e=null){if(null===n)return qe.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),se(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Fh(n,Tn(e));if(n instanceof Array||!DSe){let t=qe.EMPTY_NODE;return Ai(n,(i,r)=>{if(gs(n,i)&&"."!==i.substring(0,1)){const o=Tn(r);(o.isLeafNode()||!o.isEmpty())&&(t=t.updateImmediateChild(i,o))}}),t.updatePriority(Tn(e))}{const t=[];let i=!1;if(Ai(n,(s,a)=>{if("."!==s.substring(0,1)){const c=Tn(a);c.isEmpty()||(i=i||!c.getPriority().isEmpty(),t.push(new rt(s,c)))}}),0===t.length)return qe.EMPTY_NODE;const o=Dw(t,ySe,s=>s.name,KR);if(i){const s=Dw(t,nn.getCompare());return new qe(o,Tn(e),new ma({".priority":s},{".priority":nn}))}return new qe(o,Tn(e),ma.Default)}}!function wSe(n){TK=n}(Tn);class XR extends Ew{constructor(e){super(),this.indexPath_=e,se(!tt(e)&&".priority"!==et(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const i=this.extractChild(e.node),r=this.extractChild(t.node),o=i.compareTo(r);return 0===o?Ql(e.name,t.name):o}makePost(e,t){const i=Tn(e),r=qe.EMPTY_NODE.updateChild(this.indexPath_,i);return new rt(t,r)}maxPost(){const e=qe.EMPTY_NODE.updateChild(this.indexPath_,Nm);return new rt(ga,e)}toString(){return Om(this.indexPath_,0).join("/")}}const ZR=new class MSe extends Ew{compare(e,t){const i=e.node.compareTo(t.node);return 0===i?Ql(e.name,t.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return rt.MIN}maxPost(){return rt.MAX}makePost(e,t){const i=Tn(e);return new rt(t,i)}toString(){return".value"}};function Lm(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class eN{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=nn}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return se(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return se(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:yc}hasEnd(){return this.endSet_}getIndexEndValue(){return se(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return se(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ga}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return se(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===nn}copy(){const e=new eN;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function SK(n){const e={};if(n.isDefault())return e;let t;if(n.index_===nn?t="$priority":n.index_===ZR?t="$value":n.index_===As?t="$key":(se(n.index_ instanceof XR,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=Fi(t),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";e[i]=Fi(n.indexStartValue_),n.startNameSet_&&(e[i]+=","+Fi(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";e[i]=Fi(n.indexEndValue_),n.endNameSet_&&(e[i]+=","+Fi(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function AK(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==nn&&(e.i=n.index_.toString()),e}class Sw extends pK{constructor(e,t,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=Mm("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(se(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,i,r){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const s=Sw.getListenId_(e,i),a={};this.listens_[s]=a;const c=SK(e._queryParams);this.restRequest_(o+".json",c,(l,u)=>{let d=u;if(404===l&&(d=null,l=null),null===l&&this.onDataUpdate_(o,d,!1,i),Ld(this.listens_,s)===a){let h;h=l?401===l?"permission_denied":"rest_error:"+l:"ok",r(h,null)}})}unlisten(e,t){const i=Sw.getListenId_(e,t);delete this.listens_[i]}get(e){const t=SK(e._queryParams),i=e._path.toString(),r=new Fd;return this.restRequest_(i+".json",t,(o,s)=>{let a=s;404===o&&(a=null,o=null),null===o?(this.onDataUpdate_(i,a,!1,null),r.resolve(a)):r.reject(new Error(a))}),r.promise}refreshAuthToken(e){}restRequest_(e,t={},i){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,o])=>{r&&r.accessToken&&(t.auth=r.accessToken),o&&o.token&&(t.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Vd(t);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(i&&4===a.readyState){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=Vp(a.responseText)}catch{sr("Failed to parse JSON response for "+s+": "+a.responseText)}i(null,c)}else 401!==a.status&&404!==a.status&&sr("Got unsuccessful REST response for "+s+" Status: "+a.status),i(a.status);i=null}},a.open("GET",s,!0),a.send()})}}class FSe{constructor(){this.rootNode_=qe.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function Aw(){return{value:null,children:new Map}}function Bh(n,e,t){if(tt(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const i=et(e);n.children.has(i)||n.children.set(i,Aw()),Bh(n.children.get(i),e=$t(e),t)}}function rN(n,e,t){null!==n.value?t(e,n.value):function LSe(n,e){n.children.forEach((t,i)=>{e(i,t)})}(n,(i,r)=>{rN(r,new kt(e.toString()+"/"+i),t)})}class VSe{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Ai(this.last_,(i,r)=>{t[i]=t[i]-r}),this.last_=e,t}}class jSe{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new VSe(e);const i=1e4+2e4*Math.random();Am(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),t={};let i=!1;Ai(e,(r,o)=>{o>0&&gs(this.statsToReport_,r)&&(t[r]=o,i=!0)}),i&&this.server_.reportStats(t),Am(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var ks=function(n){return n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",n}(ks||{});function aN(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class kw{constructor(e,t,i){this.path=e,this.affectedTree=t,this.revert=i,this.type=ks.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(tt(this.path)){if(null!=this.affectedTree.value)return se(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new kt(e));return new kw(It(),t,this.revert)}}return se(et(this.path)===e,"operationForChild called for unrelated child."),new kw($t(this.path),this.affectedTree,this.revert)}}class Zl{constructor(e,t,i){this.source=e,this.path=t,this.snap=i,this.type=ks.OVERWRITE}operationForChild(e){return tt(this.path)?new Zl(this.source,It(),this.snap.getImmediateChild(e)):new Zl(this.source,$t(this.path),this.snap)}}class Uh{constructor(e,t,i){this.source=e,this.path=t,this.children=i,this.type=ks.MERGE}operationForChild(e){if(tt(this.path)){const t=this.children.subtree(new kt(e));return t.isEmpty()?null:t.value?new Zl(this.source,It(),t.value):new Uh(this.source,It(),t)}return se(et(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Uh(this.source,$t(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Cc{constructor(e,t,i){this.node_=e,this.fullyInitialized_=t,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(tt(e))return this.isFullyInitialized()&&!this.filtered_;const t=et(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function Um(n,e,t,i,r,o){const s=i.filter(a=>a.type===t);s.sort((a,c)=>function GSe(n,e,t){if(null==e.childName||null==t.childName)throw Nd("Should only compare child_ events.");const i=new rt(e.childName,e.snapshotNode),r=new rt(t.childName,t.snapshotNode);return n.index_.compare(i,r)}(n,a,c)),s.forEach(a=>{const c=function HSe(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,a,o);r.forEach(l=>{l.respondsTo(a.type)&&e.push(l.createEvent(c,n.query_))})})}function Ow(n,e){return{eventCache:n,serverCache:e}}function jm(n,e,t,i){return Ow(new Cc(e,t,i),n.serverCache)}function OK(n,e,t,i){return Ow(n.eventCache,new Cc(e,t,i))}function Pw(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Jl(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let cN;class rn{constructor(e,t=(()=>(cN||(cN=new Vr(SMe)),cN))()){this.value=e,this.children=t}static fromObject(e){let t=new rn(null);return Ai(e,(i,r)=>{t=t.set(new kt(i),r)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:It(),value:this.value};if(tt(e))return null;{const i=et(e),r=this.children.get(i);if(null!==r){const o=r.findRootMostMatchingPathAndValue($t(e),t);return null!=o?{path:bn(new kt(i),o.path),value:o.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(tt(e))return this;{const t=et(e),i=this.children.get(t);return null!==i?i.subtree($t(e)):new rn(null)}}set(e,t){if(tt(e))return new rn(t,this.children);{const i=et(e),o=(this.children.get(i)||new rn(null)).set($t(e),t),s=this.children.insert(i,o);return new rn(this.value,s)}}remove(e){if(tt(e))return this.children.isEmpty()?new rn(null):new rn(null,this.children);{const t=et(e),i=this.children.get(t);if(i){const r=i.remove($t(e));let o;return o=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&o.isEmpty()?new rn(null):new rn(this.value,o)}return this}}get(e){if(tt(e))return this.value;{const t=et(e),i=this.children.get(t);return i?i.get($t(e)):null}}setTree(e,t){if(tt(e))return t;{const i=et(e),o=(this.children.get(i)||new rn(null)).setTree($t(e),t);let s;return s=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new rn(this.value,s)}}fold(e){return this.fold_(It(),e)}fold_(e,t){const i={};return this.children.inorderTraversal((r,o)=>{i[r]=o.fold_(bn(e,r),t)}),t(e,this.value,i)}findOnPath(e,t){return this.findOnPath_(e,It(),t)}findOnPath_(e,t,i){const r=!!this.value&&i(t,this.value);if(r)return r;if(tt(e))return null;{const o=et(e),s=this.children.get(o);return s?s.findOnPath_($t(e),bn(t,o),i):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,It(),t)}foreachOnPath_(e,t,i){if(tt(e))return this;{this.value&&i(t,this.value);const r=et(e),o=this.children.get(r);return o?o.foreachOnPath_($t(e),bn(t,r),i):new rn(null)}}foreach(e){this.foreach_(It(),e)}foreach_(e,t){this.children.inorderTraversal((i,r)=>{r.foreach_(bn(e,i),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,i)=>{i.value&&e(t,i.value)})}}class $o{constructor(e){this.writeTree_=e}static empty(){return new $o(new rn(null))}}function zm(n,e,t){if(tt(e))return new $o(new rn(t));{const i=n.writeTree_.findRootMostValueAndPath(e);if(null!=i){const r=i.path;let o=i.value;const s=Cr(r,e);return o=o.updateChild(s,t),new $o(n.writeTree_.set(r,o))}{const r=new rn(t),o=n.writeTree_.setTree(e,r);return new $o(o)}}}function lN(n,e,t){let i=n;return Ai(t,(r,o)=>{i=zm(i,bn(e,r),o)}),i}function PK(n,e){if(tt(e))return $o.empty();{const t=n.writeTree_.setTree(e,new rn(null));return new $o(t)}}function uN(n,e){return null!=eu(n,e)}function eu(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(Cr(t.path,e)):null}function RK(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(nn,(i,r)=>{e.push(new rt(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&e.push(new rt(i,r.value))}),e}function xc(n,e){if(tt(e))return n;{const t=eu(n,e);return new $o(null!=t?new rn(t):n.writeTree_.subtree(e))}}function dN(n){return n.writeTree_.isEmpty()}function jh(n,e){return NK(It(),n.writeTree_,e)}function NK(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let i=null;return e.children.inorderTraversal((r,o)=>{".priority"===r?(se(null!==o.value,"Priority writes must always be leaf nodes"),i=o.value):t=NK(bn(n,r),o,t)}),!t.getChild(n).isEmpty()&&null!==i&&(t=t.updateChild(bn(n,".priority"),i)),t}}function Rw(n,e){return UK(e,n)}function XSe(n,e){if(n.snap)return mo(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&mo(bn(n.path,t),e))return!0;return!1}function JSe(n){return n.visible}function FK(n,e,t){let i=$o.empty();for(let r=0;r<n.length;++r){const o=n[r];if(e(o)){const s=o.path;let a;if(o.snap)mo(t,s)?(a=Cr(t,s),i=zm(i,a,o.snap)):mo(s,t)&&(a=Cr(s,t),i=zm(i,It(),o.snap.getChild(a)));else{if(!o.children)throw Nd("WriteRecord should have .snap or .children");if(mo(t,s))a=Cr(t,s),i=lN(i,a,o.children);else if(mo(s,t))if(a=Cr(s,t),tt(a))i=lN(i,It(),o.children);else{const c=Ld(o.children,et(a));if(c){const l=c.getChild($t(a));i=zm(i,It(),l)}}}}}return i}function LK(n,e,t,i,r){if(i||r){const o=xc(n.visibleWrites,e);return!r&&dN(o)?t:r||null!=t||uN(o,It())?jh(FK(n.allWrites,function(l){return(l.visible||r)&&(!i||!~i.indexOf(l.writeId))&&(mo(l.path,e)||mo(e,l.path))},e),t||qe.EMPTY_NODE):null}{const o=eu(n.visibleWrites,e);if(null!=o)return o;{const s=xc(n.visibleWrites,e);return dN(s)?t:null!=t||uN(s,It())?jh(s,t||qe.EMPTY_NODE):null}}}function Nw(n,e,t,i){return LK(n.writeTree,n.treePath,e,t,i)}function hN(n,e){return function eAe(n,e,t){let i=qe.EMPTY_NODE;const r=eu(n.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(nn,(o,s)=>{i=i.updateImmediateChild(o,s)}),i;if(t){const o=xc(n.visibleWrites,e);return t.forEachChild(nn,(s,a)=>{const c=jh(xc(o,new kt(s)),a);i=i.updateImmediateChild(s,c)}),RK(o).forEach(s=>{i=i.updateImmediateChild(s.name,s.node)}),i}return RK(xc(n.visibleWrites,e)).forEach(s=>{i=i.updateImmediateChild(s.name,s.node)}),i}(n.writeTree,n.treePath,e)}function VK(n,e,t,i){return function tAe(n,e,t,i,r){se(i||r,"Either existingEventSnap or existingServerSnap must exist");const o=bn(e,t);if(uN(n.visibleWrites,o))return null;{const s=xc(n.visibleWrites,o);return dN(s)?r.getChild(t):jh(s,r.getChild(t))}}(n.writeTree,n.treePath,e,t,i)}function Fw(n,e){return function iAe(n,e){return eu(n.visibleWrites,e)}(n.writeTree,bn(n.treePath,e))}function fN(n,e,t){return function nAe(n,e,t,i){const r=bn(e,t),o=eu(n.visibleWrites,r);return null!=o?o:i.isCompleteForChild(t)?jh(xc(n.visibleWrites,r),i.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function BK(n,e){return UK(bn(n.treePath,e),n.writeTree)}function UK(n,e){return{treePath:n,writeTree:e}}class aAe{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,i=e.childName;se("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),se(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const o=r.type;if("child_added"===t&&"child_removed"===o)this.changeMap.set(i,Lm(i,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===o)this.changeMap.delete(i);else if("child_removed"===t&&"child_changed"===o)this.changeMap.set(i,function Fm(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}(i,r.oldSnap));else if("child_changed"===t&&"child_added"===o)this.changeMap.set(i,function Vh(n,e){return{type:"child_added",snapshotNode:e,childName:n}}(i,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==o)throw Nd("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(i,Lm(i,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}const jK=new class cAe{getCompleteChild(e){return null}getChildAfterChild(e,t,i){return null}};class pN{constructor(e,t,i=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=i}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const i=null!=this.optCompleteServerCache_?new Cc(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return fN(this.writes_,e,i)}}getChildAfterChild(e,t,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Jl(this.viewCache_),o=function sAe(n,e,t,i,r,o){return function rAe(n,e,t,i,r,o,s){let a;const c=xc(n.visibleWrites,e),l=eu(c,It());if(null!=l)a=l;else{if(null==t)return[];a=jh(c,t)}if(a=a.withIndex(s),a.isEmpty()||a.isLeafNode())return[];{const u=[],d=s.getCompare(),h=o?a.getReverseIteratorFrom(i,s):a.getIteratorFrom(i,s);let f=h.getNext();for(;f&&u.length<r;)0!==d(f,i)&&u.push(f),f=h.getNext();return u}}(n.writeTree,n.treePath,e,t,i,r,o)}(this.writes_,r,t,1,i,e);return 0===o.length?null:o[0]}}function zK(n,e,t,i,r,o){const s=e.eventCache;if(null!=Fw(i,t))return e;{let a,c;if(tt(t))if(se(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const l=Jl(e),d=hN(i,l instanceof qe?l:qe.EMPTY_NODE);a=n.filter.updateFullNode(e.eventCache.getNode(),d,o)}else{const l=Nw(i,Jl(e));a=n.filter.updateFullNode(e.eventCache.getNode(),l,o)}else{const l=et(t);if(".priority"===l){se(1===wc(t),"Can't have a priority with additional path components");const u=s.getNode();c=e.serverCache.getNode();const d=VK(i,t,u,c);a=null!=d?n.filter.updatePriority(u,d):s.getNode()}else{const u=$t(t);let d;if(s.isCompleteForChild(l)){c=e.serverCache.getNode();const h=VK(i,t,s.getNode(),c);d=null!=h?s.getNode().getImmediateChild(l).updateChild(u,h):s.getNode().getImmediateChild(l)}else d=fN(i,l,e.serverCache);a=null!=d?n.filter.updateChild(s.getNode(),l,d,u,r,o):s.getNode()}}return jm(e,a,s.isFullyInitialized()||tt(t),n.filter.filtersNodes())}}function Lw(n,e,t,i,r,o,s,a){const c=e.serverCache;let l;const u=s?n.filter:n.filter.getIndexedFilter();if(tt(t))l=u.updateFullNode(c.getNode(),i,null);else if(u.filtersNodes()&&!c.isFiltered()){const f=c.getNode().updateChild(t,i);l=u.updateFullNode(c.getNode(),f,null)}else{const f=et(t);if(!c.isCompleteForPath(t)&&wc(t)>1)return e;const b=$t(t),I=c.getNode().getImmediateChild(f).updateChild(b,i);l=".priority"===f?u.updatePriority(c.getNode(),I):u.updateChild(c.getNode(),f,I,b,jK,null)}const d=OK(e,l,c.isFullyInitialized()||tt(t),u.filtersNodes());return zK(n,d,t,r,new pN(r,d,o),a)}function gN(n,e,t,i,r,o,s){const a=e.eventCache;let c,l;const u=new pN(r,e,o);if(tt(t))l=n.filter.updateFullNode(e.eventCache.getNode(),i,s),c=jm(e,l,!0,n.filter.filtersNodes());else{const d=et(t);if(".priority"===d)l=n.filter.updatePriority(e.eventCache.getNode(),i),c=jm(e,l,a.isFullyInitialized(),a.isFiltered());else{const h=$t(t),f=a.getNode().getImmediateChild(d);let b;if(tt(h))b=i;else{const x=u.getCompleteChild(d);b=null!=x?".priority"===GR(h)&&x.getChild(bK(h)).isEmpty()?x:x.updateChild(h,i):qe.EMPTY_NODE}c=f.equals(b)?e:jm(e,n.filter.updateChild(a.getNode(),d,b,h,u,s),a.isFullyInitialized(),n.filter.filtersNodes())}}return c}function $K(n,e){return n.eventCache.isCompleteForChild(e)}function HK(n,e,t){return t.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function mN(n,e,t,i,r,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l,c=e;l=tt(t)?i:new rn(null).setTree(t,i);const u=e.serverCache.getNode();return l.children.inorderTraversal((d,h)=>{if(u.hasChild(d)){const b=HK(0,e.serverCache.getNode().getImmediateChild(d),h);c=Lw(n,c,new kt(d),b,r,o,s,a)}}),l.children.inorderTraversal((d,h)=>{const f=!e.serverCache.isCompleteForChild(d)&&null===h.value;if(!u.hasChild(d)&&!f){const x=HK(0,e.serverCache.getNode().getImmediateChild(d),h);c=Lw(n,c,new kt(d),x,r,o,s,a)}}),c}function vAe(n,e){const t=Jl(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!tt(e)&&!t.getImmediateChild(et(e)).isEmpty())?t.getChild(e):null}function WK(n,e,t,i){e.type===ks.MERGE&&null!==e.source.queryId&&(se(Jl(n.viewCache_),"We should always have a full cache before handling merges"),se(Pw(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,o=function dAe(n,e,t,i,r){const o=new aAe;let s,a;if(t.type===ks.OVERWRITE){const l=t;l.source.fromUser?s=gN(n,e,l.path,l.snap,i,r,o):(se(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered()&&!tt(l.path),s=Lw(n,e,l.path,l.snap,i,r,a,o))}else if(t.type===ks.MERGE){const l=t;l.source.fromUser?s=function fAe(n,e,t,i,r,o,s){let a=e;return i.foreach((c,l)=>{const u=bn(t,c);$K(e,et(u))&&(a=gN(n,a,u,l,r,o,s))}),i.foreach((c,l)=>{const u=bn(t,c);$K(e,et(u))||(a=gN(n,a,u,l,r,o,s))}),a}(n,e,l.path,l.children,i,r,o):(se(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered(),s=mN(n,e,l.path,l.children,i,r,a,o))}else if(t.type===ks.ACK_USER_WRITE){const l=t;s=l.revert?function mAe(n,e,t,i,r,o){let s;if(null!=Fw(i,t))return e;{const a=new pN(i,e,r),c=e.eventCache.getNode();let l;if(tt(t)||".priority"===et(t)){let u;if(e.serverCache.isFullyInitialized())u=Nw(i,Jl(e));else{const d=e.serverCache.getNode();se(d instanceof qe,"serverChildren would be complete if leaf node"),u=hN(i,d)}l=n.filter.updateFullNode(c,u,o)}else{const u=et(t);let d=fN(i,u,e.serverCache);null==d&&e.serverCache.isCompleteForChild(u)&&(d=c.getImmediateChild(u)),l=null!=d?n.filter.updateChild(c,u,d,$t(t),a,o):e.eventCache.getNode().hasChild(u)?n.filter.updateChild(c,u,qe.EMPTY_NODE,$t(t),a,o):c,l.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=Nw(i,Jl(e)),s.isLeafNode()&&(l=n.filter.updateFullNode(l,s,o)))}return s=e.serverCache.isFullyInitialized()||null!=Fw(i,It()),jm(e,l,s,n.filter.filtersNodes())}}(n,e,l.path,i,r,o):function pAe(n,e,t,i,r,o,s){if(null!=Fw(r,t))return e;const a=e.serverCache.isFiltered(),c=e.serverCache;if(null!=i.value){if(tt(t)&&c.isFullyInitialized()||c.isCompleteForPath(t))return Lw(n,e,t,c.getNode().getChild(t),r,o,a,s);if(tt(t)){let l=new rn(null);return c.getNode().forEachChild(As,(u,d)=>{l=l.set(new kt(u),d)}),mN(n,e,t,l,r,o,a,s)}return e}{let l=new rn(null);return i.foreach((u,d)=>{const h=bn(t,u);c.isCompleteForPath(h)&&(l=l.set(u,c.getNode().getChild(h)))}),mN(n,e,t,l,r,o,a,s)}}(n,e,l.path,l.affectedTree,i,r,o)}else{if(t.type!==ks.LISTEN_COMPLETE)throw Nd("Unknown operation type: "+t.type);s=function gAe(n,e,t,i,r){const o=e.serverCache;return zK(n,OK(e,o.getNode(),o.isFullyInitialized()||tt(t),o.isFiltered()),t,i,jK,r)}(n,e,t.path,i,o)}const c=o.getChanges();return function hAe(n,e,t){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=Pw(n);(t.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&t.push(function MK(n){return{type:"value",snapshotNode:n}}(Pw(e)))}}(e,s,c),{viewCache:s,changes:c}}(n.processor_,r,e,t,i);return function uAe(n,e){se(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),se(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,o.viewCache),se(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=o.viewCache,function KK(n,e,t,i){return function $Se(n,e,t,i){const r=[],o=[];return e.forEach(s=>{"child_changed"===s.type&&n.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(function SSe(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(s.childName,s.snapshotNode))}),Um(n,r,"child_removed",e,i,t),Um(n,r,"child_added",e,i,t),Um(n,r,"child_moved",o,i,t),Um(n,r,"child_changed",e,i,t),Um(n,r,"value",e,i,t),r}(n.eventGenerator_,e,t,i?[i]:n.eventRegistrations_)}(n,o.changes,o.viewCache.eventCache.getNode(),null)}let Vw,Uw;function _N(n,e,t,i){const r=e.source.queryId;if(null!==r){const o=n.views.get(r);return se(null!=o,"SyncTree gave us an op for an invalid query."),WK(o,e,t,i)}{let o=[];for(const s of n.views.values())o=o.concat(WK(s,e,t,i));return o}}function Ec(n,e){let t=null;for(const i of n.views.values())t=t||vAe(i,e);return t}class eQ{constructor(e){this.listenProvider_=e,this.syncPointTree_=new rn(null),this.pendingWriteTree_=function oAe(){return{visibleWrites:$o.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function bN(n,e,t,i,r){return function WSe(n,e,t,i,r){se(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:e,snap:t,writeId:i,visible:r}),r&&(n.visibleWrites=zm(n.visibleWrites,e,t)),n.lastWriteId=i}(n.pendingWriteTree_,e,t,i,r),r?zh(n,new Zl({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function Tc(n,e,t=!1){const i=function QSe(n,e){for(let t=0;t<n.allWrites.length;t++){const i=n.allWrites[t];if(i.writeId===e)return i}return null}(n.pendingWriteTree_,e);if(function YSe(n,e){const t=n.allWrites.findIndex(a=>a.writeId===e);se(t>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[t];n.allWrites.splice(t,1);let r=i.visible,o=!1,s=n.allWrites.length-1;for(;r&&s>=0;){const a=n.allWrites[s];a.visible&&(s>=t&&XSe(a,i.path)?r=!1:mo(i.path,a.path)&&(o=!0)),s--}return!!r&&(o?(function ZSe(n){n.visibleWrites=FK(n.allWrites,JSe,It()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=PK(n.visibleWrites,i.path):Ai(i.children,c=>{n.visibleWrites=PK(n.visibleWrites,bn(i.path,c))}),!0))}(n.pendingWriteTree_,e)){let o=new rn(null);return null!=i.snap?o=o.set(It(),!0):Ai(i.children,s=>{o=o.set(new kt(s),!0)}),zh(n,new kw(i.path,o,t))}return[]}function $m(n,e,t){return zh(n,new Zl({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function zw(n,e,t){const r=n.pendingWriteTree_,o=n.syncPointTree_.findOnPath(e,(s,a)=>{const l=Ec(a,Cr(s,e));if(l)return l});return LK(r,e,o,t,!0)}function zh(n,e){return nQ(e,n.syncPointTree_,null,Rw(n.pendingWriteTree_,It()))}function nQ(n,e,t,i){if(tt(n.path))return iQ(n,e,t,i);{const r=e.get(It());null==t&&null!=r&&(t=Ec(r,It()));let o=[];const s=et(n.path),a=n.operationForChild(s),c=e.children.get(s);if(c&&a){const l=t?t.getImmediateChild(s):null,u=BK(i,s);o=o.concat(nQ(a,c,l,u))}return r&&(o=o.concat(_N(r,n,i,t))),o}}function iQ(n,e,t,i){const r=e.get(It());null==t&&null!=r&&(t=Ec(r,It()));let o=[];return e.children.inorderTraversal((s,a)=>{const c=t?t.getImmediateChild(s):null,l=BK(i,s),u=n.operationForChild(s);u&&(o=o.concat(iQ(u,a,c,l)))}),r&&(o=o.concat(_N(r,n,i,t))),o}function vN(n,e){return n.tagToQueryMap.get(e)}function wN(n){const e=n.indexOf("$");return se(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new kt(n.substr(0,e))}}function CN(n,e,t){const i=n.syncPointTree_.get(e);return se(i,"Missing sync point for query tag that we're tracking"),_N(i,t,Rw(n.pendingWriteTree_,e),null)}class xN{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new xN(t)}node(){return this.node_}}class EN{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=bn(this.path_,e);return new EN(this.syncTree_,t)}node(){return zw(this.syncTree_,this.path_)}}const jAe=function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n},oQ=function(n,e,t){return n&&"object"==typeof n?(se(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?zAe(n[".sv"],e,t):"object"==typeof n[".sv"]?$Ae(n[".sv"],e):void se(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},zAe=function(n,e,t){if("timestamp"===n)return t.timestamp;se(!1,"Unexpected server value: "+n)},$Ae=function(n,e,t){n.hasOwnProperty("increment")||se(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&se(!1,"Unexpected increment value: "+i);const r=e.node();if(se(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const s=r.getValue();return"number"!=typeof s?i:s+i},sQ=function(n,e,t,i){return TN(e,new EN(t,n),i)},IN=function(n,e,t){return TN(n,new xN(e),t)};function TN(n,e,t){const i=n.getPriority().val(),r=oQ(i,e.getImmediateChild(".priority"),t);let o;if(n.isLeafNode()){const s=n,a=oQ(s.getValue(),e,t);return a!==s.getValue()||r!==s.getPriority().val()?new Fh(a,Tn(r)):n}{const s=n;return o=s,r!==s.getPriority().val()&&(o=o.updatePriority(new Fh(r))),s.forEachChild(nn,(a,c)=>{const l=TN(c,e.getImmediateChild(a),t);l!==c&&(o=o.updateImmediateChild(a,l))}),o}}class DN{constructor(e="",t=null,i={children:{},childCount:0}){this.name=e,this.parent=t,this.node=i}}function Hw(n,e){let t=e instanceof kt?e:new kt(e),i=n,r=et(t);for(;null!==r;){const o=Ld(i.node.children,r)||{children:{},childCount:0};i=new DN(r,i,o),t=$t(t),r=et(t)}return i}function tu(n){return n.node.value}function MN(n,e){n.node.value=e,SN(n)}function aQ(n){return n.node.childCount>0}function Gw(n,e){Ai(n.node.children,(t,i)=>{e(new DN(t,n,i))})}function cQ(n,e,t,i){t&&!i&&e(n),Gw(n,r=>{cQ(r,e,!0,i)}),t&&i&&e(n)}function qm(n){return new kt(null===n.parent?n.name:qm(n.parent)+"/"+n.name)}function SN(n){null!==n.parent&&function qAe(n,e,t){const i=function HAe(n){return void 0===tu(n)&&!aQ(n)}(t),r=gs(n.node.children,e);i&&r?(delete n.node.children[e],n.node.childCount--,SN(n)):!i&&!r&&(n.node.children[e]=t.node,n.node.childCount++,SN(n))}(n.parent,n.name,n)}const WAe=/[\[\].#$\/\u0000-\u001F\u007F]/,KAe=/[\[\].#$\u0000-\u001F\u007F]/,AN=10485760,qw=function(n){return"string"==typeof n&&0!==n.length&&!WAe.test(n)},Km=function(n,e,t){const i=t instanceof kt?new dSe(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+Yl(i));if("function"==typeof e)throw new Error(n+"contains a function "+Yl(i)+" with contents = "+e.toString());if(vw(e))throw new Error(n+"contains "+e.toString()+" "+Yl(i));if("string"==typeof e&&e.length>AN/3&&uv(e)>AN)throw new Error(n+"contains a string greater than "+AN+" utf8 bytes "+Yl(i)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let r=!1,o=!1;if(Ai(e,(s,a)=>{if(".value"===s)r=!0;else if(".priority"!==s&&".sv"!==s&&(o=!0,!qw(s)))throw new Error(n+" contains an invalid key ("+s+") "+Yl(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function hSe(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=uv(e),yK(n)})(i,s),Km(n,a,i),function fSe(n){const e=n.parts_.pop();n.byteLength_-=uv(e),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&o)throw new Error(n+' contains ".value" child '+Yl(i)+" in addition to actual children.")}},dQ=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!qw(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),function(n){return"string"==typeof n&&0!==n.length&&!KAe.test(n)}(n)}(t))throw new Error(function jp(n,e){return`${n} failed: ${e} argument `}(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class ZAe{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Zr(n,e,t){(function Ww(n,e){let t=null;for(let i=0;i<e.length;i++){const r=e[i],o=r.getPath();null!==t&&!qR(o,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:o}),t.events.push(r)}t&&n.eventLists_.push(t)})(n,t),function fQ(n,e){n.recursionDepth_++;let t=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(e(r.path)?(JAe(n.eventLists_[i]),n.eventLists_[i]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}(n,i=>mo(i,e)||mo(e,i))}function JAe(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const i=t.getEventRunner();Kl&&Si("event: "+t.toString()),Rh(i)}}}const eke=25;class tke{constructor(e,t,i,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ZAe,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Aw(),this.transactionQueueTree_=new DN,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function gQ(n){const t=n.infoData_.getNode(new kt(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function Ym(n){return jAe({timestamp:gQ(n)})}function mQ(n,e,t,i,r){n.dataUpdateCount++;const o=new kt(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let s=[];if(r)if(i){const c=cv(t,l=>Tn(l));s=function NAe(n,e,t,i){const r=vN(n,i);if(r){const o=wN(r),s=o.path,a=o.queryId,c=Cr(s,e),l=rn.fromObject(t);return CN(n,s,new Uh(aN(a),c,l))}return[]}(n.serverSyncTree_,o,c,r)}else{const c=Tn(t);s=function tQ(n,e,t,i){const r=vN(n,i);if(null!=r){const o=wN(r),s=o.path,a=o.queryId,c=Cr(s,e);return CN(n,s,new Zl(aN(a),c,t))}return[]}(n.serverSyncTree_,o,c,r)}else if(i){const c=cv(t,l=>Tn(l));s=function OAe(n,e,t){const i=rn.fromObject(t);return zh(n,new Uh({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,i))}(n.serverSyncTree_,o,c)}else{const c=Tn(t);s=$m(n.serverSyncTree_,o,c)}let a=o;s.length>0&&(a=Hh(n,o)),Zr(n.eventQueue_,a,s)}function _Q(n,e){PN(n,"connected",e),!1===e&&function ske(n){$h(n,"onDisconnectEvents");const e=Ym(n),t=Aw();rN(n.onDisconnect_,It(),(r,o)=>{const s=sQ(r,o,n.serverSyncTree_,e);Bh(t,r,s)});let i=[];rN(t,It(),(r,o)=>{i=i.concat($m(n.serverSyncTree_,r,o));const s=function LN(n,e){const t=qm(vQ(n,e)),i=Hw(n.transactionQueueTree_,e);return function GAe(n,e,t){let i=t?n:n.parent;for(;null!==i;){if(e(i))return!0;i=i.parent}}(i,r=>{VN(n,r)}),VN(n,i),cQ(i,r=>{VN(n,r)}),t}(n,r);Hh(n,s)}),n.onDisconnect_=Aw(),Zr(n.eventQueue_,It(),i)}(n)}function PN(n,e,t){const i=new kt("/.info/"+e),r=Tn(t);n.infoData_.updateSnapshot(i,r);const o=$m(n.infoSyncTree_,i,r);Zr(n.eventQueue_,i,o)}function Kw(n){return n.nextWriteId_++}function $h(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),Si(t,...e)}function FN(n,e,t){return zw(n.serverSyncTree_,e,t)||qe.EMPTY_NODE}function Qw(n,e=n.transactionQueueTree_){if(e||Yw(n,e),tu(e)){const t=wQ(n,e);se(t.length>0,"Sending zero length transaction queue"),t.every(r=>0===r.status)&&function fke(n,e,t){const i=t.map(l=>l.currentWriteId),r=FN(n,e,i);let o=r;const s=r.hash();for(let l=0;l<t.length;l++){const u=t[l];se(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=Cr(e,u.path);o=o.updateChild(d,u.currentOutputSnapshotRaw)}const a=o.val(!0),c=e;n.server_.put(c.toString(),a,l=>{$h(n,"transaction put response",{path:c.toString(),status:l});let u=[];if("ok"===l){const d=[];for(let h=0;h<t.length;h++)t[h].status=2,u=u.concat(Tc(n.serverSyncTree_,t[h].currentWriteId)),t[h].onComplete&&d.push(()=>t[h].onComplete(null,!0,t[h].currentOutputSnapshotResolved)),t[h].unwatcher();Yw(n,Hw(n.transactionQueueTree_,e)),Qw(n,n.transactionQueueTree_),Zr(n.eventQueue_,e,u);for(let h=0;h<d.length;h++)Rh(d[h])}else{if("datastale"===l)for(let d=0;d<t.length;d++)t[d].status=3===t[d].status?4:0;else{sr("transaction at "+c.toString()+" failed: "+l);for(let d=0;d<t.length;d++)t[d].status=4,t[d].abortReason=l}Hh(n,e)}},s)}(n,qm(e),t)}else aQ(e)&&Gw(e,t=>{Qw(n,t)})}function Hh(n,e){const t=vQ(n,e),i=qm(t);return function pke(n,e,t){if(0===e.length)return;const i=[];let r=[];const s=e.filter(a=>0===a.status).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const c=e[a],l=Cr(t,c.path);let d,u=!1;if(se(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===c.status)u=!0,d=c.abortReason,r=r.concat(Tc(n.serverSyncTree_,c.currentWriteId,!0));else if(0===c.status)if(c.retryCount>=eke)u=!0,d="maxretry",r=r.concat(Tc(n.serverSyncTree_,c.currentWriteId,!0));else{const h=FN(n,c.path,s);c.currentInputSnapshot=h;const f=e[a].update(h.val());if(void 0!==f){Km("transaction failed: Data returned ",f,c.path);let b=Tn(f);"object"==typeof f&&null!=f&&gs(f,".priority")||(b=b.updatePriority(h.getPriority()));const I=c.currentWriteId,k=Ym(n),M=IN(b,h,k);c.currentOutputSnapshotRaw=b,c.currentOutputSnapshotResolved=M,c.currentWriteId=Kw(n),s.splice(s.indexOf(I),1),r=r.concat(bN(n.serverSyncTree_,c.path,M,c.currentWriteId,c.applyLocally)),r=r.concat(Tc(n.serverSyncTree_,I,!0))}else u=!0,d="nodata",r=r.concat(Tc(n.serverSyncTree_,c.currentWriteId,!0))}Zr(n.eventQueue_,t,r),r=[],u&&(e[a].status=2,setTimeout(e[a].unwatcher,Math.floor(0)),e[a].onComplete&&i.push("nodata"===d?()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot):()=>e[a].onComplete(new Error(d),!1,null)))}Yw(n,n.transactionQueueTree_);for(let a=0;a<i.length;a++)Rh(i[a]);Qw(n,n.transactionQueueTree_)}(n,wQ(n,t),i),i}function vQ(n,e){let t,i=n.transactionQueueTree_;for(t=et(e);null!==t&&void 0===tu(i);)i=Hw(i,t),t=et(e=$t(e));return i}function wQ(n,e){const t=[];return CQ(n,e,t),t.sort((i,r)=>i.order-r.order),t}function CQ(n,e,t){const i=tu(e);if(i)for(let r=0;r<i.length;r++)t.push(i[r]);Gw(e,r=>{CQ(n,r,t)})}function Yw(n,e){const t=tu(e);if(t){let i=0;for(let r=0;r<t.length;r++)2!==t[r].status&&(t[i]=t[r],i++);t.length=i,MN(e,t.length>0?t:void 0)}Gw(e,i=>{Yw(n,i)})}function VN(n,e){const t=tu(e);if(t){const i=[];let r=[],o=-1;for(let s=0;s<t.length;s++)3===t[s].status||(1===t[s].status?(se(o===s-1,"All SENT items should be at beginning of queue."),o=s,t[s].status=3,t[s].abortReason="set"):(se(0===t[s].status,"Unexpected transaction status in abort"),t[s].unwatcher(),r=r.concat(Tc(n.serverSyncTree_,t[s].currentWriteId,!0)),t[s].onComplete&&i.push(t[s].onComplete.bind(null,new Error("set"),!1,null))));-1===o?MN(e,void 0):t.length=o+1,Zr(n.eventQueue_,qm(e),r);for(let s=0;s<i.length;s++)Rh(i[s])}}const BN=function(n,e){const t=_ke(n),i=t.namespace;return"firebase.com"===t.domain&&Ss(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==t.domain&&Ss("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&sr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new BR(t.host,t.secure,i,"ws"===t.scheme||"wss"===t.scheme,e,"",i!==t.subdomain),path:new kt(t.pathString)}},_ke=function(n){let e="",t="",i="",r="",o="",s=!0,a="https",c=443;if("string"==typeof n){let l=n.indexOf("//");l>=0&&(a=n.substring(0,l-1),n=n.substring(l+2));let u=n.indexOf("/");-1===u&&(u=n.length);let d=n.indexOf("?");-1===d&&(d=n.length),e=n.substring(0,Math.min(u,d)),u<d&&(r=function gke(n){let e="";const t=n.split("/");for(let i=0;i<t.length;i++)if(t[i].length>0){let r=t[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}(n.substring(u,d)));const h=function mke(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const i=t.split("=");2===i.length?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):sr(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,d)));l=e.indexOf(":"),l>=0?(s="https"===a||"wss"===a,c=parseInt(e.substring(l+1),10)):l=e.length;const f=e.slice(0,l);if("localhost"===f.toLowerCase())t="localhost";else if(f.split(".").length<=2)t=f;else{const b=e.indexOf(".");i=e.substring(0,b).toLowerCase(),t=e.substring(b+1),o=i}"ns"in h&&(o=h.ns)}return{host:e,port:c,domain:t,subdomain:i,secure:s,scheme:a,pathString:r,namespace:o}};class Jr{constructor(e,t,i,r){this._repo=e,this._path=t,this._queryParams=i,this._orderByCalled=r}get key(){return tt(this._path)?null:GR(this._path)}get ref(){return new Ho(this._repo,this._path)}get _queryIdentifier(){const e=AK(this._queryParams),t=LR(e);return"{}"===t?"default":t}get _queryObject(){return AK(this._queryParams)}isEqual(e){if(!((e=zt(e))instanceof Jr))return!1;const t=this._repo===e._repo,i=qR(this._path,e._path);return t&&i&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function lSe(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}class Ho extends Jr{constructor(e,t){super(e,t,new eN,!1)}get parent(){const e=bK(this._path);return null===e?null:new Ho(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}(function xAe(n){se(!Vw,"__referenceConstructor has already been defined"),Vw=n})(Ho),function MAe(n){se(!Uw,"__referenceConstructor has already been defined"),Uw=n}(Ho);const jN={};class Lke{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function nke(n,e,t){if(n.stats_=zR(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new Sw(n.repoInfo_,(i,r,o,s)=>{mQ(n,i,r,o,s)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>_Q(n,!0),0);else{if(typeof t<"u"&&null!==t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Fi(t)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new Xl(n.repoInfo_,e,(i,r,o,s)=>{mQ(n,i,r,o,s)},i=>{_Q(n,i)},i=>{!function ike(n,e){Ai(e,(t,i)=>{PN(n,t,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function jMe(n,e){const t=n.toString();return jR[t]||(jR[t]=e()),jR[t]}(n.repoInfo_,()=>new jSe(n.stats_,n.server_)),n.infoData_=new FSe,n.infoSyncTree_=new eQ({startListening:(i,r,o,s)=>{let a=[];const c=n.infoData_.getNode(i._path);return c.isEmpty()||(a=$m(n.infoSyncTree_,i._path,c),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),PN(n,"connected",!1),n.serverSyncTree_=new eQ({startListening:(i,r,o,s)=>(n.server_.listen(i,o,r,(a,c)=>{const l=s(a,c);Zr(n.eventQueue_,i._path,l)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ho(this._repo,It())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Rke(n,e){const t=jN[e];(!t||t[n.key]!==n)&&Ss(`Database ${e}(${n.repoInfo_}) has already been deleted.`),function yQ(n){n.persistentConnection_&&n.persistentConnection_.interrupt("repo_interrupt")}(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Ss("Cannot call "+e+" on a deleted database.")}}function Vke(n=zp(),e){const t=qa(n,"database").getImmediate({identifier:e});if(!t._instanceStarted){const i=zT("database");i&&function Bke(n,e,t,i={}){(n=zt(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Ss("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let o;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&Ss('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new km(km.OWNER);else if(i.mockUserToken){const s="string"==typeof i.mockUserToken?i.mockUserToken:t9(i.mockUserToken,n.app.options.projectId);o=new km(s)}!function Oke(n,e,t,i){n.repoInfo_=new BR(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),i&&(n.authTokenProvider_=i)}(r,e,t,o)}(t,...i)}return t}Xl.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},Xl.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function Uke(n){(function EMe(n){RR=n})(Wa),Li(new yi("database",(e,{instanceIdentifier:t})=>function Pke(n,e,t,i,r){let o=i||n.options.databaseURL;void 0===o&&(n.options.projectId||Ss("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Si("Using default host for project ",n.options.projectId),o=`${n.options.projectId}-default-rtdb.firebaseio.com`);let c,l,s=BN(o,r),a=s.repoInfo;typeof process<"u"&&process.env&&(l=process.env.FIREBASE_DATABASE_EMULATOR_HOST),l?(c=!0,o=`http://${l}?ns=${a.namespace}`,s=BN(o,r),a=s.repoInfo):c=!s.repoInfo.secure;const u=r&&c?new km(km.OWNER):new VMe(n.name,n.options,e);dQ("Invalid Firebase Database URL",s),tt(s.path)||Ss("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function Nke(n,e,t,i){let r=jN[e.name];r||(r={},jN[e.name]=r);let o=r[n.toURLString()];return o&&Ss("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new tke(n,!1,t,i),r[n.toURLString()]=o,o}(a,n,u,new LMe(n.name,t));return new Lke(d,n)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),Bt(RW,"0.14.4",n),Bt(RW,"0.14.4","esm2017")}();class zN{constructor(e){return e}}const kQ="database",$N=new X("angularfire2.database-instances");function Gke(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new zN(i)}}const qke={provide:class $ke{constructor(){return Kp(kQ)}},deps:[[new Yt,$N]]},Wke={provide:zN,useFactory:function Hke(n,e){const t=Wp(kQ,n,e);return t&&new zN(t)},deps:[[new Yt,$N],Qa]};let Kke=(()=>{class n{constructor(){Bt("angularfire",jd.full,"rtdb")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ze({type:n}),n.\u0275inj=Xe({providers:[Wke,qke]}),n})();function Qke(n,...e){return{ngModule:Kke,providers:[{provide:$N,useFactory:Gke(n),multi:!0,deps:[Ee,Ut,Qp,Yp,[new Yt,Gv],[new Yt,Jp],...e]}]}}const Yke=wi(Vke,!0),GN="functions";class tOe{constructor(e,t,i){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then(r=>this.auth=r,()=>{}),this.messaging||t.get().then(r=>this.messaging=r,()=>{}),this.appCheck||i.get().then(r=>this.appCheck=r,()=>{})}getAuthToken(){var e=this;return _(function*(){if(e.auth)try{const t=yield e.auth.getToken();return t?.accessToken}catch{return}})()}getMessagingToken(){var e=this;return _(function*(){if(e.messaging&&"Notification"in self&&"granted"===Notification.permission)try{return yield e.messaging.getToken()}catch{return}})()}getAppCheckToken(e){var t=this;return _(function*(){if(t.appCheck){const i=e?yield t.appCheck.getLimitedUseToken():yield t.appCheck.getToken();return i.error?null:i.token}return null})()}getContext(e){var t=this;return _(function*(){return{authToken:yield t.getAuthToken(),messagingToken:yield t.getMessagingToken(),appCheckToken:yield t.getAppCheckToken(e)}})()}}const qN="us-central1";class iOe{constructor(e,t,i,r,o=qN,s){this.app=e,this.fetchImpl=s,this.emulatorOrigin=null,this.contextProvider=new tOe(t,i,r),this.cancelAllRequests=new Promise(a=>{this.deleteService=()=>Promise.resolve(a())});try{const a=new URL(o);this.customDomain=a.origin,this.region=qN}catch{this.customDomain=null,this.region=o}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;return null!==this.emulatorOrigin?`${this.emulatorOrigin}/${t}/${this.region}/${e}`:null!==this.customDomain?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}}const NQ="@firebase/functions";function fOe(n=zp(),e=qN){const i=qa(zt(n),GN).getImmediate({identifier:e}),r=zT("functions");return r&&function pOe(n,e,t){!function rOe(n,e,t){n.emulatorOrigin=`http://${e}:${t}`}(zt(n),e,t)}(i,...r),i}!function hOe(n,e){Li(new yi(GN,(i,{instanceIdentifier:r})=>{const o=i.getProvider("app").getImmediate(),s=i.getProvider("auth-internal"),a=i.getProvider("messaging-internal"),c=i.getProvider("app-check-internal");return new iOe(o,s,a,c,r,n)},"PUBLIC").setMultipleInstances(!0)),Bt(NQ,"0.10.0",e),Bt(NQ,"0.10.0","esm2017")}(fetch.bind(self));class QN{constructor(e){return e}}const LQ="functions",YN=new X("angularfire2.functions-instances");function _Oe(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new QN(i)}}const bOe={provide:class gOe{constructor(){return Kp(LQ)}},deps:[[new Yt,YN]]},yOe={provide:QN,useFactory:function mOe(n,e){const t=Wp(LQ,n,e);return t&&new QN(t)},deps:[[new Yt,YN],Qa]};let vOe=(()=>{class n{constructor(){Bt("angularfire",jd.full,"fn")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ze({type:n}),n.\u0275inj=Xe({providers:[yOe,bOe]}),n})();function wOe(n,...e){return{ngModule:vOe,providers:[{provide:YN,useFactory:_Oe(n),multi:!0,deps:[Ee,Ut,Qp,Yp,[new Yt,Gv],[new Yt,Jp],...e]}]}}const COe=wi(fOe,!0);function xOe(n,e){if(1&n){const t=Et();g(0,"tr")(1,"td"),w(2),p(),g(3,"td"),w(4),p(),g(5,"td",5),w(6),p(),g(7,"td"),w(8),p(),g(9,"td")(10,"button",8),Q("click",function(){const o=Ne(t).$implicit;return Fe(sn().Unidades(o.name))}),p(),g(11,"button",9),Q("click",function(){const o=Ne(t).$implicit;return Fe(sn().infoProject(o.name))}),p(),g(12,"button",10),Q("click",function(){const o=Ne(t).$implicit;return Fe(sn().editProyecto(o.name))}),p()()()}if(2&n){const t=e.$implicit;z(2),He(t.name),z(2),He(t.owner),z(2),He(t.integrantes),z(2),He(t.cliente)}}let EOe=(()=>{class n{constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.data=[],this.list=[],this.email="",this.MyQuery()}getData(){const t=vs();sa(t,r=>{r&&r.email&&(this.email=r.email)});const i=Ie(this.firestore,"projects");pe(i).then(r=>{this.data=[...r.docs.map(o=>({...o.data(),id:o.id}))]})}updateData(t){const i=De(this.firestore,"projects",t);wr(i,{}).then(()=>{alert("Data updated"),this.getData()}).catch(r=>{alert(r.message)})}deleteData(t){const i=De(this.firestore,"projects",t);Fn(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}infoProject(t){this.router.navigate(["user/project-info/"+t])}newProject(){this.router.navigate(["user/project-new"])}EditProject(){this.router.navigate(["user/project-new"])}Unidades(t){this.router.navigate(["user/unidad-produccion/"+t])}Muestras(t){this.router.navigate(["user/muestras/"+t])}editProyecto(t){this.router.navigate(["user/project-edit/"+t])}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["user/projects"])}logOut(){Ui(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}MyQuery(){var t=this;return _(function*(){const i=vs();let r;r="",console.log(i),sa(i,function(){var o=_(function*(s){if(s&&(console.log(s.email),s.email)){r=s.email;const a=dn(Ie(t.firestore,"projects"),tn("owner","==",r));pe(a).then(c=>{t.data=[...c.docs.map(l=>({...l.data(),id:l.id}))]})}});return function(s){return o.apply(this,arguments)}}()),console.log("done")})()}static#e=this.\u0275fac=function(i){return new(i||n)(E(Me),E(dt),E(Ge),E(ut))};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-projects"]],decls:23,vars:1,consts:[[1,"center"],[1,"subTituloText"],[1,"scanbutton"],[1,"scantext",3,"click"],[1,"list"],[1,"integrantes"],[4,"ngFor","ngForOf"],["id","agregar",1,"boton",3,"click"],[1,"muestras",3,"click"],[1,"detalles",3,"click"],[1,"edit",3,"click"]],template:function(i,r){1&i&&(g(0,"p"),w(1,"projects works!"),p(),g(2,"div",0)(3,"h1",1),w(4,"Proyectos"),p(),g(5,"div",2)(6,"div",3),Q("click",function(){return r.Scan()}),w(7,"SCAN"),p()(),g(8,"div",4)(9,"table")(10,"tr")(11,"th"),w(12," Nombre "),p(),g(13,"th"),w(14," Due\xf1o "),p(),g(15,"th",5),w(16," Integrantes"),p(),g(17,"th"),w(18," Clientes "),p(),te(19,"th"),p(),Yn(20,xOe,13,4,"tr",6),p(),g(21,"button",7),Q("click",function(){return r.newProject()}),w(22," Agregar "),p()()()),2&i&&(z(20),Xn("ngForOf",r.data))},dependencies:[ho],styles:[".center[_ngcontent-%COMP%]{display:block}.list[_ngcontent-%COMP%]{position:absolute;margin:10px;left:15%;top:38%}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{cursor:pointer;width:153px;height:36px;left:45%;top:30%;position:absolute;background:#4c9eff;border-radius:30px;box-shadow:2px 2px 5px #000}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:56px;letter-spacing:0;text-shadow:2px 2px 5px black;left:40%;top:20%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}@media only screen and (max-width: 768px){.list[_ngcontent-%COMP%]{position:absolute;margin:0;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.boton[_ngcontent-%COMP%]{position:absolute;left:80%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;text-shadow:2px 2px 5px black;left:30%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}.scanbutton[_ngcontent-%COMP%]{cursor:pointer;width:153px;height:36px;left:30%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}}@media only screen and (min-width: 1536px){.center[_ngcontent-%COMP%]{display:block;width:1200px;position:absolute;left:50%;top:50%;transform:translate(-50%,-60%)}.scanbutton[_ngcontent-%COMP%]{position:relative;width:153px;height:36px;left:49%;top:22%;position:absolute;background:#4c9eff;border-radius:30px;box-shadow:2px 2px 5px #000}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:relative;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:relative;margin:0;width:400px;height:64px;font-family:Verdana;font-size:56px;letter-spacing:0;text-shadow:2px 2px 5px black;left:500px;top:0%}.list[_ngcontent-%COMP%]{position:relative;width:1000px;margin:10px;left:200px;top:100px}}"]})}return n})();function IOe(n,e){if(1&n){const t=Et();g(0,"tr")(1,"td"),w(2),p(),g(3,"td"),w(4),p(),g(5,"td"),w(6),p(),g(7,"td"),w(8),p(),g(9,"td")(10,"button",8),Q("click",function(){const o=Ne(t).$implicit;return Fe(sn().infoMuestra(o.codigo))}),p(),g(11,"button",9),Q("click",function(){const o=Ne(t).$implicit;return Fe(sn().editMuestra(o.codigo))}),p(),g(12,"button",10),Q("click",function(){const o=Ne(t).$implicit;return Fe(sn().Barcode(o.codigo))}),p()()()}if(2&n){const t=e.$implicit;z(2),He(t.codigo),z(2),He(t.fecha),z(2),He(t.cultivo),z(2),He(t.coordenadas)}}let TOe=(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.location=s,this.data=[]}ngOnInit(){this.route.params.subscribe(t=>{this.item=t.id,this.up=t.up,console.log(t),console.log(t.id)}),this.MyQuery()}getData(){const t=Ie(this.firestore,"muestras");pe(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}updateData(t){const i=De(this.firestore,"muestras",t);wr(i,{}).then(()=>{alert("Data updated"),this.getData()}).catch(r=>{alert(r.message)})}deleteData(t){const i=De(this.firestore,"muestras",t);Fn(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["user/projects"])}logOut(){Ui(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}newMuestra(t){this.router.navigate(["user/muestras-new/"+t])}editMuestra(t){this.router.navigate(["user/muestras-edit/"+t])}infoUnidad(t){this.router.navigate(["user/unidad-produccion-info/"+t])}infoMuestra(t){this.router.navigate(["user/muestras-info/"+t])}Barcode(t){this.router.navigate(["user/barcode/"+t])}backPage(){this.location.back()}MyQuery(){var t=this;return _(function*(){let i=t.item;t.pid=i;let r=t.up;console.log(i);const o=dn(Ie(t.firestore,"muestras"),tn("project","==",i),tn("unidad","==",r));pe(o).then(a=>{t.data=[...a.docs.map(c=>({...c.data(),id:c.id}))]}),(yield pe(o)).forEach(a=>{console.log(a.id," => ",a.data())})})()}static#e=this.\u0275fac=function(i){return new(i||n)(E(Me),E(dt),E(Ge),E(ut),E(_i))};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-muestras"]],decls:25,vars:1,consts:[[1,"subTituloText"],[1,"scanbutton"],[1,"scantext",3,"click"],[1,"list"],[1,"projectBlock",3,"click"],[4,"ngFor","ngForOf"],["id","agregar",1,"boton",3,"click"],["id","volver",1,"boton",3,"click"],[1,"detalles",3,"click"],[1,"edit",3,"click"],[1,"imprimir",3,"click"]],template:function(i,r){1&i&&(g(0,"p"),w(1,"muestras works!"),p(),g(2,"h1",0),w(3,"Muestras"),p(),g(4,"div",1)(5,"div",2),Q("click",function(){return r.Scan()}),w(6,"SCAN"),p()(),g(7,"div",3)(8,"div",4),Q("click",function(){return r.infoUnidad(r.up)}),w(9,"Unidad de Produccion"),p(),g(10,"table")(11,"tr")(12,"th"),w(13," Codigo "),p(),g(14,"th"),w(15," Fecha "),p(),g(16,"th"),w(17," Cultivo"),p(),g(18,"th"),w(19," Coordenadas "),p(),te(20,"th"),p(),Yn(21,IOe,13,4,"tr",5),p(),g(22,"button",6),Q("click",function(){return r.newMuestra(r.pid)}),w(23," Agregar "),p(),g(24,"button",7),Q("click",function(){return r.backPage()}),p()()),2&i&&(z(21),Xn("ngForOf",r.data))},dependencies:[ho],styles:[".list[_ngcontent-%COMP%]{position:absolute;left:38%;top:38%}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.projectBlock[_ngcontent-%COMP%]{width:60%;height:35px;background:#3ec28f;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:20px;font-weight:700;letter-spacing:0;cursor:pointer}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{cursor:pointer;width:153px;height:36px;left:49%;top:30%;position:absolute;background:#4c9eff;border-radius:30px;box-shadow:2px 2px 5px #000}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}#volver[_ngcontent-%COMP%]{position:absolute;left:0%;border:none;width:50px;height:50px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(back-button-Edit4.8567daeed3ab1418.png)}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;text-shadow:2px 2px 5px black;left:45%;top:20%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.projectBlock[_ngcontent-%COMP%]{width:60%;height:25px;background:#3ec28f;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:14px;font-weight:700;letter-spacing:0;cursor:pointer}.list[_ngcontent-%COMP%]{position:absolute;left:5%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:153px;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:80%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}#volver[_ngcontent-%COMP%]{position:absolute;left:0%}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;left:30%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}return n})(),DOe=(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.location=s,this.data=[],this.num=1}ngOnInit(){let t;this.route.params.subscribe(i=>{this.item=i.id,t=i.id,this.generateBarcode(t)})}handleRegister(t){console.log(t.cantidad),this.toPrint(t.cantidad)}generateBarcode(t){var r=t;this.res=r,Tm("#barcode",r,{format:"CODE128"})}generateSVG(t,i){for(let r=0;r<t;r++){const o=document.createElement("div"),s=document.createElement("svg");o.setAttribute("class","subcode"),s.setAttribute("id","barcode"+r),document.getElementById("codes")?.appendChild(s)}}toPrint(t){this.router.navigate(["/print/"+this.res+"/"+t])}sleep(t){return _(function*(){return new Promise(i=>setTimeout(i,t))})()}backPage(){this.location.back()}static#e=this.\u0275fac=function(i){return new(i||n)(E(Me),E(dt),E(Ge),E(ut),E(_i))};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-barcode"]],decls:13,vars:1,consts:[["id","barcode"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],["name","cantidad","ngModel","","placeholder","N\xb0","id","cantidad","type","number","min","1","max","5",1,"input-field",3,"ngModel","ngModelChange"],[1,"print"],["id","volver",3,"click"]],template:function(i,r){if(1&i){const o=Et();g(0,"p"),w(1,"barcode works!"),p(),T_(),te(2,"svg",0),dx(),g(3,"form",1,2),Q("ngSubmit",function(){Ne(o);const a=xn(4);return Fe(r.handleRegister(a.value))}),g(5,"div",3)(6,"div",4)(7,"span",5),w(8,"Cantidad: "),p(),g(9,"input",6),it("ngModelChange",function(a){return ct(r.num,a)||(r.num=a),a}),p()(),g(10,"button",7),w(11,"Imprimir"),p()()(),g(12,"button",8),Q("click",function(){return r.backPage()}),p()}2&i&&(z(9),nt("ngModel",r.num))},dependencies:[ei,Ji,nT,Or,Jn,lT,cT,mr,Sn],styles:[".main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:40%;top:50%}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:56px;letter-spacing:0;text-shadow:2px 2px 5px black;left:45%;top:20%}.input-fields[_ngcontent-%COMP%]{position:inherit;width:180px;top:25px}.Text[_ngcontent-%COMP%]{display:inline;font-family:Arial;text-align:center;font-size:24px;font-weight:700}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{height:20px;width:40px;font-size:16px}.print[_ngcontent-%COMP%]{position:inherit;left:200px}svg[_ngcontent-%COMP%]{position:absolute;left:44%;top:32%}button[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:24px;font-weight:700;cursor:pointer;border-radius:30px}#volver[_ngcontent-%COMP%]{font-size:16px;position:absolute;left:35%;top:20%;border:none;width:50px;height:50px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(back-button-Edit4.8567daeed3ab1418.png)}#barcode[_ngcontent-%COMP%]{display:inline;border:2px solid rgb(0,0,0);box-shadow:2px 2px 5px #000}@media only screen and (max-width: 768px){.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:60%;height:20%;left:36%;top:60%}.input-fields[_ngcontent-%COMP%]{position:inherit;width:130px;top:25px}.Text[_ngcontent-%COMP%]{display:inline;font-family:Arial;text-align:center;font-size:20px}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{height:20px;width:20px;font-size:16px}.print[_ngcontent-%COMP%]{position:absolute;left:33%;top:45%;font-size:16px}#test[_ngcontent-%COMP%]{position:absolute;left:30%;top:60%;display:none}#codes[_ngcontent-%COMP%]{position:absolute;left:30%;top:35%}svg[_ngcontent-%COMP%]{position:absolute;left:25%;top:30%;margin:15px 0}.space[_ngcontent-%COMP%]{height:200px}#barcode[_ngcontent-%COMP%]{display:inline;border:2px solid rgb(0,0,0);box-shadow:2px 2px 5px #000}button[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:20px;font-weight:700;cursor:pointer;border-radius:30px}#volver[_ngcontent-%COMP%]{font-size:16px;position:absolute;left:28%;top:70%;border:none;width:36px;height:36px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(back-button-Edit4.8567daeed3ab1418.png)}}"]})}return n})();const MOe=["div"];let SOe=(()=>{class n{constructor(t,i,r){this.auth=t,this.firestore=i,this.renderer=r,this.title="gestion-de-muestras-de-campo",this.data=[],this.getData(),this.index=1}randomCode(){let t="";for(let o=0;o<20;o++)t+="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".charAt(Math.floor(62*Math.random()));return t}handleRegister(t){this.addData(t)}addData(t){var i=this;return _(function*(){i.randomCode();let s=t.integrantes.split(/[\s,]+/);const a=De(i.firestore,"projects",t.name);vr(a,{name:t.name,cliente:t.cliente,owner:t.owner,integrantes:s}).then(()=>{alert("Data Sent")}).catch(c=>{alert(c.message)})})()}getData(){const t=Ie(this.firestore,"projects");pe(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}static#e=this.\u0275fac=function(i){return new(i||n)(E(Ge),E(ut),E(Ao))};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-project-new"]],viewQuery:function(i,r){if(1&i&&zn(MOe,5),2&i){let o;wn(o=Cn())&&(r.div=o.first)}},decls:26,vars:0,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],["name","name","ngModel","","placeholder","Name","id","name","type","name",1,"input-field"],["name","owner","ngModel","","placeholder","Owner","id","owner","type","owner",1,"input-field"],["name","integrantes","ngModel","","placeholder","Integrantes","id","integrantes","type","integrantes",1,"input-field"],["name","cliente","ngModel","","placeholder","Cliente","id","cliente","type","cliente",1,"input-field"],[1,"boton"]],template:function(i,r){if(1&i){const o=Et();g(0,"p"),w(1,"project-new works!"),p(),g(2,"h1",0),w(3,"Nuevo Proyecto"),p(),g(4,"div",1)(5,"form",2,3),Q("ngSubmit",function(){Ne(o);const a=xn(6);return Fe(r.handleRegister(a.value))}),g(7,"div",4)(8,"div",5)(9,"span",6),w(10,"Name:"),p(),te(11,"input",7),p(),g(12,"div",5)(13,"span",6),w(14,"Owner:"),p(),te(15,"input",8),p(),g(16,"div",5)(17,"span",6),w(18,"Integrantes:"),p(),te(19,"input",9),p(),g(20,"div",5)(21,"span",6),w(22,"Cliente:"),p(),te(23,"input",10),p(),g(24,"button",11),w(25,"Crear Proyecto"),p()()()()}},dependencies:[ei,Ji,Or,Jn,mr,Sn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:45%;flex-shrink:0;position:absolute;left:15%;top:30%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:3%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:85%;height:20px;left:92px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:35%;top:20%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:85%;top:110%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:85%;height:50%;flex-shrink:0;position:absolute;left:7%;top:30%}.input-field[_ngcontent-%COMP%]{margin:10px 10px 10px 20px;width:85%;height:20px;left:92px}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:20px;font-family:Arial;font-size:16px;letter-spacing:0}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:3%;top:3%}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:75%;top:110%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}@media only screen and (min-width: 1536px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:1000px;height:400px;flex-shrink:0;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}.boton[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(310px)}.subTituloText[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%)}}"]})}return n})();const AOe=["geo"];let kOe=(()=>{class n{static#e=this.text="";constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.title="gestion-de-muestras-de-campo",this.data=[],this.res="",this.somethingChange=new Qe}ngOnInit(){this.route.params.subscribe(t=>{this.pid=t.id})}handleRegister(t){this.addData(t)}addData(t){const i=De(this.firestore,"muestras",t.codigo);vr(i,{codigo:t.codigo,cliente:t.cliente,fecha:t.fecha,cultivo:t.cultivo,tipo:t.tipo,fitopatogeno:t.fitopatogeno,repeticion:t.repeticion,coordenadas:t.coordenadas,sintomas:t.sintomas,comentarios:t.comentarios,project:this.pid}).then(()=>{alert("Data Sent")}).catch(r=>{alert(r.message)})}getData(){const t=Ie(this.firestore,"muestras");pe(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}showPosition(t){n.text=t.coords.latitude+", "+t.coords.longitude,console.log(n.text)}getLocation(){var t=this;return _(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{t.res=n.text,console.log(t.res)},1e3)})()}static#t=this.\u0275fac=function(i){return new(i||n)(E(Me),E(dt),E(Ge),E(ut))};static#n=this.\u0275cmp=Te({type:n,selectors:[["app-muestras-new"]],viewQuery:function(i,r){if(1&i&&zn(AOe,5),2&i){let o;wn(o=Cn())&&(r.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:65,vars:1,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],["name","codigo","ngModel","","placeholder","codigo","id","codigo","type","codigo",1,"input-field"],["name","cliente","ngModel","","placeholder","Cliente","id","cliente","type","cliente",1,"input-field"],["name","fecha","ngModel","","placeholder","Fecha","id","fecha","type","fecha",1,"input-field"],["name","cultivo","ngModel","","placeholder","Cultivo","id","cultivo","type","cultivo",1,"input-field"],["list","tipos","name","tipo","ngModel","","placeholder","Tipo","id","tipo","type","tipo",1,"input-field"],["id","tipos"],["value","Hibrido"],["value","Variedad"],["value","Clone"],["list","fitopatogenos","name","fitopatogeno","ngModel","","placeholder","Fitopatogeno","id","fitopatogeno","type","fitopatogeno",1,"input-field"],["id","fitopatogenos"],["value","Hongos"],["value","Bacterias"],["value","Virus"],["name","lote","ngModel","","placeholder","Lote","id","lote","type","lote",1,"input-field"],["name","repeticion","ngModel","","placeholder","Repeticion","id","repeticion","type","repeticion",1,"input-field"],["name","coordenadas","ngModel","","placeholder","Coordenadas","id","coordenadas","type","coordenadas",1,"input-field",3,"ngModel","ngModelChange"],[1,"bUbicacion",3,"click"],["src","../../../../assets/Ubicacion.png","alt","U"],["name","sintomas","ngModel","","placeholder","Sintomas","id","sintomas","rows","4","cols","50"],["name","comentarios","ngModel","","placeholder","Comentarios","id","comentarios","rows","4","cols","50"],[1,"boton"]],template:function(i,r){if(1&i){const o=Et();g(0,"p"),w(1,"muestras-new works!"),p(),g(2,"h1",0),w(3,"Nueva Muestra"),p(),g(4,"div",1)(5,"form",2,3),Q("ngSubmit",function(){Ne(o);const a=xn(6);return Fe(r.handleRegister(a.value))}),g(7,"div",4)(8,"div",5)(9,"span",6),w(10,"Codigo:"),p(),te(11,"input",7),p(),g(12,"div",5)(13,"span",6),w(14,"Cliente:"),p(),te(15,"input",8),p(),g(16,"div",5)(17,"span",6),w(18,"Fecha:"),p(),te(19,"input",9),p(),g(20,"div",5)(21,"span",6),w(22,"Cultivo:"),p(),te(23,"input",10),p(),g(24,"div",5)(25,"span",6),w(26,"Tipo:"),p(),te(27,"input",11),g(28,"datalist",12),te(29,"option",13)(30,"option",14)(31,"option",15),p()(),g(32,"div",5)(33,"span",6),w(34,"Fitopat\xf3geno:"),p(),te(35,"input",16),g(36,"datalist",17),te(37,"option",18)(38,"option",19)(39,"option",20),p()(),g(40,"div",5)(41,"span",6),w(42,"Lote:"),p(),te(43,"input",21),p(),g(44,"div",5)(45,"span",6),w(46,"Repetici\xf3n:"),p(),te(47,"input",22),p(),g(48,"div",5)(49,"span",6),w(50,"Coordenadas:"),p(),g(51,"input",23),it("ngModelChange",function(a){return ct(r.res,a)||(r.res=a),a}),p(),g(52,"div",24),Q("click",function(){return r.getLocation()}),te(53,"img",25),p()(),g(54,"div",5)(55,"span",6),w(56,"Sintomas:"),p(),te(57,"textarea",26),p(),g(58,"div",5)(59,"span",6),w(60,"Comentarios:"),p(),g(61,"textarea",27),w(62," "),p()(),g(63,"button",28),w(64,"Crear Muestra"),p()()()()}2&i&&(z(51),nt("ngModel",r.res))},dependencies:[ei,wp,Cp,Ji,Or,Jn,mr,Sn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:73%;flex-shrink:0;position:absolute;left:15%;top:25%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:3%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:85%;height:20px;left:92px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;text-shadow:2px 2px 5px black;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:35%;top:17%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:80%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:95%;height:100%;flex-shrink:0;position:absolute;left:2.5%;top:30%}.input-field[_ngcontent-%COMP%]{margin:10px 10px 10px 20px;width:85%;height:20px;left:92px}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:20px;font-family:Arial;font-size:16px;letter-spacing:0}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:3%;top:3%}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:75%;top:110%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}@media only screen and (min-width: 1536px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:1000px;height:660px;flex-shrink:0;position:absolute;left:50%;top:50%;transform:translate(-50%,-35%)}.subTituloText[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%)}}"]})}return n})();class _o extends Ct{constructor(){super(...arguments),this._value=null,this._hasValue=!1,this._isComplete=!1}_checkFinalizedStatuses(e){const{hasError:t,_hasValue:i,_value:r,thrownError:o,isStopped:s,_isComplete:a}=this;t?e.error(o):(s||a)&&(i&&e.next(r),e.complete())}next(e){this.isStopped||(this._value=e,this._hasValue=!0)}complete(){const{_hasValue:e,_value:t,_isComplete:i}=this;i||(this._isComplete=!0,e&&super.next(t),super.complete())}}const OOe=["video"],POe=["canvas"],ROe=["resultsPanel"],XN="assets/wasm/index.js",Jm="https://cdn.jsdelivr.net/npm/ngx-scanner-qrcode@1.6.4/wasm/index.js",VQ={audio:!1,video:!0},ZN={lineWidth:1,strokeStyle:"green",fillStyle:"#55f02880"},JN={font:"15px serif",strokeStyle:"#fff0",fillStyle:"#ff0000"},_a={src:"",fps:30,vibrate:300,decode:"utf-8",isBeep:!0,constraints:VQ,canvasStyles:[ZN,JN]};var tC=()=>"zbarWasm"in window;const Tt=(n,e,t)=>{t?n.error(t):n.next(e),n.complete()},e2=(n=!1)=>{if(!1===n)return;const e=new Audio("data:audio/mpeg;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU4LjI5LjEwMAAAAAAAAAAAAAAA/+M4wAAAAAAAAAAAAEluZm8AAAAPAAAABQAAAkAAgICAgICAgICAgICAgICAgICAgKCgoKCgoKCgoKCgoKCgoKCgoKCgwMDAwMDAwMDAwMDAwMDAwMDAwMDg4ODg4ODg4ODg4ODg4ODg4ODg4P//////////////////////////AAAAAExhdmM1OC41NAAAAAAAAAAAAAAAACQEUQAAAAAAAAJAk0uXRQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/+MYxAANQAbGeUEQAAHZYZ3fASqD4P5TKBgocg+Bw/8+CAYBA4XB9/4EBAEP4nB9+UOf/6gfUCAIKyjgQ/Kf//wfswAAAwQA/+MYxAYOqrbdkZGQAMA7DJLCsQxNOij///////////+tv///3RWiZGBEhsf/FO/+LoCSFs1dFVS/g8f/4Mhv0nhqAieHleLy/+MYxAYOOrbMAY2gABf/////////////////usPJ66R0wI4boY9/8jQYg//g2SPx1M0N3Z0kVJLIs///Uw4aMyvHJJYmPBYG/+MYxAgPMALBucAQAoGgaBoFQVBUFQWDv6gZBUFQVBUGgaBr5YSgqCoKhIGg7+IQVBUFQVBoGga//SsFSoKnf/iVTEFNRTMu/+MYxAYAAANIAAAAADEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV");e.oncanplaythrough=()=>{const t=e.play();t&&t.catch(i=>{})}},BQ=(n,e,t,i)=>{let r,o,s=e.width,a=e.height,c=s/a,l=parseInt(getComputedStyle(e).width),u=parseInt(getComputedStyle(e).height),d=l/u;t.innerHTML="",c>d?(r=l/s,o=l/c/a):(o=u/a,r=u*c/s);for(let h=0;h<n.length;h++){const f=n[h];let b=document.createElement("canvas"),x=b.getContext("2d",{willReadFrequently:!0}),I={},k=[],M=[],V=0,K=0,oe=2===i.length&&i[1]?.font?.replace(/[^0-9]/g,"");oe&&/[0-9]/g.test(oe)&&(V=parseFloat(oe),K=(r||1)*V,Number.isNaN(K)&&(K=V));const de=f.points;for(let Ft=0;Ft<de.length;Ft++){const hu=de?.[Ft]?.x??0,fu=de?.[Ft]?.y??0;I[`x${Ft+1}`]=hu,I[`y${Ft+1}`]=fu,k.push(hu),M.push(fu)}let ze=Math.max(...k),ft=Math.min(...k),oi=Math.max(...M),qi=Math.min(...M);b.setAttribute("class","qrcode-polygon"),c>d?(b.style.top=qi*o+.5*(u-l/c)+"px",b.style.left=ft*r+"px",b.width=(ze-ft)*r,b.height=(oi-qi)*r):(b.style.top=qi*o+"px",b.style.left=ft*r+.5*(l-u*c)+"px",b.width=(ze-ft)*o,b.height=(oi-qi)*o);for(const Ft in i[0])x[Ft]=i[0][Ft];const Zh=[];for(let Ft=0;Ft<k.length;Ft++)Zh.push((I[`x${Ft+1}`]-ft)*o),Zh.push((I[`y${Ft+1}`]-qi)*r);const no=Zh.slice(0);for(x.beginPath(),x.moveTo(no.shift(),no.shift());no.length;)x.lineTo(no.shift(),no.shift());if(x.closePath(),x.fill(),x.stroke(),V){const Ft=document.createElement("div");Ft.setAttribute("class","qrcode-tooltip-temp"),Ft.innerText=f.value,Ft.style.maxWidth=(s>window.innerWidth?.9*window.innerWidth:s)+"px",Ft.style.borderRadius=`clamp(1px, ${r*V-10}px, 3px)`,Ft.style.paddingBlock=`clamp(1px, ${r*V-10}px, 3px)`,Ft.style.paddingInline=`clamp(2.5px, ${r*V-6}px, 10px)`;const hu=`<svg xmlns="http://www.w3.org/2000/svg" width="${K}" height="${K}" viewBox="0 0 512 512"><rect x="128" y="128" width="336" height="336" rx="57" ry="57"></rect><path d="M383.5,128l.5-24a56.16,56.16,0,0,0-56-56H112a64.19,64.19,0,0,0-64,64V328a56.16,56.16,0,0,0,56,56h24"></path></svg>`,fu=(new DOMParser).parseFromString(hu,"application/xml"),ge=Ft.ownerDocument.importNode(fu.documentElement,!0);ge.style.marginLeft=`clamp(1px, ${r*V-10}px, 3px)`,Ft.appendChild(ge),ge.addEventListener("click",()=>window.navigator.clipboard.writeText(f.value)),Ft.addEventListener("click",()=>window.navigator.clipboard.writeText(f.value));const _e=document.createElement("div");_e.setAttribute("class","qrcode-tooltip"),_e.appendChild(Ft),o=u/a,r=u*c/s,_e.style.fontSize=r*V+"px",_e.style.top=qi*o+"px",_e.style.left=ft*r+.5*(l-u*c)+"px",_e.style.width=(ze-ft)*o+"px",_e.style.height=(oi-qi)*o+"px";const we=document.createElement("span");we.innerText=f.value,we.style.top=qi*o+-20*o+"px",we.style.left=ft*r+.5*(l-u*c)+"px";const _t=i[1]?.font?.split(" ")?.[1];we.style.fontFamily=_t,we.style.fontSize=r*V+"px",we.style.color=i?.[1]?.fillStyle,t?.appendChild(_e),t?.appendChild(we)}t?.appendChild(b)}},UQ=(n,e)=>new Promise((t,i)=>n.toBlob(r=>t(r),e)),jQ=(n=[],e,t,i,r=new _o)=>(zQ(n,t,i).then(o=>{Promise.all(Object.assign([],n).map(s=>((n,e)=>{let t=e?.decode??_a.decode,i=2===e?.canvasStyles?.length?e?.canvasStyles:[ZN,JN],r=e?.isBeep??_a.isBeep;return new Promise((o,s)=>{const a=new FileReader;a.onload=()=>{const c={name:n.name,file:n,url:URL.createObjectURL(n)},l=new Image;l.setAttribute("crossOrigin","anonymous"),l.onload=_(function*(){const u=document.createElement("canvas");u.width=l.naturalWidth||l.width,u.height=l.naturalHeight||l.height;const d=u.getContext("2d");d.drawImage(l,0,0,u.width,u.height);const h=d.getImageData(0,0,u.width,u.height);if(tC()){const f=yield zbarWasm.scanImageData(h);if(f?.length){f.forEach(k=>k.value=k.decode(t?.toLocaleLowerCase())),((n,e,t)=>{let i=e.getContext("2d",{willReadFrequently:!0});for(let r=0;r<n.length;r++){const o=n[r];let s={},a=[],c=[],l=0,d=t[1]?.font?.split(" ")?.[0]?.replace(/[^0-9]/g,"");d&&/[0-9]/g.test(d)&&(l=parseFloat(d));const h=o.points;for(let M=0;M<h.length;M++){const V=h?.[M]?.x??0,K=h?.[M]?.y??0;s[`x${M+1}`]=V,s[`y${M+1}`]=K,a.push(V),c.push(K)}let f=Math.min(...a),b=Math.min(...c);const x=()=>{for(const K in t[0])i[K]=t[0][K];const M=[];for(let K=0;K<a.length;K++)M.push(s[`x${K+1}`]),M.push(s[`y${K+1}`]);const V=M.slice(0);for(i.beginPath(),i.moveTo(V.shift(),V.shift());V.length;)i.lineTo(V.shift(),V.shift());i.closePath(),i.fill(),i.stroke()};let I=document.createElement("canvas");const k=()=>{const M=t[1]?.font?.split(" ")?.[1];I.height=e.height,I.width=e.width;let V=I.getContext("2d",{willReadFrequently:!0});V.font=l+"px "+M;for(const K in t[1])V[K]=t[1][K];jOe(V,o.value,f,b-5)};x(),k(),i.drawImage(I,0,0)}})(f,u,i);const b=yield UQ(u),x=URL.createObjectURL(b);o(Object.assign({},c,{data:f,url:x,canvas:u,file:(k=b,M=c.name,new File([k],M,{lastModified:(new Date).getTime(),type:k.type}))})),e2(r)}else o(Object.assign({},c,{data:f,canvas:u}))}var k,M}),l.src=c.url},a.onerror=c=>s(c),a.readAsDataURL(n)})})(s,e))).then(s=>{Tt(r,s)}).catch(s=>Tt(r,null,s))}),r),jOe=(n,e,t,i)=>{let r=1.2*n.measureText("M").width,o=e.split("\n");for(var s=0;s<o.length;++s)n.fillText(o[s],t,i),n.strokeText(o[s],t,i),i+=r},zQ=function(){var n=_(function*(e=[],t=.5,i="image/jpeg"){if(!e.length||1===t)return e;const r=function(){var s=_(function*(a){const c=yield createImageBitmap(a),l=document.createElement("canvas");l.width=c.width,l.height=c.height,l.getContext("2d").drawImage(c,0,0);const d=yield new Promise(h=>l.toBlob(h,i,t));return new File([d],a.name,{type:d.type})});return function(c){return s.apply(this,arguments)}}(),o=new DataTransfer;return yield _(function*(){for(const s of e){if(!s.type.startsWith("image")){o.items.add(s);continue}const a=yield r(s);o.items.add(a)}})(),o.files});return function(){return n.apply(this,arguments)}}(),$Q=n=>{Object.assign([],n.childNodes).forEach(e=>n.removeChild(e))},t2=(n,e)=>{n.style.width=e.offsetWidth+"px",n.style.height=e.offsetHeight+"px"},HQ=(n=300)=>{n&&$Oe()&&window?.navigator?.vibrate(n)},$Oe=()=>{const n=navigator.userAgent||navigator.vendor||window.opera;return!(!/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(n)&&!/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(n.substr(0,4))||/^((?!chrome|android).)*safari/i.test(n))};let GQ=(()=>{class n{loadFiles(t=[],i,r){const o=new _o;return zQ(t,i,r).then(s=>{Promise.all(Object.assign([],t).map(a=>this.readAsDataURL(a))).then(a=>Tt(o,a)).catch(a=>Tt(o,null,a))}),o}loadFilesToScan(t=[],i,r,o){return jQ(t,i,r,o)}readAsDataURL(t){return new Promise((i,r)=>{const o=new FileReader;o.onload=()=>{const s={name:t.name,file:t,url:URL.createObjectURL(t)};i(s)},o.onerror=s=>r(s),o.readAsDataURL(t)})}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),GOe=(()=>{class n{constructor(t,i){this.renderer=t,this.elementRef=i,this.event=new Qe,this.src=_a.src,this.fps=_a.fps,this.vibrate=_a.vibrate,this.decode=_a.decode,this.isBeep=_a.isBeep,this.config=_a,this.constraints=_a.constraints,this.canvasStyles=[ZN,JN],this.isStart=!1,this.isPause=!1,this.isLoading=!1,this.isTorch=!1,this.data=new lr([]),this.devices=new lr([]),this.deviceIndexActive=0,this.dataForResize=[],this.ready=new _o,this.STATUS={startON:()=>this.isStart=!0,pauseON:()=>this.isPause=!0,loadingON:()=>this.isLoading=!0,startOFF:()=>this.isStart=!1,pauseOFF:()=>this.isPause=!1,loadingOFF:()=>this.isLoading=!1,torchOFF:()=>this.isTorch=!1}}ngOnInit(){this.overrideConfig(),((n=new _o,e)=>{let t=0;const i=(r=!1)=>{const o=()=>{let c;try{const l=()=>{clearTimeout(c),tC()?setTimeout(()=>Tt(n,!0)):c=setTimeout(()=>l())};setTimeout(()=>l()),setTimeout(()=>clearTimeout(c),3e3)}catch{clearTimeout(c)}},s=document.querySelectorAll(`script[src="${Jm}"]`),a=document.querySelectorAll('script[src="https://cdn.jsdelivr.net/npm/ngx-scanner-qrcode@latest/wasm/index.js"]');if(s.length||a.length)o();else{const c=document.querySelectorAll(`script[src="${XN}"]`);if(1===c.length)o();else if(c.forEach(l=>l.remove()),e){const l=e.createElement("script");e.setAttribute(l,"src",r?Jm:XN),e.setAttribute(l,"type","text/javascript"),e.setAttribute(l,"async",""),e.appendChild(document.head,l),l.onload=()=>o(),l.onerror=()=>{t<2?(document.head.removeChild(l),i(!0)):Tt(n,!1,Jm)},t+=1}else{const l=document.createElement("script");l.setAttribute("src",r?Jm:XN),l.setAttribute("type","text/javascript"),l.setAttribute("async",""),document.head.appendChild(l),l.onload=()=>o(),l.onerror=()=>{t<2?(document.head.removeChild(l),i(!0)):Tt(n,!1,Jm)},t+=1}}};return i(),n})(this.ready,this.renderer).subscribe(()=>{this.src&&this.loadImage(this.src),this.resize()})}start(t){const i=new _o;return this.isStart?Tt(i,!1):this.safariWebRTC(i,t),i}stop(){this.STATUS.pauseOFF(),this.STATUS.startOFF(),this.STATUS.torchOFF(),this.STATUS.loadingOFF();const t=new _o;try{clearTimeout(this.rAF_ID),this.video.nativeElement.srcObject.getTracks().forEach(i=>{i.stop(),Tt(t,!0)}),this.dataForResize=[],(n=>{n.getContext("2d",{willReadFrequently:!0}).clearRect(0,0,n.width,n.height)})(this.canvas.nativeElement),$Q(this.resultsPanel.nativeElement)}catch(i){Tt(t,!1,i)}return t}play(){const t=new _o;return this.isPause?(this.video.nativeElement.play(),this.STATUS.pauseOFF(),this.requestAnimationFrame(),Tt(t,!0)):Tt(t,!1),t}pause(){const t=new _o;return this.isStart?(clearTimeout(this.rAF_ID),this.video.nativeElement.pause(),this.STATUS.pauseON(),Tt(t,!0)):Tt(t,!1),t}playDevice(t,i=new _o){const r=this.getConstraints();switch(!0){case"null"===t||"undefined"===t||!t:stop(),this.stop(),Tt(i,!1);break;case t&&(!this.isStart||!r||r.deviceId!==t):stop(),this.stop(),this.STATUS.loadingON(),this.deviceIndexActive=this.devices.value.findIndex(a=>a.deviceId===t);const s={...this.constraints,audio:!1,video:{deviceId:t,...this.constraints.video}};navigator.mediaDevices.getUserMedia(s).then(a=>{this.video.nativeElement.srcObject=a,this.video.nativeElement.onloadedmetadata=()=>{this.video.nativeElement.play(),this.requestAnimationFrame(),Tt(i,!0),this.STATUS.startON(),this.STATUS.loadingOFF()}}).catch(a=>{this.eventEmit(!1),Tt(i,!1,a),this.STATUS.startOFF(),this.STATUS.loadingOFF()});break;default:Tt(i,!1),this.STATUS.loadingOFF()}return i}loadImage(t){const i=new _o;this.STATUS.startOFF(),this.STATUS.loadingON();const r=new Image;return r.setAttribute("crossOrigin","anonymous"),r.onload=()=>{tC()&&this.drawImage(r,o=>{Tt(i,o),this.STATUS.startOFF(),this.STATUS.loadingOFF()})},r.src=t,i}torcher(){const t=this.applyConstraints({advanced:[{torch:this.isTorch}]});return t.subscribe(()=>!1,()=>this.isTorch=!this.isTorch),t}applyConstraints(t,i=0){var r=this;const o=new _o;if(this.isStart){const s=this.video.nativeElement.srcObject;if(null===i&&void 0===i&&Number.isNaN(i))Tt(o,!1,"Please check again deviceIndex");else{const a=s.getVideoTracks()[i];new window.ImageCapture(a).getPhotoCapabilities().then(_(function*(){yield a.applyConstraints(t),t2(r.video.nativeElement,r.canvas.nativeElement),Tt(o,!0)})).catch(l=>{switch(l?.name){case"NotFoundError":case"DevicesNotFoundError":Tt(o,!1,"Required track is missing");break;case"NotReadableError":case"TrackStartError":Tt(o,!1,"Webcam or mic are already in use");break;case"OverconstrainedError":case"ConstraintNotSatisfiedError":Tt(o,!1,"Constraints can not be satisfied by avb. devices");break;case"NotAllowedError":case"PermissionDeniedError":Tt(o,!1,"Permission denied in browser");break;case"TypeError":Tt(o,!1,"Empty constraints object");break;default:Tt(o,!1,l)}})}}else Tt(o,!1,"Please start the scanner");return o}getConstraints(t=0){return this.video.nativeElement.srcObject?.getVideoTracks()[t]?.getConstraints()}download(t=`ngx_scanner_qrcode_${Date.now()}.png`,i,r){var o=this;const s=new _o;return _(function*(){const c=((n,e)=>new File([n],e,{lastModified:(new Date).getTime(),type:n.type}))(yield UQ(o.canvas.nativeElement),t);jQ([c],o.config,i,r,s).subscribe(l=>{l.forEach(u=>{if(u?.data?.length){const d=document.createElement("a");d.href=u.url,d.download=u.name,d.click(),d.remove()}})})})(),s}resize(){window.addEventListener("resize",()=>{BQ(this.dataForResize,this.canvas.nativeElement,this.resultsPanel.nativeElement,this.canvasStyles),t2(this.video.nativeElement,this.canvas.nativeElement)})}overrideConfig(){"src"in this.config&&(this.src=this.config.src),"fps"in this.config&&(this.fps=this.config.fps),"vibrate"in this.config&&(this.vibrate=this.config.vibrate),"decode"in this.config&&(this.decode=this.config.decode),"isBeep"in this.config&&(this.isBeep=this.config.isBeep),"constraints"in this.config&&(this.constraints=((n,e,t)=>{if(e&&Object.keys(e[n]).length){for(const i in t){const r=JSON.parse(JSON.stringify({...e[n],[i]:t[i]}));e[n]=e[n].hasOwnProperty(i)?e[n]:r}return e[n]}return t})("constraints",this.config,VQ)),"canvasStyles"in this.config&&2===this.config?.canvasStyles?.length&&(this.canvasStyles=this.config.canvasStyles)}safariWebRTC(t,i){this.STATUS.startOFF(),this.STATUS.loadingON(),navigator.mediaDevices.getUserMedia(this.constraints).then(r=>{r.getTracks().forEach(o=>o.stop()),this.loadAllDevices(t,i)}).catch(r=>{Tt(t,!1,r),this.STATUS.startOFF(),this.STATUS.loadingOFF()})}loadAllDevices(t,i){navigator.mediaDevices.enumerateDevices().then(r=>{let o=r.filter(s=>"videoinput"==s.kind);this.devices.next(o),o?.length>0?(Tt(t,o),i?i(o):this.playDevice(o[0].deviceId)):(Tt(t,!1,"No camera detected."),this.STATUS.startOFF(),this.STATUS.loadingOFF())}).catch(r=>{Tt(t,!1,r),this.STATUS.startOFF(),this.STATUS.loadingOFF()})}drawImage(t,i=(()=>{})){var r=this;return _(function*(){const o=r.canvas.nativeElement,s=o.getContext("2d",{willReadFrequently:!0});t instanceof HTMLImageElement&&(o.width=t.naturalWidth,o.height=t.naturalHeight,t.style.visibility="",r.video.nativeElement.style.visibility="hidden",r.renderer.setStyle(r.elementRef.nativeElement,"width",o.width+"px"),r.renderer.setStyle(r.elementRef.nativeElement,"maxWidth","100%"),r.renderer.setStyle(r.elementRef.nativeElement,"display","inline-block")),t instanceof HTMLVideoElement&&(o.width=t.videoWidth,o.height=t.videoHeight,t.style.visibility="",r.canvas.nativeElement.style.visibility="hidden"),t2(r.video.nativeElement,o),s.clearRect(0,0,o.width,o.height),s.drawImage(t,0,0,o.width,o.height);const a=s.getImageData(0,0,o.width,o.height),c=yield zbarWasm.scanImageData(a);if(c?.length){c.forEach(u=>u.value=u.decode(r.decode?.toLocaleLowerCase())),BQ(c,Object.freeze(r.canvas.nativeElement),r.resultsPanel.nativeElement,r.canvasStyles);const l=()=>{r.eventEmit(c),r.dataForResize=c};t instanceof HTMLImageElement&&(i(!0),l(),HQ(r.vibrate),e2(r.isBeep)),t instanceof HTMLVideoElement&&(l(),HQ(r.vibrate),e2(r.isBeep))}else i(!1),$Q(r.resultsPanel.nativeElement),r.dataForResize=[]})()}eventEmit(t=!1){!1!==t&&this.data.next(t||[]),!1!==t&&this.event.emit(t||[])}requestAnimationFrame(t=100){try{clearTimeout(this.rAF_ID),this.rAF_ID=setTimeout(()=>{this.video.nativeElement.readyState===this.video.nativeElement.HAVE_ENOUGH_DATA&&(t=0,tC()&&this.drawImage(this.video.nativeElement),this.isStart&&!this.isPause&&this.requestAnimationFrame(t))},t||this.fps)}catch{clearTimeout(this.rAF_ID)}}get isReady(){return this.ready}ngOnDestroy(){this.pause()}static#e=this.\u0275fac=function(i){return new(i||n)(E(Ao),E(gn))};static#t=this.\u0275cmp=Te({type:n,selectors:[["ngx-scanner-qrcode"]],viewQuery:function(i,r){if(1&i&&(zn(OOe,5),zn(POe,5),zn(ROe,5)),2&i){let o;wn(o=Cn())&&(r.video=o.first),wn(o=Cn())&&(r.canvas=o.first),wn(o=Cn())&&(r.resultsPanel=o.first)}},hostAttrs:[1,"ngx-scanner-qrcode"],inputs:{src:"src",fps:"fps",vibrate:"vibrate",decode:"decode",isBeep:"isBeep",config:"config",constraints:"constraints",canvasStyles:"canvasStyles"},outputs:{event:"event"},exportAs:["scanner"],decls:6,vars:0,consts:[[1,"origin-overlay"],["resultsPanel",""],[1,"origin-canvas"],["canvas",""],["playsinline","",1,"origin-video"],["video",""]],template:function(i,r){1&i&&te(0,"div",0,1)(2,"canvas",2,3)(4,"video",4,5)},styles:[".ngx-scanner-qrcode{display:block;position:relative}.origin-overlay{width:100%;position:absolute}.origin-overlay span{z-index:2;text-align:left;position:absolute}.origin-overlay .qrcode-polygon{z-index:1;position:absolute}.origin-canvas{width:100%;position:absolute}.origin-video{width:100%;background-color:#262626}.qrcode-tooltip{z-index:3;position:absolute}.qrcode-tooltip:hover .qrcode-tooltip-temp{display:block;position:absolute;cursor:copy}.qrcode-tooltip:hover .qrcode-tooltip-temp:active{color:#afafaf}.qrcode-tooltip .qrcode-tooltip-temp{bottom:0;left:50%;color:#fff;text-align:left;display:none;width:max-content;word-wrap:break-word;transform:translate(-50%);transform-style:preserve-3d;background-color:#000000d0;box-shadow:1px 1px 20px #000000e0}.qrcode-tooltip .qrcode-tooltip-temp svg{cursor:pointer}.qrcode-tooltip .qrcode-tooltip-temp svg rect{fill:none;stroke:#fff;stroke-linejoin:round;stroke-width:32px}.qrcode-tooltip .qrcode-tooltip-temp svg path{fill:none;stroke:#fff;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px}.qrcode-tooltip .qrcode-tooltip-temp svg:active rect{stroke:#afafaf}.qrcode-tooltip .qrcode-tooltip-temp svg:active path{stroke:#afafaf}\n"],encapsulation:2})}return n})(),r2=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ze({type:n});static#n=this.\u0275inj=Xe({providers:[GQ]})}return n})();const QOe=["action"];function YOe(n,e){1&n&&(g(0,"p"),w(1,"\u231b Loading..."),p())}let XOe=(()=>{class n{constructor(t,i,r,o,s){this.qrcode=t,this.router=i,this.route=r,this.auth=o,this.firestore=s,this.data=[],this.config={constraints:{video:{width:window.innerWidth}}},this.qrCodeResult=[],this.qrCodeResult2=[],this.getData()}ngAfterViewInit(){this.action.isReady.subscribe(t=>{})}onEvent(t,i){console.log(t[0].value),this.item=t[0].value,this.MyQuery()}handle(t,i){"start"===i?t[i](o=>{const s=o.find(a=>/back|rear|environment/gi.test(a.label));t.playDevice(s?s.deviceId:o[0].deviceId)}).subscribe(o=>console.log(i,o),alert):t[i]().subscribe(o=>console.log(i,o),alert)}onDowload(t){t.download().subscribe(console.log,alert)}onSelects(t){this.qrcode.loadFiles(t,.5).subscribe(i=>{this.qrCodeResult=i})}onSelects2(t){this.qrcode.loadFilesToScan(t,this.config,.5).subscribe(i=>{console.log(i),this.qrCodeResult2=i})}getData(){const t=Ie(this.firestore,"muestras");pe(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}MyQuery(){var t=this;return _(function*(){let i=t.item;console.log(i);const r=dn(Ie(t.firestore,"muestras"),tn("codigo","==",i));pe(r).then(o=>{t.data=[...o.docs.map(s=>({...s.data(),id:s.id}))],0!=t.data.length&&(t.handle(t.action,"stop"),t.router.navigate(["user/muestras-info/"+i]))})})()}static#e=this.\u0275fac=function(i){return new(i||n)(E(GQ),E(Me),E(dt),E(Ge),E(ut))};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-scan"]],viewQuery:function(i,r){if(1&i&&zn(QOe,5),2&i){let o;wn(o=Cn())&&(r.action=o.first)}},decls:6,vars:8,consts:[[1,"container"],[1,"screen",3,"config","event"],["action","scanner"],[4,"ngIf"],[1,"btn",3,"disabled","click"],["width","30px",3,"src"]],template:function(i,r){if(1&i){const o=Et();g(0,"div",0)(1,"ngx-scanner-qrcode",1,2),Q("event",function(a){Ne(o);const c=xn(2);return Fe(r.onEvent(a,c))}),p(),Yn(3,YOe,2,0,"p",3),g(4,"button",4),Q("click",function(){Ne(o);const a=xn(2);return Fe(r.handle(a,a.isStart?"stop":"start"))}),te(5,"img",5),p()()}if(2&i){const o=xn(2);z(),Xn("config",r.config),z(2),Xn("ngIf",o.isLoading),z(),co("btn-info",!o.isStart)("btn-warning",o.isStart),Xn("disabled",o.isLoading),z(),Xn("src",o.isStart?"https://id1945.github.io/images/svg/camera-off.svg":"https://id1945.github.io/images/svg/camera-on.svg",cE)}},dependencies:[wI,GOe],styles:["h1[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{font-weight:600;word-break:break-all;font-family:Courier New,Courier,monospace}div[_ngcontent-%COMP%]{text-align:center}div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:50%;height:60px;width:60px;margin:4px}div[_ngcontent-%COMP%]   buttondisabled[_ngcontent-%COMP%]{cursor:no-drop}div[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]{background:#faebd7;border-radius:5px}.origin-overlay[_ngcontent-%COMP%]   .qrcode-tooltip[_ngcontent-%COMP%]   .qrcode-tooltip-temp[_ngcontent-%COMP%]{padding:5px!important}.screen[_ngcontent-%COMP%]{display:block;height:50%;width:50%;margin-left:auto;margin-right:auto}.container[_ngcontent-%COMP%]{top:25%;width:100%;position:absolute;left:0%}@media only screen and (max-width: 768px){h1[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{font-weight:600;word-break:break-all;font-family:Courier New,Courier,monospace}div[_ngcontent-%COMP%]{text-align:center}div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:50%;height:60px;width:60px;margin:10px 4px 4px}div[_ngcontent-%COMP%]   buttondisabled[_ngcontent-%COMP%]{cursor:no-drop}div[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]{background:#faebd7;border-radius:5px}.origin-overlay[_ngcontent-%COMP%]   .qrcode-tooltip[_ngcontent-%COMP%]   .qrcode-tooltip-temp[_ngcontent-%COMP%]{padding:5px!important}.screen[_ngcontent-%COMP%]{display:block;height:80%;width:80%;margin-left:auto;margin-right:auto}.container[_ngcontent-%COMP%]{top:25%;width:100%;position:absolute}}"]})}return n})();const ZOe=["geo"];let JOe=(()=>{class n{static#e=this.text="";constructor(t,i,r,o,s){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.location=s,this.title="gestion-de-muestras-de-campo",this.data=[],this.res="",this.somethingChange=new Qe}ngOnInit(){this.route.params.subscribe(t=>{this.x=t.id,console.log(t),console.log(t.id)}),this.getData(),this.MyQuery()}handleRegister(t){this.addData(t),this.Home()}addData(t){var i=this;return _(function*(){console.log(t);const r=De(i.firestore,"muestras",t.codigo);wr(r,{codigo:t.codigo,cliente:t.cliente,fecha:t.fecha,cultivo:t.cultivo,tipo:t.tipo,fitopatogeno:t.fitopatogeno,repeticion:t.repeticion,coordenadas:t.coordenadas,sintomas:t.sintomas,comentarios:t.comentarios,project:i.pid}).then(()=>{alert("Data Sent")}).catch(o=>{alert(o.message)}),console.log(i.pid)})()}getData(){const t=Ie(this.firestore,"muestras");pe(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude),n.text=t.coords.latitude+", "+t.coords.longitude}getLocation(){var t=this;return _(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{t.res=n.text,console.log(t.res)},1e3)})()}MyQuery(){var t=this;return _(function*(){let i=t.x;const r=dn(Ie(t.firestore,"muestras"),tn("codigo","==",i)),o=yield pe(r);o.empty||o.forEach(s=>{t.item=s.data(),console.log(s.id," => ",s.data()),t.res=t.item.coordenadas,t.pid=t.item.project})})()}deleteData(t){const r=De(this.firestore,"muestras",this.x);Fn(r).then(()=>{alert("Data Deleted"),this.router.navigate(["user/muestras/"+this.pid])}).catch(o=>{alert(o.message)})}Home(){this.router.navigate(["user/projects"])}static#t=this.\u0275fac=function(i){return new(i||n)(E(Me),E(dt),E(Ge),E(ut),E(_i))};static#n=this.\u0275cmp=Te({type:n,selectors:[["app-muestras-edit"]],viewQuery:function(i,r){if(1&i&&zn(ZOe,5),2&i){let o;wn(o=Cn())&&(r.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:68,vars:11,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],["name","codigo","ngModel","","placeholder","codigo","id","codigo","type","codigo",1,"input-field",3,"ngModel","ngModelChange"],["name","cliente","ngModel","","placeholder","Cliente","id","cliente","type","cliente",1,"input-field",3,"ngModel","ngModelChange"],["name","fecha","ngModel","","placeholder","Fecha","id","fecha","type","fecha",1,"input-field",3,"ngModel","ngModelChange"],["name","cultivo","ngModel","","placeholder","Cultivo","id","cultivo","type","cultivo",1,"input-field",3,"ngModel","ngModelChange"],["list","tipos","name","tipo","ngModel","","placeholder","Tipo","id","tipo","type","tipo",1,"input-field",3,"ngModel","ngModelChange"],["id","tipos"],["value","Hibrido"],["value","Variedad"],["value","Clone"],["list","fitopatogenos","name","fitopatogeno","ngModel","","placeholder","Fitopat\xf3geno","id","fitopatogeno","type","fitopatogeno",1,"input-field",3,"ngModel","ngModelChange"],["id","fitopatogenos"],["value","Hongos"],["value","Bacterias"],["value","Virus"],["name","lote","ngModel","","placeholder","Lote","id","lote","type","lote",1,"input-field",3,"ngModel","ngModelChange"],["name","repeticion","ngModel","","placeholder","Repeticion","id","repeticion","type","repeticion",1,"input-field",3,"ngModel","ngModelChange"],["name","coordenadas","ngModel","","placeholder","Coordenadas","id","coordenadas","type","coordenadas",1,"input-field",3,"ngModel","ngModelChange"],[1,"bUbicacion",3,"click"],["src","../../../../assets/Ubicacion.png","alt","U"],["name","sintomas","ngModel","","placeholder","S\xedntomas","id","sintomas","rows","4","cols","50",3,"ngModel","ngModelChange"],["name","comentarios","ngModel","","placeholder","Comentarios","id","comentarios","rows","4","cols","50",3,"ngModel","ngModelChange"],[1,"boton"],[1,"botonrojo",3,"click"],[1,"blank"]],template:function(i,r){if(1&i){const o=Et();g(0,"p"),w(1,"muestras-edit works!"),p(),g(2,"h1",0),w(3,"Editar Muestra"),p(),g(4,"div",1)(5,"form",2,3),Q("ngSubmit",function(){Ne(o);const a=xn(6);return Fe(r.handleRegister(a.value))}),g(7,"div",4)(8,"div",5)(9,"span",6),w(10,"Codigo:"),p(),g(11,"input",7),it("ngModelChange",function(a){return ct(r.item.codigo,a)||(r.item.codigo=a),a}),p()(),g(12,"div",5)(13,"span",6),w(14,"Cliente:"),p(),g(15,"input",8),it("ngModelChange",function(a){return ct(r.item.cliente,a)||(r.item.cliente=a),a}),p()(),g(16,"div",5)(17,"span",6),w(18,"Fecha:"),p(),g(19,"input",9),it("ngModelChange",function(a){return ct(r.item.fecha,a)||(r.item.fecha=a),a}),p()(),g(20,"div",5)(21,"span",6),w(22,"Cultivo:"),p(),g(23,"input",10),it("ngModelChange",function(a){return ct(r.item.cultivo,a)||(r.item.cultivo=a),a}),p()(),g(24,"div",5)(25,"span",6),w(26,"Tipo:"),p(),g(27,"input",11),it("ngModelChange",function(a){return ct(r.item.tipo,a)||(r.item.tipo=a),a}),p(),g(28,"datalist",12),te(29,"option",13)(30,"option",14)(31,"option",15),p()(),g(32,"div",5)(33,"span",6),w(34,"Fitopat\xf3geno:"),p(),g(35,"input",16),it("ngModelChange",function(a){return ct(r.item.fitopatogeno,a)||(r.item.fitopatogeno=a),a}),p(),g(36,"datalist",17),te(37,"option",18)(38,"option",19)(39,"option",20),p()(),g(40,"div",5)(41,"span",6),w(42,"Lote:"),p(),g(43,"input",21),it("ngModelChange",function(a){return ct(r.item.lote,a)||(r.item.lote=a),a}),p()(),g(44,"div",5)(45,"span",6),w(46,"Repetici\xf3n:"),p(),g(47,"input",22),it("ngModelChange",function(a){return ct(r.item.repeticion,a)||(r.item.repeticion=a),a}),p()(),g(48,"div",5)(49,"span",6),w(50,"Coordenadas:"),p(),g(51,"input",23),it("ngModelChange",function(a){return ct(r.res,a)||(r.res=a),a}),p(),g(52,"div",24),Q("click",function(){return r.getLocation()}),te(53,"img",25),p()(),g(54,"div",5)(55,"span",6),w(56,"S\xedntomas:"),p(),g(57,"textarea",26),it("ngModelChange",function(a){return ct(r.item.sintomas,a)||(r.item.sintomas=a),a}),p()(),g(58,"div",5)(59,"span",6),w(60,"Comentarios:"),p(),g(61,"textarea",27),it("ngModelChange",function(a){return ct(r.item.comentarios,a)||(r.item.comentarios=a),a}),w(62," "),p()(),g(63,"button",28),w(64,"Editar Muestra"),p(),g(65,"button",29),Q("click",function(){return r.deleteData(r.item.id)}),w(66," Delete "),p()(),te(67,"div",30),p()()}2&i&&(z(11),nt("ngModel",r.item.codigo),z(4),nt("ngModel",r.item.cliente),z(4),nt("ngModel",r.item.fecha),z(4),nt("ngModel",r.item.cultivo),z(4),nt("ngModel",r.item.tipo),z(8),nt("ngModel",r.item.fitopatogeno),z(8),nt("ngModel",r.item.lote),z(4),nt("ngModel",r.item.repeticion),z(4),nt("ngModel",r.res),z(6),nt("ngModel",r.item.sintomas),z(4),nt("ngModel",r.item.comentarios))},dependencies:[ei,wp,Cp,Ji,Or,Jn,mr,Sn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;padding-top:2px;width:75%;height:72%;flex-shrink:0;position:absolute;left:15%;top:24%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;padding-top:7px;width:90%;left:5%;top:0%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:85%;height:20px;left:92px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;text-shadow:2px 2px 5px black;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:39%;top:16%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{margin:2%;background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:90%;top:100%}.botonrojo[_ngcontent-%COMP%]{margin:2%;background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:0%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.input-field[_ngcontent-%COMP%]{margin:6px 6px 6px 24px;height:20px;left:92px;color:#000;font-family:Arial;font-size:16px;letter-spacing:0;text-overflow:ellipsis}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:6px 6px 6px 22px;font-family:Arial;width:85%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:3%;top:2%}.Text[_ngcontent-%COMP%]{color:#000;height:20px;font-family:Arial;font-size:16px;letter-spacing:0}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:95%;height:95%;flex-shrink:0;position:absolute;left:2.5%;top:30%}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:67%;top:105%;border:none;float:right;background-color:#3eb3c2;color:#fff;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:12px;left:0%;top:105%}.blank[_ngcontent-%COMP%]{width:100%;height:16px;position:absolute;left:0%;top:110%}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}@media only screen and (min-width: 1536px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:960px;height:660px;flex-shrink:0;position:absolute;left:50%;top:50%;transform:translate(-50%,-36%)}.subTituloText[_ngcontent-%COMP%]{position:absolute;left:52%;transform:translate(-50%)}}"]})}return n})();const ePe=["geo"];let tPe=(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.location=s,this.title="gestion-de-muestras-de-campo",this.data=[],this.somethingChange=new Qe,this.getData(),this.MyQuery()}ngOnInit(){this.route.params.subscribe(t=>{this.text=t.id,console.log(t),console.log(t.id)}),this.getData(),this.MyQuery()}handleRegister(t){this.addData(t)}addData(t){const i=De(this.firestore,"muestras",t.codigo);vr(i,t).then(()=>{alert("Data Sent")}).catch(r=>{alert(r.message)}),console.log(t.comentarios)}getData(){const t=Ie(this.firestore,"muestras");pe(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude)}getLocation(){var t=this;return _(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{console.log(t.res)},1e3)})()}MyQuery(){var t=this;return _(function*(){let i=t.text;const r=dn(Ie(t.firestore,"muestras"),tn("codigo","==",i)),o=yield pe(r);o.empty||o.forEach(s=>{t.item=s.data(),console.log(s.id," => ",s.data())})})()}editMuestra(){this.router.navigate(["user/muestras-edit/"+this.text])}deleteData(t){const i=De(this.firestore,"users",t);Fn(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}backPage(){this.location.back()}static#e=this.\u0275fac=function(i){return new(i||n)(E(Me),E(dt),E(Ge),E(ut),E(_i))};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-muestras-info"]],viewQuery:function(i,r){if(1&i&&zn(ePe,5),2&i){let o;wn(o=Cn())&&(r.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:60,vars:10,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],[1,"input-field"],[1,"boton",3,"click"]],template:function(i,r){if(1&i){const o=Et();g(0,"p"),w(1,"muestras-info works!"),p(),g(2,"h1",0),w(3,"Datos de la Muestra"),p(),g(4,"div",1)(5,"form",2,3),Q("ngSubmit",function(){Ne(o);const a=xn(6);return Fe(r.handleRegister(a.value))}),g(7,"div",4)(8,"div",5)(9,"span",6),w(10,"Codigo:"),p(),g(11,"span",7),w(12),p()(),g(13,"div",5)(14,"span",6),w(15,"Cliente:"),p(),g(16,"span",7),w(17),p()(),g(18,"div",5)(19,"span",6),w(20,"Fecha:"),p(),g(21,"span",7),w(22),p()(),g(23,"div",5)(24,"span",6),w(25,"Cultivo:"),p(),g(26,"span",7),w(27),p()(),g(28,"div",5)(29,"span",6),w(30,"Tipo:"),p(),g(31,"span",7),w(32),p()(),g(33,"div",5)(34,"span",6),w(35,"Fitopat\xf3geno:"),p(),g(36,"span",7),w(37),p()(),g(38,"div",5)(39,"span",6),w(40,"Lote:"),p(),g(41,"span",7),w(42),p()(),g(43,"div",5)(44,"span",6),w(45,"Repetici\xf3n:"),p(),g(46,"span",7),w(47),p()(),g(48,"div",5)(49,"span",6),w(50,"S\xedntomas:"),p(),g(51,"span",7),w(52),p()(),g(53,"div",5)(54,"span",6),w(55,"Comentarios:"),p(),g(56,"span",7),w(57),p()()()()(),g(58,"button",8),Q("click",function(){return r.editMuestra()}),w(59,"Editar Muestra"),p()}2&i&&(z(12),Ue(" ",r.item.codigo,""),z(5),Ue(" ",r.item.cliente,""),z(5),Ue(" ",r.item.fecha,""),z(5),Ue(" ",r.item.cultivo,""),z(5),Ue(" ",r.item.tipo,""),z(5),Ue(" ",r.item.fitopatogeno,""),z(5),Ue(" ",r.item.lote,""),z(5),Ue(" ",r.item.repeticion,""),z(5),Ue(" ",r.item.sintomas,""),z(5),Ue(" ",r.item.comentarios,""))},dependencies:[ei,Jn,Sn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:65%;height:62%;flex-shrink:0;position:absolute;left:25%;top:28%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:10%;top:2%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:12px 12px 12px 25px;height:20px;left:92px;color:#000;font-family:Arial;font-size:20px;letter-spacing:0}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;text-shadow:2px 2px 5px black;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:40%;top:20%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;height:25px;font-family:Arial;font-size:20px;font-weight:700;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:80%;top:92%}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:0%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.input-field[_ngcontent-%COMP%]{margin:6px 6px 6px 10px;height:20px;left:92px;color:#000;font-family:Arial;font-size:16px;letter-spacing:0;text-overflow:ellipsis}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:5%;top:2%}.Text[_ngcontent-%COMP%]{color:#000;height:20px;font-family:Arial;font-size:16px;letter-spacing:0}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:90%;height:55%;flex-shrink:0;position:absolute;left:5%;top:33%}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:67%;top:90%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:12px;left:0%;top:110%}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:25%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}@media only screen and (min-width: 1536px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:850px;height:560px;flex-shrink:0;position:absolute;left:50%;top:50%;transform:translate(-50%,-35%)}.subTituloText[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%)}.boton[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(310px)}}"]})}return n})();const nPe=["geo"];let iPe=(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.location=s,this.title="gestion-de-muestras-de-campo",this.data=[],this.somethingChange=new Qe}ngOnInit(){this.route.params.subscribe(t=>{this.text=t.id,console.log(t),console.log(t.id)}),this.getData(),this.MyQuery()}handleRegister(t){this.addData(t),this.Home()}randomCode(){let t="";for(let o=0;o<20;o++)t+="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".charAt(Math.floor(62*Math.random()));return t}addData(t){let i=t.integrantes.split(/[\s,]+/);const r=De(this.firestore,"projects",this.pid);vr(r,{name:t.name,cliente:t.cliente,owner:t.owner,integrantes:i}).then(()=>{alert("Data Sent")}).catch(o=>{alert(o.message)}),console.log(t.comentarios)}getData(){const t=Ie(this.firestore,"projects");pe(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude)}getLocation(){var t=this;return _(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{console.log(t.res)},1e3)})()}MyQuery(){var t=this;return _(function*(){let i=t.text;const r=dn(Ie(t.firestore,"projects"),tn("name","==",i));(yield pe(r)).forEach(s=>{t.item=s.data(),t.pid=s.id,console.log(s.id," => ",s.data())})})()}deleteData(t){const i=De(this.firestore,"projects",t);Fn(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}Home(){this.router.navigate(["user/projects"])}backPage(){this.location.back()}static#e=this.\u0275fac=function(i){return new(i||n)(E(Me),E(dt),E(Ge),E(ut),E(_i))};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-project-edit"]],viewQuery:function(i,r){if(1&i&&zn(nPe,5),2&i){let o;wn(o=Cn())&&(r.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:28,vars:4,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],["name","name","ngModel","","placeholder","Name","id","name","type","name",1,"input-field",3,"ngModel","ngModelChange"],["name","owner","ngModel","","placeholder","Owner","id","owner","type","owner",1,"input-field",3,"ngModel","ngModelChange"],["name","integrantes","ngModel","","placeholder","Integrantes","id","integrantes","type","integrantes",1,"input-field",3,"ngModel","ngModelChange"],["name","cliente","ngModel","","placeholder","Cliente","id","cliente","type","cliente",1,"input-field",3,"ngModel","ngModelChange"],[1,"boton"],[1,"botonrojo",3,"click"]],template:function(i,r){if(1&i){const o=Et();g(0,"p"),w(1,"project-edit works!"),p(),g(2,"h1",0),w(3,"Editar Projecto"),p(),g(4,"div",1)(5,"form",2,3),Q("ngSubmit",function(){Ne(o);const a=xn(6);return Fe(r.handleRegister(a.value))}),g(7,"div",4)(8,"div",5)(9,"span",6),w(10,"Nombre:"),p(),g(11,"input",7),it("ngModelChange",function(a){return ct(r.item.name,a)||(r.item.name=a),a}),p()(),g(12,"div",5)(13,"span",6),w(14,"Owner:"),p(),g(15,"input",8),it("ngModelChange",function(a){return ct(r.item.owner,a)||(r.item.owner=a),a}),p()(),g(16,"div",5)(17,"span",6),w(18,"Integrantes:"),p(),g(19,"input",9),it("ngModelChange",function(a){return ct(r.item.integrantes,a)||(r.item.integrantes=a),a}),p()(),g(20,"div",5)(21,"span",6),w(22,"Cliente:"),p(),g(23,"input",10),it("ngModelChange",function(a){return ct(r.item.cliente,a)||(r.item.cliente=a),a}),p()(),g(24,"button",11),w(25,"Editar Projecto"),p(),g(26,"button",12),Q("click",function(){return r.deleteData(r.pid)}),w(27," Delete "),p()()()()}2&i&&(z(11),nt("ngModel",r.item.name),z(4),nt("ngModel",r.item.owner),z(4),nt("ngModel",r.item.integrantes),z(4),nt("ngModel",r.item.cliente))},dependencies:[ei,Ji,Or,Jn,mr,Sn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:35%;flex-shrink:0;position:absolute;left:15%;top:30%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:5%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:85%;height:20px;left:92px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:35%;top:20%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:85%;top:110%}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:0%;top:110%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.input-field[_ngcontent-%COMP%]{margin:6px 6px 6px 20px;height:20px;width:50%;left:92px;color:#000;font-family:Arial;font-size:16px;letter-spacing:0;text-overflow:ellipsis}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:20px;font-family:Arial;font-size:16px;letter-spacing:0}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:90%;height:25%;flex-shrink:0;position:absolute;left:5%;top:45%}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:70%;top:110%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:12px;left:0%;top:110%}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:30%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}@media only screen and (min-width: 1536px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:900px;height:280px;flex-shrink:0;position:absolute;left:50%;top:45%;transform:translate(-50%,-50%)}.boton[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(310px)}.subTituloText[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%)}}"]})}return n})();function rPe(n,e){if(1&n){const t=Et();g(0,"tr")(1,"td"),w(2),p(),g(3,"td"),w(4),p(),g(5,"td"),w(6),p(),g(7,"td"),w(8),p(),g(9,"td")(10,"button",5),Q("click",function(){const o=Ne(t).$implicit;return Fe(sn().infoMuestra(o.codigo))}),p(),g(11,"button",6),Q("click",function(){const o=Ne(t).$implicit;return Fe(sn().editMuestra(o.codigo))}),p(),g(12,"button",7),Q("click",function(){const o=Ne(t).$implicit;return Fe(sn().Barcode(o.codigo))}),p()()()}if(2&n){const t=e.$implicit;z(2),He(t.codigo),z(2),He(t.fecha),z(2),He(t.cultivo),z(2),He(t.coordenadas)}}let oPe=(()=>{class n{constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.data=[],this.getData()}ngOnInit(){this.route.params.subscribe(t=>{this.item=t.id,console.log(t),console.log(t.id)})}getData(){const t=Ie(this.firestore,"muestras");pe(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}updateData(t){const i=De(this.firestore,"muestras",t);wr(i,{}).then(()=>{alert("Data updated"),this.getData()}).catch(r=>{alert(r.message)})}deleteData(t){const i=De(this.firestore,"muestras",t);Fn(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["user/projects"])}logOut(){Ui(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}newMuestra(){this.router.navigate(["user/muestras-new"])}editMuestra(t){this.router.navigate(["user/muestras-edit/"+t])}infoProject(t){this.router.navigate(["user/project-edit/"+t])}infoMuestra(t){this.router.navigate(["user/muestras-info/"+t])}Barcode(t){this.router.navigate(["user/barcode/"+t])}MyQuery(){var t=this;return _(function*(){let i=t.item;t.pid=i,console.log(i);const r=dn(Ie(t.firestore,"muestras"),tn("project","==",i));pe(r).then(s=>{t.data=[...s.docs.map(a=>({...a.data(),id:a.id}))]}),(yield pe(r)).forEach(s=>{console.log(s.id," => ",s.data())})})()}static#e=this.\u0275fac=function(i){return new(i||n)(E(Me),E(dt),E(Ge),E(ut))};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-muestras-all"]],decls:20,vars:1,consts:[[1,"subTituloText"],[1,"scanbutton"],[1,"scantext",3,"click"],[1,"list"],[4,"ngFor","ngForOf"],[1,"detalles",3,"click"],[1,"edit",3,"click"],[1,"imprimir",3,"click"]],template:function(i,r){1&i&&(g(0,"p"),w(1,"muestras-all works!"),p(),g(2,"h1",0),w(3,"Muestras"),p(),g(4,"div",1)(5,"div",2),Q("click",function(){return r.Scan()}),w(6,"SCAN"),p()(),g(7,"div",3)(8,"table")(9,"tr")(10,"th"),w(11," Codigo "),p(),g(12,"th"),w(13," Fecha "),p(),g(14,"th"),w(15," Cultivo"),p(),g(16,"th"),w(17," Coordenadas "),p(),te(18,"th"),p(),Yn(19,rPe,13,4,"tr",4),p()()),2&i&&(z(19),Xn("ngForOf",r.data))},dependencies:[ho],styles:[".list[_ngcontent-%COMP%]{position:absolute;top:38%;left:50%;transform:translate(-50%)}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.projectBlock[_ngcontent-%COMP%]{width:auto;height:35px;background:#3ec28f;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:20px;font-weight:700;letter-spacing:0;cursor:pointer}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{cursor:pointer;width:153px;height:36px;top:30%;left:50%;transform:translate(-50%);position:absolute;background:#4c9eff;box-shadow:2px 2px 5px #000;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;text-shadow:2px 2px 5px black;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;top:20%;left:50%;transform:translate(-50%)}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;margin-left:2px;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.list[_ngcontent-%COMP%]{position:absolute;left:5%;top:40%;text-overflow:ellipsis;transform:none}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{transform:none;width:153px;height:36px;left:30%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{transform:none;cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:80%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;text-shadow:2px 2px 5px black;position:absolute;transform:none;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;left:30%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}return n})();const sPe=["geo"];let aPe=(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.location=s,this.title="gestion-de-muestras-de-campo",this.data=[],this.somethingChange=new Qe}ngOnInit(){this.route.params.subscribe(t=>{this.text=t.id,console.log(t),console.log(t.id)}),this.getData(),this.MyQuery()}handleRegister(t){this.addData(t)}randomCode(){let t="";for(let o=0;o<20;o++)t+="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".charAt(Math.floor(62*Math.random()));return t}addData(t){let i=t.integrantes.split(/[\s,]+/);const r=De(this.firestore,"projects",this.pid);vr(r,{name:t.name,cliente:t.cliente,owner:t.owner,integrantes:i}).then(()=>{alert("Data Sent")}).catch(o=>{alert(o.message)}),console.log(t.comentarios)}getData(){const t=Ie(this.firestore,"projects");pe(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude)}getLocation(){var t=this;return _(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{console.log(t.res)},1e3)})()}MyQuery(){var t=this;return _(function*(){let i=t.text;const r=dn(Ie(t.firestore,"projects"),tn("name","==",i));(yield pe(r)).forEach(s=>{t.item=s.data(),t.pid=s.id,console.log(s.id," => ",s.data())})})()}deleteData(t){const i=De(this.firestore,"projects",t);Fn(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}editProyecto(){this.router.navigate(["user/project-edit/"+this.text])}backPage(){this.location.back()}static#e=this.\u0275fac=function(i){return new(i||n)(E(Me),E(dt),E(Ge),E(ut),E(_i))};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-project-info"]],viewQuery:function(i,r){if(1&i&&zn(sPe,5),2&i){let o;wn(o=Cn())&&(r.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:30,vars:4,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],[1,"input-field"],[1,"boton",3,"click"]],template:function(i,r){if(1&i){const o=Et();g(0,"p"),w(1,"project-info works!"),p(),g(2,"h1",0),w(3,"Datos del Projecto"),p(),g(4,"div",1)(5,"form",2,3),Q("ngSubmit",function(){Ne(o);const a=xn(6);return Fe(r.handleRegister(a.value))}),g(7,"div",4)(8,"div",5)(9,"span",6),w(10,"Nombre:"),p(),g(11,"span",7),w(12),p()(),g(13,"div",5)(14,"span",6),w(15,"Owner:"),p(),g(16,"span",7),w(17),p()(),g(18,"div",5)(19,"span",6),w(20,"Integrantes:"),p(),g(21,"span",7),w(22),p()(),g(23,"div",5)(24,"span",6),w(25,"Cliente:"),p(),g(26,"span",7),w(27),p()()()()(),g(28,"button",8),Q("click",function(){return r.editProyecto()}),w(29,"Editar Proyecto"),p()}2&i&&(z(12),Ue(" ",r.item.name,""),z(5),Ue(" ",r.item.owner,""),z(5),Ue(" ",r.item.integrantes,""),z(5),Ue(" ",r.item.cliente,""))},dependencies:[ei,Jn,Sn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:25%;flex-shrink:0;position:absolute;left:15%;top:30%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:5%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:12px 12px 12px 25px;height:20px;left:92px;color:#000;font-family:Arial;font-size:20px;letter-spacing:0}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:35%;top:20%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:80%;top:60%}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:0%;top:110%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.input-field[_ngcontent-%COMP%]{margin:6px 6px 6px 20px;height:20px;width:50%;left:92px;color:#000;font-family:Arial;font-size:16px;letter-spacing:0;text-overflow:ellipsis}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:20px;font-family:Arial;font-size:16px;letter-spacing:0}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:90%;height:25%;flex-shrink:0;position:absolute;left:5%;top:45%}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:70%;top:75%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:30%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}@media only screen and (min-width: 1536px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:900px;height:260px;flex-shrink:0;position:absolute;left:50%;top:45%;transform:translate(-50%,-50%)}.boton[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(310px)}.subTituloText[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%)}}"]})}return n})();function cPe(n,e){if(1&n){const t=Et();g(0,"tr")(1,"td"),w(2),p(),g(3,"td"),w(4),p(),g(5,"td"),w(6),p(),g(7,"td"),w(8),p(),g(9,"td")(10,"button",8),Q("click",function(){const o=Ne(t).$implicit,s=sn();return Fe(s.Muestras(s.pid,o.codigo))}),p(),g(11,"button",9),Q("click",function(){const o=Ne(t).$implicit;return Fe(sn().infoUnidad(o.codigo))}),p(),g(12,"button",10),Q("click",function(){const o=Ne(t).$implicit;return Fe(sn().editUnidad(o.codigo))}),p()()()}if(2&n){const t=e.$implicit;z(2),He(t.codigo),z(2),He(t.cliente),z(2),He(t.altitud),z(2),He(t.coordenadas)}}let lPe=(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.location=s,this.data=[]}ngOnInit(){this.route.params.subscribe(t=>{this.pid=t.id,console.log(t),console.log(t.id)}),this.MyQuery()}getData(){const t=Ie(this.firestore,"unidad-produccion");pe(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}updateData(t){const i=De(this.firestore,"unidad-produccion",t);wr(i,{}).then(()=>{alert("Data updated"),this.getData()}).catch(r=>{alert(r.message)})}deleteData(t){const i=De(this.firestore,"unidad-produccion",t);Fn(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["user/projects"])}Muestras(t,i){this.router.navigate(["user/muestras/"+t+"/"+i])}logOut(){Ui(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}newUnidad(t){this.router.navigate(["user/unidad-produccion-new/"+t])}editUnidad(t){this.router.navigate(["user/unidad-produccion-edit/"+t])}infoProject(t){this.router.navigate(["user/project-info/"+t])}infoUnidad(t){this.router.navigate(["user/unidad-produccion-info/"+t])}MyQuery(){var t=this;return _(function*(){let i=t.pid;console.log(i);const r=dn(Ie(t.firestore,"unidad-produccion"),tn("project","==",i));pe(r).then(s=>{t.data=[...s.docs.map(a=>({...a.data(),id:a.id}))]}),(yield pe(r)).forEach(s=>{console.log(s.id," => ",s.data())})})()}backPage(){this.location.back()}static#e=this.\u0275fac=function(i){return new(i||n)(E(Me),E(dt),E(Ge),E(ut),E(_i))};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-unidad-produccion"]],decls:25,vars:1,consts:[[1,"subTituloText"],[1,"scanbutton"],[1,"scantext",3,"click"],[1,"list"],[1,"projectBlock"],[4,"ngFor","ngForOf"],["id","agregar",1,"boton",3,"click"],["id","volver",1,"boton",3,"click"],[1,"muestras",3,"click"],[1,"detalles",3,"click"],[1,"edit",3,"click"]],template:function(i,r){1&i&&(g(0,"p"),w(1,"unidad-produccion works!"),p(),g(2,"h1",0),w(3,"Unidades "),p(),g(4,"div",1)(5,"div",2),Q("click",function(){return r.Scan()}),w(6,"SCAN"),p()(),g(7,"div",3)(8,"div",4),w(9,"Proyecto"),p(),g(10,"table")(11,"tr")(12,"th"),w(13," Codigo "),p(),g(14,"th"),w(15," Cliente "),p(),g(16,"th"),w(17," Altitud"),p(),g(18,"th"),w(19," Coordenadas "),p(),te(20,"th"),p(),Yn(21,cPe,13,4,"tr",5),p(),g(22,"button",6),Q("click",function(){return r.newUnidad(r.pid)}),w(23," Agregar "),p(),g(24,"button",7),Q("click",function(){return r.backPage()}),p()()),2&i&&(z(21),Xn("ngForOf",r.data))},dependencies:[ho],styles:[".list[_ngcontent-%COMP%]{position:absolute;left:38%;top:38%}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.projectBlock[_ngcontent-%COMP%]{width:60%;height:35px;background:#3ec28f;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:20px;font-weight:700;letter-spacing:0;cursor:pointer}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:153px;height:36px;left:49%;top:30%;position:absolute;background:#4c9eff;border-radius:30px;box-shadow:2px 2px 5px #000}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}#volver[_ngcontent-%COMP%]{position:absolute;left:0%;border:none;width:50px;height:50px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(back-button-Edit4.8567daeed3ab1418.png)}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;text-shadow:2px 2px 5px black;left:45%;top:20%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.projectBlock[_ngcontent-%COMP%]{width:40%;height:25px;background:#3ec28f;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:14px;font-weight:700;letter-spacing:0;cursor:pointer}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:153px;height:36px;left:30%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:80%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}#volver[_ngcontent-%COMP%]{position:absolute;left:0%}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;left:30%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}return n})();const uPe=["geo"];let dPe=(()=>{class n{static#e=this.text="";constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.title="gestion-de-muestras-de-campo",this.data=[],this.res="",this.somethingChange=new Qe}ngOnInit(){this.route.params.subscribe(t=>{this.pid=t.id})}handleRegister(t){this.addData(t)}addData(t){const i=De(this.firestore,"unidad-produccion",t.codigo);vr(i,{codigo:t.codigo,cliente:t.cliente,fecha:t.fecha,cultivo:t.cultivo,tipo:t.tipo,fitopatogeno:t.fitopatogeno,estado:t.estado,coordenadas:t.coordenadas,sintomas:t.sintomas,comentarios:t.comentarios}).then(()=>{alert("Data Sent")}).catch(r=>{alert(r.message)}),console.log(t.comentarios)}getData(){const t=Ie(this.firestore,"unidad-produccion");pe(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude),n.text=t.coords.latitude+", "+t.coords.longitude,console.log(n.text)}getLocation(){var t=this;return _(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{t.res=n.text,console.log(t.res)},1e3)})()}static#t=this.\u0275fac=function(i){return new(i||n)(E(Me),E(dt),E(Ge),E(ut))};static#n=this.\u0275cmp=Te({type:n,selectors:[["app-unidad-produccion-new"]],viewQuery:function(i,r){if(1&i&&zn(uPe,5),2&i){let o;wn(o=Cn())&&(r.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:52,vars:1,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],["name","codigo","ngModel","","placeholder","codigo","id","codigo","type","codigo",1,"input-field"],["name","cliente","ngModel","","placeholder","Cliente","id","cliente","type","cliente",1,"input-field"],["name","coordenadas","ngModel","","placeholder","Coordenadas","id","coordenadas","type","coordenadas",1,"input-field",3,"ngModel","ngModelChange"],[1,"bUbicacion",3,"click"],["src","../../../../assets/Ubicacion.png","alt","U"],["name","localidad","ngModel","","placeholder","Localidad","id","localidad","type","localidad",1,"input-field"],["name","municipio","ngModel","","placeholder","Municipio","id","municipio","type","municipio",1,"input-field"],["name","estado","ngModel","","placeholder","Estado","id","estado","type","estado",1,"input-field"],["name","altitud","ngModel","","placeholder","Altitud","id","altitud","type","altitud",1,"input-field"],["name","tempmax","ngModel","","placeholder","Temperaturas M\xe1ximas","id","tempmax","type","tempmax",1,"input-field"],["name","tempmin","ngModel","","placeholder","Temperaturas M\xednimas","id","tempmin","type","tempmin",1,"input-field"],["name","precipitacion","ngModel","","placeholder","Precipitaci\xf3n","id","precipitacion","type","precipitacion",1,"input-field"],[1,"boton"]],template:function(i,r){if(1&i){const o=Et();g(0,"p"),w(1,"unidad-produccion-new works!"),p(),g(2,"h1",0),w(3,"Nueva Unidad"),p(),g(4,"div",1)(5,"form",2,3),Q("ngSubmit",function(){Ne(o);const a=xn(6);return Fe(r.handleRegister(a.value))}),g(7,"div",4)(8,"div",5)(9,"span",6),w(10,"Codigo:"),p(),te(11,"input",7),p(),g(12,"div",5)(13,"span",6),w(14,"Cliente:"),p(),te(15,"input",8),p(),g(16,"div",5)(17,"span",6),w(18,"Coordenadas:"),p(),g(19,"input",9),it("ngModelChange",function(a){return ct(r.res,a)||(r.res=a),a}),p(),g(20,"div",10),Q("click",function(){return r.getLocation()}),te(21,"img",11),p()(),g(22,"div",5)(23,"span",6),w(24,"Localidad:"),p(),te(25,"input",12),p(),g(26,"div",5)(27,"span",6),w(28,"Municipio:"),p(),te(29,"input",13),p(),g(30,"div",5)(31,"span",6),w(32,"Estado:"),p(),te(33,"input",14),p(),g(34,"div",5)(35,"span",6),w(36,"Altitud:"),p(),te(37,"input",15),p(),g(38,"div",5)(39,"span",6),w(40,"Temperaturas M\xe1ximas:"),p(),te(41,"input",16),p(),g(42,"div",5)(43,"span",6),w(44,"Temperaturas M\xednimas:"),p(),te(45,"input",17),p(),g(46,"div",5)(47,"span",6),w(48,"Precipitaci\xf3n:"),p(),te(49,"input",18),p(),g(50,"button",19),w(51,"Crear Unidad"),p()()()()}2&i&&(z(19),nt("ngModel",r.res))},dependencies:[ei,Ji,Or,Jn,mr,Sn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:85%;height:60%;flex-shrink:0;position:absolute;left:7%;top:30%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:3%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:85%;height:20px;left:92px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;text-shadow:2px 2px 5px black;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:35%;top:19%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:88%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:85%;height:50%;flex-shrink:0;position:absolute;left:7%;top:30%}.input-field[_ngcontent-%COMP%]{margin:10px 10px 10px 20px;width:85%;height:20px;left:92px}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:20px;font-family:Arial;font-size:16px;letter-spacing:0}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:3%;top:3%}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:75%;top:110%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}@media only screen and (min-width: 1536px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:1100px;height:550px;flex-shrink:0;position:absolute;left:50%;top:50%;transform:translate(-50%,-40%)}.subTituloText[_ngcontent-%COMP%]{position:absolute;left:52%;transform:translate(-50%)}}"]})}return n})();const hPe=["geo"];let fPe=(()=>{class n{static#e=this.text="";constructor(t,i,r,o,s){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.location=s,this.title="gestion-de-muestras-de-campo",this.data=[],this.res="",this.somethingChange=new Qe}ngOnInit(){this.route.params.subscribe(t=>{this.x=t.id,console.log(t),console.log(t.id)}),this.getData(),this.MyQuery()}handleRegister(t){this.addData(t),this.Home()}addData(t){var i=this;return _(function*(){console.log(t);const r=De(i.firestore,"unidad-produccion",t.codigo);wr(r,{codigo:t.codigo,cliente:t.cliente,fecha:t.fecha,cultivo:t.cultivo,tipo:t.tipo,fitopatogeno:t.fitopatogeno,estado:t.estado,coordenadas:t.coordenadas,sintomas:t.sintomas,comentarios:t.comentarios,project:i.pid}).then(()=>{alert("Data Sent")}).catch(o=>{alert(o.message)}),console.log(i.pid)})()}getData(){const t=Ie(this.firestore,"unidad-produccion");pe(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude),n.text=t.coords.latitude+", "+t.coords.longitude}getLocation(){var t=this;return _(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{t.res=n.text,console.log(t.res)},1e3)})()}MyQuery(){var t=this;return _(function*(){let i=t.x;const r=dn(Ie(t.firestore,"unidad-produccion"),tn("codigo","==",i)),o=yield pe(r);o.empty||o.forEach(s=>{t.item=s.data(),console.log(s.id," => ",s.data()),t.res=t.item.coordenadas,t.pid=t.item.project})})()}deleteData(t){const r=De(this.firestore,"unidad-produccion",this.x);Fn(r).then(()=>{alert("Data Deleted"),this.router.navigate(["user/unidad-produccion/"+this.pid])}).catch(o=>{alert(o.message)})}Home(){this.router.navigate(["user/projects"])}backPage(){this.location.back()}static#t=this.\u0275fac=function(i){return new(i||n)(E(Me),E(dt),E(Ge),E(ut),E(_i))};static#n=this.\u0275cmp=Te({type:n,selectors:[["app-unidad-produccion-edit"]],viewQuery:function(i,r){if(1&i&&zn(hPe,5),2&i){let o;wn(o=Cn())&&(r.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:64,vars:10,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],["name","codigo","ngModel","","placeholder","codigo","id","codigo","type","codigo",1,"input-field",3,"ngModel","ngModelChange"],["name","cliente","ngModel","","placeholder","Cliente","id","cliente","type","cliente",1,"input-field",3,"ngModel","ngModelChange"],["name","fecha","ngModel","","placeholder","Fecha","id","fecha","type","fecha",1,"input-field",3,"ngModel","ngModelChange"],["name","cultivo","ngModel","","placeholder","Cultivo","id","cultivo","type","cultivo",1,"input-field",3,"ngModel","ngModelChange"],["list","tipos","name","tipo","ngModel","","placeholder","Tipo","id","tipo","type","tipo",1,"input-field",3,"ngModel","ngModelChange"],["id","tipos"],["value","Hibrido"],["value","Variedad"],["value","Clone"],["list","fitopatogenos","name","fitopatogeno","ngModel","","placeholder","Fitopat\xf3geno","id","fitopatogeno","type","fitopatogeno",1,"input-field",3,"ngModel","ngModelChange"],["id","fitopatogenos"],["value","Hongos"],["value","Bacterias"],["value","Virus"],["name","estado","ngModel","","placeholder","Estado","id","estado","type","estado",1,"input-field",3,"ngModel","ngModelChange"],["name","coordenadas","ngModel","","placeholder","Coordenadas","id","coordenadas","type","coordenadas",1,"input-field",3,"ngModel","ngModelChange"],[1,"bUbicacion",3,"click"],["src","../../../../assets/Ubicacion.png","alt","U"],["name","sintomas","ngModel","","placeholder","S\xedntomas","id","sintomas","rows","4","cols","50",3,"ngModel","ngModelChange"],["name","comentarios","ngModel","","placeholder","Comentarios","id","comentarios","rows","4","cols","50",3,"ngModel","ngModelChange"],[1,"boton"],[1,"botonrojo",3,"click"],[1,"blank"]],template:function(i,r){if(1&i){const o=Et();g(0,"p"),w(1,"unidad-produccion-edit works!"),p(),g(2,"h1",0),w(3,"Editar Unidad"),p(),g(4,"div",1)(5,"form",2,3),Q("ngSubmit",function(){Ne(o);const a=xn(6);return Fe(r.handleRegister(a.value))}),g(7,"div",4)(8,"div",5)(9,"span",6),w(10,"Codigo:"),p(),g(11,"input",7),it("ngModelChange",function(a){return ct(r.item.codigo,a)||(r.item.codigo=a),a}),p()(),g(12,"div",5)(13,"span",6),w(14,"Cliente:"),p(),g(15,"input",8),it("ngModelChange",function(a){return ct(r.item.cliente,a)||(r.item.cliente=a),a}),p()(),g(16,"div",5)(17,"span",6),w(18,"Fecha:"),p(),g(19,"input",9),it("ngModelChange",function(a){return ct(r.item.fecha,a)||(r.item.fecha=a),a}),p()(),g(20,"div",5)(21,"span",6),w(22,"Cultivo:"),p(),g(23,"input",10),it("ngModelChange",function(a){return ct(r.item.cultivo,a)||(r.item.cultivo=a),a}),p()(),g(24,"div",5)(25,"span",6),w(26,"Tipo:"),p(),g(27,"input",11),it("ngModelChange",function(a){return ct(r.item.tipo,a)||(r.item.tipo=a),a}),p(),g(28,"datalist",12),te(29,"option",13)(30,"option",14)(31,"option",15),p()(),g(32,"div",5)(33,"span",6),w(34,"Fitopat\xf3geno:"),p(),g(35,"input",16),it("ngModelChange",function(a){return ct(r.item.fitopatogeno,a)||(r.item.fitopatogeno=a),a}),p(),g(36,"datalist",17),te(37,"option",18)(38,"option",19)(39,"option",20),p()(),g(40,"div",5)(41,"span",6),w(42,"Estado:"),p(),g(43,"input",21),it("ngModelChange",function(a){return ct(r.item.estado,a)||(r.item.estado=a),a}),p()(),g(44,"div",5)(45,"span",6),w(46,"Coordenadas:"),p(),g(47,"input",22),it("ngModelChange",function(a){return ct(r.res,a)||(r.res=a),a}),p(),g(48,"div",23),Q("click",function(){return r.getLocation()}),te(49,"img",24),p()(),g(50,"div",5)(51,"span",6),w(52,"S\xedntomas:"),p(),g(53,"textarea",25),it("ngModelChange",function(a){return ct(r.item.sintomas,a)||(r.item.sintomas=a),a}),p()(),g(54,"div",5)(55,"span",6),w(56,"Comentarios:"),p(),g(57,"textarea",26),it("ngModelChange",function(a){return ct(r.item.comentarios,a)||(r.item.comentarios=a),a}),w(58," "),p()(),g(59,"button",27),w(60,"Editar Unidad"),p(),g(61,"button",28),Q("click",function(){return r.deleteData(r.item.id)}),w(62," Delete "),p()(),te(63,"div",29),p()()}2&i&&(z(11),nt("ngModel",r.item.codigo),z(4),nt("ngModel",r.item.cliente),z(4),nt("ngModel",r.item.fecha),z(4),nt("ngModel",r.item.cultivo),z(4),nt("ngModel",r.item.tipo),z(8),nt("ngModel",r.item.fitopatogeno),z(8),nt("ngModel",r.item.estado),z(4),nt("ngModel",r.res),z(6),nt("ngModel",r.item.sintomas),z(4),nt("ngModel",r.item.comentarios))},dependencies:[ei,wp,Cp,Ji,Or,Jn,mr,Sn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:70%;flex-shrink:0;position:absolute;left:15%;top:25%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:3%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:85%;height:20px;left:92px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:35%;top:17%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:90%;top:100%}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:0%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.input-field[_ngcontent-%COMP%]{margin:6px 6px 6px 24px;height:20px;left:92px;color:#000;font-family:Arial;font-size:16px;letter-spacing:0;text-overflow:ellipsis}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:6px 6px 6px 22px;font-family:Arial;width:85%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:3%;top:2%}.Text[_ngcontent-%COMP%]{color:#000;height:20px;font-family:Arial;font-size:16px;letter-spacing:0}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:95%;height:85%;flex-shrink:0;position:absolute;left:2.5%;top:30%}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:67%;top:105%;border:none;float:right;background-color:#3eb3c2;color:#fff;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:12px;left:0%;top:105%}.blank[_ngcontent-%COMP%]{width:100%;height:16px;position:absolute;left:0%;top:110%}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}@media only screen and (min-width: 1536px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:700px;height:500px;flex-shrink:0;position:absolute;left:50%;top:50%;transform:translate(-50%,-40%)}.subTituloText[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%)}.boton[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(235px)}}@media only screen and (min-width: 1536px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:700px;height:500px;flex-shrink:0;position:absolute;left:50%;top:50%;transform:translate(-50%,-40%)}.subTituloText[_ngcontent-%COMP%]{position:absolute;left:52%;transform:translate(-50%)}}"]})}return n})();const pPe=["geo"];let gPe=(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.location=s,this.title="gestion-de-muestras-de-campo",this.data=[],this.somethingChange=new Qe,this.getData(),this.MyQuery()}ngOnInit(){this.route.params.subscribe(t=>{this.text=t.id,console.log(t),console.log(t.id)}),this.getData(),this.MyQuery()}handleRegister(t){this.addData(t)}addData(t){const i=De(this.firestore,"unidad-produccion",t.codigo);vr(i,t).then(()=>{alert("Data Sent")}).catch(r=>{alert(r.message)}),console.log(t.comentarios)}getData(){const t=Ie(this.firestore,"unidad-produccion");pe(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude)}getLocation(){var t=this;return _(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{console.log(t.res)},1e3)})()}MyQuery(){var t=this;return _(function*(){let i=t.text;const r=dn(Ie(t.firestore,"unidad-produccion"),tn("codigo","==",i)),o=yield pe(r);o.empty||o.forEach(s=>{t.item=s.data(),console.log(s.id," => ",s.data())})})()}editMuestra(){this.router.navigate(["user/unidad-produccion-edit/"+this.text])}deleteData(t){const i=De(this.firestore,"users",t);Fn(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}backPage(){this.location.back()}static#e=this.\u0275fac=function(i){return new(i||n)(E(Me),E(dt),E(Ge),E(ut),E(_i))};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-unidad-produccion-info"]],viewQuery:function(i,r){if(1&i&&zn(pPe,5),2&i){let o;wn(o=Cn())&&(r.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:60,vars:10,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],[1,"input-field"],[1,"boton",3,"click"]],template:function(i,r){if(1&i){const o=Et();g(0,"p"),w(1,"unidad-produccion-info works!"),p(),g(2,"h1",0),w(3,"Datos de la Unidad"),p(),g(4,"div",1)(5,"form",2,3),Q("ngSubmit",function(){Ne(o);const a=xn(6);return Fe(r.handleRegister(a.value))}),g(7,"div",4)(8,"div",5)(9,"span",6),w(10,"Codigo:"),p(),g(11,"span",7),w(12),p()(),g(13,"div",5)(14,"span",6),w(15,"Cliente:"),p(),g(16,"span",7),w(17),p()(),g(18,"div",5)(19,"span",6),w(20,"Coordenadas:"),p(),g(21,"span",7),w(22),p()(),g(23,"div",5)(24,"span",6),w(25,"Localidad:"),p(),g(26,"span",7),w(27),p()(),g(28,"div",5)(29,"span",6),w(30,"Municipio:"),p(),g(31,"span",7),w(32),p()(),g(33,"div",5)(34,"span",6),w(35,"Estado:"),p(),g(36,"span",7),w(37),p()(),g(38,"div",5)(39,"span",6),w(40,"Altitud:"),p(),g(41,"span",7),w(42),p()(),g(43,"div",5)(44,"span",6),w(45,"Temperaturas M\xe1ximas:"),p(),g(46,"span",7),w(47),p()(),g(48,"div",5)(49,"span",6),w(50,"Temperaturas M\xednimas:"),p(),g(51,"span",7),w(52),p()(),g(53,"div",5)(54,"span",6),w(55,"Precipitaci\xf3n:"),p(),g(56,"span",7),w(57),p()()()()(),g(58,"button",8),Q("click",function(){return r.editMuestra()}),w(59,"Editar Unidad"),p()}2&i&&(z(12),Ue(" ",r.item.codigo,""),z(5),Ue(" ",r.item.cliente,""),z(5),Ue(" ",r.item.coordenadas,""),z(5),Ue(" ",r.item.localidad,""),z(5),Ue(" ",r.item.municipio,""),z(5),Ue(" ",r.item.cliente,""),z(5),Ue(" ",r.item.altitud,""),z(5),Ue(" ",r.item.tempmax,""),z(5),Ue(" ",r.item.tempmin,""),z(5),Ue(" ",r.item.precipitacion,""))},dependencies:[ei,Jn,Sn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:65%;height:55%;flex-shrink:0;position:absolute;left:25%;top:30%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:10%;top:7%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:12px 12px 12px 25px;height:20px;left:92px;color:#000;font-family:Arial;font-size:20px;letter-spacing:0}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:40%;top:20%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;height:25px;font-family:Arial;font-size:20px;font-weight:700;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:80%;top:88%}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:0%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.input-field[_ngcontent-%COMP%]{margin:6px 6px 6px 15px;height:20px;left:92px;color:#000;font-family:Arial;font-size:16px;letter-spacing:0;text-overflow:ellipsis}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:5%;top:3%}.Text[_ngcontent-%COMP%]{color:#000;height:20px;font-family:Arial;font-size:16px;letter-spacing:0}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:90%;height:53%;flex-shrink:0;position:absolute;left:5%;top:35%}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:67%;top:90%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:12px;left:0%;top:110%}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:25%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}@media only screen and (min-width: 1536px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:700px;height:500px;flex-shrink:0;position:absolute;left:50%;top:50%;transform:translate(-50%,-40%)}.subTituloText[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%)}.boton[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(235px)}}"]})}return n})();function mPe(n,e){if(1&n){const t=Et();g(0,"tr")(1,"td"),w(2),p(),g(3,"td"),w(4),p(),g(5,"td"),w(6),p(),g(7,"td"),w(8),p(),g(9,"td")(10,"button",4),Q("click",function(){const o=Ne(t).$implicit;return Fe(sn().infoClients(o.email))}),p(),g(11,"button",5),Q("click",function(){const o=Ne(t).$implicit;return Fe(sn().editClients(o.email))}),p()()()}if(2&n){const t=e.$implicit;z(2),He(t.email),z(2),He(t.nombre),z(2),He(t.telefono),z(2),He(t.direccion)}}let _Pe=(()=>{class n{constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.data=[],this.getData()}ngOnInit(){this.route.params.subscribe(t=>{this.item=t.id,console.log(t),console.log(t.id)})}getData(){const t=Ie(this.firestore,"clientes");pe(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}updateData(t){const i=De(this.firestore,"muestras",t);wr(i,{}).then(()=>{alert("Data updated"),this.getData()}).catch(r=>{alert(r.message)})}deleteData(t){const i=De(this.firestore,"muestras",t);Fn(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["user/projects"])}logOut(){Ui(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}newClients(){this.router.navigate(["user/clients-new"])}editClients(t){this.router.navigate(["user/clients-edit/"+t])}infoClients(t){this.router.navigate(["user/clients-info/"+t])}infoMuestra(t){this.router.navigate(["user/muestras-info/"+t])}MyQuery(){var t=this;return _(function*(){let i=t.item;t.pid=i,console.log(i);const r=dn(Ie(t.firestore,"muestras"),tn("project","==",i));pe(r).then(s=>{t.data=[...s.docs.map(a=>({...a.data(),id:a.id}))]}),(yield pe(r)).forEach(s=>{console.log(s.id," => ",s.data())})})()}static#e=this.\u0275fac=function(i){return new(i||n)(E(Me),E(dt),E(Ge),E(ut))};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-clients"]],decls:19,vars:1,consts:[[1,"subTituloText"],[1,"list"],[4,"ngFor","ngForOf"],["id","agregar",1,"boton",3,"click"],[1,"detalles",3,"click"],[1,"edit",3,"click"]],template:function(i,r){1&i&&(g(0,"p"),w(1,"clients works!"),p(),g(2,"h1",0),w(3,"Clientes"),p(),g(4,"div",1)(5,"table")(6,"tr")(7,"th"),w(8," Email "),p(),g(9,"th"),w(10," Nombre "),p(),g(11,"th"),w(12," Telefono"),p(),g(13,"th"),w(14," Direccion "),p(),te(15,"th"),p(),Yn(16,mPe,12,4,"tr",2),p(),g(17,"button",3),Q("click",function(){return r.newClients()}),w(18," Agregar "),p()()),2&i&&(z(16),Xn("ngForOf",r.data))},dependencies:[ho],styles:[".list[_ngcontent-%COMP%]{position:absolute;top:32%;left:50%;transform:translate(-50%)}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.projectBlock[_ngcontent-%COMP%]{width:auto;height:35px;background:#3ec28f;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:20px;font-weight:700;letter-spacing:0;cursor:pointer}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:153px;height:36px;top:30%;left:50%;transform:translate(-50%);position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:126px;height:16px;left:50%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;text-shadow:2px 2px 5px black;position:absolute;margin:0;width:300px;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;top:20%;left:50%;transform:translate(-50%)}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;margin-left:2px;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.list[_ngcontent-%COMP%]{transform:none;position:absolute;left:2%;width:94%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{transform:none;width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{transform:none;width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{transform:none;position:absolute;left:80%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{transform:none;color:#3ec28f;text-shadow:2px 2px 5px black;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;left:30%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}return n})();const bPe=["geo"];let yPe=(()=>{class n{static#e=this.text="";constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.title="gestion-de-muestras-de-campo",this.data=[],this.res="",this.somethingChange=new Qe}ngOnInit(){this.route.params.subscribe(t=>{this.pid=t.id})}handleRegister(t){this.addData(t)}addData(t){const i=De(this.firestore,"clientes",t.email);vr(i,{email:t.email,nombre:t.nombre,fecha:t.fecha,telefono:t.telefono,direccion:t.direccion}).then(()=>{alert("Data Sent")}).catch(r=>{alert(r.message)}),console.log(t.comentarios)}getData(){const t=Ie(this.firestore,"muestras");pe(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude),n.text=t.coords.latitude+", "+t.coords.longitude,console.log(n.text)}getLocation(){var t=this;return _(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{t.res=n.text,console.log(t.res)},1e3)})()}static#t=this.\u0275fac=function(i){return new(i||n)(E(Me),E(dt),E(Ge),E(ut))};static#n=this.\u0275cmp=Te({type:n,selectors:[["app-clients-new"]],viewQuery:function(i,r){if(1&i&&zn(bPe,5),2&i){let o;wn(o=Cn())&&(r.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:26,vars:0,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],["name","email","ngModel","","placeholder","Email","id","emai","type","email",1,"input-field"],["name","nombre","ngModel","","placeholder","Nombre","id","nombre","type","nombre",1,"input-field"],["name","telefono","ngModel","","placeholder","Telefono","id","telefono","type","telefono",1,"input-field"],["name","direccion","ngModel","","placeholder","Direccion","id","direccion","type","direccion",1,"input-field"],[1,"boton"]],template:function(i,r){if(1&i){const o=Et();g(0,"p"),w(1,"clients-new works!"),p(),g(2,"h1",0),w(3,"Nuevo Cliente"),p(),g(4,"div",1)(5,"form",2,3),Q("ngSubmit",function(){Ne(o);const a=xn(6);return Fe(r.handleRegister(a.value))}),g(7,"div",4)(8,"div",5)(9,"span",6),w(10,"Email:"),p(),te(11,"input",7),p(),g(12,"div",5)(13,"span",6),w(14,"Nombre:"),p(),te(15,"input",8),p(),g(16,"div",5)(17,"span",6),w(18,"Telefono:"),p(),te(19,"input",9),p(),g(20,"div",5)(21,"span",6),w(22,"Direccion:"),p(),te(23,"input",10),p(),g(24,"button",11),w(25,"Crear Cliente"),p()()()()}},dependencies:[ei,Ji,Or,Jn,mr,Sn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:30%;flex-shrink:0;position:absolute;left:15%;top:30%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:3%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:85%;height:20px;left:92px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:35%;top:20%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:80%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:85%;height:50%;flex-shrink:0;position:absolute;left:7%;top:30%}.input-field[_ngcontent-%COMP%]{margin:10px 10px 10px 20px;width:85%;height:20px;left:92px}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:20px;font-family:Arial;font-size:16px;letter-spacing:0}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:3%;top:3%}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:75%;top:110%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}return n})();function vPe(n,e){if(1&n){const t=Et();g(0,"tr")(1,"td"),w(2),p(),g(3,"td"),w(4),p(),g(5,"td"),w(6),p(),g(7,"td"),w(8),p(),g(9,"td")(10,"button",6),Q("click",function(){const o=Ne(t).$implicit;return Fe(sn().Muestras(o.project,o.codigo))}),p(),g(11,"button",7),Q("click",function(){const o=Ne(t).$implicit;return Fe(sn().infoUnidad(o.codigo))}),p(),g(12,"button",8),Q("click",function(){const o=Ne(t).$implicit;return Fe(sn().editUnidad(o.codigo))}),p()()()}if(2&n){const t=e.$implicit;z(2),He(t.codigo),z(2),He(t.cliente),z(2),He(t.altitud),z(2),He(t.coordenadas)}}let wPe=(()=>{class n{constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.data=[],this.getData()}ngOnInit(){this.route.params.subscribe(t=>{this.pid=t.id,console.log(t),console.log(t.id)})}getData(){const t=Ie(this.firestore,"unidad-produccion");pe(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}updateData(t){const i=De(this.firestore,"unidad-produccion",t);wr(i,{}).then(()=>{alert("Data updated"),this.getData()}).catch(r=>{alert(r.message)})}deleteData(t){const i=De(this.firestore,"unidad-produccion",t);Fn(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["user/projects"])}Muestras(t,i){this.router.navigate(["user/muestras/"+t+"/"+i])}logOut(){Ui(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}newUnidad(t){this.router.navigate(["user/unidad-produccion-new/"+t])}editUnidad(t){this.router.navigate(["user/unidad-produccion-edit/"+t])}infoProject(t){this.router.navigate(["user/project-info/"+t])}infoUnidad(t){this.router.navigate(["user/unidad-produccion-info/"+t])}MyQuery(){var t=this;return _(function*(){let i=t.pid;console.log(i);const r=dn(Ie(t.firestore,"unidad-produccion"),tn("project","==",i));pe(r).then(s=>{t.data=[...s.docs.map(a=>({...a.data(),id:a.id}))]}),(yield pe(r)).forEach(s=>{console.log(s.id," => ",s.data())})})()}static#e=this.\u0275fac=function(i){return new(i||n)(E(Me),E(dt),E(Ge),E(ut))};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-unidad-produccion-all"]],decls:22,vars:1,consts:[[1,"subTituloText"],[1,"scanbutton"],[1,"scantext",3,"click"],[1,"list"],[4,"ngFor","ngForOf"],["id","agregar",1,"boton",3,"click"],[1,"muestras",3,"click"],[1,"detalles",3,"click"],[1,"edit",3,"click"]],template:function(i,r){1&i&&(g(0,"p"),w(1,"unidad-produccion-all works!"),p(),g(2,"h1",0),w(3,"Unidades de Producci\xf3n "),p(),g(4,"div",1)(5,"div",2),Q("click",function(){return r.Scan()}),w(6,"SCAN"),p()(),g(7,"div",3)(8,"table")(9,"tr")(10,"th"),w(11," Codigo "),p(),g(12,"th"),w(13," Cliente "),p(),g(14,"th"),w(15," Altitud"),p(),g(16,"th"),w(17," Coordenadas "),p(),te(18,"th"),p(),Yn(19,vPe,13,4,"tr",4),p(),g(20,"button",5),Q("click",function(){return r.newUnidad(r.pid)}),w(21," Agregar "),p()()),2&i&&(z(19),Xn("ngForOf",r.data))},dependencies:[ho],styles:[".list[_ngcontent-%COMP%]{position:absolute;left:50%;top:38%;transform:translate(-50%)}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.projectBlock[_ngcontent-%COMP%]{width:auto;height:35px;background:#3ec28f;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:20px;font-weight:700;letter-spacing:0;cursor:pointer}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{cursor:pointer;width:153px;height:36px;left:50%;top:30%;transform:translate(-50%);position:absolute;background:#4c9eff;box-shadow:2px 2px 5px #000;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;text-shadow:2px 2px 5px black;position:absolute;margin:0;width:650px;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;left:50%;top:20%;transform:translate(-50%)}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.list[_ngcontent-%COMP%]{position:absolute;left:2%;top:40%;text-overflow:ellipsis;transform:none}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:153px;height:36px;transform:none;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;transform:none;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:80%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;text-shadow:2px 2px 5px black;margin:0;height:64px;font-family:Verdana;font-size:28px;letter-spacing:0;transform:none;position:absolute;left:5%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}return n})();const CPe=["geo"];let xPe=(()=>{class n{static#e=this.text="";constructor(t,i,r,o,s){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.location=s,this.title="gestion-de-muestras-de-campo",this.data=[],this.res="",this.somethingChange=new Qe}ngOnInit(){this.route.params.subscribe(t=>{this.x=t.id,console.log(t),console.log(t.id)}),this.getData(),this.MyQuery()}handleRegister(t){this.addData(t),this.Home()}addData(t){var i=this;return _(function*(){console.log(t);const r=De(i.firestore,"clientes",t.email);wr(r,{email:t.email,nombre:t.nombre,fecha:t.fecha,telefono:t.telefono,direccion:t.direccion}).then(()=>{alert("Data Sent")}).catch(o=>{alert(o.message)}),console.log(i.pid)})()}getData(){const t=Ie(this.firestore,"clientes");pe(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude),n.text=t.coords.latitude+", "+t.coords.longitude}getLocation(){var t=this;return _(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{t.res=n.text,console.log(t.res)},1e3)})()}MyQuery(){var t=this;return _(function*(){let i=t.x;const r=dn(Ie(t.firestore,"clientes"),tn("email","==",i)),o=yield pe(r);o.empty||o.forEach(s=>{t.item=s.data(),console.log(s.id," => ",s.data()),t.res=t.item.coordenadas,t.pid=t.item.project})})()}deleteData(t){const r=De(this.firestore,"clientes",this.x);Fn(r).then(()=>{alert("Data Deleted"),this.router.navigate(["user/muestras/"+this.pid])}).catch(o=>{alert(o.message)})}Home(){this.router.navigate(["user/projects"])}backPage(){this.location.back()}static#t=this.\u0275fac=function(i){return new(i||n)(E(Me),E(dt),E(Ge),E(ut),E(_i))};static#n=this.\u0275cmp=Te({type:n,selectors:[["app-clients-edit"]],viewQuery:function(i,r){if(1&i&&zn(CPe,5),2&i){let o;wn(o=Cn())&&(r.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:26,vars:4,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],["name","email","ngModel","","placeholder","Email","id","emai","type","email",1,"input-field",3,"ngModel","ngModelChange"],["name","nombre","ngModel","","placeholder","Nombre","id","nombre","type","nombre",1,"input-field",3,"ngModel","ngModelChange"],["name","telefono","ngModel","","placeholder","Telefono","id","telefono","type","telefono",1,"input-field",3,"ngModel","ngModelChange"],["name","direccion","ngModel","","placeholder","Direccion","id","direccion","type","direccion",1,"input-field",3,"ngModel","ngModelChange"],[1,"boton"]],template:function(i,r){if(1&i){const o=Et();g(0,"p"),w(1,"clients-edit works!"),p(),g(2,"h1",0),w(3,"Nuevo Cliente"),p(),g(4,"div",1)(5,"form",2,3),Q("ngSubmit",function(){Ne(o);const a=xn(6);return Fe(r.handleRegister(a.value))}),g(7,"div",4)(8,"div",5)(9,"span",6),w(10,"Email:"),p(),g(11,"input",7),it("ngModelChange",function(a){return ct(r.item.email,a)||(r.item.email=a),a}),p()(),g(12,"div",5)(13,"span",6),w(14,"Nombre:"),p(),g(15,"input",8),it("ngModelChange",function(a){return ct(r.item.nombre,a)||(r.item.nombre=a),a}),p()(),g(16,"div",5)(17,"span",6),w(18,"Telefono:"),p(),g(19,"input",9),it("ngModelChange",function(a){return ct(r.item.telefono,a)||(r.item.telefono=a),a}),p()(),g(20,"div",5)(21,"span",6),w(22,"Direccion:"),p(),g(23,"input",10),it("ngModelChange",function(a){return ct(r.item.direccion,a)||(r.item.direccion=a),a}),p()(),g(24,"button",11),w(25,"Editar Cliente"),p()()()()}2&i&&(z(11),nt("ngModel",r.item.email),z(4),nt("ngModel",r.item.nombre),z(4),nt("ngModel",r.item.telefono),z(4),nt("ngModel",r.item.direccion))},dependencies:[ei,Ji,Or,Jn,mr,Sn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:30%;flex-shrink:0;position:absolute;left:15%;top:30%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:3%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:85%;height:20px;left:92px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:35%;top:20%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:80%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:50%;flex-shrink:0;position:absolute;left:15%;top:30%}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:75%;top:110%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}return n})();const EPe=["geo"],IPe=[{path:"user",component:kW,children:[{path:"projects",component:EOe},{path:"project-new",component:SOe},{path:"project-edit/:id",component:iPe},{path:"project-info/:id",component:aPe},{path:"barcode/:id",component:DOe},{path:"barcode-cantidad/:id",component:(()=>{class n{constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.data=[]}ngOnInit(){let t;this.route.params.subscribe(i=>{this.item=i.id,t=i.id,console.log(i),console.log(i.id),this.generateBarcode(t)})}generateBarcode(t){var i=t;console.log(t),console.log(i),this.res=i,Tm("#barcode",i,{format:"CODE128"})}toPrint(){this.router.navigate(["/print/"+this.res])}static#e=this.\u0275fac=function(i){return new(i||n)(E(Me),E(dt),E(Ge),E(ut))};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-barcode-cantidad"]],standalone:!0,features:[Po],decls:5,vars:0,consts:[["onclick","window.print(this)","id","barcode"],[1,"print",3,"click"]],template:function(i,r){1&i&&(g(0,"p"),w(1,"barcode-cantidad works!"),p(),T_(),te(2,"svg",0),dx(),g(3,"button",1),Q("click",function(){return r.toPrint()}),w(4,"Print"),p())},styles:[".main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:100%;left:5%;top:20%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.print[_ngcontent-%COMP%]{position:absolute;width:10%;left:45%;top:20%}svg[_ngcontent-%COMP%]{position:absolute;left:44%;top:35%}button[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:24px;font-weight:700;cursor:pointer;border-radius:30px}@media only screen and (max-width: 768px){.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:100%;left:5%;top:20%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.print[_ngcontent-%COMP%]{position:absolute;width:30%;left:40%;top:20%}svg[_ngcontent-%COMP%]{position:absolute;left:30%;top:35%}button[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:24px;font-weight:700;cursor:pointer;border-radius:30px}}"]})}return n})()},{path:"barcode-new",component:(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.location=s,this.data=[],this.num=1}ngOnInit(){let t;this.route.params.subscribe(i=>{this.item=i.id,t=i.id,this.generateBarcode(t)})}handleRegister(t){console.log(t.codigo),this.addData(t),this.Barcode(t.codigo)}generateBarcode(t){var r=t;this.res=r,Tm("#barcode",r,{format:"CODE128"})}generateSVG(t,i){for(let r=0;r<t;r++){const o=document.createElement("div"),s=document.createElement("svg");o.setAttribute("class","subcode"),s.setAttribute("id","barcode"+r),document.getElementById("codes")?.appendChild(s)}}addData(t){let i=De(this.firestore,"muestras",t.codigo);vr(i,{codigo:t.codigo}),t.id&&(i=De(this.firestore,"projects",t.id),vr(i,{name:t.id})),t.ud&&(i=De(this.firestore,"unidad-produccion",t.ud),vr(i,{codigo:t.ud}))}toPrint(t){this.router.navigate(["/print/"+this.res+"/"+t])}sleep(t){return _(function*(){return new Promise(i=>setTimeout(i,t))})()}backPage(){this.location.back()}Barcode(t){this.router.navigate(["user/barcode/"+t])}static#e=this.\u0275fac=function(i){return new(i||n)(E(Me),E(dt),E(Ge),E(ut),E(_i))};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-barcode-new"]],decls:31,vars:0,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"group1"],[1,"input-fields"],[1,"Text"],["name","id","ngModel","","placeholder","ID Projecto","id","id","type","id",1,"input-field"],[1,"Opcional"],["name","ud","ngModel","","placeholder","ID Unidad","id","ud","type","ud",1,"input-field"],[1,"group2"],["name","codigo","ngModel","","placeholder","Codigo","id","codigo","type","codigo",1,"input-field"],[1,"red"],[1,"print"],["id","volver",3,"click"]],template:function(i,r){if(1&i){const o=Et();g(0,"p"),w(1,"barcode-new works!"),p(),g(2,"h1",0),w(3,"Generar Codigo"),p(),g(4,"div",1)(5,"form",2,3),Q("ngSubmit",function(){Ne(o);const a=xn(6);return Fe(r.handleRegister(a.value))}),g(7,"div",4)(8,"div",5)(9,"div",6)(10,"span",7),w(11,"Projecto: "),p(),te(12,"input",8),g(13,"span",9),w(14," (opcional) "),p()(),g(15,"div",6)(16,"span",7),w(17,"Unidad de Producci\xf3n: "),p(),te(18,"input",10),g(19,"span",9),w(20," (opcional) "),p()()(),g(21,"div",11)(22,"div",6)(23,"span",7),w(24," Codigo: "),p(),te(25,"input",12),g(26,"span",13),w(27," * (obligatorio) "),p()()(),g(28,"button",14),w(29,"Generar"),p(),g(30,"button",15),Q("click",function(){return r.backPage()}),p()()()()}},dependencies:[ei,Ji,Or,Jn,mr,Sn],styles:[".main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;margin:10px;height:95%;width:95%}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:56px;letter-spacing:0;text-shadow:2px 2px 5px black;left:50%;top:20%;transform:translate(-50%)}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:650px;height:300px;flex-shrink:0;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.group2[_ngcontent-%COMP%]{display:inline}.input-fields[_ngcontent-%COMP%]{position:inherit;margin:25px 10px;top:25px}.Text[_ngcontent-%COMP%]{display:inline;font-family:Arial;text-align:center;font-size:24px;font-weight:700}.Opcional[_ngcontent-%COMP%]{display:inline;font-family:Arial;text-align:center;font-size:18px}.red[_ngcontent-%COMP%]{display:inline;font-family:Arial;text-align:center;font-size:18px;color:red}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{height:20px;width:35%;font-size:16px}.print[_ngcontent-%COMP%]{position:absolute;top:65%;left:75%}svg[_ngcontent-%COMP%]{position:absolute;left:44%;top:32%}button[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:24px;font-weight:700;cursor:pointer;border-radius:30px}#volver[_ngcontent-%COMP%]{font-size:16px;position:absolute;left:5%;top:65%;border:none;width:50px;height:50px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(back-button-Edit4.8567daeed3ab1418.png)}#barcode[_ngcontent-%COMP%]{display:inline;border:2px solid rgb(0,0,0);box-shadow:2px 2px 5px #000}@media only screen and (max-width: 768px){.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:60%;height:20%;left:36%;top:60%}.input-fields[_ngcontent-%COMP%]{position:inherit;width:130px;top:25px}.Text[_ngcontent-%COMP%]{display:inline;font-family:Arial;text-align:center;font-size:20px}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{height:20px;width:20px;font-size:16px}.print[_ngcontent-%COMP%]{position:absolute;left:33%;top:45%;font-size:16px}#test[_ngcontent-%COMP%]{position:absolute;left:30%;top:60%;display:none}#codes[_ngcontent-%COMP%]{position:absolute;left:30%;top:35%}svg[_ngcontent-%COMP%]{position:absolute;left:25%;top:30%;margin:15px 0}.space[_ngcontent-%COMP%]{height:200px}#barcode[_ngcontent-%COMP%]{display:inline;border:2px solid rgb(0,0,0);box-shadow:2px 2px 5px #000}button[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:20px;font-weight:700;cursor:pointer;border-radius:30px}#volver[_ngcontent-%COMP%]{font-size:16px;position:absolute;left:28%;top:70%;border:none;width:36px;height:36px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(back-button-Edit4.8567daeed3ab1418.png)}}"]})}return n})()},{path:"muestras/:id/:up",component:TOe},{path:"muestras-new/:id",component:kOe},{path:"muestras-edit/:id",component:JOe},{path:"muestras-info/:id",component:tPe},{path:"muestras-all",component:oPe},{path:"unidad-produccion/:id",component:lPe},{path:"unidad-produccion-new/:id",component:dPe},{path:"unidad-produccion-edit/:id",component:fPe},{path:"unidad-produccion-info/:id",component:gPe},{path:"unidad-produccion-all",component:wPe},{path:"clients",component:_Pe},{path:"clients-new",component:yPe},{path:"clients-edit/:id",component:xPe},{path:"clients-info/:id",component:(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.location=s,this.title="gestion-de-muestras-de-campo",this.data=[],this.somethingChange=new Qe,this.getData(),this.MyQuery()}ngOnInit(){this.route.params.subscribe(t=>{this.text=t.id,console.log(t),console.log(t.id)}),this.getData(),this.MyQuery()}handleRegister(t){this.addData(t)}addData(t){const i=De(this.firestore,"clientes",t.codigo);vr(i,t).then(()=>{alert("Data Sent")}).catch(r=>{alert(r.message)}),console.log(t.comentarios)}getData(){const t=Ie(this.firestore,"clientes");pe(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude)}getLocation(){var t=this;return _(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{console.log(t.res)},1e3)})()}MyQuery(){var t=this;return _(function*(){let i=t.text;const r=dn(Ie(t.firestore,"clientes"),tn("email","==",i)),o=yield pe(r);o.empty||o.forEach(s=>{t.item=s.data(),console.log(s.id," => ",s.data())})})()}editClients(){this.router.navigate(["user/clientes-edit/"+this.text])}deleteData(t){const i=De(this.firestore,"clientes",t);Fn(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}backPage(){this.location.back()}static#e=this.\u0275fac=function(i){return new(i||n)(E(Me),E(dt),E(Ge),E(ut),E(_i))};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-clients-info"]],viewQuery:function(i,r){if(1&i&&zn(EPe,5),2&i){let o;wn(o=Cn())&&(r.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:30,vars:4,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],[1,"input-field"],[1,"boton",3,"click"]],template:function(i,r){if(1&i){const o=Et();g(0,"p"),w(1,"clients-info works!"),p(),g(2,"h1",0),w(3,"Informacion del Cliente"),p(),g(4,"div",1)(5,"form",2,3),Q("ngSubmit",function(){Ne(o);const a=xn(6);return Fe(r.handleRegister(a.value))}),g(7,"div",4)(8,"div",5)(9,"span",6),w(10,"Email:"),p(),g(11,"span",7),w(12),p()(),g(13,"div",5)(14,"span",6),w(15,"Nombre:"),p(),g(16,"span",7),w(17),p()(),g(18,"div",5)(19,"span",6),w(20,"Telefono:"),p(),g(21,"span",7),w(22),p()(),g(23,"div",5)(24,"span",6),w(25,"Direccion:"),p(),g(26,"span",7),w(27),p()()()()(),g(28,"button",8),Q("click",function(){return r.editClients()}),w(29,"Editar Cliente"),p()}2&i&&(z(12),Ue(" ",r.item.email,""),z(5),Ue(" ",r.item.nombre,""),z(5),Ue(" ",r.item.telefono,""),z(5),Ue(" ",r.item.direccion,""))},dependencies:[ei,Jn,Sn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:25%;flex-shrink:0;position:absolute;left:15%;top:30%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:3%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:85%;height:20px;left:92px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:35%;top:20%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:80%;top:58%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:50%;flex-shrink:0;position:absolute;left:15%;top:30%}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:75%;top:110%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}return n})()},{path:"scan",component:XOe}]}];let TPe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ze({type:n});static#n=this.\u0275inj=Xe({imports:[Lo.forChild(IPe),Lo]})}return n})(),DPe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ze({type:n});static#n=this.\u0275inj=Xe({imports:[il,TPe,Ly,r2]})}return n})(),MPe=(()=>{class n{Hello(){console.log("hello")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ze({type:n});static#n=this.\u0275inj=Xe({imports:[il]})}return n})();function o2(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function YQ(n){return An((e,t)=>n<=t)}function KPe(n,e){return n===e}let QPe=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),YPe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ze({type:n});static#n=this.\u0275inj=Xe({providers:[QPe]})}return n})();function nC(n){return Array.isArray(n)?n:[n]}function ri(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Wh(n){return n instanceof gn?n.nativeElement:n}const XQ=new Set;let iu,ZPe=(()=>{class n{constructor(t,i){this._platform=t,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):eRe}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function JPe(n,e){if(!XQ.has(n))try{iu||(iu=document.createElement("style"),e&&(iu.nonce=e),iu.setAttribute("type","text/css"),document.head.appendChild(iu)),iu.sheet&&(iu.sheet.insertRule(`@media ${n} {body{ }}`,0),XQ.add(n))}catch(t){console.error(t)}}(t,this._nonce),this._matchMedia(t)}static#e=this.\u0275fac=function(i){return new(i||n)($(Mi),$(mx,8))};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function eRe(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let ZQ=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new Ct}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return JQ(nC(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let o=Vy(JQ(nC(t)).map(s=>this._registerQuery(s).observable));return o=yd(o.pipe(Hn(1)),o.pipe(YQ(1),function QQ(n,e=qp){return yn((t,i)=>{let r=null,o=null,s=null;const a=()=>{if(r){r.unsubscribe(),r=null;const l=o;o=null,i.next(l)}};function c(){const l=s+n,u=e.now();if(u<l)return r=this.schedule(void 0,l-u),void i.add(r);a()}t.subscribe(fn(i,l=>{o=l,s=e.now(),r||(r=e.schedule(c,n),i.add(r))},()=>{a(),i.complete()},void 0,()=>{o=r=null}))})}(0))),o.pipe(Pe(s=>{const a={matches:!1,breakpoints:{}};return s.forEach(({matches:c,query:l})=>{a.matches=a.matches||c,a.breakpoints[l]=c}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),o={observable:new qt(s=>{const a=c=>this._zone.run(()=>s.next(c));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(fT(i),Pe(({matches:s})=>({query:t,matches:s})),zy(this._destroySubject)),mql:i};return this._queries.set(t,o),o}static#e=this.\u0275fac=function(i){return new(i||n)($(ZPe),$(Ee))};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function JQ(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}const Kh_Medium="(min-width: 960px) and (max-width: 1279.98px)",Kh_Large="(min-width: 1280px) and (max-width: 1919.98px)";let s2=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function oRe(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const i=function rRe(n){try{return n.frameElement}catch{return null}}(function fRe(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(i&&(-1===iY(i)||!this.isVisible(i)))return!1;let r=t.nodeName.toLowerCase(),o=iY(t);return t.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function dRe(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,i){return function hRe(n){return!function aRe(n){return function lRe(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function sRe(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function cRe(n){return function uRe(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||nY(n))}(t)&&!this.isDisabled(t)&&(i?.ignoreVisibility||this.isVisible(t))}static#e=this.\u0275fac=function(i){return new(i||n)($(Mi))};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function nY(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function iY(n){if(!nY(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class rY{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,t,i,r,o=!1){this._element=e,this._checker=t,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const i=this._getFirstTabbableElement(t);return i?.focus(e),!!i}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=0;i<t.length;i++){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[i]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=t.length-1;i>=0;i--){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[i]):null;if(r)return r}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(Hn(1)).subscribe(e)}}let oY=(()=>{class n{constructor(t,i,r){this._checker=t,this._ngZone=i,this._document=r}create(t,i=!1){return new rY(t,this._checker,this._ngZone,this._document,i)}static#e=this.\u0275fac=function(i){return new(i||n)($(s2),$(Ee),$(lt))};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function sY(n){return 0===n.buttons||0===n.detail}function aY(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const pRe=new X("cdk-input-modality-detector-options"),gRe={ignoreKeys:[18,17,224,91,16]},Qh=bw({passive:!0,capture:!0});let mRe=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,i,r,o){this._platform=t,this._mostRecentTarget=null,this._modality=new lr(null),this._lastTouchMs=0,this._onKeydown=s=>{this._options?.ignoreKeys?.some(a=>a===s.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=bc(s))},this._onMousedown=s=>{Date.now()-this._lastTouchMs<650||(this._modality.next(sY(s)?"keyboard":"mouse"),this._mostRecentTarget=bc(s))},this._onTouchstart=s=>{aY(s)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=bc(s))},this._options={...gRe,...o},this.modalityDetected=this._modality.pipe(YQ(1)),this.modalityChanged=this.modalityDetected.pipe(function WPe(n,e=Ca){return n=n??KPe,yn((t,i)=>{let r,o=!0;t.subscribe(fn(i,s=>{const a=e(s);(o||!n(r,a))&&(o=!1,r=a,i.next(s))}))})}()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Qh),r.addEventListener("mousedown",this._onMousedown,Qh),r.addEventListener("touchstart",this._onTouchstart,Qh)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Qh),document.removeEventListener("mousedown",this._onMousedown,Qh),document.removeEventListener("touchstart",this._onTouchstart,Qh))}static#e=this.\u0275fac=function(i){return new(i||n)($(Mi),$(Ee),$(lt),$(pRe,8))};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var iC=function(n){return n[n.IMMEDIATE=0]="IMMEDIATE",n[n.EVENTUAL=1]="EVENTUAL",n}(iC||{});const bRe=new X("cdk-focus-monitor-default-options"),rC=bw({passive:!0,capture:!0});let a2=(()=>{class n{constructor(t,i,r,o,s){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Ct,this._rootNodeFocusAndBlurListener=a=>{for(let l=bc(a);l;l=l.parentElement)"focus"===a.type?this._onFocus(a,l):this._onBlur(a,l)},this._document=o,this._detectionMode=s?.detectionMode||iC.IMMEDIATE}monitor(t,i=!1){const r=Wh(t);if(!this._platform.isBrowser||1!==r.nodeType)return ve();const o=function hMe(n){if(function dMe(){if(null==kR){const n=typeof document<"u"?document.head:null;kR=!(!n||!n.createShadowRoot&&!n.attachShadow)}return kR}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),s=this._elementInfo.get(r);if(s)return i&&(s.checkChildren=!0),s.subject;const a={checkChildren:i,subject:new Ct,rootNode:o};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){const i=Wh(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const o=Wh(t);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([a,c])=>this._originChanged(a,i,c)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return this._detectionMode===iC.EVENTUAL||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,this._detectionMode===iC.IMMEDIATE&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),o=bc(t);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,rC),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,rC)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(zy(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,rC),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,rC),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,o)=>{(o===t||r.checkChildren&&o.contains(t))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const o=t.labels;if(o)for(let s=0;s<o.length;s++)if(o[s].contains(i))return!0;return!1}static#e=this.\u0275fac=function(i){return new(i||n)($(Ee),$(Mi),$(mRe),$(lt,8),$(bRe,8))};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ru=function(n){return n[n.NONE=0]="NONE",n[n.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",n[n.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",n}(ru||{});const lY="cdk-high-contrast-black-on-white",uY="cdk-high-contrast-white-on-black",c2="cdk-high-contrast-active";let dY=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=Z(ZQ).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return ru.NONE;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return ru.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return ru.BLACK_ON_WHITE}return ru.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(c2,lY,uY),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();i===ru.BLACK_ON_WHITE?t.add(c2,lY):i===ru.WHITE_ON_BLACK&&t.add(c2,uY)}}static#e=this.\u0275fac=function(i){return new(i||n)($(Mi),$(lt))};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),yRe=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(i){return new(i||n)($(dY))};static#t=this.\u0275mod=Ze({type:n});static#n=this.\u0275inj=Xe({imports:[YPe]})}return n})();const vRe=["addListener","removeListener"],wRe=["addEventListener","removeEventListener"],CRe=["on","off"];function e_(n,e,t,i){if(bt(t)&&(i=t,t=void 0),i)return e_(n,e,t).pipe(zI(i));const[r,o]=function IRe(n){return bt(n.addEventListener)&&bt(n.removeEventListener)}(n)?wRe.map(s=>a=>n[s](e,a,t)):function xRe(n){return bt(n.addListener)&&bt(n.removeListener)}(n)?vRe.map(hY(n,e)):function ERe(n){return bt(n.on)&&bt(n.off)}(n)?CRe.map(hY(n,e)):[];if(!r&&UI(n))return bi(s=>e_(s,e,t))(Ni(n));if(!r)throw new TypeError("Invalid event target");return new qt(s=>{const a=(...c)=>s.next(1<c.length?c:c[0]);return r(a),()=>o(a)})}function hY(n,e){return t=>i=>n[t](e,i)}const t_={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=t_;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(o=>{t=void 0,n(o)});return new si(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=t_;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=t_;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class DRe extends wv{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class TRe extends vv{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=t_.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:o}=e;null!=t&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==t&&(t_.cancelAnimationFrame(t),e._scheduled=void 0)}});let l2,SRe=1;const oC={};function fY(n){return n in oC&&(delete oC[n],!0)}const ARe={setImmediate(n){const e=SRe++;return oC[e]=!0,l2||(l2=Promise.resolve()),l2.then(()=>fY(e)&&n()),e},clearImmediate(n){fY(n)}},{setImmediate:kRe,clearImmediate:ORe}=ARe,sC={setImmediate(...n){const{delegate:e}=sC;return(e?.setImmediate||kRe)(...n)},clearImmediate(n){const{delegate:e}=sC;return(e?.clearImmediate||ORe)(n)},delegate:void 0};new class RRe extends wv{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class PRe extends vv{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=sC.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:o}=e;null!=t&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==t&&(sC.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}});function u2(n=0,e,t=d0e){let i=-1;return null!=e&&(Gj(e)?t=e:i=e),new qt(r=>{let o=function LRe(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function pY(n,e=qp){return function FRe(n){return yn((e,t)=>{let i=!1,r=null,o=null,s=!1;const a=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const l=r;r=null,t.next(l)}s&&t.complete()},c=()=>{o=null,s&&t.complete()};e.subscribe(fn(t,l=>{i=!0,r=l,o||Ni(n(l)).subscribe(o=fn(t,a,c))},()=>{s=!0,(!i||!o||o.closed)&&t.complete()}))})}(()=>u2(n,e))}const VRe=new X("cdk-dir-doc",{providedIn:"root",factory:function BRe(){return Z(lt)}}),URe=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let d2=(()=>{class n{constructor(t){this.value="ltr",this.change=new Qe,t&&(this.value=function jRe(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?URe.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(i){return new(i||n)($(VRe,8))};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),n_=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ze({type:n});static#n=this.\u0275inj=Xe({})}return n})(),$Re=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new Ct,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new qt(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(pY(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):ve()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(An(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,t)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=Wh(i),o=t.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>e_(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(i){return new(i||n)($(Ee),$(Mi),$(lt,8))};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),gY=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new Ct,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,o=r.getBoundingClientRect();return{top:-o.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(pY(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(i){return new(i||n)($(Mi),$(Ee),$(lt,8))};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),mY=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ze({type:n});static#n=this.\u0275inj=Xe({})}return n})(),_Y=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ze({type:n});static#n=this.\u0275inj=Xe({imports:[n_,mY,n_,mY]})}return n})();class h2{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class f2 extends h2{constructor(e,t,i,r,o){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=o}}class bY extends h2{constructor(e,t,i,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class GRe extends h2{constructor(e){super(),this.element=e instanceof gn?e.nativeElement:e}}class p2{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof f2?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof bY?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof GRe?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class qRe extends p2{constructor(e,t,i,r,o){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=s=>{const a=s.element,c=this._document.createComment("dom-portal");a.parentNode.insertBefore(c,a),this.outletElement.appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(a,c)})},this._document=o}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||Ut.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let g2=(()=>{class n extends p2{constructor(t,i,r){super(),this._componentFactoryResolver=t,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new Qe,this.attachDomPortal=o=>{const s=o.element,a=this._document.createComment("dom-portal");o.setAttachedHost(this),s.parentNode.insertBefore(a,s),this._getRootNode().appendChild(s),this._attachedPortal=o,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(s,a)})},this._document=r}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);const i=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,o=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),s=i.createComponent(o,i.length,t.injector||i.injector,t.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(s.hostView.rootNodes[0]),super.setDisposeFn(()=>s.destroy()),this._attachedPortal=t,this._attachedRef=s,this.attached.emit(s),s}attachTemplatePortal(t){t.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}static#e=this.\u0275fac=function(i){return new(i||n)(E(Gu),E(so),E(lt))};static#t=this.\u0275dir=me({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[st.None,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[yt]})}return n})(),aC=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ze({type:n});static#n=this.\u0275inj=Xe({})}return n})();function cC(...n){const e=mp(n),t=function ife(n,e){return"number"==typeof jI(n)?n.pop():e}(n,1/0),i=n;return i.length?1===i.length?Ni(i[0]):bd(t)(fi(i,e)):ls}const yY=uMe();class WRe{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=ri(-this._previousScrollPosition.left),e.style.top=ri(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,o=i.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),yY&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),yY&&(i.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class KRe{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0).pipe(An(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class vY{enable(){}disable(){}attach(){}}function m2(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function wY(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class QRe{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();m2(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let YRe=(()=>{class n{constructor(t,i,r,o){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new vY,this.close=s=>new KRe(this._scrollDispatcher,this._ngZone,this._viewportRuler,s),this.block=()=>new WRe(this._viewportRuler,this._document),this.reposition=s=>new QRe(this._scrollDispatcher,this._viewportRuler,this._ngZone,s),this._document=o}static#e=this.\u0275fac=function(i){return new(i||n)($($Re),$(gY),$(Ee),$(lt))};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class CY{constructor(e){if(this.scrollStrategy=new vY,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class XRe{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let xY=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(i){return new(i||n)($(lt))};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ZRe=(()=>{class n extends xY{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const o=this._attachedOverlays;for(let s=o.length-1;s>-1;s--)if(o[s]._keydownEvents.observers.length>0){const a=o[s]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(r)):a.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(i){return new(i||n)($(lt),$(Ee,8))};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),JRe=(()=>{class n extends xY{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=bc(o)},this._clickListener=o=>{const s=bc(o),a="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const c=this._attachedOverlays.slice();for(let l=c.length-1;l>-1;l--){const u=c[l];if(u._outsidePointerEvents.observers.length<1||!u.hasAttached())continue;if(u.overlayElement.contains(s)||u.overlayElement.contains(a))break;const d=u._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>d.next(o)):d.next(o)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(i){return new(i||n)($(lt),$(Mi),$(Ee,8))};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),_2=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||PR()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(t),PR()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}static#e=this.\u0275fac=function(i){return new(i||n)($(lt),$(Mi))};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class lC{constructor(e,t,i,r,o,s,a,c,l,u=!1){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=c,this._outsideClickDispatcher=l,this._animationsDisabled=u,this._backdropElement=null,this._backdropClick=new Ct,this._attachments=new Ct,this._detachments=new Ct,this._locationChanges=si.EMPTY,this._backdropClickHandler=d=>this._backdropClick.next(d),this._backdropTransitionendHandler=d=>{this._disposeBackdrop(d.target)},this._keydownEvents=new Ct,this._outsidePointerEvents=new Ct,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Hn(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=ri(this._config.width),e.height=ri(this._config.height),e.minWidth=ri(this._config.minWidth),e.minHeight=ri(this._config.minHeight),e.maxWidth=ri(this._config.maxWidth),e.maxHeight=ri(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,i){const r=nC(t||[]).filter(o=>!!o);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(zy(cC(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const EY="cdk-overlay-connected-position-bounding-box",eNe=/([A-Za-z%]+)$/;class tNe{get positions(){return this._preferredPositions}constructor(e,t,i,r,o){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Ct,this._resizeSubscription=si.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(EY),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let s;for(let a of this._preferredPositions){let c=this._getOriginPoint(e,r,a),l=this._getOverlayPoint(c,t,a),u=this._getOverlayFit(l,t,i,a);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,c);this._canFitWithFlexibleDimensions(u,l,i)?o.push({position:a,origin:c,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(c,a)}):(!s||s.overlayFit.visibleArea<u.visibleArea)&&(s={overlayFit:u,overlayPoint:l,originPoint:c,position:a,overlayRect:t})}if(o.length){let a=null,c=-1;for(const l of o){const u=l.boundingBoxRect.width*l.boundingBoxRect.height*(l.position.weight||1);u>c&&(c=u,a=l)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&ou(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(EY),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,o;if("center"==i.originX)r=e.left+e.width/2;else{const s=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;r="start"==i.originX?s:a}return t.left<0&&(r-=t.left),o="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(o-=t.top),{x:r,y:o}}_getOverlayPoint(e,t,i){let r,o;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,o="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+o}}_getOverlayFit(e,t,i,r){const o=TY(t);let{x:s,y:a}=e,c=this._getOffset(r,"x"),l=this._getOffset(r,"y");c&&(s+=c),l&&(a+=l);let h=0-a,f=a+o.height-i.height,b=this._subtractOverflows(o.width,0-s,s+o.width-i.width),x=this._subtractOverflows(o.height,h,f),I=b*x;return{visibleArea:I,isCompletelyWithinViewport:o.width*o.height===I,fitsInViewportVertically:x===o.height,fitsInViewportHorizontally:b==o.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,o=i.right-t.x,s=IY(this._overlayRef.getConfig().minHeight),a=IY(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=s&&s<=r)&&(e.fitsInViewportHorizontally||null!=a&&a<=o)}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=TY(t),o=this._viewportRect,s=Math.max(e.x+r.width-o.width,0),a=Math.max(e.y+r.height-o.height,0),c=Math.max(o.top-i.top-e.y,0),l=Math.max(o.left-i.left-e.x,0);let u=0,d=0;return u=r.width<=o.width?l||-s:e.x<this._viewportMargin?o.left-i.left-e.x:0,d=r.height<=o.height?c||-a:e.y<this._viewportMargin?o.top-i.top-e.y:0,this._previousPushAmount={x:u,y:d},{x:e.x+u,y:e.y+d}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._positionChanges.observers.length){const i=this._getScrollVisibility();if(e!==this._lastPosition||!this._lastScrollVisibility||!function nNe(n,e){return n===e||n.isOriginClipped===e.isOriginClipped&&n.isOriginOutsideView===e.isOriginOutsideView&&n.isOverlayClipped===e.isOverlayClipped&&n.isOverlayOutsideView===e.isOverlayOutsideView}(this._lastScrollVisibility,i)){const r=new XRe(e,i);this._positionChanges.next(r)}this._lastScrollVisibility=i}this._lastPosition=e,this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let o=0;o<t.length;o++)t[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let o,s,a,u,d,h;if("top"===t.overlayY)s=e.y,o=i.height-s+this._viewportMargin;else if("bottom"===t.overlayY)a=i.height-e.y+2*this._viewportMargin,o=i.height-a+this._viewportMargin;else{const f=Math.min(i.bottom-e.y+i.top,e.y),b=this._lastBoundingBoxSize.height;o=2*f,s=e.y-f,o>b&&!this._isInitialRender&&!this._growAfterOpen&&(s=e.y-b/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)h=i.width-e.x+2*this._viewportMargin,u=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)d=e.x,u=i.right-e.x;else{const f=Math.min(i.right-e.x+i.left,e.x),b=this._lastBoundingBoxSize.width;u=2*f,d=e.x-f,u>b&&!this._isInitialRender&&!this._growAfterOpen&&(d=e.x-b/2)}return{top:s,left:d,bottom:a,right:h,width:u,height:o}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=ri(i.height),r.top=ri(i.top),r.bottom=ri(i.bottom),r.width=ri(i.width),r.left=ri(i.left),r.right=ri(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=ri(o)),s&&(r.maxWidth=ri(s))}this._lastBoundingBoxSize=i,ou(this._boundingBox.style,r)}_resetBoundingBoxStyles(){ou(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){ou(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){const u=this._viewportRuler.getViewportScrollPosition();ou(i,this._getExactOverlayY(t,e,u)),ou(i,this._getExactOverlayX(t,e,u))}else i.position="static";let a="",c=this._getOffset(t,"x"),l=this._getOffset(t,"y");c&&(a+=`translateX(${c}px) `),l&&(a+=`translateY(${l}px)`),i.transform=a.trim(),s.maxHeight&&(r?i.maxHeight=ri(s.maxHeight):o&&(i.maxHeight="")),s.maxWidth&&(r?i.maxWidth=ri(s.maxWidth):o&&(i.maxWidth="")),ou(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=ri(o.y),r}_getExactOverlayX(e,t,i){let s,r={left:"",right:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),s=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===s?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=ri(o.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:wY(e,i),isOriginOutsideView:m2(e,i),isOverlayClipped:wY(t,i),isOverlayOutsideView:m2(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&nC(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof gn)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function ou(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function IY(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(eNe);return t&&"px"!==t?null:parseFloat(e)}return n||null}function TY(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const DY="cdk-global-overlay-wrapper";class iNe{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(DY),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:a}=i,c=!("100%"!==r&&"100vw"!==r||s&&"100%"!==s&&"100vw"!==s),l=!("100%"!==o&&"100vh"!==o||a&&"100%"!==a&&"100vh"!==a),u=this._xPosition,d=this._xOffset,h="rtl"===this._overlayRef.getConfig().direction;let f="",b="",x="";c?x="flex-start":"center"===u?(x="center",h?b=d:f=d):h?"left"===u||"end"===u?(x="flex-end",f=d):("right"===u||"start"===u)&&(x="flex-start",b=d):"left"===u||"start"===u?(x="flex-start",f=d):("right"===u||"end"===u)&&(x="flex-end",b=d),e.position=this._cssPosition,e.marginLeft=c?"0":f,e.marginTop=l?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=c?"0":b,t.justifyContent=x,t.alignItems=l?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(DY),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let rNe=(()=>{class n{constructor(t,i,r,o){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new iNe}flexibleConnectedTo(t){return new tNe(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(i){return new(i||n)($(gY),$(lt),$(Mi),$(_2))};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),oNe=0,su=(()=>{class n{constructor(t,i,r,o,s,a,c,l,u,d,h,f){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=s,this._injector=a,this._ngZone=c,this._document=l,this._directionality=u,this._location=d,this._outsideClickDispatcher=h,this._animationsModuleType=f}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),s=new CY(t);return s.direction=s.direction||this._directionality.value,new lC(o,i,r,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+oNe++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(os)),new qRe(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(i){return new(i||n)($(YRe),$(_2),$(Gu),$(rNe),$(ZRe),$(Ut),$(Ee),$(lt),$(d2),$(_i),$(JRe),$(jc,8))};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const sNe=new X("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{const n=Z(su);return()=>n.scrollStrategies.reposition()}}),cNe={provide:sNe,deps:[su],useFactory:function aNe(n){return()=>n.scrollStrategies.reposition()}};let lNe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ze({type:n});static#n=this.\u0275inj=Xe({providers:[su,cNe],imports:[n_,aC,_Y,_Y]})}return n})();function uNe(n,e){}class uC{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let MY=(()=>{class n extends p2{constructor(t,i,r,o,s,a,c,l){super(),this._elementRef=t,this._focusTrapFactory=i,this._config=o,this._interactivityChecker=s,this._ngZone=a,this._overlayRef=c,this._focusMonitor=l,this._platform=Z(Mi),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=Z(qu),this.attachDomPortal=u=>{this._portalOutlet.hasAttached();const d=this._portalOutlet.attachDomPortal(u);return this._contentAttached(),d},this._document=r,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(t){this._ariaLabelledByQueue.push(t),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(t){const i=this._ariaLabelledByQueue.indexOf(t);i>-1&&(this._ariaLabelledByQueue.splice(i,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(t){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(t);return this._contentAttached(),i}attachTemplatePortal(t){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(t);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{t.removeEventListener("blur",r),t.removeEventListener("mousedown",r),t.removeAttribute("tabindex")};t.addEventListener("blur",r),t.addEventListener("mousedown",r)})),t.focus(i)}_focusByCssSelector(t,i){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,i)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._config.restoreFocus;let i=null;if("string"==typeof t?i=this._document.querySelector(t):"boolean"==typeof t?i=t?this._elementFocusedBeforeDialogWasOpened:null:t&&(i=t),this._config.restoreFocus&&i&&"function"==typeof i.focus){const r=OR(),o=this._elementRef.nativeElement;(!r||r===this._document.body||r===o||o.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,i=OR();return t===i||t.contains(i)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=OR()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static#e=this.\u0275fac=function(i){return new(i||n)(E(gn),E(oY),E(lt,8),E(uC),E(s2),E(Ee),E(lC),E(a2))};static#t=this.\u0275cmp=Te({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(i,r){if(1&i&&zn(g2,7),2&i){let o;wn(o=Cn())&&(r._portalOutlet=o.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(i,r){2&i&&Sr("id",r._config.id||null)("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null)},standalone:!0,features:[yt,Po],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(i,r){1&i&&Yn(0,uNe,0,0,"ng-template",0)},dependencies:[g2],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return n})();class b2{constructor(e,t){this.overlayRef=e,this.config=t,this.closed=new Ct,this.disableClose=t.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=t.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!o2(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=e.detachments().subscribe(()=>{!1!==t.closeOnOverlayDetachments&&this.close()})}close(e,t){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=t?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),i.next(e),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",t=""){return this.overlayRef.updateSize({width:e,height:t}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}}const SY=new X("DialogScrollStrategy",{providedIn:"root",factory:()=>{const n=Z(su);return()=>n.scrollStrategies.block()}}),dNe=new X("DialogData"),hNe=new X("DefaultDialogConfig");let pNe=0,AY=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(t,i,r,o,s,a){this._overlay=t,this._injector=i,this._defaultOptions=r,this._parentDialog=o,this._overlayContainer=s,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Ct,this._afterOpenedAtThisLevel=new Ct,this._ariaHiddenElements=new Map,this.afterAllClosed=xp(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(fT(void 0))),this._scrollStrategy=a}open(t,i){(i={...this._defaultOptions||new uC,...i}).id=i.id||"cdk-dialog-"+pNe++,i.id&&this.getDialogById(i.id);const o=this._getOverlayConfig(i),s=this._overlay.create(o),a=new b2(s,i),c=this._attachContainer(s,a,i);return a.containerInstance=c,this._attachDialogContent(t,a,c,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(a),a.closed.subscribe(()=>this._removeOpenDialog(a,!0)),this.afterOpened.next(a),a}closeAll(){y2(this.openDialogs,t=>t.close())}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){y2(this._openDialogsAtThisLevel,t=>{!1===t.config.closeOnDestroy&&this._removeOpenDialog(t,!1)}),y2(this._openDialogsAtThisLevel,t=>t.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(t){const i=new CY({positionStrategy:t.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,width:t.width,height:t.height,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(i.backdropClass=t.backdropClass),i}_attachContainer(t,i,r){const o=r.injector||r.viewContainerRef?.injector,s=[{provide:uC,useValue:r},{provide:b2,useValue:i},{provide:lC,useValue:t}];let a;r.container?"function"==typeof r.container?a=r.container:(a=r.container.type,s.push(...r.container.providers(r))):a=MY;const c=new f2(a,r.viewContainerRef,Ut.create({parent:o||this._injector,providers:s}),r.componentFactoryResolver);return t.attach(c).instance}_attachDialogContent(t,i,r,o){if(t instanceof es){const s=this._createInjector(o,i,r,void 0);let a={$implicit:o.data,dialogRef:i};o.templateContext&&(a={...a,..."function"==typeof o.templateContext?o.templateContext():o.templateContext}),r.attachTemplatePortal(new bY(t,null,a,s))}else{const s=this._createInjector(o,i,r,this._injector),a=r.attachComponentPortal(new f2(t,o.viewContainerRef,s,o.componentFactoryResolver));i.componentRef=a,i.componentInstance=a.instance}}_createInjector(t,i,r,o){const s=t.injector||t.viewContainerRef?.injector,a=[{provide:dNe,useValue:t.data},{provide:b2,useValue:i}];return t.providers&&("function"==typeof t.providers?a.push(...t.providers(i,t,r)):a.push(...t.providers)),t.direction&&(!s||!s.get(d2,null,{optional:!0}))&&a.push({provide:d2,useValue:{value:t.direction,change:ve()}}),Ut.create({parent:s||o,providers:a})}_removeOpenDialog(t,i){const r=this.openDialogs.indexOf(t);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,s)=>{o?s.setAttribute("aria-hidden",o):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const i=t.parentElement.children;for(let r=i.length-1;r>-1;r--){const o=i[r];o!==t&&"SCRIPT"!==o.nodeName&&"STYLE"!==o.nodeName&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}static#e=this.\u0275fac=function(i){return new(i||n)($(su),$(Ut),$(hNe,8),$(n,12),$(_2),$(SY))};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function y2(n,e){let t=n.length;for(;t--;)e(n[t])}let gNe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ze({type:n});static#n=this.\u0275inj=Xe({providers:[AY],imports:[lNe,aC,yRe,aC]})}return n})(),PY=(()=>{class n{static#e=this.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)";static#t=this.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)";static#n=this.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)";static#i=this.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)"}return n})(),RY=(()=>{class n{static#e=this.COMPLEX="375ms";static#t=this.ENTERING="225ms";static#n=this.EXITING="195ms"}return n})();const _Ne=new X("mat-sanity-checks",{providedIn:"root",factory:function mNe(){return!0}});let bo=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!PR()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}static#e=this.\u0275fac=function(i){return new(i||n)($(dY),$(_Ne,8),$(lt))};static#t=this.\u0275mod=Ze({type:n});static#n=this.\u0275inj=Xe({imports:[n_,n_]})}return n})();var yo=function(n){return n[n.FADING_IN=0]="FADING_IN",n[n.VISIBLE=1]="VISIBLE",n[n.FADING_OUT=2]="FADING_OUT",n[n.HIDDEN=3]="HIDDEN",n}(yo||{});class ENe{constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=yo.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}}const NY=bw({passive:!0,capture:!0});class INe{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=bc(e);t&&this._events.get(e.type)?.forEach((i,r)=>{(r===t||r.contains(t))&&i.forEach(o=>o.handleEvent(e))})}}addHandler(e,t,i,r){const o=this._events.get(t);if(o){const s=o.get(i);s?s.add(r):o.set(i,new Set([r]))}else this._events.set(t,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,NY)})}removeHandler(e,t,i){const r=this._events.get(e);if(!r)return;const o=r.get(t);o&&(o.delete(i),0===o.size&&r.delete(t),0===r.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,NY)))}}const FY={enterDuration:225,exitDuration:150},LY=bw({passive:!0,capture:!0}),VY=["mousedown","touchstart"],BY=["mouseup","mouseleave","touchend","touchcancel"];class dC{static#e=this._eventManager=new INe;constructor(e,t,i,r){this._target=e,this._ngZone=t,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Wh(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...FY,...i.animation};i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const s=i.radius||function DNe(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),a=e-r.left,c=t-r.top,l=o.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=a-s+"px",u.style.top=c-s+"px",u.style.height=2*s+"px",u.style.width=2*s+"px",null!=i.color&&(u.style.backgroundColor=i.color),u.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(u);const d=window.getComputedStyle(u),f=d.transitionDuration,b="none"===d.transitionProperty||"0s"===f||"0s, 0s"===f||0===r.width&&0===r.height,x=new ENe(this,u,i,b);u.style.transform="scale3d(1, 1, 1)",x.state=yo.FADING_IN,i.persistent||(this._mostRecentTransientRipple=x);let I=null;return!b&&(l||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const k=()=>this._finishRippleTransition(x),M=()=>this._destroyRipple(x);u.addEventListener("transitionend",k),u.addEventListener("transitioncancel",M),I={onTransitionEnd:k,onTransitionCancel:M}}),this._activeRipples.set(x,I),(b||!l)&&this._finishRippleTransition(x),x}fadeOutRipple(e){if(e.state===yo.FADING_OUT||e.state===yo.HIDDEN)return;const t=e.element,i={...FY,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=yo.FADING_OUT,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Wh(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,VY.forEach(i=>{dC._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{BY.forEach(t=>{this._triggerElement.addEventListener(t,this,LY)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===yo.FADING_IN?this._startFadeOutTransition(e):e.state===yo.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=yo.VISIBLE,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=yo.HIDDEN,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=sY(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!aY(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;if(t)for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(e.state===yo.VISIBLE||e.config.terminateOnPointerUp&&e.state===yo.FADING_IN)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(VY.forEach(t=>dC._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&BY.forEach(t=>e.removeEventListener(t,this,LY)))}}const UY=new X("mat-ripple-global-options");let MNe=(()=>{class n{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,i,r,o,s){this._elementRef=t,this._animationMode=s,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new dC(this,i,t,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}static#e=this.\u0275fac=function(i){return new(i||n)(E(gn),E(Ee),E(Mi),E(UY,8),E(jc,8))};static#t=this.\u0275dir=me({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,r){2&i&&co("mat-ripple-unbounded",r.unbounded)},inputs:{color:[st.None,"matRippleColor","color"],unbounded:[st.None,"matRippleUnbounded","unbounded"],centered:[st.None,"matRippleCentered","centered"],radius:[st.None,"matRippleRadius","radius"],animation:[st.None,"matRippleAnimation","animation"],disabled:[st.None,"matRippleDisabled","disabled"],trigger:[st.None,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0})}return n})(),SNe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ze({type:n});static#n=this.\u0275inj=Xe({imports:[bo,bo]})}return n})();const jY={capture:!0},zY=["focus","click","mouseenter","touchstart"],v2="mat-ripple-loader-uninitialized",w2="mat-ripple-loader-class-name",$Y="mat-ripple-loader-centered",hC="mat-ripple-loader-disabled";let ANe=(()=>{class n{constructor(){this._document=Z(lt,{optional:!0}),this._animationMode=Z(jc,{optional:!0}),this._globalRippleOptions=Z(UY,{optional:!0}),this._platform=Z(Mi),this._ngZone=Z(Ee),this._hosts=new Map,this._onInteraction=t=>{if(!(t.target instanceof HTMLElement))return;const r=t.target.closest(`[${v2}]`);r&&this._createRipple(r)},this._ngZone.runOutsideAngular(()=>{for(const t of zY)this._document?.addEventListener(t,this._onInteraction,jY)})}ngOnDestroy(){const t=this._hosts.keys();for(const i of t)this.destroyRipple(i);for(const i of zY)this._document?.removeEventListener(i,this._onInteraction,jY)}configureRipple(t,i){t.setAttribute(v2,""),(i.className||!t.hasAttribute(w2))&&t.setAttribute(w2,i.className||""),i.centered&&t.setAttribute($Y,""),i.disabled&&t.setAttribute(hC,"")}getRipple(t){return this._hosts.get(t)||this._createRipple(t)}setDisabled(t,i){const r=this._hosts.get(t);r?r.disabled=i:i?t.setAttribute(hC,""):t.removeAttribute(hC)}_createRipple(t){if(!this._document)return;const i=this._hosts.get(t);if(i)return i;t.querySelector(".mat-ripple")?.remove();const r=this._document.createElement("span");r.classList.add("mat-ripple",t.getAttribute(w2)),t.append(r);const o=new MNe(new gn(r),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return o._isInitialized=!0,o.trigger=t,o.centered=t.hasAttribute($Y),o.disabled=t.hasAttribute(hC),this.attachRipple(t,o),o}attachRipple(t,i){t.removeAttribute(v2),this._hosts.set(t,i)}destroyRipple(t){const i=this._hosts.get(t);i&&(i.ngOnDestroy(),this._hosts.delete(t))}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Oe=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(Oe||{});const ba="*";function kNe(n,e){return{type:Oe.Trigger,name:n,definitions:e,options:{}}}function HY(n,e=null){return{type:Oe.Animate,styles:e,timings:n}}function GY(n,e=null){return{type:Oe.Group,steps:n,options:e}}function fC(n){return{type:Oe.Style,styles:n,offset:null}}function qY(n,e,t){return{type:Oe.State,name:n,styles:e,options:t}}function WY(n,e,t=null){return{type:Oe.Transition,expr:n,animation:e,options:t}}function KY(n=null){return{type:Oe.AnimateChild,options:n}}function QY(n,e,t=null){return{type:Oe.Query,selector:n,animation:e,options:t}}class r_{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class YY{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const o=this.players.length;0==o?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}function LNe(n,e){}const VNe={bottomSheetState:kNe("state",[qY("void, hidden",fC({transform:"translateY(100%)"})),qY("visible",fC({transform:"translateY(0%)"})),WY("visible => void, visible => hidden",GY([HY(`${RY.COMPLEX} ${PY.ACCELERATION_CURVE}`),QY("@*",KY(),{optional:!0})])),WY("void => visible",GY([HY(`${RY.EXITING} ${PY.DECELERATION_CURVE}`),QY("@*",KY(),{optional:!0})]))])};let BNe=(()=>{class n extends MY{constructor(t,i,r,o,s,a,c,l,u){super(t,i,r,o,s,a,c,u),this._animationState="void",this._animationStateChanged=new Qe,this._breakpointSubscription=l.observe([Kh_Medium,Kh_Large,"(min-width: 1920px)"]).subscribe(()=>{this._toggleClass("mat-bottom-sheet-container-medium",l.isMatched(Kh_Medium)),this._toggleClass("mat-bottom-sheet-container-large",l.isMatched(Kh_Large)),this._toggleClass("mat-bottom-sheet-container-xlarge",l.isMatched("(min-width: 1920px)"))})}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges())}exit(){this._destroyed||(this._animationState="hidden",this._changeDetectorRef.markForCheck())}ngOnDestroy(){super.ngOnDestroy(),this._breakpointSubscription.unsubscribe(),this._destroyed=!0}_onAnimationDone(t){"visible"===t.toState&&this._trapFocus(),this._animationStateChanged.emit(t)}_onAnimationStart(t){this._animationStateChanged.emit(t)}_captureInitialFocus(){}_toggleClass(t,i){this._elementRef.nativeElement.classList.toggle(t,i)}static#e=this.\u0275fac=function(i){return new(i||n)(E(gn),E(oY),E(lt,8),E(uC),E(s2),E(Ee),E(lC),E(ZQ),E(a2))};static#t=this.\u0275cmp=Te({type:n,selectors:[["mat-bottom-sheet-container"]],hostAttrs:["tabindex","-1",1,"mat-bottom-sheet-container"],hostVars:4,hostBindings:function(i,r){1&i&&N1("@state.start",function(s){return r._onAnimationStart(s)})("@state.done",function(s){return r._onAnimationDone(s)}),2&i&&(Sr("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-label",r._config.ariaLabel),O1("@state",r._animationState))},standalone:!0,features:[yt,Po],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(i,r){1&i&&Yn(0,LNe,0,0,"ng-template",0)},dependencies:[g2],styles:[".mat-bottom-sheet-container{box-shadow:0px 8px 10px -5px rgba(0, 0, 0, 0.2), 0px 16px 24px 2px rgba(0, 0, 0, 0.14), 0px 6px 30px 5px rgba(0, 0, 0, 0.12);padding:8px 16px;min-width:100vw;box-sizing:border-box;display:block;outline:0;max-height:80vh;overflow:auto;background:var(--mat-bottom-sheet-container-background-color);color:var(--mat-bottom-sheet-container-text-color);font-family:var(--mat-bottom-sheet-container-text-font);font-size:var(--mat-bottom-sheet-container-text-size);line-height:var(--mat-bottom-sheet-container-text-line-height);font-weight:var(--mat-bottom-sheet-container-text-weight);letter-spacing:var(--mat-bottom-sheet-container-text-tracking)}.cdk-high-contrast-active .mat-bottom-sheet-container{outline:1px solid}.mat-bottom-sheet-container-xlarge,.mat-bottom-sheet-container-large,.mat-bottom-sheet-container-medium{border-top-left-radius:var(--mat-bottom-sheet-container-shape);border-top-right-radius:var(--mat-bottom-sheet-container-shape)}.mat-bottom-sheet-container-medium{min-width:384px;max-width:calc(100vw - 128px)}.mat-bottom-sheet-container-large{min-width:512px;max-width:calc(100vw - 256px)}.mat-bottom-sheet-container-xlarge{min-width:576px;max-width:calc(100vw - 384px)}"],encapsulation:2,data:{animation:[VNe.bottomSheetState]}})}return n})();const XY=new X("MatBottomSheetData");class UNe{constructor(){this.data=null,this.hasBackdrop=!0,this.disableClose=!1,this.ariaLabel=null,this.ariaModal=!0,this.closeOnNavigation=!0,this.autoFocus="dialog",this.restoreFocus=!0}}class x2{get instance(){return this._ref.componentInstance}get componentRef(){return this._ref.componentRef}constructor(e,t,i){this._ref=e,this._afterOpened=new Ct,this.containerInstance=i,this.disableClose=t.disableClose,i._animationStateChanged.pipe(An(r=>"done"===r.phaseName&&"visible"===r.toState),Hn(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(An(r=>"done"===r.phaseName&&"hidden"===r.toState),Hn(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._ref.close(this._result)}),e.overlayRef.detachments().subscribe(()=>{this._ref.close(this._result)}),cC(this.backdropClick(),this.keydownEvents().pipe(An(r=>27===r.keyCode))).subscribe(r=>{!this.disableClose&&("keydown"!==r.type||!o2(r))&&(r.preventDefault(),this.dismiss())})}dismiss(e){this.containerInstance&&(this.containerInstance._animationStateChanged.pipe(An(t=>"start"===t.phaseName),Hn(1)).subscribe(t=>{this._closeFallbackTimeout=setTimeout(()=>{this._ref.close(this._result)},t.totalTime+100),this._ref.overlayRef.detachBackdrop()}),this._result=e,this.containerInstance.exit(),this.containerInstance=null)}afterDismissed(){return this._ref.closed}afterOpened(){return this._afterOpened}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}}const jNe=new X("mat-bottom-sheet-default-options");let ZY=(()=>{class n{get _openedBottomSheetRef(){const t=this._parentBottomSheet;return t?t._openedBottomSheetRef:this._bottomSheetRefAtThisLevel}set _openedBottomSheetRef(t){this._parentBottomSheet?this._parentBottomSheet._openedBottomSheetRef=t:this._bottomSheetRefAtThisLevel=t}constructor(t,i,r,o){this._overlay=t,this._parentBottomSheet=r,this._defaultOptions=o,this._bottomSheetRefAtThisLevel=null,this._dialog=i.get(AY)}open(t,i){const r={...this._defaultOptions||new UNe,...i};let o;return this._dialog.open(t,{...r,disableClose:!0,closeOnOverlayDetachments:!1,maxWidth:"100%",container:BNe,scrollStrategy:r.scrollStrategy||this._overlay.scrollStrategies.block(),positionStrategy:this._overlay.position().global().centerHorizontally().bottom("0"),templateContext:()=>({bottomSheetRef:o}),providers:(s,a,c)=>(o=new x2(s,r,c),[{provide:x2,useValue:o},{provide:XY,useValue:r.data}])}),o.afterDismissed().subscribe(()=>{this._openedBottomSheetRef===o&&(this._openedBottomSheetRef=null)}),this._openedBottomSheetRef?(this._openedBottomSheetRef.afterDismissed().subscribe(()=>o.containerInstance?.enter()),this._openedBottomSheetRef.dismiss()):o.containerInstance.enter(),this._openedBottomSheetRef=o,o}dismiss(t){this._openedBottomSheetRef&&this._openedBottomSheetRef.dismiss(t)}ngOnDestroy(){this._bottomSheetRefAtThisLevel&&this._bottomSheetRefAtThisLevel.dismiss()}static#e=this.\u0275fac=function(i){return new(i||n)($(su),$(Ut),$(n,12),$(jNe,8))};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),zNe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ze({type:n});static#n=this.\u0275inj=Xe({providers:[ZY],imports:[gNe,bo,aC,bo]})}return n})();const Yh=new qt(Jh),HNe={connector:()=>new Ct};function JY(n,e=HNe){const{connector:t}=e;return yn((i,r)=>{const o=t();Ni(n(function $Ne(n){return new qt(e=>n.subscribe(e))}(o))).subscribe(r),r.add(i.subscribe(o))})}function eX(n,e){return e?t=>yd(e.pipe(Hn(1),function WNe(){return yn((n,e)=>{n.subscribe(fn(e,Jh))})}()),t.pipe(eX(n))):bi((t,i)=>Ni(n(t,i)).pipe(Hn(1),Qz(t)))}const o_="Service workers are disabled or not supported by this browser";class pC{constructor(e){if(this.serviceWorker=e,e){const i=e_(e,"controllerchange").pipe(Pe(()=>e.controller)),o=yd(xp(()=>ve(e.controller)),i);this.worker=o.pipe(An(u=>!!u)),this.registration=this.worker.pipe(Pr(()=>e.getRegistration()));const l=e_(e,"message").pipe(Pe(u=>u.data)).pipe(An(u=>u&&u.type)).pipe(function qNe(n){return n?e=>JY(n)(e):e=>function GNe(n,e){const t=bt(n)?n:()=>n;return bt(e)?JY(e,{connector:t}):i=>new hT(i,t)}(new Ct)(e)}());l.connect(),this.events=l}else this.worker=this.events=this.registration=function QNe(n){return xp(()=>vd(new Error(n)))}(o_)}postMessage(e,t){return this.worker.pipe(Hn(1),kn(i=>{i.postMessage({action:e,...t})})).toPromise().then(()=>{})}postMessageWithOperation(e,t,i){const r=this.waitForOperationCompleted(i),o=this.postMessage(e,t);return Promise.all([o,r]).then(([,s])=>s)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(e){let t;return t="string"==typeof e?i=>i.type===e:i=>e.includes(i.type),this.events.pipe(An(t))}nextEventOfType(e){return this.eventsOfType(e).pipe(Hn(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(An(t=>t.nonce===e),Hn(1),Pe(t=>{if(void 0!==t.result)return t.result;throw new Error(t.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let tX=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,this.pushManager=null,this.subscriptionChanges=new Ct,!t.isEnabled)return this.messages=Yh,this.notificationClicks=Yh,void(this.subscription=Yh);this.messages=this.sw.eventsOfType("PUSH").pipe(Pe(r=>r.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(Pe(r=>r.data)),this.pushManager=this.sw.registration.pipe(Pe(r=>r.pushManager));const i=this.pushManager.pipe(Pr(r=>r.getSubscription()));this.subscription=cC(i,this.subscriptionChanges)}requestSubscription(t){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(o_));const i={userVisibleOnly:!0};let r=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),o=new Uint8Array(new ArrayBuffer(r.length));for(let s=0;s<r.length;s++)o[s]=r.charCodeAt(s);return i.applicationServerKey=o,this.pushManager.pipe(Pr(s=>s.subscribe(i)),Hn(1)).toPromise().then(s=>(this.subscriptionChanges.next(s),s))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(Hn(1),Pr(i=>{if(null===i)throw new Error("Not subscribed to push notifications.");return i.unsubscribe().then(r=>{if(!r)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(o_))}decodeBase64(t){return atob(t)}static#e=this.\u0275fac=function(i){return new(i||n)($(pC))};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac})}return n})(),nX=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,!t.isEnabled)return this.versionUpdates=Yh,void(this.unrecoverable=Yh);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(o_));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(o_));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}static#e=this.\u0275fac=function(i){return new(i||n)($(pC))};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac})}return n})();const iX=new X("");function YNe(n,e,t,i){return()=>{if(!wy(i)||!("serviceWorker"in navigator)||!1===t.enabled)return;let r;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof t.registrationStrategy)r=t.registrationStrategy();else{const[s,...a]=(t.registrationStrategy||"registerWhenStable:30000").split(":");switch(s){case"registerImmediately":r=ve(null);break;case"registerWithDelay":r=rX(+a[0]||0);break;case"registerWhenStable":r=a[0]?cC(oX(n),rX(+a[0])):oX(n);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${t.registrationStrategy}`)}}n.get(Ee).runOutsideAngular(()=>r.pipe(Hn(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:t.scope}).catch(s=>console.error("Service worker registration failed with:",s))))}}function rX(n){return ve(null).pipe(function KNe(n,e=qp){const t=u2(n,e);return eX(()=>t)}(n))}function oX(n){return n.get(os).isStable.pipe(An(t=>t))}function XNe(n,e){return new pC(wy(e)&&!1!==n.enabled?navigator.serviceWorker:void 0)}class E2{}function ZNe(n,e={}){return function G_(n){return{\u0275providers:n}}([tX,nX,{provide:iX,useValue:n},{provide:E2,useValue:e},{provide:pC,useFactory:XNe,deps:[E2,ro]},{provide:cp,useFactory:YNe,deps:[Ut,iX,E2,ro],multi:!0}])}let JNe=(()=>{class n{static register(t,i={}){return{ngModule:n,providers:[ZNe(t,i)]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ze({type:n});static#n=this.\u0275inj=Xe({providers:[tX,nX]})}return n})();function e2e(n,e){if(1&n){const t=Et();g(0,"tr")(1,"td"),w(2),p(),g(3,"td"),w(4),p(),g(5,"td"),w(6),p(),g(7,"td")(8,"button",3),Q("click",function(){const o=Ne(t).$implicit;return Fe(sn().Muestras(o.name))}),p()()()}if(2&n){const t=e.$implicit;z(2),He(t.name),z(2),He(t.owner),z(2),He(t.integrantes)}}let t2e=(()=>{class n{constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.data=[],this.list=[],this.email="",this.getData(),this.MyQuery()}getData(){const t=vs();sa(t,r=>{r&&(console.log(r.email),r.email&&(this.email=r.email))});const i=Ie(this.firestore,"projects");pe(i).then(r=>{this.data=[...r.docs.map(o=>({...o.data(),id:o.id}))]})}updateData(t){const i=De(this.firestore,"projects",t);wr(i,{}).then(()=>{alert("Data updated"),this.getData()}).catch(r=>{alert(r.message)})}deleteData(t){const i=De(this.firestore,"projects",t);Fn(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}newProject(){this.router.navigate(["user/project-new"])}EditProject(){this.router.navigate(["user/project-new"])}Muestras(t){this.router.navigate(["client/muestras/"+t])}editProyecto(t){this.router.navigate(["user/project-edit/"+t])}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["user/projects"])}logOut(){Ui(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}MyQuery(){var t=this;return _(function*(){const i=vs();let r;r="",console.log(i),sa(i,function(){var o=_(function*(s){if(s&&(console.log(s.email),s.email)){r=s.email;const a=dn(Ie(t.firestore,"projects"),tn("cliente","==",r));pe(a).then(l=>{t.data=[...l.docs.map(u=>({...u.data(),id:u.id}))]});const c=yield pe(a);console.log(c),c.forEach(l=>{console.log(l.id," => ",l.data()),console.log("here2")}),console.log(t.data.length),console.log(t.data),console.log(t.data[0].cliente)}});return function(s){return o.apply(this,arguments)}}())})()}static#e=this.\u0275fac=function(i){return new(i||n)(E(Me),E(dt),E(Ge),E(ut))};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-projects"]],decls:15,vars:1,consts:[[1,"subTituloText"],[1,"list"],[4,"ngFor","ngForOf"],[1,"muestras",3,"click"]],template:function(i,r){1&i&&(g(0,"p"),w(1,"projects works!"),p(),g(2,"h1",0),w(3,"Proyectos"),p(),g(4,"div",1)(5,"table")(6,"tr")(7,"th"),w(8," Nombre "),p(),g(9,"th"),w(10," Due\xf1o "),p(),g(11,"th"),w(12," Integrantes"),p(),te(13,"th"),p(),Yn(14,e2e,9,3,"tr",2),p()()),2&i&&(z(14),Xn("ngForOf",r.data))},dependencies:[ho],styles:[".list[_ngcontent-%COMP%]{position:absolute;left:25%;top:38%}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:153px;height:36px;left:49%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:126px;height:16px;left:50%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:300px;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;left:45%;top:20%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.list[_ngcontent-%COMP%]{position:absolute;margin:0;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.boton[_ngcontent-%COMP%]{position:absolute;left:80%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;left:30%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}.scanbutton[_ngcontent-%COMP%]{cursor:pointer;width:153px;height:36px;left:30%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}}"]})}return n})();function n2e(n,e){if(1&n){const t=Et();g(0,"tr")(1,"td"),w(2),p(),g(3,"td"),w(4),p(),g(5,"td"),w(6),p(),g(7,"td"),w(8),p(),g(9,"td")(10,"button",4),Q("click",function(){const o=Ne(t).$implicit;return Fe(sn().infoMuestra(o.codigo))}),p()()()}if(2&n){const t=e.$implicit;z(2),He(t.codigo),z(2),He(t.fecha),z(2),He(t.cultivo),z(2),He(t.coordenadas)}}let sX=(()=>{class n{constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.data=[],this.MyQuery()}ngOnInit(){this.route.params.subscribe(t=>{this.item=t.id,console.log(t),console.log(t.id)}),this.MyQuery()}getData(){const t=Ie(this.firestore,"muestras");pe(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}updateData(t){const i=De(this.firestore,"muestras",t);wr(i,{}).then(()=>{alert("Data updated"),this.getData()}).catch(r=>{alert(r.message)})}deleteData(t){const i=De(this.firestore,"muestras",t);Fn(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["client/projects"])}logOut(){Ui(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}newMuestra(){this.router.navigate(["user/muestras-new"])}editMuestra(t){this.router.navigate(["user/muestras-edit/"+t])}infoProject(t){this.router.navigate(["user/project-edit/"+t])}infoMuestra(t){this.router.navigate(["client/muestras-info/"+t])}MyQuery(){var t=this;return _(function*(){let i=t.item;t.pid=i,console.log(i);const r=dn(Ie(t.firestore,"muestras"),tn("project","==",i));pe(r).then(s=>{t.data=[...s.docs.map(a=>({...a.data(),id:a.id}))]}),(yield pe(r)).forEach(s=>{console.log(s.id," => ",s.data())})})()}static#e=this.\u0275fac=function(i){return new(i||n)(E(Me),E(dt),E(Ge),E(ut))};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-muestras"]],decls:19,vars:1,consts:[[1,"subTituloText"],[1,"list"],[1,"projectBlock",3,"click"],[4,"ngFor","ngForOf"],[1,"detalles",3,"click"]],template:function(i,r){1&i&&(g(0,"p"),w(1,"muestras works!"),p(),g(2,"h1",0),w(3,"Muestras"),p(),g(4,"div",1)(5,"div",2),Q("click",function(){return r.infoProject(r.pid)}),w(6,"Proyecto"),p(),g(7,"table")(8,"tr")(9,"th"),w(10," Codigo "),p(),g(11,"th"),w(12," Fecha "),p(),g(13,"th"),w(14," Cultivo"),p(),g(15,"th"),w(16," Coordenadas "),p(),te(17,"th"),p(),Yn(18,n2e,11,4,"tr",3),p()()),2&i&&(z(18),Xn("ngForOf",r.data))},dependencies:[ho],styles:[".list[_ngcontent-%COMP%]{position:absolute;left:38%;top:38%}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.projectBlock[_ngcontent-%COMP%]{width:auto;height:35px;background:#3ec28f;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:20px;font-weight:700;letter-spacing:0;cursor:pointer}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:153px;height:36px;left:49%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:126px;height:16px;left:50%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:300px;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;left:45%;top:20%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.projectBlock[_ngcontent-%COMP%]{width:60%;height:25px;background:#3ec28f;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:14px;font-weight:700;letter-spacing:0;cursor:pointer}.list[_ngcontent-%COMP%]{position:absolute;left:5%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:80%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;left:30%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}return n})();function i2e(n,e){if(1&n){const t=Et();g(0,"tr")(1,"td"),w(2),p(),g(3,"td"),w(4),p(),g(5,"td"),w(6),p(),g(7,"td"),w(8),p(),g(9,"td")(10,"button",3),Q("click",function(){const o=Ne(t).$implicit;return Fe(sn().infoMuestra(o.codigo))}),p()()()}if(2&n){const t=e.$implicit;z(2),He(t.codigo),z(2),He(t.fecha),z(2),He(t.cultivo),z(2),He(t.coordenadas)}}let r2e=(()=>{class n{constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.data=[],this.arr=[]}ngOnInit(){this.route.params.subscribe(t=>{this.item=t.id,console.log(t),console.log(t.id)}),this.getData(),this.MyQuery()}getData(){const t=Ie(this.firestore,"muestras");pe(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}updateData(t){const i=De(this.firestore,"muestras",t);wr(i,{}).then(()=>{alert("Data updated"),this.getData()}).catch(r=>{alert(r.message)})}deleteData(t){const i=De(this.firestore,"muestras",t);Fn(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["user/projects"])}logOut(){Ui(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}newMuestra(){this.router.navigate(["user/muestras-new"])}editMuestra(t){this.router.navigate(["user/muestras-edit/"+t])}infoProject(t){this.router.navigate(["user/project-edit/"+t])}infoMuestra(t){this.router.navigate(["user/muestras-info/"+t])}MyQuery(){var t=this;return _(function*(){const i=vs();let r,o=[];r="",console.log(i),sa(i,function(){var s=_(function*(a){if(a&&(console.log(a.email),a.email)){r=a.email;const d=dn(Ie(t.firestore,"projects"),tn("cliente","==",r));pe(d).then(b=>{t.dataTem=[...b.docs.map(x=>({...x.data(),id:x.id}))]}),(yield pe(d)).forEach(b=>{}),console.log(t.dataTem.length),console.log(t.dataTem[0].name);let f=t.dataTem.length;console.log(f);for(let b=0;b<f;b++)console.log(t.dataTem[b].name),o.push(t.dataTem[b].name);console.log(o)}console.log("next"),console.log(o),t.pid=t.item;const l=dn(Ie(t.firestore,"muestras"),tn("project","in",o));pe(l).then(d=>{t.data=[...d.docs.map(h=>({...h.data(),id:h.id}))]}),(yield pe(l)).forEach(d=>{console.log(d.id," => ",d.data())})});return function(a){return s.apply(this,arguments)}}())})()}static#e=this.\u0275fac=function(i){return new(i||n)(E(Me),E(dt),E(Ge),E(ut))};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-muestras-all"]],decls:17,vars:1,consts:[[1,"subTituloText"],[1,"list"],[4,"ngFor","ngForOf"],[1,"detalles",3,"click"]],template:function(i,r){1&i&&(g(0,"p"),w(1,"muestras-all works!"),p(),g(2,"h1",0),w(3,"Muestras"),p(),g(4,"div",1)(5,"table")(6,"tr")(7,"th"),w(8," Codigo "),p(),g(9,"th"),w(10," Fecha "),p(),g(11,"th"),w(12," Cultivo"),p(),g(13,"th"),w(14," Coordenadas "),p(),te(15,"th"),p(),Yn(16,i2e,11,4,"tr",2),p()()),2&i&&(z(16),Xn("ngForOf",r.data))},dependencies:[ho],styles:[".list[_ngcontent-%COMP%]{position:absolute;left:38%;top:38%}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.projectBlock[_ngcontent-%COMP%]{width:auto;height:35px;background:#3ec28f;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:20px;font-weight:700;letter-spacing:0;cursor:pointer}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:153px;height:36px;left:49%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:126px;height:16px;left:50%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:300px;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;left:45%;top:20%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;margin-left:2px;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.list[_ngcontent-%COMP%]{position:absolute;left:5%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:80%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;left:30%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}return n})();function o2e(n,e){if(1&n){const t=Et();g(0,"tr")(1,"td"),w(2),p(),g(3,"td"),w(4),p(),g(5,"td"),w(6),p(),g(7,"td"),w(8),p(),g(9,"td")(10,"button",3),Q("click",function(){const o=Ne(t).$implicit;return Fe(sn().infoUnidad(o.codigo))}),p()()()}if(2&n){const t=e.$implicit;z(2),He(t.codigo),z(2),He(t.project),z(2),He(t.altitud),z(2),He(t.coordenadas)}}let s2e=(()=>{class n{constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.data=[],this.arr=[]}ngOnInit(){this.route.params.subscribe(t=>{this.item=t.id,console.log(t),console.log(t.id)}),this.getData(),this.MyQuery()}getData(){const t=Ie(this.firestore,"unidad-produccion");pe(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}updateData(t){const i=De(this.firestore,"unidad-produccion",t);wr(i,{}).then(()=>{alert("Data updated"),this.getData()}).catch(r=>{alert(r.message)})}deleteData(t){const i=De(this.firestore,"unidad-produccion",t);Fn(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["user/projects"])}logOut(){Ui(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}newMuestra(){this.router.navigate(["user/muestras-new"])}editMuestra(t){this.router.navigate(["user/muestras-edit/"+t])}infoProject(t){this.router.navigate(["user/project-edit/"+t])}infoUnidad(t){this.router.navigate(["client/unidad-produccion-info/"+t])}MyQuery(){var t=this;return _(function*(){const i=vs();let r,o=[];r="",console.log(i),sa(i,function(){var s=_(function*(a){if(a&&(console.log(a.email),a.email)){r=a.email;const d=dn(Ie(t.firestore,"projects"),tn("cliente","==",r));pe(d).then(b=>{t.dataTem=[...b.docs.map(x=>({...x.data(),id:x.id}))]}),(yield pe(d)).forEach(b=>{}),console.log(t.dataTem.length),console.log(t.dataTem[0].name);let f=t.dataTem.length;console.log(f);for(let b=0;b<f;b++)console.log(t.dataTem[b].name),o.push(t.dataTem[b].name);console.log(o)}console.log("next"),console.log(o),t.pid=t.item;const l=dn(Ie(t.firestore,"unidad-produccion"),tn("project","in",o));pe(l).then(d=>{t.data=[...d.docs.map(h=>({...h.data(),id:h.id}))]}),(yield pe(l)).forEach(d=>{console.log(d.id," => ",d.data())})});return function(a){return s.apply(this,arguments)}}())})()}static#e=this.\u0275fac=function(i){return new(i||n)(E(Me),E(dt),E(Ge),E(ut))};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-unidad-produccion-all"]],decls:17,vars:1,consts:[[1,"subTituloText"],[1,"list"],[4,"ngFor","ngForOf"],[1,"detalles",3,"click"]],template:function(i,r){1&i&&(g(0,"p"),w(1,"unidad-produccion-all works!"),p(),g(2,"h1",0),w(3,"Unidades"),p(),g(4,"div",1)(5,"table")(6,"tr")(7,"th"),w(8," Codigo "),p(),g(9,"th"),w(10," Proyecto "),p(),g(11,"th"),w(12," Altitud"),p(),g(13,"th"),w(14," Coordenadas "),p(),te(15,"th"),p(),Yn(16,o2e,11,4,"tr",2),p()()),2&i&&(z(16),Xn("ngForOf",r.data))},dependencies:[ho],styles:[".list[_ngcontent-%COMP%]{position:absolute;left:38%;top:38%}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.projectBlock[_ngcontent-%COMP%]{width:auto;height:35px;background:#3ec28f;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:20px;font-weight:700;letter-spacing:0;cursor:pointer}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:153px;height:36px;left:49%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:126px;height:16px;left:50%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:300px;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;left:45%;top:20%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;margin-left:2px;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.list[_ngcontent-%COMP%]{position:absolute;left:2%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:80%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;left:30%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}return n})();const a2e=["geo"];let c2e=(()=>{class n{constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.title="gestion-de-muestras-de-campo",this.data=[],this.somethingChange=new Qe}ngOnInit(){this.route.params.subscribe(t=>{this.text=t.id,console.log(t),console.log(t.id)}),this.MyQuery()}handleRegister(t){this.addData(t)}addData(t){const i=De(this.firestore,"unidad-produccion",t.codigo);vr(i,t).then(()=>{alert("Data Sent")}).catch(r=>{alert(r.message)}),console.log(t.comentarios)}getData(){const t=Ie(this.firestore,"unidad-produccion");pe(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude)}getLocation(){var t=this;return _(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{console.log(t.res)},1e3)})()}MyQuery(){var t=this;return _(function*(){let i=t.text;const r=dn(Ie(t.firestore,"unidad-produccion"),tn("codigo","==",i)),o=yield pe(r);o.empty||o.forEach(s=>{t.item=s.data(),console.log(s.id," => ",s.data())})})()}editMuestra(){this.router.navigate(["user/unidad-produccion-edit/"+this.text])}deleteData(t){const i=De(this.firestore,"users",t);Fn(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}static#e=this.\u0275fac=function(i){return new(i||n)(E(Me),E(dt),E(Ge),E(ut))};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-unidad-produccion-info"]],viewQuery:function(i,r){if(1&i&&zn(a2e,5),2&i){let o;wn(o=Cn())&&(r.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:58,vars:10,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],[1,"input-field"]],template:function(i,r){if(1&i){const o=Et();g(0,"p"),w(1,"unidad-produccion-info works!"),p(),g(2,"h1",0),w(3,"Datos de la Muestra"),p(),g(4,"div",1)(5,"form",2,3),Q("ngSubmit",function(){Ne(o);const a=xn(6);return Fe(r.handleRegister(a.value))}),g(7,"div",4)(8,"div",5)(9,"span",6),w(10,"Codigo:"),p(),g(11,"span",7),w(12),p()(),g(13,"div",5)(14,"span",6),w(15,"Cliente:"),p(),g(16,"span",7),w(17),p()(),g(18,"div",5)(19,"span",6),w(20,"Coordenadas:"),p(),g(21,"span",7),w(22),p()(),g(23,"div",5)(24,"span",6),w(25,"Localidad:"),p(),g(26,"span",7),w(27),p()(),g(28,"div",5)(29,"span",6),w(30,"Municipio:"),p(),g(31,"span",7),w(32),p()(),g(33,"div",5)(34,"span",6),w(35,"Estado:"),p(),g(36,"span",7),w(37),p()(),g(38,"div",5)(39,"span",6),w(40,"Altitud:"),p(),g(41,"span",7),w(42),p()(),g(43,"div",5)(44,"span",6),w(45,"Temperaturas M\xe1ximas:"),p(),g(46,"span",7),w(47),p()(),g(48,"div",5)(49,"span",6),w(50,"Temperaturas M\xednimas:"),p(),g(51,"span",7),w(52),p()(),g(53,"div",5)(54,"span",6),w(55,"Precipitaci\xf3n:"),p(),g(56,"span",7),w(57),p()()()()()}2&i&&(z(12),Ue(" ",r.item.codigo,""),z(5),Ue(" ",r.item.cliente,""),z(5),Ue(" ",r.item.coordenadas,""),z(5),Ue(" ",r.item.localidad,""),z(5),Ue(" ",r.item.municipio,""),z(5),Ue(" ",r.item.cliente,""),z(5),Ue(" ",r.item.altitud,""),z(5),Ue(" ",r.item.tempmax,""),z(5),Ue(" ",r.item.tempmin,""),z(5),Ue(" ",r.item.precipitacion,""))},dependencies:[ei,Jn,Sn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:65%;height:55%;flex-shrink:0;position:absolute;left:25%;top:30%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:10%;top:7%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:12px 12px 12px 25px;height:20px;left:92px;color:#000;font-family:Arial;font-size:20px;letter-spacing:0}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:40%;top:20%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;height:25px;font-family:Arial;font-size:20px;font-weight:700;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:80%;top:88%}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:0%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.input-field[_ngcontent-%COMP%]{margin:6px 6px 6px 15px;height:20px;left:92px;color:#000;font-family:Arial;font-size:16px;letter-spacing:0;text-overflow:ellipsis}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:5%;top:3%}.Text[_ngcontent-%COMP%]{color:#000;height:20px;font-family:Arial;font-size:16px;letter-spacing:0}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:90%;height:53%;flex-shrink:0;position:absolute;left:5%;top:35%}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:67%;top:90%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:12px;left:0%;top:110%}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:25%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}return n})();const l2e=["geo"];let u2e=(()=>{class n{static#e=this.text="";constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.title="gestion-de-muestras-de-campo",this.data=[],this.res="",this.email="",this.somethingChange=new Qe}ngOnInit(){this.route.params.subscribe(t=>{this.x=t.id,console.log(t),console.log(t.id)}),this.getData(),this.MyQuery()}handleRegister(t){this.addData(t)}addData(t){var i=this;return _(function*(){const r=De(i.firestore,"clientes",t.codigo);vr(r,t).then(()=>{alert("Data Sent")}).catch(o=>{alert(o.message)}),console.log(i.pid)})()}getData(){const t=vs();sa(t,r=>{r&&r.email&&(this.email=r.email)});const i=Ie(this.firestore,"clientes");pe(i).then(r=>{this.data=[...r.docs.map(o=>({...o.data(),id:o.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude),n.text=t.coords.latitude+", "+t.coords.longitude}getLocation(){var t=this;return _(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{t.res=n.text,console.log(t.res)},1e3)})()}MyQuery(){var t=this;return _(function*(){const i=vs();let r;r="",console.log(i),sa(i,function(){var o=_(function*(s){if(s&&(console.log(s.email),s.email)){r=s.email;const a=dn(Ie(t.firestore,"clientes"),tn("email","==",r));pe(a).then(l=>{t.data=[...l.docs.map(u=>({...u.data(),id:u.id}))]});const c=yield pe(a);console.log(c),c.forEach(l=>{t.item=l.data(),t.pid=l.id,console.log(l.id," => ",l.data()),console.log("here2")}),console.log(t.data.length),console.log(t.data),console.log(t.data[0].email)}});return function(s){return o.apply(this,arguments)}}())})()}editClients(){this.router.navigate(["client/perfil-edit"])}deleteData(t){const r=De(this.firestore,"clientes",this.x);Fn(r).then(()=>{alert("Data Deleted"),this.router.navigate(["user/muestras/"+this.pid])}).catch(o=>{alert(o.message)})}static#t=this.\u0275fac=function(i){return new(i||n)(E(Me),E(dt),E(Ge),E(ut))};static#n=this.\u0275cmp=Te({type:n,selectors:[["app-perfil"]],viewQuery:function(i,r){if(1&i&&zn(l2e,5),2&i){let o;wn(o=Cn())&&(r.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:32,vars:4,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],[1,"input-field"],[1,"boton",3,"click"]],template:function(i,r){if(1&i){const o=Et();g(0,"p"),w(1,"perfil works!"),p(),g(2,"p"),w(3,"clients-info works!"),p(),g(4,"h1",0),w(5,"Informacion del Cliente"),p(),g(6,"div",1)(7,"form",2,3),Q("ngSubmit",function(){Ne(o);const a=xn(8);return Fe(r.handleRegister(a.value))}),g(9,"div",4)(10,"div",5)(11,"span",6),w(12,"Email:"),p(),g(13,"span",7),w(14),p()(),g(15,"div",5)(16,"span",6),w(17,"Nombre:"),p(),g(18,"span",7),w(19),p()(),g(20,"div",5)(21,"span",6),w(22,"Telefono:"),p(),g(23,"span",7),w(24),p()(),g(25,"div",5)(26,"span",6),w(27,"Direccion:"),p(),g(28,"span",7),w(29),p()()()()(),g(30,"button",8),Q("click",function(){return r.editClients()}),w(31,"Editar Cliente"),p()}2&i&&(z(14),Ue(" ",r.item.email,""),z(5),Ue(" ",r.item.nombre,""),z(5),Ue(" ",r.item.telefono,""),z(5),Ue(" ",r.item.direccion,""))},dependencies:[ei,Jn,Sn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:25%;flex-shrink:0;position:absolute;left:15%;top:30%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:3%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:85%;height:20px;left:92px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:35%;top:20%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:80%;top:58%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:50%;flex-shrink:0;position:absolute;left:15%;top:30%}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:75%;top:110%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}return n})();const d2e=["geo"],h2e=[{path:"client",component:OW,children:[{path:"projects",component:t2e},{path:"muestras-all",component:r2e},{path:"muestras/:id",component:sX},{path:"unidad-produccion-all",component:s2e},{path:"muestras-info/:id",component:sX},{path:"unidad-produccion-info/:id",component:c2e},{path:"perfil",component:u2e},{path:"perfil-edit",component:(()=>{class n{static#e=this.text="";constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.title="gestion-de-muestras-de-campo",this.data=[],this.res="",this.email="",this.somethingChange=new Qe,this.getData(),this.MyQuery()}handleRegister(t){this.addData(t)}addData(t){var i=this;return _(function*(){console.log(t);const r=De(i.firestore,"clientes",t.email);wr(r,{email:t.email,nombre:t.nombre,fecha:t.fecha,telefono:t.telefono,direccion:t.direccion}).then(()=>{alert("Data Sent")}).catch(o=>{alert(o.message)}),console.log(i.pid)})()}getData(){const t=Ie(this.firestore,"clientes");pe(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude),n.text=t.coords.latitude+", "+t.coords.longitude}getLocation(){var t=this;return _(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{t.res=n.text,console.log(t.res)},1e3)})()}MyQuery(){var t=this;return _(function*(){const i=vs();let r;r="",console.log(i),sa(i,function(){var o=_(function*(s){if(s&&(console.log(s.email),s.email)){r=s.email;const a=dn(Ie(t.firestore,"clientes"),tn("email","==",r));pe(a).then(l=>{t.data=[...l.docs.map(u=>({...u.data(),id:u.id}))]});const c=yield pe(a);console.log(c),c.forEach(l=>{t.item=l.data(),t.pid=l.id,console.log(l.id," => ",l.data()),console.log("here2")}),console.log(t.data.length),console.log(t.data),console.log(t.data[0].email)}});return function(s){return o.apply(this,arguments)}}())})()}deleteData(t){const r=De(this.firestore,"clientes",this.x);Fn(r).then(()=>{alert("Data Deleted"),this.router.navigate(["user/muestras/"+this.pid])}).catch(o=>{alert(o.message)})}static#t=this.\u0275fac=function(i){return new(i||n)(E(Me),E(dt),E(Ge),E(ut))};static#n=this.\u0275cmp=Te({type:n,selectors:[["app-perfil-edit"]],viewQuery:function(i,r){if(1&i&&zn(d2e,5),2&i){let o;wn(o=Cn())&&(r.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:26,vars:4,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],["name","email","ngModel","","placeholder","Email","id","emai","type","email",1,"input-field",3,"ngModel","ngModelChange"],["name","nombre","ngModel","","placeholder","Nombre","id","nombre","type","nombre",1,"input-field",3,"ngModel","ngModelChange"],["name","telefono","ngModel","","placeholder","Telefono","id","telefono","type","telefono",1,"input-field",3,"ngModel","ngModelChange"],["name","direccion","ngModel","","placeholder","Direccion","id","direccion","type","direccion",1,"input-field",3,"ngModel","ngModelChange"],[1,"boton"]],template:function(i,r){if(1&i){const o=Et();g(0,"p"),w(1,"perfil-edit works!"),p(),g(2,"h1",0),w(3," Editar Perfil"),p(),g(4,"div",1)(5,"form",2,3),Q("ngSubmit",function(){Ne(o);const a=xn(6);return Fe(r.handleRegister(a.value))}),g(7,"div",4)(8,"div",5)(9,"span",6),w(10,"Email:"),p(),g(11,"input",7),it("ngModelChange",function(a){return ct(r.item.email,a)||(r.item.email=a),a}),p()(),g(12,"div",5)(13,"span",6),w(14,"Nombre:"),p(),g(15,"input",8),it("ngModelChange",function(a){return ct(r.item.nombre,a)||(r.item.nombre=a),a}),p()(),g(16,"div",5)(17,"span",6),w(18,"Telefono:"),p(),g(19,"input",9),it("ngModelChange",function(a){return ct(r.item.telefono,a)||(r.item.telefono=a),a}),p()(),g(20,"div",5)(21,"span",6),w(22,"Direccion:"),p(),g(23,"input",10),it("ngModelChange",function(a){return ct(r.item.direccion,a)||(r.item.direccion=a),a}),p()(),g(24,"button",11),w(25,"Editar Cliente"),p()()()()}2&i&&(z(11),nt("ngModel",r.item.email),z(4),nt("ngModel",r.item.nombre),z(4),nt("ngModel",r.item.telefono),z(4),nt("ngModel",r.item.direccion))},dependencies:[ei,Ji,Or,Jn,mr,Sn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:30%;flex-shrink:0;position:absolute;left:15%;top:30%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:3%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:85%;height:20px;left:92px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:35%;top:20%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:80%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:50%;flex-shrink:0;position:absolute;left:15%;top:30%}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:75%;top:110%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}return n})()}]}];let f2e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ze({type:n});static#n=this.\u0275inj=Xe({imports:[Lo.forChild(h2e),Lo]})}return n})(),p2e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ze({type:n});static#n=this.\u0275inj=Xe({imports:[f2e,PW,il,Ly,r2,Lo]})}return n})();const g2e=["*",[["mat-toolbar-row"]]],m2e=["*","mat-toolbar-row"];let _2e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=me({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"],standalone:!0})}return n})(),b2e=(()=>{class n{constructor(t,i,r){this._elementRef=t,this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}static#e=this.\u0275fac=function(i){return new(i||n)(E(gn),E(Mi),E(lt))};static#t=this.\u0275cmp=Te({type:n,selectors:[["mat-toolbar"]],contentQueries:function(i,r,o){if(1&i&&V1(o,_2e,5),2&i){let s;wn(s=Cn())&&(r._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(i,r){2&i&&(Gb(r.color?"mat-"+r.color:""),co("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length))},inputs:{color:"color"},exportAs:["matToolbar"],standalone:!0,features:[Po],ngContentSelectors:m2e,decls:2,vars:0,template:function(i,r){1&i&&(tl(g2e),kr(0),kr(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color:var(--mat-toolbar-container-text-color);--mdc-outlined-button-label-text-color:var(--mat-toolbar-container-text-color)}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0})}return n})(),y2e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ze({type:n});static#n=this.\u0275inj=Xe({imports:[bo,bo]})}return n})();const v2e=["mat-button",""],w2e=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],C2e=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],E2e=["mat-icon-button",""],I2e=["*"],T2e=new X("MAT_BUTTON_CONFIG"),D2e=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}];let aX=(()=>{class n{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(t){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,t)}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=t,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._updateRippleDisabled()}constructor(t,i,r,o){this._elementRef=t,this._platform=i,this._ngZone=r,this._animationMode=o,this._focusMonitor=Z(a2),this._rippleLoader=Z(ANe),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;const s=Z(T2e,{optional:!0}),a=t.nativeElement,c=a.classList;this.disabledInteractive=s?.disabledInteractive??!1,this._rippleLoader?.configureRipple(a,{className:"mat-mdc-button-ripple"});for(const{attribute:l,mdcClasses:u}of D2e)a.hasAttribute(l)&&c.add(...u)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(t="program",i){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,i):this._elementRef.nativeElement.focus(i)}_getAriaDisabled(){return null!=this.ariaDisabled?this.ariaDisabled:!(!this.disabled||!this.disabledInteractive)||null}_getDisabledAttribute(){return!(this.disabledInteractive||!this.disabled)||null}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function(i){xE()};static#t=this.\u0275dir=me({type:n,inputs:{color:"color",disableRipple:[st.HasDecoratorInputTransform,"disableRipple","disableRipple",as],disabled:[st.HasDecoratorInputTransform,"disabled","disabled",as],ariaDisabled:[st.HasDecoratorInputTransform,"aria-disabled","ariaDisabled",as],disabledInteractive:[st.HasDecoratorInputTransform,"disabledInteractive","disabledInteractive",as]},features:[l1]})}return n})(),M2e=(()=>{class n extends aX{constructor(t,i,r,o){super(t,i,r,o)}static#e=this.\u0275fac=function(i){return new(i||n)(E(gn),E(Mi),E(Ee),E(jc,8))};static#t=this.\u0275cmp=Te({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(i,r){2&i&&(Sr("disabled",r._getDisabledAttribute())("aria-disabled",r._getAriaDisabled()),Gb(r.color?"mat-"+r.color:""),co("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[yt,Po],attrs:v2e,ngContentSelectors:C2e,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(tl(w2e),te(0,"span",0),kr(1),g(2,"span",1),kr(3,1),p(),kr(4,2),te(5,"span",2)(6,"span",3)),2&i&&co("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px);display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);font-weight:var(--mdc-text-button-label-text-weight);text-transform:var(--mdc-text-button-label-text-transform);height:var(--mdc-text-button-container-height);border-radius:var(--mdc-text-button-container-shape);padding:0 var(--mat-text-button-horizontal-padding, 8px)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);font-weight:var(--mdc-filled-button-label-text-weight);text-transform:var(--mdc-filled-button-label-text-transform);height:var(--mdc-filled-button-container-height);border-radius:var(--mdc-filled-button-container-shape);padding:0 var(--mat-filled-button-horizontal-padding, 16px)}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color)}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);font-weight:var(--mdc-protected-button-label-text-weight);text-transform:var(--mdc-protected-button-label-text-transform);height:var(--mdc-protected-button-container-height);border-radius:var(--mdc-protected-button-container-shape);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow)}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color)}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);font-weight:var(--mdc-outlined-button-label-text-weight);text-transform:var(--mdc-outlined-button-label-text-transform);height:var(--mdc-outlined-button-container-height);border-radius:var(--mdc-outlined-button-container-shape);padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width);padding:0 var(--mat-outlined-button-horizontal-padding, 15px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color)}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape)}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width))}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button-base{text-decoration:none}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return n})(),A2e=(()=>{class n extends aX{constructor(t,i,r,o){super(t,i,r,o),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static#e=this.\u0275fac=function(i){return new(i||n)(E(gn),E(Mi),E(Ee),E(jc,8))};static#t=this.\u0275cmp=Te({type:n,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(i,r){2&i&&(Sr("disabled",r._getDisabledAttribute())("aria-disabled",r._getAriaDisabled()),Gb(r.color?"mat-"+r.color:""),co("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[yt,Po],attrs:E2e,ngContentSelectors:I2e,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(tl(),te(0,"span",0),kr(1),te(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{color:var(--mdc-icon-button-icon-color)}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 48px);height:var(--mdc-icon-button-state-layer-size, 48px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 48px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size);-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color)}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color)}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color)}.mat-mdc-icon-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity)}.mat-mdc-icon-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity)}.mat-mdc-icon-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity)}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return n})(),k2e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ze({type:n});static#n=this.\u0275inj=Xe({imports:[bo,SNe,bo]})}return n})();function O2e(n,e){if(1&n){const t=Et();g(0,"mat-toolbar",1)(1,"button",2),Q("click",function(){return Ne(t),Fe(sn().installPwa())}),w(2," Agregar a Inicio "),p(),g(3,"button",3),Q("click",function(){return Ne(t),Fe(sn().close())}),w(4," Cerrar "),p()()}}let P2e=(()=>{class n{constructor(t,i){this.data=t,this.bottomSheetRef=i}installPwa(){this.data.promptEvent.prompt(),this.close()}close(){this.bottomSheetRef.dismiss()}static#e=this.\u0275fac=function(i){return new(i||n)(E(XY),E(x2))};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-prompt"]],decls:1,vars:1,consts:[["color","primary","class","android-prompt",4,"ngIf"],["color","primary",1,"android-prompt"],["mat-button","",1,"install",3,"click"],["mat-icon-button","",1,"close",3,"click"]],template:function(i,r){1&i&&Yn(0,O2e,5,0,"mat-toolbar",0),2&i&&Xn("ngIf","android"===r.data.mobileType)},dependencies:[b2e,M2e,A2e,wI],styles:[".mat-bottom-sheet-container{--mat-bottom-sheet-container-background-color: white!important;--mat-bottom-sheet-container-text-color: rgba(0, 0, 0, .87) !important;padding:3vh 2px!important;min-width:95vw!important;min-height:15vh!important;margin:0 auto;box-sizing:border-box!important;display:block!important}.android-prompt[_ngcontent-%COMP%]{position:inherit;padding:1vh 2px!important;display:flex;justify-content:space-between;align-items:center}.android-prompt[_ngcontent-%COMP%]   .install[_ngcontent-%COMP%]{background-color:#4c8bf5;color:#fff;border-radius:5px;margin:5px;padding:5px 10px;font-family:Arial;text-align:center;font-size:18px}.android-prompt[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{background-color:#fff;color:#4c8bf5;border-radius:5px;border:5px;margin:5px;padding:5px 10px;font-family:Arial;text-align:center;font-size:18px;min-width:75px}.ios-prompt[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;align-items:center}.ios-prompt[_ngcontent-%COMP%]   .close-ios-inv[_ngcontent-%COMP%]{position:absolute;right:0;top:0}.ios-prompt[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{text-align:center;padding:10px 25px 0}.ios-prompt[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{position:relative;top:-7px}.ios-prompt[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:inline}"]})}return n})(),R2e=(()=>{class n{constructor(t,i){this.bottomSheet=t,this.platform=i}initPwaPrompt(){this.platform.ANDROID&&(console.log("android"),window.addEventListener("beforeinstallprompt",t=>{t.preventDefault(),this.promptEvent=t,this.openPromptComponent("android")}))}openPromptComponent(t){u2(2e3).pipe(Hn(1)).subscribe(()=>this.bottomSheet.open(P2e,{data:{mobileType:t,promptEvent:this.promptEvent}}))}static#e=this.\u0275fac=function(i){return new(i||n)($(ZY),$(Mi))};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),kX=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ze({type:n});static#n=this.\u0275inj=Xe({imports:[bo,bo]})}return n})(),wFe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ze({type:n});static#n=this.\u0275inj=Xe({imports:[bo,il,bo]})}return n})();function OX(n){return new U(3e3,!1)}function Oc(n){switch(n.length){case 0:return new r_;case 1:return n[0];default:return new YY(n)}}function PX(n,e,t=new Map,i=new Map){const r=[],o=[];let s=-1,a=null;if(e.forEach(c=>{const l=c.get("offset"),u=l==s,d=u&&a||new Map;c.forEach((h,f)=>{let b=f,x=h;if("offset"!==f)switch(b=n.normalizePropertyName(b,r),x){case"!":x=t.get(f);break;case ba:x=i.get(f);break;default:x=n.normalizeStyleValue(f,b,x,r)}d.set(b,x)}),u||o.push(d),a=d,s=l}),r.length)throw function HFe(n){return new U(3502,!1)}();return o}function N2(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&F2(t,"start",n)));break;case"done":n.onDone(()=>i(t&&F2(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&F2(t,"destroy",n)))}}function F2(n,e,t){const o=L2(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),s=n._data;return null!=s&&(o._data=s),o}function L2(n,e,t,i,r="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function eo(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function RX(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}const nLe=typeof document>"u"?null:document.documentElement;function V2(n){const e=n.parentNode||n.host||null;return e===nLe?null:e}let lu=null,NX=!1;function FX(n,e){for(;e;){if(e===n)return!0;e=V2(e)}return!1}function LX(n,e,t){if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]}let B2=(()=>{class n{validateStyleProperty(t){return function rLe(n){lu||(lu=function oLe(){return typeof document<"u"?document.body:null}()||{},NX=!!lu.style&&"WebkitAppearance"in lu.style);let e=!0;return lu.style&&!function iLe(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in lu.style,!e&&NX&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in lu.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return FX(t,i)}getParentElement(t){return V2(t)}query(t,i,r){return LX(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,o,s,a=[],c){return new r_(r,o)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac})}return n})();class U2{static#e=this.NOOP=new B2}class j2{}const aLe=1e3,z2="ng-enter",vC="ng-leave",wC="ng-trigger",CC=".ng-trigger",BX="ng-animating",$2=".ng-animating";function va(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:H2(parseFloat(e[1]),e[2])}function H2(n,e){return"s"===e?n*aLe:n}function xC(n,e,t){return n.hasOwnProperty("duration")?n:function lLe(n,e,t){let r,o=0,s="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(OX()),{duration:0,delay:0,easing:""};r=H2(parseFloat(a[1]),a[2]);const c=a[3];null!=c&&(o=H2(parseFloat(c),a[4]));const l=a[5];l&&(s=l)}else r=n;if(!t){let a=!1,c=e.length;r<0&&(e.push(function CFe(){return new U(3100,!1)}()),a=!0),o<0&&(e.push(function xFe(){return new U(3101,!1)}()),a=!0),a&&e.splice(c,0,OX())}return{duration:r,delay:o,easing:s}}(n,e,t)}function Rs(n,e,t){e.forEach((i,r)=>{const o=q2(r);t&&!t.has(r)&&t.set(r,n.style[o]),n.style[o]=i})}function uu(n,e){e.forEach((t,i)=>{const r=q2(i);n.style[r]=""})}function l_(n){return Array.isArray(n)?1==n.length?n[0]:function ONe(n,e=null){return{type:Oe.Sequence,steps:n,options:e}}(n):n}const G2=new RegExp("{{\\s*(.+?)\\s*}}","g");function jX(n){let e=[];if("string"==typeof n){let t;for(;t=G2.exec(n);)e.push(t[1]);G2.lastIndex=0}return e}function u_(n,e,t){const i=`${n}`,r=i.replace(G2,(o,s)=>{let a=e[s];return null==a&&(t.push(function IFe(n){return new U(3003,!1)}()),a=""),a.toString()});return r==i?n:r}const hLe=/-+([a-z0-9])/g;function q2(n){return n.replace(hLe,(...e)=>e[1].toUpperCase())}function to(n,e,t){switch(e.type){case Oe.Trigger:return n.visitTrigger(e,t);case Oe.State:return n.visitState(e,t);case Oe.Transition:return n.visitTransition(e,t);case Oe.Sequence:return n.visitSequence(e,t);case Oe.Group:return n.visitGroup(e,t);case Oe.Animate:return n.visitAnimate(e,t);case Oe.Keyframes:return n.visitKeyframes(e,t);case Oe.Style:return n.visitStyle(e,t);case Oe.Reference:return n.visitReference(e,t);case Oe.AnimateChild:return n.visitAnimateChild(e,t);case Oe.AnimateRef:return n.visitAnimateRef(e,t);case Oe.Query:return n.visitQuery(e,t);case Oe.Stagger:return n.visitStagger(e,t);default:throw function TFe(n){return new U(3004,!1)}()}}function W2(n,e){return window.getComputedStyle(n)[e]}const gLe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class zX extends j2{normalizePropertyName(e,t){return q2(e)}normalizeStyleValue(e,t,i,r){let o="";const s=i.toString().trim();if(gLe.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function DFe(n,e){return new U(3005,!1)}())}return s+o}}const EC="*";const IC=new Set(["true","1"]),TC=new Set(["false","0"]);function $X(n,e){const t=IC.has(n)||TC.has(n),i=IC.has(e)||TC.has(e);return(r,o)=>{let s=n==EC||n==r,a=e==EC||e==o;return!s&&t&&"boolean"==typeof r&&(s=r?IC.has(n):TC.has(n)),!a&&i&&"boolean"==typeof o&&(a=o?IC.has(e):TC.has(e)),s&&a}}const yLe=new RegExp("s*:selfs*,?","g");function K2(n,e,t,i){return new vLe(n).build(e,t,i)}class vLe{constructor(e){this._driver=e}build(e,t,i){const r=new xLe(t);return this._resetContextStyleTimingState(r),to(this,l_(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const o=[],s=[];return"@"==e.name.charAt(0)&&t.errors.push(function MFe(){return new U(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==Oe.State){const c=a,l=c.name;l.toString().split(/\s*,\s*/).forEach(u=>{c.name=u,o.push(this.visitState(c,t))}),c.name=l}else if(a.type==Oe.Transition){const c=this.visitTransition(a,t);i+=c.queryCount,r+=c.depCount,s.push(c)}else t.errors.push(function SFe(){return new U(3007,!1)}())}),{type:Oe.Trigger,name:e.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const o=new Set,s=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{jX(c).forEach(l=>{s.hasOwnProperty(l)||o.add(l)})})}),o.size&&t.errors.push(function AFe(n,e){return new U(3008,!1)}(0,o.values()))}return{type:Oe.State,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=to(this,l_(e.animation),t),r=function mLe(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function _Le(n,e,t){if(":"==n[0]){const c=function bLe(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function UFe(n){return new U(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof c)return void e.push(c);n=c}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function BFe(n){return new U(3015,!1)}()),e;const r=i[1],o=i[2],s=i[3];e.push($X(r,s)),"<"==o[0]&&(r!=EC||s!=EC)&&e.push($X(s,r))}(i,t,e)):t.push(n),t}(e.expr,t.errors);return{type:Oe.Transition,matchers:r,animation:i,queryCount:t.queryCount,depCount:t.depCount,options:du(e.options)}}visitSequence(e,t){return{type:Oe.Sequence,steps:e.steps.map(i=>to(this,i,t)),options:du(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const o=e.steps.map(s=>{t.currentTime=i;const a=to(this,s,t);return r=Math.max(r,t.currentTime),a});return t.currentTime=r,{type:Oe.Group,steps:o,options:du(e.options)}}visitAnimate(e,t){const i=function ILe(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return Q2(xC(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=Q2(0,0,"");return o.dynamic=!0,o.strValue=t,o}const r=xC(t,e);return Q2(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,o=e.styles?e.styles:fC({});if(o.type==Oe.Keyframes)r=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;const l={};i.easing&&(l.easing=i.easing),s=fC(l)}t.currentTime+=i.duration+i.delay;const c=this.visitStyle(s,t);c.isEmptyStep=a,r=c}return t.currentAnimateTimings=null,{type:Oe.Animate,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of r)"string"==typeof a?a===ba?i.push(a):t.errors.push(new U(3002,!1)):i.push(new Map(Object.entries(a)));let o=!1,s=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o))for(let c of a.values())if(c.toString().indexOf("{{")>=0){o=!0;break}}),{type:Oe.Style,styles:i,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,o=t.currentTime;i&&o>0&&(o-=i.duration+i.delay),e.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,c)=>{const l=t.collectedStyles.get(t.currentQuerySelector),u=l.get(c);let d=!0;u&&(o!=r&&o>=u.startTime&&r<=u.endTime&&(t.errors.push(function OFe(n,e,t,i,r){return new U(3010,!1)}()),d=!1),o=u.startTime),d&&l.set(c,{startTime:o,endTime:r}),t.options&&function dLe(n,e,t){const i=e.params||{},r=jX(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||t.push(function EFe(n){return new U(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:Oe.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function PFe(){return new U(3011,!1)}()),i;let o=0;const s=[];let a=!1,c=!1,l=0;const u=e.steps.map(k=>{const M=this._makeStyleAst(k,t);let V=null!=M.offset?M.offset:function ELe(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(M.styles),K=0;return null!=V&&(o++,K=M.offset=V),c=c||K<0||K>1,a=a||K<l,l=K,s.push(K),M});c&&t.errors.push(function RFe(){return new U(3012,!1)}()),a&&t.errors.push(function NFe(){return new U(3200,!1)}());const d=e.steps.length;let h=0;o>0&&o<d?t.errors.push(function FFe(){return new U(3202,!1)}()):0==o&&(h=1/(d-1));const f=d-1,b=t.currentTime,x=t.currentAnimateTimings,I=x.duration;return u.forEach((k,M)=>{const V=h>0?M==f?1:h*M:s[M],K=V*I;t.currentTime=b+x.delay+K,x.duration=K,this._validateStyleAst(k,t),k.offset=V,i.styles.push(k)}),i}visitReference(e,t){return{type:Oe.Reference,animation:to(this,l_(e.animation),t),options:du(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:Oe.AnimateChild,options:du(e.options)}}visitAnimateRef(e,t){return{type:Oe.AnimateRef,animation:this.visitReference(e.animation,t),options:du(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[o,s]=function wLe(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(yLe,"")),n=n.replace(/@\*/g,CC).replace(/@\w+/g,t=>CC+"-"+t.slice(1)).replace(/:animating/g,$2),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+o:o,eo(t.collectedStyles,t.currentQuerySelector,new Map);const a=to(this,l_(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:Oe.Query,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:du(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function LFe(){return new U(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:xC(e.timings,t.errors,!0);return{type:Oe.Stagger,animation:to(this,l_(e.animation),t),timings:i,options:null}}}class xLe{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function du(n){return n?(n={...n}).params&&(n.params=function CLe(n){return n?{...n}:null}(n.params)):n={},n}function Q2(n,e,t){return{duration:n,delay:e,easing:t}}function Y2(n,e,t,i,r,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}class DC{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const MLe=new RegExp(":enter","g"),ALe=new RegExp(":leave","g");function X2(n,e,t,i,r,o=new Map,s=new Map,a,c,l=[]){return(new kLe).buildKeyframes(n,e,t,i,r,o,s,a,c,l)}class kLe{buildKeyframes(e,t,i,r,o,s,a,c,l,u=[]){l=l||new DC;const d=new Z2(e,t,l,r,o,u,[]);d.options=c;const h=c.delay?va(c.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([s],null,d.errors,c),to(this,i,d);const f=d.timelines.filter(b=>b.containsAnimation());if(f.length&&a.size){let b;for(let x=f.length-1;x>=0;x--){const I=f[x];if(I.element===t){b=I;break}}b&&!b.allowOnlyTimelineStyles()&&b.setStyles([a],null,d.errors,c)}return f.length?f.map(b=>b.buildKeyframes()):[Y2(t,[],[],[],0,h,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const o=r?.delay;if(o){const s="number"==typeof o?o:va(u_(o,r?.params??{},t.errors));i.delayNextStep(s)}}}_visitSubInstructions(e,t,i){let o=t.currentTimeline.currentTime;const s=null!=i.duration?va(i.duration):null,a=null!=i.delay?va(i.delay):null;return 0!==s&&e.forEach(c=>{const l=t.appendInstructionToTimeline(c,s,a);o=Math.max(o,l.duration+l.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),to(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const o=e.options;if(o&&(o.params||o.delay)&&(r=t.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){r.previousNode.type==Oe.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=MC);const s=va(o.delay);r.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>to(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const o=e.options&&e.options.delay?va(e.options.delay):0;e.steps.forEach(s=>{const a=t.createSubContext(e.options);o&&a.delayNextStep(o),to(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return xC(t.params?u_(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const o=e.style;o.type==Oe.Keyframes?this.visitKeyframes(o,t):(t.incrementTime(i.duration),this.visitStyle(o,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(o):i.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,o=i.duration,a=t.createSubContext().currentTimeline;a.easing=i.easing,e.styles.forEach(c=>{a.forwardTime((c.offset||0)*o),a.setStyles(c.styles,c.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(r+o),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},o=r.delay?va(r.delay):0;o&&(t.previousNode.type===Oe.Style||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=MC);let s=i;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=a.length;let c=null;a.forEach((l,u)=>{t.currentQueryIndex=u;const d=t.createSubContext(e.options,l);o&&d.delayNextStep(o),l===t.element&&(c=d.currentTimeline),to(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,d.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),c&&(t.currentTimeline.mergeTimelineCollectedStyles(c),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1);let c=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=i.currentStaggerTime}const u=t.currentTimeline;c&&u.delayNextStep(c);const d=u.currentTime;to(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-d+(r.startTime-i.currentTimeline.startTime)}}const MC={};class Z2{constructor(e,t,i,r,o,s,a,c){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=MC,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new SC(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=va(i.duration)),null!=i.delay&&(r.delay=va(i.delay));const o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=u_(o[a],s,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,o=new Z2(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=MC,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},o=new OLe(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,o,s){let a=[];if(r&&a.push(this.element),e.length>0){e=(e=e.replace(MLe,"."+this._enterClassName)).replace(ALe,"."+this._leaveClassName);let l=this._driver.query(this.element,e,1!=i);0!==i&&(l=i<0?l.slice(l.length+i,l.length):l.slice(0,i)),a.push(...l)}return!o&&0==a.length&&s.push(function VFe(n){return new U(3014,!1)}()),a}}class SC{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new SC(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||ba),this._currentKeyframe.set(t,ba);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const o=r&&r.params||{},s=function PLe(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i??=e.keys();for(let o of i)t.set(o,ba)}else for(let[o,s]of r)t.set(o,s)}),t}(e,this._globalTimelineStyles);for(let[a,c]of s){const l=u_(c,o,i);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??ba),this._updateStyle(a,l)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,c)=>{const l=new Map([...this._backFill,...a]);l.forEach((u,d)=>{"!"===u?e.add(d):u===ba&&t.add(d)}),i||l.set("offset",c/this.duration),r.push(l)});const o=[...e.values()],s=[...t.values()];if(i){const a=r[0],c=new Map(a);a.set("offset",0),c.set("offset",1),r=[a,c]}return Y2(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}}class OLe extends SC{constructor(e,t,i,r,o,s,a=!1){super(e,t,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const o=[],s=i+t,a=t/s,c=new Map(e[0]);c.set("offset",0),o.push(c);const l=new Map(e[0]);l.set("offset",qX(a)),o.push(l);const u=e.length-1;for(let d=1;d<=u;d++){let h=new Map(e[d]);const f=h.get("offset");h.set("offset",qX((t+f*i)/s)),o.push(h)}i=s,t=0,r="",e=o}return Y2(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function qX(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}function WX(n,e,t,i,r,o,s,a,c,l,u,d,h){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:u,totalTime:d,errors:h}}const J2={};class KX{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function RLe(n,e,t,i,r){return n.some(o=>o(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,o,s,a,c,l,u){const d=[],h=this.ast.options&&this.ast.options.params||J2,b=this.buildStyles(i,a&&a.params||J2,d),x=c&&c.params||J2,I=this.buildStyles(r,x,d),k=new Set,M=new Map,V=new Map,K="void"===r,oe={params:QX(x,h),delay:this.ast.options?.delay},de=u?[]:X2(e,t,this.ast.animation,o,s,b,I,oe,l,d);let ze=0;return de.forEach(ft=>{ze=Math.max(ft.duration+ft.delay,ze)}),d.length?WX(t,this._triggerName,i,r,K,b,I,[],[],M,V,ze,d):(de.forEach(ft=>{const oi=ft.element,qi=eo(M,oi,new Set);ft.preStyleProps.forEach(no=>qi.add(no));const Zh=eo(V,oi,new Set);ft.postStyleProps.forEach(no=>Zh.add(no)),oi!==t&&k.add(oi)}),WX(t,this._triggerName,i,r,K,b,I,de,[...k.values()],M,V,ze))}}function QX(n,e){const t={...e};return Object.entries(n).forEach(([i,r])=>{null!=r&&(t[i]=r)}),t}class NLe{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=QX(e,this.defaultParams);return this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,a)=>{s&&(s=u_(s,r,t));const c=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,c,s,t),i.set(a,s)})}),i}}class LLe{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new NLe(r.style,r.options&&r.options.params||{},i))}),YX(this.states,"true","1"),YX(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new KX(e,r,this.states))}),this.fallbackTransition=function VLe(n,e,t){return new KX(n,{type:Oe.Transition,animation:{type:Oe.Sequence,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(s=>s.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function YX(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const BLe=new DC;class ULe{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],o=K2(this._driver,t,i,[]);if(i.length)throw function GFe(n){return new U(3503,!1)}();this._animations.set(e,o)}_buildPlayer(e,t,i){const r=e.element,o=PX(this._normalizer,e.keyframes,t,i);return this._driver.animate(r,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],o=this._animations.get(e);let s;const a=new Map;if(o?(s=X2(this._driver,t,o,z2,vC,new Map,new Map,i,BLe,r),s.forEach(u=>{const d=eo(a,u.element,new Map);u.postStyleProps.forEach(h=>d.set(h,null))})):(r.push(function qFe(){return new U(3300,!1)}()),s=[]),r.length)throw function WFe(n){return new U(3504,!1)}();a.forEach((u,d)=>{u.forEach((h,f)=>{u.set(f,this._driver.computeStyle(d,f,ba))})});const l=Oc(s.map(u=>{const d=a.get(u.element);return this._buildPlayer(u,new Map,d)}));return this._playersById.set(e,l),l.onDestroy(()=>this.destroy(e)),this.players.push(l),l}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function KFe(n){return new U(3301,!1)}();return t}listen(e,t,i,r){const o=L2(t,"","","");return N2(this._getPlayer(e),i,o,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const o=this._getPlayer(e);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const XX="ng-animate-queued",eF="ng-animate-disabled",GLe=[],ZX={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},qLe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Go="__ng_removed";class tF{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function YLe(n){return n??null}(i?e.value:e),i){const{value:o,...s}=e;this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const d_="void",nF=new tF(d_);class WLe{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,vo(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function QFe(n,e){return new U(3302,!1)}();if(null==i||0==i.length)throw function YFe(n){return new U(3303,!1)}();if(!function XLe(n){return"start"==n||"done"==n}(i))throw function XFe(n,e){return new U(3400,!1)}();const o=eo(this._elementListeners,e,[]),s={name:t,phase:i,callback:r};o.push(s);const a=eo(this._engine.statesByElement,e,new Map);return a.has(t)||(vo(e,wC),vo(e,wC+"-"+t),a.set(t,nF)),()=>{this._engine.afterFlush(()=>{const c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function ZFe(n){return new U(3401,!1)}();return t}trigger(e,t,i,r=!0){const o=this._getTrigger(t),s=new iF(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(vo(e,wC),vo(e,wC+"-"+t),this._engine.statesByElement.set(e,a=new Map));let c=a.get(t);const l=new tF(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&c&&l.absorbOptions(c.options),a.set(t,l),c||(c=nF),l.value!==d_&&c.value===l.value){if(!function e3e(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const o=t[r];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}(c.params,l.params)){const x=[],I=o.matchStyles(c.value,c.params,x),k=o.matchStyles(l.value,l.params,x);x.length?this._engine.reportError(x):this._engine.afterFlush(()=>{uu(e,I),Rs(e,k)})}return}const h=eo(this._engine.playersByElement,e,[]);h.forEach(x=>{x.namespaceId==this.id&&x.triggerName==t&&x.queued&&x.destroy()});let f=o.matchTransition(c.value,l.value,e,l.params),b=!1;if(!f){if(!r)return;f=o.fallbackTransition,b=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:f,fromState:c,toState:l,player:s,isFallbackTransition:b}),b||(vo(e,XX),s.onStart(()=>{Xh(e,XX)})),s.onDone(()=>{let x=this.players.indexOf(s);x>=0&&this.players.splice(x,1);const I=this._engine.playersByElement.get(e);if(I){let k=I.indexOf(s);k>=0&&I.splice(k,1)}}),this.players.push(s),h.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,CC,!0);i.forEach(r=>{if(r[Go])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const o=this._engine.statesByElement.get(e),s=new Map;if(o){const a=[];if(o.forEach((c,l)=>{if(s.set(l,c.value),this._triggers.has(l)){const u=this.trigger(e,l,d_,r);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),i&&Oc(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(o=>{const s=o.name;if(r.has(s))return;r.add(s);const c=this._triggers.get(s).fallbackTransition,l=i.get(s)||nF,u=new tF(d_),d=new iF(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:c,fromState:l,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(e):[];if(o&&o.length)r=!0;else{let s=e;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const o=e[Go];(!o||o===ZX)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){vo(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==i.triggerName){const c=L2(o,i.triggerName,i.fromState.value,i.toState.value);c._data=e,N2(i.player,a.phase,c,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const o=i.transition.ast.depCount,s=r.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class KLe{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i,r){this.bodyNode=e,this.driver=t,this._normalizer=i,this.scheduler=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new WLe(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){const c=r.get(a);if(c){const l=i.indexOf(c);i.splice(l+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&t.add(o)}return t}trigger(e,t,i,r){if(AC(t)){const o=this._fetchNamespace(e);if(o)return o.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!AC(t))return;const o=t[Go];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){const s=this._fetchNamespace(e);s&&s.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),vo(e,eF)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Xh(e,eF))}removeNode(e,t,i){if(AC(t)){this.scheduler?.notify();const r=e?this._fetchNamespace(e):null;r?r.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i);const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,i)}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,i,r,o){this.collectedLeaveElements.push(t),t[Go]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,i,r,o){return AC(t)?this._fetchNamespace(e).listen(t,i,r,o):()=>{}}_buildInstruction(e,t,i,r,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,CC,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,$2,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Oc(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Go];if(t&&t.setForRemoval){if(e[Go]=ZX,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(eF)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)vo(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?Oc(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function JFe(n){return new U(3402,!1)}()}_flushAnimations(e,t){const i=new DC,r=[],o=new Map,s=[],a=new Map,c=new Map,l=new Map,u=new Set;this.disabledNodes.forEach(ge=>{u.add(ge);const _e=this.driver.query(ge,".ng-animate-queued",!0);for(let we=0;we<_e.length;we++)u.add(_e[we])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=tZ(h,this.collectedEnterElements),b=new Map;let x=0;f.forEach((ge,_e)=>{const we=z2+x++;b.set(_e,we),ge.forEach(_t=>vo(_t,we))});const I=[],k=new Set,M=new Set;for(let ge=0;ge<this.collectedLeaveElements.length;ge++){const _e=this.collectedLeaveElements[ge],we=_e[Go];we&&we.setForRemoval&&(I.push(_e),k.add(_e),we.hasAnimation?this.driver.query(_e,".ng-star-inserted",!0).forEach(_t=>k.add(_t)):M.add(_e))}const V=new Map,K=tZ(h,Array.from(k));K.forEach((ge,_e)=>{const we=vC+x++;V.set(_e,we),ge.forEach(_t=>vo(_t,we))}),e.push(()=>{f.forEach((ge,_e)=>{const we=b.get(_e);ge.forEach(_t=>Xh(_t,we))}),K.forEach((ge,_e)=>{const we=V.get(_e);ge.forEach(_t=>Xh(_t,we))}),I.forEach(ge=>{this.processLeaveNode(ge)})});const oe=[],de=[];for(let ge=this._namespaceList.length-1;ge>=0;ge--)this._namespaceList[ge].drainQueuedTransitions(t).forEach(we=>{const _t=we.player,ki=we.element;if(oe.push(_t),this.collectedEnterElements.length){const ar=ki[Go];if(ar&&ar.setForMove){if(ar.previousTriggersValues&&ar.previousTriggersValues.has(we.triggerName)){const pu=ar.previousTriggersValues.get(we.triggerName),wo=this.statesByElement.get(we.element);if(wo&&wo.has(we.triggerName)){const OC=wo.get(we.triggerName);OC.value=pu,wo.set(we.triggerName,OC)}}return void _t.destroy()}}const Ns=!d||!this.driver.containsElement(d,ki),io=V.get(ki),Pc=b.get(ki),Dn=this._buildInstruction(we,i,Pc,io,Ns);if(Dn.errors&&Dn.errors.length)return void de.push(Dn);if(Ns)return _t.onStart(()=>uu(ki,Dn.fromStyles)),_t.onDestroy(()=>Rs(ki,Dn.toStyles)),void r.push(_t);if(we.isFallbackTransition)return _t.onStart(()=>uu(ki,Dn.fromStyles)),_t.onDestroy(()=>Rs(ki,Dn.toStyles)),void r.push(_t);const uZ=[];Dn.timelines.forEach(ar=>{ar.stretchStartingKeyframe=!0,this.disabledNodes.has(ar.element)||uZ.push(ar)}),Dn.timelines=uZ,i.append(ki,Dn.timelines),s.push({instruction:Dn,player:_t,element:ki}),Dn.queriedElements.forEach(ar=>eo(a,ar,[]).push(_t)),Dn.preStyleProps.forEach((ar,pu)=>{if(ar.size){let wo=c.get(pu);wo||c.set(pu,wo=new Set),ar.forEach((OC,sF)=>wo.add(sF))}}),Dn.postStyleProps.forEach((ar,pu)=>{let wo=l.get(pu);wo||l.set(pu,wo=new Set),ar.forEach((OC,sF)=>wo.add(sF))})});if(de.length){const ge=[];de.forEach(_e=>{ge.push(function eLe(n,e){return new U(3505,!1)}())}),oe.forEach(_e=>_e.destroy()),this.reportError(ge)}const ze=new Map,ft=new Map;s.forEach(ge=>{const _e=ge.element;i.has(_e)&&(ft.set(_e,_e),this._beforeAnimationBuild(ge.player.namespaceId,ge.instruction,ze))}),r.forEach(ge=>{const _e=ge.element;this._getPreviousPlayers(_e,!1,ge.namespaceId,ge.triggerName,null).forEach(_t=>{eo(ze,_e,[]).push(_t),_t.destroy()})});const oi=I.filter(ge=>iZ(ge,c,l)),qi=new Map;eZ(qi,this.driver,M,l,ba).forEach(ge=>{iZ(ge,c,l)&&oi.push(ge)});const no=new Map;f.forEach((ge,_e)=>{eZ(no,this.driver,new Set(ge),c,"!")}),oi.forEach(ge=>{const _e=qi.get(ge),we=no.get(ge);qi.set(ge,new Map([..._e?.entries()??[],...we?.entries()??[]]))});const Ft=[],hu=[],fu={};s.forEach(ge=>{const{element:_e,player:we,instruction:_t}=ge;if(i.has(_e)){if(u.has(_e))return we.onDestroy(()=>Rs(_e,_t.toStyles)),we.disabled=!0,we.overrideTotalTime(_t.totalTime),void r.push(we);let ki=fu;if(ft.size>1){let io=_e;const Pc=[];for(;io=io.parentNode;){const Dn=ft.get(io);if(Dn){ki=Dn;break}Pc.push(io)}Pc.forEach(Dn=>ft.set(Dn,ki))}const Ns=this._buildAnimation(we.namespaceId,_t,ze,o,no,qi);if(we.setRealPlayer(Ns),ki===fu)Ft.push(we);else{const io=this.playersByElement.get(ki);io&&io.length&&(we.parentPlayer=Oc(io)),r.push(we)}}else uu(_e,_t.fromStyles),we.onDestroy(()=>Rs(_e,_t.toStyles)),hu.push(we),u.has(_e)&&r.push(we)}),hu.forEach(ge=>{const _e=o.get(ge.element);if(_e&&_e.length){const we=Oc(_e);ge.setRealPlayer(we)}}),r.forEach(ge=>{ge.parentPlayer?ge.syncPlayerEvents(ge.parentPlayer):ge.destroy()});for(let ge=0;ge<I.length;ge++){const _e=I[ge],we=_e[Go];if(Xh(_e,vC),we&&we.hasAnimation)continue;let _t=[];if(a.size){let Ns=a.get(_e);Ns&&Ns.length&&_t.push(...Ns);let io=this.driver.query(_e,$2,!0);for(let Pc=0;Pc<io.length;Pc++){let Dn=a.get(io[Pc]);Dn&&Dn.length&&_t.push(...Dn)}}const ki=_t.filter(Ns=>!Ns.destroyed);ki.length?ZLe(this,_e,ki):this.processLeaveNode(_e)}return I.length=0,Ft.forEach(ge=>{this.players.push(ge),ge.onDone(()=>{ge.destroy();const _e=this.players.indexOf(ge);this.players.splice(_e,1)}),ge.play()}),Ft}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,o){let s=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(s=a)}else{const a=this.playersByElement.get(e);if(a){const c=!o||o==d_;a.forEach(l=>{l.queued||!c&&l.triggerName!=r||s.push(l)})}}return(i||r)&&(s=s.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(e,t,i){const o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const c of t.timelines){const l=c.element,u=l!==o,d=eo(i,l,[]);this._getPreviousPlayers(l,u,s,a,t.toState).forEach(f=>{const b=f.getRealPlayer();b.beforeDestroy&&b.beforeDestroy(),f.destroy(),d.push(f)})}uu(o,t.fromStyles)}_buildAnimation(e,t,i,r,o,s){const a=t.triggerName,c=t.element,l=[],u=new Set,d=new Set,h=t.timelines.map(b=>{const x=b.element;u.add(x);const I=x[Go];if(I&&I.removedBeforeQueried)return new r_(b.duration,b.delay);const k=x!==c,M=function JLe(n){const e=[];return nZ(n,e),e}((i.get(x)||GLe).map(ze=>ze.getRealPlayer())).filter(ze=>!!ze.element&&ze.element===x),V=o.get(x),K=s.get(x),oe=PX(this._normalizer,b.keyframes,V,K),de=this._buildPlayer(b,oe,M);if(b.subTimeline&&r&&d.add(x),k){const ze=new iF(e,a,x);ze.setRealPlayer(de),l.push(ze)}return de});l.forEach(b=>{eo(this.playersByQueriedElement,b.element,[]).push(b),b.onDone(()=>function QLe(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,b.element,b))}),u.forEach(b=>vo(b,BX));const f=Oc(h);return f.onDestroy(()=>{u.forEach(b=>Xh(b,BX)),Rs(c,t.toStyles)}),d.forEach(b=>{eo(r,b,[]).push(f)}),f}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new r_(e.duration,e.delay)}}class iF{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new r_,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>N2(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){eo(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function AC(n){return n&&1===n.nodeType}function JX(n,e){const t=n.style.display;return n.style.display=e??"none",t}function eZ(n,e,t,i,r){const o=[];t.forEach(c=>o.push(JX(c)));const s=[];i.forEach((c,l)=>{const u=new Map;c.forEach(d=>{const h=e.computeStyle(l,d,r);u.set(d,h),(!h||0==h.length)&&(l[Go]=qLe,s.push(l))}),n.set(l,u)});let a=0;return t.forEach(c=>JX(c,o[a++])),s}function tZ(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const r=new Set(e),o=new Map;function s(a){if(!a)return 1;let c=o.get(a);if(c)return c;const l=a.parentNode;return c=t.has(l)?l:r.has(l)?1:s(l),o.set(a,c),c}return e.forEach(a=>{const c=s(a);1!==c&&t.get(c).push(a)}),t}function vo(n,e){n.classList?.add(e)}function Xh(n,e){n.classList?.remove(e)}function ZLe(n,e,t){Oc(t).onDone(()=>n.processLeaveNode(e))}function nZ(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof YY?nZ(i.players,e):e.push(i)}}function iZ(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(o=>r.add(o)):e.set(n,i),t.delete(n),!0}class h_{constructor(e,t,i,r){this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(o,s)=>{},this._transitionEngine=new KLe(e.body,t,i,r),this._timelineEngine=new ULe(e.body,t,i),this._transitionEngine.onRemovalComplete=(o,s)=>this.onRemovalComplete(o,s)}registerTrigger(e,t,i,r,o){const s=e+"-"+r;let a=this._triggerCache[s];if(!a){const c=[],u=K2(this._driver,o,c,[]);if(c.length)throw function $Fe(n,e){return new U(3404,!1)}();a=function FLe(n,e,t){return new LLe(n,e,t)}(r,u,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,r,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i){this._transitionEngine.removeNode(e,t,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[o,s]=RX(i);this._timelineEngine.command(o,t,s,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,o){if("@"==i.charAt(0)){const[s,a]=RX(i);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,i,r,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}class f_{static#e=this.initialStylesByElement=new WeakMap;constructor(e,t,i){this._element=e,this._startStyles=t,this._endStyles=i,this._state=0;let r=f_.initialStylesByElement.get(e);r||f_.initialStylesByElement.set(e,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&Rs(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Rs(this._element,this._initialStyles),this._endStyles&&(Rs(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(f_.initialStylesByElement.delete(this._element),this._startStyles&&(uu(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(uu(this._element,this._endStyles),this._endStyles=null),Rs(this._element,this._initialStyles),this._state=3)}}function rF(n){let e=null;return n.forEach((t,i)=>{(function n3e(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class rZ{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;const t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:W2(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class oZ{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return FX(e,t)}getParentElement(e){return V2(e)}query(e,t,i){return LX(e,t,i)}computeStyle(e,t,i){return W2(e,t)}animate(e,t,i,r,o,s=[]){const c={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(c.easing=o);const l=new Map,u=s.filter(f=>f instanceof rZ);(function fLe(n,e){return 0===n||0===e})(i,r)&&u.forEach(f=>{f.currentSnapshot.forEach((b,x)=>l.set(x,b))});let d=function uLe(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}(t).map(f=>new Map(f));d=function pLe(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((o,s)=>{i.has(s)||r.push(s),i.set(s,o)}),r.length)for(let o=1;o<e.length;o++){let s=e[o];r.forEach(a=>s.set(a,W2(n,a)))}}return e}(e,d,l);const h=function t3e(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=rF(e[0]),e.length>1&&(i=rF(e[e.length-1]))):e instanceof Map&&(t=rF(e)),t||i?new f_(n,t,i):null}(e,d);return new rZ(e,d,c,h)}}const sZ="@.disabled";class aZ{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==sZ?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class i3e extends aZ{constructor(e,t,i,r,o){super(t,i,r,o),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==sZ?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function r3e(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let o=t.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function o3e(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(o)),this.engine.listen(this.namespaceId,r,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(e,t,i)}}class s3e{constructor(e,t,i){this.delegate=e,this.engine=t,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,t.onRemovalComplete=(r,o)=>{const s=o?.parentNode(r);s&&o.removeChild(s,r)}}createRenderer(e,t){const r=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){const l=this._rendererCache;let u=l.get(r);return u||(u=new aZ("",r,this.engine,()=>l.delete(r)),l.set(r,u)),u}const o=t.id,s=t.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);const a=l=>{Array.isArray(l)?l.forEach(a):this.engine.registerTrigger(o,s,e,l.name,l)};return t.data.animation.forEach(a),new i3e(this,s,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,i){if(e>=0&&e<this._microtaskId)return void this._zone.run(()=>t(i));const r=this._animationCallbacksBuffer;0==r.length&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),r.push([t,i])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}let a3e=(()=>{class n extends h_{constructor(t,i,r){super(t,i,r,Z(zE,{optional:!0}))}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(i){return new(i||n)($(lt),$(U2),$(j2))};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac})}return n})();const cZ=[{provide:j2,useFactory:function c3e(){return new zX}},{provide:h_,useClass:a3e},{provide:$E,useFactory:function l3e(n,e,t){return new s3e(n,e,t)},deps:[OI,h_,Ee]}],oF=[{provide:U2,useFactory:()=>new oZ},{provide:jc,useValue:"BrowserAnimations"},...cZ],lZ=[{provide:U2,useClass:B2},{provide:jc,useValue:"NoopAnimations"},...cZ];let u3e=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?lZ:oF}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ze({type:n});static#n=this.\u0275inj=Xe({providers:oF,imports:[Tj]})}return n})();const d3e=n=>()=>n.initPwaPrompt();let h3e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ze({type:n,bootstrap:[CMe]});static#n=this.\u0275inj=Xe({providers:[{provide:Va,useClass:zU},{provide:cp,useFactory:d3e,deps:[R2e],multi:!0}],imports:[zNe,y2e,kX,wFe,kX,k2e,u3e,il,Lo,Tj,PW,Ly,gMe,C0e(()=>x0e(xMe_firebase)),sEe(()=>vs()),Qke(()=>Yke()),rMe(()=>{const t=sMe();return oMe(t),t}),wOe(()=>COe()),DPe,MPe,p2e,r2,JNe.register("ngsw-worker.js",{enabled:!0,registrationStrategy:"registerWhenStable:30000"})]})}return n})();hhe().bootstrapModule(h3e).catch(n=>console.error(n))},2448:(xe,S,N)=>{var _=ce(N(4824)),R=ce(N(988)),W=ce(N(5948)),B=ce(N(6448)),m=ce(N(7740)),C=ce(N(8620)),T=ce(N(9916)),A=N(6900),J=ce(N(7312));function ce(Ke){return Ke&&Ke.__esModule?Ke:{default:Ke}}var he=function(){},Ht=function(Gt,Mn,on){var hn=new he;if(typeof Gt>"u")throw Error("No element to render on was provided.");return hn._renderProperties=(0,m.default)(Gt),hn._encodings=[],hn._options=J.default,hn._errorHandler=new T.default(hn),typeof Mn<"u"&&((on=on||{}).format||(on.format=Rc()),hn.options(on)[on.format](Mn,on).render()),hn};for(var cr in Ht.getModule=function(Ke){return _.default[Ke]},_.default)_.default.hasOwnProperty(cr)&&Co(_.default,cr);function Co(Ke,Gt){he.prototype[Gt]=he.prototype[Gt.toUpperCase()]=he.prototype[Gt.toLowerCase()]=function(Mn,on){var hn=this;return hn._errorHandler.wrapBarcodeCall(function(){on.text=typeof on.text>"u"?void 0:""+on.text;var xr=(0,R.default)(hn._options,on);xr=(0,C.default)(xr);var aF=wa(Mn,Ke[Gt],xr);return hn._encodings.push(aF),hn})}}function wa(Ke,Gt,Mn){var on=new Gt(Ke=""+Ke,Mn);if(!on.valid())throw new A.InvalidInputException(on.constructor.name,Ke);var hn=on.encode();hn=(0,W.default)(hn);for(var xr=0;xr<hn.length;xr++)hn[xr].options=(0,R.default)(Mn,hn[xr].options);return hn}function Rc(){return _.default.CODE128?"CODE128":Object.keys(_.default)[0]}function Fs(Ke,Gt,Mn){Gt=(0,W.default)(Gt);for(var on=0;on<Gt.length;on++)Gt[on].options=(0,R.default)(Mn,Gt[on].options),(0,B.default)(Gt[on].options);(0,B.default)(Mn),new(0,Ke.renderer)(Ke.element,Gt,Mn).render(),Ke.afterRender&&Ke.afterRender()}he.prototype.options=function(Ke){return this._options=(0,R.default)(this._options,Ke),this},he.prototype.blank=function(Ke){var Gt=new Array(Ke+1).join("0");return this._encodings.push({data:Gt}),this},he.prototype.init=function(){var Ke;if(this._renderProperties)for(var Gt in Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]),this._renderProperties){var Mn=(0,R.default)(this._options,(Ke=this._renderProperties[Gt]).options);"auto"==Mn.format&&(Mn.format=Rc()),this._errorHandler.wrapBarcodeCall(function(){var xr=wa(Mn.value,_.default[Mn.format.toUpperCase()],Mn);Fs(Ke,xr,Mn)})}},he.prototype.render=function(){if(!this._renderProperties)throw new A.NoElementException;if(Array.isArray(this._renderProperties))for(var Ke=0;Ke<this._renderProperties.length;Ke++)Fs(this._renderProperties[Ke],this._encodings,this._options);else Fs(this._renderProperties,this._encodings,this._options);return this},he.prototype._defaults=J.default,typeof window<"u"&&(window.JsBarcode=Ht),typeof jQuery<"u"&&(jQuery.fn.JsBarcode=function(Ke,Gt){var Mn=[];return jQuery(this).each(function(){Mn.push(this)}),Ht(Mn,Ke,Gt)}),xe.exports=Ht},2660:(xe,S)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.default=function _(j,R){(function N(_,j){if(!(_ instanceof j))throw new TypeError("Cannot call a class as a function")})(this,_),this.data=j,this.text=R.text||j,this.options=R}},6132:(xe,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0});var H=function(){function m(y,C){for(var v=0;v<C.length;v++){var T=C[v];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(y,T.key,T)}}return function(y,C,v){return C&&m(y.prototype,C),v&&m(y,v),y}}(),j=function G(m){return m&&m.__esModule?m:{default:m}}(N(2660)),R=N(1880),D=function(m){function y(C,v){!function W(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")}(this,y);var T=function P(m,y){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!y||"object"!=typeof y&&"function"!=typeof y?m:y}(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,C.substring(1),v));return T.bytes=C.split("").map(function(A){return A.charCodeAt(0)}),T}return function B(m,y){if("function"!=typeof y&&null!==y)throw new TypeError("Super expression must either be null or a function, not "+typeof y);m.prototype=Object.create(y&&y.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(m,y):m.__proto__=y)}(y,m),H(y,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var v=this.bytes,T=v.shift()-105,A=R.SET_BY_CODE[T];if(void 0===A)throw new RangeError("The encoding does not start with a start character.");!0===this.shouldEncodeAsEan128()&&v.unshift(R.FNC1);var O=y.next(v,1,A);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:y.getBar(T)+O.result+y.getBar((O.checksum+T)%R.MODULO)+y.getBar(R.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var v=this.options.ean128||!1;return"string"==typeof v&&(v="true"===v.toLowerCase()),v}}],[{key:"getBar",value:function(v){return R.BARS[v]?R.BARS[v].toString():""}},{key:"correctIndex",value:function(v,T){if(T===R.SET_A){var A=v.shift();return A<32?A+64:A-32}return T===R.SET_B?v.shift()-32:10*(v.shift()-48)+v.shift()-48}},{key:"next",value:function(v,T,A){if(!v.length)return{result:"",checksum:0};var O=void 0,J=void 0;if(v[0]>=200){J=v.shift()-105;var ce=R.SWAP[J];void 0!==ce?O=y.next(v,T+1,ce):((A===R.SET_A||A===R.SET_B)&&J===R.SHIFT&&(v[0]=A===R.SET_A?v[0]>95?v[0]-96:v[0]:v[0]<32?v[0]+96:v[0]),O=y.next(v,T+1,A))}else J=y.correctIndex(v,A),O=y.next(v,T+1,A);return{result:y.getBar(J)+O.result,checksum:J*T+O.checksum}}}]),y}(j.default);S.default=D},1856:(xe,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0});var H=function(){function m(y,C){for(var v=0;v<C.length;v++){var T=C[v];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(y,T.key,T)}}return function(y,C,v){return C&&m(y.prototype,C),v&&m(y,v),y}}(),j=function G(m){return m&&m.__esModule?m:{default:m}}(N(6132)),R=N(1880),D=function(m){function y(C,v){return function W(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")}(this,y),function P(m,y){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!y||"object"!=typeof y&&"function"!=typeof y?m:y}(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,R.A_START_CHAR+C,v))}return function B(m,y){if("function"!=typeof y&&null!==y)throw new TypeError("Super expression must either be null or a function, not "+typeof y);m.prototype=Object.create(y&&y.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(m,y):m.__proto__=y)}(y,m),H(y,[{key:"valid",value:function(){return new RegExp("^"+R.A_CHARS+"+$").test(this.data)}}]),y}(j.default);S.default=D},4640:(xe,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0});var H=function(){function m(y,C){for(var v=0;v<C.length;v++){var T=C[v];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(y,T.key,T)}}return function(y,C,v){return C&&m(y.prototype,C),v&&m(y,v),y}}(),j=function G(m){return m&&m.__esModule?m:{default:m}}(N(6132)),R=N(1880),D=function(m){function y(C,v){return function W(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")}(this,y),function P(m,y){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!y||"object"!=typeof y&&"function"!=typeof y?m:y}(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,R.B_START_CHAR+C,v))}return function B(m,y){if("function"!=typeof y&&null!==y)throw new TypeError("Super expression must either be null or a function, not "+typeof y);m.prototype=Object.create(y&&y.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(m,y):m.__proto__=y)}(y,m),H(y,[{key:"valid",value:function(){return new RegExp("^"+R.B_CHARS+"+$").test(this.data)}}]),y}(j.default);S.default=D},9256:(xe,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0});var H=function(){function m(y,C){for(var v=0;v<C.length;v++){var T=C[v];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(y,T.key,T)}}return function(y,C,v){return C&&m(y.prototype,C),v&&m(y,v),y}}(),j=function G(m){return m&&m.__esModule?m:{default:m}}(N(6132)),R=N(1880),D=function(m){function y(C,v){return function W(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")}(this,y),function P(m,y){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!y||"object"!=typeof y&&"function"!=typeof y?m:y}(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,R.C_START_CHAR+C,v))}return function B(m,y){if("function"!=typeof y&&null!==y)throw new TypeError("Super expression must either be null or a function, not "+typeof y);m.prototype=Object.create(y&&y.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(m,y):m.__proto__=y)}(y,m),H(y,[{key:"valid",value:function(){return new RegExp("^"+R.C_CHARS+"+$").test(this.data)}}]),y}(j.default);S.default=D},2016:(xe,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0});var _=G(N(6132)),R=G(N(3136));function G(m){return m&&m.__esModule?m:{default:m}}function P(m,y){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!y||"object"!=typeof y&&"function"!=typeof y?m:y}var D=function(m){function y(C,v){if(function W(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")}(this,y),/^[\x00-\x7F\xC8-\xD3]+$/.test(C))var T=P(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,(0,R.default)(C),v));else T=P(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,C,v));return P(T)}return function B(m,y){if("function"!=typeof y&&null!==y)throw new TypeError("Super expression must either be null or a function, not "+typeof y);m.prototype=Object.create(y&&y.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(m,y):m.__proto__=y)}(y,m),y}(_.default);S.default=D},3136:(xe,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0});var H=N(1880),_=function(B){return B.match(new RegExp("^"+H.A_CHARS+"*"))[0].length},j=function(B){return B.match(new RegExp("^"+H.B_CHARS+"*"))[0].length},R=function(B){return B.match(new RegExp("^"+H.C_CHARS+"*"))[0]};function G(P,B){var D=B?H.A_CHARS:H.B_CHARS,m=P.match(new RegExp("^("+D+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(m)return m[1]+"\xcc"+W(P.substring(m[1].length));var y=P.match(new RegExp("^"+D+"+"))[0];return y.length===P.length?P:y+String.fromCharCode(B?205:206)+G(P.substring(y.length),!B)}function W(P){var B=R(P),D=B.length;if(D===P.length)return P;P=P.substring(D);var m=_(P)>=j(P);return B+String.fromCharCode(m?206:205)+G(P,m)}S.default=function(P){var B=void 0;if(R(P).length>=2)B=H.C_START_CHAR+W(P);else{var m=_(P)>j(P);B=(m?H.A_START_CHAR:H.B_START_CHAR)+G(P,m)}return B.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,function(y,C){return"\xcb"+C})}},1880:(xe,S)=>{var N;function H(cr,Co,wa){return Co in cr?Object.defineProperty(cr,Co,{value:wa,enumerable:!0,configurable:!0,writable:!0}):cr[Co]=wa,cr}Object.defineProperty(S,"__esModule",{value:!0});var _=S.SET_A=0,j=S.SET_B=1,R=S.SET_C=2,W=(S.SHIFT=98,S.START_A=103),P=S.START_B=104,B=S.START_C=105;S.MODULO=103,S.STOP=106,S.FNC1=207,S.SET_BY_CODE=(H(N={},W,_),H(N,P,j),H(N,B,R),N),S.SWAP={101:_,100:j,99:R},S.A_START_CHAR="\xd0",S.B_START_CHAR="\xd1",S.C_START_CHAR="\xd2",S.A_CHARS="[\0-_\xc8-\xcf]",S.B_CHARS="[ -\x7f\xc8-\xcf]",S.C_CHARS="(\xcf*[0-9]{2}\xcf*)",S.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011]},7224:(xe,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.CODE128C=S.CODE128B=S.CODE128A=S.CODE128=void 0;var _=D(N(2016)),R=D(N(1856)),W=D(N(4640)),B=D(N(9256));function D(m){return m&&m.__esModule?m:{default:m}}S.CODE128=_.default,S.CODE128A=R.default,S.CODE128B=W.default,S.CODE128C=B.default},5872:(xe,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.CODE39=void 0;var H=function(){function O(J,ce){for(var he=0;he<ce.length;he++){var Ht=ce[he];Ht.enumerable=Ht.enumerable||!1,Ht.configurable=!0,"value"in Ht&&(Ht.writable=!0),Object.defineProperty(J,Ht.key,Ht)}}return function(J,ce,he){return ce&&O(J.prototype,ce),he&&O(J,he),J}}(),B=function(O){function J(ce,he){return function G(O,J){if(!(O instanceof J))throw new TypeError("Cannot call a class as a function")}(this,J),ce=ce.toUpperCase(),he.mod43&&(ce+=function v(O){return D[O]}(function A(O){for(var J=0,ce=0;ce<O.length;ce++)J+=T(O[ce]);return J%=43}(ce))),function W(O,J){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!J||"object"!=typeof J&&"function"!=typeof J?O:J}(this,(J.__proto__||Object.getPrototypeOf(J)).call(this,ce,he))}return function P(O,J){if("function"!=typeof J&&null!==J)throw new TypeError("Super expression must either be null or a function, not "+typeof J);O.prototype=Object.create(J&&J.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),J&&(Object.setPrototypeOf?Object.setPrototypeOf(O,J):O.__proto__=J)}(J,O),H(J,[{key:"encode",value:function(){for(var he=y("*"),Ht=0;Ht<this.data.length;Ht++)he+=y(this.data[Ht])+"0";return{data:he+=y("*"),text:this.text}}},{key:"valid",value:function(){return-1!==this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)}}]),J}(function R(O){return O&&O.__esModule?O:{default:O}}(N(2660)).default),D=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],m=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function y(O){return function C(O){return m[O].toString(2)}(T(O))}function T(O){return D.indexOf(O)}S.CODE39=B},8512:(xe,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0});var H=function(){function C(v,T){for(var A=0;A<T.length;A++){var O=T[A];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(v,O.key,O)}}return function(v,T,A){return T&&C(v.prototype,T),A&&C(v,A),v}}(),_=N(8600),R=P(N(1496));function P(C){return C&&C.__esModule?C:{default:C}}var y=function(C){function v(T,A){!function B(C,v){if(!(C instanceof v))throw new TypeError("Cannot call a class as a function")}(this,v);var O=function D(C,v){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||"object"!=typeof v&&"function"!=typeof v?C:v}(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,T,A));return O.fontSize=!A.flat&&A.fontSize>10*A.width?10*A.width:A.fontSize,O.guardHeight=A.height+O.fontSize/2+A.textMargin,O}return function m(C,v){if("function"!=typeof v&&null!==v)throw new TypeError("Super expression must either be null or a function, not "+typeof v);C.prototype=Object.create(v&&v.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(C,v):C.__proto__=v)}(v,C),H(v,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(A,O){return this.text.substr(A,O)}},{key:"leftEncode",value:function(A,O){return(0,R.default)(A,O)}},{key:"rightText",value:function(A,O){return this.text.substr(A,O)}},{key:"rightEncode",value:function(A,O){return(0,R.default)(A,O)}},{key:"encodeGuarded",value:function(){var A={fontSize:this.fontSize},O={height:this.guardHeight};return[{data:_.SIDE_BIN,options:O},{data:this.leftEncode(),text:this.leftText(),options:A},{data:_.MIDDLE_BIN,options:O},{data:this.rightEncode(),text:this.rightText(),options:A},{data:_.SIDE_BIN,options:O}]}},{key:"encodeFlat",value:function(){return{data:[_.SIDE_BIN,this.leftEncode(),_.MIDDLE_BIN,this.rightEncode(),_.SIDE_BIN].join(""),text:this.text}}}]),v}(P(N(2660)).default);S.default=y},2308:(xe,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0});var H=function(){function C(v,T){for(var A=0;A<T.length;A++){var O=T[A];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(v,O.key,O)}}return function(v,T,A){return T&&C(v.prototype,T),A&&C(v,A),v}}(),_=function C(v,T,A){null===v&&(v=Function.prototype);var O=Object.getOwnPropertyDescriptor(v,T);if(void 0===O){var J=Object.getPrototypeOf(v);return null===J?void 0:C(J,T,A)}if("value"in O)return O.value;var ce=O.get;return void 0===ce?void 0:ce.call(A)},j=N(8600),G=function W(C){return C&&C.__esModule?C:{default:C}}(N(8512)),m=function(v){return(10-v.substr(0,12).split("").map(function(A){return+A}).reduce(function(A,O,J){return J%2?A+3*O:A+O},0)%10)%10},y=function(C){function v(T,A){(function P(C,v){if(!(C instanceof v))throw new TypeError("Cannot call a class as a function")})(this,v),-1!==T.search(/^[0-9]{12}$/)&&(T+=m(T));var O=function B(C,v){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||"object"!=typeof v&&"function"!=typeof v?C:v}(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,T,A));return O.lastChar=A.lastChar,O}return function D(C,v){if("function"!=typeof v&&null!==v)throw new TypeError("Super expression must either be null or a function, not "+typeof v);C.prototype=Object.create(v&&v.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(C,v):C.__proto__=v)}(v,C),H(v,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{13}$/)&&+this.data[12]===m(this.data)}},{key:"leftText",value:function(){return _(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var A=this.data.substr(1,6),O=j.EAN13_STRUCTURE[this.data[0]];return _(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"leftEncode",this).call(this,A,O)}},{key:"rightText",value:function(){return _(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var A=this.data.substr(7,6);return _(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"rightEncode",this).call(this,A,"RRRRRR")}},{key:"encodeGuarded",value:function(){var A=_(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(A.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(A.push({data:"00"}),A.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),A}}]),v}(G.default);S.default=y},580:(xe,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0});var H=function(){function C(v,T){for(var A=0;A<T.length;A++){var O=T[A];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(v,O.key,O)}}return function(v,T,A){return T&&C(v.prototype,T),A&&C(v,A),v}}(),_=N(8600),R=P(N(1496));function P(C){return C&&C.__esModule?C:{default:C}}var y=function(C){function v(T,A){return function B(C,v){if(!(C instanceof v))throw new TypeError("Cannot call a class as a function")}(this,v),function D(C,v){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||"object"!=typeof v&&"function"!=typeof v?C:v}(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,T,A))}return function m(C,v){if("function"!=typeof v&&null!==v)throw new TypeError("Super expression must either be null or a function, not "+typeof v);C.prototype=Object.create(v&&v.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(C,v):C.__proto__=v)}(v,C),H(v,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{2}$/)}},{key:"encode",value:function(){var A=_.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,R.default)(this.data,A,"01"),text:this.text}}}]),v}(P(N(2660)).default);S.default=y},7168:(xe,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0});var H=function(){function v(T,A){for(var O=0;O<A.length;O++){var J=A[O];J.enumerable=J.enumerable||!1,J.configurable=!0,"value"in J&&(J.writable=!0),Object.defineProperty(T,J.key,J)}}return function(T,A,O){return A&&v(T.prototype,A),O&&v(T,O),T}}(),_=N(8600),R=P(N(1496));function P(v){return v&&v.__esModule?v:{default:v}}var C=function(v){function T(A,O){return function B(v,T){if(!(v instanceof T))throw new TypeError("Cannot call a class as a function")}(this,T),function D(v,T){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!T||"object"!=typeof T&&"function"!=typeof T?v:T}(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,A,O))}return function m(v,T){if("function"!=typeof T&&null!==T)throw new TypeError("Super expression must either be null or a function, not "+typeof T);v.prototype=Object.create(T&&T.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(v,T):v.__proto__=T)}(T,v),H(T,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{5}$/)}},{key:"encode",value:function(){var O=_.EAN5_STRUCTURE[function(T){return T.split("").map(function(O){return+O}).reduce(function(O,J,ce){return ce%2?O+9*J:O+3*J},0)%10}(this.data)];return{data:"1011"+(0,R.default)(this.data,O,"01"),text:this.text}}}]),T}(P(N(2660)).default);S.default=C},5240:(xe,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0});var H=function(){function y(C,v){for(var T=0;T<v.length;T++){var A=v[T];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(C,A.key,A)}}return function(C,v,T){return v&&y(C.prototype,v),T&&y(C,T),C}}(),_=function y(C,v,T){null===C&&(C=Function.prototype);var A=Object.getOwnPropertyDescriptor(C,v);if(void 0===A){var O=Object.getPrototypeOf(C);return null===O?void 0:y(O,v,T)}if("value"in A)return A.value;var J=A.get;return void 0===J?void 0:J.call(T)},R=function G(y){return y&&y.__esModule?y:{default:y}}(N(8512)),D=function(C){return(10-C.substr(0,7).split("").map(function(T){return+T}).reduce(function(T,A,O){return O%2?T+A:T+3*A},0)%10)%10},m=function(y){function C(v,T){return function W(y,C){if(!(y instanceof C))throw new TypeError("Cannot call a class as a function")}(this,C),-1!==v.search(/^[0-9]{7}$/)&&(v+=D(v)),function P(y,C){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!C||"object"!=typeof C&&"function"!=typeof C?y:C}(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,v,T))}return function B(y,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function, not "+typeof C);y.prototype=Object.create(C&&C.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(y,C):y.__proto__=C)}(C,y),H(C,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{8}$/)&&+this.data[7]===D(this.data)}},{key:"leftText",value:function(){return _(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var T=this.data.substr(0,4);return _(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"leftEncode",this).call(this,T,"LLLL")}},{key:"rightText",value:function(){return _(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var T=this.data.substr(4,4);return _(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"rightEncode",this).call(this,T,"RRRR")}}]),C}(R.default);S.default=m},7832:(xe,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0});var H=function(){function C(v,T){for(var A=0;A<T.length;A++){var O=T[A];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(v,O.key,O)}}return function(v,T,A){return T&&C(v.prototype,T),A&&C(v,A),v}}();S.checksum=y;var j=W(N(1496));function W(C){return C&&C.__esModule?C:{default:C}}var m=function(C){function v(T,A){(function P(C,v){if(!(C instanceof v))throw new TypeError("Cannot call a class as a function")})(this,v),-1!==T.search(/^[0-9]{11}$/)&&(T+=y(T));var O=function B(C,v){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||"object"!=typeof v&&"function"!=typeof v?C:v}(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,T,A));return O.displayValue=A.displayValue,O.fontSize=A.fontSize>10*A.width?10*A.width:A.fontSize,O.guardHeight=A.height+O.fontSize/2+A.textMargin,O}return function D(C,v){if("function"!=typeof v&&null!==v)throw new TypeError("Super expression must either be null or a function, not "+typeof v);C.prototype=Object.create(v&&v.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(C,v):C.__proto__=v)}(v,C),H(v,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{12}$/)&&this.data[11]==y(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var A="";return A+="101",A+=(0,j.default)(this.data.substr(0,6),"LLLLLL"),A+="01010",A+=(0,j.default)(this.data.substr(6,6),"RRRRRR"),{data:A+="101",text:this.text}}},{key:"guardedEncoding",value:function(){var A=[];return this.displayValue&&A.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),A.push({data:"101"+(0,j.default)(this.data[0],"L"),options:{height:this.guardHeight}}),A.push({data:(0,j.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),A.push({data:"01010",options:{height:this.guardHeight}}),A.push({data:(0,j.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),A.push({data:(0,j.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&A.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),A}}]),v}(W(N(2660)).default);function y(C){var T,v=0;for(T=1;T<11;T+=2)v+=parseInt(C[T]);for(T=0;T<11;T+=2)v+=3*parseInt(C[T]);return(10-v%10)%10}S.default=m},3464:(xe,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0});var H=function(){function A(O,J){for(var ce=0;ce<J.length;ce++){var he=J[ce];he.enumerable=he.enumerable||!1,he.configurable=!0,"value"in he&&(he.writable=!0),Object.defineProperty(O,he.key,he)}}return function(O,J,ce){return J&&A(O.prototype,J),ce&&A(O,ce),O}}(),j=P(N(1496)),G=P(N(2660)),W=N(7832);function P(A){return A&&A.__esModule?A:{default:A}}function D(A,O){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!O||"object"!=typeof O&&"function"!=typeof O?A:O}var y=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],C=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],v=function(A){function O(J,ce){!function B(A,O){if(!(A instanceof O))throw new TypeError("Cannot call a class as a function")}(this,O);var he=D(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,J,ce));if(he.isValid=!1,-1!==J.search(/^[0-9]{6}$/))he.middleDigits=J,he.upcA=T(J,"0"),he.text=ce.text||""+he.upcA[0]+J+he.upcA[he.upcA.length-1],he.isValid=!0;else{if(-1===J.search(/^[01][0-9]{7}$/))return D(he);if(he.middleDigits=J.substring(1,J.length-1),he.upcA=T(he.middleDigits,J[0]),he.upcA[he.upcA.length-1]!==J[J.length-1])return D(he);he.isValid=!0}return he.displayValue=ce.displayValue,he.fontSize=ce.fontSize>10*ce.width?10*ce.width:ce.fontSize,he.guardHeight=ce.height+he.fontSize/2+ce.textMargin,he}return function m(A,O){if("function"!=typeof O&&null!==O)throw new TypeError("Super expression must either be null or a function, not "+typeof O);A.prototype=Object.create(O&&O.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(A,O):A.__proto__=O)}(O,A),H(O,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var ce="";return ce+="101",ce+=this.encodeMiddleDigits(),{data:ce+="010101",text:this.text}}},{key:"guardedEncoding",value:function(){var ce=[];return this.displayValue&&ce.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),ce.push({data:"101",options:{height:this.guardHeight}}),ce.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),ce.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&ce.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),ce}},{key:"encodeMiddleDigits",value:function(){var ce=this.upcA[0],Ht=C[parseInt(this.upcA[this.upcA.length-1])][parseInt(ce)];return(0,j.default)(this.middleDigits,Ht)}}]),O}(G.default);function T(A,O){for(var J=parseInt(A[A.length-1]),ce=y[J],he="",Ht=0,cr=0;cr<ce.length;cr++){var Co=ce[cr];he+="X"===Co?A[Ht++]:Co}return(he=""+O+he)+(0,W.checksum)(he)}S.default=v},8600:(xe,S)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.SIDE_BIN="101",S.MIDDLE_BIN="01010",S.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]},S.EAN2_STRUCTURE=["LL","LG","GL","GG"],S.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"],S.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"]},1496:(xe,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0});var H=N(8600);S.default=function(R,G,W){var P=R.split("").map(function(D,m){return H.BINARIES[G[m]]}).map(function(D,m){return D?D[R[m]]:""});if(W){var B=R.length-1;P=P.map(function(D,m){return m<B?D+W:D})}return P.join("")}},5256:(xe,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.UPCE=S.UPC=S.EAN2=S.EAN5=S.EAN8=S.EAN13=void 0;var _=v(N(2308)),R=v(N(5240)),W=v(N(7168)),B=v(N(580)),m=v(N(7832)),C=v(N(3464));function v(T){return T&&T.__esModule?T:{default:T}}S.EAN13=_.default,S.EAN8=R.default,S.EAN5=W.default,S.EAN2=B.default,S.UPC=m.default,S.UPCE=C.default},5573:(xe,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.GenericBarcode=void 0;var H=function(){function D(m,y){for(var C=0;C<y.length;C++){var v=y[C];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,v.key,v)}}return function(m,y,C){return y&&D(m.prototype,y),C&&D(m,C),m}}(),B=function(D){function m(y,C){return function G(D,m){if(!(D instanceof m))throw new TypeError("Cannot call a class as a function")}(this,m),function W(D,m){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||"object"!=typeof m&&"function"!=typeof m?D:m}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,y,C))}return function P(D,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function, not "+typeof m);D.prototype=Object.create(m&&m.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(D,m):D.__proto__=m)}(m,D),H(m,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),m}(function R(D){return D&&D.__esModule?D:{default:D}}(N(2660)).default);S.GenericBarcode=B},136:(xe,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0});var H=function(){function m(y,C){for(var v=0;v<C.length;v++){var T=C[v];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(y,T.key,T)}}return function(y,C,v){return C&&m(y.prototype,C),v&&m(y,v),y}}(),_=N(3664),D=function(m){function y(){return function W(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")}(this,y),function P(m,y){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!y||"object"!=typeof y&&"function"!=typeof y?m:y}(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return function B(m,y){if("function"!=typeof y&&null!==y)throw new TypeError("Super expression must either be null or a function, not "+typeof y);m.prototype=Object.create(y&&y.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(m,y):m.__proto__=y)}(y,m),H(y,[{key:"valid",value:function(){return-1!==this.data.search(/^([0-9]{2})+$/)}},{key:"encode",value:function(){var v=this,T=this.data.match(/.{2}/g).map(function(A){return v.encodePair(A)}).join("");return{data:_.START_BIN+T+_.END_BIN,text:this.text}}},{key:"encodePair",value:function(v){var T=_.BINARIES[v[1]];return _.BINARIES[v[0]].split("").map(function(A,O){return("1"===A?"111":"1")+("1"===T[O]?"000":"0")}).join("")}}]),y}(function G(m){return m&&m.__esModule?m:{default:m}}(N(2660)).default);S.default=D},4690:(xe,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0});var H=function(){function m(y,C){for(var v=0;v<C.length;v++){var T=C[v];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(y,T.key,T)}}return function(y,C,v){return C&&m(y.prototype,C),v&&m(y,v),y}}(),j=function R(m){return m&&m.__esModule?m:{default:m}}(N(136)),B=function(y){var C=y.substr(0,13).split("").map(function(v){return parseInt(v,10)}).reduce(function(v,T,A){return v+T*(3-A%2*2)},0);return 10*Math.ceil(C/10)-C},D=function(m){function y(C,v){return function G(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")}(this,y),-1!==C.search(/^[0-9]{13}$/)&&(C+=B(C)),function W(m,y){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!y||"object"!=typeof y&&"function"!=typeof y?m:y}(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,C,v))}return function P(m,y){if("function"!=typeof y&&null!==y)throw new TypeError("Super expression must either be null or a function, not "+typeof y);m.prototype=Object.create(y&&y.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(m,y):m.__proto__=y)}(y,m),H(y,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{14}$/)&&+this.data[13]===B(this.data)}}]),y}(j.default);S.default=D},3664:(xe,S)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.START_BIN="1010",S.END_BIN="11101",S.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"]},3108:(xe,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.ITF14=S.ITF=void 0;var _=G(N(136)),R=G(N(4690));function G(W){return W&&W.__esModule?W:{default:W}}S.ITF=_.default,S.ITF14=R.default},2132:(xe,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0});var H=function(){function m(y,C){for(var v=0;v<C.length;v++){var T=C[v];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(y,T.key,T)}}return function(y,C,v){return C&&m(y.prototype,C),v&&m(y,v),y}}(),B=function(m){function y(C,v){return function G(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")}(this,y),function W(m,y){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!y||"object"!=typeof y&&"function"!=typeof y?m:y}(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,C,v))}return function P(m,y){if("function"!=typeof y&&null!==y)throw new TypeError("Super expression must either be null or a function, not "+typeof y);m.prototype=Object.create(y&&y.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(m,y):m.__proto__=y)}(y,m),H(y,[{key:"encode",value:function(){for(var v="110",T=0;T<this.data.length;T++){var O=parseInt(this.data[T]).toString(2);O=D(O,4-O.length);for(var J=0;J<O.length;J++)v+="0"==O[J]?"100":"110"}return{data:v+="1001",text:this.text}}},{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]+$/)}}]),y}(function R(m){return m&&m.__esModule?m:{default:m}}(N(2660)).default);function D(m,y){for(var C=0;C<y;C++)m="0"+m;return m}S.default=B},5128:(xe,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0});var _=function R(D){return D&&D.__esModule?D:{default:D}}(N(2132)),j=N(6512),B=function(D){function m(y,C){return function G(D,m){if(!(D instanceof m))throw new TypeError("Cannot call a class as a function")}(this,m),function W(D,m){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||"object"!=typeof m&&"function"!=typeof m?D:m}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,y+(0,j.mod10)(y),C))}return function P(D,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function, not "+typeof m);D.prototype=Object.create(m&&m.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(D,m):D.__proto__=m)}(m,D),m}(_.default);S.default=B},9324:(xe,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0});var _=function R(D){return D&&D.__esModule?D:{default:D}}(N(2132)),j=N(6512),B=function(D){function m(y,C){return function G(D,m){if(!(D instanceof m))throw new TypeError("Cannot call a class as a function")}(this,m),y+=(0,j.mod10)(y),y+=(0,j.mod10)(y),function W(D,m){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||"object"!=typeof m&&"function"!=typeof m?D:m}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,y,C))}return function P(D,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function, not "+typeof m);D.prototype=Object.create(m&&m.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(D,m):D.__proto__=m)}(m,D),m}(_.default);S.default=B},5672:(xe,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0});var _=function R(D){return D&&D.__esModule?D:{default:D}}(N(2132)),j=N(6512),B=function(D){function m(y,C){return function G(D,m){if(!(D instanceof m))throw new TypeError("Cannot call a class as a function")}(this,m),function W(D,m){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||"object"!=typeof m&&"function"!=typeof m?D:m}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,y+(0,j.mod11)(y),C))}return function P(D,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function, not "+typeof m);D.prototype=Object.create(m&&m.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(D,m):D.__proto__=m)}(m,D),m}(_.default);S.default=B},1640:(xe,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0});var _=function R(D){return D&&D.__esModule?D:{default:D}}(N(2132)),j=N(6512),B=function(D){function m(y,C){return function G(D,m){if(!(D instanceof m))throw new TypeError("Cannot call a class as a function")}(this,m),y+=(0,j.mod11)(y),y+=(0,j.mod10)(y),function W(D,m){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||"object"!=typeof m&&"function"!=typeof m?D:m}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,y,C))}return function P(D,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function, not "+typeof m);D.prototype=Object.create(m&&m.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(D,m):D.__proto__=m)}(m,D),m}(_.default);S.default=B},6512:(xe,S)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.mod10=function N(_){for(var j=0,R=0;R<_.length;R++){var G=parseInt(_[R]);j+=(R+_.length)%2==0?G:2*G%10+Math.floor(2*G/10)}return(10-j%10)%10},S.mod11=function H(_){for(var j=0,R=[2,3,4,5,6,7],G=0;G<_.length;G++){var W=parseInt(_[_.length-1-G]);j+=R[G%R.length]*W}return(11-j%11)%11}},4876:(xe,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.MSI1110=S.MSI1010=S.MSI11=S.MSI10=S.MSI=void 0;var _=y(N(2132)),R=y(N(5128)),W=y(N(5672)),B=y(N(9324)),m=y(N(1640));function y(C){return C&&C.__esModule?C:{default:C}}S.MSI=_.default,S.MSI10=R.default,S.MSI11=W.default,S.MSI1010=B.default,S.MSI1110=m.default},5756:(xe,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.codabar=void 0;var H=function(){function D(m,y){for(var C=0;C<y.length;C++){var v=y[C];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,v.key,v)}}return function(m,y,C){return y&&D(m.prototype,y),C&&D(m,C),m}}(),B=function(D){function m(y,C){(function G(D,m){if(!(D instanceof m))throw new TypeError("Cannot call a class as a function")})(this,m),0===y.search(/^[0-9\-\$\:\.\+\/]+$/)&&(y="A"+y+"A");var v=function W(D,m){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||"object"!=typeof m&&"function"!=typeof m?D:m}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,y.toUpperCase(),C));return v.text=v.options.text||v.text.replace(/[A-D]/g,""),v}return function P(D,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function, not "+typeof m);D.prototype=Object.create(m&&m.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(D,m):D.__proto__=m)}(m,D),H(m,[{key:"valid",value:function(){return-1!==this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)}},{key:"encode",value:function(){for(var C=[],v=this.getEncodings(),T=0;T<this.data.length;T++)C.push(v[this.data.charAt(T)]),T!==this.data.length-1&&C.push("0");return{text:this.text,data:C.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"1011011011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),m}(function R(D){return D&&D.__esModule?D:{default:D}}(N(2660)).default);S.codabar=B},4824:(xe,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0});var H=N(5872),_=N(7224),j=N(5256),R=N(3108),G=N(4876),W=N(316),P=N(5756),B=N(5573);S.default={CODE39:H.CODE39,CODE128:_.CODE128,CODE128A:_.CODE128A,CODE128B:_.CODE128B,CODE128C:_.CODE128C,EAN13:j.EAN13,EAN8:j.EAN8,EAN5:j.EAN5,EAN2:j.EAN2,UPC:j.UPC,UPCE:j.UPCE,ITF14:R.ITF14,ITF:R.ITF,MSI:G.MSI,MSI10:G.MSI10,MSI11:G.MSI11,MSI1010:G.MSI1010,MSI1110:G.MSI1110,pharmacode:W.pharmacode,codabar:P.codabar,GenericBarcode:B.GenericBarcode}},316:(xe,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.pharmacode=void 0;var H=function(){function D(m,y){for(var C=0;C<y.length;C++){var v=y[C];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,v.key,v)}}return function(m,y,C){return y&&D(m.prototype,y),C&&D(m,C),m}}(),B=function(D){function m(y,C){!function G(D,m){if(!(D instanceof m))throw new TypeError("Cannot call a class as a function")}(this,m);var v=function W(D,m){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||"object"!=typeof m&&"function"!=typeof m?D:m}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,y,C));return v.number=parseInt(y,10),v}return function P(D,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function, not "+typeof m);D.prototype=Object.create(m&&m.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(D,m):D.__proto__=m)}(m,D),H(m,[{key:"encode",value:function(){for(var C=this.number,v="";!isNaN(C)&&0!=C;)C%2==0?(v="11100"+v,C=(C-2)/2):(v="100"+v,C=(C-1)/2);return{data:v=v.slice(0,-2),text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),m}(function R(D){return D&&D.__esModule?D:{default:D}}(N(2660)).default);S.pharmacode=B},9916:(xe,S)=>{Object.defineProperty(S,"__esModule",{value:!0});var N=function(){function j(R,G){for(var W=0;W<G.length;W++){var P=G[W];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(R,P.key,P)}}return function(R,G,W){return G&&j(R.prototype,G),W&&j(R,W),R}}(),_=function(){function j(R){(function H(j,R){if(!(j instanceof R))throw new TypeError("Cannot call a class as a function")})(this,j),this.api=R}return N(j,[{key:"handleCatch",value:function(G){if("InvalidInputException"!==G.name)throw G;if(this.api._options.valid===this.api._defaults.valid)throw G.message;this.api._options.valid(!1),this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(G){try{var W=G.apply(void 0,arguments);return this.api._options.valid(!0),W}catch(P){return this.handleCatch(P),this.api}}}]),j}();S.default=_},6900:(xe,S)=>{function N(W,P){if(!(W instanceof P))throw new TypeError("Cannot call a class as a function")}function H(W,P){if(!W)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!P||"object"!=typeof P&&"function"!=typeof P?W:P}function _(W,P){if("function"!=typeof P&&null!==P)throw new TypeError("Super expression must either be null or a function, not "+typeof P);W.prototype=Object.create(P&&P.prototype,{constructor:{value:W,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(W,P):W.__proto__=P)}Object.defineProperty(S,"__esModule",{value:!0});var j=function(W){function P(B,D){N(this,P);var m=H(this,(P.__proto__||Object.getPrototypeOf(P)).call(this));return m.name="InvalidInputException",m.symbology=B,m.input=D,m.message='"'+m.input+'" is not a valid input for '+m.symbology,m}return _(P,Error),P}(),R=function(W){function P(){N(this,P);var B=H(this,(P.__proto__||Object.getPrototypeOf(P)).call(this));return B.name="InvalidElementException",B.message="Not supported type to render on",B}return _(P,Error),P}(),G=function(W){function P(){N(this,P);var B=H(this,(P.__proto__||Object.getPrototypeOf(P)).call(this));return B.name="NoElementException",B.message="No element to render on.",B}return _(P,Error),P}();S.InvalidInputException=j,S.InvalidElementException=R,S.NoElementException=G},6448:(xe,S)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.default=function N(H){return H.marginTop=H.marginTop||H.margin,H.marginBottom=H.marginBottom||H.margin,H.marginRight=H.marginRight||H.margin,H.marginLeft=H.marginLeft||H.margin,H}},5084:(xe,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0});var _=G(N(8620)),R=G(N(7312));function G(P){return P&&P.__esModule?P:{default:P}}S.default=function W(P){var B={};for(var D in R.default)R.default.hasOwnProperty(D)&&(P.hasAttribute("jsbarcode-"+D.toLowerCase())&&(B[D]=P.getAttribute("jsbarcode-"+D.toLowerCase())),P.hasAttribute("data-"+D.toLowerCase())&&(B[D]=P.getAttribute("data-"+D.toLowerCase())));return B.value=P.getAttribute("jsbarcode-value")||P.getAttribute("data-value"),(0,_.default)(B)}},7740:(xe,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0});var H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(y){return typeof y}:function(y){return y&&"function"==typeof Symbol&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},j=P(N(5084)),G=P(N(9896)),W=N(6900);function P(y){return y&&y.__esModule?y:{default:y}}S.default=function B(y){if("string"==typeof y)return function D(y){var C=document.querySelectorAll(y);if(0!==C.length){for(var v=[],T=0;T<C.length;T++)v.push(B(C[T]));return v}}(y);if(Array.isArray(y)){for(var C=[],v=0;v<y.length;v++)C.push(B(y[v]));return C}if(typeof HTMLCanvasElement<"u"&&y instanceof HTMLImageElement)return function m(y){var C=document.createElement("canvas");return{element:C,options:(0,j.default)(y),renderer:G.default.CanvasRenderer,afterRender:function(){y.setAttribute("src",C.toDataURL())}}}(y);if(y&&y.nodeName&&"svg"===y.nodeName.toLowerCase()||typeof SVGElement<"u"&&y instanceof SVGElement)return{element:y,options:(0,j.default)(y),renderer:G.default.SVGRenderer};if(typeof HTMLCanvasElement<"u"&&y instanceof HTMLCanvasElement)return{element:y,options:(0,j.default)(y),renderer:G.default.CanvasRenderer};if(y&&y.getContext)return{element:y,renderer:G.default.CanvasRenderer};if(y&&"object"===(typeof y>"u"?"undefined":H(y))&&!y.nodeName)return{element:y,renderer:G.default.ObjectRenderer};throw new W.InvalidElementException}},5948:(xe,S)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.default=function N(H){var _=[];return function j(R){if(Array.isArray(R))for(var G=0;G<R.length;G++)j(R[G]);else R.text=R.text||"",R.data=R.data||"",_.push(R)}(H),_}},988:(xe,S)=>{Object.defineProperty(S,"__esModule",{value:!0});var N=Object.assign||function(H){for(var _=1;_<arguments.length;_++){var j=arguments[_];for(var R in j)Object.prototype.hasOwnProperty.call(j,R)&&(H[R]=j[R])}return H};S.default=function(H,_){return N({},H,_)}},8620:(xe,S)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.default=function N(H){var _=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var j in _)_.hasOwnProperty(j)&&"string"==typeof H[j=_[j]]&&(H[j]=parseInt(H[j],10));return"string"==typeof H.displayValue&&(H.displayValue="false"!=H.displayValue),H}},7312:(xe,S)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.default={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}}},8560:(xe,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0});var H=function(){function B(D,m){for(var y=0;y<m.length;y++){var C=m[y];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(D,C.key,C)}}return function(D,m,y){return m&&B(D.prototype,m),y&&B(D,y),D}}(),j=function G(B){return B&&B.__esModule?B:{default:B}}(N(988)),R=N(5152),P=function(){function B(D,m,y){(function W(B,D){if(!(B instanceof D))throw new TypeError("Cannot call a class as a function")})(this,B),this.canvas=D,this.encodings=m,this.options=y}return H(B,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var m=0;m<this.encodings.length;m++){var y=(0,j.default)(this.options,this.encodings[m].options);this.drawCanvasBarcode(y,this.encodings[m]),this.drawCanvasText(y,this.encodings[m]),this.moveCanvasDrawing(this.encodings[m])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var m=this.canvas.getContext("2d");m.save(),(0,R.calculateEncodingAttributes)(this.encodings,this.options,m);var y=(0,R.getTotalWidthOfEncodings)(this.encodings),C=(0,R.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=y+this.options.marginLeft+this.options.marginRight,this.canvas.height=C,m.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(m.fillStyle=this.options.background,m.fillRect(0,0,this.canvas.width,this.canvas.height)),m.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(m,y){var T,C=this.canvas.getContext("2d"),v=y.data;T="top"==m.textPosition?m.marginTop+m.fontSize+m.textMargin:m.marginTop,C.fillStyle=m.lineColor;for(var A=0;A<v.length;A++){var O=A*m.width+y.barcodePadding;"1"===v[A]?C.fillRect(O,T,m.width,m.height):v[A]&&C.fillRect(O,T,m.width,m.height*v[A])}}},{key:"drawCanvasText",value:function(m,y){var T,A,C=this.canvas.getContext("2d");m.displayValue&&(A="top"==m.textPosition?m.marginTop+m.fontSize-m.textMargin:m.height+m.textMargin+m.marginTop+m.fontSize,C.font=m.fontOptions+" "+m.fontSize+"px "+m.font,"left"==m.textAlign||y.barcodePadding>0?(T=0,C.textAlign="left"):"right"==m.textAlign?(T=y.width-1,C.textAlign="right"):(T=y.width/2,C.textAlign="center"),C.fillText(y.text,T,A))}},{key:"moveCanvasDrawing",value:function(m){this.canvas.getContext("2d").translate(m.width,0)}},{key:"restoreCanvas",value:function(){this.canvas.getContext("2d").restore()}}]),B}();S.default=P},9896:(xe,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0});var _=P(N(8560)),R=P(N(2888)),W=P(N(56));function P(B){return B&&B.__esModule?B:{default:B}}S.default={CanvasRenderer:_.default,SVGRenderer:R.default,ObjectRenderer:W.default}},56:(xe,S)=>{Object.defineProperty(S,"__esModule",{value:!0});var N=function(){function j(R,G){for(var W=0;W<G.length;W++){var P=G[W];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(R,P.key,P)}}return function(R,G,W){return G&&j(R.prototype,G),W&&j(R,W),R}}(),_=function(){function j(R,G,W){(function H(j,R){if(!(j instanceof R))throw new TypeError("Cannot call a class as a function")})(this,j),this.object=R,this.encodings=G,this.options=W}return N(j,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),j}();S.default=_},5152:(xe,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.getTotalWidthOfEncodings=S.calculateEncodingAttributes=S.getBarcodePadding=S.getEncodingHeight=S.getMaximumHeightOfEncodings=void 0;var _=function j(m){return m&&m.__esModule?m:{default:m}}(N(988));function R(m,y){return y.height+(y.displayValue&&m.text.length>0?y.fontSize+y.textMargin:0)+y.marginTop+y.marginBottom}function G(m,y,C){if(C.displayValue&&y<m){if("center"==C.textAlign)return Math.floor((m-y)/2);if("left"==C.textAlign)return 0;if("right"==C.textAlign)return Math.floor(m-y)}return 0}function D(m,y,C){var v;if(C)v=C;else{if(!(typeof document<"u"))return 0;v=document.createElement("canvas").getContext("2d")}v.font=y.fontOptions+" "+y.fontSize+"px "+y.font;var T=v.measureText(m);return T?T.width:0}S.getMaximumHeightOfEncodings=function B(m){for(var y=0,C=0;C<m.length;C++)m[C].height>y&&(y=m[C].height);return y},S.getEncodingHeight=R,S.getBarcodePadding=G,S.calculateEncodingAttributes=function W(m,y,C){for(var v=0;v<m.length;v++){var O,T=m[v],A=(0,_.default)(y,T.options);O=A.displayValue?D(T.text,A,C):0;var J=T.data.length*A.width;T.width=Math.ceil(Math.max(O,J)),T.height=R(T,A),T.barcodePadding=G(O,J,A)}},S.getTotalWidthOfEncodings=function P(m){for(var y=0,C=0;C<m.length;C++)y+=m[C].width;return y}},2888:(xe,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0});var H=function(){function D(m,y){for(var C=0;C<y.length;C++){var v=y[C];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,v.key,v)}}return function(m,y,C){return y&&D(m.prototype,y),C&&D(m,C),m}}(),j=function G(D){return D&&D.__esModule?D:{default:D}}(N(988)),R=N(5152),P="http://www.w3.org/2000/svg",B=function(){function D(m,y,C){(function W(D,m){if(!(D instanceof m))throw new TypeError("Cannot call a class as a function")})(this,D),this.svg=m,this.encodings=y,this.options=C,this.document=C.xmlDocument||document}return H(D,[{key:"render",value:function(){var y=this.options.marginLeft;this.prepareSVG();for(var C=0;C<this.encodings.length;C++){var v=this.encodings[C],T=(0,j.default)(this.options,v.options),A=this.createGroup(y,T.marginTop,this.svg);this.setGroupOptions(A,T),this.drawSvgBarcode(A,T,v),this.drawSVGText(A,T,v),y+=v.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,R.calculateEncodingAttributes)(this.encodings,this.options);var y=(0,R.getTotalWidthOfEncodings)(this.encodings),C=(0,R.getMaximumHeightOfEncodings)(this.encodings),v=y+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(v,C),this.options.background&&this.drawRect(0,0,v,C,this.svg).setAttribute("style","fill:"+this.options.background+";")}},{key:"drawSvgBarcode",value:function(y,C,v){var A,T=v.data;A="top"==C.textPosition?C.fontSize+C.textMargin:0;for(var O=0,J=0,ce=0;ce<T.length;ce++)J=ce*C.width+v.barcodePadding,"1"===T[ce]?O++:O>0&&(this.drawRect(J-C.width*O,A,C.width*O,C.height,y),O=0);O>0&&this.drawRect(J-C.width*(O-1),A,C.width*O,C.height,y)}},{key:"drawSVGText",value:function(y,C,v){var A,O,T=this.document.createElementNS(P,"text");C.displayValue&&(T.setAttribute("style","font:"+C.fontOptions+" "+C.fontSize+"px "+C.font),O="top"==C.textPosition?C.fontSize-C.textMargin:C.height+C.textMargin+C.fontSize,"left"==C.textAlign||v.barcodePadding>0?(A=0,T.setAttribute("text-anchor","start")):"right"==C.textAlign?(A=v.width-1,T.setAttribute("text-anchor","end")):(A=v.width/2,T.setAttribute("text-anchor","middle")),T.setAttribute("x",A),T.setAttribute("y",O),T.appendChild(this.document.createTextNode(v.text)),y.appendChild(T))}},{key:"setSvgAttributes",value:function(y,C){var v=this.svg;v.setAttribute("width",y+"px"),v.setAttribute("height",C+"px"),v.setAttribute("x","0px"),v.setAttribute("y","0px"),v.setAttribute("viewBox","0 0 "+y+" "+C),v.setAttribute("xmlns",P),v.setAttribute("version","1.1"),v.setAttribute("style","transform: translate(0,0)")}},{key:"createGroup",value:function(y,C,v){var T=this.document.createElementNS(P,"g");return T.setAttribute("transform","translate("+y+", "+C+")"),v.appendChild(T),T}},{key:"setGroupOptions",value:function(y,C){y.setAttribute("style","fill:"+C.lineColor+";")}},{key:"drawRect",value:function(y,C,v,T,A){var O=this.document.createElementNS(P,"rect");return O.setAttribute("x",y),O.setAttribute("y",C),O.setAttribute("width",v),O.setAttribute("height",T),A.appendChild(O),O}}]),D}();S.default=B}},xe=>{xe(xe.s=308)}]);