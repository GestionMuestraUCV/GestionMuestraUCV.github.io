"use strict";(self.webpackChunkgestion_muestras=self.webpackChunkgestion_muestras||[]).push([[792],{1293:(Ae,k,V)=>{function q(n,e,t,i,r,o,s){try{var a=n[o](s),c=a.value}catch(l){return void t(l)}a.done?e(c):Promise.resolve(c).then(i,r)}function _(n){return function(){var e=this,t=arguments;return new Promise(function(i,r){var o=n.apply(e,t);function s(c){q(o,i,r,s,a,"next",c)}function a(c){q(o,i,r,s,a,"throw",c)}s(void 0)})}}function G(n,e){return Object.is(n,e)}let N=null,W=!1,Q=1;const R=Symbol("SIGNAL");function U(n){const e=N;return N=n,e}const w={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function x(n){if(W)throw new Error("");if(null===N)return;N.consumerOnSignalRead(n);const e=N.nextProducerIndex++;rt(N),e<N.producerNode.length&&N.producerNode[e]!==n&&Xs(N)&&tl(N.producerNode[e],N.producerIndexOfThis[e]),N.producerNode[e]!==n&&(N.producerNode[e]=n,N.producerIndexOfThis[e]=Xs(N)?ja(n,N,e):0),N.producerLastReadVersion[e]=n.version}function A(n){if((!Xs(n)||n.dirty)&&(n.dirty||n.lastCleanEpoch!==Q)){if(!n.producerMustRecompute(n)&&!br(n))return n.dirty=!1,void(n.lastCleanEpoch=Q);n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=Q}}function O(n){if(void 0===n.liveConsumerNode)return;const e=W;W=!0;try{for(const t of n.liveConsumerNode)t.dirty||le(t)}finally{W=e}}function ee(){return!1!==N?.consumerAllowSignalWrites}function le(n){n.dirty=!0,O(n),n.consumerMarkedDirty?.(n)}function fe(n){return n&&(n.nextProducerIndex=0),U(n)}function Xt(n,e){if(U(e),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(Xs(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)tl(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function br(n){rt(n);for(let e=0;e<n.producerNode.length;e++){const t=n.producerNode[e],i=n.producerLastReadVersion[e];if(i!==t.version||(A(t),i!==t.version))return!0}return!1}function Ao(n){if(rt(n),Xs(n))for(let e=0;e<n.producerNode.length;e++)tl(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function ja(n,e,t){if(nn(n),rt(n),0===n.liveConsumerNode.length)for(let i=0;i<n.producerNode.length;i++)n.producerIndexOfThis[i]=ja(n.producerNode[i],n,i);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function tl(n,e){if(nn(n),rt(n),1===n.liveConsumerNode.length)for(let i=0;i<n.producerNode.length;i++)tl(n.producerNode[i],n.producerIndexOfThis[i]);const t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){const i=n.liveConsumerIndexOfThis[e],r=n.liveConsumerNode[e];rt(r),r.producerIndexOfThis[i]=e}}function Xs(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function rt(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function nn(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}const qt=Symbol("UNSET"),Zt=Symbol("COMPUTING"),zi=Symbol("ERRORED"),kC={...w,value:qt,dirty:!0,error:null,equal:G,producerMustRecompute:n=>n.value===qt||n.value===Zt,producerRecomputeValue(n){if(n.value===Zt)throw new Error("Detected cycle in computations.");const e=n.value;n.value=Zt;const t=fe(n);let i;try{i=n.computation()}catch(r){i=zi,n.error=r}finally{Xt(n,t)}e!==qt&&e!==zi&&i!==zi&&n.equal(e,i)?n.value=e:(n.value=i,n.version++)}};let CL=function AC(){throw new Error};function EL(){CL()}let OC=null;function TL(n,e){ee()||EL(),n.equal(n.value,e)||(n.value=e,function vee(n){n.version++,function I(){Q++}(),O(n),OC?.()}(n))}const yee={...w,equal:G,value:void 0};const PC=()=>{},wee={...w,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{null!==n.schedule&&n.schedule(n.ref)},hasRun:!1,cleanupFn:PC};function Ct(n){return"function"==typeof n}function RC(n){const t=n(i=>{Error.call(i),i.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const NC=RC(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function X_(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class pi{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:i}=this;if(Ct(i))try{i()}catch(o){e=o instanceof NC?o.errors:[o]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const o of r)try{DL(o)}catch(s){e=e??[],s instanceof NC?e=[...e,...s.errors]:e.push(s)}}if(e)throw new NC(e)}}add(e){var t;if(e&&e!==this)if(this.closed)DL(e);else{if(e instanceof pi){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&X_(t,e)}remove(e){const{_finalizers:t}=this;t&&X_(t,e),e instanceof pi&&e._removeParent(this)}}pi.EMPTY=(()=>{const n=new pi;return n.closed=!0,n})();const IL=pi.EMPTY;function ML(n){return n instanceof pi||n&&"closed"in n&&Ct(n.remove)&&Ct(n.add)&&Ct(n.unsubscribe)}function DL(n){Ct(n)?n():n.unsubscribe()}const nl={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Z_={setTimeout(n,e,...t){const{delegate:i}=Z_;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=Z_;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function SL(n){Z_.setTimeout(()=>{const{onUnhandledError:e}=nl;if(!e)throw n;e(n)})}function Pf(){}const Cee=FC("C",void 0,void 0);function FC(n,e,t){return{kind:n,value:e,error:t}}let il=null;function J_(n){if(nl.useDeprecatedSynchronousErrorHandling){const e=!il;if(e&&(il={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:i}=il;if(il=null,t)throw i}}else n()}class LC extends pi{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,ML(e)&&e.add(this)):this.destination=kee}static create(e,t,i){return new Rf(e,t,i)}next(e){this.isStopped?BC(function Tee(n){return FC("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?BC(function Eee(n){return FC("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?BC(Cee,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Mee=Function.prototype.bind;function VC(n,e){return Mee.call(n,e)}class Dee{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){eb(i)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){eb(i)}else eb(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){eb(t)}}}class Rf extends LC{constructor(e,t,i){let r;if(super(),Ct(e)||!e)r={next:e??void 0,error:t??void 0,complete:i??void 0};else{let o;this&&nl.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&VC(e.next,o),error:e.error&&VC(e.error,o),complete:e.complete&&VC(e.complete,o)}):r=e}this.destination=new Dee(r)}}function eb(n){nl.useDeprecatedSynchronousErrorHandling?function Iee(n){nl.useDeprecatedSynchronousErrorHandling&&il&&(il.errorThrown=!0,il.error=n)}(n):SL(n)}function BC(n,e){const{onStoppedNotification:t}=nl;t&&Z_.setTimeout(()=>t(n,e))}const kee={closed:!0,next:Pf,error:function See(n){throw n},complete:Pf},zC="function"==typeof Symbol&&Symbol.observable||"@@observable";function Ha(n){return n}function kL(n){return 0===n.length?Ha:1===n.length?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}let rn=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){const o=function Pee(n){return n&&n instanceof LC||function Oee(n){return n&&Ct(n.next)&&Ct(n.error)&&Ct(n.complete)}(n)&&ML(n)}(t)?t:new Rf(t,i,r);return J_(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return new(i=AL(i))((r,o)=>{const s=new Rf({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(t){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(t)}[zC](){return this}pipe(...t){return kL(t)(this)}toPromise(t){return new(t=AL(t))((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return n.create=e=>new n(e),n})();function AL(n){var e;return null!==(e=n??nl.Promise)&&void 0!==e?e:Promise}const Ree=RC(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let ht=(()=>{class n extends rn{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const i=new OL(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new Ree}next(t){J_(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(t)}})}error(t){J_(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){J_(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:i,isStopped:r,observers:o}=this;return i||r?IL:(this.currentObservers=null,o.push(t),new pi(()=>{this.currentObservers=null,X_(o,t)}))}_checkFinalizedStatuses(t){const{hasError:i,thrownError:r,isStopped:o}=this;i?t.error(r):o&&t.complete()}asObservable(){const t=new rn;return t.source=this,t}}return n.create=(e,t)=>new OL(e,t),n})();class OL extends ht{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===i||i.call(t,e)}error(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===i||i.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,i;return null!==(i=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==i?i:IL}}class yr extends ht{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}function PL(n){return Ct(n?.lift)}function On(n){return e=>{if(PL(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function yn(n,e,t,i,r){return new Nee(n,e,t,i,r)}class Nee extends LC{constructor(e,t,i,r,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=r?function(a){try{r(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function ze(n,e){return On((t,i)=>{let r=0;t.subscribe(yn(i,o=>{i.next(n.call(e,o,r++))}))})}const RL="https://g.co/ng/security#xss";class H extends Error{constructor(e,t){super(function zd(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function UC(n){return e=>{setTimeout(n,void 0,e)}}const Xe=class Fee extends ht{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,i){let r=e,o=t||(()=>null),s=i;if(e&&"object"==typeof e){const c=e;r=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=UC(o),r&&(r=UC(r)),s&&(s=UC(s)));const a=super.subscribe({next:r,error:o,complete:s});return e instanceof pi&&e.add(a),a}};var mt=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(mt||{});function mi(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(mi).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function jC(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}var nb=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(nb||{}),Oo=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Oo||{});function Zs(n){return{toString:n}.toString()}const Ft=globalThis,ts={},It=[];function Ut(n){for(let e in n)if(n[e]===Ut)return e;throw Error("Could not find renamed property on target object.")}function zee(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}const Nf=Ut({\u0275cmp:Ut}),HC=Ut({\u0275dir:Ut}),$C=Ut({\u0275pipe:Ut}),LL=Ut({\u0275mod:Ut}),Js=Ut({\u0275fac:Ut}),Ff=Ut({__NG_ELEMENT_ID__:Ut}),VL=Ut({__NG_ENV_ID__:Ut});var Ze=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Ze||{});function BL(n,e,t){let i=n.length;for(;;){const r=n.indexOf(e,t);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const o=e.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}t=r+1}}function GC(n,e,t){let i=0;for(;i<t.length;){const r=t[i];if("number"==typeof r){if(0!==r)break;i++;const o=t[i++],s=t[i++],a=t[i++];n.setAttribute(e,s,a,o)}else{const o=r,s=t[++i];UL(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),i++}}return i}function zL(n){return 3===n||4===n||6===n}function UL(n){return 64===n.charCodeAt(0)}function Lf(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){const r=e[i];"number"==typeof r?t=r:0===t||jL(n,t,r,null,-1===t||2===t?e[++i]:null)}}return n}function jL(n,e,t,i,r){let o=0,s=n.length;if(-1===e)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===t){if(null===i)return void(null!==r&&(n[o+1]=r));if(i===n[o+1])return void(n[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==s&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),null!==i&&n.splice(o++,0,i),null!==r&&n.splice(o++,0,r)}const HL="ng-template";function Uee(n,e,t){let i=0,r=!0;for(;i<n.length;){let o=n[i++];if("string"==typeof o&&r){const s=n[i++];if(t&&"class"===o&&-1!==BL(s.toLowerCase(),e,0))return!0}else{if(1===o){for(;i<n.length&&"string"==typeof(o=n[i++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(r=!1)}}return!1}function $L(n){return 4===n.type&&n.value!==HL}function jee(n,e,t){return e===(4!==n.type||t?n.value:HL)}function Hee(n,e,t){let i=4;const r=n.attrs||[],o=function qee(n){for(let e=0;e<n.length;e++)if(zL(n[e]))return e;return n.length}(r);let s=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!s)if(4&i){if(i=2|1&i,""!==c&&!jee(n,c,t)||""===c&&1===e.length){if(Po(i))return!1;s=!0}}else{const l=8&i?c:e[++a];if(8&i&&null!==n.attrs){if(!Uee(n.attrs,l,t)){if(Po(i))return!1;s=!0}continue}const u=$ee(8&i?"class":c,r,$L(n),t);if(-1===u){if(Po(i))return!1;s=!0;continue}if(""!==l){let f;f=u>o?"":r[u+1].toLowerCase();const m=8&i?f:null;if(m&&-1!==BL(m,l,0)||2&i&&l!==f){if(Po(i))return!1;s=!0}}}}else{if(!s&&!Po(i)&&!Po(c))return!1;if(s&&Po(c))continue;s=!1,i=c|1&i}}return Po(i)||s}function Po(n){return!(1&n)}function $ee(n,e,t,i){if(null===e)return-1;let r=0;if(i||!t){let o=!1;for(;r<e.length;){const s=e[r];if(s===n)return r;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++r];for(;"string"==typeof a;)a=e[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=o?1:2}return-1}return function Wee(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const i=n[t];if("number"==typeof i)return-1;if(i===e)return t;t++}return-1}(e,n)}function GL(n,e,t=!1){for(let i=0;i<e.length;i++)if(Hee(n,e[i],t))return!0;return!1}function Kee(n,e){e:for(let t=0;t<e.length;t++){const i=e[t];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function qL(n,e){return n?":not("+e.trim()+")":e}function Yee(n){let e=n[0],t=1,i=2,r="",o=!1;for(;t<n.length;){let s=n[t];if("string"==typeof s)if(2&i){const a=n[++t];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""!==r&&!Po(s)&&(e+=qL(o,r),r=""),i=s,o=o||!Po(i);t++}return""!==r&&(e+=qL(o,r)),e}function be(n){return Zs(()=>{const e=KL(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===nb.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Oo.Emulated,styles:n.styles||It,_:null,schemas:n.schemas||null,tView:null,id:""};YL(t);const i=n.dependencies;return t.directiveDefs=ib(i,!1),t.pipeDefs=ib(i,!0),t.id=function tte(n){let e=0;const t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const r of t)e=Math.imul(31,e)+r.charCodeAt(0)|0;return e+=2147483648,"c"+e}(t),t})}function Zee(n){return lt(n)||gi(n)}function Jee(n){return null!==n}function ot(n){return Zs(()=>({type:n.type,bootstrap:n.bootstrap||It,declarations:n.declarations||It,imports:n.imports||It,exports:n.exports||It,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function WL(n,e){if(null==n)return ts;const t={};for(const i in n)if(n.hasOwnProperty(i)){const r=n[i];let o,s,a=Ze.None;Array.isArray(r)?(a=r[0],o=r[1],s=r[2]??o):(o=r,s=r),e?(t[o]=a!==Ze.None?[i,a]:i,e[o]=s):t[o]=i}return t}function ge(n){return Zs(()=>{const e=KL(n);return YL(e),e})}function Pr(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function lt(n){return n[Nf]||null}function gi(n){return n[HC]||null}function Ui(n){return n[$C]||null}function tr(n,e){const t=n[LL]||null;if(!t&&!0===e)throw new Error(`Type ${mi(n)} does not have '\u0275mod' property.`);return t}function KL(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||ts,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||It,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:WL(n.inputs,e),outputs:WL(n.outputs),debugInfo:null}}function YL(n){n.features?.forEach(e=>e(n))}function ib(n,e){if(!n)return null;const t=e?Ui:Zee;return()=>("function"==typeof n?n():n).map(i=>t(i)).filter(Jee)}const vn=0,ie=1,Se=2,Kn=3,Ro=4,nr=5,No=6,Ud=7,on=8,ji=9,ea=10,Ue=11,Vf=12,QL=13,jd=14,Pn=15,Bf=16,Hd=17,ta=18,zf=19,XL=20,qa=21,rb=22,rl=23,$e=25,qC=1,ns=7,$d=9,Yn=10;var WC=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(WC||{});function ir(n){return Array.isArray(n)&&"object"==typeof n[qC]}function rr(n){return Array.isArray(n)&&!0===n[qC]}function KC(n){return!!(4&n.flags)}function ol(n){return n.componentOffset>-1}function sb(n){return!(1&~n.flags)}function Fo(n){return!!n.template}function YC(n){return!!(512&n[Se])}const t3="svg";let r3=!1;function Wt(n){for(;Array.isArray(n);)n=n[vn];return n}function jf(n,e){return Wt(e[n])}function vr(n,e){return Wt(e[n.index])}function Hf(n,e){return n.data[e]}function Xr(n,e){const t=e[n];return ir(t)?t:t[vn]}function JC(n){return!(128&~n[Se])}function is(n,e){return null==e?null:n[e]}function o3(n){n[Hd]=0}function lte(n){1024&n[Se]||(n[Se]|=1024,JC(n)&&$f(n))}function e1(n){return!!(9216&n[Se]||n[rl]?.dirty)}function t1(n){e1(n)?$f(n):64&n[Se]&&(function ote(){return r3}()?(n[Se]|=1024,$f(n)):n[ea].changeDetectionScheduler?.notify())}function $f(n){n[ea].changeDetectionScheduler?.notify();let e=sl(n);for(;null!==e&&!(8192&e[Se])&&(e[Se]|=8192,JC(e));)e=sl(e)}function ab(n,e){if(!(256&~n[Se]))throw new H(911,!1);null===n[qa]&&(n[qa]=[]),n[qa].push(e)}function sl(n){const e=n[Kn];return rr(e)?e[Kn]:e}const Le={lFrame:m3(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function c3(){return Le.bindingsEnabled}function qd(){return null!==Le.skipHydrationRootTNode}function K(){return Le.lFrame.lView}function gt(){return Le.lFrame.tView}function ye(n){return Le.lFrame.contextLView=n,n[on]}function ve(n){return Le.lFrame.contextLView=null,n}function jt(){let n=l3();for(;null!==n&&64===n.type;)n=n.parent;return n}function l3(){return Le.lFrame.currentTNode}function rs(n,e){const t=Le.lFrame;t.currentTNode=n,t.isParent=e}function r1(){return Le.lFrame.isParent}function o1(){Le.lFrame.isParent=!1}function Lo(){return Le.lFrame.bindingIndex++}function ia(n){const e=Le.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function vte(n,e){const t=Le.lFrame;t.bindingIndex=t.bindingRootIndex=n,s1(e)}function s1(n){Le.lFrame.currentDirectiveIndex=n}function a1(n){const e=Le.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}function c1(){return Le.lFrame.currentQueryIndex}function cb(n){Le.lFrame.currentQueryIndex=n}function wte(n){const e=n[ie];return 2===e.type?e.declTNode:1===e.type?n[nr]:null}function f3(n,e,t){if(t&mt.SkipSelf){let r=e,o=n;for(;!(r=r.parent,null!==r||t&mt.Host||(r=wte(o),null===r||(o=o[jd],10&r.type))););if(null===r)return!1;e=r,n=o}const i=Le.lFrame=p3();return i.currentTNode=e,i.lView=n,!0}function l1(n){const e=p3(),t=n[ie];Le.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function p3(){const n=Le.lFrame,e=null===n?null:n.child;return null===e?m3(n):e}function m3(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function g3(){const n=Le.lFrame;return Le.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const _3=g3;function d1(){const n=g3();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function or(){return Le.lFrame.selectedIndex}function al(n){Le.lFrame.selectedIndex=n}function sn(){const n=Le.lFrame;return Hf(n.tView,n.selectedIndex)}function Wa(){Le.lFrame.currentNamespace=t3}function Wd(){!function Tte(){Le.lFrame.currentNamespace=null}()}let y3=!0;function lb(){return y3}function Ka(n){y3=n}function Ite(){return Kd(jt(),K())}function Kd(n,e){return new Lt(vr(n,e))}let f1,Lt=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=Ite}}return n})();function v3(n){return n instanceof Lt?n.nativeElement:n}function Yd(n,e){n.forEach(t=>Array.isArray(t)?Yd(t,e):e(t))}function x3(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function db(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Zr(n,e,t){let i=Qd(n,e);return i>=0?n[1|i]=t:(i=~i,function w3(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(1===r)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;)n[r]=n[r-2],r--;n[e]=t,n[e+1]=i}}(n,i,e,t)),i}function h1(n,e){const t=Qd(n,e);if(t>=0)return n[1|t]}function Qd(n,e){return function C3(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){const o=i+(r-i>>1),s=n[o<<t];if(e===s)return o<<t;s>e?r=o:i=o+1}return~(r<<t)}(n,e,1)}function Dte(){return this._results[Symbol.iterator]()}class qf{get changes(){return this._changes??=new Xe}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const t=qf.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=Dte)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;const i=function Rr(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function Mte(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=e[i];if(t&&(r=t(r),o=t(o)),o!==r)return!1}return!0}(this._results,i,t))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function hb(n){return!(128&~n.flags)}function ne(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function tt(n){return{providers:n.providers||[],imports:n.imports||[]}}function pb(n){return I3(n,gb)||I3(n,M3)}function I3(n,e){return n.hasOwnProperty(e)?n[e]:null}function mb(n){return n&&(n.hasOwnProperty(p1)||n.hasOwnProperty(Pte))?n[p1]:null}const gb=Ut({\u0275prov:Ut}),p1=Ut({\u0275inj:Ut}),M3=Ut({ngInjectableDef:Ut}),Pte=Ut({ngInjectorDef:Ut});class X{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=ne({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const _b=new X("",{providedIn:"root",factory:()=>Rte}),Rte="ng",D3=new X(""),go=new X("",{providedIn:"platform",factory:()=>"unknown"}),os=new X(""),m1=new X("",{providedIn:"root",factory:()=>function Ya(){if(void 0!==f1)return f1;if(typeof document<"u")return document;throw new H(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),Lte=Ut({__forward_ref__:Ut});function an(n){return n.__forward_ref__=an,n.toString=function(){return mi(this())},n}function Ne(n){return bb(n)?n():n}function bb(n){return"function"==typeof n&&n.hasOwnProperty(Lte)&&n.__forward_ref__===an}function v1(n){return n&&!!n.\u0275providers}function Ge(n){return"string"==typeof n?n:null==n?"":String(n)}function x1(n,e){throw new H(-201,!1)}let w1;function k3(){return w1}function Nr(n){const e=w1;return w1=n,e}function A3(n,e,t){const i=pb(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:t&mt.Optional?null:void 0!==e?e:void x1()}const Kf={},C1="__NG_DI_FLAG__",yb="ngTempTokenPath",Hte=/\n/gm,O3="__source";let Xd;function Qa(n){const e=Xd;return Xd=n,e}function qte(n,e=mt.Default){if(void 0===Xd)throw new H(-203,!1);return null===Xd?A3(n,void 0,e):Xd.get(n,e&mt.Optional?null:void 0,e)}function j(n,e=mt.Default){return(k3()||qte)(Ne(n),e)}function Z(n,e=mt.Default){return j(n,vb(e))}function vb(n){return typeof n>"u"||"number"==typeof n?n:(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function E1(n){const e=[];for(let t=0;t<n.length;t++){const i=Ne(n[t]);if(Array.isArray(i)){if(0===i.length)throw new H(900,!1);let r,o=mt.Default;for(let s=0;s<i.length;s++){const a=i[s],c=Wte(a);"number"==typeof c?-1===c?r=a.token:o|=c:r=a}e.push(j(r,o))}else e.push(j(i))}return e}function Yf(n,e){return n[C1]=e,n.prototype[C1]=e,n}function Wte(n){return n[C1]}let R3=()=>null;function O1(n,e,t=!1){return R3(n,e,t)}const nu="__parameters__";function ru(n,e,t){return Zs(()=>{const i=function F1(n){return function(...t){if(n){const i=n(...t);for(const r in i)this[r]=i[r]}}}(e);function r(...o){if(this instanceof r)return i.apply(this,o),this;const s=new r(...o);return a.annotation=s,a;function a(c,l,d){const u=c.hasOwnProperty(nu)?c[nu]:Object.defineProperty(c,nu,{value:[]})[nu];for(;u.length<=d;)u.push(null);return(u[d]=u[d]||[]).push(s),c}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}const Kt=Yf(ru("Optional"),8),Jf=Yf(ru("SkipSelf"),4);function cl(n,e){return n.hasOwnProperty(Js)?n[Js]:null}const ll=new X(""),z3=new X("",-1),L1=new X("");class Ib{get(e,t=Kf){if(t===Kf){const i=new Error(`NullInjectorError: No provider for ${mi(e)}!`);throw i.name="NullInjectorError",i}return t}}function ane(...n){return{\u0275providers:V1(0,n),\u0275fromNgModule:!0}}function V1(n,...e){const t=[],i=new Set;let r;const o=s=>{t.push(s)};return Yd(e,s=>{const a=s;Db(a,o,[],i)&&(r||=[],r.push(a))}),void 0!==r&&U3(r,o),t}function U3(n,e){for(let t=0;t<n.length;t++){const{ngModule:i,providers:r}=n[t];B1(r,o=>{e(o,i)})}}function Db(n,e,t,i){if(!(n=Ne(n)))return!1;let r=null,o=mb(n);const s=!o&&lt(n);if(o||s){if(s&&!s.standalone)return!1;r=n}else{const c=n.ngModule;if(o=mb(c),!o)return!1;r=c}const a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const l of c)Db(l,e,t,i)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let l;i.add(r);try{Yd(o.imports,d=>{Db(d,e,t,i)&&(l||=[],l.push(d))})}finally{}void 0!==l&&U3(l,e)}if(!a){const l=cl(r)||(()=>new r);e({provide:r,useFactory:l,deps:It},r),e({provide:L1,useValue:r,multi:!0},r),e({provide:ll,useValue:()=>j(r),multi:!0},r)}const c=o.providers;if(null!=c&&!a){const l=n;B1(c,d=>{e(d,l)})}}}return r!==n&&void 0!==n.providers}function B1(n,e){for(let t of n)v1(t)&&(t=t.\u0275providers),Array.isArray(t)?B1(t,e):e(t)}const cne=Ut({provide:String,useValue:Ut});function z1(n){return null!==n&&"object"==typeof n&&cne in n}function dl(n){return"function"==typeof n}const U1=new X(""),Sb={},dne={};let j1;function kb(){return void 0===j1&&(j1=new Ib),j1}class Jr{}class ou extends Jr{get destroyed(){return this._destroyed}constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,$1(e,s=>this.processProvider(s)),this.records.set(z3,su(void 0,this)),r.has("environment")&&this.records.set(Jr,su(void 0,this));const o=this.records.get(U1);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(L1,It,mt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of e)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const t=Qa(this),i=Nr(void 0);try{return e()}finally{Qa(t),Nr(i)}}get(e,t=Kf,i=mt.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(VL))return e[VL](this);i=vb(i);const o=Qa(this),s=Nr(void 0);try{if(!(i&mt.SkipSelf)){let c=this.records.get(e);if(void 0===c){const l=function mne(n){return"function"==typeof n||"object"==typeof n&&n instanceof X}(e)&&pb(e);c=l&&this.injectableDefInScope(l)?su(H1(e),Sb):null,this.records.set(e,c)}if(null!=c)return this.hydrate(e,c)}return(i&mt.Self?kb():this.parent).get(e,t=i&mt.Optional&&t===Kf?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[yb]=a[yb]||[]).unshift(mi(e)),o)throw a;return function Kte(n,e,t,i){const r=n[yb];throw e[O3]&&r.unshift(e[O3]),n.message=function Yte(n,e,t,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let r=mi(e);if(Array.isArray(e))r=e.map(mi).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):mi(a)))}r=`{${o.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace(Hte,"\n  ")}`}("\n"+n.message,r,t,i),n.ngTokenPath=r,n[yb]=null,n}(a,e,"R3InjectorError",this.source)}throw a}finally{Nr(s),Qa(o)}}resolveInjectorInitializers(){const e=Qa(this),t=Nr(void 0);try{const r=this.get(ll,It,mt.Self);for(const o of r)o()}finally{Qa(e),Nr(t)}}toString(){const e=[],t=this.records;for(const i of t.keys())e.push(mi(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new H(205,!1)}processProvider(e){let t=dl(e=Ne(e))?e:Ne(e&&e.provide);const i=function hne(n){return z1(n)?su(void 0,n.useValue):su($3(n),Sb)}(e);if(!dl(e)&&!0===e.multi){let r=this.records.get(t);r||(r=su(void 0,Sb,!0),r.factory=()=>E1(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t){return t.value===Sb&&(t.value=dne,t.value=t.factory()),"object"==typeof t.value&&t.value&&function pne(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=Ne(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){const t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}}function H1(n){const e=pb(n),t=null!==e?e.factory:cl(n);if(null!==t)return t;if(n instanceof X)throw new H(204,!1);if(n instanceof Function)return function une(n){if(n.length>0)throw new H(204,!1);const t=function Ote(n){return n&&(n[gb]||n[M3])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new H(204,!1)}function $3(n,e,t){let i;if(dl(n)){const r=Ne(n);return cl(r)||H1(r)}if(z1(n))i=()=>Ne(n.useValue);else if(function H3(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...E1(n.deps||[]));else if(function j3(n){return!(!n||!n.useExisting)}(n))i=()=>j(Ne(n.useExisting));else{const r=Ne(n&&(n.useClass||n.provide));if(!function fne(n){return!!n.deps}(n))return cl(r)||H1(r);i=()=>new r(...E1(n.deps))}return i}function su(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function $1(n,e){for(const t of n)Array.isArray(t)?$1(t,e):t&&v1(t)?$1(t.\u0275providers,e):e(t)}function ul(n,e){n instanceof ou&&n.assertNotDestroyed();const i=Qa(n),r=Nr(void 0);try{return e()}finally{Qa(i),Nr(r)}}function Ab(n){if(!k3()&&!function Gte(){return Xd}())throw new H(-203,!1)}class Tne{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}}function q3(n,e,t,i){null!==e?e.applyValueToInputSignal(e,i):n[t]=i}function eo(){return W3}function W3(n){return n.type.prototype.ngOnChanges&&(n.setInput=Mne),Ine}function Ine(){const n=Y3(this),e=n?.current;if(e){const t=n.previous;if(t===ts)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function Mne(n,e,t,i,r){const o=this.declaredInputs[i],s=Y3(n)||function Dne(n,e){return n[K3]=e}(n,{previous:ts,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new Tne(l&&l.currentValue,t,c===ts),q3(n,e,r,t)}eo.ngInherit=!0;const K3="__ngSimpleChanges__";function Y3(n){return n[K3]||null}const ss=function(n,e,t){};function Pb(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){const o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:d}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),null!=d&&(n.destroyHooks??=[]).push(t,d)}}function Rb(n,e,t){Q3(n,e,3,t)}function Nb(n,e,t,i){(3&n[Se])===t&&Q3(n,e,t,i)}function W1(n,e){let t=n[Se];(3&t)===e&&(t&=16383,t+=1,n[Se]=t)}function Q3(n,e,t,i){const o=i??-1,s=e.length-1;let a=0;for(let c=void 0!==i?65535&n[Hd]:0;c<s;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=i&&a>=i)break}else e[c]<0&&(n[Hd]+=65536),(a<o||-1==o)&&(Ane(n,t,e,c),n[Hd]=(4294901760&n[Hd])+c+2),c++}function X3(n,e){ss(4,n,e);const t=U(null);try{e.call(n)}finally{U(t),ss(5,n,e)}}function Ane(n,e,t,i){const r=t[i]<0,o=t[i+1],a=n[r?-t[i]:t[i]];r?n[Se]>>14<n[Hd]>>16&&(3&n[Se])===e&&(n[Se]+=16384,X3(a,o)):X3(a,o)}const cu=-1;class tp{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}}function Y1(n){return n!==cu}function np(n){return 32767&n}function ip(n,e){let t=function Fne(n){return n>>16}(n),i=e;for(;t>0;)i=i[jd],t--;return i}let Q1=!0;function Fb(n){const e=Q1;return Q1=n,e}const Z3=255,J3=5;let Lne=0;const as={};function Lb(n,e){const t=e5(n,e);if(-1!==t)return t;const i=e[ie];i.firstCreatePass&&(n.injectorIndex=e.length,X1(i.data,n),X1(e,null),X1(i.blueprint,null));const r=Vb(n,e),o=n.injectorIndex;if(Y1(r)){const s=np(r),a=ip(r,e),c=a[ie].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=r,o}function X1(n,e){n.push(0,0,0,0,0,0,0,0,e)}function e5(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function Vb(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;null!==r;){if(i=c5(r),null===i)return cu;if(t++,r=r[jd],-1!==i.injectorIndex)return i.injectorIndex|t<<16}return cu}function Z1(n,e,t){!function Vne(n,e,t){let i;"string"==typeof t?i=t.charCodeAt(0)||0:t.hasOwnProperty(Ff)&&(i=t[Ff]),null==i&&(i=t[Ff]=Lne++);const r=i&Z3;e.data[n+(r>>J3)]|=1<<r}(n,e,t)}function t5(n,e,t){if(t&mt.Optional||void 0!==n)return n;x1()}function n5(n,e,t,i){if(t&mt.Optional&&void 0===i&&(i=null),!(t&(mt.Self|mt.Host))){const r=n[ji],o=Nr(void 0);try{return r?r.get(e,i,t&mt.Optional):A3(e,i,t&mt.Optional)}finally{Nr(o)}}return t5(i,0,t)}function r5(n,e,t,i=mt.Default,r){if(null!==n){if(2048&e[Se]&&!(i&mt.Self)){const s=function Hne(n,e,t,i,r){let o=n,s=e;for(;null!==o&&null!==s&&2048&s[Se]&&!(512&s[Se]);){const a=o5(o,s,t,i|mt.Self,as);if(a!==as)return a;let c=o.parent;if(!c){const l=s[XL];if(l){const d=l.get(t,as,i);if(d!==as)return d}c=c5(s),s=s[jd]}o=c}return r}(n,e,t,i,as);if(s!==as)return s}const o=o5(n,e,t,i,as);if(o!==as)return o}return n5(e,t,i,r)}function o5(n,e,t,i,r){const o=function Une(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Ff)?n[Ff]:void 0;return"number"==typeof e?e>=0?e&Z3:jne:e}(t);if("function"==typeof o){if(!f3(e,n,i))return i&mt.Host?t5(r,0,i):n5(e,t,i,r);try{let s;if(s=o(i),null!=s||i&mt.Optional)return s;x1()}finally{_3()}}else if("number"==typeof o){let s=null,a=e5(n,e),c=cu,l=i&mt.Host?e[Pn][nr]:null;for((-1===a||i&mt.SkipSelf)&&(c=-1===a?Vb(n,e):e[a+8],c!==cu&&a5(i,!1)?(s=e[ie],a=np(c),e=ip(c,e)):a=-1);-1!==a;){const d=e[ie];if(s5(o,a,d.data)){const u=zne(a,e,t,s,i,l);if(u!==as)return u}c=e[a+8],c!==cu&&a5(i,e[ie].data[a+8]===l)&&s5(o,a,e)?(s=d,a=np(c),e=ip(c,e)):a=-1}}return r}function zne(n,e,t,i,r,o){const s=e[ie],a=s.data[n+8],d=Bb(a,s,t,null==i?ol(a)&&Q1:i!=s&&!!(3&a.type),r&mt.Host&&o===a);return null!==d?hl(e,s,d,a):as}function Bb(n,e,t,i,r){const o=n.providerIndexes,s=e.data,a=1048575&o,c=n.directiveStart,d=o>>20,f=r?a+d:n.directiveEnd;for(let m=i?a:a+d;m<f;m++){const y=s[m];if(m<c&&t===y||m>=c&&y.type===t)return m}if(r){const m=s[c];if(m&&Fo(m)&&m.type===t)return c}return null}function hl(n,e,t,i){let r=n[t];const o=e.data;if(function One(n){return n instanceof tp}(r)){const s=r;s.resolving&&function zte(n,e){throw e&&e.join(" > "),new H(-200,n)}(function At(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Ge(n)}(o[t]));const a=Fb(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?Nr(s.injectImpl):null;f3(n,i,mt.Default);try{r=n[t]=s.factory(void 0,o,n,i),e.firstCreatePass&&t>=i.directiveStart&&function kne(n,e,t){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){const s=W3(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}r&&(t.preOrderHooks??=[]).push(0-n,r),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}(t,o[t],e)}finally{null!==l&&Nr(l),Fb(a),s.resolving=!1,_3()}}return r}function s5(n,e,t){return!!(t[e+(n>>J3)]&1<<n)}function a5(n,e){return!(n&mt.Self||n&mt.Host&&e)}class bi{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return r5(this._tNode,this._lView,e,vb(i),t)}}function jne(){return new bi(jt(),K())}function ci(n){return Zs(()=>{const e=n.prototype.constructor,t=e[Js]||J1(e),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const o=r[Js]||J1(r);if(o&&o!==t)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function J1(n){return bb(n)?()=>{const e=J1(Ne(n));return e&&e()}:cl(n)}function c5(n){const e=n[ie],t=e.type;return 2===t?e.declTNode:1===t?n[nr]:null}function f5(n,e=null,t=null,i){const r=p5(n,e,t,i);return r.resolveInjectorInitializers(),r}function p5(n,e=null,t=null,i,r=new Set){const o=[t||It,ane(n)];return i=i||("object"==typeof n?void 0:mi(n)),new ou(o,e||kb(),i||null,r)}let Yt=(()=>{class n{static{this.THROW_IF_NOT_FOUND=Kf}static{this.NULL=new Ib}static create(t,i){if(Array.isArray(t))return f5({name:""},i,t,"");{const r=t.name??"";return f5({name:r},t.parent,t.providers,r)}}static{this.\u0275prov=ne({token:n,providedIn:"any",factory:()=>j(z3)})}static{this.__NG_ELEMENT_ID__=-1}}return n})();function tE(n){return n.ngOriginalError}class Vo{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&tE(e);for(;t&&tE(t);)t=tE(t);return t||null}}const g5=new X("",{providedIn:"root",factory:()=>Z(Vo).handleError.bind(void 0)}),b5=new X("",{providedIn:"root",factory:()=>!1});class fl{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${RL})`}}function to(n){return n instanceof fl?n.changingThisBreaksApplicationSecurity:n}const fie=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Hi=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Hi||{});function oa(n){const e=function op(){const n=K();return n&&n[ea].sanitizer}();return e?e.sanitize(Hi.URL,n)||"":function cs(n,e){const t=function rie(n){return n instanceof fl&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${RL})`)}return t===e}(n,"URL")?to(n):function Gb(n){return(n=String(n)).match(fie)?n:"unsafe:"+n}(Ge(n))}const Tie=/^>|^->|<!--|-->|--!>|<!-$/g,Iie=/(<|>)/g,Mie="\u200b$1\u200b";const aE=new Map;let Oie=0;const lE="__ngContext__";function sr(n,e){ir(e)?(n[lE]=e[zf],function Rie(n){aE.set(n[zf],n)}(e)):n[lE]=e}function no(n){return n instanceof Function?n():n}var Za=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Za||{});let fE;function pE(n,e){return fE(n,e)}function fu(n,e,t,i,r){if(null!=i){let o,s=!1;rr(i)?o=i:ir(i)&&(s=!0,i=i[vn]);const a=Wt(i);0===n&&null!==t?null==r?Y5(e,t,a):pl(e,t,a,r||null,!0):1===n&&null!==t?pl(e,t,a,r||null,!0):2===n?function e0(n,e,t){const i=Zb(n,e);i&&function nre(n,e,t,i){n.removeChild(e,t,i)}(n,i,e,t)}(e,a,s):3===n&&e.destroyNode(a),null!=o&&function ore(n,e,t,i,r){const o=t[ns];o!==Wt(t)&&fu(e,n,i,o,r);for(let a=Yn;a<t.length;a++){const c=t[a];t0(c[ie],c,n,e,i,o)}}(e,n,o,t,r)}}function mE(n,e){return n.createComment(function A5(n){return n.replace(Tie,e=>e.replace(Iie,Mie))}(e))}function Qb(n,e,t){return n.createElement(e,t)}function q5(n,e){t0(n,e,e[Ue],2,null,null)}function W5(n,e){const t=n[$d],i=t.indexOf(e);t.splice(i,1)}function ap(n,e){if(n.length<=Yn)return;const t=Yn+e,i=n[t];if(i){const r=i[Bf];null!==r&&r!==n&&W5(r,i),e>0&&(n[t-1][Ro]=i[Ro]);const o=db(n,Yn+e);!function Yie(n,e){q5(n,e),e[vn]=null,e[nr]=null}(i[ie],i);const s=o[ta];null!==s&&s.detachView(o[ie]),i[Kn]=null,i[Ro]=null,i[Se]&=-129}return i}function Xb(n,e){if(!(256&e[Se])){const t=e[Ue];t.destroyNode&&t0(n,e,t,3,null,null),function Xie(n){let e=n[Vf];if(!e)return gE(n[ie],n);for(;e;){let t=null;if(ir(e))t=e[Vf];else{const i=e[Yn];i&&(t=i)}if(!t){for(;e&&!e[Ro]&&e!==n;)ir(e)&&gE(e[ie],e),e=e[Kn];null===e&&(e=n),ir(e)&&gE(e[ie],e),t=e&&e[Ro]}e=t}}(e)}}function gE(n,e){if(!(256&e[Se])){e[Se]&=-129,e[Se]|=256,e[rl]&&Ao(e[rl]),function tre(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let i=0;i<t.length;i+=2){const r=e[t[i]];if(!(r instanceof tp)){const o=t[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=r[o[s]],c=o[s+1];ss(4,a,c);try{c.call(a)}finally{ss(5,a,c)}}else{ss(4,r,o);try{o.call(r)}finally{ss(5,r,o)}}}}}(n,e),function ere(n,e){const t=n.cleanup,i=e[Ud];if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const s=t[o+3];s>=0?i[s]():i[-s].unsubscribe(),o+=2}else t[o].call(i[t[o+1]]);null!==i&&(e[Ud]=null);const r=e[qa];if(null!==r){e[qa]=null;for(let o=0;o<r.length;o++)(0,r[o])()}}(n,e),1===e[ie].type&&e[Ue].destroy();const t=e[Bf];if(null!==t&&rr(e[Kn])){t!==e[Kn]&&W5(t,e);const i=e[ta];null!==i&&i.detachView(n)}!function Nie(n){aE.delete(n[zf])}(e)}}function _E(n,e,t){return function K5(n,e,t){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return t[vn];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:o}=n.data[i.directiveStart+r];if(o===Oo.None||o===Oo.Emulated)return null}return vr(i,t)}}(n,e.parent,t)}function pl(n,e,t,i,r){n.insertBefore(e,t,i,r)}function Y5(n,e,t){n.appendChild(e,t)}function Q5(n,e,t,i,r){null!==i?pl(n,e,t,i,r):Y5(n,e,t)}function Zb(n,e){return n.parentNode(e)}function X5(n,e,t){return J5(n,e,t)}let bE,J5=function Z5(n,e,t){return 40&n.type?vr(n,t):null};function Jb(n,e,t,i){const r=_E(n,i,e),o=e[Ue],a=X5(i.parent||e[nr],i,e);if(null!=r)if(Array.isArray(t))for(let c=0;c<t.length;c++)Q5(o,r,t[c],a,!1);else Q5(o,r,t,a,!1);void 0!==bE&&bE(o,i,e,t,r)}function cp(n,e){if(null!==e){const t=e.type;if(3&t)return vr(e,n);if(4&t)return yE(-1,n[e.index]);if(8&t){const i=e.child;if(null!==i)return cp(n,i);{const r=n[e.index];return rr(r)?yE(-1,r):Wt(r)}}if(32&t)return pE(e,n)()||Wt(n[e.index]);{const i=t4(n,e);return null!==i?Array.isArray(i)?i[0]:cp(sl(n[Pn]),i):cp(n,e.next)}}return null}function t4(n,e){return null!==e?n[Pn][nr].projection[e.projection]:null}function yE(n,e){const t=Yn+n+1;if(t<e.length){const i=e[t],r=i[ie].firstChild;if(null!==r)return cp(i,r)}return e[ns]}function vE(n,e,t,i,r,o,s){for(;null!=t;){const a=i[t.index],c=t.type;if(s&&0===e&&(a&&sr(Wt(a),i),t.flags|=2),32&~t.flags)if(8&c)vE(n,e,t.child,i,r,o,!1),fu(e,n,r,a,o);else if(32&c){const l=pE(t,i);let d;for(;d=l();)fu(e,n,r,d,o);fu(e,n,r,a,o)}else 16&c?r4(n,e,i,t,r,o):fu(e,n,r,a,o);t=s?t.projectionNext:t.next}}function t0(n,e,t,i,r,o){vE(t,i,n.firstChild,e,r,o,!1)}function r4(n,e,t,i,r,o){const s=t[Pn],c=s[nr].projection[i.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)fu(e,n,r,c[l],o);else{let l=c;const d=s[Kn];hb(i)&&(l.flags|=128),vE(n,e,l,d,r,o,!0)}}function o4(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function s4(n,e,t){const{mergedAttrs:i,classes:r,styles:o}=t;null!==i&&GC(n,e,i),null!==r&&o4(n,e,r),null!==o&&function are(n,e,t){n.setAttribute(e,"style",t)}(n,e,o)}const Ke={};function P(n=1){a4(gt(),K(),or()+n,!1)}function a4(n,e,t,i){if(!i)if(3&~e[Se]){const o=n.preOrderHooks;null!==o&&Nb(e,o,0,t)}else{const o=n.preOrderCheckHooks;null!==o&&Rb(e,o,t)}al(t)}function E(n,e=mt.Default){const t=K();return null===t?j(n,e):r5(jt(),t,Ne(n),e)}function xE(){throw new Error("invalid")}function c4(n,e,t,i,r,o){const s=U(null);try{let a=null;r&Ze.SignalBased&&(a=e[i][R]),null!==a&&void 0!==a.transformFn&&(o=a.transformFn(o)),r&Ze.HasDecoratorInputTransform&&(o=n.inputTransforms[i].call(e,o)),null!==n.setInput?n.setInput(e,a,o,t,i):q3(e,a,i,o)}finally{U(s)}}function n0(n,e,t,i,r,o,s,a,c,l,d){const u=e.blueprint.slice();return u[vn]=r,u[Se]=204|i,(null!==l||n&&2048&n[Se])&&(u[Se]|=2048),o3(u),u[Kn]=u[jd]=n,u[on]=t,u[ea]=s||n&&n[ea],u[Ue]=a||n&&n[Ue],u[ji]=c||n&&n[ji]||null,u[nr]=o,u[zf]=function Pie(){return Oie++}(),u[No]=d,u[XL]=l,u[Pn]=2==e.type?n[Pn]:u,u}function pu(n,e,t,i,r){let o=n.data[e];if(null===o)o=function wE(n,e,t,i,r){const o=l3(),s=r1(),c=n.data[e]=function mre(n,e,t,i,r,o){let s=e?e.injectorIndex:-1,a=0;return qd()&&(a|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,t,e,i,r);return null===n.firstChild&&(n.firstChild=c),null!==o&&(s?null==o.child&&null!==c.parent&&(o.child=c):null===o.next&&(o.next=c,c.prev=o)),c}(n,e,t,i,r),function yte(){return Le.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=t,o.value=i,o.attrs=r;const s=function Gf(){const n=Le.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return rs(o,!0),o}function lp(n,e,t,i){if(0===t)return-1;const r=e.length;for(let o=0;o<t;o++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function l4(n,e,t,i,r){const o=or(),s=2&i;try{al(-1),s&&e.length>$e&&a4(n,e,$e,!1),ss(s?2:0,r),t(i,r)}finally{al(o),ss(s?3:1,r)}}function CE(n,e,t){if(KC(e)){const i=U(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=n.data[s];a.contentQueries&&a.contentQueries(1,t[s],s)}}finally{U(i)}}}function EE(n,e,t){c3()&&(function wre(n,e,t,i){const r=t.directiveStart,o=t.directiveEnd;ol(t)&&function Sre(n,e,t){const i=vr(e,n),r=d4(t);let s=16;t.signals?s=4096:t.onPush&&(s=64);const a=r0(n,n0(n,r,null,s,i,e,null,n[ea].rendererFactory.createRenderer(i,t),null,null,null));n[e.index]=a}(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||Lb(t,e),sr(i,e);const s=t.initialInputs;for(let a=r;a<o;a++){const c=n.data[a],l=hl(e,n,a,t);sr(l,e),null!==s&&kre(0,a-r,l,c,0,s),Fo(c)&&(Xr(t.index,e)[on]=hl(e,n,a,t))}}(n,e,t,vr(t,e)),!(64&~t.flags)&&m4(n,e,t))}function TE(n,e,t=vr){const i=e.localNames;if(null!==i){let r=e.index+1;for(let o=0;o<i.length;o+=2){const s=i[o+1],a=-1===s?t(e,n):n[s];n[r++]=a}}}function d4(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=IE(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function IE(n,e,t,i,r,o,s,a,c,l,d){const u=$e+i,f=u+r,m=function lre(n,e){const t=[];for(let i=0;i<e;i++)t.push(i<n?null:Ke);return t}(u,f),y="function"==typeof l?l():l;return m[ie]={type:n,blueprint:m,template:t,queries:null,viewQuery:a,declTNode:e,data:m.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:y,incompleteFirstPass:!1,ssrId:d}}let u4=()=>null;function h4(n,e,t,i,r){for(let o in e){if(!e.hasOwnProperty(o))continue;const s=e[o];if(void 0===s)continue;i??={};let a,c=Ze.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let l=o;if(null!==r){if(!r.hasOwnProperty(o))continue;l=r[o]}0===n?f4(i,t,l,a,c):f4(i,t,l,a)}return i}function f4(n,e,t,i,r){let o;n.hasOwnProperty(t)?(o=n[t]).push(e,i):o=n[t]=[e,i],void 0!==r&&o.push(r)}function Lr(n,e,t,i,r,o,s,a){const c=vr(e,t);let d,l=e.inputs;!a&&null!=l&&(d=l[i])?(AE(n,t,d,i,r),ol(e)&&function bre(n,e){const t=Xr(e,n);16&t[Se]||(t[Se]|=64)}(t,e.index)):3&e.type&&(i=function _re(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=s?s(r,e.value||"",i):r,o.setProperty(c,i,r))}function ME(n,e,t,i){if(c3()){const r=null===i?null:{"":-1},o=function Ere(n,e){const t=n.directiveRegistry;let i=null,r=null;if(t)for(let o=0;o<t.length;o++){const s=t[o];if(GL(e,s.selectors,!1))if(i||(i=[]),Fo(s))if(null!==s.findHostDirectiveDefs){const a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),i.unshift(...a,s),DE(n,e,a.length)}else i.unshift(s),DE(n,e,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return null===i?null:[i,r]}(n,t);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&p4(n,e,t,s,r,a),r&&function Tre(n,e,t){if(e){const i=n.localNames=[];for(let r=0;r<e.length;r+=2){const o=t[e[r+1]];if(null==o)throw new H(-301,!1);i.push(e[r],o)}}}(t,i,r)}t.mergedAttrs=Lf(t.mergedAttrs,t.attrs)}function p4(n,e,t,i,r,o){for(let l=0;l<i.length;l++)Z1(Lb(t,e),n,i[l].type);!function Mre(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,i.length);for(let l=0;l<i.length;l++){const d=i[l];d.providersResolver&&d.providersResolver(d)}let s=!1,a=!1,c=lp(n,e,i.length,null);for(let l=0;l<i.length;l++){const d=i[l];t.mergedAttrs=Lf(t.mergedAttrs,d.hostAttrs),Dre(n,t,e,c,d),Ire(c,d,r),null!==d.contentQueries&&(t.flags|=4),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(t.flags|=64);const u=d.type.prototype;!s&&(u.ngOnChanges||u.ngOnInit||u.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(u.ngOnChanges||u.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),c++}!function gre(n,e,t){const r=e.directiveEnd,o=n.data,s=e.attrs,a=[];let c=null,l=null;for(let d=e.directiveStart;d<r;d++){const u=o[d],f=t?t.get(u):null,y=f?f.outputs:null;c=h4(0,u.inputs,d,c,f?f.inputs:null),l=h4(1,u.outputs,d,l,y);const C=null===c||null===s||$L(e)?null:Are(c,d,s);a.push(C)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}(n,t,o)}function m4(n,e,t){const i=t.directiveStart,r=t.directiveEnd,o=t.index,s=function xte(){return Le.lFrame.currentDirectiveIndex}();try{al(o);for(let a=i;a<r;a++){const c=n.data[a],l=e[a];s1(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&Cre(c,l)}}finally{al(-1),s1(s)}}function Cre(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function DE(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function Ire(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;Fo(e)&&(t[""]=n)}}function Dre(n,e,t,i,r){n.data[i]=r;const o=r.factory||(r.factory=cl(r.type)),s=new tp(o,Fo(r),E);n.blueprint[i]=s,t[i]=s,function vre(n,e,t,i,r){const o=r.hostBindings;if(o){let s=n.hostBindingOpCodes;null===s&&(s=n.hostBindingOpCodes=[]);const a=~e.index;(function xre(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(s)!=a&&s.push(a),s.push(t,i,o)}}(n,e,i,lp(n,t,r.hostVars,Ke),r)}function ls(n,e,t,i,r,o){const s=vr(n,e);!function SE(n,e,t,i,r,o,s){if(null==o)n.removeAttribute(e,r,t);else{const a=null==s?Ge(o):s(o,i||"",r);n.setAttribute(e,r,a,t)}}(e[Ue],s,o,n.value,t,i,r)}function kre(n,e,t,i,r,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;)c4(i,t,s[a++],s[a++],s[a++],s[a++])}function Are(n,e,t){let i=null,r=0;for(;r<t.length;){const o=t[r];if(0!==o)if(5!==o){if("number"==typeof o)break;if(n.hasOwnProperty(o)){null===i&&(i=[]);const s=n[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){i.push(o,s[a+1],s[a+2],t[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function g4(n,e,t,i){return[n,!0,0,e,null,i,null,t,null,null]}function _4(n,e){const t=n.contentQueries;if(null!==t){const i=U(null);try{for(let r=0;r<t.length;r+=2){const s=t[r+1];if(-1!==s){const a=n.data[s];cb(t[r]),a.contentQueries(2,e[s],s)}}}finally{U(i)}}}function r0(n,e){return n[Vf]?n[QL][Ro]=e:n[Vf]=e,n[QL]=e,e}function kE(n,e,t){cb(0);const i=U(null);try{e(n,t)}finally{U(i)}}function b4(n){return n[Ud]||(n[Ud]=[])}function y4(n){return n.cleanup||(n.cleanup=[])}function v4(n,e,t){return(null===n||Fo(n))&&(t=function ZC(n){for(;Array.isArray(n);){if("object"==typeof n[qC])return n;n=n[vn]}return null}(t[e.index])),t[Ue]}function o0(n,e){const t=n[ji],i=t?t.get(Vo,null):null;i&&i.handleError(e)}function AE(n,e,t,i,r){for(let o=0;o<t.length;){const s=t[o++],a=t[o++],c=t[o++];c4(n.data[s],e[s],i,a,c,r)}}function Ore(n,e){const t=Xr(e,n),i=t[ie];!function Pre(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}(i,t);const r=t[vn];null!==r&&null===t[No]&&(t[No]=O1(r,t[ji])),OE(i,t,t[on])}function OE(n,e,t){l1(e);try{const i=n.viewQuery;null!==i&&kE(1,i,t);const r=n.template;null!==r&&l4(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[ta]?.finishViewCreation(n),n.staticContentQueries&&_4(n,e),n.staticViewQueries&&kE(2,n.viewQuery,t);const o=n.components;null!==o&&function Rre(n,e){for(let t=0;t<e.length;t++)Ore(n,e[t])}(e,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[Se]&=-5,d1()}}function mu(n,e){return!e||null===e.firstChild||hb(n)}function up(n,e,t,i=!0){const r=e[ie];if(function Zie(n,e,t,i){const r=Yn+i,o=t.length;i>0&&(t[r-1][Ro]=e),i<o-Yn?(e[Ro]=t[r],x3(t,Yn+i,e)):(t.push(e),e[Ro]=null),e[Kn]=t;const s=e[Bf];null!==s&&t!==s&&function Jie(n,e){const t=n[$d];e[Pn]!==e[Kn][Kn][Pn]&&(n[Se]|=WC.HasTransplantedViews),null===t?n[$d]=[e]:t.push(e)}(s,e);const a=e[ta];null!==a&&a.insertView(n),t1(e),e[Se]|=128}(r,e,n,t),i){const s=yE(t,n),a=e[Ue],c=Zb(a,n[ns]);null!==c&&function Qie(n,e,t,i,r,o){i[vn]=r,i[nr]=e,t0(n,i,t,1,r,o)}(r,n[nr],a,e,c,s)}const o=e[No];null!==o&&null!==o.firstChild&&(o.firstChild=null)}function hp(n,e,t,i,r=!1){for(;null!==t;){const o=e[t.index];null!==o&&i.push(Wt(o)),rr(o)&&w4(o,i);const s=t.type;if(8&s)hp(n,e,t.child,i);else if(32&s){const a=pE(t,e);let c;for(;c=a();)i.push(c)}else if(16&s){const a=t4(e,t);if(Array.isArray(a))i.push(...a);else{const c=sl(e[Pn]);hp(c[ie],c,a,i,!0)}}t=r?t.projectionNext:t.next}return i}function w4(n,e){for(let t=Yn;t<n.length;t++){const i=n[t],r=i[ie].firstChild;null!==r&&hp(i[ie],i,r,e)}n[ns]!==n[vn]&&e.push(n[ns])}let C4=[];const Vre={...w,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{$f(n.lView)},consumerOnSignalRead(){this.lView[rl]=this}};function E4(n){return I4(n[Vf])}function T4(n){return I4(n[Ro])}function I4(n){for(;null!==n&&!rr(n);)n=n[Ro];return n}function s0(n,e=!0,t=0){const i=n[ea],r=i.rendererFactory;r.begin?.();try{!function Ure(n,e){RE(n,e);let t=0;for(;e1(n);){if(100===t)throw new H(103,!1);t++,RE(n,1)}}(n,t)}catch(s){throw e&&o0(n,s),s}finally{r.end?.(),i.inlineEffectRunner?.flush()}}function jre(n,e,t,i){const r=e[Se];if(!(256&~r))return;e[ea].inlineEffectRunner?.flush(),l1(e);let s=null,a=null;(function Hre(n){return 2!==n.type})(n)&&(a=function Nre(n){return n[rl]??function Fre(n){const e=C4.pop()??Object.create(Vre);return e.lView=n,e}(n)}(e),s=fe(a));try{o3(e),function u3(n){return Le.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&l4(n,e,t,2,i);const c=!(3&~r);if(c){const u=n.preOrderCheckHooks;null!==u&&Rb(e,u,null)}else{const u=n.preOrderHooks;null!==u&&Nb(e,u,0,null),W1(e,0)}if(function $re(n){for(let e=E4(n);null!==e;e=T4(e)){if(!(e[Se]&WC.HasTransplantedViews))continue;const t=e[$d];for(let i=0;i<t.length;i++){lte(t[i])}}}(e),D4(e,0),null!==n.contentQueries&&_4(n,e),c){const u=n.contentCheckHooks;null!==u&&Rb(e,u)}else{const u=n.contentHooks;null!==u&&Nb(e,u,1),W1(e,1)}!function cre(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let i=0;i<t.length;i++){const r=t[i];if(r<0)al(~r);else{const o=r,s=t[++i],a=t[++i];vte(s,o),a(2,e[o])}}}finally{al(-1)}}(n,e);const l=n.components;null!==l&&k4(e,l,0);const d=n.viewQuery;if(null!==d&&kE(2,d,i),c){const u=n.viewCheckHooks;null!==u&&Rb(e,u)}else{const u=n.viewHooks;null!==u&&Nb(e,u,2),W1(e,2)}if(!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[rb]){for(const u of e[rb])u();e[rb]=null}e[Se]&=-73}catch(c){throw $f(e),c}finally{null!==a&&(Xt(a,s),function Lre(n){n.lView[rl]!==n&&(n.lView=null,C4.push(n))}(a)),d1()}}function D4(n,e){for(let t=E4(n);null!==t;t=T4(t))for(let i=Yn;i<t.length;i++)S4(t[i],e)}function Gre(n,e,t){S4(Xr(e,n),t)}function S4(n,e){JC(n)&&RE(n,e)}function RE(n,e){const i=n[ie],r=n[Se],o=n[rl];let s=!!(0===e&&16&r);if(s||=!!(64&r&&0===e),s||=!!(1024&r),s||=!(!o?.dirty||!br(o)),o&&(o.dirty=!1),n[Se]&=-9217,s)jre(i,n,i.template,n[on]);else if(8192&r){D4(n,1);const a=i.components;null!==a&&k4(n,a,1)}}function k4(n,e,t){for(let i=0;i<e.length;i++)Gre(n,e[i],t)}function fp(n){for(n[ea].changeDetectionScheduler?.notify();n;){n[Se]|=64;const e=sl(n);if(YC(n)&&!e)return n;n=e}return null}class pp{get rootNodes(){const e=this._lView,t=e[ie];return hp(t,e,t.firstChild,[])}constructor(e,t,i=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[on]}set context(e){this._lView[on]=e}get destroyed(){return!(256&~this._lView[Se])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Kn];if(rr(e)){const t=e[8],i=t?t.indexOf(this):-1;i>-1&&(ap(e,i),db(t,i))}this._attachedToViewContainer=!1}Xb(this._lView[ie],this._lView)}onDestroy(e){ab(this._lView,e)}markForCheck(){fp(this._cdRefInjectingView||this._lView)}detach(){this._lView[Se]&=-129}reattach(){t1(this._lView),this._lView[Se]|=128}detectChanges(){this._lView[Se]|=1024,s0(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new H(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,q5(this._lView[ie],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new H(902,!1);this._appRef=e,t1(this._lView)}}let ds=(()=>{class n{static{this.__NG_ELEMENT_ID__=Kre}}return n})();const qre=ds,Wre=class extends qre{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,i){const r=function dp(n,e,t,i){const r=e.tView,a=n0(n,r,t,4096&n[Se]?4096:16,null,e,null,null,null,i?.injector??null,i?.dehydratedView??null);a[Bf]=n[e.index];const l=n[ta];return null!==l&&(a[ta]=l.createEmbeddedView(r)),OE(r,a,t),a}(this._declarationLView,this._declarationTContainer,e,{injector:t,dehydratedView:i});return new pp(r)}};function Kre(){return a0(jt(),K())}function a0(n,e){return 4&n.type?new Wre(e,n,Kd(n,e)):null}class zE{}class goe{}class L4{}class boe{resolveComponentFactory(e){throw function _oe(n){const e=Error(`No component factory found for ${mi(n)}.`);return e.ngComponent=n,e}(e)}}let _u=(()=>{class n{static{this.NULL=new boe}}return n})();class UE{}let us=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function yoe(){const n=K(),t=Xr(jt().index,n);return(ir(t)?t:n)[Ue]}()}}return n})(),voe=(()=>{class n{static{this.\u0275prov=ne({token:n,providedIn:"root",factory:()=>null})}}return n})();const jE={};const z4=new Set;function hs(n){z4.has(n)||(z4.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function U4(n,e){hs("NgSignals");const t=function An(n){const e=Object.create(kC);e.computation=n;const t=()=>{if(A(e),x(e),e.value===zi)throw e.error;return e.value};return t[R]=e,t}(n);return e?.equal&&(t[R].equal=e.equal),t}function Ja(n,e){hs("NgSignals");const t=function _ee(n){const e=Object.create(yee);e.value=n;const t=()=>(x(e),e.value);return t[R]=e,t}(n),i=t[R];return e?.equal&&(i.equal=e.equal),t.set=r=>TL(i,r),t.update=r=>function bee(n,e){ee()||EL(),TL(n,e(n.value))}(i,r),t.asReadonly=xoe.bind(t),t}function xoe(){const n=this[R];if(void 0===n.readonlyFn){const e=()=>this();e[R]=n,n.readonlyFn=e}return n.readonlyFn}function j4(n){return function B4(n){return"function"==typeof n&&void 0!==n[R]}(n)&&"function"==typeof n.set}function h0(n){return!!function HE(n){return null!==n&&("function"==typeof n||"object"==typeof n)}(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}class $4{constructor(){}supports(e){return h0(e)}create(e){return new Toe(e)}}const Eoe=(n,e)=>e;class Toe{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Eoe}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,r=0,o=null;for(;t||i;){const s=!i||t&&t.currentIndex<q4(i,r,o)?t:i,a=q4(s,r,o),c=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(t=t._next,null==s.previousIndex)r++;else{o||(o=[]);const l=a-r,d=c-r;if(l!=d){for(let f=0;f<l;f++){const m=f<o.length?o[f]:o[f]=0,y=m+f;d<=y&&y<l&&(o[f]=m+1)}o[s.previousIndex]=d-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!h0(e))throw new H(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let r,o,s,t=this._itHead,i=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==t&&Object.is(t.trackById,s)?(i&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,s,a),i=!0),t=t._next}else r=0,function Coe(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let i;for(;!(i=t.next()).done;)e(i.value)}}(e,a=>{s=this._trackByFn(r,a),null!==t&&Object.is(t.trackById,s)?(i&&(t=this._verifyReinsertion(t,a,s,r)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,r),i=!0),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,r){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,r)):e=this._addAfter(new Ioe(t,i),o,r),e}_verifyReinsertion(e,t,i,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?e=this._reinsertAfter(o,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,o=e._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new G4),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,i=e._next;return null===t?this._itHead=i:t._next=i,null===i?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new G4),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class Ioe{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Moe{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===t||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){const t=e._prevDup,i=e._nextDup;return null===t?this._head=i:t._nextDup=i,null===i?this._tail=t:i._prevDup=t,null===this._head}}class G4{constructor(){this.map=new Map}put(e){const t=e.trackById;let i=this.map.get(t);i||(i=new Moe,this.map.set(t,i)),i.add(e)}get(e,t){const r=this.map.get(e);return r?r.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function q4(n,e,t){const i=n.previousIndex;if(null===i)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+e+r}function K4(){return new $E([new $4])}let $E=(()=>{class n{static{this.\u0275prov=ne({token:n,providedIn:"root",factory:K4})}constructor(t){this.factories=t}static create(t,i){if(null!=i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||K4()),deps:[[n,new Jf,new Kt]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(null!=i)return i;throw new H(901,!1)}}return n})(),bu=(()=>{class n{static{this.__NG_ELEMENT_ID__=Aoe}}return n})();function Aoe(n){return function Ooe(n,e,t){if(ol(n)&&!t){const i=Xr(n.index,e);return new pp(i,i)}return 47&n.type?new pp(e[Pn],e):null}(jt(),K(),!(16&~n))}let p0=(()=>{class n{static{this.__NG_ELEMENT_ID__=Foe}static{this.__NG_ENV_ID__=t=>t}}return n})();class Noe extends p0{constructor(e){super(),this._lView=e}onDestroy(e){return ab(this._lView,e),()=>function n1(n,e){if(null===n[qa])return;const t=n[qa].indexOf(e);-1!==t&&n[qa].splice(t,1)}(this._lView,e)}}function Foe(){return new Noe(K())}const Loe=new X("",{providedIn:"root",factory:()=>Z(Voe)});let Voe=(()=>{class n{static{this.\u0275prov=ne({token:n,providedIn:"root",factory:()=>new Boe})}}return n})();class Boe{constructor(){this.hasQueuedFlush=!1,this.queuedEffectCount=0,this.queues=new Map}scheduleEffect(e){this.enqueue(e),this.hasQueuedFlush||(queueMicrotask(()=>this.flush()),this.hasQueuedFlush=!1)}enqueue(e){const t=e.creationZone;this.queues.has(t)||this.queues.set(t,new Set);const i=this.queues.get(t);i.has(e)||(this.queuedEffectCount++,i.add(e))}flush(){for(;this.queuedEffectCount>0;)for(const[e,t]of this.queues)null===e?this.flushQueue(t):e.run(()=>this.flushQueue(t))}flushQueue(e){for(const t of e)e.delete(t),this.queuedEffectCount--,t.run()}}class zoe{constructor(e,t,i,r,o,s){this.scheduler=e,this.effectFn=t,this.creationZone=i,this.injector=o,this.watcher=function xee(n,e,t){const i=Object.create(wee);t&&(i.consumerAllowSignalWrites=!0),i.fn=n,i.schedule=e;const r=c=>{i.cleanupFn=c};return i.ref={notify:()=>le(i),run:()=>{if(null===i.fn)return;if(function b(){return W}())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(i.dirty=!1,i.hasRun&&!br(i))return;i.hasRun=!0;const c=fe(i);try{i.cleanupFn(),i.cleanupFn=PC,i.fn(r)}finally{Xt(i,c)}},cleanup:()=>i.cleanupFn(),destroy:()=>function s(c){(function o(c){return null===c.fn&&null===c.schedule})(c)||(Ao(c),c.cleanupFn(),c.fn=null,c.schedule=null,c.cleanupFn=PC)}(i),[R]:i},i.ref}(a=>this.runEffect(a),()=>this.schedule(),s),this.unregisterOnDestroy=r?.onDestroy(()=>this.destroy())}runEffect(e){try{this.effectFn(e)}catch(t){this.injector.get(Vo,null,{optional:!0})?.handleError(t)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}}function X4(...n){}class ke{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Xe(!1),this.onMicrotaskEmpty=new Xe(!1),this.onStable=new Xe(!1),this.onError=new Xe(!1),typeof Zone>"u")throw new H(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&t,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function Uoe(){const n="function"==typeof Ft.requestAnimationFrame;let e=Ft[n?"requestAnimationFrame":"setTimeout"],t=Ft[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function $oe(n){const e=()=>{!function Hoe(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Ft,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,qE(n),n.isCheckStableRunning=!0,GE(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),qE(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,i,r,o,s,a)=>{if(function Goe(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return t.invokeTask(r,o,s,a);try{return Z4(n),t.invokeTask(r,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&e(),J4(n)}},onInvoke:(t,i,r,o,s,a,c)=>{try{return Z4(n),t.invoke(r,o,s,a,c)}finally{n.shouldCoalesceRunChangeDetection&&e(),J4(n)}},onHasTask:(t,i,r,o)=>{t.hasTask(r,o),i===r&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,qE(n),GE(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,i,r,o)=>(t.handleError(r,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ke.isInAngularZone())throw new H(909,!1)}static assertNotInAngularZone(){if(ke.isInAngularZone())throw new H(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,e,joe,X4,X4);try{return o.runTask(s,t,i)}finally{o.cancelTask(s)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}}const joe={};function GE(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function qE(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function Z4(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function J4(n){n._nesting--,GE(n)}class eV{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Xe,this.onMicrotaskEmpty=new Xe,this.onStable=new Xe,this.onError=new Xe}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}}var ml=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(ml||{});const tV={destroy(){}};function nV(n,e){!e&&Ab();const t=e?.injector??Z(Yt);if(!function Xa(n){return"browser"===(n??Z(Yt)).get(go)}(t))return tV;hs("NgAfterNextRender");const i=t.get(yp),r=i.handler??=new rV,o=e?.phase??ml.MixedReadWrite,s=()=>{r.unregister(c),a()},a=t.get(p0).onDestroy(s),c=new iV(t,o,()=>{s(),n()});return r.register(c),{destroy:s}}class iV{constructor(e,t,i){this.phase=t,this.callbackFn=i,this.zone=e.get(ke),this.errorHandler=e.get(Vo,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}}class rV{constructor(){this.executingCallbacks=!1,this.buckets={[ml.EarlyRead]:new Set,[ml.Write]:new Set,[ml.MixedReadWrite]:new Set,[ml.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(const e of Object.values(this.buckets))for(const t of e)t.invoke();this.executingCallbacks=!1;for(const e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(const e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}}let yp=(()=>{class n{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const t=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const i of t)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static{this.\u0275prov=ne({token:n,providedIn:"root",factory:()=>new n})}}return n})();function g0(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?r=jC(r,a):2==o&&(i=jC(i,a+": "+e[++s]+";"))}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}class aV extends _u{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=lt(e);return new wp(t,this.ngModule)}}function cV(n){const e=[];for(const t in n){if(!n.hasOwnProperty(t))continue;const i=n[t];void 0!==i&&e.push({propName:Array.isArray(i)?i[0]:i,templateName:t})}return e}class Xoe{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){i=vb(i);const r=this.injector.get(e,jE,i);return r!==jE||t===jE?r:this.parentInjector.get(e,t,i)}}class wp extends L4{get inputs(){const e=this.componentDef,t=e.inputTransforms,i=cV(e.inputs);if(null!==t)for(const r of i)t.hasOwnProperty(r.propName)&&(r.transform=t[r.propName]);return i}get outputs(){return cV(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function Qee(n){return n.map(Yee).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,i,r){let o=(r=r||this.ngModule)instanceof Jr?r:r?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new Xoe(e,o):e,a=s.get(UE,null);if(null===a)throw new H(407,!1);const u={rendererFactory:a,sanitizer:s.get(voe,null),inlineEffectRunner:null,afterRenderEventManager:s.get(yp,null),changeDetectionScheduler:s.get(zE,null)},f=a.createRenderer(null,this.componentDef),m=this.componentDef.selectors[0][0]||"div",y=i?function dre(n,e,t,i){const o=i.get(b5,!1)||t===Oo.ShadowDom,s=n.selectRootElement(e,o);return function ure(n){u4(n)}(s),s}(f,i,this.componentDef.encapsulation,s):Qb(f,m,function Qoe(n){const e=n.toLowerCase();return"svg"===e?t3:"math"===e?"math":null}(m));let C=512;this.componentDef.signals?C|=4096:this.componentDef.onPush||(C|=16);let T=null;null!==y&&(T=O1(y,s,!0));const S=IE(0,null,null,1,0,null,null,null,null,null,null),D=n0(null,S,null,C,null,null,u,f,s,null,T);let L,Y;l1(D);try{const re=this.componentDef;let ue,Fe=null;re.findHostDirectiveDefs?(ue=[],Fe=new Map,re.findHostDirectiveDefs(re,ue,Fe),ue.push(re)):ue=[re];const it=function Joe(n,e){const t=n[ie],i=$e;return n[i]=e,pu(t,i,2,"#host",null)}(D,y),kn=function ese(n,e,t,i,r,o,s){const a=r[ie];!function tse(n,e,t,i){for(const r of n)e.mergedAttrs=Lf(e.mergedAttrs,r.hostAttrs);null!==e.mergedAttrs&&(g0(e,e.mergedAttrs,!0),null!==t&&s4(i,t,e))}(i,n,e,s);let c=null;null!==e&&(c=O1(e,r[ji]));const l=o.rendererFactory.createRenderer(e,t);let d=16;t.signals?d=4096:t.onPush&&(d=64);const u=n0(r,d4(t),null,d,r[n.index],n,o,l,null,null,c);return a.firstCreatePass&&DE(a,n,i.length-1),r0(r,u),r[n.index]=u}(it,y,re,ue,D,u,f);Y=Hf(S,$e),y&&function ise(n,e,t,i){if(i)GC(n,t,["ng-version","17.2.3"]);else{const{attrs:r,classes:o}=function Xee(n){const e=[],t=[];let i=1,r=2;for(;i<n.length;){let o=n[i];if("string"==typeof o)2===r?""!==o&&e.push(o,n[++i]):8===r&&t.push(o);else{if(!Po(r))break;r=o}i++}return{attrs:e,classes:t}}(e.selectors[0]);r&&GC(n,t,r),o&&o.length>0&&o4(n,t,o.join(" "))}}(f,re,y,i),void 0!==t&&function rse(n,e,t){const i=n.projection=[];for(let r=0;r<e.length;r++){const o=t[r];i.push(null!=o?Array.from(o):null)}}(Y,this.ngContentSelectors,t),L=function nse(n,e,t,i,r,o){const s=jt(),a=r[ie],c=vr(s,r);p4(a,r,s,t,null,i);for(let d=0;d<t.length;d++)sr(hl(r,a,s.directiveStart+d,s),r);m4(a,r,s),c&&sr(c,r);const l=hl(r,a,s.directiveStart+s.componentOffset,s);if(n[on]=r[on]=l,null!==o)for(const d of o)d(l,e);return CE(a,s,r),l}(kn,re,ue,Fe,D,[ose]),OE(S,D,null)}finally{d1()}return new Zoe(this.componentType,L,Kd(Y,D),D,Y)}}class Zoe extends goe{constructor(e,t,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new pp(r,void 0,!1),this.componentType=e}setInput(e,t){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;const o=this._rootLView;AE(o[ie],o,r,e,t),this.previousInputValues.set(e,t),fp(Xr(this._tNode.index,o))}}get injector(){return new bi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function ose(){const n=jt();Pb(K()[ie],n)}let _o=(()=>{class n{static{this.__NG_ELEMENT_ID__=sse}}return n})();function sse(){return uV(jt(),K())}const ase=_o,lV=class extends ase{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return Kd(this._hostTNode,this._hostLView)}get injector(){return new bi(this._hostTNode,this._hostLView)}get parentInjector(){const e=Vb(this._hostTNode,this._hostLView);if(Y1(e)){const t=ip(e,this._hostLView),i=np(e);return new bi(t[ie].data[i+8],t)}return new bi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=dV(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-Yn}createEmbeddedView(e,t,i){let r,o;"number"==typeof i?r=i:null!=i&&(r=i.index,o=i.injector);const a=e.createEmbeddedViewImpl(t||{},o,null);return this.insertImpl(a,r,mu(this._hostTNode,null)),a}createComponent(e,t,i,r,o){const s=e&&!function ep(n){return"function"==typeof n}(e);let a;if(s)a=t;else{const y=t||{};a=y.index,i=y.injector,r=y.projectableNodes,o=y.environmentInjector||y.ngModuleRef}const c=s?e:new wp(lt(e)),l=i||this.parentInjector;if(!o&&null==c.ngModule){const C=(s?l:this.parentInjector).get(Jr,null);C&&(o=C)}lt(c.componentType??{});const m=c.create(l,r,null,o);return this.insertImpl(m.hostView,a,mu(this._hostTNode,null)),m}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,i){const r=e._lView;if(function cte(n){return rr(n[Kn])}(r)){const a=this.indexOf(e);if(-1!==a)this.detach(a);else{const c=r[Kn],l=new lV(c,c[nr],c[Kn]);l.detach(l.indexOf(e))}}const o=this._adjustIndex(t),s=this._lContainer;return up(s,r,o,i),e.attachToViewContainerRef(),x3(QE(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=dV(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),i=ap(this._lContainer,t);i&&(db(QE(this._lContainer),t),Xb(i[ie],i))}detach(e){const t=this._adjustIndex(e,-1),i=ap(this._lContainer,t);return i&&null!=db(QE(this._lContainer),t)?new pp(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function dV(n){return n[8]}function QE(n){return n[8]||(n[8]=[])}function uV(n,e){let t;const i=e[n.index];return rr(i)?t=i:(t=g4(i,e,null,n),e[n.index]=t,r0(e,t)),hV(t,e,n,i),new lV(t,n,e)}let hV=function pV(n,e,t,i){if(n[ns])return;let r;r=8&t.type?Wt(i):function cse(n,e){const t=n[Ue],i=t.createComment(""),r=vr(e,n);return pl(t,Zb(t,r),i,function ire(n,e){return n.nextSibling(e)}(t,r),!1),i}(e,t),n[ns]=r},XE=()=>!1;class ZE{constructor(e){this.queryList=e,this.matches=null}clone(){return new ZE(this.queryList)}setDirty(){this.queryList.setDirty()}}class JE{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const i=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let o=0;o<i;o++){const s=t.getByIndex(o);r.push(this.queries[s.indexInDeclarationView].clone())}return new JE(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==rT(e,t).matches&&this.queries[t].setDirty()}}class mV{constructor(e,t,i=null){this.flags=t,this.read=i,this.predicate="string"==typeof e?function gse(n){return n.split(",").map(e=>e.trim())}(e):e}}class eT{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){const r=null!==t?t.length:0,o=this.getByIndex(i).embeddedTView(e,r);o&&(o.indexInDeclarationView=i,null!==t?t.push(o):t=[o])}return null!==t?new eT(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class tT{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new tT(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1&~this.metadata.flags){const t=this._declarationNodeIndex;let i=e.parent;for(;null!==i&&8&i.type&&i.index!==t;)i=i.parent;return t===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];this.matchTNodeWithReadOption(e,t,hse(t,o)),this.matchTNodeWithReadOption(e,t,Bb(t,e,o,!1,!1))}else i===ds?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Bb(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===Lt||r===_o||r===ds&&4&t.type)this.addMatch(t.index,-2);else{const o=Bb(t,e,r,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,i)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function hse(n,e){const t=n.localNames;if(null!==t)for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1];return null}function pse(n,e,t,i){return-1===t?function fse(n,e){return 11&n.type?Kd(n,e):4&n.type?a0(n,e):null}(e,n):-2===t?function mse(n,e,t){return t===Lt?Kd(e,n):t===ds?a0(e,n):t===_o?uV(e,n):void 0}(n,e,i):hl(n,n[ie],t,e)}function gV(n,e,t,i){const r=e[ta].queries[i];if(null===r.matches){const o=n.data,s=t.matches,a=[];for(let c=0;null!==s&&c<s.length;c+=2){const l=s[c];a.push(l<0?null:pse(e,o[l],s[c+1],t.metadata.read))}r.matches=a}return r.matches}function nT(n,e,t,i){const r=n.queries.getByIndex(t),o=r.matches;if(null!==o){const s=gV(n,e,r,t);for(let a=0;a<o.length;a+=2){const c=o[a];if(c>0)i.push(s[a/2]);else{const l=o[a+1],d=e[-c];for(let u=Yn;u<d.length;u++){const f=d[u];f[Bf]===f[Kn]&&nT(f[ie],f,l,i)}if(null!==d[$d]){const u=d[$d];for(let f=0;f<u.length;f++){const m=u[f];nT(m[ie],m,l,i)}}}}}return i}function _V(n,e,t){const i=new qf(!(4&~t));return function pre(n,e,t,i){const r=b4(e);r.push(t),n.firstCreatePass&&y4(n).push(i,r.length-1)}(n,e,i,i.destroy),(e[ta]??=new JE).queries.push(new ZE(i))-1}function vV(n,e,t){null===n.queries&&(n.queries=new eT),n.queries.track(new tT(e,t))}function rT(n,e){return n.queries.getByIndex(e)}function xV(n,e){const t=n[ie],i=rT(t,e);return i.crossesNgTemplate?nT(t,n,e,[]):gV(t,n,i,e)}function _t(n){let e=function OV(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const i=[n];for(;e;){let r;if(Fo(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new H(903,!1);r=e.\u0275dir}if(r){if(t){i.push(r);const s=n;s.inputs=b0(n.inputs),s.inputTransforms=b0(n.inputTransforms),s.declaredInputs=b0(n.declaredInputs),s.outputs=b0(n.outputs);const a=r.hostBindings;a&&Ase(n,a);const c=r.viewQuery,l=r.contentQueries;if(c&&Sse(n,c),l&&kse(n,l),Mse(n,r),zee(n.outputs,r.outputs),Fo(r)&&r.data.animation){const d=n.data;d.animation=(d.animation||[]).concat(r.data.animation)}}const o=r.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===_t&&(t=!1)}}e=Object.getPrototypeOf(e)}!function Dse(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=Lf(r.hostAttrs,t=Lf(t,r.hostAttrs))}}(i)}function Mse(n,e){for(const t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;const i=e.inputs[t];if(void 0!==i&&(n.inputs[t]=i,n.declaredInputs[t]=e.declaredInputs[t],null!==e.inputTransforms)){const r=Array.isArray(i)?i[0]:i;if(!e.inputTransforms.hasOwnProperty(r))continue;n.inputTransforms??={},n.inputTransforms[r]=e.inputTransforms[r]}}}function b0(n){return n===ts?{}:n===It?[]:n}function Sse(n,e){const t=n.viewQuery;n.viewQuery=t?(i,r)=>{e(i,r),t(i,r)}:e}function kse(n,e){const t=n.contentQueries;n.contentQueries=t?(i,r,o)=>{e(i,r,o),t(i,r,o)}:e}function Ase(n,e){const t=n.hostBindings;n.hostBindings=t?(i,r)=>{e(i,r),t(i,r)}:e}function y0(n){const e=n.inputConfig,t={};for(const i in e)if(e.hasOwnProperty(i)){const r=e[i];Array.isArray(r)&&r[3]&&(t[i]=r[3])}n.inputTransforms=t}class gl{}class FV{}class sT extends gl{constructor(e,t,i){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new aV(this);const r=tr(e);this._bootstrapComponents=no(r.bootstrap),this._r3Injector=p5(e,t,[{provide:gl,useValue:this},{provide:_u,useValue:this.componentFactoryResolver},...i],mi(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class aT extends FV{constructor(e){super(),this.moduleType=e}create(e){return new sT(this.moduleType,e,[])}}class LV extends gl{constructor(e){super(),this.componentFactoryResolver=new aV(this),this.instance=null;const t=new ou([...e.providers,{provide:gl,useValue:this},{provide:_u,useValue:this.componentFactoryResolver}],e.parent||kb(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function v0(n,e,t=null){return new LV({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}let Ep=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new yr(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Qn(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Ot(n,e,t,i,r,o,s,a){const c=K(),l=gt(),d=n+$e,u=l.firstCreatePass?function Use(n,e,t,i,r,o,s,a,c){const l=e.consts,d=pu(e,n,4,s||null,is(l,a));ME(e,t,d,is(l,c)),Pb(e,d);const u=d.tView=IE(2,d,i,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return null!==e.queries&&(e.queries.template(e,d),u.queries=e.queries.embeddedTView(d)),d}(d,l,c,e,t,i,r,o,s):l.data[d];rs(u,!1);const f=VV(l,c,u,n);lb()&&Jb(l,c,f,u),sr(f,c);const m=g4(f,c,f,u);return c[d]=m,r0(c,m),function fV(n,e,t){return XE(n,e,t)}(m,u,c),sb(u)&&EE(l,c,u),null!=s&&TE(c,u,a),Ot}let VV=function BV(n,e,t,i){return Ka(!0),e[Ue].createComment("")};function Jn(n,e,t,i){const r=K();return Qn(r,Lo(),e)&&(gt(),ls(sn(),r,n,e,t,i)),Jn}function D0(n,e){return n<<17|e<<2}function ic(n){return n>>17&32767}function _T(n){return 2|n}function yl(n){return(131068&n)>>2}function bT(n,e){return-131069&n|e<<2}function yT(n){return 1|n}function gB(n,e,t,i){const r=n[t+1],o=null===e;let s=i?ic(r):yl(r),a=!1;for(;0!==s&&(!1===a||o);){const l=n[s+1];Tae(n[s],e)&&(a=!0,n[s+1]=i?yT(l):_T(l)),s=i?ic(l):yl(l)}a&&(n[t+1]=i?_T(r):yT(r))}function Tae(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Qd(n,e)>=0}const yi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function _B(n){return n.substring(yi.key,yi.keyEnd)}function bB(n,e){const t=yi.textEnd;return t===e?-1:(e=yi.keyEnd=function Sae(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,yi.key=e,t),Nu(n,e,t))}function Nu(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function Ve(n,e,t){const i=K();return Qn(i,Lo(),e)&&Lr(gt(),sn(),i,n,e,i[Ue],t,!1),Ve}function vT(n,e,t,i,r){const s=r?"class":"style";AE(n,t,e.inputs[s],s,i)}function vl(n,e,t){return Bo(n,e,t,!1),vl}function ar(n,e){return Bo(n,e,null,!0),ar}function Sp(n){!function zo(n,e,t,i){const r=gt(),o=ia(2);r.firstUpdatePass&&EB(r,null,o,i);const s=K();if(t!==Ke&&Qn(s,o,t)){const a=r.data[or()];if(DB(a,i)&&!CB(r,o)){let c=i?a.classesWithoutHost:a.stylesWithoutHost;null!==c&&(t=jC(c,t||"")),vT(r,a,s,t,i)}else!function Bae(n,e,t,i,r,o,s,a){r===Ke&&(r=It);let c=0,l=0,d=0<r.length?r[0]:null,u=0<o.length?o[0]:null;for(;null!==d||null!==u;){const f=c<r.length?r[c+1]:void 0,m=l<o.length?o[l+1]:void 0;let C,y=null;d===u?(c+=2,l+=2,f!==m&&(y=u,C=m)):null===u||null!==d&&d<u?(c+=2,y=d):(l+=2,y=u,C=m),null!==y&&IB(n,e,t,i,y,C,s,a),d=c<r.length?r[c]:null,u=l<o.length?o[l]:null}}(r,a,s,s[Ue],s[o+1],s[o+1]=function Lae(n,e,t){if(null==t||""===t)return It;const i=[],r=to(t);if(Array.isArray(r))for(let o=0;o<r.length;o++)n(i,r[o],!0);else if("object"==typeof r)for(const o in r)r.hasOwnProperty(o)&&n(i,o,r[o]);else"string"==typeof r&&e(i,r);return i}(n,e,t),i,o)}}(Vae,ms,n,!0)}function ms(n,e){for(let t=function Mae(n){return function vB(n){yi.key=0,yi.keyEnd=0,yi.value=0,yi.valueEnd=0,yi.textEnd=n.length}(n),bB(n,Nu(n,0,yi.textEnd))}(e);t>=0;t=bB(e,t))Zr(n,_B(e),!0)}function Bo(n,e,t,i){const r=K(),o=gt(),s=ia(2);o.firstUpdatePass&&EB(o,n,s,i),e!==Ke&&Qn(r,s,e)&&IB(o,o.data[or()],r,r[Ue],n,r[s+1]=function zae(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=mi(to(n)))),n}(e,t),i,s)}function CB(n,e){return e>=n.expandoStartIndex}function EB(n,e,t,i){const r=n.data;if(null===r[t+1]){const o=r[or()],s=CB(n,t);DB(o,i)&&null===e&&!s&&(e=!1),e=function Pae(n,e,t,i){const r=a1(n);let o=i?e.residualClasses:e.residualStyles;if(null===r)0===(i?e.classBindings:e.styleBindings)&&(t=kp(t=xT(null,n,e,t,i),e.attrs,i),o=null);else{const s=e.directiveStylingLast;if(-1===s||n[s]!==r)if(t=xT(r,n,e,t,i),null===o){let c=function Rae(n,e,t){const i=t?e.classBindings:e.styleBindings;if(0!==yl(i))return n[ic(i)]}(n,e,i);void 0!==c&&Array.isArray(c)&&(c=xT(null,n,e,c[1],i),c=kp(c,e.attrs,i),function Nae(n,e,t,i){n[ic(t?e.classBindings:e.styleBindings)]=i}(n,e,i,c))}else o=function Fae(n,e,t){let i;const r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++)i=kp(i,n[o].hostAttrs,t);return kp(i,e.attrs,t)}(n,e,i)}return void 0!==o&&(i?e.residualClasses=o:e.residualStyles=o),t}(r,o,e,i),function Cae(n,e,t,i,r,o){let s=o?e.classBindings:e.styleBindings,a=ic(s),c=yl(s);n[i]=t;let d,l=!1;if(Array.isArray(t)?(d=t[1],(null===d||Qd(t,d)>0)&&(l=!0)):d=t,r)if(0!==c){const f=ic(n[a+1]);n[i+1]=D0(f,a),0!==f&&(n[f+1]=bT(n[f+1],i)),n[a+1]=function xae(n,e){return 131071&n|e<<17}(n[a+1],i)}else n[i+1]=D0(a,0),0!==a&&(n[a+1]=bT(n[a+1],i)),a=i;else n[i+1]=D0(c,0),0===a?a=i:n[c+1]=bT(n[c+1],i),c=i;l&&(n[i+1]=_T(n[i+1])),gB(n,d,i,!0),gB(n,d,i,!1),function Eae(n,e,t,i,r){const o=r?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof e&&Qd(o,e)>=0&&(t[i+1]=yT(t[i+1]))}(e,d,n,i,o),s=D0(a,c),o?e.classBindings=s:e.styleBindings=s}(r,o,e,t,s,i)}}function xT(n,e,t,i,r){let o=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(o=e[a],i=kp(i,o.hostAttrs,r),o!==n);)a++;return null!==n&&(t.directiveStylingLast=a),i}function kp(n,e,t){const i=t?1:2;let r=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?r=s:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Zr(n,s,!!t||e[++o]))}return void 0===n?null:n}function Vae(n,e,t){const i=String(e);""!==i&&!i.includes(" ")&&Zr(n,i,t)}function IB(n,e,t,i,r,o,s,a){if(!(3&e.type))return;const c=n.data,l=c[a+1],d=function wae(n){return!(1&~n)}(l)?MB(c,e,t,r,yl(l),s):void 0;S0(d)||(S0(o)||function vae(n){return!(2&~n)}(l)&&(o=MB(c,null,t,r,a,s)),function sre(n,e,t,i,r){if(e)r?n.addClass(t,i):n.removeClass(t,i);else{let o=-1===i.indexOf("-")?void 0:Za.DashCase;null==r?n.removeStyle(t,i,o):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=Za.Important),n.setStyle(t,i,r,o))}}(i,s,jf(or(),t),r,o))}function MB(n,e,t,i,r,o){const s=null===e;let a;for(;r>0;){const c=n[r],l=Array.isArray(c),d=l?c[1]:c,u=null===d;let f=t[r+1];f===Ke&&(f=u?It:void 0);let m=u?h1(f,i):d===i?f:void 0;if(l&&!S0(m)&&(m=h1(c,i)),S0(m)&&(a=m,s))return a;const y=n[r+1];r=s?ic(y):yl(y)}if(null!==e){let c=o?e.residualClasses:e.residualStyles;null!=c&&(a=h1(c,i))}return a}function S0(n){return void 0!==n}function DB(n,e){return!!(n.flags&(e?8:16))}function p(n,e,t,i){const r=K(),o=gt(),s=$e+n,a=r[Ue],c=o.firstCreatePass?function lce(n,e,t,i,r,o){const s=e.consts,c=pu(e,n,2,i,is(s,r));return ME(e,t,c,is(s,o)),null!==c.attrs&&g0(c,c.attrs,!1),null!==c.mergedAttrs&&g0(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(s,o,r,e,t,i):o.data[s],l=OB(o,r,c,a,e,n);r[s]=l;const d=sb(c);return rs(c,!0),s4(a,l,c),!!(32&~c.flags)&&lb()&&Jb(o,r,l,c),0===function dte(){return Le.lFrame.elementDepthCount}()&&sr(l,r),function ute(){Le.lFrame.elementDepthCount++}(),d&&(EE(o,r,c),CE(o,c,r)),null!==i&&TE(r,c),p}function h(){let n=jt();r1()?o1():(n=n.parent,rs(n,!1));const e=n;(function fte(n){return Le.skipHydrationRootTNode===n})(e)&&function _te(){Le.skipHydrationRootTNode=null}(),function hte(){Le.lFrame.elementDepthCount--}();const t=gt();return t.firstCreatePass&&(Pb(t,n),KC(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function Rne(n){return!!(8&n.flags)}(e)&&vT(t,e,K(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function Nne(n){return!!(16&n.flags)}(e)&&vT(t,e,K(),e.stylesWithoutHost,!1),h}function $(n,e,t,i){return p(n,e,t,i),h(),$}let OB=(n,e,t,i,r,o)=>(Ka(!0),Qb(i,r,function b3(){return Le.lFrame.currentNamespace}()));function IT(n,e,t){const i=K(),r=gt(),o=n+$e,s=r.firstCreatePass?function hce(n,e,t,i,r){const o=e.consts,s=is(o,i),a=pu(e,n,8,"ng-container",s);return null!==s&&g0(a,s,!0),ME(e,t,a,is(o,r)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,r,i,e,t):r.data[o];rs(s,!0);const a=PB(r,i,s,n);return i[o]=a,lb()&&Jb(r,i,a,s),sr(a,i),sb(s)&&(EE(r,i,s),CE(r,s,i)),null!=t&&TE(i,s),IT}function MT(){let n=jt();const e=gt();return r1()?o1():(n=n.parent,rs(n,!1)),e.firstCreatePass&&(Pb(e,n),KC(n)&&e.queries.elementEnd(n)),MT}function Ap(n,e,t){return IT(n,e,t),MT(),Ap}let PB=(n,e,t,i)=>(Ka(!0),mE(e[Ue],""));function ct(){return K()}function k0(n,e,t){const i=K();return Qn(i,Lo(),e)&&Lr(gt(),sn(),i,n,e,i[Ue],t,!0),k0}function DT(n,e,t){const i=K();if(Qn(i,Lo(),e)){const o=gt(),s=sn();Lr(o,s,i,n,e,v4(a1(o.data),s,i),t,!0)}return DT}const xl=void 0;var gce=["en",[["a","p"],["AM","PM"],xl],[["AM","PM"],xl,xl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],xl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],xl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",xl,"{1} 'at' {0}",xl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function mce(n){const t=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===i?1:5}];let Fu={};function wr(n){const e=function _ce(n){return n.toLowerCase().replace(/_/g,"-")}(n);let t=NB(e);if(t)return t;const i=e.split("-")[0];if(t=NB(i),t)return t;if("en"===i)return gce;throw new H(701,!1)}function NB(n){return n in Fu||(Fu[n]=Ft.ng&&Ft.ng.common&&Ft.ng.common.locales&&Ft.ng.common.locales[n]),Fu[n]}var cn=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(cn||{});const Lu="en-US";let FB=Lu;function F(n,e,t,i){const r=K(),o=gt(),s=jt();return OT(o,r,r[Ue],s,n,e,i),F}function AT(n,e){const t=jt(),i=K(),r=gt();return OT(r,i,v4(a1(r.data),t,i),t,n,e),AT}function OT(n,e,t,i,r,o,s){const a=sb(i),l=n.firstCreatePass&&y4(n),d=e[on],u=b4(e);let f=!0;if(3&i.type||s){const C=vr(i,e),T=s?s(C):C,S=u.length,D=s?Y=>s(Wt(Y[i.index])):i.index;let L=null;if(!s&&a&&(L=function ule(n,e,t,i){const r=n.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const s=r[o];if(s===t&&r[o+1]===i){const a=e[Ud],c=r[o+2];return a.length>c?a[c]:null}"string"==typeof s&&(o+=2)}return null}(n,e,r,i.index)),null!==L)(L.__ngLastListenerFn__||L).__ngNextListenerFn__=o,L.__ngLastListenerFn__=o,f=!1;else{o=cz(i,e,d,o,!1);const Y=t.listen(T,r,o);u.push(o,Y),l&&l.push(r,D,S,S+1)}}else o=cz(i,e,d,o,!1);const m=i.outputs;let y;if(f&&null!==m&&(y=m[r])){const C=y.length;if(C)for(let T=0;T<C;T+=2){const re=e[y[T]][y[T+1]].subscribe(o),ue=u.length;u.push(o,re),l&&l.push(r,i.index,ue,"function"==typeof re?ue+1:-(ue+1))}}}function az(n,e,t,i){try{return ss(6,e,t),!1!==t(i)}catch(r){return o0(n,r),!1}finally{ss(7,e,t)}}function cz(n,e,t,i,r){return function o(s){if(s===Function)return i;fp(n.componentOffset>-1?Xr(n.index,e):e);let c=az(e,t,i,s),l=o.__ngNextListenerFn__;for(;l;)c=az(e,t,l,s)&&c,l=l.__ngNextListenerFn__;return r&&!1===c&&s.preventDefault(),c}}function st(n=1){return function Cte(n){return(Le.lFrame.contextLView=function s3(n,e){for(;n>0;)e=e[jd],n--;return e}(n,Le.lFrame.contextLView))[on]}(n)}function hle(n,e){let t=null;const i=function Gee(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(n);for(let r=0;r<e.length;r++){const o=e[r];if("*"!==o){if(null===i?GL(n,o,!0):Kee(i,o))return r}else t=r}return t}function wl(n){const e=K()[Pn][nr];if(!e.projection){const i=e.projection=function ub(n,e){const t=[];for(let i=0;i<n;i++)t.push(e);return t}(n?n.length:1,null),r=i.slice();let o=e.child;for(;null!==o;){const s=n?hle(o,n):0;null!==s&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o),o=o.next}}}function Br(n,e=0,t){const i=K(),r=gt(),o=pu(r,$e+n,16,null,t||null);null===o.projection&&(o.projection=e),o1(),(!i[No]||qd())&&32&~o.flags&&function rre(n,e,t){r4(e[Ue],0,e,t,_E(n,t,e),X5(t.parent||e[nr],t,e))}(r,i,o)}function RT(n,e,t,i){!function yV(n,e,t,i){const r=gt();if(r.firstCreatePass){const o=jt();vV(r,new mV(e,t,i),o.index),function _se(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(r,n),!(2&~t)&&(r.staticContentQueries=!0)}return _V(r,K(),t)}(n,e,t,i)}function zn(n,e,t){!function bV(n,e,t){const i=gt();return i.firstCreatePass&&(vV(i,new mV(n,e,t),-1),!(2&~e)&&(i.staticViewQueries=!0)),_V(i,K(),e)}(n,e,t)}function xn(n){const e=K(),t=gt(),i=c1();cb(i+1);const r=rT(t,i);if(n.dirty&&function ate(n){return!(4&~n[Se])}(e)===!(2&~r.metadata.flags)){if(null===r.matches)n.reset([]);else{const o=xV(e,i);n.reset(o,v3),n.notifyOnChanges()}return!0}return!1}function wn(){return function iT(n,e){return n[ta].queries[e].queryList}(K(),c1())}function Vt(n){return function Gd(n,e){return n[e]}(function bte(){return Le.lFrame.contextLView}(),$e+n)}function g(n,e=""){const t=K(),i=gt(),r=n+$e,o=i.firstCreatePass?pu(i,r,1,e,null):i.data[r],s=Mz(i,t,o,e,n);t[r]=s,lb()&&Jb(i,t,s,o),rs(o,!1)}let Mz=(n,e,t,i,r)=>(Ka(!0),function Yb(n,e){return n.createText(e)}(e[Ue],i));function xe(n){return Pe("",n,""),xe}function Pe(n,e,t){const i=K(),r=function Mu(n,e,t,i){return Qn(n,Lo(),t)?e+Ge(t)+i:Ke}(i,n,e,t);return r!==Ke&&function sa(n,e,t){const i=jf(e,n);!function G5(n,e,t){n.setValue(e,t)}(n[Ue],i,t)}(i,or(),r),Pe}function Ye(n,e,t){j4(e)&&(e=e());const i=K();return Qn(i,Lo(),e)&&Lr(gt(),sn(),i,n,e,i[Ue],t,!1),Ye}function Je(n,e){const t=j4(n);return t&&n.set(e),t}function Qe(n,e){const t=K(),i=gt(),r=jt();return OT(i,t,t[Ue],r,n,e),Qe}function NT(n,e,t,i,r){if(n=Ne(n),Array.isArray(n))for(let o=0;o<n.length;o++)NT(n[o],e,t,i,r);else{const o=gt(),s=K(),a=jt();let c=dl(n)?n:Ne(n.provide);const l=$3(n),d=1048575&a.providerIndexes,u=a.directiveStart,f=a.providerIndexes>>20;if(dl(n)||!n.multi){const m=new tp(l,r,E),y=LT(c,e,r?d:d+f,u);-1===y?(Z1(Lb(a,s),o,c),FT(o,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(m),s.push(m)):(t[y]=m,s[y]=m)}else{const m=LT(c,e,d+f,u),y=LT(c,e,d,d+f),T=y>=0&&t[y];if(r&&!T||!r&&!(m>=0&&t[m])){Z1(Lb(a,s),o,c);const S=function Ale(n,e,t,i,r){const o=new tp(n,t,E);return o.multi=[],o.index=e,o.componentProviders=0,Fz(o,r,i&&!t),o}(r?kle:Sle,t.length,r,i,l);!r&&T&&(t[y].providerFactory=S),FT(o,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(S),s.push(S)}else FT(o,n,m>-1?m:y,Fz(t[r?y:m],l,!r&&i));!r&&i&&T&&t[y].componentProviders++}}}function FT(n,e,t,i){const r=dl(e),o=function lne(n){return!!n.useClass}(e);if(r||o){const c=(o?Ne(e.useClass):e).prototype.ngOnDestroy;if(c){const l=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){const d=l.indexOf(t);-1===d?l.push(t,[i,c]):l[d+1].push(i,c)}else l.push(t,c)}}}function Fz(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function LT(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function Sle(n,e,t,i){return VT(this.multi,[])}function kle(n,e,t,i){const r=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=hl(t,t[ie],this.providerFactory.index,i);o=a.slice(0,s),VT(r,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],VT(r,o);return o}function VT(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function Cn(n,e=[]){return t=>{t.providersResolver=(i,r)=>function Dle(n,e,t){const i=gt();if(i.firstCreatePass){const r=Fo(n);NT(t,i.data,i.blueprint,r,!0),NT(e,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,e)}}let Ole=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const i=V1(0,t.type),r=i.length>0?v0([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,r)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=ne({token:n,providedIn:"environment",factory:()=>new n(j(Jr))})}}return n})();function cr(n){hs("NgStandalone"),n.getStandaloneInjector=e=>e.get(Ole).getOrCreateStandaloneInjector(n)}function Qz(n,e){return a0(n,e)}class rc{constructor(e){this.full=e;const t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}}const Ide=new rc("17.2.3");let hU=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();const _U=new X(""),V0=new X("");let WT,GT=(()=>{class n{constructor(t,i,r){this._ngZone=t,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,WT||(function Zde(n){WT=n}(r),r.addToWindow(i)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ke.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb()}});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(t)||(clearTimeout(i.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t()},i)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:r})}whenStable(t,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,i,r){return[]}static{this.\u0275fac=function(i){return new(i||n)(j(ke),j(qT),j(V0))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac})}}return n})(),qT=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){return WT?.findTestabilityInTree(this,t,i)??null}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();function Up(n){return!!n&&"function"==typeof n.then}function bU(n){return!!n&&"function"==typeof n.subscribe}const jp=new X("");let KT=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i}),this.appInits=Z(jp,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const r of this.appInits){const o=r();if(Up(o))t.push(o);else if(bU(o)){const s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),0===t.length&&i(),this.initialized=!0}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const YT=new X("");function xU(n,e){return Array.isArray(e)?e.reduce(xU,n):{...n,...e}}let gs=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Z(g5),this.afterRenderEffectManager=Z(yp),this.componentTypes=[],this.components=[],this.isStable=Z(Ep).hasPendingTasks.pipe(ze(t=>!t)),this._injector=Z(Jr)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,i){const r=t instanceof L4;if(!this._injector.get(KT).done)throw!r&&function Ga(n){const e=lt(n)||gi(n)||Ui(n);return null!==e&&e.standalone}(t),new H(405,!1);let s;s=r?t:this._injector.get(_u).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const a=function Jde(n){return n.isBoundToModule}(s)?void 0:this._injector.get(gl),l=s.create(Yt.NULL,[],i||s.selector,a),d=l.location.nativeElement,u=l.injector.get(_U,null);return u?.registerApplication(d),l.onDestroy(()=>{this.detachView(l.hostView),B0(this.components,l),u?.unregisterApplication(d)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new H(101,!1);try{this._runningTick=!0,this.detectChangesInAttachedViews()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}detectChangesInAttachedViews(){let t=0;const i=this.afterRenderEffectManager;for(;;){if(100===t)throw new H(103,!1);const r=0===t;for(let{_lView:o,notifyErrorHandler:s}of this._views)!r&&!QT(o)||this.detectChangesInView(o,s,r);if(t++,i.executeInternalCallbacks(),!this._views.some(({_lView:o})=>QT(o))&&(i.execute(),!this._views.some(({_lView:o})=>QT(o))))break}}detectChangesInView(t,i,r){let o;r?(o=0,t[Se]|=1024):o=64&t[Se]?0:1,s0(t,i,o)}attachView(t){const i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){const i=t;B0(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const i=this._injector.get(YT,[]);[...this._bootstrapListeners,...i].forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>B0(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new H(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function B0(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function QT(n){return e1(n)}class tue{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let wU=(()=>{class n{compileModuleSync(t){return new aT(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const i=this.compileModuleSync(t),o=no(tr(t).declarations).reduce((s,a)=>{const c=lt(a);return c&&s.push(new wp(c)),s},[]);return new tue(i,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),rue=(()=>{class n{constructor(){this.zone=Z(ke),this.applicationRef=Z(gs)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function oue(){const n=Z(ke),e=Z(Vo);return t=>n.runOutsideAngular(()=>e.handleError(t))}let aue=(()=>{class n{constructor(){this.subscription=new pi,this.initialized=!1,this.zone=Z(ke),this.pendingTasks=Z(Ep)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ke.assertNotInAngularZone(),queueMicrotask(()=>{null!==t&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ke.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const _s=new X("",{providedIn:"root",factory:()=>Z(_s,mt.Optional|mt.SkipSelf)||function cue(){return typeof $localize<"u"&&$localize.locale||Lu}()}),XT=new X("");let IU=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,i){const r=function qoe(n="zone.js",e){return"noop"===n?new eV:"zone.js"===n?new ke(e):n}(i?.ngZone,function TU(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return r.run(()=>{const o=function Vse(n,e,t){return new sT(n,e,t)}(t.moduleType,this.injector,function EU(n){return[{provide:ke,useFactory:n},{provide:ll,multi:!0,useFactory:()=>{const e=Z(rue,{optional:!0});return()=>e.initialize()}},{provide:ll,multi:!0,useFactory:()=>{const e=Z(aue);return()=>{e.initialize()}}},{provide:g5,useFactory:oue}]}(()=>r)),s=o.injector.get(Vo,null);return r.runOutsideAngular(()=>{const a=r.onError.subscribe({next:c=>{s.handleError(c)}});o.onDestroy(()=>{B0(this._modules,o),a.unsubscribe()})}),function vU(n,e,t){try{const i=t();return Up(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}(s,r,()=>{const a=o.injector.get(KT);return a.runInitializers(),a.donePromise.then(()=>(function LB(n){"string"==typeof n&&(FB=n.toLowerCase().replace(/_/g,"-"))}(o.injector.get(_s,Lu)||Lu),this._moduleDoBootstrap(o),o))})})}bootstrapModule(t,i=[]){const r=xU({},i);return function iue(n,e,t){const i=new aT(t);return Promise.resolve(i)}(0,0,t).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(t){const i=t.injector.get(gs);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!t.instance.ngDoBootstrap)throw new H(-403,!1);t.instance.ngDoBootstrap(i)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new H(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const t=this._injector.get(XT,null);t&&(t.forEach(i=>i()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(i){return new(i||n)(j(Yt))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})(),oc=null;const MU=new X("");function DU(n,e,t=[]){const i=`Platform: ${e}`,r=new X(i);return(o=[])=>{let s=ZT();if(!s||s.injector.get(MU,!1)){const a=[...t,...o,{provide:r,useValue:!0}];n?n(a):function uue(n){if(oc&&!oc.get(MU,!1))throw new H(400,!1);(function yU(){!function gee(n){CL=n}(()=>{throw new H(600,!1)})})(),oc=n;const e=n.get(IU);(function kU(n){n.get(D3,null)?.forEach(t=>t())})(n)}(function SU(n=[],e){return Yt.create({name:e,providers:[{provide:U1,useValue:"platform"},{provide:XT,useValue:new Set([()=>oc=null])},...n]})}(a,i))}return function hue(n){const e=ZT();if(!e)throw new H(401,!1);return e}()}}function ZT(){return oc?.get(IU)??null}const bue=DU(null,"core",[]);let yue=(()=>{class n{constructor(t){}static{this.\u0275fac=function(i){return new(i||n)(j(gs))}}static{this.\u0275mod=ot({type:n})}static{this.\u0275inj=tt({})}}return n})();function bs(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function oI(n,e=NaN){return isNaN(parseFloat(n))||isNaN(Number(n))?e:Number(n)}let t6=null;function sc(){return t6}class Que{}const ft=new X("");let sI=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:()=>Z(Zue),providedIn:"platform"})}}return n})();const Xue=new X("");let Zue=(()=>{class n extends sI{constructor(){super(),this._doc=Z(ft),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return sc().getBaseHref(this._doc)}onPopState(t){const i=sc().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=sc().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){this._history.pushState(t,i,r)}replaceState(t,i,r){this._history.replaceState(t,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();function aI(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function n6(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function aa(n){return n&&"?"!==n[0]?"?"+n:n}let ac=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:()=>Z(r6),providedIn:"root"})}}return n})();const i6=new X("");let r6=(()=>{class n extends ac{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??Z(ft).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return aI(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+aa(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,o){const s=this.prepareExternalUrl(r+aa(o));this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){const s=this.prepareExternalUrl(r+aa(o));this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(i){return new(i||n)(j(sI),j(i6,8))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),o6=(()=>{class n extends ac{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){const i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=aI(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,o){let s=this.prepareExternalUrl(r+aa(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){let s=this.prepareExternalUrl(r+aa(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(i){return new(i||n)(j(sI),j(i6,8))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac})}}return n})(),En=(()=>{class n{constructor(t){this._subject=new Xe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._basePath=function the(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(n6(s6(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+aa(i))}normalize(t){return n.stripTrailingSlash(function ehe(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,s6(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+aa(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+aa(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}static{this.normalizeQueryParams=aa}static{this.joinWithSlash=aI}static{this.stripTrailingSlash=n6}static{this.\u0275fac=function(i){return new(i||n)(j(ac))}}static{this.\u0275prov=ne({token:n,factory:()=>function Jue(){return new En(j(ac))}(),providedIn:"root"})}}return n})();function s6(n){return n.replace(/\/index.html$/,"")}var Er=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(Er||{}),Jt=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(Jt||{}),ro=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(ro||{}),ei=function(n){return n[n.Decimal=0]="Decimal",n[n.Group=1]="Group",n[n.List=2]="List",n[n.PercentSign=3]="PercentSign",n[n.PlusSign=4]="PlusSign",n[n.MinusSign=5]="MinusSign",n[n.Exponential=6]="Exponential",n[n.SuperscriptingExponent=7]="SuperscriptingExponent",n[n.PerMille=8]="PerMille",n[n.Infinity=9]="Infinity",n[n.NaN=10]="NaN",n[n.TimeSeparator=11]="TimeSeparator",n[n.CurrencyDecimal=12]="CurrencyDecimal",n[n.CurrencyGroup=13]="CurrencyGroup",n}(ei||{});function Y0(n,e){return vo(wr(n)[cn.DateFormat],e)}function Q0(n,e){return vo(wr(n)[cn.TimeFormat],e)}function X0(n,e){return vo(wr(n)[cn.DateTimeFormat],e)}function yo(n,e){const t=wr(n),i=t[cn.NumberSymbols][e];if(typeof i>"u"){if(e===ei.CurrencyDecimal)return t[cn.NumberSymbols][ei.Decimal];if(e===ei.CurrencyGroup)return t[cn.NumberSymbols][ei.Group]}return i}function c6(n){if(!n[cn.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[cn.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function vo(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function lI(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const mhe=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Z0={},ghe=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var ca=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(ca||{}),Pt=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(Pt||{}),Rt=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(Rt||{});function _he(n,e,t,i){let r=function Ihe(n){if(u6(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,o=1,s=1]=n.split("-").map(a=>+a);return J0(r,o-1,s)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let i;if(i=n.match(mhe))return function Mhe(n){const e=new Date(0);let t=0,i=0;const r=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const s=Number(n[4]||0)-t,a=Number(n[5]||0)-i,c=Number(n[6]||0),l=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return o.call(e,s,a,c,l),e}(i)}const e=new Date(n);if(!u6(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=la(t,e)||e;let a,s=[];for(;e;){if(a=ghe.exec(e),!a){s.push(e);break}{s=s.concat(a.slice(1));const d=s.pop();if(!d)break;e=d}}let c=r.getTimezoneOffset();i&&(c=d6(i,c),r=function The(n,e,t){const i=t?-1:1,r=n.getTimezoneOffset();return function Ehe(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,i*(d6(e,r)-r))}(r,i,!0));let l="";return s.forEach(d=>{const u=function Che(n){if(uI[n])return uI[n];let e;switch(n){case"G":case"GG":case"GGG":e=ln(Rt.Eras,Jt.Abbreviated);break;case"GGGG":e=ln(Rt.Eras,Jt.Wide);break;case"GGGGG":e=ln(Rt.Eras,Jt.Narrow);break;case"y":e=li(Pt.FullYear,1,0,!1,!0);break;case"yy":e=li(Pt.FullYear,2,0,!0,!0);break;case"yyy":e=li(Pt.FullYear,3,0,!1,!0);break;case"yyyy":e=li(Pt.FullYear,4,0,!1,!0);break;case"Y":e=iy(1);break;case"YY":e=iy(2,!0);break;case"YYY":e=iy(3);break;case"YYYY":e=iy(4);break;case"M":case"L":e=li(Pt.Month,1,1);break;case"MM":case"LL":e=li(Pt.Month,2,1);break;case"MMM":e=ln(Rt.Months,Jt.Abbreviated);break;case"MMMM":e=ln(Rt.Months,Jt.Wide);break;case"MMMMM":e=ln(Rt.Months,Jt.Narrow);break;case"LLL":e=ln(Rt.Months,Jt.Abbreviated,Er.Standalone);break;case"LLLL":e=ln(Rt.Months,Jt.Wide,Er.Standalone);break;case"LLLLL":e=ln(Rt.Months,Jt.Narrow,Er.Standalone);break;case"w":e=dI(1);break;case"ww":e=dI(2);break;case"W":e=dI(1,!0);break;case"d":e=li(Pt.Date,1);break;case"dd":e=li(Pt.Date,2);break;case"c":case"cc":e=li(Pt.Day,1);break;case"ccc":e=ln(Rt.Days,Jt.Abbreviated,Er.Standalone);break;case"cccc":e=ln(Rt.Days,Jt.Wide,Er.Standalone);break;case"ccccc":e=ln(Rt.Days,Jt.Narrow,Er.Standalone);break;case"cccccc":e=ln(Rt.Days,Jt.Short,Er.Standalone);break;case"E":case"EE":case"EEE":e=ln(Rt.Days,Jt.Abbreviated);break;case"EEEE":e=ln(Rt.Days,Jt.Wide);break;case"EEEEE":e=ln(Rt.Days,Jt.Narrow);break;case"EEEEEE":e=ln(Rt.Days,Jt.Short);break;case"a":case"aa":case"aaa":e=ln(Rt.DayPeriods,Jt.Abbreviated);break;case"aaaa":e=ln(Rt.DayPeriods,Jt.Wide);break;case"aaaaa":e=ln(Rt.DayPeriods,Jt.Narrow);break;case"b":case"bb":case"bbb":e=ln(Rt.DayPeriods,Jt.Abbreviated,Er.Standalone,!0);break;case"bbbb":e=ln(Rt.DayPeriods,Jt.Wide,Er.Standalone,!0);break;case"bbbbb":e=ln(Rt.DayPeriods,Jt.Narrow,Er.Standalone,!0);break;case"B":case"BB":case"BBB":e=ln(Rt.DayPeriods,Jt.Abbreviated,Er.Format,!0);break;case"BBBB":e=ln(Rt.DayPeriods,Jt.Wide,Er.Format,!0);break;case"BBBBB":e=ln(Rt.DayPeriods,Jt.Narrow,Er.Format,!0);break;case"h":e=li(Pt.Hours,1,-12);break;case"hh":e=li(Pt.Hours,2,-12);break;case"H":e=li(Pt.Hours,1);break;case"HH":e=li(Pt.Hours,2);break;case"m":e=li(Pt.Minutes,1);break;case"mm":e=li(Pt.Minutes,2);break;case"s":e=li(Pt.Seconds,1);break;case"ss":e=li(Pt.Seconds,2);break;case"S":e=li(Pt.FractionalSeconds,1);break;case"SS":e=li(Pt.FractionalSeconds,2);break;case"SSS":e=li(Pt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=ty(ca.Short);break;case"ZZZZZ":e=ty(ca.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=ty(ca.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=ty(ca.Long);break;default:return null}return uI[n]=e,e}(d);l+=u?u(r,t,c):"''"===d?"'":d.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function J0(n,e,t){const i=new Date(0);return i.setFullYear(n,e,t),i.setHours(0,0,0),i}function la(n,e){const t=function ihe(n){return wr(n)[cn.LocaleId]}(n);if(Z0[t]??={},Z0[t][e])return Z0[t][e];let i="";switch(e){case"shortDate":i=Y0(n,ro.Short);break;case"mediumDate":i=Y0(n,ro.Medium);break;case"longDate":i=Y0(n,ro.Long);break;case"fullDate":i=Y0(n,ro.Full);break;case"shortTime":i=Q0(n,ro.Short);break;case"mediumTime":i=Q0(n,ro.Medium);break;case"longTime":i=Q0(n,ro.Long);break;case"fullTime":i=Q0(n,ro.Full);break;case"short":const r=la(n,"shortTime"),o=la(n,"shortDate");i=ey(X0(n,ro.Short),[r,o]);break;case"medium":const s=la(n,"mediumTime"),a=la(n,"mediumDate");i=ey(X0(n,ro.Medium),[s,a]);break;case"long":const c=la(n,"longTime"),l=la(n,"longDate");i=ey(X0(n,ro.Long),[c,l]);break;case"full":const d=la(n,"fullTime"),u=la(n,"fullDate");i=ey(X0(n,ro.Full),[d,u])}return i&&(Z0[t][e]=i),i}function ey(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,i){return null!=e&&i in e?e[i]:t})),n}function Uo(n,e,t="-",i,r){let o="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,o=t));let s=String(n);for(;s.length<e;)s="0"+s;return i&&(s=s.slice(s.length-e)),o+s}function li(n,e,t=0,i=!1,r=!1){return function(o,s){let a=function yhe(n,e){switch(n){case Pt.FullYear:return e.getFullYear();case Pt.Month:return e.getMonth();case Pt.Date:return e.getDate();case Pt.Hours:return e.getHours();case Pt.Minutes:return e.getMinutes();case Pt.Seconds:return e.getSeconds();case Pt.FractionalSeconds:return e.getMilliseconds();case Pt.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,o);if((t>0||a>-t)&&(a+=t),n===Pt.Hours)0===a&&-12===t&&(a=12);else if(n===Pt.FractionalSeconds)return function bhe(n,e){return Uo(n,3).substring(0,e)}(a,e);const c=yo(s,ei.MinusSign);return Uo(a,e,c,i,r)}}function ln(n,e,t=Er.Format,i=!1){return function(r,o){return function vhe(n,e,t,i,r,o){switch(t){case Rt.Months:return function she(n,e,t){const i=wr(n),o=vo([i[cn.MonthsFormat],i[cn.MonthsStandalone]],e);return vo(o,t)}(e,r,i)[n.getMonth()];case Rt.Days:return function ohe(n,e,t){const i=wr(n),o=vo([i[cn.DaysFormat],i[cn.DaysStandalone]],e);return vo(o,t)}(e,r,i)[n.getDay()];case Rt.DayPeriods:const s=n.getHours(),a=n.getMinutes();if(o){const l=function dhe(n){const e=wr(n);return c6(e),(e[cn.ExtraData][2]||[]).map(i=>"string"==typeof i?lI(i):[lI(i[0]),lI(i[1])])}(e),d=function uhe(n,e,t){const i=wr(n);c6(i);const o=vo([i[cn.ExtraData][0],i[cn.ExtraData][1]],e)||[];return vo(o,t)||[]}(e,r,i),u=l.findIndex(f=>{if(Array.isArray(f)){const[m,y]=f,C=s>=m.hours&&a>=m.minutes,T=s<y.hours||s===y.hours&&a<y.minutes;if(m.hours<y.hours){if(C&&T)return!0}else if(C||T)return!0}else if(f.hours===s&&f.minutes===a)return!0;return!1});if(-1!==u)return d[u]}return function rhe(n,e,t){const i=wr(n),o=vo([i[cn.DayPeriodsFormat],i[cn.DayPeriodsStandalone]],e);return vo(o,t)}(e,r,i)[s<12?0:1];case Rt.Eras:return function ahe(n,e){return vo(wr(n)[cn.Eras],e)}(e,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(r,o,n,e,t,i)}}function ty(n){return function(e,t,i){const r=-1*i,o=yo(t,ei.MinusSign),s=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case ca.Short:return(r>=0?"+":"")+Uo(s,2,o)+Uo(Math.abs(r%60),2,o);case ca.ShortGMT:return"GMT"+(r>=0?"+":"")+Uo(s,1,o);case ca.Long:return"GMT"+(r>=0?"+":"")+Uo(s,2,o)+":"+Uo(Math.abs(r%60),2,o);case ca.Extended:return 0===i?"Z":(r>=0?"+":"")+Uo(s,2,o)+":"+Uo(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}const xhe=0,ny=4;function l6(n){const e=n.getDay(),t=0===e?-3:ny-e;return J0(n.getFullYear(),n.getMonth(),n.getDate()+t)}function dI(n,e=!1){return function(t,i){let r;if(e){const o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();r=1+Math.floor((s+o)/7)}else{const o=l6(t),s=function whe(n){const e=J0(n,xhe,1).getDay();return J0(n,0,1+(e<=ny?ny:ny+7)-e)}(o.getFullYear()),a=o.getTime()-s.getTime();r=1+Math.round(a/6048e5)}return Uo(r,n,yo(i,ei.MinusSign))}}function iy(n,e=!1){return function(t,i){return Uo(l6(t).getFullYear(),n,yo(i,ei.MinusSign),e)}}const uI={};function d6(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function u6(n){return n instanceof Date&&!isNaN(n.valueOf())}class jhe{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ii=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,o,s)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new jhe(r.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)i.remove(null===o?void 0:o);else if(null!==o){const a=i.get(o);i.move(a,s),_6(a,r)}});for(let r=0,o=i.length;r<o;r++){const a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{_6(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}static{this.\u0275fac=function(i){return new(i||n)(E(_o),E(ds),E($E))}}static{this.\u0275dir=ge({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function _6(n,e){n.context.$implicit=e.item}let qp=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new Hhe,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){b6("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){b6("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}static{this.\u0275fac=function(i){return new(i||n)(E(_o),E(ds))}}static{this.\u0275dir=ge({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})();class Hhe{constructor(){this.$implicit=null,this.ngIf=null}}function b6(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${mi(e)}'.`)}let v6=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(this._shouldRecreateView(t)){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const r=this._createContextForwardProxy();this._viewRef=i.createEmbeddedView(this.ngTemplateOutlet,r,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(t){return!!t.ngTemplateOutlet||!!t.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(t,i,r)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,i,r),get:(t,i,r)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,i,r)}})}static{this.\u0275fac=function(i){return new(i||n)(E(_o))}}static{this.\u0275dir=ge({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[eo]})}}return n})();const ofe=new X(""),sfe=new X("");let vI=(()=>{class n{constructor(t,i,r){this.locale=t,this.defaultTimezone=i,this.defaultOptions=r}transform(t,i,r,o){if(null==t||""===t||t!=t)return null;try{return _he(t,i??this.defaultOptions?.dateFormat??"mediumDate",o||this.locale,r??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(s){throw function jo(n,e){return new H(2100,!1)}()}}static{this.\u0275fac=function(i){return new(i||n)(E(_s,16),E(ofe,24),E(sfe,24))}}static{this.\u0275pipe=Pr({name:"date",type:n,pure:!0,standalone:!0})}}return n})(),ys=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ot({type:n})}static{this.\u0275inj=tt({})}}return n})();const w6="browser";function oy(n){return n===w6}function C6(n){return"server"===n}let yfe=(()=>{class n{static{this.\u0275prov=ne({token:n,providedIn:"root",factory:()=>oy(Z(go))?new vfe(Z(ft),window):new wfe})}}return n})();class vfe{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){const t=function xfe(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}}class wfe{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}}class Xfe extends Que{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class EI extends Xfe{static makeCurrent(){!function Yue(n){t6??=n}(new EI)}onAndCancel(e,t,i){return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Zfe(){return Yp=Yp||document.querySelector("base"),Yp?Yp.getAttribute("href"):null}();return null==t?null:function Jfe(n){return new URL(n,document.baseURI).pathname}(t)}resetBaseElement(){Yp=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Bhe(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,o]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,e)}}let Yp=null,tpe=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac})}}return n})();const TI=new X("");let O6=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(o=>o.supports(t)),!i)throw new H(5101,!1);return this._eventNameToPlugin.set(t,i),i}static{this.\u0275fac=function(i){return new(i||n)(j(TI),j(ke))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac})}}return n})();class P6{constructor(e){this._doc=e}}const II="ng-app-id";let R6=(()=>{class n{constructor(t,i,r,o={}){this.doc=t,this.appId=i,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=C6(o),this.resetHostNodes()}addStyles(t){for(const i of t)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(t){for(const i of t)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(i=>i.remove()),t.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){const i=this.styleRef;i.get(t)?.elements?.forEach(r=>r.remove()),i.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${II}="${this.appId}"]`);if(t?.length){const i=new Map;return t.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(t,i){const r=this.styleRef;if(r.has(t)){const o=r.get(t);return o.usage+=i,o.usage}return r.set(t,{usage:i,elements:[]}),i}getStyleElement(t,i){const r=this.styleNodesInDOM,o=r?.get(i);if(o?.parentNode===t)return r.delete(i),o.removeAttribute(II),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=i,this.platformIsServer&&s.setAttribute(II,this.appId),t.appendChild(s),s}}addStyleToHost(t,i){const r=this.getStyleElement(t,i),o=this.styleRef,s=o.get(i)?.elements;s?s.push(r):o.set(i,{elements:[r],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(i){return new(i||n)(j(ft),j(_b),j(m1,8),j(go))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac})}}return n})();const MI={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},DI=/%COMP%/g,ope=new X("",{providedIn:"root",factory:()=>!0});function F6(n,e){return e.map(t=>t.replace(DI,n))}let SI=(()=>{class n{constructor(t,i,r,o,s,a,c,l=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=C6(a),this.defaultRenderer=new kI(t,s,c,this.platformIsServer)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Oo.ShadowDom&&(i={...i,encapsulation:Oo.Emulated});const r=this.getOrCreateRenderer(t,i);return r instanceof V6?r.applyToHost(t):r instanceof AI&&r.applyStyles(),r}getOrCreateRenderer(t,i){const r=this.rendererByCompId;let o=r.get(i.id);if(!o){const s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,u=this.platformIsServer;switch(i.encapsulation){case Oo.Emulated:o=new V6(c,l,i,this.appId,d,s,a,u);break;case Oo.ShadowDom:return new lpe(c,l,t,i,s,a,this.nonce,u);default:o=new AI(c,l,i,d,s,a,u)}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(i){return new(i||n)(j(O6),j(R6),j(_b),j(ope),j(ft),j(go),j(ke),j(m1))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac})}}return n})();class kI{constructor(e,t,i,r){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(MI[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(L6(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(L6(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?this.doc.querySelector(e):e;if(!i)throw new H(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const o=MI[r];o?e.setAttributeNS(o,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=MI[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(Za.DashCase|Za.Important)?e.style.setProperty(t,i,r&Za.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&Za.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){null!=e&&(e[t]=i)}setValue(e,t){e.nodeValue=t}listen(e,t,i){if("string"==typeof e&&!(e=sc().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(i))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function L6(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class lpe extends kI{constructor(e,t,i,r,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=F6(r.id,r.styles);for(const d of l){const u=document.createElement("style");a&&u.setAttribute("nonce",a),u.textContent=d,this.shadowRoot.appendChild(u)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class AI extends kI{constructor(e,t,i,r,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=c?F6(c,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class V6 extends AI{constructor(e,t,i,r,o,s,a,c){const l=r+"-"+i.id;super(e,t,i,o,s,a,c,l),this.contentAttr=function spe(n){return"_ngcontent-%COMP%".replace(DI,n)}(l),this.hostAttr=function ape(n){return"_nghost-%COMP%".replace(DI,n)}(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}let dpe=(()=>{class n extends P6{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}static{this.\u0275fac=function(i){return new(i||n)(j(ft))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac})}}return n})();const B6=["alt","control","meta","shift"],upe={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},hpe={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let fpe=(()=>{class n extends P6{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const o=n.parseEventName(i),s=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>sc().onAndCancel(t,o.domEventName,s))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),B6.forEach(l=>{const d=i.indexOf(l);d>-1&&(i.splice(d,1),s+=l+".")}),s+=o,0!=i.length||0===o.length)return null;const c={};return c.domEventName=r,c.fullKey=s,c}static matchEventFullKeyCode(t,i){let r=upe[t.key]||t.key,o="";return i.indexOf("code.")>-1&&(r=t.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),B6.forEach(s=>{s!==r&&(0,hpe[s])(t)&&(o+=s+".")}),o+=r,o===i)}static eventCallback(t,i,r){return o=>{n.matchEventFullKeyCode(o,t)&&r.runGuarded(()=>i(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}static{this.\u0275fac=function(i){return new(i||n)(j(ft))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac})}}return n})();const U6=[{provide:go,useValue:w6},{provide:D3,useValue:function ppe(){EI.makeCurrent()},multi:!0},{provide:ft,useFactory:function gpe(){return function kte(n){f1=n}(document),document},deps:[]}],_pe=DU(bue,"browser",U6),bpe=new X(""),j6=[{provide:V0,useClass:class epe{addToWindow(e){Ft.getAngularTestability=(i,r=!0)=>{const o=e.findTestabilityInTree(i,r);if(null==o)throw new H(5103,!1);return o},Ft.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ft.getAllAngularRootElements=()=>e.getAllRootElements(),Ft.frameworkStabilizers||(Ft.frameworkStabilizers=[]),Ft.frameworkStabilizers.push(i=>{const r=Ft.getAllAngularTestabilities();let o=r.length;const s=function(){o--,0==o&&i()};r.forEach(a=>{a.whenStable(s)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?sc().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:_U,useClass:GT,deps:[ke,qT,V0]},{provide:GT,useClass:GT,deps:[ke,qT,V0]}],H6=[{provide:U1,useValue:"root"},{provide:Vo,useFactory:function mpe(){return new Vo},deps:[]},{provide:TI,useClass:dpe,multi:!0,deps:[ft,ke,go]},{provide:TI,useClass:fpe,multi:!0,deps:[ft]},SI,R6,O6,{provide:UE,useExisting:SI},{provide:class Cfe{},useClass:tpe,deps:[]},[]];let $6=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:_b,useValue:t.appId}]}}static{this.\u0275fac=function(i){return new(i||n)(j(bpe,12))}}static{this.\u0275mod=ot({type:n})}static{this.\u0275inj=tt({providers:[...H6,...j6],imports:[ys,yue]})}}return n})(),ype=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(i){return new(i||n)(j(ft))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function cy(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t}function cc(n){return this instanceof cc?(this.v=n,this):new cc(n)}function X6(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function FI(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=n[o]&&function(s){return new Promise(function(a,c){!function r(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}(a,c,(s=n[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const LI=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Z6(n){return Ct(n?.then)}function J6(n){return Ct(n[zC])}function e9(n){return Symbol.asyncIterator&&Ct(n?.[Symbol.asyncIterator])}function t9(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const n9=function $pe(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function i9(n){return Ct(n?.[n9])}function r9(n){return function Q6(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=t.apply(n,e||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(f){i[f]&&(r[f]=function(m){return new Promise(function(y,C){o.push([f,m,y,C])>1||a(f,m)})})}function a(f,m){try{!function c(f){f.value instanceof cc?Promise.resolve(f.value.v).then(l,d):u(o[0][2],f)}(i[f](m))}catch(y){u(o[0][3],y)}}function l(f){a("next",f)}function d(f){a("throw",f)}function u(f,m){f(m),o.shift(),o.length&&a(o[0][0],o[0][1])}}(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:i,done:r}=yield cc(t.read());if(r)return yield cc(void 0);yield yield cc(i)}}finally{t.releaseLock()}})}function o9(n){return Ct(n?.getReader)}function $i(n){if(n instanceof rn)return n;if(null!=n){if(J6(n))return function Gpe(n){return new rn(e=>{const t=n[zC]();if(Ct(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(LI(n))return function qpe(n){return new rn(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(Z6(n))return function Wpe(n){return new rn(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,SL)})}(n);if(e9(n))return s9(n);if(i9(n))return function Kpe(n){return new rn(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(o9(n))return function Ype(n){return s9(r9(n))}(n)}throw t9(n)}function s9(n){return new rn(e=>{(function Qpe(n,e){var t,i,r,o;return function K6(n,e,t,i){return new(t||(t=Promise))(function(o,s){function a(d){try{l(i.next(d))}catch(u){s(u)}}function c(d){try{l(i.throw(d))}catch(u){s(u)}}function l(d){d.done?o(d.value):function r(o){return o instanceof t?o:new t(function(s){s(o)})}(d.value).then(a,c)}l((i=i.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=X6(n);!(i=yield t.next()).done;)if(e.next(i.value),e.closed)return}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=t.return)&&(yield o.call(t))}finally{if(r)throw r.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function da(n,e,t,i=0,r=!1){const o=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function ly(n,e=0){return On((t,i)=>{t.subscribe(yn(i,r=>da(i,n,()=>i.next(r),e),()=>da(i,n,()=>i.complete(),e),r=>da(i,n,()=>i.error(r),e)))})}function dy(n,e=0){return On((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function a9(n,e){if(!n)throw new Error("Iterable cannot be null");return new rn(t=>{da(t,e,()=>{const i=n[Symbol.asyncIterator]();da(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function xi(n,e){return e?function nme(n,e){if(null!=n){if(J6(n))return function Xpe(n,e){return $i(n).pipe(dy(e),ly(e))}(n,e);if(LI(n))return function Jpe(n,e){return new rn(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}(n,e);if(Z6(n))return function Zpe(n,e){return $i(n).pipe(dy(e),ly(e))}(n,e);if(e9(n))return a9(n,e);if(i9(n))return function eme(n,e){return new rn(t=>{let i;return da(t,e,()=>{i=n[n9](),da(t,e,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){return void t.error(s)}o?t.complete():t.next(r)},0,!0)}),()=>Ct(i?.return)&&i.return()})}(n,e);if(o9(n))return function tme(n,e){return a9(r9(n),e)}(n,e)}throw t9(n)}(n,e):$i(n)}const{isArray:ime}=Array,{getPrototypeOf:rme,prototype:ome,keys:sme}=Object;function c9(n){if(1===n.length){const e=n[0];if(ime(e))return{args:e,keys:null};if(function ame(n){return n&&"object"==typeof n&&rme(n)===ome}(e)){const t=sme(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}function l9(n){return n&&Ct(n.schedule)}function VI(n){return n[n.length-1]}function d9(n){return Ct(VI(n))?n.pop():void 0}function Xp(n){return l9(VI(n))?n.pop():void 0}const{isArray:lme}=Array;function BI(n){return ze(e=>function dme(n,e){return lme(e)?n(...e):n(e)}(n,e))}function u9(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}let f9=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(i){return new(i||n)(E(us),E(Lt))}}static{this.\u0275dir=ge({type:n})}}return n})(),El=(()=>{class n extends f9{static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=ci(n)))(r||n)}})()}static{this.\u0275dir=ge({type:n,features:[_t]})}}return n})();const vs=new X(""),hme={provide:vs,useExisting:an(()=>Mi),multi:!0},pme=new X("");let Mi=(()=>{class n extends f9{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function fme(){const n=sc()?sc().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(i){return new(i||n)(E(us),E(Lt),E(pme,8))}}static{this.\u0275dir=ge({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){1&i&&F("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Cn([hme]),_t]})}}return n})();function lc(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}const lr=new X(""),dc=new X("");function uy(n){return null}function E9(n){return null!=n}function T9(n){return Up(n)?xi(n):n}function I9(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function M9(n,e){return e.map(t=>t(n))}function D9(n){return n.map(e=>function gme(n){return!n.validate}(e)?e:t=>e.validate(t))}function zI(n){return null!=n?function S9(n){if(!n)return null;const e=n.filter(E9);return 0==e.length?null:function(t){return I9(M9(t,e))}}(D9(n)):null}function k9(n){if(!n)return null;const e=n.filter(E9);return 0==e.length?null:function(t){return function h9(...n){const e=d9(n),{args:t,keys:i}=c9(n),r=new rn(o=>{const{length:s}=t;if(!s)return void o.complete();const a=new Array(s);let c=s,l=s;for(let d=0;d<s;d++){let u=!1;$i(t[d]).subscribe(yn(o,f=>{u||(u=!0,l--),a[d]=f},()=>c--,void 0,()=>{(!c||!u)&&(l||o.next(i?u9(i,a):a),o.complete())}))}});return e?r.pipe(BI(e)):r}(M9(t,e).map(T9)).pipe(ze(I9))}}function UI(n){return null!=n?k9(D9(n)):null}function A9(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function jI(n){return n?Array.isArray(n)?n:[n]:[]}function hy(n,e){return Array.isArray(n)?n.includes(e):n===e}function R9(n,e){const t=jI(e);return jI(n).forEach(r=>{hy(t,r)||t.push(r)}),t}function N9(n,e){return jI(e).filter(t=>!hy(n,t))}class F9{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=zI(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=UI(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Tr extends F9{get formDirective(){return null}get path(){return null}}class uc extends F9{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class L9{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let dr=(()=>{class n extends L9{constructor(t){super(t)}static{this.\u0275fac=function(i){return new(i||n)(E(uc,2))}}static{this.\u0275dir=ge({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){2&i&&ar("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[_t]})}}return n})(),Un=(()=>{class n extends L9{constructor(t){super(t)}static{this.\u0275fac=function(i){return new(i||n)(E(Tr,10))}}static{this.\u0275dir=ge({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){2&i&&ar("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[_t]})}}return n})();const Zp="VALID",py="INVALID",ju="PENDING",Jp="DISABLED";function GI(n){return(my(n)?n.validators:n)||null}function qI(n,e){return(my(e)?e.asyncValidators:n)||null}function my(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class WI{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Zp}get invalid(){return this.status===py}get pending(){return this.status==ju}get disabled(){return this.status===Jp}get enabled(){return this.status!==Jp}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(R9(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(R9(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(N9(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(N9(e,this._rawAsyncValidators))}hasValidator(e){return hy(this._rawValidators,e)}hasAsyncValidator(e){return hy(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=ju,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Jp,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Zp,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Zp||this.status===ju)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Jp:Zp}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=ju,this._hasOwnPendingAsyncValidator=!0;const t=T9(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Xe,this.statusChanges=new Xe}_calculateStatus(){return this._allControlsDisabled()?Jp:this.errors?py:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ju)?ju:this._anyControlsHaveStatus(py)?py:Zp}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){my(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function vme(n){return Array.isArray(n)?zI(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function xme(n){return Array.isArray(n)?UI(n):n||null}(this._rawAsyncValidators)}}class KI extends WI{constructor(e,t,i){super(GI(t),qI(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function z9(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new H(1002,"")})})(this,0,e),Object.keys(e).forEach(i=>{(function B9(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new H(1e3,"");if(!i[t])throw new H(1001,"")})(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,o)=>{i=t(i,r,o)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const Hu=new X("CallSetDisabledState",{providedIn:"root",factory:()=>gy}),gy="always";function em(n,e,t=gy){YI(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function Eme(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&U9(n,e)})}(n,e),function Ime(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Tme(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&U9(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Cme(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function yy(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function YI(n,e){const t=function O9(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(A9(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=function P9(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(A9(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();yy(e._rawValidators,r),yy(e._rawAsyncValidators,r)}function U9(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const Ame={provide:Tr,useExisting:an(()=>Tn)},tm=Promise.resolve();let Tn=(()=>{class n extends Tr{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Xe,this.form=new KI({},zI(t),UI(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){tm.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),em(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){tm.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){tm.then(()=>{const i=this._findContainer(t.path),r=new KI({});(function j9(n,e){YI(n,e)})(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){tm.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){tm.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function H9(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static{this.\u0275fac=function(i){return new(i||n)(E(lr,10),E(dc,10),E(Hu,8))}}static{this.\u0275dir=ge({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){1&i&&F("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:[Ze.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Cn([Ame]),_t]})}}return n})();function $9(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function G9(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const q9=class extends WI{constructor(e=null,t,i){super(GI(t),qI(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),my(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=G9(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){$9(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){$9(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){G9(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Rme={provide:uc,useExisting:an(()=>Gi)},Y9=Promise.resolve();let Gi=(()=>{class n extends uc{constructor(t,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new q9,this._registered=!1,this.name="",this.update=new Xe,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function ZI(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(o=>{o.constructor===Mi?t=o:function Sme(n){return Object.getPrototypeOf(n.constructor)===El}(o)?i=o:r=o}),r||i||t||null}(0,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function XI(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){em(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Y9.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=0!==i&&bs(i);Y9.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function _y(n,e){return[...e.path,n]}(t,this._parent):[t]}static{this.\u0275fac=function(i){return new(i||n)(E(Tr,9),E(lr,10),E(dc,10),E(vs,10),E(bu,8),E(Hu,8))}}static{this.\u0275dir=ge({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[Ze.None,"disabled","isDisabled"],model:[Ze.None,"ngModel","model"],options:[Ze.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Cn([Rme]),_t,eo]})}}return n})(),jn=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=ge({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})();const Nme={provide:vs,useExisting:an(()=>xy),multi:!0};let xy=(()=>{class n extends El{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=i=>{t(""==i?null:parseFloat(i))}}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=ci(n)))(r||n)}})()}static{this.\u0275dir=ge({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,r){1&i&&F("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},features:[Cn([Nme]),_t]})}}return n})();const $me={provide:vs,useExisting:an(()=>Ho),multi:!0};function nj(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let Ho=(()=>{class n extends El{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const r=nj(this._getOptionId(t),t);this.setProperty("value",r)}registerOnChange(t){this.onChange=i=>{this.value=this._getOptionValue(i),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),t))return i;return null}_getOptionValue(t){const i=function Gme(n){return n.split(":")[0]}(t);return this._optionMap.has(i)?this._optionMap.get(i):t}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=ci(n)))(r||n)}})()}static{this.\u0275dir=ge({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,r){1&i&&F("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Cn([$me]),_t]})}}return n})(),xs=(()=>{class n{constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(nj(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(i){return new(i||n)(E(Lt),E(us),E(Ho,9))}}static{this.\u0275dir=ge({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();const qme={provide:vs,useExisting:an(()=>nM),multi:!0};function ij(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let nM=(()=>{class n extends El{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let i;if(this.value=t,Array.isArray(t)){const r=t.map(o=>this._getOptionId(o));i=(o,s)=>{o._setSelected(r.indexOf(s.toString())>-1)}}else i=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(t){this.onChange=i=>{const r=[],o=i.selectedOptions;if(void 0!==o){const s=o;for(let a=0;a<s.length;a++){const l=this._getOptionValue(s[a].value);r.push(l)}}else{const s=i.options;for(let a=0;a<s.length;a++){const c=s[a];if(c.selected){const l=this._getOptionValue(c.value);r.push(l)}}}this.value=r,t(r)}}_registerOption(t){const i=(this._idCounter++).toString();return this._optionMap.set(i,t),i}_getOptionId(t){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,t))return i;return null}_getOptionValue(t){const i=function Wme(n){return n.split(":")[0]}(t);return this._optionMap.has(i)?this._optionMap.get(i)._value:t}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=ci(n)))(r||n)}})()}static{this.\u0275dir=ge({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,r){1&i&&F("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Cn([qme]),_t]})}}return n})(),ws=(()=>{class n{constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(ij(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(ij(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(i){return new(i||n)(E(Lt),E(us),E(nM,9))}}static{this.\u0275dir=ge({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();function oj(n){return"number"==typeof n?n:parseFloat(n)}let Tl=(()=>{class n{constructor(){this._validator=uy}ngOnChanges(t){if(this.inputName in t){const i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):uy,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=ge({type:n,features:[eo]})}}return n})();const Kme={provide:lr,useExisting:an(()=>wy),multi:!0};let wy=(()=>{class n extends Tl{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=t=>oj(t),this.createValidator=t=>function _9(n){return e=>{if(lc(e.value)||lc(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(t)}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=ci(n)))(r||n)}})()}static{this.\u0275dir=ge({type:n,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(i,r){2&i&&Jn("max",r._enabled?r.max:null)},inputs:{max:"max"},features:[Cn([Kme]),_t]})}}return n})();const Yme={provide:lr,useExisting:an(()=>Cy),multi:!0};let Cy=(()=>{class n extends Tl{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=t=>oj(t),this.createValidator=t=>function g9(n){return e=>{if(lc(e.value)||lc(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(t)}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=ci(n)))(r||n)}})()}static{this.\u0275dir=ge({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(i,r){2&i&&Jn("min",r._enabled?r.min:null)},inputs:{min:"min"},features:[Cn([Yme]),_t]})}}return n})(),nge=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ot({type:n})}static{this.\u0275inj=tt({})}}return n})(),nm=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Hu,useValue:t.callSetDisabledState??gy}]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ot({type:n})}static{this.\u0275inj=tt({imports:[nge]})}}return n})();function Me(...n){return xi(n,Xp(n))}function Ey(...n){const e=Xp(n),t=d9(n),{args:i,keys:r}=c9(n);if(0===i.length)return xi([],e);const o=new rn(function oge(n,e,t=Ha){return i=>{uj(e,()=>{const{length:r}=n,o=new Array(r);let s=r,a=r;for(let c=0;c<r;c++)uj(e,()=>{const l=xi(n[c],e);let d=!1;l.subscribe(yn(i,u=>{o[c]=u,d||(d=!0,a--),a||i.next(t(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}(i,e,r?s=>u9(r,s):Ha));return t?o.pipe(BI(t)):o}function uj(n,e,t){n?da(t,n,e):e()}const Ty=RC(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Di(n,e,t=1/0){return Ct(e)?Di((i,r)=>ze((o,s)=>e(i,o,r,s))($i(n(i,r))),t):("number"==typeof e&&(t=e),On((i,r)=>function sge(n,e,t,i,r,o,s,a){const c=[];let l=0,d=0,u=!1;const f=()=>{u&&!c.length&&!l&&e.complete()},m=C=>l<i?y(C):c.push(C),y=C=>{o&&e.next(C),l++;let T=!1;$i(t(C,d++)).subscribe(yn(e,S=>{r?.(S),o?m(S):e.next(S)},()=>{T=!0},void 0,()=>{if(T)try{for(l--;c.length&&l<i;){const S=c.shift();s?da(e,s,()=>y(S)):y(S)}f()}catch(S){e.error(S)}}))};return n.subscribe(yn(e,m,()=>{u=!0,f()})),()=>{a?.()}}(i,r,n,t)))}function $u(n=1/0){return Di(Ha,n)}function Gu(...n){return function age(){return $u(1)}()(xi(n,Xp(n)))}function qu(n){return new rn(e=>{$i(n()).subscribe(e)})}function Wu(n,e){const t=Ct(n)?n:()=>n,i=r=>r.error(t());return new rn(e?r=>e.schedule(i,0,r):i)}const Cs=new rn(n=>n.complete());function rM(){return On((n,e)=>{let t=null;n._refCount++;const i=yn(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,o=t;t=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class oM extends rn{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,PL(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new pi;const t=this.getSubject();e.add(this.source.subscribe(yn(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=pi.EMPTY)}return e}refCount(){return rM()(this)}}function zr(n,e){return On((t,i)=>{let r=null,o=0,s=!1;const a=()=>s&&!r&&i.complete();t.subscribe(yn(i,c=>{r?.unsubscribe();let l=0;const d=o++;$i(n(c,d)).subscribe(r=yn(i,u=>i.next(e?e(c,u,d,l++):u),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function In(n){return n<=0?()=>Cs:On((e,t)=>{let i=0;e.subscribe(yn(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function Iy(...n){const e=Xp(n);return On((t,i)=>{(e?Gu(n,t,e):Gu(n,t)).subscribe(i)})}function un(n,e){return On((t,i)=>{let r=0;t.subscribe(yn(i,o=>n.call(e,o,r++)&&i.next(o)))})}function My(n){return On((e,t)=>{let i=!1;e.subscribe(yn(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function hj(n=lge){return On((e,t)=>{let i=!1;e.subscribe(yn(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function lge(){return new Ty}function Il(n,e){const t=arguments.length>=2;return i=>i.pipe(n?un((r,o)=>n(r,o,i)):Ha,In(1),t?My(e):hj(()=>new Ty))}function Ku(n,e){return Ct(e)?Di(n,e,1):Di(n,1)}function Hn(n,e,t){const i=Ct(n)||e||t?{next:n,error:e,complete:t}:n;return i?On((r,o)=>{var s;null===(s=i.subscribe)||void 0===s||s.call(i);let a=!0;r.subscribe(yn(o,c=>{var l;null===(l=i.next)||void 0===l||l.call(i,c),o.next(c)},()=>{var c;a=!1,null===(c=i.complete)||void 0===c||c.call(i),o.complete()},c=>{var l;a=!1,null===(l=i.error)||void 0===l||l.call(i,c),o.error(c)},()=>{var c,l;a&&(null===(c=i.unsubscribe)||void 0===c||c.call(i)),null===(l=i.finalize)||void 0===l||l.call(i)}))}):Ha}function Ml(n){return On((e,t)=>{let o,i=null,r=!1;i=e.subscribe(yn(t,void 0,void 0,s=>{o=$i(n(s,Ml(n)(e))),i?(i.unsubscribe(),i=null,o.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(t))})}function sM(n){return n<=0?()=>Cs:On((e,t)=>{let i=[];e.subscribe(yn(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function fj(n){return ze(()=>n)}function Dy(n){return On((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Sy(n){return On((e,t)=>{$i(n).subscribe(yn(t,()=>t.complete(),Pf)),!t.closed&&e.subscribe(t)})}const at="primary",im=Symbol("RouteTitle");class fge{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Yu(n){return new fge(n)}function pge(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const s=i[o],a=n[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Es(n,e){const t=n?aM(n):void 0,i=e?aM(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let o=0;o<t.length;o++)if(r=t[o],!pj(n[r],e[r]))return!1;return!0}function aM(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function pj(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,o)=>i[o]===r)}return n===e}function mj(n){return n.length>0?n[n.length-1]:null}function hc(n){return function rge(n){return!!n&&(n instanceof rn||Ct(n.lift)&&Ct(n.subscribe))}(n)?n:Up(n)?xi(Promise.resolve(n)):Me(n)}const gge={exact:function bj(n,e,t){if(!Dl(n.segments,e.segments)||!ky(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!bj(n.children[i],e.children[i],t))return!1;return!0},subset:yj},gj={exact:function _ge(n,e){return Es(n,e)},subset:function bge(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>pj(n[t],e[t]))},ignored:()=>!0};function _j(n,e,t){return gge[t.paths](n.root,e.root,t.matrixParams)&&gj[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function yj(n,e,t){return vj(n,e,e.segments,t)}function vj(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!Dl(r,t)||e.hasChildren()||!ky(r,t,i))}if(n.segments.length===t.length){if(!Dl(n.segments,t)||!ky(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!yj(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(Dl(n.segments,r)&&ky(n.segments,r,i)&&n.children[at])&&vj(n.children[at],e,o,i)}}function ky(n,e,t){return e.every((i,r)=>gj[t](n[r].parameters,i.parameters))}class Qu{constructor(e=new Qt([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Yu(this.queryParams),this._queryParamMap}toString(){return xge.serialize(this)}}class Qt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ay(this)}}class rm{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Yu(this.parameters),this._parameterMap}toString(){return Cj(this)}}function Dl(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let Xu=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:()=>new cM,providedIn:"root"})}}return n})();class cM{parse(e){const t=new Oge(e);return new Qu(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${om(e.root,!0)}`,i=function Ege(n){const e=Object.entries(n).map(([t,i])=>Array.isArray(i)?i.map(r=>`${Oy(t)}=${Oy(r)}`).join("&"):`${Oy(t)}=${Oy(i)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function wge(n){return encodeURI(n)}(e.fragment)}`:""}`}}const xge=new cM;function Ay(n){return n.segments.map(e=>Cj(e)).join("/")}function om(n,e){if(!n.hasChildren())return Ay(n);if(e){const t=n.children[at]?om(n.children[at],!1):"",i=[];return Object.entries(n.children).forEach(([r,o])=>{r!==at&&i.push(`${r}:${om(o,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function vge(n,e){let t=[];return Object.entries(n.children).forEach(([i,r])=>{i===at&&(t=t.concat(e(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==at&&(t=t.concat(e(r,i)))}),t}(n,(i,r)=>r===at?[om(n.children[at],!1)]:[`${r}:${om(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[at]?`${Ay(n)}/${t[0]}`:`${Ay(n)}/(${t.join("//")})`}}function xj(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Oy(n){return xj(n).replace(/%3B/gi,";")}function lM(n){return xj(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Py(n){return decodeURIComponent(n)}function wj(n){return Py(n.replace(/\+/g,"%20"))}function Cj(n){return`${lM(n.path)}${function Cge(n){return Object.entries(n).map(([e,t])=>`;${lM(e)}=${lM(t)}`).join("")}(n.parameters)}`}const Tge=/^[^\/()?;#]+/;function dM(n){const e=n.match(Tge);return e?e[0]:""}const Ige=/^[^\/()?;=#]+/,Dge=/^[^=?&#]+/,kge=/^[^&#]+/;class Oge{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Qt([],{}):new Qt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[at]=new Qt(e,t)),i}parseSegment(){const e=dM(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new H(4009,!1);return this.capture(e),new rm(Py(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function Mge(n){const e=n.match(Ige);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=dM(this.remaining);r&&(i=r,this.capture(i))}e[Py(t)]=Py(i)}parseQueryParam(e){const t=function Sge(n){const e=n.match(Dge);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const s=function Age(n){const e=n.match(kge);return e?e[0]:""}(this.remaining);s&&(i=s,this.capture(i))}const r=wj(t),o=wj(i);if(e.hasOwnProperty(r)){let s=e[r];Array.isArray(s)||(s=[s],e[r]=s),s.push(o)}else e[r]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=dM(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new H(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=at);const s=this.parseChildren();t[o]=1===Object.keys(s).length?s[at]:new Qt([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new H(4011,!1)}}function Ej(n){return n.segments.length>0?new Qt([],{[at]:n}):n}function Tj(n){const e={};for(const[i,r]of Object.entries(n.children)){const o=Tj(r);if(i===at&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[i]=o)}return function Pge(n){if(1===n.numberOfChildren&&n.children[at]){const e=n.children[at];return new Qt(n.segments.concat(e.segments),e.children)}return n}(new Qt(n.segments,e))}function Zu(n){return n instanceof Qu}function Ij(n){let e;const r=Ej(function t(o){const s={};for(const c of o.children){const l=t(c);s[c.outlet]=l}const a=new Qt(o.url,s);return o===n&&(e=a),a}(n.root));return e??r}function Mj(n,e,t,i){let r=n;for(;r.parent;)r=r.parent;if(0===e.length)return uM(r,r,r,t,i);const o=function Nge(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Sj(!0,0,n);let e=0,t=!1;const i=n.reduce((r,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]="string"==typeof l?l.split("/"):l}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===s?(o.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?t=!0:".."===a?e++:""!=a&&r.push(a))}),r):[...r,o]},[]);return new Sj(t,e,i)}(e);if(o.toRoot())return uM(r,r,new Qt([],{}),t,i);const s=function Fge(n,e,t){if(n.isAbsolute)return new Ny(e,!0,0);if(!t)return new Ny(e,!1,NaN);if(null===t.parent)return new Ny(t,!0,0);const i=Ry(n.commands[0])?0:1;return function Lge(n,e,t){let i=n,r=e,o=t;for(;o>r;){if(o-=r,i=i.parent,!i)throw new H(4005,!1);r=i.segments.length}return new Ny(i,!1,r-o)}(t,t.segments.length-1+i,n.numberOfDoubleDots)}(o,r,n),a=s.processChildren?am(s.segmentGroup,s.index,o.commands):kj(s.segmentGroup,s.index,o.commands);return uM(r,s.segmentGroup,a,t,i)}function Ry(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function sm(n){return"object"==typeof n&&null!=n&&n.outlets}function uM(n,e,t,i,r){let s,o={};i&&Object.entries(i).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(d=>`${d}`):`${l}`}),s=n===e?t:Dj(n,e,t);const a=Ej(Tj(s));return new Qu(a,o,r)}function Dj(n,e,t){const i={};return Object.entries(n.children).forEach(([r,o])=>{i[r]=o===e?t:Dj(o,e,t)}),new Qt(n.segments,i)}class Sj{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&Ry(i[0]))throw new H(4003,!1);const r=i.find(sm);if(r&&r!==mj(i))throw new H(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ny{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function kj(n,e,t){if(n??=new Qt([],{}),0===n.segments.length&&n.hasChildren())return am(n,e,t);const i=function Bge(n,e,t){let i=0,r=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return o;const s=n.segments[r],a=t[i];if(sm(a))break;const c=`${a}`,l=i<t.length-1?t[i+1]:null;if(r>0&&void 0===c)break;if(c&&l&&"object"==typeof l&&void 0===l.outlets){if(!Oj(c,l,s))return o;i+=2}else{if(!Oj(c,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new Qt(n.segments.slice(0,i.pathIndex),{});return o.children[at]=new Qt(n.segments.slice(i.pathIndex),n.children),am(o,0,r)}return i.match&&0===r.length?new Qt(n.segments,{}):i.match&&!n.hasChildren()?hM(n,e,t):i.match?am(n,0,r):hM(n,e,t)}function am(n,e,t){if(0===t.length)return new Qt(n.segments,{});{const i=function Vge(n){return sm(n[0])?n[0].outlets:{[at]:n}}(t),r={};if(Object.keys(i).some(o=>o!==at)&&n.children[at]&&1===n.numberOfChildren&&0===n.children[at].segments.length){const o=am(n.children[at],e,t);return new Qt(n.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(r[o]=kj(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{void 0===i[o]&&(r[o]=s)}),new Qt(n.segments,r)}}function hM(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const o=t[r];if(sm(o)){const c=zge(o.outlets);return new Qt(i,c)}if(0===r&&Ry(t[0])){i.push(new rm(n.segments[e].path,Aj(t[0]))),r++;continue}const s=sm(o)?o.outlets[at]:`${o}`,a=r<t.length-1?t[r+1]:null;s&&a&&Ry(a)?(i.push(new rm(s,Aj(a))),r+=2):(i.push(new rm(s,{})),r++)}return new Qt(i,{})}function zge(n){const e={};return Object.entries(n).forEach(([t,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(e[t]=hM(new Qt([],{}),0,i))}),e}function Aj(n){const e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function Oj(n,e,t){return n==t.path&&Es(e,t.parameters)}const cm="imperative";var yt=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(yt||{});class Ts{constructor(e,t){this.id=e,this.url=t}}class Fy extends Ts{constructor(e,t,i="imperative",r=null){super(e,t),this.type=yt.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ua extends Ts{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=yt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var xo=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(xo||{}),Ly=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Ly||{});class Ju extends Ts{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=yt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class eh extends Ts{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=yt.NavigationSkipped}}class Vy extends Ts{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=yt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Pj extends Ts{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=yt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Uge extends Ts{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=yt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jge extends Ts{constructor(e,t,i,r,o){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=yt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Hge extends Ts{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=yt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $ge extends Ts{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=yt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Gge{constructor(e){this.route=e,this.type=yt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class qge{constructor(e){this.route=e,this.type=yt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Wge{constructor(e){this.snapshot=e,this.type=yt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Kge{constructor(e){this.snapshot=e,this.type=yt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Yge{constructor(e){this.snapshot=e,this.type=yt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qge{constructor(e){this.snapshot=e,this.type=yt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rj{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=yt.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class fM{}class pM{constructor(e){this.url=e}}class Xge{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new lm,this.attachRef=null}}let lm=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new Xge,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class Nj{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=mM(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=mM(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=gM(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return gM(e,this._root).map(t=>t.value)}}function mM(n,e){if(n===e.value)return e;for(const t of e.children){const i=mM(n,t);if(i)return i}return null}function gM(n,e){if(n===e.value)return[e];for(const t of e.children){const i=gM(n,t);if(i.length)return i.unshift(e),i}return[]}class $o{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function th(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Fj extends Nj{constructor(e,t){super(e),this.snapshot=t,yM(this,e)}toString(){return this.snapshot.toString()}}function Lj(n){const e=function Zge(n){const o=new bM([],{},{},"",{},at,n,null,{});return new Vj("",new $o(o,[]))}(n),t=new yr([new rm("",{})]),i=new yr({}),r=new yr({}),o=new yr({}),s=new yr(""),a=new qe(t,i,o,s,r,at,n,e.root);return a.snapshot=e.root,new Fj(new $o(a,[]),e)}class qe{constructor(e,t,i,r,o,s,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(ze(l=>l[im]))??Me(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ze(e=>Yu(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ze(e=>Yu(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function _M(n,e,t="emptyOnly"){let i;const{routeConfig:r}=n;return i=null===e||"always"!==t&&""!==r?.path&&(e.component||e.routeConfig?.loadComponent)?{params:{...n.params},data:{...n.data},resolve:{...n.data,...n._resolvedData??{}}}:{params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.data,...r?.data,...n._resolvedData}},r&&zj(r)&&(i.resolve[im]=r.title),i}class bM{get title(){return this.data?.[im]}constructor(e,t,i,r,o,s,a,c,l){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Yu(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Yu(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Vj extends Nj{constructor(e,t){super(t),this.url=e,yM(this,t)}toString(){return Bj(this._root)}}function yM(n,e){e.value._routerState=n,e.children.forEach(t=>yM(n,t))}function Bj(n){const e=n.children.length>0?` { ${n.children.map(Bj).join(", ")} } `:"";return`${n.value}${e}`}function vM(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Es(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Es(e.params,t.params)||n.paramsSubject.next(t.params),function mge(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Es(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),Es(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function xM(n,e){const t=Es(n.params,e.params)&&function yge(n,e){return Dl(n,e)&&n.every((t,i)=>Es(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||xM(n.parent,e.parent))}function zj(n){return"string"==typeof n.title||null===n.title}let Sl=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=at,this.activateEvents=new Xe,this.deactivateEvents=new Xe,this.attachEvents=new Xe,this.detachEvents=new Xe,this.parentContexts=Z(lm),this.location=Z(_o),this.changeDetector=Z(bu),this.environmentInjector=Z(Jr),this.inputBinder=Z(By,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new H(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new H(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new H(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new H(4013,!1);this._activatedRoute=t;const r=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new Jge(t,a,r.injector);this.activated=r.createComponent(s,{index:r.length,injector:c,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=ge({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[eo]})}}return n})();class Jge{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===qe?this.route:e===lm?this.childContexts:this.parent.get(e,t)}}const By=new X("");let Uj=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:i}=t,r=Ey([i.queryParams,i.params,i.data]).pipe(zr(([o,s,a],c)=>(a={...o,...s,...a},0===c?Me(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(t);const s=function Kue(n){const e=lt(n);if(!e)return null;const t=new wp(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(i.component);if(s)for(const{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,r)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac})}}return n})();function dm(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function t_e(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return dm(n,i,r);return dm(n,i)})}(n,e,t);return new $o(i,r)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>dm(n,a)),s}}const i=function n_e(n){return new qe(new yr(n.url),new yr(n.params),new yr(n.queryParams),new yr(n.fragment),new yr(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(o=>dm(n,o));return new $o(i,r)}}const jj="ngNavigationCancelingError";function Hj(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=Zu(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=$j(!1,xo.Redirect);return r.url=t,r.navigationBehaviorOptions=i,r}function $j(n,e){const t=new Error(`NavigationCancelingError: ${n||""}`);return t[jj]=!0,t.cancellationCode=e,t}function Gj(n){return!!n&&n[jj]}let qj=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=be({type:n,selectors:[["ng-component"]],standalone:!0,features:[cr],decls:1,vars:0,template:function(i,r){1&i&&$(0,"router-outlet")},dependencies:[Sl],encapsulation:2})}}return n})();function wM(n){const e=n.children&&n.children.map(wM),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==at&&(t.component=qj),t}function Is(n){return n.outlet||at}function um(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class d_e{constructor(e,t,i,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),vM(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=th(t);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,t,i){const r=e.value,o=t?t.value:null;if(r===o)if(r.component){const s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,i);else o&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=th(e);for(const s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){const s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=th(e);for(const s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){const r=th(t);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new Qge(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Kge(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,o=t?t.value:null;if(vM(r),r===o)if(r.component){const s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),vM(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=um(r.snapshot);s.attachRef=null,s.route=r,s.injector=a,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,i)}}class Wj{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class zy{constructor(e,t){this.component=e,this.route=t}}function u_e(n,e,t){const i=n._root;return hm(i,e?e._root:null,t,[i.value])}function nh(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||function Ate(n){return null!==pb(n)}(n)?e.get(n):n:i}function hm(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=th(e);return n.children.forEach(s=>{(function f_e(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const c=function p_e(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Dl(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Dl(n.url,e.url)||!Es(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!xM(n,e)||!Es(n.queryParams,e.queryParams);default:return!xM(n,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new Wj(i)):(o.data=s.data,o._resolvedData=s._resolvedData),hm(n,e,o.component?a?a.children:null:t,i,r),c&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new zy(a.outlet.component,s))}else s&&fm(e,a,r),r.canActivateChecks.push(new Wj(i)),hm(n,null,o.component?a?a.children:null:t,i,r)})(s,o[s.value.outlet],t,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>fm(a,t.getContext(s),r)),r}function fm(n,e,t){const i=th(n),r=n.value;Object.entries(i).forEach(([o,s])=>{fm(s,r.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new zy(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function pm(n){return"function"==typeof n}function Kj(n){return n instanceof Ty||"EmptyError"===n?.name}const Uy=Symbol("INITIAL_VALUE");function ih(){return zr(n=>Ey(n.map(e=>e.pipe(In(1),Iy(Uy)))).pipe(ze(e=>{for(const t of e)if(!0!==t){if(t===Uy)return Uy;if(!1===t||t instanceof Qu)return t}return!0}),un(e=>e!==Uy),In(1)))}function Yj(n){return function Aee(...n){return kL(n)}(Hn(e=>{if(Zu(e))throw Hj(0,e)}),ze(e=>!0===e))}class CM{constructor(e){this.segmentGroup=e||null}}class EM extends Error{constructor(e){super(),this.urlTree=e}}function rh(n){return Wu(new CM(n))}class P_e{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return Me(i);if(r.numberOfChildren>1||!r.children[at])return Wu(new H(4e3,!1));r=r.children[at]}}applyRedirectCommands(e,t,i){const r=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i);if(t.startsWith("/"))throw new EM(r);return r}applyRedirectCreateUrlTree(e,t,i,r){const o=this.createSegmentGroup(e,t.root,i,r);return new Qu(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return Object.entries(e).forEach(([r,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);i[r]=t[a]}else i[r]=o}),i}createSegmentGroup(e,t,i,r){const o=this.createSegments(e,t.segments,i,r);let s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,i,r)}),new Qt(o,s)}createSegments(e,t,i,r){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new H(4001,!1);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}const TM={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function R_e(n,e,t,i,r){const o=IM(n,e,t);return o.matched?(i=function r_e(n,e){return n.providers&&!n._injector&&(n._injector=v0(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,i),function k_e(n,e,t,i){const r=e.canMatch;return r&&0!==r.length?Me(r.map(s=>{const a=nh(s,n);return hc(function v_e(n){return n&&pm(n.canMatch)}(a)?a.canMatch(e,t):ul(n,()=>a(e,t)))})).pipe(ih(),Yj()):Me(!0)}(i,e,t).pipe(ze(s=>!0===s?o:{...TM}))):Me(o)}function IM(n,e,t){if("**"===e.path)return function N_e(n){return{matched:!0,parameters:n.length>0?mj(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}(t);if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...TM}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||pge)(t,n,e);if(!r)return{...TM};const o={};Object.entries(r.posParams??{}).forEach(([a,c])=>{o[a]=c.path});const s=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function Qj(n,e,t,i){return t.length>0&&function V_e(n,e,t){return t.some(i=>jy(n,e,i)&&Is(i)!==at)}(n,t,i)?{segmentGroup:new Qt(e,L_e(i,new Qt(t,n.children))),slicedSegments:[]}:0===t.length&&function B_e(n,e,t){return t.some(i=>jy(n,e,i))}(n,t,i)?{segmentGroup:new Qt(n.segments,F_e(n,t,i,n.children)),slicedSegments:t}:{segmentGroup:new Qt(n.segments,n.children),slicedSegments:t}}function F_e(n,e,t,i){const r={};for(const o of t)if(jy(n,e,o)&&!i[Is(o)]){const s=new Qt([],{});r[Is(o)]=s}return{...i,...r}}function L_e(n,e){const t={};t[at]=e;for(const i of n)if(""===i.path&&Is(i)!==at){const r=new Qt([],{});t[Is(i)]=r}return t}function jy(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class j_e{}class G_e{constructor(e,t,i,r,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new P_e(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new H(4002,`'${e.segmentGroup}'`)}recognize(){const e=Qj(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ze(t=>{const i=new bM([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},at,this.rootComponentType,null,{}),r=new $o(i,t),o=new Vj("",r),s=function Rge(n,e,t=null,i=null){return Mj(Ij(n),e,t,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,at).pipe(Ml(i=>{if(i instanceof EM)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof CM?this.noMatchError(i):i}))}inheritParamsAndData(e,t){const i=e.value,r=_M(i,t,this.paramsInheritanceStrategy);i.params=Object.freeze(r.params),i.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o,i))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r,!0).pipe(ze(o=>o instanceof $o?[o]:[]))}processChildren(e,t,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return xi(r).pipe(Ku(o=>{const s=i.children[o],a=function c_e(n,e){const t=n.filter(i=>Is(i)===e);return t.push(...n.filter(i=>Is(i)!==e)),t}(t,o);return this.processSegmentGroup(e,a,s,o)}),function uge(n,e){return On(function dge(n,e,t,i,r){return(o,s)=>{let a=t,c=e,l=0;o.subscribe(yn(s,d=>{const u=l++;c=a?n(c,d,u):(a=!0,d),i&&s.next(c)},r&&(()=>{a&&s.next(c),s.complete()})))}}(n,e,arguments.length>=2,!0))}((o,s)=>(o.push(...s),o)),My(null),function hge(n,e){const t=arguments.length>=2;return i=>i.pipe(n?un((r,o)=>n(r,o,i)):Ha,sM(1),t?My(e):hj(()=>new Ty))}(),Di(o=>{if(null===o)return rh(i);const s=Xj(o);return function q_e(n){n.sort((e,t)=>e.value.outlet===at?-1:t.value.outlet===at?1:e.value.outlet.localeCompare(t.value.outlet))}(s),Me(s)}))}processSegment(e,t,i,r,o,s){return xi(t).pipe(Ku(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,i,r,o,s).pipe(Ml(c=>{if(c instanceof CM)return Me(null);throw c}))),Il(a=>!!a),Ml(a=>{if(Kj(a))return function U_e(n,e,t){return 0===e.length&&!n.children[t]}(i,r,o)?Me(new j_e):rh(i);throw a}))}processSegmentAgainstRoute(e,t,i,r,o,s,a){return function z_e(n,e,t,i){return!!(Is(n)===i||i!==at&&jy(e,t,n))&&IM(e,n,t).matched}(i,r,o,s)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,r,i,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,t,i,o,s):rh(r):rh(r)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,o,s){const{matched:a,consumedSegments:c,positionalParamSegments:l,remainingSegments:d}=IM(t,r,o);if(!a)return rh(t);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const u=this.applyRedirects.applyRedirectCommands(c,r.redirectTo,l);return this.applyRedirects.lineralizeSegments(r,u).pipe(Di(f=>this.processSegment(e,i,t,f.concat(d),s,!1)))}matchSegmentAgainstRoute(e,t,i,r,o){const s=R_e(t,i,r,e);return"**"===i.path&&(t.children={}),s.pipe(zr(a=>a.matched?this.getChildConfig(e=i._injector??e,i,r).pipe(zr(({routes:c})=>{const l=i._loadedInjector??e,{consumedSegments:d,remainingSegments:u,parameters:f}=a,m=new bM(d,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function K_e(n){return n.data||{}}(i),Is(i),i.component??i._loadedComponent??null,i,function Y_e(n){return n.resolve||{}}(i)),{segmentGroup:y,slicedSegments:C}=Qj(t,d,u,c);if(0===C.length&&y.hasChildren())return this.processChildren(l,c,y).pipe(ze(S=>null===S?null:new $o(m,S)));if(0===c.length&&0===C.length)return Me(new $o(m,[]));const T=Is(i)===o;return this.processSegment(l,c,y,C,T?at:o,!0).pipe(ze(S=>new $o(m,S instanceof $o?[S]:[])))})):rh(t)))}getChildConfig(e,t,i){return t.children?Me({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?Me({routes:t._loadedRoutes,injector:t._loadedInjector}):function S_e(n,e,t,i){const r=e.canLoad;return void 0===r||0===r.length?Me(!0):Me(r.map(s=>{const a=nh(s,n);return hc(function g_e(n){return n&&pm(n.canLoad)}(a)?a.canLoad(e,t):ul(n,()=>a(e,t)))})).pipe(ih(),Yj())}(e,t,i).pipe(Di(r=>r?this.configLoader.loadChildren(e,t).pipe(Hn(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function O_e(n){return Wu($j(!1,xo.GuardRejected))}())):Me({routes:[],injector:e})}}function W_e(n){const e=n.value.routeConfig;return e&&""===e.path}function Xj(n){const e=[],t=new Set;for(const i of n){if(!W_e(i)){e.push(i);continue}const r=e.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=Xj(i.children);e.push(new $o(i.value,r))}return e.filter(i=>!t.has(i))}function Zj(n){const e=n.children.map(t=>Zj(t)).flat();return[n,...e]}function MM(n){return zr(e=>{const t=n(e);return t?xi(t).pipe(ze(()=>e)):Me(e)})}let Jj=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===at);return i}getResolvedTitleForRoute(t){return t.data[im]}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:()=>Z(tbe),providedIn:"root"})}}return n})(),tbe=(()=>{class n extends Jj{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}static{this.\u0275fac=function(i){return new(i||n)(j(ype))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const oh=new X("",{providedIn:"root",factory:()=>({})}),sh=new X("");let DM=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Z(wU)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Me(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=hc(t.loadComponent()).pipe(ze(e7),Hn(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Dy(()=>{this.componentLoaders.delete(t)})),r=new oM(i,()=>new ht).pipe(rM());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Me({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=function nbe(n,e,t,i){return hc(n.loadChildren()).pipe(ze(e7),Di(r=>r instanceof FV||Array.isArray(r)?Me(r):xi(e.compileModuleAsync(r))),ze(r=>{i&&i(n);let o,s,a=!1;return Array.isArray(r)?(s=r,!0):(o=r.create(t).injector,s=o.get(sh,[],{optional:!0,self:!0}).flat()),{routes:s.map(wM),injector:o}}))}(i,this.compiler,t,this.onLoadEndListener).pipe(Dy(()=>{this.childrenLoaders.delete(i)})),s=new oM(o,()=>new ht).pipe(rM());return this.childrenLoaders.set(i,s),s}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function e7(n){return function ibe(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let SM=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:()=>Z(rbe),providedIn:"root"})}}return n})(),rbe=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const t7=new X(""),n7=new X("");function obe(n,e,t){const i=n.get(n7),r=n.get(ft);return n.get(ke).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,Promise.resolve();let o;const s=new Promise(l=>{o=l}),a=r.startViewTransition(()=>(o(),function sbe(n){return new Promise(e=>{nV(e,{injector:n})})}(n))),{onViewTransitionCreated:c}=i;return c&&ul(n,()=>c({transition:a,from:e,to:t})),s})}let Hy=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ht,this.transitionAbortSubject=new ht,this.configLoader=Z(DM),this.environmentInjector=Z(Jr),this.urlSerializer=Z(Xu),this.rootContexts=Z(lm),this.location=Z(En),this.inputBindingEnabled=null!==Z(By,{optional:!0}),this.titleStrategy=Z(Jj),this.options=Z(oh,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=Z(SM),this.createViewTransition=Z(t7,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Me(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new qge(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new Gge(r))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:i})}setupNavigations(t,i,r){return this.transitions=new yr({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:cm,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(un(o=>0!==o.id),ze(o=>({...o,extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),zr(o=>{this.currentTransition=o;let s=!1,a=!1;return Me(o).pipe(Hn(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),zr(c=>{const l=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!l&&"reload"!==(c.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const u="";return this.events.next(new eh(c.id,this.urlSerializer.serialize(c.rawUrl),u,Ly.IgnoredSameUrlNavigation)),c.resolve(null),Cs}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return Me(c).pipe(zr(u=>{const f=this.transitions?.getValue();return this.events.next(new Fy(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),f!==this.transitions?.getValue()?Cs:Promise.resolve(u)}),function Q_e(n,e,t,i,r,o){return Di(s=>function H_e(n,e,t,i,r,o,s="emptyOnly"){return new G_e(n,e,t,i,r,s,o).recognize()}(n,e,t,i,s.extractedUrl,r,o).pipe(ze(({state:a,tree:c})=>({...s,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Hn(u=>{o.targetSnapshot=u.targetSnapshot,o.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:u.urlAfterRedirects};const f=new Pj(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(f)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:u,extractedUrl:f,source:m,restoredState:y,extras:C}=c,T=new Fy(u,this.urlSerializer.serialize(f),m,y);this.events.next(T);const S=Lj(this.rootComponentType).snapshot;return this.currentTransition=o={...c,targetSnapshot:S,urlAfterRedirects:f,extras:{...C,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=f,Me(o)}{const u="";return this.events.next(new eh(c.id,this.urlSerializer.serialize(c.extractedUrl),u,Ly.IgnoredByUrlHandlingStrategy)),c.resolve(null),Cs}}),Hn(c=>{const l=new Uge(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),ze(c=>(this.currentTransition=o={...c,guards:u_e(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},o)),function x_e(n,e){return Di(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return 0===s.length&&0===o.length?Me({...t,guardsResult:!0}):function w_e(n,e,t,i){return xi(n).pipe(Di(r=>function D_e(n,e,t,i,r){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?Me(o.map(a=>{const c=um(e)??r,l=nh(a,c);return hc(function y_e(n){return n&&pm(n.canDeactivate)}(l)?l.canDeactivate(n,e,t,i):ul(c,()=>l(n,e,t,i))).pipe(Il())})).pipe(ih()):Me(!0)}(r.component,r.route,t,e,i)),Il(r=>!0!==r,!0))}(s,i,r,n).pipe(Di(a=>a&&function m_e(n){return"boolean"==typeof n}(a)?function C_e(n,e,t,i){return xi(e).pipe(Ku(r=>Gu(function T_e(n,e){return null!==n&&e&&e(new Wge(n)),Me(!0)}(r.route.parent,i),function E_e(n,e){return null!==n&&e&&e(new Yge(n)),Me(!0)}(r.route,i),function M_e(n,e,t){const i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function h_e(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(s)).filter(s=>null!==s).map(s=>qu(()=>Me(s.guards.map(c=>{const l=um(s.node)??t,d=nh(c,l);return hc(function b_e(n){return n&&pm(n.canActivateChild)}(d)?d.canActivateChild(i,n):ul(l,()=>d(i,n))).pipe(Il())})).pipe(ih())));return Me(o).pipe(ih())}(n,r.path,t),function I_e(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return Me(!0);const r=i.map(o=>qu(()=>{const s=um(e)??t,a=nh(o,s);return hc(function __e(n){return n&&pm(n.canActivate)}(a)?a.canActivate(e,n):ul(s,()=>a(e,n))).pipe(Il())}));return Me(r).pipe(ih())}(n,r.route,t))),Il(r=>!0!==r,!0))}(i,o,n,e):Me(a)),ze(a=>({...t,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),Hn(c=>{if(o.guardsResult=c.guardsResult,Zu(c.guardsResult))throw Hj(0,c.guardsResult);const l=new jge(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),un(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",xo.GuardRejected),!1)),MM(c=>{if(c.guards.canActivateChecks.length)return Me(c).pipe(Hn(l=>{const d=new Hge(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),zr(l=>{let d=!1;return Me(l).pipe(function X_e(n,e){return Di(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return Me(t);const o=new Set(r.map(c=>c.route)),s=new Set;for(const c of o)if(!s.has(c))for(const l of Zj(c))s.add(l);let a=0;return xi(s).pipe(Ku(c=>o.has(c)?function Z_e(n,e,t,i){const r=n.routeConfig,o=n._resolve;return void 0!==r?.title&&!zj(r)&&(o[im]=r.title),function J_e(n,e,t,i){const r=aM(n);if(0===r.length)return Me({});const o={};return xi(r).pipe(Di(s=>function ebe(n,e,t,i){const r=um(e)??i,o=nh(n,r);return hc(o.resolve?o.resolve(e,t):ul(r,()=>o(e,t)))}(n[s],e,t,i).pipe(Il(),Hn(a=>{o[s]=a}))),sM(1),fj(o),Ml(s=>Kj(s)?Cs:Wu(s)))}(o,n,e,i).pipe(ze(s=>(n._resolvedData=s,n.data=_M(n,n.parent,t).resolve,null)))}(c,i,n,e):(c.data=_M(c,c.parent,n).resolve,Me(void 0))),Hn(()=>a++),sM(1),Di(c=>a===s.size?Me(t):Cs))})}(this.paramsInheritanceStrategy,this.environmentInjector),Hn({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(l,"",xo.NoDataFromResolver)}}))}),Hn(l=>{const d=new $ge(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}))}),MM(c=>{const l=d=>{const u=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(d.routeConfig).pipe(Hn(f=>{d.component=f}),ze(()=>{})));for(const f of d.children)u.push(...l(f));return u};return Ey(l(c.targetSnapshot.root)).pipe(My(null),In(1))}),MM(()=>this.afterPreactivation()),zr(()=>{const{currentSnapshot:c,targetSnapshot:l}=o,d=this.createViewTransition?.(this.environmentInjector,c.root,l.root);return d?xi(d).pipe(ze(()=>o)):Me(o)}),ze(c=>{const l=function e_e(n,e,t){const i=dm(n,e._root,t?t._root:void 0);return new Fj(i,e)}(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o={...c,targetRouterState:l},this.currentNavigation.targetRouterState=l,o}),Hn(()=>{this.events.next(new fM)}),((n,e,t,i)=>ze(r=>(new d_e(e,r.targetRouterState,r.currentRouterState,t,i).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),In(1),Hn({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ua(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),Sy(this.transitionAbortSubject.pipe(Hn(c=>{throw c}))),Dy(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",xo.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Ml(c=>{if(a=!0,Gj(c))this.events.next(new Ju(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),function i_e(n){return Gj(n)&&Zu(n.url)}(c)?this.events.next(new pM(c.url)):o.resolve(!1);else{this.events.next(new Vy(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(t.errorHandler(c))}catch(l){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(l)}}return Cs}))}))}cancelNavigationTransition(t,i,r){const o=new Ju(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function abe(n){return n!==cm}let cbe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:()=>Z(dbe),providedIn:"root"})}}return n})();class lbe{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let dbe=(()=>{class n extends lbe{static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=ci(n)))(r||n)}})()}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),i7=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:()=>Z(ube),providedIn:"root"})}}return n})(),ube=(()=>{class n extends i7{constructor(){super(...arguments),this.location=Z(En),this.urlSerializer=Z(Xu),this.options=Z(oh,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=Z(SM),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Qu,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Lj(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(i=>{"popstate"===i.type&&t(i.url,i.state)})}handleRouterEvent(t,i){if(t instanceof Fy)this.stateMemento=this.createStateMemento();else if(t instanceof eh)this.rawUrlTree=i.initialUrl;else if(t instanceof Pj){if("eager"===this.urlUpdateStrategy&&!i.extras.skipLocationChange){const r=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(r,i)}}else t instanceof fM?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):t instanceof Ju&&(t.code===xo.GuardRejected||t.code===xo.NoDataFromResolver)?this.restoreHistory(i):t instanceof Vy?this.restoreHistory(i,!0):t instanceof ua&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",s)}else{const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(r,"",o)}}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&0===o&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=ci(n)))(r||n)}})()}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var mm=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(mm||{});function r7(n,e){n.events.pipe(un(t=>t instanceof ua||t instanceof Ju||t instanceof Vy||t instanceof eh),ze(t=>t instanceof ua||t instanceof eh?mm.COMPLETE:t instanceof Ju&&(t.code===xo.Redirect||t.code===xo.SupersededByNewNavigation)?mm.REDIRECTING:mm.FAILED),un(t=>t!==mm.REDIRECTING),In(1)).subscribe(()=>{e()})}function hbe(n){throw n}const fbe={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},pbe={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ee=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=Z(hU),this.stateManager=Z(i7),this.options=Z(oh,{optional:!0})||{},this.pendingTasks=Z(Ep),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=Z(Hy),this.urlSerializer=Z(Xu),this.location=Z(En),this.urlHandlingStrategy=Z(SM),this._events=new ht,this.errorHandler=this.options.errorHandler||hbe,this.navigated=!1,this.routeReuseStrategy=Z(cbe),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=Z(sh,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!Z(By,{optional:!0}),this.eventsSubscription=new pi,this.isNgZoneEnabled=Z(ke)instanceof ke&&ke.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(i=>{try{const r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(null!==r&&null!==o)if(this.stateManager.handleRouterEvent(i,o),i instanceof Ju&&i.code!==xo.Redirect&&i.code!==xo.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof ua)this.navigated=!0;else if(i instanceof pM){const s=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),a={info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||abe(r.source)};this.scheduleNavigation(s,cm,null,a,{resolve:r.resolve,reject:r.reject,promise:r.promise})}(function gbe(n){return!(n instanceof fM||n instanceof pM)})(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),cm,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",i)},0)})}navigateToSyncWithBrowser(t,i,r){const o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){const c={...r};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(o.state=c)}const a=this.parseUrl(t);this.scheduleNavigation(a,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(wM),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){const{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=i,l=c?this.currentUrlTree.fragment:s;let u,d=null;switch(a){case"merge":d={...this.currentUrlTree.queryParams,...o};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}null!==d&&(d=this.removeEmptyProps(d));try{u=Ij(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),u=this.currentUrlTree.root}return Mj(u,t,d,l??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=Zu(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,cm,null,i)}navigate(t,i={skipLocationChange:!1}){return function mbe(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new H(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,i){let r;if(r=!0===i?{...fbe}:!1===i?{...pbe}:i,Zu(t))return _j(this.currentUrlTree,t,r);const o=this.parseUrl(t);return _j(this.currentUrlTree,o,r)}removeEmptyProps(t){return Object.entries(t).reduce((i,[r,o])=>(null!=o&&(i[r]=o),i),{})}scheduleNavigation(t,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((u,f)=>{a=u,c=f});const d=this.pendingTasks.add();return r7(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(u=>Promise.reject(u))}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class o7{}let ybe=(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.injector=r,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(un(t=>t instanceof ua),Ku(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=v0(o.providers,t,`Route: ${o.path}`));const s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return xi(r).pipe($u())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):Me(null);const o=r.pipe(Di(s=>null===s?Me(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));return i.loadComponent&&!i._loadedComponent?xi([o,this.loader.loadComponent(i)]).pipe($u()):o})}static{this.\u0275fac=function(i){return new(i||n)(j(Ee),j(wU),j(Jr),j(o7),j(DM))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const AM=new X("");let s7=(()=>{class n{constructor(t,i,r,o,s={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Fy?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ua?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof eh&&t.code===Ly.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Rj&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Rj(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(i){xE()}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac})}}return n})();function Ms(n,e){return{\u0275kind:n,\u0275providers:e}}function c7(){const n=Z(Yt);return e=>{const t=n.get(gs);if(e!==t.components[0])return;const i=n.get(Ee),r=n.get(l7);1===n.get(OM)&&i.initialNavigation(),n.get(d7,null,mt.Optional)?.setUpPreloading(),n.get(AM,null,mt.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const l7=new X("",{factory:()=>new ht}),OM=new X("",{providedIn:"root",factory:()=>1}),d7=new X("");function Cbe(n){return Ms(0,[{provide:d7,useExisting:ybe},{provide:o7,useExisting:n}])}function Tbe(n){return Ms(9,[{provide:t7,useValue:obe},{provide:n7,useValue:{skipNextTransition:!!n?.skipInitialTransition,...n}}])}const u7=new X("ROUTER_FORROOT_GUARD"),Ibe=[En,{provide:Xu,useClass:cM},Ee,lm,{provide:qe,useFactory:function a7(n){return n.routerState.root},deps:[Ee]},DM,[]];let Ur=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[Ibe,[],{provide:sh,multi:!0,useValue:t},{provide:u7,useFactory:kbe,deps:[[Ee,new Kt,new Jf]]},{provide:oh,useValue:i||{}},i?.useHash?{provide:ac,useClass:o6}:{provide:ac,useClass:r6},{provide:AM,useFactory:()=>{const n=Z(yfe),e=Z(ke),t=Z(oh),i=Z(Hy),r=Z(Xu);return t.scrollOffset&&n.setOffset(t.scrollOffset),new s7(r,i,n,e,t)}},i?.preloadingStrategy?Cbe(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?Abe(i):[],i?.bindToComponentInputs?Ms(8,[Uj,{provide:By,useExisting:Uj}]).\u0275providers:[],i?.enableViewTransitions?Tbe().\u0275providers:[],[{provide:h7,useFactory:c7},{provide:YT,multi:!0,useExisting:h7}]]}}static forChild(t){return{ngModule:n,providers:[{provide:sh,multi:!0,useValue:t}]}}static{this.\u0275fac=function(i){return new(i||n)(j(u7,8))}}static{this.\u0275mod=ot({type:n})}static{this.\u0275inj=tt({})}}return n})();function kbe(n){return"guarded"}function Abe(n){return["disabled"===n.initialNavigation?Ms(3,[{provide:jp,multi:!0,useFactory:()=>{const e=Z(Ee);return()=>{e.setUpLocationChangeListener()}}},{provide:OM,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Ms(2,[{provide:OM,useValue:0},{provide:jp,multi:!0,deps:[Yt],useFactory:e=>{const t=e.get(Xue,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const r=e.get(Ee),o=e.get(l7);r7(r,()=>{i(!0)}),e.get(Hy).afterPreactivation=()=>(i(!0),o.closed?Me(void 0):o),r.initialNavigation()}))}}]).\u0275providers:[]]}const h7=new X(""),ae=function(n,e){if(!n)throw ah(e)},ah=function(n){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+n)},f7=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=63&r|128):55296==(64512&r)&&i+1<n.length&&56320==(64512&n.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&n.charCodeAt(++i)),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=63&r|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=63&r|128)}return e},$y={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const o=n[r],s=r+1<n.length,a=s?n[r+1]:0,c=r+2<n.length,l=c?n[r+2]:0;let f=(15&a)<<2|l>>6,m=63&l;c||(m=64,s||(f=64)),i.push(t[o>>2],t[(3&o)<<4|a>>4],t[f],t[m])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(f7(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,i=0;for(;t<n.length;){const r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=n[t++];e[i++]=String.fromCharCode((31&r)<<6|63&o)}else if(r>239&&r<365){const c=((7&r)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[i++]=String.fromCharCode(55296+(c>>10)),e[i++]=String.fromCharCode(56320+(1023&c))}else{const o=n[t++],s=n[t++];e[i++]=String.fromCharCode((15&r)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const o=t[n.charAt(r++)],a=r<n.length?t[n.charAt(r)]:0;++r;const l=r<n.length?t[n.charAt(r)]:64;++r;const u=r<n.length?t[n.charAt(r)]:64;if(++r,null==o||null==a||null==l||null==u)throw new Rbe;i.push(o<<2|a>>4),64!==l&&(i.push(a<<4&240|l>>2),64!==u&&i.push(l<<6&192|u))}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Rbe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const p7=function(n){const e=f7(n);return $y.encodeByteArray(e,!0)},Gy=function(n){return p7(n).replace(/\./g,"")},qy=function(n){try{return $y.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Nbe(n){return m7(void 0,n)}function m7(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===n&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!Fbe(t)||(n[t]=m7(n[t],e[t]));return n}function Fbe(n){return"__proto__"!==n}const Wy=()=>{try{return function Lbe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&qy(n[1]);return e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},g7=n=>{var e,t;return null===(t=null===(e=Wy())||void 0===e?void 0:e.emulatorHosts)||void 0===t?void 0:t[n]},Ky=n=>{const e=g7(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),i]:[e.substring(0,t),i]},_7=()=>{var n;return null===(n=Wy())||void 0===n?void 0:n.config},b7=n=>{var e;return null===(e=Wy())||void 0===e?void 0:e[`_${n}`]};class ch{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,i))}}}function RM(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i=e||"demo-project",r=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Gy(JSON.stringify({alg:"none",type:"JWT"})),Gy(JSON.stringify(s)),""].join(".")}function ti(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function NM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ti())}function y7(){var n;const e=null===(n=Wy())||void 0===n?void 0:n.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function FM(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}function v7(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function fc(){try{return"object"==typeof indexedDB}catch{return!1}}function gm(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var o;e((null===(o=r.error)||void 0===o?void 0:o.message)||"")}}catch(t){e(t)}})}function LM(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class jr extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name="FirebaseError",Object.setPrototypeOf(this,jr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ds.prototype.create)}}class Ds{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},r=`${this.service}/${e}`,o=this.errors[e],s=o?function $be(n,e){return n.replace(Gbe,(t,i)=>{const r=e[i];return null!=r?String(r):`<${i}?>`})}(o,i):"Error";return new jr(r,`${this.serviceName}: ${s} (${r}).`,i)}}const Gbe=/\{\$([^}]+)}/g;function _m(n){return JSON.parse(n)}function qi(n){return JSON.stringify(n)}const Yy=function(n){let e={},t={},i={},r="";try{const o=n.split(".");e=_m(qy(o[0])||""),t=_m(qy(o[1])||""),r=o[2],i=t.d||{},delete t.d}catch{}return{header:e,claims:t,data:i,signature:r}};function Ss(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function lh(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function VM(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Qy(n,e,t){const i={};for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=e.call(t,n[r],r,n));return i}function Xy(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const r of t){if(!i.includes(r))return!1;const o=n[r],s=e[r];if(x7(o)&&x7(s)){if(!Xy(o,s))return!1}else if(o!==s)return!1}for(const r of i)if(!t.includes(r))return!1;return!0}function x7(n){return null!==n&&"object"==typeof n}function dh(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function bm(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,o]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(o)}}),e}function ym(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}class Kbe{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const i=this.W_;if("string"==typeof e)for(let u=0;u<16;u++)i[u]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let u=0;u<16;u++)i[u]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let u=16;u<80;u++){const f=i[u-3]^i[u-8]^i[u-14]^i[u-16];i[u]=4294967295&(f<<1|f>>>31)}let l,d,r=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],c=this.chain_[4];for(let u=0;u<80;u++){u<40?u<20?(l=a^o&(s^a),d=1518500249):(l=o^s^a,d=1859775393):u<60?(l=o&s|a&(o|s),d=2400959708):(l=o^s^a,d=3395469782);const f=(r<<5|r>>>27)+l+c+d+i[u]&4294967295;c=a,a=s,s=4294967295&(o<<30|o>>>2),o=r,r=f}this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const i=t-this.blockSize;let r=0;const o=this.buf_;let s=this.inbuf_;for(;r<t;){if(0===s)for(;r<=i;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(o[s]=e.charCodeAt(r),++s,++r,s===this.blockSize){this.compress_(o),s=0;break}}else for(;r<t;)if(o[s]=e[r],++s,++r,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&t,t/=256;this.compress_(this.buf_);let i=0;for(let r=0;r<5;r++)for(let o=24;o>=0;o-=8)e[i]=this.chain_[r]>>o&255,++i;return e}}class Qbe{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(void 0===e&&void 0===t&&void 0===i)throw new Error("Missing Observer.");r=function Xbe(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:i},void 0===r.next&&(r.next=BM),void 0===r.error&&(r.error=BM),void 0===r.complete&&(r.complete=BM);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function BM(){}const Zy=function(n){let e=0;for(let t=0;t<n.length;t++){const i=n.charCodeAt(t);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,t++):e+=3}return e},Jbe=1e3,e0e=2,t0e=144e5,n0e=.5;function zM(n,e=Jbe,t=e0e){const i=e*Math.pow(t,n),r=Math.round(n0e*i*(Math.random()-.5)*2);return Math.min(t0e,i+r)}function Nt(n){return n&&n._delegate?n._delegate:n}class wi{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const kl="[DEFAULT]";class r0e{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new ch;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e?.identifier),r=null!==(t=e?.optional)&&void 0!==t&&t;if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function s0e(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:kl})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(e=kl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return _(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=kl){return this.instances.has(e)}getOptions(e=kl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[o,s]of this.instancesDeferred.entries())i===this.normalizeInstanceIdentifier(o)&&s.resolve(r);return r}onInit(e,t){var i;const r=this.normalizeInstanceIdentifier(t),o=null!==(i=this.onInitCallbacks.get(r))&&void 0!==i?i:new Set;o.add(e),this.onInitCallbacks.set(r,o);const s=this.instances.get(r);return s&&e(s,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const r of i)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===kl?void 0:n),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}var n;return i||null}normalizeInstanceIdentifier(e=kl){return this.component?this.component.multipleInstances?e:kl:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class a0e{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new r0e(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const UM=[];var vt=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(vt||{});const w7={debug:vt.DEBUG,verbose:vt.VERBOSE,info:vt.INFO,warn:vt.WARN,error:vt.ERROR,silent:vt.SILENT},c0e=vt.INFO,l0e={[vt.DEBUG]:"log",[vt.VERBOSE]:"log",[vt.INFO]:"info",[vt.WARN]:"warn",[vt.ERROR]:"error"},d0e=(n,e,...t)=>{if(e<n.logLevel)return;const i=(new Date).toISOString(),r=l0e[e];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[r](`[${i}]  ${n.name}:`,...t)};class Al{constructor(e){this.name=e,this._logLevel=c0e,this._logHandler=d0e,this._userLogHandler=null,UM.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in vt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?w7[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,vt.DEBUG,...e),this._logHandler(this,vt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,vt.VERBOSE,...e),this._logHandler(this,vt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,vt.INFO,...e),this._logHandler(this,vt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,vt.WARN,...e),this._logHandler(this,vt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,vt.ERROR,...e),this._logHandler(this,vt.ERROR,...e)}}const u0e=(n,e)=>e.some(t=>n instanceof t);let C7,E7;const T7=new WeakMap,jM=new WeakMap,I7=new WeakMap,HM=new WeakMap,$M=new WeakMap;let GM={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return jM.get(n);if("objectStoreNames"===e)return n.objectStoreNames||I7.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return pc(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function b0e(n){return"function"==typeof n?function _0e(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function f0e(){return E7||(E7=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(qM(this),e),pc(T7.get(this))}:function(...e){return pc(n.apply(qM(this),e))}:function(e,...t){const i=n.call(qM(this),e,...t);return I7.set(i,e.sort?e.sort():[e]),pc(i)}}(n):(n instanceof IDBTransaction&&function m0e(n){if(jM.has(n))return;const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),r()},s=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});jM.set(n,e)}(n),u0e(n,function h0e(){return C7||(C7=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,GM):n)}function pc(n){if(n instanceof IDBRequest)return function p0e(n){const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(pc(n.result)),r()},s=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&T7.set(t,n)}).catch(()=>{}),$M.set(e,n),e}(n);if(HM.has(n))return HM.get(n);const e=b0e(n);return e!==n&&(HM.set(n,e),$M.set(e,n)),e}const qM=n=>$M.get(n),v0e=["get","getKey","getAll","getAllKeys","count"],x0e=["put","add","delete","clear"],WM=new Map;function M7(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(WM.get(e))return WM.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,r=x0e.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!v0e.includes(t))return;const o=function(){var s=_(function*(a,...c){const l=this.transaction(a,r?"readwrite":"readonly");let d=l.store;return i&&(d=d.index(c.shift())),(yield Promise.all([d[t](...c),r&&l.done]))[0]});return function(c){return s.apply(this,arguments)}}();return WM.set(e,o),o}!function g0e(n){GM=n(GM)}(n=>({...n,get:(e,t,i)=>M7(e,t)||n.get(e,t,i),has:(e,t)=>!!M7(e,t)||n.has(e,t)}));class w0e{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function C0e(n){const e=n.getComponent();return"VERSION"===e?.type}(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}return null}).filter(t=>t).join(" ")}}const KM="@firebase/app",Ol=new Al("@firebase/app"),Jy="[DEFAULT]",Y0e={[KM]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Pl=new Map,ev=new Map;function Q0e(n,e){try{n.container.addComponent(e)}catch(t){Ol.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Si(n){const e=n.name;if(ev.has(e))return Ol.debug(`There were multiple attempts to register component ${e}.`),!1;ev.set(e,n);for(const t of Pl.values())Q0e(t,n);return!0}function fa(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}const pa=new Ds("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Z0e{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new wi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw pa.create("app-deleted",{appName:this._name})}}const ma="9.23.0";function S7(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const i=Object.assign({name:Jy,automaticDataCollectionEnabled:!1},e),r=i.name;if("string"!=typeof r||!r)throw pa.create("bad-app-name",{appName:String(r)});if(t||(t=_7()),!t)throw pa.create("no-options");const o=Pl.get(r);if(o){if(Xy(t,o.options)&&Xy(i,o.config))return o;throw pa.create("duplicate-app",{appName:r})}const s=new a0e(r);for(const c of ev.values())s.addComponent(c);const a=new Z0e(t,i,s);return Pl.set(r,a),a}function uh(n=Jy){const e=Pl.get(n);if(!e&&n===Jy&&_7())return S7();if(!e)throw pa.create("no-app",{appName:n});return e}function k7(){return Array.from(Pl.values())}function Bt(n,e,t){var i;let r=null!==(i=Y0e[n])&&void 0!==i?i:n;t&&(r+=`-${t}`);const o=r.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${r}" with version "${e}":`];return o&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Ol.warn(a.join(" "))}Si(new wi(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const J0e="firebase-heartbeat-database",eye=1,xm="firebase-heartbeat-store";let QM=null;function A7(){return QM||(QM=function y0e(n,e,{blocked:t,upgrade:i,blocking:r,terminated:o}={}){const s=indexedDB.open(n,e),a=pc(s);return i&&s.addEventListener("upgradeneeded",c=>{i(pc(s.result),c.oldVersion,c.newVersion,pc(s.transaction),c)}),t&&s.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),r&&c.addEventListener("versionchange",l=>r(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}(J0e,eye,{upgrade:(n,e)=>{0===e&&n.createObjectStore(xm)}}).catch(n=>{throw pa.create("idb-open",{originalErrorMessage:n.message})})),QM}function XM(){return(XM=_(function*(n){try{return yield(yield A7()).transaction(xm).objectStore(xm).get(P7(n))}catch(e){if(e instanceof jr)Ol.warn(e.message);else{const t=pa.create("idb-get",{originalErrorMessage:e?.message});Ol.warn(t.message)}}})).apply(this,arguments)}function O7(n,e){return ZM.apply(this,arguments)}function ZM(){return(ZM=_(function*(n,e){try{const i=(yield A7()).transaction(xm,"readwrite");yield i.objectStore(xm).put(e,P7(n)),yield i.done}catch(t){if(t instanceof jr)Ol.warn(t.message);else{const i=pa.create("idb-set",{originalErrorMessage:t?.message});Ol.warn(i.message)}}})).apply(this,arguments)}function P7(n){return`${n.name}!${n.options.appId}`}class rye{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new sye(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){var e=this;return _(function*(){const i=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=R7();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==r&&!e._heartbeatsCache.heartbeats.some(o=>o.date===r))return e._heartbeatsCache.heartbeats.push({date:r,agent:i}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(o=>{const s=new Date(o.date).valueOf();return Date.now()-s<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return _(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const t=R7(),{heartbeatsToSend:i,unsentEntries:r}=function oye(n,e=1024){const t=[];let i=n.slice();for(const r of n){const o=t.find(s=>s.agent===r.agent);if(o){if(o.dates.push(r.date),N7(t)>e){o.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),N7(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}(e._heartbeatsCache.heartbeats),o=Gy(JSON.stringify({version:2,heartbeats:i}));return e._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(e._heartbeatsCache.heartbeats=r,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),o})()}}function R7(){return(new Date).toISOString().substring(0,10)}class sye{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(function*(){return!!fc()&&gm().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return _(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function tye(n){return XM.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var t=this;return _(function*(){var i;if(yield t._canUseIndexedDBPromise){const o=yield t.read();return O7(t.app,{lastSentHeartbeatDate:null!==(i=e.lastSentHeartbeatDate)&&void 0!==i?i:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return _(function*(){var i;if(yield t._canUseIndexedDBPromise){const o=yield t.read();return O7(t.app,{lastSentHeartbeatDate:null!==(i=e.lastSentHeartbeatDate)&&void 0!==i?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}})()}}function N7(n){return Gy(JSON.stringify({version:2,heartbeats:n})).length}!function aye(n){Si(new wi("platform-logger",e=>new w0e(e),"PRIVATE")),Si(new wi("heartbeat",e=>new rye(e),"PRIVATE")),Bt(KM,"0.9.13",n),Bt(KM,"0.9.13","esm2017"),Bt("fire-js","")}(""),Bt("firebase","9.23.0","app");const dye=(n,e)=>e.some(t=>n instanceof t);let F7,L7;const V7=new WeakMap,JM=new WeakMap,B7=new WeakMap,eD=new WeakMap,tD=new WeakMap;let nD={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return JM.get(n);if("objectStoreNames"===e)return n.objectStoreNames||B7.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return mc(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function _ye(n){return"function"==typeof n?function gye(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function hye(){return L7||(L7=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(iD(this),e),mc(V7.get(this))}:function(...e){return mc(n.apply(iD(this),e))}:function(e,...t){const i=n.call(iD(this),e,...t);return B7.set(i,e.sort?e.sort():[e]),mc(i)}}(n):(n instanceof IDBTransaction&&function pye(n){if(JM.has(n))return;const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),r()},s=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});JM.set(n,e)}(n),dye(n,function uye(){return F7||(F7=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,nD):n)}function mc(n){if(n instanceof IDBRequest)return function fye(n){const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(mc(n.result)),r()},s=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&V7.set(t,n)}).catch(()=>{}),tD.set(e,n),e}(n);if(eD.has(n))return eD.get(n);const e=_ye(n);return e!==n&&(eD.set(n,e),tD.set(e,n)),e}const iD=n=>tD.get(n),yye=["get","getKey","getAll","getAllKeys","count"],vye=["put","add","delete","clear"],rD=new Map;function z7(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(rD.get(e))return rD.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,r=vye.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!yye.includes(t))return;const o=function(){var s=_(function*(a,...c){const l=this.transaction(a,r?"readwrite":"readonly");let d=l.store;return i&&(d=d.index(c.shift())),(yield Promise.all([d[t](...c),r&&l.done]))[0]});return function(c){return s.apply(this,arguments)}}();return rD.set(e,o),o}!function mye(n){nD=n(nD)}(n=>({...n,get:(e,t,i)=>z7(e,t)||n.get(e,t,i),has:(e,t)=>!!z7(e,t)||n.has(e,t)}));const U7="@firebase/installations",oD="0.6.4",j7=1e4,H7=`w:${oD}`,$7="FIS_v2",xye="https://firebaseinstallations.googleapis.com/v1",wye=36e5,ga=new Ds("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function G7(n){return n instanceof jr&&n.code.includes("request-failed")}function sD({projectId:n}){return`${xye}/projects/${n}/installations`}function q7(n){return{token:n.token,requestStatus:2,expiresIn:Iye(n.expiresIn),creationTime:Date.now()}}function aD(n,e){return cD.apply(this,arguments)}function cD(){return(cD=_(function*(n,e){const i=(yield e.json()).error;return ga.create("request-failed",{requestName:n,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})})).apply(this,arguments)}function W7({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function lD(n){return dD.apply(this,arguments)}function dD(){return(dD=_(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function Iye(n){return Number(n.replace("s","000"))}function uD(){return(uD=_(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const i=sD(n),r=W7(n),o=e.getImmediate({optional:!0});if(o){const l=yield o.getHeartbeatsHeader();l&&r.append("x-firebase-client",l)}const a={method:"POST",headers:r,body:JSON.stringify({fid:t,authVersion:$7,appId:n.appId,sdkVersion:H7})},c=yield lD(()=>fetch(i,a));if(c.ok){const l=yield c.json();return{fid:l.fid||t,registrationStatus:2,refreshToken:l.refreshToken,authToken:q7(l.authToken)}}throw yield aD("Create Installation",c)})).apply(this,arguments)}function Y7(n){return new Promise(e=>{setTimeout(e,n)})}const kye=/^[cdef][\w-]{21}$/,hD="";function Aye(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function Oye(n){return function Sye(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return kye.test(t)?t:hD}catch{return hD}}function hh(n){return`${n.appName}!${n.appId}`}const fh=new Map;function Q7(n,e){const t=hh(n);X7(t,e),function Nye(n,e){const t=function Z7(){return!Rl&&"BroadcastChannel"in self&&(Rl=new BroadcastChannel("[Firebase] FID Change"),Rl.onmessage=n=>{X7(n.data.key,n.data.fid)}),Rl}();t&&t.postMessage({key:n,fid:e}),function J7(){0===fh.size&&Rl&&(Rl.close(),Rl=null)}()}(t,e)}function X7(n,e){const t=fh.get(n);if(t)for(const i of t)i(e)}let Rl=null;const Fye="firebase-installations-database",Lye=1,Nl="firebase-installations-store";let fD=null;function pD(){return fD||(fD=function bye(n,e,{blocked:t,upgrade:i,blocking:r,terminated:o}={}){const s=indexedDB.open(n,e),a=mc(s);return i&&s.addEventListener("upgradeneeded",c=>{i(mc(s.result),c.oldVersion,c.newVersion,mc(s.transaction))}),t&&s.addEventListener("blocked",()=>t()),a.then(c=>{o&&c.addEventListener("close",()=>o()),r&&c.addEventListener("versionchange",()=>r())}).catch(()=>{}),a}(Fye,Lye,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Nl)}})),fD}function tv(n,e){return mD.apply(this,arguments)}function mD(){return(mD=_(function*(n,e){const t=hh(n),r=(yield pD()).transaction(Nl,"readwrite"),o=r.objectStore(Nl),s=yield o.get(t);return yield o.put(e,t),yield r.done,(!s||s.fid!==e.fid)&&Q7(n,e.fid),e})).apply(this,arguments)}function gD(n){return _D.apply(this,arguments)}function _D(){return(_D=_(function*(n){const e=hh(n),i=(yield pD()).transaction(Nl,"readwrite");yield i.objectStore(Nl).delete(e),yield i.done})).apply(this,arguments)}function wm(n,e){return bD.apply(this,arguments)}function bD(){return(bD=_(function*(n,e){const t=hh(n),r=(yield pD()).transaction(Nl,"readwrite"),o=r.objectStore(Nl),s=yield o.get(t),a=e(s);return void 0===a?yield o.delete(t):yield o.put(a,t),yield r.done,a&&(!s||s.fid!==a.fid)&&Q7(n,a.fid),a})).apply(this,arguments)}function yD(n){return vD.apply(this,arguments)}function vD(){return vD=_(function*(n){let e;const t=yield wm(n.appConfig,i=>{const r=function Vye(n){return t8(n||{fid:Aye(),registrationStatus:0})}(i),o=function Bye(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(ga.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=function zye(n,e){return xD.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:i}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Uye(n)}:{installationEntry:e}}(n,r);return e=o.registrationPromise,o.installationEntry});return t.fid===hD?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}}),vD.apply(this,arguments)}function xD(){return xD=_(function*(n,e){try{const t=yield function Dye(n,e){return uD.apply(this,arguments)}(n,e);return tv(n.appConfig,t)}catch(t){throw G7(t)&&409===t.customData.serverCode?yield gD(n.appConfig):yield tv(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}),xD.apply(this,arguments)}function Uye(n){return wD.apply(this,arguments)}function wD(){return(wD=_(function*(n){let e=yield e8(n.appConfig);for(;1===e.registrationStatus;)yield Y7(100),e=yield e8(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:i}=yield yD(n);return i||t}return e})).apply(this,arguments)}function e8(n){return wm(n,e=>{if(!e)throw ga.create("installation-not-found");return t8(e)})}function t8(n){return function jye(n){return 1===n.registrationStatus&&n.registrationTime+j7<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function CD(){return(CD=_(function*({appConfig:n,heartbeatServiceProvider:e},t){const i=function $ye(n,{fid:e}){return`${sD(n)}/${e}/authTokens:generate`}(n,t),r=function K7(n,{refreshToken:e}){const t=W7(n);return t.append("Authorization",function Mye(n){return`${$7} ${n}`}(e)),t}(n,t),o=e.getImmediate({optional:!0});if(o){const l=yield o.getHeartbeatsHeader();l&&r.append("x-firebase-client",l)}const a={method:"POST",headers:r,body:JSON.stringify({installation:{sdkVersion:H7,appId:n.appId}})},c=yield lD(()=>fetch(i,a));if(c.ok)return q7(yield c.json());throw yield aD("Generate Auth Token",c)})).apply(this,arguments)}function ED(n){return TD.apply(this,arguments)}function TD(){return TD=_(function*(n,e=!1){let t;const i=yield wm(n.appConfig,o=>{if(!i8(o))throw ga.create("not-registered");const s=o.authToken;if(!e&&function Wye(n){return 2===n.requestStatus&&!function Kye(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+wye}(n)}(s))return o;if(1===s.requestStatus)return t=function Gye(n,e){return ID.apply(this,arguments)}(n,e),o;{if(!navigator.onLine)throw ga.create("app-offline");const a=function Yye(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}(o);return t=function qye(n,e){return MD.apply(this,arguments)}(n,a),a}});return t?yield t:i.authToken}),TD.apply(this,arguments)}function ID(){return(ID=_(function*(n,e){let t=yield n8(n.appConfig);for(;1===t.authToken.requestStatus;)yield Y7(100),t=yield n8(n.appConfig);const i=t.authToken;return 0===i.requestStatus?ED(n,e):i})).apply(this,arguments)}function n8(n){return wm(n,e=>{if(!i8(e))throw ga.create("not-registered");return function Qye(n){return 1===n.requestStatus&&n.requestTime+j7<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function MD(){return MD=_(function*(n,e){try{const t=yield function Hye(n,e){return CD.apply(this,arguments)}(n,e),i=Object.assign(Object.assign({},e),{authToken:t});return yield tv(n.appConfig,i),t}catch(t){if(!G7(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield tv(n.appConfig,i)}else yield gD(n.appConfig);throw t}}),MD.apply(this,arguments)}function i8(n){return void 0!==n&&2===n.registrationStatus}function DD(){return(DD=_(function*(n){const e=n,{installationEntry:t,registrationPromise:i}=yield yD(e);return i?i.catch(console.error):ED(e).catch(console.error),t.fid})).apply(this,arguments)}function SD(){return SD=_(function*(n,e=!1){const t=n;return yield function Jye(n){return kD.apply(this,arguments)}(t),(yield ED(t,e)).token}),SD.apply(this,arguments)}function kD(){return(kD=_(function*(n){const{registrationPromise:e}=yield yD(n);e&&(yield e)})).apply(this,arguments)}function PD(n){return ga.create("missing-app-config-values",{valueName:n})}const r8="installations",rve=n=>{const e=n.getProvider("app").getImmediate(),t=function nve(n){if(!n||!n.options)throw PD("App Configuration");if(!n.name)throw PD("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw PD(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:fa(e,"heartbeat"),_delete:()=>Promise.resolve()}},ove=n=>{const t=fa(n.getProvider("app").getImmediate(),r8).getImmediate();return{getId:()=>function Xye(n){return DD.apply(this,arguments)}(t),getToken:r=>function Zye(n){return SD.apply(this,arguments)}(t,r)}};(function sve(){Si(new wi(r8,rve,"PUBLIC")),Si(new wi("installations-internal",ove,"PRIVATE"))})(),Bt(U7,oD),Bt(U7,oD,"esm2017");const RD="@firebase/remote-config",Hr=new Ds("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class _ve{constructor(e,t,i,r){this.client=e,this.storage=t,this.storageCache=i,this.logger=r}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const i=Date.now()-t,r=i<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${i}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${r}.`),r}fetch(e){var t=this;return _(function*(){const[i,r]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(r&&t.isCachedDataFresh(e.cacheMaxAgeMillis,i))return r;e.eTag=r&&r.eTag;const o=yield t.client.fetch(e),s=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===o.status&&s.push(t.storage.setLastSuccessfulFetchResponse(o)),yield Promise.all(s),o})()}}function bve(n=navigator){return n.languages&&n.languages[0]||n.language}class yve{constructor(e,t,i,r,o,s){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=i,this.projectId=r,this.apiKey=o,this.appId=s}fetch(e){var t=this;return _(function*(){const[i,r]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),s=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},c={sdk_version:t.sdkVersion,app_instance_id:i,app_instance_id_token:r,app_id:t.appId,language_code:bve()},l={method:"POST",headers:a,body:JSON.stringify(c)},d=fetch(s,l),u=new Promise((S,D)=>{e.signal.addEventListener(()=>{const L=new Error("The operation was aborted.");L.name="AbortError",D(L)})});let f;try{yield Promise.race([d,u]),f=yield d}catch(S){let D="fetch-client-network";throw"AbortError"===S?.name&&(D="fetch-timeout"),Hr.create(D,{originalErrorMessage:S?.message})}let m=f.status;const y=f.headers.get("ETag")||void 0;let C,T;if(200===f.status){let S;try{S=yield f.json()}catch(D){throw Hr.create("fetch-client-parse",{originalErrorMessage:D?.message})}C=S.entries,T=S.state}if("INSTANCE_STATE_UNSPECIFIED"===T?m=500:"NO_CHANGE"===T?m=304:("NO_TEMPLATE"===T||"EMPTY_CONFIG"===T)&&(C={}),304!==m&&200!==m)throw Hr.create("fetch-status",{httpStatus:m});return{status:m,eTag:y,config:C}})()}}class wve{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return _(function*(){const i=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,i)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:i}){var r=this;return _(function*(){yield function vve(n,e){return new Promise((t,i)=>{const r=Math.max(e-Date.now(),0),o=setTimeout(t,r);n.addEventListener(()=>{clearTimeout(o),i(Hr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const o=yield r.client.fetch(e);return yield r.storage.deleteThrottleMetadata(),o}catch(o){if(!function xve(n){if(!(n instanceof jr&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(o))throw o;const s={throttleEndTimeMillis:Date.now()+zM(i),backoffCount:i+1};return yield r.storage.setThrottleMetadata(s),r.attemptFetch(e,s)}})()}}class Tve{constructor(e,t,i,r,o){this.app=e,this._client=t,this._storageCache=i,this._storage=r,this._logger=o,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function iv(n,e){const t=n.target.error||void 0;return Hr.create(e,{originalErrorMessage:t&&t?.message})}const Fl="app_namespace_store";class Sve{constructor(e,t,i,r=function Dve(){return new Promise((n,e)=>{try{const t=indexedDB.open("firebase_remote_config",1);t.onerror=i=>{e(iv(i,"storage-open"))},t.onsuccess=i=>{n(i.target.result)},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Fl,{keyPath:"compositeKey"})}}catch(t){e(Hr.create("storage-open",{originalErrorMessage:t?.message}))}})}()){this.appId=e,this.appName=t,this.namespace=i,this.openDbPromise=r}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return _(function*(){const i=yield t.openDbPromise;return new Promise((r,o)=>{const a=i.transaction([Fl],"readonly").objectStore(Fl),c=t.createCompositeKey(e);try{const l=a.get(c);l.onerror=d=>{o(iv(d,"storage-get"))},l.onsuccess=d=>{const u=d.target.result;r(u?u.value:void 0)}}catch(l){o(Hr.create("storage-get",{originalErrorMessage:l?.message}))}})})()}set(e,t){var i=this;return _(function*(){const r=yield i.openDbPromise;return new Promise((o,s)=>{const c=r.transaction([Fl],"readwrite").objectStore(Fl),l=i.createCompositeKey(e);try{const d=c.put({compositeKey:l,value:t});d.onerror=u=>{s(iv(u,"storage-set"))},d.onsuccess=()=>{o()}}catch(d){s(Hr.create("storage-set",{originalErrorMessage:d?.message}))}})})()}delete(e){var t=this;return _(function*(){const i=yield t.openDbPromise;return new Promise((r,o)=>{const a=i.transaction([Fl],"readwrite").objectStore(Fl),c=t.createCompositeKey(e);try{const l=a.delete(c);l.onerror=d=>{o(iv(d,"storage-delete"))},l.onsuccess=()=>{r()}}catch(l){o(Hr.create("storage-delete",{originalErrorMessage:l?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class kve{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return _(function*(){const t=e.storage.getLastFetchStatus(),i=e.storage.getLastSuccessfulFetchTimestampMillis(),r=e.storage.getActiveConfig(),o=yield t;o&&(e.lastFetchStatus=o);const s=yield i;s&&(e.lastSuccessfulFetchTimestampMillis=s);const a=yield r;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function Ove(){return BD.apply(this,arguments)}function BD(){return(BD=_(function*(){if(!fc())return!1;try{return yield gm()}catch{return!1}})).apply(this,arguments)}!function Ave(){Si(new wi("remote-config",function n(e,{instanceIdentifier:t}){const i=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Hr.create("registration-window");if(!fc())throw Hr.create("indexed-db-unavailable");const{projectId:o,apiKey:s,appId:a}=i.options;if(!o)throw Hr.create("registration-project-id");if(!s)throw Hr.create("registration-api-key");if(!a)throw Hr.create("registration-app-id");const c=new Sve(a,i.name,t=t||"firebase"),l=new kve(c),d=new Al(RD);d.logLevel=vt.ERROR;const u=new yve(r,ma,t,o,s,a),f=new wve(u,c),m=new _ve(f,c,l,d),y=new Tve(i,m,l,c,d);return function pve(n){const e=Nt(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(y),y},"PUBLIC").setMultipleInstances(!0)),Bt(RD,"0.4.4"),Bt(RD,"0.4.4","esm2017")}();const Pve=(n,e)=>e.some(t=>n instanceof t);let c8,l8;const d8=new WeakMap,zD=new WeakMap,u8=new WeakMap,UD=new WeakMap,jD=new WeakMap;let HD={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return zD.get(n);if("objectStoreNames"===e)return n.objectStoreNames||u8.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return _a(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function zve(n){return"function"==typeof n?function Bve(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Nve(){return l8||(l8=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply($D(this),e),_a(d8.get(this))}:function(...e){return _a(n.apply($D(this),e))}:function(e,...t){const i=n.call($D(this),e,...t);return u8.set(i,e.sort?e.sort():[e]),_a(i)}}(n):(n instanceof IDBTransaction&&function Lve(n){if(zD.has(n))return;const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),r()},s=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});zD.set(n,e)}(n),Pve(n,function Rve(){return c8||(c8=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,HD):n)}function _a(n){if(n instanceof IDBRequest)return function Fve(n){const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(_a(n.result)),r()},s=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&d8.set(t,n)}).catch(()=>{}),jD.set(e,n),e}(n);if(UD.has(n))return UD.get(n);const e=zve(n);return e!==n&&(UD.set(n,e),jD.set(e,n)),e}const $D=n=>jD.get(n);function h8(n,e,{blocked:t,upgrade:i,blocking:r,terminated:o}={}){const s=indexedDB.open(n,e),a=_a(s);return i&&s.addEventListener("upgradeneeded",c=>{i(_a(s.result),c.oldVersion,c.newVersion,_a(s.transaction))}),t&&s.addEventListener("blocked",()=>t()),a.then(c=>{o&&c.addEventListener("close",()=>o()),r&&c.addEventListener("versionchange",()=>r())}).catch(()=>{}),a}function GD(n,{blocked:e}={}){const t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",()=>e()),_a(t).then(()=>{})}const Uve=["get","getKey","getAll","getAllKeys","count"],jve=["put","add","delete","clear"],qD=new Map;function f8(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(qD.get(e))return qD.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,r=jve.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!Uve.includes(t))return;const o=function(){var s=_(function*(a,...c){const l=this.transaction(a,r?"readwrite":"readonly");let d=l.store;return i&&(d=d.index(c.shift())),(yield Promise.all([d[t](...c),r&&l.done]))[0]});return function(c){return s.apply(this,arguments)}}();return qD.set(e,o),o}!function Vve(n){HD=n(HD)}(n=>({...n,get:(e,t,i)=>f8(e,t)||n.get(e,t,i),has:(e,t)=>!!f8(e,t)||n.has(e,t)}));const Hve="/firebase-messaging-sw.js",$ve="/firebase-cloud-messaging-push-scope",p8="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Gve="https://fcmregistrations.googleapis.com/v1",m8="google.c.a.c_id",qve="google.c.a.c_l",Wve="google.c.a.ts";var rv=function(n){return n.PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",n}(rv||{});function ba(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Qve(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),i=atob(t),r=new Uint8Array(i.length);for(let o=0;o<i.length;++o)r[o]=i.charCodeAt(o);return r}const WD="fcm_token_details_db",Xve=5,g8="fcm_token_object_Store";function KD(){return KD=_(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(o=>o.name).includes(WD))return null;let e=null;return(yield h8(WD,Xve,{upgrade:(i=_(function*(r,o,s,a){var c;if(o<2||!r.objectStoreNames.contains(g8))return;const l=a.objectStore(g8),d=yield l.index("fcmSenderId").get(n);if(yield l.clear(),d)if(2===o){const u=d;if(!u.auth||!u.p256dh||!u.endpoint)return;e={token:u.fcmToken,createTime:null!==(c=u.createTime)&&void 0!==c?c:Date.now(),subscriptionOptions:{auth:u.auth,p256dh:u.p256dh,endpoint:u.endpoint,swScope:u.swScope,vapidKey:"string"==typeof u.vapidKey?u.vapidKey:ba(u.vapidKey)}}}else if(3===o){const u=d;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:ba(u.auth),p256dh:ba(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:ba(u.vapidKey)}}}else if(4===o){const u=d;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:ba(u.auth),p256dh:ba(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:ba(u.vapidKey)}}}}),function(o,s,a,c){return i.apply(this,arguments)})})).close(),yield GD(WD),yield GD("fcm_vapid_details_db"),yield GD("undefined"),function Jve(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var i}),KD.apply(this,arguments)}const exe="firebase-messaging-database",txe=1,Ll="firebase-messaging-store";let YD=null;function QD(){return YD||(YD=h8(exe,txe,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Ll)}})),YD}function _8(n){return XD.apply(this,arguments)}function XD(){return XD=_(function*(n){const e=tS(n),i=yield(yield QD()).transaction(Ll).objectStore(Ll).get(e);if(i)return i;{const r=yield function Zve(n){return KD.apply(this,arguments)}(n.appConfig.senderId);if(r)return yield ZD(n,r),r}}),XD.apply(this,arguments)}function ZD(n,e){return JD.apply(this,arguments)}function JD(){return(JD=_(function*(n,e){const t=tS(n),r=(yield QD()).transaction(Ll,"readwrite");return yield r.objectStore(Ll).put(e,t),yield r.done,e})).apply(this,arguments)}function eS(){return(eS=_(function*(n){const e=tS(n),i=(yield QD()).transaction(Ll,"readwrite");yield i.objectStore(Ll).delete(e),yield i.done})).apply(this,arguments)}function tS({appConfig:n}){return n.appId}const Wi=new Ds("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function rxe(n,e){return nS.apply(this,arguments)}function nS(){return(nS=_(function*(n,e){const t=yield sS(n),i=y8(e),r={method:"POST",headers:t,body:JSON.stringify(i)};let o;try{o=yield(yield fetch(oS(n.appConfig),r)).json()}catch(s){throw Wi.create("token-subscribe-failed",{errorInfo:s?.toString()})}if(o.error)throw Wi.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw Wi.create("token-subscribe-no-token");return o.token})).apply(this,arguments)}function iS(){return(iS=_(function*(n,e){const t=yield sS(n),i=y8(e.subscriptionOptions),r={method:"PATCH",headers:t,body:JSON.stringify(i)};let o;try{o=yield(yield fetch(`${oS(n.appConfig)}/${e.token}`,r)).json()}catch(s){throw Wi.create("token-update-failed",{errorInfo:s?.toString()})}if(o.error)throw Wi.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw Wi.create("token-update-no-token");return o.token})).apply(this,arguments)}function b8(n,e){return rS.apply(this,arguments)}function rS(){return(rS=_(function*(n,e){const i={method:"DELETE",headers:yield sS(n)};try{const o=yield(yield fetch(`${oS(n.appConfig)}/${e}`,i)).json();if(o.error)throw Wi.create("token-unsubscribe-failed",{errorInfo:o.error.message})}catch(r){throw Wi.create("token-unsubscribe-failed",{errorInfo:r?.toString()})}})).apply(this,arguments)}function oS({projectId:n}){return`${Gve}/projects/${n}/registrations`}function sS(n){return aS.apply(this,arguments)}function aS(){return(aS=_(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})).apply(this,arguments)}function y8({p256dh:n,auth:e,endpoint:t,vapidKey:i}){const r={web:{endpoint:t,auth:e,p256dh:n}};return i!==p8&&(r.web.applicationPubKey=i),r}const sxe=6048e5;function cS(){return cS=_(function*(n){const e=yield function lxe(n,e){return hS.apply(this,arguments)}(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:ba(e.getKey("auth")),p256dh:ba(e.getKey("p256dh"))},i=yield _8(n.firebaseDependencies);if(i){if(function dxe(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}(i.subscriptionOptions,t))return Date.now()>=i.createTime+sxe?function cxe(n,e){return dS.apply(this,arguments)}(n,{token:i.token,createTime:Date.now(),subscriptionOptions:t}):i.token;try{yield b8(n.firebaseDependencies,i.token)}catch(r){console.warn(r)}return x8(n.firebaseDependencies,t)}return x8(n.firebaseDependencies,t)}),cS.apply(this,arguments)}function lS(){return lS=_(function*(n){const e=yield _8(n.firebaseDependencies);e&&(yield b8(n.firebaseDependencies,e.token),yield function nxe(n){return eS.apply(this,arguments)}(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()}),lS.apply(this,arguments)}function dS(){return dS=_(function*(n,e){try{const t=yield function oxe(n,e){return iS.apply(this,arguments)}(n.firebaseDependencies,e),i=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield ZD(n.firebaseDependencies,i),t}catch(t){throw yield function v8(n){return lS.apply(this,arguments)}(n),t}}),dS.apply(this,arguments)}function x8(n,e){return uS.apply(this,arguments)}function uS(){return(uS=_(function*(n,e){const i={token:yield rxe(n,e),createTime:Date.now(),subscriptionOptions:e};return yield ZD(n,i),i.token})).apply(this,arguments)}function hS(){return(hS=_(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Qve(e)})})).apply(this,arguments)}function w8(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function uxe(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const i=e.notification.body;i&&(n.notification.body=i);const r=e.notification.image;r&&(n.notification.image=r);const o=e.notification.icon;o&&(n.notification.icon=o)}(e,n),function hxe(n,e){e.data&&(n.data=e.data)}(e,n),function fxe(n,e){var t,i,r,o,s;if(!(e.fcmOptions||null!==(t=e.notification)&&void 0!==t&&t.click_action))return;n.fcmOptions={};const a=null!==(r=null===(i=e.fcmOptions)||void 0===i?void 0:i.link)&&void 0!==r?r:null===(o=e.notification)||void 0===o?void 0:o.click_action;a&&(n.fcmOptions.link=a);const c=null===(s=e.fcmOptions)||void 0===s?void 0:s.analytics_label;c&&(n.fcmOptions.analyticsLabel=c)}(e,n),e}function C8(n,e){const t=[];for(let i=0;i<n.length;i++)t.push(n.charAt(i)),i<e.length&&t.push(e.charAt(i));return t.join("")}function fS(n){return Wi.create("missing-app-config-values",{valueName:n})}C8("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),C8("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class gxe{constructor(e,t,i){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const r=function mxe(n){if(!n||!n.options)throw fS("App Configuration Object");if(!n.name)throw fS("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const i of e)if(!t[i])throw fS(i);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:r,installations:t,analyticsProvider:i}}_delete(){return Promise.resolve()}}function pS(){return(pS=_(function*(n){try{n.swRegistration=yield navigator.serviceWorker.register(Hve,{scope:$ve}),n.swRegistration.update().catch(()=>{})}catch(e){throw Wi.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function mS(){return(mS=_(function*(n,e){if(!e&&!n.swRegistration&&(yield function E8(n){return pS.apply(this,arguments)}(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Wi.create("invalid-sw-registration");n.swRegistration=e}})).apply(this,arguments)}function gS(){return(gS=_(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=p8)})).apply(this,arguments)}function _S(){return _S=_(function*(n,e){if(!navigator)throw Wi.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Wi.create("permission-blocked");return yield function bxe(n,e){return gS.apply(this,arguments)}(n,e?.vapidKey),yield function _xe(n,e){return mS.apply(this,arguments)}(n,e?.serviceWorkerRegistration),function axe(n){return cS.apply(this,arguments)}(n)}),_S.apply(this,arguments)}function bS(){return(bS=_(function*(n,e,t){const i=function vxe(n){switch(n){case rv.NOTIFICATION_CLICKED:return"notification_open";case rv.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(i,{message_id:t[m8],message_name:t[qve],message_time:t[Wve],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function yS(){return yS=_(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===rv.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(w8(t)):n.onMessageHandler.next(w8(t)));const i=t.data;(function pxe(n){return"object"==typeof n&&!!n&&m8 in n})(i)&&"1"===i["google.c.a.e"]&&(yield function yxe(n,e,t){return bS.apply(this,arguments)}(n,t.messageType,i))}),yS.apply(this,arguments)}const I8="@firebase/messaging",wxe=n=>{const e=new gxe(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function xxe(n,e){return yS.apply(this,arguments)}(e,t)),e},Cxe=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:i=>function T8(n,e){return _S.apply(this,arguments)}(e,i)}};function D8(){return vS.apply(this,arguments)}function vS(){return(vS=_(function*(){try{yield gm()}catch{return!1}return typeof window<"u"&&fc()&&LM()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Exe(){Si(new wi("messaging",wxe,"PUBLIC")),Si(new wi("messaging-internal",Cxe,"PRIVATE")),Bt(I8,"0.12.4"),Bt(I8,"0.12.4","esm2017")}();const ov="analytics",Mxe="firebase_id",Dxe="origin",Sxe=6e4,kxe="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",CS="https://www.googletagmanager.com/gtag/js",ki=new Al("@firebase/analytics"),Ir=new Ds("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Oxe(n){if(!n.startsWith(CS)){const e=Ir.create("invalid-gtag-resource",{gtagURL:n});return ki.warn(e.message),""}return n}function S8(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function ES(){return(ES=_(function*(n,e,t,i,r,o){const s=i[r];try{if(s)yield e[s];else{const c=(yield S8(t)).find(l=>l.measurementId===r);c&&(yield e[c.appId])}}catch(a){ki.error(a)}n("config",r,o)})).apply(this,arguments)}function TS(){return(TS=_(function*(n,e,t,i,r){try{let o=[];if(r&&r.send_to){let s=r.send_to;Array.isArray(s)||(s=[s]);const a=yield S8(t);for(const c of s){const l=a.find(u=>u.measurementId===c),d=l&&e[l.appId];if(!d){o=[];break}o.push(d)}}0===o.length&&(o=Object.values(e)),yield Promise.all(o),n("event",i,r||{})}catch(o){ki.error(o)}})).apply(this,arguments)}const Uxe=30,k8=new class Hxe{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function $xe(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function IS(){return(IS=_(function*(n){var e;const{appId:t,apiKey:i}=n,r={method:"GET",headers:$xe(i)},o=kxe.replace("{app-id}",t),s=yield fetch(o,r);if(200!==s.status&&304!==s.status){let a="";try{const c=yield s.json();null!==(e=c.error)&&void 0!==e&&e.message&&(a=c.error.message)}catch{}throw Ir.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a})}return s.json()})).apply(this,arguments)}function MS(){return(MS=_(function*(n,e=k8,t){const{appId:i,apiKey:r,measurementId:o}=n.options;if(!i)throw Ir.create("no-app-id");if(!r){if(o)return{measurementId:o,appId:i};throw Ir.create("no-api-key")}const s=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Yxe;return setTimeout(_(function*(){a.abort()}),void 0!==t?t:Sxe),A8({appId:i,apiKey:r,measurementId:o},s,a,e)})).apply(this,arguments)}function A8(n,e,t){return DS.apply(this,arguments)}function DS(){return DS=_(function*(n,{throttleEndTimeMillis:e,backoffCount:t},i,r=k8){var o;const{appId:s,measurementId:a}=n;try{yield function Wxe(n,e){return new Promise((t,i)=>{const r=Math.max(e-Date.now(),0),o=setTimeout(t,r);n.addEventListener(()=>{clearTimeout(o),i(Ir.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(i,e)}catch(c){if(a)return ki.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:s,measurementId:a};throw c}try{const c=yield function Gxe(n){return IS.apply(this,arguments)}(n);return r.deleteThrottleMetadata(s),c}catch(c){const l=c;if(!function Kxe(n){if(!(n instanceof jr&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(l)){if(r.deleteThrottleMetadata(s),a)return ki.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l?.message}]`),{appId:s,measurementId:a};throw c}const d=503===Number(null===(o=l?.customData)||void 0===o?void 0:o.httpStatus)?zM(t,r.intervalMillis,Uxe):zM(t,r.intervalMillis),u={throttleEndTimeMillis:Date.now()+d,backoffCount:t+1};return r.setThrottleMetadata(s,u),ki.debug(`Calling attemptFetch again in ${d} millis`),A8(n,u,i,r)}}),DS.apply(this,arguments)}class Yxe{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let SS,FS;function kS(){return(kS=_(function*(n,e,t,i,r){if(r&&r.global)n("event",t,i);else{const o=yield e;n("event",t,Object.assign(Object.assign({},i),{send_to:o}))}})).apply(this,arguments)}function LS(){return(LS=_(function*(){if(!fc())return ki.warn(Ir.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield gm()}catch(n){return ki.warn(Ir.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}return!0})).apply(this,arguments)}function VS(){return VS=_(function*(n,e,t,i,r,o,s){var a;const c=function qxe(n){return MS.apply(this,arguments)}(n);c.then(m=>{t[m.measurementId]=m.appId,n.options.measurementId&&m.measurementId!==n.options.measurementId&&ki.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${m.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(m=>ki.error(m)),e.push(c);const l=function nwe(){return LS.apply(this,arguments)}().then(m=>{if(m)return i.getId()}),[d,u]=yield Promise.all([c,l]);(function zxe(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(CS)&&t.src.includes(n))return t;return null})(o)||function Rxe(n,e){const t=function Pxe(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}("firebase-js-sdk-policy",{createScriptURL:Oxe}),i=document.createElement("script"),r=`${CS}?l=${n}&id=${e}`;i.src=t?t?.createScriptURL(r):r,i.async=!0,document.head.appendChild(i)}(o,d.measurementId),FS&&(r("consent","default",FS),function O8(n){FS=n}(void 0)),r("js",new Date);const f=null!==(a=s?.config)&&void 0!==a?a:{};return f[Dxe]="firebase",f.update=!0,null!=u&&(f[Mxe]=u),r("config",d.measurementId,f),SS&&(r("set",SS),function P8(n){SS=n}(void 0)),d.measurementId}),VS.apply(this,arguments)}class rwe{constructor(e){this.app=e}_delete(){return delete ks[this.app.options.appId],Promise.resolve()}}let ks={},R8=[];const N8={};let L8,As,sv="dataLayer",BS=!1;function swe(n,e,t){!function owe(){const n=[];if(FM()&&n.push("This is a browser extension environment."),LM()||n.push("Cookies are not available."),n.length>0){const e=n.map((i,r)=>`(${r+1}) ${i}`).join(" "),t=Ir.create("invalid-analytics-context",{errorInfo:e});ki.warn(t.message)}}();const i=n.options.appId;if(!i)throw Ir.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw Ir.create("no-api-key");ki.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ks[i])throw Ir.create("already-exists",{id:i});if(!BS){!function Nxe(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(sv);const{wrappedGtag:o,gtagCore:s}=function Bxe(n,e,t,i,r){let o=function(...s){window[i].push(arguments)};return window[r]&&"function"==typeof window[r]&&(o=window[r]),window[r]=function Vxe(n,e,t,i){function o(){return o=_(function*(s,...a){try{if("event"===s){const[c,l]=a;yield function Lxe(n,e,t,i,r){return TS.apply(this,arguments)}(n,e,t,c,l)}else if("config"===s){const[c,l]=a;yield function Fxe(n,e,t,i,r,o){return ES.apply(this,arguments)}(n,e,t,i,c,l)}else if("consent"===s){const[c]=a;n("consent","update",c)}else if("get"===s){const[c,l,d]=a;n("get",c,l,d)}else if("set"===s){const[c]=a;n("set",c)}else n(s,...a)}catch(c){ki.error(c)}}),o.apply(this,arguments)}return function r(s){return o.apply(this,arguments)}}(o,n,e,t),{gtagCore:o,wrappedGtag:window[r]}}(ks,R8,N8,sv,"gtag");As=o,L8=s,BS=!0}return ks[i]=function iwe(n,e,t,i,r,o,s){return VS.apply(this,arguments)}(n,R8,N8,e,L8,sv,t),new rwe(n)}function cwe(){return zS.apply(this,arguments)}function zS(){return(zS=_(function*(){if(FM()||!LM()||!fc())return!1;try{return yield gm()}catch{return!1}})).apply(this,arguments)}const V8="@firebase/analytics";!function dwe(){Si(new wi(ov,(e,{options:t})=>swe(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),Si(new wi("analytics-internal",function n(e){try{const t=e.getProvider(ov).getImmediate();return{logEvent:(i,r,o)=>function lwe(n,e,t,i){n=Nt(n),function Qxe(n,e,t,i,r){return kS.apply(this,arguments)}(As,ks[n.app.options.appId],e,t,i).catch(r=>ki.error(r))}(t,i,r,o)}}catch(t){throw Ir.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),Bt(V8,"0.10.0"),Bt(V8,"0.10.0","esm2017")}();class uwe extends pi{constructor(e,t){super()}schedule(e,t=0){return this}}const av={setInterval(n,e,...t){const{delegate:i}=av;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=av;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class cv extends uwe{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;const r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,t)),this.pending=!0,this.delay=t,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,i=0){return av.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return t;null!=t&&av.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r,i=!1;try{this.work(e)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,X_(i,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const z8={now:()=>(z8.delegate||Date).now(),delegate:void 0};class Cm{constructor(e,t=Cm.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}}Cm.now=z8.now;class lv extends Cm{constructor(e,t=Cm.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let i;this._active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}}const pwe=new class fwe extends lv{}(class hwe extends cv{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,i=0){return null!=i&&i>0||null==i&&this.delay>0?super.requestAsyncId(e,t,i):(e.flush(this),0)}}),Em=new lv(cv),mwe=Em,ph=new rc("7.6.1"),jS="__angularfire_symbol__analyticsIsSupportedValue",HS="__angularfire_symbol__analyticsIsSupported",$S="__angularfire_symbol__remoteConfigIsSupportedValue",GS="__angularfire_symbol__remoteConfigIsSupported",qS="__angularfire_symbol__messagingIsSupportedValue",WS="__angularfire_symbol__messagingIsSupported";function mh(n,e,t){if(e){if(1===e.length)return e[0];const o=e.filter(s=>s.app===t);if(1===o.length)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}globalThis[HS]||(globalThis[HS]=cwe().then(n=>globalThis[jS]=n).catch(()=>globalThis[jS]=!1)),globalThis[WS]||(globalThis[WS]=D8().then(n=>globalThis[qS]=n).catch(()=>globalThis[qS]=!1)),globalThis[GS]||(globalThis[GS]=Ove().then(n=>globalThis[$S]=n).catch(()=>globalThis[$S]=!1));const gh=(n,e)=>{const t=e?[e]:k7(),i=[];return t.forEach(r=>{r.container.getProvider(n).instances.forEach(s=>{i.includes(s)||i.push(s)})}),i};function _h(){}class U8{constructor(e,t=pwe){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,i){const r=this.zone;return this.delegate.schedule(function(s){r.runGuarded(()=>{e.apply(this,[s])})},t,i)}}class gwe{constructor(e){this.zone=e,this.task=null}call(e,t){const i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",_h,{},_h,_h)),t.pipe(Hn({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Tm=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new U8(Zone.current)),this.insideAngular=t.run(()=>new U8(Zone.current,Em)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(j(ke))},n.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Vl(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function Bl(n){return Vl().ngZone.run(()=>n())}function bwe(n){return Vl(),function ywe(n){return function(t){return(t=t.lift(new gwe(n.ngZone))).pipe(dy(n.outsideAngular),ly(n.insideAngular))}}(Vl())(n)}const vwe=(n,e)=>function(){const i=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Bl(()=>n.apply(void 0,i))},ni=(n,e)=>function(){let t;const i=arguments;for(let o=0;o<arguments.length;o++)"function"==typeof i[o]&&(e&&(t||(t=Bl(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",_h,{},_h,_h)))),i[o]=vwe(i[o],t));const r=function _we(n){return Vl().ngZone.runOutsideAngular(()=>n())}(()=>n.apply(this,i));if(!e){if(r instanceof rn){const o=Vl();return r.pipe(dy(o.outsideAngular),ly(o.insideAngular))}return Bl(()=>r)}return r instanceof rn?r.pipe(bwe):r instanceof Promise?Bl(()=>new Promise((o,s)=>r.then(a=>Bl(()=>o(a)),a=>Bl(()=>s(a))))):"function"==typeof r&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),r.apply(this,arguments)}:Bl(()=>r)};class ya{constructor(e){return e}}class Im{constructor(){return k7()}}const YS=new X("angularfire2._apps"),wwe={provide:ya,useFactory:function xwe(n){return n&&1===n.length?n[0]:new ya(uh())},deps:[[new Kt,YS]]},Cwe={provide:Im,deps:[[new Kt,YS]]};function Ewe(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new ya(i)}}let Twe=(()=>{class n{constructor(t){Bt("angularfire",ph.full,"core"),Bt("angularfire",ph.full,"app"),Bt("angular",Ide.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(j(go))},n.\u0275mod=ot({type:n}),n.\u0275inj=tt({providers:[wwe,Cwe]}),n})();function Iwe(n,...e){return{ngModule:Twe,providers:[{provide:YS,useFactory:Ewe(n),multi:!0,deps:[ke,Yt,Tm,...e]}]}}const Mwe=ni(S7,!0),QS=new Map,j8={activated:!1,tokenObservers:[]},Dwe={initialized:!1,enabled:!1};function $n(n){return QS.get(n)||Object.assign({},j8)}function dv(){return Dwe}const XS="https://content-firebaseappcheck.googleapis.com/v1",Owe="exchangeDebugToken",H8={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Rwe{constructor(e,t,i,r,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return _(function*(){t.stop();try{t.pending=new ch,yield function Nwe(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new ch,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Ki=new Ds("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function ZS(n){if(!$n(n).activated)throw Ki.create("use-before-activation",{appName:n.name})}function fv(n,e){return ek.apply(this,arguments)}function ek(){return(ek=_(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},r=t.getImmediate({optional:!0});if(r){const u=yield r.getHeartbeatsHeader();u&&(i["X-Firebase-Client"]=u)}const o={method:"POST",body:JSON.stringify(e),headers:i};let s,a;try{s=yield fetch(n,o)}catch(u){throw Ki.create("fetch-network-error",{originalErrorMessage:u?.message})}if(200!==s.status)throw Ki.create("fetch-status-error",{httpStatus:s.status});try{a=yield s.json()}catch(u){throw Ki.create("fetch-parse-error",{originalErrorMessage:u?.message})}const c=a.ttl.match(/^([\d.]+)(s)$/);if(!c||!c[2]||isNaN(Number(c[1])))throw Ki.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const l=1e3*Number(c[1]),d=Date.now();return{token:a.token,expireTimeMillis:d+l,issuedAtTimeMillis:d}})).apply(this,arguments)}function $8(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`${XS}/projects/${t}/apps/${i}:${Owe}?key=${r}`,body:{debug_token:e}}}const Bwe="firebase-app-check-database",zwe=1,Mm="firebase-app-check-store";let pv=null;function tk(){return(tk=_(function*(n,e){const i=(yield function q8(){return pv||(pv=new Promise((n,e)=>{try{const t=indexedDB.open(Bwe,zwe);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var r;e(Ki.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Mm,{keyPath:"compositeKey"})}}catch(t){e(Ki.create("storage-open",{originalErrorMessage:t?.message}))}}),pv)}()).transaction(Mm,"readwrite"),o=i.objectStore(Mm).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=c=>{s()},i.onerror=c=>{var l;a(Ki.create("storage-set",{originalErrorMessage:null===(l=c.target.error)||void 0===l?void 0:l.message}))}})})).apply(this,arguments)}const Dm=new Al("@firebase/app-check");function rk(n,e){return fc()?function jwe(n,e){return function W8(n,e){return tk.apply(this,arguments)}(function Y8(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Dm.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function sk(){return dv().enabled}function ak(){return ck.apply(this,arguments)}function ck(){return(ck=_(function*(){const n=dv();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Kwe={error:"UNKNOWN_ERROR"};function Ywe(n){return $y.encodeString(JSON.stringify(n),!1)}function mv(n){return lk.apply(this,arguments)}function lk(){return(lk=_(function*(n,e=!1){const t=n.app;ZS(t);const i=$n(t);let o,r=i.token;if(r&&!bh(r)&&(i.token=void 0,r=void 0),!r){const c=yield i.cachedTokenPromise;c&&(bh(c)?r=c:yield rk(t,void 0))}if(!e&&r&&bh(r))return{token:r.token};let a,s=!1;if(sk()){i.exchangeTokenPromise||(i.exchangeTokenPromise=fv($8(t,yield ak()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),s=!0);const c=yield i.exchangeTokenPromise;return yield rk(t,c),i.token=c,{token:c.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),s=!0),r=yield $n(t).exchangeTokenPromise}catch(c){"appCheck/throttled"===c.code?Dm.warn(c.message):Dm.error(c),o=c}return r?o?a=bh(r)?{token:r.token,internalError:o}:J8(o):(a={token:r.token},i.token=r,yield rk(t,r)):a=J8(o),s&&function Z8(n,e){const t=$n(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}(t,a),a})).apply(this,arguments)}function Q8(n){return dk.apply(this,arguments)}function dk(){return(dk=_(function*(n){const e=n.app;ZS(e);const{provider:t}=$n(e);if(sk()){const i=yield ak(),{token:r}=yield fv($8(e,i),n.heartbeatServiceProvider);return{token:r}}{const{token:i}=yield t.getToken();return{token:i}}})).apply(this,arguments)}function hk(n,e){const t=$n(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function X8(n){const{app:e}=n,t=$n(e);let i=t.tokenRefresher;i||(i=function Qwe(n){const{app:e}=n;return new Rwe(_(function*(){let i;if(i=$n(e).token?yield mv(n,!0):yield mv(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const t=$n(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},H8.RETRIAL_MIN_WAIT,H8.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function bh(n){return n.expireTimeMillis-Date.now()>0}function J8(n){return{token:Ywe(Kwe),error:n}}class Xwe{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=$n(this.app);for(const t of e)hk(this.app,t.next);return Promise.resolve()}}const aH="app-check-internal";!function uCe(){Si(new wi("app-check",n=>function Zwe(n,e){return new Xwe(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(aH).initialize()})),Si(new wi(aH,n=>function Jwe(n){return{getToken:e=>mv(n,e),getLimitedUseToken:()=>Q8(n),addTokenListener:e=>function uk(n,e,t,i){const{app:r}=n,o=$n(r);if(o.tokenObservers=[...o.tokenObservers,{next:t,error:i,type:e}],o.token&&bh(o.token)){const a=o.token;Promise.resolve().then(()=>{t({token:a.token}),X8(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>X8(n))}(n,"INTERNAL",e),removeTokenListener:e=>hk(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),Bt("@firebase/app-check","0.8.0")}();class Sm{constructor(){return gh("app-check")}}typeof window<"u"&&window;const gCe=function lH(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},dH=new Ds("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),_v=new Al("@firebase/auth");function bv(n,...e){_v.logLevel<=vt.ERROR&&_v.error(`Auth (${ma}): ${n}`,...e)}function $r(n,...e){throw _k(n,...e)}function Os(n,...e){return _k(n,...e)}function _k(n,...e){if("string"!=typeof n){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return dH.create(n,...e)}function se(n,e,...t){if(!n)throw _k(e,...t)}function Ps(n){const e="INTERNAL ASSERTION FAILED: "+n;throw bv(e),new Error(e)}function gc(n,e){n||Ps(e)}function km(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function hH(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class Am{constructor(e,t){this.shortDelay=e,this.longDelay=t,gc(t>e,"Short delay should be less than long delay!"),this.isMobile=NM()||v7()}get(){return function bCe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function bk(){return"http:"===hH()||"https:"===hH()}()||FM()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function yk(n,e){gc(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class fH{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Ps("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Ps("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Ps("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const vCe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},xCe=new Am(3e4,6e4);function Rn(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Gn(n,e,t,i){return vk.apply(this,arguments)}function vk(){return(vk=_(function*(n,e,t,i,r={}){return pH(n,r,_(function*(){let o={},s={};i&&("GET"===e?s=i:o={body:JSON.stringify(i)});const a=dh(Object.assign({key:n.config.apiKey},s)).slice(1),c=yield n._getAdditionalHeaders();return c["Content-Type"]="application/json",n.languageCode&&(c["X-Firebase-Locale"]=n.languageCode),fH.fetch()(mH(n,n.config.apiHost,t,a),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},o))}))})).apply(this,arguments)}function pH(n,e,t){return xk.apply(this,arguments)}function xk(){return(xk=_(function*(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},vCe),e);try{const r=new wCe(n),o=yield Promise.race([t(),r.promise]);r.clearNetworkTimeout();const s=yield o.json();if("needConfirmation"in s)throw Om(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[c,l]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===c)throw Om(n,"credential-already-in-use",s);if("EMAIL_EXISTS"===c)throw Om(n,"email-already-in-use",s);if("USER_DISABLED"===c)throw Om(n,"user-disabled",s);const d=i[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw function uH(n,e,t){const i=Object.assign(Object.assign({},gCe()),{[e]:t});return new Ds("auth","Firebase",i).create(e,{appName:n.name})}(n,d,l);$r(n,d)}}catch(r){if(r instanceof jr)throw r;$r(n,"network-request-failed",{message:String(r)})}})).apply(this,arguments)}function va(n,e,t,i){return wk.apply(this,arguments)}function wk(){return(wk=_(function*(n,e,t,i,r={}){const o=yield Gn(n,e,t,i,r);return"mfaPendingCredential"in o&&$r(n,"multi-factor-auth-required",{_serverResponse:o}),o})).apply(this,arguments)}function mH(n,e,t,i){const r=`${e}${t}?${i}`;return n.config.emulator?yk(n.config,r):`${n.config.apiScheme}://${r}`}class wCe{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Os(this.auth,"network-request-failed")),xCe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Om(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const r=Os(n,e,i);return r.customData._tokenResponse=t,r}function Ck(){return(Ck=_(function*(n,e){return Gn(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function Tk(){return(Tk=_(function*(n,e){return Gn(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Pm(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Ik(){return(Ik=_(function*(n,e=!1){const t=Nt(n),i=yield t.getIdToken(e),r=yv(i);se(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");const o="object"==typeof r.firebase?r.firebase:void 0,s=o?.sign_in_provider;return{claims:r,token:i,authTime:Pm(Mk(r.auth_time)),issuedAtTime:Pm(Mk(r.iat)),expirationTime:Pm(Mk(r.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})).apply(this,arguments)}function Mk(n){return 1e3*Number(n)}function yv(n){const[e,t,i]=n.split(".");if(void 0===e||void 0===t||void 0===i)return bv("JWT malformed, contained fewer than 3 sections"),null;try{const r=qy(t);return r?JSON.parse(r):(bv("Failed to decode base64 JWT payload"),null)}catch(r){return bv("Caught error parsing JWT payload as JSON",r?.toString()),null}}function xa(n,e){return Dk.apply(this,arguments)}function Dk(){return(Dk=_(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(i){throw i instanceof jr&&function DCe({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(i)&&n.auth.currentUser===n&&(yield n.auth.signOut()),i}})).apply(this,arguments)}class SCe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),i}{this.errorBackoff=3e4;const r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(_(function*(){yield t.iteration()}),i)}iteration(){var e=this;return _(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class gH{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pm(this.lastLoginAt),this.creationTime=Pm(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Rm(n){return Sk.apply(this,arguments)}function Sk(){return Sk=_(function*(n){var e;const t=n.auth,i=yield n.getIdToken(),r=yield xa(n,function TCe(n,e){return Tk.apply(this,arguments)}(t,{idToken:i}));se(r?.users.length,t,"internal-error");const o=r.users[0];n._notifyReloadListener(o);const s=null!==(e=o.providerUserInfo)&&void 0!==e&&e.length?function OCe(n){return n.map(e=>{var{providerId:t}=e,i=cy(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}(o.providerUserInfo):[],a=function ACe(n,e){return[...n.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}(n.providerData,s),d=!!n.isAnonymous&&!(n.email&&o.passwordHash||a?.length),u={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new gH(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(n,u)}),Sk.apply(this,arguments)}function kk(){return(kk=_(function*(n){const e=Nt(n);yield Rm(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function Ak(){return(Ak=_(function*(n,e){const t=yield pH(n,{},_(function*(){const i=dh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:o}=n.config,s=mH(n,r,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",fH.fetch()(s,{method:"POST",headers:a,body:i})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class Nm{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){se(e.idToken,"internal-error"),se(typeof e.idToken<"u","internal-error"),se(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function MCe(n){const e=yv(n);return se(e,"internal-error"),se(typeof e.exp<"u","internal-error"),se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var i=this;return _(function*(){return se(!i.accessToken||i.refreshToken,e,"user-token-expired"),t||!i.accessToken||i.isExpired?i.refreshToken?(yield i.refresh(e,i.refreshToken),i.accessToken):null:i.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var i=this;return _(function*(){const{accessToken:r,refreshToken:o,expiresIn:s}=yield function PCe(n,e){return Ak.apply(this,arguments)}(e,t);i.updateTokensAndExpiration(r,o,Number(s))})()}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*i}static fromJSON(e,t){const{refreshToken:i,accessToken:r,expirationTime:o}=t,s=new Nm;return i&&(se("string"==typeof i,"internal-error",{appName:e}),s.refreshToken=i),r&&(se("string"==typeof r,"internal-error",{appName:e}),s.accessToken=r),o&&(se("number"==typeof o,"internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Nm,this.toJSON())}_performRefresh(){return Ps("not implemented")}}function _c(n,e){se("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class zl{constructor(e){var{uid:t,auth:i,stsTokenManager:r}=e,o=cy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new SCe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new gH(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){var t=this;return _(function*(){const i=yield xa(t,t.stsTokenManager.getToken(t.auth,e));return se(i,t.auth,"internal-error"),t.accessToken!==i&&(t.accessToken=i,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),i})()}getIdTokenResult(e){return function ICe(n){return Ik.apply(this,arguments)}(this,e)}reload(){return function kCe(n){return kk.apply(this,arguments)}(this)}_assign(e){this!==e&&(se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new zl(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var i=this;return _(function*(){let r=!1;e.idToken&&e.idToken!==i.stsTokenManager.accessToken&&(i.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield Rm(i)),yield i.auth._persistUserIfCurrent(i),r&&i.auth._notifyListenersIfCurrent(i)})()}delete(){var e=this;return _(function*(){const t=yield e.getIdToken();return yield xa(e,function CCe(n,e){return Ck.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,r,o,s,a,c,l,d;const u=null!==(i=t.displayName)&&void 0!==i?i:void 0,f=null!==(r=t.email)&&void 0!==r?r:void 0,m=null!==(o=t.phoneNumber)&&void 0!==o?o:void 0,y=null!==(s=t.photoURL)&&void 0!==s?s:void 0,C=null!==(a=t.tenantId)&&void 0!==a?a:void 0,T=null!==(c=t._redirectEventId)&&void 0!==c?c:void 0,S=null!==(l=t.createdAt)&&void 0!==l?l:void 0,D=null!==(d=t.lastLoginAt)&&void 0!==d?d:void 0,{uid:L,emailVerified:Y,isAnonymous:re,providerData:ue,stsTokenManager:Fe}=t;se(L&&Fe,e,"internal-error");const it=Nm.fromJSON(this.name,Fe);se("string"==typeof L,e,"internal-error"),_c(u,e.name),_c(f,e.name),se("boolean"==typeof Y,e,"internal-error"),se("boolean"==typeof re,e,"internal-error"),_c(m,e.name),_c(y,e.name),_c(C,e.name),_c(T,e.name),_c(S,e.name),_c(D,e.name);const kn=new zl({uid:L,auth:e,email:f,emailVerified:Y,displayName:u,isAnonymous:re,photoURL:y,phoneNumber:m,tenantId:C,stsTokenManager:it,createdAt:S,lastLoginAt:D});return ue&&Array.isArray(ue)&&(kn.providerData=ue.map(er=>Object.assign({},er))),T&&(kn._redirectEventId=T),kn}static _fromIdTokenResponse(e,t,i=!1){return _(function*(){const r=new Nm;r.updateFromServerResponse(t);const o=new zl({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return yield Rm(o),o})()}}const _H=new Map;function wa(n){gc(n instanceof Function,"Expected a class definition");let e=_H.get(n);return e?(gc(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,_H.set(n,e),e)}const bH=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(function*(){return!0})()}_set(t,i){var r=this;return _(function*(){r.storage[t]=i})()}_get(t){var i=this;return _(function*(){const r=i.storage[t];return void 0===r?null:r})()}_remove(t){var i=this;return _(function*(){delete i.storage[t]})()}_addListener(t,i){}_removeListener(t,i){}}return n.type="NONE",n})();function vv(n,e,t){return`firebase:${n}:${e}:${t}`}class vh{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:r,name:o}=this.auth;this.fullUserKey=vv(this.userKey,r.apiKey,o),this.fullPersistenceKey=vv("persistence",r.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return _(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?zl._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return _(function*(){if(t.persistence===e)return;const i=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,i?t.setCurrentUser(i):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,i="authUser"){return _(function*(){if(!t.length)return new vh(wa(bH),e,i);const r=(yield Promise.all(t.map(function(){var l=_(function*(d){if(yield d._isAvailable())return d});return function(d){return l.apply(this,arguments)}}()))).filter(l=>l);let o=r[0]||wa(bH);const s=vv(i,e.config.apiKey,e.name);let a=null;for(const l of t)try{const d=yield l._get(s);if(d){const u=zl._fromJSON(e,d);l!==o&&(a=u),o=l;break}}catch{}const c=r.filter(l=>l._shouldAllowMigration);return o._shouldAllowMigration&&c.length?(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(function(){var l=_(function*(d){if(d!==o)try{yield d._remove(s)}catch{}});return function(d){return l.apply(this,arguments)}}())),new vh(o,e,i)):new vh(o,e,i)})()}}function yH(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(wH(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(vH(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(EH(e))return"Blackberry";if(TH(e))return"Webos";if(Ok(e))return"Safari";if((e.includes("chrome/")||xH(e))&&!e.includes("edge/"))return"Chrome";if(CH(e))return"Android";{const i=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===i?.length)return i[1]}return"Other"}function vH(n=ti()){return/firefox\//i.test(n)}function Ok(n=ti()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function xH(n=ti()){return/crios\//i.test(n)}function wH(n=ti()){return/iemobile/i.test(n)}function CH(n=ti()){return/android/i.test(n)}function EH(n=ti()){return/blackberry/i.test(n)}function TH(n=ti()){return/webos/i.test(n)}function xv(n=ti()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function IH(n=ti()){return xv(n)||CH(n)||TH(n)||EH(n)||/windows phone/i.test(n)||wH(n)}function MH(n,e=[]){let t;switch(n){case"Browser":t=yH(ti());break;case"Worker":t=`${yH(ti())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ma}/${i}`}function DH(n,e){return Rk.apply(this,arguments)}function Rk(){return(Rk=_(function*(n,e){return Gn(n,"GET","/v2/recaptchaConfig",Rn(n,e))})).apply(this,arguments)}function kH(n){return void 0!==n&&void 0!==n.enterprise}class AH{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(t=>"EMAIL_PASSWORD_PROVIDER"===t.provider&&"OFF"!==t.enforcementState)}}function Nk(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=r=>{const o=Os("internal-error");o.customData=r,t(o)},i.type="text/javascript",i.charset="UTF-8",function VCe(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(i)})}function OH(n){return`__${n}${Math.floor(1e6*Math.random())}`}class PH{constructor(e){this.type="recaptcha-enterprise",this.auth=Ai(e)}verify(e="verify",t=!1){var i=this;return _(function*(){function o(){return o=_(function*(a){if(!t){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var c=_(function*(l,d){DH(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(void 0!==u.recaptchaKey){const f=new AH(u);return null==a.tenantId?a._agentRecaptchaConfig=f:a._tenantRecaptchaConfigs[a.tenantId]=f,l(f.siteKey)}d(new Error("recaptcha Enterprise site key undefined"))}).catch(u=>{d(u)})});return function(l,d){return c.apply(this,arguments)}}())}),o.apply(this,arguments)}function s(a,c,l){const d=window.grecaptcha;kH(d)?d.enterprise.ready(()=>{d.enterprise.execute(a,{action:e}).then(u=>{c(u)}).catch(()=>{c("NO_RECAPTCHA")})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,c)=>{(function r(a){return o.apply(this,arguments)})(i.auth).then(l=>{if(!t&&kH(window.grecaptcha))s(l,a,c);else{if(typeof window>"u")return void c(new Error("RecaptchaVerifier is only supported in browser"));Nk("https://www.google.com/recaptcha/enterprise.js?render="+l).then(()=>{s(l,a,c)}).catch(d=>{c(d)})}}).catch(l=>{c(l)})})})()}}function bc(n,e,t){return Fk.apply(this,arguments)}function Fk(){return(Fk=_(function*(n,e,t,i=!1){const r=new PH(n);let o;try{o=yield r.verify(t)}catch{o=yield r.verify(t,!0)}const s=Object.assign({},e);return Object.assign(s,i?{captchaResp:o}:{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})).apply(this,arguments)}class jCe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=o=>new Promise((s,a)=>{try{s(e(o))}catch(c){a(c)}});i.onAbort=t,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return _(function*(){if(t.auth.currentUser===e)return;const i=[];try{for(const r of t.queue)yield r(e),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const o of i)try{o()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})()}}class HCe{constructor(e,t,i,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new RH(this),this.idTokenSubscription=new RH(this),this.beforeStateQueue=new jCe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dH,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){var i=this;return t&&(this._popupRedirectResolver=wa(t)),this._initializationPromise=this.queue(_(function*(){var r,o;if(!i._deleted&&(i.persistenceManager=yield vh.create(i,e),!i._deleted)){if(null!==(r=i._popupRedirectResolver)&&void 0!==r&&r._shouldInitProactively)try{yield i._popupRedirectResolver._initialize(i)}catch{}yield i.initializeCurrentUser(t),i.lastNotifiedUid=(null===(o=i.currentUser)||void 0===o?void 0:o.uid)||null,!i._deleted&&(i._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return _(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return _(function*(){var i;const r=yield t.assertedPersistence.getCurrentUser();let o=r,s=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const a=null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId,c=o?._redirectEventId,l=yield t.tryRedirectSignIn(e);(!a||a===c)&&l?.user&&(o=l.user,s=!0)}if(!o)return t.directlySetCurrentUser(null);if(!o._redirectEventId){if(s)try{yield t.beforeStateQueue.runMiddleware(o)}catch(a){o=r,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(a))}return o?t.reloadAndSetCurrentUserOrClear(o):t.directlySetCurrentUser(null)}return se(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===o._redirectEventId?t.directlySetCurrentUser(o):t.reloadAndSetCurrentUserOrClear(o)})()}tryRedirectSignIn(e){var t=this;return _(function*(){let i=null;try{i=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return i})()}reloadAndSetCurrentUserOrClear(e){var t=this;return _(function*(){try{yield Rm(e)}catch(i){if("auth/network-request-failed"!==i?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function yCe(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return _(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return _(function*(){const i=e?Nt(e):null;return i&&se(i.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(i&&i._clone(t))})()}_updateCurrentUser(e,t=!1){var i=this;return _(function*(){if(!i._deleted)return e&&se(i.tenantId===e.tenantId,i,"tenant-id-mismatch"),t||(yield i.beforeStateQueue.runMiddleware(e)),i.queue(_(function*(){yield i.directlySetCurrentUser(e),i.notifyAuthListeners()}))})()}signOut(){var e=this;return _(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue(_(function*(){yield t.assertedPersistence.setPersistence(wa(e))}))}initializeRecaptchaConfig(){var e=this;return _(function*(){const t=yield DH(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),i=new AH(t);null==e.tenantId?e._agentRecaptchaConfig=i:e._tenantRecaptchaConfigs[e.tenantId]=i,i.emailPasswordEnabled&&new PH(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ds("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var i=this;return _(function*(){const r=yield i.getOrInitRedirectPersistenceManager(t);return null===e?r.removeCurrentUser():r.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return _(function*(){if(!t.redirectPersistenceManager){const i=e&&wa(e)||t._popupRedirectResolver;se(i,t,"argument-error"),t.redirectPersistenceManager=yield vh.create(t,[wa(i._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return _(function*(){var i,r;return t._isInitialized&&(yield t.queue(_(function*(){}))),(null===(i=t._currentUser)||void 0===i?void 0:i._redirectEventId)===e?t._currentUser:(null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return _(function*(){if(e===t.currentUser)return t.queue(_(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};const o="function"==typeof t?t:t.next.bind(t),s=this._isInitialized?Promise.resolve():this._initializationPromise;return se(s,this,"internal-error"),s.then(()=>o(this.currentUser)),"function"==typeof t?e.addObserver(t,i,r):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return _(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=MH(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return _(function*(){var t;const i={"X-Client-Version":e.clientVersion};e.app.options.appId&&(i["X-Firebase-gmpid"]=e.app.options.appId);const r=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();r&&(i["X-Firebase-Client"]=r);const o=yield e._getAppCheckToken();return o&&(i["X-Firebase-AppCheck"]=o),i})()}_getAppCheckToken(){var e=this;return _(function*(){var t;const i=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return i?.error&&function _Ce(n,...e){_v.logLevel<=vt.WARN&&_v.warn(`Auth (${ma}): ${n}`,...e)}(`Error while retrieving App Check token: ${i.error}`),i?.token})()}}function Ai(n){return Nt(n)}class RH{constructor(e){this.auth=e,this.observer=null,this.addObserver=function Ybe(n,e){const t=new Qbe(n,e);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function NH(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function FH(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}class Fm{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ps("not implemented")}_getIdTokenResponse(e){return Ps("not implemented")}_linkToIdToken(e,t){return Ps("not implemented")}_getReauthenticationResolver(e){return Ps("not implemented")}}function VH(n,e){return Vk.apply(this,arguments)}function Vk(){return(Vk=_(function*(n,e){return Gn(n,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function zk(n,e){return Uk.apply(this,arguments)}function Uk(){return(Uk=_(function*(n,e){return va(n,"POST","/v1/accounts:signInWithPassword",Rn(n,e))})).apply(this,arguments)}function Yk(){return(Yk=_(function*(n,e){return va(n,"POST","/v1/accounts:signInWithEmailLink",Rn(n,e))})).apply(this,arguments)}function Qk(){return(Qk=_(function*(n,e){return va(n,"POST","/v1/accounts:signInWithEmailLink",Rn(n,e))})).apply(this,arguments)}class Lm extends Fm{constructor(e,t,i,r=null){super("password",i),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Lm(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Lm(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if(t?.email&&t?.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){var t=this;return _(function*(){var i;switch(t.signInMethod){case"password":const r={returnSecureToken:!0,email:t._email,password:t._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(i=e._getRecaptchaConfig())&&void 0!==i&&i.emailPasswordEnabled){const o=yield bc(e,r,"signInWithPassword");return zk(e,o)}return zk(e,r).catch(function(){var o=_(function*(s){if("auth/missing-recaptcha-token"===s.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const a=yield bc(e,r,"signInWithPassword");return zk(e,a)}return Promise.reject(s)});return function(s){return o.apply(this,arguments)}}());case"emailLink":return function ZCe(n,e){return Yk.apply(this,arguments)}(e,{email:t._email,oobCode:t._password});default:$r(e,"internal-error")}})()}_linkToIdToken(e,t){var i=this;return _(function*(){switch(i.signInMethod){case"password":return VH(e,{idToken:t,returnSecureToken:!0,email:i._email,password:i._password});case"emailLink":return function JCe(n,e){return Qk.apply(this,arguments)}(e,{idToken:t,email:i._email,oobCode:i._password});default:$r(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function Ca(n,e){return Xk.apply(this,arguments)}function Xk(){return(Xk=_(function*(n,e){return va(n,"POST","/v1/accounts:signInWithIdp",Rn(n,e))})).apply(this,arguments)}class zm{constructor(e){var t,i,r,o,s,a;const c=bm(ym(e)),l=null!==(t=c.apiKey)&&void 0!==t?t:null,d=null!==(i=c.oobCode)&&void 0!==i?i:null,u=function s1e(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=c.mode)&&void 0!==r?r:null);se(l&&d&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=d,this.continueUrl=null!==(o=c.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(s=c.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=c.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function a1e(n){const e=bm(ym(n)).link,t=e?bm(ym(e)).deep_link_id:null,i=bm(ym(n)).deep_link_id;return(i?bm(ym(i)).link:null)||i||t||e||n}(e);try{return new zm(t)}catch{return null}}}let BH=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,i){return Lm._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){const r=zm.parseLink(i);return se(r,"argument-error"),Lm._fromEmailAndCode(t,r.code,r.tenantId)}}return n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink",n})();class Ea{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class c1e extends Ea{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}function Ev(n,e){return iA.apply(this,arguments)}function iA(){return(iA=_(function*(n,e){return va(n,"POST","/v1/accounts:signUp",Rn(n,e))})).apply(this,arguments)}class wo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,i,r=!1){return _(function*(){const o=yield zl._fromIdTokenResponse(e,i,r),s=zH(i);return new wo({user:o,providerId:s,_tokenResponse:i,operationType:t})})()}static _forOperation(e,t,i){return _(function*(){yield e._updateTokensIfNecessary(i,!0);const r=zH(i);return new wo({user:e,providerId:r,_tokenResponse:i,operationType:t})})()}}function zH(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class Tv extends jr{constructor(e,t,i,r){var o;super(t.code,t.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,Tv.prototype),this.customData={appName:e.name,tenantId:null!==(o=e.tenantId)&&void 0!==o?o:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,r){return new Tv(e,t,i,r)}}function UH(n,e,t,i){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw"auth/multi-factor-auth-required"===o.code?Tv._fromErrorAndOperation(n,o,e,i):o})}function aA(){return(aA=_(function*(n,e,t=!1){const i=yield xa(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return wo._forOperation(n,"link",i)})).apply(this,arguments)}function lA(){return(lA=_(function*(n,e,t=!1){const{auth:i}=n,r="reauthenticate";try{const o=yield xa(n,UH(i,r,e,n),t);se(o.idToken,i,"internal-error");const s=yv(o.idToken);se(s,i,"internal-error");const{sub:a}=s;return se(n.uid===a,i,"user-mismatch"),wo._forOperation(n,r,o)}catch(o){throw"auth/user-not-found"===o?.code&&$r(i,"user-mismatch"),o}})).apply(this,arguments)}function $H(n,e){return dA.apply(this,arguments)}function dA(){return(dA=_(function*(n,e,t=!1){const i="signIn",r=yield UH(n,i,e),o=yield wo._fromIdTokenResponse(n,i,r);return t||(yield n._updateCurrentUser(o.user)),o})).apply(this,arguments)}function hA(){return(hA=_(function*(n,e){return $H(Ai(n),e)})).apply(this,arguments)}function m1e(n,e,t){return EA.apply(this,arguments)}function EA(){return EA=_(function*(n,e,t){var i;const r=Ai(n),o={returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"};let s;if(null!==(i=r._getRecaptchaConfig())&&void 0!==i&&i.emailPasswordEnabled){const l=yield bc(r,o,"signUpPassword");s=Ev(r,l)}else s=Ev(r,o).catch(function(){var l=_(function*(d){if("auth/missing-recaptcha-token"===d.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const u=yield bc(r,o,"signUpPassword");return Ev(r,u)}return Promise.reject(d)});return function(d){return l.apply(this,arguments)}}());const a=yield s.catch(l=>Promise.reject(l)),c=yield wo._fromIdTokenResponse(r,"signIn",a);return yield r._updateCurrentUser(c.user),c}),EA.apply(this,arguments)}function g1e(n,e,t){return function uA(n,e){return hA.apply(this,arguments)}(Nt(n),BH.credential(e,t))}function I1e(n,e,t,i){return Nt(n).onAuthStateChanged(e,t,i)}function M1e(n){return Nt(n).signOut()}const Mv="__sak";class WH{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Mv,"1"),this.storage.removeItem(Mv),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const N1e=(()=>{class n extends WH{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function O1e(){const n=ti();return Ok(n)||xv(n)}()&&function FCe(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=IH(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),o=this.localCache[i];r!==o&&t(i,o,r)}}onStorageEvent(t,i=!1){if(!t.key)return void this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});const r=t.key;if(i?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(r);if(t.newValue!==a)null!==t.newValue?this.storage.setItem(r,t.newValue):this.storage.removeItem(r);else if(this.localCache[r]===t.newValue&&!i)return}const o=()=>{const a=this.storage.getItem(r);!i&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);!function NCe(){return function Ube(){const n=ti();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}()&&10===document.documentMode}()||s===t.newValue||t.newValue===t.oldValue?o():setTimeout(o,10)}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,i){var r=()=>super._set,o=this;return _(function*(){yield r().call(o,t,i),o.localCache[t]=JSON.stringify(i)})()}_get(t){var i=()=>super._get,r=this;return _(function*(){const o=yield i().call(r,t);return r.localCache[t]=JSON.stringify(o),o})()}_remove(t){var i=()=>super._remove,r=this;return _(function*(){yield i().call(r,t),delete r.localCache[t]})()}}return n.type="LOCAL",n})(),KH=(()=>{class n extends WH{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}return n.type="SESSION",n})();let L1e=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;const r=new n(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}handleEvent(t){var i=this;return _(function*(){const r=t,{eventId:o,eventType:s,data:a}=r.data,c=i.handlersMap[s];if(!c?.size)return;r.ports[0].postMessage({status:"ack",eventId:o,eventType:s});const l=Array.from(c).map(function(){var u=_(function*(f){return f(r.origin,a)});return function(f){return u.apply(this,arguments)}}()),d=yield function F1e(n){return Promise.all(n.map(function(){var e=_(function*(t){try{return{fulfilled:!0,value:yield t}}catch(i){return{fulfilled:!1,reason:i}}});return function(t){return e.apply(this,arguments)}}()))}(l);r.ports[0].postMessage({status:"done",eventId:o,eventType:s,response:d})})()}_subscribe(t,i){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function VA(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(10*Math.random());return n+t}class V1e{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,i=50){var r=this;return _(function*(){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let s,a;return new Promise((c,l)=>{const d=VA("",20);o.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},i);a={messageChannel:o,onMessage(f){const m=f;if(m.data.eventId===d)switch(m.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(m.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"))}}},r.handlers.add(a),o.port1.addEventListener("message",a.onMessage),r.target.postMessage({eventType:e,eventId:d,data:t},[o.port2])}).finally(()=>{a&&r.removeMessageHandler(a)})})()}}function di(){return window}function BA(){return typeof di().WorkerGlobalScope<"u"&&"function"==typeof di().importScripts}function zA(){return(zA=_(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const YH="firebaseLocalStorageDb",Dv="firebaseLocalStorage",QH="fbase_key";class Hm{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Sv(n,e){return n.transaction([Dv],e?"readwrite":"readonly").objectStore(Dv)}function UA(){const n=indexedDB.open(YH,1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Dv,{keyPath:QH})}catch(r){t(r)}}),n.addEventListener("success",_(function*(){const i=n.result;i.objectStoreNames.contains(Dv)?e(i):(i.close(),yield function $1e(){const n=indexedDB.deleteDatabase(YH);return new Hm(n).toPromise()}(),e(yield UA()))}))})}function XH(n,e,t){return jA.apply(this,arguments)}function jA(){return(jA=_(function*(n,e,t){const i=Sv(n,!0).put({[QH]:e,value:t});return new Hm(i).toPromise()})).apply(this,arguments)}function HA(){return(HA=_(function*(n,e){const t=Sv(n,!1).get(e),i=yield new Hm(t).toPromise();return void 0===i?null:i.value})).apply(this,arguments)}function ZH(n,e){const t=Sv(n,!0).delete(e);return new Hm(t).toPromise()}const K1e=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return _(function*(){return t.db||(t.db=yield UA()),t.db})()}_withRetries(t){var i=this;return _(function*(){let r=0;for(;;)try{const o=yield i._openDb();return yield t(o)}catch(o){if(r++>3)throw o;i.db&&(i.db.close(),i.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return _(function*(){return BA()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return _(function*(){t.receiver=L1e._getInstance(function j1e(){return BA()?self:null}()),t.receiver._subscribe("keyChanged",function(){var i=_(function*(r,o){return{keyProcessed:(yield t._poll()).includes(o.key)}});return function(r,o){return i.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var i=_(function*(r,o){return["keyChanged"]});return function(r,o){return i.apply(this,arguments)}}())})()}initializeSender(){var t=this;return _(function*(){var i,r;if(t.activeServiceWorker=yield function z1e(){return zA.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new V1e(t.activeServiceWorker);const o=yield t.sender._send("ping",{},800);o&&null!==(i=o[0])&&void 0!==i&&i.fulfilled&&null!==(r=o[0])&&void 0!==r&&r.value.includes("keyChanged")&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var i=this;return _(function*(){if(i.sender&&i.activeServiceWorker&&function U1e(){var n;return(null===(n=navigator?.serviceWorker)||void 0===n?void 0:n.controller)||null}()===i.activeServiceWorker)try{yield i.sender._send("keyChanged",{key:t},i.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return _(function*(){try{if(!indexedDB)return!1;const t=yield UA();return yield XH(t,Mv,"1"),yield ZH(t,Mv),!0}catch{}return!1})()}_withPendingWrite(t){var i=this;return _(function*(){i.pendingWrites++;try{yield t()}finally{i.pendingWrites--}})()}_set(t,i){var r=this;return _(function*(){return r._withPendingWrite(_(function*(){return yield r._withRetries(o=>XH(o,t,i)),r.localCache[t]=i,r.notifyServiceWorker(t)}))})()}_get(t){var i=this;return _(function*(){const r=yield i._withRetries(o=>function G1e(n,e){return HA.apply(this,arguments)}(o,t));return i.localCache[t]=r,r})()}_remove(t){var i=this;return _(function*(){return i._withPendingWrite(_(function*(){return yield i._withRetries(r=>ZH(r,t)),delete i.localCache[t],i.notifyServiceWorker(t)}))})()}_poll(){var t=this;return _(function*(){const i=yield t._withRetries(s=>{const a=Sv(s,!1).getAll();return new Hm(a).toPromise()});if(!i)return[];if(0!==t.pendingWrites)return[];const r=[],o=new Set;for(const{fbase_key:s,value:a}of i)o.add(s),JSON.stringify(t.localCache[s])!==JSON.stringify(a)&&(t.notifyListeners(s,a),r.push(s));for(const s of Object.keys(t.localCache))t.localCache[s]&&!o.has(s)&&(t.notifyListeners(s,null),r.push(s));return r})()}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(i)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval(_(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();OH("rcb"),new Am(3e4,6e4);class ZA extends Fm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ca(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ca(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ca(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function dEe(n){return $H(n.auth,new ZA(n),n.bypassAuthState)}function uEe(n){const{auth:e,user:t}=n;return se(t,e,"internal-error"),function HH(n,e){return lA.apply(this,arguments)}(t,new ZA(n),n.bypassAuthState)}function hEe(n){return JA.apply(this,arguments)}function JA(){return(JA=_(function*(n){const{auth:e,user:t}=n;return se(t,e,"internal-error"),function sA(n,e){return aA.apply(this,arguments)}(t,new ZA(n),n.bypassAuthState)})).apply(this,arguments)}class fEe{constructor(e,t,i,r,o=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=_(function*(i,r){e.pendingPromise={resolve:i,reject:r};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(o){e.reject(o)}});return function(i,r){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return _(function*(){const{urlResponse:i,sessionId:r,postBody:o,tenantId:s,error:a,type:c}=e;if(a)return void t.reject(a);const l={auth:t.auth,requestUri:i,sessionId:r,tenantId:s||void 0,postBody:o||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(c)(l))}catch(d){t.reject(d)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return dEe;case"linkViaPopup":case"linkViaRedirect":return hEe;case"reauthViaPopup":case"reauthViaRedirect":return uEe;default:$r(this.auth,"internal-error")}}resolve(e){gc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){gc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new Am(2e3,1e4);const pEe="pendingRedirect",$m=new Map;class mEe extends fEe{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}execute(){var e=()=>super.execute,t=this;return _(function*(){let i=$m.get(t.auth._key());if(!i){try{const o=(yield function gEe(n,e){return rO.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;i=()=>Promise.resolve(o)}catch(r){i=()=>Promise.reject(r)}$m.set(t.auth._key(),i)}return t.bypassAuthState||$m.set(t.auth._key(),()=>Promise.resolve(null)),i()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,i=this;return _(function*(){if("signInViaRedirect"===e.type)return t().call(i,e);if("unknown"!==e.type){if(e.eventId){const r=yield i.auth._redirectUserForId(e.eventId);if(r)return i.user=r,t().call(i,e);i.resolve(null)}}else i.resolve(null)})()}onExecution(){return _(function*(){})()}cleanUp(){}}function rO(){return(rO=_(function*(n,e){const t=function t$(n){return vv(pEe,n.config.apiKey,n.name)}(e),i=function e$(n){return wa(n._redirectPersistence)}(n);if(!(yield i._isAvailable()))return!1;const r="true"===(yield i._get(t));return yield i._remove(t),r})).apply(this,arguments)}function _Ee(n,e){$m.set(n._key(),e)}function n$(n,e){return uO.apply(this,arguments)}function uO(){return(uO=_(function*(n,e,t=!1){const i=Ai(n),r=function jl(n,e){return e?wa(e):(se(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}(i,e),s=yield new mEe(i,r,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield i._persistUserIfCurrent(s.user),yield i._setRedirectUser(null,e)),s})).apply(this,arguments)}class wEe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function CEe(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return o$(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!o$(e)){const r=(null===(i=e.error.code)||void 0===i?void 0:i.split("auth/")[1])||"internal-error";t.onError(Os(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(r$(e))}saveEventToCache(e){this.cachedEventUids.add(r$(e)),this.lastProcessedEventTime=Date.now()}}function r$(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function o$({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===e?.code}function fO(){return(fO=_(function*(n,e={}){return Gn(n,"GET","/v1/projects",e)})).apply(this,arguments)}const TEe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,IEe=/^https?/;function pO(){return pO=_(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield function EEe(n){return fO.apply(this,arguments)}(n);for(const t of e)try{if(DEe(t))return}catch{}$r(n,"unauthorized-domain")}),pO.apply(this,arguments)}function DEe(n){const e=km(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const s=new URL(n);return""===s.hostname&&""===i?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&s.hostname===i}if(!IEe.test(t))return!1;if(TEe.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}const SEe=new Am(3e4,6e4);function s$(){const n=di().___jsl;if(n?.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let Av=null;const OEe=new Am(5e3,15e3),PEe="__/auth/iframe",REe="emulator/auth/iframe",NEe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},FEe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function LEe(n){const e=n.config;se(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?yk(e,REe):`https://${n.config.authDomain}/${PEe}`,i={apiKey:e.apiKey,appName:n.name,v:ma},r=FEe.get(n.config.apiHost);r&&(i.eid=r);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${t}?${dh(i).slice(1)}`}function mO(){return mO=_(function*(n){const e=yield function AEe(n){return Av=Av||function kEe(n){return new Promise((e,t)=>{var i,r,o;function s(){s$(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{s$(),t(Os(n,"network-request-failed"))},timeout:SEe.get()})}if(null!==(r=null===(i=di().gapi)||void 0===i?void 0:i.iframes)&&void 0!==r&&r.Iframe)e(gapi.iframes.getContext());else{if(null===(o=di().gapi)||void 0===o||!o.load){const a=OH("iframefcb");return di()[a]=()=>{gapi.load?s():t(Os(n,"network-request-failed"))},Nk(`https://apis.google.com/js/api.js?onload=${a}`).catch(c=>t(c))}s()}}).catch(e=>{throw Av=null,e})}(n),Av}(n),t=di().gapi;return se(t,n,"internal-error"),e.open({where:document.body,url:LEe(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:NEe,dontclear:!0},i=>new Promise(function(){var r=_(function*(o,s){yield i.restyle({setHideOnLeave:!1});const a=Os(n,"network-request-failed"),c=di().setTimeout(()=>{s(a)},OEe.get());function l(){di().clearTimeout(c),o(i)}i.ping(l).then(l,()=>{s(a)})});return function(o,s){return r.apply(this,arguments)}}()))}),mO.apply(this,arguments)}const BEe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class a${constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const qEe="__/auth/handler",WEe="emulator/auth/handler",KEe=encodeURIComponent("fac");function c$(n,e,t,i,r,o){return gO.apply(this,arguments)}function gO(){return(gO=_(function*(n,e,t,i,r,o){se(n.config.authDomain,n,"auth-domain-config-required"),se(n.config.apiKey,n,"invalid-api-key");const s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:ma,eventId:r};if(e instanceof Ea){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",VM(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,u]of Object.entries(o||{}))s[d]=u}if(e instanceof c1e){const d=e.getScopes().filter(u=>""!==u);d.length>0&&(s.scopes=d.join(","))}n.tenantId&&(s.tid=n.tenantId);const a=s;for(const d of Object.keys(a))void 0===a[d]&&delete a[d];const c=yield n._getAppCheckToken(),l=c?`#${KEe}=${encodeURIComponent(c)}`:"";return`${function YEe({config:n}){return n.emulator?yk(n,WEe):`https://${n.authDomain}/${qEe}`}(n)}?${dh(a).slice(1)}${l}`})).apply(this,arguments)}const _O="webStorageSupport",XEe=class QEe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=KH,this._completeRedirectFn=n$,this._overrideRedirectResult=_Ee}_openPopup(e,t,i,r){var o=this;return _(function*(){var s;gc(null===(s=o.eventManagers[e._key()])||void 0===s?void 0:s.manager,"_initialize() not called before _openPopup()");const a=yield c$(e,t,i,km(),r);return function $Ee(n,e,t,i=500,r=600){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),s=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const c=Object.assign(Object.assign({},BEe),{width:i.toString(),height:r.toString(),top:o,left:s}),l=ti().toLowerCase();t&&(a=xH(l)?"_blank":t),vH(l)&&(e=e||"http://localhost",c.scrollbars="yes");const d=Object.entries(c).reduce((f,[m,y])=>`${f}${m}=${y},`,"");if(function RCe(n=ti()){var e;return xv(n)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(l)&&"_self"!==a)return function GEe(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}(e||"",a),new a$(null);const u=window.open(e||"",a,d);se(u,n,"popup-blocked");try{u.focus()}catch{}return new a$(u)}(e,a,VA())})()}_openRedirect(e,t,i,r){var o=this;return _(function*(){return yield o._originValidation(e),function B1e(n){di().location.href=n}(yield c$(e,t,i,km(),r)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:r,promise:o}=this.eventManagers[t];return r?Promise.resolve(r):(gc(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}initAndGetManager(e){var t=this;return _(function*(){const i=yield function VEe(n){return mO.apply(this,arguments)}(e),r=new wEe(e);return i.register("authEvent",o=>(se(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:r},t.iframes[e._key()]=i,r})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(_O,{type:_O},r=>{var o;const s=null===(o=r?.[0])||void 0===o?void 0:o[_O];void 0!==s&&t(!!s),$r(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function MEe(n){return pO.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return IH()||Ok()||xv()}};var h$="@firebase/auth";class ZEe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return _(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const nTe=b7("authIdTokenMaxAge")||300;let p$=null;const iTe=n=>function(){var e=_(function*(t){const i=t&&(yield t.getIdTokenResult()),r=i&&((new Date).getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>nTe)return;const o=i?.token;p$!==o&&(p$=o,yield fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))});return function(t){return e.apply(this,arguments)}}();function rTe(n=uh()){const e=fa(n,"auth");if(e.isInitialized())return e.getImmediate();const t=function $Ce(n,e){const t=fa(n,"auth");if(t.isInitialized()){const r=t.getImmediate();if(Xy(t.getOptions(),e??{}))return r;$r(r,"already-initialized")}return t.initialize({options:e})}(n,{popupRedirectResolver:XEe,persistence:[K1e,N1e,KH]}),i=b7("authTokenSyncURL");if(i){const o=iTe(i);(function T1e(n,e,t){Nt(n).beforeAuthStateChanged(e,t)})(t,o,()=>o(t.currentUser)),function E1e(n,e,t,i){Nt(n).onIdTokenChanged(e,t,i)}(t,s=>o(s))}const r=g7("auth");return r&&function qCe(n,e,t){const i=Ai(n);se(i._canInitEmulator,i,"emulator-config-failed"),se(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!!t?.disableWarnings,o=NH(e),{host:s,port:a}=function WCe(n){const e=NH(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const o=r[1];return{host:o,port:FH(i.substr(o.length+1))}}{const[o,s]=i.split(":");return{host:o,port:FH(s)}}}(e);i.config.emulator={url:`${o}//${s}${null===a?"":`:${a}`}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||function KCe(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(t,`http://${r}`),t}!function eTe(n){Si(new wi("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=i.options;se(s&&!s.includes(":"),"invalid-api-key",{appName:i.name});const c={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:MH(n)},l=new HCe(i,r,o,c);return function GCe(n,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(wa);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Si(new wi("auth-internal",e=>{const t=Ai(e.getProvider("auth").getImmediate());return new ZEe(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Bt(h$,"0.23.2",function JEe(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),Bt(h$,"0.23.2","esm2017")}("Browser");class Oe{constructor(e){return e}}class Pv{constructor(){return gh("auth")}}const yO=new X("angularfire2.auth-instances");function sTe(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new Oe(i)}}const aTe={provide:Pv,deps:[[new Kt,yO]]},cTe={provide:Oe,useFactory:function oTe(n,e){const t=mh("auth",n,e);return t&&new Oe(t)},deps:[[new Kt,yO],ya]};let lTe=(()=>{class n{constructor(){Bt("angularfire",ph.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=tt({providers:[cTe,aTe]}),n})();function dTe(n,...e){return{ngModule:lTe,providers:[{provide:yO,useFactory:sTe(n),multi:!0,deps:[ke,Yt,Tm,Im,[new Kt,Sm],...e]}]}}const g$=ni(m1e,!0),Ta=ni(rTe,!0),yc=ni(I1e,!0),vO=ni(g1e,!0),Nn=ni(M1e,!0);let _$=(()=>{class n{constructor(t,i){this.auth=t,this.router=i,this.title="gestion-muestras"}Login(){this.router.navigate(["/auth/login"])}handleSignOut(){Nn(this.auth).then(()=>{}).catch(t=>{console.log("here")})}Home(){this.router.navigate(["auth/select"])}static{this.\u0275fac=function(i){return new(i||n)(E(Oe),E(Ee))}}static{this.\u0275cmp=be({type:n,selectors:[["app-auth"]],decls:1,vars:0,template:function(i,r){1&i&&$(0,"router-outlet")},dependencies:[Sl],styles:[".navbar[_ngcontent-%COMP%]{background-color:#0a9217;width:100%;height:120px;position:absolute;left:0%;top:0%}.tituloBox[_ngcontent-%COMP%]{width:100%;height:120px;position:absolute;left:0%;top:0%;display:flex;flex-direction:column;justify-content:center;align-items:center;font-size:10px}.tituloText[_ngcontent-%COMP%]{color:#fff;display:block;font-family:Verdana;font-weight:700;font-size:40px;letter-spacing:0}.tituloSubText[_ngcontent-%COMP%]{color:#fff;display:block;font-family:Verdana;font-weight:700;font-size:20px;letter-spacing:0}.logoUcv[_ngcontent-%COMP%]{width:100px;height:100px;position:absolute;left:40px;top:10px;background-image:url(logo_ucv_bg2_1.32a61806277cba42.png);background-repeat:no-repeat;background-size:cover}.logoCiens[_ngcontent-%COMP%]{width:100px;height:100px;display:inline-block;position:absolute;left:180px;top:10px;background-image:url(logoCiens.9fc55f935ab1cd6b.png);background-repeat:no-repeat;background-size:contain}.logoAgro[_ngcontent-%COMP%]{width:150px;height:100px;position:absolute;right:40px;top:10px;background-image:url(Logo-Agronomia-Stroke.a9e6fb094894c53a.png);background-repeat:no-repeat;background-size:cover}.homeBox[_ngcontent-%COMP%]{width:25%;height:10%;position:absolute;cursor:pointer;left:75%;top:0%;text-align:center}.homeText[_ngcontent-%COMP%]{color:#fff;display:inline-block;vertical-align:middle;line-height:2.8em;font-family:Verdana;font-size:32px;letter-spacing:0;position:absolute;right:.75em;top:30%}.UserLogo[_ngcontent-%COMP%]{position:absolute;top:1.85em;right:10.94em;width:46px;height:46px;text-align:center;background-image:url(LoginIconWhite.b9f823031602a23b.png);background-repeat:no-repeat;background-size:contain}@media only screen and (max-width: 768px){.homeBox[_ngcontent-%COMP%]{border-right:4px solid white;width:20%;height:110px;position:absolute;left:0;top:0%}.homeText[_ngcontent-%COMP%]{display:none}.UserLogo[_ngcontent-%COMP%]{position:absolute;top:2.2em;left:25%;width:36px;height:36px;text-align:center;background-image:url(LoginIconWhite.b9f823031602a23b.png);background-repeat:no-repeat;background-size:contain}.logoUcv[_ngcontent-%COMP%]{width:30px;height:30px;position:absolute;top:15px;left:5px;background-image:url(logo_ucv_Small.c918acfda6fcd024.png);background-repeat:no-repeat;background-size:cover}.logoCiens[_ngcontent-%COMP%]{width:30px;height:30px;position:absolute;top:15px;left:45px;background-image:url(logoCiens-Small.2065c0f07c6bbc86.png);background-repeat:no-repeat;background-size:cover}.logoAgro[_ngcontent-%COMP%]{width:58px;height:40px;position:absolute;top:60px;left:12px;background-image:url(Logo-Agronomia-Stroke-Small.e1f18097759acd8e.png);background-repeat:no-repeat;background-size:contain}.tituloBox[_ngcontent-%COMP%]{width:80%;height:120px;position:absolute;left:20%;top:0%;text-align:center}.tituloText[_ngcontent-%COMP%]{color:#fff;line-height:1;display:inline-block;vertical-align:middle;font-family:Verdana;font-size:28px;letter-spacing:0px;padding-top:5px}.tituloSubText[_ngcontent-%COMP%]{color:#fff;font-family:Verdana;font-size:18px;letter-spacing:0px;line-height:normal;display:block;text-align:center;padding-top:10px}.space[_ngcontent-%COMP%], .homeLogo[_ngcontent-%COMP%]{display:none}}"]})}}return n})();var he,uTe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Go={},xO=xO||{},We=uTe||self;function Rv(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Gm(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var wO="closure_uid_"+(1e9*Math.random()>>>0),fTe=0;function pTe(n,e,t){return n.call.apply(n.bind,arguments)}function mTe(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function ur(n,e,t){return(ur=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?pTe:mTe).apply(null,arguments)}function Nv(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Oi(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(i,r,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[r].apply(i,s)}}function vc(){this.s=this.s,this.o=this.o}vc.prototype.s=!1,vc.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function hTe(n){Object.prototype.hasOwnProperty.call(n,wO)&&n[wO]||(n[wO]=++fTe)}(this)},vc.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const b$=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function CO(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function y$(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(Rv(i)){const r=n.length||0,o=i.length||0;n.length=r+o;for(let s=0;s<o;s++)n[r+s]=i[s]}else n.push(i)}}function hr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}hr.prototype.h=function(){this.defaultPrevented=!0};var _Te=function(){if(!We.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{We.addEventListener("test",()=>{},e),We.removeEventListener("test",()=>{},e)}catch{}return n}();function qm(n){return/^[\s\xa0]*$/.test(n)}function Fv(){var n=We.navigator;return n&&(n=n.userAgent)?n:""}function Rs(n){return-1!=Fv().indexOf(n)}function EO(n){return EO[" "](n),n}EO[" "]=function(){};var IO,n,yTe=Rs("Opera"),Ch=Rs("Trident")||Rs("MSIE"),v$=Rs("Edge"),TO=v$||Ch,x$=Rs("Gecko")&&!(-1!=Fv().toLowerCase().indexOf("webkit")&&!Rs("Edge"))&&!(Rs("Trident")||Rs("MSIE"))&&!Rs("Edge"),vTe=-1!=Fv().toLowerCase().indexOf("webkit")&&!Rs("Edge");function w$(){var n=We.document;return n?n.documentMode:void 0}e:{var MO="",DO=(n=Fv(),x$?/rv:([^\);]+)(\)|;)/.exec(n):v$?/Edge\/([\d\.]+)/.exec(n):Ch?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):vTe?/WebKit\/(\S+)/.exec(n):yTe?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(DO&&(MO=DO?DO[1]:""),Ch){var SO=w$();if(null!=SO&&SO>parseFloat(MO)){IO=String(SO);break e}}IO=MO}var xTe=We.document&&Ch&&(w$()||parseInt(IO,10))||void 0;function Wm(n,e){if(hr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(x$){e:{try{EO(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:wTe[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Wm.$.h.call(this)}}Oi(Wm,hr);var wTe={2:"touch",3:"pen",4:"mouse"};Wm.prototype.h=function(){Wm.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Km="closure_listenable_"+(1e6*Math.random()|0),CTe=0;function ETe(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.la=r,this.key=++CTe,this.fa=this.ia=!1}function Lv(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function AO(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function E$(n){const e={};for(const t in n)e[t]=n[t];return e}const T$="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I$(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let o=0;o<T$.length;o++)t=T$[o],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function Vv(n){this.src=n,this.g={},this.h=0}function OO(n,e){var t=e.type;if(t in n.g){var o,i=n.g[t],r=b$(i,e);(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(Lv(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function PO(n,e,t,i){for(var r=0;r<n.length;++r){var o=n[r];if(!o.fa&&o.listener==e&&o.capture==!!t&&o.la==i)return r}return-1}Vv.prototype.add=function(n,e,t,i,r){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var s=PO(n,e,i,r);return-1<s?(e=n[s],t||(e.ia=!1)):((e=new ETe(e,this.src,o,!!i,r)).ia=t,n.push(e)),e};var RO="closure_lm_"+(1e6*Math.random()|0),NO={};function M$(n,e,t,i,r){if(i&&i.once)return S$(n,e,t,i,r);if(Array.isArray(e)){for(var o=0;o<e.length;o++)M$(n,e[o],t,i,r);return null}return t=BO(t),n&&n[Km]?n.O(e,t,Gm(i)?!!i.capture:!!i,r):D$(n,e,t,!1,i,r)}function D$(n,e,t,i,r,o){if(!e)throw Error("Invalid event type");var s=Gm(r)?!!r.capture:!!r,a=LO(n);if(a||(n[RO]=a=new Vv(n)),(t=a.add(e,t,i,s,o)).proxy)return t;if(i=function ITe(){const e=MTe;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)_Te||(r=s),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(A$(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function S$(n,e,t,i,r){if(Array.isArray(e)){for(var o=0;o<e.length;o++)S$(n,e[o],t,i,r);return null}return t=BO(t),n&&n[Km]?n.P(e,t,Gm(i)?!!i.capture:!!i,r):D$(n,e,t,!0,i,r)}function k$(n,e,t,i,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)k$(n,e[o],t,i,r);else i=Gm(i)?!!i.capture:!!i,t=BO(t),n&&n[Km]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=PO(o=n.g[e],t,i,r))&&(Lv(o[t]),Array.prototype.splice.call(o,t,1),0==o.length&&(delete n.g[e],n.h--))):n&&(n=LO(n))&&(e=n.g[e.toString()],n=-1,e&&(n=PO(e,t,i,r)),(t=-1<n?e[n]:null)&&FO(t))}function FO(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Km])OO(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(A$(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=LO(e))?(OO(t,n),0==t.h&&(t.src=null,e[RO]=null)):Lv(n)}}}function A$(n){return n in NO?NO[n]:NO[n]="on"+n}function MTe(n,e){if(n.fa)n=!0;else{e=new Wm(e,this);var t=n.listener,i=n.la||n.src;n.ia&&FO(n),n=t.call(i,e)}return n}function LO(n){return(n=n[RO])instanceof Vv?n:null}var VO="__closure_events_fn_"+(1e9*Math.random()>>>0);function BO(n){return"function"==typeof n?n:(n[VO]||(n[VO]=function(e){return n.handleEvent(e)}),n[VO])}function Pi(){vc.call(this),this.i=new Vv(this),this.S=this,this.J=null}function Yi(n,e){var t,i=n.J;if(i)for(t=[];i;i=i.J)t.push(i);if(n=n.S,i=e.type||e,"string"==typeof e)e=new hr(e,n);else if(e instanceof hr)e.target=e.target||n;else{var r=e;I$(e=new hr(i,n),r)}if(r=!0,t)for(var o=t.length-1;0<=o;o--){var s=e.g=t[o];r=Bv(s,i,!0,e)&&r}if(r=Bv(s=e.g=n,i,!0,e)&&r,r=Bv(s,i,!1,e)&&r,t)for(o=0;o<t.length;o++)r=Bv(s=e.g=t[o],i,!1,e)&&r}function Bv(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==t){var a=s.listener,c=s.la||s.src;s.ia&&OO(n.i,s),r=!1!==a.call(c,i)&&r}}return r&&!i.defaultPrevented}Oi(Pi,vc),Pi.prototype[Km]=!0,Pi.prototype.removeEventListener=function(n,e,t,i){k$(this,n,e,t,i)},Pi.prototype.N=function(){if(Pi.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)Lv(t[i]);delete n.g[e],n.h--}}this.J=null},Pi.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},Pi.prototype.P=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var zO=We.JSON.stringify;function STe(){var n=UO;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var O$=new class DTe{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new ATe,n=>n.reset());class ATe{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function OTe(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function PTe(n){We.setTimeout(()=>{throw n},0)}let Ym,Qm=!1,UO=new class kTe{constructor(){this.h=this.g=null}add(e,t){const i=O$.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}},P$=()=>{const n=We.Promise.resolve(void 0);Ym=()=>{n.then(RTe)}};var RTe=()=>{for(var n;n=STe();){try{n.h.call(n.g)}catch(t){PTe(t)}var e=O$;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Qm=!1};function zv(n,e){Pi.call(this),this.h=n||1,this.g=e||We,this.j=ur(this.qb,this),this.l=Date.now()}function jO(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function HO(n,e,t){if("function"==typeof n)t&&(n=ur(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ur(n.handleEvent,n)}return 2147483647<Number(e)?-1:We.setTimeout(n,e||0)}function R$(n){n.g=HO(()=>{n.g=null,n.i&&(n.i=!1,R$(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Oi(zv,Pi),(he=zv.prototype).ga=!1,he.T=null,he.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Yi(this,"tick"),this.ga&&(jO(this),this.start()))}},he.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},he.N=function(){zv.$.N.call(this),jO(this),delete this.g};class NTe extends vc{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:R$(this)}N(){super.N(),this.g&&(We.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xm(n){vc.call(this),this.h=n,this.g={}}Oi(Xm,vc);var N$=[];function F$(n,e,t,i){Array.isArray(t)||(t&&(N$[0]=t.toString()),t=N$);for(var r=0;r<t.length;r++){var o=M$(e,t[r],i||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function L$(n){AO(n.g,function(e,t){this.g.hasOwnProperty(t)&&FO(e)},n),n.g={}}function Uv(){this.g=!0}function Eh(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function BTe(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<r.length;s++)r[s]=""}}}return zO(t)}catch{return e}}(n,t)+(i?" "+i:"")})}Xm.prototype.N=function(){Xm.$.N.call(this),L$(this)},Xm.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Uv.prototype.Ea=function(){this.g=!1},Uv.prototype.info=function(){};var Hl={},V$=null;function jv(){return V$=V$||new Pi}function B$(n){hr.call(this,Hl.Ta,n)}function Zm(n){const e=jv();Yi(e,new B$(e))}function z$(n,e){hr.call(this,Hl.STAT_EVENT,n),this.stat=e}function Mr(n){const e=jv();Yi(e,new z$(e,n))}function U$(n,e){hr.call(this,Hl.Ua,n),this.size=e}function Jm(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return We.setTimeout(function(){n()},e)}Hl.Ta="serverreachability",Oi(B$,hr),Hl.STAT_EVENT="statevent",Oi(z$,hr),Hl.Ua="timingevent",Oi(U$,hr);var Hv={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},j$={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function $O(){}function $$(){}$O.prototype.h=null;var WO,eg={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function GO(){hr.call(this,"d")}function qO(){hr.call(this,"c")}function $v(){}function tg(n,e,t,i){this.l=n,this.j=e,this.m=t,this.W=i||1,this.U=new Xm(this),this.P=zTe,this.V=new zv(n=TO?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new G$}function G$(){this.i=null,this.g="",this.h=!1}Oi(GO,hr),Oi(qO,hr),Oi($v,$O),$v.prototype.g=function(){return new XMLHttpRequest},$v.prototype.i=function(){return{}},WO=new $v;var zTe=45e3,KO={},Gv={};function YO(n,e,t){n.L=1,n.v=Yv(Ia(e)),n.s=t,n.S=!0,q$(n,null)}function q$(n,e){n.G=Date.now(),ng(n),n.A=Ia(n.v);var t=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),nG(t.i,"t",i),n.C=0,t=n.l.J,n.h=new G$,n.g=IG(n.l,t?e:null,!n.s),0<n.O&&(n.M=new NTe(ur(n.Pa,n,n.g),n.O)),F$(n.U,n.g,"readystatechange",n.nb),e=n.I?E$(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),Zm(),function FTe(n,e,t,i,r,o){n.info(function(){if(n.g)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var d=l[0];l=l[1];var u=d.split("_");s=2<=u.length&&"type"==u[1]?s+(d+"=")+l+"&":s+(d+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+s})}(n.j,n.u,n.A,n.m,n.W,n.s)}function W$(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function K$(n,e,t){let r,i=!0;for(;!n.J&&n.C<t.length;){if(r=UTe(n,t),r==Gv){4==e&&(n.o=4,Mr(14),i=!1),Eh(n.j,n.m,null,"[Incomplete Response]");break}if(r==KO){n.o=4,Mr(15),Eh(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}Eh(n.j,n.m,r,null),QO(n,r)}W$(n)&&r!=Gv&&r!=KO&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Mr(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),iP(e),e.M=!0,Mr(11))):(Eh(n.j,n.m,t,"[Invalid Chunked Response]"),$l(n),ig(n))}function UTe(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?Gv:(t=Number(e.substring(t,i)),isNaN(t)?KO:(i+=1)+t>e.length?Gv:(e=e.slice(i,i+t),n.C=i+t,e))}function ng(n){n.Y=Date.now()+n.P,Y$(n,n.P)}function Y$(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Jm(ur(n.lb,n),e)}function qv(n){n.B&&(We.clearTimeout(n.B),n.B=null)}function ig(n){0==n.l.H||n.J||wG(n.l,n)}function $l(n){qv(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,jO(n.V),L$(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function QO(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||XO(t.i,n)))if(!n.K&&XO(t.i,n)&&3==t.H){try{var i=t.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;tx(t),Jv(t)}nP(t),Mr(18)}}else t.Fa=r[1],0<t.Fa-t.V&&37500>r[2]&&t.G&&0==t.A&&!t.v&&(t.v=Jm(ur(t.ib,t),6e3));if(1>=oG(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else ql(t,11)}else if((n.K||t.g==n)&&tx(t),!qm(e))for(r=t.Ja.g.parse(e),e=0;e<r.length;e++){let l=r[e];if(t.V=l[0],l=l[1],2==t.H)if("c"==l[0]){t.K=l[1],t.pa=l[2];const d=l[3];null!=d&&(t.ra=d,t.l.info("VER="+t.ra));const u=l[4];null!=u&&(t.Ga=u,t.l.info("SVER="+t.Ga));const f=l[5];null!=f&&"number"==typeof f&&0<f&&(t.L=i=1.5*f,t.l.info("backChannelRequestTimeoutMs_="+i)),i=t;const m=n.g;if(m){const y=m.g?m.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(y){var o=i.i;o.g||-1==y.indexOf("spdy")&&-1==y.indexOf("quic")&&-1==y.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(ZO(o,o.h),o.h=null))}if(i.F){const C=m.g?m.g.getResponseHeader("X-HTTP-Session-Id"):null;C&&(i.Da=C,mn(i.I,i.F,C))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var s=n;if((i=t).wa=TG(i,i.J?i.pa:null,i.Y),s.K){sG(i.i,s);var a=s,c=i.L;c&&a.setTimeout(c),a.B&&(qv(a),ng(a)),i.g=s}else vG(i);0<t.j.length&&ex(t)}else"stop"!=l[0]&&"close"!=l[0]||ql(t,7);else 3==t.H&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?ql(t,7):tP(t):"noop"!=l[0]&&t.h&&t.h.Aa(l),t.A=0)}Zm()}catch{}}function Q$(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Rv(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function HTe(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Rv(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function jTe(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Rv(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length,o=0;o<r;o++)e.call(void 0,i[o],t&&t[o],n)}(he=tg.prototype).setTimeout=function(n){this.P=n},he.nb=function(n){n=n.target;const e=this.M;e&&3==Ns(n)?e.l():this.Pa(n)},he.Pa=function(n){try{if(n==this.g)e:{const d=Ns(this.g);var e=this.g.Ia();if(this.g.da(),!(3>d)&&(3!=d||TO||this.g&&(this.h.h||this.g.ja()||pG(this.g)))){this.J||4!=d||7==e||Zm(),qv(this);var t=this.g.da();this.ca=t;t:if(W$(this)){var i=pG(this.g);n="";var r=i.length,o=4==Ns(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){$l(this),ig(this);var s="";break t}this.h.i=new We.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:o&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==t,function LTe(n,e,t,i,r,o,s){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+o+" "+s})}(this.j,this.u,this.A,this.m,this.W,d,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!qm(a)){var l=a;break t}}l=null}if(!(t=l)){this.i=!1,this.o=3,Mr(12),$l(this),ig(this);break e}Eh(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,QO(this,t)}this.S?(K$(this,d,s),TO&&this.i&&3==d&&(F$(this.U,this.V,"tick",this.mb),this.V.start())):(Eh(this.j,this.m,s,null),QO(this,s)),4==d&&$l(this),this.i&&!this.J&&(4==d?wG(this.l,this):(this.i=!1,ng(this)))}else(function aIe(n){const e={};n=(n.g&&2<=Ns(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(qm(n[i]))continue;var t=OTe(n[i]);const r=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const o=e[r]||[];e[r]=o,o.push(t)}!function TTe(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(i){return i.join(", ")})})(this.g),400==t&&0<s.indexOf("Unknown SID")?(this.o=3,Mr(12)):(this.o=0,Mr(13)),$l(this),ig(this)}}}catch{}},he.mb=function(){if(this.g){var n=Ns(this.g),e=this.g.ja();this.C<e.length&&(qv(this),K$(this,n,e),this.i&&4!=n&&ng(this))}},he.cancel=function(){this.J=!0,$l(this)},he.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function VTe(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Zm(),Mr(17)),$l(this),this.o=2,ig(this)):Y$(this,this.Y-n)};var X$=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Gl(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Gl){this.h=n.h,Wv(this,n.j),this.s=n.s,this.g=n.g,Kv(this,n.m),this.l=n.l;var e=n.i,t=new sg;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Z$(this,t),this.o=n.o}else n&&(e=String(n).match(X$))?(this.h=!1,Wv(this,e[1]||"",!0),this.s=rg(e[2]||""),this.g=rg(e[3]||"",!0),Kv(this,e[4]),this.l=rg(e[5]||"",!0),Z$(this,e[6]||"",!0),this.o=rg(e[7]||"")):(this.h=!1,this.i=new sg(null,this.h))}function Ia(n){return new Gl(n)}function Wv(n,e,t){n.j=t?rg(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Kv(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Z$(n,e,t){e instanceof sg?(n.i=e,function QTe(n,e){e&&!n.j&&(xc(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(eG(this,i),nG(this,r,t))},n)),n.j=e}(n.i,n.h)):(t||(e=og(e,KTe)),n.i=new sg(e,n.h))}function mn(n,e,t){n.i.set(e,t)}function Yv(n){return mn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function rg(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function og(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,GTe),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function GTe(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Gl.prototype.toString=function(){var n=[],e=this.j;e&&n.push(og(e,J$,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(og(e,J$,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(og(t,"/"==t.charAt(0)?WTe:qTe,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",og(t,YTe)),n.join("")};var J$=/[#\/\?@]/g,qTe=/[#\?:]/g,WTe=/[#\?]/g,KTe=/[#\?@]/g,YTe=/#/g;function sg(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function xc(n){n.g||(n.g=new Map,n.h=0,n.i&&function $Te(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var o=n[t].substring(0,i);r=n[t].substring(i+1)}else o=n[t];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function eG(n,e){xc(n),e=Th(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function tG(n,e){return xc(n),e=Th(n,e),n.g.has(e)}function nG(n,e,t){eG(n,e),0<t.length&&(n.i=null,n.g.set(Th(n,e),CO(t)),n.h+=t.length)}function Th(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}(he=sg.prototype).add=function(n,e){xc(this),this.i=null,n=Th(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},he.forEach=function(n,e){xc(this),this.g.forEach(function(t,i){t.forEach(function(r){n.call(e,r,i,this)},this)},this)},he.ta=function(){xc(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const r=n[i];for(let o=0;o<r.length;o++)t.push(e[i])}return t},he.Z=function(n){xc(this);let e=[];if("string"==typeof n)tG(this,n)&&(e=e.concat(this.g.get(Th(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},he.set=function(n,e){return xc(this),this.i=null,tG(this,n=Th(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},he.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},he.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const o=encodeURIComponent(String(i)),s=this.Z(i);for(i=0;i<s.length;i++){var r=o;""!==s[i]&&(r+="="+encodeURIComponent(String(s[i]))),n.push(r)}}return this.i=n.join("&")};var XTe=class{constructor(n,e){this.g=n,this.map=e}};function iG(n){this.l=n||ZTe,n=We.PerformanceNavigationTiming?0<(n=We.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(We.g&&We.g.Ka&&We.g.Ka()&&We.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var ZTe=10;function rG(n){return!!n.h||!!n.g&&n.g.size>=n.j}function oG(n){return n.h?1:n.g?n.g.size:0}function XO(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function ZO(n,e){n.g?n.g.add(e):n.h=e}function sG(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function aG(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return CO(n.i)}iG.prototype.cancel=function(){if(this.i=aG(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var JTe=class{stringify(n){return We.JSON.stringify(n,void 0)}parse(n){return We.JSON.parse(n,void 0)}};function eIe(){this.g=new JTe}function tIe(n,e,t){const i=t||"";try{Q$(n,function(r,o){let s=r;Gm(r)&&(s=zO(r)),e.push(i+o+"="+encodeURIComponent(s))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function Qv(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function ag(n){this.l=n.fc||null,this.j=n.ob||!1}function Xv(n,e){Pi.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=JO,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Oi(ag,$O),ag.prototype.g=function(){return new Xv(this.l,this.j)},ag.prototype.i=function(n){return function(){return n}}({}),Oi(Xv,Pi);var JO=0;function cG(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function cg(n){n.readyState=4,n.l=null,n.j=null,n.A=null,lg(n)}function lg(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(he=Xv.prototype).open=function(n,e){if(this.readyState!=JO)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,lg(this)},he.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||We).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},he.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,cg(this)),this.readyState=JO},he.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,lg(this)),this.g&&(this.readyState=3,lg(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof We.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;cG(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},he.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?cg(this):lg(this),3==this.readyState&&cG(this)}},he.Za=function(n){this.g&&(this.response=this.responseText=n,cg(this))},he.Ya=function(n){this.g&&(this.response=n,cg(this))},he.ka=function(){this.g&&cg(this)},he.setRequestHeader=function(n,e){this.v.append(n,e)},he.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},he.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Xv.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var iIe=We.JSON.parse;function qn(n){Pi.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=lG,this.L=this.M=!1}Oi(qn,Pi);var lG="",rIe=/^https?$/i,oIe=["POST","PUT"];function dG(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,uG(n),Zv(n)}function uG(n){n.F||(n.F=!0,Yi(n,"complete"),Yi(n,"error"))}function hG(n){if(n.h&&typeof xO<"u"&&(!n.C[1]||4!=Ns(n)||2!=n.da()))if(n.v&&4==Ns(n))HO(n.La,0,n);else if(Yi(n,"readystatechange"),4==Ns(n)){n.h=!1;try{const s=n.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===s){var r=String(n.I).match(X$)[1]||null;!r&&We.self&&We.self.location&&(r=We.self.location.protocol.slice(0,-1)),i=!rIe.test(r?r.toLowerCase():"")}t=i}if(t)Yi(n,"complete"),Yi(n,"success");else{n.m=6;try{var o=2<Ns(n)?n.g.statusText:""}catch{o=""}n.j=o+" ["+n.da()+"]",uG(n)}}finally{Zv(n)}}}function Zv(n,e){if(n.g){fG(n);const t=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Yi(n,"ready");try{t.onreadystatechange=i}catch{}}}function fG(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(We.clearTimeout(n.A),n.A=null)}function Ns(n){return n.g?n.g.readyState:0}function pG(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case lG:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function mG(n){let e="";return AO(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function eP(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=mG(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):mn(n,e,t))}function dg(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function gG(n){this.Ga=0,this.j=[],this.l=new Uv,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=dg("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=dg("baseRetryDelayMs",5e3,n),this.hb=dg("retryDelaySeedMs",1e4,n),this.eb=dg("forwardChannelMaxRetries",2,n),this.xa=dg("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new iG(n&&n.concurrentRequestLimit),this.Ja=new eIe,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function tP(n){if(_G(n),3==n.H){var e=n.W++,t=Ia(n.I);if(mn(t,"SID",n.K),mn(t,"RID",e),mn(t,"TYPE","terminate"),ug(n,t),(e=new tg(n,n.l,e)).L=2,e.v=Yv(Ia(t)),t=!1,We.navigator&&We.navigator.sendBeacon)try{t=We.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&We.Image&&((new Image).src=e.v,t=!0),t||(e.g=IG(e.l,null),e.g.ha(e.v)),e.G=Date.now(),ng(e)}EG(n)}function Jv(n){n.g&&(iP(n),n.g.cancel(),n.g=null)}function _G(n){Jv(n),n.u&&(We.clearTimeout(n.u),n.u=null),tx(n),n.i.cancel(),n.m&&("number"==typeof n.m&&We.clearTimeout(n.m),n.m=null)}function ex(n){if(!rG(n.i)&&!n.m){n.m=!0;var e=n.Na;Ym||P$(),Qm||(Ym(),Qm=!0),UO.add(e,n),n.C=0}}function bG(n,e){var t;t=e?e.m:n.W++;const i=Ia(n.I);mn(i,"SID",n.K),mn(i,"RID",t),mn(i,"AID",n.V),ug(n,i),n.o&&n.s&&eP(i,n.o,n.s),t=new tg(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=yG(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),ZO(n.i,t),YO(t,i,e)}function ug(n,e){n.na&&AO(n.na,function(t,i){mn(e,i,t)}),n.h&&Q$({},function(t,i){mn(e,i,t)})}function yG(n,e,t){t=Math.min(n.j.length,t);var i=n.h?ur(n.h.Va,n.h,n):null;e:{var r=n.j;let o=-1;for(;;){const s=["count="+t];-1==o?0<t?(o=r[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let c=0;c<t;c++){let l=r[c].g;const d=r[c].map;if(l-=o,0>l)o=Math.max(0,r[c].g-100),a=!1;else try{tIe(d,s,"req"+l+"_")}catch{i&&i(d)}}if(a){i=s.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,i}function vG(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Ym||P$(),Qm||(Ym(),Qm=!0),UO.add(e,n),n.A=0}}function nP(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Jm(ur(n.Ma,n),CG(n,n.A)),n.A++,0))}function iP(n){null!=n.B&&(We.clearTimeout(n.B),n.B=null)}function xG(n){n.g=new tg(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Ia(n.wa);mn(e,"RID","rpc"),mn(e,"SID",n.K),mn(e,"AID",n.V),mn(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&mn(e,"TO",n.qa),mn(e,"TYPE","xmlhttp"),ug(n,e),n.o&&n.s&&eP(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=Yv(Ia(e)),t.s=null,t.S=!0,q$(t,n)}function tx(n){null!=n.v&&(We.clearTimeout(n.v),n.v=null)}function wG(n,e){var t=null;if(n.g==e){tx(n),iP(n),n.g=null;var i=2}else{if(!XO(n.i,e))return;t=e.F,sG(n.i,e),i=1}if(0!=n.H)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.G;var r=n.C;Yi(i=jv(),new U$(i,t)),ex(n)}else vG(n);else if(3==(r=e.o)||0==r&&0<e.ca||!(1==i&&function cIe(n,e){return!(oG(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Jm(ur(n.Na,n,e),CG(n,n.C)),n.C++,0)))}(n,e)||2==i&&nP(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),r){case 1:ql(n,5);break;case 4:ql(n,10);break;case 3:ql(n,6);break;default:ql(n,2)}}function CG(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function ql(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var i=ur(n.pb,n);t||(t=new Gl("//www.google.com/images/cleardot.gif"),We.location&&"http"==We.location.protocol||Wv(t,"https"),Yv(t)),function nIe(n,e){const t=new Uv;if(We.Image){const i=new Image;i.onload=Nv(Qv,t,i,"TestLoadImage: loaded",!0,e),i.onerror=Nv(Qv,t,i,"TestLoadImage: error",!1,e),i.onabort=Nv(Qv,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=Nv(Qv,t,i,"TestLoadImage: timeout",!1,e),We.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else Mr(2);n.H=0,n.h&&n.h.za(e),EG(n),_G(n)}function EG(n){if(n.H=0,n.ma=[],n.h){const e=aG(n.i);(0!=e.length||0!=n.j.length)&&(y$(n.ma,e),y$(n.ma,n.j),n.i.i.length=0,CO(n.j),n.j.length=0),n.h.ya()}}function TG(n,e,t){var i=t instanceof Gl?Ia(t):new Gl(t);if(""!=i.g)e&&(i.g=e+"."+i.g),Kv(i,i.m);else{var r=We.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var o=new Gl(null);i&&Wv(o,i),e&&(o.g=e),r&&Kv(o,r),t&&(o.l=t),i=o}return e=n.Da,(t=n.F)&&e&&mn(i,t,e),mn(i,"VER",n.ra),ug(n,i),i}function IG(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new qn(t&&n.Ha&&!n.va?new ag({ob:!0}):n.va)).Oa(n.J),e}function MG(){}function nx(){if(Ch&&!(10<=Number(xTe)))throw Error("Environmental error: no available transport.")}function oo(n,e){Pi.call(this),this.g=new gG(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!qm(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!qm(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Ih(this)}function DG(n){GO.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function SG(){qO.call(this),this.status=1}function Ih(n){this.g=n}function qo(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function rP(n,e,t){t||(t=0);var i=Array(16);if("string"==typeof e)for(var r=0;16>r;++r)i[r]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(r=0;16>r;++r)i[r]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var o=n.g[3],s=(e=n.g[0])+(o^(t=n.g[1])&((r=n.g[2])^o))+i[0]+3614090360&4294967295;s=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=t+(s<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(r^o))+i[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(r^o))+i[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(r^o))+i[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=e+(r^o&(t^r))+i[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=e+(r^o&(t^r))+i[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=e+(r^o&(t^r))+i[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=e+(r^o&(t^r))+i[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=e+(t^r^o)+i[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^r^o)+i[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^r^o)+i[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^r^o)+i[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=e+(r^(t|~o))+i[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=r+(e^(o|~t))+i[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(r|~e))+i[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=e+(r^(t|~o))+i[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=r+(e^(o|~t))+i[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(r|~e))+i[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=e+(r^(t|~o))+i[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=r+(e^(o|~t))+i[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(r|~e))+i[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(e=t+((s=e+(r^(t|~o))+i[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((r=o+((s=r+(e^(o|~t))+i[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~e))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(r+(s<<21&4294967295|s>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+o&4294967295}function Ht(n,e){this.h=e;for(var t=[],i=!0,r=n.length-1;0<=r;r--){var o=0|n[r];i&&o==e||(t[r]=o,i=!1)}this.g=t}(he=qn.prototype).Oa=function(n){this.M=n},he.ha=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():WO.g(),this.C=function H$(n){return n.h||(n.h=n.i())}(this.u?this.u:WO),this.g.onreadystatechange=ur(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(o){return void dG(this,o)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)t.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const o of i.keys())t.set(o,i.get(o))}i=Array.from(t.keys()).find(o=>"content-type"==o.toLowerCase()),r=We.FormData&&n instanceof We.FormData,!(0<=b$(oIe,e))||i||r||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of t)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{fG(this),0<this.B&&((this.L=function sIe(n){return Ch&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ur(this.ua,this)):this.A=HO(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){dG(this,o)}},he.ua=function(){typeof xO<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Yi(this,"timeout"),this.abort(8))},he.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Yi(this,"complete"),Yi(this,"abort"),Zv(this))},he.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Zv(this,!0)),qn.$.N.call(this)},he.La=function(){this.s||(this.G||this.v||this.l?hG(this):this.kb())},he.kb=function(){hG(this)},he.isActive=function(){return!!this.g},he.da=function(){try{return 2<Ns(this)?this.g.status:-1}catch{return-1}},he.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},he.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),iIe(e)}},he.Ia=function(){return this.m},he.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(he=gG.prototype).ra=8,he.H=1,he.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new tg(this,this.l,n);let o=this.s;if(this.U&&(o?(o=E$(o),I$(o,this.U)):o=this.U),null!==this.o||this.O||(r.I=o,o=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var i=this.j[t];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=yG(this,r,e),mn(t=Ia(this.I),"RID",n),mn(t,"CVER",22),this.F&&mn(t,"X-HTTP-Session-Id",this.F),ug(this,t),o&&(this.O?e="headers="+encodeURIComponent(String(mG(o)))+"&"+e:this.o&&eP(t,this.o,o)),ZO(this.i,r),this.bb&&mn(t,"TYPE","init"),this.P?(mn(t,"$req",e),mn(t,"SID","null"),r.aa=!0,YO(r,t,null)):YO(r,t,e),this.H=2}}else 3==this.H&&(n?bG(this,n):0==this.j.length||rG(this.i)||bG(this))},he.Ma=function(){if(this.u=null,xG(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Jm(ur(this.jb,this),n)}},he.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Mr(10),Jv(this),xG(this))},he.ib=function(){null!=this.v&&(this.v=null,Jv(this),nP(this),Mr(19))},he.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Mr(2)):(this.l.info("Failed to ping google.com"),Mr(1))},he.isActive=function(){return!!this.h&&this.h.isActive(this)},(he=MG.prototype).Ba=function(){},he.Aa=function(){},he.za=function(){},he.ya=function(){},he.isActive=function(){return!0},he.Va=function(){},nx.prototype.g=function(n,e){return new oo(n,e)},Oi(oo,Pi),oo.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Mr(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=TG(n,null,n.Y),ex(n)},oo.prototype.close=function(){tP(this.g)},oo.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=zO(n),n=t);e.j.push(new XTe(e.fb++,n)),3==e.H&&ex(e)},oo.prototype.N=function(){this.g.h=null,delete this.j,tP(this.g),delete this.g,oo.$.N.call(this)},Oi(DG,GO),Oi(SG,qO),Oi(Ih,MG),Ih.prototype.Ba=function(){Yi(this.g,"a")},Ih.prototype.Aa=function(n){Yi(this.g,new DG(n))},Ih.prototype.za=function(n){Yi(this.g,new SG)},Ih.prototype.ya=function(){Yi(this.g,"b")},Oi(qo,function lIe(){this.blockSize=-1}),qo.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},qo.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,i=this.m,r=this.h,o=0;o<e;){if(0==r)for(;o<=t;)rP(this,n,o),o+=this.blockSize;if("string"==typeof n){for(;o<e;)if(i[r++]=n.charCodeAt(o++),r==this.blockSize){rP(this,i),r=0;break}}else for(;o<e;)if(i[r++]=n[o++],r==this.blockSize){rP(this,i),r=0;break}}this.h=r,this.i+=e},qo.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var i=0;32>i;i+=8)n[t++]=this.g[e]>>>i&255;return n};var dIe={};function oP(n){return-128<=n&&128>n?function bTe(n,e){var t=dIe;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Ht([0|e],0>e?-1:0)}):new Ht([0|n],0>n?-1:0)}function Fs(n){if(isNaN(n)||!isFinite(n))return Mh;if(0>n)return Qi(Fs(-n));for(var e=[],t=1,i=0;n>=t;i++)e[i]=n/t|0,t*=sP;return new Ht(e,0)}var sP=4294967296,Mh=oP(0),aP=oP(1),AG=oP(16777216);function Ma(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Co(n){return-1==n.h}function Qi(n){for(var e=n.g.length,t=[],i=0;i<e;i++)t[i]=~n.g[i];return new Ht(t,~n.h).add(aP)}function ix(n,e){return n.add(Qi(e))}function rx(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function hg(n,e){this.g=n,this.h=e}function ox(n,e){if(Ma(e))throw Error("division by zero");if(Ma(n))return new hg(Mh,Mh);if(Co(n))return e=ox(Qi(n),e),new hg(Qi(e.g),Qi(e.h));if(Co(e))return e=ox(n,Qi(e)),new hg(Qi(e.g),e.h);if(30<n.g.length){if(Co(n)||Co(e))throw Error("slowDivide_ only works with positive integers.");for(var t=aP,i=e;0>=i.X(n);)t=OG(t),i=OG(i);var r=Dh(t,1),o=Dh(i,1);for(i=Dh(i,2),t=Dh(t,2);!Ma(i);){var s=o.add(i);0>=s.X(n)&&(r=r.add(t),o=s),i=Dh(i,1),t=Dh(t,1)}return e=ix(n,r.R(e)),new hg(r,e)}for(r=Mh;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),i=48>=(i=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,i-48),s=(o=Fs(t)).R(e);Co(s)||0<s.X(n);)s=(o=Fs(t-=i)).R(e);Ma(o)&&(o=aP),r=r.add(o),n=ix(n,s)}return new hg(r,n)}function OG(n){for(var e=n.g.length+1,t=[],i=0;i<e;i++)t[i]=n.D(i)<<1|n.D(i-1)>>>31;return new Ht(t,n.h)}function Dh(n,e){var t=e>>5;e%=32;for(var i=n.g.length-t,r=[],o=0;o<i;o++)r[o]=0<e?n.D(o+t)>>>e|n.D(o+t+1)<<32-e:n.D(o+t);return new Ht(r,n.h)}(he=Ht.prototype).ea=function(){if(Co(this))return-Qi(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var i=this.D(t);n+=(0<=i?i:sP+i)*e,e*=sP}return n},he.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Ma(this))return"0";if(Co(this))return"-"+Qi(this).toString(n);for(var e=Fs(Math.pow(n,6)),t=this,i="";;){var r=ox(t,e).g,o=((0<(t=ix(t,r.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Ma(t=r))return o+i;for(;6>o.length;)o="0"+o;i=o+i}},he.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},he.X=function(n){return Co(n=ix(this,n))?-1:Ma(n)?0:1},he.abs=function(){return Co(this)?Qi(this):this},he.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0,r=0;r<=e;r++){var o=i+(65535&this.D(r))+(65535&n.D(r)),s=(o>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=s>>>16,t[r]=(s&=65535)<<16|(o&=65535)}return new Ht(t,-2147483648&t[t.length-1]?-1:0)},he.R=function(n){if(Ma(this)||Ma(n))return Mh;if(Co(this))return Co(n)?Qi(this).R(Qi(n)):Qi(Qi(this).R(n));if(Co(n))return Qi(this.R(Qi(n)));if(0>this.X(AG)&&0>n.X(AG))return Fs(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],i=0;i<2*e;i++)t[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var o=this.D(i)>>>16,s=65535&this.D(i),a=n.D(r)>>>16,c=65535&n.D(r);t[2*i+2*r]+=s*c,rx(t,2*i+2*r),t[2*i+2*r+1]+=o*c,rx(t,2*i+2*r+1),t[2*i+2*r+1]+=s*a,rx(t,2*i+2*r+1),t[2*i+2*r+2]+=o*a,rx(t,2*i+2*r+2)}for(i=0;i<e;i++)t[i]=t[2*i+1]<<16|t[2*i];for(i=e;i<2*e;i++)t[i]=0;return new Ht(t,0)},he.gb=function(n){return ox(this,n).h},he.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)&n.D(i);return new Ht(t,this.h&n.h)},he.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)|n.D(i);return new Ht(t,this.h|n.h)},he.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)^n.D(i);return new Ht(t,this.h^n.h)},nx.prototype.createWebChannel=nx.prototype.g,oo.prototype.send=oo.prototype.u,oo.prototype.open=oo.prototype.m,oo.prototype.close=oo.prototype.close,Hv.NO_ERROR=0,Hv.TIMEOUT=8,Hv.HTTP_ERROR=6,j$.COMPLETE="complete",$$.EventType=eg,eg.OPEN="a",eg.CLOSE="b",eg.ERROR="c",eg.MESSAGE="d",Pi.prototype.listen=Pi.prototype.O,qn.prototype.listenOnce=qn.prototype.P,qn.prototype.getLastError=qn.prototype.Sa,qn.prototype.getLastErrorCode=qn.prototype.Ia,qn.prototype.getStatus=qn.prototype.da,qn.prototype.getResponseJson=qn.prototype.Wa,qn.prototype.getResponseText=qn.prototype.ja,qn.prototype.send=qn.prototype.ha,qn.prototype.setWithCredentials=qn.prototype.Oa,qo.prototype.digest=qo.prototype.l,qo.prototype.reset=qo.prototype.reset,qo.prototype.update=qo.prototype.j,Ht.prototype.add=Ht.prototype.add,Ht.prototype.multiply=Ht.prototype.R,Ht.prototype.modulo=Ht.prototype.gb,Ht.prototype.compare=Ht.prototype.X,Ht.prototype.toNumber=Ht.prototype.ea,Ht.prototype.toString=Ht.prototype.toString,Ht.prototype.getBits=Ht.prototype.D,Ht.fromNumber=Fs,Ht.fromString=function kG(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Qi(kG(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Fs(Math.pow(e,8)),i=Mh,r=0;r<n.length;r+=8){var o=Math.min(8,n.length-r),s=parseInt(n.substring(r,r+o),e);8>o?(o=Fs(Math.pow(e,o)),i=i.R(o).add(Fs(s))):i=(i=i.R(t)).add(Fs(s))}return i};var uIe=Go.createWebChannelTransport=function(){return new nx},hIe=Go.getStatEventTarget=function(){return jv()},cP=Go.ErrorCode=Hv,fIe=Go.EventType=j$,pIe=Go.Event=Hl,PG=Go.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},mIe=Go.FetchXmlHttpFactory=ag,sx=Go.WebChannel=$$,gIe=Go.XhrIo=qn,_Ie=Go.Md5=qo,Sh=Go.Integer=Ht;const RG="@firebase/firestore";class Ri{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ri.UNAUTHENTICATED=new Ri(null),Ri.GOOGLE_CREDENTIALS=new Ri("google-credentials-uid"),Ri.FIRST_PARTY=new Ri("first-party-uid"),Ri.MOCK_USER=new Ri("mock-user");let kh="9.23.0";const wc=new Al("@firebase/firestore");function lP(){return wc.logLevel}function te(n,...e){if(wc.logLevel<=vt.DEBUG){const t=e.map(dP);wc.debug(`Firestore (${kh}): ${n}`,...t)}}function ii(n,...e){if(wc.logLevel<=vt.ERROR){const t=e.map(dP);wc.error(`Firestore (${kh}): ${n}`,...t)}}function Wo(n,...e){if(wc.logLevel<=vt.WARN){const t=e.map(dP);wc.warn(`Firestore (${kh}): ${n}`,...t)}}function dP(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function pe(n="Unexpected state"){const e=`FIRESTORE (${kh}) INTERNAL ASSERTION FAILED: `+n;throw ii(e),new Error(e)}function Te(n,e){n||pe()}function de(n,e){return n}const z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class J extends jr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ci{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class NG{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class bIe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ri.UNAUTHENTICATED))}shutdown(){}}class yIe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class vIe{constructor(e){this.t=e,this.currentUser=Ri.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const o=l=>this.i!==r?(r=this.i,t(l)):Promise.resolve();let s=new Ci;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ci,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const l=s;e.enqueueRetryable(_(function*(){yield l.promise,yield o(i.currentUser)}))},c=l=>{te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>c(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?c(l):(te("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ci)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Te("string"==typeof i.accessToken),new NG(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Te(null===e||"string"==typeof e),new Ri(e)}}class xIe{constructor(e,t,i){this.h=e,this.l=t,this.m=i,this.type="FirstParty",this.user=Ri.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class wIe{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new xIe(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Ri.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class FG{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class CIe{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const i=o=>{null!=o.error&&te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.T;return this.T=o.token,te("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};const r=o=>{te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.I.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.I.getImmediate({optional:!0});o?r(o):te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Te("string"==typeof t.token),this.T=t.token,new FG(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function EIe(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class LG{static A(){const t=62*Math.floor(256/62);let i="";for(;i.length<20;){const r=EIe(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<t&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[o]%62))}return i}}function je(n,e){return n<e?-1:n>e?1:0}function Ah(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function VG(n){return n+"\0"}class Fn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new J(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new J(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new J(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new J(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Fn.fromMillis(Date.now())}static fromDate(e){return Fn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Fn(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ie{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new Fn(0,0))}static max(){return new Ie(new Fn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class fg{constructor(e,t,i){void 0===t?t=0:t>e.length&&pe(),void 0===i?i=e.length-t:i>e.length-t&&pe(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===fg.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof fg?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const o=e.get(r),s=t.get(r);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Et extends fg{construct(e,t,i){return new Et(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new J(z.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new Et(t)}static emptyPath(){return new Et([])}}const TIe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ri extends fg{construct(e,t,i){return new ri(e,t,i)}static isValidIdentifier(e){return TIe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ri.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ri(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const o=()=>{if(0===i.length)throw new J(z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let s=!1;for(;r<e.length;){const a=e[r];if("\\"===a){if(r+1===e.length)throw new J(z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[r+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new J(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=c,r+=2}else"`"===a?(s=!s,r++):"."!==a||s?(i+=a,r++):(o(),r++)}if(o(),s)throw new J(z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ri(t)}static emptyPath(){return new ri([])}}class ce{constructor(e){this.path=e}static fromPath(e){return new ce(Et.fromString(e))}static fromName(e){return new ce(Et.fromString(e).popFirst(5))}static empty(){return new ce(Et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Et.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Et.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ce(new Et(e.slice()))}}class ax{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function uP(n){return n.fields.find(e=>2===e.kind)}function Wl(n){return n.fields.filter(e=>2!==e.kind)}ax.UNKNOWN_ID=-1;class cx{constructor(e,t){this.fieldPath=e,this.kind=t}}class pg{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new pg(0,so.min())}}function zG(n){return new so(n.readTime,n.key,-1)}class so{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new so(Ie.min(),ce.empty(),-1)}static max(){return new so(Ie.max(),ce.empty(),-1)}}function hP(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=ce.comparator(n.documentKey,e.documentKey),0!==t?t:je(n.largestBatchId,e.largestBatchId))}const UG="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jG{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Cc(n){return fP.apply(this,arguments)}function fP(){return fP=_(function*(n){if(n.code!==z.FAILED_PRECONDITION||n.message!==UG)throw n;te("LocalStore","Unexpectedly lost primary lease")}),fP.apply(this,arguments)}class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&pe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new B((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(t,o).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof B?t:B.resolve(t)}catch(t){return B.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):B.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):B.reject(t)}static resolve(e){return new B((t,i)=>{t(e)})}static reject(e){return new B((t,i)=>{i(e)})}static waitFor(e){return new B((t,i)=>{let r=0,o=0,s=!1;e.forEach(a=>{++r,a.next(()=>{++o,s&&o===r&&t()},c=>i(c))}),s=!0,o===r&&t()})}static or(e){let t=B.resolve(!1);for(const i of e)t=t.next(r=>r?B.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,o)=>{i.push(t.call(this,r,o))}),this.waitFor(i)}static mapArray(e,t){return new B((i,r)=>{const o=e.length,s=new Array(o);let a=0;for(let c=0;c<o;c++){const l=c;t(e[l]).next(d=>{s[l]=d,++a,a===o&&i(s)},d=>r(d))}})}static doWhile(e,t){return new B((i,r)=>{const o=()=>{!0===e()?t().next(()=>{o()},r):i()};o()})}}class lx{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new Ci,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new mg(e,t.error)):this.v.resolve()},this.transaction.onerror=i=>{const r=pP(i.target.error);this.v.reject(new mg(e,r))}}static open(e,t,i,r){try{return new lx(t,e.transaction(r,i))}catch(o){throw new mg(t,o)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(te("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new SIe(t)}}class Ko{constructor(e,t,i){this.name=e,this.version=t,this.V=i,12.2===Ko.S(ti())&&ii("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return te("SimpleDb","Removing database:",e),Kl(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!fc())return!1;if(Ko.C())return!0;const e=ti(),t=Ko.S(e),i=0<t&&t<10,r=Ko.N(e),o=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||o)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static N(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}$(e){var t=this;return _(function*(){return t.db||(te("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const o=indexedDB.open(t.name,t.version);o.onsuccess=s=>{i(s.target.result)},o.onblocked=()=>{r(new mg(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=s=>{const a=s.target.error;r("VersionError"===a.name?new J(z.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===a.name?new J(z.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a):new mg(e,a))},o.onupgradeneeded=s=>{te("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',s.oldVersion),t.V.O(s.target.result,o.transaction,s.oldVersion,t.version).next(()=>{te("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=i=>t.F(i)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var o=this;return _(function*(){const s="readonly"===t;let a=0;for(;;){++a;try{o.db=yield o.$(e);const c=lx.open(o.db,e,s?"readonly":"readwrite",i),l=r(c).next(d=>(c.P(),d)).catch(d=>(c.abort(d),B.reject(d))).toPromise();return l.catch(()=>{}),yield c.R,l}catch(c){const l=c,d="FirebaseError"!==l.name&&a<3;if(te("SimpleDb","Transaction failed with error:",l.message,"Retrying:",d),o.close(),!d)return Promise.reject(l)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class DIe{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Kl(this.L.delete())}}class mg extends J{constructor(e,t){super(z.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Ec(n){return"IndexedDbTransactionError"===n.name}class SIe{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(te("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(te("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),Kl(i)}add(e){return te("SimpleDb","ADD",this.store.name,e,e),Kl(this.store.add(e))}get(e){return Kl(this.store.get(e)).next(t=>(void 0===t&&(t=null),te("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return te("SimpleDb","DELETE",this.store.name,e),Kl(this.store.delete(e))}count(){return te("SimpleDb","COUNT",this.store.name),Kl(this.store.count())}j(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),o=[];return this.W(r,(s,a)=>{o.push(a)}).next(()=>o)}{const r=this.store.getAll(i.range);return new B((o,s)=>{r.onerror=a=>{s(a.target.error)},r.onsuccess=a=>{o(a.target.result)}})}}H(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new B((r,o)=>{i.onerror=s=>{o(s.target.error)},i.onsuccess=s=>{r(s.target.result)}})}J(e,t){te("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.Y=!1;const r=this.cursor(i);return this.W(r,(o,s,a)=>a.delete())}X(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.W(r,t)}Z(e){const t=this.cursor({});return new B((i,r)=>{t.onerror=o=>{const s=pP(o.target.error);r(s)},t.onsuccess=o=>{const s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():i()}):i()}})}W(e,t){const i=[];return new B((r,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{const a=s.target.result;if(!a)return void r();const c=new DIe(a),l=t(a.primaryKey,a.value,c);if(l instanceof B){const d=l.catch(u=>(c.done(),B.reject(u)));i.push(d)}c.isDone?r():null===c.K?a.continue():a.continue(c.K)}}).next(()=>B.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.Y?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Kl(n){return new B((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=pP(i.target.error);t(r)}})}let HG=!1;function pP(n){const e=Ko.S(ti());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new J("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return HG||(HG=!0,setTimeout(()=>{throw i},0)),i}}return n}class kIe{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;te("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,_(function*(){t.task=null;try{te("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(i){Ec(i)?te("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield Cc(i)}yield t.et(6e4)}))}}class AIe{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return _(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.st(i,e))})()}st(e,t){const i=new Set;let r=t,o=!0;return B.doWhile(()=>!0===o&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(s=>{if(null!==s&&!i.has(s))return te("IndexBackiller",`Processing collection: ${s}`),this.it(e,s,r).next(a=>{r-=a,i.add(s)});o=!1})).next(()=>t-r)}it(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(o=>{const s=o.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next(()=>this.rt(r,o)).next(a=>(te("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,t,a))).next(()=>s.size)}))}rt(e,t){let i=e;return t.changes.forEach((r,o)=>{const s=zG(o);hP(s,i)>0&&(i=s)}),new so(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}let ao=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>i.writeSequenceNumber(r))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function gg(n){return null==n}function _g(n){return 0===n&&1/n==-1/0}function fr(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=GG(e)),e=OIe(n.get(t),e);return GG(e)}function OIe(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=o}}return t}function GG(n){return n+"\x01\x01"}function Ls(n){const e=n.length;if(Te(e>=2),2===e)return Te("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Et.emptyPath();const t=e-2,i=[];let r="";for(let o=0;o<e;){const s=n.indexOf("\x01",o);switch((s<0||s>t)&&pe(),n.charAt(s+1)){case"\x01":const a=n.substring(o,s);let c;0===r.length?c=a:(r+=a,c=r,r=""),i.push(c);break;case"\x10":r+=n.substring(o,s),r+="\0";break;case"\x11":r+=n.substring(o,s+1);break;default:pe()}o=s+2}return new Et(i)}const qG=["userId","batchId"];function dx(n,e){return[n,fr(e)]}function WG(n,e,t){return[n,fr(e),t]}const PIe={},RIe=["prefixPath","collectionGroup","readTime","documentId"],NIe=["prefixPath","collectionGroup","documentId"],FIe=["collectionGroup","readTime","prefixPath","documentId"],LIe=["canonicalId","targetId"],VIe=["targetId","path"],BIe=["path","targetId"],zIe=["collectionId","parent"],UIe=["indexId","uid"],jIe=["uid","sequenceNumber"],HIe=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],$Ie=["indexId","uid","orderedDocumentKey"],GIe=["userId","collectionPath","documentId"],qIe=["userId","collectionPath","largestBatchId"],WIe=["userId","collectionGroup","largestBatchId"],KG=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],KIe=[...KG,"documentOverlays"],YG=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],QG=YG,YIe=[...QG,"indexConfiguration","indexState","indexEntries"];class mP extends jG{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function Ni(n,e){const t=de(n);return Ko.M(t.ht,e)}function XG(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Tc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function ZG(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class hn{constructor(e,t){this.comparator=e,this.root=t||Xi.EMPTY}insert(e,t){return new hn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Xi.BLACK,null,null))}remove(e){return new hn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ux(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ux(this.root,e,this.comparator,!1)}getReverseIterator(){return new ux(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ux(this.root,e,this.comparator,!0)}}class ux{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?i(e.key,t):1,t&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xi{constructor(e,t,i,r,o){this.key=e,this.value=t,this.color=i??Xi.RED,this.left=r??Xi.EMPTY,this.right=o??Xi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,o){return new Xi(e??this.key,t??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===o?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Xi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Xi.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw pe();const e=this.left.check();if(e!==this.right.check())throw pe();return e+(this.isRed()?0:1)}}Xi.EMPTY=null,Xi.RED=!0,Xi.BLACK=!1,Xi.EMPTY=new class{constructor(){this.size=0}get key(){throw pe()}get value(){throw pe()}get color(){throw pe()}get left(){throw pe()}get right(){throw pe()}copy(n,e,t,i,r){return this}insert(n,e,t){return new Xi(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class gn{constructor(e){this.comparator=e,this.data=new hn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new JG(this.data.getIterator())}getIteratorFrom(e){return new JG(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof gn)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new gn(this.comparator);return t.data=e,t}}class JG{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Oh(n){return n.hasNext()?n.getNext():void 0}class Gr{constructor(e){this.fields=e,e.sort(ri.comparator)}static empty(){return new Gr([])}unionWith(e){let t=new gn(ri.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Gr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ah(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class eq extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ei{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new eq("Invalid base64 string: "+r):r}}(e);return new Ei(t)}static fromUint8Array(e){const t=function(i){let r="";for(let o=0;o<i.length;++o)r+=String.fromCharCode(i[o]);return r}(e);return new Ei(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ei.EMPTY_BYTE_STRING=new Ei("");const QIe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ic(n){if(Te(!!n),"string"==typeof n){let e=0;const t=QIe.exec(n);if(Te(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Wn(n.seconds),nanos:Wn(n.nanos)}}function Wn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Da(n){return"string"==typeof n?Ei.fromBase64String(n):Ei.fromUint8Array(n)}function hx(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function fx(n){const e=n.mapValue.fields.__previous_value__;return hx(e)?fx(e):e}function bg(n){const e=Ic(n.mapValue.fields.__local_write_time__.timestampValue);return new Fn(e.seconds,e.nanos)}class XIe{constructor(e,t,i,r,o,s,a,c,l){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}}class Yl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Yl("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Yl&&e.projectId===this.projectId&&e.database===this.database}}const Mc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},px={nullValue:"NULL_VALUE"};function Dc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?hx(n)?4:rq(n)?9007199254740991:10:pe()}function Vs(n,e){if(n===e)return!0;const t=Dc(n);if(t!==Dc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return bg(n).isEqual(bg(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const o=Ic(i.timestampValue),s=Ic(r.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,Da(n.bytesValue).isEqual(Da(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return Wn(i.geoPointValue.latitude)===Wn(r.geoPointValue.latitude)&&Wn(i.geoPointValue.longitude)===Wn(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Wn(i.integerValue)===Wn(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const o=Wn(i.doubleValue),s=Wn(r.doubleValue);return o===s?_g(o)===_g(s):isNaN(o)&&isNaN(s)}return!1}(n,e);case 9:return Ah(n.arrayValue.values||[],e.arrayValue.values||[],Vs);case 10:return function(i,r){const o=i.mapValue.fields||{},s=r.mapValue.fields||{};if(XG(o)!==XG(s))return!1;for(const a in o)if(o.hasOwnProperty(a)&&(void 0===s[a]||!Vs(o[a],s[a])))return!1;return!0}(n,e);default:return pe()}var r}function yg(n,e){return void 0!==(n.values||[]).find(t=>Vs(t,e))}function Sc(n,e){if(n===e)return 0;const t=Dc(n),i=Dc(e);if(t!==i)return je(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return je(n.booleanValue,e.booleanValue);case 2:return function(r,o){const s=Wn(r.integerValue||r.doubleValue),a=Wn(o.integerValue||o.doubleValue);return s<a?-1:s>a?1:s===a?0:isNaN(s)?isNaN(a)?0:-1:1}(n,e);case 3:return tq(n.timestampValue,e.timestampValue);case 4:return tq(bg(n),bg(e));case 5:return je(n.stringValue,e.stringValue);case 6:return function(r,o){const s=Da(r),a=Da(o);return s.compareTo(a)}(n.bytesValue,e.bytesValue);case 7:return function(r,o){const s=r.split("/"),a=o.split("/");for(let c=0;c<s.length&&c<a.length;c++){const l=je(s[c],a[c]);if(0!==l)return l}return je(s.length,a.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,o){const s=je(Wn(r.latitude),Wn(o.latitude));return 0!==s?s:je(Wn(r.longitude),Wn(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,o){const s=r.values||[],a=o.values||[];for(let c=0;c<s.length&&c<a.length;++c){const l=Sc(s[c],a[c]);if(l)return l}return je(s.length,a.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,o){if(r===Mc.mapValue&&o===Mc.mapValue)return 0;if(r===Mc.mapValue)return 1;if(o===Mc.mapValue)return-1;const s=r.fields||{},a=Object.keys(s),c=o.fields||{},l=Object.keys(c);a.sort(),l.sort();for(let d=0;d<a.length&&d<l.length;++d){const u=je(a[d],l[d]);if(0!==u)return u;const f=Sc(s[a[d]],c[l[d]]);if(0!==f)return f}return je(a.length,l.length)}(n.mapValue,e.mapValue);default:throw pe()}}function tq(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return je(n,e);const t=Ic(n),i=Ic(e),r=je(t.seconds,i.seconds);return 0!==r?r:je(t.nanos,i.nanos)}function Ph(n){return gP(n)}function gP(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Ic(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Da(n.bytesValue).toBase64():"referenceValue"in n?ce.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",o=!0;for(const s of i.values||[])o?o=!1:r+=",",r+=gP(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let o="{",s=!0;for(const a of r)s?s=!1:o+=",",o+=`${a}:${gP(i.fields[a])}`;return o+"}"}(n.mapValue):pe();var e}function Ql(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function _P(n){return!!n&&"integerValue"in n}function vg(n){return!!n&&"arrayValue"in n}function nq(n){return!!n&&"nullValue"in n}function iq(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function gx(n){return!!n&&"mapValue"in n}function xg(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Tc(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=xg(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=xg(n.arrayValue.values[t]);return e}return Object.assign({},n)}function rq(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function ZIe(n){return"nullValue"in n?px:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Ql(Yl.empty(),ce.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:pe()}function JIe(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Ql(Yl.empty(),ce.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Mc:pe()}function oq(n,e){const t=Sc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function sq(n,e){const t=Sc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Zi{constructor(e){this.value=e}static empty(){return new Zi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!gx(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=xg(t)}setAll(e){let t=ri.emptyPath(),i={},r=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){const c=this.getFieldsMap(t);this.applyChanges(c,i,r),i={},r=[],t=a.popLast()}s?i[a.lastSegment()]=xg(s):r.push(a.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,i,r)}delete(e){const t=this.field(e.popLast());gx(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Vs(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];gx(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){Tc(t,(r,o)=>e[r]=o);for(const r of i)delete e[r]}clone(){return new Zi(xg(this.value))}}function aq(n){const e=[];return Tc(n.fields,(t,i)=>{const r=new ri([t]);if(gx(i)){const o=aq(i.mapValue).fields;if(0===o.length)e.push(r);else for(const s of o)e.push(r.child(s))}else e.push(r)}),new Gr(e)}class _n{constructor(e,t,i,r,o,s,a){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new _n(e,0,Ie.min(),Ie.min(),Ie.min(),Zi.empty(),0)}static newFoundDocument(e,t,i,r){return new _n(e,1,t,Ie.min(),i,r,0)}static newNoDocument(e,t){return new _n(e,2,t,Ie.min(),Ie.min(),Zi.empty(),0)}static newUnknownDocument(e,t){return new _n(e,3,t,Ie.min(),Ie.min(),Zi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ie.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof _n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class kc{constructor(e,t){this.position=e,this.inclusive=t}}function cq(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const o=e[r],s=n.position[r];if(i=o.field.isKeyField()?ce.comparator(ce.fromName(s.referenceValue),t.key):Sc(s,t.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function lq(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Vs(n.position[t],e.position[t]))return!1;return!0}class Rh{constructor(e,t="asc"){this.field=e,this.dir=t}}function eMe(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class dq{}class bt extends dq{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new tMe(e,t,i):"array-contains"===t?new rMe(e,i):"in"===t?new gq(e,i):"not-in"===t?new oMe(e,i):"array-contains-any"===t?new sMe(e,i):new bt(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new nMe(e,i):new iMe(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Sc(t,this.value)):null!==t&&Dc(this.value)===Dc(t)&&this.matchesComparison(Sc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return pe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class $t extends dq{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new $t(e,t)}matches(e){return Nh(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Nh(n){return"and"===n.op}function bP(n){return"or"===n.op}function yP(n){return uq(n)&&Nh(n)}function uq(n){for(const e of n.filters)if(e instanceof $t)return!1;return!0}function vP(n){if(n instanceof bt)return n.field.canonicalString()+n.op.toString()+Ph(n.value);if(yP(n))return n.filters.map(e=>vP(e)).join(",");{const e=n.filters.map(t=>vP(t)).join(",");return`${n.op}(${e})`}}function hq(n,e){return n instanceof bt?(t=n,(i=e)instanceof bt&&t.op===i.op&&t.field.isEqual(i.field)&&Vs(t.value,i.value)):n instanceof $t?function(t,i){return i instanceof $t&&t.op===i.op&&t.filters.length===i.filters.length&&t.filters.reduce((r,o,s)=>r&&hq(o,i.filters[s]),!0)}(n,e):void pe();var t,i}function fq(n,e){const t=n.filters.concat(e);return $t.create(t,n.op)}function pq(n){return n instanceof bt?`${(e=n).field.canonicalString()} ${e.op} ${Ph(e.value)}`:n instanceof $t?function(e){return e.op.toString()+" {"+e.getFilters().map(pq).join(" ,")+"}"}(n):"Filter";var e}class tMe extends bt{constructor(e,t,i){super(e,t,i),this.key=ce.fromName(i.referenceValue)}matches(e){const t=ce.comparator(e.key,this.key);return this.matchesComparison(t)}}class nMe extends bt{constructor(e,t){super(e,"in",t),this.keys=mq(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class iMe extends bt{constructor(e,t){super(e,"not-in",t),this.keys=mq(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function mq(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>ce.fromName(i.referenceValue))}class rMe extends bt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return vg(t)&&yg(t.arrayValue,this.value)}}class gq extends bt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&yg(this.value.arrayValue,t)}}class oMe extends bt{constructor(e,t){super(e,"not-in",t)}matches(e){if(yg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!yg(this.value.arrayValue,t)}}class sMe extends bt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!vg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>yg(this.value.arrayValue,i))}}class aMe{constructor(e,t=null,i=[],r=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=s,this.endAt=a,this.dt=null}}function xP(n,e=null,t=[],i=[],r=null,o=null,s=null){return new aMe(n,e,t,i,r,o,s)}function Xl(n){const e=de(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>vP(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),gg(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Ph(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Ph(i)).join(",")),e.dt=t}return e.dt}function wg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!eMe(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!hq(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!lq(n.startAt,e.startAt)&&lq(n.endAt,e.endAt)}function _x(n){return ce.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function bx(n,e){return n.filters.filter(t=>t instanceof bt&&t.field.isEqual(e))}function _q(n,e,t){let i=px,r=!0;for(const o of bx(n,e)){let s=px,a=!0;switch(o.op){case"<":case"<=":s=ZIe(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=px}oq({value:i,inclusive:r},{value:s,inclusive:a})<0&&(i=s,r=a)}if(null!==t)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const s=t.position[o];oq({value:i,inclusive:r},{value:s,inclusive:t.inclusive})<0&&(i=s,r=t.inclusive);break}return{value:i,inclusive:r}}function bq(n,e,t){let i=Mc,r=!0;for(const o of bx(n,e)){let s=Mc,a=!0;switch(o.op){case">=":case">":s=JIe(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=Mc}sq({value:i,inclusive:r},{value:s,inclusive:a})>0&&(i=s,r=a)}if(null!==t)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const s=t.position[o];sq({value:i,inclusive:r},{value:s,inclusive:t.inclusive})>0&&(i=s,r=t.inclusive);break}return{value:i,inclusive:r}}class Sa{constructor(e,t=null,i=[],r=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.wt=null,this._t=null}}function Fh(n){return new Sa(n)}function vq(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function wP(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function yx(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function CP(n){return null!==n.collectionGroup}function Zl(n){const e=de(n);if(null===e.wt){e.wt=[];const t=yx(e),i=wP(e);if(null!==t&&null===i)t.isKeyField()||e.wt.push(new Rh(t)),e.wt.push(new Rh(ri.keyField(),"asc"));else{let r=!1;for(const o of e.explicitOrderBy)e.wt.push(o),o.field.isKeyField()&&(r=!0);if(!r){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Rh(ri.keyField(),o))}}}return e.wt}function Dr(n){const e=de(n);if(!e._t)if("F"===e.limitType)e._t=xP(e.path,e.collectionGroup,Zl(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const o of Zl(e))t.push(new Rh(o.field,"desc"===o.dir?"asc":"desc"));const i=e.endAt?new kc(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new kc(e.startAt.position,e.startAt.inclusive):null;e._t=xP(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e._t}function EP(n,e){e.getFirstInequalityField(),yx(n);const t=n.filters.concat([e]);return new Sa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function vx(n,e,t){return new Sa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Cg(n,e){return wg(Dr(n),Dr(e))&&n.limitType===e.limitType}function xq(n){return`${Xl(Dr(n))}|lt:${n.limitType}`}function TP(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(i=>pq(i)).join(", ")}]`),gg(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Ph(i)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Ph(i)).join(",")),`Target(${t})`}(Dr(n))}; limitType=${n.limitType})`}function Eg(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):ce.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of Zl(t))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,o,s){const a=cq(r,o,s);return r.inclusive?a<=0:a<0}(t.startAt,Zl(t),i)||t.endAt&&!function(r,o,s){const a=cq(r,o,s);return r.inclusive?a>=0:a>0}(t.endAt,Zl(t),i)));var t,i}function Cq(n){return(e,t)=>{let i=!1;for(const r of Zl(n)){const o=cMe(r,e,t);if(0!==o)return o;i=i||r.field.isKeyField()}return 0}}function cMe(n,e,t){const i=n.field.isKeyField()?ce.comparator(e.key,t.key):function(r,o,s){const a=o.data.field(r),c=s.data.field(r);return null!==a&&null!==c?Sc(a,c):pe()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return pe()}}class ka{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,o]of i)if(this.equalsFn(r,e))return o}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Tc(this.inner,(t,i)=>{for(const[r,o]of i)e(r,o)})}isEmpty(){return ZG(this.inner)}size(){return this.innerSize}}const lMe=new hn(ce.comparator);function qr(){return lMe}const Eq=new hn(ce.comparator);function Tg(...n){let e=Eq;for(const t of n)e=e.insert(t.key,t);return e}function Tq(n){let e=Eq;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Bs(){return Ig()}function Iq(){return Ig()}function Ig(){return new ka(n=>n.toString(),(n,e)=>n.isEqual(e))}const dMe=new hn(ce.comparator),uMe=new gn(ce.comparator);function nt(...n){let e=uMe;for(const t of n)e=e.add(t);return e}const hMe=new gn(je);function Mq(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_g(e)?"-0":e}}function Dq(n){return{integerValue:""+n}}function Sq(n,e){return function $G(n){return"number"==typeof n&&Number.isInteger(n)&&!_g(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?Dq(e):Mq(n,e)}class xx{constructor(){this._=void 0}}function fMe(n,e,t){return n instanceof Lh?function(i,r){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&hx(r)&&(r=fx(r)),r&&(o.fields.__previous_value__=r),{mapValue:o}}(t,e):n instanceof Jl?Aq(n,e):n instanceof ed?Oq(n,e):function(i,r){const o=kq(i,r),s=Pq(o)+Pq(i.gt);return _P(o)&&_P(i.gt)?Dq(s):Mq(i.serializer,s)}(n,e)}function pMe(n,e,t){return n instanceof Jl?Aq(n,e):n instanceof ed?Oq(n,e):t}function kq(n,e){return n instanceof Vh?_P(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class Lh extends xx{}class Jl extends xx{constructor(e){super(),this.elements=e}}function Aq(n,e){const t=Rq(e);for(const i of n.elements)t.some(r=>Vs(r,i))||t.push(i);return{arrayValue:{values:t}}}class ed extends xx{constructor(e){super(),this.elements=e}}function Oq(n,e){let t=Rq(e);for(const i of n.elements)t=t.filter(r=>!Vs(r,i));return{arrayValue:{values:t}}}class Vh extends xx{constructor(e,t){super(),this.serializer=e,this.gt=t}}function Pq(n){return Wn(n.integerValue||n.doubleValue)}function Rq(n){return vg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Mg{constructor(e,t){this.field=e,this.transform=t}}class gMe{constructor(e,t){this.version=e,this.transformResults=t}}class Mn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Mn}static exists(e){return new Mn(void 0,e)}static updateTime(e){return new Mn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function wx(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Cx{}function Nq(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new zh(n.key,Mn.none()):new Bh(n.key,n.data,Mn.none());{const t=n.data,i=Zi.empty();let r=new gn(ri.comparator);for(let o of e.fields)if(!r.has(o)){let s=t.field(o);null===s&&o.length>1&&(o=o.popLast(),s=t.field(o)),null===s?i.delete(o):i.set(o,s),r=r.add(o)}return new Aa(n.key,i,new Gr(r.toArray()),Mn.none())}}function _Me(n,e,t){n instanceof Bh?function(i,r,o){const s=i.value.clone(),a=Vq(i.fieldTransforms,r,o.transformResults);s.setAll(a),r.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(n,e,t):n instanceof Aa?function(i,r,o){if(!wx(i.precondition,r))return void r.convertToUnknownDocument(o.version);const s=Vq(i.fieldTransforms,r,o.transformResults),a=r.data;a.setAll(Lq(i)),a.setAll(s),r.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Dg(n,e,t,i){return n instanceof Bh?function(r,o,s,a){if(!wx(r.precondition,o))return s;const c=r.value.clone(),l=Bq(r.fieldTransforms,a,o);return c.setAll(l),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(n,e,t,i):n instanceof Aa?function(r,o,s,a){if(!wx(r.precondition,o))return s;const c=Bq(r.fieldTransforms,a,o),l=o.data;return l.setAll(Lq(r)),l.setAll(c),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null===s?null:s.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(d=>d.field))}(n,e,t,i):(s=t,wx(n.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s);var o,s}function bMe(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),o=kq(i.transform,r||null);null!=o&&(null===t&&(t=Zi.empty()),t.set(i.field,o))}return t||null}function Fq(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&Ah(t,i,(r,o)=>function mMe(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof Jl&&i instanceof Jl||t instanceof ed&&i instanceof ed?Ah(t.elements,i.elements,Vs):t instanceof Vh&&i instanceof Vh?Vs(t.gt,i.gt):t instanceof Lh&&i instanceof Lh);var t,i}(r,o))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class Bh extends Cx{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Aa extends Cx{constructor(e,t,i,r,o=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function Lq(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function Vq(n,e,t){const i=new Map;Te(n.length===t.length);for(let r=0;r<t.length;r++){const o=n[r],s=o.transform,a=e.data.field(o.field);i.set(o.field,pMe(s,a,t[r]))}return i}function Bq(n,e,t){const i=new Map;for(const r of n){const o=r.transform,s=t.data.field(r.field);i.set(r.field,fMe(o,s,e))}return i}class zh extends Cx{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class MP extends Cx{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class DP{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(e.key)&&_Me(o,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Dg(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Dg(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=Iq();return this.mutations.forEach(r=>{const o=e.get(r.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=t.has(r.key)?null:a;const c=Nq(s,a);null!==c&&i.set(r.key,c),s.isValidDocument()||s.convertToNoDocument(Ie.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),nt())}isEqual(e){return this.batchId===e.batchId&&Ah(this.mutations,e.mutations,(t,i)=>Fq(t,i))&&Ah(this.baseMutations,e.baseMutations,(t,i)=>Fq(t,i))}}class SP{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){Te(e.mutations.length===i.length);let r=dMe;const o=e.mutations;for(let s=0;s<o.length;s++)r=r.insert(o[s].key,i[s].version);return new SP(e,t,i,r)}}class kP{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class vMe{constructor(e,t){this.count=e,this.unchangedNames=t}}var ui,Tt;function Uq(n){if(void 0===n)return ii("GRPC error has no .code"),z.UNKNOWN;switch(n){case ui.OK:return z.OK;case ui.CANCELLED:return z.CANCELLED;case ui.UNKNOWN:return z.UNKNOWN;case ui.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case ui.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case ui.INTERNAL:return z.INTERNAL;case ui.UNAVAILABLE:return z.UNAVAILABLE;case ui.UNAUTHENTICATED:return z.UNAUTHENTICATED;case ui.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case ui.NOT_FOUND:return z.NOT_FOUND;case ui.ALREADY_EXISTS:return z.ALREADY_EXISTS;case ui.PERMISSION_DENIED:return z.PERMISSION_DENIED;case ui.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case ui.ABORTED:return z.ABORTED;case ui.OUT_OF_RANGE:return z.OUT_OF_RANGE;case ui.UNIMPLEMENTED:return z.UNIMPLEMENTED;case ui.DATA_LOSS:return z.DATA_LOSS;default:return pe()}}(Tt=ui||(ui={}))[Tt.OK=0]="OK",Tt[Tt.CANCELLED=1]="CANCELLED",Tt[Tt.UNKNOWN=2]="UNKNOWN",Tt[Tt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Tt[Tt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Tt[Tt.NOT_FOUND=5]="NOT_FOUND",Tt[Tt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Tt[Tt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Tt[Tt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Tt[Tt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Tt[Tt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Tt[Tt.ABORTED=10]="ABORTED",Tt[Tt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Tt[Tt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Tt[Tt.INTERNAL=13]="INTERNAL",Tt[Tt.UNAVAILABLE=14]="UNAVAILABLE",Tt[Tt.DATA_LOSS=15]="DATA_LOSS";class AP{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Ex}static getOrCreateInstance(){return null===Ex&&(Ex=new AP),Ex}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let Ex=null;const xMe=new Sh([4294967295,4294967295],0);function Hq(n){const e=function jq(){return new TextEncoder}().encode(n),t=new _Ie;return t.update(e),new Uint8Array(t.digest())}function $q(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Sh([t,i],0),new Sh([r,o],0)]}class OP{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Sg(`Invalid padding: ${t}`);if(i<0)throw new Sg(`Invalid hash count: ${i}`);if(e.length>0&&0===this.hashCount)throw new Sg(`Invalid hash count: ${i}`);if(0===e.length&&0!==t)throw new Sg(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Sh.fromNumber(this.It)}Et(e,t,i){let r=e.add(t.multiply(Sh.fromNumber(i)));return 1===r.compare(xMe)&&(r=new Sh([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=Hq(e),[i,r]=$q(t);for(let o=0;o<this.hashCount;o++){const s=this.Et(i,r,o);if(!this.At(s))return!1}return!0}static create(e,t,i){const r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new OP(o,r,t);return i.forEach(a=>s.insert(a)),s}insert(e){if(0===this.It)return;const t=Hq(e),[i,r]=$q(t);for(let o=0;o<this.hashCount;o++){const s=this.Et(i,r,o);this.Rt(s)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Sg extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class kg{constructor(e,t,i,r,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,Ag.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new kg(Ie.min(),r,new hn(je),qr(),nt())}}class Ag{constructor(e,t,i,r,o){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Ag(i,t,nt(),nt(),nt())}}class Tx{constructor(e,t,i,r){this.Pt=e,this.removedTargetIds=t,this.key=i,this.bt=r}}class Gq{constructor(e,t){this.targetId=e,this.Vt=t}}class qq{constructor(e,t,i=Ei.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class Wq{constructor(){this.St=0,this.Dt=Yq(),this.Ct=Ei.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=nt(),t=nt(),i=nt();return this.Dt.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:pe()}}),new Ag(this.Ct,this.xt,e,t,i)}Ft(){this.Nt=!1,this.Dt=Yq()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class wMe{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=qr(),this.zt=Kq(),this.Wt=new hn(je)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const i=this.Zt(t);switch(e.state){case 0:this.te(t)&&i.$t(e.resumeToken);break;case 1:i.Ut(),i.kt||i.Ft(),i.$t(e.resumeToken);break;case 2:i.Ut(),i.kt||this.removeTarget(t);break;case 3:this.te(t)&&(i.Kt(),i.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),i.$t(e.resumeToken));break;default:pe()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((i,r)=>{this.te(r)&&t(r)})}ne(e){var t;const i=e.targetId,r=e.Vt.count,o=this.se(i);if(o){const s=o.target;if(_x(s))if(0===r){const a=new ce(s.path);this.Yt(i,a,_n.newNoDocument(a,Ie.min()))}else Te(1===r);else{const a=this.ie(i);if(a!==r){const c=this.re(e,a);0!==c&&(this.ee(i),this.Wt=this.Wt.insert(i,2===c?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=AP.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(l,d,u){var f,m,y,C,T,S;const D={localCacheCount:d,existenceFilterCount:u.count},L=u.unchangedNames;return L&&(D.bloomFilter={applied:0===l,hashCount:null!==(f=L?.hashCount)&&void 0!==f?f:0,bitmapLength:null!==(C=null===(y=null===(m=L?.bits)||void 0===m?void 0:m.bitmap)||void 0===y?void 0:y.length)&&void 0!==C?C:0,padding:null!==(S=null===(T=L?.bits)||void 0===T?void 0:T.padding)&&void 0!==S?S:0}),D}(c,a,e.Vt))}}}}re(e,t){const{unchangedNames:i,count:r}=e.Vt;if(!i||!i.bits)return 1;const{bits:{bitmap:o="",padding:s=0},hashCount:a=0}=i;let c,l;try{c=Da(o).toUint8Array()}catch(d){if(d instanceof eq)return Wo("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw d}try{l=new OP(c,s,a)}catch(d){return Wo(d instanceof Sg?"BloomFilter error: ":"Applying bloom filter failed: ",d),1}return 0===l.It?1:r!==t-this.oe(e.targetId,l)?2:0}oe(e,t){const i=this.Gt.getRemoteKeysForTarget(e);let r=0;return i.forEach(o=>{const s=this.Gt.ue(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;t.vt(a)||(this.Yt(e,o,null),r++)}),r}ce(e){const t=new Map;this.Qt.forEach((o,s)=>{const a=this.se(s);if(a){if(o.current&&_x(a.target)){const c=new ce(a.target.path);null!==this.jt.get(c)||this.ae(s,c)||this.Yt(s,c,_n.newNoDocument(c,e))}o.Mt&&(t.set(s,o.Ot()),o.Ft())}});let i=nt();this.zt.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{const l=this.se(c);return!l||"TargetPurposeLimboResolution"===l.purpose||(a=!1,!1)}),a&&(i=i.add(o))}),this.jt.forEach((o,s)=>s.setReadTime(e));const r=new kg(e,t,this.Wt,this.jt,i);return this.jt=qr(),this.zt=Kq(),this.Wt=new hn(je),r}Jt(e,t){if(!this.te(e))return;const i=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,i),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,i){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),i&&(this.jt=this.jt.insert(t,i))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new Wq,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new gn(je),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||te("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Wq),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function Kq(){return new hn(ce.comparator)}function Yq(){return new hn(ce.comparator)}const CMe={asc:"ASCENDING",desc:"DESCENDING"},EMe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},TMe={and:"AND",or:"OR"};class IMe{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function PP(n,e){return n.useProto3Json||gg(e)?e:{value:e}}function Uh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Qq(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function MMe(n,e){return Uh(n,e.toTimestamp())}function oi(n){return Te(!!n),Ie.fromTimestamp(function(e){const t=Ic(e);return new Fn(t.seconds,t.nanos)}(n))}function RP(n,e){return(t=n,new Et(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Xq(n){const e=Et.fromString(n);return Te(sW(e)),e}function Og(n,e){return RP(n.databaseId,e.path)}function zs(n,e){const t=Xq(e);if(t.get(1)!==n.databaseId.projectId)throw new J(z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new J(z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ce(Jq(t))}function NP(n,e){return RP(n.databaseId,e)}function Zq(n){const e=Xq(n);return 4===e.length?Et.emptyPath():Jq(e)}function Pg(n){return new Et(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Jq(n){return Te(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function eW(n,e,t){return{name:Og(n,e),fields:t.value.mapValue.fields}}function Rg(n,e){let t;if(e instanceof Bh)t={update:eW(n,e.key,e.value)};else if(e instanceof zh)t={delete:Og(n,e.key)};else if(e instanceof Aa)t={update:eW(n,e.key,e.data),updateMask:NMe(e.fieldMask)};else{if(!(e instanceof MP))return pe();t={verify:Og(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,o){const s=o.transform;if(s instanceof Lh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof Jl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof ed)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof Vh)return{fieldPath:o.field.canonicalString(),increment:s.gt};throw pe()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:MMe(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:pe()),t;var r}function FP(n,e){const t=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?Mn.updateTime(oi(r.updateTime)):void 0!==r.exists?Mn.exists(r.exists):Mn.none():Mn.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(o,s){let a=null;"setToServerValue"in s?(Te("REQUEST_TIME"===s.setToServerValue),a=new Lh):"appendMissingElements"in s?a=new Jl(s.appendMissingElements.values||[]):"removeAllFromArray"in s?a=new ed(s.removeAllFromArray.values||[]):"increment"in s?a=new Vh(o,s.increment):pe();const c=ri.fromServerFormat(s.fieldPath);return new Mg(c,a)}(n,r)):[];var r;if(e.update){const r=zs(n,e.update.name),o=new Zi({mapValue:{fields:e.update.fields}});if(e.updateMask){const s=new Gr((e.updateMask.fieldPaths||[]).map(l=>ri.fromServerFormat(l)));return new Aa(r,o,s,t,i)}return new Bh(r,o,t,i)}if(e.delete){const r=zs(n,e.delete);return new zh(r,t)}if(e.verify){const r=zs(n,e.verify);return new MP(r,t)}return pe()}function nW(n,e){return{documents:[NP(n,e.path)]}}function LP(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=NP(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=NP(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(c){if(0!==c.length)return oW($t.create(c,"and"))}(e.filters);r&&(t.structuredQuery.where=r);const o=function(c){if(0!==c.length)return c.map(l=>{return{field:Ac((d=l).field),direction:OMe(d.dir)};var d})}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const s=PP(n,e.limit);var a,c;return null!==s&&(t.structuredQuery.limit=s),e.startAt&&(t.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(t.structuredQuery.endAt={before:!(c=e.endAt).inclusive,values:c.position}),t}function iW(n){let e=Zq(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){Te(1===i);const d=t.from[0];d.allDescendants?r=d.collectionId:e=e.child(d.collectionId)}let o=[];t.where&&(o=function(d){const u=rW(d);return u instanceof $t&&yP(u)?u.getFilters():[u]}(t.where));let s=[];t.orderBy&&(s=t.orderBy.map(d=>{return new Rh(jh((u=d).field),function(f){switch(f){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(u.direction));var u}));let a=null;t.limit&&(a=function(d){let u;return u="object"==typeof d?d.value:d,gg(u)?null:u}(t.limit));let c=null;var d;t.startAt&&(c=new kc((d=t.startAt).values||[],!!d.before));let l=null;return t.endAt&&(l=function(d){return new kc(d.values||[],!d.before)}(t.endAt)),function yq(n,e,t,i,r,o,s,a){return new Sa(n,e,t,i,r,o,s,a)}(e,r,s,o,a,"F",c,l)}function rW(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=jh(e.unaryFilter.field);return bt.create(t,"==",{doubleValue:NaN});case"IS_NULL":const i=jh(e.unaryFilter.field);return bt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=jh(e.unaryFilter.field);return bt.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=jh(e.unaryFilter.field);return bt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return pe()}}(n):void 0!==n.fieldFilter?bt.create(jh((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return pe()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return $t.create(e.compositeFilter.filters.map(t=>rW(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return pe()}}(e.compositeFilter.op))}(n):pe();var e}function OMe(n){return CMe[n]}function PMe(n){return EMe[n]}function RMe(n){return TMe[n]}function Ac(n){return{fieldPath:n.canonicalString()}}function jh(n){return ri.fromServerFormat(n.fieldPath)}function oW(n){return n instanceof bt?function(e){if("=="===e.op){if(iq(e.value))return{unaryFilter:{field:Ac(e.field),op:"IS_NAN"}};if(nq(e.value))return{unaryFilter:{field:Ac(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(iq(e.value))return{unaryFilter:{field:Ac(e.field),op:"IS_NOT_NAN"}};if(nq(e.value))return{unaryFilter:{field:Ac(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ac(e.field),op:PMe(e.op),value:e.value}}}(n):n instanceof $t?function(e){const t=e.getFilters().map(i=>oW(i));return 1===t.length?t[0]:{compositeFilter:{op:RMe(e.op),filters:t}}}(n):pe()}function NMe(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function sW(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Oa{constructor(e,t,i,r,o=Ie.min(),s=Ie.min(),a=Ei.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new Oa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Oa(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Oa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Oa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class aW{constructor(e){this.fe=e}}function cW(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Ix(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:Og(r=n.fe,(o=e).key),fields:o.data.value.mapValue.fields,updateTime:Uh(r,o.version.toTimestamp()),createTime:Uh(r,o.createTime.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:td(e.version)};else{if(!e.isUnknownDocument())return pe();i.unknownDocument={path:t.path.toArray(),version:td(e.version)}}var r,o;return i}function Ix(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function td(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function nd(n){const e=new Fn(n.seconds,n.nanoseconds);return Ie.fromTimestamp(e)}function id(n,e){const t=(e.baseMutations||[]).map(o=>FP(n.fe,o));for(let o=0;o<e.mutations.length-1;++o)o+1<e.mutations.length&&void 0!==e.mutations[o+1].transform&&(e.mutations[o].updateTransforms=e.mutations[o+1].transform.fieldTransforms,e.mutations.splice(o+1,1),++o);const i=e.mutations.map(o=>FP(n.fe,o)),r=Fn.fromMillis(e.localWriteTimeMs);return new DP(e.batchId,r,t,i)}function Ng(n){const e=nd(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?nd(n.lastLimboFreeSnapshotVersion):Ie.min();let i;var r;return void 0!==n.query.documents?(Te(1===(r=n.query).documents.length),i=Dr(Fh(Zq(r.documents[0])))):i=Dr(iW(n.query)),new Oa(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Ei.fromBase64String(n.resumeToken))}function lW(n,e){const t=td(e.snapshotVersion),i=td(e.lastLimboFreeSnapshotVersion);let r;r=_x(e.target)?nW(n.fe,e.target):LP(n.fe,e.target);const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Xl(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function VP(n){const e=iW({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?vx(e,e.limit,"L"):e}function BP(n,e){return new kP(e.largestBatchId,FP(n.fe,e.overlayMutation))}function dW(n,e){const t=e.path.lastSegment();return[n,fr(e.path.popLast()),t]}function uW(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:td(i.readTime),documentKey:fr(i.documentKey.path),largestBatchId:i.largestBatchId}}class LMe{getBundleMetadata(e,t){return hW(e).get(t).next(i=>{if(i)return{id:(r=i).bundleId,createTime:nd(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return hW(e).put({bundleId:(i=t).id,createTime:td(oi(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return fW(e).get(t).next(i=>{if(i)return{name:(r=i).name,query:VP(r.bundledQuery),readTime:nd(r.readTime)};var r})}saveNamedQuery(e,t){return fW(e).put({name:(i=t).name,readTime:td(oi(i.readTime)),bundledQuery:i.bundledQuery});var i}}function hW(n){return Ni(n,"bundles")}function fW(n){return Ni(n,"namedQueries")}class Mx{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new Mx(e,t.uid||"")}getOverlay(e,t){return Fg(e).get(dW(this.userId,t)).next(i=>i?BP(this.serializer,i):null)}getOverlays(e,t){const i=Bs();return B.forEach(t,r=>this.getOverlay(e,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(e,t,i){const r=[];return i.forEach((o,s)=>{const a=new kP(t,s);r.push(this.we(e,a))}),B.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(s=>r.add(fr(s.getCollectionPath())));const o=[];return r.forEach(s=>{const a=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,i+1],!1,!0);o.push(Fg(e).J("collectionPathOverlayIndex",a))}),B.waitFor(o)}getOverlaysForCollection(e,t,i){const r=Bs(),o=fr(t),s=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Fg(e).j("collectionPathOverlayIndex",s).next(a=>{for(const c of a){const l=BP(this.serializer,c);r.set(l.getKey(),l)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const o=Bs();let s;const a=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Fg(e).X({index:"collectionGroupOverlayIndex",range:a},(c,l,d)=>{const u=BP(this.serializer,l);o.size()<r||u.largestBatchId===s?(o.set(u.getKey(),u),s=u.largestBatchId):d.done()}).next(()=>o)}we(e,t){return Fg(e).put(function(i,r,o){const[s,a,c]=dW(r,o.mutation.key);return{userId:r,collectionPath:a,documentId:c,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:Rg(i.fe,o.mutation)}}(this.serializer,this.userId,t))}}function Fg(n){return Ni(n,"documentOverlays")}class rd{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Wn(e.integerValue));else if("doubleValue"in e){const i=Wn(e.doubleValue);isNaN(i)?this.ye(t,13):(this.ye(t,15),_g(i)?t.pe(0):t.pe(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ye(t,20),"string"==typeof i?t.Ie(i):(t.Ie(`${i.seconds||""}`),t.pe(i.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Da(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.ye(t,45),t.pe(i.latitude||0),t.pe(i.longitude||0)}else"mapValue"in e?rq(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):pe()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const i=e.fields||{};this.ye(t,55);for(const r of Object.keys(i))this.Te(r,t),this.me(i[r],t)}Pe(e,t){const i=e.values||[];this.ye(t,50);for(const r of i)this.me(r,t)}ve(e,t){this.ye(t,37),ce.fromName(e).path.forEach(i=>{this.ye(t,60),this.be(i,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function VMe(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function pW(n){const e=64-function(t){let i=0;for(let r=0;r<8;++r){const o=VMe(255&t[r]);if(i+=o,8!==o)break}return i}(n);return Math.ceil(e/8)}rd.Ve=new rd;class BMe{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.De(i.value),i=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ne(i.value),i=t.next();this.ke()}Me(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.De(i);else if(i<2048)this.De(960|i>>>6),this.De(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.De(480|i>>>12),this.De(128|63&i>>>6),this.De(128|63&i);else{const r=t.codePointAt(0);this.De(240|r>>>18),this.De(128|63&r>>>12),this.De(128|63&r>>>6),this.De(128|63&r)}}this.Ce()}$e(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ne(i);else if(i<2048)this.Ne(960|i>>>6),this.Ne(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i);else{const r=t.codePointAt(0);this.Ne(240|r>>>18),this.Ne(128|63&r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r)}}this.ke()}Oe(e){const t=this.Fe(e),i=pW(t);this.Be(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Le(e){const t=this.Fe(e),i=pW(t);this.Be(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(r){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,r,!1),new Uint8Array(o.buffer)}(e),i=!!(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class zMe{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class UMe{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class Lg{constructor(){this.je=new BMe,this.ze=new zMe(this.je),this.We=new UMe(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class od{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new od(this.indexId,this.documentKey,this.arrayValue,i)}}function Oc(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=mW(n.arrayValue,e.arrayValue),0!==t?t:(t=mW(n.directionalValue,e.directionalValue),0!==t?t:ce.comparator(n.documentKey,e.documentKey)))}function mW(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class jMe{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const i=t;i.isInequality()?this.Ze=i:this.Xe.push(i)}}tn(e){Te(e.collectionGroup===this.collectionId);const t=uP(e);if(void 0!==t&&!this.en(t))return!1;const i=Wl(e);let r=new Set,o=0,s=0;for(;o<i.length&&this.en(i[o]);++o)r=r.add(i[o].fieldPath.canonicalString());if(o===i.length)return!0;if(void 0!==this.Ze){if(!r.has(this.Ze.field.canonicalString())){const a=i[o];if(!this.nn(this.Ze,a)||!this.sn(this.Ye[s++],a))return!1}++o}for(;o<i.length;++o)if(s>=this.Ye.length||!this.sn(this.Ye[s++],i[o]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function gW(n){var e,t;if(Te(n instanceof bt||n instanceof $t),n instanceof bt){if(n instanceof gq){const r=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(o=>bt.create(n.field,"==",o)))||[];return $t.create(r,"or")}return n}const i=n.filters.map(r=>gW(r));return $t.create(i,n.op)}function HMe(n){if(0===n.getFilters().length)return[];const e=jP(gW(n));return Te(_W(e)),zP(e)||UP(e)?[e]:e.getFilters()}function zP(n){return n instanceof bt}function UP(n){return n instanceof $t&&yP(n)}function _W(n){return zP(n)||UP(n)||function(e){if(e instanceof $t&&bP(e)){for(const t of e.getFilters())if(!zP(t)&&!UP(t))return!1;return!0}return!1}(n)}function jP(n){if(Te(n instanceof bt||n instanceof $t),n instanceof bt)return n;if(1===n.filters.length)return jP(n.filters[0]);const e=n.filters.map(i=>jP(i));let t=$t.create(e,n.op);return t=Dx(t),_W(t)?t:(Te(t instanceof $t),Te(Nh(t)),Te(t.filters.length>1),t.filters.reduce((i,r)=>HP(i,r)))}function HP(n,e){let t;return Te(n instanceof bt||n instanceof $t),Te(e instanceof bt||e instanceof $t),t=n instanceof bt?e instanceof bt?$t.create([n,e],"and"):bW(n,e):e instanceof bt?bW(e,n):function(i,r){if(Te(i.filters.length>0&&r.filters.length>0),Nh(i)&&Nh(r))return fq(i,r.getFilters());const o=bP(i)?i:r,s=bP(i)?r:i,a=o.filters.map(c=>HP(c,s));return $t.create(a,"or")}(n,e),Dx(t)}function bW(n,e){if(Nh(e))return fq(e,n.getFilters());{const t=e.filters.map(i=>HP(n,i));return $t.create(t,"or")}}function Dx(n){if(Te(n instanceof bt||n instanceof $t),n instanceof bt)return n;const e=n.getFilters();if(1===e.length)return Dx(e[0]);if(uq(n))return n;const t=e.map(r=>Dx(r)),i=[];return t.forEach(r=>{r instanceof bt?i.push(r):r instanceof $t&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:$t.create(i,n.op)}class $Me{constructor(){this.rn=new $P}addToCollectionParentIndex(e,t){return this.rn.add(t),B.resolve()}getCollectionParents(e,t){return B.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return B.resolve()}deleteFieldIndex(e,t){return B.resolve()}getDocumentsMatchingTarget(e,t){return B.resolve(null)}getIndexType(e,t){return B.resolve(0)}getFieldIndexes(e,t){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,t){return B.resolve(so.min())}getMinOffsetFromCollectionGroup(e,t){return B.resolve(so.min())}updateCollectionGroup(e,t,i){return B.resolve()}updateIndexEntries(e,t){return B.resolve()}}class $P{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new gn(Et.comparator),o=!r.has(i);return this.index[t]=r.add(i),o}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new gn(Et.comparator)).toArray()}}const Sx=new Uint8Array(0);class GMe{constructor(e,t){this.user=e,this.databaseId=t,this.on=new $P,this.un=new ka(i=>Xl(i),(i,r)=>wg(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const o={collectionId:i,parent:fr(r)};return yW(e).put(o)}return B.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[VG(t),""],!1,!0);return yW(e).j(r).next(o=>{for(const s of o){if(s.collectionId!==t)break;i.push(Ls(s.parent))}return i})}addFieldIndex(e,t){const i=kx(e),r={indexId:(s=t).indexId,collectionGroup:s.collectionGroup,fields:s.fields.map(a=>[a.fieldPath.canonicalString(),a.kind])};var s;delete r.indexId;const o=i.add(r);if(t.indexState){const s=Bg(e);return o.next(a=>{s.put(uW(a,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return o.next()}deleteFieldIndex(e,t){const i=kx(e),r=Bg(e),o=Vg(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=Vg(e);let r=!0;const o=new Map;return B.forEach(this.cn(t),s=>this.an(e,s).next(a=>{r&&(r=!!a),o.set(s,a)})).next(()=>{if(r){let s=nt();const a=[];return B.forEach(o,(c,l)=>{var d;te("IndexedDbIndexManager",`Using index ${d=c,`id=${d.indexId}|cg=${d.collectionGroup}|f=${d.fields.map(L=>`${L.fieldPath}:${L.kind}`).join(",")}`} to execute ${Xl(t)}`);const u=function(L,Y){const re=uP(Y);if(void 0===re)return null;for(const ue of bx(L,re.fieldPath))switch(ue.op){case"array-contains-any":return ue.value.arrayValue.values||[];case"array-contains":return[ue.value]}return null}(l,c),f=function(L,Y){const re=new Map;for(const ue of Wl(Y))for(const Fe of bx(L,ue.fieldPath))switch(Fe.op){case"==":case"in":re.set(ue.fieldPath.canonicalString(),Fe.value);break;case"not-in":case"!=":return re.set(ue.fieldPath.canonicalString(),Fe.value),Array.from(re.values())}return null}(l,c),m=function(L,Y){const re=[];let ue=!0;for(const Fe of Wl(Y)){const it=0===Fe.kind?_q(L,Fe.fieldPath,L.startAt):bq(L,Fe.fieldPath,L.startAt);re.push(it.value),ue&&(ue=it.inclusive)}return new kc(re,ue)}(l,c),y=function(L,Y){const re=[];let ue=!0;for(const Fe of Wl(Y)){const it=0===Fe.kind?bq(L,Fe.fieldPath,L.endAt):_q(L,Fe.fieldPath,L.endAt);re.push(it.value),ue&&(ue=it.inclusive)}return new kc(re,ue)}(l,c),C=this.hn(c,l,m),T=this.hn(c,l,y),S=this.ln(c,l,f),D=this.fn(c.indexId,u,C,m.inclusive,T,y.inclusive,S);return B.forEach(D,L=>i.H(L,t.limit).next(Y=>{Y.forEach(re=>{const ue=ce.fromSegments(re.documentKey);s.has(ue)||(s=s.add(ue),a.push(ue))})}))}).next(()=>a)}return B.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:HMe($t.create(e.filters,"and")).map(i=>xP(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,i,r,o,s,a){const c=(null!=t?t.length:1)*Math.max(i.length,o.length),l=c/(null!=t?t.length:1),d=[];for(let u=0;u<c;++u){const f=t?this.dn(t[u/l]):Sx,m=this.wn(e,f,i[u%l],r),y=this._n(e,f,o[u%l],s),C=a.map(T=>this.wn(e,f,T,!0));d.push(...this.createRange(m,y,C))}return d}wn(e,t,i,r){const o=new od(e,ce.empty(),t,i);return r?o:o.Je()}_n(e,t,i,r){const o=new od(e,ce.empty(),t,i);return r?o.Je():o}an(e,t){const i=new jMe(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(o=>{let s=null;for(const a of o)i.tn(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(e,t){let i=2;const r=this.cn(t);return B.forEach(r,o=>this.an(e,o).next(s=>{s?0!==i&&s.fields.length<function(a){let c=new gn(ri.comparator),l=!1;for(const d of a.filters)for(const u of d.getFlattenedFilters())u.field.isKeyField()||("array-contains"===u.op||"array-contains-any"===u.op?l=!0:c=c.add(u.field));for(const d of a.orderBy)d.field.isKeyField()||(c=c.add(d.field));return c.size+(l?1:0)}(o)&&(i=1):i=0})).next(()=>null!==t.limit&&r.length>1&&2===i?1:i)}mn(e,t){const i=new Lg;for(const r of Wl(e)){const o=t.data.field(r.fieldPath);if(null==o)return null;const s=i.He(r.kind);rd.Ve._e(o,s)}return i.Qe()}dn(e){const t=new Lg;return rd.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const i=new Lg;return rd.Ve._e(Ql(this.databaseId,t),i.He(function(r){const o=Wl(r);return 0===o.length?0:o[o.length-1].kind}(e))),i.Qe()}ln(e,t,i){if(null===i)return[];let r=[];r.push(new Lg);let o=0;for(const s of Wl(e)){const a=i[o++];for(const c of r)if(this.yn(t,s.fieldPath)&&vg(a))r=this.pn(r,s,a);else{const l=c.He(s.kind);rd.Ve._e(a,l)}}return this.In(r)}hn(e,t,i){return this.ln(e,t,i.position)}In(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].Qe();return t}pn(e,t,i){const r=[...e],o=[];for(const s of i.arrayValue.values||[])for(const a of r){const c=new Lg;c.seed(a.Qe()),rd.Ve._e(s,c.He(t.kind)),o.push(c)}return o}yn(e,t){return!!e.filters.find(i=>i instanceof bt&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=kx(e),r=Bg(e);return(t?i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.j()).next(o=>{const s=[];return B.forEach(o,a=>r.get([a.indexId,this.uid]).next(c=>{s.push(function(l,d){const u=d?new pg(d.sequenceNumber,new so(nd(d.readTime),new ce(Ls(d.documentKey)),d.largestBatchId)):pg.empty(),f=l.fields.map(([m,y])=>new cx(ri.fromServerFormat(m),y));return new ax(l.indexId,l.collectionGroup,f,u)}(a,c))})).next(()=>s)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const o=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==o?o:je(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=kx(e),o=Bg(e);return this.Tn(e).next(s=>r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(a=>B.forEach(a,c=>o.put(uW(c.indexId,this.user,s,i)))))}updateIndexEntries(e,t){const i=new Map;return B.forEach(t,(r,o)=>{const s=i.get(r.collectionGroup);return(s?B.resolve(s):this.getFieldIndexes(e,r.collectionGroup)).next(a=>(i.set(r.collectionGroup,a),B.forEach(a,c=>this.En(e,r,c).next(l=>{const d=this.An(o,c);return l.isEqual(d)?B.resolve():this.vn(e,o,c,l,d)}))))})}Rn(e,t,i,r){return Vg(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.gn(i,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,i,r){return Vg(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.gn(i,t.key),t.key.path.toArray()])}En(e,t,i){const r=Vg(e);let o=new gn(Oc);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.gn(i,t)])},(s,a)=>{o=o.add(new od(i.indexId,t,a.arrayValue,a.directionalValue))}).next(()=>o)}An(e,t){let i=new gn(Oc);const r=this.mn(t,e);if(null==r)return i;const o=uP(t);if(null!=o){const s=e.data.field(o.fieldPath);if(vg(s))for(const a of s.arrayValue.values||[])i=i.add(new od(t.indexId,e.key,this.dn(a),r))}else i=i.add(new od(t.indexId,e.key,Sx,r));return i}vn(e,t,i,r,o){te("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const s=[];return function(a,c,l,d,u){const f=a.getIterator(),m=c.getIterator();let y=Oh(f),C=Oh(m);for(;y||C;){let T=!1,S=!1;if(y&&C){const D=l(y,C);D<0?S=!0:D>0&&(T=!0)}else null!=y?S=!0:T=!0;T?(d(C),C=Oh(m)):S?(u(y),y=Oh(f)):(y=Oh(f),C=Oh(m))}}(r,o,Oc,a=>{s.push(this.Rn(e,t,i,a))},a=>{s.push(this.Pn(e,t,i,a))}),B.waitFor(s)}Tn(e){let t=1;return Bg(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,o)=>{o.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((s,a)=>Oc(s,a)).filter((s,a,c)=>!a||0!==Oc(s,c[a-1]));const r=[];r.push(e);for(const s of i){const a=Oc(s,e),c=Oc(s,t);if(0===a)r[0]=e.Je();else if(a>0&&c<0)r.push(s),r.push(s.Je());else if(c>0)break}r.push(t);const o=[];for(let s=0;s<r.length;s+=2){if(this.bn(r[s],r[s+1]))return[];o.push(IDBKeyRange.bound([r[s].indexId,this.uid,r[s].arrayValue,r[s].directionalValue,Sx,[]],[r[s+1].indexId,this.uid,r[s+1].arrayValue,r[s+1].directionalValue,Sx,[]]))}return o}bn(e,t){return Oc(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(vW)}getMinOffset(e,t){return B.mapArray(this.cn(t),i=>this.an(e,i).next(r=>r||pe())).next(vW)}}function yW(n){return Ni(n,"collectionParents")}function Vg(n){return Ni(n,"indexEntries")}function kx(n){return Ni(n,"indexConfiguration")}function Bg(n){return Ni(n,"indexState")}function vW(n){Te(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;hP(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new so(e.readTime,e.documentKey,t)}const xW={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class pr{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new pr(e,pr.DEFAULT_COLLECTION_PERCENTILE,pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function wW(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),o=[],s=IDBKeyRange.only(t.batchId);let a=0;const c=i.X({range:s},(d,u,f)=>(a++,f.delete()));o.push(c.next(()=>{Te(1===a)}));const l=[];for(const d of t.mutations){const u=WG(e,d.key.path,t.batchId);o.push(r.delete(u)),l.push(d.key)}return B.waitFor(o).next(()=>l)}function Ax(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw pe();e=n.noDocument}return JSON.stringify(e).length}pr.DEFAULT_COLLECTION_PERCENTILE=10,pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pr.DEFAULT=new pr(41943040,pr.DEFAULT_COLLECTION_PERCENTILE,pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pr.DISABLED=new pr(-1,0,0);class Ox{constructor(e,t,i,r){this.userId=e,this.serializer=t,this.indexManager=i,this.referenceDelegate=r,this.Vn={}}static de(e,t,i,r){Te(""!==e.uid);const o=e.isAuthenticated()?e.uid:"";return new Ox(o,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Pc(e).X({index:"userMutationsIndex",range:i},(r,o,s)=>{t=!1,s.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const o=Hh(e),s=Pc(e);return s.add({}).next(a=>{Te("number"==typeof a);const c=new DP(a,t,i,r),l=function(f,m,y){const C=y.baseMutations.map(S=>Rg(f.fe,S)),T=y.mutations.map(S=>Rg(f.fe,S));return{userId:m,batchId:y.batchId,localWriteTimeMs:y.localWriteTime.toMillis(),baseMutations:C,mutations:T}}(this.serializer,this.userId,c),d=[];let u=new gn((f,m)=>je(f.canonicalString(),m.canonicalString()));for(const f of r){const m=WG(this.userId,f.key.path,a);u=u.add(f.key.path.popLast()),d.push(s.put(l)),d.push(o.put(m,PIe))}return u.forEach(f=>{d.push(this.indexManager.addToCollectionParentIndex(e,f))}),e.addOnCommittedListener(()=>{this.Vn[a]=c.keys()}),B.waitFor(d).next(()=>c)})}lookupMutationBatch(e,t){return Pc(e).get(t).next(i=>i?(Te(i.userId===this.userId),id(this.serializer,i)):null)}Sn(e,t){return this.Vn[t]?B.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.Vn[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return Pc(e).X({index:"userMutationsIndex",range:r},(s,a,c)=>{a.userId===this.userId&&(Te(a.batchId>=i),o=id(this.serializer,a)),c.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Pc(e).X({index:"userMutationsIndex",range:t,reverse:!0},(r,o,s)=>{i=o.batchId,s.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Pc(e).j("userMutationsIndex",t).next(i=>i.map(r=>id(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=dx(this.userId,t.path),r=IDBKeyRange.lowerBound(i),o=[];return Hh(e).X({range:r},(s,a,c)=>{const[l,d,u]=s,f=Ls(d);if(l===this.userId&&t.path.isEqual(f))return Pc(e).get(u).next(m=>{if(!m)throw pe();Te(m.userId===this.userId),o.push(id(this.serializer,m))});c.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new gn(je);const r=[];return t.forEach(o=>{const s=dx(this.userId,o.path),a=IDBKeyRange.lowerBound(s),c=Hh(e).X({range:a},(l,d,u)=>{const[f,m,y]=l,C=Ls(m);f===this.userId&&o.path.isEqual(C)?i=i.add(y):u.done()});r.push(c)}),B.waitFor(r).next(()=>this.Dn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,o=dx(this.userId,i),s=IDBKeyRange.lowerBound(o);let a=new gn(je);return Hh(e).X({range:s},(c,l,d)=>{const[u,f,m]=c,y=Ls(f);u===this.userId&&i.isPrefixOf(y)?y.length===r&&(a=a.add(m)):d.done()}).next(()=>this.Dn(e,a))}Dn(e,t){const i=[],r=[];return t.forEach(o=>{r.push(Pc(e).get(o).next(s=>{if(null===s)throw pe();Te(s.userId===this.userId),i.push(id(this.serializer,s))}))}),B.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return wW(e.ht,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),B.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return B.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return Hh(e).X({range:i},(o,s,a)=>{if(o[0]===this.userId){const c=Ls(o[1]);r.push(c)}else a.done()}).next(()=>{Te(0===r.length)})})}containsKey(e,t){return CW(e,this.userId,t)}xn(e){return EW(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function CW(n,e,t){const i=dx(e,t.path),r=i[1],o=IDBKeyRange.lowerBound(i);let s=!1;return Hh(n).X({range:o,Y:!0},(a,c,l)=>{const[d,u,f]=a;d===e&&u===r&&(s=!0),l.done()}).next(()=>s)}function Pc(n){return Ni(n,"mutations")}function Hh(n){return Ni(n,"documentMutations")}function EW(n){return Ni(n,"mutationQueues")}class sd{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new sd(0)}static Mn(){return new sd(-1)}}class qMe{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const i=new sd(t.highestTargetId);return t.highestTargetId=i.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>Ie.fromTimestamp(new Fn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.$n(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.On(e,r)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(i=>(i.targetCount+=1,this.Bn(t,i),this.On(e,i))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>$h(e).delete(t.targetId)).next(()=>this.$n(e)).next(i=>(Te(i.targetCount>0),i.targetCount-=1,this.On(e,i)))}removeTargets(e,t,i){let r=0;const o=[];return $h(e).X((s,a)=>{const c=Ng(a);c.sequenceNumber<=t&&null===i.get(c.targetId)&&(r++,o.push(this.removeTargetData(e,c)))}).next(()=>B.waitFor(o)).next(()=>r)}forEachTarget(e,t){return $h(e).X((i,r)=>{const o=Ng(r);t(o)})}$n(e){return TW(e).get("targetGlobalKey").next(t=>(Te(null!==t),t))}On(e,t){return TW(e).put("targetGlobalKey",t)}Fn(e,t){return $h(e).put(lW(this.serializer,t))}Bn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const i=Xl(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return $h(e).X({range:r,index:"queryTargetsIndex"},(s,a,c)=>{const l=Ng(a);wg(t,l.target)&&(o=l,c.done())}).next(()=>o)}addMatchingKeys(e,t,i){const r=[],o=Rc(e);return t.forEach(s=>{const a=fr(s.path);r.push(o.put({targetId:i,path:a})),r.push(this.referenceDelegate.addReference(e,i,s))}),B.waitFor(r)}removeMatchingKeys(e,t,i){const r=Rc(e);return B.forEach(t,o=>{const s=fr(o.path);return B.waitFor([r.delete([i,s]),this.referenceDelegate.removeReference(e,i,o)])})}removeMatchingKeysForTargetId(e,t){const i=Rc(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=Rc(e);let o=nt();return r.X({range:i,Y:!0},(s,a,c)=>{const l=Ls(s[1]),d=new ce(l);o=o.add(d)}).next(()=>o)}containsKey(e,t){const i=fr(t.path),r=IDBKeyRange.bound([i],[VG(i)],!1,!0);let o=0;return Rc(e).X({index:"documentTargetsIndex",Y:!0,range:r},([s,a],c,l)=>{0!==s&&(o++,l.done())}).next(()=>o>0)}le(e,t){return $h(e).get(t).next(i=>i?Ng(i):null)}}function $h(n){return Ni(n,"targets")}function TW(n){return Ni(n,"targetGlobal")}function Rc(n){return Ni(n,"targetDocuments")}function IW([n,e],[t,i]){const r=je(n,t);return 0===r?je(e,i):r}class WMe{constructor(e){this.Ln=e,this.buffer=new gn(IW),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();IW(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class MW{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;te("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,_(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){Ec(i)?te("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Cc(i)}yield t.Qn(3e5)}))}}class KMe{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return B.resolve(ao.ct);const i=new WMe(t);return this.jn.forEachTarget(e,r=>i.Kn(r.sequenceNumber)).next(()=>this.jn.Wn(e,r=>i.Kn(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.jn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(te("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(xW)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(te("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),xW):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let i,r,o,s,a,c,l;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(u=>(u>this.params.maximumSequenceNumbersToCollect?(te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${u}`),r=this.params.maximumSequenceNumbersToCollect):r=u,s=Date.now(),this.nthSequenceNumber(e,r))).next(u=>(i=u,a=Date.now(),this.removeTargets(e,i,t))).next(u=>(o=u,c=Date.now(),this.removeOrphanedDocuments(e,i))).next(u=>(l=Date.now(),lP()<=vt.DEBUG&&te("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-d}ms\n\tDetermined least recently used ${r} in `+(a-s)+`ms\n\tRemoved ${o} targets in `+(c-a)+`ms\n\tRemoved ${u} documents in `+(l-c)+`ms\nTotal Duration: ${l-d}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:u})))}}class YMe{constructor(e,t){this.db=e,this.garbageCollector=function DW(n,e){return new KMe(n,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}Jn(e){let t=0;return this.Wn(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(i,r)=>t(r))}addReference(e,t,i){return Px(e,i)}removeReference(e,t,i){return Px(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return Px(e,t)}Xn(e,t){return function(i,r){let o=!1;return EW(i).Z(s=>CW(i,s,r).next(a=>(a&&(o=!0),B.resolve(!a)))).next(()=>o)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let o=0;return this.Yn(e,(s,a)=>{if(a<=t){const c=this.Xn(e,s).next(l=>{if(!l)return o++,i.getEntry(e,s).next(()=>(i.removeEntry(s,Ie.min()),Rc(e).delete([0,fr(s.path)])))});r.push(c)}}).next(()=>B.waitFor(r)).next(()=>i.apply(e)).next(()=>o)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return Px(e,t)}Yn(e,t){const i=Rc(e);let r,o=ao.ct;return i.X({index:"documentTargetsIndex"},([s,a],{path:c,sequenceNumber:l})=>{0===s?(o!==ao.ct&&t(new ce(Ls(r)),o),o=l,r=c):o=ao.ct}).next(()=>{o!==ao.ct&&t(new ce(Ls(r)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Px(n,e){return Rc(n).put((i=n.currentSequenceNumber,{targetId:0,path:fr(e.path),sequenceNumber:i}));var i}class SW{constructor(){this.changes=new ka(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,_n.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?B.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class QMe{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return ad(e).put(i)}removeEntry(e,t,i){return ad(e).delete(function(r,o){const s=r.path.toArray();return[s.slice(0,s.length-2),s[s.length-2],Ix(o),s[s.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.Zn(e,i)))}getEntry(e,t){let i=_n.newInvalidDocument(t);return ad(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(zg(t))},(r,o)=>{i=this.ts(t,o)}).next(()=>i)}es(e,t){let i={size:0,document:_n.newInvalidDocument(t)};return ad(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(zg(t))},(r,o)=>{i={document:this.ts(t,o),size:Ax(o)}}).next(()=>i)}getEntries(e,t){let i=qr();return this.ns(e,t,(r,o)=>{const s=this.ts(r,o);i=i.insert(r,s)}).next(()=>i)}ss(e,t){let i=qr(),r=new hn(ce.comparator);return this.ns(e,t,(o,s)=>{const a=this.ts(o,s);i=i.insert(o,a),r=r.insert(o,Ax(s))}).next(()=>({documents:i,rs:r}))}ns(e,t,i){if(t.isEmpty())return B.resolve();let r=new gn(PW);t.forEach(c=>r=r.add(c));const o=IDBKeyRange.bound(zg(r.first()),zg(r.last())),s=r.getIterator();let a=s.getNext();return ad(e).X({index:"documentKeyIndex",range:o},(c,l,d)=>{const u=ce.fromSegments([...l.prefixPath,l.collectionGroup,l.documentId]);for(;a&&PW(a,u)<0;)i(a,null),a=s.getNext();a&&a.isEqual(u)&&(i(a,l),a=s.hasNext()?s.getNext():null),a?d.G(zg(a)):d.done()}).next(()=>{for(;a;)i(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,t,i,r){const o=t.path,s=[o.popLast().toArray(),o.lastSegment(),Ix(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],a=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ad(e).j(IDBKeyRange.bound(s,a,!0)).next(c=>{let l=qr();for(const d of c){const u=this.ts(ce.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);u.isFoundDocument()&&(Eg(t,u)||r.has(u.key))&&(l=l.insert(u.key,u))}return l})}getAllFromCollectionGroup(e,t,i,r){let o=qr();const s=OW(t,i),a=OW(t,so.max());return ad(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},(c,l,d)=>{const u=this.ts(ce.fromSegments(l.prefixPath.concat(l.collectionGroup,l.documentId)),l);o=o.insert(u.key,u),o.size===r&&d.done()}).next(()=>o)}newChangeBuffer(e){return new XMe(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return AW(e).get("remoteDocumentGlobalKey").next(t=>(Te(!!t),t))}Zn(e,t){return AW(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const i=function FMe(n,e){let t;if(e.document)t=function tW(n,e,t){const i=zs(n,e.name),r=oi(e.updateTime),o=e.createTime?oi(e.createTime):Ie.min(),s=new Zi({mapValue:{fields:e.fields}}),a=_n.newFoundDocument(i,r,o,s);return t&&a.setHasCommittedMutations(),t?a.setHasCommittedMutations():a}(n.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=ce.fromSegments(e.noDocument.path),r=nd(e.noDocument.readTime);t=_n.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return pe();{const i=ce.fromSegments(e.unknownDocument.path),r=nd(e.unknownDocument.version);t=_n.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(i){const r=new Fn(i[0],i[1]);return Ie.fromTimestamp(r)}(e.readTime)),t}(this.serializer,t);if(!i.isNoDocument()||!i.version.isEqual(Ie.min()))return i}return _n.newInvalidDocument(e)}}function kW(n){return new QMe(n)}class XMe extends SW{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new ka(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new gn((o,s)=>je(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{const a=this.us.get(o);if(t.push(this.os.removeEntry(e,o,a.readTime)),s.isValidDocument()){const c=cW(this.os.serializer,s);r=r.add(o.path.popLast());const l=Ax(c);i+=l-a.size,t.push(this.os.addEntry(e,o,c))}else if(i-=a.size,this.trackRemovals){const c=cW(this.os.serializer,s.convertToNoDocument(Ie.min()));t.push(this.os.addEntry(e,o,c))}}),r.forEach(o=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,o))}),t.push(this.os.updateMetadata(e,i)),B.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(i=>(this.us.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:i,rs:r})=>(r.forEach((o,s)=>{this.us.set(o,{size:s,readTime:i.get(o).readTime})}),i))}}function AW(n){return Ni(n,"remoteDocumentGlobal")}function ad(n){return Ni(n,"remoteDocumentsV14")}function zg(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function OW(n,e){const t=e.documentKey.path.toArray();return[n,Ix(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function PW(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let o=0;o<t.length-2&&o<i.length-2;++o)if(r=je(t[o],i[o]),r)return r;return r=je(t.length,i.length),r||(r=je(t[t.length-2],i[i.length-2]),r||je(t[t.length-1],i[i.length-1]))}class ZMe{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class RW{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(null!==i&&Dg(i.mutation,r,Gr.empty(),Fn.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,nt()).next(()=>i))}getLocalViewOfDocuments(e,t,i=nt()){const r=Bs();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(o=>{let s=Tg();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){const i=Bs();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,nt()))}populateOverlays(e,t,i){const r=[];return i.forEach(o=>{t.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,i,r){let o=qr();const s=Ig(),a=Ig();return t.forEach((c,l)=>{const d=i.get(l.key);r.has(l.key)&&(void 0===d||d.mutation instanceof Aa)?o=o.insert(l.key,l):void 0!==d?(s.set(l.key,d.mutation.getFieldMask()),Dg(d.mutation,l,d.mutation.getFieldMask(),Fn.now())):s.set(l.key,Gr.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((l,d)=>s.set(l,d)),t.forEach((l,d)=>{var u;return a.set(l,new ZMe(d,null!==(u=s.get(l))&&void 0!==u?u:null))}),a))}recalculateAndSaveOverlays(e,t){const i=Ig();let r=new hn((s,a)=>s-a),o=nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(const a of s)a.keys().forEach(c=>{const l=t.get(c);if(null===l)return;let d=i.get(c)||Gr.empty();d=a.applyToLocalView(l,d),i.set(c,d);const u=(r.get(a.batchId)||nt()).add(c);r=r.insert(a.batchId,u)})}).next(()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),l=c.key,d=c.value,u=Iq();d.forEach(f=>{if(!o.has(f)){const m=Nq(t.get(f),i.get(f));null!==m&&u.set(f,m),o=o.add(f)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,u))}return B.waitFor(s)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return ce.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):CP(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var r}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(o=>{const s=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-o.size):B.resolve(Bs());let a=-1,c=o;return s.next(l=>B.forEach(l,(d,u)=>(a<u.largestBatchId&&(a=u.largestBatchId),o.get(d)?B.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{c=c.insert(d,f)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,c,l,nt())).next(d=>({batchId:a,changes:Tq(d)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ce(t)).next(i=>{let r=Tg();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const r=t.collectionGroup;let o=Tg();return this.indexManager.getCollectionParents(e,r).next(s=>B.forEach(s,a=>{const c=(l=t,d=a.child(r),new Sa(d,null,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt));var l,d;return this.getDocumentsMatchingCollectionQuery(e,c,i).next(l=>{l.forEach((d,u)=>{o=o.insert(d,u)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,i){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(o=>(r=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,r))).next(o=>{r.forEach((a,c)=>{const l=c.getKey();null===o.get(l)&&(o=o.insert(l,_n.newInvalidDocument(l)))});let s=Tg();return o.forEach((a,c)=>{const l=r.get(a);void 0!==l&&Dg(l.mutation,c,Gr.empty(),Fn.now()),Eg(t,c)&&(s=s.insert(a,c))}),s})}}class JMe{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return B.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var i;return this.cs.set(t.id,{id:(i=t).id,version:i.version,createTime:oi(i.createTime)}),B.resolve()}getNamedQuery(e,t){return B.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(i=t).name,query:VP(i.bundledQuery),readTime:oi(i.readTime)}),B.resolve();var i}}class eDe{constructor(){this.overlays=new hn(ce.comparator),this.ls=new Map}getOverlay(e,t){return B.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Bs();return B.forEach(t,r=>this.getOverlay(e,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,o)=>{this.we(e,t,o)}),B.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.ls.get(i);return void 0!==r&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.ls.delete(i)),B.resolve()}getOverlaysForCollection(e,t,i){const r=Bs(),o=t.length+1,s=new ce(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const c=a.getNext().value,l=c.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&c.largestBatchId>i&&r.set(c.getKey(),c)}return B.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let o=new hn((l,d)=>l-d);const s=this.overlays.getIterator();for(;s.hasNext();){const l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>i){let d=o.get(l.largestBatchId);null===d&&(d=Bs(),o=o.insert(l.largestBatchId,d)),d.set(l.getKey(),l)}}const a=Bs(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,d)=>a.set(l,d)),!(a.size()>=r)););return B.resolve(a)}we(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const s=this.ls.get(r.largestBatchId).delete(i.key);this.ls.set(r.largestBatchId,s)}this.overlays=this.overlays.insert(i.key,new kP(t,i));let o=this.ls.get(t);void 0===o&&(o=nt(),this.ls.set(t,o)),this.ls.set(t,o.add(i.key))}}class GP{constructor(){this.fs=new gn(Fi.ds),this.ws=new gn(Fi._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const i=new Fi(e,t);this.fs=this.fs.add(i),this.ws=this.ws.add(i)}gs(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.ys(new Fi(e,t))}ps(e,t){e.forEach(i=>this.removeReference(i,t))}Is(e){const t=new ce(new Et([])),i=new Fi(t,e),r=new Fi(t,e+1),o=[];return this.ws.forEachInRange([i,r],s=>{this.ys(s),o.push(s.key)}),o}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new ce(new Et([])),i=new Fi(t,e),r=new Fi(t,e+1);let o=nt();return this.ws.forEachInRange([i,r],s=>{o=o.add(s.key)}),o}containsKey(e){const t=new Fi(e,0),i=this.fs.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Fi{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return ce.comparator(e.key,t.key)||je(e.As,t.As)}static _s(e,t){return je(e.As,t.As)||ce.comparator(e.key,t.key)}}class tDe{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new gn(Fi.ds)}checkEmpty(e){return B.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const o=this.vs;this.vs++;const s=new DP(o,t,i,r);this.mutationQueue.push(s);for(const a of r)this.Rs=this.Rs.add(new Fi(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return B.resolve(s)}lookupMutationBatch(e,t){return B.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.bs(t+1),o=r<0?0:r;return B.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Fi(t,0),r=new Fi(t,Number.POSITIVE_INFINITY),o=[];return this.Rs.forEachInRange([i,r],s=>{const a=this.Ps(s.As);o.push(a)}),B.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new gn(je);return t.forEach(r=>{const o=new Fi(r,0),s=new Fi(r,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([o,s],a=>{i=i.add(a.As)})}),B.resolve(this.Vs(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let o=i;ce.isDocumentKey(o)||(o=o.child(""));const s=new Fi(new ce(o),0);let a=new gn(je);return this.Rs.forEachWhile(c=>{const l=c.key.path;return!!i.isPrefixOf(l)&&(l.length===r&&(a=a.add(c.As)),!0)},s),B.resolve(this.Vs(a))}Vs(e){const t=[];return e.forEach(i=>{const r=this.Ps(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){Te(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let i=this.Rs;return B.forEach(t.mutations,r=>{const o=new Fi(r.key,t.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Rs=i})}Cn(e){}containsKey(e,t){const i=new Fi(t,0),r=this.Rs.firstAfterOrEqual(i);return B.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return B.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class nDe{constructor(e){this.Ds=e,this.docs=new hn(ce.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),o=r?r.size:0,s=this.Ds(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return B.resolve(i?i.document.mutableCopy():_n.newInvalidDocument(t))}getEntries(e,t){let i=qr();return t.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():_n.newInvalidDocument(r))}),B.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let o=qr();const s=t.path,a=new ce(s.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:l,value:{document:d}}=c.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||hP(zG(d),i)<=0||(r.has(d.key)||Eg(t,d))&&(o=o.insert(d.key,d.mutableCopy()))}return B.resolve(o)}getAllFromCollectionGroup(e,t,i,r){pe()}Cs(e,t){return B.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new iDe(this)}getSize(e){return B.resolve(this.size)}}class iDe extends SW{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.os.addEntry(e,r)):this.os.removeEntry(i)}),B.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class rDe{constructor(e){this.persistence=e,this.xs=new ka(t=>Xl(t),wg),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.Ns=0,this.ks=new GP,this.targetCount=0,this.Ms=sd.kn()}forEachTarget(e,t){return this.xs.forEach((i,r)=>t(r)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Ns&&(this.Ns=t),B.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new sd(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,B.resolve()}updateTargetData(e,t){return this.Fn(t),B.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,t,i){let r=0;const o=[];return this.xs.forEach((s,a)=>{a.sequenceNumber<=t&&null===i.get(a.targetId)&&(this.xs.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),B.waitFor(o).next(()=>r)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,t){const i=this.xs.get(t)||null;return B.resolve(i)}addMatchingKeys(e,t,i){return this.ks.gs(t,i),B.resolve()}removeMatchingKeys(e,t,i){this.ks.ps(t,i);const r=this.persistence.referenceDelegate,o=[];return r&&t.forEach(s=>{o.push(r.markPotentiallyOrphaned(e,s))}),B.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),B.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ks.Es(t);return B.resolve(i)}containsKey(e,t){return B.resolve(this.ks.containsKey(t))}}class qP{constructor(e,t){this.$s={},this.overlays={},this.Os=new ao(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new rDe(this),this.indexManager=new $Me,this.remoteDocumentCache=new nDe(i=>this.referenceDelegate.Ls(i)),this.serializer=new aW(t),this.qs=new JMe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new eDe,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.$s[e.toKey()];return i||(i=new tDe(t,this.referenceDelegate),this.$s[e.toKey()]=i),i}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,i){te("MemoryPersistence","Starting transaction:",e);const r=new oDe(this.Os.next());return this.referenceDelegate.Us(),i(r).next(o=>this.referenceDelegate.Ks(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Gs(e,t){return B.or(Object.values(this.$s).map(i=>()=>i.containsKey(e,t)))}}class oDe extends jG{constructor(e){super(),this.currentSequenceNumber=e}}class Rx{constructor(e){this.persistence=e,this.Qs=new GP,this.js=null}static zs(e){return new Rx(e)}get Ws(){if(this.js)return this.js;throw pe()}addReference(e,t,i){return this.Qs.addReference(i,t),this.Ws.delete(i.toString()),B.resolve()}removeReference(e,t,i){return this.Qs.removeReference(i,t),this.Ws.add(i.toString()),B.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),B.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(r=>this.Ws.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(o=>this.Ws.add(o.toString()))}).next(()=>i.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.Ws,i=>{const r=ce.fromPath(i);return this.Hs(e,r).next(o=>{o||t.removeEntry(r,Ie.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(i=>{i?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return B.or([()=>B.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class sDe{constructor(e){this.serializer=e}O(e,t,i,r){const o=new lx("createOrUpgrade",t);var a;i<1&&r>=1&&(e.createObjectStore("owner"),(a=e).createObjectStore("mutationQueues",{keyPath:"userId"}),a.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",qG,{unique:!0}),a.createObjectStore("documentMutations"),NW(e),function(a){a.createObjectStore("remoteDocuments")}(e));let s=B.resolve();return i<3&&r>=3&&(0!==i&&(function(a){a.deleteObjectStore("targetDocuments"),a.deleteObjectStore("targets"),a.deleteObjectStore("targetGlobal")}(e),NW(e)),s=s.next(()=>function(a){const c=a.store("targetGlobal"),l={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ie.min().toTimestamp(),targetCount:0};return c.put("targetGlobalKey",l)}(o))),i<4&&r>=4&&(0!==i&&(s=s.next(()=>function(a,c){return c.store("mutations").j().next(l=>{a.deleteObjectStore("mutations"),a.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",qG,{unique:!0});const d=c.store("mutations"),u=l.map(f=>d.put(f));return B.waitFor(u)})}(e,o))),s=s.next(()=>{!function(a){a.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(s=s.next(()=>this.Ys(o))),i<6&&r>=6&&(s=s.next(()=>(function(a){a.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(o)))),i<7&&r>=7&&(s=s.next(()=>this.Zs(o))),i<8&&r>=8&&(s=s.next(()=>this.ti(e,o))),i<9&&r>=9&&(s=s.next(()=>{!function(a){a.objectStoreNames.contains("remoteDocumentChanges")&&a.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(s=s.next(()=>this.ei(o))),i<11&&r>=11&&(s=s.next(()=>{(function(a){a.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(a){a.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(s=s.next(()=>{!function(a){const c=a.createObjectStore("documentOverlays",{keyPath:GIe});c.createIndex("collectionPathOverlayIndex",qIe,{unique:!1}),c.createIndex("collectionGroupOverlayIndex",WIe,{unique:!1})}(e)})),i<13&&r>=13&&(s=s.next(()=>function(a){const c=a.createObjectStore("remoteDocumentsV14",{keyPath:RIe});c.createIndex("documentKeyIndex",NIe),c.createIndex("collectionGroupIndex",FIe)}(e)).next(()=>this.ni(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(s=s.next(()=>this.si(e,o))),i<15&&r>=15&&(s=s.next(()=>function(a){a.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),a.createObjectStore("indexState",{keyPath:UIe}).createIndex("sequenceNumberIndex",jIe,{unique:!1}),a.createObjectStore("indexEntries",{keyPath:HIe}).createIndex("documentKeyIndex",$Ie,{unique:!1})}(e))),s}Xs(e){let t=0;return e.store("remoteDocuments").X((i,r)=>{t+=Ax(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Ys(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.j().next(r=>B.forEach(r,o=>{const s=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.j("userMutationsIndex",s).next(a=>B.forEach(a,c=>{Te(c.userId===o.userId);const l=id(this.serializer,c);return wW(e,o.userId,l).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const o=[];return i.X((s,a)=>{const c=new Et(s),l=[0,fr(c)];o.push(t.get(l).next(d=>d?B.resolve():t.put({targetId:0,path:fr(c),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>B.waitFor(o))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:zIe});const i=t.store("collectionParents"),r=new $P,o=s=>{if(r.add(s)){const a=s.lastSegment(),c=s.popLast();return i.put({collectionId:a,parent:fr(c)})}};return t.store("remoteDocuments").X({Y:!0},(s,a)=>{const c=new Et(s);return o(c.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([s,a,c],l)=>{const d=Ls(a);return o(d.popLast())}))}ei(e){const t=e.store("targets");return t.X((i,r)=>{const o=Ng(r),s=lW(this.serializer,o);return t.put(s)})}ni(e,t){const i=t.store("remoteDocuments"),r=[];return i.X((o,s)=>{const a=t.store("remoteDocumentsV14"),c=(l=s,l.document?new ce(Et.fromString(l.document.name).popFirst(5)):l.noDocument?ce.fromSegments(l.noDocument.path):l.unknownDocument?ce.fromSegments(l.unknownDocument.path):pe()).path.toArray();var l;const d={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};r.push(a.put(d))}).next(()=>B.waitFor(r))}si(e,t){const i=t.store("mutations"),r=kW(this.serializer),o=new qP(Rx.zs,this.serializer.fe);return i.j().next(s=>{const a=new Map;return s.forEach(c=>{var l;let d=null!==(l=a.get(c.userId))&&void 0!==l?l:nt();id(this.serializer,c).keys().forEach(u=>d=d.add(u)),a.set(c.userId,d)}),B.forEach(a,(c,l)=>{const d=new Ri(l),u=Mx.de(this.serializer,d),f=o.getIndexManager(d),m=Ox.de(d,this.serializer,f,o.referenceDelegate);return new RW(r,m,u,f).recalculateAndSaveOverlaysForDocumentKeys(new mP(t,ao.ct),c).next()})})}}function NW(n){n.createObjectStore("targetDocuments",{keyPath:VIe}).createIndex("documentTargetsIndex",BIe,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",LIe,{unique:!0}),n.createObjectStore("targetGlobal")}const WP="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class KP{constructor(e,t,i,r,o,s,a,c,l,d,u=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.ii=o,this.window=s,this.document=a,this.ri=l,this.oi=d,this.ui=u,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=f=>Promise.resolve(),!KP.D())throw new J(z.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new YMe(this,r),this.di=t+"main",this.serializer=new aW(c),this.wi=new Ko(this.di,this.ui,new sDe(this.serializer)),this.Bs=new qMe(this.referenceDelegate,this.serializer),this.remoteDocumentCache=kW(this.serializer),this.qs=new LMe,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===d&&ii("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new J(z.FAILED_PRECONDITION,WP);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new ao(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var i=_(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=_(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget(_(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Fx(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(Ec(e))return te("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return te("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return Ug(e).get("owner").next(t=>B.resolve(this.Ri(t)))}Pi(e){return Fx(e).delete(this.clientId)}bi(){var e=this;return _(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Ni(i,"clientMetadata");return r.j().next(o=>{const s=e.Si(o,18e5),a=o.filter(c=>-1===s.indexOf(c));return B.forEach(a,c=>r.delete(c.clientId)).next(()=>a)})}).catch(()=>[]);if(e._i)for(const i of t)e._i.removeItem(e.Di(i.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?B.resolve(!0):Ug(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new J(z.FAILED_PRECONDITION,WP);return!1}}return!(!this.networkEnabled||!this.inForeground)||Fx(e).j().next(i=>void 0===this.Si(i,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(t=>(this.isPrimary!==t&&te("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return _(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new mP(t,ao.ct);return e.Ai(i).next(()=>e.Pi(i))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(i=>this.Vi(i.updateTimeMs,t)&&!this.Ci(i.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>Fx(e).j().next(t=>this.Si(t,18e5).map(i=>i.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return Ox.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new GMe(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return Mx.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,i){te("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",o=15===(s=this.ui)?YIe:14===s?QG:13===s?YG:12===s?KIe:11===s?KG:void pe();var s;let a;return this.wi.runTransaction(e,r,o,c=>(a=new mP(c,this.Os?this.Os.next():ao.ct),"readwrite-primary"===t?this.Ti(a).next(l=>!!l||this.Ei(a)).next(l=>{if(!l)throw ii(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new J(z.FAILED_PRECONDITION,UG);return i(a)}).next(l=>this.vi(a).next(()=>l)):this.Oi(a).next(()=>i(a)))).then(c=>(a.raiseOnCommittedEvent(),c))}Oi(e){return Ug(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new J(z.FAILED_PRECONDITION,WP)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Ug(e).put("owner",t)}static D(){return Ko.D()}Ai(e){const t=Ug(e);return t.get("owner").next(i=>this.Ri(i)?(te("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):B.resolve())}Vi(e,t){const i=Date.now();return!(e<i-t||e>i&&(ii(`Detected an update time that is in the future: ${e} > ${i}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(function jbe(){return!y7()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")})()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const i=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return te("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return ii("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){ii("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Ug(n){return Ni(n,"owner")}function Fx(n){return Ni(n,"clientMetadata")}class QP{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Fi=i,this.Bi=r}static Li(e,t){let i=nt(),r=nt();for(const o of t.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new QP(e,t.fromCache,i,r)}}class FW{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,i,r){return this.Ki(e,t).next(o=>o||this.Gi(e,t,r,i)).next(o=>o||this.Qi(e,t))}Ki(e,t){if(vq(t))return B.resolve(null);let i=Dr(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=vx(t,null,"F"),i=Dr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{const s=nt(...o);return this.Ui.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,i).next(c=>{const l=this.ji(t,a);return this.zi(t,l,s,c.readTime)?this.Ki(e,vx(t,null,"F")):this.Wi(e,l,t,c)}))})))}Gi(e,t,i,r){return vq(t)||r.isEqual(Ie.min())?this.Qi(e,t):this.Ui.getDocuments(e,i).next(o=>{const s=this.ji(t,o);return this.zi(t,s,i,r)?this.Qi(e,t):(lP()<=vt.DEBUG&&te("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),TP(t)),this.Wi(e,s,t,function BG(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Ie.fromTimestamp(1e9===i?new Fn(t+1,0):new Fn(t,i));return new so(r,ce.empty(),e)}(r,-1)))})}ji(e,t){let i=new gn(Cq(e));return t.forEach((r,o)=>{Eg(e,o)&&(i=i.add(o))}),i}zi(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const o="F"===e.limitType?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Qi(e,t){return lP()<=vt.DEBUG&&te("QueryEngine","Using full collection scan to execute query:",TP(t)),this.Ui.getDocumentsMatchingQuery(e,t,so.min())}Wi(e,t,i,r){return this.Ui.getDocumentsMatchingQuery(e,i,r).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}}class aDe{constructor(e,t,i,r){this.persistence=e,this.Hi=t,this.serializer=r,this.Ji=new hn(je),this.Yi=new ka(o=>Xl(o),wg),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(i)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new RW(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function LW(n,e,t,i){return new aDe(n,e,t,i)}function VW(n,e){return XP.apply(this,arguments)}function XP(){return XP=_(function*(n,e){const t=de(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,t.tr(e),t.mutationQueue.getAllMutationBatches(i))).next(o=>{const s=[],a=[];let c=nt();for(const l of r){s.push(l.batchId);for(const d of l.mutations)c=c.add(d.key)}for(const l of o){a.push(l.batchId);for(const d of l.mutations)c=c.add(d.key)}return t.localDocuments.getDocuments(i,c).next(l=>({er:l,removedBatchIds:s,addedBatchIds:a}))})})}),XP.apply(this,arguments)}function BW(n){const e=de(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function dDe(n,e){const t=de(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function qh(n,e,t){return ZP.apply(this,arguments)}function ZP(){return ZP=_(function*(n,e,t){const i=de(n),r=i.Ji.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",o,s=>i.persistence.referenceDelegate.removeTarget(s,r)))}catch(s){if(!Ec(s))throw s;te("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}i.Ji=i.Ji.remove(e),i.Yi.delete(r.target)}),ZP.apply(this,arguments)}function Lx(n,e,t){const i=de(n);let r=Ie.min(),o=nt();return i.persistence.runTransaction("Execute query","readonly",s=>function(a,c,l){const d=de(a),u=d.Yi.get(l);return void 0!==u?B.resolve(d.Ji.get(u)):d.Bs.getTargetData(c,l)}(i,s,Dr(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.Bs.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>i.Hi.getDocumentsMatchingQuery(s,e,t?r:Ie.min(),t?o:nt())).next(a=>(function HW(n,e,t){let i=n.Xi.get(e)||Ie.min();t.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.Xi.set(e,i)}(i,function wq(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),a),{documents:a,ir:o})))}class iR{constructor(){this.activeTargetIds=function IP(){return hMe}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class qW{constructor(){this.Hr=new iR,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,i){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new iR,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class fDe{Yr(e){}shutdown(){}}class WW{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){te("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){te("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let zx=null;function oR(){return null===zx?zx=268435456+Math.round(2147483648*Math.random()):zx++,"0x"+zx.toString(16)}const pDe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class mDe{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const mr="WebChannelConnection";class gDe extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,i,r,o){const s=oR(),a=this.To(e,t);te("RestConnection",`Sending RPC '${e}' ${s}:`,a,i);const c={};return this.Eo(c,r,o),this.Ao(e,a,c,i).then(l=>(te("RestConnection",`Received RPC '${e}' ${s}: `,l),l),l=>{throw Wo("RestConnection",`RPC '${e}' ${s} failed with error: `,l,"url: ",a,"request:",i),l})}vo(e,t,i,r,o,s){return this.Io(e,t,i,r,o)}Eo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+kh,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,o)=>e[o]=r),i&&i.headers.forEach((r,o)=>e[o]=r)}To(e,t){return`${this.mo}/v1/${t}:${pDe[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,i,r){const o=oR();return new Promise((s,a)=>{const c=new gIe;c.setWithCredentials(!0),c.listenOnce(fIe.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case cP.NO_ERROR:const d=c.getResponseJson();te(mr,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),s(d);break;case cP.TIMEOUT:te(mr,`RPC '${e}' ${o} timed out`),a(new J(z.DEADLINE_EXCEEDED,"Request time out"));break;case cP.HTTP_ERROR:const u=c.getStatus();if(te(mr,`RPC '${e}' ${o} failed with status:`,u,"response text:",c.getResponseText()),u>0){let f=c.getResponseJson();Array.isArray(f)&&(f=f[0]);const m=f?.error;if(m&&m.status&&m.message){const y=function(C){const T=C.toLowerCase().replace(/_/g,"-");return Object.values(z).indexOf(T)>=0?T:z.UNKNOWN}(m.status);a(new J(y,m.message))}else a(new J(z.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new J(z.UNAVAILABLE,"Connection failed."));break;default:pe()}}finally{te(mr,`RPC '${e}' ${o} completed.`)}});const l=JSON.stringify(r);te(mr,`RPC '${e}' ${o} sending request:`,r),c.send(t,"POST",l,i,15)})}Ro(e,t,i){const r=oR(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=uIe(),a=hIe(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.xmlHttpFactory=new mIe({})),this.Eo(c.initMessageHeaders,t,i),c.encodeInitMessageHeaders=!0;const d=o.join("");te(mr,`Creating RPC '${e}' stream ${r}: ${d}`,c);const u=s.createWebChannel(d,c);let f=!1,m=!1;const y=new mDe({ro:T=>{m?te(mr,`Not sending because RPC '${e}' stream ${r} is closed:`,T):(f||(te(mr,`Opening RPC '${e}' stream ${r} transport.`),u.open(),f=!0),te(mr,`RPC '${e}' stream ${r} sending:`,T),u.send(T))},oo:()=>u.close()}),C=(T,S,D)=>{T.listen(S,L=>{try{D(L)}catch(Y){setTimeout(()=>{throw Y},0)}})};return C(u,sx.EventType.OPEN,()=>{m||te(mr,`RPC '${e}' stream ${r} transport opened.`)}),C(u,sx.EventType.CLOSE,()=>{m||(m=!0,te(mr,`RPC '${e}' stream ${r} transport closed`),y.wo())}),C(u,sx.EventType.ERROR,T=>{m||(m=!0,Wo(mr,`RPC '${e}' stream ${r} transport errored:`,T),y.wo(new J(z.UNAVAILABLE,"The operation could not be completed")))}),C(u,sx.EventType.MESSAGE,T=>{var S;if(!m){const D=T.data[0];Te(!!D);const Y=D.error||(null===(S=D[0])||void 0===S?void 0:S.error);if(Y){te(mr,`RPC '${e}' stream ${r} received error:`,Y);const re=Y.status;let ue=function(it){const kn=ui[it];if(void 0!==kn)return Uq(kn)}(re),Fe=Y.message;void 0===ue&&(ue=z.INTERNAL,Fe="Unknown error status: "+re+" with message "+Y.message),m=!0,y.wo(new J(ue,Fe)),u.close()}else te(mr,`RPC '${e}' stream ${r} received:`,D),y._o(D)}}),C(a,pIe.STAT_EVENT,T=>{T.stat===PG.PROXY?te(mr,`RPC '${e}' stream ${r} detected buffering proxy`):T.stat===PG.NOPROXY&&te(mr,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{y.fo()},0),y}}function Ux(){return typeof document<"u"?document:null}function Hg(n){return new IMe(n,!0)}class sR{constructor(e,t,i=1e3,r=1.5,o=6e4){this.ii=e,this.timerId=t,this.Po=i,this.bo=r,this.Vo=o,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),i=Math.max(0,Date.now()-this.Co),r=Math.max(0,t-i);r>0&&te("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class YW{constructor(e,t,i,r,o,s,a,c){this.ii=e,this.$o=i,this.Oo=r,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new sR(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return _(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return _(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var i=this;return _(function*(){i.Ho(),i.Jo(),i.qo.cancel(),i.Fo++,4!==e?i.qo.reset():t&&t.code===z.RESOURCE_EXHAUSTED?(ii(t.toString()),ii("Using maximum backoff delay to prevent overloading the backend."),i.qo.xo()):t&&t.code===z.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Yo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Fo===t&&this.Zo(i,r)},i=>{e(()=>{const r=new J(z.UNKNOWN,"Fetching auth token failed: "+i.message);return this.tu(r)})})}Zo(e,t){const i=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{i(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(r=>{i(()=>this.tu(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Go(){var e=this;this.state=5,this.qo.No(_(function*(){e.state=0,e.start()}))}tu(e){return te("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(te("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class _De extends YW{constructor(e,t,i,r,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,s),this.serializer=o}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function SMe(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(c=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:pe(),r=e.targetChange.targetIds||[],o=function(c,l){return c.useProto3Json?(Te(void 0===l||"string"==typeof l),Ei.fromBase64String(l||"")):(Te(void 0===l||l instanceof Uint8Array),Ei.fromUint8Array(l||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){const l=void 0===c.code?z.UNKNOWN:Uq(c.code);return new J(l,c.message||"")}(s);t=new qq(i,r,o,a||null)}else if("documentChange"in e){const i=e.documentChange,r=zs(n,i.document.name),o=oi(i.document.updateTime),s=i.document.createTime?oi(i.document.createTime):Ie.min(),a=new Zi({mapValue:{fields:i.document.fields}}),c=_n.newFoundDocument(r,o,s,a);t=new Tx(i.targetIds||[],i.removedTargetIds||[],c.key,c)}else if("documentDelete"in e){const i=e.documentDelete,r=zs(n,i.document),o=i.readTime?oi(i.readTime):Ie.min(),s=_n.newNoDocument(r,o);t=new Tx([],i.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const i=e.documentRemove,r=zs(n,i.document);t=new Tx([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return pe();{const i=e.filter,{count:r=0,unchangedNames:o}=i,s=new vMe(r,o);t=new Gq(i.targetId,s)}}var c;return t}(this.serializer,e),i=function(r){if(!("targetChange"in r))return Ie.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?Ie.min():o.readTime?oi(o.readTime):Ie.min()}(e);return this.listener.nu(t,i)}su(e){const t={};t.database=Pg(this.serializer),t.addTarget=function(r,o){let s;const a=o.target;if(s=_x(a)?{documents:nW(r,a)}:{query:LP(r,a)},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){s.resumeToken=Qq(r,o.resumeToken);const c=PP(r,o.expectedCount);null!==c&&(s.expectedCount=c)}else if(o.snapshotVersion.compareTo(Ie.min())>0){s.readTime=Uh(r,o.snapshotVersion.toTimestamp());const c=PP(r,o.expectedCount);null!==c&&(s.expectedCount=c)}return s}(this.serializer,e);const i=function AMe(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pe()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Wo(t)}iu(e){const t={};t.database=Pg(this.serializer),t.removeTarget=e,this.Wo(t)}}class bDe extends YW{constructor(e,t,i,r,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,s),this.serializer=o,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Te(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function kMe(n,e){return n&&n.length>0?(Te(void 0!==e),n.map(t=>function(i,r){let o=oi(i.updateTime?i.updateTime:r);return o.isEqual(Ie.min())&&(o=oi(r)),new gMe(o,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=oi(e.commitTime);return this.listener.cu(i,t)}return Te(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Pg(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>Rg(this.serializer,i))};this.Wo(t)}}class yDe extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new J(z.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.Io(e,t,i,r,o)).catch(r=>{throw"FirebaseError"===r.name?(r.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new J(z.UNKNOWN,r.toString())})}vo(e,t,i,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.vo(e,t,i,o,s,r)).catch(o=>{throw"FirebaseError"===o.name?(o.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new J(z.UNKNOWN,o.toString())})}terminate(){this.lu=!0}}class xDe{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(ii(t),this.mu=!1):te("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class wDe{constructor(e,t,i,r,o){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=o,this.Pu.Yr(a=>{i.enqueueAndForget(_(function*(){var c;Nc(s)&&(te("RemoteStore","Restarting streams for network reachability change."),yield(c=_(function*(l){const d=de(l);d.vu.add(4),yield Wh(d),d.bu.set("Unknown"),d.vu.delete(4),yield $g(d)}),function(l){return c.apply(this,arguments)})(s))}))}),this.bu=new xDe(i,r)}}function $g(n){return cR.apply(this,arguments)}function cR(){return cR=_(function*(n){if(Nc(n))for(const e of n.Ru)yield e(!0)}),cR.apply(this,arguments)}function Wh(n){return lR.apply(this,arguments)}function lR(){return lR=_(function*(n){for(const e of n.Ru)yield e(!1)}),lR.apply(this,arguments)}function jx(n,e){const t=de(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),hR(t)?uR(t):Yh(t).Ko()&&dR(t,e))}function Gg(n,e){const t=de(n),i=Yh(t);t.Au.delete(e),i.Ko()&&QW(t,e),0===t.Au.size&&(i.Ko()?i.jo():Nc(t)&&t.bu.set("Unknown"))}function dR(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Yh(n).su(e)}function QW(n,e){n.Vu.qt(e),Yh(n).iu(e)}function uR(n){n.Vu=new wMe({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),Yh(n).start(),n.bu.gu()}function hR(n){return Nc(n)&&!Yh(n).Uo()&&n.Au.size>0}function Nc(n){return 0===de(n).vu.size}function XW(n){n.Vu=void 0}function CDe(n){return fR.apply(this,arguments)}function fR(){return fR=_(function*(n){n.Au.forEach((e,t)=>{dR(n,e)})}),fR.apply(this,arguments)}function EDe(n,e){return pR.apply(this,arguments)}function pR(){return pR=_(function*(n,e){XW(n),hR(n)?(n.bu.Iu(e),uR(n)):n.bu.set("Unknown")}),pR.apply(this,arguments)}function TDe(n,e,t){return mR.apply(this,arguments)}function mR(){return mR=_(function*(n,e,t){if(n.bu.set("Online"),e instanceof qq&&2===e.state&&e.cause)try{yield(i=_(function*(r,o){const s=o.cause;for(const a of o.targetIds)r.Au.has(a)&&(yield r.remoteSyncer.rejectListen(a,s),r.Au.delete(a),r.Vu.removeTarget(a))}),function(r,o){return i.apply(this,arguments)})(n,e)}catch(i){te("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield Hx(n,i)}else if(e instanceof Tx?n.Vu.Ht(e):e instanceof Gq?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(Ie.min()))try{const i=yield BW(n.localStore);t.compareTo(i)>=0&&(yield function(r,o){const s=r.Vu.ce(o);return s.targetChanges.forEach((a,c)=>{if(a.resumeToken.approximateByteSize()>0){const l=r.Au.get(c);l&&r.Au.set(c,l.withResumeToken(a.resumeToken,o))}}),s.targetMismatches.forEach((a,c)=>{const l=r.Au.get(a);if(!l)return;r.Au.set(a,l.withResumeToken(Ei.EMPTY_BYTE_STRING,l.snapshotVersion)),QW(r,a);const d=new Oa(l.target,a,c,l.sequenceNumber);dR(r,d)}),r.remoteSyncer.applyRemoteEvent(s)}(n,t))}catch(i){te("RemoteStore","Failed to raise snapshot:",i),yield Hx(n,i)}var i}),mR.apply(this,arguments)}function Hx(n,e,t){return gR.apply(this,arguments)}function gR(){return gR=_(function*(n,e,t){if(!Ec(e))throw e;n.vu.add(1),yield Wh(n),n.bu.set("Offline"),t||(t=()=>BW(n.localStore)),n.asyncQueue.enqueueRetryable(_(function*(){te("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield $g(n)}))}),gR.apply(this,arguments)}function ZW(n,e){return e().catch(t=>Hx(n,t,e))}function Kh(n){return _R.apply(this,arguments)}function _R(){return _R=_(function*(n){const e=de(n),t=Fc(e);let i=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;IDe(e);)try{const r=yield dDe(e.localStore,i);if(null===r){0===e.Eu.length&&t.jo();break}i=r.batchId,MDe(e,r)}catch(r){yield Hx(e,r)}JW(e)&&eK(e)}),_R.apply(this,arguments)}function IDe(n){return Nc(n)&&n.Eu.length<10}function MDe(n,e){n.Eu.push(e);const t=Fc(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function JW(n){return Nc(n)&&!Fc(n).Uo()&&n.Eu.length>0}function eK(n){Fc(n).start()}function DDe(n){return bR.apply(this,arguments)}function bR(){return bR=_(function*(n){Fc(n).hu()}),bR.apply(this,arguments)}function SDe(n){return yR.apply(this,arguments)}function yR(){return yR=_(function*(n){const e=Fc(n);for(const t of n.Eu)e.uu(t.mutations)}),yR.apply(this,arguments)}function kDe(n,e,t){return vR.apply(this,arguments)}function vR(){return vR=_(function*(n,e,t){const i=n.Eu.shift(),r=SP.from(i,e,t);yield ZW(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Kh(n)}),vR.apply(this,arguments)}function ADe(n,e){return xR.apply(this,arguments)}function xR(){return xR=_(function*(n,e){var t;e&&Fc(n).ou&&(yield(t=_(function*(i,r){if(function zq(n){switch(n){default:return pe();case z.CANCELLED:case z.UNKNOWN:case z.DEADLINE_EXCEEDED:case z.RESOURCE_EXHAUSTED:case z.INTERNAL:case z.UNAVAILABLE:case z.UNAUTHENTICATED:return!1;case z.INVALID_ARGUMENT:case z.NOT_FOUND:case z.ALREADY_EXISTS:case z.PERMISSION_DENIED:case z.FAILED_PRECONDITION:case z.ABORTED:case z.OUT_OF_RANGE:case z.UNIMPLEMENTED:case z.DATA_LOSS:return!0}}(o=r.code)&&o!==z.ABORTED){const s=i.Eu.shift();Fc(i).Qo(),yield ZW(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),yield Kh(i)}var o}),function(i,r){return t.apply(this,arguments)})(n,e)),JW(n)&&eK(n)}),xR.apply(this,arguments)}function tK(n,e){return wR.apply(this,arguments)}function wR(){return wR=_(function*(n,e){const t=de(n);t.asyncQueue.verifyOperationInProgress(),te("RemoteStore","RemoteStore received new credentials");const i=Nc(t);t.vu.add(3),yield Wh(t),i&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield $g(t)}),wR.apply(this,arguments)}function ER(){return ER=_(function*(n,e){const t=de(n);e?(t.vu.delete(2),yield $g(t)):e||(t.vu.add(2),yield Wh(t),t.bu.set("Unknown"))}),ER.apply(this,arguments)}function Yh(n){return n.Su||(n.Su=function(e,t,i){const r=de(e);return r.fu(),new _De(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:CDe.bind(null,n),ao:EDe.bind(null,n),nu:TDe.bind(null,n)}),n.Ru.push(function(){var e=_(function*(t){t?(n.Su.Qo(),hR(n)?uR(n):n.bu.set("Unknown")):(yield n.Su.stop(),XW(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function Fc(n){return n.Du||(n.Du=function(e,t,i){const r=de(e);return r.fu(),new bDe(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:DDe.bind(null,n),ao:ADe.bind(null,n),au:SDe.bind(null,n),cu:kDe.bind(null,n)}),n.Ru.push(function(){var e=_(function*(t){t?(n.Du.Qo(),yield Kh(n)):(yield n.Du.stop(),n.Eu.length>0&&(te("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class TR{constructor(e,t,i,r,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Ci,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}static createAndSchedule(e,t,i,r,o){const s=Date.now()+i,a=new TR(e,t,s,r,o);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new J(z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Qh(n,e){if(ii("AsyncQueue",`${e}: ${n}`),Ec(n))return new J(z.UNAVAILABLE,`${e}: ${n}`);throw n}class Xh{constructor(e){this.comparator=e?(t,i)=>e(t,i)||ce.comparator(t.key,i.key):(t,i)=>ce.comparator(t.key,i.key),this.keyedMap=Tg(),this.sortedSet=new hn(this.comparator)}static emptySet(e){return new Xh(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Xh)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new Xh;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class nK{constructor(){this.Cu=new hn(ce.comparator)}track(e){const t=e.doc.key,i=this.Cu.get(t);i?0!==e.type&&3===i.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==i.type?this.Cu=this.Cu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Cu=this.Cu.remove(t):1===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):pe():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,i)=>{e.push(i)}),e}}class Zh{constructor(e,t,i,r,o,s,a,c,l){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,t,i,r,o){const s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new Zh(e,t,Xh.emptySet(t),s,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Cg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class ODe{constructor(){this.Nu=void 0,this.listeners=[]}}class PDe{constructor(){this.queries=new ka(e=>xq(e),Cg),this.onlineState="Unknown",this.ku=new Set}}function MR(){return MR=_(function*(n,e){const t=de(n),i=e.query;let r=!1,o=t.queries.get(i);if(o||(r=!0,o=new ODe),r)try{o.Nu=yield t.onListen(i)}catch(s){const a=Qh(s,`Initialization of query '${TP(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.listeners.push(e),e.Mu(t.onlineState),o.Nu&&e.$u(o.Nu)&&kR(t)}),MR.apply(this,arguments)}function SR(){return SR=_(function*(n,e){const t=de(n),i=e.query;let r=!1;const o=t.queries.get(i);if(o){const s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),r=0===o.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),SR.apply(this,arguments)}function RDe(n,e){const t=de(n);let i=!1;for(const r of e){const s=t.queries.get(r.query);if(s){for(const a of s.listeners)a.$u(r)&&(i=!0);s.Nu=r}}i&&kR(t)}function NDe(n,e,t){const i=de(n),r=i.queries.get(e);if(r)for(const o of r.listeners)o.onError(t);i.queries.delete(e)}function kR(n){n.ku.forEach(e=>{e.next()})}class AR{constructor(e,t,i){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=i||{}}$u(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new Zh(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Zh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class oK{constructor(e){this.key=e}}class sK{constructor(e){this.key=e}}class aK{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=nt(),this.mutatedKeys=nt(),this.tc=Cq(e),this.ec=new Xh(this.tc)}get nc(){return this.Yu}sc(e,t){const i=t?t.ic:new nK,r=t?t.ec:this.ec;let o=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const c="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((d,u)=>{const f=r.get(d),m=Eg(this.query,u)?u:null,y=!!f&&this.mutatedKeys.has(f.key),C=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let T=!1;f&&m?f.data.isEqual(m.data)?y!==C&&(i.track({type:3,doc:m}),T=!0):this.rc(f,m)||(i.track({type:2,doc:m}),T=!0,(c&&this.tc(m,c)>0||l&&this.tc(m,l)<0)&&(a=!0)):!f&&m?(i.track({type:0,doc:m}),T=!0):f&&!m&&(i.track({type:1,doc:f}),T=!0,(c||l)&&(a=!0)),T&&(m?(s=s.add(m),o=C?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const d="F"===this.query.limitType?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),i.track({type:1,doc:d})}return{ec:s,ic:i,zi:a,mutatedKeys:o}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const o=e.ic.xu();o.sort((l,d)=>function(u,f){const m=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pe()}};return m(u)-m(f)}(l.type,d.type)||this.tc(l.doc,d.doc)),this.oc(i);const s=t?this.uc():[],a=0===this.Zu.size&&this.current?1:0,c=a!==this.Xu;return this.Xu=a,0!==o.length||c?{snapshot:new Zh(this.query,e.ec,r,o,e.mutatedKeys,0===a,c,!1,!!i&&i.resumeToken.approximateByteSize()>0),cc:s}:{cc:s}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new nK,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=nt(),this.ec.forEach(i=>{this.ac(i.key)&&(this.Zu=this.Zu.add(i.key))});const t=[];return e.forEach(i=>{this.Zu.has(i)||t.push(new sK(i))}),this.Zu.forEach(i=>{e.has(i)||t.push(new oK(i))}),t}hc(e){this.Yu=e.ir,this.Zu=nt();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return Zh.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class VDe{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class BDe{constructor(e){this.key=e,this.fc=!1}}class zDe{constructor(e,t,i,r,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.dc={},this.wc=new ka(a=>xq(a),Cg),this._c=new Map,this.mc=new Set,this.gc=new hn(ce.comparator),this.yc=new Map,this.Ic=new GP,this.Tc={},this.Ec=new Map,this.Ac=sd.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function UDe(n,e){return OR.apply(this,arguments)}function OR(){return OR=_(function*(n,e){const t=function tN(n){const e=de(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=cK.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=QDe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$De.bind(null,e),e.dc.nu=RDe.bind(null,e.eventManager),e.dc.Pc=NDe.bind(null,e.eventManager),e}(n);let i,r;const o=t.wc.get(e);if(o)i=o.targetId,t.sharedClientState.addLocalQueryTarget(i),r=o.view.lc();else{const s=yield function Gh(n,e){const t=de(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Bs.getTargetData(i,e).next(o=>o?(r=o,B.resolve(r)):t.Bs.allocateTargetId(i).next(s=>(r=new Oa(e,s,"TargetPurposeListen",i.currentSequenceNumber),t.Bs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.Ji.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(i.targetId,i),t.Yi.set(e,i.targetId)),i})}(t.localStore,Dr(e)),a=t.sharedClientState.addLocalQueryTarget(s.targetId);i=s.targetId,r=yield function PR(n,e,t,i,r){return RR.apply(this,arguments)}(t,e,i,"current"===a,s.resumeToken),t.isPrimaryClient&&jx(t.remoteStore,s)}return r}),OR.apply(this,arguments)}function RR(){return RR=_(function*(n,e,t,i,r){n.Rc=(u,f,m)=>{return(y=_(function*(C,T,S,D){let L=T.view.sc(S);L.zi&&(L=yield Lx(C.localStore,T.query,!1).then(({documents:ue})=>T.view.sc(ue,L)));const Y=D&&D.targetChanges.get(T.targetId),re=T.view.applyChanges(L,C.isPrimaryClient,Y);return $R(C,T.targetId,re.cc),re.snapshot}),function(C,T,S,D){return y.apply(this,arguments)})(n,u,f,m);var y};const o=yield Lx(n.localStore,e,!0),s=new aK(e,o.ir),a=s.sc(o.documents),c=Ag.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,r),l=s.applyChanges(a,n.isPrimaryClient,c);$R(n,t,l.cc);const d=new VDe(e,t,s);return n.wc.set(e,d),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),l.snapshot}),RR.apply(this,arguments)}function jDe(n,e){return NR.apply(this,arguments)}function NR(){return NR=_(function*(n,e){const t=de(n),i=t.wc.get(e),r=t._c.get(i.targetId);if(r.length>1)return t._c.set(i.targetId,r.filter(o=>!Cg(o,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield qh(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),Gg(t.remoteStore,i.targetId),Jh(t,i.targetId)}).catch(Cc))):(Jh(t,i.targetId),yield qh(t.localStore,i.targetId,!0))}),NR.apply(this,arguments)}function FR(){return FR=_(function*(n,e,t){const i=nN(n);try{const r=yield function(o,s){const a=de(o),c=Fn.now(),l=s.reduce((f,m)=>f.add(m.key),nt());let d,u;return a.persistence.runTransaction("Locally write mutations","readwrite",f=>{let m=qr(),y=nt();return a.Zi.getEntries(f,l).next(C=>{m=C,m.forEach((T,S)=>{S.isValidDocument()||(y=y.add(T))})}).next(()=>a.localDocuments.getOverlayedDocuments(f,m)).next(C=>{d=C;const T=[];for(const S of s){const D=bMe(S,d.get(S.key).overlayedDocument);null!=D&&T.push(new Aa(S.key,D,aq(D.value.mapValue),Mn.exists(!0)))}return a.mutationQueue.addMutationBatch(f,c,T,s)}).next(C=>{u=C;const T=C.applyToLocalDocumentSet(d,y);return a.documentOverlayCache.saveOverlays(f,C.batchId,T)})}).then(()=>({batchId:u.batchId,changes:Tq(d)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(o,s,a){let c=o.Tc[o.currentUser.toKey()];c||(c=new hn(je)),c=c.insert(s,a),o.Tc[o.currentUser.toKey()]=c}(i,r.batchId,t),yield Pa(i,r.changes),yield Kh(i.remoteStore)}catch(r){const o=Qh(r,"Failed to persist write");t.reject(o)}}),FR.apply(this,arguments)}function cK(n,e){return LR.apply(this,arguments)}function LR(){return LR=_(function*(n,e){const t=de(n);try{const i=yield function lDe(n,e){const t=de(n),i=e.snapshotVersion;let r=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=t.Zi.newChangeBuffer({trackRemovals:!0});r=t.Ji;const a=[];e.targetChanges.forEach((d,u)=>{const f=r.get(u);if(!f)return;a.push(t.Bs.removeMatchingKeys(o,d.removedDocuments,u).next(()=>t.Bs.addMatchingKeys(o,d.addedDocuments,u)));let m=f.withSequenceNumber(o.currentSequenceNumber);var y,C,T;null!==e.targetMismatches.get(u)?m=m.withResumeToken(Ei.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,i)),r=r.insert(u,m),C=m,T=d,(0===(y=f).resumeToken.approximateByteSize()||C.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8||T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0)&&a.push(t.Bs.updateTargetData(o,m))});let c=qr(),l=nt();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push(function zW(n,e,t){let i=nt(),r=nt();return t.forEach(o=>i=i.add(o)),e.getEntries(n,i).next(o=>{let s=qr();return t.forEach((a,c)=>{const l=o.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(r=r.add(a)),c.isNoDocument()&&c.version.isEqual(Ie.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||0===c.version.compareTo(l.version)&&l.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):te("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{nr:s,sr:r}})}(o,s,e.documentUpdates).next(d=>{c=d.nr,l=d.sr})),!i.isEqual(Ie.min())){const d=t.Bs.getLastRemoteSnapshotVersion(o).next(u=>t.Bs.setTargetsMetadata(o,o.currentSequenceNumber,i));a.push(d)}return B.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,c,l)).next(()=>c)}).then(o=>(t.Ji=r,o))}(t.localStore,e);e.targetChanges.forEach((r,o)=>{const s=t.yc.get(o);s&&(Te(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?s.fc=!0:r.modifiedDocuments.size>0?Te(s.fc):r.removedDocuments.size>0&&(Te(s.fc),s.fc=!1))}),yield Pa(t,i,e)}catch(i){yield Cc(i)}}),LR.apply(this,arguments)}function lK(n,e,t){const i=de(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.wc.forEach((o,s)=>{const a=s.view.Mu(e);a.snapshot&&r.push(a.snapshot)}),function(o,s){const a=de(o);a.onlineState=s;let c=!1;a.queries.forEach((l,d)=>{for(const u of d.listeners)u.Mu(s)&&(c=!0)}),c&&kR(a)}(i.eventManager,e),r.length&&i.dc.nu(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function $De(n,e,t){return VR.apply(this,arguments)}function VR(){return VR=_(function*(n,e,t){const i=de(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.yc.get(e),o=r&&r.key;if(o){let s=new hn(ce.comparator);s=s.insert(o,_n.newNoDocument(o,Ie.min()));const a=nt().add(o),c=new kg(Ie.min(),new Map,new hn(je),s,a);yield cK(i,c),i.gc=i.gc.remove(o),i.yc.delete(e),GR(i)}else yield qh(i.localStore,e,!1).then(()=>Jh(i,e,t)).catch(Cc)}),VR.apply(this,arguments)}function GDe(n,e){return BR.apply(this,arguments)}function BR(){return BR=_(function*(n,e){const t=de(n),i=e.batch.batchId;try{const r=yield function cDe(n,e){const t=de(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),o=t.Zi.newChangeBuffer({trackRemovals:!0});return function(s,a,c,l){const d=c.batch,u=d.keys();let f=B.resolve();return u.forEach(m=>{f=f.next(()=>l.getEntry(a,m)).next(y=>{const C=c.docVersions.get(m);Te(null!==C),y.version.compareTo(C)<0&&(d.applyToRemoteDocument(y,c),y.isValidDocument()&&(y.setReadTime(c.commitVersion),l.addEntry(y)))})}),f.next(()=>s.mutationQueue.removeMutationBatch(a,d))}(t,i,e,o).next(()=>o.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(s){let a=nt();for(let c=0;c<s.mutationResults.length;++c)s.mutationResults[c].transformResults.length>0&&(a=a.add(s.batch.mutations[c].key));return a}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}(t.localStore,e);HR(t,i,null),jR(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield Pa(t,r)}catch(r){yield Cc(r)}}),BR.apply(this,arguments)}function qDe(n,e,t){return zR.apply(this,arguments)}function zR(){return zR=_(function*(n,e,t){const i=de(n);try{const r=yield function(o,s){const a=de(o);return a.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let l;return a.mutationQueue.lookupMutationBatch(c,s).next(d=>(Te(null!==d),l=d.keys(),a.mutationQueue.removeMutationBatch(c,d))).next(()=>a.mutationQueue.performConsistencyCheck(c)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(c,l,s)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,l)).next(()=>a.localDocuments.getDocuments(c,l))})}(i.localStore,e);HR(i,e,t),jR(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield Pa(i,r)}catch(r){yield Cc(r)}}),zR.apply(this,arguments)}function jR(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function HR(n,e,t){const i=de(n);let r=i.Tc[i.currentUser.toKey()];if(r){const o=r.get(e);o&&(t?o.reject(t):o.resolve(),r=r.remove(e)),i.Tc[i.currentUser.toKey()]=r}}function Jh(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n._c.get(e))n.wc.delete(i),t&&n.dc.Pc(i,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(i=>{n.Ic.containsKey(i)||dK(n,i)})}function dK(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(Gg(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),GR(n))}function $R(n,e,t){for(const i of t)i instanceof oK?(n.Ic.addReference(i.key,e),KDe(n,i)):i instanceof sK?(te("SyncEngine","Document no longer in limbo: "+i.key),n.Ic.removeReference(i.key,e),n.Ic.containsKey(i.key)||dK(n,i.key)):pe()}function KDe(n,e){const t=e.key,i=t.path.canonicalString();n.gc.get(t)||n.mc.has(i)||(te("SyncEngine","New document in limbo: "+t),n.mc.add(i),GR(n))}function GR(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new ce(Et.fromString(e)),i=n.Ac.next();n.yc.set(i,new BDe(t)),n.gc=n.gc.insert(t,i),jx(n.remoteStore,new Oa(Dr(Fh(t.path)),i,"TargetPurposeLimboResolution",ao.ct))}}function Pa(n,e,t){return qR.apply(this,arguments)}function qR(){return qR=_(function*(n,e,t){const i=de(n),r=[],o=[],s=[];var a;i.wc.isEmpty()||(i.wc.forEach((a,c)=>{s.push(i.Rc(c,e,t).then(l=>{if((l||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(c.targetId,l?.fromCache?"not-current":"current"),l){r.push(l);const d=QP.Li(c.targetId,l);o.push(d)}}))}),yield Promise.all(s),i.dc.nu(r),yield(a=_(function*(c,l){const d=de(c);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",u=>B.forEach(l,f=>B.forEach(f.Fi,m=>d.persistence.referenceDelegate.addReference(u,f.targetId,m)).next(()=>B.forEach(f.Bi,m=>d.persistence.referenceDelegate.removeReference(u,f.targetId,m)))))}catch(u){if(!Ec(u))throw u;te("LocalStore","Failed to update sequence numbers: "+u)}for(const u of l){const f=u.targetId;if(!u.fromCache){const m=d.Ji.get(f),C=m.withLastLimboFreeSnapshotVersion(m.snapshotVersion);d.Ji=d.Ji.insert(f,C)}}}),function(c,l){return a.apply(this,arguments)})(i.localStore,o))}),qR.apply(this,arguments)}function YDe(n,e){return WR.apply(this,arguments)}function WR(){return WR=_(function*(n,e){const t=de(n);if(!t.currentUser.isEqual(e)){te("SyncEngine","User change. New user:",e.toKey());const i=yield VW(t.localStore,e);t.currentUser=e,(r=t).Ec.forEach(s=>{s.forEach(a=>{a.reject(new J(z.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.Ec.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Pa(t,i.er)}var r}),WR.apply(this,arguments)}function QDe(n,e){const t=de(n),i=t.yc.get(e);if(i&&i.fc)return nt().add(i.key);{let r=nt();const o=t._c.get(e);if(!o)return r;for(const s of o){const a=t.wc.get(s);r=r.unionWith(a.view.nc)}return r}}function nN(n){const e=de(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=GDe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=qDe.bind(null,e),e}class ef{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return _(function*(){t.serializer=Hg(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return LW(this.persistence,new FW,e.initialUser,this.serializer)}createPersistence(e){return new qP(Rx.zs,this.serializer)}createSharedClientState(e){return new qW}terminate(){var e=this;return _(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class iN extends ef{constructor(e,t,i){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return _(function*(){yield t().call(i,e),yield i.Vc.initialize(i,e),yield nN(i.Vc.syncEngine),yield Kh(i.Vc.remoteStore),yield i.persistence.Ii(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return LW(this.persistence,new FW,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new MW(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const i=new AIe(t,this.persistence);return new kIe(e.asyncQueue,i)}createPersistence(e){const t=function YP(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?pr.withCacheSize(this.cacheSizeBytes):pr.DEFAULT;return new KP(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,function KW(){return typeof window<"u"?window:null}(),Ux(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new qW}}class tf{initialize(e,t){var i=this;return _(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>lK(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=YDe.bind(null,i.syncEngine),yield function CR(n,e){return ER.apply(this,arguments)}(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new PDe}createDatastore(e){const t=Hg(e.databaseInfo.databaseId),i=new gDe(e.databaseInfo);return new yDe(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,o=a=>lK(this.syncEngine,a,0),s=WW.D()?new WW:new fDe,new wDe(t,i,r,o,s);var t,i,r,o,s}createSyncEngine(e,t){return function(i,r,o,s,a,c,l){const d=new zDe(i,r,o,s,a,c);return l&&(d.vc=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=_(function*(t){const i=de(t);te("RemoteStore","RemoteStore shutting down."),i.vu.add(5),yield Wh(i),i.Pu.shutdown(),i.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class $x{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):ii("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class lSe{constructor(e,t,i,r){var o=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=Ri.UNAUTHENTICATED,this.clientId=LG.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var s=_(function*(a){te("FirestoreClient","Received user=",a.uid),yield o.authCredentialListener(a),o.user=a});return function(a){return s.apply(this,arguments)}}()),this.appCheckCredentials.start(i,s=>(te("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}getConfiguration(){var e=this;return _(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new J(z.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Ci;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(_(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=Qh(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function Gx(n,e){return rN.apply(this,arguments)}function rN(){return rN=_(function*(n,e){n.asyncQueue.verifyOperationInProgress(),te("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=_(function*(o){i.isEqual(o)||(yield VW(e.localStore,o),i=o)});return function(o){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),rN.apply(this,arguments)}function oN(n,e){return sN.apply(this,arguments)}function sN(){return sN=_(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function aN(n){return cN.apply(this,arguments)}(n);te("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>tK(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>tK(e.remoteStore,o)),n._onlineComponents=e}),sN.apply(this,arguments)}function mK(n){return"FirebaseError"===n.name?n.code===z.FAILED_PRECONDITION||n.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function cN(){return cN=_(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){te("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Gx(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!mK(t))throw t;Wo("Error using user provided cache. Falling back to memory cache: "+t),yield Gx(n,new ef)}}else te("FirestoreClient","Using default OfflineComponentProvider"),yield Gx(n,new ef);return n._offlineComponents}),cN.apply(this,arguments)}function qx(n){return lN.apply(this,arguments)}function lN(){return lN=_(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(te("FirestoreClient","Using user provided OnlineComponentProvider"),yield oN(n,n._uninitializedComponentsProvider._online)):(te("FirestoreClient","Using default OnlineComponentProvider"),yield oN(n,new tf))),n._onlineComponents}),lN.apply(this,arguments)}function uN(){return uN=_(function*(n){const e=yield qx(n),t=e.eventManager;return t.onListen=UDe.bind(null,e.syncEngine),t.onUnlisten=jDe.bind(null,e.syncEngine),t}),uN.apply(this,arguments)}function vK(n,e,t={}){const i=new Ci;return n.asyncQueue.enqueueAndForget(_(function*(){return function(r,o,s,a,c){const l=new $x({next:u=>{o.enqueueAndForget(()=>function DR(n,e){return SR.apply(this,arguments)}(r,d)),u.fromCache&&"server"===a.source?c.reject(new J(z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(u)},error:u=>c.reject(u)}),d=new AR(s,l,{includeMetadataChanges:!0,Ku:!0});return function IR(n,e){return MR.apply(this,arguments)}(r,d)}(yield function nf(n){return uN.apply(this,arguments)}(n),n.asyncQueue,e,t,i)})),i.promise}function xK(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const wK=new Map;function hN(n,e,t){if(!t)throw new J(z.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function CK(n){if(!ce.isDocumentKey(n))throw new J(z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function EK(n){if(ce.isDocumentKey(n))throw new J(z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Kx(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":pe()}function xt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new J(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Kx(n);throw new J(z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class IK{constructor(e){var t,i;if(void 0===e.host){if(void 0!==e.ssl)throw new J(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new J(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function bSe(n,e,t,i){if(!0===e&&!0===i)throw new J(z.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=xK(null!==(i=e.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(r){if(void 0!==r.timeoutSeconds){if(isNaN(r.timeoutSeconds))throw new J(z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new J(z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new J(z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class qg{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new IK({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new J(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new J(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new IK(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new bIe;switch(t.type){case"firstParty":return new wIe(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new J(z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=wK.get(e);t&&(te("ComponentProvider","Removing Datastore"),wK.delete(e),t.terminate())}(this),Promise.resolve()}}class si{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Us(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new si(this.firestore,e,this._key)}}class Ji{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Ji(this.firestore,e,this._query)}}class Us extends Ji{constructor(e,t,i){super(e,t,Fh(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new si(this.firestore,null,new ce(e))}withConverter(e){return new Us(this.firestore,e,this._path)}}function vSe(n,e,...t){if(n=Nt(n),hN("collection","path",e),n instanceof qg){const i=Et.fromString(e,...t);return EK(i),new Us(n,null,i)}{if(!(n instanceof si||n instanceof Us))throw new J(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Et.fromString(e,...t));return EK(i),new Us(n.firestore,null,i)}}function MK(n,e,...t){if(n=Nt(n),1===arguments.length&&(e=LG.A()),hN("doc","path",e),n instanceof qg){const i=Et.fromString(e,...t);return CK(i),new si(n,null,new ce(i))}{if(!(n instanceof si||n instanceof Us))throw new J(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Et.fromString(e,...t));return CK(i),new si(n.firestore,n instanceof Us?n.converter:null,new ce(i))}}class xSe{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new sR(this,"async_queue_retry"),this.Xc=()=>{const t=Ux();t&&te("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=Ux();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=Ux();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Ci;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return _(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Ec(t))throw t;te("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(i=>{throw this.Wc=i,this.Hc=!1,ii("INTERNAL UNHANDLED ERROR: ",function(o){let s=o.message||"";return o.stack&&(s=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),s}(i)),i}).then(i=>(this.Hc=!1,i))));return this.Gc=t,t}enqueueAfterDelay(e,t,i){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const r=TR.createAndSchedule(this,e,t,i,o=>this.na(o));return this.zc.push(r),r}Zc(){this.Wc&&pe()}verifyOperationInProgress(){}sa(){var e=this;return _(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}class bn extends qg{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new xSe,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||SK(this),this._firestoreClient.terminate()}}function CSe(n,e){const i="string"==typeof n?n:e||"(default)",r=fa("object"==typeof n?n:uh(),"firestore").getImmediate({identifier:i});if(!r._initialized){const o=Ky("firestore");o&&function ySe(n,e,t,i={}){var r;const o=(n=xt(n,qg))._getSettings(),s=`${e}:${t}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&Wo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),i.mockUserToken){let a,c;if("string"==typeof i.mockUserToken)a=i.mockUserToken,c=Ri.MOCK_USER;else{a=RM(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const l=i.mockUserToken.sub||i.mockUserToken.user_id;if(!l)throw new J(z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Ri(l)}n._authCredentials=new yIe(new NG(a,c))}}(r,...o)}return r}function hi(n){return n._firestoreClient||SK(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function SK(n){var e,t,i;const r=n._freezeSettings(),o=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new XIe(n._databaseId,a,n._persistenceKey,(l=r).host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,xK(l.experimentalLongPollingOptions),l.useFetchStreams));var a,l;n._firestoreClient=new lSe(n._authCredentials,n._appCheckCredentials,n._queue,o),null!==(t=r.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(i=r.cache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}function ESe(n,e){!function AK(n){if(n._initialized||n._terminated)throw new J(z.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}(n=xt(n,bn));const t=hi(n);if(t._uninitializedComponentsProvider)throw new J(z.FAILED_PRECONDITION,"SDK cache is already specified.");Wo("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),r=new tf;return function kK(n,e,t){const i=new Ci;return n.asyncQueue.enqueue(_(function*(){try{yield Gx(n,t),yield oN(n,e),i.resolve()}catch(r){const o=r;if(!mK(o))throw o;Wo("Error enabling indexeddb cache. Falling back to memory cache: "+o),i.reject(o)}})).then(()=>i.promise)}(t,r,new iN(r,i.cacheSizeBytes,e?.forceOwnership))}class cd{constructor(e){this._byteString=e}static fromBase64String(e){try{return new cd(Ei.fromBase64String(e))}catch(t){throw new J(z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new cd(Ei.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ld{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new J(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ri(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class rf{constructor(e){this._methodName=e}}class pN{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new J(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new J(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}}const ISe=/^__.*__$/;class MSe{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new Aa(e,this.data,this.fieldMask,t,this.fieldTransforms):new Bh(e,this.data,t,this.fieldTransforms)}}class OK{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Aa(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function PK(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pe()}}class Yx{constructor(e,t,i,r,o,s){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===o&&this.ua(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Yx(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:i,la:!1});return r.fa(e),r}da(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:i,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Zx(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(PK(this.ca)&&ISe.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class DSe{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Hg(e)}ya(e,t,i,r=!1){return new Yx({ca:e,methodName:t,ga:i,path:ri.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function dd(n){const e=n._freezeSettings(),t=Hg(n._databaseId);return new DSe(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Qx(n,e,t,i,r,o={}){const s=n.ya(o.merge||o.mergeFields?2:0,e,t,r);bN("Data must be an object, but it was:",s,i);const a=FK(i,s);let c,l;if(o.merge)c=new Gr(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){const d=[];for(const u of o.mergeFields){const f=Yg(e,u,t);if(!s.contains(f))throw new J(z.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);VK(d,f)||d.push(f)}c=new Gr(d),l=s.fieldTransforms.filter(u=>c.covers(u.field))}else c=null,l=s.fieldTransforms;return new MSe(new Zi(a),c,l)}class Kg extends rf{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Kg}}function ud(n,e){if(LK(n=Nt(n)))return bN("Unsupported field value:",e,n),FK(n,e);if(n instanceof rf)return function(t,i){if(!PK(i.ca))throw i._a(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i._a(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,i){const r=[];let o=0;for(const s of t){let a=ud(s,i.wa(o));null==a&&(a={nullValue:"NULL_VALUE"}),r.push(a),o++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=Nt(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Sq(i.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=Fn.fromDate(t);return{timestampValue:Uh(i.serializer,r)}}if(t instanceof Fn){const r=new Fn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Uh(i.serializer,r)}}if(t instanceof pN)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof cd)return{bytesValue:Qq(i.serializer,t._byteString)};if(t instanceof si){const r=i.databaseId,o=t.firestore._databaseId;if(!o.isEqual(r))throw i._a(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:RP(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i._a(`Unsupported field value: ${Kx(t)}`)}(n,e)}function FK(n,e){const t={};return ZG(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Tc(n,(i,r)=>{const o=ud(r,e.ha(i));null!=o&&(t[i]=o)}),{mapValue:{fields:t}}}function LK(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Fn||n instanceof pN||n instanceof cd||n instanceof si||n instanceof rf)}function bN(n,e,t){if(!LK(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=Kx(t);throw e._a("an object"===i?n+" a custom object":n+" "+i)}var i}function Yg(n,e,t){if((e=Nt(e))instanceof ld)return e._internalPath;if("string"==typeof e)return Xx(n,e);throw Zx("Field path arguments must be of type string or ",n,!1,void 0,t)}const OSe=new RegExp("[~\\*/\\[\\]]");function Xx(n,e,t){if(e.search(OSe)>=0)throw Zx(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ld(...e.split("."))._internalPath}catch{throw Zx(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Zx(n,e,t,i,r){const o=i&&!i.isEmpty(),s=void 0!==r;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${i}`),s&&(c+=` in document ${r}`),c+=")"),new J(z.INVALID_ARGUMENT,a+n+c)}function VK(n,e){return n.some(t=>t.isEqual(e))}class Qg{constructor(e,t,i,r,o){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new si(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new PSe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Jx("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class PSe extends Qg{data(){return super.data()}}function Jx(n,e){return"string"==typeof e?Xx(n,e):e instanceof ld?e._internalPath:e._delegate._internalPath}class yN{}class Xg extends yN{}function RSe(n,e,...t){let i=[];e instanceof yN&&i.push(e),i=i.concat(t),function(r){const o=r.filter(a=>a instanceof sf).length,s=r.filter(a=>a instanceof Zg).length;if(o>1||o>0&&s>0)throw new J(z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class Zg extends Xg{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Zg(e,t,i)}_apply(e){const t=this._parse(e);return HK(e._query,t),new Ji(e.firestore,e.converter,EP(e._query,t))}_parse(e){const t=dd(e.firestore);return function(r,o,s,a,c,l,d){let u;if(c.isKeyField()){if("array-contains"===l||"array-contains-any"===l)throw new J(z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${l}' queries on documentId().`);if("in"===l||"not-in"===l){jK(d,l);const f=[];for(const m of d)f.push(UK(a,r,m));u={arrayValue:{values:f}}}else u=UK(a,r,d)}else"in"!==l&&"not-in"!==l&&"array-contains-any"!==l||jK(d,l),u=function NK(n,e,t,i=!1){return ud(t,n.ya(i?4:3,e))}(s,"where",d,"in"===l||"not-in"===l);return bt.create(c,l,u)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}function NSe(n,e,t){const i=e,r=Jx("where",n);return Zg._create(r,i,t)}class sf extends yN{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new sf(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:$t.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,r){let o=i;const s=r.getFlattenedFilters();for(const a of s)HK(o,a),o=EP(o,a)}(e._query,t),new Ji(e.firestore,e.converter,EP(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function UK(n,e,t){if("string"==typeof(t=Nt(t))){if(""===t)throw new J(z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!CP(e)&&-1!==t.indexOf("/"))throw new J(z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Et.fromString(t));if(!ce.isDocumentKey(i))throw new J(z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Ql(n,new ce(i))}if(t instanceof si)return Ql(n,t._key);throw new J(z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Kx(t)}.`)}function jK(n,e){if(!Array.isArray(n)||0===n.length)throw new J(z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function HK(n,e){if(e.isInequality()){const i=yx(n),r=e.field;if(null!==i&&!i.isEqual(r))throw new J(z.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const o=wP(n);null!==o&&function $K(n,e,t){if(!t.isEqual(e))throw new J(z.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}(0,r,o)}const t=function(i,r){for(const o of i)for(const s of o.getFlattenedFilters())if(r.indexOf(s.op)>=0)return s.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new J(z.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class qK{convertValue(e,t="none"){switch(Dc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Wn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Da(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw pe()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Tc(e,(r,o)=>{i[r]=this.convertValue(o,t)}),i}convertGeoPoint(e){return new pN(Wn(e.latitude),Wn(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=fx(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(bg(e));default:return null}}convertTimestamp(e){const t=Ic(e);return new Fn(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Et.fromString(e);Te(sW(i));const r=new Yl(i.get(1),i.get(3)),o=new ce(i.popFirst(5));return r.isEqual(t)||ii(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}class hd{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class af extends Qg{constructor(e,t,i,r,o,s){super(e,t,i,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new rw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Jx("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class rw extends af{data(e={}){return super.data(e)}}class cf{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new hd(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new rw(this._firestore,this._userDataWriter,i.key,i,new hd(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new J(z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(s=>({type:"added",doc:new rw(i._firestore,i._userDataWriter,s.doc.key,s.doc,new hd(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(s=>r||3!==s.type).map(s=>{const a=new rw(i._firestore,i._userDataWriter,s.doc.key,s.doc,new hd(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,l=-1;return 0!==s.type&&(c=o.indexOf(s.doc.key),o=o.delete(s.doc.key)),1!==s.type&&(o=o.add(s.doc),l=o.indexOf(s.doc.key)),{type:VSe(s.type),doc:a,oldIndex:c,newIndex:l}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function VSe(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pe()}}class Lc extends qK{constructor(e){super(),this.firestore=e}convertBytes(e){return new cd(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new si(this.firestore,null,t)}}function BSe(n){n=xt(n,Ji);const e=xt(n.firestore,bn),t=hi(e),i=new Lc(e);return function BK(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new J(z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query),vK(t,n._query).then(r=>new cf(e,i,n,r))}function zSe(n,e,t){n=xt(n,si);const i=xt(n.firestore,bn),r=function iw(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}(n.converter,e,t);return Jg(i,[Qx(dd(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,Mn.none())])}function USe(n,e,t,...i){n=xt(n,si);const r=xt(n.firestore,bn),o=dd(r);let s;return s="string"==typeof(e=Nt(e))||e instanceof ld?function _N(n,e,t,i,r,o){const s=n.ya(1,e,t),a=[Yg(e,i,t)],c=[r];if(o.length%2!=0)throw new J(z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<o.length;f+=2)a.push(Yg(e,o[f])),c.push(o[f+1]);const l=[],d=Zi.empty();for(let f=a.length-1;f>=0;--f)if(!VK(l,a[f])){const m=a[f];let y=c[f];y=Nt(y);const C=s.da(m);if(y instanceof Kg)l.push(m);else{const T=ud(y,C);null!=T&&(l.push(m),d.set(m,T))}}const u=new Gr(l);return new OK(d,u,s.fieldTransforms)}(o,"updateDoc",n._key,e,t,i):function gN(n,e,t,i){const r=n.ya(1,e,t);bN("Data must be an object, but it was:",r,i);const o=[],s=Zi.empty();Tc(i,(c,l)=>{const d=Xx(e,c,t);l=Nt(l);const u=r.da(d);if(l instanceof Kg)o.push(d);else{const f=ud(l,u);null!=f&&(o.push(d),s.set(d,f))}});const a=new Gr(o);return new OK(s,a,r.fieldTransforms)}(o,"updateDoc",n._key,e),Jg(r,[s.toMutation(n._key,Mn.exists(!0))])}function jSe(n){return Jg(xt(n.firestore,bn),[new zh(n._key,Mn.none())])}function Jg(n,e){return function(t,i){const r=new Ci;return t.asyncQueue.enqueueAndForget(_(function*(){return function HDe(n,e,t){return FR.apply(this,arguments)}(yield function dN(n){return qx(n).then(e=>e.syncEngine)}(t),i,r)})),r.promise}(hi(n),e)}!function(n,e=!0){kh=ma,Si(new wi("firestore",(t,{instanceIdentifier:i,options:r})=>{const o=t.getProvider("app").getImmediate(),s=new bn(new vIe(t.getProvider("auth-internal")),new CIe(t.getProvider("app-check-internal")),function(a,c){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new J(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yl(a.options.projectId,c)}(o,i),o);return r=Object.assign({useFetchStreams:e},r),s._setSettings(r),s},"PUBLIC").setMultipleInstances(!0)),Bt(RG,"3.13.0",n),Bt(RG,"3.13.0","esm2017")}();class He{constructor(e){return e}}const KK="firestore",wN=new X("angularfire2.firestore-instances");function nke(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new He(i)}}const ike={provide:class eke{constructor(){return gh(KK)}},deps:[[new Kt,wN]]},rke={provide:He,useFactory:function tke(n,e){const t=mh(KK,n,e);return t&&new He(t)},deps:[[new Kt,wN],ya]};let oke=(()=>{class n{constructor(){Bt("angularfire",ph.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=tt({providers:[rke,ike]}),n})();function ske(n,...e){return{ngModule:oke,providers:[{provide:wN,useFactory:nke(n),multi:!0,deps:[ke,Yt,Tm,Im,[new Kt,Pv],[new Kt,Sm],...e]}]}}const me=ni(vSe,!0),en=ni(jSe,!0),Ce=ni(MK,!0),ake=ni(ESe,!0),oe=ni(BSe,!0),cke=ni(CSe,!0),Mt=ni(RSe,!0),co=ni(zSe,!0),ai=ni(USe,!0),Dt=ni(NSe,!0);let CN;try{CN=typeof Intl<"u"&&Intl.v8BreakIterator}catch{CN=!1}let e_,fd,EN,Ti=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?oy(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!CN)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(i){return new(i||n)(j(go))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function t_(n){return function lke(){if(null==e_&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>e_=!0}))}finally{e_=e_||!1}return e_}()?n:!!n.capture}function dke(){if(null==fd){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return fd=!1,fd;if("scrollBehavior"in document.documentElement.style)fd=!0;else{const n=Element.prototype.scrollTo;fd=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return fd}function TN(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function Bc(n){return n.composedPath?n.composedPath()[0]:n.target}function IN(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}const fke=[{path:"auth",component:_$,children:[{path:"login",component:(()=>{class n{constructor(t,i,r,o){this.auth=t,this.router=i,this.firestore=r,this.platform=o,this.data=[],this.nid=1,this.hidInstText=!0,this.hidInstBut=!0,this.getData(),this.platform.IOS&&(this.hidInstText=!1,this.hidInstBut=!0),this.platform.ANDROID&&(this.hidInstText=!0,this.hidInstBut=!1),window.addEventListener("appinstalled",()=>{this.disableInAppInstallPrompt(),this.hidInstBut=!0}),window.addEventListener("beforeinstallprompt",s=>{s.preventDefault(),this.promptEvent=s})}getData(){const t=me(this.firestore,"users");oe(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}Signup(){this.router.navigate(["/auth/signup"])}Salir(){Nn(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}Credits(){this.router.navigate(["/auth/credits"])}disableInAppInstallPrompt(){this.hidInstBut=!0}Login(){this.router.navigate(["/auth/login"])}installPwa(){this.promptEvent.prompt()}handleLogin(t){var i=this;return _(function*(){let r;vO(i.auth,t.email,t.password).then(function(){var o=_(function*(s){i.current=s.user.email,r=s.user.email;const a=Mt(me(i.firestore,"users"),Dt("email","==",r));(yield oe(a)).forEach(l=>{let d=l.data();"Adminitrador"==d.role?i.router.navigate(["/admin/users"]):"Investigador"==d.role?i.router.navigate(["/user/unidad-produccion-all"]):"Cliente"==d.role&&i.router.navigate(["/client/unidad-produccion-all"])})});return function(s){return o.apply(this,arguments)}}()).catch(o=>{alert(o.message)})})()}static{this.\u0275fac=function(i){return new(i||n)(E(Oe),E(Ee),E(He),E(Ti))}}static{this.\u0275cmp=be({type:n,selectors:[["app-login"]],decls:34,vars:2,consts:[[1,"base"],[1,"installButton",3,"hidden","click"],[1,"install",3,"hidden"],["id","share","src","../../../../assets/share.png","alt","share"],[1,"infoText"],[1,"footer"],[1,"footerText"],[1,"Orange",3,"click"],[1,"loginBox"],[1,"loginTile"],[1,"lineBlack"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"userText"],["name","email","ngModel","","placeholder","Email","id","email","type","email",1,"input-field"],[1,"claveText"],["name","password","ngModel","","placeholder","Password","id","password","type","password",1,"input-field"],[1,"boton"]],template:function(i,r){if(1&i){const o=ct();p(0,"div",0)(1,"button",1),F("click",function(){return r.installPwa()}),g(2,"Instalar"),h(),p(3,"div",2)(4,"span"),g(5,"Para instalar en tu dispositivo m\xf3vil, pulsa el boton de inicio \u201cCompartir\u201d "),$(6,"img",3),g(7," y selecionar \u201cAgregar a Inicio\u201d"),h()(),p(8,"div",4)(9,"span"),g(10," El sistema de Gesti\xf3n de Muestras de Campo es un proyecto que tiene como objetivo desarrollar una Aplicaci\xf3n Web Progresiva para la gesti\xf3n de muestras de campo de la Cl\xednica de Enfermedades de Plantas de la Universidad Central de Venezuela "),h()(),p(11,"div",5)(12,"div",6)(13,"span"),g(14,"Universidad Central de Venezuela (UCV) \xb7 Facultad Ciencias \xb7 "),h(),p(15,"span",7),F("click",function(){return r.Credits()}),g(16,"Cr\xe9ditos"),h()()()(),p(17,"div",8)(18,"span",9),g(19,"Iniciar Sesi\xf3n"),h(),$(20,"div",10),p(21,"form",11,12),F("ngSubmit",function(){ye(o);const a=Vt(22);return ve(r.handleLogin(a.value))}),p(23,"div",13)(24,"div",14)(25,"p",15),g(26,"Email: "),h(),$(27,"input",16),h(),p(28,"div",14)(29,"p",17),g(30,"Clave: "),h(),$(31,"input",18),h(),p(32,"button",19),g(33,"Log In"),h()()()()}2&i&&(P(),Ve("hidden",r.hidInstBut),P(2),Ve("hidden",r.hidInstText))},dependencies:[jn,Mi,dr,Un,Gi,Tn],styles:[".installButton[_ngcontent-%COMP%]{border:none;background-color:#3eb3c2;box-shadow:2px 2px 5px #000;color:#fff;padding-bottom:5px;padding-top:5px;width:200px;height:60px;text-align:center;text-decoration:none;font-size:40px;font-weight:700;cursor:pointer;border-radius:30px}.install[_ngcontent-%COMP%]{color:#000;width:375px;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;font-weight:700}#share[_ngcontent-%COMP%]{width:20px;height:23.636362075805664px;background-repeat:no-repeat;background-size:cover;border-radius:5px}.infoText[_ngcontent-%COMP%]{color:#000;width:500px;height:115px;position:absolute;top:clamp(110px,calc(50% - 58px),100%);left:clamp(10px,calc(50% - 450px),100%);font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;font-weight:700}.footer[_ngcontent-%COMP%]{width:700px;position:absolute;bottom:50px;left:50%;transform:translate(-50%);text-align:center}.footerText[_ngcontent-%COMP%]{color:#000;position:relative;display:inline-block;left:30px;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0}.Orange[_ngcontent-%COMP%]{cursor:pointer;text-decoration:underline;font-weight:700}.Orange[_ngcontent-%COMP%]:hover{text-decoration:underline;color:orange}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:350px;height:260px;position:absolute;top:clamp(110px,calc(50% - 130px),100%);left:clamp(50%,calc(50% + 110px),100%)}.loginTile[_ngcontent-%COMP%]{color:#000;width:200px;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;top:10px;left:clamp(0%,calc(50% - 100px),100%)}.lineBlack[_ngcontent-%COMP%]{width:calc(100% - 1px);height:0px;position:absolute;border:1px solid rgba(0,0,0,1);top:55px;left:0}.main[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;height:210px;position:absolute;top:55px;left:0}.input-fields[_ngcontent-%COMP%]{margin:5px 5px 5px 15px}.input-field[_ngcontent-%COMP%]{width:100%;height:20px}#email[_ngcontent-%COMP%]{width:300px;height:26px}.userText[_ngcontent-%COMP%]{color:#000;font-family:Arial;font-size:20px;letter-spacing:0;margin:5px 0}#password[_ngcontent-%COMP%]{width:300px;height:26px}.claveText[_ngcontent-%COMP%]{color:#000;font-family:Arial;font-size:20px;letter-spacing:0;margin:5px 0}button[_ngcontent-%COMP%]{width:100px;height:40px;margin-top:10px;margin-left:15px;cursor:pointer}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;width:80px;height:35px;border-width:0;border-radius:30px;font-size:16px}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.loginBox[_ngcontent-%COMP%]{width:350px;height:260px;position:absolute;top:360px;left:calc(50% - 175px)}.infoText[_ngcontent-%COMP%]{width:auto;height:auto;position:absolute;top:120px;left:0;margin:10px;padding-left:15px;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;font-weight:400}.installButton[_ngcontent-%COMP%]{position:absolute;top:660px;left:calc(50% - 88px);transform:none;width:160px;height:50px;text-align:center;font-size:28px}.install[_ngcontent-%COMP%]{position:absolute;top:650px;left:0;margin:10px;padding-left:5px;width:auto;height:auto;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;font-weight:400;font-style:italic}.footer[_ngcontent-%COMP%]{width:auto;position:absolute;top:clamp(780px,calc(100% - 25px),100%);left:0;transform:none;text-align:center}.footerText[_ngcontent-%COMP%]{color:#000;position:relative;display:inline-block;left:0;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0}}"]})}}return n})()},{path:"signup",component:(()=>{class n{constructor(t,i,r){this.auth=t,this.firestore=i,this.router=r,this.title="gestion-de-muestras-de-campo",this.data=[],this.getData()}Login(){this.router.navigate(["/auth/login"])}handleRegister(t){g$(this.auth,t.email,t.password).then(i=>{console.log(i.user)}).catch(i=>{alert(i.message)}),this.addData(t),this.Login()}addData(t){const i=Ce(this.firestore,"users",t.email);t.password==t.confirmpassword?"Invetigador"==t.role||"Cliente"==t.role?co(i,{email:t.email,role:t.role,password:t.password}).then(()=>{alert("Data Sent")}).catch(r=>{alert(r.message)}):alert("Rol no reconocido"):alert("Claves No Iguales")}getData(){const t=me(this.firestore,"users");oe(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}Salir(){Nn(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}static{this.\u0275fac=function(i){return new(i||n)(E(Oe),E(He),E(Ee))}}static{this.\u0275cmp=be({type:n,selectors:[["app-signup"]],decls:29,vars:0,consts:[[1,"loginBox"],[1,"loginTile"],[1,"lineBlack"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"userText"],["name","email","ngModel","","placeholder","Email","id","email","type","email",1,"input-field"],[1,"roleText"],["list","roles","name","role","ngModel","","placeholder","Roles","id","role","type","role",1,"input-field"],["id","roles"],["value","Investigador"],["value","Cliente"],[1,"claveText"],["name","password","ngModel","","placeholder","Clave","id","password","type","password",1,"input-field"],[1,"clave2Text"],["name","confirmpassword","ngModel","","placeholder","Confirmar Clave","id","confirmpassword","type","password",1,"input-field"],[1,"boton"],[1,"salir",3,"click"]],template:function(i,r){if(1&i){const o=ct();$(0,"div",0),p(1,"span",1),g(2,"Registrar"),h(),$(3,"div",2),p(4,"form",3,4),F("ngSubmit",function(){ye(o);const a=Vt(5);return ve(r.handleRegister(a.value))}),p(6,"div",5)(7,"div",6)(8,"span",7),g(9,"Email:"),h(),$(10,"input",8),h(),p(11,"div",6)(12,"span",9),g(13,"Roles:"),h(),$(14,"input",10),p(15,"datalist",11),$(16,"option",12)(17,"option",13),h()(),p(18,"div",6)(19,"span",14),g(20,"Clave:"),h(),$(21,"input",15),h(),p(22,"div",6)(23,"span",16),g(24,"Confirmar Clave:"),h(),$(25,"input",17),h(),p(26,"button",18),g(27,"Sign Up"),h()()(),p(28,"button",19),F("click",function(){return r.Salir()}),h()}},dependencies:[jn,xs,ws,Mi,dr,Un,Gi,Tn],styles:[".input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}.main[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;width:600px;height:400px;position:absolute;top:37%;left:50%;transform:translate(-50%)}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:600px;height:400px;position:absolute;top:37%;left:50%;transform:translate(-50%)}.loginTile[_ngcontent-%COMP%]{color:#000;width:600px;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;top:39.5%;left:50%;transform:translate(-50%)}.lineBlack[_ngcontent-%COMP%]{width:600px;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);top:45%;left:50%;transform:translate(-50%)}#email[_ngcontent-%COMP%]{width:300px;height:26px;margin-left:5px}.userText[_ngcontent-%COMP%]{color:#000;margin-left:93px;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0}#password[_ngcontent-%COMP%]{width:300px;height:26px;margin-left:5px}.claveText[_ngcontent-%COMP%]{color:#000;margin-left:93px;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0}#role[_ngcontent-%COMP%]{width:300px;height:26px;margin-left:5px}.roleText[_ngcontent-%COMP%]{color:#000;margin-left:93px;width:150px;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0}#confirmpassword[_ngcontent-%COMP%]{width:300px;height:26px;margin-left:5px}.clave2Text[_ngcontent-%COMP%]{color:#000;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;width:80px;height:35px;border-width:0;border-radius:30px;font-size:16px;position:absolute;left:72%;top:75%}.botonText[_ngcontent-%COMP%]{color:#fff;width:80px;height:35px;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;position:absolute;left:72%;top:75%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.main[_ngcontent-%COMP%]{display:flex;width:100vw;height:100vh;justify-content:center;align-items:center;flex-direction:column;top:0%}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:65%;transform:none;position:absolute;left:15%;top:25%}.loginTile[_ngcontent-%COMP%]{color:#000;width:75%;height:20%;transform:none;position:absolute;font-family:Arial;text-align:center;font-size:24px;letter-spacing:0;left:16%;top:26%}.lineBlack[_ngcontent-%COMP%]{width:75%;height:0px;transform:none;position:absolute;border:1px solid rgba(0,0,0,1);left:15%;top:32%}#email[_ngcontent-%COMP%]{width:60%;height:3%;position:absolute;left:20%;top:40%}.userText[_ngcontent-%COMP%]{color:#000;width:10%;height:5%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:0%;top:35%}#role[_ngcontent-%COMP%]{width:30%;height:3%;position:absolute;left:20%;top:60%}.roleText[_ngcontent-%COMP%]{color:#000;width:15%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:0%;top:55%}#password[_ngcontent-%COMP%]{width:60%;height:3%;position:absolute;left:20%;top:50%}.claveText[_ngcontent-%COMP%]{color:#000;width:10%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:0%;top:45%}#confirmpassword[_ngcontent-%COMP%]{width:60%;height:3%;position:absolute;left:20%;top:70%}.clave2Text[_ngcontent-%COMP%]{color:#000;width:60%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:20%;top:65%}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:60%;top:74}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:14px;letter-spacing:0;left:60%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:15%;left:0%;top:0%}}"]})}}return n})()},{path:"select",component:(()=>{class n{constructor(t,i,r){this.auth=t,this.router=i,this.platform=r,this.hidInstText=!0,this.hidInstBut=!0,this.platform.IOS&&(this.hidInstText=!1,this.hidInstBut=!0),this.platform.ANDROID&&(this.hidInstText=!0,this.hidInstBut=!1),window.addEventListener("appinstalled",()=>{this.disableInAppInstallPrompt(),this.hidInstBut=!0}),window.addEventListener("beforeinstallprompt",o=>{o.preventDefault(),this.promptEvent=o})}disableInAppInstallPrompt(){this.hidInstBut=!0}Credits(){this.router.navigate(["/auth/credits"])}Login(){this.router.navigate(["/auth/login"])}Signup(){this.router.navigate(["/auth/signup"])}installPwa(){this.promptEvent.prompt()}static{this.\u0275fac=function(i){return new(i||n)(E(Oe),E(Ee),E(Ti))}}static{this.\u0275cmp=be({type:n,selectors:[["app-select"]],decls:18,vars:2,consts:[[1,"base"],[1,"installButton",3,"hidden","click"],[1,"install",3,"hidden"],["id","share","src","../../../../assets/share.png","alt","share"],[1,"infoText"],[1,"footer"],[1,"footerText"],[1,"Orange",3,"click"]],template:function(i,r){1&i&&(p(0,"div",0)(1,"div")(2,"button",1),F("click",function(){return r.installPwa()}),g(3,"Instalar"),h()(),p(4,"div",2)(5,"span"),g(6,"Para instalar en tu dispositivo m\xf3vil, pulsa el boton de inicio \u201cCompartir\u201d "),$(7,"img",3),g(8," y selecionar \u201cAgregar a Inicio\u201d"),h()(),p(9,"div",4)(10,"span"),g(11," El sistema de Gesti\xf3n de Muestras de Campo es un proyecto que tiene como objetivo desarrollar una Aplicaci\xf3n Web Progresiva para la gesti\xf3n de muestras de campo de la Cl\xednica de Enfermedades de Plantas de la Universidad Central de Venezuela "),h()(),p(12,"div",5)(13,"div",6)(14,"span"),g(15,"Universidad Central de Venezuela (UCV) \xb7 Facultad Ciencias \xb7 "),h(),p(16,"span",7),F("click",function(){return r.Credits()}),g(17,"Cr\xe9ditos"),h()()()()),2&i&&(P(2),Ve("hidden",r.hidInstBut),P(2),Ve("hidden",r.hidInstText))},styles:[".main[_ngcontent-%COMP%]{display:flex;height:100vh;justify-content:center;align-items:center;flex-direction:column}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#login[_ngcontent-%COMP%]{top:20%;position:absolute}#signup[_ngcontent-%COMP%]{top:40%;position:absolute}.Orange[_ngcontent-%COMP%]{cursor:pointer;text-decoration:underline;font-weight:700}.Orange[_ngcontent-%COMP%]:hover{text-decoration:underline;color:orange}#login[_ngcontent-%COMP%]{background-color:#3ec28f;box-shadow:2px 2px 5px #000;width:600px;height:150px;position:absolute;top:25%;left:50%;transform:translate(-50%);border-radius:30px;border-width:0;color:#fff;font-family:Arial;text-align:center;font-size:64px;letter-spacing:0}#signup[_ngcontent-%COMP%]{background-color:#3ec28f;box-shadow:2px 2px 5px #000;width:600px;height:150px;position:absolute;top:50%;left:50%;transform:translate(-50%);border-radius:30px;border-width:0;color:#fff;font-family:Arial;text-align:center;font-size:64px;letter-spacing:0}.installButton[_ngcontent-%COMP%]{border:none;background-color:#3eb3c2;box-shadow:2px 2px 5px #000;color:#fff;position:absolute;left:46%;top:76%;transform:translate(-50%);padding-bottom:5px;padding-top:5px;width:200px;height:60px;text-align:center;text-decoration:none;font-size:40px;font-weight:700;cursor:pointer;border-radius:30px}.install[_ngcontent-%COMP%]{color:#000;width:375px;position:absolute;top:77%;left:50%;transform:translate(-50%);font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;font-weight:700}.line[_ngcontent-%COMP%]{display:inline}#menu[_ngcontent-%COMP%]{width:16px;height:21.647058486938477px;background-repeat:no-repeat;background-size:cover;border-radius:5px}#share[_ngcontent-%COMP%]{width:20px;height:23.636362075805664px;background-repeat:no-repeat;background-size:cover;border-radius:5px}p[_ngcontent-%COMP%]{line-height:.5}.creditBox[_ngcontent-%COMP%]{background-color:#0a9217;border-right:4px solid white;width:20%;height:10%;position:absolute;cursor:pointer;left:0;top:0%;text-align:center;display:none}.creditText[_ngcontent-%COMP%]{color:#fff;display:inline-block;vertical-align:middle;line-height:250%;font-family:Verdana;font-size:36px;letter-spacing:0;display:none}.infoBox[_ngcontent-%COMP%]{background-color:#0a9217;width:20%;height:10%;position:absolute;cursor:pointer;left:0;top:0%;display:none}.infoText[_ngcontent-%COMP%]{color:#000;width:700px;position:absolute;top:45%;left:50%;transform:translate(-50%,-50%);font-family:Arial;text-align:center;font-size:24px;letter-spacing:0;font-weight:700}.footer[_ngcontent-%COMP%]{width:700px;position:absolute;bottom:50px;left:50%;transform:translate(-50%);text-align:center}.footerText[_ngcontent-%COMP%]{color:#000;position:relative;display:inline-block;left:30px;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0}.logoCiens[_ngcontent-%COMP%]{width:69px;height:69px;display:inline-block;position:relative;left:90px;top:30px;background-image:url(image_7.2e20c6c16e8ce206.png);background-repeat:no-repeat;background-size:cover}@media only screen and (max-width: 768px){.main[_ngcontent-%COMP%]{display:flex;height:100vh;justify-content:center;align-items:center;flex-direction:column}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;cursor:pointer}#login[_ngcontent-%COMP%]{top:20%;position:absolute}#signup[_ngcontent-%COMP%]{top:40%;position:absolute}#login[_ngcontent-%COMP%]{background-color:#3ec28f;width:70%;height:15%;margin:0;transform:none;position:absolute;left:15%;top:25%;border-radius:30px;border-width:0;color:#fff;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0}#signup[_ngcontent-%COMP%]{background-color:#3ec28f;width:70%;height:15%;margin:0;transform:none;position:absolute;left:15%;top:50%;border-radius:30px;border-width:0;color:#fff;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0}.installButton[_ngcontent-%COMP%]{border:none;background-color:#3eb3c2;box-shadow:2px 2px 5px #000;color:#fff;position:absolute;left:46%;top:76%;padding-bottom:5px;padding-top:5px;width:120px;height:50px;text-align:center;text-decoration:none;font-size:20px;font-weight:700;cursor:pointer;border-radius:30px}.install[_ngcontent-%COMP%]{color:#646464;width:75%;height:10%;transform:none;position:absolute;left:15%;top:70%;font-family:Arial;text-align:center;font-size:14px;letter-spacing:0;font-weight:700;letter-spacing:0px;line-height:20pt}.line[_ngcontent-%COMP%]{display:inline}#menu[_ngcontent-%COMP%]{width:10px;height:12px;background-repeat:no-repeat;background-size:cover;border-radius:5px}#share[_ngcontent-%COMP%]{width:20px;height:20px;padding-top:0;position:relative;top:5px;background-repeat:no-repeat;background-size:cover;border-radius:5px}p[_ngcontent-%COMP%]{line-height:.5}.creditLogo[_ngcontent-%COMP%]{position:relative;top:45%;left:25%;width:36px;height:36px;cursor:pointer;background-size:contain;background-repeat:no-repeat;background-image:url(info.f631e6664ac6fa77.png)}.creditText[_ngcontent-%COMP%]{display:none}.infoBox[_ngcontent-%COMP%]{background-color:#0a9217;width:20%;height:10%;position:absolute;cursor:pointer;left:0;top:0%;text-align:center;display:none}.infoText[_ngcontent-%COMP%]{color:#000;width:90%;position:absolute;top:35%;left:50%;transform:translate(-50%,-50%);font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;font-weight:700}.footer[_ngcontent-%COMP%]{width:100%;position:absolute;bottom:70px;text-align:center}.footerText[_ngcontent-%COMP%]{color:#000;width:100%;position:absolute;left:50%;transform:translate(-50%,-50%);font-family:Arial;text-align:center;font-size:12px;letter-spacing:0}.logoCiens[_ngcontent-%COMP%]{width:31px;height:31px;position:absolute;bottom:40px;left:50%;transform:translate(-50%);background-image:url(image_7.2e20c6c16e8ce206.png);background-repeat:no-repeat;background-size:cover}}"]})}}return n})()},{path:"credits",component:(()=>{class n{constructor(t,i){this.auth=t,this.router=i}Login(){this.router.navigate(["/auth/login"])}Signup(){this.router.navigate(["/auth/signup"])}Home(){this.router.navigate(["auth/select"])}static{this.\u0275fac=function(i){return new(i||n)(E(Oe),E(Ee))}}static{this.\u0275cmp=be({type:n,selectors:[["app-credits"]],decls:33,vars:0,consts:[[1,"base"],[1,"install"],[1,"footer"],[1,"Orange",3,"click"]],template:function(i,r){1&i&&(p(0,"p"),g(1,"credits works!"),h(),p(2,"div",0)(3,"div",1)(4,"h2")(5,"b"),g(6,"Creditos:"),h()(),p(7,"p")(8,"b"),g(9,"Autor: "),h(),p(10,"span"),g(11,"Ioannis Morakis - m.yannis22@gmail.com"),h()(),p(12,"p")(13,"b"),g(14,"Tutora: "),h(),p(15,"span"),g(16,"Profa. Yosly Hern\xe1ndez Bieliukas"),h()(),$(17,"br"),p(18,"h2")(19,"b"),g(20,"Objetivo:"),h()(),p(21,"p")(22,"span"),g(23," Desarrollar una Aplicaci\xf3n Web para la gesti\xf3n de muestras de campo de la Cl\xednica de Enfermedades de Plantas de la Universidad Central de Venezuela"),h()(),$(24,"br")(25,"br"),p(26,"p"),g(27," Universidad Central de Venezuela - Escuela de Computaci\xf3n "),h(),$(28,"br")(29,"br"),h()(),p(30,"p",2)(31,"span",3),F("click",function(){return r.Login()}),g(32,"Volver al Inicio"),h()())},styles:[".main[_ngcontent-%COMP%]{display:flex;height:100vh;justify-content:center;align-items:center;flex-direction:column}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}.install[_ngcontent-%COMP%]{color:#000;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0}.line[_ngcontent-%COMP%]{display:inline}.base[_ngcontent-%COMP%]{width:600px;height:500px;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}.logoUcv[_ngcontent-%COMP%]{width:69px;height:69px;float:left;background-image:url(logo_ucv_bg2_1.32a61806277cba42.png);background-repeat:no-repeat;background-size:cover}.logoCiens[_ngcontent-%COMP%]{width:69px;height:69px;display:inline-block;background-image:url(image_7.2e20c6c16e8ce206.png);background-repeat:no-repeat;background-size:cover}.footer[_ngcontent-%COMP%]{margin:0;width:112px;position:absolute;bottom:50px;left:calc(50% - 56px)}.Orange[_ngcontent-%COMP%]{cursor:pointer;font-family:Arial;text-decoration:underline;font-weight:700;font-size:16px}.Orange[_ngcontent-%COMP%]:hover{text-decoration:underline;color:orange}@media only screen and (max-width: 768px){.main[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}.install[_ngcontent-%COMP%]{color:#000;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0}.line[_ngcontent-%COMP%]{display:inline}.base[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:70%}.logoUcv[_ngcontent-%COMP%]{width:69px;height:69px;float:left;background-image:url(logo_ucv_bg2_1.32a61806277cba42.png);background-repeat:no-repeat;background-size:cover}.logoCiens[_ngcontent-%COMP%]{width:45px;height:45px;display:inline-block;background-image:url(image_7.2e20c6c16e8ce206.png);background-repeat:no-repeat;background-size:cover}}"]})}}return n})()}]}];let pke=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ot({type:n})}static{this.\u0275inj=tt({imports:[Ur.forChild(fke),Ur]})}}return n})(),mke=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ot({type:n})}static{this.\u0275inj=tt({imports:[ys,nm,Ur,pke]})}}return n})(),gke=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=be({type:n,selectors:[["app-home"]],decls:2,vars:0,template:function(i,r){1&i&&(p(0,"p"),g(1,"home works!"),h())}})}}return n})(),QK=(()=>{class n{constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.data=[],this.getData()}ngOnInit(){}Users(){this.router.navigate(["/admin/users"])}getData(){const t=me(this.firestore,"users");oe(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}updateData(t){const i=Ce(this.firestore,"users",t);ai(i,{}).then(()=>{alert("Data updated"),this.getData()}).catch(r=>{alert(r.message)})}deleteData(t){const i=Ce(this.firestore,"users",t);en(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}handleSignOut(){Nn(this.auth).then(()=>{}).catch(t=>{console.log("here")}),this.router.navigate(["auth/login"])}Home(){this.router.navigate(["admin"])}Projectos(){this.router.navigate(["admin"])}Muestras(){this.router.navigate(["admin/muestras-all"])}Resultados(){this.router.navigate(["admin/resultados"])}Clientes(){this.router.navigate(["admin/clients"])}Unidades(){this.router.navigate(["admin/unidad-produccion-all"])}Codigo(){this.router.navigate(["admin/barcode-new"])}Scan(){this.router.navigate(["admin/scan"])}static{this.\u0275fac=function(i){return new(i||n)(E(Ee),E(qe),E(Oe),E(He))}}static{this.\u0275cmp=be({type:n,selectors:[["app-admin"]],decls:73,vars:0,consts:[[1,"navbar2"],[1,"navbar2Box"],["id","cerrarText",1,"navbar2Text",3,"click"],["src","../../assets/logout-Resize.png","alt","Out","width","50","height","50"],[1,"break"],["id","UsersText",1,"navbar2Text",3,"click"],["src","../../assets/UsersResize.png","alt","Users","width","50","height","50"],["id","ClientesText",1,"navbar2Text",3,"click"],["src","../../assets/ClientesResize.png","alt","Shovel","width","50","height","50"],["id","UnidadText",1,"navbar2Text",3,"click"],["src","../../assets/shovelResize.png","alt","Shovel","width","50","height","50"],["id","MuestrasText",1,"navbar2Text",3,"click"],["src","../../assets/prueba-de-sangre-Resize.png","alt","Shovel","width","50","height","50"],["id","ResultText",1,"navbar2Text",3,"click"],["src","../../assets/ResultadosResize.png","alt","Shovel","width","50","height","50"],["id","CodigoText",1,"navbar2Text",3,"click"],["src","../../assets/BarcodeAddResize.png","alt","Shovel","width","50","height","50"],["id","ScanText",1,"navbar2Text",3,"click"],["src","../../assets/ScanResize.png","alt","Shovel","width","50","height","50"],[1,"mobile-slider-nav"],[1,"mobile-menu-container"],[3,"click"],["src","../../assets/home.png","alt","Out","width","50","height","50"],["h","",3,"click"]],template:function(i,r){1&i&&(p(0,"p"),g(1,"admin works!"),h(),p(2,"div",0),$(3,"div",1),p(4,"div",2),F("click",function(){return r.handleSignOut()}),$(5,"img",3)(6,"br",4),g(7," Cerrar Sesi\xf3n "),h(),p(8,"div",5),F("click",function(){return r.Users()}),$(9,"img",6)(10,"br",4),g(11," Usuarios "),h(),p(12,"div",7),F("click",function(){return r.Clientes()}),$(13,"img",8),g(14," Clientes "),h(),p(15,"div",9),F("click",function(){return r.Unidades()}),$(16,"img",10),g(17," Unidades de Producci\xf3n "),h(),p(18,"div",11),F("click",function(){return r.Muestras()}),$(19,"img",12),g(20," Muestras "),h(),p(21,"div",13),F("click",function(){return r.Resultados()}),$(22,"img",14),g(23," Resultados "),h(),p(24,"div",15),F("click",function(){return r.Codigo()}),$(25,"img",16),g(26," Generar Codigo "),h(),p(27,"div",17),F("click",function(){return r.Scan()}),$(28,"img",18),g(29," Escanear "),h()(),p(30,"nav",19)(31,"div",20)(32,"a",21),F("click",function(){return r.Users()}),$(33,"img",22)(34,"br",4),g(35," Hogar "),h(),p(36,"a",21),F("click",function(){return r.Users()}),$(37,"img",6)(38,"br",4),g(39," Usuarios "),h(),p(40,"a",23),F("click",function(){return r.Clientes()}),$(41,"img",8)(42,"br",4),g(43," Clientes "),h(),p(44,"a",21),F("click",function(){return r.Unidades()}),$(45,"img",10)(46,"br",4),g(47," Unidades de "),$(48,"br",4),g(49," Producci\xf3n "),h(),p(50,"a",21),F("click",function(){return r.Muestras()}),$(51,"img",12)(52,"br",4),g(53," Muestras "),h(),p(54,"a",21),F("click",function(){return r.Resultados()}),$(55,"img",14)(56,"br",4),g(57," Resultados "),h(),p(58,"a",21),F("click",function(){return r.Codigo()}),$(59,"img",16)(60,"br",4),g(61," Generar "),$(62,"br",4),g(63," Codigo "),h(),p(64,"a",21),F("click",function(){return r.Scan()}),$(65,"img",18)(66,"br",4),g(67," Escanear "),h(),p(68,"a",21),F("click",function(){return r.handleSignOut()}),$(69,"img",3)(70,"br",4),g(71," Cerrar Sesi\xf3n "),h()()(),$(72,"router-outlet"))},dependencies:[Sl],styles:[".list[_ngcontent-%COMP%]{position:absolute;left:33%;top:35%}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}button[_ngcontent-%COMP%]{border:none;background-color:#3eb3c2;color:#fff;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px;width:100px;height:40px;margin:10px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;width:70%;height:10%;vertical-align:middle;line-height:250%;font-family:Verdana;text-align:center;font-size:48px;letter-spacing:0;left:20%;top:15%}.main[_ngcontent-%COMP%]{display:flex;height:100vh;justify-content:center;align-items:center;flex-direction:column}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}.navbar2Box[_ngcontent-%COMP%]{background:#fff;box-shadow:0 0 6px 10px #00000040;height:100vh;width:320px;position:absolute;top:0;left:0;display:flex;flex-direction:column;justify-content:flex-start;align-items:center;padding-top:15em;z-index:-10}.navbar2Text[_ngcontent-%COMP%]{height:4.5%;color:#000;font-size:16px;font-family:Verdana;font-weight:600;word-wrap:break-word;display:inline-block;vertical-align:middle;line-height:240%;padding-top:5px;padding-left:20px}#UsersText[_ngcontent-%COMP%]{cursor:pointer;width:300;position:absolute;left:0%;top:12%}#UnidadText[_ngcontent-%COMP%]{cursor:pointer;width:300;position:absolute;left:0%;top:12em}#MuestrasText[_ngcontent-%COMP%]{cursor:pointer;width:300;position:absolute;left:0%;top:16em}#ResultText[_ngcontent-%COMP%]{cursor:pointer;width:300;position:absolute;left:0%;top:20em}#ClientesText[_ngcontent-%COMP%]{cursor:pointer;width:300;position:absolute;left:0%;top:24em}#CodigoText[_ngcontent-%COMP%]{cursor:pointer;width:300;position:absolute;left:0%;top:28em}#ScanText[_ngcontent-%COMP%]{cursor:pointer;width:300;position:absolute;left:0%;top:32em}#cerrarText[_ngcontent-%COMP%]{cursor:pointer;width:300;position:absolute;left:0%;top:36em}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}img[_ngcontent-%COMP%]{position:relative;top:20px}.break[_ngcontent-%COMP%], .mobile-slider-nav[_ngcontent-%COMP%]{display:none}@media only screen and (max-width: 768px){.navbar2[_ngcontent-%COMP%]{width:100%;display:none}.navbar2Box[_ngcontent-%COMP%]{width:100%;height:66px;background:#fff;box-shadow:0 0 6px 10px #00000040;position:absolute;left:0%;top:6.75em;padding-top:0;overflow-x:scroll;overflow-y:hidden;-ms-overflow-style:none;scrollbar-width:none}.navbar2Text[_ngcontent-%COMP%]{height:28px;color:#000;font-size:8px;font-family:Verdana;font-weight:600;word-wrap:break-word;text-align:center;display:inline-block;vertical-align:middle;line-height:1.6;padding-top:7px;padding-left:0}.center[_ngcontent-%COMP%]{position:relative;top:18%}#cerrarText[_ngcontent-%COMP%]{cursor:pointer;width:10%;position:absolute;left:0%;top:110px;padding-left:3%;border-right:2px solid white}#UnidadText[_ngcontent-%COMP%]{cursor:pointer;width:15%;position:absolute;left:15%;top:110px;border-right:2px solid white}#MuestrasText[_ngcontent-%COMP%]{cursor:pointer;width:15%;position:absolute;left:30%;top:110px;border-right:2px solid white}#ResultText[_ngcontent-%COMP%]{cursor:pointer;width:12%;position:absolute;left:45%;top:110px}#UsersText[_ngcontent-%COMP%]{cursor:pointer;width:50px;left:120%;top:110px;border-right:2px solid white}#ClientesText[_ngcontent-%COMP%]{cursor:pointer;width:50px;position:absolute;left:60%;top:110px;border-right:2px solid white}#CodigoText[_ngcontent-%COMP%]{cursor:pointer;width:10%;position:absolute;left:70%;top:13.5em;padding-left:3%}#ScanText[_ngcontent-%COMP%]{cursor:pointer;width:10%;position:absolute;left:87%;top:13.5em}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:15%;left:0%;top:0%}img[_ngcontent-%COMP%]{position:relative;top:0;width:20px;height:20px}.break[_ngcontent-%COMP%]{display:inline}.mobile-slider-nav[_ngcontent-%COMP%]{display:inline;position:absolute;top:110px;left:0;height:55px;width:100%;background-color:#fff;box-shadow:0 2px 4px #0000000d;z-index:40;padding-bottom:8px;overflow-x:scroll;overflow-y:hidden;-ms-overflow-style:none;scrollbar-width:none}.mobile-menu-container[_ngcontent-%COMP%]{display:flex;white-space:nowrap;padding:0px .5rem}.mobile-slider-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{vertical-align:middle;line-height:1.6;color:#000;font-size:8px;font-family:Verdana;word-wrap:break-word;text-align:center;display:inline-block;flex-shrink:0;text-decoration:none;font-weight:600;padding:8px 16px 0;margin-right:8px;border-radius:9999px}}"]})}}return n})(),_ke=(()=>{class n{constructor(t,i){this.auth=t,this.router=i}canActivate(t,i){return this.checkLogin(i.url)}checkLogin(t){return!!this.auth.currentUser||(this.router.navigate(["/"]),!1)}static{this.\u0275fac=function(i){return new(i||n)(j(Oe),j(Ee))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),XK=(()=>{class n{constructor(t,i){this.auth=t,this.router=i,this.title="gestion-muestras"}handleSignOut(){Nn(this.auth).then(()=>{}).catch(t=>{console.log("here")}),this.router.navigate(["auth//login"])}Home(){this.router.navigate(["user/projects"])}Projectos(){this.router.navigate(["user/projects"])}Muestras(){this.router.navigate(["user/muestras-all"])}Resultados(){this.router.navigate(["user/resultados"])}Clientes(){this.router.navigate(["user/clients"])}Unidades(){this.router.navigate(["user/unidad-produccion-all"])}Codigo(){this.router.navigate(["user/barcode-new"])}Scan(){this.router.navigate(["user/scan"])}static{this.\u0275fac=function(i){return new(i||n)(E(Oe),E(Ee))}}static{this.\u0275cmp=be({type:n,selectors:[["app-user"]],decls:65,vars:0,consts:[[1,"navbar2Box"],[1,"navbar2"],["id","HogarText",1,"navbar2Text",3,"click"],["src","../../assets/homeResize.png","alt","Out","width","50","height","50"],["id","UnidadText",1,"navbar2Text",3,"click"],["src","../../assets/shovelResize.png","alt","Shovel","width","50","height","50"],["id","MuestrasText",1,"navbar2Text",3,"click"],["src","../../assets/prueba-de-sangre-Resize.png","alt","Shovel","width","50","height","50"],["id","ResultText",1,"navbar2Text",3,"click"],["src","../../assets/ResultadosResize.png","alt","Shovel","width","50","height","50"],["id","ClientesText",1,"navbar2Text",3,"click"],["src","../../assets/ClientesResize.png","alt","Shovel","width","50","height","50"],["id","CodigoText",1,"navbar2Text",3,"click"],["src","../../assets/BarcodeAddResize.png","alt","Shovel","width","50","height","50"],["id","ScanText",1,"navbar2Text",3,"click"],["src","../../assets/ScanResize.png","alt","Shovel","width","50","height","50"],["id","cerrarText",1,"navbar2Text",3,"click"],["src","../../assets/logout-Resize.png","alt","Out","width","50","height","50"],[1,"mobile-slider-nav"],[1,"mobile-menu-container"],[3,"click"],["src","../../assets/home.png","alt","Out","width","50","height","50"],[1,"break"],["h","",3,"click"]],template:function(i,r){1&i&&($(0,"div",0),p(1,"div",1)(2,"div",2),F("click",function(){return r.Unidades()}),$(3,"img",3),g(4," Hogar "),h(),p(5,"div",4),F("click",function(){return r.Unidades()}),$(6,"img",5),g(7," Unidades de Producci\xf3n "),h(),p(8,"div",6),F("click",function(){return r.Muestras()}),$(9,"img",7),g(10," Muestras "),h(),p(11,"div",8),F("click",function(){return r.Resultados()}),$(12,"img",9),g(13," Resultados "),h(),p(14,"div",10),F("click",function(){return r.Clientes()}),$(15,"img",11),g(16," Clientes "),h(),p(17,"div",12),F("click",function(){return r.Codigo()}),$(18,"img",13),g(19," Generar Codigo "),h(),p(20,"div",14),F("click",function(){return r.Scan()}),$(21,"img",15),g(22," Escanear "),h(),p(23,"div",16),F("click",function(){return r.handleSignOut()}),$(24,"img",17),g(25," Cerrar Sesi\xf3n "),h()(),p(26,"nav",18)(27,"div",19)(28,"a",20),F("click",function(){return r.Unidades()}),$(29,"img",21)(30,"br",22),g(31," Hogar "),h(),p(32,"a",23),F("click",function(){return r.Clientes()}),$(33,"img",11)(34,"br",22),g(35," Clientes "),h(),p(36,"a",20),F("click",function(){return r.Unidades()}),$(37,"img",5)(38,"br",22),g(39," Unidades de "),$(40,"br",22),g(41," Producci\xf3n "),h(),p(42,"a",20),F("click",function(){return r.Muestras()}),$(43,"img",7)(44,"br",22),g(45," Muestras "),h(),p(46,"a",20),F("click",function(){return r.Resultados()}),$(47,"img",9)(48,"br",22),g(49," Resultados "),h(),p(50,"a",20),F("click",function(){return r.Codigo()}),$(51,"img",13)(52,"br",22),g(53," Generar "),$(54,"br",22),g(55," Codigo "),h(),p(56,"a",20),F("click",function(){return r.Scan()}),$(57,"img",15)(58,"br",22),g(59," Escanear "),h(),p(60,"a",20),F("click",function(){return r.handleSignOut()}),$(61,"img",17)(62,"br",22),g(63," Cerrar Sesi\xf3n "),h()()(),$(64,"router-outlet"))},dependencies:[Sl],styles:[".main[_ngcontent-%COMP%]{display:flex;height:100vh;justify-content:center;align-items:center;flex-direction:column}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}.navbar2[_ngcontent-%COMP%]{height:100vh;width:320px;position:absolute;top:0;left:0}.navbar2Box[_ngcontent-%COMP%]{background:#fff;box-shadow:0 0 6px 10px #00000040;height:100vh;width:320px;position:absolute;top:0;left:0;display:flex;flex-direction:column;justify-content:flex-start;align-items:center;padding-top:15em;z-index:-10}.navbar2Text[_ngcontent-%COMP%]{height:4.5%;color:#000;font-size:16px;font-family:Verdana;font-weight:600;word-wrap:break-word;text-align:center;padding-top:5px;padding-left:20px}#HogarText[_ngcontent-%COMP%]{cursor:pointer;width:300;position:absolute;left:0%;top:128px}#UnidadText[_ngcontent-%COMP%]{cursor:pointer;width:300;position:absolute;left:0%;top:192px}#MuestrasText[_ngcontent-%COMP%]{cursor:pointer;width:300;position:absolute;left:0%;top:256px}#ResultText[_ngcontent-%COMP%]{cursor:pointer;width:300;position:absolute;left:0%;top:320px}#ClientesText[_ngcontent-%COMP%]{cursor:pointer;width:300;position:absolute;left:0%;top:384px}#CodigoText[_ngcontent-%COMP%]{cursor:pointer;width:300;position:absolute;left:0%;top:448px}#ScanText[_ngcontent-%COMP%]{cursor:pointer;width:300;position:absolute;left:0%;top:512px}#cerrarText[_ngcontent-%COMP%]{cursor:pointer;width:300;position:absolute;left:0%;top:576px}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}img[_ngcontent-%COMP%]{position:relative;top:20px}.mobile-slider-nav[_ngcontent-%COMP%]{display:none}@media only screen and (max-width: 768px){.navbar2[_ngcontent-%COMP%]{width:100%;display:none}.navbar2Box[_ngcontent-%COMP%]{width:100%;height:66px;background:#fff;box-shadow:0 0 6px 10px #00000040;position:absolute;left:0%;top:110px;padding-top:0;display:none}.navbar2Text[_ngcontent-%COMP%]{height:28px;color:#000;font-size:8px;font-family:Verdana;font-weight:600;word-wrap:break-word;text-align:center;display:inline-block;vertical-align:middle;line-height:1.6;padding-top:7px;padding-left:0}.center[_ngcontent-%COMP%]{position:relative;top:18%}#cerrarText[_ngcontent-%COMP%]{cursor:pointer;width:10%;position:absolute;left:0%;top:110px;padding-left:3%;border-right:2px solid white}#UnidadText[_ngcontent-%COMP%]{cursor:pointer;width:15%;position:absolute;left:15%;top:110px;border-right:2px solid white}#MuestrasText[_ngcontent-%COMP%]{cursor:pointer;width:15%;position:absolute;left:30%;top:110px;border-right:2px solid white}#ResultText[_ngcontent-%COMP%]{cursor:pointer;width:14%;position:absolute;left:44%;top:110px}#ClientesText[_ngcontent-%COMP%]{cursor:pointer;width:13%;position:absolute;left:58%;top:110px;border-right:2px solid white}#CodigoText[_ngcontent-%COMP%]{cursor:pointer;width:10%;position:absolute;left:70%;top:110px;padding-left:3%}#ScanText[_ngcontent-%COMP%]{cursor:pointer;width:12%;position:absolute;left:85%;top:110px}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:15%;left:0%;top:0%}img[_ngcontent-%COMP%]{position:relative;top:0;width:20px;height:20px}br[_ngcontent-%COMP%]{display:inline}.mobile-slider-nav[_ngcontent-%COMP%]{display:inline;position:absolute;top:110px;left:0;height:55px;width:100%;background-color:#fff;box-shadow:0 2px 4px #0000000d;z-index:40;padding-bottom:8px;overflow-x:scroll;overflow-y:hidden}.mobile-menu-container[_ngcontent-%COMP%]{display:flex;white-space:nowrap;padding:0px .5rem}.mobile-slider-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{vertical-align:middle;line-height:1.6;color:#000;font-size:8px;font-family:Verdana;word-wrap:break-word;text-align:center;display:inline-block;flex-shrink:0;text-decoration:none;font-weight:600;padding:8px 16px 0;margin-right:8px;border-radius:9999px}}"]})}}return n})();var pd=V(1874);let bke=(()=>{class n{constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o}ngOnInit(){var t=this;return _(function*(){t.route.params.subscribe(i=>{t.item=i,console.log(i),t.generateBarcode(i)}),yield t.sleep(500),window.print()})()}sleep(t){return _(function*(){return new Promise(i=>setTimeout(i,t))})()}generateBarcode(t){var i=t.id;let r=t.num;for(let o=1;o<=r;o++){let s="#barcode"+o;console.log(s),pd(s,i,{format:"CODE128"})}}static{this.\u0275fac=function(i){return new(i||n)(E(Ee),E(qe),E(Oe),E(He))}}static{this.\u0275cmp=be({type:n,selectors:[["app-print"]],decls:6,vars:0,consts:[[1,"print-page"],["id","barcode1"],["id","barcode2"],["id","barcode3"],["id","barcode4"],["id","barcode5"]],template:function(i,r){1&i&&($(0,"div",0),Wa(),$(1,"svg",1)(2,"svg",2)(3,"svg",3)(4,"svg",4)(5,"svg",5))},styles:[".print-page[_ngcontent-%COMP%]{width:100vw;min-height:100vh;background:#fff}#barcode1[_ngcontent-%COMP%]{position:absolute;top:50px;left:200px}#barcode2[_ngcontent-%COMP%]{position:absolute;top:220px;left:200px}#barcode3[_ngcontent-%COMP%]{position:absolute;top:390px;left:200px}#barcode4[_ngcontent-%COMP%]{position:absolute;top:560px;left:200px}#barcode5[_ngcontent-%COMP%]{position:absolute;top:730px;left:200px}"]})}}return n})(),ZK=(()=>{class n{constructor(t,i){this.auth=t,this.router=i,this.title="gestion-muestras"}handleSignOut(){Nn(this.auth).then(()=>{}).catch(t=>{console.log("here")}),this.router.navigate(["auth/login"])}Home(){this.router.navigate(["client/projects"])}Projectos(){this.router.navigate(["client/projects"])}Perfil(){this.router.navigate(["client/perfil"])}Muestras(){this.router.navigate(["client/muestras-all"])}Unidad(){this.router.navigate(["client/unidad-produccion-all"])}static{this.\u0275fac=function(i){return new(i||n)(E(Oe),E(Ee))}}static{this.\u0275cmp=be({type:n,selectors:[["app-client"]],decls:15,vars:0,consts:[[1,"navbar2Box"],[1,"navbar2"],["id","cerrarText",1,"navbar2Text",3,"click"],["src","../../assets/logout-2.png","alt","Out","width","50","height","50"],[1,"break"],["id","UnidadText",1,"navbar2Text",3,"click"],["src","../../assets/shovel2.png","alt","Shovel","width","50","height","50"],["id","MuestrasText",1,"navbar2Text",3,"click"],["src","../../assets/prueba-de-sangre.png","alt","Shovel","width","50","height","50"]],template:function(i,r){1&i&&($(0,"div",0),p(1,"div",1)(2,"div",2),F("click",function(){return r.handleSignOut()}),$(3,"img",3)(4,"br",4),g(5," Cerrar Sesi\xf3n "),h(),p(6,"div",5),F("click",function(){return r.Unidad()}),$(7,"img",6)(8,"br",4),g(9," Unidades de Producci\xf3n "),h(),p(10,"div",7),F("click",function(){return r.Muestras()}),$(11,"img",8)(12,"br",4),g(13," Muestras "),h()(),$(14,"router-outlet"))},dependencies:[Sl],styles:[".main[_ngcontent-%COMP%]{display:flex;height:100vh;justify-content:center;align-items:center;flex-direction:column}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}.navbar2[_ngcontent-%COMP%]{height:100vh;width:320px;position:absolute;top:0;left:0}.navbar2Box[_ngcontent-%COMP%]{background:#fff;box-shadow:0 0 6px 10px #00000040;height:100vh;width:320px;position:absolute;top:0;left:0;display:flex;flex-direction:column;justify-content:flex-start;align-items:center;padding-top:15em;z-index:-10}.navbar2Text[_ngcontent-%COMP%]{height:4.5%;color:#000;font-size:16px;font-family:Verdana;font-weight:600;word-wrap:break-word;display:inline-block;vertical-align:middle;line-height:240%;padding-top:5px;padding-left:20px}#UnidadText[_ngcontent-%COMP%]{cursor:pointer;width:300;position:absolute;left:0%;top:7em}#MuestrasText[_ngcontent-%COMP%]{cursor:pointer;width:300;position:absolute;left:0%;top:12em}#cerrarText[_ngcontent-%COMP%]{cursor:pointer;width:300;position:absolute;left:0%;top:17em}#ClientesText[_ngcontent-%COMP%]{cursor:pointer;width:300;position:absolute;left:0%;top:32%}#CodigoText[_ngcontent-%COMP%]{cursor:pointer;width:300;position:absolute;left:0%;top:42%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}img[_ngcontent-%COMP%]{position:relative;top:20px}.break[_ngcontent-%COMP%]{display:none}@media only screen and (max-width: 768px){.navbar[_ngcontent-%COMP%]{width:100%;position:absolute}.homeBox[_ngcontent-%COMP%]{border-right:4px solid white;width:20%;height:6.75em;position:absolute;left:0;top:0%}.homeText[_ngcontent-%COMP%]{display:none}.UserLogo[_ngcontent-%COMP%]{position:absolute;top:2.2em;left:25%;width:36px;height:36px;text-align:center;background-image:url(userWhite.1acab0fe6d96dff4.png);background-repeat:no-repeat;background-size:cover}.logoCiens[_ngcontent-%COMP%]{width:25px;height:25px;position:absolute;top:80px;left:clamp(calc(20% + 50px),calc(60% - 16px),100%);background-image:url(logoCiens.9fc55f935ab1cd6b.png);background-repeat:no-repeat;background-size:cover}.logoAgro[_ngcontent-%COMP%]{width:40px;height:30px;position:absolute;left:calc(100% - 50px);top:77px;background-image:url(Logo-Agronomia2.2ed90bcafa53fa56.png);background-repeat:no-repeat;background-size:cover}.logoUcv[_ngcontent-%COMP%]{width:30px;height:30px;position:absolute;left:23%;top:75px;background-image:url(logo_ucv_bg2_1.32a61806277cba42.png);background-repeat:no-repeat;background-size:cover}.tituloBox[_ngcontent-%COMP%]{width:80%;height:80px;position:absolute;left:20%;top:0%;text-align:center}.tituloText[_ngcontent-%COMP%]{color:#fff;line-height:1;display:inline-block;vertical-align:middle;font-family:Verdana;font-size:28px;letter-spacing:0px;padding-top:5px}.tituloSubText[_ngcontent-%COMP%]{color:#fff;font-family:Verdana;font-size:18px;letter-spacing:0px;line-height:normal;display:block;text-align:center;padding-top:10px}.space[_ngcontent-%COMP%], .homeLogo[_ngcontent-%COMP%]{display:none}.navbar2Box[_ngcontent-%COMP%]{width:100%;height:66px;background:#fff;box-shadow:0 0 6px 10px #00000040;position:absolute;left:0%;top:6.75em}.navbar2Text[_ngcontent-%COMP%]{height:28px;color:#000;font-size:8px;font-family:Verdana;font-weight:600;word-wrap:break-word;text-align:center;display:inline-block;vertical-align:middle;line-height:1.6;padding-top:7px;padding-left:0}.center[_ngcontent-%COMP%]{position:relative;top:18%}#cerrarText[_ngcontent-%COMP%]{cursor:pointer;width:15%;position:absolute;left:0%;top:13.5em;padding-left:3%;border-right:2px solid white}#ProyectosText[_ngcontent-%COMP%]{visibility:hidden;cursor:pointer;width:20%;position:absolute;left:15%;top:13.5em;border-right:2px solid white}#UnidadText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:40%;top:13.5em;border-right:2px solid white}#MuestrasText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:79%;top:13.5em;border-right:2px solid white}#ClientesText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:60%;top:15%;border-right:2px solid white}#CodigoText[_ngcontent-%COMP%]{cursor:pointer;width:15%;position:absolute;left:80%;top:15%;padding-left:3%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:15%;left:0%;top:0%}img[_ngcontent-%COMP%]{position:relative;top:0;width:20px;height:20px}.break[_ngcontent-%COMP%]{display:inline}}"]})}}return n})();const yke=[{path:"",redirectTo:"auth/login",pathMatch:"full"},{path:"home",component:gke},{path:"admin",component:QK,canActivate:[_ke]},{path:"auth",component:_$},{path:"user",component:XK},{path:"client",component:ZK},{path:"print/:id/:num",component:bke}];let MN=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ot({type:n})}static{this.\u0275inj=tt({imports:[Ur.forRoot(yke),Ur]})}}return n})(),vke=(()=>{class n{constructor(t,i,r){this.auth=t,this.router=i,this.title="gestion-muestras",this.height=Ja(250),this.width=Ja(250)}handleSignOut(){Nn(this.auth).then(()=>{}).catch(t=>{})}imageReady(t){console.log("Firebase Uploaded Image: ",t)}static{this.\u0275fac=function(i){return new(i||n)(E(Oe),E(Ee),E(He))}}static{this.\u0275cmp=be({type:n,selectors:[["app-root"]],decls:11,vars:0,consts:[[1,"navbar"],[1,"tituloBox"],[1,"tituloText"],[1,"space"],[1,"tituloSubText"],[1,"logoUcv"],[1,"logoCiens"],[1,"logoAgro"]],template:function(i,r){1&i&&(p(0,"div",0)(1,"div",1)(2,"span",2),g(3,"Cl\xednica de Plantas "),h(),$(4,"br",3),p(5,"span",4),g(6,"Gesti\xf3n de Muestras"),h()(),$(7,"div",5)(8,"div",6)(9,"div",7),h(),$(10,"router-outlet"))},dependencies:[Sl],styles:[".navbar[_ngcontent-%COMP%]{background-color:#0a9217;width:100%;min-width:1024px;height:120px;position:absolute;left:0%;top:0%}.tituloBox[_ngcontent-%COMP%]{width:100%;height:120px;position:absolute;left:0%;top:0%;display:flex;flex-direction:column;justify-content:center;align-items:center;font-size:10px}.tituloText[_ngcontent-%COMP%]{color:#fff;display:block;font-family:Verdana;font-weight:700;font-size:40px;letter-spacing:0}.tituloSubText[_ngcontent-%COMP%]{color:#fff;display:block;font-family:Verdana;font-weight:700;font-size:20px;letter-spacing:0}.logoUcv[_ngcontent-%COMP%]{width:80px;height:80px;position:absolute;right:40px;top:20px;background-image:url(logo_ucv_bg2_1.32a61806277cba42.png);background-repeat:no-repeat;background-size:cover}.logoCiens[_ngcontent-%COMP%]{width:80px;height:80px;display:inline-block;position:absolute;right:160px;top:20px;background-image:url(logoCiens.9fc55f935ab1cd6b.png);background-repeat:no-repeat;background-size:contain}.logoAgro[_ngcontent-%COMP%]{width:120px;height:80px;position:absolute;left:90px;top:20px;background-image:url(Logo-Agronomia-Stroke.a9e6fb094894c53a.png);background-repeat:no-repeat;background-size:cover}.homeBox[_ngcontent-%COMP%]{width:25%;height:10%;position:absolute;cursor:pointer;left:75%;top:0%;text-align:center}.homeText[_ngcontent-%COMP%]{color:#fff;display:inline-block;vertical-align:middle;line-height:2.8em;font-family:Verdana;font-size:32px;letter-spacing:0;position:absolute;right:.75em;top:30%}.UserLogo[_ngcontent-%COMP%]{position:absolute;top:1.85em;right:10.94em;width:46px;height:46px;text-align:center;background-image:url(LoginIconWhite.b9f823031602a23b.png);background-repeat:no-repeat;background-size:contain}@media only screen and (max-width: 768px){.navbar[_ngcontent-%COMP%]{height:110px;min-width:0px}.logoUcv[_ngcontent-%COMP%]{width:30px;height:30px;position:absolute;top:15px;right:5px;left:auto;background-image:url(logo_ucv_Small.c918acfda6fcd024.png);background-repeat:no-repeat;background-size:cover}.logoCiens[_ngcontent-%COMP%]{width:30px;height:30px;position:absolute;top:60px;right:5px;left:auto;background-image:url(logoCiens-Small.2065c0f07c6bbc86.png);background-repeat:no-repeat;background-size:cover}.logoAgro[_ngcontent-%COMP%]{width:52px;height:35px;position:absolute;top:38px;right:auto;left:5px;background-image:url(Logo-Agronomia-Stroke-Small.e1f18097759acd8e.png);background-repeat:no-repeat;background-size:contain}.tituloBox[_ngcontent-%COMP%]{width:259px;height:110px;position:absolute;left:clamp(57px,calc(50% - 129px),100%);top:0;text-align:center}.tituloText[_ngcontent-%COMP%]{color:#fff;line-height:1;display:inline-block;vertical-align:middle;font-family:Verdana;font-size:26px;letter-spacing:0px;padding-bottom:10px}.tituloSubText[_ngcontent-%COMP%]{color:#fff;font-family:Verdana;font-size:16px;letter-spacing:0px;line-height:normal;display:block;text-align:center;padding-bottom:10px}.space[_ngcontent-%COMP%], .homeLogo[_ngcontent-%COMP%]{display:none}}"]})}}return n})();const xke_firebase={apiKey:"AIzaSyD0Py3MA2BD1yEsMg4wM9RDhbNgmEAxZPk",authDomain:"gestion-de-muestras-de-c-fabe0.firebaseapp.com",databaseURL:"https://gestion-de-muestras-de-c-fabe0-default-rtdb.firebaseio.com",projectId:"gestion-de-muestras-de-c-fabe0",storageBucket:"gestion-de-muestras-de-c-fabe0.firebasestorage.app",messagingSenderId:"881625861704",appId:"1:881625861704:web:1da279954953bf7e3ad27d",measurementId:"G-PTHV8B640J"},JK="@firebase/database";let DN="";class Cke{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),qi(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:_m(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class Eke{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return Ss(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const tY=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Cke(e)}}catch{}return new Eke},md=tY("localStorage"),SN=tY("sessionStorage"),df=new Al("@firebase/database"),nY=function(){let n=1;return function(){return n++}}(),iY=function(n){const e=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);if(r>=55296&&r<=56319){const o=r-55296;i++,ae(i<n.length,"Surrogate pair missing trail surrogate."),r=65536+(o<<10)+(n.charCodeAt(i)-56320)}r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=63&r|128):r<65536?(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=63&r|128):(e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=63&r|128)}return e}(n),t=new Kbe;t.update(e);const i=t.digest();return $y.encodeByteArray(i)},i_=function(...n){let e="";for(let t=0;t<n.length;t++){const i=n[t];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?e+=i_.apply(null,i):e+="object"==typeof i?qi(i):i,e+=" "}return e};let gd=null,rY=!0;const Li=function(...n){if(!0===rY&&(rY=!1,null===gd&&!0===SN.get("logging_enabled")&&function(n,e){ae(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(df.logLevel=vt.VERBOSE,gd=df.log.bind(df),e&&SN.set("logging_enabled",!0)):"function"==typeof n?gd=n:(gd=null,SN.remove("logging_enabled"))}(!0)),gd){const e=i_.apply(null,n);gd(e)}},r_=function(n){return function(...e){Li(n,...e)}},kN=function(...n){const e="FIREBASE INTERNAL ERROR: "+i_(...n);df.error(e)},js=function(...n){const e=`FIREBASE FATAL ERROR: ${i_(...n)}`;throw df.error(e),new Error(e)},gr=function(...n){const e="FIREBASE WARNING: "+i_(...n);df.warn(e)},sw=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},zc="[MIN_NAME]",Ra="[MAX_NAME]",_d=function(n,e){if(n===e)return 0;if(n===zc||e===Ra)return-1;if(e===zc||n===Ra)return 1;{const t=cY(n),i=cY(e);return null!==t?null!==i?t-i==0?n.length-e.length:t-i:-1:null!==i?1:n<e?-1:1}},Mke=function(n,e){return n===e?0:n<e?-1:1},o_=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+qi(e))},AN=function(n){if("object"!=typeof n||null===n)return qi(n);const e=[];for(const i in n)e.push(i);e.sort();let t="{";for(let i=0;i<e.length;i++)0!==i&&(t+=","),t+=qi(e[i]),t+=":",t+=AN(n[e[i]]);return t+="}",t},sY=function(n,e){const t=n.length;if(t<=e)return[n];const i=[];for(let r=0;r<t;r+=e)i.push(n.substring(r,r+e>t?t:r+e));return i};function Vi(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const aY=function(n){ae(!sw(n),"Invalid JSON number");const i=1023;let r,o,s,a,c;0===n?(o=0,s=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(a=Math.min(Math.floor(Math.log(n)/Math.LN2),i),o=a+i,s=Math.round(n*Math.pow(2,52-a)-Math.pow(2,52))):(o=0,s=Math.round(n/Math.pow(2,-1074))));const l=[];for(c=52;c;c-=1)l.push(s%2?1:0),s=Math.floor(s/2);for(c=11;c;c-=1)l.push(o%2?1:0),o=Math.floor(o/2);l.push(r?1:0),l.reverse();const d=l.join("");let u="";for(c=0;c<64;c+=8){let f=parseInt(d.substr(c,8),2).toString(16);1===f.length&&(f="0"+f),u+=f}return u.toLowerCase()},Ake=new RegExp("^-?(0*)\\d{1,10}$"),cY=function(n){if(Ake.test(n)){const e=Number(n);if(e>=-2147483648&&e<=2147483647)return e}return null},uf=function(n){try{n()}catch(e){setTimeout(()=>{throw gr("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},s_=function(n,e){const t=setTimeout(n,e);return"number"==typeof t&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):"object"==typeof t&&t.unref&&t.unref(),t};class Nke{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){gr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Fke{constructor(e,t,i){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(Li("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',gr(e)}}let a_=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const fY=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,gY="websocket",_Y="long_polling";class PN{constructor(e,t,i,r,o=!1,s="",a=!1,c=!1){this.secure=t,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=md.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&md.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function bY(n,e,t){let i;if(ae("string"==typeof e,"typeof type must == string"),ae("object"==typeof t,"typeof params must == object"),e===gY)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==_Y)throw new Error("Unknown connection type: "+e);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function Lke(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const r=[];return Vi(t,(o,s)=>{r.push(o+"="+s)}),i+r.join("&")}class Vke{constructor(){this.counters_={}}incrementCounter(e,t=1){Ss(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return Nbe(this.counters_)}}const RN={},NN={};function FN(n){const e=n.toString();return RN[e]||(RN[e]=new Vke),RN[e]}class zke{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&uf(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Uc{constructor(e,t,i,r,o,s,a){this.connId=e,this.repoInfo=t,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=r_(e),this.stats_=FN(t),this.urlFn=c=>(this.appCheckToken&&(c.ac=this.appCheckToken),bY(t,_Y,c))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new zke(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if("complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new LN((...o)=>{const[s,a,c,l,d]=o;if(this.incrementIncomingBytes_(o),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===s)this.id=a,this.password=c;else{if("close"!==s)throw new Error("Unrecognized command received: "+s);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...o)=>{const[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&fY.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Uc.forceAllow_=!0}static forceDisallow(){Uc.forceDisallow_=!0}static isAvailable(){return!(!Uc.forceAllow_&&(Uc.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=qi(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=p7(t),r=sY(i,1840);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=e,i.pw=t,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=qi(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class LN{constructor(e,t,i,r){this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=nY(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=LN.createIFrame_();let o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(o='<script>document.domain="'+document.domain+'";<\/script>');const s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){Li("frame writing exception"),a.stack&&Li(a.stack),Li(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Li("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const s=this.pendingSegs.shift();i=i+"&seg"+r+"="+s.seg+"&ts"+r+"="+s.ts+"&d"+r+"="+s.d,r++}return t+=i,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,i){this.pendingSegs.push({seg:e,ts:t,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const i=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(r),i()})}addTag(e,t){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=()=>{Li("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let cw=null;typeof MozWebSocket<"u"?cw=MozWebSocket:typeof WebSocket<"u"&&(cw=WebSocket);let hf=(()=>{class n{constructor(t,i,r,o,s,a,c){this.connId=t,this.applicationId=r,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=r_(this.connId),this.stats_=FN(i),this.connURL=n.connectionURL_(i,a,c,o,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,r,o,s){const a={v:"5"};return typeof location<"u"&&location.hostname&&fY.test(location.hostname)&&(a.r="f"),i&&(a.s=i),r&&(a.ls=r),o&&(a.ac=o),s&&(a.p=s),bY(t,gY,a)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,md.set("previous_websocket_failure",!0);try{let r;0,this.mySock=new cw(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;return o&&this.log_(o),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&null!==cw&&!n.forceDisallow_}static previouslyFailed(){return md.isInMemoryStorage||!0===md.get("previous_websocket_failure")}markConnectionHealthy(){md.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=_m(i);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(ae(null===this.frames,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const i=qi(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=sY(i,16384);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),TY=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[Uc,hf]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const i=hf&&hf.isAvailable();let r=i&&!hf.previouslyFailed();if(t.webSocketOnly&&(i||gr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[hf];else{const o=this.transports_=[];for(const s of n.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class OY{constructor(e,t,i,r,o,s,a,c,l,d){this.id=e,this.repoInfo_=t,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=c,this.onKill_=l,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=r_("c:"+this.id+":"),this.transportManager_=new TY(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,i)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=s_(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=o_("t",e),i=o_("d",e);if("c"===t)this.onSecondaryControl_(i);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=o_("t",e),i=o_("d",e);"c"===t?this.onControl_(i):"d"===t&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=o_("t",e);if("d"in e){const i=e.d;if("h"===t){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(i):"r"===t?this.onReset_(i):"e"===t?kN("Server Error: "+i):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):kN("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==i&&gr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,i),s_(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):s_(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(md.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class PY{put(e,t,i,r){}merge(e,t,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,i){}onDisconnectMerge(e,t,i){}onDisconnectCancel(e,t){}reportStats(e){}}class RY{constructor(e){this.allowedEvents_=e,this.listeners_={},ae(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,t)}}on(e,t,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:i});const r=this.getInitialEvent(e);r&&t.apply(i,r)}off(e,t,i){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let o=0;o<r.length;o++)if(r[o].callback===t&&(!i||i===r[o].context))return void r.splice(o,1)}validateEventType_(e){ae(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class lw extends RY{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!NM()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new lw}getInitialEvent(e){return ae("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class zt{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function St(){return new zt("")}function dt(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function jc(n){return n.pieces_.length-n.pieceNum_}function tn(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new zt(n.pieces_,e)}function BN(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function c_(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function LY(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new zt(e,0)}function Dn(n,e){const t=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)t.push(n.pieces_[i]);if(e instanceof zt)for(let i=e.pieceNum_;i<e.pieces_.length;i++)t.push(e.pieces_[i]);else{const i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&t.push(i[r])}return new zt(t,0)}function ut(n){return n.pieceNum_>=n.pieces_.length}function Sr(n,e){const t=dt(n),i=dt(e);if(null===t)return e;if(t===i)return Sr(tn(n),tn(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function zN(n,e){if(jc(n)!==jc(e))return!1;for(let t=n.pieceNum_,i=e.pieceNum_;t<=n.pieces_.length;t++,i++)if(n.pieces_[t]!==e.pieces_[i])return!1;return!0}function Eo(n,e){let t=n.pieceNum_,i=e.pieceNum_;if(jc(n)>jc(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[i])return!1;++t,++i}return!0}class lAe{constructor(e,t){this.errorPrefix_=t,this.parts_=c_(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=Zy(this.parts_[i]);VY(this)}}function VY(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+bd(n))}function bd(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class UN extends RY{constructor(){let e,t;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new UN}getInitialEvent(e){return ae("visible"===e,"Unknown event type: "+e),[this.visible_]}}const l_=1e3;let uw,yd=(()=>{class n extends PY{constructor(t,i,r,o,s,a,c,l){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=l,this.id=n.nextPersistentConnectionId_++,this.log_=r_("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=l_,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");UN.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&lw.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,r){const o=++this.requestNumber_,s={r:o,a:t,b:i};this.log_(qi(s)),ae(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[o]=r)}get(t){this.initConnection_();const i=new ch,o={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:a=>{const c=a.d;"ok"===a.s?i.resolve(c):i.reject(c)}};return this.outstandingGets_.push(o),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(t,i,r,o){this.initConnection_();const s=t._queryIdentifier,a=t._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),ae(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ae(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");const c={onComplete:o,hashFn:i,query:t,tag:r};this.listens.get(a).set(s,c),this.connected_&&this.sendListen_(c)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(t){const i=t.query,r=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+r+" for "+o);const s={p:r};t.tag&&(s.q=i._queryObject,s.t=t.tag),s.h=t.hashFn(),this.sendRequest("q",s,c=>{const l=c.d,d=c.s;n.warnOnListenWarnings_(l,i),(this.listens.get(r)&&this.listens.get(r).get(o))===t&&(this.log_("listen response",c),"ok"!==d&&this.removeListen_(r,o),t.onComplete&&t.onComplete(d,l))})}static warnOnListenWarnings_(t,i){if(t&&"object"==typeof t&&Ss(t,"w")){const r=lh(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',s=i._path.toString();gr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||function(n){const e=Yy(n).claims;return"object"==typeof e&&!0===e.admin}(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=function(n){const t=Yy(n).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,o=>{const s=o.s,a=o.d||"error";this.authToken_===t&&("ok"===s?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,r=t.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(t,i){const r=t._path.toString(),o=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),ae(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,t._queryObject,i)}sendUnlisten_(t,i,r,o){this.log_("Unlisten on "+t+" for "+i);const s={p:t};o&&(s.q=r,s.t=o),this.sendRequest("n",s)}onDisconnectPut(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:r})}onDisconnectMerge(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:r})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,r,o){const s={p:i,d:r};this.log_("onDisconnect "+t,s),this.sendRequest(t,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(t,i,r,o){this.putInternal("p",t,i,r,o)}merge(t,i,r,o){this.putInternal("m",t,i,r,o)}putInternal(t,i,r,o,s){this.initConnection_();const a={p:i,d:r};void 0!==s&&(a.h=s),this.outstandingPuts_.push({action:t,request:a,onComplete:o}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,o=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,r,s=>{this.log_(i+" response",s),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+qi(t));const i=t.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),"d"===t?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===t?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===t?this.onListenRevoked_(i.p,i.q):"ac"===t?this.onAuthRevoked_(i.s,i.d):"apc"===t?this.onAppCheckRevoked_(i.s,i.d):"sd"===t?this.onSecurityDebugPacket_(i):kN("Unrecognized action received from server: "+qi(t)+"\nAre you using the latest client?")}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){ae(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=l_,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=l_,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=l_),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return _(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const i=t.onDataMessage_.bind(t),r=t.onReady_.bind(t),o=t.onRealtimeDisconnect_.bind(t),s=t.id+":"+n.nextConnectionId_++,a=t.lastSessionId;let c=!1,l=null;const d=function(){l?l.close():(c=!0,o())};t.realtime_={close:d,sendRequest:function(m){ae(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(m)}};const f=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[m,y]=yield Promise.all([t.authTokenProvider_.getToken(f),t.appCheckTokenProvider_.getToken(f)]);c?Li("getToken() completed but was canceled"):(Li("getToken() completed. Creating connection."),t.authToken_=m&&m.accessToken,t.appCheckToken_=y&&y.token,l=new OY(s,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,i,r,o,C=>{gr(C+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},a))}catch(m){t.log_("Failed to get token: "+m),c||(t.repoInfo_.nodeAdmin&&gr(m),d())}}})()}interrupt(t){Li("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Li("Resuming connection for reason: "+t),delete this.interruptReasons_[t],VM(this.interruptReasons_)&&(this.reconnectDelay_=l_,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let r;r=i?i.map(s=>AN(s)).join("$"):"default";const o=this.removeListen_(t,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(t,i){const r=new zt(t).toString();let o;if(this.listens.has(r)){const s=this.listens.get(r);o=s.get(i),s.delete(i),0===s.size&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(t,i){Li("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){Li("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";t["sdk."+i+"."+DN.replace(/\./g,"-")]=1,NM()?t["framework.cordova"]=1:v7()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=lw.getInstance().currentlyOnline();return VM(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class pt{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new pt(e,t)}}class dw{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const i=new pt(zc,e),r=new pt(zc,t);return 0!==this.compare(i,r)}minPost(){return pt.MIN}}class UY extends dw{static get __EMPTY_NODE(){return uw}static set __EMPTY_NODE(e){uw=e}compare(e,t){return _d(e.name,t.name)}isDefinedOn(e){throw ah("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return pt.MIN}maxPost(){return new pt(Ra,uw)}makePost(e,t){return ae("string"==typeof e,"KeyIndex indexValue must always be a string."),new pt(e,uw)}toString(){return".key"}}const Hs=new UY;class hw{constructor(e,t,i,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(s=t?i(e.key,t):1,r&&(s*=-1),s<0)e=this.isReverse_?e.left:e.right;else{if(0===s){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let HN,Yo=(()=>{class n{constructor(t,i,r,o,s){this.key=t,this.value=i,this.color=r??n.RED,this.left=o??Wr.EMPTY_NODE,this.right=s??Wr.EMPTY_NODE}copy(t,i,r,o,s){return new n(t??this.key,i??this.value,r??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let o=this;const s=r(t,o.key);return o=s<0?o.copy(null,null,null,o.left.insert(t,i,r),null):0===s?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Wr.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let r,o;if(r=this,i(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(t,r.key)){if(r.right.isEmpty())return Wr.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Wr{constructor(e,t=Wr.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Wr(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Yo.BLACK,null,null))}remove(e){return new Wr(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Yo.BLACK,null,null))}get(e){let t,i=this.root_;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t)return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}getPredecessorKey(e){let t,i=this.root_,r=null;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}t<0?i=i.left:t>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new hw(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new hw(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new hw(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new hw(this.root_,null,this.comparator_,!0,e)}}function _Ae(n,e){return _d(n.name,e.name)}function jN(n,e){return _d(n,e)}Wr.EMPTY_NODE=new class gAe{copy(e,t,i,r,o){return this}insert(e,t,i){return new Yo(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const jY=function(n){return"number"==typeof n?"number:"+aY(n):"string:"+n},HY=function(n){if(n.isLeafNode()){const e=n.val();ae("string"==typeof e||"number"==typeof e||"object"==typeof e&&Ss(e,".sv"),"Priority must be a string or number.")}else ae(n===HN||n.isEmpty(),"priority of unexpected type.");ae(n===HN||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let $Y,GY,qY,ff=(()=>{class n{constructor(t,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,ae(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),HY(this.priorityNode_)}static set __childrenNodeConstructor(t){$Y=t}static get __childrenNodeConstructor(){return $Y}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return ut(t)?this:".priority"===dt(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return".priority"===t?this.updatePriority(i):i.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const r=dt(t);return null===r?i:i.isEmpty()&&".priority"!==r?this:(ae(".priority"!==r||1===jc(t),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(tn(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+jY(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",t+="number"===i?aY(this.value_):this.value_,this.lazyHash_=iY(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:(ae(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,r=typeof this.value_,o=n.VALUE_TYPE_ORDER.indexOf(i),s=n.VALUE_TYPE_ORDER.indexOf(r);return ae(o>=0,"Unknown leaf type: "+i),ae(s>=0,"Unknown leaf type: "+r),o===s?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(t){return t===this||!!t.isLeafNode()&&(this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const fn=new class xAe extends dw{compare(e,t){const i=e.node.getPriority(),r=t.node.getPriority(),o=i.compareTo(r);return 0===o?_d(e.name,t.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return pt.MIN}maxPost(){return new pt(Ra,new ff("[PRIORITY-POST]",qY))}makePost(e,t){const i=GY(e);return new pt(t,new ff("[PRIORITY-POST]",i))}toString(){return".priority"}},wAe=Math.log(2);class CAe{constructor(e){this.count=parseInt(Math.log(e+1)/wAe,10),this.current_=this.count-1;const r=(o=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const fw=function(n,e,t,i){n.sort(e);const r=function(c,l){const d=l-c;let u,f;if(0===d)return null;if(1===d)return u=n[c],f=t?t(u):u,new Yo(f,u.node,Yo.BLACK,null,null);{const m=parseInt(d/2,10)+c,y=r(c,m),C=r(m+1,l);return u=n[m],f=t?t(u):u,new Yo(f,u.node,Yo.BLACK,y,C)}},a=function(c){let l=null,d=null,u=n.length;const f=function(y,C){const T=u-y,S=u;u-=y;const D=r(T+1,S),L=n[T],Y=t?t(L):L;m(new Yo(Y,L.node,C,null,D))},m=function(y){l?(l.left=y,l=y):(d=y,l=y)};for(let y=0;y<c.count;++y){const C=c.nextBitIsOne(),T=Math.pow(2,c.count-(y+1));C?f(T,Yo.BLACK):(f(T,Yo.BLACK),f(T,Yo.RED))}return d}(new CAe(n.length));return new Wr(i||e,a)};let $N;const pf={};class Na{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return ae(pf&&fn,"ChildrenNode.ts has not been loaded"),$N=$N||new Na({".priority":pf},{".priority":fn}),$N}get(e){const t=lh(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Wr?t:null}hasIndex(e){return Ss(this.indexSet_,e.toString())}addIndex(e,t){ae(e!==Hs,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const o=t.getIterator(pt.Wrap);let a,s=o.getNext();for(;s;)r=r||e.isDefinedOn(s.node),i.push(s),s=o.getNext();a=r?fw(i,e.getCompare()):pf;const c=e.toString(),l=Object.assign({},this.indexSet_);l[c]=e;const d=Object.assign({},this.indexes_);return d[c]=a,new Na(d,l)}addToIndexes(e,t){const i=Qy(this.indexes_,(r,o)=>{const s=lh(this.indexSet_,o);if(ae(s,"Missing index implementation for "+o),r===pf){if(s.isDefinedOn(e.node)){const a=[],c=t.getIterator(pt.Wrap);let l=c.getNext();for(;l;)l.name!==e.name&&a.push(l),l=c.getNext();return a.push(e),fw(a,s.getCompare())}return pf}{const a=t.get(e.name);let c=r;return a&&(c=c.remove(new pt(e.name,a))),c.insert(e,e.node)}});return new Na(i,this.indexSet_)}removeFromIndexes(e,t){const i=Qy(this.indexes_,r=>{if(r===pf)return r;{const o=t.get(e.name);return o?r.remove(new pt(e.name,o)):r}});return new Na(i,this.indexSet_)}}let d_,et=(()=>{class n{constructor(t,i,r){this.children_=t,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&HY(this.priorityNode_),this.children_.isEmpty()&&ae(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return d_||(d_=new n(new Wr(jN),null,Na.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||d_}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const i=this.children_.get(t);return null===i?d_:i}}getChild(t){const i=dt(t);return null===i?this:this.getImmediateChild(i).getChild(tn(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,i){if(ae(i,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(i);{const r=new pt(t,i);let o,s;i.isEmpty()?(o=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(t,i),s=this.indexMap_.addToIndexes(r,this.children_));const a=o.isEmpty()?d_:this.priorityNode_;return new n(o,a,s)}}updateChild(t,i){const r=dt(t);if(null===r)return i;{ae(".priority"!==dt(t)||1===jc(t),".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild(tn(t),i);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let r=0,o=0,s=!0;if(this.forEachChild(fn,(a,c)=>{i[a]=c.val(t),r++,s&&n.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!t&&s&&o<2*r){const a=[];for(const c in i)a[c]=i[c];return a}return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+jY(this.getPriority().val())+":"),this.forEachChild(fn,(i,r)=>{const o=r.hash();""!==o&&(t+=":"+i+":"+o)}),this.lazyHash_=""===t?"":iY(t)}return this.lazyHash_}getPredecessorChildName(t,i,r){const o=this.resolveIndex_(r);if(o){const s=o.getPredecessorKey(new pt(t,i));return s?s.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new pt(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new pt(i,this.children_.get(i)):null}forEachChild(t,i){const r=this.resolveIndex_(t);return r?r.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(t,o=>o);{const o=this.children_.getIteratorFrom(t.name,pt.Wrap);let s=o.peek();for(;null!=s&&i.compare(s,t)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(t,o=>o);{const o=this.children_.getReverseIteratorFrom(t.name,pt.Wrap);let s=o.peek();for(;null!=s&&i.compare(s,t)>0;)o.getNext(),s=o.peek();return o}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===u_?-1:0}withIndex(t){if(t===Hs||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===Hs||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(fn),o=i.getIterator(fn);let s=r.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=r.getNext(),a=o.getNext()}return null===s&&null===a}return!1}return!1}}resolveIndex_(t){return t===Hs?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const u_=new class EAe extends et{constructor(){super(new Wr(jN),et.EMPTY_NODE,Na.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return et.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(pt,{MIN:{value:new pt(zc,et.EMPTY_NODE)},MAX:{value:new pt(Ra,u_)}}),UY.__EMPTY_NODE=et.EMPTY_NODE,ff.__childrenNodeConstructor=et,function bAe(n){HN=n}(u_),function vAe(n){qY=n}(u_);const TAe=!0;function Ln(n,e=null){if(null===n)return et.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),ae(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new ff(n,Ln(e));if(n instanceof Array||!TAe){let t=et.EMPTY_NODE;return Vi(n,(i,r)=>{if(Ss(n,i)&&"."!==i.substring(0,1)){const o=Ln(r);(o.isLeafNode()||!o.isEmpty())&&(t=t.updateImmediateChild(i,o))}}),t.updatePriority(Ln(e))}{const t=[];let i=!1;if(Vi(n,(s,a)=>{if("."!==s.substring(0,1)){const c=Ln(a);c.isEmpty()||(i=i||!c.getPriority().isEmpty(),t.push(new pt(s,c)))}}),0===t.length)return et.EMPTY_NODE;const o=fw(t,_Ae,s=>s.name,jN);if(i){const s=fw(t,fn.getCompare());return new et(o,Ln(e),new Na({".priority":s},{".priority":fn}))}return new et(o,Ln(e),Na.Default)}}!function yAe(n){GY=n}(Ln);class GN extends dw{constructor(e){super(),this.indexPath_=e,ae(!ut(e)&&".priority"!==dt(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const i=this.extractChild(e.node),r=this.extractChild(t.node),o=i.compareTo(r);return 0===o?_d(e.name,t.name):o}makePost(e,t){const i=Ln(e),r=et.EMPTY_NODE.updateChild(this.indexPath_,i);return new pt(t,r)}maxPost(){const e=et.EMPTY_NODE.updateChild(this.indexPath_,u_);return new pt(Ra,e)}toString(){return c_(this.indexPath_,0).join("/")}}const qN=new class IAe extends dw{compare(e,t){const i=e.node.compareTo(t.node);return 0===i?_d(e.name,t.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return pt.MIN}maxPost(){return pt.MAX}makePost(e,t){const i=Ln(e);return new pt(t,i)}toString(){return".value"}};function f_(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class KN{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=fn}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return ae(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ae(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:zc}hasEnd(){return this.endSet_}getIndexEndValue(){return ae(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ae(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ra}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return ae(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===fn}copy(){const e=new KN;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function KY(n){const e={};if(n.isDefault())return e;let t;if(n.index_===fn?t="$priority":n.index_===qN?t="$value":n.index_===Hs?t="$key":(ae(n.index_ instanceof GN,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=qi(t),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";e[i]=qi(n.indexStartValue_),n.startNameSet_&&(e[i]+=","+qi(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";e[i]=qi(n.indexEndValue_),n.endNameSet_&&(e[i]+=","+qi(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function YY(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==fn&&(e.i=n.index_.toString()),e}class mw extends PY{constructor(e,t,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=r_("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(ae(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,i,r){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const s=mw.getListenId_(e,i),a={};this.listens_[s]=a;const c=KY(e._queryParams);this.restRequest_(o+".json",c,(l,d)=>{let u=d;if(404===l&&(u=null,l=null),null===l&&this.onDataUpdate_(o,u,!1,i),lh(this.listens_,s)===a){let f;f=l?401===l?"permission_denied":"rest_error:"+l:"ok",r(f,null)}})}unlisten(e,t){const i=mw.getListenId_(e,t);delete this.listens_[i]}get(e){const t=KY(e._queryParams),i=e._path.toString(),r=new ch;return this.restRequest_(i+".json",t,(o,s)=>{let a=s;404===o&&(a=null,o=null),null===o?(this.onDataUpdate_(i,a,!1,null),r.resolve(a)):r.reject(new Error(a))}),r.promise}refreshAuthToken(e){}restRequest_(e,t={},i){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,o])=>{r&&r.accessToken&&(t.auth=r.accessToken),o&&o.token&&(t.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+dh(t);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(i&&4===a.readyState){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=_m(a.responseText)}catch{gr("Failed to parse JSON response for "+s+": "+a.responseText)}i(null,c)}else 401!==a.status&&404!==a.status&&gr("Got unsuccessful REST response for "+s+" Status: "+a.status),i(a.status);i=null}},a.open("GET",s,!0),a.send()})}}class RAe{constructor(){this.rootNode_=et.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function gw(){return{value:null,children:new Map}}function gf(n,e,t){if(ut(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const i=dt(e);n.children.has(i)||n.children.set(i,gw()),gf(n.children.get(i),e=tn(e),t)}}function ZN(n,e,t){null!==n.value?t(e,n.value):function NAe(n,e){n.children.forEach((t,i)=>{e(i,t)})}(n,(i,r)=>{ZN(r,new zt(e.toString()+"/"+i),t)})}class FAe{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Vi(this.last_,(i,r)=>{t[i]=t[i]-r}),this.last_=e,t}}class BAe{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new FAe(e);const i=1e4+2e4*Math.random();s_(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),t={};let i=!1;Vi(e,(r,o)=>{o>0&&Ss(this.statsToReport_,r)&&(t[r]=o,i=!0)}),i&&this.server_.reportStats(t),s_(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var $s=function(n){return n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",n}($s||{});function t2(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class _w{constructor(e,t,i){this.path=e,this.affectedTree=t,this.revert=i,this.type=$s.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(ut(this.path)){if(null!=this.affectedTree.value)return ae(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new zt(e));return new _w(St(),t,this.revert)}}return ae(dt(this.path)===e,"operationForChild called for unrelated child."),new _w(tn(this.path),this.affectedTree,this.revert)}}class vd{constructor(e,t,i){this.source=e,this.path=t,this.snap=i,this.type=$s.OVERWRITE}operationForChild(e){return ut(this.path)?new vd(this.source,St(),this.snap.getImmediateChild(e)):new vd(this.source,tn(this.path),this.snap)}}class _f{constructor(e,t,i){this.source=e,this.path=t,this.children=i,this.type=$s.MERGE}operationForChild(e){if(ut(this.path)){const t=this.children.subtree(new zt(e));return t.isEmpty()?null:t.value?new vd(this.source,St(),t.value):new _f(this.source,St(),t)}return ae(dt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new _f(this.source,tn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Hc{constructor(e,t,i){this.node_=e,this.fullyInitialized_=t,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ut(e))return this.isFullyInitialized()&&!this.filtered_;const t=dt(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function g_(n,e,t,i,r,o){const s=i.filter(a=>a.type===t);s.sort((a,c)=>function HAe(n,e,t){if(null==e.childName||null==t.childName)throw ah("Should only compare child_ events.");const i=new pt(e.childName,e.snapshotNode),r=new pt(t.childName,t.snapshotNode);return n.index_.compare(i,r)}(n,a,c)),s.forEach(a=>{const c=function jAe(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,a,o);r.forEach(l=>{l.respondsTo(a.type)&&e.push(l.createEvent(c,n.query_))})})}function bw(n,e){return{eventCache:n,serverCache:e}}function __(n,e,t,i){return bw(new Hc(e,t,i),n.serverCache)}function XY(n,e,t,i){return bw(n.eventCache,new Hc(e,t,i))}function yw(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function xd(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let n2;class pn{constructor(e,t=(()=>(n2||(n2=new Wr(Mke)),n2))()){this.value=e,this.children=t}static fromObject(e){let t=new pn(null);return Vi(e,(i,r)=>{t=t.set(new zt(i),r)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:St(),value:this.value};if(ut(e))return null;{const i=dt(e),r=this.children.get(i);if(null!==r){const o=r.findRootMostMatchingPathAndValue(tn(e),t);return null!=o?{path:Dn(new zt(i),o.path),value:o.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ut(e))return this;{const t=dt(e),i=this.children.get(t);return null!==i?i.subtree(tn(e)):new pn(null)}}set(e,t){if(ut(e))return new pn(t,this.children);{const i=dt(e),o=(this.children.get(i)||new pn(null)).set(tn(e),t),s=this.children.insert(i,o);return new pn(this.value,s)}}remove(e){if(ut(e))return this.children.isEmpty()?new pn(null):new pn(null,this.children);{const t=dt(e),i=this.children.get(t);if(i){const r=i.remove(tn(e));let o;return o=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&o.isEmpty()?new pn(null):new pn(this.value,o)}return this}}get(e){if(ut(e))return this.value;{const t=dt(e),i=this.children.get(t);return i?i.get(tn(e)):null}}setTree(e,t){if(ut(e))return t;{const i=dt(e),o=(this.children.get(i)||new pn(null)).setTree(tn(e),t);let s;return s=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new pn(this.value,s)}}fold(e){return this.fold_(St(),e)}fold_(e,t){const i={};return this.children.inorderTraversal((r,o)=>{i[r]=o.fold_(Dn(e,r),t)}),t(e,this.value,i)}findOnPath(e,t){return this.findOnPath_(e,St(),t)}findOnPath_(e,t,i){const r=!!this.value&&i(t,this.value);if(r)return r;if(ut(e))return null;{const o=dt(e),s=this.children.get(o);return s?s.findOnPath_(tn(e),Dn(t,o),i):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,St(),t)}foreachOnPath_(e,t,i){if(ut(e))return this;{this.value&&i(t,this.value);const r=dt(e),o=this.children.get(r);return o?o.foreachOnPath_(tn(e),Dn(t,r),i):new pn(null)}}foreach(e){this.foreach_(St(),e)}foreach_(e,t){this.children.inorderTraversal((i,r)=>{r.foreach_(Dn(e,i),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,i)=>{i.value&&e(t,i.value)})}}class Qo{constructor(e){this.writeTree_=e}static empty(){return new Qo(new pn(null))}}function b_(n,e,t){if(ut(e))return new Qo(new pn(t));{const i=n.writeTree_.findRootMostValueAndPath(e);if(null!=i){const r=i.path;let o=i.value;const s=Sr(r,e);return o=o.updateChild(s,t),new Qo(n.writeTree_.set(r,o))}{const r=new pn(t),o=n.writeTree_.setTree(e,r);return new Qo(o)}}}function r2(n,e,t){let i=n;return Vi(t,(r,o)=>{i=b_(i,Dn(e,r),o)}),i}function ZY(n,e){if(ut(e))return Qo.empty();{const t=n.writeTree_.setTree(e,new pn(null));return new Qo(t)}}function o2(n,e){return null!=wd(n,e)}function wd(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(Sr(t.path,e)):null}function JY(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(fn,(i,r)=>{e.push(new pt(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&e.push(new pt(i,r.value))}),e}function $c(n,e){if(ut(e))return n;{const t=wd(n,e);return new Qo(null!=t?new pn(t):n.writeTree_.subtree(e))}}function s2(n){return n.writeTree_.isEmpty()}function bf(n,e){return eQ(St(),n.writeTree_,e)}function eQ(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let i=null;return e.children.inorderTraversal((r,o)=>{".priority"===r?(ae(null!==o.value,"Priority writes must always be leaf nodes"),i=o.value):t=eQ(Dn(n,r),o,t)}),!t.getChild(n).isEmpty()&&null!==i&&(t=t.updateChild(Dn(n,".priority"),i)),t}}function vw(n,e){return oQ(e,n)}function YAe(n,e){if(n.snap)return Eo(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&Eo(Dn(n.path,t),e))return!0;return!1}function XAe(n){return n.visible}function tQ(n,e,t){let i=Qo.empty();for(let r=0;r<n.length;++r){const o=n[r];if(e(o)){const s=o.path;let a;if(o.snap)Eo(t,s)?(a=Sr(t,s),i=b_(i,a,o.snap)):Eo(s,t)&&(a=Sr(s,t),i=b_(i,St(),o.snap.getChild(a)));else{if(!o.children)throw ah("WriteRecord should have .snap or .children");if(Eo(t,s))a=Sr(t,s),i=r2(i,a,o.children);else if(Eo(s,t))if(a=Sr(s,t),ut(a))i=r2(i,St(),o.children);else{const c=lh(o.children,dt(a));if(c){const l=c.getChild(tn(a));i=b_(i,St(),l)}}}}}return i}function nQ(n,e,t,i,r){if(i||r){const o=$c(n.visibleWrites,e);return!r&&s2(o)?t:r||null!=t||o2(o,St())?bf(tQ(n.allWrites,function(l){return(l.visible||r)&&(!i||!~i.indexOf(l.writeId))&&(Eo(l.path,e)||Eo(e,l.path))},e),t||et.EMPTY_NODE):null}{const o=wd(n.visibleWrites,e);if(null!=o)return o;{const s=$c(n.visibleWrites,e);return s2(s)?t:null!=t||o2(s,St())?bf(s,t||et.EMPTY_NODE):null}}}function xw(n,e,t,i){return nQ(n.writeTree,n.treePath,e,t,i)}function a2(n,e){return function ZAe(n,e,t){let i=et.EMPTY_NODE;const r=wd(n.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(fn,(o,s)=>{i=i.updateImmediateChild(o,s)}),i;if(t){const o=$c(n.visibleWrites,e);return t.forEachChild(fn,(s,a)=>{const c=bf($c(o,new zt(s)),a);i=i.updateImmediateChild(s,c)}),JY(o).forEach(s=>{i=i.updateImmediateChild(s.name,s.node)}),i}return JY($c(n.visibleWrites,e)).forEach(s=>{i=i.updateImmediateChild(s.name,s.node)}),i}(n.writeTree,n.treePath,e)}function iQ(n,e,t,i){return function JAe(n,e,t,i,r){ae(i||r,"Either existingEventSnap or existingServerSnap must exist");const o=Dn(e,t);if(o2(n.visibleWrites,o))return null;{const s=$c(n.visibleWrites,o);return s2(s)?r.getChild(t):bf(s,r.getChild(t))}}(n.writeTree,n.treePath,e,t,i)}function ww(n,e){return function tOe(n,e){return wd(n.visibleWrites,e)}(n.writeTree,Dn(n.treePath,e))}function c2(n,e,t){return function eOe(n,e,t,i){const r=Dn(e,t),o=wd(n.visibleWrites,r);return null!=o?o:i.isCompleteForChild(t)?bf($c(n.visibleWrites,r),i.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function rQ(n,e){return oQ(Dn(n.treePath,e),n.writeTree)}function oQ(n,e){return{treePath:n,writeTree:e}}class oOe{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,i=e.childName;ae("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),ae(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const o=r.type;if("child_added"===t&&"child_removed"===o)this.changeMap.set(i,f_(i,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===o)this.changeMap.delete(i);else if("child_removed"===t&&"child_changed"===o)this.changeMap.set(i,function h_(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}(i,r.oldSnap));else if("child_changed"===t&&"child_added"===o)this.changeMap.set(i,function mf(n,e){return{type:"child_added",snapshotNode:e,childName:n}}(i,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==o)throw ah("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(i,f_(i,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}const sQ=new class sOe{getCompleteChild(e){return null}getChildAfterChild(e,t,i){return null}};class l2{constructor(e,t,i=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=i}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const i=null!=this.optCompleteServerCache_?new Hc(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return c2(this.writes_,e,i)}}getChildAfterChild(e,t,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:xd(this.viewCache_),o=function rOe(n,e,t,i,r,o){return function nOe(n,e,t,i,r,o,s){let a;const c=$c(n.visibleWrites,e),l=wd(c,St());if(null!=l)a=l;else{if(null==t)return[];a=bf(c,t)}if(a=a.withIndex(s),a.isEmpty()||a.isLeafNode())return[];{const d=[],u=s.getCompare(),f=o?a.getReverseIteratorFrom(i,s):a.getIteratorFrom(i,s);let m=f.getNext();for(;m&&d.length<r;)0!==u(m,i)&&d.push(m),m=f.getNext();return d}}(n.writeTree,n.treePath,e,t,i,r,o)}(this.writes_,r,t,1,i,e);return 0===o.length?null:o[0]}}function aQ(n,e,t,i,r,o){const s=e.eventCache;if(null!=ww(i,t))return e;{let a,c;if(ut(t))if(ae(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const l=xd(e),u=a2(i,l instanceof et?l:et.EMPTY_NODE);a=n.filter.updateFullNode(e.eventCache.getNode(),u,o)}else{const l=xw(i,xd(e));a=n.filter.updateFullNode(e.eventCache.getNode(),l,o)}else{const l=dt(t);if(".priority"===l){ae(1===jc(t),"Can't have a priority with additional path components");const d=s.getNode();c=e.serverCache.getNode();const u=iQ(i,t,d,c);a=null!=u?n.filter.updatePriority(d,u):s.getNode()}else{const d=tn(t);let u;if(s.isCompleteForChild(l)){c=e.serverCache.getNode();const f=iQ(i,t,s.getNode(),c);u=null!=f?s.getNode().getImmediateChild(l).updateChild(d,f):s.getNode().getImmediateChild(l)}else u=c2(i,l,e.serverCache);a=null!=u?n.filter.updateChild(s.getNode(),l,u,d,r,o):s.getNode()}}return __(e,a,s.isFullyInitialized()||ut(t),n.filter.filtersNodes())}}function Cw(n,e,t,i,r,o,s,a){const c=e.serverCache;let l;const d=s?n.filter:n.filter.getIndexedFilter();if(ut(t))l=d.updateFullNode(c.getNode(),i,null);else if(d.filtersNodes()&&!c.isFiltered()){const m=c.getNode().updateChild(t,i);l=d.updateFullNode(c.getNode(),m,null)}else{const m=dt(t);if(!c.isCompleteForPath(t)&&jc(t)>1)return e;const y=tn(t),T=c.getNode().getImmediateChild(m).updateChild(y,i);l=".priority"===m?d.updatePriority(c.getNode(),T):d.updateChild(c.getNode(),m,T,y,sQ,null)}const u=XY(e,l,c.isFullyInitialized()||ut(t),d.filtersNodes());return aQ(n,u,t,r,new l2(r,u,o),a)}function d2(n,e,t,i,r,o,s){const a=e.eventCache;let c,l;const d=new l2(r,e,o);if(ut(t))l=n.filter.updateFullNode(e.eventCache.getNode(),i,s),c=__(e,l,!0,n.filter.filtersNodes());else{const u=dt(t);if(".priority"===u)l=n.filter.updatePriority(e.eventCache.getNode(),i),c=__(e,l,a.isFullyInitialized(),a.isFiltered());else{const f=tn(t),m=a.getNode().getImmediateChild(u);let y;if(ut(f))y=i;else{const C=d.getCompleteChild(u);y=null!=C?".priority"===BN(f)&&C.getChild(LY(f)).isEmpty()?C:C.updateChild(f,i):et.EMPTY_NODE}c=m.equals(y)?e:__(e,n.filter.updateChild(a.getNode(),u,y,f,d,s),a.isFullyInitialized(),n.filter.filtersNodes())}}return c}function cQ(n,e){return n.eventCache.isCompleteForChild(e)}function lQ(n,e,t){return t.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function u2(n,e,t,i,r,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l,c=e;l=ut(t)?i:new pn(null).setTree(t,i);const d=e.serverCache.getNode();return l.children.inorderTraversal((u,f)=>{if(d.hasChild(u)){const y=lQ(0,e.serverCache.getNode().getImmediateChild(u),f);c=Cw(n,c,new zt(u),y,r,o,s,a)}}),l.children.inorderTraversal((u,f)=>{const m=!e.serverCache.isCompleteForChild(u)&&null===f.value;if(!d.hasChild(u)&&!m){const C=lQ(0,e.serverCache.getNode().getImmediateChild(u),f);c=Cw(n,c,new zt(u),C,r,o,s,a)}}),c}function bOe(n,e){const t=xd(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!ut(e)&&!t.getImmediateChild(dt(e)).isEmpty())?t.getChild(e):null}function hQ(n,e,t,i){e.type===$s.MERGE&&null!==e.source.queryId&&(ae(xd(n.viewCache_),"We should always have a full cache before handling merges"),ae(yw(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,o=function lOe(n,e,t,i,r){const o=new oOe;let s,a;if(t.type===$s.OVERWRITE){const l=t;l.source.fromUser?s=d2(n,e,l.path,l.snap,i,r,o):(ae(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered()&&!ut(l.path),s=Cw(n,e,l.path,l.snap,i,r,a,o))}else if(t.type===$s.MERGE){const l=t;l.source.fromUser?s=function uOe(n,e,t,i,r,o,s){let a=e;return i.foreach((c,l)=>{const d=Dn(t,c);cQ(e,dt(d))&&(a=d2(n,a,d,l,r,o,s))}),i.foreach((c,l)=>{const d=Dn(t,c);cQ(e,dt(d))||(a=d2(n,a,d,l,r,o,s))}),a}(n,e,l.path,l.children,i,r,o):(ae(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered(),s=u2(n,e,l.path,l.children,i,r,a,o))}else if(t.type===$s.ACK_USER_WRITE){const l=t;s=l.revert?function pOe(n,e,t,i,r,o){let s;if(null!=ww(i,t))return e;{const a=new l2(i,e,r),c=e.eventCache.getNode();let l;if(ut(t)||".priority"===dt(t)){let d;if(e.serverCache.isFullyInitialized())d=xw(i,xd(e));else{const u=e.serverCache.getNode();ae(u instanceof et,"serverChildren would be complete if leaf node"),d=a2(i,u)}l=n.filter.updateFullNode(c,d,o)}else{const d=dt(t);let u=c2(i,d,e.serverCache);null==u&&e.serverCache.isCompleteForChild(d)&&(u=c.getImmediateChild(d)),l=null!=u?n.filter.updateChild(c,d,u,tn(t),a,o):e.eventCache.getNode().hasChild(d)?n.filter.updateChild(c,d,et.EMPTY_NODE,tn(t),a,o):c,l.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=xw(i,xd(e)),s.isLeafNode()&&(l=n.filter.updateFullNode(l,s,o)))}return s=e.serverCache.isFullyInitialized()||null!=ww(i,St()),__(e,l,s,n.filter.filtersNodes())}}(n,e,l.path,i,r,o):function hOe(n,e,t,i,r,o,s){if(null!=ww(r,t))return e;const a=e.serverCache.isFiltered(),c=e.serverCache;if(null!=i.value){if(ut(t)&&c.isFullyInitialized()||c.isCompleteForPath(t))return Cw(n,e,t,c.getNode().getChild(t),r,o,a,s);if(ut(t)){let l=new pn(null);return c.getNode().forEachChild(Hs,(d,u)=>{l=l.set(new zt(d),u)}),u2(n,e,t,l,r,o,a,s)}return e}{let l=new pn(null);return i.foreach((d,u)=>{const f=Dn(t,d);c.isCompleteForPath(f)&&(l=l.set(d,c.getNode().getChild(f)))}),u2(n,e,t,l,r,o,a,s)}}(n,e,l.path,l.affectedTree,i,r,o)}else{if(t.type!==$s.LISTEN_COMPLETE)throw ah("Unknown operation type: "+t.type);s=function fOe(n,e,t,i,r){const o=e.serverCache;return aQ(n,XY(e,o.getNode(),o.isFullyInitialized()||ut(t),o.isFiltered()),t,i,sQ,r)}(n,e,t.path,i,o)}const c=o.getChanges();return function dOe(n,e,t){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=yw(n);(t.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&t.push(function WY(n){return{type:"value",snapshotNode:n}}(yw(e)))}}(e,s,c),{viewCache:s,changes:c}}(n.processor_,r,e,t,i);return function cOe(n,e){ae(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),ae(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,o.viewCache),ae(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=o.viewCache,function fQ(n,e,t,i){return function UAe(n,e,t,i){const r=[],o=[];return e.forEach(s=>{"child_changed"===s.type&&n.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(function MAe(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(s.childName,s.snapshotNode))}),g_(n,r,"child_removed",e,i,t),g_(n,r,"child_added",e,i,t),g_(n,r,"child_moved",o,i,t),g_(n,r,"child_changed",e,i,t),g_(n,r,"value",e,i,t),r}(n.eventGenerator_,e,t,i?[i]:n.eventRegistrations_)}(n,o.changes,o.viewCache.eventCache.getNode(),null)}let Ew,Iw;function h2(n,e,t,i){const r=e.source.queryId;if(null!==r){const o=n.views.get(r);return ae(null!=o,"SyncTree gave us an op for an invalid query."),hQ(o,e,t,i)}{let o=[];for(const s of n.views.values())o=o.concat(hQ(s,e,t,i));return o}}function Gc(n,e){let t=null;for(const i of n.views.values())t=t||bOe(i,e);return t}class yQ{constructor(e){this.listenProvider_=e,this.syncPointTree_=new pn(null),this.pendingWriteTree_=function iOe(){return{visibleWrites:Qo.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function f2(n,e,t,i,r){return function GAe(n,e,t,i,r){ae(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:e,snap:t,writeId:i,visible:r}),r&&(n.visibleWrites=b_(n.visibleWrites,e,t)),n.lastWriteId=i}(n.pendingWriteTree_,e,t,i,r),r?yf(n,new vd({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function Wc(n,e,t=!1){const i=function WAe(n,e){for(let t=0;t<n.allWrites.length;t++){const i=n.allWrites[t];if(i.writeId===e)return i}return null}(n.pendingWriteTree_,e);if(function KAe(n,e){const t=n.allWrites.findIndex(a=>a.writeId===e);ae(t>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[t];n.allWrites.splice(t,1);let r=i.visible,o=!1,s=n.allWrites.length-1;for(;r&&s>=0;){const a=n.allWrites[s];a.visible&&(s>=t&&YAe(a,i.path)?r=!1:Eo(i.path,a.path)&&(o=!0)),s--}return!!r&&(o?(function QAe(n){n.visibleWrites=tQ(n.allWrites,XAe,St()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=ZY(n.visibleWrites,i.path):Vi(i.children,c=>{n.visibleWrites=ZY(n.visibleWrites,Dn(i.path,c))}),!0))}(n.pendingWriteTree_,e)){let o=new pn(null);return null!=i.snap?o=o.set(St(),!0):Vi(i.children,s=>{o=o.set(new zt(s),!0)}),yf(n,new _w(i.path,o,t))}return[]}function y_(n,e,t){return yf(n,new vd({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function Dw(n,e,t){const r=n.pendingWriteTree_,o=n.syncPointTree_.findOnPath(e,(s,a)=>{const l=Gc(a,Sr(s,e));if(l)return l});return nQ(r,e,o,t,!0)}function yf(n,e){return xQ(e,n.syncPointTree_,null,vw(n.pendingWriteTree_,St()))}function xQ(n,e,t,i){if(ut(n.path))return wQ(n,e,t,i);{const r=e.get(St());null==t&&null!=r&&(t=Gc(r,St()));let o=[];const s=dt(n.path),a=n.operationForChild(s),c=e.children.get(s);if(c&&a){const l=t?t.getImmediateChild(s):null,d=rQ(i,s);o=o.concat(xQ(a,c,l,d))}return r&&(o=o.concat(h2(r,n,i,t))),o}}function wQ(n,e,t,i){const r=e.get(St());null==t&&null!=r&&(t=Gc(r,St()));let o=[];return e.children.inorderTraversal((s,a)=>{const c=t?t.getImmediateChild(s):null,l=rQ(i,s),d=n.operationForChild(s);d&&(o=o.concat(wQ(d,a,c,l)))}),r&&(o=o.concat(h2(r,n,i,t))),o}function m2(n,e){return n.tagToQueryMap.get(e)}function g2(n){const e=n.indexOf("$");return ae(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new zt(n.substr(0,e))}}function _2(n,e,t){const i=n.syncPointTree_.get(e);return ae(i,"Missing sync point for query tag that we're tracking"),h2(i,t,vw(n.pendingWriteTree_,e),null)}class b2{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new b2(t)}node(){return this.node_}}class y2{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Dn(this.path_,e);return new y2(this.syncTree_,t)}node(){return Dw(this.syncTree_,this.path_)}}const BOe=function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n},EQ=function(n,e,t){return n&&"object"==typeof n?(ae(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?zOe(n[".sv"],e,t):"object"==typeof n[".sv"]?UOe(n[".sv"],e):void ae(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},zOe=function(n,e,t){if("timestamp"===n)return t.timestamp;ae(!1,"Unexpected server value: "+n)},UOe=function(n,e,t){n.hasOwnProperty("increment")||ae(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&ae(!1,"Unexpected increment value: "+i);const r=e.node();if(ae(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const s=r.getValue();return"number"!=typeof s?i:s+i},TQ=function(n,e,t,i){return x2(e,new y2(t,n),i)},v2=function(n,e,t){return x2(n,new b2(e),t)};function x2(n,e,t){const i=n.getPriority().val(),r=EQ(i,e.getImmediateChild(".priority"),t);let o;if(n.isLeafNode()){const s=n,a=EQ(s.getValue(),e,t);return a!==s.getValue()||r!==s.getPriority().val()?new ff(a,Ln(r)):n}{const s=n;return o=s,r!==s.getPriority().val()&&(o=o.updatePriority(new ff(r))),s.forEachChild(fn,(a,c)=>{const l=x2(c,e.getImmediateChild(a),t);l!==c&&(o=o.updateImmediateChild(a,l))}),o}}class w2{constructor(e="",t=null,i={children:{},childCount:0}){this.name=e,this.parent=t,this.node=i}}function kw(n,e){let t=e instanceof zt?e:new zt(e),i=n,r=dt(t);for(;null!==r;){const o=lh(i.node.children,r)||{children:{},childCount:0};i=new w2(r,i,o),t=tn(t),r=dt(t)}return i}function Cd(n){return n.node.value}function C2(n,e){n.node.value=e,E2(n)}function IQ(n){return n.node.childCount>0}function Aw(n,e){Vi(n.node.children,(t,i)=>{e(new w2(t,n,i))})}function MQ(n,e,t,i){t&&!i&&e(n),Aw(n,r=>{MQ(r,e,!0,i)}),t&&i&&e(n)}function w_(n){return new zt(null===n.parent?n.name:w_(n.parent)+"/"+n.name)}function E2(n){null!==n.parent&&function $Oe(n,e,t){const i=function jOe(n){return void 0===Cd(n)&&!IQ(n)}(t),r=Ss(n.node.children,e);i&&r?(delete n.node.children[e],n.node.childCount--,E2(n)):!i&&!r&&(n.node.children[e]=t.node,n.node.childCount++,E2(n))}(n.parent,n.name,n)}const GOe=/[\[\].#$\/\u0000-\u001F\u007F]/,qOe=/[\[\].#$\u0000-\u001F\u007F]/,T2=10485760,Ow=function(n){return"string"==typeof n&&0!==n.length&&!GOe.test(n)},E_=function(n,e,t){const i=t instanceof zt?new lAe(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+bd(i));if("function"==typeof e)throw new Error(n+"contains a function "+bd(i)+" with contents = "+e.toString());if(sw(e))throw new Error(n+"contains "+e.toString()+" "+bd(i));if("string"==typeof e&&e.length>T2/3&&Zy(e)>T2)throw new Error(n+"contains a string greater than "+T2+" utf8 bytes "+bd(i)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let r=!1,o=!1;if(Vi(e,(s,a)=>{if(".value"===s)r=!0;else if(".priority"!==s&&".sv"!==s&&(o=!0,!Ow(s)))throw new Error(n+" contains an invalid key ("+s+") "+bd(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function dAe(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=Zy(e),VY(n)})(i,s),E_(n,a,i),function uAe(n){const e=n.parts_.pop();n.byteLength_-=Zy(e),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&o)throw new Error(n+' contains ".value" child '+bd(i)+" in addition to actual children.")}},kQ=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!Ow(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),function(n){return"string"==typeof n&&0!==n.length&&!qOe.test(n)}(n)}(t))throw new Error(function vm(n,e){return`${n} failed: ${e} argument `}(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class QOe{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function lo(n,e,t){(function Pw(n,e){let t=null;for(let i=0;i<e.length;i++){const r=e[i],o=r.getPath();null!==t&&!zN(o,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:o}),t.events.push(r)}t&&n.eventLists_.push(t)})(n,t),function OQ(n,e){n.recursionDepth_++;let t=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(e(r.path)?(XOe(n.eventLists_[i]),n.eventLists_[i]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}(n,i=>Eo(i,e)||Eo(e,i))}function XOe(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const i=t.getEventRunner();gd&&Li("event: "+t.toString()),uf(i)}}}const ZOe=25;class JOe{constructor(e,t,i,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new QOe,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=gw(),this.transactionQueueTree_=new w2,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function RQ(n){const t=n.infoData_.getNode(new zt(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function I_(n){return BOe({timestamp:RQ(n)})}function NQ(n,e,t,i,r){n.dataUpdateCount++;const o=new zt(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let s=[];if(r)if(i){const c=Qy(t,l=>Ln(l));s=function POe(n,e,t,i){const r=m2(n,i);if(r){const o=g2(r),s=o.path,a=o.queryId,c=Sr(s,e),l=pn.fromObject(t);return _2(n,s,new _f(t2(a),c,l))}return[]}(n.serverSyncTree_,o,c,r)}else{const c=Ln(t);s=function vQ(n,e,t,i){const r=m2(n,i);if(null!=r){const o=g2(r),s=o.path,a=o.queryId,c=Sr(s,e);return _2(n,s,new vd(t2(a),c,t))}return[]}(n.serverSyncTree_,o,c,r)}else if(i){const c=Qy(t,l=>Ln(l));s=function kOe(n,e,t){const i=pn.fromObject(t);return yf(n,new _f({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,i))}(n.serverSyncTree_,o,c)}else{const c=Ln(t);s=y_(n.serverSyncTree_,o,c)}let a=o;s.length>0&&(a=xf(n,o)),lo(n.eventQueue_,a,s)}function FQ(n,e){D2(n,"connected",e),!1===e&&function rPe(n){vf(n,"onDisconnectEvents");const e=I_(n),t=gw();ZN(n.onDisconnect_,St(),(r,o)=>{const s=TQ(r,o,n.serverSyncTree_,e);gf(t,r,s)});let i=[];ZN(t,St(),(r,o)=>{i=i.concat(y_(n.serverSyncTree_,r,o));const s=function O2(n,e){const t=w_(BQ(n,e)),i=kw(n.transactionQueueTree_,e);return function HOe(n,e,t){let i=t?n:n.parent;for(;null!==i;){if(e(i))return!0;i=i.parent}}(i,r=>{P2(n,r)}),P2(n,i),MQ(i,r=>{P2(n,r)}),t}(n,r);xf(n,s)}),n.onDisconnect_=gw(),lo(n.eventQueue_,St(),i)}(n)}function D2(n,e,t){const i=new zt("/.info/"+e),r=Ln(t);n.infoData_.updateSnapshot(i,r);const o=y_(n.infoSyncTree_,i,r);lo(n.eventQueue_,i,o)}function Rw(n){return n.nextWriteId_++}function vf(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),Li(t,...e)}function A2(n,e,t){return Dw(n.serverSyncTree_,e,t)||et.EMPTY_NODE}function Nw(n,e=n.transactionQueueTree_){if(e||Fw(n,e),Cd(e)){const t=zQ(n,e);ae(t.length>0,"Sending zero length transaction queue"),t.every(r=>0===r.status)&&function uPe(n,e,t){const i=t.map(l=>l.currentWriteId),r=A2(n,e,i);let o=r;const s=r.hash();for(let l=0;l<t.length;l++){const d=t[l];ae(0===d.status,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;const u=Sr(e,d.path);o=o.updateChild(u,d.currentOutputSnapshotRaw)}const a=o.val(!0),c=e;n.server_.put(c.toString(),a,l=>{vf(n,"transaction put response",{path:c.toString(),status:l});let d=[];if("ok"===l){const u=[];for(let f=0;f<t.length;f++)t[f].status=2,d=d.concat(Wc(n.serverSyncTree_,t[f].currentWriteId)),t[f].onComplete&&u.push(()=>t[f].onComplete(null,!0,t[f].currentOutputSnapshotResolved)),t[f].unwatcher();Fw(n,kw(n.transactionQueueTree_,e)),Nw(n,n.transactionQueueTree_),lo(n.eventQueue_,e,d);for(let f=0;f<u.length;f++)uf(u[f])}else{if("datastale"===l)for(let u=0;u<t.length;u++)t[u].status=3===t[u].status?4:0;else{gr("transaction at "+c.toString()+" failed: "+l);for(let u=0;u<t.length;u++)t[u].status=4,t[u].abortReason=l}xf(n,e)}},s)}(n,w_(e),t)}else IQ(e)&&Aw(e,t=>{Nw(n,t)})}function xf(n,e){const t=BQ(n,e),i=w_(t);return function hPe(n,e,t){if(0===e.length)return;const i=[];let r=[];const s=e.filter(a=>0===a.status).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const c=e[a],l=Sr(t,c.path);let u,d=!1;if(ae(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===c.status)d=!0,u=c.abortReason,r=r.concat(Wc(n.serverSyncTree_,c.currentWriteId,!0));else if(0===c.status)if(c.retryCount>=ZOe)d=!0,u="maxretry",r=r.concat(Wc(n.serverSyncTree_,c.currentWriteId,!0));else{const f=A2(n,c.path,s);c.currentInputSnapshot=f;const m=e[a].update(f.val());if(void 0!==m){E_("transaction failed: Data returned ",m,c.path);let y=Ln(m);"object"==typeof m&&null!=m&&Ss(m,".priority")||(y=y.updatePriority(f.getPriority()));const T=c.currentWriteId,S=I_(n),D=v2(y,f,S);c.currentOutputSnapshotRaw=y,c.currentOutputSnapshotResolved=D,c.currentWriteId=Rw(n),s.splice(s.indexOf(T),1),r=r.concat(f2(n.serverSyncTree_,c.path,D,c.currentWriteId,c.applyLocally)),r=r.concat(Wc(n.serverSyncTree_,T,!0))}else d=!0,u="nodata",r=r.concat(Wc(n.serverSyncTree_,c.currentWriteId,!0))}lo(n.eventQueue_,t,r),r=[],d&&(e[a].status=2,setTimeout(e[a].unwatcher,Math.floor(0)),e[a].onComplete&&i.push("nodata"===u?()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot):()=>e[a].onComplete(new Error(u),!1,null)))}Fw(n,n.transactionQueueTree_);for(let a=0;a<i.length;a++)uf(i[a]);Nw(n,n.transactionQueueTree_)}(n,zQ(n,t),i),i}function BQ(n,e){let t,i=n.transactionQueueTree_;for(t=dt(e);null!==t&&void 0===Cd(i);)i=kw(i,t),t=dt(e=tn(e));return i}function zQ(n,e){const t=[];return UQ(n,e,t),t.sort((i,r)=>i.order-r.order),t}function UQ(n,e,t){const i=Cd(e);if(i)for(let r=0;r<i.length;r++)t.push(i[r]);Aw(e,r=>{UQ(n,r,t)})}function Fw(n,e){const t=Cd(e);if(t){let i=0;for(let r=0;r<t.length;r++)2!==t[r].status&&(t[i]=t[r],i++);t.length=i,C2(e,t.length>0?t:void 0)}Aw(e,i=>{Fw(n,i)})}function P2(n,e){const t=Cd(e);if(t){const i=[];let r=[],o=-1;for(let s=0;s<t.length;s++)3===t[s].status||(1===t[s].status?(ae(o===s-1,"All SENT items should be at beginning of queue."),o=s,t[s].status=3,t[s].abortReason="set"):(ae(0===t[s].status,"Unexpected transaction status in abort"),t[s].unwatcher(),r=r.concat(Wc(n.serverSyncTree_,t[s].currentWriteId,!0)),t[s].onComplete&&i.push(t[s].onComplete.bind(null,new Error("set"),!1,null))));-1===o?C2(e,void 0):t.length=o+1,lo(n.eventQueue_,w_(e),r);for(let s=0;s<i.length;s++)uf(i[s])}}const R2=function(n,e){const t=mPe(n),i=t.namespace;return"firebase.com"===t.domain&&js(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==t.domain&&js("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&gr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new PN(t.host,t.secure,i,"ws"===t.scheme||"wss"===t.scheme,e,"",i!==t.subdomain),path:new zt(t.pathString)}},mPe=function(n){let e="",t="",i="",r="",o="",s=!0,a="https",c=443;if("string"==typeof n){let l=n.indexOf("//");l>=0&&(a=n.substring(0,l-1),n=n.substring(l+2));let d=n.indexOf("/");-1===d&&(d=n.length);let u=n.indexOf("?");-1===u&&(u=n.length),e=n.substring(0,Math.min(d,u)),d<u&&(r=function fPe(n){let e="";const t=n.split("/");for(let i=0;i<t.length;i++)if(t[i].length>0){let r=t[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}(n.substring(d,u)));const f=function pPe(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const i=t.split("=");2===i.length?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):gr(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,u)));l=e.indexOf(":"),l>=0?(s="https"===a||"wss"===a,c=parseInt(e.substring(l+1),10)):l=e.length;const m=e.slice(0,l);if("localhost"===m.toLowerCase())t="localhost";else if(m.split(".").length<=2)t=m;else{const y=e.indexOf(".");i=e.substring(0,y).toLowerCase(),t=e.substring(y+1),o=i}"ns"in f&&(o=f.ns)}return{host:e,port:c,domain:t,subdomain:i,secure:s,scheme:a,pathString:r,namespace:o}};class uo{constructor(e,t,i,r){this._repo=e,this._path=t,this._queryParams=i,this._orderByCalled=r}get key(){return ut(this._path)?null:BN(this._path)}get ref(){return new Xo(this._repo,this._path)}get _queryIdentifier(){const e=YY(this._queryParams),t=AN(e);return"{}"===t?"default":t}get _queryObject(){return YY(this._queryParams)}isEqual(e){if(!((e=Nt(e))instanceof uo))return!1;const t=this._repo===e._repo,i=zN(this._path,e._path);return t&&i&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function aAe(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}class Xo extends uo{constructor(e,t){super(e,t,new KN,!1)}get parent(){const e=LY(this._path);return null===e?null:new Xo(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}(function xOe(n){ae(!Ew,"__referenceConstructor has already been defined"),Ew=n})(Xo),function IOe(n){ae(!Iw,"__referenceConstructor has already been defined"),Iw=n}(Xo);const F2={};class NPe{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function ePe(n,e,t){if(n.stats_=FN(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new mw(n.repoInfo_,(i,r,o,s)=>{NQ(n,i,r,o,s)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>FQ(n,!0),0);else{if(typeof t<"u"&&null!==t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{qi(t)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new yd(n.repoInfo_,e,(i,r,o,s)=>{NQ(n,i,r,o,s)},i=>{FQ(n,i)},i=>{!function tPe(n,e){Vi(e,(t,i)=>{D2(n,t,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function Bke(n,e){const t=n.toString();return NN[t]||(NN[t]=e()),NN[t]}(n.repoInfo_,()=>new BAe(n.stats_,n.server_)),n.infoData_=new RAe,n.infoSyncTree_=new yQ({startListening:(i,r,o,s)=>{let a=[];const c=n.infoData_.getNode(i._path);return c.isEmpty()||(a=y_(n.infoSyncTree_,i._path,c),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),D2(n,"connected",!1),n.serverSyncTree_=new yQ({startListening:(i,r,o,s)=>(n.server_.listen(i,o,r,(a,c)=>{const l=s(a,c);lo(n.eventQueue_,i._path,l)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Xo(this._repo,St())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function OPe(n,e){const t=F2[e];(!t||t[n.key]!==n)&&js(`Database ${e}(${n.repoInfo_}) has already been deleted.`),function VQ(n){n.persistentConnection_&&n.persistentConnection_.interrupt("repo_interrupt")}(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&js("Cannot call "+e+" on a deleted database.")}}function FPe(n=uh(),e){const t=fa(n,"database").getImmediate({identifier:e});if(!t._instanceStarted){const i=Ky("database");i&&function LPe(n,e,t,i={}){(n=Nt(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&js("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let o;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&js('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new a_(a_.OWNER);else if(i.mockUserToken){const s="string"==typeof i.mockUserToken?i.mockUserToken:RM(i.mockUserToken,n.app.options.projectId);o=new a_(s)}!function kPe(n,e,t,i){n.repoInfo_=new PN(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),i&&(n.authTokenProvider_=i)}(r,e,t,o)}(t,...i)}return t}yd.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},yd.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function VPe(n){(function wke(n){DN=n})(ma),Si(new wi("database",(e,{instanceIdentifier:t})=>function APe(n,e,t,i,r){let o=i||n.options.databaseURL;void 0===o&&(n.options.projectId||js("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Li("Using default host for project ",n.options.projectId),o=`${n.options.projectId}-default-rtdb.firebaseio.com`);let c,l,s=R2(o,r),a=s.repoInfo;typeof process<"u"&&process.env&&(l=process.env.FIREBASE_DATABASE_EMULATOR_HOST),l?(c=!0,o=`http://${l}?ns=${a.namespace}`,s=R2(o,r),a=s.repoInfo):c=!s.repoInfo.secure;const d=r&&c?new a_(a_.OWNER):new Fke(n.name,n.options,e);kQ("Invalid Firebase Database URL",s),ut(s.path)||js("Database URL must point to the root of a Firebase Database (not including a child path).");const u=function PPe(n,e,t,i){let r=F2[e.name];r||(r={},F2[e.name]=r);let o=r[n.toURLString()];return o&&js("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new JOe(n,!1,t,i),r[n.toURLString()]=o,o}(a,n,d,new Nke(n.name,t));return new NPe(u,n)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),Bt(JK,"0.14.4",n),Bt(JK,"0.14.4","esm2017")}();class L2{constructor(e){return e}}const QQ="database",V2=new X("angularfire2.database-instances");function HPe(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new L2(i)}}const $Pe={provide:class UPe{constructor(){return gh(QQ)}},deps:[[new Kt,V2]]},GPe={provide:L2,useFactory:function jPe(n,e){const t=mh(QQ,n,e);return t&&new L2(t)},deps:[[new Kt,V2],ya]};let qPe=(()=>{class n{constructor(){Bt("angularfire",ph.full,"rtdb")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=tt({providers:[GPe,$Pe]}),n})();function WPe(n,...e){return{ngModule:qPe,providers:[{provide:V2,useFactory:HPe(n),multi:!0,deps:[ke,Yt,Tm,Im,[new Kt,Pv],[new Kt,Sm],...e]}]}}const KPe=ni(FPe,!0),z2="functions";class JPe{constructor(e,t,i){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then(r=>this.auth=r,()=>{}),this.messaging||t.get().then(r=>this.messaging=r,()=>{}),this.appCheck||i.get().then(r=>this.appCheck=r,()=>{})}getAuthToken(){var e=this;return _(function*(){if(e.auth)try{const t=yield e.auth.getToken();return t?.accessToken}catch{return}})()}getMessagingToken(){var e=this;return _(function*(){if(e.messaging&&"Notification"in self&&"granted"===Notification.permission)try{return yield e.messaging.getToken()}catch{return}})()}getAppCheckToken(e){var t=this;return _(function*(){if(t.appCheck){const i=e?yield t.appCheck.getLimitedUseToken():yield t.appCheck.getToken();return i.error?null:i.token}return null})()}getContext(e){var t=this;return _(function*(){return{authToken:yield t.getAuthToken(),messagingToken:yield t.getMessagingToken(),appCheckToken:yield t.getAppCheckToken(e)}})()}}const U2="us-central1";class tRe{constructor(e,t,i,r,o=U2,s){this.app=e,this.fetchImpl=s,this.emulatorOrigin=null,this.contextProvider=new JPe(t,i,r),this.cancelAllRequests=new Promise(a=>{this.deleteService=()=>Promise.resolve(a())});try{const a=new URL(o);this.customDomain=a.origin,this.region=U2}catch{this.customDomain=null,this.region=o}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;return null!==this.emulatorOrigin?`${this.emulatorOrigin}/${t}/${this.region}/${e}`:null!==this.customDomain?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}}const eX="@firebase/functions";function uRe(n=uh(),e=U2){const i=fa(Nt(n),z2).getImmediate({identifier:e}),r=Ky("functions");return r&&function hRe(n,e,t){!function nRe(n,e,t){n.emulatorOrigin=`http://${e}:${t}`}(Nt(n),e,t)}(i,...r),i}!function dRe(n,e){Si(new wi(z2,(i,{instanceIdentifier:r})=>{const o=i.getProvider("app").getImmediate(),s=i.getProvider("auth-internal"),a=i.getProvider("messaging-internal"),c=i.getProvider("app-check-internal");return new tRe(o,s,a,c,r,n)},"PUBLIC").setMultipleInstances(!0)),Bt(eX,"0.10.0",e),Bt(eX,"0.10.0","esm2017")}(fetch.bind(self));class $2{constructor(e){return e}}const nX="functions",G2=new X("angularfire2.functions-instances");function mRe(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new $2(i)}}const gRe={provide:class fRe{constructor(){return gh(nX)}},deps:[[new Kt,G2]]},_Re={provide:$2,useFactory:function pRe(n,e){const t=mh(nX,n,e);return t&&new $2(t)},deps:[[new Kt,G2],ya]};let bRe=(()=>{class n{constructor(){Bt("angularfire",ph.full,"fn")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=tt({providers:[_Re,gRe]}),n})();function yRe(n,...e){return{ngModule:bRe,providers:[{provide:G2,useFactory:mRe(n),multi:!0,deps:[ke,Yt,Tm,Im,[new Kt,Pv],[new Kt,Sm],...e]}]}}const vRe=ni(uRe,!0);function xRe(n,e){if(1&n){const t=ct();p(0,"tr")(1,"td"),g(2),h(),p(3,"td"),g(4),h(),p(5,"td"),g(6),h(),p(7,"td"),g(8),h(),p(9,"td")(10,"button",5),F("click",function(){const o=ye(t).$implicit;return ve(st().infoMuestra(o.codigo))}),p(11,"div",6),g(12,"Informaci\xf3n"),h()(),p(13,"button",7),F("click",function(){const o=ye(t).$implicit;return ve(st().editMuestra(o.codigo))}),p(14,"div",8),g(15,"Editar"),h()(),p(16,"button",9),F("click",function(){const o=ye(t).$implicit;return ve(st().Barcode(o.codigo))}),p(17,"div",10),g(18,"Imprimir"),h()()()()}if(2&n){const t=e.$implicit;P(2),xe(t.codigo),P(2),xe(t.fecha),P(2),xe(t.cultivo),P(2),xe(t.coordenadas)}}let wRe=(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.location=s,this.data=[]}ngOnInit(){this.route.params.subscribe(t=>{this.up=t.up}),this.MyQuery()}getData(){const t=me(this.firestore,"muestras");oe(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}updateData(t){const i=Ce(this.firestore,"muestras",t);ai(i,{}).then(()=>{alert("Data updated"),this.getData()}).catch(r=>{alert(r.message)})}deleteData(t){const i=Ce(this.firestore,"muestras",t);en(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["user/projects"])}logOut(){Nn(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}newMuestra(t){this.router.navigate(["user/muestras-new/"+t])}editMuestra(t){this.router.navigate(["user/muestras-edit/"+t])}infoUnidad(t){this.router.navigate(["user/unidad-produccion-info/"+t])}infoMuestra(t){this.router.navigate(["user/muestras-info/"+t])}Barcode(t){this.router.navigate(["user/barcode/"+t])}backPage(){this.location.back()}MyQuery(){var t=this;return _(function*(){let i=t.up;const r=Mt(me(t.firestore,"muestras"),Dt("unidad","==",i));oe(r).then(s=>{t.data=[...s.docs.map(a=>({...a.data(),id:a.id}))]}),(yield oe(r)).forEach(s=>{})})()}static{this.\u0275fac=function(i){return new(i||n)(E(Ee),E(qe),E(Oe),E(He),E(En))}}static{this.\u0275cmp=be({type:n,selectors:[["app-muestras"]],decls:20,vars:1,consts:[[1,"subTituloText"],[1,"list"],[4,"ngFor","ngForOf"],["id","agregar",1,"boton",3,"click"],["id","volver",1,"boton",3,"click"],[1,"detalles",3,"click"],[1,"detalles-tip"],[1,"edit",3,"click"],[1,"edit-tip"],[1,"imprimir",3,"click"],[1,"imprimir-tip"]],template:function(i,r){1&i&&(p(0,"p"),g(1,"muestras works!"),h(),p(2,"h1",0),g(3,"Muestras"),h(),p(4,"div",1)(5,"table")(6,"tr")(7,"th"),g(8," Codigo "),h(),p(9,"th"),g(10," Fecha "),h(),p(11,"th"),g(12," Cultivo"),h(),p(13,"th"),g(14," Coordenadas "),h(),$(15,"th"),h(),Ot(16,xRe,19,4,"tr",2),h(),p(17,"button",3),F("click",function(){return r.newMuestra(r.up)}),g(18," Agregar "),h(),p(19,"button",4),F("click",function(){return r.backPage()}),h()()),2&i&&(P(16),Ve("ngForOf",r.data))},dependencies:[Ii],styles:[".list[_ngcontent-%COMP%]{position:absolute;top:30%;min-width:519px;left:clamp(350px,calc(50% - 260px),100%)}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.projectBlock[_ngcontent-%COMP%]{width:60%;height:35px;background:#3ec28f;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:20px;font-weight:700;letter-spacing:0;cursor:pointer}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{cursor:pointer;width:153px;height:36px;left:49%;top:30%;position:absolute;background:#4c9eff;border-radius:30px;box-shadow:2px 2px 5px #000}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}#volver[_ngcontent-%COMP%]{position:absolute;left:0%;border:none;width:50px;height:50px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(back-button-Edit4.8567daeed3ab1418.png)}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;text-shadow:2px 2px 5px black;min-width:519px;text-align:center;left:clamp(350px,calc(50% - 260px),100%);top:20%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.edit[_ngcontent-%COMP%]:hover   .edit-tip[_ngcontent-%COMP%]{display:block;opacity:1;transition:.5s}.edit-tip[_ngcontent-%COMP%]{display:none;position:relative;background-color:#2f3033;color:#fff;padding:5px;width:-moz-fit-content;width:fit-content;margin:5px;top:100%;left:0;opacity:0;transition:.5s;z-index:100;border-radius:3px;font-weight:700;font-family:Trebuchet MS,sans-serif}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.detalles[_ngcontent-%COMP%]:hover   .detalles-tip[_ngcontent-%COMP%]{display:block;opacity:1;transition:.5s}.detalles-tip[_ngcontent-%COMP%]{display:none;position:relative;background-color:#2f3033;color:#fff;padding:5px;width:-moz-fit-content;width:fit-content;margin:5px;top:100%;left:0;opacity:0;transition:.5s;z-index:100;border-radius:3px;font-weight:700;font-family:Trebuchet MS,sans-serif}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.imprimir[_ngcontent-%COMP%]:hover   .imprimir-tip[_ngcontent-%COMP%]{display:block;opacity:1;transition:.5s}.imprimir-tip[_ngcontent-%COMP%]{display:none;position:relative;background-color:#2f3033;color:#fff;padding:5px;width:-moz-fit-content;width:fit-content;margin:5px;top:100%;left:0;opacity:0;transition:.5s;z-index:100;border-radius:3px;font-weight:700;font-family:Trebuchet MS,sans-serif}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.projectBlock[_ngcontent-%COMP%]{width:60%;height:25px;background:#3ec28f;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:14px;font-weight:700;letter-spacing:0;cursor:pointer}.list[_ngcontent-%COMP%]{position:absolute;min-width:0px;width:90%;left:5%;top:35%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:153px;height:36px;left:30%;top:35%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;right:0;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}#volver[_ngcontent-%COMP%]{position:absolute;left:0%;width:30px;height:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;min-width:0px;width:100vw;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;left:0%;top:27%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}}return n})(),CRe=(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.location=s,this.data=[],this.num=1}ngOnInit(){let t;this.route.params.subscribe(i=>{this.item=i.id,t=i.id,console.log(i),this.generateBarcode(t)})}handleRegister(t){console.log(t.cantidad),this.toPrint(t.cantidad)}generateBarcode(t){var r=t;this.res=r,pd("#barcode",r,{format:"CODE128"})}generateSVG(t,i){for(let r=0;r<t;r++){const o=document.createElement("div"),s=document.createElement("svg");o.setAttribute("class","subcode"),s.setAttribute("id","barcode"+r),document.getElementById("codes")?.appendChild(s)}}toPrint(t){window.open("#/print/"+this.res+"/"+t,"_blank")}sleep(t){return _(function*(){return new Promise(i=>setTimeout(i,t))})()}backPage(){this.location.back()}static{this.\u0275fac=function(i){return new(i||n)(E(Ee),E(qe),E(Oe),E(He),E(En))}}static{this.\u0275cmp=be({type:n,selectors:[["app-barcode"]],decls:13,vars:1,consts:[["id","barcode"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],["name","cantidad","ngModel","","placeholder","N\xb0","id","cantidad","type","number","min","1","max","5",1,"input-field",3,"ngModel","ngModelChange"],[1,"print"],["id","volver",3,"click"]],template:function(i,r){if(1&i){const o=ct();p(0,"p"),g(1,"barcode works!"),h(),Wa(),$(2,"svg",0),Wd(),p(3,"form",1,2),F("ngSubmit",function(){ye(o);const a=Vt(4);return ve(r.handleRegister(a.value))}),p(5,"div",3)(6,"div",4)(7,"span",5),g(8,"Cantidad: "),h(),p(9,"input",6),Qe("ngModelChange",function(a){return Je(r.num,a)||(r.num=a),a}),h()(),p(10,"button",7),g(11,"Imprimir"),h()()(),p(12,"button",8),F("click",function(){return r.backPage()}),h()}2&i&&(P(9),Ye("ngModel",r.num))},dependencies:[jn,Mi,xy,dr,Un,Cy,wy,Gi,Tn],styles:[".main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:40%;top:50%}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:56px;letter-spacing:0;text-shadow:2px 2px 5px black;left:45%;top:20%}.input-fields[_ngcontent-%COMP%]{position:inherit;width:180px;top:25px}.Text[_ngcontent-%COMP%]{display:inline;font-family:Arial;text-align:center;font-size:24px;font-weight:700}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{height:20px;width:40px;font-size:16px}.print[_ngcontent-%COMP%]{position:inherit;left:200px}svg[_ngcontent-%COMP%]{position:absolute;left:44%;top:32%}button[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:24px;font-weight:700;cursor:pointer;border-radius:30px}#volver[_ngcontent-%COMP%]{font-size:16px;position:absolute;left:35%;top:20%;border:none;width:50px;height:50px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(back-button-Edit4.8567daeed3ab1418.png)}#barcode[_ngcontent-%COMP%]{display:inline;border:2px solid rgb(0,0,0);box-shadow:2px 2px 5px #000}@media only screen and (max-width: 768px){.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:60%;height:20%;left:36%;top:60%}.input-fields[_ngcontent-%COMP%]{position:inherit;width:130px;top:25px}.Text[_ngcontent-%COMP%]{display:inline;font-family:Arial;text-align:center;font-size:20px}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{height:20px;width:20px;font-size:16px}.print[_ngcontent-%COMP%]{position:absolute;left:33%;top:45%;font-size:16px}#test[_ngcontent-%COMP%]{position:absolute;left:30%;top:60%;display:none}#codes[_ngcontent-%COMP%]{position:absolute;left:30%;top:35%}svg[_ngcontent-%COMP%]{position:absolute;left:25%;top:30%;margin:15px 0}.space[_ngcontent-%COMP%]{height:200px}#barcode[_ngcontent-%COMP%]{display:inline;border:2px solid rgb(0,0,0);box-shadow:2px 2px 5px #000}button[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:20px;font-weight:700;cursor:pointer;border-radius:30px}#volver[_ngcontent-%COMP%]{font-size:16px;position:absolute;left:28%;top:70%;border:none;width:36px;height:36px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(back-button-Edit4.8567daeed3ab1418.png)}}"]})}}return n})();const iX="firebasestorage.googleapis.com",rX="storageBucket";class Vn extends jr{constructor(e,t,i=0){super(q2(e),`Firebase Storage: ${t} (${q2(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Vn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return q2(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Sn=function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n}(Sn||{});function q2(n){return"storage/"+n}function W2(){return new Vn(Sn.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function K2(n){return new Vn(Sn.INVALID_ARGUMENT,n)}function cX(){return new Vn(Sn.APP_DELETED,"The Firebase app was deleted.")}function S_(n,e){return new Vn(Sn.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function k_(n){throw new Vn(Sn.INTERNAL_ERROR,"Internal error: "+n)}class kr{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=kr.makeFromUrl(e,t)}catch{return new kr(e,"")}if(""===i.path)return i;throw function PRe(n){return new Vn(Sn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let i=null;const r="([A-Za-z0-9.\\-_]+)",a=new RegExp("^gs://"+r+"(/(.*))?$","i");function l(Y){Y.path_=decodeURIComponent(Y.path)}const u=t.replace(/[.]/g,"\\."),L=[{regex:a,indices:{bucket:1,path:3},postModify:function o(Y){"/"===Y.path.charAt(Y.path.length-1)&&(Y.path_=Y.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${u}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:l},{regex:new RegExp(`^https?://${t===iX?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:l}];for(let Y=0;Y<L.length;Y++){const re=L[Y],ue=re.regex.exec(e);if(ue){let it=ue[re.indices.path];it||(it=""),i=new kr(ue[re.indices.bucket],it),re.postModify(i);break}}if(null==i)throw function ORe(n){return new Vn(Sn.INVALID_URL,"Invalid URL '"+n+"'.")}(e);return i}}class BRe{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function Uw(n){return"string"==typeof n||n instanceof String}function lX(n){return Y2()&&n instanceof Blob}function Y2(){return typeof Blob<"u"&&!y7()}function Q2(n,e,t,i){if(i<e)throw K2(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw K2(`Invalid value for '${n}'. Expected ${t} or less.`)}function Fa(n,e,t){let i=e;return null==t&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function dX(n){const e=encodeURIComponent;let t="?";for(const i in n)n.hasOwnProperty(i)&&(t=t+(e(i)+"=")+e(n[i])+"&");return t=t.slice(0,-1),t}var Ef=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}(Ef||{});class GRe{constructor(e,t,i,r,o,s,a,c,l,d,u,f=!0){this.url_=e,this.method_=t,this.headers_=i,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=c,this.timeout_=l,this.progressCallback_=d,this.connectionFactory_=u,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((m,y)=>{this.resolve_=m,this.reject_=y,this.start_()})}start_(){const t=(i,r)=>{const o=this.resolve_,s=this.reject_,a=r.connection;if(r.wasSuccessCode)try{const c=this.callback_(a,a.getResponse());!function jRe(n){return void 0!==n}(c)?o():o(c)}catch(c){s(c)}else if(null!==a){const c=W2();c.serverResponse=a.getErrorText(),s(this.errorCallback_?this.errorCallback_(a,c):c)}else s(r.canceled?this.appDelete_?cX():function sX(){return new Vn(Sn.CANCELED,"User canceled the upload/download.")}():function oX(){return new Vn(Sn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())};this.canceled_?t(0,new jw(!1,null,!0)):this.backoffId_=function zRe(n,e,t){let i=1,r=null,o=null,s=!1,a=0;function c(){return 2===a}let l=!1;function d(...T){l||(l=!0,e.apply(null,T))}function u(T){r=setTimeout(()=>{r=null,n(m,c())},T)}function f(){o&&clearTimeout(o)}function m(T,...S){if(l)return void f();if(T)return f(),void d.call(null,T,...S);if(c()||s)return f(),void d.call(null,T,...S);let L;i<64&&(i*=2),1===a?(a=2,L=0):L=1e3*(i+Math.random()),u(L)}let y=!1;function C(T){y||(y=!0,f(),!l&&(null!==r?(T||(a=2),clearTimeout(r),u(0)):T||(a=1)))}return u(0),o=setTimeout(()=>{s=!0,C(!0)},t),C}((i,r)=>{if(r)return void i(!1,new jw(!1,null,!0));const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{null!==this.progressCallback_&&this.progressCallback_(a.loaded,a.lengthComputable?a.total:-1)};null!==this.progressCallback_&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===Ef.NO_ERROR,c=o.getStatus();if(!a||function uX(n,e){const t=n>=500&&n<600,r=-1!==[408,429].indexOf(n),o=-1!==e.indexOf(n);return t||r||o}(c,this.additionalRetryCodes_)&&this.retry){const d=o.getErrorCode()===Ef.ABORT;return void i(!1,new jw(!1,null,d))}const l=-1!==this.successCodes_.indexOf(c);i(!0,new jw(l,o))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function URe(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class jw{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function ZRe(...n){const e=function XRe(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}if(Y2())return new Blob(n);throw new Vn(Sn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Zo={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class X2{constructor(e,t){this.data=e,this.contentType=t||null}}function fX(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);i<=127?e.push(i):i<=2047?e.push(192|i>>6,128|63&i):55296==(64512&i)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++t),e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):e.push(239,191,189):56320==(64512&i)?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(e)}function pX(n,e){switch(n){case Zo.BASE64:{const r=-1!==e.indexOf("-"),o=-1!==e.indexOf("_");if(r||o)throw S_(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case Zo.BASE64URL:{const r=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(r||o)throw S_(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function eNe(n){if(typeof atob>"u")throw function LRe(n){return new Vn(Sn.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(e)}catch(r){throw r.message.includes("polyfill")?r:S_(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}class mX{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw S_(Zo.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;null!=i&&(this.base64=function rNe(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}class La{constructor(e,t){let i=0,r="";lX(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(lX(this.data_)){const r=function JRe(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===r?null:new La(r)}{const i=new Uint8Array(this.data_.buffer,e,t-e);return new La(i,!0)}}static getBlob(...e){if(Y2()){const t=e.map(i=>i instanceof La?i.data_:i);return new La(ZRe.apply(null,t))}{const t=e.map(s=>Uw(s)?function hX(n,e){switch(n){case Zo.RAW:return new X2(fX(e));case Zo.BASE64:case Zo.BASE64URL:return new X2(pX(n,e));case Zo.DATA_URL:return new X2(function nNe(n){const e=new mX(n);return e.base64?pX(Zo.BASE64,e.rest):function tNe(n){let e;try{e=decodeURIComponent(n)}catch{throw S_(Zo.DATA_URL,"Malformed data URL.")}return fX(e)}(e.rest)}(e),function iNe(n){return new mX(n).contentType}(e))}throw W2()}(Zo.RAW,s).data:s.data_);let i=0;t.forEach(s=>{i+=s.byteLength});const r=new Uint8Array(i);let o=0;return t.forEach(s=>{for(let a=0;a<s.length;a++)r[o++]=s[a]}),new La(r,!0)}}uploadData(){return this.data_}}function Z2(n){let e;try{e=JSON.parse(n)}catch{return null}return function $Re(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function gX(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function aNe(n,e){return e}class Ar{constructor(e,t,i,r){this.server=e,this.local=t||e,this.writable=!!i,this.xform=r||aNe}}let Hw=null;function A_(){if(Hw)return Hw;const n=[];n.push(new Ar("bucket")),n.push(new Ar("generation")),n.push(new Ar("metageneration")),n.push(new Ar("name","fullPath",!0));const t=new Ar("name");t.xform=function e(o,s){return function cNe(n){return!Uw(n)||n.length<2?n:gX(n)}(s)},n.push(t);const r=new Ar("size");return r.xform=function i(o,s){return void 0!==s?Number(s):s},n.push(r),n.push(new Ar("timeCreated")),n.push(new Ar("updated")),n.push(new Ar("md5Hash",null,!0)),n.push(new Ar("cacheControl",null,!0)),n.push(new Ar("contentDisposition",null,!0)),n.push(new Ar("contentEncoding",null,!0)),n.push(new Ar("contentLanguage",null,!0)),n.push(new Ar("contentType",null,!0)),n.push(new Ar("metadata","customMetadata",!0)),Hw=n,Hw}function _X(n,e,t){const i=Z2(e);return null===i?null:function dNe(n,e,t){const i={type:"file"},r=t.length;for(let o=0;o<r;o++){const s=t[o];i[s.local]=s.xform(i,e[s.server])}return function lNe(n,e){Object.defineProperty(n,"ref",{get:function t(){const o=new kr(n.bucket,n.fullPath);return e._makeStorageReference(o)}})}(i,n),i}(n,i,t)}class Ws{constructor(e,t,i,r){this.url=e,this.method=t,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Ks(n){if(!n)throw W2()}function Tf(n){return function e(t,i){let r;return r=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function kRe(){return new Vn(Sn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function SRe(){return new Vn(Sn.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function DRe(n){return new Vn(Sn.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function ARe(n){return new Vn(Sn.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):i,r.status=t.getStatus(),r.serverResponse=i.serverResponse,r}}function CX(n,e,t,i,r){const o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},c=function a(){let L="";for(let Y=0;Y<2;Y++)L+=Math.random().toString().slice(2);return L}();s["Content-Type"]="multipart/related; boundary="+c;const l=function wX(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=function vNe(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),i}(e,i,r),d=function J2(n,e){const t={},i=e.length;for(let r=0;r<i;r++){const o=e[r];o.writable&&(t[o.server]=n[o.local])}return JSON.stringify(t)}(l,t),m=La.getBlob("--"+c+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+d+"\r\n--"+c+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",i,"\r\n--"+c+"--");if(null===m)throw function aX(){return new Vn(Sn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}();const y={name:l.fullPath},C=Fa(o,n.host,n._protocol),S=n.maxUploadRetryTime,D=new Ws(C,"POST",function $w(n,e){return function t(i,r){const o=_X(n,r,e);return Ks(null!==o),o}}(n,t),S);return D.urlParams=y,D.headers=s,D.body=m.uploadData(),D.errorHandler=Tf(e),D}let TX=null;class TNe{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ef.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ef.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ef.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,r){if(this.sent_)throw k_("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const o in r)r.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,r[o].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw k_("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw k_("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw k_("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw k_("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class INe extends TNe{initXhr(){this.xhr_.responseType="text"}}function Jo(){return TX?TX():new INe}class Td{constructor(e,t){this._service=e,this._location=t instanceof kr?t:kr.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Td(e,t)}get root(){const e=new kr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return gX(this._location.path)}get storage(){return this._service}get parent(){const e=function oNe(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new kr(this._location.bucket,e);return new Td(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function VRe(n){return new Vn(Sn.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function BNe(n){n._throwIfRoot("getDownloadURL");const e=function _Ne(n,e,t){const r=Fa(e.fullServerUrl(),n.host,n._protocol),s=n.maxOperationRetryTime,a=new Ws(r,"GET",function mNe(n,e){return function t(i,r){const o=_X(n,r,e);return Ks(null!==o),function uNe(n,e,t,i){const r=Z2(e);if(null===r||!Uw(r.downloadTokens))return null;const o=r.downloadTokens;if(0===o.length)return null;const s=encodeURIComponent;return o.split(",").map(l=>{const u=n.fullPath;return Fa("/b/"+s(n.bucket)+"/o/"+s(u),t,i)+dX({alt:"media",token:l})})[0]}(o,r,n.host,n._protocol)}}(n,t),s);return a.errorHandler=function O_(n){const e=Tf(n);return function t(i,r){let o=e(i,r);return 404===i.getStatus()&&(o=function MRe(n){return new Vn(Sn.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),o.serverResponse=r.serverResponse,o}}(e),a}(n.storage,n._location,A_());return n.storage.makeRequestWithTokens(e,Jo).then(t=>{if(null===t)throw function FRe(){return new Vn(Sn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return t})}function kX(n,e){if(n instanceof iF){const t=n;if(null==t._bucket)throw function RRe(){return new Vn(Sn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+rX+"' property when initializing the app?")}();const i=new Td(t,t._bucket);return null!=e?kX(i,e):i}return void 0!==e?function SX(n,e){const t=function sNe(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),i=new kr(n._location.bucket,t);return new Td(n.storage,i)}(n,e):n}function AX(n,e){const t=e?.[rX];return null==t?null:kr.makeFromBucketSpec(t,n)}class iF{constructor(e,t,i,r,o){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=r,this._firebaseVersion=o,this._bucket=null,this._host=iX,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?kr.makeFromBucketSpec(r,this._host):AX(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?kr.makeFromBucketSpec(this._url,e):AX(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Q2("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Q2("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return _(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const i=yield t.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var e=this;return _(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Td(this,e)}_makeRequest(e,t,i,r,o=!0){if(this._deleted)return new BRe(cX());{const s=function QRe(n,e,t,i,r,o,s=!0){const a=dX(n.urlParams),c=n.url+a,l=Object.assign({},n.headers);return function KRe(n,e){e&&(n["X-Firebase-GMPID"]=e)}(l,e),function qRe(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(l,t),function WRe(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(l,o),function YRe(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(l,i),new GRe(c,n.method,l,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,s)}(e,this._appId,i,r,t,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,t){var i=this;return _(function*(){const[r,o]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(e,t,r,o).getPromise()})()}}const OX="@firebase/storage",RX="storage";function rF(n,e,t){return function IX(n,e,t){n._throwIfRoot("uploadBytes");const i=CX(n.storage,n._location,A_(),new La(e,!0),t);return n.storage.makeRequestWithTokens(i,Jo).then(r=>({metadata:r,ref:n}))}(n=Nt(n),e,t)}function oF(n){return BNe(n=Nt(n))}function sF(n,e){return function HNe(n,e){if(e&&function UNe(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof iF)return function jNe(n,e){return new Td(n,e)}(n,e);throw K2("To use ref(service, url), the first argument must be a Storage instance.")}return kX(n,e)}(n=Nt(n),e)}function aF(n=uh(),e){const i=fa(n=Nt(n),RX).getImmediate({identifier:e}),r=Ky("storage");return r&&function GNe(n,e,t,i={}){!function $Ne(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:RM(r,n.app.options.projectId))}(n,e,t,i)}(i,...r),i}function qNe(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new iF(t,i,r,e,ma)}!function WNe(){Si(new wi(RX,qNe,"PUBLIC").setMultipleInstances(!0)),Bt(OX,"0.11.2",""),Bt(OX,"0.11.2","esm2017")}();const KNe=["geo"];let YNe=(()=>{class n{static{this.text=""}constructor(t,i,r,o,s){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.location=s,this.title="gestion-de-muestras-de-campo",this.data=[],this.res="",this.email="",this.fotosSeleccionadas={inicial:null,tipico:null,tardios:null},this.fotoUrls={},this.somethingChange=new Xe}ngOnInit(){this.route.params.subscribe(t=>{this.pid=t.id})}onFileSelected(t,i){var r=this;return _(function*(){if(t.target.files[0]){r.fotosSeleccionadas[i]=t.target.files[0]||null}})()}upLoadFiles(t){var i=this;return _(function*(){const r=aF(),o={};for(const s in i.fotosSeleccionadas){const a=i.fotosSeleccionadas[s];if(a){const l=sF(r,`muestras/${t.codigo}/${s}_${a.name}`);try{const d=yield rF(l,a),u=yield oF(d.ref);o[s]=u}catch(d){return console.error(`Error al subir la foto ${s}:`,d),void alert(`Error al subir la foto ${s}.`)}}}})()}handleRegister(t){var i=this;return _(function*(){i.upLoadFiles(t),i.addData({...t,fotos:i.fotoUrls}),i.backPage()})()}addData(t){const i=Ce(this.firestore,"muestras",t.codigo);co(i,{codigo:t.codigo,cliente:t.cliente,fecha:t.fecha,cultivo:t.cultivo,tipo:t.tipo,fitopatogeno:t.fitopatogeno,repeticion:t.repeticion,coordenadas:t.coordenadas,sintomas:t.sintomas,comentarios:t.comentarios,unidad:this.pid,lote:t.lote,fotos:t.fotos,resultados:t.resultados,estadoDiag:t.estadoDiag}).then(()=>{alert("Datos guardados con \xe9xito.")}).catch(r=>{alert(r.message)})}getData(){const t=me(this.firestore,"muestras");oe(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}Home(){this.router.navigate(["user/unidad-produccion-all"])}convertDecimalToDMS(t,i){const r=Math.floor(Math.abs(t)),o=60*(Math.abs(t)-r),s=Math.floor(o);let c="";return c=i?t>=0?"N":"S":t>=0?"E":"W",`${r}\xb0 ${s}' ${(60*(o-s)).toFixed(2)}'' ${c}`}showPosition(t){var r=t.coords.longitude,o=t.coords.latitude.toFixed(6),s=r.toFixed(6);n.text=o+", "+s}getLocation(){var t=this;return _(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{t.res=n.text,console.log(t.res)},1e3)})()}backPage(){this.location.back()}static{this.\u0275fac=function(i){return new(i||n)(E(Ee),E(qe),E(Oe),E(He),E(En))}}static{this.\u0275cmp=be({type:n,selectors:[["app-muestras-new"]],viewQuery:function(i,r){if(1&i&&zn(KNe,5),2&i){let o;xn(o=wn())&&(r.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:101,vars:1,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],["name","codigo","ngModel","","placeholder","Codigo","id","codigo","type","codigo",1,"input-field"],["name","cliente","ngModel","","placeholder","Cliente","id","cliente","type","cliente",1,"input-field"],["name","fecha","ngModel","","placeholder","Fecha","id","fecha","type","date",1,"input-field"],["name","cultivo","ngModel","","placeholder","Cultivo","id","cultivo","type","cultivo",1,"input-field"],["list","tipos","name","tipo","ngModel","","placeholder","Tipo","id","tipo","type","tipo",1,"input-field"],["value","","disabled","","selected",""],["value","Hibrido"],["value","Variedad"],["value","Clone"],["list","fitopatogenos","name","fitopatogeno","ngModel","","placeholder","Fitopat\xf3geno","id","fitopatogeno","type","fitopatogeno",1,"input-field"],["value","Hongos"],["value","Bacterias"],["value","Virus"],["name","lote","ngModel","","placeholder","Lote","id","lote","type","lote",1,"input-field"],["name","repeticion","ngModel","","placeholder","Repeticion","id","repeticion","type","repeticion",1,"input-field"],["id","EstadoDiag",1,"Text"],["list","estadoDiag","name","estadoDiag","ngModel","","placeholder","Estado de Diagnostico","type","estadoDiag","id","SelectEstadoDiag",1,"input-field"],["name","coordenadas","ngModel","","placeholder","Coordenadas","id","coordenadas","type","coordenadas",1,"input-field",3,"ngModel","ngModelChange"],[1,"bUbicacion",3,"click"],["src","../../../../assets/Ubicacion.png","alt","U"],[1,"subTituloSeccion"],[1,"block-foto"],[1,"input-fields",2,"margin-bottom","10px"],["id","Text-Sintomas",1,"Text"],["name","foto-inicial","type","file",1,"input-field-2",3,"change"],["name","foto-tipico","type","file",1,"input-field-2",3,"change"],["name","foto-tardios","type","file",1,"input-field-2",3,"change"],["name","sintomas","ngModel","","placeholder","S\xedntomas","id","sintomas","type","sintomas",1,"input-field"],["name","comentarios","ngModel","","placeholder","Comentarios","id","comentarios","type","comentarios",1,"input-field"],[1,"boton"],["id","volver",1,"boton",3,"click"],[1,"blank"]],template:function(i,r){if(1&i){const o=ct();p(0,"p"),g(1,"muestras-new works!"),h(),p(2,"h1",0),g(3,"Nueva Muestra"),h(),p(4,"div",1)(5,"form",2,3),F("ngSubmit",function(){ye(o);const a=Vt(6);return ve(r.handleRegister(a.value))}),p(7,"div",4)(8,"div",5)(9,"span",6),g(10,"Codigo:"),h(),$(11,"input",7),h(),p(12,"div",5)(13,"span",6),g(14,"Cliente:"),h(),$(15,"input",8),h(),p(16,"div",5)(17,"span",6),g(18,"Fecha:"),h(),$(19,"input",9),h(),p(20,"div",5)(21,"span",6),g(22,"Cultivo:"),h(),$(23,"input",10),h(),p(24,"div",5)(25,"span",6),g(26,"Tipo:"),h(),p(27,"select",11)(28,"option",12),g(29,"Seleccione un estado"),h(),p(30,"option",13),g(31," Hibrido "),h(),p(32,"option",14),g(33," Variedad "),h(),p(34,"option",15),g(35," Clone "),h()()(),p(36,"div",5)(37,"span",6),g(38,"Fitopat\xf3geno:"),h(),p(39,"select",16)(40,"option",12),g(41,"Seleccione un estado"),h(),p(42,"option",17),g(43," Hongos "),h(),p(44,"option",18),g(45," Bacterias "),h(),p(46,"option",19),g(47," Virus "),h()()(),p(48,"div",5)(49,"span",6),g(50,"Lote:"),h(),$(51,"input",20),h(),p(52,"div",5)(53,"span",6),g(54,"Repetici\xf3n:"),h(),$(55,"input",21),h(),p(56,"div",5)(57,"span",22),g(58,"Estado de Diagnostico:"),h(),p(59,"select",23)(60,"option",12),g(61,"Seleccione un Estado de Diagnostico"),h(),p(62,"option",17),g(63," Sin Procesar "),h(),p(64,"option",18),g(65," En Proceso "),h(),p(66,"option",19),g(67," Finalizado "),h()()(),p(68,"div",5)(69,"span",6),g(70,"Coordenadas:"),h(),p(71,"input",24),Qe("ngModelChange",function(a){return Je(r.res,a)||(r.res=a),a}),h(),p(72,"div",25),F("click",function(){return r.getLocation()}),$(73,"img",26),h()(),p(74,"div",27),g(75,"Soporte Fotogr\xe1fico: "),h(),p(76,"div",28)(77,"div",29)(78,"span",30),g(79,"Sintomas Iniciales:"),h(),p(80,"input",31),F("change",function(a){return r.onFileSelected(a,"inicial")}),h()(),p(81,"div",29)(82,"span",30),g(83,"Sintomas T\xedpico:"),h(),p(84,"input",32),F("change",function(a){return r.onFileSelected(a,"tipico")}),h()(),p(85,"div",29)(86,"span",30),g(87,"Sintomas Tard\xedos:"),h(),p(88,"input",33),F("change",function(a){return r.onFileSelected(a,"tardios")}),h()()(),p(89,"div",5)(90,"span",6),g(91,"S\xedntomas:"),h(),$(92,"input",34),h(),p(93,"div",5)(94,"span",6),g(95,"Comentarios:"),h(),$(96,"input",35),h(),p(97,"button",36),g(98,"Crear Muestra"),h(),p(99,"button",37),F("click",function(){return r.backPage()}),h()()()(),$(100,"div",38)}2&i&&(P(71),Ye("ngModel",r.res))},dependencies:[jn,xs,ws,Mi,Ho,dr,Un,Gi,Tn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;min-height:740px;position:absolute;top:25%;width:850px;left:clamp(350px,calc(50% - 425px),100%);margin:25px auto;padding:20px;display:flex;flex-shrink:0;flex-direction:column;justify-content:flex-start;align-items:center}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:3%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:100%;height:20px;left:92px}#SelectEstadoDiag[_ngcontent-%COMP%]{margin:10px;width:70%;height:20px;left:92px}.input-field-2[_ngcontent-%COMP%]{margin:0;height:20px;position:relative;left:0}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;top:17%;text-align:center;width:850px;left:clamp(350px,calc(50% - 425px),100%)}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:32%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}#Text-Sintomas[_ngcontent-%COMP%]{width:25%}.subTituloSeccion[_ngcontent-%COMP%]{color:#000;font-family:Verdana;font-size:18px;text-align:left;margin-top:8px;margin-bottom:10px;left:0;width:100%}.block-foto[_ngcontent-%COMP%]{margin-left:40px;margin-bottom:15px}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;margin-left:5px;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:80%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}#volver[_ngcontent-%COMP%]{position:absolute;left:0%;border:none;width:50px;height:50px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(back-button-Edit4.8567daeed3ab1418.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}.blank[_ngcontent-%COMP%]{width:100%;height:16px;position:absolute;left:0%;top:110%}@media only screen and (max-width: 768px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:calc(90% - 25px);height:68%;flex-shrink:0;position:absolute;left:5%;top:38%;transform:none}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.input-field[_ngcontent-%COMP%]{margin:10px 10px 10px 20px;height:20px;left:0}.blank[_ngcontent-%COMP%]{width:100%;height:16px;position:absolute;left:0%;top:110%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:20px;font-family:Arial;font-size:14px;letter-spacing:0}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:3%;top:3%}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:75%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:20px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:28%;transform:none}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}@media only screen and (min-width: 1536px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:850px;height:600px;flex-shrink:0;position:absolute;left:50%;top:50%;transform:translate(-50%,-35%)}.subTituloText[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%)}}"]})}}return n})();class To extends ht{constructor(){super(...arguments),this._value=null,this._hasValue=!1,this._isComplete=!1}_checkFinalizedStatuses(e){const{hasError:t,_hasValue:i,_value:r,thrownError:o,isStopped:s,_isComplete:a}=this;t?e.error(o):(s||a)&&(i&&e.next(r),e.complete())}next(e){this.isStopped||(this._value=e,this._hasValue=!0)}complete(){const{_hasValue:e,_value:t,_isComplete:i}=this;i||(this._isComplete=!0,e&&super.next(t),super.complete())}}const QNe=["video"],XNe=["canvas"],ZNe=["resultsPanel"],cF="assets/wasm/index.js",P_="https://cdn.jsdelivr.net/npm/ngx-scanner-qrcode@1.6.4/wasm/index.js",NX={audio:!1,video:!0},lF={lineWidth:1,strokeStyle:"green",fillStyle:"#55f02880"},dF={font:"15px serif",strokeStyle:"#fff0",fillStyle:"#ff0000"},Va={src:"",fps:30,vibrate:300,decode:"utf-8",isBeep:!0,constraints:NX,canvasStyles:[lF,dF]};var qw=()=>"zbarWasm"in window;const kt=(n,e,t)=>{t?n.error(t):n.next(e),n.complete()},uF=(n=!1)=>{if(!1===n)return;const e=new Audio("data:audio/mpeg;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU4LjI5LjEwMAAAAAAAAAAAAAAA/+M4wAAAAAAAAAAAAEluZm8AAAAPAAAABQAAAkAAgICAgICAgICAgICAgICAgICAgKCgoKCgoKCgoKCgoKCgoKCgoKCgwMDAwMDAwMDAwMDAwMDAwMDAwMDg4ODg4ODg4ODg4ODg4ODg4ODg4P//////////////////////////AAAAAExhdmM1OC41NAAAAAAAAAAAAAAAACQEUQAAAAAAAAJAk0uXRQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/+MYxAANQAbGeUEQAAHZYZ3fASqD4P5TKBgocg+Bw/8+CAYBA4XB9/4EBAEP4nB9+UOf/6gfUCAIKyjgQ/Kf//wfswAAAwQA/+MYxAYOqrbdkZGQAMA7DJLCsQxNOij///////////+tv///3RWiZGBEhsf/FO/+LoCSFs1dFVS/g8f/4Mhv0nhqAieHleLy/+MYxAYOOrbMAY2gABf/////////////////usPJ66R0wI4boY9/8jQYg//g2SPx1M0N3Z0kVJLIs///Uw4aMyvHJJYmPBYG/+MYxAgPMALBucAQAoGgaBoFQVBUFQWDv6gZBUFQVBUGgaBr5YSgqCoKhIGg7+IQVBUFQVBoGga//SsFSoKnf/iVTEFNRTMu/+MYxAYAAANIAAAAADEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV");e.oncanplaythrough=()=>{const t=e.play();t&&t.catch(i=>{})}},FX=(n,e,t,i)=>{let r,o,s=e.width,a=e.height,c=s/a,l=parseInt(getComputedStyle(e).width),d=parseInt(getComputedStyle(e).height),u=l/d;t.innerHTML="",c>u?(r=l/s,o=l/c/a):(o=d/a,r=d*c/s);for(let f=0;f<n.length;f++){const m=n[f];let y=document.createElement("canvas"),C=y.getContext("2d",{willReadFrequently:!0}),T={},S=[],D=[],L=0,Y=0,re=2===i.length&&i[1]?.font?.replace(/[^0-9]/g,"");re&&/[0-9]/g.test(re)&&(L=parseFloat(re),Y=(r||1)*L,Number.isNaN(Y)&&(Y=L));const ue=m.points;for(let Gt=0;Gt<ue.length;Gt++){const Ld=ue?.[Gt]?.x??0,Vd=ue?.[Gt]?.y??0;T[`x${Gt+1}`]=Ld,T[`y${Gt+1}`]=Vd,S.push(Ld),D.push(Vd)}let Fe=Math.max(...S),it=Math.min(...S),kn=Math.max(...D),er=Math.min(...D);y.setAttribute("class","qrcode-polygon"),c>u?(y.style.top=er*o+.5*(d-l/c)+"px",y.style.left=it*r+"px",y.width=(Fe-it)*r,y.height=(kn-er)*r):(y.style.top=er*o+"px",y.style.left=it*r+.5*(l-d*c)+"px",y.width=(Fe-it)*o,y.height=(kn-er)*o);for(const Gt in i[0])C[Gt]=i[0][Gt];const Of=[];for(let Gt=0;Gt<S.length;Gt++)Of.push((T[`x${Gt+1}`]-it)*o),Of.push((T[`y${Gt+1}`]-er)*r);const po=Of.slice(0);for(C.beginPath(),C.moveTo(po.shift(),po.shift());po.length;)C.lineTo(po.shift(),po.shift());if(C.closePath(),C.fill(),C.stroke(),L){const Gt=document.createElement("div");Gt.setAttribute("class","qrcode-tooltip-temp"),Gt.innerText=m.value,Gt.style.maxWidth=(s>window.innerWidth?.9*window.innerWidth:s)+"px",Gt.style.borderRadius=`clamp(1px, ${r*L-10}px, 3px)`,Gt.style.paddingBlock=`clamp(1px, ${r*L-10}px, 3px)`,Gt.style.paddingInline=`clamp(2.5px, ${r*L-6}px, 10px)`;const Ld=`<svg xmlns="http://www.w3.org/2000/svg" width="${Y}" height="${Y}" viewBox="0 0 512 512"><rect x="128" y="128" width="336" height="336" rx="57" ry="57"></rect><path d="M383.5,128l.5-24a56.16,56.16,0,0,0-56-56H112a64.19,64.19,0,0,0-64,64V328a56.16,56.16,0,0,0,56,56h24"></path></svg>`,Vd=(new DOMParser).parseFromString(Ld,"application/xml"),_e=Gt.ownerDocument.importNode(Vd.documentElement,!0);_e.style.marginLeft=`clamp(1px, ${r*L-10}px, 3px)`,Gt.appendChild(_e),_e.addEventListener("click",()=>window.navigator.clipboard.writeText(m.value)),Gt.addEventListener("click",()=>window.navigator.clipboard.writeText(m.value));const we=document.createElement("div");we.setAttribute("class","qrcode-tooltip"),we.appendChild(Gt),o=d/a,r=d*c/s,we.style.fontSize=r*L+"px",we.style.top=er*o+"px",we.style.left=it*r+.5*(l-d*c)+"px",we.style.width=(Fe-it)*o+"px",we.style.height=(kn-er)*o+"px";const De=document.createElement("span");De.innerText=m.value,De.style.top=er*o+-20*o+"px",De.style.left=it*r+.5*(l-d*c)+"px";const wt=i[1]?.font?.split(" ")?.[1];De.style.fontFamily=wt,De.style.fontSize=r*L+"px",De.style.color=i?.[1]?.fillStyle,t?.appendChild(we),t?.appendChild(De)}t?.appendChild(y)}},LX=(n,e)=>new Promise((t,i)=>n.toBlob(r=>t(r),e)),VX=(n=[],e,t,i,r=new To)=>(BX(n,t,i).then(o=>{Promise.all(Object.assign([],n).map(s=>((n,e)=>{let t=e?.decode??Va.decode,i=2===e?.canvasStyles?.length?e?.canvasStyles:[lF,dF],r=e?.isBeep??Va.isBeep;return new Promise((o,s)=>{const a=new FileReader;a.onload=()=>{const c={name:n.name,file:n,url:URL.createObjectURL(n)},l=new Image;l.setAttribute("crossOrigin","anonymous"),l.onload=_(function*(){const d=document.createElement("canvas");d.width=l.naturalWidth||l.width,d.height=l.naturalHeight||l.height;const u=d.getContext("2d");u.drawImage(l,0,0,d.width,d.height);const f=u.getImageData(0,0,d.width,d.height);if(qw()){const m=yield zbarWasm.scanImageData(f);if(m?.length){m.forEach(S=>S.value=S.decode(t?.toLocaleLowerCase())),((n,e,t)=>{let i=e.getContext("2d",{willReadFrequently:!0});for(let r=0;r<n.length;r++){const o=n[r];let s={},a=[],c=[],l=0,u=t[1]?.font?.split(" ")?.[0]?.replace(/[^0-9]/g,"");u&&/[0-9]/g.test(u)&&(l=parseFloat(u));const f=o.points;for(let D=0;D<f.length;D++){const L=f?.[D]?.x??0,Y=f?.[D]?.y??0;s[`x${D+1}`]=L,s[`y${D+1}`]=Y,a.push(L),c.push(Y)}let m=Math.min(...a),y=Math.min(...c);const C=()=>{for(const Y in t[0])i[Y]=t[0][Y];const D=[];for(let Y=0;Y<a.length;Y++)D.push(s[`x${Y+1}`]),D.push(s[`y${Y+1}`]);const L=D.slice(0);for(i.beginPath(),i.moveTo(L.shift(),L.shift());L.length;)i.lineTo(L.shift(),L.shift());i.closePath(),i.fill(),i.stroke()};let T=document.createElement("canvas");const S=()=>{const D=t[1]?.font?.split(" ")?.[1];T.height=e.height,T.width=e.width;let L=T.getContext("2d",{willReadFrequently:!0});L.font=l+"px "+D;for(const Y in t[1])L[Y]=t[1][Y];o2e(L,o.value,m,y-5)};C(),S(),i.drawImage(T,0,0)}})(m,d,i);const y=yield LX(d),C=URL.createObjectURL(y);o(Object.assign({},c,{data:m,url:C,canvas:d,file:(S=y,D=c.name,new File([S],D,{lastModified:(new Date).getTime(),type:S.type}))})),uF(r)}else o(Object.assign({},c,{data:m,canvas:d}))}var S,D}),l.src=c.url},a.onerror=c=>s(c),a.readAsDataURL(n)})})(s,e))).then(s=>{kt(r,s)}).catch(s=>kt(r,null,s))}),r),o2e=(n,e,t,i)=>{let r=1.2*n.measureText("M").width,o=e.split("\n");for(var s=0;s<o.length;++s)n.fillText(o[s],t,i),n.strokeText(o[s],t,i),i+=r},BX=function(){var n=_(function*(e=[],t=.5,i="image/jpeg"){if(!e.length||1===t)return e;const r=function(){var s=_(function*(a){const c=yield createImageBitmap(a),l=document.createElement("canvas");l.width=c.width,l.height=c.height,l.getContext("2d").drawImage(c,0,0);const u=yield new Promise(f=>l.toBlob(f,i,t));return new File([u],a.name,{type:u.type})});return function(c){return s.apply(this,arguments)}}(),o=new DataTransfer;return yield _(function*(){for(const s of e){if(!s.type.startsWith("image")){o.items.add(s);continue}const a=yield r(s);o.items.add(a)}})(),o.files});return function(){return n.apply(this,arguments)}}(),zX=n=>{Object.assign([],n.childNodes).forEach(e=>n.removeChild(e))},hF=(n,e)=>{n.style.width=e.offsetWidth+"px",n.style.height=e.offsetHeight+"px"},UX=(n=300)=>{n&&a2e()&&window?.navigator?.vibrate(n)},a2e=()=>{const n=navigator.userAgent||navigator.vendor||window.opera;return!(!/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(n)&&!/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(n.substr(0,4))||/^((?!chrome|android).)*safari/i.test(n))};let fF=(()=>{class n{loadFiles(t=[],i,r){const o=new To;return BX(t,i,r).then(s=>{Promise.all(Object.assign([],t).map(a=>this.readAsDataURL(a))).then(a=>kt(o,a)).catch(a=>kt(o,null,a))}),o}loadFilesToScan(t=[],i,r,o){return VX(t,i,r,o)}readAsDataURL(t){return new Promise((i,r)=>{const o=new FileReader;o.onload=()=>{const s={name:t.name,file:t,url:URL.createObjectURL(t)};i(s)},o.onerror=s=>r(s),o.readAsDataURL(t)})}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),jX=(()=>{class n{constructor(t,i){this.renderer=t,this.elementRef=i,this.event=new Xe,this.src=Va.src,this.fps=Va.fps,this.vibrate=Va.vibrate,this.decode=Va.decode,this.isBeep=Va.isBeep,this.config=Va,this.constraints=Va.constraints,this.canvasStyles=[lF,dF],this.isStart=!1,this.isPause=!1,this.isLoading=!1,this.isTorch=!1,this.data=new yr([]),this.devices=new yr([]),this.deviceIndexActive=0,this.dataForResize=[],this.ready=new To,this.STATUS={startON:()=>this.isStart=!0,pauseON:()=>this.isPause=!0,loadingON:()=>this.isLoading=!0,startOFF:()=>this.isStart=!1,pauseOFF:()=>this.isPause=!1,loadingOFF:()=>this.isLoading=!1,torchOFF:()=>this.isTorch=!1}}ngOnInit(){this.overrideConfig(),((n=new To,e)=>{let t=0;const i=(r=!1)=>{const o=()=>{let c;try{const l=()=>{clearTimeout(c),qw()?setTimeout(()=>kt(n,!0)):c=setTimeout(()=>l())};setTimeout(()=>l()),setTimeout(()=>clearTimeout(c),3e3)}catch{clearTimeout(c)}},s=document.querySelectorAll(`script[src="${P_}"]`),a=document.querySelectorAll('script[src="https://cdn.jsdelivr.net/npm/ngx-scanner-qrcode@latest/wasm/index.js"]');if(s.length||a.length)o();else{const c=document.querySelectorAll(`script[src="${cF}"]`);if(1===c.length)o();else if(c.forEach(l=>l.remove()),e){const l=e.createElement("script");e.setAttribute(l,"src",r?P_:cF),e.setAttribute(l,"type","text/javascript"),e.setAttribute(l,"async",""),e.appendChild(document.head,l),l.onload=()=>o(),l.onerror=()=>{t<2?(document.head.removeChild(l),i(!0)):kt(n,!1,P_)},t+=1}else{const l=document.createElement("script");l.setAttribute("src",r?P_:cF),l.setAttribute("type","text/javascript"),l.setAttribute("async",""),document.head.appendChild(l),l.onload=()=>o(),l.onerror=()=>{t<2?(document.head.removeChild(l),i(!0)):kt(n,!1,P_)},t+=1}}};return i(),n})(this.ready,this.renderer).subscribe(()=>{this.src&&this.loadImage(this.src),this.resize()})}start(t){const i=new To;return this.isStart?kt(i,!1):this.safariWebRTC(i,t),i}stop(){this.STATUS.pauseOFF(),this.STATUS.startOFF(),this.STATUS.torchOFF(),this.STATUS.loadingOFF();const t=new To;try{clearTimeout(this.rAF_ID),this.video.nativeElement.srcObject.getTracks().forEach(i=>{i.stop(),kt(t,!0)}),this.dataForResize=[],(n=>{n.getContext("2d",{willReadFrequently:!0}).clearRect(0,0,n.width,n.height)})(this.canvas.nativeElement),zX(this.resultsPanel.nativeElement)}catch(i){kt(t,!1,i)}return t}play(){const t=new To;return this.isPause?(this.video.nativeElement.play(),this.STATUS.pauseOFF(),this.requestAnimationFrame(),kt(t,!0)):kt(t,!1),t}pause(){const t=new To;return this.isStart?(clearTimeout(this.rAF_ID),this.video.nativeElement.pause(),this.STATUS.pauseON(),kt(t,!0)):kt(t,!1),t}playDevice(t,i=new To){const r=this.getConstraints();switch(!0){case"null"===t||"undefined"===t||!t:stop(),this.stop(),kt(i,!1);break;case t&&(!this.isStart||!r||r.deviceId!==t):stop(),this.stop(),this.STATUS.loadingON(),this.deviceIndexActive=this.devices.value.findIndex(a=>a.deviceId===t);const s={...this.constraints,audio:!1,video:{deviceId:t,...this.constraints.video}};navigator.mediaDevices.getUserMedia(s).then(a=>{this.video.nativeElement.srcObject=a,this.video.nativeElement.onloadedmetadata=()=>{this.video.nativeElement.play(),this.requestAnimationFrame(),kt(i,!0),this.STATUS.startON(),this.STATUS.loadingOFF()}}).catch(a=>{this.eventEmit(!1),kt(i,!1,a),this.STATUS.startOFF(),this.STATUS.loadingOFF()});break;default:kt(i,!1),this.STATUS.loadingOFF()}return i}loadImage(t){const i=new To;this.STATUS.startOFF(),this.STATUS.loadingON();const r=new Image;return r.setAttribute("crossOrigin","anonymous"),r.onload=()=>{qw()&&this.drawImage(r,o=>{kt(i,o),this.STATUS.startOFF(),this.STATUS.loadingOFF()})},r.src=t,i}torcher(){const t=this.applyConstraints({advanced:[{torch:this.isTorch}]});return t.subscribe(()=>!1,()=>this.isTorch=!this.isTorch),t}applyConstraints(t,i=0){var r=this;const o=new To;if(this.isStart){const s=this.video.nativeElement.srcObject;if(null===i&&void 0===i&&Number.isNaN(i))kt(o,!1,"Please check again deviceIndex");else{const a=s.getVideoTracks()[i];new window.ImageCapture(a).getPhotoCapabilities().then(_(function*(){yield a.applyConstraints(t),hF(r.video.nativeElement,r.canvas.nativeElement),kt(o,!0)})).catch(l=>{switch(l?.name){case"NotFoundError":case"DevicesNotFoundError":kt(o,!1,"Required track is missing");break;case"NotReadableError":case"TrackStartError":kt(o,!1,"Webcam or mic are already in use");break;case"OverconstrainedError":case"ConstraintNotSatisfiedError":kt(o,!1,"Constraints can not be satisfied by avb. devices");break;case"NotAllowedError":case"PermissionDeniedError":kt(o,!1,"Permission denied in browser");break;case"TypeError":kt(o,!1,"Empty constraints object");break;default:kt(o,!1,l)}})}}else kt(o,!1,"Please start the scanner");return o}getConstraints(t=0){return this.video.nativeElement.srcObject?.getVideoTracks()[t]?.getConstraints()}download(t=`ngx_scanner_qrcode_${Date.now()}.png`,i,r){var o=this;const s=new To;return _(function*(){const c=((n,e)=>new File([n],e,{lastModified:(new Date).getTime(),type:n.type}))(yield LX(o.canvas.nativeElement),t);VX([c],o.config,i,r,s).subscribe(l=>{l.forEach(d=>{if(d?.data?.length){const u=document.createElement("a");u.href=d.url,u.download=d.name,u.click(),u.remove()}})})})(),s}resize(){window.addEventListener("resize",()=>{FX(this.dataForResize,this.canvas.nativeElement,this.resultsPanel.nativeElement,this.canvasStyles),hF(this.video.nativeElement,this.canvas.nativeElement)})}overrideConfig(){"src"in this.config&&(this.src=this.config.src),"fps"in this.config&&(this.fps=this.config.fps),"vibrate"in this.config&&(this.vibrate=this.config.vibrate),"decode"in this.config&&(this.decode=this.config.decode),"isBeep"in this.config&&(this.isBeep=this.config.isBeep),"constraints"in this.config&&(this.constraints=((n,e,t)=>{if(e&&Object.keys(e[n]).length){for(const i in t){const r=JSON.parse(JSON.stringify({...e[n],[i]:t[i]}));e[n]=e[n].hasOwnProperty(i)?e[n]:r}return e[n]}return t})("constraints",this.config,NX)),"canvasStyles"in this.config&&2===this.config?.canvasStyles?.length&&(this.canvasStyles=this.config.canvasStyles)}safariWebRTC(t,i){this.STATUS.startOFF(),this.STATUS.loadingON(),navigator.mediaDevices.getUserMedia(this.constraints).then(r=>{r.getTracks().forEach(o=>o.stop()),this.loadAllDevices(t,i)}).catch(r=>{kt(t,!1,r),this.STATUS.startOFF(),this.STATUS.loadingOFF()})}loadAllDevices(t,i){navigator.mediaDevices.enumerateDevices().then(r=>{let o=r.filter(s=>"videoinput"==s.kind);this.devices.next(o),o?.length>0?(kt(t,o),i?i(o):this.playDevice(o[0].deviceId)):(kt(t,!1,"No camera detected."),this.STATUS.startOFF(),this.STATUS.loadingOFF())}).catch(r=>{kt(t,!1,r),this.STATUS.startOFF(),this.STATUS.loadingOFF()})}drawImage(t,i=(()=>{})){var r=this;return _(function*(){const o=r.canvas.nativeElement,s=o.getContext("2d",{willReadFrequently:!0});t instanceof HTMLImageElement&&(o.width=t.naturalWidth,o.height=t.naturalHeight,t.style.visibility="",r.video.nativeElement.style.visibility="hidden",r.renderer.setStyle(r.elementRef.nativeElement,"width",o.width+"px"),r.renderer.setStyle(r.elementRef.nativeElement,"maxWidth","100%"),r.renderer.setStyle(r.elementRef.nativeElement,"display","inline-block")),t instanceof HTMLVideoElement&&(o.width=t.videoWidth,o.height=t.videoHeight,t.style.visibility="",r.canvas.nativeElement.style.visibility="hidden"),hF(r.video.nativeElement,o),s.clearRect(0,0,o.width,o.height),s.drawImage(t,0,0,o.width,o.height);const a=s.getImageData(0,0,o.width,o.height),c=yield zbarWasm.scanImageData(a);if(c?.length){c.forEach(d=>d.value=d.decode(r.decode?.toLocaleLowerCase())),FX(c,Object.freeze(r.canvas.nativeElement),r.resultsPanel.nativeElement,r.canvasStyles);const l=()=>{r.eventEmit(c),r.dataForResize=c};t instanceof HTMLImageElement&&(i(!0),l(),UX(r.vibrate),uF(r.isBeep)),t instanceof HTMLVideoElement&&(l(),UX(r.vibrate),uF(r.isBeep))}else i(!1),zX(r.resultsPanel.nativeElement),r.dataForResize=[]})()}eventEmit(t=!1){!1!==t&&this.data.next(t||[]),!1!==t&&this.event.emit(t||[])}requestAnimationFrame(t=100){try{clearTimeout(this.rAF_ID),this.rAF_ID=setTimeout(()=>{this.video.nativeElement.readyState===this.video.nativeElement.HAVE_ENOUGH_DATA&&(t=0,qw()&&this.drawImage(this.video.nativeElement),this.isStart&&!this.isPause&&this.requestAnimationFrame(t))},t||this.fps)}catch{clearTimeout(this.rAF_ID)}}get isReady(){return this.ready}ngOnDestroy(){this.pause()}static{this.\u0275fac=function(i){return new(i||n)(E(us),E(Lt))}}static{this.\u0275cmp=be({type:n,selectors:[["ngx-scanner-qrcode"]],viewQuery:function(i,r){if(1&i&&(zn(QNe,5),zn(XNe,5),zn(ZNe,5)),2&i){let o;xn(o=wn())&&(r.video=o.first),xn(o=wn())&&(r.canvas=o.first),xn(o=wn())&&(r.resultsPanel=o.first)}},hostAttrs:[1,"ngx-scanner-qrcode"],inputs:{src:"src",fps:"fps",vibrate:"vibrate",decode:"decode",isBeep:"isBeep",config:"config",constraints:"constraints",canvasStyles:"canvasStyles"},outputs:{event:"event"},exportAs:["scanner"],decls:6,vars:0,consts:[[1,"origin-overlay"],["resultsPanel",""],[1,"origin-canvas"],["canvas",""],["playsinline","",1,"origin-video"],["video",""]],template:function(i,r){1&i&&$(0,"div",0,1)(2,"canvas",2,3)(4,"video",4,5)},styles:[".ngx-scanner-qrcode{display:block;position:relative}.origin-overlay{width:100%;position:absolute}.origin-overlay span{z-index:2;text-align:left;position:absolute}.origin-overlay .qrcode-polygon{z-index:1;position:absolute}.origin-canvas{width:100%;position:absolute}.origin-video{width:100%;background-color:#262626}.qrcode-tooltip{z-index:3;position:absolute}.qrcode-tooltip:hover .qrcode-tooltip-temp{display:block;position:absolute;cursor:copy}.qrcode-tooltip:hover .qrcode-tooltip-temp:active{color:#afafaf}.qrcode-tooltip .qrcode-tooltip-temp{bottom:0;left:50%;color:#fff;text-align:left;display:none;width:max-content;word-wrap:break-word;transform:translate(-50%);transform-style:preserve-3d;background-color:#000000d0;box-shadow:1px 1px 20px #000000e0}.qrcode-tooltip .qrcode-tooltip-temp svg{cursor:pointer}.qrcode-tooltip .qrcode-tooltip-temp svg rect{fill:none;stroke:#fff;stroke-linejoin:round;stroke-width:32px}.qrcode-tooltip .qrcode-tooltip-temp svg path{fill:none;stroke:#fff;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px}.qrcode-tooltip .qrcode-tooltip-temp svg:active rect{stroke:#afafaf}.qrcode-tooltip .qrcode-tooltip-temp svg:active path{stroke:#afafaf}\n"],encapsulation:2})}}return n})(),Ww=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ot({type:n})}static{this.\u0275inj=tt({providers:[fF]})}}return n})();const h2e=["action"];function f2e(n,e){1&n&&(p(0,"p"),g(1,"\u231b Loading..."),h())}let p2e=(()=>{class n{constructor(t,i,r,o,s){this.qrcode=t,this.router=i,this.route=r,this.auth=o,this.firestore=s,this.data=[],this.config={constraints:{video:{width:window.innerWidth}}},this.qrCodeResult=[],this.qrCodeResult2=[],this.getData()}ngAfterViewInit(){this.action.isReady.subscribe(t=>{})}onEvent(t,i){console.log(t[0].value),this.item=t[0].value,this.MyQuery()}handle(t,i){"start"===i?t[i](o=>{const s=o.find(a=>/back|rear|environment/gi.test(a.label));t.playDevice(s?s.deviceId:o[0].deviceId)}).subscribe(o=>console.log(i,o),alert):t[i]().subscribe(o=>console.log(i,o),alert)}onDowload(t){t.download().subscribe(console.log,alert)}onSelects(t){this.qrcode.loadFiles(t,.5).subscribe(i=>{this.qrCodeResult=i})}onSelects2(t){this.qrcode.loadFilesToScan(t,this.config,.5).subscribe(i=>{console.log(i),this.qrCodeResult2=i})}getData(){const t=me(this.firestore,"muestras");oe(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}MyQuery(){var t=this;return _(function*(){let i=t.item;console.log(i);const r=Mt(me(t.firestore,"muestras"),Dt("codigo","==",i));oe(r).then(o=>{t.data=[...o.docs.map(s=>({...s.data(),id:s.id}))],0!=t.data.length&&(t.handle(t.action,"stop"),t.router.navigate(["user/muestras-info/"+i]))})})()}static{this.\u0275fac=function(i){return new(i||n)(E(fF),E(Ee),E(qe),E(Oe),E(He))}}static{this.\u0275cmp=be({type:n,selectors:[["app-scan"]],viewQuery:function(i,r){if(1&i&&zn(h2e,5),2&i){let o;xn(o=wn())&&(r.action=o.first)}},decls:6,vars:8,consts:[[1,"container"],[1,"screen",3,"config","event"],["action","scanner"],[4,"ngIf"],[1,"btn",3,"disabled","click"],["width","30px",3,"src"]],template:function(i,r){if(1&i){const o=ct();p(0,"div",0)(1,"ngx-scanner-qrcode",1,2),F("event",function(a){ye(o);const c=Vt(2);return ve(r.onEvent(a,c))}),h(),Ot(3,f2e,2,0,"p",3),p(4,"button",4),F("click",function(){ye(o);const a=Vt(2);return ve(r.handle(a,a.isStart?"stop":"start"))}),$(5,"img",5),h()()}if(2&i){const o=Vt(2);P(),Ve("config",r.config),P(2),Ve("ngIf",o.isLoading),P(),ar("btn-info",!o.isStart)("btn-warning",o.isStart),Ve("disabled",o.isLoading),P(),Ve("src",o.isStart?"https://id1945.github.io/images/svg/camera-off.svg":"https://id1945.github.io/images/svg/camera-on.svg",oa)}},dependencies:[qp,jX],styles:["h1[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{font-weight:600;word-break:break-all;font-family:Courier New,Courier,monospace}div[_ngcontent-%COMP%]{text-align:center}div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:50%;height:60px;width:60px;margin:4px}div[_ngcontent-%COMP%]   buttondisabled[_ngcontent-%COMP%]{cursor:no-drop}div[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]{background:#faebd7;border-radius:5px}.origin-overlay[_ngcontent-%COMP%]   .qrcode-tooltip[_ngcontent-%COMP%]   .qrcode-tooltip-temp[_ngcontent-%COMP%]{padding:5px!important}.screen[_ngcontent-%COMP%]{display:block;height:55%;width:55%;margin-left:auto;margin-right:auto}.container[_ngcontent-%COMP%]{top:25%;width:85%;position:absolute;left:15%}@media only screen and (max-width: 768px){h1[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{font-weight:600;word-break:break-all;font-family:Courier New,Courier,monospace}div[_ngcontent-%COMP%]{text-align:center}div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:50%;height:60px;width:60px;margin:10px 4px 4px}div[_ngcontent-%COMP%]   buttondisabled[_ngcontent-%COMP%]{cursor:no-drop}div[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]{background:#faebd7;border-radius:5px}.origin-overlay[_ngcontent-%COMP%]   .qrcode-tooltip[_ngcontent-%COMP%]   .qrcode-tooltip-temp[_ngcontent-%COMP%]{padding:5px!important}.screen[_ngcontent-%COMP%]{display:block;height:80%;width:80%;margin-left:auto;margin-right:auto}.container[_ngcontent-%COMP%]{top:28%;width:100%;position:absolute;left:0%}}@media only screen and (min-width: 1536px){.screen[_ngcontent-%COMP%]{display:block;height:40%;width:40%;margin-left:auto;margin-right:auto}}"]})}}return n})();const m2e=["geo"];let g2e=(()=>{class n{static{this.text=""}constructor(t,i,r,o,s,a){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.location=s,this.datePipe=a,this.title="gestion-de-muestras-de-campo",this.data=[],this.res="",this.fotoUrls={},this.somethingChange=new Xe}ngOnInit(){this.route.params.subscribe(t=>{this.x=t.id}),this.getData(),this.MyQuery()}onFileSelected(t,i){var r=this;return _(function*(){const o=t.target.files[0];if(o){const a=sF(aF(),`muestras/${i}/${o.name}`);try{const c=yield rF(a,o),l=yield oF(c.ref);r.fotoUrls[i]=l,alert(`Imagen de ${i} subida con \xe9xito.`)}catch(c){console.error("Error al subir la imagen:",c),alert("Ocurri\xf3 un error al guardar la imagen.")}}})()}handleRegister(t){this.addData({...t,fotos:this.fotoUrls}),this.backPage()}addData(t){var i=this;return _(function*(){const r=Ce(i.firestore,"muestras",t.codigo);t.fecha=i.datePipe.transform(t.fecha,"dd/MM/yyyy"),ai(r,{codigo:t.codigo,cliente:t.cliente,fecha:t.fecha,cultivo:t.cultivo,tipo:t.tipo,fitopatogeno:t.fitopatogeno,repeticion:t.repeticion,coordenadas:t.coordenadas,sintomas:t.sintomas,comentarios:t.comentarios,lote:t.lote,fotos:t.fotos,resultados:t.resultados,estadoDiag:t.estadoDiag}).then(()=>{alert("Data Sent")}).catch(o=>{alert(o.message)})})()}getData(){const t=me(this.firestore,"muestras");oe(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}convertDecimalToDMS(t,i){const r=Math.floor(Math.abs(t)),o=60*(Math.abs(t)-r),s=Math.floor(o);let c="";return c=i?t>=0?"N":"S":t>=0?"E":"W",`${r}\xb0 ${s}' ${(60*(o-s)).toFixed(2)}'' ${c}`}showPosition(t){var r=t.coords.longitude,o=t.coords.latitude.toFixed(6),s=r.toFixed(6);n.text=o+", "+s}getLocation(){var t=this;return _(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{t.res=n.text},1e3)})()}MyQuery(){var t=this;return _(function*(){let i=t.x;const r=Mt(me(t.firestore,"muestras"),Dt("codigo","==",i)),o=yield oe(r);o.empty||o.forEach(s=>{t.item=s.data(),t.res=t.item.coordenadas,t.pid=t.item.project,t.fotoUrls={inicial:t.item.fotos.inicial,tipico:t.item.fotos.tipico,tardios:t.item.fotos.tardios}})})()}backPage(){this.location.back()}deleteData(t){if(1==confirm("Seguro que desea eliminar esta Muestra?")){const o=Ce(this.firestore,"muestras",this.x);en(o).then(()=>{alert("Data Deleted"),this.Home()}).catch(s=>{alert(s.message)})}}Home(){this.router.navigate(["user/unidad-produccion-all"])}static{this.\u0275fac=function(i){return new(i||n)(E(Ee),E(qe),E(Oe),E(He),E(En),E(vI))}}static{this.\u0275cmp=be({type:n,selectors:[["app-muestras-edit"]],viewQuery:function(i,r){if(1&i&&zn(m2e,5),2&i){let o;xn(o=wn())&&(r.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:109,vars:16,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],["name","codigo","ngModel","","placeholder","codigo","id","codigo","type","codigo",1,"input-field",3,"ngModel","ngModelChange"],["name","cliente","ngModel","","placeholder","Cliente","id","cliente","type","cliente",1,"input-field",3,"ngModel","ngModelChange"],["name","fecha","ngModel","","placeholder","Fecha","id","fecha","type","date",1,"input-field",3,"ngModel","ngModelChange"],["name","cultivo","ngModel","","placeholder","Cultivo","id","cultivo","type","cultivo",1,"input-field",3,"ngModel","ngModelChange"],["list","tipos","name","tipo","ngModel","","placeholder","Tipo","id","tipo","type","tipo",1,"input-field",3,"ngModel","ngModelChange"],["value","","disabled","","selected",""],["value","Hibrido"],["value","Variedad"],["value","Clone"],["list","fitopatogenos","name","fitopatogeno","ngModel","","placeholder","Fitopat\xf3geno","id","fitopatogeno","type","fitopatogeno",1,"input-field",3,"ngModel","ngModelChange"],["value","Hongos"],["value","Bacterias"],["value","Virus"],["name","lote","ngModel","","placeholder","Lote","id","lote","type","lote",1,"input-field",3,"ngModel","ngModelChange"],["name","repeticion","ngModel","","placeholder","Repeticion","id","repeticion","type","repeticion",1,"input-field",3,"ngModel","ngModelChange"],["id","EstadoDiag",1,"Text"],["list","estadoDiag","name","estadoDiag","ngModel","","placeholder","Estado de Diagnostico","type","estadoDiag","id","SelectEstadoDiag",1,"input-field",3,"ngModel","ngModelChange"],["name","coordenadas","ngModel","","placeholder","Coordenadas","id","coordenadas","type","coordenadas",1,"input-field",3,"ngModel","ngModelChange"],[1,"bUbicacion",3,"click"],["src","../../../../assets/Ubicacion.png","alt","U"],[1,"subTituloSeccion"],[1,"block-foto"],[1,"input-fields",2,"margin-bottom","10px"],["id","Text-Sintomas",1,"Text"],["name","foto-inicial","type","file",1,"input-field-2",3,"ngModel","change","ngModelChange"],["name","foto-tipico","type","file",1,"input-field-2",3,"ngModel","change","ngModelChange"],["name","foto-tardios","type","file",1,"input-field-2",3,"ngModel","change","ngModelChange"],["name","sintomas","ngModel","","placeholder","S\xedntomas","id","sintomas","type","sintomas",1,"input-field",3,"ngModel","ngModelChange"],["name","comentarios","ngModel","","placeholder","Comentarios","id","comentarios","type","comentarios",1,"input-field",3,"ngModel","ngModelChange"],["name","resultados","ngModel","","placeholder","Resultados","id","resultados","type","resultados",1,"input-field",3,"ngModel","ngModelChange"],[1,"boton",3,"click"],["id","Guardar",1,"boton"],["type","button","id","volver",1,"boton",3,"click"],["type","button",1,"botonrojo",3,"click"],[1,"blank"]],template:function(i,r){if(1&i){const o=ct();p(0,"p"),g(1,"muestras-edit works!"),h(),p(2,"h1",0),g(3,"Editar Muestra"),h(),p(4,"div",1)(5,"form",2,3),F("ngSubmit",function(){ye(o);const a=Vt(6);return ve(r.handleRegister(a.value))}),p(7,"div",4)(8,"div",5)(9,"span",6),g(10,"Codigo:"),h(),p(11,"input",7),Qe("ngModelChange",function(a){return Je(r.item.codigo,a)||(r.item.codigo=a),a}),h()(),p(12,"div",5)(13,"span",6),g(14,"Cliente:"),h(),p(15,"input",8),Qe("ngModelChange",function(a){return Je(r.item.cliente,a)||(r.item.cliente=a),a}),h()(),p(16,"div",5)(17,"span",6),g(18,"Fecha:"),h(),p(19,"input",9),Qe("ngModelChange",function(a){return Je(r.item.fecha,a)||(r.item.fecha=a),a}),h()(),p(20,"div",5)(21,"span",6),g(22,"Cultivo:"),h(),p(23,"input",10),Qe("ngModelChange",function(a){return Je(r.item.cultivo,a)||(r.item.cultivo=a),a}),h()(),p(24,"div",5)(25,"span",6),g(26,"Tipo de Cultivo:"),h(),p(27,"select",11),Qe("ngModelChange",function(a){return Je(r.item.tipo,a)||(r.item.tipo=a),a}),p(28,"option",12),g(29,"Seleccione un tipo de cultivo"),h(),p(30,"option",13),g(31," Hibrido "),h(),p(32,"option",14),g(33," Variedad "),h(),p(34,"option",15),g(35," Clone "),h()()(),p(36,"div",5)(37,"span",6),g(38,"Fitopat\xf3geno:"),h(),p(39,"select",16),Qe("ngModelChange",function(a){return Je(r.item.fitopatogeno,a)||(r.item.fitopatogeno=a),a}),p(40,"option",12),g(41,"Seleccione un fitopat\xf3geno"),h(),p(42,"option",17),g(43," Hongos "),h(),p(44,"option",18),g(45," Bacterias "),h(),p(46,"option",19),g(47," Virus "),h()()(),p(48,"div",5)(49,"span",6),g(50,"Lote:"),h(),p(51,"input",20),Qe("ngModelChange",function(a){return Je(r.item.lote,a)||(r.item.lote=a),a}),h()(),p(52,"div",5)(53,"span",6),g(54,"Repetici\xf3n:"),h(),p(55,"input",21),Qe("ngModelChange",function(a){return Je(r.item.repeticion,a)||(r.item.repeticion=a),a}),h()(),p(56,"div",5)(57,"span",22),g(58,"Estado de Diagnostico:"),h(),p(59,"select",23),Qe("ngModelChange",function(a){return Je(r.item.estadoDiag,a)||(r.item.estadoDiag=a),a}),p(60,"option",12),g(61,"Seleccione un Estado de Diagnostico"),h(),p(62,"option",17),g(63," Sin Procesar "),h(),p(64,"option",18),g(65," En Proceso "),h(),p(66,"option",19),g(67," Finalizado "),h()()(),p(68,"div",5)(69,"span",6),g(70,"Coordenadas:"),h(),p(71,"input",24),Qe("ngModelChange",function(a){return Je(r.res,a)||(r.res=a),a}),h(),p(72,"div",25),F("click",function(){return r.getLocation()}),$(73,"img",26),h()(),p(74,"div",27),g(75,"Soporte Fotogr\xe1fico: "),h(),p(76,"div",28)(77,"div",29)(78,"span",30),g(79,"Sintomas Iniciales:"),h(),p(80,"input",31),F("change",function(a){return r.onFileSelected(a,"inicial")}),Qe("ngModelChange",function(a){return Je(r.fotoUrls.inicial,a)||(r.fotoUrls.inicial=a),a}),h()(),p(81,"div",29)(82,"span",30),g(83,"Sintomas T\xedpico:"),h(),p(84,"input",32),F("change",function(a){return r.onFileSelected(a,"tipico")}),Qe("ngModelChange",function(a){return Je(r.fotoUrls.tipico,a)||(r.fotoUrls.tipico=a),a}),h()(),p(85,"div",29)(86,"span",30),g(87,"Sintomas Tard\xedos:"),h(),p(88,"input",33),F("change",function(a){return r.onFileSelected(a,"tardios")}),Qe("ngModelChange",function(a){return Je(r.fotoUrls.tardios,a)||(r.fotoUrls.tardios=a),a}),h()()(),p(89,"div",5)(90,"span",6),g(91,"S\xedntomas:"),h(),p(92,"input",34),Qe("ngModelChange",function(a){return Je(r.item.sintomas,a)||(r.item.sintomas=a),a}),h()(),p(93,"div",5)(94,"span",6),g(95,"Comentarios:"),h(),p(96,"input",35),Qe("ngModelChange",function(a){return Je(r.item.comentarios,a)||(r.item.comentarios=a),a}),h()(),p(97,"div",5)(98,"span",6),g(99,"Resultados:"),h(),p(100,"input",36),Qe("ngModelChange",function(a){return Je(r.item.resultados,a)||(r.item.resultados=a),a}),h()(),p(101,"button",37),F("click",function(){return r.backPage()}),g(102,"Finalizar Edici\xf3n"),h(),p(103,"button",38),g(104," Guardar"),h(),p(105,"button",39),F("click",function(){return r.backPage()}),h(),p(106,"button",40),F("click",function(){return r.deleteData(r.item.id)}),g(107," Eliminar "),h()(),$(108,"div",41),h()()}2&i&&(P(11),Ye("ngModel",r.item.codigo),P(4),Ye("ngModel",r.item.cliente),P(4),Ye("ngModel",r.item.fecha),P(4),Ye("ngModel",r.item.cultivo),P(4),Ye("ngModel",r.item.tipo),P(12),Ye("ngModel",r.item.fitopatogeno),P(12),Ye("ngModel",r.item.lote),P(4),Ye("ngModel",r.item.repeticion),P(4),Ye("ngModel",r.item.estadoDiag),P(12),Ye("ngModel",r.res),P(9),Ye("ngModel",r.fotoUrls.inicial),P(4),Ye("ngModel",r.fotoUrls.tipico),P(4),Ye("ngModel",r.fotoUrls.tardios),P(4),Ye("ngModel",r.item.sintomas),P(4),Ye("ngModel",r.item.comentarios),P(4),Ye("ngModel",r.item.resultados))},dependencies:[jn,xs,ws,Mi,Ho,dr,Un,Gi,Tn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;min-height:780px;position:absolute;left:50%;top:24%;width:850px;left:clamp(350px,calc(50% - 425px),100%);margin:25px auto;padding:20px;display:flex;flex-shrink:0;flex-direction:column;justify-content:flex-start;align-items:center}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;padding-top:12px;width:90%;left:5%;top:0%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:100%;height:20px;left:92px}#SelectEstadoDiag[_ngcontent-%COMP%]{margin:10px;width:80%;height:20px;left:92px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;top:16%;text-align:center;min-width:850px;left:clamp(350px,calc(50% - 425px),100%)}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:30%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}#Text-Sintomas[_ngcontent-%COMP%]{width:25%}.subTituloSeccion[_ngcontent-%COMP%]{color:#000;font-family:Verdana;font-size:18px;text-align:left;margin-top:8px;margin-bottom:10px;left:0;width:100%}.block-foto[_ngcontent-%COMP%]{margin-left:40px;margin-bottom:15px}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{margin:2%;background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:85%;top:100%}#Guardar[_ngcontent-%COMP%]{left:70%}.botonrojo[_ngcontent-%COMP%]{margin:2%;background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:55%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}#volver[_ngcontent-%COMP%]{position:absolute;left:0%;border:none;width:50px;height:50px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(back-button-Edit4.8567daeed3ab1418.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}.blank[_ngcontent-%COMP%]{width:100%;height:16px;position:absolute;left:0%;top:110%}@media only screen and (max-width: 768px){.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.input-field[_ngcontent-%COMP%]{margin:6px 6px 6px 24px;height:20px;left:92px;color:#000;font-family:Arial;font-size:16px;letter-spacing:0;text-overflow:ellipsis}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:6px 6px 6px 22px;font-family:Arial;width:85%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:3%;top:2%}.Text[_ngcontent-%COMP%]{color:#000;height:20px;font-family:Arial;font-size:16px;letter-spacing:0}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:87%;min-height:770px;flex-shrink:0;position:absolute;left:2.5%;top:35%;transform:none;padding-bottom:20px}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:67%;top:632px;border:none;float:right;background-color:#3eb3c2;color:#fff;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}#Guardar[_ngcontent-%COMP%]{left:67%;top:685px}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:67%;top:735px}#volver[_ngcontent-%COMP%]{position:absolute;top:675px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;min-width:0px;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:27%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}.blank[_ngcontent-%COMP%]{width:100%;height:16px;position:absolute;left:0%;top:110%}}"]})}}return n})();const _2e=["geo"];function b2e(n,e){if(1&n&&(p(0,"div",4),$(1,"img",13),h()),2&n){const t=st();P(),Ve("src",t.fotoUrls.inicial,oa)}}function y2e(n,e){if(1&n&&(p(0,"div",4),$(1,"img",14),h()),2&n){const t=st();P(),Ve("src",t.fotoUrls.tipico,oa)}}function v2e(n,e){if(1&n&&(p(0,"div",4),$(1,"img",15),h()),2&n){const t=st();P(),Ve("src",t.fotoUrls.tardios,oa)}}function x2e(n,e){1&n&&(p(0,"div",4),$(1,"img",16),h()),2&n&&(P(),Ve("src","assets/landscape-placeholder.jpg",oa))}let w2e=(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.location=s,this.title="gestion-de-muestras-de-campo",this.data=[],this.mostrarFotoInicial=!0,this.mostrarFotoTipico=!1,this.mostrarFotoTardios=!1,this.fotoUrls={},this.placeholderUrl="../../../../assets/landscape-placeholder.jpg",this.somethingChange=new Xe,this.getData(),this.MyQuery()}ngOnInit(){this.route.params.subscribe(t=>{this.text=t.id}),this.getData(),this.MyQuery()}alternarFotoInicial(){this.mostrarFotoInicial=!0,this.mostrarFotoTipico=!1,this.mostrarFotoTardios=!1}alternarFotoTipico(){this.mostrarFotoInicial=!1,this.mostrarFotoTipico=!0,this.mostrarFotoTardios=!1}alternarFotoTardios(){this.mostrarFotoInicial=!1,this.mostrarFotoTipico=!1,this.mostrarFotoTardios=!0}handleRegister(t){this.addData(t)}addData(t){const i=Ce(this.firestore,"muestras",t.codigo);co(i,t).then(()=>{alert("Data Sent")}).catch(r=>{alert(r.message)}),console.log(t.comentarios)}getData(){const t=me(this.firestore,"muestras");oe(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}showPosition(t){}getLocation(){var t=this;return _(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{console.log(t.res)},1e3)})()}MyQuery(){var t=this;return _(function*(){let i=t.text;const r=Mt(me(t.firestore,"muestras"),Dt("codigo","==",i)),o=yield oe(r);o.empty||o.forEach(s=>{t.item=s.data(),t.fotoUrls={inicial:t.item.fotos.inicial,tipico:t.item.fotos.tipico,tardios:t.item.fotos.tardios}})})()}editMuestra(){this.router.navigate(["user/muestras-edit/"+this.text])}deleteData(t){const i=Ce(this.firestore,"users",t);en(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}backPage(){this.location.back()}static{this.\u0275fac=function(i){return new(i||n)(E(Ee),E(qe),E(Oe),E(He),E(En))}}static{this.\u0275cmp=be({type:n,selectors:[["app-muestras-info"]],viewQuery:function(i,r){if(1&i&&zn(_2e,5),2&i){let o;xn(o=wn())&&(r.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:76,vars:14,consts:[[1,"subTituloText"],[1,"loginBox"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],[1,"input-field"],[1,"foto-field"],[1,"BlockfotoSec"],[1,"fotoSec",3,"click"],["class","input-fields",4,"ngIf"],[1,"boton",3,"click"],["id","volver",3,"click"],["alt","Foto Inicial","onerror","this.src='../../../../assets/landscape-placeholder.jpg';",1,"foto",2,"width","250px","height","300px",3,"src"],["alt","Foto T\xedpica",1,"foto",2,"width","250px","height","300px",3,"src"],["alt","Foto Tard\xeda",1,"foto",2,"width","250px","height","300px",3,"src"],["id","placeholder","alt","placeholder",1,"foto",2,"width","250px","height","300px",3,"src"]],template:function(i,r){1&i&&(p(0,"p"),g(1,"muestras-info works!"),h(),p(2,"h1",0),g(3,"Datos de la Muestra"),h(),p(4,"div",1)(5,"form",null,2)(7,"div",3)(8,"div",4)(9,"span",5),g(10,"Codigo:"),h(),p(11,"span",6),g(12),h()(),p(13,"div",4)(14,"span",5),g(15,"Cliente:"),h(),p(16,"span",6),g(17),h()(),p(18,"div",4)(19,"span",5),g(20,"Fecha:"),h(),p(21,"span",6),g(22),h()(),p(23,"div",4)(24,"span",5),g(25,"Cultivo:"),h(),p(26,"span",6),g(27),h()(),p(28,"div",4)(29,"span",5),g(30,"Tipo:"),h(),p(31,"span",6),g(32),h()(),p(33,"div",4)(34,"span",5),g(35,"Fitopat\xf3geno:"),h(),p(36,"span",6),g(37),h()(),p(38,"div",4)(39,"span",5),g(40,"Lote:"),h(),p(41,"span",6),g(42),h()(),p(43,"div",4)(44,"span",5),g(45,"Repetici\xf3n:"),h(),p(46,"span",6),g(47),h()(),p(48,"div",4)(49,"span",5),g(50,"S\xedntomas:"),h(),p(51,"span",6),g(52),h()(),p(53,"div",4)(54,"span",5),g(55,"Comentarios:"),h(),p(56,"span",6),g(57),h()()(),p(58,"div",7)(59,"div",4)(60,"span",5),g(61,"Fotos de Sintomas:"),h()(),p(62,"div",8)(63,"button",9),F("click",function(){return r.alternarFotoInicial()}),g(64,"Iniciales"),h(),p(65,"button",9),F("click",function(){return r.alternarFotoTipico()}),g(66,"T\xedpicos"),h(),p(67,"button",9),F("click",function(){return r.alternarFotoTardios()}),g(68,"Tard\xedos"),h()(),Ot(69,b2e,2,1,"div",10)(70,y2e,2,1,"div",10)(71,v2e,2,1,"div",10)(72,x2e,2,1,"div",10),h()(),p(73,"button",11),F("click",function(){return r.editMuestra()}),g(74,"Editar Muestra"),h(),p(75,"button",12),F("click",function(){return r.backPage()}),h()()),2&i&&(P(12),Pe(" ",r.item.codigo,""),P(5),Pe(" ",r.item.cliente,""),P(5),Pe(" ",r.item.fecha,""),P(5),Pe(" ",r.item.cultivo,""),P(5),Pe(" ",r.item.tipo,""),P(5),Pe(" ",r.item.fitopatogeno,""),P(5),Pe(" ",r.item.lote,""),P(5),Pe(" ",r.item.repeticion,""),P(5),Pe(" ",r.item.sintomas,""),P(5),Pe(" ",r.item.comentarios,""),P(12),Ve("ngIf",r.fotoUrls.inicial&&r.mostrarFotoInicial),P(),Ve("ngIf",r.fotoUrls.tipico&&r.mostrarFotoTipico),P(),Ve("ngIf",r.fotoUrls.tardios&&r.mostrarFotoTardios),P(),Ve("ngIf",!r.fotoUrls.inicial&&!r.fotoUrls.tipico&&!r.fotoUrls.tardios))},dependencies:[qp,jn,Un,Tn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;min-height:540px;flex-shrink:0;position:absolute;top:28%;width:850px;left:clamp(350px,calc(50% - 425px),100%)}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:10%;top:2%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center}.foto-field[_ngcontent-%COMP%]{position:absolute;left:65%;top:5%}.BlockfotoSec[_ngcontent-%COMP%]{display:inline}.foto[_ngcontent-%COMP%]{display:flex;align-items:center;margin-top:5px;box-shadow:4px 4px 4px #00000040}.fotoSec[_ngcontent-%COMP%]{font-size:small;margin-top:15px;width:65px;height:30px;color:#000;font-weight:bolder;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#c5c5c5;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}#placeholder[_ngcontent-%COMP%]{margin-top:5px;border:#000;border-style:solid;border-width:1px}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:12px 12px 12px 25px;height:20px;left:92px;color:#000;font-family:Arial;font-size:20px;letter-spacing:0}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;top:20%;text-align:center;width:850px;left:clamp(350px,calc(50% - 425px),100%)}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;height:25px;font-family:Arial;font-size:20px;font-weight:700;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:80%;top:87%}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:0%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}#volver[_ngcontent-%COMP%]{font-size:16px;position:absolute;left:5%;top:86%;background:none;border:none;width:50px;height:50px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(back-button-Edit4.8567daeed3ab1418.png)}@media only screen and (max-width: 768px){.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.input-field[_ngcontent-%COMP%]{margin:6px 6px 6px 10px;height:20px;left:92px;color:#000;font-family:Arial;font-size:16px;letter-spacing:0;text-overflow:ellipsis}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:5%;top:2%}.Text[_ngcontent-%COMP%]{color:#000;height:20px;font-family:Arial;font-size:16px;letter-spacing:0}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:90%;height:810px;flex-shrink:0;position:absolute;left:5%;top:37%;transform:none}.foto-field[_ngcontent-%COMP%]{width:95%;position:absolute;left:5%;top:340px}.foto[_ngcontent-%COMP%]{display:flex;align-items:center;box-shadow:4px 4px 4px #00000040;position:relative;left:calc(47% - 125px);margin-top:10px}.fotoSec[_ngcontent-%COMP%]{font-size:small;margin-top:15px;width:65px;height:30px}.BlockfotoSec[_ngcontent-%COMP%]{width:255px;position:relative;left:calc(47% - 127px)}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:67%;top:740px;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:12px;left:0%;top:110%}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;min-width:none;width:100vw;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:28%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}#volver[_ngcontent-%COMP%]{position:absolute;left:5%;top:740px;width:35px;height:35px}}@media only screen and (min-width: 1536px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:850px;height:500px;flex-shrink:0;position:absolute;left:50%;top:50%;transform:translate(-50%,-35%)}.subTituloText[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%)}.boton[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(310px)}}"]})}}return n})();function C2e(n,e){if(1&n){const t=ct();p(0,"tr")(1,"td"),g(2),h(),p(3,"td"),g(4),h(),p(5,"td"),g(6),h(),p(7,"td"),g(8),h(),p(9,"td")(10,"button",3),F("click",function(){const o=ye(t).$implicit;return ve(st().infoMuestra(o.codigo))}),p(11,"div",4),g(12,"Informaci\xf3n"),h()(),p(13,"button",5),F("click",function(){const o=ye(t).$implicit;return ve(st().editMuestra(o.codigo))}),p(14,"div",6),g(15,"Editar"),h()(),p(16,"button",7),F("click",function(){const o=ye(t).$implicit;return ve(st().Barcode(o.codigo))}),p(17,"div",8),g(18,"Imprimir"),h()()()()}if(2&n){const t=e.$implicit;P(2),xe(t.codigo),P(2),xe(t.fecha),P(2),xe(t.cultivo),P(2),xe(t.coordenadas)}}let E2e=(()=>{class n{constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.data=[],this.getData()}ngOnInit(){this.route.params.subscribe(t=>{this.item=t.id,console.log(t),console.log(t.id)})}getData(){const t=me(this.firestore,"muestras");oe(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}updateData(t){const i=Ce(this.firestore,"muestras",t);ai(i,{}).then(()=>{alert("Data updated"),this.getData()}).catch(r=>{alert(r.message)})}deleteData(t){const i=Ce(this.firestore,"muestras",t);en(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["user/unidad-produccion-all"])}logOut(){Nn(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}newMuestra(){this.router.navigate(["user/muestras-new"])}editMuestra(t){this.router.navigate(["user/muestras-edit/"+t])}infoProject(t){this.router.navigate(["user/project-edit/"+t])}infoMuestra(t){this.router.navigate(["user/muestras-info/"+t])}Barcode(t){this.router.navigate(["user/barcode/"+t])}MyQuery(){var t=this;return _(function*(){let i=t.item;t.pid=i,console.log(i);const r=Mt(me(t.firestore,"muestras"),Dt("project","==",i));oe(r).then(s=>{t.data=[...s.docs.map(a=>({...a.data(),id:a.id}))]}),(yield oe(r)).forEach(s=>{console.log(s.id," => ",s.data())})})()}static{this.\u0275fac=function(i){return new(i||n)(E(Ee),E(qe),E(Oe),E(He))}}static{this.\u0275cmp=be({type:n,selectors:[["app-muestras-all"]],decls:15,vars:1,consts:[[1,"subTituloText"],[1,"list"],[4,"ngFor","ngForOf"],[1,"detalles",3,"click"],[1,"detalles-tip"],[1,"edit",3,"click"],[1,"edit-tip"],[1,"imprimir",3,"click"],[1,"imprimir-tip"]],template:function(i,r){1&i&&(p(0,"h1",0),g(1,"Muestras"),h(),p(2,"div",1)(3,"table")(4,"tr")(5,"th"),g(6," Codigo "),h(),p(7,"th"),g(8," Fecha "),h(),p(9,"th"),g(10," Cultivo"),h(),p(11,"th"),g(12," Coordenadas "),h(),$(13,"th"),h(),Ot(14,C2e,19,4,"tr",2),h()()),2&i&&(P(14),Ve("ngForOf",r.data))},dependencies:[Ii],styles:[".list[_ngcontent-%COMP%]{position:absolute;top:30%;min-width:542px;left:clamp(350px,calc(50% - 240px),100%)}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.projectBlock[_ngcontent-%COMP%]{width:auto;height:35px;background:#3ec28f;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:20px;font-weight:700;letter-spacing:0;cursor:pointer}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{cursor:pointer;width:153px;height:36px;top:30%;left:50%;transform:translate(-40%);position:absolute;background:#4c9eff;box-shadow:2px 2px 5px #000;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;top:20%;text-align:center;min-width:542px;left:clamp(350px,calc(50% - 240px),100%)}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.edit[_ngcontent-%COMP%]:hover   .edit-tip[_ngcontent-%COMP%]{display:block;opacity:1;transition:.5s}.edit-tip[_ngcontent-%COMP%]{display:none;position:relative;background-color:#2f3033;color:#fff;padding:5px;width:-moz-fit-content;width:fit-content;margin:5px;top:100%;left:0;opacity:0;transition:.5s;z-index:100;border-radius:3px;font-weight:700;font-family:Trebuchet MS,sans-serif}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.detalles[_ngcontent-%COMP%]:hover   .detalles-tip[_ngcontent-%COMP%]{display:block;opacity:1;transition:.5s}.detalles-tip[_ngcontent-%COMP%]{display:none;position:relative;background-color:#2f3033;color:#fff;padding:5px;width:-moz-fit-content;width:fit-content;margin:5px;top:100%;left:0;opacity:0;transition:.5s;z-index:100;border-radius:3px;font-weight:700;font-family:Trebuchet MS,sans-serif}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;margin-left:2px;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.imprimir[_ngcontent-%COMP%]:hover   .imprimir-tip[_ngcontent-%COMP%]{display:block;opacity:1;transition:.5s}.imprimir-tip[_ngcontent-%COMP%]{display:none;position:relative;background-color:#2f3033;color:#fff;padding:5px;width:-moz-fit-content;width:fit-content;margin:5px;top:100%;left:0;opacity:0;transition:.5s;z-index:100;border-radius:3px;font-weight:700;font-family:Trebuchet MS,sans-serif}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.list[_ngcontent-%COMP%]{position:absolute;left:5%;top:35%;text-overflow:ellipsis;transform:none;width:90%;min-width:0px}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{transform:none;width:153px;height:36px;left:30%;top:38%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{transform:none;cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:80%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;transform:none;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;top:27%;left:0%;min-width:0px;width:100vw}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}}return n})();function T2e(n,e){if(1&n){const t=ct();p(0,"tr")(1,"td"),g(2),h(),p(3,"td"),g(4),h(),p(5,"td"),g(6),h(),p(7,"td"),g(8),h(),p(9,"td")(10,"button",8),F("click",function(){const o=ye(t).$implicit,s=st();return ve(s.Muestras(s.pid,o.codigo))}),h(),p(11,"button",9),F("click",function(){const o=ye(t).$implicit;return ve(st().infoUnidad(o.codigo))}),h(),p(12,"button",10),F("click",function(){const o=ye(t).$implicit;return ve(st().editUnidad(o.codigo))}),h()()()}if(2&n){const t=e.$implicit;P(2),xe(t.codigo),P(2),xe(t.cliente),P(2),xe(t.altitud),P(2),xe(t.coordenadas)}}let I2e=(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.location=s,this.data=[]}ngOnInit(){this.route.params.subscribe(t=>{this.pid=t.id,console.log(t),console.log(t.id)}),this.MyQuery()}getData(){const t=me(this.firestore,"unidad-produccion");oe(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}updateData(t){const i=Ce(this.firestore,"unidad-produccion",t);ai(i,{}).then(()=>{alert("Data updated"),this.getData()}).catch(r=>{alert(r.message)})}deleteData(t){const i=Ce(this.firestore,"unidad-produccion",t);en(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["user/projects"])}Muestras(t,i){this.router.navigate(["user/muestras/"+t+"/"+i])}logOut(){Nn(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}newUnidad(t){this.router.navigate(["user/unidad-produccion-new/"+t])}editUnidad(t){this.router.navigate(["user/unidad-produccion-edit/"+t])}infoProject(t){this.router.navigate(["user/project-info/"+t])}infoUnidad(t){this.router.navigate(["user/unidad-produccion-info/"+t])}MyQuery(){var t=this;return _(function*(){let i=t.pid;console.log(i);const r=Mt(me(t.firestore,"unidad-produccion"),Dt("project","==",i));oe(r).then(s=>{t.data=[...s.docs.map(a=>({...a.data(),id:a.id}))]}),(yield oe(r)).forEach(s=>{console.log(s.id," => ",s.data())})})()}backPage(){this.location.back()}static{this.\u0275fac=function(i){return new(i||n)(E(Ee),E(qe),E(Oe),E(He),E(En))}}static{this.\u0275cmp=be({type:n,selectors:[["app-unidad-produccion"]],decls:25,vars:1,consts:[[1,"subTituloText"],[1,"scanbutton"],[1,"scantext",3,"click"],[1,"list"],[1,"projectBlock"],[4,"ngFor","ngForOf"],["id","agregar",1,"boton",3,"click"],["id","volver",1,"boton",3,"click"],[1,"muestras",3,"click"],[1,"detalles",3,"click"],[1,"edit",3,"click"]],template:function(i,r){1&i&&(p(0,"p"),g(1,"unidad-produccion works!"),h(),p(2,"h1",0),g(3,"Unidades "),h(),p(4,"div",1)(5,"div",2),F("click",function(){return r.Scan()}),g(6,"SCAN"),h()(),p(7,"div",3)(8,"div",4),g(9,"Proyecto"),h(),p(10,"table")(11,"tr")(12,"th"),g(13," Codigo "),h(),p(14,"th"),g(15," Cliente "),h(),p(16,"th"),g(17," Altitud"),h(),p(18,"th"),g(19," Coordenadas "),h(),$(20,"th"),h(),Ot(21,T2e,13,4,"tr",5),h(),p(22,"button",6),F("click",function(){return r.newUnidad(r.pid)}),g(23," Agregar "),h(),p(24,"button",7),F("click",function(){return r.backPage()}),h()()),2&i&&(P(21),Ve("ngForOf",r.data))},dependencies:[Ii],styles:[".list[_ngcontent-%COMP%]{position:absolute;left:38%;top:38%}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.projectBlock[_ngcontent-%COMP%]{width:60%;height:35px;background:#3ec28f;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:20px;font-weight:700;letter-spacing:0;cursor:pointer}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:153px;height:36px;left:49%;top:30%;position:absolute;background:#4c9eff;border-radius:30px;box-shadow:2px 2px 5px #000}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}#volver[_ngcontent-%COMP%]{position:absolute;left:0%;border:none;width:50px;height:50px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(back-button-Edit4.8567daeed3ab1418.png)}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;text-shadow:2px 2px 5px black;left:45%;top:20%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.projectBlock[_ngcontent-%COMP%]{width:40%;height:25px;background:#3ec28f;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:14px;font-weight:700;letter-spacing:0;cursor:pointer}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:153px;height:36px;left:30%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:80%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}#volver[_ngcontent-%COMP%]{position:absolute;left:0%}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;left:30%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}}return n})();const M2e=["geo"];let D2e=(()=>{class n{static{this.text=""}constructor(t,i,r,o,s){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.location=s,this.title="gestion-de-muestras-de-campo",this.data=[],this.res="",this.somethingChange=new Xe,this.email=""}ngOnInit(){this.route.params.subscribe(t=>{this.pid=t.id})}handleRegister(t){console.log(t),this.addData(t),this.Home()}addData(t){const i=Ce(this.firestore,"unidad-produccion",t.codigo),r=Ta();yc(r,o=>{o&&o.email&&(this.email=o.email)}),co(i,{codigo:t.codigo,cliente:t.cliente,localidad:t.localidad,estado:t.estado,altitud:t.altitud,coordenadas:t.coordenadas,tempmax:t.tempmax,tempmin:t.tempmin,precipitacion:t.precipitacion}).then(()=>{alert("Data Sent")}).catch(o=>{alert(o.message)}),console.log(t.comentarios)}getData(){const t=me(this.firestore,"unidad-produccion");oe(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude),n.text=t.coords.latitude+", "+t.coords.longitude,console.log(n.text)}getLocation(){var t=this;return _(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{t.res=n.text,console.log(t.res)},1e3)})()}Home(){this.router.navigate(["user/unidad-produccion-all"])}backPage(){this.location.back()}static{this.\u0275fac=function(i){return new(i||n)(E(Ee),E(qe),E(Oe),E(He),E(En))}}static{this.\u0275cmp=be({type:n,selectors:[["app-unidad-produccion-new"]],viewQuery:function(i,r){if(1&i&&zn(M2e,5),2&i){let o;xn(o=wn())&&(r.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:105,vars:1,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],["name","codigo","ngModel","","placeholder","codigo","id","codigo","type","codigo",1,"input-field"],["name","cliente","ngModel","","placeholder","Cliente","id","cliente","type","cliente",1,"input-field"],["name","coordenadas","ngModel","","placeholder","Coordenadas","id","coordenadas","type","coordenadas",1,"input-field",3,"ngModel","ngModelChange"],[1,"bUbicacion",3,"click"],["src","../../../../assets/Ubicacion.png","alt","U"],["name","localidad","ngModel","","placeholder","Localidad","id","localidad","type","localidad",1,"input-field"],["name","municipio","ngModel","","placeholder","Municipio","id","municipio","type","municipio",1,"input-field"],["name","estado","ngModel","","placeholder","Estado","id","estado",1,"input-field"],["value","","disabled","","selected",""],["value","Amazonas"],["value","Anzo\xe1tegui"],["value","Apure"],["value","Aragua"],["value","Barinas"],["value","Bol\xedvar"],["value","Carabobo"],["value","Cojedes"],["value","Delta Amacuro"],["value","Dependencias Federales"],["value","Distrito Capital"],["value","Falc\xf3n"],["value","Gu\xe1rico"],["value","La Guaira"],["value","Lara"],["value","M\xe9rida"],["value","Miranda"],["value","Monagas"],["value","Nueva Esparta"],["value","Portuguesa"],["value","Sucre"],["value","T\xe1chira"],["value","Trujillo"],["value","Yaracuy"],["value","Zulia"],["name","altitud","ngModel","","placeholder","Altitud","id","altitud","type","altitud",1,"input-field"],["name","tempmax","ngModel","","placeholder","Temperaturas M\xe1ximas","id","tempmax","type","tempmax",1,"input-field"],["name","tempmin","ngModel","","placeholder","Temperaturas M\xednimas","id","tempmin","type","tempmin",1,"input-field"],["name","precipitacion","ngModel","","placeholder","Precipitaci\xf3n","id","precipitacion","type","precipitacion",1,"input-field"],[1,"boton"],["id","volver",3,"click"]],template:function(i,r){if(1&i){const o=ct();p(0,"p"),g(1,"unidad-produccion-new works!"),h(),p(2,"h1",0),g(3,"Nueva Unidad"),h(),p(4,"div",1)(5,"form",2,3),F("ngSubmit",function(){ye(o);const a=Vt(6);return ve(r.handleRegister(a.value))}),p(7,"div",4)(8,"div",5)(9,"span",6),g(10,"Nombre:"),h(),$(11,"input",7),h(),p(12,"div",5)(13,"span",6),g(14,"Cliente:"),h(),$(15,"input",8),h(),p(16,"div",5)(17,"span",6),g(18,"Coordenadas:"),h(),p(19,"input",9),Qe("ngModelChange",function(a){return Je(r.res,a)||(r.res=a),a}),h(),p(20,"div",10),F("click",function(){return r.getLocation()}),$(21,"img",11),h()(),p(22,"div",5)(23,"span",6),g(24,"Localidad:"),h(),$(25,"input",12),h(),p(26,"div",5)(27,"span",6),g(28,"Municipio:"),h(),$(29,"input",13),h(),p(30,"div",5)(31,"span",6),g(32,"Estado:"),h(),p(33,"select",14)(34,"option",15),g(35,"Seleccione un estado"),h(),p(36,"option",16),g(37,"Amazonas"),h(),p(38,"option",17),g(39,"Anzo\xe1tegui"),h(),p(40,"option",18),g(41,"Apure"),h(),p(42,"option",19),g(43,"Aragua"),h(),p(44,"option",20),g(45,"Barinas"),h(),p(46,"option",21),g(47,"Bol\xedvar"),h(),p(48,"option",22),g(49,"Carabobo"),h(),p(50,"option",23),g(51,"Cojedes"),h(),p(52,"option",24),g(53,"Delta Amacuro"),h(),p(54,"option",25),g(55,"Dependencias Federales"),h(),p(56,"option",26),g(57,"Distrito Capital"),h(),p(58,"option",27),g(59,"Falc\xf3n"),h(),p(60,"option",28),g(61,"Gu\xe1rico"),h(),p(62,"option",29),g(63,"La Guaira"),h(),p(64,"option",30),g(65,"Lara"),h(),p(66,"option",31),g(67,"M\xe9rida"),h(),p(68,"option",32),g(69,"Miranda"),h(),p(70,"option",33),g(71,"Monagas"),h(),p(72,"option",34),g(73,"Nueva Esparta"),h(),p(74,"option",35),g(75,"Portuguesa"),h(),p(76,"option",36),g(77,"Sucre"),h(),p(78,"option",37),g(79,"T\xe1chira"),h(),p(80,"option",38),g(81,"Trujillo"),h(),p(82,"option",39),g(83,"Yaracuy"),h(),p(84,"option",40),g(85,"Zulia"),h()()(),p(86,"div",5)(87,"span",6),g(88,"Altitud:"),h(),$(89,"input",41),h(),p(90,"div",5)(91,"span",6),g(92,"Temperaturas M\xe1ximas:"),h(),$(93,"input",42),h(),p(94,"div",5)(95,"span",6),g(96,"Temperaturas M\xednimas:"),h(),$(97,"input",43),h(),p(98,"div",5)(99,"span",6),g(100,"Precipitaci\xf3n:"),h(),$(101,"input",44),h(),p(102,"button",45),g(103,"Crear Unidad"),h(),p(104,"button",46),F("click",function(){return r.backPage()}),h()()()()}2&i&&(P(19),Ye("ngModel",r.res))},dependencies:[jn,xs,ws,Mi,Ho,dr,Un,Gi,Tn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;height:60%;flex-shrink:0;position:absolute;top:30%;min-width:936px;left:clamp(350px,calc(50% - 468px),100%)}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:3%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:70%;height:20px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;top:19%;text-align:center;min-width:936px;left:clamp(350px,calc(50% - 468px),100%)}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:88%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}#volver[_ngcontent-%COMP%]{font-size:16px;position:absolute;left:0%;top:100%;background:#d9d9d9;border:none;width:50px;height:50px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(back-button-Edit4.8567daeed3ab1418.png)}@media only screen and (max-width: 768px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:95%;height:534px;flex-shrink:0;position:absolute;left:2.5%;top:38%;transform:none;min-width:0px}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.input-field[_ngcontent-%COMP%]{margin:10px 10px 10px 20px;height:20px;left:0}.blank[_ngcontent-%COMP%]{width:100%;height:16px;position:absolute;left:0%;top:110%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:20px;font-family:Arial;font-size:14px;letter-spacing:0}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:3%;top:3%}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:75%;top:98%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:20px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:28%;transform:none;min-width:0px}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}#volver[_ngcontent-%COMP%]{font-size:16px;position:absolute;left:0%;top:100%;background:#d9d9d9;border:none;width:35px;height:35px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(back-button-Edit4.8567daeed3ab1418.png)}}@media only screen and (min-width: 1536px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:1100px;height:550px;flex-shrink:0;position:absolute;left:60%;top:50%;transform:translate(-50%,-35%)}.subTituloText[_ngcontent-%COMP%]{position:absolute;left:52%;transform:translate(-50%)}}"]})}}return n})();const S2e=["geo"];let k2e=(()=>{class n{static{this.text=""}constructor(t,i,r,o,s){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.location=s,this.title="gestion-de-muestras-de-campo",this.data=[],this.res="",this.somethingChange=new Xe}ngOnInit(){this.route.params.subscribe(t=>{this.x=t.id}),this.getData(),this.MyQuery()}handleRegister(t){this.addData(t)}addData(t){var i=this;return _(function*(){console.log(t);const r=Ce(i.firestore,"unidad-produccion",t.codigo);ai(r,{codigo:t.codigo,cliente:t.cliente,localidad:t.localidad,estado:t.estado,altitud:t.altitud,coordenadas:t.coordenadas,tempmax:t.tempmax,tempmin:t.tempmin,precipitacion:t.precipitacion}).then(()=>{alert("Data Sent")}).catch(o=>{alert(o.message)})})()}getData(){const t=me(this.firestore,"unidad-produccion");oe(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}showPosition(t){n.text=t.coords.latitude+", "+t.coords.longitude}getLocation(){var t=this;return _(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{t.res=n.text},1e3)})()}MyQuery(){var t=this;return _(function*(){let i=t.x;const r=Mt(me(t.firestore,"unidad-produccion"),Dt("codigo","==",i)),o=yield oe(r);o.empty||o.forEach(s=>{t.item=s.data(),t.res=t.item.coordenadas})})()}deleteData(t){if(1==confirm("Seguro que desea eliminar esta Unidad de Producci\xf3n?")){const o=Ce(this.firestore,"unidad-produccion",this.x);en(o).then(()=>{alert("Data Deleted"),this.router.navigate(["user/unidad-produccion-all"])}).catch(s=>{alert(s.message)})}}Home(){this.router.navigate(["user/unidad-produccion-all"])}backPage(){this.location.back()}static{this.\u0275fac=function(i){return new(i||n)(E(Ee),E(qe),E(Oe),E(He),E(En))}}static{this.\u0275cmp=be({type:n,selectors:[["app-unidad-produccion-edit"]],viewQuery:function(i,r){if(1&i&&zn(S2e,5),2&i){let o;xn(o=wn())&&(r.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:110,vars:10,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],["name","codigo","ngModel","","placeholder","codigo","id","codigo","type","codigo",1,"input-field",3,"ngModel","ngModelChange"],["name","cliente","ngModel","","placeholder","Cliente","id","cliente","type","cliente",1,"input-field",3,"ngModel","ngModelChange"],["name","coordenadas","ngModel","","placeholder","Coordenadas","id","coordenadas","type","coordenadas",1,"input-field",3,"ngModel","ngModelChange"],[1,"bUbicacion",3,"click"],["src","../../../../assets/Ubicacion.png","alt","U"],["name","localidad","ngModel","","placeholder","Localidad","id","localidad","type","localidad",1,"input-field",3,"ngModel","ngModelChange"],["name","municipio","ngModel","","placeholder","Municipio","id","municipio","type","municipio",1,"input-field",3,"ngModel","ngModelChange"],["name","estado","ngModel","","placeholder","Estado","id","estado",1,"input-field",3,"ngModel","ngModelChange"],["value","","disabled","","selected",""],["value","Amazonas"],["value","Anzo\xe1tegui"],["value","Apure"],["value","Aragua"],["value","Barinas"],["value","Bol\xedvar"],["value","Carabobo"],["value","Cojedes"],["value","Delta Amacuro"],["value","Dependencias Federales"],["value","Distrito Capital"],["value","Falc\xf3n"],["value","Gu\xe1rico"],["value","La Guaira"],["value","Lara"],["value","M\xe9rida"],["value","Miranda"],["value","Monagas"],["value","Nueva Esparta"],["value","Portuguesa"],["value","Sucre"],["value","T\xe1chira"],["value","Trujillo"],["value","Yaracuy"],["value","Zulia"],["name","altitud","ngModel","","placeholder","Altitud","id","altitud","type","altitud",1,"input-field",3,"ngModel","ngModelChange"],[1,"Text-2"],["name","tempmax","ngModel","","placeholder","Temperaturas M\xe1ximas","id","tempmax","type","tempmax",1,"input-field",3,"ngModel","ngModelChange"],["name","tempmin","ngModel","","placeholder","Temperaturas M\xednimas","id","tempmin","type","tempmin",1,"input-field",3,"ngModel","ngModelChange"],["name","precipitacion","ngModel","","placeholder","Precipitaci\xf3n","id","precipitacion","type","precipitacion",1,"input-field",3,"ngModel","ngModelChange"],[1,"boton",3,"click"],["id","Guardar",1,"boton"],["type","button",1,"botonrojo",3,"click"],["type","button","id","volver",3,"click"],[1,"blank"]],template:function(i,r){if(1&i){const o=ct();p(0,"p"),g(1,"unidad-produccion-edit works!"),h(),p(2,"h1",0),g(3,"Editar Unidad"),h(),p(4,"div",1)(5,"form",2,3),F("ngSubmit",function(){ye(o);const a=Vt(6);return ve(r.handleRegister(a.value))}),p(7,"div",4)(8,"div",5)(9,"span",6),g(10,"Nombre:"),h(),p(11,"input",7),Qe("ngModelChange",function(a){return Je(r.item.codigo,a)||(r.item.codigo=a),a}),h()(),p(12,"div",5)(13,"span",6),g(14,"Cliente:"),h(),p(15,"input",8),Qe("ngModelChange",function(a){return Je(r.item.cliente,a)||(r.item.cliente=a),a}),h()(),p(16,"div",5)(17,"span",6),g(18,"Coordenadas:"),h(),p(19,"input",9),Qe("ngModelChange",function(a){return Je(r.res,a)||(r.res=a),a}),h(),p(20,"div",10),F("click",function(){return r.getLocation()}),$(21,"img",11),h()(),p(22,"div",5)(23,"span",6),g(24,"Localidad:"),h(),p(25,"input",12),Qe("ngModelChange",function(a){return Je(r.item.localidad,a)||(r.item.localidad=a),a}),h()(),p(26,"div",5)(27,"span",6),g(28,"Municipio:"),h(),p(29,"input",13),Qe("ngModelChange",function(a){return Je(r.item.municipio,a)||(r.item.municipio=a),a}),h()(),p(30,"div",5)(31,"span",6),g(32,"Estado:"),h(),p(33,"select",14),Qe("ngModelChange",function(a){return Je(r.item.estado,a)||(r.item.estado=a),a}),p(34,"option",15),g(35,"Seleccione un estado"),h(),p(36,"option",16),g(37,"Amazonas"),h(),p(38,"option",17),g(39,"Anzo\xe1tegui"),h(),p(40,"option",18),g(41,"Apure"),h(),p(42,"option",19),g(43,"Aragua"),h(),p(44,"option",20),g(45,"Barinas"),h(),p(46,"option",21),g(47,"Bol\xedvar"),h(),p(48,"option",22),g(49,"Carabobo"),h(),p(50,"option",23),g(51,"Cojedes"),h(),p(52,"option",24),g(53,"Delta Amacuro"),h(),p(54,"option",25),g(55,"Dependencias Federales"),h(),p(56,"option",26),g(57,"Distrito Capital"),h(),p(58,"option",27),g(59,"Falc\xf3n"),h(),p(60,"option",28),g(61,"Gu\xe1rico"),h(),p(62,"option",29),g(63,"La Guaira"),h(),p(64,"option",30),g(65,"Lara"),h(),p(66,"option",31),g(67,"M\xe9rida"),h(),p(68,"option",32),g(69,"Miranda"),h(),p(70,"option",33),g(71,"Monagas"),h(),p(72,"option",34),g(73,"Nueva Esparta"),h(),p(74,"option",35),g(75,"Portuguesa"),h(),p(76,"option",36),g(77,"Sucre"),h(),p(78,"option",37),g(79,"T\xe1chira"),h(),p(80,"option",38),g(81,"Trujillo"),h(),p(82,"option",39),g(83,"Yaracuy"),h(),p(84,"option",40),g(85,"Zulia"),h()()(),p(86,"div",5)(87,"span",6),g(88,"Altitud:"),h(),p(89,"input",41),Qe("ngModelChange",function(a){return Je(r.item.altitud,a)||(r.item.altitud=a),a}),h()(),p(90,"div",5)(91,"span",42),g(92,"Temperaturas M\xe1ximas:"),h(),p(93,"input",43),Qe("ngModelChange",function(a){return Je(r.item.tempmax,a)||(r.item.tempmax=a),a}),h()(),p(94,"div",5)(95,"span",42),g(96,"Temperaturas M\xednimas:"),h(),p(97,"input",44),Qe("ngModelChange",function(a){return Je(r.item.tempmin,a)||(r.item.tempmin=a),a}),h()(),p(98,"div",5)(99,"span",42),g(100,"Promedio Precipitaci\xf3n Anual:"),h(),p(101,"input",45),Qe("ngModelChange",function(a){return Je(r.item.precipitacion,a)||(r.item.precipitacion=a),a}),h()(),p(102,"button",46),F("click",function(){return r.backPage()}),g(103,"Finalizar Edici\xf3n"),h(),p(104,"button",47),g(105," Guardar"),h(),p(106,"button",48),F("click",function(){return r.deleteData(r.item.id)}),g(107," Eliminar "),h(),p(108,"button",49),F("click",function(){return r.backPage()}),h()(),$(109,"div",50),h()()}2&i&&(P(11),Ye("ngModel",r.item.codigo),P(4),Ye("ngModel",r.item.cliente),P(4),Ye("ngModel",r.res),P(6),Ye("ngModel",r.item.localidad),P(4),Ye("ngModel",r.item.municipio),P(4),Ye("ngModel",r.item.estado),P(56),Ye("ngModel",r.item.altitud),P(4),Ye("ngModel",r.item.tempmax),P(4),Ye("ngModel",r.item.tempmin),P(4),Ye("ngModel",r.item.precipitacion))},dependencies:[jn,xs,ws,Mi,Ho,dr,Un,Gi,Tn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:65%;min-height:550px;width:936px;flex-shrink:0;position:absolute;top:25%;left:clamp(350px,calc(50% - 468px),100%)}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:3%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:85%;height:20px;left:92px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;top:17%;text-align:center;width:936px;left:clamp(350px,calc(50% - 468px),100%)}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:150px;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}.Text-2[_ngcontent-%COMP%]{color:#000;width:370px;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:85%;top:100%}#Guardar[_ngcontent-%COMP%]{left:70%}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:55%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}#volver[_ngcontent-%COMP%]{font-size:16px;position:absolute;left:0%;top:100%;background:none;border:none;width:50px;height:50px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(back-button-Edit4.8567daeed3ab1418.png)}@media only screen and (max-width: 768px){.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.input-field[_ngcontent-%COMP%]{margin:6px 6px 6px 24px;height:20px;left:92px;color:#000;font-family:Arial;font-size:16px;letter-spacing:0;text-overflow:ellipsis}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:6px 6px 6px 22px;font-family:Arial;width:85%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:3%;top:2%}.Text[_ngcontent-%COMP%], .Text-2[_ngcontent-%COMP%]{color:#000;height:-moz-fit-content;height:fit-content;font-family:Arial;font-size:16px;letter-spacing:0;margin-top:5px;margin-bottom:10px}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;min-width:0%;width:95%;height:650px;flex-shrink:0;position:absolute;left:2.5%;top:35%}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:70%;top:110%;border:none;float:right;background-color:#3eb3c2;color:#fff;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}#Guardar[_ngcontent-%COMP%]{left:70%;top:125%}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;width:70px;border-width:0;border-radius:30px;font-size:12px;left:75%;top:140%}.blank[_ngcontent-%COMP%]{width:100%;height:16px;position:absolute;left:0%;top:110%}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:27%;transform:none}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}#volver[_ngcontent-%COMP%]{position:absolute;left:0%;top:125%;width:50px;height:50px}}"]})}}return n})();const A2e=["geo"];let O2e=(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.location=s,this.title="gestion-de-muestras-de-campo",this.data=[],this.somethingChange=new Xe,this.getData(),this.MyQuery()}ngOnInit(){this.route.params.subscribe(t=>{this.text=t.id,console.log(t),console.log(t.id)}),this.getData(),this.MyQuery()}handleRegister(t){this.addData(t)}addData(t){const i=Ce(this.firestore,"unidad-produccion",t.codigo);co(i,t).then(()=>{alert("Data Sent")}).catch(r=>{alert(r.message)}),console.log(t.comentarios)}getData(){const t=me(this.firestore,"unidad-produccion");oe(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude)}getLocation(){var t=this;return _(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{console.log(t.res)},1e3)})()}MyQuery(){var t=this;return _(function*(){let i=t.text;const r=Mt(me(t.firestore,"unidad-produccion"),Dt("codigo","==",i)),o=yield oe(r);o.empty||o.forEach(s=>{t.item=s.data(),console.log(s.id," => ",s.data())})})()}editMuestra(){this.router.navigate(["user/unidad-produccion-edit/"+this.text])}deleteData(t){const i=Ce(this.firestore,"users",t);en(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}backPage(){this.location.back()}static{this.\u0275fac=function(i){return new(i||n)(E(Ee),E(qe),E(Oe),E(He),E(En))}}static{this.\u0275cmp=be({type:n,selectors:[["app-unidad-produccion-info"]],viewQuery:function(i,r){if(1&i&&zn(A2e,5),2&i){let o;xn(o=wn())&&(r.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:61,vars:10,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],[1,"input-field"],["type","button",1,"boton",3,"click"],["type","button","id","volver",3,"click"]],template:function(i,r){if(1&i){const o=ct();p(0,"p"),g(1,"unidad-produccion-info works!"),h(),p(2,"h1",0),g(3,"Datos de la Unidad"),h(),p(4,"div",1)(5,"form",2,3),F("ngSubmit",function(){ye(o);const a=Vt(6);return ve(r.handleRegister(a.value))}),p(7,"div",4)(8,"div",5)(9,"span",6),g(10,"Nombre:"),h(),p(11,"span",7),g(12),h()(),p(13,"div",5)(14,"span",6),g(15,"Cliente:"),h(),p(16,"span",7),g(17),h()(),p(18,"div",5)(19,"span",6),g(20,"Coordenadas:"),h(),p(21,"span",7),g(22),h()(),p(23,"div",5)(24,"span",6),g(25,"Localidad:"),h(),p(26,"span",7),g(27),h()(),p(28,"div",5)(29,"span",6),g(30,"Municipio:"),h(),p(31,"span",7),g(32),h()(),p(33,"div",5)(34,"span",6),g(35,"Estado:"),h(),p(36,"span",7),g(37),h()(),p(38,"div",5)(39,"span",6),g(40,"Altitud:"),h(),p(41,"span",7),g(42),h()(),p(43,"div",5)(44,"span",6),g(45,"Temperaturas M\xe1ximas:"),h(),p(46,"span",7),g(47),h()(),p(48,"div",5)(49,"span",6),g(50,"Temperaturas M\xednimas:"),h(),p(51,"span",7),g(52),h()(),p(53,"div",5)(54,"span",6),g(55,"Promedio Precipitaci\xf3n Anual:"),h(),p(56,"span",7),g(57),h()()()(),p(58,"button",8),F("click",function(){return r.editMuestra()}),g(59,"Editar Muestra"),h(),p(60,"button",9),F("click",function(){return r.backPage()}),h()()}2&i&&(P(12),Pe(" ",r.item.codigo,""),P(5),Pe(" ",r.item.cliente,""),P(5),Pe(" ",r.item.coordenadas,""),P(5),Pe(" ",r.item.localidad,""),P(5),Pe(" ",r.item.municipio,""),P(5),Pe(" ",r.item.cliente,""),P(5),Pe(" ",r.item.altitud,""),P(5),Pe(" ",r.item.tempmax,""),P(5),Pe(" ",r.item.tempmin,""),P(5),Pe(" ",r.item.precipitacion,""))},dependencies:[jn,Un,Tn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:600px;min-height:550px;flex-shrink:0;position:absolute;top:30%;left:clamp(350px,calc(50% - 300px),100%)}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:10%;top:7%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:12px 12px 12px 25px;height:20px;left:92px;color:#000;font-family:Arial;font-size:20px;letter-spacing:0}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;top:20%;text-align:center;width:600px;left:clamp(350px,calc(50% - 300px),100%)}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;height:25px;font-family:Arial;font-size:20px;font-weight:700;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:78%;top:87%}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:0%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}#volver[_ngcontent-%COMP%]{font-size:16px;position:absolute;left:5%;top:86%;background:none;border:none;width:50px;height:50px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(back-button-Edit4.8567daeed3ab1418.png)}@media only screen and (max-width: 768px){.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.input-field[_ngcontent-%COMP%]{margin:6px 6px 6px 15px;height:20px;left:92px;color:#000;font-family:Arial;font-size:16px;letter-spacing:0;text-overflow:ellipsis}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:5%;top:3%}.Text[_ngcontent-%COMP%]{color:#000;height:20px;font-family:Arial;font-size:16px;letter-spacing:0}.loginBox[_ngcontent-%COMP%]{margin:3px;padding:auto;box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:90%;min-height:400px;flex-shrink:0;position:absolute;left:5%;top:35%;transform:none}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;inset:auto 0% 0% auto;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:12px;left:0%;top:110%}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:27%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}#volver[_ngcontent-%COMP%]{position:absolute;left:0%;padding-left:20px;bottom:0%;width:35px;height:35px}}"]})}}return n})();function P2e(n,e){if(1&n){const t=ct();p(0,"tr")(1,"td"),g(2),h(),p(3,"td"),g(4),h(),p(5,"td"),g(6),h(),p(7,"td"),g(8),h(),p(9,"td")(10,"button",4),F("click",function(){const o=ye(t).$implicit;return ve(st().infoClients(o.email))}),h(),p(11,"button",5),F("click",function(){const o=ye(t).$implicit;return ve(st().editClients(o.email))}),h()()()}if(2&n){const t=e.$implicit;P(2),xe(t.email),P(2),xe(t.nombre),P(2),xe(t.telefono),P(2),xe(t.direccion)}}let R2e=(()=>{class n{constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.data=[],this.getData()}ngOnInit(){this.route.params.subscribe(t=>{this.item=t.id,console.log(t),console.log(t.id)})}getData(){const t=me(this.firestore,"clientes");oe(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}updateData(t){const i=Ce(this.firestore,"muestras",t);ai(i,{}).then(()=>{alert("Data updated"),this.getData()}).catch(r=>{alert(r.message)})}deleteData(t){const i=Ce(this.firestore,"muestras",t);en(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["user/projects"])}logOut(){Nn(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}newClients(){this.router.navigate(["user/clients-new"])}editClients(t){this.router.navigate(["user/clients-edit/"+t])}infoClients(t){this.router.navigate(["user/clients-info/"+t])}infoMuestra(t){this.router.navigate(["user/muestras-info/"+t])}MyQuery(){var t=this;return _(function*(){let i=t.item;t.pid=i,console.log(i);const r=Mt(me(t.firestore,"muestras"),Dt("project","==",i));oe(r).then(s=>{t.data=[...s.docs.map(a=>({...a.data(),id:a.id}))]}),(yield oe(r)).forEach(s=>{console.log(s.id," => ",s.data())})})()}static{this.\u0275fac=function(i){return new(i||n)(E(Ee),E(qe),E(Oe),E(He))}}static{this.\u0275cmp=be({type:n,selectors:[["app-clients"]],decls:19,vars:1,consts:[[1,"subTituloText"],[1,"list"],[4,"ngFor","ngForOf"],["id","agregar",1,"boton",3,"click"],[1,"detalles",3,"click"],[1,"edit",3,"click"]],template:function(i,r){1&i&&(p(0,"p"),g(1,"clients works!"),h(),p(2,"h1",0),g(3,"Clientes"),h(),p(4,"div",1)(5,"table")(6,"tr")(7,"th"),g(8," Email "),h(),p(9,"th"),g(10," Nombre "),h(),p(11,"th"),g(12," Telefono"),h(),p(13,"th"),g(14," Direccion "),h(),$(15,"th"),h(),Ot(16,P2e,12,4,"tr",2),h(),p(17,"button",3),F("click",function(){return r.newClients()}),g(18," Agregar "),h()()),2&i&&(P(16),Ve("ngForOf",r.data))},dependencies:[Ii],styles:[".list[_ngcontent-%COMP%]{position:absolute;top:32%;min-width:665px;left:clamp(350px,calc(50% - 333px),100%)}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.projectBlock[_ngcontent-%COMP%]{width:auto;height:35px;background:#3ec28f;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:20px;font-weight:700;letter-spacing:0;cursor:pointer}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:153px;height:36px;top:30%;left:50%;transform:translate(-50%);position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:126px;height:16px;left:50%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;top:20%;min-width:665px;text-align:center;left:clamp(350px,calc(50% - 333px),100%)}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;margin-left:2px;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.list[_ngcontent-%COMP%]{transform:none;position:absolute;left:5%;text-overflow:ellipsis;top:35%;width:90%;min-width:0px}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{transform:none;width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{transform:none;width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{transform:none;position:absolute;right:0%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;transform:none;position:absolute;text-align:center;top:27%;left:0%;min-width:0px;width:100vw}.blockBotones[_ngcontent-%COMP%]{width:45px}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}}return n})();const N2e=["geo"];let GX=(()=>{class n{static{this.text=""}constructor(t,i,r,o,s){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.location=s,this.title="gestion-de-muestras-de-campo",this.data=[],this.res="",this.somethingChange=new Xe}ngOnInit(){this.route.params.subscribe(t=>{this.pid=t.id})}handleRegister(t){this.addData(t)}addData(t){const i=Ce(this.firestore,"clientes",t.email);co(i,{email:t.email,nombre:t.nombre,fecha:t.fecha,telefono:t.telefono,direccion:t.direccion}).then(()=>{alert("Data Sent")}).catch(r=>{alert(r.message)}),console.log(t.comentarios)}getData(){const t=me(this.firestore,"muestras");oe(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude),n.text=t.coords.latitude+", "+t.coords.longitude,console.log(n.text)}getLocation(){var t=this;return _(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{t.res=n.text,console.log(t.res)},1e3)})()}backPage(){this.location.back()}static{this.\u0275fac=function(i){return new(i||n)(E(Ee),E(qe),E(Oe),E(He),E(En))}}static{this.\u0275cmp=be({type:n,selectors:[["app-clients-new"]],viewQuery:function(i,r){if(1&i&&zn(N2e,5),2&i){let o;xn(o=wn())&&(r.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:27,vars:0,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],["name","email","ngModel","","placeholder","Email","id","emai","type","email",1,"input-field"],["name","nombre","ngModel","","placeholder","Nombre","id","nombre","type","nombre",1,"input-field"],["name","telefono","ngModel","","placeholder","Telefono","id","telefono","type","telefono",1,"input-field"],["name","direccion","ngModel","","placeholder","Direccion","id","direccion","type","direccion",1,"input-field"],[1,"boton"],["type","button","id","volver",1,"boton",3,"click"]],template:function(i,r){if(1&i){const o=ct();p(0,"p"),g(1,"clients-new works!"),h(),p(2,"h1",0),g(3,"Nuevo Cliente"),h(),p(4,"div",1)(5,"form",2,3),F("ngSubmit",function(){ye(o);const a=Vt(6);return ve(r.handleRegister(a.value))}),p(7,"div",4)(8,"div",5)(9,"span",6),g(10,"Email:"),h(),$(11,"input",7),h(),p(12,"div",5)(13,"span",6),g(14,"Nombre:"),h(),$(15,"input",8),h(),p(16,"div",5)(17,"span",6),g(18,"Telefono:"),h(),$(19,"input",9),h(),p(20,"div",5)(21,"span",6),g(22,"Direccion:"),h(),$(23,"input",10),h(),p(24,"button",11),g(25,"Crear Cliente"),h(),p(26,"button",12),F("click",function(){return r.backPage()}),h()()()()}},dependencies:[jn,Mi,dr,Un,Gi,Tn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:760px;height:260px;flex-shrink:0;position:absolute;left:clamp(350px,calc(50% - 380px),100%);top:25%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:3%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:85%;height:20px;position:relative;left:0}.input-field-2[_ngcontent-%COMP%]{margin:0;height:20px;position:relative;left:0}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:50%;top:17%;transform:translate(-50%)}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:143px;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;margin-left:5px;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:80%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}#volver[_ngcontent-%COMP%]{font-size:16px;position:absolute;left:5%;top:100%;background:none;border:none;width:50px;height:50px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(back-button-Edit4.8567daeed3ab1418.png)}@media only screen and (max-width: 768px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:95%;height:30%;flex-shrink:0;position:absolute;left:2.5%;top:38%;transform:none}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.input-field[_ngcontent-%COMP%]{margin:10px 10px 10px 20px;height:20px;left:0}.blank[_ngcontent-%COMP%]{width:100%;height:16px;position:absolute;left:0%;top:110%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:20px;font-family:Arial;font-size:14px;letter-spacing:0}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:3%;top:3%}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:75%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:20px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:28%;transform:none}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}#volver[_ngcontent-%COMP%]{top:96%}}"]})}}return n})();function F2e(n,e){if(1&n){const t=ct();p(0,"tr")(1,"td"),g(2),h(),p(3,"td"),g(4),h(),p(5,"td"),g(6),h(),p(7,"td"),g(8),h(),p(9,"td",4)(10,"button",5),F("click",function(){const o=ye(t).$implicit;return ve(st().Muestras(o.project,o.codigo))}),p(11,"div",6),g(12,"Listar Muestras"),h()(),p(13,"button",7),F("click",function(){const o=ye(t).$implicit;return ve(st().infoUnidad(o.codigo))}),p(14,"div",8),g(15,"Informaci\xf3n"),h()(),p(16,"button",9),F("click",function(){const o=ye(t).$implicit;return ve(st().editUnidad(o.codigo))}),p(17,"div",10),g(18,"Editar"),h()()()()}if(2&n){const t=e.$implicit;P(2),xe(t.codigo),P(2),xe(t.cliente),P(2),xe(t.altitud),P(2),xe(t.coordenadas)}}let L2e=(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.elem=s,this.data=[],this.getData()}ngOnInit(){this.route.params.subscribe(t=>{this.pid=t.id})}getData(){const t=me(this.firestore,"unidad-produccion");oe(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}updateData(t){const i=Ce(this.firestore,"unidad-produccion",t);ai(i,{}).then(()=>{alert("Data updated"),this.getData()}).catch(r=>{alert(r.message)})}deleteData(t){const i=Ce(this.firestore,"unidad-produccion",t);en(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["user/projects"])}Muestras(t,i){this.router.navigate(["user/muestras/"+i])}logOut(){Nn(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}newUnidad(t){this.router.navigate(["user/unidad-produccion-new"])}editUnidad(t){this.router.navigate(["user/unidad-produccion-edit/"+t])}infoProject(t){this.router.navigate(["user/project-info/"+t])}infoUnidad(t){this.router.navigate(["user/unidad-produccion-info/"+t])}MyQuery(){var t=this;return _(function*(){let i=t.pid;const r=Mt(me(t.firestore,"unidad-produccion"),Dt("project","==",i));oe(r).then(s=>{t.data=[...s.docs.map(a=>({...a.data(),id:a.id}))]}),(yield oe(r)).forEach(s=>{})})()}static{this.\u0275fac=function(i){return new(i||n)(E(Ee),E(qe),E(Oe),E(He),E(Lt))}}static{this.\u0275cmp=be({type:n,selectors:[["app-unidad-produccion-all"]],decls:17,vars:1,consts:[[1,"subTituloText"],[1,"list"],[4,"ngFor","ngForOf"],["id","agregar",1,"boton",3,"click"],[1,"blockBotones"],[1,"muestras",3,"click"],[1,"muestras-tip"],[1,"detalles",3,"click"],[1,"detalles-tip"],[1,"edit",3,"click"],[1,"edit-tip"]],template:function(i,r){1&i&&(p(0,"h1",0),g(1,"Unidades de Producci\xf3n "),h(),p(2,"div",1)(3,"table")(4,"tr")(5,"th"),g(6," Nombre "),h(),p(7,"th"),g(8," Cliente "),h(),p(9,"th"),g(10," Altitud"),h(),p(11,"th"),g(12," Coordenadas "),h(),$(13,"th"),h(),Ot(14,F2e,19,4,"tr",2),h(),p(15,"button",3),F("click",function(){return r.newUnidad(r.pid)}),g(16," Agregar "),h()()),2&i&&(P(14),Ve("ngForOf",r.data))},dependencies:[Ii],styles:[".list[_ngcontent-%COMP%]{position:absolute;left:clamp(350px,calc(50% - 336px),100%);top:30%;min-width:672px}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.projectBlock[_ngcontent-%COMP%]{width:auto;height:35px;background:#3ec28f;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:20px;font-weight:700;letter-spacing:0;cursor:pointer}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{cursor:pointer;width:153px;height:36px;left:50%;top:30%;transform:translate(0);position:absolute;background:#4c9eff;box-shadow:2px 2px 5px #000;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;width:650px;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;left:clamp(350px,calc(50% - 325px),100%);top:20%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.edit[_ngcontent-%COMP%]:hover   .edit-tip[_ngcontent-%COMP%]{display:block;opacity:1;transition:.5s}.edit-tip[_ngcontent-%COMP%]{display:none;position:relative;background-color:#2f3033;color:#fff;padding:5px;width:-moz-fit-content;width:fit-content;margin:5px;top:100%;left:0;opacity:0;transition:.5s;z-index:100;border-radius:3px;font-weight:700;font-family:Trebuchet MS,sans-serif}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.muestras[_ngcontent-%COMP%]:hover   .muestras-tip[_ngcontent-%COMP%]{display:block;opacity:1;transition:.5s}.muestras-tip[_ngcontent-%COMP%]{display:none;position:relative;background-color:#2f3033;color:#fff;padding:5px;width:max-content;margin:5px;top:100%;left:0;opacity:0;transition:.5s;z-index:100;border-radius:3px;font-weight:700;font-family:Trebuchet MS,sans-serif}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.detalles[_ngcontent-%COMP%]:hover   .detalles-tip[_ngcontent-%COMP%]{display:block;opacity:1;transition:.5s}.detalles-tip[_ngcontent-%COMP%]{display:none;position:relative;background-color:#2f3033;color:#fff;padding:5px;width:-moz-fit-content;width:fit-content;margin:5px;top:100%;left:0;opacity:0;transition:.5s;z-index:100;border-radius:3px;font-weight:700;font-family:Trebuchet MS,sans-serif}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.list[_ngcontent-%COMP%]{transform:none;position:absolute;left:5%;text-overflow:ellipsis;top:35%;width:90%;min-width:0px}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:153px;height:36px;transform:none;left:35%;top:40%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;transform:none;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;right:0%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;margin:0;height:100px;font-family:Verdana;font-size:26px;letter-spacing:0;transform:none;position:absolute;padding-top:8px;text-align:center;top:27%;left:0%;min-width:0px;width:100vw}.blockBotones[_ngcontent-%COMP%]{width:45px}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}.muestras-tip[_ngcontent-%COMP%]{margin:5px;position:relative;top:-28px;left:-45px;font-size:10px}.detalles-tip[_ngcontent-%COMP%]{font-size:10px;position:relative;top:-28px;left:-48px}.edit-tip[_ngcontent-%COMP%]{font-size:10px;position:relative;top:-28px;left:-33px}}"]})}}return n})();const V2e=["geo"];let qX=(()=>{class n{static{this.text=""}constructor(t,i,r,o,s){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.location=s,this.title="gestion-de-muestras-de-campo",this.data=[],this.res="",this.somethingChange=new Xe}ngOnInit(){this.route.params.subscribe(t=>{this.x=t.id,console.log(t),console.log(t.id)}),this.getData(),this.MyQuery()}handleRegister(t){this.addData(t),this.backPage()}addData(t){var i=this;return _(function*(){console.log(t);const r=Ce(i.firestore,"clientes",t.email);ai(r,{email:t.email,nombre:t.nombre,fecha:t.fecha,telefono:t.telefono,direccion:t.direccion}).then(()=>{alert("Data Sent")}).catch(o=>{alert(o.message)}),console.log(i.pid)})()}getData(){const t=me(this.firestore,"clientes");oe(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude),n.text=t.coords.latitude+", "+t.coords.longitude}getLocation(){var t=this;return _(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{t.res=n.text,console.log(t.res)},1e3)})()}MyQuery(){var t=this;return _(function*(){let i=t.x;const r=Mt(me(t.firestore,"clientes"),Dt("email","==",i)),o=yield oe(r);o.empty||o.forEach(s=>{t.item=s.data(),console.log(s.id," => ",s.data()),t.res=t.item.coordenadas,t.pid=t.item.project})})()}deleteData(t){const r=Ce(this.firestore,"clientes",this.x);en(r).then(()=>{alert("Data Deleted"),this.router.navigate(["user/muestras/"+this.pid])}).catch(o=>{alert(o.message)})}Home(){this.router.navigate(["user/unidad-produccion-all"])}backPage(){this.location.back()}static{this.\u0275fac=function(i){return new(i||n)(E(Ee),E(qe),E(Oe),E(He),E(En))}}static{this.\u0275cmp=be({type:n,selectors:[["app-clients-edit"]],viewQuery:function(i,r){if(1&i&&zn(V2e,5),2&i){let o;xn(o=wn())&&(r.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:27,vars:4,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],["name","email","ngModel","","placeholder","Email","id","emai","type","email",1,"input-field",3,"ngModel","ngModelChange"],["name","nombre","ngModel","","placeholder","Nombre","id","nombre","type","nombre",1,"input-field",3,"ngModel","ngModelChange"],["name","telefono","ngModel","","placeholder","Telefono","id","telefono","type","telefono",1,"input-field",3,"ngModel","ngModelChange"],["name","direccion","ngModel","","placeholder","Direccion","id","direccion","type","direccion",1,"input-field",3,"ngModel","ngModelChange"],[1,"boton"],["type","button","id","volver",1,"boton",3,"click"]],template:function(i,r){if(1&i){const o=ct();p(0,"p"),g(1,"clients-edit works!"),h(),p(2,"h1",0),g(3,"Nuevo Cliente"),h(),p(4,"div",1)(5,"form",2,3),F("ngSubmit",function(){ye(o);const a=Vt(6);return ve(r.handleRegister(a.value))}),p(7,"div",4)(8,"div",5)(9,"span",6),g(10,"Email:"),h(),p(11,"input",7),Qe("ngModelChange",function(a){return Je(r.item.email,a)||(r.item.email=a),a}),h()(),p(12,"div",5)(13,"span",6),g(14,"Nombre:"),h(),p(15,"input",8),Qe("ngModelChange",function(a){return Je(r.item.nombre,a)||(r.item.nombre=a),a}),h()(),p(16,"div",5)(17,"span",6),g(18,"Telefono:"),h(),p(19,"input",9),Qe("ngModelChange",function(a){return Je(r.item.telefono,a)||(r.item.telefono=a),a}),h()(),p(20,"div",5)(21,"span",6),g(22,"Direccion:"),h(),p(23,"input",10),Qe("ngModelChange",function(a){return Je(r.item.direccion,a)||(r.item.direccion=a),a}),h()(),p(24,"button",11),g(25,"Guardar"),h(),p(26,"button",12),F("click",function(){return r.backPage()}),h()()()()}2&i&&(P(11),Ye("ngModel",r.item.email),P(4),Ye("ngModel",r.item.nombre),P(4),Ye("ngModel",r.item.telefono),P(4),Ye("ngModel",r.item.direccion))},dependencies:[jn,Mi,dr,Un,Gi,Tn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;min-height:220px;min-width:620px;position:absolute;left:50%;top:27%;left:clamp(350px,calc(50% - 310px),100%);margin:25px auto;padding:20px;display:flex;flex-shrink:0;flex-direction:column;justify-content:flex-start;align-items:center}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:3%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:85%;height:20px;left:92px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;min-width:375px;top:18%;text-align:center;min-width:620px;left:clamp(350px,calc(50% - 310px),100%)}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:80%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}#volver[_ngcontent-%COMP%]{font-size:16px;position:absolute;left:0%;top:98%;background:none;border:none;width:50px;height:50px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(back-button-Edit4.8567daeed3ab1418.png)}@media only screen and (max-width: 768px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;min-width:0px;width:calc(90% - 40px);min-height:0px;height:210px;flex-shrink:0;transform:none;position:absolute;top:40%;left:5%}.input-fields[_ngcontent-%COMP%]{font-size:12px}.main[_ngcontent-%COMP%]{width:90%;height:100%;flex-shrink:0;margin-left:5px;margin-top:5px;position:absolute;top:0%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:14px;letter-spacing:0}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;inset:auto 0 0 auto;border:none;background-color:#3eb3c2;color:#fff;margin:20px 10px;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;margin:0;min-width:0px;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;transform:none;position:absolute;top:30%;left:0%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}#volver[_ngcontent-%COMP%]{width:45px;height:45px;left:0%;margin:20px 0;top:170px}}"]})}}return n})();const B2e=["geo"];let WX=(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.location=s,this.title="gestion-de-muestras-de-campo",this.data=[],this.somethingChange=new Xe,this.getData(),this.MyQuery()}ngOnInit(){this.route.params.subscribe(t=>{this.text=t.id}),this.getData(),this.MyQuery()}handleRegister(t){this.addData(t)}addData(t){const i=Ce(this.firestore,"clientes",t.codigo);co(i,t).then(()=>{alert("Data Sent")}).catch(r=>{alert(r.message)}),console.log(t.comentarios)}getData(){const t=me(this.firestore,"clientes");oe(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude)}getLocation(){var t=this;return _(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{console.log(t.res)},1e3)})()}MyQuery(){var t=this;return _(function*(){let i=t.text;const r=Mt(me(t.firestore,"clientes"),Dt("email","==",i)),o=yield oe(r);o.empty||o.forEach(s=>{t.item=s.data()})})()}editClients(){this.router.navigate(["user/clients-edit/"+this.text])}deleteData(t){const i=Ce(this.firestore,"clientes",t);en(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}backPage(){this.location.back()}static{this.\u0275fac=function(i){return new(i||n)(E(Ee),E(qe),E(Oe),E(He),E(En))}}static{this.\u0275cmp=be({type:n,selectors:[["app-clients-info"]],viewQuery:function(i,r){if(1&i&&zn(B2e,5),2&i){let o;xn(o=wn())&&(r.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:31,vars:4,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],[1,"input-field"],[1,"boton",3,"click"],["type","button","id","volver",1,"boton",3,"click"]],template:function(i,r){if(1&i){const o=ct();p(0,"p"),g(1,"clients-info works!"),h(),p(2,"h1",0),g(3,"Cliente"),h(),p(4,"div",1)(5,"form",2,3),F("ngSubmit",function(){ye(o);const a=Vt(6);return ve(r.handleRegister(a.value))}),p(7,"div",4)(8,"div",5)(9,"span",6),g(10,"Email:"),h(),p(11,"span",7),g(12),h()(),p(13,"div",5)(14,"span",6),g(15,"Nombre:"),h(),p(16,"span",7),g(17),h()(),p(18,"div",5)(19,"span",6),g(20,"Telefono:"),h(),p(21,"span",7),g(22),h()(),p(23,"div",5)(24,"span",6),g(25,"Direccion:"),h(),p(26,"span",7),g(27),h()()(),p(28,"button",8),F("click",function(){return r.editClients()}),g(29,"Editar Cliente"),h(),p(30,"button",9),F("click",function(){return r.backPage()}),h()()()}2&i&&(P(12),Pe(" ",r.item.email,""),P(5),Pe(" ",r.item.nombre,""),P(5),Pe(" ",r.item.telefono,""),P(5),Pe(" ",r.item.direccion,""))},dependencies:[jn,Un,Tn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;min-height:200px;min-width:620px;position:absolute;left:50%;top:27%;left:clamp(350px,calc(50% - 310px),100%);margin:25px auto;padding:20px;display:flex;flex-shrink:0;flex-direction:column;justify-content:flex-start;align-items:center}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:3%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;color:#000;font-family:Arial;font-size:20px}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:85%;height:20px;left:92px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;top:18%;text-align:center;width:620px;left:clamp(350px,calc(50% - 310px),100%)}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:80%;top:170px}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}#volver[_ngcontent-%COMP%]{font-size:16px;position:absolute;left:0%;top:170px;background:none;margin-left:20px;border:none;width:50px;height:50px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(back-button-Edit4.8567daeed3ab1418.png)}@media only screen and (max-width: 768px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;min-height:110px;flex-shrink:0;position:absolute;min-width:0px;width:calc(90% - 40px);top:35%;left:5%}.input-fields[_ngcontent-%COMP%]{margin:6px 6px 6px 15px;height:20px;left:92px;color:#000;font-family:Arial;font-size:16px;letter-spacing:0;text-overflow:ellipsis}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:5%;top:5%}.Text[_ngcontent-%COMP%]{color:#000;height:20px;font-family:Arial;font-size:16px;letter-spacing:0}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:75%;top:110%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;margin:0;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;position:absolute;left:0%;top:30%;width:100%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}#volver[_ngcontent-%COMP%]{top:110%}}"]})}}return n})(),z2e=(()=>{class n{constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.data=[]}ngOnInit(){let t;this.route.params.subscribe(i=>{this.item=i.id,t=i.id,console.log(i),console.log(i.id),this.generateBarcode(t)})}generateBarcode(t){var i=t;console.log(t),console.log(i),this.res=i,pd("#barcode",i,{format:"CODE128"})}toPrint(){window.open("/print/"+this.res,"_blank")}static{this.\u0275fac=function(i){return new(i||n)(E(Ee),E(qe),E(Oe),E(He))}}static{this.\u0275cmp=be({type:n,selectors:[["app-barcode-cantidad"]],standalone:!0,features:[cr],decls:5,vars:0,consts:[["onclick","window.print(this)","id","barcode"],[1,"print",3,"click"]],template:function(i,r){1&i&&(p(0,"p"),g(1,"barcode-cantidad works!"),h(),Wa(),$(2,"svg",0),Wd(),p(3,"button",1),F("click",function(){return r.toPrint()}),g(4,"Print"),h())},styles:[".main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:100%;left:5%;top:20%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.print[_ngcontent-%COMP%]{position:absolute;width:10%;left:45%;top:20%}svg[_ngcontent-%COMP%]{position:absolute;left:44%;top:35%}button[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:24px;font-weight:700;cursor:pointer;border-radius:30px}@media only screen and (max-width: 768px){.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:100%;left:5%;top:20%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.print[_ngcontent-%COMP%]{position:absolute;width:30%;left:40%;top:20%}svg[_ngcontent-%COMP%]{position:absolute;left:30%;top:35%}button[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:24px;font-weight:700;cursor:pointer;border-radius:30px}}"]})}}return n})();function U2e(n,e){if(1&n&&(p(0,"option",16),g(1),h()),2&n){const t=e.$implicit;Ve("value",t),P(),xe(t)}}let j2e=(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.location=s,this.unidadProduccionNombres=[],this.data=[],this.num=1,this.getUnidadesProduccion()}ngOnInit(){let t;this.route.params.subscribe(i=>{this.item=i.id,t=i.id,this.generateBarcode(t)})}handleRegister(t){this.addData(t),this.Barcode(t.codigo)}generateBarcode(t){var r=t;this.res=r,pd("#barcode",r,{format:"CODE128"})}getUnidadesProduccion(){var t=this;return _(function*(){(yield oe(me(t.firestore,"unidad-produccion"))).forEach(r=>{t.unidadProduccionNombres.push(r.data().codigo)})})()}generateSVG(t,i){for(let r=0;r<t;r++){const o=document.createElement("div"),s=document.createElement("svg");o.setAttribute("class","subcode"),s.setAttribute("id","barcode"+r),document.getElementById("codes")?.appendChild(s)}}addData(t){let i=Ce(this.firestore,"muestras",t.codigo);co(i,{codigo:t.codigo,unidad:t.ud})}toPrint(t){this.router.navigate(["/print/"+this.res+"/"+t])}sleep(t){return _(function*(){return new Promise(i=>setTimeout(i,t))})()}backPage(){this.location.back()}Barcode(t){this.router.navigate(["user/barcode/"+t])}static{this.\u0275fac=function(i){return new(i||n)(E(Ee),E(qe),E(Oe),E(He),E(En))}}static{this.\u0275cmp=be({type:n,selectors:[["app-barcode-new"]],decls:23,vars:1,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"group1"],[1,"input-fields"],[1,"Text"],["list","Unidad","name","ud","ngModel","","placeholder","Unidad de Producci\xf3n","id","ud","type","ud",1,"input-field"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],[1,"group2"],["name","codigo","ngModel","","placeholder","Codigo","id","codigo","type","codigo",1,"input-field"],[1,"red"],[1,"print"],["type","button","id","volver",3,"click"],[3,"value"]],template:function(i,r){if(1&i){const o=ct();p(0,"h1",0),g(1,"Generar Codigo"),h(),p(2,"div",1)(3,"form",2,3),F("ngSubmit",function(){ye(o);const a=Vt(4);return ve(r.handleRegister(a.value))}),p(5,"div",4)(6,"div",5)(7,"div",6)(8,"span",7),g(9,"Unidad de Producci\xf3n: "),h(),p(10,"select",8),$(11,"option",9),Ot(12,U2e,2,2,"option",10),h()()(),p(13,"div",11)(14,"div",6)(15,"span",7),g(16," Codigo: "),h(),$(17,"input",12),p(18,"span",13),g(19," * (obligatorio) "),h()()(),p(20,"button",14),g(21,"Generar"),h(),p(22,"button",15),F("click",function(){return r.backPage()}),h()()()()}2&i&&(P(12),Ve("ngForOf",r.unidadProduccionNombres))},dependencies:[Ii,jn,xs,ws,Mi,Ho,dr,Un,Gi,Tn],styles:[".main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;margin:10px;height:95%;width:95%}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;height:64px;width:625px;font-family:Verdana;font-size:56px;letter-spacing:0;text-shadow:2px 2px 5px black;left:65%;top:20%;transform:translate(-40%)}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:625px;height:225px;flex-shrink:0;position:absolute;top:55%;left:65%;transform:translate(-50%,-50%)}.group2[_ngcontent-%COMP%]{display:inline}.input-fields[_ngcontent-%COMP%]{position:inherit;margin:25px 10px;top:25px}.Text[_ngcontent-%COMP%]{display:inline;font-family:Arial;text-align:center;font-size:24px;font-weight:700}.Opcional[_ngcontent-%COMP%]{display:inline;font-family:Arial;text-align:center;font-size:16px}.red[_ngcontent-%COMP%]{display:inline;font-family:Arial;text-align:center;font-size:16px;color:red}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{height:20px;width:35%;font-size:16px}.print[_ngcontent-%COMP%]{position:absolute;top:60%;left:75%}svg[_ngcontent-%COMP%]{position:absolute;left:44%;top:32%}button[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:24px;font-weight:700;cursor:pointer;border-radius:30px}#volver[_ngcontent-%COMP%]{font-size:16px;position:absolute;left:5%;top:60%;border:none;width:50px;height:50px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(back-button-Edit4.8567daeed3ab1418.png)}#barcode[_ngcontent-%COMP%]{display:inline;border:2px solid rgb(0,0,0);box-shadow:2px 2px 5px #000}@media only screen and (max-width: 768px){.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:calc(100% - 20px);height:210px;left:0%;top:0%;transform:none}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;margin:0;width:100%;height:30px;font-family:Verdana;font-size:28px;text-align:center;letter-spacing:0;transform:none;position:absolute;left:0%;top:30%}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:calc(100% - 20px);height:230px;transform:none;position:absolute;left:10px;top:40%}.input-fields[_ngcontent-%COMP%]{position:inherit;display:block;width:calc(100% - 40px);margin:10px;top:25px}.Text[_ngcontent-%COMP%]{display:inline;font-family:Arial;font-size:20px}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:10px;height:20px;width:300px;font-size:16px}.print[_ngcontent-%COMP%]{position:absolute;width:100px;left:auto;right:0;top:140px;font-size:16px;margin-right:10px}#test[_ngcontent-%COMP%]{position:absolute;left:30%;top:60%;display:none}#codes[_ngcontent-%COMP%]{position:absolute;left:30%;top:35%}svg[_ngcontent-%COMP%]{position:absolute;left:25%;top:30%;margin:15px 0}.space[_ngcontent-%COMP%]{height:200px}#barcode[_ngcontent-%COMP%]{display:inline;border:2px solid rgb(0,0,0);box-shadow:2px 2px 5px #000}.red[_ngcontent-%COMP%]{display:block;font-family:Arial;text-align:left;font-size:16px;color:red;position:absolute;top:85px;left:110px;width:100px}button[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:20px;font-weight:700;cursor:pointer;border-radius:30px}#volver[_ngcontent-%COMP%]{font-size:16px;transform:none;position:absolute;margin-left:10px;left:0%;top:145px;border:none;width:36px;height:36px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(back-button-Edit4.8567daeed3ab1418.png)}}"]})}}return n})();function H2e(n,e){if(1&n){const t=ct();p(0,"tr")(1,"td"),g(2),h(),p(3,"td"),g(4),h(),p(5,"td"),g(6),h(),p(7,"td"),g(8),h(),p(9,"td"),g(10),h(),p(11,"td")(12,"button",3),F("click",function(){const o=ye(t).$implicit;return ve(st().infoMuestra(o.codigo))}),p(13,"div",4),g(14,"Informaci\xf3n"),h()(),p(15,"button",5),F("click",function(){const o=ye(t).$implicit;return ve(st().editMuestra(o.codigo))}),p(16,"div",6),g(17,"Editar"),h()(),p(18,"button",7),F("click",function(){const o=ye(t).$implicit;return ve(st().Barcode(o.codigo))}),p(19,"div",8),g(20,"Imprimir"),h()()()()}if(2&n){const t=e.$implicit;P(2),xe(t.codigo),P(2),xe(t.fecha),P(2),xe(t.cultivo),P(2),xe(t.estadoDiag),P(2),xe(t.resultados)}}const $2e=[{path:"user",component:XK,children:[{path:"barcode/:id",component:CRe},{path:"barcode-cantidad/:id",component:z2e},{path:"barcode-new",component:j2e},{path:"muestras/:up",component:wRe},{path:"muestras-new/:id",component:YNe},{path:"muestras-edit/:id",component:g2e},{path:"muestras-info/:id",component:w2e},{path:"muestras-all",component:E2e},{path:"unidad-produccion/:id",component:I2e},{path:"unidad-produccion-new",component:D2e},{path:"unidad-produccion-edit/:id",component:k2e},{path:"unidad-produccion-info/:id",component:O2e},{path:"unidad-produccion-all",component:L2e},{path:"clients",component:R2e},{path:"clients-new",component:GX},{path:"clients-edit/:id",component:qX},{path:"clients-info/:id",component:WX},{path:"resultados",component:(()=>{class n{constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.data=[],this.getData()}ngOnInit(){this.route.params.subscribe(t=>{this.item=t.id,console.log(t),console.log(t.id)})}getData(){const t=me(this.firestore,"muestras");oe(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}updateData(t){const i=Ce(this.firestore,"muestras",t);ai(i,{}).then(()=>{alert("Data updated"),this.getData()}).catch(r=>{alert(r.message)})}deleteData(t){const i=Ce(this.firestore,"muestras",t);en(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["user/projects"])}logOut(){Nn(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}newMuestra(){this.router.navigate(["user/muestras-new"])}editMuestra(t){this.router.navigate(["user/muestras-edit/"+t])}infoProject(t){this.router.navigate(["user/project-edit/"+t])}infoMuestra(t){this.router.navigate(["user/muestras-info/"+t])}Barcode(t){this.router.navigate(["user/barcode/"+t])}MyQuery(){var t=this;return _(function*(){let i=t.item;t.pid=i,console.log(i);const r=Mt(me(t.firestore,"muestras"),Dt("project","==",i));oe(r).then(s=>{t.data=[...s.docs.map(a=>({...a.data(),id:a.id}))]}),(yield oe(r)).forEach(s=>{console.log(s.id," => ",s.data())})})()}static{this.\u0275fac=function(i){return new(i||n)(E(Ee),E(qe),E(Oe),E(He))}}static{this.\u0275cmp=be({type:n,selectors:[["app-resultados"]],decls:17,vars:1,consts:[[1,"subTituloText"],[1,"list"],[4,"ngFor","ngForOf"],[1,"detalles",3,"click"],[1,"detalles-tip"],[1,"edit",3,"click"],[1,"edit-tip"],[1,"imprimir",3,"click"],[1,"imprimir-tip"]],template:function(i,r){1&i&&(p(0,"h1",0),g(1,"Resultados"),h(),p(2,"div",1)(3,"table")(4,"tr")(5,"th"),g(6," Codigo "),h(),p(7,"th"),g(8," Fecha "),h(),p(9,"th"),g(10," Cultivo "),h(),p(11,"th"),g(12," Estado "),h(),p(13,"th"),g(14," Resultados "),h(),$(15,"th"),h(),Ot(16,H2e,21,5,"tr",2),h()()),2&i&&(P(16),Ve("ngForOf",r.data))},dependencies:[Ii],styles:[".list[_ngcontent-%COMP%]{position:absolute;top:30%;min-width:545px;left:clamp(350px,calc(50% - 273px),100%)}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.projectBlock[_ngcontent-%COMP%]{width:auto;height:35px;background:#3ec28f;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:20px;font-weight:700;letter-spacing:0;cursor:pointer}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{cursor:pointer;width:153px;height:36px;top:30%;left:50%;transform:translate(-40%);position:absolute;background:#4c9eff;box-shadow:2px 2px 5px #000;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;top:20%;text-align:center;min-width:545px;left:clamp(350px,calc(50% - 273px),100%)}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.edit[_ngcontent-%COMP%]:hover   .edit-tip[_ngcontent-%COMP%]{display:block;opacity:1;transition:.5s}.edit-tip[_ngcontent-%COMP%]{display:none;position:relative;background-color:#2f3033;color:#fff;padding:5px;width:-moz-fit-content;width:fit-content;margin:5px;top:100%;left:0;opacity:0;transition:.5s;z-index:100;border-radius:3px;font-weight:700;font-family:Trebuchet MS,sans-serif}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.detalles[_ngcontent-%COMP%]:hover   .detalles-tip[_ngcontent-%COMP%]{display:block;opacity:1;transition:.5s}.detalles-tip[_ngcontent-%COMP%]{display:none;position:relative;background-color:#2f3033;color:#fff;padding:5px;width:-moz-fit-content;width:fit-content;margin:5px;top:100%;left:0;opacity:0;transition:.5s;z-index:100;border-radius:3px;font-weight:700;font-family:Trebuchet MS,sans-serif}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;margin-left:2px;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.imprimir[_ngcontent-%COMP%]:hover   .imprimir-tip[_ngcontent-%COMP%]{display:block;opacity:1;transition:.5s}.imprimir-tip[_ngcontent-%COMP%]{display:none;position:relative;background-color:#2f3033;color:#fff;padding:5px;width:-moz-fit-content;width:fit-content;margin:5px;top:100%;left:0;opacity:0;transition:.5s;z-index:100;border-radius:3px;font-weight:700;font-family:Trebuchet MS,sans-serif}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.list[_ngcontent-%COMP%]{position:absolute;left:5%;top:35%;text-overflow:ellipsis;transform:none;width:90%;min-width:0px}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{transform:none;width:153px;height:36px;left:30%;top:38%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{transform:none;cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:80%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;transform:none;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;top:27%;left:0%;min-width:0px;width:100vw}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}}return n})()},{path:"scan",component:p2e}]}];let G2e=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ot({type:n})}static{this.\u0275inj=tt({imports:[Ur.forChild($2e),Ur]})}}return n})();function Kw(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function YX(n){return un((e,t)=>n<=t)}function uFe(n,e){return n===e}let hFe=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),QX=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ot({type:n})}static{this.\u0275inj=tt({providers:[hFe]})}}return n})();function XX(n,e=0){return function fFe(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function Yw(n){return Array.isArray(n)?n:[n]}function fi(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Mf(n){return n instanceof Lt?n.nativeElement:n}const ZX=new Set;let Id,pFe=(()=>{class n{constructor(t,i){this._platform=t,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):gFe}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function mFe(n,e){if(!ZX.has(n))try{Id||(Id=document.createElement("style"),e&&(Id.nonce=e),Id.setAttribute("type","text/css"),document.head.appendChild(Id)),Id.sheet&&(Id.sheet.insertRule(`@media ${n} {body{ }}`,0),ZX.add(n))}catch(t){console.error(t)}}(t,this._nonce),this._matchMedia(t)}static{this.\u0275fac=function(i){return new(i||n)(j(Ti),j(m1,8))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function gFe(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let JX=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new ht}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return eZ(Yw(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let o=Ey(eZ(Yw(t)).map(s=>this._registerQuery(s).observable));return o=Gu(o.pipe(In(1)),o.pipe(YX(1),function KX(n,e=Em){return On((t,i)=>{let r=null,o=null,s=null;const a=()=>{if(r){r.unsubscribe(),r=null;const l=o;o=null,i.next(l)}};function c(){const l=s+n,d=e.now();if(d<l)return r=this.schedule(void 0,l-d),void i.add(r);a()}t.subscribe(yn(i,l=>{o=l,s=e.now(),r||(r=e.schedule(c,n),i.add(r))},()=>{a(),i.complete()},void 0,()=>{o=r=null}))})}(0))),o.pipe(ze(s=>{const a={matches:!1,breakpoints:{}};return s.forEach(({matches:c,query:l})=>{a.matches=a.matches||c,a.breakpoints[l]=c}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),o={observable:new rn(s=>{const a=c=>this._zone.run(()=>s.next(c));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(Iy(i),ze(({matches:s})=>({query:t,matches:s})),Sy(this._destroySubject)),mql:i};return this._queries.set(t,o),o}static{this.\u0275fac=function(i){return new(i||n)(j(pFe),j(ke))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function eZ(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}const Df_Medium="(min-width: 960px) and (max-width: 1279.98px)",Df_Large="(min-width: 1280px) and (max-width: 1919.98px)";let Qw=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function xFe(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const i=function vFe(n){try{return n.frameElement}catch{return null}}(function SFe(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(i&&(-1===rZ(i)||!this.isVisible(i)))return!1;let r=t.nodeName.toLowerCase(),o=rZ(t);return t.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function MFe(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,i){return function DFe(n){return!function CFe(n){return function TFe(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function wFe(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function EFe(n){return function IFe(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||iZ(n))}(t)&&!this.isDisabled(t)&&(i?.ignoreVisibility||this.isVisible(t))}static{this.\u0275fac=function(i){return new(i||n)(j(Ti))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function iZ(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function rZ(n){if(!iZ(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class oZ{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,t,i,r,o=!1){this._element=e,this._checker=t,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const i=this._getFirstTabbableElement(t);return i?.focus(e),!!i}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=0;i<t.length;i++){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[i]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=t.length-1;i>=0;i--){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[i]):null;if(r)return r}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(In(1)).subscribe(e)}}let gF=(()=>{class n{constructor(t,i,r){this._checker=t,this._ngZone=i,this._document=r}create(t,i=!1){return new oZ(t,this._checker,this._ngZone,this._document,i)}static{this.\u0275fac=function(i){return new(i||n)(j(Qw),j(ke),j(ft))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function sZ(n){return 0===n.buttons||0===n.detail}function aZ(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const kFe=new X("cdk-input-modality-detector-options"),AFe={ignoreKeys:[18,17,224,91,16]},Sf=t_({passive:!0,capture:!0});let OFe=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,i,r,o){this._platform=t,this._mostRecentTarget=null,this._modality=new yr(null),this._lastTouchMs=0,this._onKeydown=s=>{this._options?.ignoreKeys?.some(a=>a===s.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Bc(s))},this._onMousedown=s=>{Date.now()-this._lastTouchMs<650||(this._modality.next(sZ(s)?"keyboard":"mouse"),this._mostRecentTarget=Bc(s))},this._onTouchstart=s=>{aZ(s)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Bc(s))},this._options={...AFe,...o},this.modalityDetected=this._modality.pipe(YX(1)),this.modalityChanged=this.modalityDetected.pipe(function dFe(n,e=Ha){return n=n??uFe,On((t,i)=>{let r,o=!0;t.subscribe(yn(i,s=>{const a=e(s);(o||!n(r,a))&&(o=!1,r=a,i.next(s))}))})}()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Sf),r.addEventListener("mousedown",this._onMousedown,Sf),r.addEventListener("touchstart",this._onTouchstart,Sf)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Sf),document.removeEventListener("mousedown",this._onMousedown,Sf),document.removeEventListener("touchstart",this._onTouchstart,Sf))}static{this.\u0275fac=function(i){return new(i||n)(j(Ti),j(ke),j(ft),j(kFe,8))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Xw=function(n){return n[n.IMMEDIATE=0]="IMMEDIATE",n[n.EVENTUAL=1]="EVENTUAL",n}(Xw||{});const RFe=new X("cdk-focus-monitor-default-options"),Zw=t_({passive:!0,capture:!0});let Jw=(()=>{class n{constructor(t,i,r,o,s){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new ht,this._rootNodeFocusAndBlurListener=a=>{for(let l=Bc(a);l;l=l.parentElement)"focus"===a.type?this._onFocus(a,l):this._onBlur(a,l)},this._document=o,this._detectionMode=s?.detectionMode||Xw.IMMEDIATE}monitor(t,i=!1){const r=Mf(t);if(!this._platform.isBrowser||1!==r.nodeType)return Me();const o=function hke(n){if(function uke(){if(null==EN){const n=typeof document<"u"?document.head:null;EN=!(!n||!n.createShadowRoot&&!n.attachShadow)}return EN}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),s=this._elementInfo.get(r);if(s)return i&&(s.checkChildren=!0),s.subject;const a={checkChildren:i,subject:new ht,rootNode:o};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){const i=Mf(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const o=Mf(t);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([a,c])=>this._originChanged(a,i,c)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return this._detectionMode===Xw.EVENTUAL||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,this._detectionMode===Xw.IMMEDIATE&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),o=Bc(t);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,Zw),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,Zw)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Sy(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Zw),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Zw),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,o)=>{(o===t||r.checkChildren&&o.contains(t))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const o=t.labels;if(o)for(let s=0;s<o.length;s++)if(o[s].contains(i))return!0;return!1}static{this.\u0275fac=function(i){return new(i||n)(j(ke),j(Ti),j(OFe),j(ft,8),j(RFe,8))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Md=function(n){return n[n.NONE=0]="NONE",n[n.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",n[n.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",n}(Md||{});const lZ="cdk-high-contrast-black-on-white",dZ="cdk-high-contrast-white-on-black",_F="cdk-high-contrast-active";let uZ=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=Z(JX).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Md.NONE;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Md.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Md.BLACK_ON_WHITE}return Md.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(_F,lZ,dZ),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();i===Md.BLACK_ON_WHITE?t.add(_F,lZ):i===Md.WHITE_ON_BLACK&&t.add(_F,dZ)}}static{this.\u0275fac=function(i){return new(i||n)(j(Ti),j(ft))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),NFe=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}static{this.\u0275fac=function(i){return new(i||n)(j(uZ))}}static{this.\u0275mod=ot({type:n})}static{this.\u0275inj=tt({imports:[QX]})}}return n})();const FFe=["addListener","removeListener"],LFe=["addEventListener","removeEventListener"],VFe=["on","off"];function R_(n,e,t,i){if(Ct(t)&&(i=t,t=void 0),i)return R_(n,e,t).pipe(BI(i));const[r,o]=function UFe(n){return Ct(n.addEventListener)&&Ct(n.removeEventListener)}(n)?LFe.map(s=>a=>n[s](e,a,t)):function BFe(n){return Ct(n.addListener)&&Ct(n.removeListener)}(n)?FFe.map(hZ(n,e)):function zFe(n){return Ct(n.on)&&Ct(n.off)}(n)?VFe.map(hZ(n,e)):[];if(!r&&LI(n))return Di(s=>R_(s,e,t))($i(n));if(!r)throw new TypeError("Invalid event target");return new rn(s=>{const a=(...c)=>s.next(1<c.length?c:c[0]);return r(a),()=>o(a)})}function hZ(n,e){return t=>i=>n[t](e,i)}const N_={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=N_;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(o=>{t=void 0,n(o)});return new pi(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=N_;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=N_;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class HFe extends lv{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class jFe extends cv{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=N_.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:o}=e;null!=t&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==t&&(N_.cancelAnimationFrame(t),e._scheduled=void 0)}});let bF,GFe=1;const eC={};function fZ(n){return n in eC&&(delete eC[n],!0)}const qFe={setImmediate(n){const e=GFe++;return eC[e]=!0,bF||(bF=Promise.resolve()),bF.then(()=>fZ(e)&&n()),e},clearImmediate(n){fZ(n)}},{setImmediate:WFe,clearImmediate:KFe}=qFe,tC={setImmediate(...n){const{delegate:e}=tC;return(e?.setImmediate||WFe)(...n)},clearImmediate(n){const{delegate:e}=tC;return(e?.clearImmediate||KFe)(n)},delegate:void 0};new class QFe extends lv{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class YFe extends cv{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=tC.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:o}=e;null!=t&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==t&&(tC.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}});function yF(n=0,e,t=mwe){let i=-1;return null!=e&&(l9(e)?t=e:i=e),new rn(r=>{let o=function JFe(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function pZ(n,e=Em){return function ZFe(n){return On((e,t)=>{let i=!1,r=null,o=null,s=!1;const a=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const l=r;r=null,t.next(l)}s&&t.complete()},c=()=>{o=null,s&&t.complete()};e.subscribe(yn(t,l=>{i=!0,r=l,o||$i(n(l)).subscribe(o=yn(t,a,c))},()=>{s=!0,(!i||!o||o.closed)&&t.complete()}))})}(()=>yF(n,e))}const eLe=new X("cdk-dir-doc",{providedIn:"root",factory:function tLe(){return Z(ft)}}),nLe=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let vF=(()=>{class n{constructor(t){this.value="ltr",this.change=new Xe,t&&(this.value=function iLe(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?nLe.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static{this.\u0275fac=function(i){return new(i||n)(j(eLe,8))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),F_=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ot({type:n})}static{this.\u0275inj=tt({})}}return n})(),oLe=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new ht,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new rn(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(pZ(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Me()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(un(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,t)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=Mf(i),o=t.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>R_(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static{this.\u0275fac=function(i){return new(i||n)(j(ke),j(Ti),j(ft,8))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),mZ=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new ht,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,o=r.getBoundingClientRect();return{top:-o.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(pZ(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static{this.\u0275fac=function(i){return new(i||n)(j(Ti),j(ke),j(ft,8))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),xF=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ot({type:n})}static{this.\u0275inj=tt({})}}return n})(),gZ=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ot({type:n})}static{this.\u0275inj=tt({imports:[F_,xF,F_,xF]})}}return n})();class wF{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class CF extends wF{constructor(e,t,i,r,o){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=o}}class _Z extends wF{constructor(e,t,i,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class aLe extends wF{constructor(e){super(),this.element=e instanceof Lt?e.nativeElement:e}}class EF{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof CF?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof _Z?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof aLe?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class cLe extends EF{constructor(e,t,i,r,o){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=s=>{const a=s.element,c=this._document.createComment("dom-portal");a.parentNode.insertBefore(c,a),this.outletElement.appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(a,c)})},this._document=o}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||Yt.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let nC=(()=>{class n extends EF{constructor(t,i,r){super(),this._componentFactoryResolver=t,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new Xe,this.attachDomPortal=o=>{const s=o.element,a=this._document.createComment("dom-portal");o.setAttachedHost(this),s.parentNode.insertBefore(a,s),this._getRootNode().appendChild(s),this._attachedPortal=o,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(s,a)})},this._document=r}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);const i=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,o=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),s=i.createComponent(o,i.length,t.injector||i.injector,t.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(s.hostView.rootNodes[0]),super.setDisposeFn(()=>s.destroy()),this._attachedPortal=t,this._attachedRef=s,this.attached.emit(s),s}attachTemplatePortal(t){t.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}static{this.\u0275fac=function(i){return new(i||n)(E(_u),E(_o),E(ft))}}static{this.\u0275dir=ge({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[Ze.None,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[_t]})}}return n})(),lLe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ot({type:n})}static{this.\u0275inj=tt({})}}return n})();function L_(...n){const e=Xp(n),t=function cme(n,e){return"number"==typeof VI(n)?n.pop():e}(n,1/0),i=n;return i.length?1===i.length?$i(i[0]):$u(t)(xi(i,e)):Cs}const bZ=dke();class dLe{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=fi(-this._previousScrollPosition.left),e.style.top=fi(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,o=i.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),bZ&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),bZ&&(i.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class uLe{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0).pipe(un(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class yZ{enable(){}disable(){}attach(){}}function TF(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function vZ(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class hLe{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();TF(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let fLe=(()=>{class n{constructor(t,i,r,o){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new yZ,this.close=s=>new uLe(this._scrollDispatcher,this._ngZone,this._viewportRuler,s),this.block=()=>new dLe(this._viewportRuler,this._document),this.reposition=s=>new hLe(this._scrollDispatcher,this._viewportRuler,this._ngZone,s),this._document=o}static{this.\u0275fac=function(i){return new(i||n)(j(oLe),j(mZ),j(ke),j(ft))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class xZ{constructor(e){if(this.scrollStrategy=new yZ,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class pLe{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let wZ=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}static{this.\u0275fac=function(i){return new(i||n)(j(ft))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),mLe=(()=>{class n extends wZ{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const o=this._attachedOverlays;for(let s=o.length-1;s>-1;s--)if(o[s]._keydownEvents.observers.length>0){const a=o[s]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(r)):a.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static{this.\u0275fac=function(i){return new(i||n)(j(ft),j(ke,8))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),gLe=(()=>{class n extends wZ{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=Bc(o)},this._clickListener=o=>{const s=Bc(o),a="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const c=this._attachedOverlays.slice();for(let l=c.length-1;l>-1;l--){const d=c[l];if(d._outsidePointerEvents.observers.length<1||!d.hasAttached())continue;if(d.overlayElement.contains(s)||d.overlayElement.contains(a))break;const u=d._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>u.next(o)):u.next(o)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}static{this.\u0275fac=function(i){return new(i||n)(j(ft),j(Ti),j(ke,8))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),iC=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||IN()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(t),IN()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}static{this.\u0275fac=function(i){return new(i||n)(j(ft),j(Ti))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class V_{constructor(e,t,i,r,o,s,a,c,l,d=!1){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=c,this._outsideClickDispatcher=l,this._animationsDisabled=d,this._backdropElement=null,this._backdropClick=new ht,this._attachments=new ht,this._detachments=new ht,this._locationChanges=pi.EMPTY,this._backdropClickHandler=u=>this._backdropClick.next(u),this._backdropTransitionendHandler=u=>{this._disposeBackdrop(u.target)},this._keydownEvents=new ht,this._outsidePointerEvents=new ht,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(In(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=fi(this._config.width),e.height=fi(this._config.height),e.minWidth=fi(this._config.minWidth),e.minHeight=fi(this._config.minHeight),e.maxWidth=fi(this._config.maxWidth),e.maxHeight=fi(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,i){const r=Yw(t||[]).filter(o=>!!o);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(Sy(L_(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const CZ="cdk-overlay-connected-position-bounding-box",_Le=/([A-Za-z%]+)$/;class bLe{get positions(){return this._preferredPositions}constructor(e,t,i,r,o){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new ht,this._resizeSubscription=pi.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(CZ),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let s;for(let a of this._preferredPositions){let c=this._getOriginPoint(e,r,a),l=this._getOverlayPoint(c,t,a),d=this._getOverlayFit(l,t,i,a);if(d.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,c);this._canFitWithFlexibleDimensions(d,l,i)?o.push({position:a,origin:c,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(c,a)}):(!s||s.overlayFit.visibleArea<d.visibleArea)&&(s={overlayFit:d,overlayPoint:l,originPoint:c,position:a,overlayRect:t})}if(o.length){let a=null,c=-1;for(const l of o){const d=l.boundingBoxRect.width*l.boundingBoxRect.height*(l.position.weight||1);d>c&&(c=d,a=l)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Dd(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(CZ),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,o;if("center"==i.originX)r=e.left+e.width/2;else{const s=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;r="start"==i.originX?s:a}return t.left<0&&(r-=t.left),o="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(o-=t.top),{x:r,y:o}}_getOverlayPoint(e,t,i){let r,o;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,o="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+o}}_getOverlayFit(e,t,i,r){const o=TZ(t);let{x:s,y:a}=e,c=this._getOffset(r,"x"),l=this._getOffset(r,"y");c&&(s+=c),l&&(a+=l);let f=0-a,m=a+o.height-i.height,y=this._subtractOverflows(o.width,0-s,s+o.width-i.width),C=this._subtractOverflows(o.height,f,m),T=y*C;return{visibleArea:T,isCompletelyWithinViewport:o.width*o.height===T,fitsInViewportVertically:C===o.height,fitsInViewportHorizontally:y==o.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,o=i.right-t.x,s=EZ(this._overlayRef.getConfig().minHeight),a=EZ(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=s&&s<=r)&&(e.fitsInViewportHorizontally||null!=a&&a<=o)}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=TZ(t),o=this._viewportRect,s=Math.max(e.x+r.width-o.width,0),a=Math.max(e.y+r.height-o.height,0),c=Math.max(o.top-i.top-e.y,0),l=Math.max(o.left-i.left-e.x,0);let d=0,u=0;return d=r.width<=o.width?l||-s:e.x<this._viewportMargin?o.left-i.left-e.x:0,u=r.height<=o.height?c||-a:e.y<this._viewportMargin?o.top-i.top-e.y:0,this._previousPushAmount={x:d,y:u},{x:e.x+d,y:e.y+u}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._positionChanges.observers.length){const i=this._getScrollVisibility();if(e!==this._lastPosition||!this._lastScrollVisibility||!function yLe(n,e){return n===e||n.isOriginClipped===e.isOriginClipped&&n.isOriginOutsideView===e.isOriginOutsideView&&n.isOverlayClipped===e.isOverlayClipped&&n.isOverlayOutsideView===e.isOverlayOutsideView}(this._lastScrollVisibility,i)){const r=new pLe(e,i);this._positionChanges.next(r)}this._lastScrollVisibility=i}this._lastPosition=e,this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let o=0;o<t.length;o++)t[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let o,s,a,d,u,f;if("top"===t.overlayY)s=e.y,o=i.height-s+this._viewportMargin;else if("bottom"===t.overlayY)a=i.height-e.y+2*this._viewportMargin,o=i.height-a+this._viewportMargin;else{const m=Math.min(i.bottom-e.y+i.top,e.y),y=this._lastBoundingBoxSize.height;o=2*m,s=e.y-m,o>y&&!this._isInitialRender&&!this._growAfterOpen&&(s=e.y-y/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)f=i.width-e.x+2*this._viewportMargin,d=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)u=e.x,d=i.right-e.x;else{const m=Math.min(i.right-e.x+i.left,e.x),y=this._lastBoundingBoxSize.width;d=2*m,u=e.x-m,d>y&&!this._isInitialRender&&!this._growAfterOpen&&(u=e.x-y/2)}return{top:s,left:u,bottom:a,right:f,width:d,height:o}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=fi(i.height),r.top=fi(i.top),r.bottom=fi(i.bottom),r.width=fi(i.width),r.left=fi(i.left),r.right=fi(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=fi(o)),s&&(r.maxWidth=fi(s))}this._lastBoundingBoxSize=i,Dd(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Dd(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Dd(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){const d=this._viewportRuler.getViewportScrollPosition();Dd(i,this._getExactOverlayY(t,e,d)),Dd(i,this._getExactOverlayX(t,e,d))}else i.position="static";let a="",c=this._getOffset(t,"x"),l=this._getOffset(t,"y");c&&(a+=`translateX(${c}px) `),l&&(a+=`translateY(${l}px)`),i.transform=a.trim(),s.maxHeight&&(r?i.maxHeight=fi(s.maxHeight):o&&(i.maxHeight="")),s.maxWidth&&(r?i.maxWidth=fi(s.maxWidth):o&&(i.maxWidth="")),Dd(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=fi(o.y),r}_getExactOverlayX(e,t,i){let s,r={left:"",right:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),s=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===s?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=fi(o.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:vZ(e,i),isOriginOutsideView:TF(e,i),isOverlayClipped:vZ(t,i),isOverlayOutsideView:TF(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&Yw(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof Lt)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function Dd(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function EZ(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(_Le);return t&&"px"!==t?null:parseFloat(e)}return n||null}function TZ(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const IZ="cdk-global-overlay-wrapper";class vLe{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(IZ),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:a}=i,c=!("100%"!==r&&"100vw"!==r||s&&"100%"!==s&&"100vw"!==s),l=!("100%"!==o&&"100vh"!==o||a&&"100%"!==a&&"100vh"!==a),d=this._xPosition,u=this._xOffset,f="rtl"===this._overlayRef.getConfig().direction;let m="",y="",C="";c?C="flex-start":"center"===d?(C="center",f?y=u:m=u):f?"left"===d||"end"===d?(C="flex-end",m=u):("right"===d||"start"===d)&&(C="flex-start",y=u):"left"===d||"start"===d?(C="flex-start",m=u):("right"===d||"end"===d)&&(C="flex-end",y=u),e.position=this._cssPosition,e.marginLeft=c?"0":m,e.marginTop=l?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=c?"0":y,t.justifyContent=C,t.alignItems=l?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(IZ),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let xLe=(()=>{class n{constructor(t,i,r,o){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new vLe}flexibleConnectedTo(t){return new bLe(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static{this.\u0275fac=function(i){return new(i||n)(j(mZ),j(ft),j(Ti),j(iC))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),wLe=0,Io=(()=>{class n{constructor(t,i,r,o,s,a,c,l,d,u,f,m){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=s,this._injector=a,this._ngZone=c,this._document=l,this._directionality=d,this._location=u,this._outsideClickDispatcher=f,this._animationsModuleType=m}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),s=new xZ(t);return s.direction=s.direction||this._directionality.value,new V_(o,i,r,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+wLe++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(gs)),new cLe(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static{this.\u0275fac=function(i){return new(i||n)(j(fLe),j(iC),j(_u),j(xLe),j(mLe),j(Yt),j(ke),j(ft),j(vF),j(En),j(gLe),j(os,8))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const CLe=new X("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{const n=Z(Io);return()=>n.scrollStrategies.reposition()}}),TLe={provide:CLe,deps:[Io],useFactory:function ELe(n){return()=>n.scrollStrategies.reposition()}};let ILe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ot({type:n})}static{this.\u0275inj=tt({providers:[Io,TLe],imports:[F_,lLe,gZ,gZ]})}}return n})();var Be=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(Be||{});const Ba="*";function rC(n,e){return{type:Be.Trigger,name:n,definitions:e,options:{}}}function Sd(n,e=null){return{type:Be.Animate,styles:e,timings:n}}function oC(n,e=null){return{type:Be.Group,steps:n,options:e}}function Mo(n){return{type:Be.Style,styles:n,offset:null}}function kd(n,e,t){return{type:Be.State,name:n,styles:e,options:t}}function Ad(n,e,t=null){return{type:Be.Transition,expr:n,animation:e,options:t}}function sC(n=null){return{type:Be.AnimateChild,options:n}}function aC(n,e,t=null){return{type:Be.Query,selector:n,animation:e,options:t}}class B_{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class MZ{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const o=this.players.length;0==o?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}let kZ=(()=>{class n{static{this.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)"}static{this.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)"}static{this.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)"}static{this.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)"}}return n})(),AZ=(()=>{class n{static{this.COMPLEX="375ms"}static{this.ENTERING="225ms"}static{this.EXITING="195ms"}}return n})();const PLe=new X("mat-sanity-checks",{providedIn:"root",factory:function OLe(){return!0}});let Or=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!IN()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}static{this.\u0275fac=function(i){return new(i||n)(j(uZ),j(PLe,8),j(ft))}}static{this.\u0275mod=ot({type:n})}static{this.\u0275inj=tt({imports:[F_,F_]})}}return n})();const OZ=new X("MAT_DATE_LOCALE",{providedIn:"root",factory:function NLe(){return Z(_s)}});class PZ{constructor(){this._localeChanges=new ht,this.localeChanges=this._localeChanges}getValidDateOrNull(e){return this.isDateInstance(e)&&this.isValid(e)?e:null}deserialize(e){return null==e||this.isDateInstance(e)&&this.isValid(e)?e:this.invalid()}setLocale(e){this.locale=e,this._localeChanges.next()}compareDate(e,t){return this.getYear(e)-this.getYear(t)||this.getMonth(e)-this.getMonth(t)||this.getDate(e)-this.getDate(t)}sameDate(e,t){if(e&&t){let i=this.isValid(e),r=this.isValid(t);return i&&r?!this.compareDate(e,t):i==r}return e==t}clampDate(e,t,i){return t&&this.compareDate(e,t)<0?t:i&&this.compareDate(e,i)>0?i:e}}const FLe=new X("mat-date-formats"),LLe=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function MF(n,e){const t=Array(n);for(let i=0;i<n;i++)t[i]=e(i);return t}let VLe=(()=>{class n extends PZ{constructor(t){super(),this.useUtcForDisplay=!1,this._matDateLocale=Z(OZ,{optional:!0}),void 0!==t&&(this._matDateLocale=t),super.setLocale(this._matDateLocale)}getYear(t){return t.getFullYear()}getMonth(t){return t.getMonth()}getDate(t){return t.getDate()}getDayOfWeek(t){return t.getDay()}getMonthNames(t){const i=new Intl.DateTimeFormat(this.locale,{month:t,timeZone:"utc"});return MF(12,r=>this._format(i,new Date(2017,r,1)))}getDateNames(){const t=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return MF(31,i=>this._format(t,new Date(2017,0,i+1)))}getDayOfWeekNames(t){const i=new Intl.DateTimeFormat(this.locale,{weekday:t,timeZone:"utc"});return MF(7,r=>this._format(i,new Date(2017,0,r+1)))}getYearName(t){const i=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(i,t)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(t){return this.getDate(this._createDateWithOverflow(this.getYear(t),this.getMonth(t)+1,0))}clone(t){return new Date(t.getTime())}createDate(t,i,r){let o=this._createDateWithOverflow(t,i,r);return o.getMonth(),o}today(){return new Date}parse(t,i){return"number"==typeof t?new Date(t):t?new Date(Date.parse(t)):null}format(t,i){if(!this.isValid(t))throw Error("NativeDateAdapter: Cannot format invalid date.");const r=new Intl.DateTimeFormat(this.locale,{...i,timeZone:"utc"});return this._format(r,t)}addCalendarYears(t,i){return this.addCalendarMonths(t,12*i)}addCalendarMonths(t,i){let r=this._createDateWithOverflow(this.getYear(t),this.getMonth(t)+i,this.getDate(t));return this.getMonth(r)!=((this.getMonth(t)+i)%12+12)%12&&(r=this._createDateWithOverflow(this.getYear(r),this.getMonth(r),0)),r}addCalendarDays(t,i){return this._createDateWithOverflow(this.getYear(t),this.getMonth(t),this.getDate(t)+i)}toIso8601(t){return[t.getUTCFullYear(),this._2digit(t.getUTCMonth()+1),this._2digit(t.getUTCDate())].join("-")}deserialize(t){if("string"==typeof t){if(!t)return null;if(LLe.test(t)){let i=new Date(t);if(this.isValid(i))return i}}return super.deserialize(t)}isDateInstance(t){return t instanceof Date}isValid(t){return!isNaN(t.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(t,i,r){const o=new Date;return o.setFullYear(t,i,r),o.setHours(0,0,0,0),o}_2digit(t){return("00"+t).slice(-2)}_format(t,i){const r=new Date;return r.setUTCFullYear(i.getFullYear(),i.getMonth(),i.getDate()),r.setUTCHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),t.format(r)}static{this.\u0275fac=function(i){return new(i||n)(j(OZ,8))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac})}}return n})();const BLe={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};function zLe(n=BLe){return[{provide:PZ,useClass:VLe},{provide:FLe,useValue:n}]}var Do=function(n){return n[n.FADING_IN=0]="FADING_IN",n[n.VISIBLE=1]="VISIBLE",n[n.FADING_OUT=2]="FADING_OUT",n[n.HIDDEN=3]="HIDDEN",n}(Do||{});class ULe{constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=Do.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}}const RZ=t_({passive:!0,capture:!0});class jLe{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=Bc(e);t&&this._events.get(e.type)?.forEach((i,r)=>{(r===t||r.contains(t))&&i.forEach(o=>o.handleEvent(e))})}}addHandler(e,t,i,r){const o=this._events.get(t);if(o){const s=o.get(i);s?s.add(r):o.set(i,new Set([r]))}else this._events.set(t,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,RZ)})}removeHandler(e,t,i){const r=this._events.get(e);if(!r)return;const o=r.get(t);o&&(o.delete(i),0===o.size&&r.delete(t),0===r.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,RZ)))}}const NZ={enterDuration:225,exitDuration:150},FZ=t_({passive:!0,capture:!0}),LZ=["mousedown","touchstart"],VZ=["mouseup","mouseleave","touchend","touchcancel"];class cC{static{this._eventManager=new jLe}constructor(e,t,i,r){this._target=e,this._ngZone=t,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Mf(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...NZ,...i.animation};i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const s=i.radius||function $Le(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),a=e-r.left,c=t-r.top,l=o.enterDuration,d=document.createElement("div");d.classList.add("mat-ripple-element"),d.style.left=a-s+"px",d.style.top=c-s+"px",d.style.height=2*s+"px",d.style.width=2*s+"px",null!=i.color&&(d.style.backgroundColor=i.color),d.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(d);const u=window.getComputedStyle(d),m=u.transitionDuration,y="none"===u.transitionProperty||"0s"===m||"0s, 0s"===m||0===r.width&&0===r.height,C=new ULe(this,d,i,y);d.style.transform="scale3d(1, 1, 1)",C.state=Do.FADING_IN,i.persistent||(this._mostRecentTransientRipple=C);let T=null;return!y&&(l||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const S=()=>this._finishRippleTransition(C),D=()=>this._destroyRipple(C);d.addEventListener("transitionend",S),d.addEventListener("transitioncancel",D),T={onTransitionEnd:S,onTransitionCancel:D}}),this._activeRipples.set(C,T),(y||!l)&&this._finishRippleTransition(C),C}fadeOutRipple(e){if(e.state===Do.FADING_OUT||e.state===Do.HIDDEN)return;const t=e.element,i={...NZ,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=Do.FADING_OUT,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Mf(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,LZ.forEach(i=>{cC._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{VZ.forEach(t=>{this._triggerElement.addEventListener(t,this,FZ)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===Do.FADING_IN?this._startFadeOutTransition(e):e.state===Do.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=Do.VISIBLE,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=Do.HIDDEN,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=sZ(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!aZ(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;if(t)for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(e.state===Do.VISIBLE||e.config.terminateOnPointerUp&&e.state===Do.FADING_IN)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(LZ.forEach(t=>cC._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&VZ.forEach(t=>e.removeEventListener(t,this,FZ)))}}const BZ=new X("mat-ripple-global-options");let GLe=(()=>{class n{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,i,r,o,s){this._elementRef=t,this._animationMode=s,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new cC(this,i,t,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}static{this.\u0275fac=function(i){return new(i||n)(E(Lt),E(ke),E(Ti),E(BZ,8),E(os,8))}}static{this.\u0275dir=ge({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,r){2&i&&ar("mat-ripple-unbounded",r.unbounded)},inputs:{color:[Ze.None,"matRippleColor","color"],unbounded:[Ze.None,"matRippleUnbounded","unbounded"],centered:[Ze.None,"matRippleCentered","centered"],radius:[Ze.None,"matRippleRadius","radius"],animation:[Ze.None,"matRippleAnimation","animation"],disabled:[Ze.None,"matRippleDisabled","disabled"],trigger:[Ze.None,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0})}}return n})(),qLe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ot({type:n})}static{this.\u0275inj=tt({imports:[Or,Or]})}}return n})();const zZ={capture:!0},UZ=["focus","click","mouseenter","touchstart"],DF="mat-ripple-loader-uninitialized",SF="mat-ripple-loader-class-name",jZ="mat-ripple-loader-centered",lC="mat-ripple-loader-disabled";let WLe=(()=>{class n{constructor(){this._document=Z(ft,{optional:!0}),this._animationMode=Z(os,{optional:!0}),this._globalRippleOptions=Z(BZ,{optional:!0}),this._platform=Z(Ti),this._ngZone=Z(ke),this._hosts=new Map,this._onInteraction=t=>{if(!(t.target instanceof HTMLElement))return;const r=t.target.closest(`[${DF}]`);r&&this._createRipple(r)},this._ngZone.runOutsideAngular(()=>{for(const t of UZ)this._document?.addEventListener(t,this._onInteraction,zZ)})}ngOnDestroy(){const t=this._hosts.keys();for(const i of t)this.destroyRipple(i);for(const i of UZ)this._document?.removeEventListener(i,this._onInteraction,zZ)}configureRipple(t,i){t.setAttribute(DF,""),(i.className||!t.hasAttribute(SF))&&t.setAttribute(SF,i.className||""),i.centered&&t.setAttribute(jZ,""),i.disabled&&t.setAttribute(lC,"")}getRipple(t){return this._hosts.get(t)||this._createRipple(t)}setDisabled(t,i){const r=this._hosts.get(t);r?r.disabled=i:i?t.setAttribute(lC,""):t.removeAttribute(lC)}_createRipple(t){if(!this._document)return;const i=this._hosts.get(t);if(i)return i;t.querySelector(".mat-ripple")?.remove();const r=this._document.createElement("span");r.classList.add("mat-ripple",t.getAttribute(SF)),t.append(r);const o=new GLe(new Lt(r),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return o._isInitialized=!0,o.trigger=t,o.centered=t.hasAttribute(jZ),o.disabled=t.hasAttribute(lC),this.attachRipple(t,o),o}attachRipple(t,i){t.removeAttribute(DF),this._hosts.set(t,i)}destroyRipple(t){const i=this._hosts.get(t);i&&(i.ngOnDestroy(),this._hosts.delete(t))}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const KLe=new X("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{const n=Z(Io);return()=>n.scrollStrategies.reposition({scrollThrottle:20})}}),QLe={provide:KLe,deps:[Io],useFactory:function YLe(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}};let ZLe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ot({type:n})}static{this.\u0275inj=tt({providers:[QLe],imports:[NFe,ys,ILe,Or,Or,xF]})}}return n})(),JLe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ot({type:n})}static{this.\u0275inj=tt({providers:[zLe(),vI],imports:[ys,G2e,nm,Ww,ZLe]})}}return n})(),e3e=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=be({type:n,selectors:[["app-muestras"]],standalone:!0,features:[cr],decls:2,vars:0,template:function(i,r){1&i&&(p(0,"p"),g(1,"muestras works!"),h())}})}}return n})();function t3e(n,e){if(1&n){const t=ct();p(0,"tr")(1,"td",4),g(2),h(),p(3,"td",4),g(4),h(),p(5,"td",4),g(6),h(),p(7,"td")(8,"button",5),F("click",function(){const o=ye(t).$implicit;return ve(st().editUser(o.email))}),h()()()}if(2&n){const t=e.$implicit;P(2),xe(t.nombre),P(2),xe(t.email),P(2),xe(t.role)}}let n3e=(()=>{class n{constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.data=[],this.getData()}ngOnInit(){}NewUser(){this.router.navigate(["/admin/user-new"])}getData(){const t=me(this.firestore,"users");oe(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}updateData(t,i){const r=Ce(this.firestore,"users",t);ai(r,{email:i.email,nombre:i.nombre,password:i.password,role:i.role}).then(()=>{alert("Data updated"),this.getData()}).catch(o=>{alert(o.message)})}deleteData(t){if(1==confirm("Seguro que desea eliminar este usuario?")){const r=Ce(this.firestore,"users",t);en(r).then(()=>{alert("Data Deleted"),this.getData()}).catch(o=>{alert(o.message)})}}handleSignOut(){Nn(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}Home(){this.router.navigate(["admin"])}Projectos(){this.router.navigate(["admin"])}Muestras(){this.router.navigate(["admin"])}editUser(t){this.router.navigate(["admin/user-edit/"+t])}handleLogin(t){var i=this;return _(function*(){let r=t;const o=Mt(me(i.firestore,"users"),Dt("email","==",r));(yield oe(o)).forEach(a=>{a.data(),vO(i.auth,r,t.pass).then(function(){var d=_(function*(u){});return function(u){return d.apply(this,arguments)}}())})})()}deleteMyUser(t){var i=this;return _(function*(){let r,o=i.auth.currentUser?.email;console.log(i.auth.currentUser),r=" ",null==o&&(r=o),i.current=o;const s=Mt(me(i.firestore,"users"),Dt("email","==",o));(yield oe(s)).forEach(c=>{let d=c.data().password;i.key=d,i.handleLogin(t),console.log(i.auth.currentUser),vO(i.auth,r,d),console.log(i.auth.currentUser)})})()}getUserData(){var t=this;return _(function*(){let i=t.auth.currentUser?.email;t.current=i;const r=Mt(me(t.firestore,"users"),Dt("email","==",t.current));(yield oe(r)).forEach(s=>{let c=s.data().password;t.key=c})})()}static{this.\u0275fac=function(i){return new(i||n)(E(Ee),E(qe),E(Oe),E(He))}}static{this.\u0275cmp=be({type:n,selectors:[["app-users"]],decls:17,vars:1,consts:[[1,"subTituloText"],[1,"list"],[4,"ngFor","ngForOf"],[1,"NewUser",3,"click"],["contenteditable","true"],[1,"edit",3,"click"]],template:function(i,r){1&i&&(p(0,"p"),g(1,"users works!"),h(),p(2,"h1",0),g(3,"Usuarios"),h(),p(4,"div",1)(5,"table")(6,"tr")(7,"th"),g(8," Nombre "),h(),p(9,"th"),g(10," Email "),h(),p(11,"th"),g(12," Rol "),h(),$(13,"th"),h(),Ot(14,t3e,9,3,"tr",2),h(),p(15,"button",3),F("click",function(){return r.NewUser()}),g(16," Crear Usuario "),h()()),2&i&&(P(14),Ve("ngForOf",r.data))},dependencies:[Ii],styles:[".list[_ngcontent-%COMP%]{position:absolute;top:18em;min-width:526px;left:clamp(350px,calc(50% - 263px),100%)}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}button[_ngcontent-%COMP%]{border:none;background-color:#3eb3c2;color:#fff;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px;width:100px;height:40px;margin:10px}.red[_ngcontent-%COMP%]{background-color:#c23e3e}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;width:526px;height:10%;vertical-align:middle;line-height:250%;font-family:Verdana;text-align:center;font-size:48px;letter-spacing:0;top:3em;left:clamp(350px,calc(50% - 263px),100%)}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.NewUser[_ngcontent-%COMP%]{width:140px;position:absolute;right:0}@media only screen and (max-width: 768px){.homeBox[_ngcontent-%COMP%]{background-color:#0a9217;border-right:4px solid white;width:20%;height:15%;position:absolute;left:0;top:0%}.homeText[_ngcontent-%COMP%], .homeLogo[_ngcontent-%COMP%]{display:none}.tituloBox[_ngcontent-%COMP%]{background-color:#0a9217;width:80%;height:15%;position:absolute;left:20%;top:0%;text-align:center}.tituloText[_ngcontent-%COMP%]{color:#fff;line-height:1.6;display:inline-block;vertical-align:middle;font-family:Verdana;font-size:32px;letter-spacing:0px}.navbar2Box[_ngcontent-%COMP%]{width:100%;height:66px;background:#fff;box-shadow:0 0 6px 10px #00000040;position:absolute;left:0%;top:15%}.navbar2Text[_ngcontent-%COMP%]{height:28px;color:#000;font-size:8px;font-family:Verdana;font-weight:600;word-wrap:break-word;text-align:center;display:inline-block;vertical-align:middle;line-height:1.6;padding-top:7px;padding-left:0}.center[_ngcontent-%COMP%]{position:relative;top:18%}#cerrarText[_ngcontent-%COMP%]{cursor:pointer;width:15%;position:absolute;left:0%;top:15%;padding-left:3%;border-right:2px solid white}#ProyectosText[_ngcontent-%COMP%]{visibility:hidden;cursor:pointer;width:20%;position:absolute;left:15%;top:15%;border-right:2px solid white}#UnidadText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:20%;top:15%;border-right:2px solid white}#MuestrasText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:40%;top:15%;border-right:2px solid white}#ClientesText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:80%;top:15%;border-right:2px solid white}#CodigoText[_ngcontent-%COMP%]{cursor:pointer;width:15%;position:absolute;left:80%;top:15%;padding-left:3%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:15%;left:0%;top:0%}img[_ngcontent-%COMP%]{position:relative;top:0;width:20px;height:20px}br[_ngcontent-%COMP%]{display:inline}.list[_ngcontent-%COMP%]{position:absolute;left:clamp(0px,5%,100%);top:40%;text-overflow:ellipsis;min-width:0;width:90%}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse;min-width:0;width:100%}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;left:0%;top:28%;text-align:center;min-width:none;width:100%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}button[_ngcontent-%COMP%]{border:none;background-color:#3eb3c2;color:#fff;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;padding:10px;margin:15px 5px 5px;border-radius:30px}.NewUser[_ngcontent-%COMP%]{width:100px;position:absolute;right:0}}"]})}}return n})(),i3e=(()=>{class n{constructor(t,i,r,o){this.auth=t,this.firestore=i,this.router=r,this.location=o,this.title="gestion-de-muestras-de-campo",this.data=[],this.getData()}Login(){this.router.navigate(["/auth/login"])}Users(){this.router.navigate(["/admin/users"])}handleRegister(t){g$(this.auth,t.email,t.password).then(i=>{console.log(i.user)}).catch(i=>{alert("Email no valido")}),this.addData(t),this.Users()}addData(t){const i=Ce(this.firestore,"users",t.email);t.password==t.confirmpassword?"Investigador"==t.role||"Cliente"==t.role?co(i,{email:t.email,role:t.role,password:t.password}).then(()=>{alert("Data Sent")}).catch(r=>{alert(r.message)}):alert("Rol no reconocido"):alert("Claves No Iguales")}getData(){const t=me(this.firestore,"users");oe(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}Salir(){Nn(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}backPage(){this.location.back()}static{this.\u0275fac=function(i){return new(i||n)(E(Oe),E(He),E(Ee),E(En))}}static{this.\u0275cmp=be({type:n,selectors:[["app-user-new"]],decls:36,vars:0,consts:[[1,"loginBox"],[1,"loginTile"],[1,"lineBlack"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"userText"],["name","email","ngModel","","placeholder","Email","id","email","type","email",1,"input-field"],[1,"roleText"],["list","roles","name","role","ngModel","","placeholder","Roles","id","role","type","role",1,"input-field"],["value","","disabled","","selected",""],["value","Investigador"],["value","Cliente"],["value","Administrador"],[1,"claveText"],["name","password","ngModel","","placeholder","Clave","id","password","type","password",1,"input-field"],[1,"clave2Text"],["name","confirmpassword","ngModel","","placeholder","Confirmar Clave","id","confirmpassword","type","password",1,"input-field"],[1,"boton"],["type","button","id","volver",1,"boton",3,"click"]],template:function(i,r){if(1&i){const o=ct();p(0,"p"),g(1,"user-new works!"),h(),$(2,"div",0),p(3,"span",1),g(4,"Registrar"),h(),$(5,"div",2),p(6,"form",3,4),F("ngSubmit",function(){ye(o);const a=Vt(7);return ve(r.handleRegister(a.value))}),p(8,"div",5)(9,"div",6)(10,"span",7),g(11,"Email:"),h(),$(12,"input",8),h(),p(13,"div",6)(14,"span",9),g(15,"Roles:"),h(),p(16,"select",10)(17,"option",11),g(18,"Seleccione un Rol del usuario"),h(),p(19,"option",12),g(20," Investigador "),h(),p(21,"option",13),g(22," Cliente "),h(),p(23,"option",14),g(24," Administrador "),h()()(),p(25,"div",6)(26,"span",15),g(27,"Clave:"),h(),$(28,"input",16),h(),p(29,"div",6)(30,"span",17),g(31,"Confirmar Clave:"),h(),$(32,"input",18),h(),p(33,"button",19),g(34,"Sign Up"),h(),p(35,"button",20),F("click",function(){return r.backPage()}),h()()()}},dependencies:[jn,xs,ws,Mi,Ho,dr,Un,Gi,Tn],styles:[".input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}.main[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;width:600px;height:400px;position:absolute;top:37%;left:clamp(350px,calc(50% - 300px),100%)}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:600px;height:375px;position:absolute;top:37%;left:clamp(350px,calc(50% - 300px),100%)}.loginTile[_ngcontent-%COMP%]{color:#000;width:600px;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;top:39.5%;left:clamp(350px,calc(50% - 300px),100%)}.lineBlack[_ngcontent-%COMP%]{width:600px;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);top:45%;left:clamp(350px,calc(50% - 300px),100%)}#email[_ngcontent-%COMP%]{width:300px;height:26px;margin-left:5px}.userText[_ngcontent-%COMP%]{color:#000;margin-left:93px;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0}#password[_ngcontent-%COMP%]{width:300px;height:26px;margin-left:5px}.claveText[_ngcontent-%COMP%]{color:#000;margin-left:93px;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0}#role[_ngcontent-%COMP%]{width:300px;height:26px;margin-left:5px;color:#757575}.roleText[_ngcontent-%COMP%]{color:#000;margin-left:93px;width:150px;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0}#confirmpassword[_ngcontent-%COMP%]{width:300px;height:26px;margin-left:5px}.clave2Text[_ngcontent-%COMP%]{color:#000;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;width:80px;height:35px;border-width:0;border-radius:30px;font-size:16px;position:absolute;left:72%;top:75%}.botonText[_ngcontent-%COMP%]{color:#fff;width:80px;height:35px;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;position:absolute;left:72%;top:75%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}#volver[_ngcontent-%COMP%]{font-size:16px;position:absolute;left:5%;top:75%;background:none;border:none;width:50px;height:50px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(back-button-Edit4.8567daeed3ab1418.png)}@media only screen and (max-width: 768px){.main[_ngcontent-%COMP%]{display:flex;width:100vw;height:100vh;justify-content:center;align-items:center;flex-direction:column;transform:none;top:0%;left:0%}.input-fields[_ngcontent-%COMP%]{margin:10px;left:0%}.input-field[_ngcontent-%COMP%]{width:300px;height:20px;left:0%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:320px;height:548px;transform:none;position:absolute;left:15%;top:25%}.loginTile[_ngcontent-%COMP%]{color:#000;width:75%;height:20%;transform:none;position:absolute;font-family:Arial;text-align:center;font-size:24px;letter-spacing:0;left:16%;top:26%}.lineBlack[_ngcontent-%COMP%]{width:75%;height:0px;transform:none;position:absolute;border:1px solid rgba(0,0,0,1);left:15%;top:32%}#email[_ngcontent-%COMP%]{width:60%;height:3%;position:absolute;left:20%;top:40%}.userText[_ngcontent-%COMP%]{color:#000;width:10%;height:5%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:0%;top:35%}#role[_ngcontent-%COMP%]{width:60%;height:3%;position:absolute;left:20%;top:50%}.roleText[_ngcontent-%COMP%]{color:#000;width:15%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:0%;top:45%}#password[_ngcontent-%COMP%]{width:60%;height:3%;position:absolute;left:20%;top:60%}.claveText[_ngcontent-%COMP%]{color:#000;width:10%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:0%;top:55%}#confirmpassword[_ngcontent-%COMP%]{width:60%;height:3%;position:absolute;left:20%;top:70%}.clave2Text[_ngcontent-%COMP%]{color:#000;width:60%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:20%;top:65%}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:60%;top:74}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:14px;letter-spacing:0;left:60%;top:59.8%}#volver[_ngcontent-%COMP%]{left:20%;top:75%;width:45px;height:45px}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:15%;left:0%;top:0%}}"]})}}return n})();const r3e=["geo"];let o3e=(()=>{class n{static{this.text=""}constructor(t,i,r,o,s){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.location=s,this.title="gestion-de-muestras-de-campo",this.data=[],this.res="",this.somethingChange=new Xe}ngOnInit(){this.route.params.subscribe(t=>{this.x=t.id,console.log(t),console.log(t.id)}),this.getData(),this.MyQuery()}handleRegister(t){this.addData(t),this.backPage()}addData(t){var i=this;return _(function*(){const r=Ce(i.firestore,"users",t.email);ai(r,{email:t.email,nombre:t.nombre,role:t.role,password:t.password}).then(()=>{alert("Data Sent")}).catch(o=>{alert(o.message)}),console.log(i.pid)})()}getData(){const t=me(this.firestore,"clientes");oe(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude),n.text=t.coords.latitude+", "+t.coords.longitude}getLocation(){var t=this;return _(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{t.res=n.text,console.log(t.res)},1e3)})()}MyQuery(){var t=this;return _(function*(){let i=t.x;const r=Mt(me(t.firestore,"users"),Dt("email","==",i)),o=yield oe(r);o.empty||o.forEach(s=>{t.item=s.data(),console.log(s.id," => ",s.data()),t.res=t.item.coordenadas,t.pid=t.item.project})})()}deleteData(t){const r=Ce(this.firestore,"users",this.x);en(r).then(()=>{alert("Data Deleted"),this.location.back()}).catch(o=>{alert(o.message)})}Home(){this.router.navigate(["user/unidad-produccion-all"])}backPage(){this.location.back()}static{this.\u0275fac=function(i){return new(i||n)(E(Ee),E(qe),E(Oe),E(He),E(En))}}static{this.\u0275cmp=be({type:n,selectors:[["app-user-edit"]],viewQuery:function(i,r){if(1&i&&zn(r3e,5),2&i){let o;xn(o=wn())&&(r.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:41,vars:4,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],["name","email","ngModel","","placeholder","Email","id","emai","type","email",1,"input-field",3,"ngModel","ngModelChange"],["name","nombre","ngModel","","placeholder","Nombre","id","nombre","type","nombre",1,"input-field",3,"ngModel","ngModelChange"],["list","roles","name","role","ngModel","","placeholder","Roles","id","role","type","role",1,"input-field",3,"ngModel","ngModelChange"],["value","","disabled","","selected",""],["value","Investigador"],["value","Cliente"],["value","Administrador"],["name","password","ngModel","","placeholder","Password","id","password","type","password",1,"input-field",3,"ngModel","ngModelChange"],[1,"clave2Text"],["name","confirmpassword","ngModel","","placeholder","Confirmar Clave","id","confirmpassword","type","password",1,"input-field"],[1,"boton"],["type","button",1,"botonrojo",3,"click"],["type","button","id","volver",1,"boton",3,"click"]],template:function(i,r){if(1&i){const o=ct();p(0,"p"),g(1,"user-edit works!"),h(),p(2,"h1",0),g(3,"Editar Usuario"),h(),p(4,"div",1)(5,"form",2,3),F("ngSubmit",function(){ye(o);const a=Vt(6);return ve(r.handleRegister(a.value))}),p(7,"div",4)(8,"div",5)(9,"span",6),g(10,"Email:"),h(),p(11,"input",7),Qe("ngModelChange",function(a){return Je(r.item.email,a)||(r.item.email=a),a}),h()(),p(12,"div",5)(13,"span",6),g(14,"Nombre:"),h(),p(15,"input",8),Qe("ngModelChange",function(a){return Je(r.item.nombre,a)||(r.item.nombre=a),a}),h()(),p(16,"div",5)(17,"span",6),g(18,"Role:"),h(),p(19,"select",9),Qe("ngModelChange",function(a){return Je(r.item.role,a)||(r.item.role=a),a}),p(20,"option",10),g(21,"Seleccione un Rol del usuario"),h(),p(22,"option",11),g(23," Investigador "),h(),p(24,"option",12),g(25," Cliente "),h(),p(26,"option",13),g(27," Administrador "),h()()(),p(28,"div",5)(29,"span",6),g(30,"Clave:"),h(),p(31,"input",14),Qe("ngModelChange",function(a){return Je(r.item.password,a)||(r.item.password=a),a}),h()(),p(32,"div",5)(33,"span",15),g(34,"Confirmar Clave:"),h(),$(35,"input",16),h(),p(36,"button",17),g(37,"Guardar"),h(),p(38,"button",18),F("click",function(){return r.deleteData(r.item.id)}),g(39," Eliminar "),h(),p(40,"button",19),F("click",function(){return r.backPage()}),h()()()()}2&i&&(P(11),Ye("ngModel",r.item.email),P(4),Ye("ngModel",r.item.nombre),P(4),Ye("ngModel",r.item.role),P(12),Ye("ngModel",r.item.password))},dependencies:[jn,xs,ws,Mi,Ho,dr,Un,Gi,Tn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;min-height:260px;min-width:620px;position:absolute;left:50%;top:27%;left:clamp(350px,calc(50% - 310px),100%);margin:25px auto;padding:20px;display:flex;flex-shrink:0;flex-direction:column;justify-content:flex-start;align-items:center}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:3%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:85%;height:20px;left:92px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;min-width:375px;top:18%;text-align:center;min-width:620px;left:clamp(350px,calc(50% - 310px),100%)}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.clave2Text[_ngcontent-%COMP%]{color:#000;width:190px;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:80%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.botonrojo[_ngcontent-%COMP%]{margin:2%;background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:55%;top:100%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}#volver[_ngcontent-%COMP%]{font-size:16px;position:absolute;left:0%;top:98%;background:none;border:none;width:50px;height:50px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(back-button-Edit4.8567daeed3ab1418.png)}@media only screen and (max-width: 768px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;min-width:0px;width:calc(90% - 40px);min-height:0px;height:300px;flex-shrink:0;transform:none;position:absolute;top:40%;left:5%}.input-fields[_ngcontent-%COMP%]{font-size:12px}.main[_ngcontent-%COMP%]{width:90%;height:100%;flex-shrink:0;margin-left:5px;margin-top:5px;position:absolute;top:0%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:14px;letter-spacing:0}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;inset:auto 0 50px auto;border:none;background-color:#3eb3c2;color:#fff;margin:20px 10px;padding:0;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;margin:20px 10px;padding:0;inset:auto 0 0 auto}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;margin:0;min-width:0px;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;transform:none;position:absolute;top:30%;left:0%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}#volver[_ngcontent-%COMP%]{width:45px;height:45px;left:0%;margin:20px 0;top:auto;bottom:20px}}"]})}}return n})();function s3e(n,e){if(1&n){const t=ct();p(0,"tr")(1,"td"),g(2),h(),p(3,"td"),g(4),h(),p(5,"td"),g(6),h(),p(7,"td"),g(8),h(),p(9,"td")(10,"button",3),F("click",function(){const o=ye(t).$implicit;return ve(st().infoMuestra(o.codigo))}),p(11,"div",4),g(12,"Informaci\xf3n"),h()(),p(13,"button",5),F("click",function(){const o=ye(t).$implicit;return ve(st().editMuestra(o.codigo))}),p(14,"div",6),g(15,"Editar"),h()(),p(16,"button",7),F("click",function(){const o=ye(t).$implicit;return ve(st().Barcode(o.codigo))}),p(17,"div",8),g(18,"Imprimir"),h()()()()}if(2&n){const t=e.$implicit;P(2),xe(t.codigo),P(2),xe(t.fecha),P(2),xe(t.cultivo),P(2),xe(t.coordenadas)}}let a3e=(()=>{class n{constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.data=[],this.getData()}ngOnInit(){this.route.params.subscribe(t=>{this.item=t.id,console.log(t),console.log(t.id)})}getData(){const t=me(this.firestore,"muestras");oe(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}updateData(t){const i=Ce(this.firestore,"muestras",t);ai(i,{}).then(()=>{alert("Data updated"),this.getData()}).catch(r=>{alert(r.message)})}deleteData(t){const i=Ce(this.firestore,"muestras",t);en(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["user/unidad-produccion-all"])}logOut(){Nn(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}newMuestra(){this.router.navigate(["user/muestras-new"])}editMuestra(t){this.router.navigate(["user/muestras-edit/"+t])}infoProject(t){this.router.navigate(["user/project-edit/"+t])}infoMuestra(t){this.router.navigate(["user/muestras-info/"+t])}Barcode(t){this.router.navigate(["user/barcode/"+t])}MyQuery(){var t=this;return _(function*(){let i=t.item;t.pid=i,console.log(i);const r=Mt(me(t.firestore,"muestras"),Dt("project","==",i));oe(r).then(s=>{t.data=[...s.docs.map(a=>({...a.data(),id:a.id}))]}),(yield oe(r)).forEach(s=>{console.log(s.id," => ",s.data())})})()}static{this.\u0275fac=function(i){return new(i||n)(E(Ee),E(qe),E(Oe),E(He))}}static{this.\u0275cmp=be({type:n,selectors:[["app-muestras-all"]],decls:15,vars:1,consts:[[1,"subTituloText"],[1,"list"],[4,"ngFor","ngForOf"],[1,"detalles",3,"click"],[1,"detalles-tip"],[1,"edit",3,"click"],[1,"edit-tip"],[1,"imprimir",3,"click"],[1,"imprimir-tip"]],template:function(i,r){1&i&&(p(0,"h1",0),g(1,"Muestras"),h(),p(2,"div",1)(3,"table")(4,"tr")(5,"th"),g(6," Codigo "),h(),p(7,"th"),g(8," Fecha "),h(),p(9,"th"),g(10," Cultivo"),h(),p(11,"th"),g(12," Coordenadas "),h(),$(13,"th"),h(),Ot(14,s3e,19,4,"tr",2),h()()),2&i&&(P(14),Ve("ngForOf",r.data))},dependencies:[Ii],styles:[".list[_ngcontent-%COMP%]{position:absolute;top:30%;min-width:542px;left:clamp(350px,calc(50% - 240px),100%)}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.projectBlock[_ngcontent-%COMP%]{width:auto;height:35px;background:#3ec28f;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:20px;font-weight:700;letter-spacing:0;cursor:pointer}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{cursor:pointer;width:153px;height:36px;top:30%;left:50%;transform:translate(-40%);position:absolute;background:#4c9eff;box-shadow:2px 2px 5px #000;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;top:20%;text-align:center;min-width:542px;left:clamp(350px,calc(50% - 240px),100%)}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.edit[_ngcontent-%COMP%]:hover   .edit-tip[_ngcontent-%COMP%]{display:block;opacity:1;transition:.5s}.edit-tip[_ngcontent-%COMP%]{display:none;position:relative;background-color:#2f3033;color:#fff;padding:5px;width:-moz-fit-content;width:fit-content;margin:5px;top:100%;left:0;opacity:0;transition:.5s;z-index:100;border-radius:3px;font-weight:700;font-family:Trebuchet MS,sans-serif}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.detalles[_ngcontent-%COMP%]:hover   .detalles-tip[_ngcontent-%COMP%]{display:block;opacity:1;transition:.5s}.detalles-tip[_ngcontent-%COMP%]{display:none;position:relative;background-color:#2f3033;color:#fff;padding:5px;width:-moz-fit-content;width:fit-content;margin:5px;top:100%;left:0;opacity:0;transition:.5s;z-index:100;border-radius:3px;font-weight:700;font-family:Trebuchet MS,sans-serif}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;margin-left:2px;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.imprimir[_ngcontent-%COMP%]:hover   .imprimir-tip[_ngcontent-%COMP%]{display:block;opacity:1;transition:.5s}.imprimir-tip[_ngcontent-%COMP%]{display:none;position:relative;background-color:#2f3033;color:#fff;padding:5px;width:-moz-fit-content;width:fit-content;margin:5px;top:100%;left:0;opacity:0;transition:.5s;z-index:100;border-radius:3px;font-weight:700;font-family:Trebuchet MS,sans-serif}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.list[_ngcontent-%COMP%]{position:absolute;left:5%;top:35%;text-overflow:ellipsis;transform:none;width:90%;min-width:0px}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{transform:none;width:153px;height:36px;left:30%;top:38%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{transform:none;cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:80%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;transform:none;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;top:27%;left:0%;min-width:0px;width:100vw}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}}return n})(),c3e=(()=>{class n{constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.data=[]}ngOnInit(){let t;this.route.params.subscribe(i=>{this.item=i.id,t=i.id,console.log(i),console.log(i.id),this.generateBarcode(t)})}generateBarcode(t){var i=t;console.log(t),console.log(i),this.res=i,pd("#barcode",i,{format:"CODE128"})}toPrint(){window.open("/print/"+this.res,"_blank")}static{this.\u0275fac=function(i){return new(i||n)(E(Ee),E(qe),E(Oe),E(He))}}static{this.\u0275cmp=be({type:n,selectors:[["app-barcode-cantidad"]],standalone:!0,features:[cr],decls:5,vars:0,consts:[["onclick","window.print(this)","id","barcode"],[1,"print",3,"click"]],template:function(i,r){1&i&&(p(0,"p"),g(1,"barcode-cantidad works!"),h(),Wa(),$(2,"svg",0),Wd(),p(3,"button",1),F("click",function(){return r.toPrint()}),g(4,"Print"),h())},styles:[".main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:100%;left:5%;top:20%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.print[_ngcontent-%COMP%]{position:absolute;width:10%;left:45%;top:20%}svg[_ngcontent-%COMP%]{position:absolute;left:44%;top:35%}button[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:24px;font-weight:700;cursor:pointer;border-radius:30px}@media only screen and (max-width: 768px){.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:100%;left:5%;top:20%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.print[_ngcontent-%COMP%]{position:absolute;width:30%;left:40%;top:20%}svg[_ngcontent-%COMP%]{position:absolute;left:30%;top:35%}button[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:24px;font-weight:700;cursor:pointer;border-radius:30px}}"]})}}return n})(),l3e=(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.location=s,this.data=[],this.num=1}ngOnInit(){let t;this.route.params.subscribe(i=>{this.item=i.id,t=i.id,console.log(i),this.generateBarcode(t)})}handleRegister(t){console.log(t.cantidad),this.toPrint(t.cantidad)}generateBarcode(t){var r=t;this.res=r,pd("#barcode",r,{format:"CODE128"})}generateSVG(t,i){for(let r=0;r<t;r++){const o=document.createElement("div"),s=document.createElement("svg");o.setAttribute("class","subcode"),s.setAttribute("id","barcode"+r),document.getElementById("codes")?.appendChild(s)}}toPrint(t){window.open("#/print/"+this.res+"/"+t,"_blank")}sleep(t){return _(function*(){return new Promise(i=>setTimeout(i,t))})()}backPage(){this.location.back()}static{this.\u0275fac=function(i){return new(i||n)(E(Ee),E(qe),E(Oe),E(He),E(En))}}static{this.\u0275cmp=be({type:n,selectors:[["app-barcode"]],decls:13,vars:1,consts:[["id","barcode"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],["name","cantidad","ngModel","","placeholder","N\xb0","id","cantidad","type","number","min","1","max","5",1,"input-field",3,"ngModel","ngModelChange"],[1,"print"],["id","volver",3,"click"]],template:function(i,r){if(1&i){const o=ct();p(0,"p"),g(1,"barcode works!"),h(),Wa(),$(2,"svg",0),Wd(),p(3,"form",1,2),F("ngSubmit",function(){ye(o);const a=Vt(4);return ve(r.handleRegister(a.value))}),p(5,"div",3)(6,"div",4)(7,"span",5),g(8,"Cantidad: "),h(),p(9,"input",6),Qe("ngModelChange",function(a){return Je(r.num,a)||(r.num=a),a}),h()(),p(10,"button",7),g(11,"Imprimir"),h()()(),p(12,"button",8),F("click",function(){return r.backPage()}),h()}2&i&&(P(9),Ye("ngModel",r.num))},dependencies:[jn,Mi,xy,dr,Un,Cy,wy,Gi,Tn],styles:[".main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:40%;top:50%}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:56px;letter-spacing:0;text-shadow:2px 2px 5px black;left:45%;top:20%}.input-fields[_ngcontent-%COMP%]{position:inherit;width:180px;top:25px}.Text[_ngcontent-%COMP%]{display:inline;font-family:Arial;text-align:center;font-size:24px;font-weight:700}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{height:20px;width:40px;font-size:16px}.print[_ngcontent-%COMP%]{position:inherit;left:200px}svg[_ngcontent-%COMP%]{position:absolute;left:44%;top:32%}button[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:24px;font-weight:700;cursor:pointer;border-radius:30px}#volver[_ngcontent-%COMP%]{font-size:16px;position:absolute;left:35%;top:20%;border:none;width:50px;height:50px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(back-button-Edit4.8567daeed3ab1418.png)}#barcode[_ngcontent-%COMP%]{display:inline;border:2px solid rgb(0,0,0);box-shadow:2px 2px 5px #000}@media only screen and (max-width: 768px){.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:60%;height:20%;left:36%;top:60%}.input-fields[_ngcontent-%COMP%]{position:inherit;width:130px;top:25px}.Text[_ngcontent-%COMP%]{display:inline;font-family:Arial;text-align:center;font-size:20px}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{height:20px;width:20px;font-size:16px}.print[_ngcontent-%COMP%]{position:absolute;left:33%;top:45%;font-size:16px}#test[_ngcontent-%COMP%]{position:absolute;left:30%;top:60%;display:none}#codes[_ngcontent-%COMP%]{position:absolute;left:30%;top:35%}svg[_ngcontent-%COMP%]{position:absolute;left:25%;top:30%;margin:15px 0}.space[_ngcontent-%COMP%]{height:200px}#barcode[_ngcontent-%COMP%]{display:inline;border:2px solid rgb(0,0,0);box-shadow:2px 2px 5px #000}button[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:20px;font-weight:700;cursor:pointer;border-radius:30px}#volver[_ngcontent-%COMP%]{font-size:16px;position:absolute;left:28%;top:70%;border:none;width:36px;height:36px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(back-button-Edit4.8567daeed3ab1418.png)}}"]})}}return n})();function d3e(n,e){if(1&n&&(p(0,"option",16),g(1),h()),2&n){const t=e.$implicit;Ve("value",t),P(),xe(t)}}let u3e=(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.location=s,this.unidadProduccionNombres=[],this.data=[],this.num=1,this.getUnidadesProduccion()}ngOnInit(){let t;this.route.params.subscribe(i=>{this.item=i.id,t=i.id,this.generateBarcode(t)})}handleRegister(t){this.addData(t),this.Barcode(t.codigo)}generateBarcode(t){var r=t;this.res=r,pd("#barcode",r,{format:"CODE128"})}getUnidadesProduccion(){var t=this;return _(function*(){(yield oe(me(t.firestore,"unidad-produccion"))).forEach(r=>{t.unidadProduccionNombres.push(r.data().codigo)})})()}generateSVG(t,i){for(let r=0;r<t;r++){const o=document.createElement("div"),s=document.createElement("svg");o.setAttribute("class","subcode"),s.setAttribute("id","barcode"+r),document.getElementById("codes")?.appendChild(s)}}addData(t){let i=Ce(this.firestore,"muestras",t.codigo);co(i,{codigo:t.codigo,unidad:t.ud})}toPrint(t){this.router.navigate(["/print/"+this.res+"/"+t])}sleep(t){return _(function*(){return new Promise(i=>setTimeout(i,t))})()}backPage(){this.location.back()}Barcode(t){this.router.navigate(["user/barcode/"+t])}static{this.\u0275fac=function(i){return new(i||n)(E(Ee),E(qe),E(Oe),E(He),E(En))}}static{this.\u0275cmp=be({type:n,selectors:[["app-barcode-new"]],decls:23,vars:1,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"group1"],[1,"input-fields"],[1,"Text"],["list","Unidad","name","ud","ngModel","","placeholder","Unidad de Producci\xf3n","id","ud","type","ud",1,"input-field"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],[1,"group2"],["name","codigo","ngModel","","placeholder","Codigo","id","codigo","type","codigo",1,"input-field"],[1,"red"],[1,"print"],["type","button","id","volver",3,"click"],[3,"value"]],template:function(i,r){if(1&i){const o=ct();p(0,"h1",0),g(1,"Generar Codigo"),h(),p(2,"div",1)(3,"form",2,3),F("ngSubmit",function(){ye(o);const a=Vt(4);return ve(r.handleRegister(a.value))}),p(5,"div",4)(6,"div",5)(7,"div",6)(8,"span",7),g(9,"Unidad de Producci\xf3n: "),h(),p(10,"select",8),$(11,"option",9),Ot(12,d3e,2,2,"option",10),h()()(),p(13,"div",11)(14,"div",6)(15,"span",7),g(16," Codigo: "),h(),$(17,"input",12),p(18,"span",13),g(19," * (obligatorio) "),h()()(),p(20,"button",14),g(21,"Generar"),h(),p(22,"button",15),F("click",function(){return r.backPage()}),h()()()()}2&i&&(P(12),Ve("ngForOf",r.unidadProduccionNombres))},dependencies:[Ii,jn,xs,ws,Mi,Ho,dr,Un,Gi,Tn],styles:[".main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;margin:10px;height:95%;width:95%}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;height:64px;width:625px;font-family:Verdana;font-size:56px;letter-spacing:0;text-shadow:2px 2px 5px black;left:65%;top:20%;transform:translate(-40%)}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:625px;height:225px;flex-shrink:0;position:absolute;top:55%;left:65%;transform:translate(-50%,-50%)}.group2[_ngcontent-%COMP%]{display:inline}.input-fields[_ngcontent-%COMP%]{position:inherit;margin:25px 10px;top:25px}.Text[_ngcontent-%COMP%]{display:inline;font-family:Arial;text-align:center;font-size:24px;font-weight:700}.Opcional[_ngcontent-%COMP%]{display:inline;font-family:Arial;text-align:center;font-size:16px}.red[_ngcontent-%COMP%]{display:inline;font-family:Arial;text-align:center;font-size:16px;color:red}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{height:20px;width:35%;font-size:16px}.print[_ngcontent-%COMP%]{position:absolute;top:60%;left:75%}svg[_ngcontent-%COMP%]{position:absolute;left:44%;top:32%}button[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:24px;font-weight:700;cursor:pointer;border-radius:30px}#volver[_ngcontent-%COMP%]{font-size:16px;position:absolute;left:5%;top:60%;border:none;width:50px;height:50px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(back-button-Edit4.8567daeed3ab1418.png)}#barcode[_ngcontent-%COMP%]{display:inline;border:2px solid rgb(0,0,0);box-shadow:2px 2px 5px #000}@media only screen and (max-width: 768px){.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:calc(100% - 20px);height:210px;left:0%;top:0%;transform:none}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;margin:0;width:100%;height:30px;font-family:Verdana;font-size:28px;text-align:center;letter-spacing:0;transform:none;position:absolute;left:0%;top:30%}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:calc(100% - 20px);height:230px;transform:none;position:absolute;left:10px;top:40%}.input-fields[_ngcontent-%COMP%]{position:inherit;display:block;width:calc(100% - 40px);margin:10px;top:25px}.Text[_ngcontent-%COMP%]{display:inline;font-family:Arial;font-size:20px}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:10px;height:20px;width:300px;font-size:16px}.print[_ngcontent-%COMP%]{position:absolute;width:100px;left:auto;right:0;top:140px;font-size:16px;margin-right:10px}#test[_ngcontent-%COMP%]{position:absolute;left:30%;top:60%;display:none}#codes[_ngcontent-%COMP%]{position:absolute;left:30%;top:35%}svg[_ngcontent-%COMP%]{position:absolute;left:25%;top:30%;margin:15px 0}.space[_ngcontent-%COMP%]{height:200px}#barcode[_ngcontent-%COMP%]{display:inline;border:2px solid rgb(0,0,0);box-shadow:2px 2px 5px #000}.red[_ngcontent-%COMP%]{display:block;font-family:Arial;text-align:left;font-size:16px;color:red;position:absolute;top:85px;left:110px;width:100px}button[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:20px;font-weight:700;cursor:pointer;border-radius:30px}#volver[_ngcontent-%COMP%]{font-size:16px;transform:none;position:absolute;margin-left:10px;left:0%;top:145px;border:none;width:36px;height:36px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(back-button-Edit4.8567daeed3ab1418.png)}}"]})}}return n})();function h3e(n,e){if(1&n){const t=ct();p(0,"tr")(1,"td"),g(2),h(),p(3,"td"),g(4),h(),p(5,"td"),g(6),h(),p(7,"td"),g(8),h(),p(9,"td",4)(10,"button",5),F("click",function(){const o=ye(t).$implicit;return ve(st().Muestras(o.project,o.codigo))}),p(11,"div",6),g(12,"Listar Muestras"),h()(),p(13,"button",7),F("click",function(){const o=ye(t).$implicit;return ve(st().infoUnidad(o.codigo))}),p(14,"div",8),g(15,"Informaci\xf3n"),h()(),p(16,"button",9),F("click",function(){const o=ye(t).$implicit;return ve(st().editUnidad(o.codigo))}),p(17,"div",10),g(18,"Editar"),h()()()()}if(2&n){const t=e.$implicit;P(2),xe(t.codigo),P(2),xe(t.cliente),P(2),xe(t.altitud),P(2),xe(t.coordenadas)}}let f3e=(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.elem=s,this.data=[],this.getData()}ngOnInit(){this.route.params.subscribe(t=>{this.pid=t.id})}getData(){const t=me(this.firestore,"unidad-produccion");oe(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}updateData(t){const i=Ce(this.firestore,"unidad-produccion",t);ai(i,{}).then(()=>{alert("Data updated"),this.getData()}).catch(r=>{alert(r.message)})}deleteData(t){const i=Ce(this.firestore,"unidad-produccion",t);en(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["user/projects"])}Muestras(t,i){this.router.navigate(["user/muestras/"+i])}logOut(){Nn(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}newUnidad(t){this.router.navigate(["user/unidad-produccion-new"])}editUnidad(t){this.router.navigate(["user/unidad-produccion-edit/"+t])}infoProject(t){this.router.navigate(["user/project-info/"+t])}infoUnidad(t){this.router.navigate(["user/unidad-produccion-info/"+t])}MyQuery(){var t=this;return _(function*(){let i=t.pid;const r=Mt(me(t.firestore,"unidad-produccion"),Dt("project","==",i));oe(r).then(s=>{t.data=[...s.docs.map(a=>({...a.data(),id:a.id}))]}),(yield oe(r)).forEach(s=>{})})()}static{this.\u0275fac=function(i){return new(i||n)(E(Ee),E(qe),E(Oe),E(He),E(Lt))}}static{this.\u0275cmp=be({type:n,selectors:[["app-unidad-produccion-all"]],decls:17,vars:1,consts:[[1,"subTituloText"],[1,"list"],[4,"ngFor","ngForOf"],["id","agregar",1,"boton",3,"click"],[1,"blockBotones"],[1,"muestras",3,"click"],[1,"muestras-tip"],[1,"detalles",3,"click"],[1,"detalles-tip"],[1,"edit",3,"click"],[1,"edit-tip"]],template:function(i,r){1&i&&(p(0,"h1",0),g(1,"Unidades de Producci\xf3n "),h(),p(2,"div",1)(3,"table")(4,"tr")(5,"th"),g(6," Nombre "),h(),p(7,"th"),g(8," Cliente "),h(),p(9,"th"),g(10," Altitud"),h(),p(11,"th"),g(12," Coordenadas "),h(),$(13,"th"),h(),Ot(14,h3e,19,4,"tr",2),h(),p(15,"button",3),F("click",function(){return r.newUnidad(r.pid)}),g(16," Agregar "),h()()),2&i&&(P(14),Ve("ngForOf",r.data))},dependencies:[Ii],styles:[".list[_ngcontent-%COMP%]{position:absolute;left:clamp(350px,calc(50% - 336px),100%);top:30%;min-width:672px}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.projectBlock[_ngcontent-%COMP%]{width:auto;height:35px;background:#3ec28f;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:20px;font-weight:700;letter-spacing:0;cursor:pointer}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{cursor:pointer;width:153px;height:36px;left:50%;top:30%;transform:translate(0);position:absolute;background:#4c9eff;box-shadow:2px 2px 5px #000;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;width:650px;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;left:clamp(350px,calc(50% - 325px),100%);top:20%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.edit[_ngcontent-%COMP%]:hover   .edit-tip[_ngcontent-%COMP%]{display:block;opacity:1;transition:.5s}.edit-tip[_ngcontent-%COMP%]{display:none;position:relative;background-color:#2f3033;color:#fff;padding:5px;width:-moz-fit-content;width:fit-content;margin:5px;top:100%;left:0;opacity:0;transition:.5s;z-index:100;border-radius:3px;font-weight:700;font-family:Trebuchet MS,sans-serif}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.muestras[_ngcontent-%COMP%]:hover   .muestras-tip[_ngcontent-%COMP%]{display:block;opacity:1;transition:.5s}.muestras-tip[_ngcontent-%COMP%]{display:none;position:relative;background-color:#2f3033;color:#fff;padding:5px;width:max-content;margin:5px;top:100%;left:0;opacity:0;transition:.5s;z-index:100;border-radius:3px;font-weight:700;font-family:Trebuchet MS,sans-serif}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.detalles[_ngcontent-%COMP%]:hover   .detalles-tip[_ngcontent-%COMP%]{display:block;opacity:1;transition:.5s}.detalles-tip[_ngcontent-%COMP%]{display:none;position:relative;background-color:#2f3033;color:#fff;padding:5px;width:-moz-fit-content;width:fit-content;margin:5px;top:100%;left:0;opacity:0;transition:.5s;z-index:100;border-radius:3px;font-weight:700;font-family:Trebuchet MS,sans-serif}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.list[_ngcontent-%COMP%]{transform:none;position:absolute;left:5%;text-overflow:ellipsis;top:35%;width:90%;min-width:0px}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:153px;height:36px;transform:none;left:35%;top:40%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;transform:none;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;right:0%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;margin:0;height:100px;font-family:Verdana;font-size:26px;letter-spacing:0;transform:none;position:absolute;padding-top:8px;text-align:center;top:27%;left:0%;min-width:0px;width:100vw}.blockBotones[_ngcontent-%COMP%]{width:45px}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}.muestras-tip[_ngcontent-%COMP%]{margin:5px;position:relative;top:-28px;left:-45px;font-size:10px}.detalles-tip[_ngcontent-%COMP%]{font-size:10px;position:relative;top:-28px;left:-48px}.edit-tip[_ngcontent-%COMP%]{font-size:10px;position:relative;top:-28px;left:-33px}}"]})}}return n})();function p3e(n,e){if(1&n){const t=ct();p(0,"tr")(1,"td"),g(2),h(),p(3,"td"),g(4),h(),p(5,"td"),g(6),h(),p(7,"td"),g(8),h(),p(9,"td")(10,"button",4),F("click",function(){const o=ye(t).$implicit;return ve(st().infoClients(o.email))}),h(),p(11,"button",5),F("click",function(){const o=ye(t).$implicit;return ve(st().editClients(o.email))}),h()()()}if(2&n){const t=e.$implicit;P(2),xe(t.email),P(2),xe(t.nombre),P(2),xe(t.telefono),P(2),xe(t.direccion)}}let m3e=(()=>{class n{constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.data=[],this.getData()}ngOnInit(){this.route.params.subscribe(t=>{this.item=t.id,console.log(t),console.log(t.id)})}getData(){const t=me(this.firestore,"clientes");oe(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}updateData(t){const i=Ce(this.firestore,"muestras",t);ai(i,{}).then(()=>{alert("Data updated"),this.getData()}).catch(r=>{alert(r.message)})}deleteData(t){const i=Ce(this.firestore,"muestras",t);en(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["user/projects"])}logOut(){Nn(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}newClients(){this.router.navigate(["user/clients-new"])}editClients(t){this.router.navigate(["user/clients-edit/"+t])}infoClients(t){this.router.navigate(["user/clients-info/"+t])}infoMuestra(t){this.router.navigate(["user/muestras-info/"+t])}MyQuery(){var t=this;return _(function*(){let i=t.item;t.pid=i,console.log(i);const r=Mt(me(t.firestore,"muestras"),Dt("project","==",i));oe(r).then(s=>{t.data=[...s.docs.map(a=>({...a.data(),id:a.id}))]}),(yield oe(r)).forEach(s=>{console.log(s.id," => ",s.data())})})()}static{this.\u0275fac=function(i){return new(i||n)(E(Ee),E(qe),E(Oe),E(He))}}static{this.\u0275cmp=be({type:n,selectors:[["app-clients"]],decls:19,vars:1,consts:[[1,"subTituloText"],[1,"list"],[4,"ngFor","ngForOf"],["id","agregar",1,"boton",3,"click"],[1,"detalles",3,"click"],[1,"edit",3,"click"]],template:function(i,r){1&i&&(p(0,"p"),g(1,"clients works!"),h(),p(2,"h1",0),g(3,"Clientes"),h(),p(4,"div",1)(5,"table")(6,"tr")(7,"th"),g(8," Email "),h(),p(9,"th"),g(10," Nombre "),h(),p(11,"th"),g(12," Telefono"),h(),p(13,"th"),g(14," Direccion "),h(),$(15,"th"),h(),Ot(16,p3e,12,4,"tr",2),h(),p(17,"button",3),F("click",function(){return r.newClients()}),g(18," Agregar "),h()()),2&i&&(P(16),Ve("ngForOf",r.data))},dependencies:[Ii],styles:[".list[_ngcontent-%COMP%]{position:absolute;top:32%;min-width:665px;left:clamp(350px,calc(50% - 333px),100%)}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.projectBlock[_ngcontent-%COMP%]{width:auto;height:35px;background:#3ec28f;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:20px;font-weight:700;letter-spacing:0;cursor:pointer}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:153px;height:36px;top:30%;left:50%;transform:translate(-50%);position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:126px;height:16px;left:50%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;top:20%;min-width:665px;text-align:center;left:clamp(350px,calc(50% - 333px),100%)}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;margin-left:2px;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.list[_ngcontent-%COMP%]{transform:none;position:absolute;left:5%;text-overflow:ellipsis;top:35%;width:90%;min-width:0px}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{transform:none;width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{transform:none;width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{transform:none;position:absolute;right:0%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;transform:none;position:absolute;text-align:center;top:27%;left:0%;min-width:0px;width:100vw}.blockBotones[_ngcontent-%COMP%]{width:45px}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}}return n})();function g3e(n,e){if(1&n){const t=ct();p(0,"tr")(1,"td"),g(2),h(),p(3,"td"),g(4),h(),p(5,"td"),g(6),h(),p(7,"td"),g(8),h(),p(9,"td"),g(10),h(),p(11,"td")(12,"button",3),F("click",function(){const o=ye(t).$implicit;return ve(st().infoMuestra(o.codigo))}),p(13,"div",4),g(14,"Informaci\xf3n"),h()(),p(15,"button",5),F("click",function(){const o=ye(t).$implicit;return ve(st().editMuestra(o.codigo))}),p(16,"div",6),g(17,"Editar"),h()(),p(18,"button",7),F("click",function(){const o=ye(t).$implicit;return ve(st().Barcode(o.codigo))}),p(19,"div",8),g(20,"Imprimir"),h()()()()}if(2&n){const t=e.$implicit;P(2),xe(t.codigo),P(2),xe(t.fecha),P(2),xe(t.cultivo),P(2),xe(t.estadoDiag),P(2),xe(t.resultados)}}let _3e=(()=>{class n{constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.data=[],this.getData()}ngOnInit(){this.route.params.subscribe(t=>{this.item=t.id,console.log(t),console.log(t.id)})}getData(){const t=me(this.firestore,"muestras");oe(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}updateData(t){const i=Ce(this.firestore,"muestras",t);ai(i,{}).then(()=>{alert("Data updated"),this.getData()}).catch(r=>{alert(r.message)})}deleteData(t){const i=Ce(this.firestore,"muestras",t);en(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["user/projects"])}logOut(){Nn(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}newMuestra(){this.router.navigate(["user/muestras-new"])}editMuestra(t){this.router.navigate(["user/muestras-edit/"+t])}infoProject(t){this.router.navigate(["user/project-edit/"+t])}infoMuestra(t){this.router.navigate(["user/muestras-info/"+t])}Barcode(t){this.router.navigate(["user/barcode/"+t])}MyQuery(){var t=this;return _(function*(){let i=t.item;t.pid=i,console.log(i);const r=Mt(me(t.firestore,"muestras"),Dt("project","==",i));oe(r).then(s=>{t.data=[...s.docs.map(a=>({...a.data(),id:a.id}))]}),(yield oe(r)).forEach(s=>{console.log(s.id," => ",s.data())})})()}static{this.\u0275fac=function(i){return new(i||n)(E(Ee),E(qe),E(Oe),E(He))}}static{this.\u0275cmp=be({type:n,selectors:[["app-resultados"]],decls:17,vars:1,consts:[[1,"subTituloText"],[1,"list"],[4,"ngFor","ngForOf"],[1,"detalles",3,"click"],[1,"detalles-tip"],[1,"edit",3,"click"],[1,"edit-tip"],[1,"imprimir",3,"click"],[1,"imprimir-tip"]],template:function(i,r){1&i&&(p(0,"h1",0),g(1,"Resultados"),h(),p(2,"div",1)(3,"table")(4,"tr")(5,"th"),g(6," Codigo "),h(),p(7,"th"),g(8," Fecha "),h(),p(9,"th"),g(10," Cultivo "),h(),p(11,"th"),g(12," Estado "),h(),p(13,"th"),g(14," Resultados "),h(),$(15,"th"),h(),Ot(16,g3e,21,5,"tr",2),h()()),2&i&&(P(16),Ve("ngForOf",r.data))},dependencies:[Ii],styles:[".list[_ngcontent-%COMP%]{position:absolute;top:30%;min-width:545px;left:clamp(350px,calc(50% - 273px),100%)}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.projectBlock[_ngcontent-%COMP%]{width:auto;height:35px;background:#3ec28f;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:20px;font-weight:700;letter-spacing:0;cursor:pointer}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{cursor:pointer;width:153px;height:36px;top:30%;left:50%;transform:translate(-40%);position:absolute;background:#4c9eff;box-shadow:2px 2px 5px #000;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;top:20%;text-align:center;min-width:545px;left:clamp(350px,calc(50% - 273px),100%)}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.edit[_ngcontent-%COMP%]:hover   .edit-tip[_ngcontent-%COMP%]{display:block;opacity:1;transition:.5s}.edit-tip[_ngcontent-%COMP%]{display:none;position:relative;background-color:#2f3033;color:#fff;padding:5px;width:-moz-fit-content;width:fit-content;margin:5px;top:100%;left:0;opacity:0;transition:.5s;z-index:100;border-radius:3px;font-weight:700;font-family:Trebuchet MS,sans-serif}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.detalles[_ngcontent-%COMP%]:hover   .detalles-tip[_ngcontent-%COMP%]{display:block;opacity:1;transition:.5s}.detalles-tip[_ngcontent-%COMP%]{display:none;position:relative;background-color:#2f3033;color:#fff;padding:5px;width:-moz-fit-content;width:fit-content;margin:5px;top:100%;left:0;opacity:0;transition:.5s;z-index:100;border-radius:3px;font-weight:700;font-family:Trebuchet MS,sans-serif}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;margin-left:2px;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.imprimir[_ngcontent-%COMP%]:hover   .imprimir-tip[_ngcontent-%COMP%]{display:block;opacity:1;transition:.5s}.imprimir-tip[_ngcontent-%COMP%]{display:none;position:relative;background-color:#2f3033;color:#fff;padding:5px;width:-moz-fit-content;width:fit-content;margin:5px;top:100%;left:0;opacity:0;transition:.5s;z-index:100;border-radius:3px;font-weight:700;font-family:Trebuchet MS,sans-serif}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.list[_ngcontent-%COMP%]{position:absolute;left:5%;top:35%;text-overflow:ellipsis;transform:none;width:90%;min-width:0px}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{transform:none;width:153px;height:36px;left:30%;top:38%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{transform:none;cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:80%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;transform:none;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;top:27%;left:0%;min-width:0px;width:100vw}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}}return n})();const b3e=["action"];function y3e(n,e){1&n&&(p(0,"p"),g(1,"\u231b Loading..."),h())}const v3e=[{path:"admin",component:QK,children:[{path:"users",component:n3e},{path:"user-new",component:i3e},{path:"user-edit/:id",component:o3e},{path:"muestras",component:e3e},{path:"muestras-all",component:a3e},{path:"barcode/:id",component:l3e},{path:"barcode-cantidad/:id",component:c3e},{path:"barcode-new",component:u3e},{path:"unidad-produccion-all",component:f3e},{path:"clients",component:m3e},{path:"clients-new",component:GX},{path:"clients-edit/:id",component:qX},{path:"clients-info/:id",component:WX},{path:"resultados",component:_3e},{path:"scan",component:(()=>{class n{constructor(t,i,r,o,s){this.qrcode=t,this.router=i,this.route=r,this.auth=o,this.firestore=s,this.data=[],this.config={constraints:{video:{width:window.innerWidth}}},this.qrCodeResult=[],this.qrCodeResult2=[],this.getData()}ngAfterViewInit(){this.action.isReady.subscribe(t=>{})}onEvent(t,i){console.log(t[0].value),this.item=t[0].value,this.MyQuery()}handle(t,i){"start"===i?t[i](o=>{const s=o.find(a=>/back|rear|environment/gi.test(a.label));t.playDevice(s?s.deviceId:o[0].deviceId)}).subscribe(o=>console.log(i,o),alert):t[i]().subscribe(o=>console.log(i,o),alert)}onDowload(t){t.download().subscribe(console.log,alert)}onSelects(t){this.qrcode.loadFiles(t,.5).subscribe(i=>{this.qrCodeResult=i})}onSelects2(t){this.qrcode.loadFilesToScan(t,this.config,.5).subscribe(i=>{console.log(i),this.qrCodeResult2=i})}getData(){const t=me(this.firestore,"muestras");oe(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}MyQuery(){var t=this;return _(function*(){let i=t.item;console.log(i);const r=Mt(me(t.firestore,"muestras"),Dt("codigo","==",i));oe(r).then(o=>{t.data=[...o.docs.map(s=>({...s.data(),id:s.id}))],0!=t.data.length&&(t.handle(t.action,"stop"),t.router.navigate(["user/muestras-info/"+i]))})})()}static{this.\u0275fac=function(i){return new(i||n)(E(fF),E(Ee),E(qe),E(Oe),E(He))}}static{this.\u0275cmp=be({type:n,selectors:[["app-scan"]],viewQuery:function(i,r){if(1&i&&zn(b3e,5),2&i){let o;xn(o=wn())&&(r.action=o.first)}},decls:6,vars:8,consts:[[1,"container"],[1,"screen",3,"config","event"],["action","scanner"],[4,"ngIf"],[1,"btn",3,"disabled","click"],["width","30px",3,"src"]],template:function(i,r){if(1&i){const o=ct();p(0,"div",0)(1,"ngx-scanner-qrcode",1,2),F("event",function(a){ye(o);const c=Vt(2);return ve(r.onEvent(a,c))}),h(),Ot(3,y3e,2,0,"p",3),p(4,"button",4),F("click",function(){ye(o);const a=Vt(2);return ve(r.handle(a,a.isStart?"stop":"start"))}),$(5,"img",5),h()()}if(2&i){const o=Vt(2);P(),Ve("config",r.config),P(2),Ve("ngIf",o.isLoading),P(),ar("btn-info",!o.isStart)("btn-warning",o.isStart),Ve("disabled",o.isLoading),P(),Ve("src",o.isStart?"https://id1945.github.io/images/svg/camera-off.svg":"https://id1945.github.io/images/svg/camera-on.svg",oa)}},dependencies:[qp,jX],styles:["h1[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{font-weight:600;word-break:break-all;font-family:Courier New,Courier,monospace}div[_ngcontent-%COMP%]{text-align:center}div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:50%;height:60px;width:60px;margin:4px}div[_ngcontent-%COMP%]   buttondisabled[_ngcontent-%COMP%]{cursor:no-drop}div[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]{background:#faebd7;border-radius:5px}.origin-overlay[_ngcontent-%COMP%]   .qrcode-tooltip[_ngcontent-%COMP%]   .qrcode-tooltip-temp[_ngcontent-%COMP%]{padding:5px!important}.screen[_ngcontent-%COMP%]{display:block;height:55%;width:55%;margin-left:auto;margin-right:auto}.container[_ngcontent-%COMP%]{top:25%;width:85%;position:absolute;left:15%}@media only screen and (max-width: 768px){h1[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{font-weight:600;word-break:break-all;font-family:Courier New,Courier,monospace}div[_ngcontent-%COMP%]{text-align:center}div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:50%;height:60px;width:60px;margin:10px 4px 4px}div[_ngcontent-%COMP%]   buttondisabled[_ngcontent-%COMP%]{cursor:no-drop}div[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]{background:#faebd7;border-radius:5px}.origin-overlay[_ngcontent-%COMP%]   .qrcode-tooltip[_ngcontent-%COMP%]   .qrcode-tooltip-temp[_ngcontent-%COMP%]{padding:5px!important}.screen[_ngcontent-%COMP%]{display:block;height:80%;width:80%;margin-left:auto;margin-right:auto}.container[_ngcontent-%COMP%]{top:28%;width:100%;position:absolute;left:0%}}@media only screen and (min-width: 1536px){.screen[_ngcontent-%COMP%]{display:block;height:40%;width:40%;margin-left:auto;margin-right:auto}}"]})}}return n})()}]}];let x3e=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ot({type:n})}static{this.\u0275inj=tt({imports:[Ur.forChild(v3e),Ur]})}}return n})(),w3e=(()=>{class n{Hello(){console.log("hello")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ot({type:n})}static{this.\u0275inj=tt({imports:[x3e,MN,ys,nm,Ww,Ur]})}}return n})();const kf=new rn(Pf),E3e={connector:()=>new ht};function $Z(n,e=E3e){const{connector:t}=e;return On((i,r)=>{const o=t();$i(n(function C3e(n){return new rn(e=>n.subscribe(e))}(o))).subscribe(r),r.add(i.subscribe(o))})}function GZ(n,e){return e?t=>Gu(e.pipe(In(1),function M3e(){return On((n,e)=>{n.subscribe(yn(e,Pf))})}()),t.pipe(GZ(n))):Di((t,i)=>$i(n(t,i)).pipe(In(1),fj(t)))}const U_="Service workers are disabled or not supported by this browser";class dC{constructor(e){if(this.serviceWorker=e,e){const i=R_(e,"controllerchange").pipe(ze(()=>e.controller)),o=Gu(qu(()=>Me(e.controller)),i);this.worker=o.pipe(un(d=>!!d)),this.registration=this.worker.pipe(zr(()=>e.getRegistration()));const l=R_(e,"message").pipe(ze(d=>d.data)).pipe(un(d=>d&&d.type)).pipe(function I3e(n){return n?e=>$Z(n)(e):e=>function T3e(n,e){const t=Ct(n)?n:()=>n;return Ct(e)?$Z(e,{connector:t}):i=>new oM(i,t)}(new ht)(e)}());l.connect(),this.events=l}else this.worker=this.events=this.registration=function S3e(n){return qu(()=>Wu(new Error(n)))}(U_)}postMessage(e,t){return this.worker.pipe(In(1),Hn(i=>{i.postMessage({action:e,...t})})).toPromise().then(()=>{})}postMessageWithOperation(e,t,i){const r=this.waitForOperationCompleted(i),o=this.postMessage(e,t);return Promise.all([o,r]).then(([,s])=>s)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(e){let t;return t="string"==typeof e?i=>i.type===e:i=>e.includes(i.type),this.events.pipe(un(t))}nextEventOfType(e){return this.eventsOfType(e).pipe(In(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(un(t=>t.nonce===e),In(1),ze(t=>{if(void 0!==t.result)return t.result;throw new Error(t.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let qZ=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,this.pushManager=null,this.subscriptionChanges=new ht,!t.isEnabled)return this.messages=kf,this.notificationClicks=kf,void(this.subscription=kf);this.messages=this.sw.eventsOfType("PUSH").pipe(ze(r=>r.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(ze(r=>r.data)),this.pushManager=this.sw.registration.pipe(ze(r=>r.pushManager));const i=this.pushManager.pipe(zr(r=>r.getSubscription()));this.subscription=L_(i,this.subscriptionChanges)}requestSubscription(t){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(U_));const i={userVisibleOnly:!0};let r=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),o=new Uint8Array(new ArrayBuffer(r.length));for(let s=0;s<r.length;s++)o[s]=r.charCodeAt(s);return i.applicationServerKey=o,this.pushManager.pipe(zr(s=>s.subscribe(i)),In(1)).toPromise().then(s=>(this.subscriptionChanges.next(s),s))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(In(1),zr(i=>{if(null===i)throw new Error("Not subscribed to push notifications.");return i.unsubscribe().then(r=>{if(!r)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(U_))}decodeBase64(t){return atob(t)}static{this.\u0275fac=function(i){return new(i||n)(j(dC))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac})}}return n})(),WZ=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,!t.isEnabled)return this.versionUpdates=kf,void(this.unrecoverable=kf);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(U_));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(U_));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}static{this.\u0275fac=function(i){return new(i||n)(j(dC))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac})}}return n})();const KZ=new X("");function k3e(n,e,t,i){return()=>{if(!oy(i)||!("serviceWorker"in navigator)||!1===t.enabled)return;let r;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof t.registrationStrategy)r=t.registrationStrategy();else{const[s,...a]=(t.registrationStrategy||"registerWhenStable:30000").split(":");switch(s){case"registerImmediately":r=Me(null);break;case"registerWithDelay":r=YZ(+a[0]||0);break;case"registerWhenStable":r=a[0]?L_(QZ(n),YZ(+a[0])):QZ(n);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${t.registrationStrategy}`)}}n.get(ke).runOutsideAngular(()=>r.pipe(In(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:t.scope}).catch(s=>console.error("Service worker registration failed with:",s))))}}function YZ(n){return Me(null).pipe(function D3e(n,e=Em){const t=yF(n,e);return GZ(()=>t)}(n))}function QZ(n){return n.get(gs).isStable.pipe(un(t=>t))}function A3e(n,e){return new dC(oy(e)&&!1!==n.enabled?navigator.serviceWorker:void 0)}class kF{}function O3e(n,e={}){return function Mb(n){return{\u0275providers:n}}([qZ,WZ,{provide:KZ,useValue:n},{provide:kF,useValue:e},{provide:dC,useFactory:A3e,deps:[kF,go]},{provide:jp,useFactory:k3e,deps:[Yt,KZ,kF,go],multi:!0}])}let P3e=(()=>{class n{static register(t,i={}){return{ngModule:n,providers:[O3e(t,i)]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ot({type:n})}static{this.\u0275inj=tt({providers:[qZ,WZ]})}}return n})();function R3e(n,e){if(1&n){const t=ct();p(0,"tr")(1,"td"),g(2),h(),p(3,"td"),g(4),h(),p(5,"td"),g(6),h(),p(7,"td")(8,"button",3),F("click",function(){const o=ye(t).$implicit;return ve(st().Muestras(o.name))}),h()()()}if(2&n){const t=e.$implicit;P(2),xe(t.name),P(2),xe(t.owner),P(2),xe(t.integrantes)}}let N3e=(()=>{class n{constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.data=[],this.list=[],this.email="",this.getData(),this.MyQuery()}getData(){const t=Ta();yc(t,r=>{r&&(console.log(r.email),r.email&&(this.email=r.email))});const i=me(this.firestore,"projects");oe(i).then(r=>{this.data=[...r.docs.map(o=>({...o.data(),id:o.id}))]})}updateData(t){const i=Ce(this.firestore,"projects",t);ai(i,{}).then(()=>{alert("Data updated"),this.getData()}).catch(r=>{alert(r.message)})}deleteData(t){const i=Ce(this.firestore,"projects",t);en(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}newProject(){this.router.navigate(["user/project-new"])}EditProject(){this.router.navigate(["user/project-new"])}Muestras(t){this.router.navigate(["client/muestras/"+t])}editProyecto(t){this.router.navigate(["user/project-edit/"+t])}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["user/projects"])}logOut(){Nn(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}MyQuery(){var t=this;return _(function*(){const i=Ta();let r;r="",console.log(i),yc(i,function(){var o=_(function*(s){if(s&&(console.log(s.email),s.email)){r=s.email;const a=Mt(me(t.firestore,"projects"),Dt("cliente","==",r));oe(a).then(l=>{t.data=[...l.docs.map(d=>({...d.data(),id:d.id}))]});const c=yield oe(a);console.log(c),c.forEach(l=>{console.log(l.id," => ",l.data()),console.log("here2")}),console.log(t.data.length),console.log(t.data),console.log(t.data[0].cliente)}});return function(s){return o.apply(this,arguments)}}())})()}static{this.\u0275fac=function(i){return new(i||n)(E(Ee),E(qe),E(Oe),E(He))}}static{this.\u0275cmp=be({type:n,selectors:[["app-projects"]],decls:15,vars:1,consts:[[1,"subTituloText"],[1,"list"],[4,"ngFor","ngForOf"],[1,"muestras",3,"click"]],template:function(i,r){1&i&&(p(0,"p"),g(1,"projects works!"),h(),p(2,"h1",0),g(3,"Proyectos"),h(),p(4,"div",1)(5,"table")(6,"tr")(7,"th"),g(8," Nombre "),h(),p(9,"th"),g(10," Due\xf1o "),h(),p(11,"th"),g(12," Integrantes"),h(),$(13,"th"),h(),Ot(14,R3e,9,3,"tr",2),h()()),2&i&&(P(14),Ve("ngForOf",r.data))},dependencies:[Ii],styles:[".list[_ngcontent-%COMP%]{position:absolute;left:25%;top:38%}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:153px;height:36px;left:49%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:126px;height:16px;left:50%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:300px;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;left:45%;top:20%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.list[_ngcontent-%COMP%]{position:absolute;margin:0;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.boton[_ngcontent-%COMP%]{position:absolute;left:80%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;left:30%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}.scanbutton[_ngcontent-%COMP%]{cursor:pointer;width:153px;height:36px;left:30%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}}"]})}}return n})();function F3e(n,e){if(1&n){const t=ct();p(0,"tr")(1,"td"),g(2),h(),p(3,"td"),g(4),h(),p(5,"td"),g(6),h(),p(7,"td"),g(8),h(),p(9,"td")(10,"button",3),F("click",function(){const o=ye(t).$implicit;return ve(st().infoMuestra(o.codigo))}),h()()()}if(2&n){const t=e.$implicit;P(2),xe(t.codigo),P(2),xe(t.fecha),P(2),xe(t.cultivo),P(2),xe(t.coordenadas)}}let L3e=(()=>{class n{constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.data=[],this.arr=[]}ngOnInit(){this.route.params.subscribe(t=>{this.up=t.up}),this.getData(),this.MyQuery()}getData(){const t=me(this.firestore,"muestras");oe(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}updateData(t){const i=Ce(this.firestore,"muestras",t);ai(i,{}).then(()=>{alert("Data updated"),this.getData()}).catch(r=>{alert(r.message)})}deleteData(t){const i=Ce(this.firestore,"muestras",t);en(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["user/projects"])}logOut(){Nn(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}newMuestra(){this.router.navigate(["user/muestras-new"])}editMuestra(t){this.router.navigate(["user/muestras-edit/"+t])}infoProject(t){this.router.navigate(["user/project-edit/"+t])}infoMuestra(t){this.router.navigate(["client/muestras-info/"+t])}MyQuery(){var t=this;return _(function*(){let i=t.up;const r=Mt(me(t.firestore,"muestras"),Dt("unidad","==",i));oe(r).then(s=>{t.data=[...s.docs.map(a=>({...a.data(),id:a.id}))]}),(yield oe(r)).forEach(s=>{console.log(s.id," => ",s.data())})})()}static{this.\u0275fac=function(i){return new(i||n)(E(Ee),E(qe),E(Oe),E(He))}}static{this.\u0275cmp=be({type:n,selectors:[["app-muestras"]],decls:17,vars:1,consts:[[1,"subTituloText"],[1,"list"],[4,"ngFor","ngForOf"],[1,"detalles",3,"click"]],template:function(i,r){1&i&&(p(0,"p"),g(1,"muestras works!"),h(),p(2,"h1",0),g(3,"Muestras"),h(),p(4,"div",1)(5,"table")(6,"tr")(7,"th"),g(8," Codigo "),h(),p(9,"th"),g(10," Fecha "),h(),p(11,"th"),g(12," Cultivo"),h(),p(13,"th"),g(14," Coordenadas "),h(),$(15,"th"),h(),Ot(16,F3e,11,4,"tr",2),h()()),2&i&&(P(16),Ve("ngForOf",r.data))},dependencies:[Ii],styles:[".list[_ngcontent-%COMP%]{position:absolute;left:38%;top:38%}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.projectBlock[_ngcontent-%COMP%]{width:auto;height:35px;background:#3ec28f;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:20px;font-weight:700;letter-spacing:0;cursor:pointer}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:153px;height:36px;left:49%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:126px;height:16px;left:50%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;width:300px;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;left:45%;top:20%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;margin-left:2px;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.list[_ngcontent-%COMP%]{position:absolute;left:5%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:80%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;left:25%;top:30%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}}return n})();function V3e(n,e){if(1&n){const t=ct();p(0,"tr")(1,"td"),g(2),h(),p(3,"td"),g(4),h(),p(5,"td"),g(6),h(),p(7,"td"),g(8),h(),p(9,"td")(10,"button",3),F("click",function(){const o=ye(t).$implicit;return ve(st().infoMuestra(o.codigo))}),h()()()}if(2&n){const t=e.$implicit;P(2),xe(t.codigo),P(2),xe(t.fecha),P(2),xe(t.cultivo),P(2),xe(t.coordenadas)}}let B3e=(()=>{class n{constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.data=[],this.arr=[]}ngOnInit(){this.route.params.subscribe(t=>{this.item=t.id}),this.getData(),this.MyQuery()}getData(){const t=me(this.firestore,"muestras");oe(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}updateData(t){const i=Ce(this.firestore,"muestras",t);ai(i,{}).then(()=>{alert("Data updated"),this.getData()}).catch(r=>{alert(r.message)})}deleteData(t){const i=Ce(this.firestore,"muestras",t);en(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["user/projects"])}logOut(){Nn(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}newMuestra(){this.router.navigate(["user/muestras-new"])}editMuestra(t){this.router.navigate(["user/muestras-edit/"+t])}infoProject(t){this.router.navigate(["user/project-edit/"+t])}infoMuestra(t){this.router.navigate(["client/muestras-info/"+t])}MyQuery(){var t=this;return _(function*(){const i=Ta();let r,o=[];r="",console.log(i),yc(i,function(){var s=_(function*(a){if(a&&(console.log(a.email),a.email)){r=a.email;const u=Mt(me(t.firestore,"projects"),Dt("cliente","==",r));oe(u).then(y=>{t.dataTem=[...y.docs.map(C=>({...C.data(),id:C.id}))]}),(yield oe(u)).forEach(y=>{}),console.log(t.dataTem.length),console.log(t.dataTem[0].name);let m=t.dataTem.length;console.log(m);for(let y=0;y<m;y++)console.log(t.dataTem[y].name),o.push(t.dataTem[y].name);console.log(o)}console.log("next"),console.log(o),t.pid=t.item;const l=Mt(me(t.firestore,"muestras"),Dt("project","in",o));oe(l).then(u=>{t.data=[...u.docs.map(f=>({...f.data(),id:f.id}))]}),(yield oe(l)).forEach(u=>{console.log(u.id," => ",u.data())})});return function(a){return s.apply(this,arguments)}}())})()}static{this.\u0275fac=function(i){return new(i||n)(E(Ee),E(qe),E(Oe),E(He))}}static{this.\u0275cmp=be({type:n,selectors:[["app-muestras-all"]],decls:17,vars:1,consts:[[1,"subTituloText"],[1,"list"],[4,"ngFor","ngForOf"],[1,"detalles",3,"click"]],template:function(i,r){1&i&&(p(0,"p"),g(1,"muestras-all works!"),h(),p(2,"h1",0),g(3,"Muestras"),h(),p(4,"div",1)(5,"table")(6,"tr")(7,"th"),g(8," Codigo "),h(),p(9,"th"),g(10," Fecha "),h(),p(11,"th"),g(12," Cultivo"),h(),p(13,"th"),g(14," Coordenadas "),h(),$(15,"th"),h(),Ot(16,V3e,11,4,"tr",2),h()()),2&i&&(P(16),Ve("ngForOf",r.data))},dependencies:[Ii],styles:[".list[_ngcontent-%COMP%]{position:absolute;left:38%;top:38%}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.projectBlock[_ngcontent-%COMP%]{width:auto;height:35px;background:#3ec28f;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:20px;font-weight:700;letter-spacing:0;cursor:pointer}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:153px;height:36px;left:49%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:126px;height:16px;left:50%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;width:300px;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;left:45%;top:20%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;margin-left:2px;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.list[_ngcontent-%COMP%]{position:absolute;left:5%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:80%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;left:25%;top:30%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}}return n})();function z3e(n,e){if(1&n){const t=ct();p(0,"tr")(1,"td"),g(2),h(),p(3,"td"),g(4),h(),p(5,"td"),g(6),h(),p(7,"td")(8,"button",3),F("click",function(){const o=ye(t).$implicit;return ve(st().Muestras(o.project,o.codigo))}),p(9,"div",4),g(10,"Listar Muestras"),h()(),p(11,"button",5),F("click",function(){const o=ye(t).$implicit;return ve(st().infoUnidad(o.codigo))}),p(12,"div",6),g(13,"Informaci\xf3n"),h()()()()}if(2&n){const t=e.$implicit;P(2),xe(t.codigo),P(2),xe(t.altitud),P(2),xe(t.coordenadas)}}let U3e=(()=>{class n{constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.data=[],this.arr=[]}ngOnInit(){this.route.params.subscribe(t=>{this.item=t.id}),this.getData(),this.MyQuery()}getData(){const t=me(this.firestore,"unidad-produccion");oe(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}updateData(t){const i=Ce(this.firestore,"unidad-produccion",t);ai(i,{}).then(()=>{alert("Data updated"),this.getData()}).catch(r=>{alert(r.message)})}deleteData(t){const i=Ce(this.firestore,"unidad-produccion",t);en(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["user/projects"])}logOut(){Nn(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}newMuestra(){this.router.navigate(["user/muestras-new"])}editMuestra(t){this.router.navigate(["user/muestras-edit/"+t])}infoProject(t){this.router.navigate(["user/project-edit/"+t])}infoUnidad(t){this.router.navigate(["client/unidad-produccion-info/"+t])}Muestras(t,i){this.router.navigate(["client/muestras/"+i])}MyQuery(){var t=this;return _(function*(){const i=Ta();let r,o=[];r="",yc(i,function(){var s=_(function*(a){if(a&&(console.log(a.email),a.email)){r=a.email;const c=Mt(me(t.firestore,"unidad-produccion"),Dt("clienteEmail","==",r));oe(c).then(u=>{t.data=[...u.docs.map(f=>({...f.data(),id:f.id}))]}),(yield oe(c)).forEach(u=>{}),console.log(t.dataTem.length),console.log(t.data),console.log(t.dataTem[0].name);let d=t.dataTem.length;console.log(d);for(let u=0;u<d;u++)console.log(t.dataTem[u].name),o.push(t.dataTem[u].name);console.log(o)}});return function(a){return s.apply(this,arguments)}}())})()}static{this.\u0275fac=function(i){return new(i||n)(E(Ee),E(qe),E(Oe),E(He))}}static{this.\u0275cmp=be({type:n,selectors:[["app-unidad-produccion-all"]],decls:15,vars:1,consts:[[1,"subTituloText"],[1,"list"],[4,"ngFor","ngForOf"],[1,"muestras",3,"click"],[1,"muestras-tip"],[1,"detalles",3,"click"],[1,"detalles-tip"]],template:function(i,r){1&i&&(p(0,"p"),g(1,"unidad-produccion-all works!"),h(),p(2,"h1",0),g(3,"Unidades"),h(),p(4,"div",1)(5,"table")(6,"tr")(7,"th"),g(8," Codigo "),h(),p(9,"th"),g(10," Altitud"),h(),p(11,"th"),g(12," Coordenadas "),h(),$(13,"th"),h(),Ot(14,z3e,14,3,"tr",2),h()()),2&i&&(P(14),Ve("ngForOf",r.data))},dependencies:[Ii],styles:[".list[_ngcontent-%COMP%]{position:absolute;left:38%;top:38%}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.projectBlock[_ngcontent-%COMP%]{width:auto;height:35px;background:#3ec28f;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:20px;font-weight:700;letter-spacing:0;cursor:pointer}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:153px;height:36px;left:49%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:126px;height:16px;left:50%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;left:45%;top:20%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.muestras[_ngcontent-%COMP%]:hover   .muestras-tip[_ngcontent-%COMP%]{display:block;opacity:1;transition:.5s}.muestras-tip[_ngcontent-%COMP%]{display:none;position:relative;background-color:#2f3033;color:#fff;padding:5px;width:max-content;margin:5px;top:100%;left:0;opacity:0;transition:.5s;z-index:100;border-radius:3px;font-weight:700;font-family:Trebuchet MS,sans-serif}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;margin-left:2px;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.detalles[_ngcontent-%COMP%]:hover   .detalles-tip[_ngcontent-%COMP%]{display:block;opacity:1;transition:.5s}.detalles-tip[_ngcontent-%COMP%]{display:none;position:relative;background-color:#2f3033;color:#fff;padding:5px;width:-moz-fit-content;width:fit-content;margin:5px;top:100%;left:0;opacity:0;transition:.5s;z-index:100;border-radius:3px;font-weight:700;font-family:Trebuchet MS,sans-serif}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.list[_ngcontent-%COMP%]{position:absolute;left:2%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:80%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;left:22%;top:30%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}}return n})();const j3e=["geo"];let H3e=(()=>{class n{constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.title="gestion-de-muestras-de-campo",this.data=[],this.somethingChange=new Xe}ngOnInit(){this.route.params.subscribe(t=>{this.text=t.id,console.log(t),console.log(t.id)}),this.MyQuery()}handleRegister(t){this.addData(t)}addData(t){const i=Ce(this.firestore,"unidad-produccion",t.codigo);co(i,t).then(()=>{alert("Data Sent")}).catch(r=>{alert(r.message)}),console.log(t.comentarios)}getData(){const t=me(this.firestore,"unidad-produccion");oe(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude)}getLocation(){var t=this;return _(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{console.log(t.res)},1e3)})()}MyQuery(){var t=this;return _(function*(){let i=t.text;const r=Mt(me(t.firestore,"unidad-produccion"),Dt("codigo","==",i)),o=yield oe(r);o.empty||o.forEach(s=>{t.item=s.data(),console.log(s.id," => ",s.data())})})()}editMuestra(){this.router.navigate(["user/unidad-produccion-edit/"+this.text])}deleteData(t){const i=Ce(this.firestore,"users",t);en(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}static{this.\u0275fac=function(i){return new(i||n)(E(Ee),E(qe),E(Oe),E(He))}}static{this.\u0275cmp=be({type:n,selectors:[["app-unidad-produccion-info"]],viewQuery:function(i,r){if(1&i&&zn(j3e,5),2&i){let o;xn(o=wn())&&(r.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:58,vars:10,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],[1,"input-field"]],template:function(i,r){if(1&i){const o=ct();p(0,"p"),g(1,"unidad-produccion-info works!"),h(),p(2,"h1",0),g(3,"Datos de la Unidad"),h(),p(4,"div",1)(5,"form",2,3),F("ngSubmit",function(){ye(o);const a=Vt(6);return ve(r.handleRegister(a.value))}),p(7,"div",4)(8,"div",5)(9,"span",6),g(10,"Codigo:"),h(),p(11,"span",7),g(12),h()(),p(13,"div",5)(14,"span",6),g(15,"Cliente:"),h(),p(16,"span",7),g(17),h()(),p(18,"div",5)(19,"span",6),g(20,"Coordenadas:"),h(),p(21,"span",7),g(22),h()(),p(23,"div",5)(24,"span",6),g(25,"Localidad:"),h(),p(26,"span",7),g(27),h()(),p(28,"div",5)(29,"span",6),g(30,"Municipio:"),h(),p(31,"span",7),g(32),h()(),p(33,"div",5)(34,"span",6),g(35,"Estado:"),h(),p(36,"span",7),g(37),h()(),p(38,"div",5)(39,"span",6),g(40,"Altitud:"),h(),p(41,"span",7),g(42),h()(),p(43,"div",5)(44,"span",6),g(45,"Temperaturas M\xe1ximas:"),h(),p(46,"span",7),g(47),h()(),p(48,"div",5)(49,"span",6),g(50,"Temperaturas M\xednimas:"),h(),p(51,"span",7),g(52),h()(),p(53,"div",5)(54,"span",6),g(55,"Precipitaci\xf3n:"),h(),p(56,"span",7),g(57),h()()()()()}2&i&&(P(12),Pe(" ",r.item.codigo,""),P(5),Pe(" ",r.item.cliente,""),P(5),Pe(" ",r.item.coordenadas,""),P(5),Pe(" ",r.item.localidad,""),P(5),Pe(" ",r.item.municipio,""),P(5),Pe(" ",r.item.estado,""),P(5),Pe(" ",r.item.altitud,""),P(5),Pe(" ",r.item.tempmax,""),P(5),Pe(" ",r.item.tempmin,""),P(5),Pe(" ",r.item.precipitacion,""))},dependencies:[jn,Un,Tn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:65%;height:55%;flex-shrink:0;position:absolute;left:50%;top:30%;transform:translate(-30%)}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:10%;top:7%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:12px 12px 12px 25px;height:20px;left:92px;color:#000;font-family:Arial;font-size:20px;letter-spacing:0}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:40%;top:20%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;height:25px;font-family:Arial;font-size:20px;font-weight:700;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:80%;top:88%}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:0%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.input-field[_ngcontent-%COMP%]{margin:6px 6px 6px 15px;height:20px;left:92px;color:#000;font-family:Arial;font-size:16px;letter-spacing:0;text-overflow:ellipsis}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:5%;top:3%}.Text[_ngcontent-%COMP%]{color:#000;height:20px;font-family:Arial;font-size:16px;letter-spacing:0}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:90%;height:45%;flex-shrink:0;position:absolute;left:5%;top:35%;transform:none}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:67%;top:90%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:12px;left:0%;top:110%}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:25%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}@media only screen and (min-width: 1536px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:700px;height:500px;flex-shrink:0;position:absolute;left:50%;top:50%;transform:translate(-50%,-40%)}.subTituloText[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%)}.boton[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(235px)}}"]})}}return n})();const $3e=["geo"];let G3e=(()=>{class n{static{this.text=""}constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.title="gestion-de-muestras-de-campo",this.data=[],this.res="",this.email="",this.somethingChange=new Xe}ngOnInit(){this.route.params.subscribe(t=>{this.x=t.id,console.log(t),console.log(t.id)}),this.getData(),this.MyQuery()}handleRegister(t){this.addData(t)}addData(t){var i=this;return _(function*(){const r=Ce(i.firestore,"clientes",t.codigo);co(r,t).then(()=>{alert("Data Sent")}).catch(o=>{alert(o.message)}),console.log(i.pid)})()}getData(){const t=Ta();yc(t,r=>{r&&r.email&&(this.email=r.email)});const i=me(this.firestore,"clientes");oe(i).then(r=>{this.data=[...r.docs.map(o=>({...o.data(),id:o.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude),n.text=t.coords.latitude+", "+t.coords.longitude}getLocation(){var t=this;return _(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{t.res=n.text,console.log(t.res)},1e3)})()}MyQuery(){var t=this;return _(function*(){const i=Ta();let r;r="",console.log(i),yc(i,function(){var o=_(function*(s){if(s&&(console.log(s.email),s.email)){r=s.email;const a=Mt(me(t.firestore,"clientes"),Dt("email","==",r));oe(a).then(l=>{t.data=[...l.docs.map(d=>({...d.data(),id:d.id}))]});const c=yield oe(a);console.log(c),c.forEach(l=>{t.item=l.data(),t.pid=l.id,console.log(l.id," => ",l.data()),console.log("here2")}),console.log(t.data.length),console.log(t.data),console.log(t.data[0].email)}});return function(s){return o.apply(this,arguments)}}())})()}editClients(){this.router.navigate(["client/perfil-edit"])}deleteData(t){const r=Ce(this.firestore,"clientes",this.x);en(r).then(()=>{alert("Data Deleted"),this.router.navigate(["user/muestras/"+this.pid])}).catch(o=>{alert(o.message)})}static{this.\u0275fac=function(i){return new(i||n)(E(Ee),E(qe),E(Oe),E(He))}}static{this.\u0275cmp=be({type:n,selectors:[["app-perfil"]],viewQuery:function(i,r){if(1&i&&zn($3e,5),2&i){let o;xn(o=wn())&&(r.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:32,vars:4,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],[1,"input-field"],[1,"boton",3,"click"]],template:function(i,r){if(1&i){const o=ct();p(0,"p"),g(1,"perfil works!"),h(),p(2,"p"),g(3,"clients-info works!"),h(),p(4,"h1",0),g(5,"Informacion del Cliente"),h(),$(6,"div",1),p(7,"form",2,3),F("ngSubmit",function(){ye(o);const a=Vt(8);return ve(r.handleRegister(a.value))}),p(9,"div",4)(10,"div",5)(11,"span",6),g(12,"Email:"),h(),p(13,"span",7),g(14),h()(),p(15,"div",5)(16,"span",6),g(17,"Nombre:"),h(),p(18,"span",7),g(19),h()(),p(20,"div",5)(21,"span",6),g(22,"Telefono:"),h(),p(23,"span",7),g(24),h()(),p(25,"div",5)(26,"span",6),g(27,"Direccion:"),h(),p(28,"span",7),g(29),h()(),p(30,"button",8),F("click",function(){return r.editClients()}),g(31,"Editar Cliente"),h()()()}2&i&&(P(14),Pe(" ",r.item.email,""),P(5),Pe(" ",r.item.nombre,""),P(5),Pe(" ",r.item.telefono,""),P(5),Pe(" ",r.item.direccion,""))},dependencies:[jn,Un,Tn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:500px;height:250px;position:absolute;top:38%;left:53%;transform:translate(-50%)}.main[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;width:450px;height:250px;position:absolute;top:38%;left:54%;transform:translate(-50%)}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:85%;height:20px;left:92px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;top:20%;left:50%;transform:translate(-35%)}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;width:80px;height:45px;border-width:0;border-radius:30px;font-size:16px;position:absolute;left:81%;top:105%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:35%;flex-shrink:0;position:absolute;top:45%}.input-fields[_ngcontent-%COMP%]{font-size:12px}.main[_ngcontent-%COMP%]{width:75%;height:35%;flex-shrink:0;margin-left:5px;position:absolute;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:14px;letter-spacing:0}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:75%;top:110%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:35%;top:30%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}}return n})();const q3e=["geo"];let W3e=(()=>{class n{static{this.text=""}constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.title="gestion-de-muestras-de-campo",this.data=[],this.res="",this.email="",this.somethingChange=new Xe,this.getData(),this.MyQuery()}handleRegister(t){this.addData(t)}addData(t){var i=this;return _(function*(){console.log(t);const r=Ce(i.firestore,"clientes",t.email);ai(r,{email:t.email,nombre:t.nombre,fecha:t.fecha,telefono:t.telefono,direccion:t.direccion}).then(()=>{alert("Data Sent")}).catch(o=>{alert(o.message)}),console.log(i.pid)})()}getData(){const t=me(this.firestore,"clientes");oe(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude),n.text=t.coords.latitude+", "+t.coords.longitude}getLocation(){var t=this;return _(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{t.res=n.text,console.log(t.res)},1e3)})()}MyQuery(){var t=this;return _(function*(){const i=Ta();let r;r="",console.log(i),yc(i,function(){var o=_(function*(s){if(s&&(console.log(s.email),s.email)){r=s.email;const a=Mt(me(t.firestore,"clientes"),Dt("email","==",r));oe(a).then(l=>{t.data=[...l.docs.map(d=>({...d.data(),id:d.id}))]});const c=yield oe(a);console.log(c),c.forEach(l=>{t.item=l.data(),t.pid=l.id,console.log(l.id," => ",l.data()),console.log("here2")}),console.log(t.data.length),console.log(t.data),console.log(t.data[0].email)}});return function(s){return o.apply(this,arguments)}}())})()}deleteData(t){const r=Ce(this.firestore,"clientes",this.x);en(r).then(()=>{alert("Data Deleted"),this.router.navigate(["user/muestras/"+this.pid])}).catch(o=>{alert(o.message)})}static{this.\u0275fac=function(i){return new(i||n)(E(Ee),E(qe),E(Oe),E(He))}}static{this.\u0275cmp=be({type:n,selectors:[["app-perfil-edit"]],viewQuery:function(i,r){if(1&i&&zn(q3e,5),2&i){let o;xn(o=wn())&&(r.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:26,vars:4,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],["name","email","ngModel","","placeholder","Email","id","emai","type","email",1,"input-field",3,"ngModel","ngModelChange"],["name","nombre","ngModel","","placeholder","Nombre","id","nombre","type","nombre",1,"input-field",3,"ngModel","ngModelChange"],["name","telefono","ngModel","","placeholder","Telefono","id","telefono","type","telefono",1,"input-field",3,"ngModel","ngModelChange"],["name","direccion","ngModel","","placeholder","Direccion","id","direccion","type","direccion",1,"input-field",3,"ngModel","ngModelChange"],[1,"boton"]],template:function(i,r){if(1&i){const o=ct();p(0,"p"),g(1,"perfil-edit works!"),h(),p(2,"h1",0),g(3," Editar Perfil"),h(),p(4,"div",1)(5,"form",2,3),F("ngSubmit",function(){ye(o);const a=Vt(6);return ve(r.handleRegister(a.value))}),p(7,"div",4)(8,"div",5)(9,"span",6),g(10,"Email:"),h(),p(11,"input",7),Qe("ngModelChange",function(a){return Je(r.item.email,a)||(r.item.email=a),a}),h()(),p(12,"div",5)(13,"span",6),g(14,"Nombre:"),h(),p(15,"input",8),Qe("ngModelChange",function(a){return Je(r.item.nombre,a)||(r.item.nombre=a),a}),h()(),p(16,"div",5)(17,"span",6),g(18,"Telefono:"),h(),p(19,"input",9),Qe("ngModelChange",function(a){return Je(r.item.telefono,a)||(r.item.telefono=a),a}),h()(),p(20,"div",5)(21,"span",6),g(22,"Direccion:"),h(),p(23,"input",10),Qe("ngModelChange",function(a){return Je(r.item.direccion,a)||(r.item.direccion=a),a}),h()(),p(24,"button",11),g(25,"Editar Cliente"),h()()()()}2&i&&(P(11),Ye("ngModel",r.item.email),P(4),Ye("ngModel",r.item.nombre),P(4),Ye("ngModel",r.item.telefono),P(4),Ye("ngModel",r.item.direccion))},dependencies:[jn,Mi,dr,Un,Gi,Tn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:520px;height:250px;position:absolute;top:38%;left:60%;transform:translate(-50%)}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:3%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:85%;height:20px;left:92px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;top:20%;left:60%;transform:translate(-50%)}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:80%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:40%;flex-shrink:0;transform:none;position:absolute;top:40%;left:50%;transform:translate(-50%)}.input-fields[_ngcontent-%COMP%]{font-size:12px}.main[_ngcontent-%COMP%]{width:75%;flex-shrink:0;margin-left:5px;position:absolute;top:0%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:14px;letter-spacing:0}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:75%;top:110%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;transform:none;position:absolute;top:30%;left:50%;transform:translate(-50%)}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}@media only screen and (min-width: 1536px){.loginBox[_ngcontent-%COMP%]{position:absolute;top:38%;left:50%;transform:translate(-50%,-36%)}.subTituloText[_ngcontent-%COMP%]{position:absolute;top:20%;left:50%;transform:translate(-50%)}}"]})}}return n})();const K3e=["geo"],Y3e=[{path:"client",component:ZK,children:[{path:"projects",component:N3e},{path:"muestras-all",component:B3e},{path:"muestras/:id",component:L3e},{path:"unidad-produccion-all",component:U3e},{path:"muestras-info/:id",component:(()=>{class n{constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.title="gestion-de-muestras-de-campo",this.data=[],this.somethingChange=new Xe,this.getData(),this.MyQuery()}ngOnInit(){this.route.params.subscribe(t=>{this.text=t.id,console.log(t),console.log(t.id)}),this.getData(),this.MyQuery()}handleRegister(t){this.addData(t)}addData(t){const i=Ce(this.firestore,"muestras",t.codigo);co(i,t).then(()=>{alert("Data Sent")}).catch(r=>{alert(r.message)}),console.log(t.comentarios)}getData(){const t=me(this.firestore,"muestras");oe(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude)}getLocation(){var t=this;return _(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{console.log(t.res)},1e3)})()}MyQuery(){var t=this;return _(function*(){let i=t.text;const r=Mt(me(t.firestore,"muestras"),Dt("codigo","==",i));(yield oe(r)).forEach(s=>{t.item=s.data(),console.log(s.id," => ",s.data())})})()}deleteData(t){const i=Ce(this.firestore,"users",t);en(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}static{this.\u0275fac=function(i){return new(i||n)(E(Ee),E(qe),E(Oe),E(He))}}static{this.\u0275cmp=be({type:n,selectors:[["app-muestras-info"]],viewQuery:function(i,r){if(1&i&&zn(K3e,5),2&i){let o;xn(o=wn())&&(r.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:53,vars:9,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],[1,"input-field"]],template:function(i,r){if(1&i){const o=ct();p(0,"p"),g(1,"muestras-info works!"),h(),p(2,"h1",0),g(3,"Datos de la Muestra"),h(),p(4,"div",1)(5,"form",2,3),F("ngSubmit",function(){ye(o);const a=Vt(6);return ve(r.handleRegister(a.value))}),p(7,"div",4)(8,"div",5)(9,"span",6),g(10,"Codigo:"),h(),p(11,"span",7),g(12),h()(),p(13,"div",5)(14,"span",6),g(15,"Cliente:"),h(),p(16,"span",7),g(17),h()(),p(18,"div",5)(19,"span",6),g(20,"Fecha:"),h(),p(21,"span",7),g(22),h()(),p(23,"div",5)(24,"span",6),g(25,"Cultivo:"),h(),p(26,"span",7),g(27),h()(),p(28,"div",5)(29,"span",6),g(30,"Tipo:"),h(),p(31,"span",7),g(32),h()(),p(33,"div",5)(34,"span",6),g(35,"Fitopat\xf3geno:"),h(),p(36,"span",7),g(37),h()(),p(38,"div",5)(39,"span",6),g(40,"Coordenadas:"),h(),p(41,"span",7),g(42),h()(),p(43,"div",5)(44,"span",6),g(45,"S\xedntomas:"),h(),p(46,"span",7),g(47),h()(),p(48,"div",5)(49,"span",6),g(50,"Comentarios:"),h(),p(51,"span",7),g(52),h()()()()()}2&i&&(P(12),Pe(" ",r.item.codigo,""),P(5),Pe(" ",r.item.cliente,""),P(5),Pe(" ",r.item.fecha,""),P(5),Pe(" ",r.item.cultivo,""),P(5),Pe(" ",r.item.tipo,""),P(5),Pe(" ",r.item.fitopatogeno,""),P(5),Pe(" ",r.item.coordenadas,""),P(5),Pe(" ",r.item.sintomas,""),P(5),Pe(" ",r.item.comentarios,""))},dependencies:[jn,Un,Tn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:65%;height:57%;flex-shrink:0;position:absolute;left:50%;top:28%;transform:translate(-30%)}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:10%;top:2%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:12px 12px 12px 25px;height:20px;left:92px;color:#000;font-family:Arial;font-size:20px;letter-spacing:0}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:40%;top:20%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;height:25px;font-family:Arial;font-size:20px;font-weight:700;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:80%;top:87%}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:0%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.input-field[_ngcontent-%COMP%]{margin:6px 6px 6px 10px;height:20px;left:92px;color:#000;font-family:Arial;font-size:16px;letter-spacing:0;text-overflow:ellipsis}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:5%;top:2%}.Text[_ngcontent-%COMP%]{color:#000;height:20px;font-family:Arial;font-size:16px;letter-spacing:0}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:90%;height:40%;flex-shrink:0;position:absolute;left:5%;top:40%;transform:none}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:67%;top:85%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:12px;left:0%;top:110%}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:28%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}@media only screen and (min-width: 1536px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:850px;height:500px;flex-shrink:0;position:absolute;left:50%;top:50%;transform:translate(-50%,-35%)}.subTituloText[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%)}.boton[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(310px)}}"]})}}return n})()},{path:"unidad-produccion-info/:id",component:H3e},{path:"perfil",component:G3e},{path:"perfil-edit",component:W3e}]}];let Q3e=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ot({type:n})}static{this.\u0275inj=tt({imports:[Ur.forChild(Y3e),Ur]})}}return n})(),X3e=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ot({type:n})}static{this.\u0275inj=tt({imports:[Q3e,MN,ys,nm,Ww,Ur]})}}return n})();function Z3e(n,e){}class j_{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let AF=(()=>{class n extends EF{constructor(t,i,r,o,s,a,c,l){super(),this._elementRef=t,this._focusTrapFactory=i,this._config=o,this._interactivityChecker=s,this._ngZone=a,this._overlayRef=c,this._focusMonitor=l,this._platform=Z(Ti),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=Z(bu),this.attachDomPortal=d=>{this._portalOutlet.hasAttached();const u=this._portalOutlet.attachDomPortal(d);return this._contentAttached(),u},this._document=r,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(t){this._ariaLabelledByQueue.push(t),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(t){const i=this._ariaLabelledByQueue.indexOf(t);i>-1&&(this._ariaLabelledByQueue.splice(i,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(t){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(t);return this._contentAttached(),i}attachTemplatePortal(t){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(t);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{t.removeEventListener("blur",r),t.removeEventListener("mousedown",r),t.removeAttribute("tabindex")};t.addEventListener("blur",r),t.addEventListener("mousedown",r)})),t.focus(i)}_focusByCssSelector(t,i){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,i)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._config.restoreFocus;let i=null;if("string"==typeof t?i=this._document.querySelector(t):"boolean"==typeof t?i=t?this._elementFocusedBeforeDialogWasOpened:null:t&&(i=t),this._config.restoreFocus&&i&&"function"==typeof i.focus){const r=TN(),o=this._elementRef.nativeElement;(!r||r===this._document.body||r===o||o.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,i=TN();return t===i||t.contains(i)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=TN()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static{this.\u0275fac=function(i){return new(i||n)(E(Lt),E(gF),E(ft,8),E(j_),E(Qw),E(ke),E(V_),E(Jw))}}static{this.\u0275cmp=be({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(i,r){if(1&i&&zn(nC,7),2&i){let o;xn(o=wn())&&(r._portalOutlet=o.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(i,r){2&i&&Jn("id",r._config.id||null)("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null)},standalone:!0,features:[_t,cr],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(i,r){1&i&&Ot(0,Z3e,0,0,"ng-template",0)},dependencies:[nC],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}}return n})();class OF{constructor(e,t){this.overlayRef=e,this.config=t,this.closed=new ht,this.disableClose=t.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=t.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!Kw(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=e.detachments().subscribe(()=>{!1!==t.closeOnOverlayDetachments&&this.close()})}close(e,t){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=t?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),i.next(e),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",t=""){return this.overlayRef.updateSize({width:e,height:t}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}}const XZ=new X("DialogScrollStrategy",{providedIn:"root",factory:()=>{const n=Z(Io);return()=>n.scrollStrategies.block()}}),J3e=new X("DialogData"),e5e=new X("DefaultDialogConfig");let n5e=0,ZZ=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(t,i,r,o,s,a){this._overlay=t,this._injector=i,this._defaultOptions=r,this._parentDialog=o,this._overlayContainer=s,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new ht,this._afterOpenedAtThisLevel=new ht,this._ariaHiddenElements=new Map,this.afterAllClosed=qu(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Iy(void 0))),this._scrollStrategy=a}open(t,i){(i={...this._defaultOptions||new j_,...i}).id=i.id||"cdk-dialog-"+n5e++,i.id&&this.getDialogById(i.id);const o=this._getOverlayConfig(i),s=this._overlay.create(o),a=new OF(s,i),c=this._attachContainer(s,a,i);return a.containerInstance=c,this._attachDialogContent(t,a,c,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(a),a.closed.subscribe(()=>this._removeOpenDialog(a,!0)),this.afterOpened.next(a),a}closeAll(){PF(this.openDialogs,t=>t.close())}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){PF(this._openDialogsAtThisLevel,t=>{!1===t.config.closeOnDestroy&&this._removeOpenDialog(t,!1)}),PF(this._openDialogsAtThisLevel,t=>t.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(t){const i=new xZ({positionStrategy:t.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,width:t.width,height:t.height,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(i.backdropClass=t.backdropClass),i}_attachContainer(t,i,r){const o=r.injector||r.viewContainerRef?.injector,s=[{provide:j_,useValue:r},{provide:OF,useValue:i},{provide:V_,useValue:t}];let a;r.container?"function"==typeof r.container?a=r.container:(a=r.container.type,s.push(...r.container.providers(r))):a=AF;const c=new CF(a,r.viewContainerRef,Yt.create({parent:o||this._injector,providers:s}),r.componentFactoryResolver);return t.attach(c).instance}_attachDialogContent(t,i,r,o){if(t instanceof ds){const s=this._createInjector(o,i,r,void 0);let a={$implicit:o.data,dialogRef:i};o.templateContext&&(a={...a,..."function"==typeof o.templateContext?o.templateContext():o.templateContext}),r.attachTemplatePortal(new _Z(t,null,a,s))}else{const s=this._createInjector(o,i,r,this._injector),a=r.attachComponentPortal(new CF(t,o.viewContainerRef,s,o.componentFactoryResolver));i.componentRef=a,i.componentInstance=a.instance}}_createInjector(t,i,r,o){const s=t.injector||t.viewContainerRef?.injector,a=[{provide:J3e,useValue:t.data},{provide:OF,useValue:i}];return t.providers&&("function"==typeof t.providers?a.push(...t.providers(i,t,r)):a.push(...t.providers)),t.direction&&(!s||!s.get(vF,null,{optional:!0}))&&a.push({provide:vF,useValue:{value:t.direction,change:Me()}}),Yt.create({parent:s||o,providers:a})}_removeOpenDialog(t,i){const r=this.openDialogs.indexOf(t);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,s)=>{o?s.setAttribute("aria-hidden",o):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const i=t.parentElement.children;for(let r=i.length-1;r>-1;r--){const o=i[r];o!==t&&"SCRIPT"!==o.nodeName&&"STYLE"!==o.nodeName&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}static{this.\u0275fac=function(i){return new(i||n)(j(Io),j(Yt),j(e5e,8),j(n,12),j(iC),j(XZ))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function PF(n,e){let t=n.length;for(;t--;)e(n[t])}function i5e(n,e){}const r5e={bottomSheetState:rC("state",[kd("void, hidden",Mo({transform:"translateY(100%)"})),kd("visible",Mo({transform:"translateY(0%)"})),Ad("visible => void, visible => hidden",oC([Sd(`${AZ.COMPLEX} ${kZ.ACCELERATION_CURVE}`),aC("@*",sC(),{optional:!0})])),Ad("void => visible",oC([Sd(`${AZ.EXITING} ${kZ.DECELERATION_CURVE}`),aC("@*",sC(),{optional:!0})]))])};let o5e=(()=>{class n extends AF{constructor(t,i,r,o,s,a,c,l,d){super(t,i,r,o,s,a,c,d),this._animationState="void",this._animationStateChanged=new Xe,this._breakpointSubscription=l.observe([Df_Medium,Df_Large,"(min-width: 1920px)"]).subscribe(()=>{this._toggleClass("mat-bottom-sheet-container-medium",l.isMatched(Df_Medium)),this._toggleClass("mat-bottom-sheet-container-large",l.isMatched(Df_Large)),this._toggleClass("mat-bottom-sheet-container-xlarge",l.isMatched("(min-width: 1920px)"))})}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges())}exit(){this._destroyed||(this._animationState="hidden",this._changeDetectorRef.markForCheck())}ngOnDestroy(){super.ngOnDestroy(),this._breakpointSubscription.unsubscribe(),this._destroyed=!0}_onAnimationDone(t){"visible"===t.toState&&this._trapFocus(),this._animationStateChanged.emit(t)}_onAnimationStart(t){this._animationStateChanged.emit(t)}_captureInitialFocus(){}_toggleClass(t,i){this._elementRef.nativeElement.classList.toggle(t,i)}static{this.\u0275fac=function(i){return new(i||n)(E(Lt),E(gF),E(ft,8),E(j_),E(Qw),E(ke),E(V_),E(JX),E(Jw))}}static{this.\u0275cmp=be({type:n,selectors:[["mat-bottom-sheet-container"]],hostAttrs:["tabindex","-1",1,"mat-bottom-sheet-container"],hostVars:4,hostBindings:function(i,r){1&i&&AT("@state.start",function(s){return r._onAnimationStart(s)})("@state.done",function(s){return r._onAnimationDone(s)}),2&i&&(Jn("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-label",r._config.ariaLabel),DT("@state",r._animationState))},standalone:!0,features:[_t,cr],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(i,r){1&i&&Ot(0,i5e,0,0,"ng-template",0)},dependencies:[nC],styles:[".mat-bottom-sheet-container{box-shadow:0px 8px 10px -5px rgba(0, 0, 0, 0.2), 0px 16px 24px 2px rgba(0, 0, 0, 0.14), 0px 6px 30px 5px rgba(0, 0, 0, 0.12);padding:8px 16px;min-width:100vw;box-sizing:border-box;display:block;outline:0;max-height:80vh;overflow:auto;background:var(--mat-bottom-sheet-container-background-color);color:var(--mat-bottom-sheet-container-text-color);font-family:var(--mat-bottom-sheet-container-text-font);font-size:var(--mat-bottom-sheet-container-text-size);line-height:var(--mat-bottom-sheet-container-text-line-height);font-weight:var(--mat-bottom-sheet-container-text-weight);letter-spacing:var(--mat-bottom-sheet-container-text-tracking)}.cdk-high-contrast-active .mat-bottom-sheet-container{outline:1px solid}.mat-bottom-sheet-container-xlarge,.mat-bottom-sheet-container-large,.mat-bottom-sheet-container-medium{border-top-left-radius:var(--mat-bottom-sheet-container-shape);border-top-right-radius:var(--mat-bottom-sheet-container-shape)}.mat-bottom-sheet-container-medium{min-width:384px;max-width:calc(100vw - 128px)}.mat-bottom-sheet-container-large{min-width:512px;max-width:calc(100vw - 256px)}.mat-bottom-sheet-container-xlarge{min-width:576px;max-width:calc(100vw - 384px)}"],encapsulation:2,data:{animation:[r5e.bottomSheetState]}})}}return n})();const JZ=new X("MatBottomSheetData");class s5e{constructor(){this.data=null,this.hasBackdrop=!0,this.disableClose=!1,this.ariaLabel=null,this.ariaModal=!0,this.closeOnNavigation=!0,this.autoFocus="dialog",this.restoreFocus=!0}}class RF{get instance(){return this._ref.componentInstance}get componentRef(){return this._ref.componentRef}constructor(e,t,i){this._ref=e,this._afterOpened=new ht,this.containerInstance=i,this.disableClose=t.disableClose,i._animationStateChanged.pipe(un(r=>"done"===r.phaseName&&"visible"===r.toState),In(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(un(r=>"done"===r.phaseName&&"hidden"===r.toState),In(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._ref.close(this._result)}),e.overlayRef.detachments().subscribe(()=>{this._ref.close(this._result)}),L_(this.backdropClick(),this.keydownEvents().pipe(un(r=>27===r.keyCode))).subscribe(r=>{!this.disableClose&&("keydown"!==r.type||!Kw(r))&&(r.preventDefault(),this.dismiss())})}dismiss(e){this.containerInstance&&(this.containerInstance._animationStateChanged.pipe(un(t=>"start"===t.phaseName),In(1)).subscribe(t=>{this._closeFallbackTimeout=setTimeout(()=>{this._ref.close(this._result)},t.totalTime+100),this._ref.overlayRef.detachBackdrop()}),this._result=e,this.containerInstance.exit(),this.containerInstance=null)}afterDismissed(){return this._ref.closed}afterOpened(){return this._afterOpened}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}}const a5e=new X("mat-bottom-sheet-default-options");let c5e=(()=>{class n{get _openedBottomSheetRef(){const t=this._parentBottomSheet;return t?t._openedBottomSheetRef:this._bottomSheetRefAtThisLevel}set _openedBottomSheetRef(t){this._parentBottomSheet?this._parentBottomSheet._openedBottomSheetRef=t:this._bottomSheetRefAtThisLevel=t}constructor(t,i,r,o){this._overlay=t,this._parentBottomSheet=r,this._defaultOptions=o,this._bottomSheetRefAtThisLevel=null,this._dialog=i.get(ZZ)}open(t,i){const r={...this._defaultOptions||new s5e,...i};let o;return this._dialog.open(t,{...r,disableClose:!0,closeOnOverlayDetachments:!1,maxWidth:"100%",container:o5e,scrollStrategy:r.scrollStrategy||this._overlay.scrollStrategies.block(),positionStrategy:this._overlay.position().global().centerHorizontally().bottom("0"),templateContext:()=>({bottomSheetRef:o}),providers:(s,a,c)=>(o=new RF(s,r,c),[{provide:RF,useValue:o},{provide:JZ,useValue:r.data}])}),o.afterDismissed().subscribe(()=>{this._openedBottomSheetRef===o&&(this._openedBottomSheetRef=null)}),this._openedBottomSheetRef?(this._openedBottomSheetRef.afterDismissed().subscribe(()=>o.containerInstance?.enter()),this._openedBottomSheetRef.dismiss()):o.containerInstance.enter(),this._openedBottomSheetRef=o,o}dismiss(t){this._openedBottomSheetRef&&this._openedBottomSheetRef.dismiss(t)}ngOnDestroy(){this._bottomSheetRefAtThisLevel&&this._bottomSheetRefAtThisLevel.dismiss()}static{this.\u0275fac=function(i){return new(i||n)(j(Io),j(Yt),j(n,12),j(a5e,8))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const l5e=["*",[["mat-toolbar-row"]]],d5e=["*","mat-toolbar-row"];let u5e=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=ge({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"],standalone:!0})}}return n})(),h5e=(()=>{class n{constructor(t,i,r){this._elementRef=t,this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}static{this.\u0275fac=function(i){return new(i||n)(E(Lt),E(Ti),E(ft))}}static{this.\u0275cmp=be({type:n,selectors:[["mat-toolbar"]],contentQueries:function(i,r,o){if(1&i&&RT(o,u5e,5),2&i){let s;xn(s=wn())&&(r._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(i,r){2&i&&(Sp(r.color?"mat-"+r.color:""),ar("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length))},inputs:{color:"color"},exportAs:["matToolbar"],standalone:!0,features:[cr],ngContentSelectors:d5e,decls:2,vars:0,template:function(i,r){1&i&&(wl(l5e),Br(0),Br(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color:var(--mat-toolbar-container-text-color);--mdc-outlined-button-label-text-color:var(--mat-toolbar-container-text-color)}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0})}}return n})(),f5e=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ot({type:n})}static{this.\u0275inj=tt({imports:[Or,Or]})}}return n})();const p5e=["mat-button",""],m5e=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],g5e=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],b5e=["mat-icon-button",""],y5e=["*"],v5e=new X("MAT_BUTTON_CONFIG"),x5e=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}];let eJ=(()=>{class n{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(t){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,t)}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=t,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._updateRippleDisabled()}constructor(t,i,r,o){this._elementRef=t,this._platform=i,this._ngZone=r,this._animationMode=o,this._focusMonitor=Z(Jw),this._rippleLoader=Z(WLe),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;const s=Z(v5e,{optional:!0}),a=t.nativeElement,c=a.classList;this.disabledInteractive=s?.disabledInteractive??!1,this._rippleLoader?.configureRipple(a,{className:"mat-mdc-button-ripple"});for(const{attribute:l,mdcClasses:d}of x5e)a.hasAttribute(l)&&c.add(...d)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(t="program",i){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,i):this._elementRef.nativeElement.focus(i)}_getAriaDisabled(){return null!=this.ariaDisabled?this.ariaDisabled:!(!this.disabled||!this.disabledInteractive)||null}_getDisabledAttribute(){return!(this.disabledInteractive||!this.disabled)||null}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static{this.\u0275fac=function(i){xE()}}static{this.\u0275dir=ge({type:n,inputs:{color:"color",disableRipple:[Ze.HasDecoratorInputTransform,"disableRipple","disableRipple",bs],disabled:[Ze.HasDecoratorInputTransform,"disabled","disabled",bs],ariaDisabled:[Ze.HasDecoratorInputTransform,"aria-disabled","ariaDisabled",bs],disabledInteractive:[Ze.HasDecoratorInputTransform,"disabledInteractive","disabledInteractive",bs]},features:[y0]})}}return n})(),w5e=(()=>{class n extends eJ{constructor(t,i,r,o){super(t,i,r,o)}static{this.\u0275fac=function(i){return new(i||n)(E(Lt),E(Ti),E(ke),E(os,8))}}static{this.\u0275cmp=be({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(i,r){2&i&&(Jn("disabled",r._getDisabledAttribute())("aria-disabled",r._getAriaDisabled()),Sp(r.color?"mat-"+r.color:""),ar("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[_t,cr],attrs:p5e,ngContentSelectors:g5e,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(wl(m5e),$(0,"span",0),Br(1),p(2,"span",1),Br(3,1),h(),Br(4,2),$(5,"span",2)(6,"span",3)),2&i&&ar("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px);display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);font-weight:var(--mdc-text-button-label-text-weight);text-transform:var(--mdc-text-button-label-text-transform);height:var(--mdc-text-button-container-height);border-radius:var(--mdc-text-button-container-shape);padding:0 var(--mat-text-button-horizontal-padding, 8px)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);font-weight:var(--mdc-filled-button-label-text-weight);text-transform:var(--mdc-filled-button-label-text-transform);height:var(--mdc-filled-button-container-height);border-radius:var(--mdc-filled-button-container-shape);padding:0 var(--mat-filled-button-horizontal-padding, 16px)}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color)}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);font-weight:var(--mdc-protected-button-label-text-weight);text-transform:var(--mdc-protected-button-label-text-transform);height:var(--mdc-protected-button-container-height);border-radius:var(--mdc-protected-button-container-shape);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow)}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color)}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);font-weight:var(--mdc-outlined-button-label-text-weight);text-transform:var(--mdc-outlined-button-label-text-transform);height:var(--mdc-outlined-button-container-height);border-radius:var(--mdc-outlined-button-container-shape);padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width);padding:0 var(--mat-outlined-button-horizontal-padding, 15px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color)}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape)}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width))}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button-base{text-decoration:none}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}}return n})(),E5e=(()=>{class n extends eJ{constructor(t,i,r,o){super(t,i,r,o),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static{this.\u0275fac=function(i){return new(i||n)(E(Lt),E(Ti),E(ke),E(os,8))}}static{this.\u0275cmp=be({type:n,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(i,r){2&i&&(Jn("disabled",r._getDisabledAttribute())("aria-disabled",r._getAriaDisabled()),Sp(r.color?"mat-"+r.color:""),ar("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[_t,cr],attrs:b5e,ngContentSelectors:y5e,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(wl(),$(0,"span",0),Br(1),$(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{color:var(--mdc-icon-button-icon-color)}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 48px);height:var(--mdc-icon-button-state-layer-size, 48px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 48px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size);-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color)}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color)}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color)}.mat-mdc-icon-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity)}.mat-mdc-icon-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity)}.mat-mdc-icon-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity)}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}}return n})(),T5e=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ot({type:n})}static{this.\u0275inj=tt({imports:[Or,qLe,Or]})}}return n})();function I5e(n,e){if(1&n){const t=ct();p(0,"mat-toolbar",1)(1,"button",2),F("click",function(){return ye(t),ve(st().installPwa())}),g(2," Agregar a Inicio "),h(),p(3,"button",3),F("click",function(){return ye(t),ve(st().close())}),g(4," Cerrar "),h()()}}let M5e=(()=>{class n{constructor(t,i){this.data=t,this.bottomSheetRef=i}installPwa(){this.data.promptEvent.prompt(),this.close()}close(){this.bottomSheetRef.dismiss()}static{this.\u0275fac=function(i){return new(i||n)(E(JZ),E(RF))}}static{this.\u0275cmp=be({type:n,selectors:[["app-prompt"]],decls:1,vars:1,consts:[["color","primary","class","android-prompt",4,"ngIf"],["color","primary",1,"android-prompt"],["mat-button","",1,"install",3,"click"],["mat-icon-button","",1,"close",3,"click"]],template:function(i,r){1&i&&Ot(0,I5e,5,0,"mat-toolbar",0),2&i&&Ve("ngIf","android"===r.data.mobileType)},dependencies:[h5e,w5e,E5e,qp],styles:[".mat-bottom-sheet-container{--mat-bottom-sheet-container-background-color: white!important;--mat-bottom-sheet-container-text-color: rgba(0, 0, 0, .87) !important;padding:3vh 2px!important;min-width:95vw!important;min-height:15vh!important;margin:0 auto;box-sizing:border-box!important;display:block!important}.android-prompt[_ngcontent-%COMP%]{position:inherit;padding:1vh 2px!important;display:flex;justify-content:space-between;align-items:center}.android-prompt[_ngcontent-%COMP%]   .install[_ngcontent-%COMP%]{background-color:#4c8bf5;color:#fff;border-radius:5px;margin:5px;padding:5px 10px;font-family:Arial;text-align:center;font-size:18px}.android-prompt[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{background-color:#fff;color:#4c8bf5;border-radius:5px;border:5px;margin:5px;padding:5px 10px;font-family:Arial;text-align:center;font-size:18px;min-width:75px}.ios-prompt[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;align-items:center}.ios-prompt[_ngcontent-%COMP%]   .close-ios-inv[_ngcontent-%COMP%]{position:absolute;right:0;top:0}.ios-prompt[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{text-align:center;padding:10px 25px 0}.ios-prompt[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{position:relative;top:-7px}.ios-prompt[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:inline}"]})}}return n})(),D5e=(()=>{class n{constructor(t,i){this.bottomSheet=t,this.platform=i}initPwaPrompt(){this.platform.ANDROID&&(console.log("android"),window.addEventListener("beforeinstallprompt",t=>{t.preventDefault(),this.promptEvent=t,this.openPromptComponent("android")}))}openPromptComponent(t){yF(1e3).pipe(In(1)).subscribe(()=>this.bottomSheet.open(M5e,{data:{mobileType:t,promptEvent:this.promptEvent}}))}static{this.\u0275fac=function(i){return new(i||n)(j(c5e),j(Ti))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),EJ=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ot({type:n})}static{this.\u0275inj=tt({imports:[Or,Or]})}}return n})(),m4e=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ot({type:n})}static{this.\u0275inj=tt({imports:[Or,ys,Or]})}}return n})();function TJ(n){return new H(3e3,!1)}function Jc(n){switch(n.length){case 0:return new B_;case 1:return n[0];default:return new MZ(n)}}function IJ(n,e,t=new Map,i=new Map){const r=[],o=[];let s=-1,a=null;if(e.forEach(c=>{const l=c.get("offset"),d=l==s,u=d&&a||new Map;c.forEach((f,m)=>{let y=m,C=f;if("offset"!==m)switch(y=n.normalizePropertyName(y,r),C){case"!":C=t.get(m);break;case Ba:C=i.get(m);break;default:C=n.normalizeStyleValue(m,y,C,r)}u.set(y,C)}),d||o.push(u),a=u,s=l}),r.length)throw function V4e(n){return new H(3502,!1)}();return o}function GF(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&qF(t,"start",n)));break;case"done":n.onDone(()=>i(t&&qF(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&qF(t,"destroy",n)))}}function qF(n,e,t){const o=WF(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),s=n._data;return null!=s&&(o._data=s),o}function WF(n,e,t,i,r="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function ho(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function MJ(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}const Q4e=typeof document>"u"?null:document.documentElement;function KF(n){const e=n.parentNode||n.host||null;return e===Q4e?null:e}let Rd=null,DJ=!1;function SJ(n,e){for(;e;){if(e===n)return!0;e=KF(e)}return!1}function kJ(n,e,t){if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]}let YF=(()=>{class n{validateStyleProperty(t){return function Z4e(n){Rd||(Rd=function J4e(){return typeof document<"u"?document.body:null}()||{},DJ=!!Rd.style&&"WebkitAppearance"in Rd.style);let e=!0;return Rd.style&&!function X4e(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Rd.style,!e&&DJ&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Rd.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return SJ(t,i)}getParentElement(t){return KF(t)}query(t,i,r){return kJ(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,o,s,a=[],c){return new B_(r,o)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac})}}return n})();class QF{static{this.NOOP=new YF}}class XF{}const tVe=1e3,ZF="ng-enter",gC="ng-leave",_C="ng-trigger",bC=".ng-trigger",OJ="ng-animating",JF=".ng-animating";function Ua(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:eL(parseFloat(e[1]),e[2])}function eL(n,e){return"s"===e?n*tVe:n}function yC(n,e,t){return n.hasOwnProperty("duration")?n:function iVe(n,e,t){let r,o=0,s="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(TJ()),{duration:0,delay:0,easing:""};r=eL(parseFloat(a[1]),a[2]);const c=a[3];null!=c&&(o=eL(parseFloat(c),a[4]));const l=a[5];l&&(s=l)}else r=n;if(!t){let a=!1,c=e.length;r<0&&(e.push(function g4e(){return new H(3100,!1)}()),a=!0),o<0&&(e.push(function _4e(){return new H(3101,!1)}()),a=!0),a&&e.splice(c,0,TJ())}return{duration:r,delay:o,easing:s}}(n,e,t)}function Ys(n,e,t){e.forEach((i,r)=>{const o=nL(r);t&&!t.has(r)&&t.set(r,n.style[o]),n.style[o]=i})}function Nd(n,e){e.forEach((t,i)=>{const r=nL(i);n.style[r]=""})}function q_(n){return Array.isArray(n)?1==n.length?n[0]:function MLe(n,e=null){return{type:Be.Sequence,steps:n,options:e}}(n):n}const tL=new RegExp("{{\\s*(.+?)\\s*}}","g");function RJ(n){let e=[];if("string"==typeof n){let t;for(;t=tL.exec(n);)e.push(t[1]);tL.lastIndex=0}return e}function W_(n,e,t){const i=`${n}`,r=i.replace(tL,(o,s)=>{let a=e[s];return null==a&&(t.push(function y4e(n){return new H(3003,!1)}()),a=""),a.toString()});return r==i?n:r}const sVe=/-+([a-z0-9])/g;function nL(n){return n.replace(sVe,(...e)=>e[1].toUpperCase())}function fo(n,e,t){switch(e.type){case Be.Trigger:return n.visitTrigger(e,t);case Be.State:return n.visitState(e,t);case Be.Transition:return n.visitTransition(e,t);case Be.Sequence:return n.visitSequence(e,t);case Be.Group:return n.visitGroup(e,t);case Be.Animate:return n.visitAnimate(e,t);case Be.Keyframes:return n.visitKeyframes(e,t);case Be.Style:return n.visitStyle(e,t);case Be.Reference:return n.visitReference(e,t);case Be.AnimateChild:return n.visitAnimateChild(e,t);case Be.AnimateRef:return n.visitAnimateRef(e,t);case Be.Query:return n.visitQuery(e,t);case Be.Stagger:return n.visitStagger(e,t);default:throw function v4e(n){return new H(3004,!1)}()}}function iL(n,e){return window.getComputedStyle(n)[e]}const lVe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class NJ extends XF{normalizePropertyName(e,t){return nL(e)}normalizeStyleValue(e,t,i,r){let o="";const s=i.toString().trim();if(lVe.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function x4e(n,e){return new H(3005,!1)}())}return s+o}}const vC="*";const xC=new Set(["true","1"]),wC=new Set(["false","0"]);function FJ(n,e){const t=xC.has(n)||wC.has(n),i=xC.has(e)||wC.has(e);return(r,o)=>{let s=n==vC||n==r,a=e==vC||e==o;return!s&&t&&"boolean"==typeof r&&(s=r?xC.has(n):wC.has(n)),!a&&i&&"boolean"==typeof o&&(a=o?xC.has(e):wC.has(e)),s&&a}}const fVe=new RegExp("s*:selfs*,?","g");function rL(n,e,t,i){return new pVe(n).build(e,t,i)}class pVe{constructor(e){this._driver=e}build(e,t,i){const r=new _Ve(t);return this._resetContextStyleTimingState(r),fo(this,q_(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const o=[],s=[];return"@"==e.name.charAt(0)&&t.errors.push(function w4e(){return new H(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==Be.State){const c=a,l=c.name;l.toString().split(/\s*,\s*/).forEach(d=>{c.name=d,o.push(this.visitState(c,t))}),c.name=l}else if(a.type==Be.Transition){const c=this.visitTransition(a,t);i+=c.queryCount,r+=c.depCount,s.push(c)}else t.errors.push(function C4e(){return new H(3007,!1)}())}),{type:Be.Trigger,name:e.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const o=new Set,s=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{RJ(c).forEach(l=>{s.hasOwnProperty(l)||o.add(l)})})}),o.size&&t.errors.push(function E4e(n,e){return new H(3008,!1)}(0,o.values()))}return{type:Be.State,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=fo(this,q_(e.animation),t),r=function dVe(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function uVe(n,e,t){if(":"==n[0]){const c=function hVe(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function R4e(n){return new H(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof c)return void e.push(c);n=c}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function P4e(n){return new H(3015,!1)}()),e;const r=i[1],o=i[2],s=i[3];e.push(FJ(r,s)),"<"==o[0]&&(r!=vC||s!=vC)&&e.push(FJ(s,r))}(i,t,e)):t.push(n),t}(e.expr,t.errors);return{type:Be.Transition,matchers:r,animation:i,queryCount:t.queryCount,depCount:t.depCount,options:Fd(e.options)}}visitSequence(e,t){return{type:Be.Sequence,steps:e.steps.map(i=>fo(this,i,t)),options:Fd(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const o=e.steps.map(s=>{t.currentTime=i;const a=fo(this,s,t);return r=Math.max(r,t.currentTime),a});return t.currentTime=r,{type:Be.Group,steps:o,options:Fd(e.options)}}visitAnimate(e,t){const i=function yVe(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return oL(yC(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=oL(0,0,"");return o.dynamic=!0,o.strValue=t,o}const r=yC(t,e);return oL(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,o=e.styles?e.styles:Mo({});if(o.type==Be.Keyframes)r=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;const l={};i.easing&&(l.easing=i.easing),s=Mo(l)}t.currentTime+=i.duration+i.delay;const c=this.visitStyle(s,t);c.isEmptyStep=a,r=c}return t.currentAnimateTimings=null,{type:Be.Animate,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of r)"string"==typeof a?a===Ba?i.push(a):t.errors.push(new H(3002,!1)):i.push(new Map(Object.entries(a)));let o=!1,s=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o))for(let c of a.values())if(c.toString().indexOf("{{")>=0){o=!0;break}}),{type:Be.Style,styles:i,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,o=t.currentTime;i&&o>0&&(o-=i.duration+i.delay),e.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,c)=>{const l=t.collectedStyles.get(t.currentQuerySelector),d=l.get(c);let u=!0;d&&(o!=r&&o>=d.startTime&&r<=d.endTime&&(t.errors.push(function I4e(n,e,t,i,r){return new H(3010,!1)}()),u=!1),o=d.startTime),u&&l.set(c,{startTime:o,endTime:r}),t.options&&function oVe(n,e,t){const i=e.params||{},r=RJ(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||t.push(function b4e(n){return new H(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:Be.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function M4e(){return new H(3011,!1)}()),i;let o=0;const s=[];let a=!1,c=!1,l=0;const d=e.steps.map(S=>{const D=this._makeStyleAst(S,t);let L=null!=D.offset?D.offset:function bVe(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(D.styles),Y=0;return null!=L&&(o++,Y=D.offset=L),c=c||Y<0||Y>1,a=a||Y<l,l=Y,s.push(Y),D});c&&t.errors.push(function D4e(){return new H(3012,!1)}()),a&&t.errors.push(function S4e(){return new H(3200,!1)}());const u=e.steps.length;let f=0;o>0&&o<u?t.errors.push(function k4e(){return new H(3202,!1)}()):0==o&&(f=1/(u-1));const m=u-1,y=t.currentTime,C=t.currentAnimateTimings,T=C.duration;return d.forEach((S,D)=>{const L=f>0?D==m?1:f*D:s[D],Y=L*T;t.currentTime=y+C.delay+Y,C.duration=Y,this._validateStyleAst(S,t),S.offset=L,i.styles.push(S)}),i}visitReference(e,t){return{type:Be.Reference,animation:fo(this,q_(e.animation),t),options:Fd(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:Be.AnimateChild,options:Fd(e.options)}}visitAnimateRef(e,t){return{type:Be.AnimateRef,animation:this.visitReference(e.animation,t),options:Fd(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[o,s]=function mVe(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(fVe,"")),n=n.replace(/@\*/g,bC).replace(/@\w+/g,t=>bC+"-"+t.slice(1)).replace(/:animating/g,JF),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+o:o,ho(t.collectedStyles,t.currentQuerySelector,new Map);const a=fo(this,q_(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:Be.Query,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:Fd(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function A4e(){return new H(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:yC(e.timings,t.errors,!0);return{type:Be.Stagger,animation:fo(this,q_(e.animation),t),timings:i,options:null}}}class _Ve{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Fd(n){return n?(n={...n}).params&&(n.params=function gVe(n){return n?{...n}:null}(n.params)):n={},n}function oL(n,e,t){return{duration:n,delay:e,easing:t}}function sL(n,e,t,i,r,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}class CC{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const wVe=new RegExp(":enter","g"),EVe=new RegExp(":leave","g");function aL(n,e,t,i,r,o=new Map,s=new Map,a,c,l=[]){return(new TVe).buildKeyframes(n,e,t,i,r,o,s,a,c,l)}class TVe{buildKeyframes(e,t,i,r,o,s,a,c,l,d=[]){l=l||new CC;const u=new cL(e,t,l,r,o,d,[]);u.options=c;const f=c.delay?Ua(c.delay):0;u.currentTimeline.delayNextStep(f),u.currentTimeline.setStyles([s],null,u.errors,c),fo(this,i,u);const m=u.timelines.filter(y=>y.containsAnimation());if(m.length&&a.size){let y;for(let C=m.length-1;C>=0;C--){const T=m[C];if(T.element===t){y=T;break}}y&&!y.allowOnlyTimelineStyles()&&y.setStyles([a],null,u.errors,c)}return m.length?m.map(y=>y.buildKeyframes()):[sL(t,[],[],[],0,f,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const o=r?.delay;if(o){const s="number"==typeof o?o:Ua(W_(o,r?.params??{},t.errors));i.delayNextStep(s)}}}_visitSubInstructions(e,t,i){let o=t.currentTimeline.currentTime;const s=null!=i.duration?Ua(i.duration):null,a=null!=i.delay?Ua(i.delay):null;return 0!==s&&e.forEach(c=>{const l=t.appendInstructionToTimeline(c,s,a);o=Math.max(o,l.duration+l.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),fo(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const o=e.options;if(o&&(o.params||o.delay)&&(r=t.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){r.previousNode.type==Be.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=EC);const s=Ua(o.delay);r.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>fo(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const o=e.options&&e.options.delay?Ua(e.options.delay):0;e.steps.forEach(s=>{const a=t.createSubContext(e.options);o&&a.delayNextStep(o),fo(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return yC(t.params?W_(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const o=e.style;o.type==Be.Keyframes?this.visitKeyframes(o,t):(t.incrementTime(i.duration),this.visitStyle(o,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(o):i.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,o=i.duration,a=t.createSubContext().currentTimeline;a.easing=i.easing,e.styles.forEach(c=>{a.forwardTime((c.offset||0)*o),a.setStyles(c.styles,c.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(r+o),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},o=r.delay?Ua(r.delay):0;o&&(t.previousNode.type===Be.Style||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=EC);let s=i;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=a.length;let c=null;a.forEach((l,d)=>{t.currentQueryIndex=d;const u=t.createSubContext(e.options,l);o&&u.delayNextStep(o),l===t.element&&(c=u.currentTimeline),fo(this,e.animation,u),u.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,u.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),c&&(t.currentTimeline.mergeTimelineCollectedStyles(c),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1);let c=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=i.currentStaggerTime}const d=t.currentTimeline;c&&d.delayNextStep(c);const u=d.currentTime;fo(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-u+(r.startTime-i.currentTimeline.startTime)}}const EC={};class cL{constructor(e,t,i,r,o,s,a,c){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=EC,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new TC(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=Ua(i.duration)),null!=i.delay&&(r.delay=Ua(i.delay));const o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=W_(o[a],s,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,o=new cL(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=EC,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},o=new IVe(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,o,s){let a=[];if(r&&a.push(this.element),e.length>0){e=(e=e.replace(wVe,"."+this._enterClassName)).replace(EVe,"."+this._leaveClassName);let l=this._driver.query(this.element,e,1!=i);0!==i&&(l=i<0?l.slice(l.length+i,l.length):l.slice(0,i)),a.push(...l)}return!o&&0==a.length&&s.push(function O4e(n){return new H(3014,!1)}()),a}}class TC{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new TC(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||Ba),this._currentKeyframe.set(t,Ba);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const o=r&&r.params||{},s=function MVe(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i??=e.keys();for(let o of i)t.set(o,Ba)}else for(let[o,s]of r)t.set(o,s)}),t}(e,this._globalTimelineStyles);for(let[a,c]of s){const l=W_(c,o,i);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Ba),this._updateStyle(a,l)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,c)=>{const l=new Map([...this._backFill,...a]);l.forEach((d,u)=>{"!"===d?e.add(u):d===Ba&&t.add(u)}),i||l.set("offset",c/this.duration),r.push(l)});const o=[...e.values()],s=[...t.values()];if(i){const a=r[0],c=new Map(a);a.set("offset",0),c.set("offset",1),r=[a,c]}return sL(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}}class IVe extends TC{constructor(e,t,i,r,o,s,a=!1){super(e,t,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const o=[],s=i+t,a=t/s,c=new Map(e[0]);c.set("offset",0),o.push(c);const l=new Map(e[0]);l.set("offset",BJ(a)),o.push(l);const d=e.length-1;for(let u=1;u<=d;u++){let f=new Map(e[u]);const m=f.get("offset");f.set("offset",BJ((t+m*i)/s)),o.push(f)}i=s,t=0,r="",e=o}return sL(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function BJ(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}function zJ(n,e,t,i,r,o,s,a,c,l,d,u,f){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:d,totalTime:u,errors:f}}const lL={};class UJ{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function DVe(n,e,t,i,r){return n.some(o=>o(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,o,s,a,c,l,d){const u=[],f=this.ast.options&&this.ast.options.params||lL,y=this.buildStyles(i,a&&a.params||lL,u),C=c&&c.params||lL,T=this.buildStyles(r,C,u),S=new Set,D=new Map,L=new Map,Y="void"===r,re={params:jJ(C,f),delay:this.ast.options?.delay},ue=d?[]:aL(e,t,this.ast.animation,o,s,y,T,re,l,u);let Fe=0;return ue.forEach(it=>{Fe=Math.max(it.duration+it.delay,Fe)}),u.length?zJ(t,this._triggerName,i,r,Y,y,T,[],[],D,L,Fe,u):(ue.forEach(it=>{const kn=it.element,er=ho(D,kn,new Set);it.preStyleProps.forEach(po=>er.add(po));const Of=ho(L,kn,new Set);it.postStyleProps.forEach(po=>Of.add(po)),kn!==t&&S.add(kn)}),zJ(t,this._triggerName,i,r,Y,y,T,ue,[...S.values()],D,L,Fe))}}function jJ(n,e){const t={...e};return Object.entries(n).forEach(([i,r])=>{null!=r&&(t[i]=r)}),t}class SVe{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=jJ(e,this.defaultParams);return this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,a)=>{s&&(s=W_(s,r,t));const c=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,c,s,t),i.set(a,s)})}),i}}class AVe{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new SVe(r.style,r.options&&r.options.params||{},i))}),HJ(this.states,"true","1"),HJ(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new UJ(e,r,this.states))}),this.fallbackTransition=function OVe(n,e,t){return new UJ(n,{type:Be.Transition,animation:{type:Be.Sequence,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(s=>s.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function HJ(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const PVe=new CC;class RVe{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],o=rL(this._driver,t,i,[]);if(i.length)throw function B4e(n){return new H(3503,!1)}();this._animations.set(e,o)}_buildPlayer(e,t,i){const r=e.element,o=IJ(this._normalizer,e.keyframes,t,i);return this._driver.animate(r,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],o=this._animations.get(e);let s;const a=new Map;if(o?(s=aL(this._driver,t,o,ZF,gC,new Map,new Map,i,PVe,r),s.forEach(d=>{const u=ho(a,d.element,new Map);d.postStyleProps.forEach(f=>u.set(f,null))})):(r.push(function z4e(){return new H(3300,!1)}()),s=[]),r.length)throw function U4e(n){return new H(3504,!1)}();a.forEach((d,u)=>{d.forEach((f,m)=>{d.set(m,this._driver.computeStyle(u,m,Ba))})});const l=Jc(s.map(d=>{const u=a.get(d.element);return this._buildPlayer(d,new Map,u)}));return this._playersById.set(e,l),l.onDestroy(()=>this.destroy(e)),this.players.push(l),l}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function j4e(n){return new H(3301,!1)}();return t}listen(e,t,i,r){const o=WF(t,"","","");return GF(this._getPlayer(e),i,o,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const o=this._getPlayer(e);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const $J="ng-animate-queued",dL="ng-animate-disabled",BVe=[],GJ={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},zVe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},es="__ng_removed";class uL{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function $Ve(n){return n??null}(i?e.value:e),i){const{value:o,...s}=e;this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const K_="void",hL=new uL(K_);class UVe{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,So(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function H4e(n,e){return new H(3302,!1)}();if(null==i||0==i.length)throw function $4e(n){return new H(3303,!1)}();if(!function GVe(n){return"start"==n||"done"==n}(i))throw function G4e(n,e){return new H(3400,!1)}();const o=ho(this._elementListeners,e,[]),s={name:t,phase:i,callback:r};o.push(s);const a=ho(this._engine.statesByElement,e,new Map);return a.has(t)||(So(e,_C),So(e,_C+"-"+t),a.set(t,hL)),()=>{this._engine.afterFlush(()=>{const c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function q4e(n){return new H(3401,!1)}();return t}trigger(e,t,i,r=!0){const o=this._getTrigger(t),s=new fL(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(So(e,_C),So(e,_C+"-"+t),this._engine.statesByElement.set(e,a=new Map));let c=a.get(t);const l=new uL(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&c&&l.absorbOptions(c.options),a.set(t,l),c||(c=hL),l.value!==K_&&c.value===l.value){if(!function KVe(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const o=t[r];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}(c.params,l.params)){const C=[],T=o.matchStyles(c.value,c.params,C),S=o.matchStyles(l.value,l.params,C);C.length?this._engine.reportError(C):this._engine.afterFlush(()=>{Nd(e,T),Ys(e,S)})}return}const f=ho(this._engine.playersByElement,e,[]);f.forEach(C=>{C.namespaceId==this.id&&C.triggerName==t&&C.queued&&C.destroy()});let m=o.matchTransition(c.value,l.value,e,l.params),y=!1;if(!m){if(!r)return;m=o.fallbackTransition,y=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:m,fromState:c,toState:l,player:s,isFallbackTransition:y}),y||(So(e,$J),s.onStart(()=>{Af(e,$J)})),s.onDone(()=>{let C=this.players.indexOf(s);C>=0&&this.players.splice(C,1);const T=this._engine.playersByElement.get(e);if(T){let S=T.indexOf(s);S>=0&&T.splice(S,1)}}),this.players.push(s),f.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,bC,!0);i.forEach(r=>{if(r[es])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const o=this._engine.statesByElement.get(e),s=new Map;if(o){const a=[];if(o.forEach((c,l)=>{if(s.set(l,c.value),this._triggers.has(l)){const d=this.trigger(e,l,K_,r);d&&a.push(d)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),i&&Jc(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(o=>{const s=o.name;if(r.has(s))return;r.add(s);const c=this._triggers.get(s).fallbackTransition,l=i.get(s)||hL,d=new uL(K_),u=new fL(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:c,fromState:l,toState:d,player:u,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(e):[];if(o&&o.length)r=!0;else{let s=e;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const o=e[es];(!o||o===GJ)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){So(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==i.triggerName){const c=WF(o,i.triggerName,i.fromState.value,i.toState.value);c._data=e,GF(i.player,a.phase,c,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const o=i.transition.ast.depCount,s=r.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class jVe{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i,r){this.bodyNode=e,this.driver=t,this._normalizer=i,this.scheduler=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new UVe(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){const c=r.get(a);if(c){const l=i.indexOf(c);i.splice(l+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&t.add(o)}return t}trigger(e,t,i,r){if(IC(t)){const o=this._fetchNamespace(e);if(o)return o.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!IC(t))return;const o=t[es];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){const s=this._fetchNamespace(e);s&&s.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),So(e,dL)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Af(e,dL))}removeNode(e,t,i){if(IC(t)){this.scheduler?.notify();const r=e?this._fetchNamespace(e):null;r?r.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i);const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,i)}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,i,r,o){this.collectedLeaveElements.push(t),t[es]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,i,r,o){return IC(t)?this._fetchNamespace(e).listen(t,i,r,o):()=>{}}_buildInstruction(e,t,i,r,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,bC,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,JF,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Jc(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[es];if(t&&t.setForRemoval){if(e[es]=GJ,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(dL)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)So(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?Jc(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function W4e(n){return new H(3402,!1)}()}_flushAnimations(e,t){const i=new CC,r=[],o=new Map,s=[],a=new Map,c=new Map,l=new Map,d=new Set;this.disabledNodes.forEach(_e=>{d.add(_e);const we=this.driver.query(_e,".ng-animate-queued",!0);for(let De=0;De<we.length;De++)d.add(we[De])});const u=this.bodyNode,f=Array.from(this.statesByElement.keys()),m=KJ(f,this.collectedEnterElements),y=new Map;let C=0;m.forEach((_e,we)=>{const De=ZF+C++;y.set(we,De),_e.forEach(wt=>So(wt,De))});const T=[],S=new Set,D=new Set;for(let _e=0;_e<this.collectedLeaveElements.length;_e++){const we=this.collectedLeaveElements[_e],De=we[es];De&&De.setForRemoval&&(T.push(we),S.add(we),De.hasAnimation?this.driver.query(we,".ng-star-inserted",!0).forEach(wt=>S.add(wt)):D.add(we))}const L=new Map,Y=KJ(f,Array.from(S));Y.forEach((_e,we)=>{const De=gC+C++;L.set(we,De),_e.forEach(wt=>So(wt,De))}),e.push(()=>{m.forEach((_e,we)=>{const De=y.get(we);_e.forEach(wt=>Af(wt,De))}),Y.forEach((_e,we)=>{const De=L.get(we);_e.forEach(wt=>Af(wt,De))}),T.forEach(_e=>{this.processLeaveNode(_e)})});const re=[],ue=[];for(let _e=this._namespaceList.length-1;_e>=0;_e--)this._namespaceList[_e].drainQueuedTransitions(t).forEach(De=>{const wt=De.player,Bi=De.element;if(re.push(wt),this.collectedEnterElements.length){const _r=Bi[es];if(_r&&_r.setForMove){if(_r.previousTriggersValues&&_r.previousTriggersValues.has(De.triggerName)){const Bd=_r.previousTriggersValues.get(De.triggerName),ko=this.statesByElement.get(De.element);if(ko&&ko.has(De.triggerName)){const SC=ko.get(De.triggerName);SC.value=Bd,ko.set(De.triggerName,SC)}}return void wt.destroy()}}const Qs=!u||!this.driver.containsElement(u,Bi),mo=L.get(Bi),el=y.get(Bi),Bn=this._buildInstruction(De,i,el,mo,Qs);if(Bn.errors&&Bn.errors.length)return void ue.push(Bn);if(Qs)return wt.onStart(()=>Nd(Bi,Bn.fromStyles)),wt.onDestroy(()=>Ys(Bi,Bn.toStyles)),void r.push(wt);if(De.isFallbackTransition)return wt.onStart(()=>Nd(Bi,Bn.fromStyles)),wt.onDestroy(()=>Ys(Bi,Bn.toStyles)),void r.push(wt);const mee=[];Bn.timelines.forEach(_r=>{_r.stretchStartingKeyframe=!0,this.disabledNodes.has(_r.element)||mee.push(_r)}),Bn.timelines=mee,i.append(Bi,Bn.timelines),s.push({instruction:Bn,player:wt,element:Bi}),Bn.queriedElements.forEach(_r=>ho(a,_r,[]).push(wt)),Bn.preStyleProps.forEach((_r,Bd)=>{if(_r.size){let ko=c.get(Bd);ko||c.set(Bd,ko=new Set),_r.forEach((SC,wL)=>ko.add(wL))}}),Bn.postStyleProps.forEach((_r,Bd)=>{let ko=l.get(Bd);ko||l.set(Bd,ko=new Set),_r.forEach((SC,wL)=>ko.add(wL))})});if(ue.length){const _e=[];ue.forEach(we=>{_e.push(function K4e(n,e){return new H(3505,!1)}())}),re.forEach(we=>we.destroy()),this.reportError(_e)}const Fe=new Map,it=new Map;s.forEach(_e=>{const we=_e.element;i.has(we)&&(it.set(we,we),this._beforeAnimationBuild(_e.player.namespaceId,_e.instruction,Fe))}),r.forEach(_e=>{const we=_e.element;this._getPreviousPlayers(we,!1,_e.namespaceId,_e.triggerName,null).forEach(wt=>{ho(Fe,we,[]).push(wt),wt.destroy()})});const kn=T.filter(_e=>QJ(_e,c,l)),er=new Map;WJ(er,this.driver,D,l,Ba).forEach(_e=>{QJ(_e,c,l)&&kn.push(_e)});const po=new Map;m.forEach((_e,we)=>{WJ(po,this.driver,new Set(_e),c,"!")}),kn.forEach(_e=>{const we=er.get(_e),De=po.get(_e);er.set(_e,new Map([...we?.entries()??[],...De?.entries()??[]]))});const Gt=[],Ld=[],Vd={};s.forEach(_e=>{const{element:we,player:De,instruction:wt}=_e;if(i.has(we)){if(d.has(we))return De.onDestroy(()=>Ys(we,wt.toStyles)),De.disabled=!0,De.overrideTotalTime(wt.totalTime),void r.push(De);let Bi=Vd;if(it.size>1){let mo=we;const el=[];for(;mo=mo.parentNode;){const Bn=it.get(mo);if(Bn){Bi=Bn;break}el.push(mo)}el.forEach(Bn=>it.set(Bn,Bi))}const Qs=this._buildAnimation(De.namespaceId,wt,Fe,o,po,er);if(De.setRealPlayer(Qs),Bi===Vd)Gt.push(De);else{const mo=this.playersByElement.get(Bi);mo&&mo.length&&(De.parentPlayer=Jc(mo)),r.push(De)}}else Nd(we,wt.fromStyles),De.onDestroy(()=>Ys(we,wt.toStyles)),Ld.push(De),d.has(we)&&r.push(De)}),Ld.forEach(_e=>{const we=o.get(_e.element);if(we&&we.length){const De=Jc(we);_e.setRealPlayer(De)}}),r.forEach(_e=>{_e.parentPlayer?_e.syncPlayerEvents(_e.parentPlayer):_e.destroy()});for(let _e=0;_e<T.length;_e++){const we=T[_e],De=we[es];if(Af(we,gC),De&&De.hasAnimation)continue;let wt=[];if(a.size){let Qs=a.get(we);Qs&&Qs.length&&wt.push(...Qs);let mo=this.driver.query(we,JF,!0);for(let el=0;el<mo.length;el++){let Bn=a.get(mo[el]);Bn&&Bn.length&&wt.push(...Bn)}}const Bi=wt.filter(Qs=>!Qs.destroyed);Bi.length?qVe(this,we,Bi):this.processLeaveNode(we)}return T.length=0,Gt.forEach(_e=>{this.players.push(_e),_e.onDone(()=>{_e.destroy();const we=this.players.indexOf(_e);this.players.splice(we,1)}),_e.play()}),Gt}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,o){let s=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(s=a)}else{const a=this.playersByElement.get(e);if(a){const c=!o||o==K_;a.forEach(l=>{l.queued||!c&&l.triggerName!=r||s.push(l)})}}return(i||r)&&(s=s.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(e,t,i){const o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const c of t.timelines){const l=c.element,d=l!==o,u=ho(i,l,[]);this._getPreviousPlayers(l,d,s,a,t.toState).forEach(m=>{const y=m.getRealPlayer();y.beforeDestroy&&y.beforeDestroy(),m.destroy(),u.push(m)})}Nd(o,t.fromStyles)}_buildAnimation(e,t,i,r,o,s){const a=t.triggerName,c=t.element,l=[],d=new Set,u=new Set,f=t.timelines.map(y=>{const C=y.element;d.add(C);const T=C[es];if(T&&T.removedBeforeQueried)return new B_(y.duration,y.delay);const S=C!==c,D=function WVe(n){const e=[];return YJ(n,e),e}((i.get(C)||BVe).map(Fe=>Fe.getRealPlayer())).filter(Fe=>!!Fe.element&&Fe.element===C),L=o.get(C),Y=s.get(C),re=IJ(this._normalizer,y.keyframes,L,Y),ue=this._buildPlayer(y,re,D);if(y.subTimeline&&r&&u.add(C),S){const Fe=new fL(e,a,C);Fe.setRealPlayer(ue),l.push(Fe)}return ue});l.forEach(y=>{ho(this.playersByQueriedElement,y.element,[]).push(y),y.onDone(()=>function HVe(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,y.element,y))}),d.forEach(y=>So(y,OJ));const m=Jc(f);return m.onDestroy(()=>{d.forEach(y=>Af(y,OJ)),Ys(c,t.toStyles)}),u.forEach(y=>{ho(r,y,[]).push(m)}),m}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new B_(e.duration,e.delay)}}class fL{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new B_,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>GF(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){ho(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function IC(n){return n&&1===n.nodeType}function qJ(n,e){const t=n.style.display;return n.style.display=e??"none",t}function WJ(n,e,t,i,r){const o=[];t.forEach(c=>o.push(qJ(c)));const s=[];i.forEach((c,l)=>{const d=new Map;c.forEach(u=>{const f=e.computeStyle(l,u,r);d.set(u,f),(!f||0==f.length)&&(l[es]=zVe,s.push(l))}),n.set(l,d)});let a=0;return t.forEach(c=>qJ(c,o[a++])),s}function KJ(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const r=new Set(e),o=new Map;function s(a){if(!a)return 1;let c=o.get(a);if(c)return c;const l=a.parentNode;return c=t.has(l)?l:r.has(l)?1:s(l),o.set(a,c),c}return e.forEach(a=>{const c=s(a);1!==c&&t.get(c).push(a)}),t}function So(n,e){n.classList?.add(e)}function Af(n,e){n.classList?.remove(e)}function qVe(n,e,t){Jc(t).onDone(()=>n.processLeaveNode(e))}function YJ(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof MZ?YJ(i.players,e):e.push(i)}}function QJ(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(o=>r.add(o)):e.set(n,i),t.delete(n),!0}class Y_{constructor(e,t,i,r){this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(o,s)=>{},this._transitionEngine=new jVe(e.body,t,i,r),this._timelineEngine=new RVe(e.body,t,i),this._transitionEngine.onRemovalComplete=(o,s)=>this.onRemovalComplete(o,s)}registerTrigger(e,t,i,r,o){const s=e+"-"+r;let a=this._triggerCache[s];if(!a){const c=[],d=rL(this._driver,o,c,[]);if(c.length)throw function L4e(n,e){return new H(3404,!1)}();a=function kVe(n,e,t){return new AVe(n,e,t)}(r,d,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,r,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i){this._transitionEngine.removeNode(e,t,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[o,s]=MJ(i);this._timelineEngine.command(o,t,s,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,o){if("@"==i.charAt(0)){const[s,a]=MJ(i);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,i,r,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}class Q_{static{this.initialStylesByElement=new WeakMap}constructor(e,t,i){this._element=e,this._startStyles=t,this._endStyles=i,this._state=0;let r=Q_.initialStylesByElement.get(e);r||Q_.initialStylesByElement.set(e,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&Ys(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ys(this._element,this._initialStyles),this._endStyles&&(Ys(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(Q_.initialStylesByElement.delete(this._element),this._startStyles&&(Nd(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Nd(this._element,this._endStyles),this._endStyles=null),Ys(this._element,this._initialStyles),this._state=3)}}function pL(n){let e=null;return n.forEach((t,i)=>{(function QVe(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class XJ{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;const t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:iL(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class ZJ{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return SJ(e,t)}getParentElement(e){return KF(e)}query(e,t,i){return kJ(e,t,i)}computeStyle(e,t,i){return iL(e,t)}animate(e,t,i,r,o,s=[]){const c={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(c.easing=o);const l=new Map,d=s.filter(m=>m instanceof XJ);(function aVe(n,e){return 0===n||0===e})(i,r)&&d.forEach(m=>{m.currentSnapshot.forEach((y,C)=>l.set(C,y))});let u=function rVe(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}(t).map(m=>new Map(m));u=function cVe(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((o,s)=>{i.has(s)||r.push(s),i.set(s,o)}),r.length)for(let o=1;o<e.length;o++){let s=e[o];r.forEach(a=>s.set(a,iL(n,a)))}}return e}(e,u,l);const f=function YVe(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=pL(e[0]),e.length>1&&(i=pL(e[e.length-1]))):e instanceof Map&&(t=pL(e)),t||i?new Q_(n,t,i):null}(e,u);return new XJ(e,u,c,f)}}const JJ="@.disabled";class eee{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==JJ?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class XVe extends eee{constructor(e,t,i,r,o){super(t,i,r,o),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==JJ?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function ZVe(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let o=t.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function JVe(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(o)),this.engine.listen(this.namespaceId,r,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(e,t,i)}}class eBe{constructor(e,t,i){this.delegate=e,this.engine=t,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,t.onRemovalComplete=(r,o)=>{const s=o?.parentNode(r);s&&o.removeChild(s,r)}}createRenderer(e,t){const r=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){const l=this._rendererCache;let d=l.get(r);return d||(d=new eee("",r,this.engine,()=>l.delete(r)),l.set(r,d)),d}const o=t.id,s=t.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);const a=l=>{Array.isArray(l)?l.forEach(a):this.engine.registerTrigger(o,s,e,l.name,l)};return t.data.animation.forEach(a),new XVe(this,s,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,i){if(e>=0&&e<this._microtaskId)return void this._zone.run(()=>t(i));const r=this._animationCallbacksBuffer;0==r.length&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),r.push([t,i])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}let tBe=(()=>{class n extends Y_{constructor(t,i,r){super(t,i,r,Z(zE,{optional:!0}))}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(i){return new(i||n)(j(ft),j(QF),j(XF))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac})}}return n})();const tee=[{provide:XF,useFactory:function nBe(){return new NJ}},{provide:Y_,useClass:tBe},{provide:UE,useFactory:function iBe(n,e,t){return new eBe(n,e,t)},deps:[SI,Y_,ke]}],mL=[{provide:QF,useFactory:()=>new ZJ},{provide:os,useValue:"BrowserAnimations"},...tee],nee=[{provide:QF,useClass:YF},{provide:os,useValue:"NoopAnimations"},...tee];let rBe=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?nee:mL}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ot({type:n})}static{this.\u0275inj=tt({providers:mL,imports:[$6]})}}return n})(),uBe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ot({type:n})}static{this.\u0275inj=tt({imports:[Or,ys,QX,Or]})}}return n})();function hBe(n,e){}class gL{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const _L="mdc-dialog--open",iee="mdc-dialog--opening",ree="mdc-dialog--closing";let oee=(()=>{class n extends AF{constructor(t,i,r,o,s,a,c,l,d){super(t,i,r,o,s,a,c,d),this._animationMode=l,this._animationStateChanged=new Xe,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._actionSectionCount=0,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?aee(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?aee(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(see,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(iee,_L)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(_L),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(_L),this._animationsEnabled?(this._hostElement.style.setProperty(see,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(ree)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(t){this._actionSectionCount+=t,this._changeDetectorRef.markForCheck()}_clearAnimationClasses(){this._hostElement.classList.remove(iee,ree)}_waitForAnimationToComplete(t,i){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(i,t)}_requestAnimationFrame(t){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(t):t()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(t){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:t})}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}attachComponentPortal(t){const i=super.attachComponentPortal(t);return i.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),i}static{this.\u0275fac=function(i){return new(i||n)(E(Lt),E(gF),E(ft,8),E(gL),E(Qw),E(ke),E(V_),E(os,8),E(Jw))}}static{this.\u0275cmp=be({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(i,r){2&i&&(k0("id",r._config.id),Jn("aria-modal",r._config.ariaModal)("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),ar("_mat-animation-noopable",!r._animationsEnabled)("mat-mdc-dialog-container-with-actions",r._actionSectionCount>0))},standalone:!0,features:[_t,cr],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(i,r){1&i&&(p(0,"div",0)(1,"div",1),Ot(2,hBe,0,0,"ng-template",2),h()())},dependencies:[nC],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0;transform:scale(0.8)}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--closing .mdc-dialog__surface{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{opacity:1}.mdc-dialog--open .mdc-dialog__surface{transform:none}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{width:100%;height:100%}.mat-mdc-dialog-component-host{display:contents}.mat-mdc-dialog-container{--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition:opacity linear var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container .mdc-dialog__surface{transition:transform var(--mat-dialog-transition-duration, 0ms) 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container,.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__surface{transition:none}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 80vw);min-width:var(--mat-dialog-container-min-width, 0)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, 80vw)}}.mat-mdc-dialog-title{padding:var(--mat-dialog-headline-padding, 0 24px 9px)}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{padding:var(--mat-dialog-actions-padding, 8px);justify-content:var(--mat-dialog-actions-alignment, start)}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2})}}return n})();const see="--mat-dialog-transition-duration";function aee(n){return null==n?null:"number"==typeof n?n:n.endsWith("ms")?XX(n.substring(0,n.length-2)):n.endsWith("s")?1e3*XX(n.substring(0,n.length-1)):"0"===n?0:null}var DC=function(n){return n[n.OPEN=0]="OPEN",n[n.CLOSING=1]="CLOSING",n[n.CLOSED=2]="CLOSED",n}(DC||{});class bL{constructor(e,t,i){this._ref=e,this._containerInstance=i,this._afterOpened=new ht,this._beforeClosed=new ht,this._state=DC.OPEN,this.disableClose=t.disableClose,this.id=e.id,e.addPanelClass("mat-mdc-dialog-panel"),i._animationStateChanged.pipe(un(r=>"opened"===r.state),In(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(un(r=>"closed"===r.state),In(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),L_(this.backdropClick(),this.keydownEvents().pipe(un(r=>27===r.keyCode&&!this.disableClose&&!Kw(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),function cee(n,e,t){return n._closeInteractionType=e,n.close(t)}(this,"keydown"===r.type?"keyboard":"mouse"))})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(un(t=>"closing"===t.state),In(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=DC.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(e){let t=this._ref.config.positionStrategy;return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._ref.updatePosition(),this}updateSize(e="",t=""){return this._ref.updateSize(e,t),this}addPanelClass(e){return this._ref.addPanelClass(e),this}removePanelClass(e){return this._ref.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=DC.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const mBe=new X("MatMdcDialogData"),gBe=new X("mat-mdc-dialog-default-options"),lee=new X("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{const n=Z(Io);return()=>n.scrollStrategies.block()}});let bBe=0,yL=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(t,i,r,o,s,a,c,l){this._overlay=t,this._defaultOptions=o,this._scrollStrategy=s,this._parentDialog=a,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new ht,this._afterOpenedAtThisLevel=new ht,this.dialogConfigClass=gL,this.afterAllClosed=qu(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Iy(void 0))),this._dialog=i.get(ZZ),this._dialogRefConstructor=bL,this._dialogContainerType=oee,this._dialogDataToken=mBe}open(t,i){let r;(i={...this._defaultOptions||new gL,...i}).id=i.id||"mat-mdc-dialog-"+bBe++,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const o=this._dialog.open(t,{...i,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:i},{provide:j_,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(s,a,c)=>(r=new this._dialogRefConstructor(s,i,c),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:c},{provide:this._dialogDataToken,useValue:a.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentRef=o.componentRef,r.componentInstance=o.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const s=this.openDialogs.indexOf(r);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(t){let i=t.length;for(;i--;)t[i].close()}static{this.\u0275fac=function(i){return new(i||n)(j(Io),j(Yt),j(En,8),j(gBe,8),j(lee),j(n,12),j(iC),j(os,8))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const DBe=ni(oF,!0),SBe=ni(sF,!0),kBe=ni(rF,!0),ABe=["determinateSpinner"];function OBe(n,e){if(1&n&&(Wa(),p(0,"svg",11),$(1,"circle",12),h()),2&n){const t=st();Jn("viewBox",t._viewBox()),P(),vl("stroke-dasharray",t._strokeCircumference(),"px")("stroke-dashoffset",t._strokeCircumference()/2,"px")("stroke-width",t._circleStrokeWidth(),"%"),Jn("r",t._circleRadius())}}const PBe=new X("mat-progress-spinner-default-options",{providedIn:"root",factory:function RBe(){return{diameter:pee}}}),pee=100;let FBe=(()=>{class n{get color(){return this._color||this._defaultColor}set color(t){this._color=t}constructor(t,i,r){this._elementRef=t,this._defaultColor="primary",this._value=0,this._diameter=pee,this._noopAnimations="NoopAnimations"===i&&!!r&&!r._forceAnimations,this.mode="mat-spinner"===t.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",r&&(r.color&&(this.color=this._defaultColor=r.color),r.diameter&&(this.diameter=r.diameter),r.strokeWidth&&(this.strokeWidth=r.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(t){this._value=Math.max(0,Math.min(100,t||0))}get diameter(){return this._diameter}set diameter(t){this._diameter=t||0}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(t){this._strokeWidth=t||0}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const t=2*this._circleRadius()+this.strokeWidth;return`0 0 ${t} ${t}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static{this.\u0275fac=function(i){return new(i||n)(E(Lt),E(os,8),E(PBe))}}static{this.\u0275cmp=be({type:n,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(i,r){if(1&i&&zn(ABe,5),2&i){let o;xn(o=wn())&&(r._determinateCircle=o.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:18,hostBindings:function(i,r){2&i&&(Jn("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===r.mode?r.value:null)("mode",r.mode),Sp("mat-"+r.color),vl("width",r.diameter,"px")("height",r.diameter,"px")("--mdc-circular-progress-size",r.diameter+"px")("--mdc-circular-progress-active-indicator-width",r.diameter+"px"),ar("_mat-animation-noopable",r._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===r.mode))},inputs:{color:"color",mode:"mode",value:[Ze.HasDecoratorInputTransform,"value","value",oI],diameter:[Ze.HasDecoratorInputTransform,"diameter","diameter",oI],strokeWidth:[Ze.HasDecoratorInputTransform,"strokeWidth","strokeWidth",oI]},exportAs:["matProgressSpinner"],standalone:!0,features:[y0,cr],decls:14,vars:11,consts:[["circle",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["determinateSpinner",""],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(i,r){if(1&i&&(Ot(0,OBe,2,8,"ng-template",null,0,Qz),p(2,"div",1,2),Wa(),p(4,"svg",3),$(5,"circle",4),h()(),Wd(),p(6,"div",5)(7,"div",6)(8,"div",7),Ap(9,8),h(),p(10,"div",9),Ap(11,8),h(),p(12,"div",10),Ap(13,8),h()()()),2&i){const o=Vt(1);P(4),Jn("viewBox",r._viewBox()),P(),vl("stroke-dasharray",r._strokeCircumference(),"px")("stroke-dashoffset",r._strokeDashOffset(),"px")("stroke-width",r._circleStrokeWidth(),"%"),Jn("r",r._circleRadius()),P(4),Ve("ngTemplateOutlet",o),P(2),Ve("ngTemplateOutlet",o),P(2),Ve("ngTemplateOutlet",o)}},dependencies:[v6],styles:["@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-color-1-fade-in-out{from{opacity:.99}25%{opacity:.99}26%{opacity:0}89%{opacity:0}90%{opacity:.99}to{opacity:.99}}@keyframes mdc-circular-progress-color-2-fade-in-out{from{opacity:0}15%{opacity:0}25%{opacity:.99}50%{opacity:.99}51%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-3-fade-in-out{from{opacity:0}40%{opacity:0}50%{opacity:.99}75%{opacity:.99}76%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-4-fade-in-out{from{opacity:0}65%{opacity:0}75%{opacity:.99}90%{opacity:.99}to{opacity:0}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}.mdc-circular-progress{display:inline-flex;position:relative;direction:ltr;line-height:0;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-1{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-1-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-2{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-2-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-3{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-3-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-4{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-4-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--closed{opacity:0}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-1 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-2 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-3 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-4 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner .mdc-circular-progress{width:var(--mdc-circular-progress-size) !important;height:var(--mdc-circular-progress-size) !important}.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}"],encapsulation:2,changeDetection:0})}}return n})(),LBe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ot({type:n})}static{this.\u0275inj=tt({imports:[ys,Or]})}}return n})();function VBe(n,e){1&n&&$(0,"mat-progress-spinner",7),2&n&&Ve("diameter",50)}let BBe=(()=>{class n{set width(t){this.imageWidth.set(t)}set height(t){this.imageHeight.set(t)}set path(t){this.imagePath.set(t)}fileSelected(t){const i=t.target?.files[0];this.uploadImage(i)}constructor(){this.imageWidth=Ja(0),this.imageHeight=Ja(0),this.imagePath=Ja(""),this.placeholder=U4(()=>`https://placehold.co/${this.imageWidth()}X${this.imageHeight()}`),this.croppedImageURL=Ja(void 0),this.imageSource=U4(()=>this.croppedImageURL()??this.placeholder()),this.uploading=Ja(!1),this.dialog=Z(yL),this.imageReady=new Xe,this.storage=aF(),this.zone=Z(ke),function Q4(n,e){hs("NgSignals"),!e?.injector&&Ab();const t=e?.injector??Z(Yt),i=!0!==e?.manualCleanup?t.get(p0):null,r=new zoe(t.get(Loe),n,typeof Zone>"u"?null:Zone.current,i,t,e?.allowSignalWrites??!1),o=t.get(bu,null,{optional:!0});return o&&8&o._lView[Se]?(o._lView[rb]??=[]).push(r.watcher.notify):r.watcher.notify(),r}(()=>{this.croppedImageURL()&&this.imageReady.emit(this.croppedImageURL())})}uploadImage(t){var i=this;return _(function*(){i.uploading.set(!0);const r=SBe(i.storage,i.imagePath()),o=yield kBe(r,t),s=yield DBe(o.ref);i.croppedImageURL.set(s),i.uploading.set(!1)})()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=be({type:n,selectors:[["app-image-control"]],inputs:{width:"width",height:"height",path:"path"},outputs:{imageReady:"imageReady"},standalone:!0,features:[cr],decls:8,vars:8,consts:[[1,"control-container"],[1,"image-container"],[1,"mat-elevation-z5",3,"src","width","height"],["mode","indeterminate",3,"diameter",4,"ngIf"],["hidden","","type","file",3,"change","click"],["inputField",""],["mat-raised-button","",3,"click"],["mode","indeterminate",3,"diameter"]],template:function(i,r){if(1&i){const o=ct();p(0,"div",0)(1,"div",1),$(2,"img",2),Ot(3,VBe,1,1,"mat-progress-spinner",3),h(),p(4,"input",4,5),F("change",function(a){return r.fileSelected(a)})("click",function(){return ye(o),ve(Vt(5).value="")}),h(),p(6,"button",6),F("click",function(){return ye(o),ve(Vt(5).click())}),g(7," Select Photo "),h()()}2&i&&(vl("width",r.imageWidth()+"px"),P(2),vl("opacity",r.uploading()?.5:1),Ve("src",r.imageSource(),oa)("width",r.imageWidth())("height",r.imageHeight()),P(),Ve("ngIf",r.uploading()))},dependencies:[LBe,FBe],styles:[".control-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;position:relative}.image-container[_ngcontent-%COMP%]{border-radius:5px;position:relative}.image-container[_ngcontent-%COMP%] > mat-progress-spinner[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.image-container[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{border-radius:inherit}"]})}}return n})();const zBe=n=>()=>n.initPwaPrompt();let UBe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ot({type:n,bootstrap:[vke]})}static{this.\u0275inj=tt({providers:[{provide:ac,useClass:o6},{provide:jp,useFactory:zBe,deps:[D5e],multi:!0}],imports:[f5e,EJ,uBe,m4e,EJ,T5e,rBe,ys,Ur,$6,MN,nm,mke,Iwe(()=>Mwe(xke_firebase)),dTe(()=>Ta()),WPe(()=>KPe()),ske(()=>{const t=cke();return ake(t),t}),yRe(()=>vRe()),JLe,w3e,X3e,Ww,P3e.register("ngsw-worker.js",{enabled:!0,registrationStrategy:"registerWhenStable:30000"}),BBe]})}}return n})();_pe().bootstrapModule(UBe).catch(n=>console.error(n))},1874:(Ae,k,V)=>{var _=le(V(3209)),N=le(V(3931)),Q=le(V(9246)),U=le(V(8084)),b=le(V(2042)),w=le(V(1951)),I=le(V(650)),A=V(1498),ee=le(V(5482));function le(rt){return rt&&rt.__esModule?rt:{default:rt}}var fe=function(){},Xt=function(nn,An,qt){var Zt=new fe;if(typeof nn>"u")throw Error("No element to render on was provided.");return Zt._renderProperties=(0,b.default)(nn),Zt._encodings=[],Zt._options=ee.default,Zt._errorHandler=new I.default(Zt),typeof An<"u"&&((qt=qt||{}).format||(qt.format=tl()),Zt.options(qt)[qt.format](An,qt).render()),Zt};for(var br in Xt.getModule=function(rt){return _.default[rt]},_.default)_.default.hasOwnProperty(br)&&Ao(_.default,br);function Ao(rt,nn){fe.prototype[nn]=fe.prototype[nn.toUpperCase()]=fe.prototype[nn.toLowerCase()]=function(An,qt){var Zt=this;return Zt._errorHandler.wrapBarcodeCall(function(){qt.text=typeof qt.text>"u"?void 0:""+qt.text;var zi=(0,N.default)(Zt._options,qt);zi=(0,w.default)(zi);var AC=ja(An,rt[nn],zi);return Zt._encodings.push(AC),Zt})}}function ja(rt,nn,An){var qt=new nn(rt=""+rt,An);if(!qt.valid())throw new A.InvalidInputException(qt.constructor.name,rt);var Zt=qt.encode();Zt=(0,Q.default)(Zt);for(var zi=0;zi<Zt.length;zi++)Zt[zi].options=(0,N.default)(An,Zt[zi].options);return Zt}function tl(){return _.default.CODE128?"CODE128":Object.keys(_.default)[0]}function Xs(rt,nn,An){nn=(0,Q.default)(nn);for(var qt=0;qt<nn.length;qt++)nn[qt].options=(0,N.default)(An,nn[qt].options),(0,U.default)(nn[qt].options);(0,U.default)(An),new(0,rt.renderer)(rt.element,nn,An).render(),rt.afterRender&&rt.afterRender()}fe.prototype.options=function(rt){return this._options=(0,N.default)(this._options,rt),this},fe.prototype.blank=function(rt){var nn=new Array(rt+1).join("0");return this._encodings.push({data:nn}),this},fe.prototype.init=function(){var rt;if(this._renderProperties)for(var nn in Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]),this._renderProperties){var An=(0,N.default)(this._options,(rt=this._renderProperties[nn]).options);"auto"==An.format&&(An.format=tl()),this._errorHandler.wrapBarcodeCall(function(){var zi=ja(An.value,_.default[An.format.toUpperCase()],An);Xs(rt,zi,An)})}},fe.prototype.render=function(){if(!this._renderProperties)throw new A.NoElementException;if(Array.isArray(this._renderProperties))for(var rt=0;rt<this._renderProperties.length;rt++)Xs(this._renderProperties[rt],this._encodings,this._options);else Xs(this._renderProperties,this._encodings,this._options);return this},fe.prototype._defaults=ee.default,typeof window<"u"&&(window.JsBarcode=Xt),typeof jQuery<"u"&&(jQuery.fn.JsBarcode=function(rt,nn){var An=[];return jQuery(this).each(function(){An.push(this)}),Xt(An,rt,nn)}),Ae.exports=Xt},2933:(Ae,k)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.default=function _(G,N){(function V(_,G){if(!(_ instanceof G))throw new TypeError("Cannot call a class as a function")})(this,_),this.data=G,this.text=N.text||G,this.options=N}},3166:(Ae,k,V)=>{Object.defineProperty(k,"__esModule",{value:!0});var q=function(){function b(v,w){for(var x=0;x<w.length;x++){var I=w[x];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(v,I.key,I)}}return function(v,w,x){return w&&b(v.prototype,w),x&&b(v,x),v}}(),G=function W(b){return b&&b.__esModule?b:{default:b}}(V(2933)),N=V(9973),M=function(b){function v(w,x){!function Q(b,v){if(!(b instanceof v))throw new TypeError("Cannot call a class as a function")}(this,v);var I=function R(b,v){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||"object"!=typeof v&&"function"!=typeof v?b:v}(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,w.substring(1),x));return I.bytes=w.split("").map(function(A){return A.charCodeAt(0)}),I}return function U(b,v){if("function"!=typeof v&&null!==v)throw new TypeError("Super expression must either be null or a function, not "+typeof v);b.prototype=Object.create(v&&v.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(b,v):b.__proto__=v)}(v,b),q(v,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var x=this.bytes,I=x.shift()-105,A=N.SET_BY_CODE[I];if(void 0===A)throw new RangeError("The encoding does not start with a start character.");!0===this.shouldEncodeAsEan128()&&x.unshift(N.FNC1);var O=v.next(x,1,A);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:v.getBar(I)+O.result+v.getBar((O.checksum+I)%N.MODULO)+v.getBar(N.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var x=this.options.ean128||!1;return"string"==typeof x&&(x="true"===x.toLowerCase()),x}}],[{key:"getBar",value:function(x){return N.BARS[x]?N.BARS[x].toString():""}},{key:"correctIndex",value:function(x,I){if(I===N.SET_A){var A=x.shift();return A<32?A+64:A-32}return I===N.SET_B?x.shift()-32:10*(x.shift()-48)+x.shift()-48}},{key:"next",value:function(x,I,A){if(!x.length)return{result:"",checksum:0};var O=void 0,ee=void 0;if(x[0]>=200){ee=x.shift()-105;var le=N.SWAP[ee];void 0!==le?O=v.next(x,I+1,le):((A===N.SET_A||A===N.SET_B)&&ee===N.SHIFT&&(x[0]=A===N.SET_A?x[0]>95?x[0]-96:x[0]:x[0]<32?x[0]+96:x[0]),O=v.next(x,I+1,A))}else ee=v.correctIndex(x,A),O=v.next(x,I+1,A);return{result:v.getBar(ee)+O.result,checksum:ee*I+O.checksum}}}]),v}(G.default);k.default=M},4675:(Ae,k,V)=>{Object.defineProperty(k,"__esModule",{value:!0});var q=function(){function b(v,w){for(var x=0;x<w.length;x++){var I=w[x];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(v,I.key,I)}}return function(v,w,x){return w&&b(v.prototype,w),x&&b(v,x),v}}(),G=function W(b){return b&&b.__esModule?b:{default:b}}(V(3166)),N=V(9973),M=function(b){function v(w,x){return function Q(b,v){if(!(b instanceof v))throw new TypeError("Cannot call a class as a function")}(this,v),function R(b,v){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||"object"!=typeof v&&"function"!=typeof v?b:v}(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,N.A_START_CHAR+w,x))}return function U(b,v){if("function"!=typeof v&&null!==v)throw new TypeError("Super expression must either be null or a function, not "+typeof v);b.prototype=Object.create(v&&v.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(b,v):b.__proto__=v)}(v,b),q(v,[{key:"valid",value:function(){return new RegExp("^"+N.A_CHARS+"+$").test(this.data)}}]),v}(G.default);k.default=M},4502:(Ae,k,V)=>{Object.defineProperty(k,"__esModule",{value:!0});var q=function(){function b(v,w){for(var x=0;x<w.length;x++){var I=w[x];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(v,I.key,I)}}return function(v,w,x){return w&&b(v.prototype,w),x&&b(v,x),v}}(),G=function W(b){return b&&b.__esModule?b:{default:b}}(V(3166)),N=V(9973),M=function(b){function v(w,x){return function Q(b,v){if(!(b instanceof v))throw new TypeError("Cannot call a class as a function")}(this,v),function R(b,v){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||"object"!=typeof v&&"function"!=typeof v?b:v}(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,N.B_START_CHAR+w,x))}return function U(b,v){if("function"!=typeof v&&null!==v)throw new TypeError("Super expression must either be null or a function, not "+typeof v);b.prototype=Object.create(v&&v.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(b,v):b.__proto__=v)}(v,b),q(v,[{key:"valid",value:function(){return new RegExp("^"+N.B_CHARS+"+$").test(this.data)}}]),v}(G.default);k.default=M},2693:(Ae,k,V)=>{Object.defineProperty(k,"__esModule",{value:!0});var q=function(){function b(v,w){for(var x=0;x<w.length;x++){var I=w[x];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(v,I.key,I)}}return function(v,w,x){return w&&b(v.prototype,w),x&&b(v,x),v}}(),G=function W(b){return b&&b.__esModule?b:{default:b}}(V(3166)),N=V(9973),M=function(b){function v(w,x){return function Q(b,v){if(!(b instanceof v))throw new TypeError("Cannot call a class as a function")}(this,v),function R(b,v){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||"object"!=typeof v&&"function"!=typeof v?b:v}(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,N.C_START_CHAR+w,x))}return function U(b,v){if("function"!=typeof v&&null!==v)throw new TypeError("Super expression must either be null or a function, not "+typeof v);b.prototype=Object.create(v&&v.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(b,v):b.__proto__=v)}(v,b),q(v,[{key:"valid",value:function(){return new RegExp("^"+N.C_CHARS+"+$").test(this.data)}}]),v}(G.default);k.default=M},714:(Ae,k,V)=>{Object.defineProperty(k,"__esModule",{value:!0});var _=W(V(3166)),N=W(V(5113));function W(b){return b&&b.__esModule?b:{default:b}}function R(b,v){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||"object"!=typeof v&&"function"!=typeof v?b:v}var M=function(b){function v(w,x){if(function Q(b,v){if(!(b instanceof v))throw new TypeError("Cannot call a class as a function")}(this,v),/^[\x00-\x7F\xC8-\xD3]+$/.test(w))var I=R(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,(0,N.default)(w),x));else I=R(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,w,x));return R(I)}return function U(b,v){if("function"!=typeof v&&null!==v)throw new TypeError("Super expression must either be null or a function, not "+typeof v);b.prototype=Object.create(v&&v.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(b,v):b.__proto__=v)}(v,b),v}(_.default);k.default=M},5113:(Ae,k,V)=>{Object.defineProperty(k,"__esModule",{value:!0});var q=V(9973),_=function(U){return U.match(new RegExp("^"+q.A_CHARS+"*"))[0].length},G=function(U){return U.match(new RegExp("^"+q.B_CHARS+"*"))[0].length},N=function(U){return U.match(new RegExp("^"+q.C_CHARS+"*"))[0]};function W(R,U){var M=U?q.A_CHARS:q.B_CHARS,b=R.match(new RegExp("^("+M+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(b)return b[1]+"\xcc"+Q(R.substring(b[1].length));var v=R.match(new RegExp("^"+M+"+"))[0];return v.length===R.length?R:v+String.fromCharCode(U?205:206)+W(R.substring(v.length),!U)}function Q(R){var U=N(R),M=U.length;if(M===R.length)return R;R=R.substring(M);var b=_(R)>=G(R);return U+String.fromCharCode(b?206:205)+W(R,b)}k.default=function(R){var U=void 0;if(N(R).length>=2)U=q.C_START_CHAR+Q(R);else{var b=_(R)>G(R);U=(b?q.A_START_CHAR:q.B_START_CHAR)+W(R,b)}return U.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,function(v,w){return"\xcb"+w})}},9973:(Ae,k)=>{var V;function q(br,Ao,ja){return Ao in br?Object.defineProperty(br,Ao,{value:ja,enumerable:!0,configurable:!0,writable:!0}):br[Ao]=ja,br}Object.defineProperty(k,"__esModule",{value:!0});var _=k.SET_A=0,G=k.SET_B=1,N=k.SET_C=2,Q=(k.SHIFT=98,k.START_A=103),R=k.START_B=104,U=k.START_C=105;k.MODULO=103,k.STOP=106,k.FNC1=207,k.SET_BY_CODE=(q(V={},Q,_),q(V,R,G),q(V,U,N),V),k.SWAP={101:_,100:G,99:N},k.A_START_CHAR="\xd0",k.B_START_CHAR="\xd1",k.C_START_CHAR="\xd2",k.A_CHARS="[\0-_\xc8-\xcf]",k.B_CHARS="[ -\x7f\xc8-\xcf]",k.C_CHARS="(\xcf*[0-9]{2}\xcf*)",k.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011]},9152:(Ae,k,V)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.CODE128C=k.CODE128B=k.CODE128A=k.CODE128=void 0;var _=M(V(714)),N=M(V(4675)),Q=M(V(4502)),U=M(V(2693));function M(b){return b&&b.__esModule?b:{default:b}}k.CODE128=_.default,k.CODE128A=N.default,k.CODE128B=Q.default,k.CODE128C=U.default},3803:(Ae,k,V)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.CODE39=void 0;var q=function(){function O(ee,le){for(var fe=0;fe<le.length;fe++){var Xt=le[fe];Xt.enumerable=Xt.enumerable||!1,Xt.configurable=!0,"value"in Xt&&(Xt.writable=!0),Object.defineProperty(ee,Xt.key,Xt)}}return function(ee,le,fe){return le&&O(ee.prototype,le),fe&&O(ee,fe),ee}}(),U=function(O){function ee(le,fe){return function W(O,ee){if(!(O instanceof ee))throw new TypeError("Cannot call a class as a function")}(this,ee),le=le.toUpperCase(),fe.mod43&&(le+=function x(O){return M[O]}(function A(O){for(var ee=0,le=0;le<O.length;le++)ee+=I(O[le]);return ee%=43}(le))),function Q(O,ee){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!ee||"object"!=typeof ee&&"function"!=typeof ee?O:ee}(this,(ee.__proto__||Object.getPrototypeOf(ee)).call(this,le,fe))}return function R(O,ee){if("function"!=typeof ee&&null!==ee)throw new TypeError("Super expression must either be null or a function, not "+typeof ee);O.prototype=Object.create(ee&&ee.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),ee&&(Object.setPrototypeOf?Object.setPrototypeOf(O,ee):O.__proto__=ee)}(ee,O),q(ee,[{key:"encode",value:function(){for(var fe=v("*"),Xt=0;Xt<this.data.length;Xt++)fe+=v(this.data[Xt])+"0";return{data:fe+=v("*"),text:this.text}}},{key:"valid",value:function(){return-1!==this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)}}]),ee}(function N(O){return O&&O.__esModule?O:{default:O}}(V(2933)).default),M=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],b=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function v(O){return function w(O){return b[O].toString(2)}(I(O))}function I(O){return M.indexOf(O)}k.CODE39=U},7331:(Ae,k,V)=>{Object.defineProperty(k,"__esModule",{value:!0});var q=function(){function w(x,I){for(var A=0;A<I.length;A++){var O=I[A];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(x,O.key,O)}}return function(x,I,A){return I&&w(x.prototype,I),A&&w(x,A),x}}(),_=V(2846),N=R(V(2143));function R(w){return w&&w.__esModule?w:{default:w}}var v=function(w){function x(I,A){!function U(w,x){if(!(w instanceof x))throw new TypeError("Cannot call a class as a function")}(this,x);var O=function M(w,x){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!x||"object"!=typeof x&&"function"!=typeof x?w:x}(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,I,A));return O.fontSize=!A.flat&&A.fontSize>10*A.width?10*A.width:A.fontSize,O.guardHeight=A.height+O.fontSize/2+A.textMargin,O}return function b(w,x){if("function"!=typeof x&&null!==x)throw new TypeError("Super expression must either be null or a function, not "+typeof x);w.prototype=Object.create(x&&x.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(w,x):w.__proto__=x)}(x,w),q(x,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(A,O){return this.text.substr(A,O)}},{key:"leftEncode",value:function(A,O){return(0,N.default)(A,O)}},{key:"rightText",value:function(A,O){return this.text.substr(A,O)}},{key:"rightEncode",value:function(A,O){return(0,N.default)(A,O)}},{key:"encodeGuarded",value:function(){var A={fontSize:this.fontSize},O={height:this.guardHeight};return[{data:_.SIDE_BIN,options:O},{data:this.leftEncode(),text:this.leftText(),options:A},{data:_.MIDDLE_BIN,options:O},{data:this.rightEncode(),text:this.rightText(),options:A},{data:_.SIDE_BIN,options:O}]}},{key:"encodeFlat",value:function(){return{data:[_.SIDE_BIN,this.leftEncode(),_.MIDDLE_BIN,this.rightEncode(),_.SIDE_BIN].join(""),text:this.text}}}]),x}(R(V(2933)).default);k.default=v},7779:(Ae,k,V)=>{Object.defineProperty(k,"__esModule",{value:!0});var q=function(){function w(x,I){for(var A=0;A<I.length;A++){var O=I[A];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(x,O.key,O)}}return function(x,I,A){return I&&w(x.prototype,I),A&&w(x,A),x}}(),_=function w(x,I,A){null===x&&(x=Function.prototype);var O=Object.getOwnPropertyDescriptor(x,I);if(void 0===O){var ee=Object.getPrototypeOf(x);return null===ee?void 0:w(ee,I,A)}if("value"in O)return O.value;var le=O.get;return void 0===le?void 0:le.call(A)},G=V(2846),W=function Q(w){return w&&w.__esModule?w:{default:w}}(V(7331)),b=function(x){return(10-x.substr(0,12).split("").map(function(A){return+A}).reduce(function(A,O,ee){return ee%2?A+3*O:A+O},0)%10)%10},v=function(w){function x(I,A){(function R(w,x){if(!(w instanceof x))throw new TypeError("Cannot call a class as a function")})(this,x),-1!==I.search(/^[0-9]{12}$/)&&(I+=b(I));var O=function U(w,x){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!x||"object"!=typeof x&&"function"!=typeof x?w:x}(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,I,A));return O.lastChar=A.lastChar,O}return function M(w,x){if("function"!=typeof x&&null!==x)throw new TypeError("Super expression must either be null or a function, not "+typeof x);w.prototype=Object.create(x&&x.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(w,x):w.__proto__=x)}(x,w),q(x,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{13}$/)&&+this.data[12]===b(this.data)}},{key:"leftText",value:function(){return _(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var A=this.data.substr(1,6),O=G.EAN13_STRUCTURE[this.data[0]];return _(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"leftEncode",this).call(this,A,O)}},{key:"rightText",value:function(){return _(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var A=this.data.substr(7,6);return _(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"rightEncode",this).call(this,A,"RRRRRR")}},{key:"encodeGuarded",value:function(){var A=_(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(A.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(A.push({data:"00"}),A.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),A}}]),x}(W.default);k.default=v},197:(Ae,k,V)=>{Object.defineProperty(k,"__esModule",{value:!0});var q=function(){function w(x,I){for(var A=0;A<I.length;A++){var O=I[A];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(x,O.key,O)}}return function(x,I,A){return I&&w(x.prototype,I),A&&w(x,A),x}}(),_=V(2846),N=R(V(2143));function R(w){return w&&w.__esModule?w:{default:w}}var v=function(w){function x(I,A){return function U(w,x){if(!(w instanceof x))throw new TypeError("Cannot call a class as a function")}(this,x),function M(w,x){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!x||"object"!=typeof x&&"function"!=typeof x?w:x}(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,I,A))}return function b(w,x){if("function"!=typeof x&&null!==x)throw new TypeError("Super expression must either be null or a function, not "+typeof x);w.prototype=Object.create(x&&x.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(w,x):w.__proto__=x)}(x,w),q(x,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{2}$/)}},{key:"encode",value:function(){var A=_.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,N.default)(this.data,A,"01"),text:this.text}}}]),x}(R(V(2933)).default);k.default=v},6400:(Ae,k,V)=>{Object.defineProperty(k,"__esModule",{value:!0});var q=function(){function x(I,A){for(var O=0;O<A.length;O++){var ee=A[O];ee.enumerable=ee.enumerable||!1,ee.configurable=!0,"value"in ee&&(ee.writable=!0),Object.defineProperty(I,ee.key,ee)}}return function(I,A,O){return A&&x(I.prototype,A),O&&x(I,O),I}}(),_=V(2846),N=R(V(2143));function R(x){return x&&x.__esModule?x:{default:x}}var w=function(x){function I(A,O){return function U(x,I){if(!(x instanceof I))throw new TypeError("Cannot call a class as a function")}(this,I),function M(x,I){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!I||"object"!=typeof I&&"function"!=typeof I?x:I}(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,A,O))}return function b(x,I){if("function"!=typeof I&&null!==I)throw new TypeError("Super expression must either be null or a function, not "+typeof I);x.prototype=Object.create(I&&I.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(x,I):x.__proto__=I)}(I,x),q(I,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{5}$/)}},{key:"encode",value:function(){var O=_.EAN5_STRUCTURE[function(I){return I.split("").map(function(O){return+O}).reduce(function(O,ee,le){return le%2?O+9*ee:O+3*ee},0)%10}(this.data)];return{data:"1011"+(0,N.default)(this.data,O,"01"),text:this.text}}}]),I}(R(V(2933)).default);k.default=w},2587:(Ae,k,V)=>{Object.defineProperty(k,"__esModule",{value:!0});var q=function(){function v(w,x){for(var I=0;I<x.length;I++){var A=x[I];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(w,A.key,A)}}return function(w,x,I){return x&&v(w.prototype,x),I&&v(w,I),w}}(),_=function v(w,x,I){null===w&&(w=Function.prototype);var A=Object.getOwnPropertyDescriptor(w,x);if(void 0===A){var O=Object.getPrototypeOf(w);return null===O?void 0:v(O,x,I)}if("value"in A)return A.value;var ee=A.get;return void 0===ee?void 0:ee.call(I)},N=function W(v){return v&&v.__esModule?v:{default:v}}(V(7331)),M=function(w){return(10-w.substr(0,7).split("").map(function(I){return+I}).reduce(function(I,A,O){return O%2?I+A:I+3*A},0)%10)%10},b=function(v){function w(x,I){return function Q(v,w){if(!(v instanceof w))throw new TypeError("Cannot call a class as a function")}(this,w),-1!==x.search(/^[0-9]{7}$/)&&(x+=M(x)),function R(v,w){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!w||"object"!=typeof w&&"function"!=typeof w?v:w}(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,x,I))}return function U(v,w){if("function"!=typeof w&&null!==w)throw new TypeError("Super expression must either be null or a function, not "+typeof w);v.prototype=Object.create(w&&w.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(v,w):v.__proto__=w)}(w,v),q(w,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{8}$/)&&+this.data[7]===M(this.data)}},{key:"leftText",value:function(){return _(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var I=this.data.substr(0,4);return _(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"leftEncode",this).call(this,I,"LLLL")}},{key:"rightText",value:function(){return _(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var I=this.data.substr(4,4);return _(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"rightEncode",this).call(this,I,"RRRR")}}]),w}(N.default);k.default=b},1541:(Ae,k,V)=>{Object.defineProperty(k,"__esModule",{value:!0});var q=function(){function w(x,I){for(var A=0;A<I.length;A++){var O=I[A];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(x,O.key,O)}}return function(x,I,A){return I&&w(x.prototype,I),A&&w(x,A),x}}();k.checksum=v;var G=Q(V(2143));function Q(w){return w&&w.__esModule?w:{default:w}}var b=function(w){function x(I,A){(function R(w,x){if(!(w instanceof x))throw new TypeError("Cannot call a class as a function")})(this,x),-1!==I.search(/^[0-9]{11}$/)&&(I+=v(I));var O=function U(w,x){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!x||"object"!=typeof x&&"function"!=typeof x?w:x}(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,I,A));return O.displayValue=A.displayValue,O.fontSize=A.fontSize>10*A.width?10*A.width:A.fontSize,O.guardHeight=A.height+O.fontSize/2+A.textMargin,O}return function M(w,x){if("function"!=typeof x&&null!==x)throw new TypeError("Super expression must either be null or a function, not "+typeof x);w.prototype=Object.create(x&&x.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(w,x):w.__proto__=x)}(x,w),q(x,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{12}$/)&&this.data[11]==v(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var A="";return A+="101",A+=(0,G.default)(this.data.substr(0,6),"LLLLLL"),A+="01010",A+=(0,G.default)(this.data.substr(6,6),"RRRRRR"),{data:A+="101",text:this.text}}},{key:"guardedEncoding",value:function(){var A=[];return this.displayValue&&A.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),A.push({data:"101"+(0,G.default)(this.data[0],"L"),options:{height:this.guardHeight}}),A.push({data:(0,G.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),A.push({data:"01010",options:{height:this.guardHeight}}),A.push({data:(0,G.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),A.push({data:(0,G.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&A.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),A}}]),x}(Q(V(2933)).default);function v(w){var I,x=0;for(I=1;I<11;I+=2)x+=parseInt(w[I]);for(I=0;I<11;I+=2)x+=3*parseInt(w[I]);return(10-x%10)%10}k.default=b},7638:(Ae,k,V)=>{Object.defineProperty(k,"__esModule",{value:!0});var q=function(){function A(O,ee){for(var le=0;le<ee.length;le++){var fe=ee[le];fe.enumerable=fe.enumerable||!1,fe.configurable=!0,"value"in fe&&(fe.writable=!0),Object.defineProperty(O,fe.key,fe)}}return function(O,ee,le){return ee&&A(O.prototype,ee),le&&A(O,le),O}}(),G=R(V(2143)),W=R(V(2933)),Q=V(1541);function R(A){return A&&A.__esModule?A:{default:A}}function M(A,O){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!O||"object"!=typeof O&&"function"!=typeof O?A:O}var v=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],w=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],x=function(A){function O(ee,le){!function U(A,O){if(!(A instanceof O))throw new TypeError("Cannot call a class as a function")}(this,O);var fe=M(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,ee,le));if(fe.isValid=!1,-1!==ee.search(/^[0-9]{6}$/))fe.middleDigits=ee,fe.upcA=I(ee,"0"),fe.text=le.text||""+fe.upcA[0]+ee+fe.upcA[fe.upcA.length-1],fe.isValid=!0;else{if(-1===ee.search(/^[01][0-9]{7}$/))return M(fe);if(fe.middleDigits=ee.substring(1,ee.length-1),fe.upcA=I(fe.middleDigits,ee[0]),fe.upcA[fe.upcA.length-1]!==ee[ee.length-1])return M(fe);fe.isValid=!0}return fe.displayValue=le.displayValue,fe.fontSize=le.fontSize>10*le.width?10*le.width:le.fontSize,fe.guardHeight=le.height+fe.fontSize/2+le.textMargin,fe}return function b(A,O){if("function"!=typeof O&&null!==O)throw new TypeError("Super expression must either be null or a function, not "+typeof O);A.prototype=Object.create(O&&O.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(A,O):A.__proto__=O)}(O,A),q(O,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var le="";return le+="101",le+=this.encodeMiddleDigits(),{data:le+="010101",text:this.text}}},{key:"guardedEncoding",value:function(){var le=[];return this.displayValue&&le.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),le.push({data:"101",options:{height:this.guardHeight}}),le.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),le.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&le.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),le}},{key:"encodeMiddleDigits",value:function(){var le=this.upcA[0],Xt=w[parseInt(this.upcA[this.upcA.length-1])][parseInt(le)];return(0,G.default)(this.middleDigits,Xt)}}]),O}(W.default);function I(A,O){for(var ee=parseInt(A[A.length-1]),le=v[ee],fe="",Xt=0,br=0;br<le.length;br++){var Ao=le[br];fe+="X"===Ao?A[Xt++]:Ao}return(fe=""+O+fe)+(0,Q.checksum)(fe)}k.default=x},2846:(Ae,k)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.SIDE_BIN="101",k.MIDDLE_BIN="01010",k.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]},k.EAN2_STRUCTURE=["LL","LG","GL","GG"],k.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"],k.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"]},2143:(Ae,k,V)=>{Object.defineProperty(k,"__esModule",{value:!0});var q=V(2846);k.default=function(N,W,Q){var R=N.split("").map(function(M,b){return q.BINARIES[W[b]]}).map(function(M,b){return M?M[N[b]]:""});if(Q){var U=N.length-1;R=R.map(function(M,b){return b<U?M+Q:M})}return R.join("")}},9995:(Ae,k,V)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.UPCE=k.UPC=k.EAN2=k.EAN5=k.EAN8=k.EAN13=void 0;var _=x(V(7779)),N=x(V(2587)),Q=x(V(6400)),U=x(V(197)),b=x(V(1541)),w=x(V(7638));function x(I){return I&&I.__esModule?I:{default:I}}k.EAN13=_.default,k.EAN8=N.default,k.EAN5=Q.default,k.EAN2=U.default,k.UPC=b.default,k.UPCE=w.default},9257:(Ae,k,V)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.GenericBarcode=void 0;var q=function(){function M(b,v){for(var w=0;w<v.length;w++){var x=v[w];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(b,x.key,x)}}return function(b,v,w){return v&&M(b.prototype,v),w&&M(b,w),b}}(),U=function(M){function b(v,w){return function W(M,b){if(!(M instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b),function Q(M,b){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?M:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,v,w))}return function R(M,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);M.prototype=Object.create(b&&b.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(M,b):M.__proto__=b)}(b,M),q(b,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),b}(function N(M){return M&&M.__esModule?M:{default:M}}(V(2933)).default);k.GenericBarcode=U},3534:(Ae,k,V)=>{Object.defineProperty(k,"__esModule",{value:!0});var q=function(){function b(v,w){for(var x=0;x<w.length;x++){var I=w[x];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(v,I.key,I)}}return function(v,w,x){return w&&b(v.prototype,w),x&&b(v,x),v}}(),_=V(2218),M=function(b){function v(){return function Q(b,v){if(!(b instanceof v))throw new TypeError("Cannot call a class as a function")}(this,v),function R(b,v){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||"object"!=typeof v&&"function"!=typeof v?b:v}(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return function U(b,v){if("function"!=typeof v&&null!==v)throw new TypeError("Super expression must either be null or a function, not "+typeof v);b.prototype=Object.create(v&&v.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(b,v):b.__proto__=v)}(v,b),q(v,[{key:"valid",value:function(){return-1!==this.data.search(/^([0-9]{2})+$/)}},{key:"encode",value:function(){var x=this,I=this.data.match(/.{2}/g).map(function(A){return x.encodePair(A)}).join("");return{data:_.START_BIN+I+_.END_BIN,text:this.text}}},{key:"encodePair",value:function(x){var I=_.BINARIES[x[1]];return _.BINARIES[x[0]].split("").map(function(A,O){return("1"===A?"111":"1")+("1"===I[O]?"000":"0")}).join("")}}]),v}(function W(b){return b&&b.__esModule?b:{default:b}}(V(2933)).default);k.default=M},6023:(Ae,k,V)=>{Object.defineProperty(k,"__esModule",{value:!0});var q=function(){function b(v,w){for(var x=0;x<w.length;x++){var I=w[x];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(v,I.key,I)}}return function(v,w,x){return w&&b(v.prototype,w),x&&b(v,x),v}}(),G=function N(b){return b&&b.__esModule?b:{default:b}}(V(3534)),U=function(v){var w=v.substr(0,13).split("").map(function(x){return parseInt(x,10)}).reduce(function(x,I,A){return x+I*(3-A%2*2)},0);return 10*Math.ceil(w/10)-w},M=function(b){function v(w,x){return function W(b,v){if(!(b instanceof v))throw new TypeError("Cannot call a class as a function")}(this,v),-1!==w.search(/^[0-9]{13}$/)&&(w+=U(w)),function Q(b,v){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||"object"!=typeof v&&"function"!=typeof v?b:v}(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,w,x))}return function R(b,v){if("function"!=typeof v&&null!==v)throw new TypeError("Super expression must either be null or a function, not "+typeof v);b.prototype=Object.create(v&&v.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(b,v):b.__proto__=v)}(v,b),q(v,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{14}$/)&&+this.data[13]===U(this.data)}}]),v}(G.default);k.default=M},2218:(Ae,k)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.START_BIN="1010",k.END_BIN="11101",k.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"]},9319:(Ae,k,V)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.ITF14=k.ITF=void 0;var _=W(V(3534)),N=W(V(6023));function W(Q){return Q&&Q.__esModule?Q:{default:Q}}k.ITF=_.default,k.ITF14=N.default},8778:(Ae,k,V)=>{Object.defineProperty(k,"__esModule",{value:!0});var q=function(){function b(v,w){for(var x=0;x<w.length;x++){var I=w[x];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(v,I.key,I)}}return function(v,w,x){return w&&b(v.prototype,w),x&&b(v,x),v}}(),U=function(b){function v(w,x){return function W(b,v){if(!(b instanceof v))throw new TypeError("Cannot call a class as a function")}(this,v),function Q(b,v){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||"object"!=typeof v&&"function"!=typeof v?b:v}(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,w,x))}return function R(b,v){if("function"!=typeof v&&null!==v)throw new TypeError("Super expression must either be null or a function, not "+typeof v);b.prototype=Object.create(v&&v.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(b,v):b.__proto__=v)}(v,b),q(v,[{key:"encode",value:function(){for(var x="110",I=0;I<this.data.length;I++){var O=parseInt(this.data[I]).toString(2);O=M(O,4-O.length);for(var ee=0;ee<O.length;ee++)x+="0"==O[ee]?"100":"110"}return{data:x+="1001",text:this.text}}},{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]+$/)}}]),v}(function N(b){return b&&b.__esModule?b:{default:b}}(V(2933)).default);function M(b,v){for(var w=0;w<v;w++)b="0"+b;return b}k.default=U},3167:(Ae,k,V)=>{Object.defineProperty(k,"__esModule",{value:!0});var _=function N(M){return M&&M.__esModule?M:{default:M}}(V(8778)),G=V(2821),U=function(M){function b(v,w){return function W(M,b){if(!(M instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b),function Q(M,b){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?M:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,v+(0,G.mod10)(v),w))}return function R(M,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);M.prototype=Object.create(b&&b.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(M,b):M.__proto__=b)}(b,M),b}(_.default);k.default=U},1522:(Ae,k,V)=>{Object.defineProperty(k,"__esModule",{value:!0});var _=function N(M){return M&&M.__esModule?M:{default:M}}(V(8778)),G=V(2821),U=function(M){function b(v,w){return function W(M,b){if(!(M instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b),v+=(0,G.mod10)(v),v+=(0,G.mod10)(v),function Q(M,b){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?M:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,v,w))}return function R(M,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);M.prototype=Object.create(b&&b.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(M,b):M.__proto__=b)}(b,M),b}(_.default);k.default=U},8552:(Ae,k,V)=>{Object.defineProperty(k,"__esModule",{value:!0});var _=function N(M){return M&&M.__esModule?M:{default:M}}(V(8778)),G=V(2821),U=function(M){function b(v,w){return function W(M,b){if(!(M instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b),function Q(M,b){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?M:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,v+(0,G.mod11)(v),w))}return function R(M,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);M.prototype=Object.create(b&&b.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(M,b):M.__proto__=b)}(b,M),b}(_.default);k.default=U},677:(Ae,k,V)=>{Object.defineProperty(k,"__esModule",{value:!0});var _=function N(M){return M&&M.__esModule?M:{default:M}}(V(8778)),G=V(2821),U=function(M){function b(v,w){return function W(M,b){if(!(M instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b),v+=(0,G.mod11)(v),v+=(0,G.mod10)(v),function Q(M,b){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?M:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,v,w))}return function R(M,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);M.prototype=Object.create(b&&b.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(M,b):M.__proto__=b)}(b,M),b}(_.default);k.default=U},2821:(Ae,k)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.mod10=function V(_){for(var G=0,N=0;N<_.length;N++){var W=parseInt(_[N]);G+=(N+_.length)%2==0?W:2*W%10+Math.floor(2*W/10)}return(10-G%10)%10},k.mod11=function q(_){for(var G=0,N=[2,3,4,5,6,7],W=0;W<_.length;W++){var Q=parseInt(_[_.length-1-W]);G+=N[W%N.length]*Q}return(11-G%11)%11}},3641:(Ae,k,V)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.MSI1110=k.MSI1010=k.MSI11=k.MSI10=k.MSI=void 0;var _=v(V(8778)),N=v(V(3167)),Q=v(V(8552)),U=v(V(1522)),b=v(V(677));function v(w){return w&&w.__esModule?w:{default:w}}k.MSI=_.default,k.MSI10=N.default,k.MSI11=Q.default,k.MSI1010=U.default,k.MSI1110=b.default},9468:(Ae,k,V)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.codabar=void 0;var q=function(){function M(b,v){for(var w=0;w<v.length;w++){var x=v[w];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(b,x.key,x)}}return function(b,v,w){return v&&M(b.prototype,v),w&&M(b,w),b}}(),U=function(M){function b(v,w){(function W(M,b){if(!(M instanceof b))throw new TypeError("Cannot call a class as a function")})(this,b),0===v.search(/^[0-9\-\$\:\.\+\/]+$/)&&(v="A"+v+"A");var x=function Q(M,b){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?M:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,v.toUpperCase(),w));return x.text=x.options.text||x.text.replace(/[A-D]/g,""),x}return function R(M,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);M.prototype=Object.create(b&&b.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(M,b):M.__proto__=b)}(b,M),q(b,[{key:"valid",value:function(){return-1!==this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)}},{key:"encode",value:function(){for(var w=[],x=this.getEncodings(),I=0;I<this.data.length;I++)w.push(x[this.data.charAt(I)]),I!==this.data.length-1&&w.push("0");return{text:this.text,data:w.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"1011011011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),b}(function N(M){return M&&M.__esModule?M:{default:M}}(V(2933)).default);k.codabar=U},3209:(Ae,k,V)=>{Object.defineProperty(k,"__esModule",{value:!0});var q=V(3803),_=V(9152),G=V(9995),N=V(9319),W=V(3641),Q=V(4322),R=V(9468),U=V(9257);k.default={CODE39:q.CODE39,CODE128:_.CODE128,CODE128A:_.CODE128A,CODE128B:_.CODE128B,CODE128C:_.CODE128C,EAN13:G.EAN13,EAN8:G.EAN8,EAN5:G.EAN5,EAN2:G.EAN2,UPC:G.UPC,UPCE:G.UPCE,ITF14:N.ITF14,ITF:N.ITF,MSI:W.MSI,MSI10:W.MSI10,MSI11:W.MSI11,MSI1010:W.MSI1010,MSI1110:W.MSI1110,pharmacode:Q.pharmacode,codabar:R.codabar,GenericBarcode:U.GenericBarcode}},4322:(Ae,k,V)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.pharmacode=void 0;var q=function(){function M(b,v){for(var w=0;w<v.length;w++){var x=v[w];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(b,x.key,x)}}return function(b,v,w){return v&&M(b.prototype,v),w&&M(b,w),b}}(),U=function(M){function b(v,w){!function W(M,b){if(!(M instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var x=function Q(M,b){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?M:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,v,w));return x.number=parseInt(v,10),x}return function R(M,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);M.prototype=Object.create(b&&b.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(M,b):M.__proto__=b)}(b,M),q(b,[{key:"encode",value:function(){for(var w=this.number,x="";!isNaN(w)&&0!=w;)w%2==0?(x="11100"+x,w=(w-2)/2):(x="100"+x,w=(w-1)/2);return{data:x=x.slice(0,-2),text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),b}(function N(M){return M&&M.__esModule?M:{default:M}}(V(2933)).default);k.pharmacode=U},650:(Ae,k)=>{Object.defineProperty(k,"__esModule",{value:!0});var V=function(){function G(N,W){for(var Q=0;Q<W.length;Q++){var R=W[Q];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(N,R.key,R)}}return function(N,W,Q){return W&&G(N.prototype,W),Q&&G(N,Q),N}}(),_=function(){function G(N){(function q(G,N){if(!(G instanceof N))throw new TypeError("Cannot call a class as a function")})(this,G),this.api=N}return V(G,[{key:"handleCatch",value:function(W){if("InvalidInputException"!==W.name)throw W;if(this.api._options.valid===this.api._defaults.valid)throw W.message;this.api._options.valid(!1),this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(W){try{var Q=W.apply(void 0,arguments);return this.api._options.valid(!0),Q}catch(R){return this.handleCatch(R),this.api}}}]),G}();k.default=_},1498:(Ae,k)=>{function V(Q,R){if(!(Q instanceof R))throw new TypeError("Cannot call a class as a function")}function q(Q,R){if(!Q)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!R||"object"!=typeof R&&"function"!=typeof R?Q:R}function _(Q,R){if("function"!=typeof R&&null!==R)throw new TypeError("Super expression must either be null or a function, not "+typeof R);Q.prototype=Object.create(R&&R.prototype,{constructor:{value:Q,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(Q,R):Q.__proto__=R)}Object.defineProperty(k,"__esModule",{value:!0});var G=function(Q){function R(U,M){V(this,R);var b=q(this,(R.__proto__||Object.getPrototypeOf(R)).call(this));return b.name="InvalidInputException",b.symbology=U,b.input=M,b.message='"'+b.input+'" is not a valid input for '+b.symbology,b}return _(R,Error),R}(),N=function(Q){function R(){V(this,R);var U=q(this,(R.__proto__||Object.getPrototypeOf(R)).call(this));return U.name="InvalidElementException",U.message="Not supported type to render on",U}return _(R,Error),R}(),W=function(Q){function R(){V(this,R);var U=q(this,(R.__proto__||Object.getPrototypeOf(R)).call(this));return U.name="NoElementException",U.message="No element to render on.",U}return _(R,Error),R}();k.InvalidInputException=G,k.InvalidElementException=N,k.NoElementException=W},8084:(Ae,k)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.default=function V(q){return q.marginTop=q.marginTop||q.margin,q.marginBottom=q.marginBottom||q.margin,q.marginRight=q.marginRight||q.margin,q.marginLeft=q.marginLeft||q.margin,q}},329:(Ae,k,V)=>{Object.defineProperty(k,"__esModule",{value:!0});var _=W(V(1951)),N=W(V(5482));function W(R){return R&&R.__esModule?R:{default:R}}k.default=function Q(R){var U={};for(var M in N.default)N.default.hasOwnProperty(M)&&(R.hasAttribute("jsbarcode-"+M.toLowerCase())&&(U[M]=R.getAttribute("jsbarcode-"+M.toLowerCase())),R.hasAttribute("data-"+M.toLowerCase())&&(U[M]=R.getAttribute("data-"+M.toLowerCase())));return U.value=R.getAttribute("jsbarcode-value")||R.getAttribute("data-value"),(0,_.default)(U)}},2042:(Ae,k,V)=>{Object.defineProperty(k,"__esModule",{value:!0});var q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(v){return typeof v}:function(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},G=R(V(329)),W=R(V(2368)),Q=V(1498);function R(v){return v&&v.__esModule?v:{default:v}}k.default=function U(v){if("string"==typeof v)return function M(v){var w=document.querySelectorAll(v);if(0!==w.length){for(var x=[],I=0;I<w.length;I++)x.push(U(w[I]));return x}}(v);if(Array.isArray(v)){for(var w=[],x=0;x<v.length;x++)w.push(U(v[x]));return w}if(typeof HTMLCanvasElement<"u"&&v instanceof HTMLImageElement)return function b(v){var w=document.createElement("canvas");return{element:w,options:(0,G.default)(v),renderer:W.default.CanvasRenderer,afterRender:function(){v.setAttribute("src",w.toDataURL())}}}(v);if(v&&v.nodeName&&"svg"===v.nodeName.toLowerCase()||typeof SVGElement<"u"&&v instanceof SVGElement)return{element:v,options:(0,G.default)(v),renderer:W.default.SVGRenderer};if(typeof HTMLCanvasElement<"u"&&v instanceof HTMLCanvasElement)return{element:v,options:(0,G.default)(v),renderer:W.default.CanvasRenderer};if(v&&v.getContext)return{element:v,renderer:W.default.CanvasRenderer};if(v&&"object"===(typeof v>"u"?"undefined":q(v))&&!v.nodeName)return{element:v,renderer:W.default.ObjectRenderer};throw new Q.InvalidElementException}},9246:(Ae,k)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.default=function V(q){var _=[];return function G(N){if(Array.isArray(N))for(var W=0;W<N.length;W++)G(N[W]);else N.text=N.text||"",N.data=N.data||"",_.push(N)}(q),_}},3931:(Ae,k)=>{Object.defineProperty(k,"__esModule",{value:!0});var V=Object.assign||function(q){for(var _=1;_<arguments.length;_++){var G=arguments[_];for(var N in G)Object.prototype.hasOwnProperty.call(G,N)&&(q[N]=G[N])}return q};k.default=function(q,_){return V({},q,_)}},1951:(Ae,k)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.default=function V(q){var _=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var G in _)_.hasOwnProperty(G)&&"string"==typeof q[G=_[G]]&&(q[G]=parseInt(q[G],10));return"string"==typeof q.displayValue&&(q.displayValue="false"!=q.displayValue),q}},5482:(Ae,k)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.default={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}}},8682:(Ae,k,V)=>{Object.defineProperty(k,"__esModule",{value:!0});var q=function(){function U(M,b){for(var v=0;v<b.length;v++){var w=b[v];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(M,w.key,w)}}return function(M,b,v){return b&&U(M.prototype,b),v&&U(M,v),M}}(),G=function W(U){return U&&U.__esModule?U:{default:U}}(V(3931)),N=V(2283),R=function(){function U(M,b,v){(function Q(U,M){if(!(U instanceof M))throw new TypeError("Cannot call a class as a function")})(this,U),this.canvas=M,this.encodings=b,this.options=v}return q(U,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var b=0;b<this.encodings.length;b++){var v=(0,G.default)(this.options,this.encodings[b].options);this.drawCanvasBarcode(v,this.encodings[b]),this.drawCanvasText(v,this.encodings[b]),this.moveCanvasDrawing(this.encodings[b])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var b=this.canvas.getContext("2d");b.save(),(0,N.calculateEncodingAttributes)(this.encodings,this.options,b);var v=(0,N.getTotalWidthOfEncodings)(this.encodings),w=(0,N.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=v+this.options.marginLeft+this.options.marginRight,this.canvas.height=w,b.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(b.fillStyle=this.options.background,b.fillRect(0,0,this.canvas.width,this.canvas.height)),b.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(b,v){var I,w=this.canvas.getContext("2d"),x=v.data;I="top"==b.textPosition?b.marginTop+b.fontSize+b.textMargin:b.marginTop,w.fillStyle=b.lineColor;for(var A=0;A<x.length;A++){var O=A*b.width+v.barcodePadding;"1"===x[A]?w.fillRect(O,I,b.width,b.height):x[A]&&w.fillRect(O,I,b.width,b.height*x[A])}}},{key:"drawCanvasText",value:function(b,v){var I,A,w=this.canvas.getContext("2d");b.displayValue&&(A="top"==b.textPosition?b.marginTop+b.fontSize-b.textMargin:b.height+b.textMargin+b.marginTop+b.fontSize,w.font=b.fontOptions+" "+b.fontSize+"px "+b.font,"left"==b.textAlign||v.barcodePadding>0?(I=0,w.textAlign="left"):"right"==b.textAlign?(I=v.width-1,w.textAlign="right"):(I=v.width/2,w.textAlign="center"),w.fillText(v.text,I,A))}},{key:"moveCanvasDrawing",value:function(b){this.canvas.getContext("2d").translate(b.width,0)}},{key:"restoreCanvas",value:function(){this.canvas.getContext("2d").restore()}}]),U}();k.default=R},2368:(Ae,k,V)=>{Object.defineProperty(k,"__esModule",{value:!0});var _=R(V(8682)),N=R(V(1538)),Q=R(V(1045));function R(U){return U&&U.__esModule?U:{default:U}}k.default={CanvasRenderer:_.default,SVGRenderer:N.default,ObjectRenderer:Q.default}},1045:(Ae,k)=>{Object.defineProperty(k,"__esModule",{value:!0});var V=function(){function G(N,W){for(var Q=0;Q<W.length;Q++){var R=W[Q];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(N,R.key,R)}}return function(N,W,Q){return W&&G(N.prototype,W),Q&&G(N,Q),N}}(),_=function(){function G(N,W,Q){(function q(G,N){if(!(G instanceof N))throw new TypeError("Cannot call a class as a function")})(this,G),this.object=N,this.encodings=W,this.options=Q}return V(G,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),G}();k.default=_},2283:(Ae,k,V)=>{Object.defineProperty(k,"__esModule",{value:!0}),k.getTotalWidthOfEncodings=k.calculateEncodingAttributes=k.getBarcodePadding=k.getEncodingHeight=k.getMaximumHeightOfEncodings=void 0;var _=function G(b){return b&&b.__esModule?b:{default:b}}(V(3931));function N(b,v){return v.height+(v.displayValue&&b.text.length>0?v.fontSize+v.textMargin:0)+v.marginTop+v.marginBottom}function W(b,v,w){if(w.displayValue&&v<b){if("center"==w.textAlign)return Math.floor((b-v)/2);if("left"==w.textAlign)return 0;if("right"==w.textAlign)return Math.floor(b-v)}return 0}function M(b,v,w){var x;if(w)x=w;else{if(!(typeof document<"u"))return 0;x=document.createElement("canvas").getContext("2d")}x.font=v.fontOptions+" "+v.fontSize+"px "+v.font;var I=x.measureText(b);return I?I.width:0}k.getMaximumHeightOfEncodings=function U(b){for(var v=0,w=0;w<b.length;w++)b[w].height>v&&(v=b[w].height);return v},k.getEncodingHeight=N,k.getBarcodePadding=W,k.calculateEncodingAttributes=function Q(b,v,w){for(var x=0;x<b.length;x++){var O,I=b[x],A=(0,_.default)(v,I.options);O=A.displayValue?M(I.text,A,w):0;var ee=I.data.length*A.width;I.width=Math.ceil(Math.max(O,ee)),I.height=N(I,A),I.barcodePadding=W(O,ee,A)}},k.getTotalWidthOfEncodings=function R(b){for(var v=0,w=0;w<b.length;w++)v+=b[w].width;return v}},1538:(Ae,k,V)=>{Object.defineProperty(k,"__esModule",{value:!0});var q=function(){function M(b,v){for(var w=0;w<v.length;w++){var x=v[w];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(b,x.key,x)}}return function(b,v,w){return v&&M(b.prototype,v),w&&M(b,w),b}}(),G=function W(M){return M&&M.__esModule?M:{default:M}}(V(3931)),N=V(2283),R="http://www.w3.org/2000/svg",U=function(){function M(b,v,w){(function Q(M,b){if(!(M instanceof b))throw new TypeError("Cannot call a class as a function")})(this,M),this.svg=b,this.encodings=v,this.options=w,this.document=w.xmlDocument||document}return q(M,[{key:"render",value:function(){var v=this.options.marginLeft;this.prepareSVG();for(var w=0;w<this.encodings.length;w++){var x=this.encodings[w],I=(0,G.default)(this.options,x.options),A=this.createGroup(v,I.marginTop,this.svg);this.setGroupOptions(A,I),this.drawSvgBarcode(A,I,x),this.drawSVGText(A,I,x),v+=x.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,N.calculateEncodingAttributes)(this.encodings,this.options);var v=(0,N.getTotalWidthOfEncodings)(this.encodings),w=(0,N.getMaximumHeightOfEncodings)(this.encodings),x=v+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(x,w),this.options.background&&this.drawRect(0,0,x,w,this.svg).setAttribute("style","fill:"+this.options.background+";")}},{key:"drawSvgBarcode",value:function(v,w,x){var A,I=x.data;A="top"==w.textPosition?w.fontSize+w.textMargin:0;for(var O=0,ee=0,le=0;le<I.length;le++)ee=le*w.width+x.barcodePadding,"1"===I[le]?O++:O>0&&(this.drawRect(ee-w.width*O,A,w.width*O,w.height,v),O=0);O>0&&this.drawRect(ee-w.width*(O-1),A,w.width*O,w.height,v)}},{key:"drawSVGText",value:function(v,w,x){var A,O,I=this.document.createElementNS(R,"text");w.displayValue&&(I.setAttribute("style","font:"+w.fontOptions+" "+w.fontSize+"px "+w.font),O="top"==w.textPosition?w.fontSize-w.textMargin:w.height+w.textMargin+w.fontSize,"left"==w.textAlign||x.barcodePadding>0?(A=0,I.setAttribute("text-anchor","start")):"right"==w.textAlign?(A=x.width-1,I.setAttribute("text-anchor","end")):(A=x.width/2,I.setAttribute("text-anchor","middle")),I.setAttribute("x",A),I.setAttribute("y",O),I.appendChild(this.document.createTextNode(x.text)),v.appendChild(I))}},{key:"setSvgAttributes",value:function(v,w){var x=this.svg;x.setAttribute("width",v+"px"),x.setAttribute("height",w+"px"),x.setAttribute("x","0px"),x.setAttribute("y","0px"),x.setAttribute("viewBox","0 0 "+v+" "+w),x.setAttribute("xmlns",R),x.setAttribute("version","1.1"),x.setAttribute("style","transform: translate(0,0)")}},{key:"createGroup",value:function(v,w,x){var I=this.document.createElementNS(R,"g");return I.setAttribute("transform","translate("+v+", "+w+")"),x.appendChild(I),I}},{key:"setGroupOptions",value:function(v,w){v.setAttribute("style","fill:"+w.lineColor+";")}},{key:"drawRect",value:function(v,w,x,I,A){var O=this.document.createElementNS(R,"rect");return O.setAttribute("x",v),O.setAttribute("y",w),O.setAttribute("width",x),O.setAttribute("height",I),A.appendChild(O),O}}]),M}();k.default=U}},Ae=>{Ae(Ae.s=1293)}]);