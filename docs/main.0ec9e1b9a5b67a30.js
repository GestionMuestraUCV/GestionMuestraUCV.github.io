"use strict";(self.webpackChunkgestion_muestras=self.webpackChunkgestion_muestras||[]).push([[792],{482:(Ie,A,L)=>{function q(n,e,t,i,r,o,s){try{var a=n[o](s),l=a.value}catch(c){return void t(c)}a.done?e(l):Promise.resolve(l).then(i,r)}function _(n){return function(){var e=this,t=arguments;return new Promise(function(i,r){var o=n.apply(e,t);function s(l){q(o,i,r,s,a,"next",l)}function a(l){q(o,i,r,s,a,"throw",l)}s(void 0)})}}function G(n,e){return Object.is(n,e)}let R=null,W=!1,Q=1;const P=Symbol("SIGNAL");function j(n){const e=R;return R=n,e}const w={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function x(n){if(W)throw new Error("");if(null===R)return;R.consumerOnSignalRead(n);const e=R.nextProducerIndex++;tt(R),e<R.producerNode.length&&R.producerNode[e]!==n&&Ys(R)&&ec(R.producerNode[e],R.producerIndexOfThis[e]),R.producerNode[e]!==n&&(R.producerNode[e]=n,R.producerIndexOfThis[e]=Ys(R)?za(n,R,e):0),R.producerLastReadVersion[e]=n.version}function k(n){if((!Ys(n)||n.dirty)&&(n.dirty||n.lastCleanEpoch!==Q)){if(!n.producerMustRecompute(n)&&!mr(n))return n.dirty=!1,void(n.lastCleanEpoch=Q);n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=Q}}function O(n){if(void 0===n.liveConsumerNode)return;const e=W;W=!0;try{for(const t of n.liveConsumerNode)t.dirty||le(t)}finally{W=e}}function ee(){return!1!==R?.consumerAllowSignalWrites}function le(n){n.dirty=!0,O(n),n.consumerMarkedDirty?.(n)}function fe(n){return n&&(n.nextProducerIndex=0),j(n)}function Yt(n,e){if(j(e),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(Ys(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)ec(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function mr(n){tt(n);for(let e=0;e<n.producerNode.length;e++){const t=n.producerNode[e],i=n.producerLastReadVersion[e];if(i!==t.version||(k(t),i!==t.version))return!0}return!1}function ko(n){if(tt(n),Ys(n))for(let e=0;e<n.producerNode.length;e++)ec(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function za(n,e,t){if(Jt(n),tt(n),0===n.liveConsumerNode.length)for(let i=0;i<n.producerNode.length;i++)n.producerIndexOfThis[i]=za(n.producerNode[i],n,i);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function ec(n,e){if(Jt(n),tt(n),1===n.liveConsumerNode.length)for(let i=0;i<n.producerNode.length;i++)ec(n.producerNode[i],n.producerIndexOfThis[i]);const t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){const i=n.liveConsumerIndexOfThis[e],r=n.liveConsumerNode[e];tt(r),r.producerIndexOfThis[i]=e}}function Ys(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function tt(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function Jt(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}const Ht=Symbol("UNSET"),Qt=Symbol("COMPUTING"),Vi=Symbol("ERRORED"),DC={...w,value:Ht,dirty:!0,error:null,equal:G,producerMustRecompute:n=>n.value===Ht||n.value===Qt,producerRecomputeValue(n){if(n.value===Qt)throw new Error("Detected cycle in computations.");const e=n.value;n.value=Qt;const t=fe(n);let i;try{i=n.computation()}catch(r){i=Vi,n.error=r}finally{Yt(n,t)}e!==Ht&&e!==Vi&&i!==Vi&&n.equal(e,i)?n.value=e:(n.value=i,n.version++)}};let CL=function SC(){throw new Error};function EL(){CL()}let AC=null;function TL(n,e){ee()||EL(),n.equal(n.value,e)||(n.value=e,function Pee(n){n.version++,function I(){Q++}(),O(n),AC?.()}(n))}const Oee={...w,equal:G,value:void 0};const kC=()=>{},Nee={...w,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{null!==n.schedule&&n.schedule(n.ref)},hasRun:!1,cleanupFn:kC};function xt(n){return"function"==typeof n}function OC(n){const t=n(i=>{Error.call(i),i.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const PC=OC(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function K_(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class hi{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:i}=this;if(xt(i))try{i()}catch(o){e=o instanceof PC?o.errors:[o]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const o of r)try{DL(o)}catch(s){e=e??[],s instanceof PC?e=[...e,...s.errors]:e.push(s)}}if(e)throw new PC(e)}}add(e){var t;if(e&&e!==this)if(this.closed)DL(e);else{if(e instanceof hi){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&K_(t,e)}remove(e){const{_finalizers:t}=this;t&&K_(t,e),e instanceof hi&&e._removeParent(this)}}hi.EMPTY=(()=>{const n=new hi;return n.closed=!0,n})();const IL=hi.EMPTY;function ML(n){return n instanceof hi||n&&"closed"in n&&xt(n.remove)&&xt(n.add)&&xt(n.unsubscribe)}function DL(n){xt(n)?n():n.unsubscribe()}const tc={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Y_={setTimeout(n,e,...t){const{delegate:i}=Y_;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=Y_;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function SL(n){Y_.setTimeout(()=>{const{onUnhandledError:e}=tc;if(!e)throw n;e(n)})}function kf(){}const Fee=RC("C",void 0,void 0);function RC(n,e,t){return{kind:n,value:e,error:t}}let nc=null;function Q_(n){if(tc.useDeprecatedSynchronousErrorHandling){const e=!nc;if(e&&(nc={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:i}=nc;if(nc=null,t)throw i}}else n()}class NC extends hi{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,ML(e)&&e.add(this)):this.destination=Hee}static create(e,t,i){return new Of(e,t,i)}next(e){this.isStopped?LC(function Vee(n){return RC("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?LC(function Lee(n){return RC("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?LC(Fee,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Uee=Function.prototype.bind;function FC(n,e){return Uee.call(n,e)}class zee{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){X_(i)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){X_(i)}else X_(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){X_(t)}}}class Of extends NC{constructor(e,t,i){let r;if(super(),xt(e)||!e)r={next:e??void 0,error:t??void 0,complete:i??void 0};else{let o;this&&tc.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&FC(e.next,o),error:e.error&&FC(e.error,o),complete:e.complete&&FC(e.complete,o)}):r=e}this.destination=new zee(r)}}function X_(n){tc.useDeprecatedSynchronousErrorHandling?function Bee(n){tc.useDeprecatedSynchronousErrorHandling&&nc&&(nc.errorThrown=!0,nc.error=n)}(n):SL(n)}function LC(n,e){const{onStoppedNotification:t}=tc;t&&Y_.setTimeout(()=>t(n,e))}const Hee={closed:!0,next:kf,error:function jee(n){throw n},complete:kf},VC="function"==typeof Symbol&&Symbol.observable||"@@observable";function ja(n){return n}function AL(n){return 0===n.length?ja:1===n.length?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}let en=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){const o=function qee(n){return n&&n instanceof NC||function Gee(n){return n&&xt(n.next)&&xt(n.error)&&xt(n.complete)}(n)&&ML(n)}(t)?t:new Of(t,i,r);return Q_(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return new(i=kL(i))((r,o)=>{const s=new Of({next:a=>{try{t(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(t){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(t)}[VC](){return this}pipe(...t){return AL(t)(this)}toPromise(t){return new(t=kL(t))((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return n.create=e=>new n(e),n})();function kL(n){var e;return null!==(e=n??tc.Promise)&&void 0!==e?e:Promise}const Wee=OC(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let lt=(()=>{class n extends en{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const i=new OL(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new Wee}next(t){Q_(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(t)}})}error(t){Q_(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){Q_(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:i,isStopped:r,observers:o}=this;return i||r?IL:(this.currentObservers=null,o.push(t),new hi(()=>{this.currentObservers=null,K_(o,t)}))}_checkFinalizedStatuses(t){const{hasError:i,thrownError:r,isStopped:o}=this;i?t.error(r):o&&t.complete()}asObservable(){const t=new en;return t.source=this,t}}return n.create=(e,t)=>new OL(e,t),n})();class OL extends lt{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===i||i.call(t,e)}error(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===i||i.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,i;return null!==(i=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==i?i:IL}}class fi extends lt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}function PL(n){return xt(n?.lift)}function Mn(n){return e=>{if(PL(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function bn(n,e,t,i,r){return new Kee(n,e,t,i,r)}class Kee extends NC{constructor(e,t,i,r,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Le(n,e){return Mn((t,i)=>{let r=0;t.subscribe(bn(i,o=>{i.next(n.call(e,o,r++))}))})}const RL="https://g.co/ng/security#xss";class H extends Error{constructor(e,t){super(function Vu(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function BC(n){return e=>{setTimeout(n,void 0,e)}}const qe=class Yee extends lt{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,i){let r=e,o=t||(()=>null),s=i;if(e&&"object"==typeof e){const l=e;r=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=BC(o),r&&(r=BC(r)),s&&(s=BC(s)));const a=super.subscribe({next:r,error:o,complete:s});return e instanceof hi&&e.add(a),a}};var ht=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(ht||{});function pi(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(pi).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function UC(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}var J_=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(J_||{}),Oo=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Oo||{});function Qs(n){return{toString:n}.toString()}const Pt=globalThis,es={},Et=[];function Lt(n){for(let e in n)if(n[e]===Lt)return e;throw Error("Could not find renamed property on target object.")}function Jee(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}const Pf=Lt({\u0275cmp:Lt}),zC=Lt({\u0275dir:Lt}),jC=Lt({\u0275pipe:Lt}),LL=Lt({\u0275mod:Lt}),Xs=Lt({\u0275fac:Lt}),Rf=Lt({__NG_ELEMENT_ID__:Lt}),VL=Lt({__NG_ENV_ID__:Lt});var We=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(We||{});function BL(n,e,t){let i=n.length;for(;;){const r=n.indexOf(e,t);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const o=e.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}t=r+1}}function HC(n,e,t){let i=0;for(;i<t.length;){const r=t[i];if("number"==typeof r){if(0!==r)break;i++;const o=t[i++],s=t[i++],a=t[i++];n.setAttribute(e,s,a,o)}else{const o=r,s=t[++i];zL(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),i++}}return i}function UL(n){return 3===n||4===n||6===n}function zL(n){return 64===n.charCodeAt(0)}function Nf(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){const r=e[i];"number"==typeof r?t=r:0===t||jL(n,t,r,null,-1===t||2===t?e[++i]:null)}}return n}function jL(n,e,t,i,r){let o=0,s=n.length;if(-1===e)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===t){if(null===i)return void(null!==r&&(n[o+1]=r));if(i===n[o+1])return void(n[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==s&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),null!==i&&n.splice(o++,0,i),null!==r&&n.splice(o++,0,r)}const HL="ng-template";function ete(n,e,t){let i=0,r=!0;for(;i<n.length;){let o=n[i++];if("string"==typeof o&&r){const s=n[i++];if(t&&"class"===o&&-1!==BL(s.toLowerCase(),e,0))return!0}else{if(1===o){for(;i<n.length&&"string"==typeof(o=n[i++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(r=!1)}}return!1}function $L(n){return 4===n.type&&n.value!==HL}function tte(n,e,t){return e===(4!==n.type||t?n.value:HL)}function nte(n,e,t){let i=4;const r=n.attrs||[],o=function ote(n){for(let e=0;e<n.length;e++)if(UL(n[e]))return e;return n.length}(r);let s=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!s)if(4&i){if(i=2|1&i,""!==l&&!tte(n,l,t)||""===l&&1===e.length){if(Po(i))return!1;s=!0}}else{const c=8&i?l:e[++a];if(8&i&&null!==n.attrs){if(!ete(n.attrs,c,t)){if(Po(i))return!1;s=!0}continue}const d=ite(8&i?"class":l,r,$L(n),t);if(-1===d){if(Po(i))return!1;s=!0;continue}if(""!==c){let h;h=d>o?"":r[d+1].toLowerCase();const m=8&i?h:null;if(m&&-1!==BL(m,c,0)||2&i&&c!==h){if(Po(i))return!1;s=!0}}}}else{if(!s&&!Po(i)&&!Po(l))return!1;if(s&&Po(l))continue;s=!1,i=l|1&i}}return Po(i)||s}function Po(n){return!(1&n)}function ite(n,e,t,i){if(null===e)return-1;let r=0;if(i||!t){let o=!1;for(;r<e.length;){const s=e[r];if(s===n)return r;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++r];for(;"string"==typeof a;)a=e[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=o?1:2}return-1}return function ste(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const i=n[t];if("number"==typeof i)return-1;if(i===e)return t;t++}return-1}(e,n)}function GL(n,e,t=!1){for(let i=0;i<e.length;i++)if(nte(n,e[i],t))return!0;return!1}function ate(n,e){e:for(let t=0;t<e.length;t++){const i=e[t];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function qL(n,e){return n?":not("+e.trim()+")":e}function lte(n){let e=n[0],t=1,i=2,r="",o=!1;for(;t<n.length;){let s=n[t];if("string"==typeof s)if(2&i){const a=n[++t];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""!==r&&!Po(s)&&(e+=qL(o,r),r=""),i=s,o=o||!Po(i);t++}return""!==r&&(e+=qL(o,r)),e}function ve(n){return Qs(()=>{const e=KL(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===J_.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Oo.Emulated,styles:n.styles||Et,_:null,schemas:n.schemas||null,tView:null,id:""};YL(t);const i=n.dependencies;return t.directiveDefs=eb(i,!1),t.pipeDefs=eb(i,!0),t.id=function pte(n){let e=0;const t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const r of t)e=Math.imul(31,e)+r.charCodeAt(0)|0;return e+=2147483648,"c"+e}(t),t})}function dte(n){return ot(n)||mi(n)}function hte(n){return null!==n}function nt(n){return Qs(()=>({type:n.type,bootstrap:n.bootstrap||Et,declarations:n.declarations||Et,imports:n.imports||Et,exports:n.exports||Et,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function WL(n,e){if(null==n)return es;const t={};for(const i in n)if(n.hasOwnProperty(i)){const r=n[i];let o,s,a=We.None;Array.isArray(r)?(a=r[0],o=r[1],s=r[2]??o):(o=r,s=r),e?(t[o]=a!==We.None?[i,a]:i,e[o]=s):t[o]=i}return t}function me(n){return Qs(()=>{const e=KL(n);return YL(e),e})}function kr(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function ot(n){return n[Pf]||null}function mi(n){return n[zC]||null}function Bi(n){return n[jC]||null}function Ji(n,e){const t=n[LL]||null;if(!t&&!0===e)throw new Error(`Type ${pi(n)} does not have '\u0275mod' property.`);return t}function KL(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||es,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||Et,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:WL(n.inputs,e),outputs:WL(n.outputs),debugInfo:null}}function YL(n){n.features?.forEach(e=>e(n))}function eb(n,e){if(!n)return null;const t=e?Bi:dte;return()=>("function"==typeof n?n():n).map(i=>t(i)).filter(hte)}const yn=0,ie=1,Ee=2,$n=3,Ro=4,er=5,No=6,Bu=7,tn=8,Ui=9,Zs=10,Ve=11,Ff=12,QL=13,Uu=14,Dn=15,Lf=16,zu=17,Js=18,Vf=19,XL=20,Ga=21,tb=22,ic=23,Ue=25,$C=1,ts=7,ju=9,Gn=10;var GC=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(GC||{});function tr(n){return Array.isArray(n)&&"object"==typeof n[$C]}function nr(n){return Array.isArray(n)&&!0===n[$C]}function qC(n){return!!(4&n.flags)}function rc(n){return n.componentOffset>-1}function ib(n){return!(1&~n.flags)}function Fo(n){return!!n.template}function WC(n){return!!(512&n[Ee])}const t3="svg";let r3=!1;function $t(n){for(;Array.isArray(n);)n=n[yn];return n}function Uf(n,e){return $t(e[n])}function gr(n,e){return $t(e[n.index])}function zf(n,e){return n.data[e]}function Qr(n,e){const t=e[n];return tr(t)?t:t[yn]}function XC(n){return!(128&~n[Ee])}function ns(n,e){return null==e?null:n[e]}function o3(n){n[zu]=0}function wte(n){1024&n[Ee]||(n[Ee]|=1024,XC(n)&&jf(n))}function ZC(n){return!!(9216&n[Ee]||n[ic]?.dirty)}function JC(n){ZC(n)?jf(n):64&n[Ee]&&(function bte(){return r3}()?(n[Ee]|=1024,jf(n)):n[Zs].changeDetectionScheduler?.notify())}function jf(n){n[Zs].changeDetectionScheduler?.notify();let e=oc(n);for(;null!==e&&!(8192&e[Ee])&&(e[Ee]|=8192,XC(e));)e=oc(e)}function rb(n,e){if(!(256&~n[Ee]))throw new H(911,!1);null===n[Ga]&&(n[Ga]=[]),n[Ga].push(e)}function oc(n){const e=n[$n];return nr(e)?e[$n]:e}const Pe={lFrame:m3(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function l3(){return Pe.bindingsEnabled}function $u(){return null!==Pe.skipHydrationRootTNode}function K(){return Pe.lFrame.lView}function ft(){return Pe.lFrame.tView}function Re(n){return Pe.lFrame.contextLView=n,n[tn]}function Ne(n){return Pe.lFrame.contextLView=null,n}function Vt(){let n=c3();for(;null!==n&&64===n.type;)n=n.parent;return n}function c3(){return Pe.lFrame.currentTNode}function is(n,e){const t=Pe.lFrame;t.currentTNode=n,t.isParent=e}function t1(){return Pe.lFrame.isParent}function n1(){Pe.lFrame.isParent=!1}function Lo(){return Pe.lFrame.bindingIndex++}function ta(n){const e=Pe.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function Pte(n,e){const t=Pe.lFrame;t.bindingIndex=t.bindingRootIndex=n,r1(e)}function r1(n){Pe.lFrame.currentDirectiveIndex=n}function o1(n){const e=Pe.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}function s1(){return Pe.lFrame.currentQueryIndex}function ob(n){Pe.lFrame.currentQueryIndex=n}function Nte(n){const e=n[ie];return 2===e.type?e.declTNode:1===e.type?n[er]:null}function f3(n,e,t){if(t&ht.SkipSelf){let r=e,o=n;for(;!(r=r.parent,null!==r||t&ht.Host||(r=Nte(o),null===r||(o=o[Uu],10&r.type))););if(null===r)return!1;e=r,n=o}const i=Pe.lFrame=p3();return i.currentTNode=e,i.lView=n,!0}function a1(n){const e=p3(),t=n[ie];Pe.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function p3(){const n=Pe.lFrame,e=null===n?null:n.child;return null===e?m3(n):e}function m3(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function g3(){const n=Pe.lFrame;return Pe.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const _3=g3;function l1(){const n=g3();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function ir(){return Pe.lFrame.selectedIndex}function sc(n){Pe.lFrame.selectedIndex=n}function nn(){const n=Pe.lFrame;return zf(n.tView,n.selectedIndex)}function Gu(){Pe.lFrame.currentNamespace=t3}function sb(){!function Vte(){Pe.lFrame.currentNamespace=null}()}let y3=!0;function ab(){return y3}function qa(n){y3=n}function Bte(){return qu(Vt(),K())}function qu(n,e){return new Bt(gr(n,e))}let d1,Bt=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=Bte}}return n})();function v3(n){return n instanceof Bt?n.nativeElement:n}function Wu(n,e){n.forEach(t=>Array.isArray(t)?Wu(t,e):e(t))}function x3(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function lb(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Xr(n,e,t){let i=Ku(n,e);return i>=0?n[1|i]=t:(i=~i,function w3(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(1===r)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;)n[r]=n[r-2],r--;n[e]=t,n[e+1]=i}}(n,i,e,t)),i}function u1(n,e){const t=Ku(n,e);if(t>=0)return n[1|t]}function Ku(n,e){return function C3(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){const o=i+(r-i>>1),s=n[o<<t];if(e===s)return o<<t;s>e?r=o:i=o+1}return~(r<<t)}(n,e,1)}function zte(){return this._results[Symbol.iterator]()}class $f{get changes(){return this._changes??=new qe}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const t=$f.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=zte)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;const i=function Or(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function Ute(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=e[i];if(t&&(r=t(r),o=t(o)),o!==r)return!1}return!0}(this._results,i,t))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function ub(n){return!(128&~n.flags)}function ne(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Xe(n){return{providers:n.providers||[],imports:n.imports||[]}}function hb(n){return I3(n,pb)||I3(n,M3)}function I3(n,e){return n.hasOwnProperty(e)?n[e]:null}function fb(n){return n&&(n.hasOwnProperty(h1)||n.hasOwnProperty(qte))?n[h1]:null}const pb=Lt({\u0275prov:Lt}),h1=Lt({\u0275inj:Lt}),M3=Lt({ngInjectableDef:Lt}),qte=Lt({ngInjectorDef:Lt});class X{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=ne({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const mb=new X("",{providedIn:"root",factory:()=>Wte}),Wte="ng",D3=new X(""),po=new X("",{providedIn:"platform",factory:()=>"unknown"}),rs=new X(""),f1=new X("",{providedIn:"root",factory:()=>function Wa(){if(void 0!==d1)return d1;if(typeof document<"u")return document;throw new H(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),Qte=Lt({__forward_ref__:Lt});function rn(n){return n.__forward_ref__=rn,n.toString=function(){return pi(this())},n}function ke(n){return gb(n)?n():n}function gb(n){return"function"==typeof n&&n.hasOwnProperty(Qte)&&n.__forward_ref__===rn}function b1(n){return n&&!!n.\u0275providers}function ze(n){return"string"==typeof n?n:null==n?"":String(n)}function y1(n,e){throw new H(-201,!1)}let v1;function A3(){return v1}function Pr(n){const e=v1;return v1=n,e}function k3(n,e,t){const i=hb(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:t&ht.Optional?null:void 0!==e?e:void y1()}const qf={},x1="__NG_DI_FLAG__",_b="ngTempTokenPath",nne=/\n/gm,O3="__source";let Yu;function Ka(n){const e=Yu;return Yu=n,e}function one(n,e=ht.Default){if(void 0===Yu)throw new H(-203,!1);return null===Yu?k3(n,void 0,e):Yu.get(n,e&ht.Optional?null:void 0,e)}function U(n,e=ht.Default){return(A3()||one)(ke(n),e)}function Z(n,e=ht.Default){return U(n,bb(e))}function bb(n){return typeof n>"u"||"number"==typeof n?n:(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function w1(n){const e=[];for(let t=0;t<n.length;t++){const i=ke(n[t]);if(Array.isArray(i)){if(0===i.length)throw new H(900,!1);let r,o=ht.Default;for(let s=0;s<i.length;s++){const a=i[s],l=sne(a);"number"==typeof l?-1===l?r=a.token:o|=l:r=a}e.push(U(r,o))}else e.push(U(i))}return e}function Wf(n,e){return n[x1]=e,n.prototype[x1]=e,n}function sne(n){return n[x1]}let R3=()=>null;function A1(n,e,t=!1){return R3(n,e,t)}const ed="__parameters__";function nd(n,e,t){return Qs(()=>{const i=function R1(n){return function(...t){if(n){const i=n(...t);for(const r in i)this[r]=i[r]}}}(e);function r(...o){if(this instanceof r)return i.apply(this,o),this;const s=new r(...o);return a.annotation=s,a;function a(l,c,u){const d=l.hasOwnProperty(ed)?l[ed]:Object.defineProperty(l,ed,{value:[]})[ed];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),l}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}const Gt=Wf(nd("Optional"),8),Xf=Wf(nd("SkipSelf"),4);function ac(n,e){return n.hasOwnProperty(Xs)?n[Xs]:null}const lc=new X(""),U3=new X("",-1),N1=new X("");class Eb{get(e,t=qf){if(t===qf){const i=new Error(`NullInjectorError: No provider for ${pi(e)}!`);throw i.name="NullInjectorError",i}return t}}function vne(...n){return{\u0275providers:F1(0,n),\u0275fromNgModule:!0}}function F1(n,...e){const t=[],i=new Set;let r;const o=s=>{t.push(s)};return Wu(e,s=>{const a=s;Ib(a,o,[],i)&&(r||=[],r.push(a))}),void 0!==r&&z3(r,o),t}function z3(n,e){for(let t=0;t<n.length;t++){const{ngModule:i,providers:r}=n[t];L1(r,o=>{e(o,i)})}}function Ib(n,e,t,i){if(!(n=ke(n)))return!1;let r=null,o=fb(n);const s=!o&&ot(n);if(o||s){if(s&&!s.standalone)return!1;r=n}else{const l=n.ngModule;if(o=fb(l),!o)return!1;r=l}const a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of l)Ib(c,e,t,i)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let c;i.add(r);try{Wu(o.imports,u=>{Ib(u,e,t,i)&&(c||=[],c.push(u))})}finally{}void 0!==c&&z3(c,e)}if(!a){const c=ac(r)||(()=>new r);e({provide:r,useFactory:c,deps:Et},r),e({provide:N1,useValue:r,multi:!0},r),e({provide:lc,useValue:()=>U(r),multi:!0},r)}const l=o.providers;if(null!=l&&!a){const c=n;L1(l,u=>{e(u,c)})}}}return r!==n&&void 0!==n.providers}function L1(n,e){for(let t of n)b1(t)&&(t=t.\u0275providers),Array.isArray(t)?L1(t,e):e(t)}const xne=Lt({provide:String,useValue:Lt});function V1(n){return null!==n&&"object"==typeof n&&xne in n}function cc(n){return"function"==typeof n}const B1=new X(""),Mb={},Cne={};let U1;function Db(){return void 0===U1&&(U1=new Eb),U1}class Zr{}class id extends Zr{get destroyed(){return this._destroyed}constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,j1(e,s=>this.processProvider(s)),this.records.set(U3,rd(void 0,this)),r.has("environment")&&this.records.set(Zr,rd(void 0,this));const o=this.records.get(B1);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(N1,Et,ht.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of e)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const t=Ka(this),i=Pr(void 0);try{return e()}finally{Ka(t),Pr(i)}}get(e,t=qf,i=ht.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(VL))return e[VL](this);i=bb(i);const o=Ka(this),s=Pr(void 0);try{if(!(i&ht.SkipSelf)){let l=this.records.get(e);if(void 0===l){const c=function Dne(n){return"function"==typeof n||"object"==typeof n&&n instanceof X}(e)&&hb(e);l=c&&this.injectableDefInScope(c)?rd(z1(e),Mb):null,this.records.set(e,l)}if(null!=l)return this.hydrate(e,l)}return(i&ht.Self?Db():this.parent).get(e,t=i&ht.Optional&&t===qf?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[_b]=a[_b]||[]).unshift(pi(e)),o)throw a;return function ane(n,e,t,i){const r=n[_b];throw e[O3]&&r.unshift(e[O3]),n.message=function lne(n,e,t,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let r=pi(e);if(Array.isArray(e))r=e.map(pi).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):pi(a)))}r=`{${o.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace(nne,"\n  ")}`}("\n"+n.message,r,t,i),n.ngTokenPath=r,n[_b]=null,n}(a,e,"R3InjectorError",this.source)}throw a}finally{Pr(s),Ka(o)}}resolveInjectorInitializers(){const e=Ka(this),t=Pr(void 0);try{const r=this.get(lc,Et,ht.Self);for(const o of r)o()}finally{Ka(e),Pr(t)}}toString(){const e=[],t=this.records;for(const i of t.keys())e.push(pi(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new H(205,!1)}processProvider(e){let t=cc(e=ke(e))?e:ke(e&&e.provide);const i=function Tne(n){return V1(n)?rd(void 0,n.useValue):rd($3(n),Mb)}(e);if(!cc(e)&&!0===e.multi){let r=this.records.get(t);r||(r=rd(void 0,Mb,!0),r.factory=()=>w1(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t){return t.value===Mb&&(t.value=Cne,t.value=t.factory()),"object"==typeof t.value&&t.value&&function Mne(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=ke(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){const t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}}function z1(n){const e=hb(n),t=null!==e?e.factory:ac(n);if(null!==t)return t;if(n instanceof X)throw new H(204,!1);if(n instanceof Function)return function Ene(n){if(n.length>0)throw new H(204,!1);const t=function Gte(n){return n&&(n[pb]||n[M3])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new H(204,!1)}function $3(n,e,t){let i;if(cc(n)){const r=ke(n);return ac(r)||z1(r)}if(V1(n))i=()=>ke(n.useValue);else if(function H3(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...w1(n.deps||[]));else if(function j3(n){return!(!n||!n.useExisting)}(n))i=()=>U(ke(n.useExisting));else{const r=ke(n&&(n.useClass||n.provide));if(!function Ine(n){return!!n.deps}(n))return ac(r)||z1(r);i=()=>new r(...w1(n.deps))}return i}function rd(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function j1(n,e){for(const t of n)Array.isArray(t)?j1(t,e):t&&b1(t)?j1(t.\u0275providers,e):e(t)}function uc(n,e){n instanceof id&&n.assertNotDestroyed();const i=Ka(n),r=Pr(void 0);try{return e()}finally{Ka(i),Pr(r)}}function Sb(n){if(!A3()&&!function rne(){return Yu}())throw new H(-203,!1)}class Vne{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}}function q3(n,e,t,i){null!==e?e.applyValueToInputSignal(e,i):n[t]=i}function Jr(){return W3}function W3(n){return n.type.prototype.ngOnChanges&&(n.setInput=Une),Bne}function Bne(){const n=Y3(this),e=n?.current;if(e){const t=n.previous;if(t===es)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function Une(n,e,t,i,r){const o=this.declaredInputs[i],s=Y3(n)||function zne(n,e){return n[K3]=e}(n,{previous:es,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new Vne(c&&c.currentValue,t,l===es),q3(n,e,r,t)}Jr.ngInherit=!0;const K3="__ngSimpleChanges__";function Y3(n){return n[K3]||null}const os=function(n,e,t){};function kb(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){const o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),l&&(n.viewHooks??=[]).push(-t,l),c&&((n.viewHooks??=[]).push(t,c),(n.viewCheckHooks??=[]).push(t,c)),null!=u&&(n.destroyHooks??=[]).push(t,u)}}function Ob(n,e,t){Q3(n,e,3,t)}function Pb(n,e,t,i){(3&n[Ee])===t&&Q3(n,e,t,i)}function G1(n,e){let t=n[Ee];(3&t)===e&&(t&=16383,t+=1,n[Ee]=t)}function Q3(n,e,t,i){const o=i??-1,s=e.length-1;let a=0;for(let l=void 0!==i?65535&n[zu]:0;l<s;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=i&&a>=i)break}else e[l]<0&&(n[zu]+=65536),(a<o||-1==o)&&($ne(n,t,e,l),n[zu]=(4294901760&n[zu])+l+2),l++}function X3(n,e){os(4,n,e);const t=j(null);try{e.call(n)}finally{j(t),os(5,n,e)}}function $ne(n,e,t,i){const r=t[i]<0,o=t[i+1],a=n[r?-t[i]:t[i]];r?n[Ee]>>14<n[zu]>>16&&(3&n[Ee])===e&&(n[Ee]+=16384,X3(a,o)):X3(a,o)}const sd=-1;class Jf{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}}function W1(n){return n!==sd}function ep(n){return 32767&n}function tp(n,e){let t=function Yne(n){return n>>16}(n),i=e;for(;t>0;)i=i[Uu],t--;return i}let K1=!0;function Rb(n){const e=K1;return K1=n,e}const Z3=255,J3=5;let Qne=0;const ss={};function Nb(n,e){const t=e5(n,e);if(-1!==t)return t;const i=e[ie];i.firstCreatePass&&(n.injectorIndex=e.length,Y1(i.data,n),Y1(e,null),Y1(i.blueprint,null));const r=Fb(n,e),o=n.injectorIndex;if(W1(r)){const s=ep(r),a=tp(r,e),l=a[ie].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|l[s+c]}return e[o+8]=r,o}function Y1(n,e){n.push(0,0,0,0,0,0,0,0,e)}function e5(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function Fb(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;null!==r;){if(i=l5(r),null===i)return sd;if(t++,r=r[Uu],-1!==i.injectorIndex)return i.injectorIndex|t<<16}return sd}function Q1(n,e,t){!function Xne(n,e,t){let i;"string"==typeof t?i=t.charCodeAt(0)||0:t.hasOwnProperty(Rf)&&(i=t[Rf]),null==i&&(i=t[Rf]=Qne++);const r=i&Z3;e.data[n+(r>>J3)]|=1<<r}(n,e,t)}function t5(n,e,t){if(t&ht.Optional||void 0!==n)return n;y1()}function n5(n,e,t,i){if(t&ht.Optional&&void 0===i&&(i=null),!(t&(ht.Self|ht.Host))){const r=n[Ui],o=Pr(void 0);try{return r?r.get(e,i,t&ht.Optional):k3(e,i,t&ht.Optional)}finally{Pr(o)}}return t5(i,0,t)}function r5(n,e,t,i=ht.Default,r){if(null!==n){if(2048&e[Ee]&&!(i&ht.Self)){const s=function nie(n,e,t,i,r){let o=n,s=e;for(;null!==o&&null!==s&&2048&s[Ee]&&!(512&s[Ee]);){const a=o5(o,s,t,i|ht.Self,ss);if(a!==ss)return a;let l=o.parent;if(!l){const c=s[XL];if(c){const u=c.get(t,ss,i);if(u!==ss)return u}l=l5(s),s=s[Uu]}o=l}return r}(n,e,t,i,ss);if(s!==ss)return s}const o=o5(n,e,t,i,ss);if(o!==ss)return o}return n5(e,t,i,r)}function o5(n,e,t,i,r){const o=function eie(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Rf)?n[Rf]:void 0;return"number"==typeof e?e>=0?e&Z3:tie:e}(t);if("function"==typeof o){if(!f3(e,n,i))return i&ht.Host?t5(r,0,i):n5(e,t,i,r);try{let s;if(s=o(i),null!=s||i&ht.Optional)return s;y1()}finally{_3()}}else if("number"==typeof o){let s=null,a=e5(n,e),l=sd,c=i&ht.Host?e[Dn][er]:null;for((-1===a||i&ht.SkipSelf)&&(l=-1===a?Fb(n,e):e[a+8],l!==sd&&a5(i,!1)?(s=e[ie],a=ep(l),e=tp(l,e)):a=-1);-1!==a;){const u=e[ie];if(s5(o,a,u.data)){const d=Jne(a,e,t,s,i,c);if(d!==ss)return d}l=e[a+8],l!==sd&&a5(i,e[ie].data[a+8]===c)&&s5(o,a,e)?(s=u,a=ep(l),e=tp(l,e)):a=-1}}return r}function Jne(n,e,t,i,r,o){const s=e[ie],a=s.data[n+8],u=Lb(a,s,t,null==i?rc(a)&&K1:i!=s&&!!(3&a.type),r&ht.Host&&o===a);return null!==u?dc(e,s,u,a):ss}function Lb(n,e,t,i,r){const o=n.providerIndexes,s=e.data,a=1048575&o,l=n.directiveStart,u=o>>20,h=r?a+u:n.directiveEnd;for(let m=i?a:a+u;m<h;m++){const y=s[m];if(m<l&&t===y||m>=l&&y.type===t)return m}if(r){const m=s[l];if(m&&Fo(m)&&m.type===t)return l}return null}function dc(n,e,t,i){let r=n[t];const o=e.data;if(function Gne(n){return n instanceof Jf}(r)){const s=r;s.resolving&&function Jte(n,e){throw e&&e.join(" > "),new H(-200,n)}(function Dt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():ze(n)}(o[t]));const a=Rb(s.canSeeViewProviders);s.resolving=!0;const c=s.injectImpl?Pr(s.injectImpl):null;f3(n,i,ht.Default);try{r=n[t]=s.factory(void 0,o,n,i),e.firstCreatePass&&t>=i.directiveStart&&function Hne(n,e,t){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){const s=W3(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}r&&(t.preOrderHooks??=[]).push(0-n,r),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}(t,o[t],e)}finally{null!==c&&Pr(c),Rb(a),s.resolving=!1,_3()}}return r}function s5(n,e,t){return!!(t[e+(n>>J3)]&1<<n)}function a5(n,e){return!(n&ht.Self||n&ht.Host&&e)}class _i{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return r5(this._tNode,this._lView,e,bb(i),t)}}function tie(){return new _i(Vt(),K())}function ri(n){return Qs(()=>{const e=n.prototype.constructor,t=e[Xs]||X1(e),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const o=r[Xs]||X1(r);if(o&&o!==t)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function X1(n){return gb(n)?()=>{const e=X1(ke(n));return e&&e()}:ac(n)}function l5(n){const e=n[ie],t=e.type;return 2===t?e.declTNode:1===t?n[er]:null}function f5(n,e=null,t=null,i){const r=p5(n,e,t,i);return r.resolveInjectorInitializers(),r}function p5(n,e=null,t=null,i,r=new Set){const o=[t||Et,vne(n)];return i=i||("object"==typeof n?void 0:pi(n)),new id(o,e||Db(),i||null,r)}let qt=(()=>{class n{static{this.THROW_IF_NOT_FOUND=qf}static{this.NULL=new Eb}static create(t,i){if(Array.isArray(t))return f5({name:""},i,t,"");{const r=t.name??"";return f5({name:r},t.parent,t.providers,r)}}static{this.\u0275prov=ne({token:n,providedIn:"any",factory:()=>U(U3)})}static{this.__NG_ELEMENT_ID__=-1}}return n})();function J1(n){return n.ngOriginalError}class Vo{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&J1(e);for(;t&&J1(t);)t=J1(t);return t||null}}const g5=new X("",{providedIn:"root",factory:()=>Z(Vo).handleError.bind(void 0)}),b5=new X("",{providedIn:"root",factory:()=>!1});class hc{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${RL})`}}function eo(n){return n instanceof hc?n.changingThisBreaksApplicationSecurity:n}const Iie=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var zi=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(zi||{});function Ya(n){const e=function ip(){const n=K();return n&&n[Zs].sanitizer}();return e?e.sanitize(zi.URL,n)||"":function as(n,e){const t=function _ie(n){return n instanceof hc&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${RL})`)}return t===e}(n,"URL")?eo(n):function Hb(n){return(n=String(n)).match(Iie)?n:"unsafe:"+n}(ze(n))}const Vie=/^>|^->|<!--|-->|--!>|<!-$/g,Bie=/(<|>)/g,Uie="\u200b$1\u200b";const oE=new Map;let Gie=0;const aE="__ngContext__";function rr(n,e){tr(e)?(n[aE]=e[Vf],function Wie(n){oE.set(n[Vf],n)}(e)):n[aE]=e}function to(n){return n instanceof Function?n():n}var Xa=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Xa||{});let dE;function hE(n,e){return dE(n,e)}function dd(n,e,t,i,r){if(null!=i){let o,s=!1;nr(i)?o=i:tr(i)&&(s=!0,i=i[yn]);const a=$t(i);0===n&&null!==t?null==r?Y5(e,t,a):fc(e,t,a,r||null,!0):1===n&&null!==t?fc(e,t,a,r||null,!0):2===n?function Zb(n,e,t){const i=Qb(n,e);i&&function mre(n,e,t,i){n.removeChild(e,t,i)}(n,i,e,t)}(e,a,s):3===n&&e.destroyNode(a),null!=o&&function bre(n,e,t,i,r){const o=t[ts];o!==$t(t)&&dd(e,n,i,o,r);for(let a=Gn;a<t.length;a++){const l=t[a];Jb(l[ie],l,n,e,i,o)}}(e,n,o,t,r)}}function fE(n,e){return n.createComment(function k5(n){return n.replace(Vie,e=>e.replace(Bie,Uie))}(e))}function Kb(n,e,t){return n.createElement(e,t)}function q5(n,e){Jb(n,e,e[Ve],2,null,null)}function W5(n,e){const t=n[ju],i=t.indexOf(e);t.splice(i,1)}function op(n,e){if(n.length<=Gn)return;const t=Gn+e,i=n[t];if(i){const r=i[Lf];null!==r&&r!==n&&W5(r,i),e>0&&(n[t-1][Ro]=i[Ro]);const o=lb(n,Gn+e);!function lre(n,e){q5(n,e),e[yn]=null,e[er]=null}(i[ie],i);const s=o[Js];null!==s&&s.detachView(o[ie]),i[$n]=null,i[Ro]=null,i[Ee]&=-129}return i}function Yb(n,e){if(!(256&e[Ee])){const t=e[Ve];t.destroyNode&&Jb(n,e,t,3,null,null),function ure(n){let e=n[Ff];if(!e)return pE(n[ie],n);for(;e;){let t=null;if(tr(e))t=e[Ff];else{const i=e[Gn];i&&(t=i)}if(!t){for(;e&&!e[Ro]&&e!==n;)tr(e)&&pE(e[ie],e),e=e[$n];null===e&&(e=n),tr(e)&&pE(e[ie],e),t=e&&e[Ro]}e=t}}(e)}}function pE(n,e){if(!(256&e[Ee])){e[Ee]&=-129,e[Ee]|=256,e[ic]&&ko(e[ic]),function pre(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let i=0;i<t.length;i+=2){const r=e[t[i]];if(!(r instanceof Jf)){const o=t[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=r[o[s]],l=o[s+1];os(4,a,l);try{l.call(a)}finally{os(5,a,l)}}else{os(4,r,o);try{o.call(r)}finally{os(5,r,o)}}}}}(n,e),function fre(n,e){const t=n.cleanup,i=e[Bu];if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const s=t[o+3];s>=0?i[s]():i[-s].unsubscribe(),o+=2}else t[o].call(i[t[o+1]]);null!==i&&(e[Bu]=null);const r=e[Ga];if(null!==r){e[Ga]=null;for(let o=0;o<r.length;o++)(0,r[o])()}}(n,e),1===e[ie].type&&e[Ve].destroy();const t=e[Lf];if(null!==t&&nr(e[$n])){t!==e[$n]&&W5(t,e);const i=e[Js];null!==i&&i.detachView(n)}!function Kie(n){oE.delete(n[Vf])}(e)}}function mE(n,e,t){return function K5(n,e,t){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return t[yn];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:o}=n.data[i.directiveStart+r];if(o===Oo.None||o===Oo.Emulated)return null}return gr(i,t)}}(n,e.parent,t)}function fc(n,e,t,i,r){n.insertBefore(e,t,i,r)}function Y5(n,e,t){n.appendChild(e,t)}function Q5(n,e,t,i,r){null!==i?fc(n,e,t,i,r):Y5(n,e,t)}function Qb(n,e){return n.parentNode(e)}function X5(n,e,t){return J5(n,e,t)}let gE,J5=function Z5(n,e,t){return 40&n.type?gr(n,t):null};function Xb(n,e,t,i){const r=mE(n,i,e),o=e[Ve],a=X5(i.parent||e[er],i,e);if(null!=r)if(Array.isArray(t))for(let l=0;l<t.length;l++)Q5(o,r,t[l],a,!1);else Q5(o,r,t,a,!1);void 0!==gE&&gE(o,i,e,t,r)}function sp(n,e){if(null!==e){const t=e.type;if(3&t)return gr(e,n);if(4&t)return _E(-1,n[e.index]);if(8&t){const i=e.child;if(null!==i)return sp(n,i);{const r=n[e.index];return nr(r)?_E(-1,r):$t(r)}}if(32&t)return hE(e,n)()||$t(n[e.index]);{const i=t4(n,e);return null!==i?Array.isArray(i)?i[0]:sp(oc(n[Dn]),i):sp(n,e.next)}}return null}function t4(n,e){return null!==e?n[Dn][er].projection[e.projection]:null}function _E(n,e){const t=Gn+n+1;if(t<e.length){const i=e[t],r=i[ie].firstChild;if(null!==r)return sp(i,r)}return e[ts]}function bE(n,e,t,i,r,o,s){for(;null!=t;){const a=i[t.index],l=t.type;if(s&&0===e&&(a&&rr($t(a),i),t.flags|=2),32&~t.flags)if(8&l)bE(n,e,t.child,i,r,o,!1),dd(e,n,r,a,o);else if(32&l){const c=hE(t,i);let u;for(;u=c();)dd(e,n,r,u,o);dd(e,n,r,a,o)}else 16&l?r4(n,e,i,t,r,o):dd(e,n,r,a,o);t=s?t.projectionNext:t.next}}function Jb(n,e,t,i,r,o){bE(t,i,n.firstChild,e,r,o,!1)}function r4(n,e,t,i,r,o){const s=t[Dn],l=s[er].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)dd(e,n,r,l[c],o);else{let c=l;const u=s[$n];ub(i)&&(c.flags|=128),bE(n,e,c,u,r,o,!0)}}function o4(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function s4(n,e,t){const{mergedAttrs:i,classes:r,styles:o}=t;null!==i&&HC(n,e,i),null!==r&&o4(n,e,r),null!==o&&function vre(n,e,t){n.setAttribute(e,"style",t)}(n,e,o)}const Ge={};function N(n=1){a4(ft(),K(),ir()+n,!1)}function a4(n,e,t,i){if(!i)if(3&~e[Ee]){const o=n.preOrderHooks;null!==o&&Pb(e,o,0,t)}else{const o=n.preOrderCheckHooks;null!==o&&Ob(e,o,t)}sc(t)}function E(n,e=ht.Default){const t=K();return null===t?U(n,e):r5(Vt(),t,ke(n),e)}function yE(){throw new Error("invalid")}function l4(n,e,t,i,r,o){const s=j(null);try{let a=null;r&We.SignalBased&&(a=e[i][P]),null!==a&&void 0!==a.transformFn&&(o=a.transformFn(o)),r&We.HasDecoratorInputTransform&&(o=n.inputTransforms[i].call(e,o)),null!==n.setInput?n.setInput(e,a,o,t,i):q3(e,a,i,o)}finally{j(s)}}function ey(n,e,t,i,r,o,s,a,l,c,u){const d=e.blueprint.slice();return d[yn]=r,d[Ee]=204|i,(null!==c||n&&2048&n[Ee])&&(d[Ee]|=2048),o3(d),d[$n]=d[Uu]=n,d[tn]=t,d[Zs]=s||n&&n[Zs],d[Ve]=a||n&&n[Ve],d[Ui]=l||n&&n[Ui]||null,d[er]=o,d[Vf]=function qie(){return Gie++}(),d[No]=u,d[XL]=c,d[Dn]=2==e.type?n[Dn]:d,d}function hd(n,e,t,i,r){let o=n.data[e];if(null===o)o=function vE(n,e,t,i,r){const o=c3(),s=t1(),l=n.data[e]=function Dre(n,e,t,i,r,o){let s=e?e.injectorIndex:-1,a=0;return $u()&&(a|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,t,e,i,r);return null===n.firstChild&&(n.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l,l.prev=o)),l}(n,e,t,i,r),function Ote(){return Pe.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=t,o.value=i,o.attrs=r;const s=function Hf(){const n=Pe.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return is(o,!0),o}function ap(n,e,t,i){if(0===t)return-1;const r=e.length;for(let o=0;o<t;o++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function c4(n,e,t,i,r){const o=ir(),s=2&i;try{sc(-1),s&&e.length>Ue&&a4(n,e,Ue,!1),os(s?2:0,r),t(i,r)}finally{sc(o),os(s?3:1,r)}}function xE(n,e,t){if(qC(e)){const i=j(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=n.data[s];a.contentQueries&&a.contentQueries(1,t[s],s)}}finally{j(i)}}}function wE(n,e,t){l3()&&(function Nre(n,e,t,i){const r=t.directiveStart,o=t.directiveEnd;rc(t)&&function jre(n,e,t){const i=gr(e,n),r=u4(t);let s=16;t.signals?s=4096:t.onPush&&(s=64);const a=ty(n,ey(n,r,null,s,i,e,null,n[Zs].rendererFactory.createRenderer(i,t),null,null,null));n[e.index]=a}(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||Nb(t,e),rr(i,e);const s=t.initialInputs;for(let a=r;a<o;a++){const l=n.data[a],c=dc(e,n,a,t);rr(c,e),null!==s&&Hre(0,a-r,c,l,0,s),Fo(l)&&(Qr(t.index,e)[tn]=dc(e,n,a,t))}}(n,e,t,gr(t,e)),!(64&~t.flags)&&m4(n,e,t))}function CE(n,e,t=gr){const i=e.localNames;if(null!==i){let r=e.index+1;for(let o=0;o<i.length;o+=2){const s=i[o+1],a=-1===s?t(e,n):n[s];n[r++]=a}}}function u4(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=EE(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function EE(n,e,t,i,r,o,s,a,l,c,u){const d=Ue+i,h=d+r,m=function wre(n,e){const t=[];for(let i=0;i<e;i++)t.push(i<n?null:Ge);return t}(d,h),y="function"==typeof c?c():c;return m[ie]={type:n,blueprint:m,template:t,queries:null,viewQuery:a,declTNode:e,data:m.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:y,incompleteFirstPass:!1,ssrId:u}}let d4=()=>null;function h4(n,e,t,i,r){for(let o in e){if(!e.hasOwnProperty(o))continue;const s=e[o];if(void 0===s)continue;i??={};let a,l=We.None;Array.isArray(s)?(a=s[0],l=s[1]):a=s;let c=o;if(null!==r){if(!r.hasOwnProperty(o))continue;c=r[o]}0===n?f4(i,t,c,a,l):f4(i,t,c,a)}return i}function f4(n,e,t,i,r){let o;n.hasOwnProperty(t)?(o=n[t]).push(e,i):o=n[t]=[e,i],void 0!==r&&o.push(r)}function Nr(n,e,t,i,r,o,s,a){const l=gr(e,t);let u,c=e.inputs;!a&&null!=c&&(u=c[i])?(SE(n,t,u,i,r),rc(e)&&function kre(n,e){const t=Qr(e,n);16&t[Ee]||(t[Ee]|=64)}(t,e.index)):3&e.type&&(i=function Are(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=s?s(r,e.value||"",i):r,o.setProperty(l,i,r))}function TE(n,e,t,i){if(l3()){const r=null===i?null:{"":-1},o=function Lre(n,e){const t=n.directiveRegistry;let i=null,r=null;if(t)for(let o=0;o<t.length;o++){const s=t[o];if(GL(e,s.selectors,!1))if(i||(i=[]),Fo(s))if(null!==s.findHostDirectiveDefs){const a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),i.unshift(...a,s),IE(n,e,a.length)}else i.unshift(s),IE(n,e,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return null===i?null:[i,r]}(n,t);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&p4(n,e,t,s,r,a),r&&function Vre(n,e,t){if(e){const i=n.localNames=[];for(let r=0;r<e.length;r+=2){const o=t[e[r+1]];if(null==o)throw new H(-301,!1);i.push(e[r],o)}}}(t,i,r)}t.mergedAttrs=Nf(t.mergedAttrs,t.attrs)}function p4(n,e,t,i,r,o){for(let c=0;c<i.length;c++)Q1(Nb(t,e),n,i[c].type);!function Ure(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,i.length);for(let c=0;c<i.length;c++){const u=i[c];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,l=ap(n,e,i.length,null);for(let c=0;c<i.length;c++){const u=i[c];t.mergedAttrs=Nf(t.mergedAttrs,u.hostAttrs),zre(n,t,e,l,u),Bre(l,u,r),null!==u.contentQueries&&(t.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(t.flags|=64);const d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),l++}!function Sre(n,e,t){const r=e.directiveEnd,o=n.data,s=e.attrs,a=[];let l=null,c=null;for(let u=e.directiveStart;u<r;u++){const d=o[u],h=t?t.get(d):null,y=h?h.outputs:null;l=h4(0,d.inputs,u,l,h?h.inputs:null),c=h4(1,d.outputs,u,c,y);const C=null===l||null===s||$L(e)?null:$re(l,u,s);a.push(C)}null!==l&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=c}(n,t,o)}function m4(n,e,t){const i=t.directiveStart,r=t.directiveEnd,o=t.index,s=function Rte(){return Pe.lFrame.currentDirectiveIndex}();try{sc(o);for(let a=i;a<r;a++){const l=n.data[a],c=e[a];r1(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&Fre(l,c)}}finally{sc(-1),r1(s)}}function Fre(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function IE(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function Bre(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;Fo(e)&&(t[""]=n)}}function zre(n,e,t,i,r){n.data[i]=r;const o=r.factory||(r.factory=ac(r.type)),s=new Jf(o,Fo(r),E);n.blueprint[i]=s,t[i]=s,function Pre(n,e,t,i,r){const o=r.hostBindings;if(o){let s=n.hostBindingOpCodes;null===s&&(s=n.hostBindingOpCodes=[]);const a=~e.index;(function Rre(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(s)!=a&&s.push(a),s.push(t,i,o)}}(n,e,i,ap(n,t,r.hostVars,Ge),r)}function ls(n,e,t,i,r,o){const s=gr(n,e);!function ME(n,e,t,i,r,o,s){if(null==o)n.removeAttribute(e,r,t);else{const a=null==s?ze(o):s(o,i||"",r);n.setAttribute(e,r,a,t)}}(e[Ve],s,o,n.value,t,i,r)}function Hre(n,e,t,i,r,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;)l4(i,t,s[a++],s[a++],s[a++],s[a++])}function $re(n,e,t){let i=null,r=0;for(;r<t.length;){const o=t[r];if(0!==o)if(5!==o){if("number"==typeof o)break;if(n.hasOwnProperty(o)){null===i&&(i=[]);const s=n[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){i.push(o,s[a+1],s[a+2],t[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function g4(n,e,t,i){return[n,!0,0,e,null,i,null,t,null,null]}function _4(n,e){const t=n.contentQueries;if(null!==t){const i=j(null);try{for(let r=0;r<t.length;r+=2){const s=t[r+1];if(-1!==s){const a=n.data[s];ob(t[r]),a.contentQueries(2,e[s],s)}}}finally{j(i)}}}function ty(n,e){return n[Ff]?n[QL][Ro]=e:n[Ff]=e,n[QL]=e,e}function DE(n,e,t){ob(0);const i=j(null);try{e(n,t)}finally{j(i)}}function b4(n){return n[Bu]||(n[Bu]=[])}function y4(n){return n.cleanup||(n.cleanup=[])}function v4(n,e,t){return(null===n||Fo(n))&&(t=function QC(n){for(;Array.isArray(n);){if("object"==typeof n[$C])return n;n=n[yn]}return null}(t[e.index])),t[Ve]}function ny(n,e){const t=n[Ui],i=t?t.get(Vo,null):null;i&&i.handleError(e)}function SE(n,e,t,i,r){for(let o=0;o<t.length;){const s=t[o++],a=t[o++],l=t[o++];l4(n.data[s],e[s],i,a,l,r)}}function Gre(n,e){const t=Qr(e,n),i=t[ie];!function qre(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}(i,t);const r=t[yn];null!==r&&null===t[No]&&(t[No]=A1(r,t[Ui])),AE(i,t,t[tn])}function AE(n,e,t){a1(e);try{const i=n.viewQuery;null!==i&&DE(1,i,t);const r=n.template;null!==r&&c4(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Js]?.finishViewCreation(n),n.staticContentQueries&&_4(n,e),n.staticViewQueries&&DE(2,n.viewQuery,t);const o=n.components;null!==o&&function Wre(n,e){for(let t=0;t<e.length;t++)Gre(n,e[t])}(e,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[Ee]&=-5,l1()}}function fd(n,e){return!e||null===e.firstChild||ub(n)}function cp(n,e,t,i=!0){const r=e[ie];if(function dre(n,e,t,i){const r=Gn+i,o=t.length;i>0&&(t[r-1][Ro]=e),i<o-Gn?(e[Ro]=t[r],x3(t,Gn+i,e)):(t.push(e),e[Ro]=null),e[$n]=t;const s=e[Lf];null!==s&&t!==s&&function hre(n,e){const t=n[ju];e[Dn]!==e[$n][$n][Dn]&&(n[Ee]|=GC.HasTransplantedViews),null===t?n[ju]=[e]:t.push(e)}(s,e);const a=e[Js];null!==a&&a.insertView(n),JC(e),e[Ee]|=128}(r,e,n,t),i){const s=_E(t,n),a=e[Ve],l=Qb(a,n[ts]);null!==l&&function cre(n,e,t,i,r,o){i[yn]=r,i[er]=e,Jb(n,i,t,1,r,o)}(r,n[er],a,e,l,s)}const o=e[No];null!==o&&null!==o.firstChild&&(o.firstChild=null)}function up(n,e,t,i,r=!1){for(;null!==t;){const o=e[t.index];null!==o&&i.push($t(o)),nr(o)&&w4(o,i);const s=t.type;if(8&s)up(n,e,t.child,i);else if(32&s){const a=hE(t,e);let l;for(;l=a();)i.push(l)}else if(16&s){const a=t4(e,t);if(Array.isArray(a))i.push(...a);else{const l=oc(e[Dn]);up(l[ie],l,a,i,!0)}}t=r?t.projectionNext:t.next}return i}function w4(n,e){for(let t=Gn;t<n.length;t++){const i=n[t],r=i[ie].firstChild;null!==r&&up(i[ie],i,r,e)}n[ts]!==n[yn]&&e.push(n[ts])}let C4=[];const Xre={...w,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{jf(n.lView)},consumerOnSignalRead(){this.lView[ic]=this}};function E4(n){return I4(n[Ff])}function T4(n){return I4(n[Ro])}function I4(n){for(;null!==n&&!nr(n);)n=n[Ro];return n}function iy(n,e=!0,t=0){const i=n[Zs],r=i.rendererFactory;r.begin?.();try{!function eoe(n,e){OE(n,e);let t=0;for(;ZC(n);){if(100===t)throw new H(103,!1);t++,OE(n,1)}}(n,t)}catch(s){throw e&&ny(n,s),s}finally{r.end?.(),i.inlineEffectRunner?.flush()}}function toe(n,e,t,i){const r=e[Ee];if(!(256&~r))return;e[Zs].inlineEffectRunner?.flush(),a1(e);let s=null,a=null;(function noe(n){return 2!==n.type})(n)&&(a=function Kre(n){return n[ic]??function Yre(n){const e=C4.pop()??Object.create(Xre);return e.lView=n,e}(n)}(e),s=fe(a));try{o3(e),function d3(n){return Pe.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&c4(n,e,t,2,i);const l=!(3&~r);if(l){const d=n.preOrderCheckHooks;null!==d&&Ob(e,d,null)}else{const d=n.preOrderHooks;null!==d&&Pb(e,d,0,null),G1(e,0)}if(function ioe(n){for(let e=E4(n);null!==e;e=T4(e)){if(!(e[Ee]&GC.HasTransplantedViews))continue;const t=e[ju];for(let i=0;i<t.length;i++){wte(t[i])}}}(e),D4(e,0),null!==n.contentQueries&&_4(n,e),l){const d=n.contentCheckHooks;null!==d&&Ob(e,d)}else{const d=n.contentHooks;null!==d&&Pb(e,d,1),G1(e,1)}!function xre(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let i=0;i<t.length;i++){const r=t[i];if(r<0)sc(~r);else{const o=r,s=t[++i],a=t[++i];Pte(s,o),a(2,e[o])}}}finally{sc(-1)}}(n,e);const c=n.components;null!==c&&A4(e,c,0);const u=n.viewQuery;if(null!==u&&DE(2,u,i),l){const d=n.viewCheckHooks;null!==d&&Ob(e,d)}else{const d=n.viewHooks;null!==d&&Pb(e,d,2),G1(e,2)}if(!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[tb]){for(const d of e[tb])d();e[tb]=null}e[Ee]&=-73}catch(l){throw jf(e),l}finally{null!==a&&(Yt(a,s),function Qre(n){n.lView[ic]!==n&&(n.lView=null,C4.push(n))}(a)),l1()}}function D4(n,e){for(let t=E4(n);null!==t;t=T4(t))for(let i=Gn;i<t.length;i++)S4(t[i],e)}function roe(n,e,t){S4(Qr(e,n),t)}function S4(n,e){XC(n)&&OE(n,e)}function OE(n,e){const i=n[ie],r=n[Ee],o=n[ic];let s=!!(0===e&&16&r);if(s||=!!(64&r&&0===e),s||=!!(1024&r),s||=!(!o?.dirty||!mr(o)),o&&(o.dirty=!1),n[Ee]&=-9217,s)toe(i,n,i.template,n[tn]);else if(8192&r){D4(n,1);const a=i.components;null!==a&&A4(n,a,1)}}function A4(n,e,t){for(let i=0;i<e.length;i++)roe(n,e[i],t)}function dp(n){for(n[Zs].changeDetectionScheduler?.notify();n;){n[Ee]|=64;const e=oc(n);if(WC(n)&&!e)return n;n=e}return null}class hp{get rootNodes(){const e=this._lView,t=e[ie];return up(t,e,t.firstChild,[])}constructor(e,t,i=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[tn]}set context(e){this._lView[tn]=e}get destroyed(){return!(256&~this._lView[Ee])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[$n];if(nr(e)){const t=e[8],i=t?t.indexOf(this):-1;i>-1&&(op(e,i),lb(t,i))}this._attachedToViewContainer=!1}Yb(this._lView[ie],this._lView)}onDestroy(e){rb(this._lView,e)}markForCheck(){dp(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ee]&=-129}reattach(){JC(this._lView),this._lView[Ee]|=128}detectChanges(){this._lView[Ee]|=1024,iy(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new H(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,q5(this._lView[ie],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new H(902,!1);this._appRef=e,JC(this._lView)}}let cs=(()=>{class n{static{this.__NG_ELEMENT_ID__=aoe}}return n})();const ooe=cs,soe=class extends ooe{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,i){const r=function lp(n,e,t,i){const r=e.tView,a=ey(n,r,t,4096&n[Ee]?4096:16,null,e,null,null,null,i?.injector??null,i?.dehydratedView??null);a[Lf]=n[e.index];const c=n[Js];return null!==c&&(a[Js]=c.createEmbeddedView(r)),AE(r,a,t),a}(this._declarationLView,this._declarationTContainer,e,{injector:t,dehydratedView:i});return new hp(r)}};function aoe(){return ry(Vt(),K())}function ry(n,e){return 4&n.type?new soe(e,n,qu(n,e)):null}class VE{}class Soe{}class L4{}class koe{resolveComponentFactory(e){throw function Aoe(n){const e=Error(`No component factory found for ${pi(n)}.`);return e.ngComponent=n,e}(e)}}let md=(()=>{class n{static{this.NULL=new koe}}return n})();class BE{}let us=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function Ooe(){const n=K(),t=Qr(Vt().index,n);return(tr(t)?t:n)[Ve]}()}}return n})(),Poe=(()=>{class n{static{this.\u0275prov=ne({token:n,providedIn:"root",factory:()=>null})}}return n})();const UE={};const U4=new Set;function ds(n){U4.has(n)||(U4.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function z4(n,e){ds("NgSignals");const t=function In(n){const e=Object.create(DC);e.computation=n;const t=()=>{if(k(e),x(e),e.value===Vi)throw e.error;return e.value};return t[P]=e,t}(n);return e?.equal&&(t[P].equal=e.equal),t}function Za(n,e){ds("NgSignals");const t=function Aee(n){const e=Object.create(Oee);e.value=n;const t=()=>(x(e),e.value);return t[P]=e,t}(n),i=t[P];return e?.equal&&(i.equal=e.equal),t.set=r=>TL(i,r),t.update=r=>function kee(n,e){ee()||EL(),TL(n,e(n.value))}(i,r),t.asReadonly=Roe.bind(t),t}function Roe(){const n=this[P];if(void 0===n.readonlyFn){const e=()=>this();e[P]=n,n.readonlyFn=e}return n.readonlyFn}function j4(n){return function B4(n){return"function"==typeof n&&void 0!==n[P]}(n)&&"function"==typeof n.set}function cy(n){return!!function zE(n){return null!==n&&("function"==typeof n||"object"==typeof n)}(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}class $4{constructor(){}supports(e){return cy(e)}create(e){return new Voe(e)}}const Loe=(n,e)=>e;class Voe{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Loe}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,r=0,o=null;for(;t||i;){const s=!i||t&&t.currentIndex<q4(i,r,o)?t:i,a=q4(s,r,o),l=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(t=t._next,null==s.previousIndex)r++;else{o||(o=[]);const c=a-r,u=l-r;if(c!=u){for(let h=0;h<c;h++){const m=h<o.length?o[h]:o[h]=0,y=m+h;u<=y&&y<c&&(o[h]=m+1)}o[s.previousIndex]=u-c}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!cy(e))throw new H(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let r,o,s,t=this._itHead,i=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==t&&Object.is(t.trackById,s)?(i&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,s,a),i=!0),t=t._next}else r=0,function Foe(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let i;for(;!(i=t.next()).done;)e(i.value)}}(e,a=>{s=this._trackByFn(r,a),null!==t&&Object.is(t.trackById,s)?(i&&(t=this._verifyReinsertion(t,a,s,r)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,r),i=!0),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,r){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,r)):e=this._addAfter(new Boe(t,i),o,r),e}_verifyReinsertion(e,t,i,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?e=this._reinsertAfter(o,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,o=e._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new G4),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,i=e._next;return null===t?this._itHead=i:t._next=i,null===i?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new G4),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class Boe{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Uoe{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===t||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){const t=e._prevDup,i=e._nextDup;return null===t?this._head=i:t._nextDup=i,null===i?this._tail=t:i._prevDup=t,null===this._head}}class G4{constructor(){this.map=new Map}put(e){const t=e.trackById;let i=this.map.get(t);i||(i=new Uoe,this.map.set(t,i)),i.add(e)}get(e,t){const r=this.map.get(e);return r?r.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function q4(n,e,t){const i=n.previousIndex;if(null===i)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+e+r}function K4(){return new jE([new $4])}let jE=(()=>{class n{static{this.\u0275prov=ne({token:n,providedIn:"root",factory:K4})}constructor(t){this.factories=t}static create(t,i){if(null!=i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||K4()),deps:[[n,new Xf,new Gt]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(null!=i)return i;throw new H(901,!1)}}return n})(),gd=(()=>{class n{static{this.__NG_ELEMENT_ID__=$oe}}return n})();function $oe(n){return function Goe(n,e,t){if(rc(n)&&!t){const i=Qr(n.index,e);return new hp(i,i)}return 47&n.type?new hp(e[Dn],e):null}(Vt(),K(),!(16&~n))}let dy=(()=>{class n{static{this.__NG_ELEMENT_ID__=Yoe}static{this.__NG_ENV_ID__=t=>t}}return n})();class Koe extends dy{constructor(e){super(),this._lView=e}onDestroy(e){return rb(this._lView,e),()=>function e1(n,e){if(null===n[Ga])return;const t=n[Ga].indexOf(e);-1!==t&&n[Ga].splice(t,1)}(this._lView,e)}}function Yoe(){return new Koe(K())}const Qoe=new X("",{providedIn:"root",factory:()=>Z(Xoe)});let Xoe=(()=>{class n{static{this.\u0275prov=ne({token:n,providedIn:"root",factory:()=>new Zoe})}}return n})();class Zoe{constructor(){this.hasQueuedFlush=!1,this.queuedEffectCount=0,this.queues=new Map}scheduleEffect(e){this.enqueue(e),this.hasQueuedFlush||(queueMicrotask(()=>this.flush()),this.hasQueuedFlush=!1)}enqueue(e){const t=e.creationZone;this.queues.has(t)||this.queues.set(t,new Set);const i=this.queues.get(t);i.has(e)||(this.queuedEffectCount++,i.add(e))}flush(){for(;this.queuedEffectCount>0;)for(const[e,t]of this.queues)null===e?this.flushQueue(t):e.run(()=>this.flushQueue(t))}flushQueue(e){for(const t of e)e.delete(t),this.queuedEffectCount--,t.run()}}class Joe{constructor(e,t,i,r,o,s){this.scheduler=e,this.effectFn=t,this.creationZone=i,this.injector=o,this.watcher=function Ree(n,e,t){const i=Object.create(Nee);t&&(i.consumerAllowSignalWrites=!0),i.fn=n,i.schedule=e;const r=l=>{i.cleanupFn=l};return i.ref={notify:()=>le(i),run:()=>{if(null===i.fn)return;if(function b(){return W}())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(i.dirty=!1,i.hasRun&&!mr(i))return;i.hasRun=!0;const l=fe(i);try{i.cleanupFn(),i.cleanupFn=kC,i.fn(r)}finally{Yt(i,l)}},cleanup:()=>i.cleanupFn(),destroy:()=>function s(l){(function o(l){return null===l.fn&&null===l.schedule})(l)||(ko(l),l.cleanupFn(),l.fn=null,l.schedule=null,l.cleanupFn=kC)}(i),[P]:i},i.ref}(a=>this.runEffect(a),()=>this.schedule(),s),this.unregisterOnDestroy=r?.onDestroy(()=>this.destroy())}runEffect(e){try{this.effectFn(e)}catch(t){this.injector.get(Vo,null,{optional:!0})?.handleError(t)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}}function X4(...n){}class Te{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new qe(!1),this.onMicrotaskEmpty=new qe(!1),this.onStable=new qe(!1),this.onError=new qe(!1),typeof Zone>"u")throw new H(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&t,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function ese(){const n="function"==typeof Pt.requestAnimationFrame;let e=Pt[n?"requestAnimationFrame":"setTimeout"],t=Pt[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function ise(n){const e=()=>{!function nse(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Pt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,$E(n),n.isCheckStableRunning=!0,HE(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),$E(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,i,r,o,s,a)=>{if(function rse(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return t.invokeTask(r,o,s,a);try{return Z4(n),t.invokeTask(r,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&e(),J4(n)}},onInvoke:(t,i,r,o,s,a,l)=>{try{return Z4(n),t.invoke(r,o,s,a,l)}finally{n.shouldCoalesceRunChangeDetection&&e(),J4(n)}},onHasTask:(t,i,r,o)=>{t.hasTask(r,o),i===r&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,$E(n),HE(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,i,r,o)=>(t.handleError(r,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Te.isInAngularZone())throw new H(909,!1)}static assertNotInAngularZone(){if(Te.isInAngularZone())throw new H(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,e,tse,X4,X4);try{return o.runTask(s,t,i)}finally{o.cancelTask(s)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}}const tse={};function HE(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function $E(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function Z4(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function J4(n){n._nesting--,HE(n)}class eV{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new qe,this.onMicrotaskEmpty=new qe,this.onStable=new qe,this.onError=new qe}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}}var pc=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(pc||{});const tV={destroy(){}};function nV(n,e){!e&&Sb();const t=e?.injector??Z(qt);if(!function Qa(n){return"browser"===(n??Z(qt)).get(po)}(t))return tV;ds("NgAfterNextRender");const i=t.get(_p),r=i.handler??=new rV,o=e?.phase??pc.MixedReadWrite,s=()=>{r.unregister(l),a()},a=t.get(dy).onDestroy(s),l=new iV(t,o,()=>{s(),n()});return r.register(l),{destroy:s}}class iV{constructor(e,t,i){this.phase=t,this.callbackFn=i,this.zone=e.get(Te),this.errorHandler=e.get(Vo,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}}class rV{constructor(){this.executingCallbacks=!1,this.buckets={[pc.EarlyRead]:new Set,[pc.Write]:new Set,[pc.MixedReadWrite]:new Set,[pc.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(const e of Object.values(this.buckets))for(const t of e)t.invoke();this.executingCallbacks=!1;for(const e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(const e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}}let _p=(()=>{class n{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const t=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const i of t)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static{this.\u0275prov=ne({token:n,providedIn:"root",factory:()=>new n})}}return n})();function fy(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?r=UC(r,a):2==o&&(i=UC(i,a+": "+e[++s]+";"))}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}class aV extends md{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=ot(e);return new vp(t,this.ngModule)}}function lV(n){const e=[];for(const t in n){if(!n.hasOwnProperty(t))continue;const i=n[t];void 0!==i&&e.push({propName:Array.isArray(i)?i[0]:i,templateName:t})}return e}class use{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){i=bb(i);const r=this.injector.get(e,UE,i);return r!==UE||t===UE?r:this.parentInjector.get(e,t,i)}}class vp extends L4{get inputs(){const e=this.componentDef,t=e.inputTransforms,i=lV(e.inputs);if(null!==t)for(const r of i)t.hasOwnProperty(r.propName)&&(r.transform=t[r.propName]);return i}get outputs(){return lV(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function cte(n){return n.map(lte).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,i,r){let o=(r=r||this.ngModule)instanceof Zr?r:r?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new use(e,o):e,a=s.get(BE,null);if(null===a)throw new H(407,!1);const d={rendererFactory:a,sanitizer:s.get(Poe,null),inlineEffectRunner:null,afterRenderEventManager:s.get(_p,null),changeDetectionScheduler:s.get(VE,null)},h=a.createRenderer(null,this.componentDef),m=this.componentDef.selectors[0][0]||"div",y=i?function Cre(n,e,t,i){const o=i.get(b5,!1)||t===Oo.ShadowDom,s=n.selectRootElement(e,o);return function Ere(n){d4(n)}(s),s}(h,i,this.componentDef.encapsulation,s):Kb(h,m,function cse(n){const e=n.toLowerCase();return"svg"===e?t3:"math"===e?"math":null}(m));let C=512;this.componentDef.signals?C|=4096:this.componentDef.onPush||(C|=16);let T=null;null!==y&&(T=A1(y,s,!0));const S=EE(0,null,null,1,0,null,null,null,null,null,null),D=ey(null,S,null,C,null,null,d,h,s,null,T);let F,Y;a1(D);try{const re=this.componentDef;let ue,Oe=null;re.findHostDirectiveDefs?(ue=[],Oe=new Map,re.findHostDirectiveDefs(re,ue,Oe),ue.push(re)):ue=[re];const et=function hse(n,e){const t=n[ie],i=Ue;return n[i]=e,hd(t,i,2,"#host",null)}(D,y),Tn=function fse(n,e,t,i,r,o,s){const a=r[ie];!function pse(n,e,t,i){for(const r of n)e.mergedAttrs=Nf(e.mergedAttrs,r.hostAttrs);null!==e.mergedAttrs&&(fy(e,e.mergedAttrs,!0),null!==t&&s4(i,t,e))}(i,n,e,s);let l=null;null!==e&&(l=A1(e,r[Ui]));const c=o.rendererFactory.createRenderer(e,t);let u=16;t.signals?u=4096:t.onPush&&(u=64);const d=ey(r,u4(t),null,u,r[n.index],n,o,c,null,null,l);return a.firstCreatePass&&IE(a,n,i.length-1),ty(r,d),r[n.index]=d}(et,y,re,ue,D,d,h);Y=zf(S,Ue),y&&function gse(n,e,t,i){if(i)HC(n,t,["ng-version","17.2.3"]);else{const{attrs:r,classes:o}=function ute(n){const e=[],t=[];let i=1,r=2;for(;i<n.length;){let o=n[i];if("string"==typeof o)2===r?""!==o&&e.push(o,n[++i]):8===r&&t.push(o);else{if(!Po(r))break;r=o}i++}return{attrs:e,classes:t}}(e.selectors[0]);r&&HC(n,t,r),o&&o.length>0&&o4(n,t,o.join(" "))}}(h,re,y,i),void 0!==t&&function _se(n,e,t){const i=n.projection=[];for(let r=0;r<e.length;r++){const o=t[r];i.push(null!=o?Array.from(o):null)}}(Y,this.ngContentSelectors,t),F=function mse(n,e,t,i,r,o){const s=Vt(),a=r[ie],l=gr(s,r);p4(a,r,s,t,null,i);for(let u=0;u<t.length;u++)rr(dc(r,a,s.directiveStart+u,s),r);m4(a,r,s),l&&rr(l,r);const c=dc(r,a,s.directiveStart+s.componentOffset,s);if(n[tn]=r[tn]=c,null!==o)for(const u of o)u(c,e);return xE(a,s,r),c}(Tn,re,ue,Oe,D,[bse]),AE(S,D,null)}finally{l1()}return new dse(this.componentType,F,qu(Y,D),D,Y)}}class dse extends Soe{constructor(e,t,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new hp(r,void 0,!1),this.componentType=e}setInput(e,t){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;const o=this._rootLView;SE(o[ie],o,r,e,t),this.previousInputValues.set(e,t),dp(Qr(this._tNode.index,o))}}get injector(){return new _i(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function bse(){const n=Vt();kb(K()[ie],n)}let mo=(()=>{class n{static{this.__NG_ELEMENT_ID__=yse}}return n})();function yse(){return dV(Vt(),K())}const vse=mo,cV=class extends vse{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return qu(this._hostTNode,this._hostLView)}get injector(){return new _i(this._hostTNode,this._hostLView)}get parentInjector(){const e=Fb(this._hostTNode,this._hostLView);if(W1(e)){const t=tp(e,this._hostLView),i=ep(e);return new _i(t[ie].data[i+8],t)}return new _i(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=uV(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-Gn}createEmbeddedView(e,t,i){let r,o;"number"==typeof i?r=i:null!=i&&(r=i.index,o=i.injector);const a=e.createEmbeddedViewImpl(t||{},o,null);return this.insertImpl(a,r,fd(this._hostTNode,null)),a}createComponent(e,t,i,r,o){const s=e&&!function Zf(n){return"function"==typeof n}(e);let a;if(s)a=t;else{const y=t||{};a=y.index,i=y.injector,r=y.projectableNodes,o=y.environmentInjector||y.ngModuleRef}const l=s?e:new vp(ot(e)),c=i||this.parentInjector;if(!o&&null==l.ngModule){const C=(s?c:this.parentInjector).get(Zr,null);C&&(o=C)}ot(l.componentType??{});const m=l.create(c,r,null,o);return this.insertImpl(m.hostView,a,fd(this._hostTNode,null)),m}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,i){const r=e._lView;if(function xte(n){return nr(n[$n])}(r)){const a=this.indexOf(e);if(-1!==a)this.detach(a);else{const l=r[$n],c=new cV(l,l[er],l[$n]);c.detach(c.indexOf(e))}}const o=this._adjustIndex(t),s=this._lContainer;return cp(s,r,o,i),e.attachToViewContainerRef(),x3(KE(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=uV(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),i=op(this._lContainer,t);i&&(lb(KE(this._lContainer),t),Yb(i[ie],i))}detach(e){const t=this._adjustIndex(e,-1),i=op(this._lContainer,t);return i&&null!=lb(KE(this._lContainer),t)?new hp(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function uV(n){return n[8]}function KE(n){return n[8]||(n[8]=[])}function dV(n,e){let t;const i=e[n.index];return nr(i)?t=i:(t=g4(i,e,null,n),e[n.index]=t,ty(e,t)),hV(t,e,n,i),new cV(t,n,e)}let hV=function pV(n,e,t,i){if(n[ts])return;let r;r=8&t.type?$t(i):function xse(n,e){const t=n[Ve],i=t.createComment(""),r=gr(e,n);return fc(t,Qb(t,r),i,function gre(n,e){return n.nextSibling(e)}(t,r),!1),i}(e,t),n[ts]=r},YE=()=>!1;class QE{constructor(e){this.queryList=e,this.matches=null}clone(){return new QE(this.queryList)}setDirty(){this.queryList.setDirty()}}class XE{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const i=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let o=0;o<i;o++){const s=t.getByIndex(o);r.push(this.queries[s.indexInDeclarationView].clone())}return new XE(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==nT(e,t).matches&&this.queries[t].setDirty()}}class mV{constructor(e,t,i=null){this.flags=t,this.read=i,this.predicate="string"==typeof e?function Sse(n){return n.split(",").map(e=>e.trim())}(e):e}}class ZE{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){const r=null!==t?t.length:0,o=this.getByIndex(i).embeddedTView(e,r);o&&(o.indexInDeclarationView=i,null!==t?t.push(o):t=[o])}return null!==t?new ZE(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class JE{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new JE(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1&~this.metadata.flags){const t=this._declarationNodeIndex;let i=e.parent;for(;null!==i&&8&i.type&&i.index!==t;)i=i.parent;return t===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];this.matchTNodeWithReadOption(e,t,Tse(t,o)),this.matchTNodeWithReadOption(e,t,Lb(t,e,o,!1,!1))}else i===cs?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Lb(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===Bt||r===mo||r===cs&&4&t.type)this.addMatch(t.index,-2);else{const o=Lb(t,e,r,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,i)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function Tse(n,e){const t=n.localNames;if(null!==t)for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1];return null}function Mse(n,e,t,i){return-1===t?function Ise(n,e){return 11&n.type?qu(n,e):4&n.type?ry(n,e):null}(e,n):-2===t?function Dse(n,e,t){return t===Bt?qu(e,n):t===cs?ry(e,n):t===mo?dV(e,n):void 0}(n,e,i):dc(n,n[ie],t,e)}function gV(n,e,t,i){const r=e[Js].queries[i];if(null===r.matches){const o=n.data,s=t.matches,a=[];for(let l=0;null!==s&&l<s.length;l+=2){const c=s[l];a.push(c<0?null:Mse(e,o[c],s[l+1],t.metadata.read))}r.matches=a}return r.matches}function eT(n,e,t,i){const r=n.queries.getByIndex(t),o=r.matches;if(null!==o){const s=gV(n,e,r,t);for(let a=0;a<o.length;a+=2){const l=o[a];if(l>0)i.push(s[a/2]);else{const c=o[a+1],u=e[-l];for(let d=Gn;d<u.length;d++){const h=u[d];h[Lf]===h[$n]&&eT(h[ie],h,c,i)}if(null!==u[ju]){const d=u[ju];for(let h=0;h<d.length;h++){const m=d[h];eT(m[ie],m,c,i)}}}}}return i}function _V(n,e,t){const i=new $f(!(4&~t));return function Mre(n,e,t,i){const r=b4(e);r.push(t),n.firstCreatePass&&y4(n).push(i,r.length-1)}(n,e,i,i.destroy),(e[Js]??=new XE).queries.push(new QE(i))-1}function vV(n,e,t){null===n.queries&&(n.queries=new ZE),n.queries.track(new JE(e,t))}function nT(n,e){return n.queries.getByIndex(e)}function xV(n,e){const t=n[ie],i=nT(t,e);return i.crossesNgTemplate?eT(t,n,e,[]):gV(t,n,i,e)}function pt(n){let e=function OV(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const i=[n];for(;e;){let r;if(Fo(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new H(903,!1);r=e.\u0275dir}if(r){if(t){i.push(r);const s=n;s.inputs=my(n.inputs),s.inputTransforms=my(n.inputTransforms),s.declaredInputs=my(n.declaredInputs),s.outputs=my(n.outputs);const a=r.hostBindings;a&&$se(n,a);const l=r.viewQuery,c=r.contentQueries;if(l&&jse(n,l),c&&Hse(n,c),Use(n,r),Jee(n.outputs,r.outputs),Fo(r)&&r.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(r.data.animation)}}const o=r.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===pt&&(t=!1)}}e=Object.getPrototypeOf(e)}!function zse(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=Nf(r.hostAttrs,t=Nf(t,r.hostAttrs))}}(i)}function Use(n,e){for(const t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;const i=e.inputs[t];if(void 0!==i&&(n.inputs[t]=i,n.declaredInputs[t]=e.declaredInputs[t],null!==e.inputTransforms)){const r=Array.isArray(i)?i[0]:i;if(!e.inputTransforms.hasOwnProperty(r))continue;n.inputTransforms??={},n.inputTransforms[r]=e.inputTransforms[r]}}}function my(n){return n===es?{}:n===Et?[]:n}function jse(n,e){const t=n.viewQuery;n.viewQuery=t?(i,r)=>{e(i,r),t(i,r)}:e}function Hse(n,e){const t=n.contentQueries;n.contentQueries=t?(i,r,o)=>{e(i,r,o),t(i,r,o)}:e}function $se(n,e){const t=n.hostBindings;n.hostBindings=t?(i,r)=>{e(i,r),t(i,r)}:e}function gy(n){const e=n.inputConfig,t={};for(const i in e)if(e.hasOwnProperty(i)){const r=e[i];Array.isArray(r)&&r[3]&&(t[i]=r[3])}n.inputTransforms=t}class mc{}class FV{}class rT extends mc{constructor(e,t,i){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new aV(this);const r=Ji(e);this._bootstrapComponents=to(r.bootstrap),this._r3Injector=p5(e,t,[{provide:mc,useValue:this},{provide:md,useValue:this.componentFactoryResolver},...i],pi(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class oT extends FV{constructor(e){super(),this.moduleType=e}create(e){return new rT(this.moduleType,e,[])}}class LV extends mc{constructor(e){super(),this.componentFactoryResolver=new aV(this),this.instance=null;const t=new id([...e.providers,{provide:mc,useValue:this},{provide:md,useValue:this.componentFactoryResolver}],e.parent||Db(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function _y(n,e,t=null){return new LV({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}let wp=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new fi(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function qn(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function hn(n,e,t,i,r,o,s,a){const l=K(),c=ft(),u=n+Ue,d=c.firstCreatePass?function eae(n,e,t,i,r,o,s,a,l){const c=e.consts,u=hd(e,n,4,s||null,ns(c,a));TE(e,t,u,ns(c,l)),kb(e,u);const d=u.tView=EE(2,u,i,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,c,l,e,t,i,r,o,s):c.data[u];is(d,!1);const h=VV(c,l,d,n);ab()&&Xb(c,l,h,d),rr(h,l);const m=g4(h,l,h,d);return l[u]=m,ty(l,m),function fV(n,e,t){return YE(n,e,t)}(m,d,l),ib(d)&&wE(c,l,d),null!=s&&CE(l,d,a),hn}let VV=function BV(n,e,t,i){return qa(!0),e[Ve].createComment("")};function Yn(n,e,t,i){const r=K();return qn(r,Lo(),e)&&(ft(),ls(nn(),r,n,e,t,i)),Yn}function Ty(n,e){return n<<17|e<<2}function nl(n){return n>>17&32767}function mT(n){return 2|n}function bc(n){return(131068&n)>>2}function gT(n,e){return-131069&n|e<<2}function _T(n){return 1|n}function gB(n,e,t,i){const r=n[t+1],o=null===e;let s=i?nl(r):bc(r),a=!1;for(;0!==s&&(!1===a||o);){const c=n[s+1];Vae(n[s],e)&&(a=!0,n[s+1]=i?_T(c):mT(c)),s=i?nl(c):bc(c)}a&&(n[t+1]=i?mT(r):_T(r))}function Vae(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Ku(n,e)>=0}const bi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function _B(n){return n.substring(bi.key,bi.keyEnd)}function bB(n,e){const t=bi.textEnd;return t===e?-1:(e=bi.keyEnd=function jae(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,bi.key=e,t),Pd(n,e,t))}function Pd(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function ct(n,e,t){const i=K();return qn(i,Lo(),e)&&Nr(ft(),nn(),i,n,e,i[Ve],t,!1),ct}function bT(n,e,t,i,r){const s=r?"class":"style";SE(n,t,e.inputs[s],s,i)}function yc(n,e,t){return Bo(n,e,t,!1),yc}function br(n,e){return Bo(n,e,null,!0),br}function Mp(n){!function Uo(n,e,t,i){const r=ft(),o=ta(2);r.firstUpdatePass&&EB(r,null,o,i);const s=K();if(t!==Ge&&qn(s,o,t)){const a=r.data[ir()];if(DB(a,i)&&!CB(r,o)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(t=UC(l,t||"")),bT(r,a,s,t,i)}else!function Zae(n,e,t,i,r,o,s,a){r===Ge&&(r=Et);let l=0,c=0,u=0<r.length?r[0]:null,d=0<o.length?o[0]:null;for(;null!==u||null!==d;){const h=l<r.length?r[l+1]:void 0,m=c<o.length?o[c+1]:void 0;let C,y=null;u===d?(l+=2,c+=2,h!==m&&(y=d,C=m)):null===d||null!==u&&u<d?(l+=2,y=u):(c+=2,y=d,C=m),null!==y&&IB(n,e,t,i,y,C,s,a),u=l<r.length?r[l]:null,d=c<o.length?o[c]:null}}(r,a,s,s[Ve],s[o+1],s[o+1]=function Qae(n,e,t){if(null==t||""===t)return Et;const i=[],r=eo(t);if(Array.isArray(r))for(let o=0;o<r.length;o++)n(i,r[o],!0);else if("object"==typeof r)for(const o in r)r.hasOwnProperty(o)&&n(i,o,r[o]);else"string"==typeof r&&e(i,r);return i}(n,e,t),i,o)}}(Xae,ps,n,!0)}function ps(n,e){for(let t=function Uae(n){return function vB(n){bi.key=0,bi.keyEnd=0,bi.value=0,bi.valueEnd=0,bi.textEnd=n.length}(n),bB(n,Pd(n,0,bi.textEnd))}(e);t>=0;t=bB(e,t))Xr(n,_B(e),!0)}function Bo(n,e,t,i){const r=K(),o=ft(),s=ta(2);o.firstUpdatePass&&EB(o,n,s,i),e!==Ge&&qn(r,s,e)&&IB(o,o.data[ir()],r,r[Ve],n,r[s+1]=function Jae(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=pi(eo(n)))),n}(e,t),i,s)}function CB(n,e){return e>=n.expandoStartIndex}function EB(n,e,t,i){const r=n.data;if(null===r[t+1]){const o=r[ir()],s=CB(n,t);DB(o,i)&&null===e&&!s&&(e=!1),e=function qae(n,e,t,i){const r=o1(n);let o=i?e.residualClasses:e.residualStyles;if(null===r)0===(i?e.classBindings:e.styleBindings)&&(t=Dp(t=yT(null,n,e,t,i),e.attrs,i),o=null);else{const s=e.directiveStylingLast;if(-1===s||n[s]!==r)if(t=yT(r,n,e,t,i),null===o){let l=function Wae(n,e,t){const i=t?e.classBindings:e.styleBindings;if(0!==bc(i))return n[nl(i)]}(n,e,i);void 0!==l&&Array.isArray(l)&&(l=yT(null,n,e,l[1],i),l=Dp(l,e.attrs,i),function Kae(n,e,t,i){n[nl(t?e.classBindings:e.styleBindings)]=i}(n,e,i,l))}else o=function Yae(n,e,t){let i;const r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++)i=Dp(i,n[o].hostAttrs,t);return Dp(i,e.attrs,t)}(n,e,i)}return void 0!==o&&(i?e.residualClasses=o:e.residualStyles=o),t}(r,o,e,i),function Fae(n,e,t,i,r,o){let s=o?e.classBindings:e.styleBindings,a=nl(s),l=bc(s);n[i]=t;let u,c=!1;if(Array.isArray(t)?(u=t[1],(null===u||Ku(t,u)>0)&&(c=!0)):u=t,r)if(0!==l){const h=nl(n[a+1]);n[i+1]=Ty(h,a),0!==h&&(n[h+1]=gT(n[h+1],i)),n[a+1]=function Rae(n,e){return 131071&n|e<<17}(n[a+1],i)}else n[i+1]=Ty(a,0),0!==a&&(n[a+1]=gT(n[a+1],i)),a=i;else n[i+1]=Ty(l,0),0===a?a=i:n[l+1]=gT(n[l+1],i),l=i;c&&(n[i+1]=mT(n[i+1])),gB(n,u,i,!0),gB(n,u,i,!1),function Lae(n,e,t,i,r){const o=r?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof e&&Ku(o,e)>=0&&(t[i+1]=_T(t[i+1]))}(e,u,n,i,o),s=Ty(a,l),o?e.classBindings=s:e.styleBindings=s}(r,o,e,t,s,i)}}function yT(n,e,t,i,r){let o=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(o=e[a],i=Dp(i,o.hostAttrs,r),o!==n);)a++;return null!==n&&(t.directiveStylingLast=a),i}function Dp(n,e,t){const i=t?1:2;let r=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?r=s:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Xr(n,s,!!t||e[++o]))}return void 0===n?null:n}function Xae(n,e,t){const i=String(e);""!==i&&!i.includes(" ")&&Xr(n,i,t)}function IB(n,e,t,i,r,o,s,a){if(!(3&e.type))return;const l=n.data,c=l[a+1],u=function Nae(n){return!(1&~n)}(c)?MB(l,e,t,r,bc(c),s):void 0;Iy(u)||(Iy(o)||function Pae(n){return!(2&~n)}(c)&&(o=MB(l,null,t,r,a,s)),function yre(n,e,t,i,r){if(e)r?n.addClass(t,i):n.removeClass(t,i);else{let o=-1===i.indexOf("-")?void 0:Xa.DashCase;null==r?n.removeStyle(t,i,o):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=Xa.Important),n.setStyle(t,i,r,o))}}(i,s,Uf(ir(),t),r,o))}function MB(n,e,t,i,r,o){const s=null===e;let a;for(;r>0;){const l=n[r],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let h=t[r+1];h===Ge&&(h=d?Et:void 0);let m=d?u1(h,i):u===i?h:void 0;if(c&&!Iy(m)&&(m=u1(l,i)),Iy(m)&&(a=m,s))return a;const y=n[r+1];r=s?nl(y):bc(y)}if(null!==e){let l=o?e.residualClasses:e.residualStyles;null!=l&&(a=u1(l,i))}return a}function Iy(n){return void 0!==n}function DB(n,e){return!!(n.flags&(e?8:16))}function p(n,e,t,i){const r=K(),o=ft(),s=Ue+n,a=r[Ve],l=o.firstCreatePass?function wle(n,e,t,i,r,o){const s=e.consts,l=hd(e,n,2,i,ns(s,r));return TE(e,t,l,ns(s,o)),null!==l.attrs&&fy(l,l.attrs,!1),null!==l.mergedAttrs&&fy(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(s,o,r,e,t,i):o.data[s],c=OB(o,r,l,a,e,n);r[s]=c;const u=ib(l);return is(l,!0),s4(a,c,l),!!(32&~l.flags)&&ab()&&Xb(o,r,c,l),0===function Cte(){return Pe.lFrame.elementDepthCount}()&&rr(c,r),function Ete(){Pe.lFrame.elementDepthCount++}(),u&&(wE(o,r,l),xE(o,l,r)),null!==i&&CE(r,l),p}function f(){let n=Vt();t1()?n1():(n=n.parent,is(n,!1));const e=n;(function Ite(n){return Pe.skipHydrationRootTNode===n})(e)&&function Ate(){Pe.skipHydrationRootTNode=null}(),function Tte(){Pe.lFrame.elementDepthCount--}();const t=ft();return t.firstCreatePass&&(kb(t,n),qC(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function Wne(n){return!!(8&n.flags)}(e)&&bT(t,e,K(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function Kne(n){return!!(16&n.flags)}(e)&&bT(t,e,K(),e.stylesWithoutHost,!1),f}function $(n,e,t,i){return p(n,e,t,i),f(),$}let OB=(n,e,t,i,r,o)=>(qa(!0),Kb(i,r,function b3(){return Pe.lFrame.currentNamespace}()));function ET(n,e,t){const i=K(),r=ft(),o=n+Ue,s=r.firstCreatePass?function Tle(n,e,t,i,r){const o=e.consts,s=ns(o,i),a=hd(e,n,8,"ng-container",s);return null!==s&&fy(a,s,!0),TE(e,t,a,ns(o,r)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,r,i,e,t):r.data[o];is(s,!0);const a=PB(r,i,s,n);return i[o]=a,ab()&&Xb(r,i,a,s),rr(a,i),ib(s)&&(wE(r,i,s),xE(r,s,i)),null!=t&&CE(i,s),ET}function TT(){let n=Vt();const e=ft();return t1()?n1():(n=n.parent,is(n,!1)),e.firstCreatePass&&(kb(e,n),qC(n)&&e.queries.elementEnd(n)),TT}function Sp(n,e,t){return ET(n,e,t),TT(),Sp}let PB=(n,e,t,i)=>(qa(!0),fE(e[Ve],""));function Tt(){return K()}function My(n,e,t){const i=K();return qn(i,Lo(),e)&&Nr(ft(),nn(),i,n,e,i[Ve],t,!0),My}function IT(n,e,t){const i=K();if(qn(i,Lo(),e)){const o=ft(),s=nn();Nr(o,s,i,n,e,v4(o1(o.data),s,i),t,!0)}return IT}const vc=void 0;var Sle=["en",[["a","p"],["AM","PM"],vc],[["AM","PM"],vc,vc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],vc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],vc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",vc,"{1} 'at' {0}",vc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Dle(n){const t=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===i?1:5}];let Rd={};function yr(n){const e=function Ale(n){return n.toLowerCase().replace(/_/g,"-")}(n);let t=NB(e);if(t)return t;const i=e.split("-")[0];if(t=NB(i),t)return t;if("en"===i)return Sle;throw new H(701,!1)}function NB(n){return n in Rd||(Rd[n]=Pt.ng&&Pt.ng.common&&Pt.ng.common.locales&&Pt.ng.common.locales[n]),Rd[n]}var on=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(on||{});const Nd="en-US";let FB=Nd;function B(n,e,t,i){const r=K(),o=ft(),s=Vt();return AT(o,r,r[Ve],s,n,e,i),B}function ST(n,e){const t=Vt(),i=K(),r=ft();return AT(r,i,v4(o1(r.data),t,i),t,n,e),ST}function AT(n,e,t,i,r,o,s){const a=ib(i),c=n.firstCreatePass&&y4(n),u=e[tn],d=b4(e);let h=!0;if(3&i.type||s){const C=gr(i,e),T=s?s(C):C,S=d.length,D=s?Y=>s($t(Y[i.index])):i.index;let F=null;if(!s&&a&&(F=function Ece(n,e,t,i){const r=n.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const s=r[o];if(s===t&&r[o+1]===i){const a=e[Bu],l=r[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(n,e,r,i.index)),null!==F)(F.__ngLastListenerFn__||F).__ngNextListenerFn__=o,F.__ngLastListenerFn__=o,h=!1;else{o=lU(i,e,u,o,!1);const Y=t.listen(T,r,o);d.push(o,Y),c&&c.push(r,D,S,S+1)}}else o=lU(i,e,u,o,!1);const m=i.outputs;let y;if(h&&null!==m&&(y=m[r])){const C=y.length;if(C)for(let T=0;T<C;T+=2){const re=e[y[T]][y[T+1]].subscribe(o),ue=d.length;d.push(o,re),c&&c.push(r,i.index,ue,"function"==typeof re?ue+1:-(ue+1))}}}function aU(n,e,t,i){try{return os(6,e,t),!1!==t(i)}catch(r){return ny(n,r),!1}finally{os(7,e,t)}}function lU(n,e,t,i,r){return function o(s){if(s===Function)return i;dp(n.componentOffset>-1?Qr(n.index,e):e);let l=aU(e,t,i,s),c=o.__ngNextListenerFn__;for(;c;)l=aU(e,t,c,s)&&l,c=c.__ngNextListenerFn__;return r&&!1===l&&s.preventDefault(),l}}function Rt(n=1){return function Fte(n){return(Pe.lFrame.contextLView=function s3(n,e){for(;n>0;)e=e[Uu],n--;return e}(n,Pe.lFrame.contextLView))[tn]}(n)}function Tce(n,e){let t=null;const i=function rte(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(n);for(let r=0;r<e.length;r++){const o=e[r];if("*"!==o){if(null===i?GL(n,o,!0):ate(i,o))return r}else t=r}return t}function xc(n){const e=K()[Dn][er];if(!e.projection){const i=e.projection=function cb(n,e){const t=[];for(let i=0;i<n;i++)t.push(e);return t}(n?n.length:1,null),r=i.slice();let o=e.child;for(;null!==o;){const s=n?Tce(o,n):0;null!==s&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o),o=o.next}}}function Lr(n,e=0,t){const i=K(),r=ft(),o=hd(r,Ue+n,16,null,t||null);null===o.projection&&(o.projection=e),n1(),(!i[No]||$u())&&32&~o.flags&&function _re(n,e,t){r4(e[Ve],0,e,t,mE(n,t,e),X5(t.parent||e[er],t,e))}(r,i,o)}function OT(n,e,t,i){!function yV(n,e,t,i){const r=ft();if(r.firstCreatePass){const o=Vt();vV(r,new mV(e,t,i),o.index),function Ase(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(r,n),!(2&~t)&&(r.staticContentQueries=!0)}return _V(r,K(),t)}(n,e,t,i)}function Qn(n,e,t){!function bV(n,e,t){const i=ft();return i.firstCreatePass&&(vV(i,new mV(n,e,t),-1),!(2&~e)&&(i.staticViewQueries=!0)),_V(i,K(),e)}(n,e,t)}function Sn(n){const e=K(),t=ft(),i=s1();ob(i+1);const r=nT(t,i);if(n.dirty&&function vte(n){return!(4&~n[Ee])}(e)===!(2&~r.metadata.flags)){if(null===r.matches)n.reset([]);else{const o=xV(e,i);n.reset(o,v3),n.notifyOnChanges()}return!0}return!1}function An(){return function tT(n,e){return n[Js].queries[e].queryList}(K(),s1())}function fn(n){return function Hu(n,e){return n[e]}(function kte(){return Pe.lFrame.contextLView}(),Ue+n)}function g(n,e=""){const t=K(),i=ft(),r=n+Ue,o=i.firstCreatePass?hd(i,r,1,e,null):i.data[r],s=MU(i,t,o,e,n);t[r]=s,ab()&&Xb(i,t,s,o),is(o,!1)}let MU=(n,e,t,i,r)=>(qa(!0),function Wb(n,e){return n.createText(e)}(e[Ve],i));function je(n){return Se("",n,""),je}function Se(n,e,t){const i=K(),r=function Td(n,e,t,i){return qn(n,Lo(),t)?e+ze(t)+i:Ge}(i,n,e,t);return r!==Ge&&function ia(n,e,t){const i=Uf(e,n);!function G5(n,e,t){n.setValue(e,t)}(n[Ve],i,t)}(i,ir(),r),Se}function Ke(n,e,t){j4(e)&&(e=e());const i=K();return qn(i,Lo(),e)&&Nr(ft(),nn(),i,n,e,i[Ve],t,!1),Ke}function Ze(n,e){const t=j4(n);return t&&n.set(e),t}function Ye(n,e){const t=K(),i=ft(),r=Vt();return AT(i,t,t[Ve],r,n,e),Ye}function PT(n,e,t,i,r){if(n=ke(n),Array.isArray(n))for(let o=0;o<n.length;o++)PT(n[o],e,t,i,r);else{const o=ft(),s=K(),a=Vt();let l=cc(n)?n:ke(n.provide);const c=$3(n),u=1048575&a.providerIndexes,d=a.directiveStart,h=a.providerIndexes>>20;if(cc(n)||!n.multi){const m=new Jf(c,r,E),y=NT(l,e,r?u:u+h,d);-1===y?(Q1(Nb(a,s),o,l),RT(o,n,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(m),s.push(m)):(t[y]=m,s[y]=m)}else{const m=NT(l,e,u+h,d),y=NT(l,e,u,u+h),T=y>=0&&t[y];if(r&&!T||!r&&!(m>=0&&t[m])){Q1(Nb(a,s),o,l);const S=function $ce(n,e,t,i,r){const o=new Jf(n,t,E);return o.multi=[],o.index=e,o.componentProviders=0,FU(o,r,i&&!t),o}(r?Hce:jce,t.length,r,i,c);!r&&T&&(t[y].providerFactory=S),RT(o,n,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(S),s.push(S)}else RT(o,n,m>-1?m:y,FU(t[r?y:m],c,!r&&i));!r&&i&&T&&t[y].componentProviders++}}}function RT(n,e,t,i){const r=cc(e),o=function wne(n){return!!n.useClass}(e);if(r||o){const l=(o?ke(e.useClass):e).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){const u=c.indexOf(t);-1===u?c.push(t,[i,l]):c[u+1].push(i,l)}else c.push(t,l)}}}function FU(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function NT(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function jce(n,e,t,i){return FT(this.multi,[])}function Hce(n,e,t,i){const r=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=dc(t,t[ie],this.providerFactory.index,i);o=a.slice(0,s),FT(r,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],FT(r,o);return o}function FT(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function vn(n,e=[]){return t=>{t.providersResolver=(i,r)=>function zce(n,e,t){const i=ft();if(i.firstCreatePass){const r=Fo(n);PT(t,i.data,i.blueprint,r,!0),PT(e,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,e)}}let Gce=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const i=F1(0,t.type),r=i.length>0?_y([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,r)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=ne({token:n,providedIn:"environment",factory:()=>new n(U(Zr))})}}return n})();function or(n){ds("NgStandalone"),n.getStandaloneInjector=e=>e.get(Gce).getOrCreateStandaloneInjector(n)}function QU(n,e){return ry(n,e)}class il{constructor(e){this.full=e;const t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}}const Bue=new il("17.2.3");let hz=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();const _z=new X(""),Ny=new X("");let GT,HT=(()=>{class n{constructor(t,i,r){this._ngZone=t,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,GT||(function dde(n){GT=n}(r),r.addToWindow(i)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Te.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb()}});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(t)||(clearTimeout(i.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t()},i)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:r})}whenStable(t,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,i,r){return[]}static{this.\u0275fac=function(i){return new(i||n)(U(Te),U($T),U(Ny))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac})}}return n})(),$T=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){return GT?.findTestabilityInTree(this,t,i)??null}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();function Bp(n){return!!n&&"function"==typeof n.then}function bz(n){return!!n&&"function"==typeof n.subscribe}const Up=new X("");let qT=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i}),this.appInits=Z(Up,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const r of this.appInits){const o=r();if(Bp(o))t.push(o);else if(bz(o)){const s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});t.push(s)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),0===t.length&&i(),this.initialized=!0}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const WT=new X("");function xz(n,e){return Array.isArray(e)?e.reduce(xz,n):{...n,...e}}let ms=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Z(g5),this.afterRenderEffectManager=Z(_p),this.componentTypes=[],this.components=[],this.isStable=Z(wp).hasPendingTasks.pipe(Le(t=>!t)),this._injector=Z(Zr)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,i){const r=t instanceof L4;if(!this._injector.get(qT).done)throw!r&&function $a(n){const e=ot(n)||mi(n)||Bi(n);return null!==e&&e.standalone}(t),new H(405,!1);let s;s=r?t:this._injector.get(md).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const a=function hde(n){return n.isBoundToModule}(s)?void 0:this._injector.get(mc),c=s.create(qt.NULL,[],i||s.selector,a),u=c.location.nativeElement,d=c.injector.get(_z,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),Fy(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new H(101,!1);try{this._runningTick=!0,this.detectChangesInAttachedViews()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}detectChangesInAttachedViews(){let t=0;const i=this.afterRenderEffectManager;for(;;){if(100===t)throw new H(103,!1);const r=0===t;for(let{_lView:o,notifyErrorHandler:s}of this._views)!r&&!KT(o)||this.detectChangesInView(o,s,r);if(t++,i.executeInternalCallbacks(),!this._views.some(({_lView:o})=>KT(o))&&(i.execute(),!this._views.some(({_lView:o})=>KT(o))))break}}detectChangesInView(t,i,r){let o;r?(o=0,t[Ee]|=1024):o=64&t[Ee]?0:1,iy(t,i,o)}attachView(t){const i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){const i=t;Fy(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const i=this._injector.get(WT,[]);[...this._bootstrapListeners,...i].forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Fy(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new H(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Fy(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function KT(n){return ZC(n)}class pde{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let wz=(()=>{class n{compileModuleSync(t){return new oT(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const i=this.compileModuleSync(t),o=to(Ji(t).declarations).reduce((s,a)=>{const l=ot(a);return l&&s.push(new vp(l)),s},[]);return new pde(i,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),_de=(()=>{class n{constructor(){this.zone=Z(Te),this.applicationRef=Z(ms)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function bde(){const n=Z(Te),e=Z(Vo);return t=>n.runOutsideAngular(()=>e.handleError(t))}let vde=(()=>{class n{constructor(){this.subscription=new hi,this.initialized=!1,this.zone=Z(Te),this.pendingTasks=Z(wp)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Te.assertNotInAngularZone(),queueMicrotask(()=>{null!==t&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Te.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const gs=new X("",{providedIn:"root",factory:()=>Z(gs,ht.Optional|ht.SkipSelf)||function xde(){return typeof $localize<"u"&&$localize.locale||Nd}()}),YT=new X("");let Iz=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,i){const r=function ose(n="zone.js",e){return"noop"===n?new eV:"zone.js"===n?new Te(e):n}(i?.ngZone,function Tz(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return r.run(()=>{const o=function Xse(n,e,t){return new rT(n,e,t)}(t.moduleType,this.injector,function Ez(n){return[{provide:Te,useFactory:n},{provide:lc,multi:!0,useFactory:()=>{const e=Z(_de,{optional:!0});return()=>e.initialize()}},{provide:lc,multi:!0,useFactory:()=>{const e=Z(vde);return()=>{e.initialize()}}},{provide:g5,useFactory:bde}]}(()=>r)),s=o.injector.get(Vo,null);return r.runOutsideAngular(()=>{const a=r.onError.subscribe({next:l=>{s.handleError(l)}});o.onDestroy(()=>{Fy(this._modules,o),a.unsubscribe()})}),function vz(n,e,t){try{const i=t();return Bp(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}(s,r,()=>{const a=o.injector.get(qT);return a.runInitializers(),a.donePromise.then(()=>(function LB(n){"string"==typeof n&&(FB=n.toLowerCase().replace(/_/g,"-"))}(o.injector.get(gs,Nd)||Nd),this._moduleDoBootstrap(o),o))})})}bootstrapModule(t,i=[]){const r=xz({},i);return function gde(n,e,t){const i=new oT(t);return Promise.resolve(i)}(0,0,t).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(t){const i=t.injector.get(ms);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!t.instance.ngDoBootstrap)throw new H(-403,!1);t.instance.ngDoBootstrap(i)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new H(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const t=this._injector.get(YT,null);t&&(t.forEach(i=>i()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(i){return new(i||n)(U(qt))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})(),rl=null;const Mz=new X("");function Dz(n,e,t=[]){const i=`Platform: ${e}`,r=new X(i);return(o=[])=>{let s=QT();if(!s||s.injector.get(Mz,!1)){const a=[...t,...o,{provide:r,useValue:!0}];n?n(a):function Ede(n){if(rl&&!rl.get(Mz,!1))throw new H(400,!1);(function yz(){!function See(n){CL=n}(()=>{throw new H(600,!1)})})(),rl=n;const e=n.get(Iz);(function Az(n){n.get(D3,null)?.forEach(t=>t())})(n)}(function Sz(n=[],e){return qt.create({name:e,providers:[{provide:B1,useValue:"platform"},{provide:YT,useValue:new Set([()=>rl=null])},...n]})}(a,i))}return function Tde(n){const e=QT();if(!e)throw new H(401,!1);return e}()}}function QT(){return rl?.get(Iz)??null}const kde=Dz(null,"core",[]);let Ode=(()=>{class n{constructor(t){}static{this.\u0275fac=function(i){return new(i||n)(U(ms))}}static{this.\u0275mod=nt({type:n})}static{this.\u0275inj=Xe({})}}return n})();function _s(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function iI(n,e=NaN){return isNaN(parseFloat(n))||isNaN(Number(n))?e:Number(n)}let t6=null;function ol(){return t6}class che{}const ut=new X("");let rI=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:()=>Z(dhe),providedIn:"platform"})}}return n})();const uhe=new X("");let dhe=(()=>{class n extends rI{constructor(){super(),this._doc=Z(ut),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ol().getBaseHref(this._doc)}onPopState(t){const i=ol().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=ol().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){this._history.pushState(t,i,r)}replaceState(t,i,r){this._history.replaceState(t,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();function oI(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function n6(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function ra(n){return n&&"?"!==n[0]?"?"+n:n}let sl=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:()=>Z(r6),providedIn:"root"})}}return n})();const i6=new X("");let r6=(()=>{class n extends sl{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??Z(ut).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return oI(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+ra(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,o){const s=this.prepareExternalUrl(r+ra(o));this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){const s=this.prepareExternalUrl(r+ra(o));this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(i){return new(i||n)(U(rI),U(i6,8))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),o6=(()=>{class n extends sl{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){const i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=oI(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,o){let s=this.prepareExternalUrl(r+ra(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){let s=this.prepareExternalUrl(r+ra(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(i){return new(i||n)(U(rI),U(i6,8))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac})}}return n})(),Ln=(()=>{class n{constructor(t){this._subject=new qe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._basePath=function phe(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(n6(s6(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+ra(i))}normalize(t){return n.stripTrailingSlash(function fhe(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,s6(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ra(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ra(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}static{this.normalizeQueryParams=ra}static{this.joinWithSlash=oI}static{this.stripTrailingSlash=n6}static{this.\u0275fac=function(i){return new(i||n)(U(sl))}}static{this.\u0275prov=ne({token:n,factory:()=>function hhe(){return new Ln(U(sl))}(),providedIn:"root"})}}return n})();function s6(n){return n.replace(/\/index.html$/,"")}var xr=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(xr||{}),Xt=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(Xt||{}),io=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(io||{}),Xn=function(n){return n[n.Decimal=0]="Decimal",n[n.Group=1]="Group",n[n.List=2]="List",n[n.PercentSign=3]="PercentSign",n[n.PlusSign=4]="PlusSign",n[n.MinusSign=5]="MinusSign",n[n.Exponential=6]="Exponential",n[n.SuperscriptingExponent=7]="SuperscriptingExponent",n[n.PerMille=8]="PerMille",n[n.Infinity=9]="Infinity",n[n.NaN=10]="NaN",n[n.TimeSeparator=11]="TimeSeparator",n[n.CurrencyDecimal=12]="CurrencyDecimal",n[n.CurrencyGroup=13]="CurrencyGroup",n}(Xn||{});function qy(n,e){return bo(yr(n)[on.DateFormat],e)}function Wy(n,e){return bo(yr(n)[on.TimeFormat],e)}function Ky(n,e){return bo(yr(n)[on.DateTimeFormat],e)}function _o(n,e){const t=yr(n),i=t[on.NumberSymbols][e];if(typeof i>"u"){if(e===Xn.CurrencyDecimal)return t[on.NumberSymbols][Xn.Decimal];if(e===Xn.CurrencyGroup)return t[on.NumberSymbols][Xn.Group]}return i}function l6(n){if(!n[on.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[on.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function bo(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function aI(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const Dhe=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Yy={},She=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var oa=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(oa||{}),St=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(St||{}),At=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(At||{});function Ahe(n,e,t,i){let r=function Bhe(n){if(d6(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,o=1,s=1]=n.split("-").map(a=>+a);return Qy(r,o-1,s)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let i;if(i=n.match(Dhe))return function Uhe(n){const e=new Date(0);let t=0,i=0;const r=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const s=Number(n[4]||0)-t,a=Number(n[5]||0)-i,l=Number(n[6]||0),c=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return o.call(e,s,a,l,c),e}(i)}const e=new Date(n);if(!d6(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=sa(t,e)||e;let a,s=[];for(;e;){if(a=She.exec(e),!a){s.push(e);break}{s=s.concat(a.slice(1));const u=s.pop();if(!u)break;e=u}}let l=r.getTimezoneOffset();i&&(l=u6(i,l),r=function Vhe(n,e,t){const i=t?-1:1,r=n.getTimezoneOffset();return function Lhe(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,i*(u6(e,r)-r))}(r,i,!0));let c="";return s.forEach(u=>{const d=function Fhe(n){if(cI[n])return cI[n];let e;switch(n){case"G":case"GG":case"GGG":e=sn(At.Eras,Xt.Abbreviated);break;case"GGGG":e=sn(At.Eras,Xt.Wide);break;case"GGGGG":e=sn(At.Eras,Xt.Narrow);break;case"y":e=oi(St.FullYear,1,0,!1,!0);break;case"yy":e=oi(St.FullYear,2,0,!0,!0);break;case"yyy":e=oi(St.FullYear,3,0,!1,!0);break;case"yyyy":e=oi(St.FullYear,4,0,!1,!0);break;case"Y":e=ev(1);break;case"YY":e=ev(2,!0);break;case"YYY":e=ev(3);break;case"YYYY":e=ev(4);break;case"M":case"L":e=oi(St.Month,1,1);break;case"MM":case"LL":e=oi(St.Month,2,1);break;case"MMM":e=sn(At.Months,Xt.Abbreviated);break;case"MMMM":e=sn(At.Months,Xt.Wide);break;case"MMMMM":e=sn(At.Months,Xt.Narrow);break;case"LLL":e=sn(At.Months,Xt.Abbreviated,xr.Standalone);break;case"LLLL":e=sn(At.Months,Xt.Wide,xr.Standalone);break;case"LLLLL":e=sn(At.Months,Xt.Narrow,xr.Standalone);break;case"w":e=lI(1);break;case"ww":e=lI(2);break;case"W":e=lI(1,!0);break;case"d":e=oi(St.Date,1);break;case"dd":e=oi(St.Date,2);break;case"c":case"cc":e=oi(St.Day,1);break;case"ccc":e=sn(At.Days,Xt.Abbreviated,xr.Standalone);break;case"cccc":e=sn(At.Days,Xt.Wide,xr.Standalone);break;case"ccccc":e=sn(At.Days,Xt.Narrow,xr.Standalone);break;case"cccccc":e=sn(At.Days,Xt.Short,xr.Standalone);break;case"E":case"EE":case"EEE":e=sn(At.Days,Xt.Abbreviated);break;case"EEEE":e=sn(At.Days,Xt.Wide);break;case"EEEEE":e=sn(At.Days,Xt.Narrow);break;case"EEEEEE":e=sn(At.Days,Xt.Short);break;case"a":case"aa":case"aaa":e=sn(At.DayPeriods,Xt.Abbreviated);break;case"aaaa":e=sn(At.DayPeriods,Xt.Wide);break;case"aaaaa":e=sn(At.DayPeriods,Xt.Narrow);break;case"b":case"bb":case"bbb":e=sn(At.DayPeriods,Xt.Abbreviated,xr.Standalone,!0);break;case"bbbb":e=sn(At.DayPeriods,Xt.Wide,xr.Standalone,!0);break;case"bbbbb":e=sn(At.DayPeriods,Xt.Narrow,xr.Standalone,!0);break;case"B":case"BB":case"BBB":e=sn(At.DayPeriods,Xt.Abbreviated,xr.Format,!0);break;case"BBBB":e=sn(At.DayPeriods,Xt.Wide,xr.Format,!0);break;case"BBBBB":e=sn(At.DayPeriods,Xt.Narrow,xr.Format,!0);break;case"h":e=oi(St.Hours,1,-12);break;case"hh":e=oi(St.Hours,2,-12);break;case"H":e=oi(St.Hours,1);break;case"HH":e=oi(St.Hours,2);break;case"m":e=oi(St.Minutes,1);break;case"mm":e=oi(St.Minutes,2);break;case"s":e=oi(St.Seconds,1);break;case"ss":e=oi(St.Seconds,2);break;case"S":e=oi(St.FractionalSeconds,1);break;case"SS":e=oi(St.FractionalSeconds,2);break;case"SSS":e=oi(St.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Zy(oa.Short);break;case"ZZZZZ":e=Zy(oa.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Zy(oa.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Zy(oa.Long);break;default:return null}return cI[n]=e,e}(u);c+=d?d(r,t,l):"''"===u?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function Qy(n,e,t){const i=new Date(0);return i.setFullYear(n,e,t),i.setHours(0,0,0),i}function sa(n,e){const t=function ghe(n){return yr(n)[on.LocaleId]}(n);if(Yy[t]??={},Yy[t][e])return Yy[t][e];let i="";switch(e){case"shortDate":i=qy(n,io.Short);break;case"mediumDate":i=qy(n,io.Medium);break;case"longDate":i=qy(n,io.Long);break;case"fullDate":i=qy(n,io.Full);break;case"shortTime":i=Wy(n,io.Short);break;case"mediumTime":i=Wy(n,io.Medium);break;case"longTime":i=Wy(n,io.Long);break;case"fullTime":i=Wy(n,io.Full);break;case"short":const r=sa(n,"shortTime"),o=sa(n,"shortDate");i=Xy(Ky(n,io.Short),[r,o]);break;case"medium":const s=sa(n,"mediumTime"),a=sa(n,"mediumDate");i=Xy(Ky(n,io.Medium),[s,a]);break;case"long":const l=sa(n,"longTime"),c=sa(n,"longDate");i=Xy(Ky(n,io.Long),[l,c]);break;case"full":const u=sa(n,"fullTime"),d=sa(n,"fullDate");i=Xy(Ky(n,io.Full),[u,d])}return i&&(Yy[t][e]=i),i}function Xy(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,i){return null!=e&&i in e?e[i]:t})),n}function zo(n,e,t="-",i,r){let o="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,o=t));let s=String(n);for(;s.length<e;)s="0"+s;return i&&(s=s.slice(s.length-e)),o+s}function oi(n,e,t=0,i=!1,r=!1){return function(o,s){let a=function Ohe(n,e){switch(n){case St.FullYear:return e.getFullYear();case St.Month:return e.getMonth();case St.Date:return e.getDate();case St.Hours:return e.getHours();case St.Minutes:return e.getMinutes();case St.Seconds:return e.getSeconds();case St.FractionalSeconds:return e.getMilliseconds();case St.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,o);if((t>0||a>-t)&&(a+=t),n===St.Hours)0===a&&-12===t&&(a=12);else if(n===St.FractionalSeconds)return function khe(n,e){return zo(n,3).substring(0,e)}(a,e);const l=_o(s,Xn.MinusSign);return zo(a,e,l,i,r)}}function sn(n,e,t=xr.Format,i=!1){return function(r,o){return function Phe(n,e,t,i,r,o){switch(t){case At.Months:return function yhe(n,e,t){const i=yr(n),o=bo([i[on.MonthsFormat],i[on.MonthsStandalone]],e);return bo(o,t)}(e,r,i)[n.getMonth()];case At.Days:return function bhe(n,e,t){const i=yr(n),o=bo([i[on.DaysFormat],i[on.DaysStandalone]],e);return bo(o,t)}(e,r,i)[n.getDay()];case At.DayPeriods:const s=n.getHours(),a=n.getMinutes();if(o){const c=function Che(n){const e=yr(n);return l6(e),(e[on.ExtraData][2]||[]).map(i=>"string"==typeof i?aI(i):[aI(i[0]),aI(i[1])])}(e),u=function Ehe(n,e,t){const i=yr(n);l6(i);const o=bo([i[on.ExtraData][0],i[on.ExtraData][1]],e)||[];return bo(o,t)||[]}(e,r,i),d=c.findIndex(h=>{if(Array.isArray(h)){const[m,y]=h,C=s>=m.hours&&a>=m.minutes,T=s<y.hours||s===y.hours&&a<y.minutes;if(m.hours<y.hours){if(C&&T)return!0}else if(C||T)return!0}else if(h.hours===s&&h.minutes===a)return!0;return!1});if(-1!==d)return u[d]}return function _he(n,e,t){const i=yr(n),o=bo([i[on.DayPeriodsFormat],i[on.DayPeriodsStandalone]],e);return bo(o,t)}(e,r,i)[s<12?0:1];case At.Eras:return function vhe(n,e){return bo(yr(n)[on.Eras],e)}(e,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(r,o,n,e,t,i)}}function Zy(n){return function(e,t,i){const r=-1*i,o=_o(t,Xn.MinusSign),s=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case oa.Short:return(r>=0?"+":"")+zo(s,2,o)+zo(Math.abs(r%60),2,o);case oa.ShortGMT:return"GMT"+(r>=0?"+":"")+zo(s,1,o);case oa.Long:return"GMT"+(r>=0?"+":"")+zo(s,2,o)+":"+zo(Math.abs(r%60),2,o);case oa.Extended:return 0===i?"Z":(r>=0?"+":"")+zo(s,2,o)+":"+zo(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}const Rhe=0,Jy=4;function c6(n){const e=n.getDay(),t=0===e?-3:Jy-e;return Qy(n.getFullYear(),n.getMonth(),n.getDate()+t)}function lI(n,e=!1){return function(t,i){let r;if(e){const o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();r=1+Math.floor((s+o)/7)}else{const o=c6(t),s=function Nhe(n){const e=Qy(n,Rhe,1).getDay();return Qy(n,0,1+(e<=Jy?Jy:Jy+7)-e)}(o.getFullYear()),a=o.getTime()-s.getTime();r=1+Math.round(a/6048e5)}return zo(r,n,_o(i,Xn.MinusSign))}}function ev(n,e=!1){return function(t,i){return zo(c6(t).getFullYear(),n,_o(i,Xn.MinusSign),e)}}const cI={};function u6(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function d6(n){return n instanceof Date&&!isNaN(n.valueOf())}class tfe{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let yo=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,o,s)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new tfe(r.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)i.remove(null===o?void 0:o);else if(null!==o){const a=i.get(o);i.move(a,s),_6(a,r)}});for(let r=0,o=i.length;r<o;r++){const a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{_6(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}static{this.\u0275fac=function(i){return new(i||n)(E(mo),E(cs),E(jE))}}static{this.\u0275dir=me({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function _6(n,e){n.context.$implicit=e.item}let nv=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new nfe,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){b6("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){b6("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}static{this.\u0275fac=function(i){return new(i||n)(E(mo),E(cs))}}static{this.\u0275dir=me({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})();class nfe{constructor(){this.$implicit=null,this.ngIf=null}}function b6(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${pi(e)}'.`)}let v6=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(this._shouldRecreateView(t)){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const r=this._createContextForwardProxy();this._viewRef=i.createEmbeddedView(this.ngTemplateOutlet,r,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(t){return!!t.ngTemplateOutlet||!!t.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(t,i,r)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,i,r),get:(t,i,r)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,i,r)}})}static{this.\u0275fac=function(i){return new(i||n)(E(mo))}}static{this.\u0275dir=me({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Jr]})}}return n})();const bfe=new X(""),yfe=new X("");let bI=(()=>{class n{constructor(t,i,r){this.locale=t,this.defaultTimezone=i,this.defaultOptions=r}transform(t,i,r,o){if(null==t||""===t||t!=t)return null;try{return Ahe(t,i??this.defaultOptions?.dateFormat??"mediumDate",o||this.locale,r??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(s){throw function jo(n,e){return new H(2100,!1)}()}}static{this.\u0275fac=function(i){return new(i||n)(E(gs,16),E(bfe,24),E(yfe,24))}}static{this.\u0275pipe=kr({name:"date",type:n,pure:!0,standalone:!0})}}return n})(),bs=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=nt({type:n})}static{this.\u0275inj=Xe({})}}return n})();const w6="browser";function iv(n){return n===w6}function C6(n){return"server"===n}let Ofe=(()=>{class n{static{this.\u0275prov=ne({token:n,providedIn:"root",factory:()=>iv(Z(po))?new Pfe(Z(ut),window):new Nfe})}}return n})();class Pfe{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){const t=function Rfe(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}}class Nfe{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}}class upe extends che{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class wI extends upe{static makeCurrent(){!function lhe(n){t6??=n}(new wI)}onAndCancel(e,t,i){return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function dpe(){return qp=qp||document.querySelector("base"),qp?qp.getAttribute("href"):null}();return null==t?null:function hpe(n){return new URL(n,document.baseURI).pathname}(t)}resetBaseElement(){qp=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Zhe(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,o]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,e)}}let qp=null,ppe=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac})}}return n})();const CI=new X("");let O6=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(o=>o.supports(t)),!i)throw new H(5101,!1);return this._eventNameToPlugin.set(t,i),i}static{this.\u0275fac=function(i){return new(i||n)(U(CI),U(Te))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac})}}return n})();class P6{constructor(e){this._doc=e}}const EI="ng-app-id";let R6=(()=>{class n{constructor(t,i,r,o={}){this.doc=t,this.appId=i,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=C6(o),this.resetHostNodes()}addStyles(t){for(const i of t)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(t){for(const i of t)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(i=>i.remove()),t.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){const i=this.styleRef;i.get(t)?.elements?.forEach(r=>r.remove()),i.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${EI}="${this.appId}"]`);if(t?.length){const i=new Map;return t.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(t,i){const r=this.styleRef;if(r.has(t)){const o=r.get(t);return o.usage+=i,o.usage}return r.set(t,{usage:i,elements:[]}),i}getStyleElement(t,i){const r=this.styleNodesInDOM,o=r?.get(i);if(o?.parentNode===t)return r.delete(i),o.removeAttribute(EI),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=i,this.platformIsServer&&s.setAttribute(EI,this.appId),t.appendChild(s),s}}addStyleToHost(t,i){const r=this.getStyleElement(t,i),o=this.styleRef,s=o.get(i)?.elements;s?s.push(r):o.set(i,{elements:[r],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(i){return new(i||n)(U(ut),U(mb),U(f1,8),U(po))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac})}}return n})();const TI={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},II=/%COMP%/g,bpe=new X("",{providedIn:"root",factory:()=>!0});function F6(n,e){return e.map(t=>t.replace(II,n))}let MI=(()=>{class n{constructor(t,i,r,o,s,a,l,c=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=C6(a),this.defaultRenderer=new DI(t,s,l,this.platformIsServer)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Oo.ShadowDom&&(i={...i,encapsulation:Oo.Emulated});const r=this.getOrCreateRenderer(t,i);return r instanceof V6?r.applyToHost(t):r instanceof SI&&r.applyStyles(),r}getOrCreateRenderer(t,i){const r=this.rendererByCompId;let o=r.get(i.id);if(!o){const s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(i.encapsulation){case Oo.Emulated:o=new V6(l,c,i,this.appId,u,s,a,d);break;case Oo.ShadowDom:return new wpe(l,c,t,i,s,a,this.nonce,d);default:o=new SI(l,c,i,u,s,a,d)}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(i){return new(i||n)(U(O6),U(R6),U(mb),U(bpe),U(ut),U(po),U(Te),U(f1))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac})}}return n})();class DI{constructor(e,t,i,r){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(TI[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(L6(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(L6(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?this.doc.querySelector(e):e;if(!i)throw new H(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const o=TI[r];o?e.setAttributeNS(o,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=TI[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(Xa.DashCase|Xa.Important)?e.style.setProperty(t,i,r&Xa.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&Xa.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){null!=e&&(e[t]=i)}setValue(e,t){e.nodeValue=t}listen(e,t,i){if("string"==typeof e&&!(e=ol().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(i))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function L6(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class wpe extends DI{constructor(e,t,i,r,o,s,a,l){super(e,o,s,l),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=F6(r.id,r.styles);for(const u of c){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class SI extends DI{constructor(e,t,i,r,o,s,a,l){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=l?F6(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class V6 extends SI{constructor(e,t,i,r,o,s,a,l){const c=r+"-"+i.id;super(e,t,i,o,s,a,l,c),this.contentAttr=function ype(n){return"_ngcontent-%COMP%".replace(II,n)}(c),this.hostAttr=function vpe(n){return"_nghost-%COMP%".replace(II,n)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}let Cpe=(()=>{class n extends P6{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}static{this.\u0275fac=function(i){return new(i||n)(U(ut))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac})}}return n})();const B6=["alt","control","meta","shift"],Epe={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Tpe={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Ipe=(()=>{class n extends P6{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const o=n.parseEventName(i),s=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ol().onAndCancel(t,o.domEventName,s))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),B6.forEach(c=>{const u=i.indexOf(c);u>-1&&(i.splice(u,1),s+=c+".")}),s+=o,0!=i.length||0===o.length)return null;const l={};return l.domEventName=r,l.fullKey=s,l}static matchEventFullKeyCode(t,i){let r=Epe[t.key]||t.key,o="";return i.indexOf("code.")>-1&&(r=t.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),B6.forEach(s=>{s!==r&&(0,Tpe[s])(t)&&(o+=s+".")}),o+=r,o===i)}static eventCallback(t,i,r){return o=>{n.matchEventFullKeyCode(o,t)&&r.runGuarded(()=>i(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}static{this.\u0275fac=function(i){return new(i||n)(U(ut))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac})}}return n})();const z6=[{provide:po,useValue:w6},{provide:D3,useValue:function Mpe(){wI.makeCurrent()},multi:!0},{provide:ut,useFactory:function Spe(){return function Hte(n){d1=n}(document),document},deps:[]}],Ape=Dz(kde,"browser",z6),kpe=new X(""),j6=[{provide:Ny,useClass:class fpe{addToWindow(e){Pt.getAngularTestability=(i,r=!0)=>{const o=e.findTestabilityInTree(i,r);if(null==o)throw new H(5103,!1);return o},Pt.getAllAngularTestabilities=()=>e.getAllTestabilities(),Pt.getAllAngularRootElements=()=>e.getAllRootElements(),Pt.frameworkStabilizers||(Pt.frameworkStabilizers=[]),Pt.frameworkStabilizers.push(i=>{const r=Pt.getAllAngularTestabilities();let o=r.length;const s=function(){o--,0==o&&i()};r.forEach(a=>{a.whenStable(s)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?ol().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:_z,useClass:HT,deps:[Te,$T,Ny]},{provide:HT,useClass:HT,deps:[Te,$T,Ny]}],H6=[{provide:B1,useValue:"root"},{provide:Vo,useFactory:function Dpe(){return new Vo},deps:[]},{provide:CI,useClass:Cpe,multi:!0,deps:[ut,Te,po]},{provide:CI,useClass:Ipe,multi:!0,deps:[ut]},MI,R6,O6,{provide:BE,useExisting:MI},{provide:class Ffe{},useClass:ppe,deps:[]},[]];let $6=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:mb,useValue:t.appId}]}}static{this.\u0275fac=function(i){return new(i||n)(U(kpe,12))}}static{this.\u0275mod=nt({type:n})}static{this.\u0275inj=Xe({providers:[...H6,...j6],imports:[bs,Ode]})}}return n})(),Ope=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(i){return new(i||n)(U(ut))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function sv(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t}function al(n){return this instanceof al?(this.v=n,this):new al(n)}function X6(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function RI(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=n[o]&&function(s){return new Promise(function(a,l){!function r(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}(a,l,(s=n[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const NI=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Z6(n){return xt(n?.then)}function J6(n){return xt(n[VC])}function e9(n){return Symbol.asyncIterator&&xt(n?.[Symbol.asyncIterator])}function t9(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const n9=function ime(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function i9(n){return xt(n?.[n9])}function r9(n){return function Q6(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=t.apply(n,e||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(h){i[h]&&(r[h]=function(m){return new Promise(function(y,C){o.push([h,m,y,C])>1||a(h,m)})})}function a(h,m){try{!function l(h){h.value instanceof al?Promise.resolve(h.value.v).then(c,u):d(o[0][2],h)}(i[h](m))}catch(y){d(o[0][3],y)}}function c(h){a("next",h)}function u(h){a("throw",h)}function d(h,m){h(m),o.shift(),o.length&&a(o[0][0],o[0][1])}}(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:i,done:r}=yield al(t.read());if(r)return yield al(void 0);yield yield al(i)}}finally{t.releaseLock()}})}function o9(n){return xt(n?.getReader)}function ji(n){if(n instanceof en)return n;if(null!=n){if(J6(n))return function rme(n){return new en(e=>{const t=n[VC]();if(xt(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(NI(n))return function ome(n){return new en(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(Z6(n))return function sme(n){return new en(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,SL)})}(n);if(e9(n))return s9(n);if(i9(n))return function ame(n){return new en(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(o9(n))return function lme(n){return s9(r9(n))}(n)}throw t9(n)}function s9(n){return new en(e=>{(function cme(n,e){var t,i,r,o;return function K6(n,e,t,i){return new(t||(t=Promise))(function(o,s){function a(u){try{c(i.next(u))}catch(d){s(d)}}function l(u){try{c(i.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):function r(o){return o instanceof t?o:new t(function(s){s(o)})}(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=X6(n);!(i=yield t.next()).done;)if(e.next(i.value),e.closed)return}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=t.return)&&(yield o.call(t))}finally{if(r)throw r.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function aa(n,e,t,i=0,r=!1){const o=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function av(n,e=0){return Mn((t,i)=>{t.subscribe(bn(i,r=>aa(i,n,()=>i.next(r),e),()=>aa(i,n,()=>i.complete(),e),r=>aa(i,n,()=>i.error(r),e)))})}function lv(n,e=0){return Mn((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function a9(n,e){if(!n)throw new Error("Iterable cannot be null");return new en(t=>{aa(t,e,()=>{const i=n[Symbol.asyncIterator]();aa(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function vi(n,e){return e?function mme(n,e){if(null!=n){if(J6(n))return function ume(n,e){return ji(n).pipe(lv(e),av(e))}(n,e);if(NI(n))return function hme(n,e){return new en(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}(n,e);if(Z6(n))return function dme(n,e){return ji(n).pipe(lv(e),av(e))}(n,e);if(e9(n))return a9(n,e);if(i9(n))return function fme(n,e){return new en(t=>{let i;return aa(t,e,()=>{i=n[n9](),aa(t,e,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){return void t.error(s)}o?t.complete():t.next(r)},0,!0)}),()=>xt(i?.return)&&i.return()})}(n,e);if(o9(n))return function pme(n,e){return a9(r9(n),e)}(n,e)}throw t9(n)}(n,e):ji(n)}const{isArray:gme}=Array,{getPrototypeOf:_me,prototype:bme,keys:yme}=Object;function l9(n){if(1===n.length){const e=n[0];if(gme(e))return{args:e,keys:null};if(function vme(n){return n&&"object"==typeof n&&_me(n)===bme}(e)){const t=yme(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}function c9(n){return n&&xt(n.schedule)}function FI(n){return n[n.length-1]}function u9(n){return xt(FI(n))?n.pop():void 0}function Kp(n){return c9(FI(n))?n.pop():void 0}const{isArray:wme}=Array;function LI(n){return Le(e=>function Cme(n,e){return wme(e)?n(...e):n(e)}(n,e))}function d9(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}let f9=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(i){return new(i||n)(E(us),E(Bt))}}static{this.\u0275dir=me({type:n})}}return n})(),Cc=(()=>{class n extends f9{static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=ri(n)))(r||n)}})()}static{this.\u0275dir=me({type:n,features:[pt]})}}return n})();const ys=new X(""),Tme={provide:ys,useExisting:rn(()=>sr),multi:!0},Mme=new X("");let sr=(()=>{class n extends f9{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Ime(){const n=ol()?ol().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(i){return new(i||n)(E(us),E(Bt),E(Mme,8))}}static{this.\u0275dir=me({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){1&i&&B("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[vn([Tme]),pt]})}}return n})();function ll(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}const ar=new X(""),cl=new X("");function cv(n){return null}function E9(n){return null!=n}function T9(n){return Bp(n)?vi(n):n}function I9(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function M9(n,e){return e.map(t=>t(n))}function D9(n){return n.map(e=>function Sme(n){return!n.validate}(e)?e:t=>e.validate(t))}function VI(n){return null!=n?function S9(n){if(!n)return null;const e=n.filter(E9);return 0==e.length?null:function(t){return I9(M9(t,e))}}(D9(n)):null}function A9(n){if(!n)return null;const e=n.filter(E9);return 0==e.length?null:function(t){return function h9(...n){const e=u9(n),{args:t,keys:i}=l9(n),r=new en(o=>{const{length:s}=t;if(!s)return void o.complete();const a=new Array(s);let l=s,c=s;for(let u=0;u<s;u++){let d=!1;ji(t[u]).subscribe(bn(o,h=>{d||(d=!0,c--),a[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||o.next(i?d9(i,a):a),o.complete())}))}});return e?r.pipe(LI(e)):r}(M9(t,e).map(T9)).pipe(Le(I9))}}function BI(n){return null!=n?A9(D9(n)):null}function k9(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function UI(n){return n?Array.isArray(n)?n:[n]:[]}function uv(n,e){return Array.isArray(n)?n.includes(e):n===e}function R9(n,e){const t=UI(e);return UI(n).forEach(r=>{uv(t,r)||t.push(r)}),t}function N9(n,e){return UI(e).filter(t=>!uv(n,t))}class F9{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=VI(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=BI(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class wr extends F9{get formDirective(){return null}get path(){return null}}class ul extends F9{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class L9{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Vr=(()=>{class n extends L9{constructor(t){super(t)}static{this.\u0275fac=function(i){return new(i||n)(E(ul,2))}}static{this.\u0275dir=me({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){2&i&&br("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[pt]})}}return n})(),si=(()=>{class n extends L9{constructor(t){super(t)}static{this.\u0275fac=function(i){return new(i||n)(E(wr,10))}}static{this.\u0275dir=me({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){2&i&&br("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[pt]})}}return n})();const Yp="VALID",hv="INVALID",Ud="PENDING",Qp="DISABLED";function HI(n){return(fv(n)?n.validators:n)||null}function $I(n,e){return(fv(e)?e.asyncValidators:n)||null}function fv(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class GI{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Yp}get invalid(){return this.status===hv}get pending(){return this.status==Ud}get disabled(){return this.status===Qp}get enabled(){return this.status!==Qp}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(R9(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(R9(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(N9(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(N9(e,this._rawAsyncValidators))}hasValidator(e){return uv(this._rawValidators,e)}hasAsyncValidator(e){return uv(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Ud,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Qp,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Yp,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Yp||this.status===Ud)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Qp:Yp}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Ud,this._hasOwnPendingAsyncValidator=!0;const t=T9(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new qe,this.statusChanges=new qe}_calculateStatus(){return this._allControlsDisabled()?Qp:this.errors?hv:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ud)?Ud:this._anyControlsHaveStatus(hv)?hv:Yp}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){fv(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Pme(n){return Array.isArray(n)?VI(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Rme(n){return Array.isArray(n)?BI(n):n||null}(this._rawAsyncValidators)}}class qI extends GI{constructor(e,t,i){super(HI(t),$I(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function U9(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new H(1002,"")})})(this,0,e),Object.keys(e).forEach(i=>{(function B9(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new H(1e3,"");if(!i[t])throw new H(1001,"")})(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,o)=>{i=t(i,r,o)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const zd=new X("CallSetDisabledState",{providedIn:"root",factory:()=>pv}),pv="always";function Xp(n,e,t=pv){WI(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function Lme(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&z9(n,e)})}(n,e),function Bme(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Vme(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&z9(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Fme(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function _v(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function WI(n,e){const t=function O9(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(k9(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=function P9(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(k9(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();_v(e._rawValidators,r),_v(e._rawAsyncValidators,r)}function z9(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const $me={provide:wr,useExisting:rn(()=>Vn)},Zp=Promise.resolve();let Vn=(()=>{class n extends wr{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new qe,this.form=new qI({},VI(t),BI(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Zp.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),Xp(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Zp.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Zp.then(()=>{const i=this._findContainer(t.path),r=new qI({});(function j9(n,e){WI(n,e)})(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Zp.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){Zp.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function H9(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static{this.\u0275fac=function(i){return new(i||n)(E(ar,10),E(cl,10),E(zd,8))}}static{this.\u0275dir=me({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){1&i&&B("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:[We.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[vn([$me]),pt]})}}return n})();function $9(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function G9(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const q9=class extends GI{constructor(e=null,t,i){super(HI(t),$I(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),fv(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=G9(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){$9(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){$9(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){G9(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Wme={provide:ul,useExisting:rn(()=>Cr)},Y9=Promise.resolve();let Cr=(()=>{class n extends ul{constructor(t,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new q9,this._registered=!1,this.name="",this.update=new qe,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function QI(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(o=>{o.constructor===sr?t=o:function jme(n){return Object.getPrototypeOf(n.constructor)===Cc}(o)?i=o:r=o}),r||i||t||null}(0,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function YI(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Xp(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Y9.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=0!==i&&_s(i);Y9.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function mv(n,e){return[...e.path,n]}(t,this._parent):[t]}static{this.\u0275fac=function(i){return new(i||n)(E(wr,9),E(ar,10),E(cl,10),E(ys,10),E(gd,8),E(zd,8))}}static{this.\u0275dir=me({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[We.None,"disabled","isDisabled"],model:[We.None,"ngModel","model"],options:[We.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[vn([Wme]),pt,Jr]})}}return n})(),ai=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=me({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})();const Kme={provide:ys,useExisting:rn(()=>XI),multi:!0};let XI=(()=>{class n extends Cc{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=i=>{t(""==i?null:parseFloat(i))}}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=ri(n)))(r||n)}})()}static{this.\u0275dir=me({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,r){1&i&&B("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},features:[vn([Kme]),pt]})}}return n})();const ige={provide:ys,useExisting:rn(()=>vs),multi:!0};function nj(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let vs=(()=>{class n extends Cc{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const r=nj(this._getOptionId(t),t);this.setProperty("value",r)}registerOnChange(t){this.onChange=i=>{this.value=this._getOptionValue(i),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),t))return i;return null}_getOptionValue(t){const i=function rge(n){return n.split(":")[0]}(t);return this._optionMap.has(i)?this._optionMap.get(i):t}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=ri(n)))(r||n)}})()}static{this.\u0275dir=me({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,r){1&i&&B("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[vn([ige]),pt]})}}return n})(),la=(()=>{class n{constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(nj(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(i){return new(i||n)(E(Bt),E(us),E(vs,9))}}static{this.\u0275dir=me({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();const oge={provide:ys,useExisting:rn(()=>tM),multi:!0};function ij(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let tM=(()=>{class n extends Cc{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let i;if(this.value=t,Array.isArray(t)){const r=t.map(o=>this._getOptionId(o));i=(o,s)=>{o._setSelected(r.indexOf(s.toString())>-1)}}else i=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(t){this.onChange=i=>{const r=[],o=i.selectedOptions;if(void 0!==o){const s=o;for(let a=0;a<s.length;a++){const c=this._getOptionValue(s[a].value);r.push(c)}}else{const s=i.options;for(let a=0;a<s.length;a++){const l=s[a];if(l.selected){const c=this._getOptionValue(l.value);r.push(c)}}}this.value=r,t(r)}}_registerOption(t){const i=(this._idCounter++).toString();return this._optionMap.set(i,t),i}_getOptionId(t){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,t))return i;return null}_getOptionValue(t){const i=function sge(n){return n.split(":")[0]}(t);return this._optionMap.has(i)?this._optionMap.get(i)._value:t}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=ri(n)))(r||n)}})()}static{this.\u0275dir=me({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,r){1&i&&B("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[vn([oge]),pt]})}}return n})(),ca=(()=>{class n{constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(ij(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(ij(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(i){return new(i||n)(E(Bt),E(us),E(tM,9))}}static{this.\u0275dir=me({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();function oj(n){return"number"==typeof n?n:parseFloat(n)}let Ec=(()=>{class n{constructor(){this._validator=cv}ngOnChanges(t){if(this.inputName in t){const i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):cv,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=me({type:n,features:[Jr]})}}return n})();const age={provide:ar,useExisting:rn(()=>nM),multi:!0};let nM=(()=>{class n extends Ec{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=t=>oj(t),this.createValidator=t=>function _9(n){return e=>{if(ll(e.value)||ll(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(t)}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=ri(n)))(r||n)}})()}static{this.\u0275dir=me({type:n,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(i,r){2&i&&Yn("max",r._enabled?r.max:null)},inputs:{max:"max"},features:[vn([age]),pt]})}}return n})();const lge={provide:ar,useExisting:rn(()=>iM),multi:!0};let iM=(()=>{class n extends Ec{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=t=>oj(t),this.createValidator=t=>function g9(n){return e=>{if(ll(e.value)||ll(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(t)}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=ri(n)))(r||n)}})()}static{this.\u0275dir=me({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(i,r){2&i&&Yn("min",r._enabled?r.min:null)},inputs:{min:"min"},features:[vn([lge]),pt]})}}return n})(),mge=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=nt({type:n})}static{this.\u0275inj=Xe({})}}return n})(),Jp=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:zd,useValue:t.callSetDisabledState??pv}]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=nt({type:n})}static{this.\u0275inj=Xe({imports:[mge]})}}return n})();function we(...n){return vi(n,Kp(n))}function yv(...n){const e=Kp(n),t=u9(n),{args:i,keys:r}=l9(n);if(0===i.length)return vi([],e);const o=new en(function bge(n,e,t=ja){return i=>{dj(e,()=>{const{length:r}=n,o=new Array(r);let s=r,a=r;for(let l=0;l<r;l++)dj(e,()=>{const c=vi(n[l],e);let u=!1;c.subscribe(bn(i,d=>{o[l]=d,u||(u=!0,a--),a||i.next(t(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}(i,e,r?s=>d9(r,s):ja));return t?o.pipe(LI(t)):o}function dj(n,e,t){n?aa(t,n,e):e()}const vv=OC(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Ii(n,e,t=1/0){return xt(e)?Ii((i,r)=>Le((o,s)=>e(i,o,r,s))(ji(n(i,r))),t):("number"==typeof e&&(t=e),Mn((i,r)=>function yge(n,e,t,i,r,o,s,a){const l=[];let c=0,u=0,d=!1;const h=()=>{d&&!l.length&&!c&&e.complete()},m=C=>c<i?y(C):l.push(C),y=C=>{o&&e.next(C),c++;let T=!1;ji(t(C,u++)).subscribe(bn(e,S=>{r?.(S),o?m(S):e.next(S)},()=>{T=!0},void 0,()=>{if(T)try{for(c--;l.length&&c<i;){const S=l.shift();s?aa(e,s,()=>y(S)):y(S)}h()}catch(S){e.error(S)}}))};return n.subscribe(bn(e,m,()=>{d=!0,h()})),()=>{a?.()}}(i,r,n,t)))}function jd(n=1/0){return Ii(ja,n)}function Hd(...n){return function vge(){return jd(1)}()(vi(n,Kp(n)))}function $d(n){return new en(e=>{ji(n()).subscribe(e)})}function Gd(n,e){const t=xt(n)?n:()=>n,i=r=>r.error(t());return new en(e?r=>e.schedule(i,0,r):i)}const xs=new en(n=>n.complete());function oM(){return Mn((n,e)=>{let t=null;n._refCount++;const i=bn(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,o=t;t=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class sM extends en{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,PL(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new hi;const t=this.getSubject();e.add(this.source.subscribe(bn(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=hi.EMPTY)}return e}refCount(){return oM()(this)}}function Br(n,e){return Mn((t,i)=>{let r=null,o=0,s=!1;const a=()=>s&&!r&&i.complete();t.subscribe(bn(i,l=>{r?.unsubscribe();let c=0;const u=o++;ji(n(l,u)).subscribe(r=bn(i,d=>i.next(e?e(l,d,u,c++):d),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function xn(n){return n<=0?()=>xs:Mn((e,t)=>{let i=0;e.subscribe(bn(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function xv(...n){const e=Kp(n);return Mn((t,i)=>{(e?Hd(n,t,e):Hd(n,t)).subscribe(i)})}function ln(n,e){return Mn((t,i)=>{let r=0;t.subscribe(bn(i,o=>n.call(e,o,r++)&&i.next(o)))})}function wv(n){return Mn((e,t)=>{let i=!1;e.subscribe(bn(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function hj(n=wge){return Mn((e,t)=>{let i=!1;e.subscribe(bn(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function wge(){return new vv}function Tc(n,e){const t=arguments.length>=2;return i=>i.pipe(n?ln((r,o)=>n(r,o,i)):ja,xn(1),t?wv(e):hj(()=>new vv))}function qd(n,e){return xt(e)?Ii(n,e,1):Ii(n,1)}function Bn(n,e,t){const i=xt(n)||e||t?{next:n,error:e,complete:t}:n;return i?Mn((r,o)=>{var s;null===(s=i.subscribe)||void 0===s||s.call(i);let a=!0;r.subscribe(bn(o,l=>{var c;null===(c=i.next)||void 0===c||c.call(i,l),o.next(l)},()=>{var l;a=!1,null===(l=i.complete)||void 0===l||l.call(i),o.complete()},l=>{var c;a=!1,null===(c=i.error)||void 0===c||c.call(i,l),o.error(l)},()=>{var l,c;a&&(null===(l=i.unsubscribe)||void 0===l||l.call(i)),null===(c=i.finalize)||void 0===c||c.call(i)}))}):ja}function Ic(n){return Mn((e,t)=>{let o,i=null,r=!1;i=e.subscribe(bn(t,void 0,void 0,s=>{o=ji(n(s,Ic(n)(e))),i?(i.unsubscribe(),i=null,o.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(t))})}function aM(n){return n<=0?()=>xs:Mn((e,t)=>{let i=[];e.subscribe(bn(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function fj(n){return Le(()=>n)}function Cv(n){return Mn((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Ev(n){return Mn((e,t)=>{ji(n).subscribe(bn(t,()=>t.complete(),kf)),!t.closed&&e.subscribe(t)})}const it="primary",em=Symbol("RouteTitle");class Ige{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Wd(n){return new Ige(n)}function Mge(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const s=i[o],a=n[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function ws(n,e){const t=n?lM(n):void 0,i=e?lM(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let o=0;o<t.length;o++)if(r=t[o],!pj(n[r],e[r]))return!1;return!0}function lM(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function pj(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,o)=>i[o]===r)}return n===e}function mj(n){return n.length>0?n[n.length-1]:null}function dl(n){return function _ge(n){return!!n&&(n instanceof en||xt(n.lift)&&xt(n.subscribe))}(n)?n:Bp(n)?vi(Promise.resolve(n)):we(n)}const Sge={exact:function bj(n,e,t){if(!Mc(n.segments,e.segments)||!Tv(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!bj(n.children[i],e.children[i],t))return!1;return!0},subset:yj},gj={exact:function Age(n,e){return ws(n,e)},subset:function kge(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>pj(n[t],e[t]))},ignored:()=>!0};function _j(n,e,t){return Sge[t.paths](n.root,e.root,t.matrixParams)&&gj[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function yj(n,e,t){return vj(n,e,e.segments,t)}function vj(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!Mc(r,t)||e.hasChildren()||!Tv(r,t,i))}if(n.segments.length===t.length){if(!Mc(n.segments,t)||!Tv(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!yj(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(Mc(n.segments,r)&&Tv(n.segments,r,i)&&n.children[it])&&vj(n.children[it],e,o,i)}}function Tv(n,e,t){return e.every((i,r)=>gj[t](n[r].parameters,i.parameters))}class Kd{constructor(e=new Wt([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Wd(this.queryParams),this._queryParamMap}toString(){return Rge.serialize(this)}}class Wt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Iv(this)}}class tm{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Wd(this.parameters),this._parameterMap}toString(){return Cj(this)}}function Mc(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let Yd=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:()=>new cM,providedIn:"root"})}}return n})();class cM{parse(e){const t=new Gge(e);return new Kd(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${nm(e.root,!0)}`,i=function Lge(n){const e=Object.entries(n).map(([t,i])=>Array.isArray(i)?i.map(r=>`${Mv(t)}=${Mv(r)}`).join("&"):`${Mv(t)}=${Mv(i)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function Nge(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Rge=new cM;function Iv(n){return n.segments.map(e=>Cj(e)).join("/")}function nm(n,e){if(!n.hasChildren())return Iv(n);if(e){const t=n.children[it]?nm(n.children[it],!1):"",i=[];return Object.entries(n.children).forEach(([r,o])=>{r!==it&&i.push(`${r}:${nm(o,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function Pge(n,e){let t=[];return Object.entries(n.children).forEach(([i,r])=>{i===it&&(t=t.concat(e(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==it&&(t=t.concat(e(r,i)))}),t}(n,(i,r)=>r===it?[nm(n.children[it],!1)]:[`${r}:${nm(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[it]?`${Iv(n)}/${t[0]}`:`${Iv(n)}/(${t.join("//")})`}}function xj(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Mv(n){return xj(n).replace(/%3B/gi,";")}function uM(n){return xj(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Dv(n){return decodeURIComponent(n)}function wj(n){return Dv(n.replace(/\+/g,"%20"))}function Cj(n){return`${uM(n.path)}${function Fge(n){return Object.entries(n).map(([e,t])=>`;${uM(e)}=${uM(t)}`).join("")}(n.parameters)}`}const Vge=/^[^\/()?;#]+/;function dM(n){const e=n.match(Vge);return e?e[0]:""}const Bge=/^[^\/()?;=#]+/,zge=/^[^=?&#]+/,Hge=/^[^&#]+/;class Gge{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Wt([],{}):new Wt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[it]=new Wt(e,t)),i}parseSegment(){const e=dM(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new H(4009,!1);return this.capture(e),new tm(Dv(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function Uge(n){const e=n.match(Bge);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=dM(this.remaining);r&&(i=r,this.capture(i))}e[Dv(t)]=Dv(i)}parseQueryParam(e){const t=function jge(n){const e=n.match(zge);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const s=function $ge(n){const e=n.match(Hge);return e?e[0]:""}(this.remaining);s&&(i=s,this.capture(i))}const r=wj(t),o=wj(i);if(e.hasOwnProperty(r)){let s=e[r];Array.isArray(s)||(s=[s],e[r]=s),s.push(o)}else e[r]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=dM(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new H(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=it);const s=this.parseChildren();t[o]=1===Object.keys(s).length?s[it]:new Wt([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new H(4011,!1)}}function Ej(n){return n.segments.length>0?new Wt([],{[it]:n}):n}function Tj(n){const e={};for(const[i,r]of Object.entries(n.children)){const o=Tj(r);if(i===it&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[i]=o)}return function qge(n){if(1===n.numberOfChildren&&n.children[it]){const e=n.children[it];return new Wt(n.segments.concat(e.segments),e.children)}return n}(new Wt(n.segments,e))}function Qd(n){return n instanceof Kd}function Ij(n){let e;const r=Ej(function t(o){const s={};for(const l of o.children){const c=t(l);s[l.outlet]=c}const a=new Wt(o.url,s);return o===n&&(e=a),a}(n.root));return e??r}function Mj(n,e,t,i){let r=n;for(;r.parent;)r=r.parent;if(0===e.length)return hM(r,r,r,t,i);const o=function Kge(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Sj(!0,0,n);let e=0,t=!1;const i=n.reduce((r,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]="string"==typeof c?c.split("/"):c}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===s?(o.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?e++:""!=a&&r.push(a))}),r):[...r,o]},[]);return new Sj(t,e,i)}(e);if(o.toRoot())return hM(r,r,new Wt([],{}),t,i);const s=function Yge(n,e,t){if(n.isAbsolute)return new Av(e,!0,0);if(!t)return new Av(e,!1,NaN);if(null===t.parent)return new Av(t,!0,0);const i=Sv(n.commands[0])?0:1;return function Qge(n,e,t){let i=n,r=e,o=t;for(;o>r;){if(o-=r,i=i.parent,!i)throw new H(4005,!1);r=i.segments.length}return new Av(i,!1,r-o)}(t,t.segments.length-1+i,n.numberOfDoubleDots)}(o,r,n),a=s.processChildren?rm(s.segmentGroup,s.index,o.commands):Aj(s.segmentGroup,s.index,o.commands);return hM(r,s.segmentGroup,a,t,i)}function Sv(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function im(n){return"object"==typeof n&&null!=n&&n.outlets}function hM(n,e,t,i,r){let s,o={};i&&Object.entries(i).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`}),s=n===e?t:Dj(n,e,t);const a=Ej(Tj(s));return new Kd(a,o,r)}function Dj(n,e,t){const i={};return Object.entries(n.children).forEach(([r,o])=>{i[r]=o===e?t:Dj(o,e,t)}),new Wt(n.segments,i)}class Sj{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&Sv(i[0]))throw new H(4003,!1);const r=i.find(im);if(r&&r!==mj(i))throw new H(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Av{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function Aj(n,e,t){if(n??=new Wt([],{}),0===n.segments.length&&n.hasChildren())return rm(n,e,t);const i=function Zge(n,e,t){let i=0,r=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return o;const s=n.segments[r],a=t[i];if(im(a))break;const l=`${a}`,c=i<t.length-1?t[i+1]:null;if(r>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!Oj(l,c,s))return o;i+=2}else{if(!Oj(l,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new Wt(n.segments.slice(0,i.pathIndex),{});return o.children[it]=new Wt(n.segments.slice(i.pathIndex),n.children),rm(o,0,r)}return i.match&&0===r.length?new Wt(n.segments,{}):i.match&&!n.hasChildren()?fM(n,e,t):i.match?rm(n,0,r):fM(n,e,t)}function rm(n,e,t){if(0===t.length)return new Wt(n.segments,{});{const i=function Xge(n){return im(n[0])?n[0].outlets:{[it]:n}}(t),r={};if(Object.keys(i).some(o=>o!==it)&&n.children[it]&&1===n.numberOfChildren&&0===n.children[it].segments.length){const o=rm(n.children[it],e,t);return new Wt(n.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(r[o]=Aj(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{void 0===i[o]&&(r[o]=s)}),new Wt(n.segments,r)}}function fM(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const o=t[r];if(im(o)){const l=Jge(o.outlets);return new Wt(i,l)}if(0===r&&Sv(t[0])){i.push(new tm(n.segments[e].path,kj(t[0]))),r++;continue}const s=im(o)?o.outlets[it]:`${o}`,a=r<t.length-1?t[r+1]:null;s&&a&&Sv(a)?(i.push(new tm(s,kj(a))),r+=2):(i.push(new tm(s,{})),r++)}return new Wt(i,{})}function Jge(n){const e={};return Object.entries(n).forEach(([t,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(e[t]=fM(new Wt([],{}),0,i))}),e}function kj(n){const e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function Oj(n,e,t){return n==t.path&&ws(e,t.parameters)}const om="imperative";var _t=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(_t||{});class Cs{constructor(e,t){this.id=e,this.url=t}}class kv extends Cs{constructor(e,t,i="imperative",r=null){super(e,t),this.type=_t.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ua extends Cs{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=_t.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var vo=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(vo||{}),Ov=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Ov||{});class Xd extends Cs{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=_t.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Zd extends Cs{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=_t.NavigationSkipped}}class Pv extends Cs{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=_t.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Pj extends Cs{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=_t.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class e_e extends Cs{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=_t.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class t_e extends Cs{constructor(e,t,i,r,o){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=_t.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class n_e extends Cs{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=_t.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class i_e extends Cs{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=_t.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class r_e{constructor(e){this.route=e,this.type=_t.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class o_e{constructor(e){this.route=e,this.type=_t.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class s_e{constructor(e){this.snapshot=e,this.type=_t.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class a_e{constructor(e){this.snapshot=e,this.type=_t.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class l_e{constructor(e){this.snapshot=e,this.type=_t.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class c_e{constructor(e){this.snapshot=e,this.type=_t.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rj{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=_t.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class pM{}class mM{constructor(e){this.url=e}}class u_e{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new sm,this.attachRef=null}}let sm=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new u_e,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class Nj{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=gM(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=gM(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=_M(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return _M(e,this._root).map(t=>t.value)}}function gM(n,e){if(n===e.value)return e;for(const t of e.children){const i=gM(n,t);if(i)return i}return null}function _M(n,e){if(n===e.value)return[e];for(const t of e.children){const i=_M(n,t);if(i.length)return i.unshift(e),i}return[]}class Ho{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Jd(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Fj extends Nj{constructor(e,t){super(e),this.snapshot=t,vM(this,e)}toString(){return this.snapshot.toString()}}function Lj(n){const e=function d_e(n){const o=new yM([],{},{},"",{},it,n,null,{});return new Vj("",new Ho(o,[]))}(n),t=new fi([new tm("",{})]),i=new fi({}),r=new fi({}),o=new fi({}),s=new fi(""),a=new mt(t,i,o,s,r,it,n,e.root);return a.snapshot=e.root,new Fj(new Ho(a,[]),e)}class mt{constructor(e,t,i,r,o,s,a,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Le(c=>c[em]))??we(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Le(e=>Wd(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Le(e=>Wd(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function bM(n,e,t="emptyOnly"){let i;const{routeConfig:r}=n;return i=null===e||"always"!==t&&""!==r?.path&&(e.component||e.routeConfig?.loadComponent)?{params:{...n.params},data:{...n.data},resolve:{...n.data,...n._resolvedData??{}}}:{params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.data,...r?.data,...n._resolvedData}},r&&Uj(r)&&(i.resolve[em]=r.title),i}class yM{get title(){return this.data?.[em]}constructor(e,t,i,r,o,s,a,l,c){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Wd(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Wd(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Vj extends Nj{constructor(e,t){super(t),this.url=e,vM(this,t)}toString(){return Bj(this._root)}}function vM(n,e){e.value._routerState=n,e.children.forEach(t=>vM(n,t))}function Bj(n){const e=n.children.length>0?` { ${n.children.map(Bj).join(", ")} } `:"";return`${n.value}${e}`}function xM(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,ws(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),ws(e.params,t.params)||n.paramsSubject.next(t.params),function Dge(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!ws(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),ws(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function wM(n,e){const t=ws(n.params,e.params)&&function Oge(n,e){return Mc(n,e)&&n.every((t,i)=>ws(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||wM(n.parent,e.parent))}function Uj(n){return"string"==typeof n.title||null===n.title}let Dc=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=it,this.activateEvents=new qe,this.deactivateEvents=new qe,this.attachEvents=new qe,this.detachEvents=new qe,this.parentContexts=Z(sm),this.location=Z(mo),this.changeDetector=Z(gd),this.environmentInjector=Z(Zr),this.inputBinder=Z(Rv,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new H(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new H(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new H(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new H(4013,!1);this._activatedRoute=t;const r=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new h_e(t,a,r.injector);this.activated=r.createComponent(s,{index:r.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=me({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Jr]})}}return n})();class h_e{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===mt?this.route:e===sm?this.childContexts:this.parent.get(e,t)}}const Rv=new X("");let zj=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:i}=t,r=yv([i.queryParams,i.params,i.data]).pipe(Br(([o,s,a],l)=>(a={...o,...s,...a},0===l?we(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(t);const s=function ahe(n){const e=ot(n);if(!e)return null;const t=new vp(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(i.component);if(s)for(const{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,r)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac})}}return n})();function am(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function p_e(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return am(n,i,r);return am(n,i)})}(n,e,t);return new Ho(i,r)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>am(n,a)),s}}const i=function m_e(n){return new mt(new fi(n.url),new fi(n.params),new fi(n.queryParams),new fi(n.fragment),new fi(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(o=>am(n,o));return new Ho(i,r)}}const jj="ngNavigationCancelingError";function Hj(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=Qd(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=$j(!1,vo.Redirect);return r.url=t,r.navigationBehaviorOptions=i,r}function $j(n,e){const t=new Error(`NavigationCancelingError: ${n||""}`);return t[jj]=!0,t.cancellationCode=e,t}function Gj(n){return!!n&&n[jj]}let qj=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=ve({type:n,selectors:[["ng-component"]],standalone:!0,features:[or],decls:1,vars:0,template:function(i,r){1&i&&$(0,"router-outlet")},dependencies:[Dc],encapsulation:2})}}return n})();function CM(n){const e=n.children&&n.children.map(CM),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==it&&(t.component=qj),t}function Es(n){return n.outlet||it}function lm(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class C_e{constructor(e,t,i,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),xM(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=Jd(t);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,t,i){const r=e.value,o=t?t.value:null;if(r===o)if(r.component){const s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,i);else o&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=Jd(e);for(const s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){const s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=Jd(e);for(const s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){const r=Jd(t);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new c_e(o.value.snapshot))}),e.children.length&&this.forwardEvent(new a_e(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,o=t?t.value:null;if(xM(r),r===o)if(r.component){const s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),xM(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=lm(r.snapshot);s.attachRef=null,s.route=r,s.injector=a,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,i)}}class Wj{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Nv{constructor(e,t){this.component=e,this.route=t}}function E_e(n,e,t){const i=n._root;return cm(i,e?e._root:null,t,[i.value])}function eh(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||function $te(n){return null!==hb(n)}(n)?e.get(n):n:i}function cm(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=Jd(e);return n.children.forEach(s=>{(function I_e(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function M_e(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Mc(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Mc(n.url,e.url)||!ws(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!wM(n,e)||!ws(n.queryParams,e.queryParams);default:return!wM(n,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new Wj(i)):(o.data=s.data,o._resolvedData=s._resolvedData),cm(n,e,o.component?a?a.children:null:t,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Nv(a.outlet.component,s))}else s&&um(e,a,r),r.canActivateChecks.push(new Wj(i)),cm(n,null,o.component?a?a.children:null:t,i,r)})(s,o[s.value.outlet],t,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>um(a,t.getContext(s),r)),r}function um(n,e,t){const i=Jd(n),r=n.value;Object.entries(i).forEach(([o,s])=>{um(s,r.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new Nv(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function dm(n){return"function"==typeof n}function Kj(n){return n instanceof vv||"EmptyError"===n?.name}const Fv=Symbol("INITIAL_VALUE");function th(){return Br(n=>yv(n.map(e=>e.pipe(xn(1),xv(Fv)))).pipe(Le(e=>{for(const t of e)if(!0!==t){if(t===Fv)return Fv;if(!1===t||t instanceof Kd)return t}return!0}),ln(e=>e!==Fv),xn(1)))}function Yj(n){return function $ee(...n){return AL(n)}(Bn(e=>{if(Qd(e))throw Hj(0,e)}),Le(e=>!0===e))}class EM{constructor(e){this.segmentGroup=e||null}}class TM extends Error{constructor(e){super(),this.urlTree=e}}function nh(n){return Gd(new EM(n))}class q_e{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return we(i);if(r.numberOfChildren>1||!r.children[it])return Gd(new H(4e3,!1));r=r.children[it]}}applyRedirectCommands(e,t,i){const r=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i);if(t.startsWith("/"))throw new TM(r);return r}applyRedirectCreateUrlTree(e,t,i,r){const o=this.createSegmentGroup(e,t.root,i,r);return new Kd(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return Object.entries(e).forEach(([r,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);i[r]=t[a]}else i[r]=o}),i}createSegmentGroup(e,t,i,r){const o=this.createSegments(e,t.segments,i,r);let s={};return Object.entries(t.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,i,r)}),new Wt(o,s)}createSegments(e,t,i,r){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new H(4001,!1);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}const IM={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function W_e(n,e,t,i,r){const o=MM(n,e,t);return o.matched?(i=function __e(n,e){return n.providers&&!n._injector&&(n._injector=_y(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,i),function H_e(n,e,t,i){const r=e.canMatch;return r&&0!==r.length?we(r.map(s=>{const a=eh(s,n);return dl(function P_e(n){return n&&dm(n.canMatch)}(a)?a.canMatch(e,t):uc(n,()=>a(e,t)))})).pipe(th(),Yj()):we(!0)}(i,e,t).pipe(Le(s=>!0===s?o:{...IM}))):we(o)}function MM(n,e,t){if("**"===e.path)return function K_e(n){return{matched:!0,parameters:n.length>0?mj(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}(t);if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...IM}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||Mge)(t,n,e);if(!r)return{...IM};const o={};Object.entries(r.posParams??{}).forEach(([a,l])=>{o[a]=l.path});const s=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function Qj(n,e,t,i){return t.length>0&&function X_e(n,e,t){return t.some(i=>Lv(n,e,i)&&Es(i)!==it)}(n,t,i)?{segmentGroup:new Wt(e,Q_e(i,new Wt(t,n.children))),slicedSegments:[]}:0===t.length&&function Z_e(n,e,t){return t.some(i=>Lv(n,e,i))}(n,t,i)?{segmentGroup:new Wt(n.segments,Y_e(n,t,i,n.children)),slicedSegments:t}:{segmentGroup:new Wt(n.segments,n.children),slicedSegments:t}}function Y_e(n,e,t,i){const r={};for(const o of t)if(Lv(n,e,o)&&!i[Es(o)]){const s=new Wt([],{});r[Es(o)]=s}return{...i,...r}}function Q_e(n,e){const t={};t[it]=e;for(const i of n)if(""===i.path&&Es(i)!==it){const r=new Wt([],{});t[Es(i)]=r}return t}function Lv(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class tbe{}class rbe{constructor(e,t,i,r,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new q_e(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new H(4002,`'${e.segmentGroup}'`)}recognize(){const e=Qj(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Le(t=>{const i=new yM([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},it,this.rootComponentType,null,{}),r=new Ho(i,t),o=new Vj("",r),s=function Wge(n,e,t=null,i=null){return Mj(Ij(n),e,t,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,it).pipe(Ic(i=>{if(i instanceof TM)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof EM?this.noMatchError(i):i}))}inheritParamsAndData(e,t){const i=e.value,r=bM(i,t,this.paramsInheritanceStrategy);i.params=Object.freeze(r.params),i.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o,i))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r,!0).pipe(Le(o=>o instanceof Ho?[o]:[]))}processChildren(e,t,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return vi(r).pipe(qd(o=>{const s=i.children[o],a=function x_e(n,e){const t=n.filter(i=>Es(i)===e);return t.push(...n.filter(i=>Es(i)!==e)),t}(t,o);return this.processSegmentGroup(e,a,s,o)}),function Ege(n,e){return Mn(function Cge(n,e,t,i,r){return(o,s)=>{let a=t,l=e,c=0;o.subscribe(bn(s,u=>{const d=c++;l=a?n(l,u,d):(a=!0,u),i&&s.next(l)},r&&(()=>{a&&s.next(l),s.complete()})))}}(n,e,arguments.length>=2,!0))}((o,s)=>(o.push(...s),o)),wv(null),function Tge(n,e){const t=arguments.length>=2;return i=>i.pipe(n?ln((r,o)=>n(r,o,i)):ja,aM(1),t?wv(e):hj(()=>new vv))}(),Ii(o=>{if(null===o)return nh(i);const s=Xj(o);return function obe(n){n.sort((e,t)=>e.value.outlet===it?-1:t.value.outlet===it?1:e.value.outlet.localeCompare(t.value.outlet))}(s),we(s)}))}processSegment(e,t,i,r,o,s){return vi(t).pipe(qd(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,i,r,o,s).pipe(Ic(l=>{if(l instanceof EM)return we(null);throw l}))),Tc(a=>!!a),Ic(a=>{if(Kj(a))return function ebe(n,e,t){return 0===e.length&&!n.children[t]}(i,r,o)?we(new tbe):nh(i);throw a}))}processSegmentAgainstRoute(e,t,i,r,o,s,a){return function J_e(n,e,t,i){return!!(Es(n)===i||i!==it&&Lv(e,t,n))&&MM(e,n,t).matched}(i,r,o,s)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,r,i,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,t,i,o,s):nh(r):nh(r)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,o,s){const{matched:a,consumedSegments:l,positionalParamSegments:c,remainingSegments:u}=MM(t,r,o);if(!a)return nh(t);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const d=this.applyRedirects.applyRedirectCommands(l,r.redirectTo,c);return this.applyRedirects.lineralizeSegments(r,d).pipe(Ii(h=>this.processSegment(e,i,t,h.concat(u),s,!1)))}matchSegmentAgainstRoute(e,t,i,r,o){const s=W_e(t,i,r,e);return"**"===i.path&&(t.children={}),s.pipe(Br(a=>a.matched?this.getChildConfig(e=i._injector??e,i,r).pipe(Br(({routes:l})=>{const c=i._loadedInjector??e,{consumedSegments:u,remainingSegments:d,parameters:h}=a,m=new yM(u,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function abe(n){return n.data||{}}(i),Es(i),i.component??i._loadedComponent??null,i,function lbe(n){return n.resolve||{}}(i)),{segmentGroup:y,slicedSegments:C}=Qj(t,u,d,l);if(0===C.length&&y.hasChildren())return this.processChildren(c,l,y).pipe(Le(S=>null===S?null:new Ho(m,S)));if(0===l.length&&0===C.length)return we(new Ho(m,[]));const T=Es(i)===o;return this.processSegment(c,l,y,C,T?it:o,!0).pipe(Le(S=>new Ho(m,S instanceof Ho?[S]:[])))})):nh(t)))}getChildConfig(e,t,i){return t.children?we({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?we({routes:t._loadedRoutes,injector:t._loadedInjector}):function j_e(n,e,t,i){const r=e.canLoad;return void 0===r||0===r.length?we(!0):we(r.map(s=>{const a=eh(s,n);return dl(function S_e(n){return n&&dm(n.canLoad)}(a)?a.canLoad(e,t):uc(n,()=>a(e,t)))})).pipe(th(),Yj())}(e,t,i).pipe(Ii(r=>r?this.configLoader.loadChildren(e,t).pipe(Bn(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function G_e(n){return Gd($j(!1,vo.GuardRejected))}())):we({routes:[],injector:e})}}function sbe(n){const e=n.value.routeConfig;return e&&""===e.path}function Xj(n){const e=[],t=new Set;for(const i of n){if(!sbe(i)){e.push(i);continue}const r=e.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=Xj(i.children);e.push(new Ho(i.value,r))}return e.filter(i=>!t.has(i))}function Zj(n){const e=n.children.map(t=>Zj(t)).flat();return[n,...e]}function DM(n){return Br(e=>{const t=n(e);return t?vi(t).pipe(Le(()=>e)):we(e)})}let Jj=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===it);return i}getResolvedTitleForRoute(t){return t.data[em]}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:()=>Z(pbe),providedIn:"root"})}}return n})(),pbe=(()=>{class n extends Jj{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}static{this.\u0275fac=function(i){return new(i||n)(U(Ope))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const ih=new X("",{providedIn:"root",factory:()=>({})}),rh=new X("");let SM=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Z(wz)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return we(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=dl(t.loadComponent()).pipe(Le(e7),Bn(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Cv(()=>{this.componentLoaders.delete(t)})),r=new sM(i,()=>new lt).pipe(oM());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return we({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=function mbe(n,e,t,i){return dl(n.loadChildren()).pipe(Le(e7),Ii(r=>r instanceof FV||Array.isArray(r)?we(r):vi(e.compileModuleAsync(r))),Le(r=>{i&&i(n);let o,s,a=!1;return Array.isArray(r)?(s=r,!0):(o=r.create(t).injector,s=o.get(rh,[],{optional:!0,self:!0}).flat()),{routes:s.map(CM),injector:o}}))}(i,this.compiler,t,this.onLoadEndListener).pipe(Cv(()=>{this.childrenLoaders.delete(i)})),s=new sM(o,()=>new lt).pipe(oM());return this.childrenLoaders.set(i,s),s}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function e7(n){return function gbe(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let AM=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:()=>Z(_be),providedIn:"root"})}}return n})(),_be=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const t7=new X(""),n7=new X("");function bbe(n,e,t){const i=n.get(n7),r=n.get(ut);return n.get(Te).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,Promise.resolve();let o;const s=new Promise(c=>{o=c}),a=r.startViewTransition(()=>(o(),function ybe(n){return new Promise(e=>{nV(e,{injector:n})})}(n))),{onViewTransitionCreated:l}=i;return l&&uc(n,()=>l({transition:a,from:e,to:t})),s})}let Vv=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new lt,this.transitionAbortSubject=new lt,this.configLoader=Z(SM),this.environmentInjector=Z(Zr),this.urlSerializer=Z(Yd),this.rootContexts=Z(sm),this.location=Z(Ln),this.inputBindingEnabled=null!==Z(Rv,{optional:!0}),this.titleStrategy=Z(Jj),this.options=Z(ih,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=Z(AM),this.createViewTransition=Z(t7,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>we(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new o_e(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new r_e(r))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:i})}setupNavigations(t,i,r){return this.transitions=new fi({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:om,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ln(o=>0!==o.id),Le(o=>({...o,extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Br(o=>{this.currentTransition=o;let s=!1,a=!1;return we(o).pipe(Bn(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Br(l=>{const c=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!c&&"reload"!==(l.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const d="";return this.events.next(new Zd(l.id,this.urlSerializer.serialize(l.rawUrl),d,Ov.IgnoredSameUrlNavigation)),l.resolve(null),xs}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return we(l).pipe(Br(d=>{const h=this.transitions?.getValue();return this.events.next(new kv(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions?.getValue()?xs:Promise.resolve(d)}),function cbe(n,e,t,i,r,o){return Ii(s=>function nbe(n,e,t,i,r,o,s="emptyOnly"){return new rbe(n,e,t,i,r,s,o).recognize()}(n,e,t,i,s.extractedUrl,r,o).pipe(Le(({state:a,tree:l})=>({...s,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Bn(d=>{o.targetSnapshot=d.targetSnapshot,o.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:d.urlAfterRedirects};const h=new Pj(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:d,extractedUrl:h,source:m,restoredState:y,extras:C}=l,T=new kv(d,this.urlSerializer.serialize(h),m,y);this.events.next(T);const S=Lj(this.rootComponentType).snapshot;return this.currentTransition=o={...l,targetSnapshot:S,urlAfterRedirects:h,extras:{...C,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=h,we(o)}{const d="";return this.events.next(new Zd(l.id,this.urlSerializer.serialize(l.extractedUrl),d,Ov.IgnoredByUrlHandlingStrategy)),l.resolve(null),xs}}),Bn(l=>{const c=new e_e(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),Le(l=>(this.currentTransition=o={...l,guards:E_e(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},o)),function R_e(n,e){return Ii(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return 0===s.length&&0===o.length?we({...t,guardsResult:!0}):function N_e(n,e,t,i){return vi(n).pipe(Ii(r=>function z_e(n,e,t,i,r){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?we(o.map(a=>{const l=lm(e)??r,c=eh(a,l);return dl(function O_e(n){return n&&dm(n.canDeactivate)}(c)?c.canDeactivate(n,e,t,i):uc(l,()=>c(n,e,t,i))).pipe(Tc())})).pipe(th()):we(!0)}(r.component,r.route,t,e,i)),Tc(r=>!0!==r,!0))}(s,i,r,n).pipe(Ii(a=>a&&function D_e(n){return"boolean"==typeof n}(a)?function F_e(n,e,t,i){return vi(e).pipe(qd(r=>Hd(function V_e(n,e){return null!==n&&e&&e(new s_e(n)),we(!0)}(r.route.parent,i),function L_e(n,e){return null!==n&&e&&e(new l_e(n)),we(!0)}(r.route,i),function U_e(n,e,t){const i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function T_e(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(s)).filter(s=>null!==s).map(s=>$d(()=>we(s.guards.map(l=>{const c=lm(s.node)??t,u=eh(l,c);return dl(function k_e(n){return n&&dm(n.canActivateChild)}(u)?u.canActivateChild(i,n):uc(c,()=>u(i,n))).pipe(Tc())})).pipe(th())));return we(o).pipe(th())}(n,r.path,t),function B_e(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return we(!0);const r=i.map(o=>$d(()=>{const s=lm(e)??t,a=eh(o,s);return dl(function A_e(n){return n&&dm(n.canActivate)}(a)?a.canActivate(e,n):uc(s,()=>a(e,n))).pipe(Tc())}));return we(r).pipe(th())}(n,r.route,t))),Tc(r=>!0!==r,!0))}(i,o,n,e):we(a)),Le(a=>({...t,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),Bn(l=>{if(o.guardsResult=l.guardsResult,Qd(l.guardsResult))throw Hj(0,l.guardsResult);const c=new t_e(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),ln(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",vo.GuardRejected),!1)),DM(l=>{if(l.guards.canActivateChecks.length)return we(l).pipe(Bn(c=>{const u=new n_e(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),Br(c=>{let u=!1;return we(c).pipe(function ube(n,e){return Ii(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return we(t);const o=new Set(r.map(l=>l.route)),s=new Set;for(const l of o)if(!s.has(l))for(const c of Zj(l))s.add(c);let a=0;return vi(s).pipe(qd(l=>o.has(l)?function dbe(n,e,t,i){const r=n.routeConfig,o=n._resolve;return void 0!==r?.title&&!Uj(r)&&(o[em]=r.title),function hbe(n,e,t,i){const r=lM(n);if(0===r.length)return we({});const o={};return vi(r).pipe(Ii(s=>function fbe(n,e,t,i){const r=lm(e)??i,o=eh(n,r);return dl(o.resolve?o.resolve(e,t):uc(r,()=>o(e,t)))}(n[s],e,t,i).pipe(Tc(),Bn(a=>{o[s]=a}))),aM(1),fj(o),Ic(s=>Kj(s)?xs:Gd(s)))}(o,n,e,i).pipe(Le(s=>(n._resolvedData=s,n.data=bM(n,n.parent,t).resolve,null)))}(l,i,n,e):(l.data=bM(l,l.parent,n).resolve,we(void 0))),Bn(()=>a++),aM(1),Ii(l=>a===s.size?we(t):xs))})}(this.paramsInheritanceStrategy,this.environmentInjector),Bn({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(c,"",vo.NoDataFromResolver)}}))}),Bn(c=>{const u=new i_e(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}))}),DM(l=>{const c=u=>{const d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(Bn(h=>{u.component=h}),Le(()=>{})));for(const h of u.children)d.push(...c(h));return d};return yv(c(l.targetSnapshot.root)).pipe(wv(null),xn(1))}),DM(()=>this.afterPreactivation()),Br(()=>{const{currentSnapshot:l,targetSnapshot:c}=o,u=this.createViewTransition?.(this.environmentInjector,l.root,c.root);return u?vi(u).pipe(Le(()=>o)):we(o)}),Le(l=>{const c=function f_e(n,e,t){const i=am(n,e._root,t?t._root:void 0);return new Fj(i,e)}(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o={...l,targetRouterState:c},this.currentNavigation.targetRouterState=c,o}),Bn(()=>{this.events.next(new pM)}),((n,e,t,i)=>Le(r=>(new C_e(e,r.targetRouterState,r.currentRouterState,t,i).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),xn(1),Bn({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ua(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),Ev(this.transitionAbortSubject.pipe(Bn(l=>{throw l}))),Cv(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",vo.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Ic(l=>{if(a=!0,Gj(l))this.events.next(new Xd(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),function g_e(n){return Gj(n)&&Qd(n.url)}(l)?this.events.next(new mM(l.url)):o.resolve(!1);else{this.events.next(new Pv(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0));try{o.resolve(t.errorHandler(l))}catch(c){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(c)}}return xs}))}))}cancelNavigationTransition(t,i,r){const o=new Xd(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function vbe(n){return n!==om}let xbe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:()=>Z(Cbe),providedIn:"root"})}}return n})();class wbe{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let Cbe=(()=>{class n extends wbe{static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=ri(n)))(r||n)}})()}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),i7=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:()=>Z(Ebe),providedIn:"root"})}}return n})(),Ebe=(()=>{class n extends i7{constructor(){super(...arguments),this.location=Z(Ln),this.urlSerializer=Z(Yd),this.options=Z(ih,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=Z(AM),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Kd,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Lj(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(i=>{"popstate"===i.type&&t(i.url,i.state)})}handleRouterEvent(t,i){if(t instanceof kv)this.stateMemento=this.createStateMemento();else if(t instanceof Zd)this.rawUrlTree=i.initialUrl;else if(t instanceof Pj){if("eager"===this.urlUpdateStrategy&&!i.extras.skipLocationChange){const r=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(r,i)}}else t instanceof pM?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):t instanceof Xd&&(t.code===vo.GuardRejected||t.code===vo.NoDataFromResolver)?this.restoreHistory(i):t instanceof Pv?this.restoreHistory(i,!0):t instanceof ua&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",s)}else{const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(r,"",o)}}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&0===o&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=ri(n)))(r||n)}})()}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var hm=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(hm||{});function r7(n,e){n.events.pipe(ln(t=>t instanceof ua||t instanceof Xd||t instanceof Pv||t instanceof Zd),Le(t=>t instanceof ua||t instanceof Zd?hm.COMPLETE:t instanceof Xd&&(t.code===vo.Redirect||t.code===vo.SupersededByNewNavigation)?hm.REDIRECTING:hm.FAILED),ln(t=>t!==hm.REDIRECTING),xn(1)).subscribe(()=>{e()})}function Tbe(n){throw n}const Ibe={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Mbe={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Me=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=Z(hz),this.stateManager=Z(i7),this.options=Z(ih,{optional:!0})||{},this.pendingTasks=Z(wp),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=Z(Vv),this.urlSerializer=Z(Yd),this.location=Z(Ln),this.urlHandlingStrategy=Z(AM),this._events=new lt,this.errorHandler=this.options.errorHandler||Tbe,this.navigated=!1,this.routeReuseStrategy=Z(xbe),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=Z(rh,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!Z(Rv,{optional:!0}),this.eventsSubscription=new hi,this.isNgZoneEnabled=Z(Te)instanceof Te&&Te.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(i=>{try{const r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(null!==r&&null!==o)if(this.stateManager.handleRouterEvent(i,o),i instanceof Xd&&i.code!==vo.Redirect&&i.code!==vo.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof ua)this.navigated=!0;else if(i instanceof mM){const s=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),a={info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||vbe(r.source)};this.scheduleNavigation(s,om,null,a,{resolve:r.resolve,reject:r.reject,promise:r.promise})}(function Sbe(n){return!(n instanceof pM||n instanceof mM)})(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),om,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",i)},0)})}navigateToSyncWithBrowser(t,i,r){const o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){const l={...r};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(o.state=l)}const a=this.parseUrl(t);this.scheduleNavigation(a,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(CM),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){const{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=i,c=l?this.currentUrlTree.fragment:s;let d,u=null;switch(a){case"merge":u={...this.currentUrlTree.queryParams,...o};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}null!==u&&(u=this.removeEmptyProps(u));try{d=Ij(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),d=this.currentUrlTree.root}return Mj(d,t,u,c??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=Qd(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,om,null,i)}navigate(t,i={skipLocationChange:!1}){return function Dbe(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new H(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,i){let r;if(r=!0===i?{...Ibe}:!1===i?{...Mbe}:i,Qd(t))return _j(this.currentUrlTree,t,r);const o=this.parseUrl(t);return _j(this.currentUrlTree,o,r)}removeEmptyProps(t){return Object.entries(t).reduce((i,[r,o])=>(null!=o&&(i[r]=o),i),{})}scheduleNavigation(t,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((d,h)=>{a=d,l=h});const u=this.pendingTasks.add();return r7(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class o7{}let Obe=(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.injector=r,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(ln(t=>t instanceof ua),qd(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=_y(o.providers,t,`Route: ${o.path}`));const s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return vi(r).pipe(jd())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):we(null);const o=r.pipe(Ii(s=>null===s?we(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));return i.loadComponent&&!i._loadedComponent?vi([o,this.loader.loadComponent(i)]).pipe(jd()):o})}static{this.\u0275fac=function(i){return new(i||n)(U(Me),U(wz),U(Zr),U(o7),U(SM))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const OM=new X("");let s7=(()=>{class n{constructor(t,i,r,o,s={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof kv?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ua?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Zd&&t.code===Ov.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Rj&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Rj(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(i){yE()}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac})}}return n})();function Ts(n,e){return{\u0275kind:n,\u0275providers:e}}function l7(){const n=Z(qt);return e=>{const t=n.get(ms);if(e!==t.components[0])return;const i=n.get(Me),r=n.get(c7);1===n.get(PM)&&i.initialNavigation(),n.get(u7,null,ht.Optional)?.setUpPreloading(),n.get(OM,null,ht.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const c7=new X("",{factory:()=>new lt}),PM=new X("",{providedIn:"root",factory:()=>1}),u7=new X("");function Fbe(n){return Ts(0,[{provide:u7,useExisting:Obe},{provide:o7,useExisting:n}])}function Vbe(n){return Ts(9,[{provide:t7,useValue:bbe},{provide:n7,useValue:{skipNextTransition:!!n?.skipInitialTransition,...n}}])}const d7=new X("ROUTER_FORROOT_GUARD"),Bbe=[Ln,{provide:Yd,useClass:cM},Me,sm,{provide:mt,useFactory:function a7(n){return n.routerState.root},deps:[Me]},SM,[]];let Ur=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[Bbe,[],{provide:rh,multi:!0,useValue:t},{provide:d7,useFactory:Hbe,deps:[[Me,new Gt,new Xf]]},{provide:ih,useValue:i||{}},i?.useHash?{provide:sl,useClass:o6}:{provide:sl,useClass:r6},{provide:OM,useFactory:()=>{const n=Z(Ofe),e=Z(Te),t=Z(ih),i=Z(Vv),r=Z(Yd);return t.scrollOffset&&n.setOffset(t.scrollOffset),new s7(r,i,n,e,t)}},i?.preloadingStrategy?Fbe(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?$be(i):[],i?.bindToComponentInputs?Ts(8,[zj,{provide:Rv,useExisting:zj}]).\u0275providers:[],i?.enableViewTransitions?Vbe().\u0275providers:[],[{provide:h7,useFactory:l7},{provide:WT,multi:!0,useExisting:h7}]]}}static forChild(t){return{ngModule:n,providers:[{provide:rh,multi:!0,useValue:t}]}}static{this.\u0275fac=function(i){return new(i||n)(U(d7,8))}}static{this.\u0275mod=nt({type:n})}static{this.\u0275inj=Xe({})}}return n})();function Hbe(n){return"guarded"}function $be(n){return["disabled"===n.initialNavigation?Ts(3,[{provide:Up,multi:!0,useFactory:()=>{const e=Z(Me);return()=>{e.setUpLocationChangeListener()}}},{provide:PM,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Ts(2,[{provide:PM,useValue:0},{provide:Up,multi:!0,deps:[qt],useFactory:e=>{const t=e.get(uhe,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const r=e.get(Me),o=e.get(c7);r7(r,()=>{i(!0)}),e.get(Vv).afterPreactivation=()=>(i(!0),o.closed?we(void 0):o),r.initialNavigation()}))}}]).\u0275providers:[]]}const h7=new X(""),se=function(n,e){if(!n)throw oh(e)},oh=function(n){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+n)},f7=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=63&r|128):55296==(64512&r)&&i+1<n.length&&56320==(64512&n.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&n.charCodeAt(++i)),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=63&r|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=63&r|128)}return e},Bv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const o=n[r],s=r+1<n.length,a=s?n[r+1]:0,l=r+2<n.length,c=l?n[r+2]:0;let h=(15&a)<<2|c>>6,m=63&c;l||(m=64,s||(h=64)),i.push(t[o>>2],t[(3&o)<<4|a>>4],t[h],t[m])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(f7(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,i=0;for(;t<n.length;){const r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=n[t++];e[i++]=String.fromCharCode((31&r)<<6|63&o)}else if(r>239&&r<365){const l=((7&r)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(1023&l))}else{const o=n[t++],s=n[t++];e[i++]=String.fromCharCode((15&r)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const o=t[n.charAt(r++)],a=r<n.length?t[n.charAt(r)]:0;++r;const c=r<n.length?t[n.charAt(r)]:64;++r;const d=r<n.length?t[n.charAt(r)]:64;if(++r,null==o||null==a||null==c||null==d)throw new Wbe;i.push(o<<2|a>>4),64!==c&&(i.push(a<<4&240|c>>2),64!==d&&i.push(c<<6&192|d))}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Wbe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const p7=function(n){const e=f7(n);return Bv.encodeByteArray(e,!0)},Uv=function(n){return p7(n).replace(/\./g,"")},zv=function(n){try{return Bv.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Kbe(n){return m7(void 0,n)}function m7(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===n&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!Ybe(t)||(n[t]=m7(n[t],e[t]));return n}function Ybe(n){return"__proto__"!==n}const jv=()=>{try{return function Qbe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&zv(n[1]);return e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},g7=n=>{var e,t;return null===(t=null===(e=jv())||void 0===e?void 0:e.emulatorHosts)||void 0===t?void 0:t[n]},Hv=n=>{const e=g7(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),i]:[e.substring(0,t),i]},_7=()=>{var n;return null===(n=jv())||void 0===n?void 0:n.config},b7=n=>{var e;return null===(e=jv())||void 0===e?void 0:e[`_${n}`]};class sh{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,i))}}}function NM(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i=e||"demo-project",r=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Uv(JSON.stringify({alg:"none",type:"JWT"})),Uv(JSON.stringify(s)),""].join(".")}function Zn(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function FM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zn())}function y7(){var n;const e=null===(n=jv())||void 0===n?void 0:n.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function LM(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}function v7(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function hl(){try{return"object"==typeof indexedDB}catch{return!1}}function fm(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var o;e((null===(o=r.error)||void 0===o?void 0:o.message)||"")}}catch(t){e(t)}})}function VM(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class zr extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name="FirebaseError",Object.setPrototypeOf(this,zr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Is.prototype.create)}}class Is{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},r=`${this.service}/${e}`,o=this.errors[e],s=o?function iye(n,e){return n.replace(rye,(t,i)=>{const r=e[i];return null!=r?String(r):`<${i}?>`})}(o,i):"Error";return new zr(r,`${this.serviceName}: ${s} (${r}).`,i)}}const rye=/\{\$([^}]+)}/g;function pm(n){return JSON.parse(n)}function Hi(n){return JSON.stringify(n)}const $v=function(n){let e={},t={},i={},r="";try{const o=n.split(".");e=pm(zv(o[0])||""),t=pm(zv(o[1])||""),r=o[2],i=t.d||{},delete t.d}catch{}return{header:e,claims:t,data:i,signature:r}};function Ms(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function ah(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function BM(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Gv(n,e,t){const i={};for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=e.call(t,n[r],r,n));return i}function qv(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const r of t){if(!i.includes(r))return!1;const o=n[r],s=e[r];if(x7(o)&&x7(s)){if(!qv(o,s))return!1}else if(o!==s)return!1}for(const r of i)if(!t.includes(r))return!1;return!0}function x7(n){return null!==n&&"object"==typeof n}function lh(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function mm(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,o]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(o)}}),e}function gm(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}class aye{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const i=this.W_;if("string"==typeof e)for(let d=0;d<16;d++)i[d]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let d=0;d<16;d++)i[d]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let d=16;d<80;d++){const h=i[d-3]^i[d-8]^i[d-14]^i[d-16];i[d]=4294967295&(h<<1|h>>>31)}let c,u,r=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],l=this.chain_[4];for(let d=0;d<80;d++){d<40?d<20?(c=a^o&(s^a),u=1518500249):(c=o^s^a,u=1859775393):d<60?(c=o&s|a&(o|s),u=2400959708):(c=o^s^a,u=3395469782);const h=(r<<5|r>>>27)+c+l+u+i[d]&4294967295;l=a,a=s,s=4294967295&(o<<30|o>>>2),o=r,r=h}this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const i=t-this.blockSize;let r=0;const o=this.buf_;let s=this.inbuf_;for(;r<t;){if(0===s)for(;r<=i;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(o[s]=e.charCodeAt(r),++s,++r,s===this.blockSize){this.compress_(o),s=0;break}}else for(;r<t;)if(o[s]=e[r],++s,++r,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&t,t/=256;this.compress_(this.buf_);let i=0;for(let r=0;r<5;r++)for(let o=24;o>=0;o-=8)e[i]=this.chain_[r]>>o&255,++i;return e}}class cye{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(void 0===e&&void 0===t&&void 0===i)throw new Error("Missing Observer.");r=function uye(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:i},void 0===r.next&&(r.next=UM),void 0===r.error&&(r.error=UM),void 0===r.complete&&(r.complete=UM);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function UM(){}const Wv=function(n){let e=0;for(let t=0;t<n.length;t++){const i=n.charCodeAt(t);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,t++):e+=3}return e},hye=1e3,fye=2,pye=144e5,mye=.5;function zM(n,e=hye,t=fye){const i=e*Math.pow(t,n),r=Math.round(mye*i*(Math.random()-.5)*2);return Math.min(pye,i+r)}function kt(n){return n&&n._delegate?n._delegate:n}class xi{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Sc="[DEFAULT]";class _ye{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new sh;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e?.identifier),r=null!==(t=e?.optional)&&void 0!==t&&t;if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function yye(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Sc})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(e=Sc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return _(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Sc){return this.instances.has(e)}getOptions(e=Sc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[o,s]of this.instancesDeferred.entries())i===this.normalizeInstanceIdentifier(o)&&s.resolve(r);return r}onInit(e,t){var i;const r=this.normalizeInstanceIdentifier(t),o=null!==(i=this.onInitCallbacks.get(r))&&void 0!==i?i:new Set;o.add(e),this.onInitCallbacks.set(r,o);const s=this.instances.get(r);return s&&e(s,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const r of i)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===Sc?void 0:n),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}var n;return i||null}normalizeInstanceIdentifier(e=Sc){return this.component?this.component.multipleInstances?e:Sc:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class vye{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new _ye(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const jM=[];var bt=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(bt||{});const w7={debug:bt.DEBUG,verbose:bt.VERBOSE,info:bt.INFO,warn:bt.WARN,error:bt.ERROR,silent:bt.SILENT},xye=bt.INFO,wye={[bt.DEBUG]:"log",[bt.VERBOSE]:"log",[bt.INFO]:"info",[bt.WARN]:"warn",[bt.ERROR]:"error"},Cye=(n,e,...t)=>{if(e<n.logLevel)return;const i=(new Date).toISOString(),r=wye[e];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[r](`[${i}]  ${n.name}:`,...t)};class Ac{constructor(e){this.name=e,this._logLevel=xye,this._logHandler=Cye,this._userLogHandler=null,jM.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in bt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?w7[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,bt.DEBUG,...e),this._logHandler(this,bt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,bt.VERBOSE,...e),this._logHandler(this,bt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,bt.INFO,...e),this._logHandler(this,bt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,bt.WARN,...e),this._logHandler(this,bt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,bt.ERROR,...e),this._logHandler(this,bt.ERROR,...e)}}const Eye=(n,e)=>e.some(t=>n instanceof t);let C7,E7;const T7=new WeakMap,HM=new WeakMap,I7=new WeakMap,$M=new WeakMap,GM=new WeakMap;let qM={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return HM.get(n);if("objectStoreNames"===e)return n.objectStoreNames||I7.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return fl(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function kye(n){return"function"==typeof n?function Aye(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Iye(){return E7||(E7=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(WM(this),e),fl(T7.get(this))}:function(...e){return fl(n.apply(WM(this),e))}:function(e,...t){const i=n.call(WM(this),e,...t);return I7.set(i,e.sort?e.sort():[e]),fl(i)}}(n):(n instanceof IDBTransaction&&function Dye(n){if(HM.has(n))return;const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),r()},s=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});HM.set(n,e)}(n),Eye(n,function Tye(){return C7||(C7=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,qM):n)}function fl(n){if(n instanceof IDBRequest)return function Mye(n){const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(fl(n.result)),r()},s=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&T7.set(t,n)}).catch(()=>{}),GM.set(e,n),e}(n);if($M.has(n))return $M.get(n);const e=kye(n);return e!==n&&($M.set(n,e),GM.set(e,n)),e}const WM=n=>GM.get(n),Pye=["get","getKey","getAll","getAllKeys","count"],Rye=["put","add","delete","clear"],KM=new Map;function M7(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(KM.get(e))return KM.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,r=Rye.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!Pye.includes(t))return;const o=function(){var s=_(function*(a,...l){const c=this.transaction(a,r?"readwrite":"readonly");let u=c.store;return i&&(u=u.index(l.shift())),(yield Promise.all([u[t](...l),r&&c.done]))[0]});return function(l){return s.apply(this,arguments)}}();return KM.set(e,o),o}!function Sye(n){qM=n(qM)}(n=>({...n,get:(e,t,i)=>M7(e,t)||n.get(e,t,i),has:(e,t)=>!!M7(e,t)||n.has(e,t)}));class Nye{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function Fye(n){const e=n.getComponent();return"VERSION"===e?.type}(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}return null}).filter(t=>t).join(" ")}}const YM="@firebase/app",kc=new Ac("@firebase/app"),Kv="[DEFAULT]",lve={[YM]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Oc=new Map,Yv=new Map;function cve(n,e){try{n.container.addComponent(e)}catch(t){kc.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Mi(n){const e=n.name;if(Yv.has(e))return kc.debug(`There were multiple attempts to register component ${e}.`),!1;Yv.set(e,n);for(const t of Oc.values())cve(t,n);return!0}function ha(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}const fa=new Is("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class dve{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new xi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fa.create("app-deleted",{appName:this._name})}}const pa="9.23.0";function S7(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const i=Object.assign({name:Kv,automaticDataCollectionEnabled:!1},e),r=i.name;if("string"!=typeof r||!r)throw fa.create("bad-app-name",{appName:String(r)});if(t||(t=_7()),!t)throw fa.create("no-options");const o=Oc.get(r);if(o){if(qv(t,o.options)&&qv(i,o.config))return o;throw fa.create("duplicate-app",{appName:r})}const s=new vye(r);for(const l of Yv.values())s.addComponent(l);const a=new dve(t,i,s);return Oc.set(r,a),a}function ch(n=Kv){const e=Oc.get(n);if(!e&&n===Kv&&_7())return S7();if(!e)throw fa.create("no-app",{appName:n});return e}function A7(){return Array.from(Oc.values())}function Nt(n,e,t){var i;let r=null!==(i=lve[n])&&void 0!==i?i:n;t&&(r+=`-${t}`);const o=r.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${r}" with version "${e}":`];return o&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void kc.warn(a.join(" "))}Mi(new xi(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const hve="firebase-heartbeat-database",fve=1,bm="firebase-heartbeat-store";let XM=null;function k7(){return XM||(XM=function Oye(n,e,{blocked:t,upgrade:i,blocking:r,terminated:o}={}){const s=indexedDB.open(n,e),a=fl(s);return i&&s.addEventListener("upgradeneeded",l=>{i(fl(s.result),l.oldVersion,l.newVersion,fl(s.transaction),l)}),t&&s.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),r&&l.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}(hve,fve,{upgrade:(n,e)=>{0===e&&n.createObjectStore(bm)}}).catch(n=>{throw fa.create("idb-open",{originalErrorMessage:n.message})})),XM}function ZM(){return(ZM=_(function*(n){try{return yield(yield k7()).transaction(bm).objectStore(bm).get(P7(n))}catch(e){if(e instanceof zr)kc.warn(e.message);else{const t=fa.create("idb-get",{originalErrorMessage:e?.message});kc.warn(t.message)}}})).apply(this,arguments)}function O7(n,e){return JM.apply(this,arguments)}function JM(){return(JM=_(function*(n,e){try{const i=(yield k7()).transaction(bm,"readwrite");yield i.objectStore(bm).put(e,P7(n)),yield i.done}catch(t){if(t instanceof zr)kc.warn(t.message);else{const i=fa.create("idb-set",{originalErrorMessage:t?.message});kc.warn(i.message)}}})).apply(this,arguments)}function P7(n){return`${n.name}!${n.options.appId}`}class _ve{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new yve(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){var e=this;return _(function*(){const i=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=R7();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==r&&!e._heartbeatsCache.heartbeats.some(o=>o.date===r))return e._heartbeatsCache.heartbeats.push({date:r,agent:i}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(o=>{const s=new Date(o.date).valueOf();return Date.now()-s<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return _(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const t=R7(),{heartbeatsToSend:i,unsentEntries:r}=function bve(n,e=1024){const t=[];let i=n.slice();for(const r of n){const o=t.find(s=>s.agent===r.agent);if(o){if(o.dates.push(r.date),N7(t)>e){o.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),N7(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}(e._heartbeatsCache.heartbeats),o=Uv(JSON.stringify({version:2,heartbeats:i}));return e._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(e._heartbeatsCache.heartbeats=r,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),o})()}}function R7(){return(new Date).toISOString().substring(0,10)}class yve{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(function*(){return!!hl()&&fm().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return _(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function pve(n){return ZM.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var t=this;return _(function*(){var i;if(yield t._canUseIndexedDBPromise){const o=yield t.read();return O7(t.app,{lastSentHeartbeatDate:null!==(i=e.lastSentHeartbeatDate)&&void 0!==i?i:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return _(function*(){var i;if(yield t._canUseIndexedDBPromise){const o=yield t.read();return O7(t.app,{lastSentHeartbeatDate:null!==(i=e.lastSentHeartbeatDate)&&void 0!==i?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}})()}}function N7(n){return Uv(JSON.stringify({version:2,heartbeats:n})).length}!function vve(n){Mi(new xi("platform-logger",e=>new Nye(e),"PRIVATE")),Mi(new xi("heartbeat",e=>new _ve(e),"PRIVATE")),Nt(YM,"0.9.13",n),Nt(YM,"0.9.13","esm2017"),Nt("fire-js","")}(""),Nt("firebase","9.23.0","app");const Cve=(n,e)=>e.some(t=>n instanceof t);let F7,L7;const V7=new WeakMap,eD=new WeakMap,B7=new WeakMap,tD=new WeakMap,nD=new WeakMap;let iD={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return eD.get(n);if("objectStoreNames"===e)return n.objectStoreNames||B7.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return pl(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function Ave(n){return"function"==typeof n?function Sve(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Tve(){return L7||(L7=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(rD(this),e),pl(V7.get(this))}:function(...e){return pl(n.apply(rD(this),e))}:function(e,...t){const i=n.call(rD(this),e,...t);return B7.set(i,e.sort?e.sort():[e]),pl(i)}}(n):(n instanceof IDBTransaction&&function Mve(n){if(eD.has(n))return;const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),r()},s=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});eD.set(n,e)}(n),Cve(n,function Eve(){return F7||(F7=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,iD):n)}function pl(n){if(n instanceof IDBRequest)return function Ive(n){const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(pl(n.result)),r()},s=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&V7.set(t,n)}).catch(()=>{}),nD.set(e,n),e}(n);if(tD.has(n))return tD.get(n);const e=Ave(n);return e!==n&&(tD.set(n,e),nD.set(e,n)),e}const rD=n=>nD.get(n),Ove=["get","getKey","getAll","getAllKeys","count"],Pve=["put","add","delete","clear"],oD=new Map;function U7(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(oD.get(e))return oD.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,r=Pve.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!Ove.includes(t))return;const o=function(){var s=_(function*(a,...l){const c=this.transaction(a,r?"readwrite":"readonly");let u=c.store;return i&&(u=u.index(l.shift())),(yield Promise.all([u[t](...l),r&&c.done]))[0]});return function(l){return s.apply(this,arguments)}}();return oD.set(e,o),o}!function Dve(n){iD=n(iD)}(n=>({...n,get:(e,t,i)=>U7(e,t)||n.get(e,t,i),has:(e,t)=>!!U7(e,t)||n.has(e,t)}));const z7="@firebase/installations",sD="0.6.4",j7=1e4,H7=`w:${sD}`,$7="FIS_v2",Rve="https://firebaseinstallations.googleapis.com/v1",Nve=36e5,ma=new Is("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function G7(n){return n instanceof zr&&n.code.includes("request-failed")}function aD({projectId:n}){return`${Rve}/projects/${n}/installations`}function q7(n){return{token:n.token,requestStatus:2,expiresIn:Bve(n.expiresIn),creationTime:Date.now()}}function lD(n,e){return cD.apply(this,arguments)}function cD(){return(cD=_(function*(n,e){const i=(yield e.json()).error;return ma.create("request-failed",{requestName:n,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})})).apply(this,arguments)}function W7({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function uD(n){return dD.apply(this,arguments)}function dD(){return(dD=_(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function Bve(n){return Number(n.replace("s","000"))}function hD(){return(hD=_(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const i=aD(n),r=W7(n),o=e.getImmediate({optional:!0});if(o){const c=yield o.getHeartbeatsHeader();c&&r.append("x-firebase-client",c)}const a={method:"POST",headers:r,body:JSON.stringify({fid:t,authVersion:$7,appId:n.appId,sdkVersion:H7})},l=yield uD(()=>fetch(i,a));if(l.ok){const c=yield l.json();return{fid:c.fid||t,registrationStatus:2,refreshToken:c.refreshToken,authToken:q7(c.authToken)}}throw yield lD("Create Installation",l)})).apply(this,arguments)}function Y7(n){return new Promise(e=>{setTimeout(e,n)})}const Hve=/^[cdef][\w-]{21}$/,fD="";function $ve(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function Gve(n){return function jve(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return Hve.test(t)?t:fD}catch{return fD}}function uh(n){return`${n.appName}!${n.appId}`}const dh=new Map;function Q7(n,e){const t=uh(n);X7(t,e),function Kve(n,e){const t=function Z7(){return!Pc&&"BroadcastChannel"in self&&(Pc=new BroadcastChannel("[Firebase] FID Change"),Pc.onmessage=n=>{X7(n.data.key,n.data.fid)}),Pc}();t&&t.postMessage({key:n,fid:e}),function J7(){0===dh.size&&Pc&&(Pc.close(),Pc=null)}()}(t,e)}function X7(n,e){const t=dh.get(n);if(t)for(const i of t)i(e)}let Pc=null;const Yve="firebase-installations-database",Qve=1,Rc="firebase-installations-store";let pD=null;function mD(){return pD||(pD=function kve(n,e,{blocked:t,upgrade:i,blocking:r,terminated:o}={}){const s=indexedDB.open(n,e),a=pl(s);return i&&s.addEventListener("upgradeneeded",l=>{i(pl(s.result),l.oldVersion,l.newVersion,pl(s.transaction))}),t&&s.addEventListener("blocked",()=>t()),a.then(l=>{o&&l.addEventListener("close",()=>o()),r&&l.addEventListener("versionchange",()=>r())}).catch(()=>{}),a}(Yve,Qve,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Rc)}})),pD}function Qv(n,e){return gD.apply(this,arguments)}function gD(){return(gD=_(function*(n,e){const t=uh(n),r=(yield mD()).transaction(Rc,"readwrite"),o=r.objectStore(Rc),s=yield o.get(t);return yield o.put(e,t),yield r.done,(!s||s.fid!==e.fid)&&Q7(n,e.fid),e})).apply(this,arguments)}function _D(n){return bD.apply(this,arguments)}function bD(){return(bD=_(function*(n){const e=uh(n),i=(yield mD()).transaction(Rc,"readwrite");yield i.objectStore(Rc).delete(e),yield i.done})).apply(this,arguments)}function ym(n,e){return yD.apply(this,arguments)}function yD(){return(yD=_(function*(n,e){const t=uh(n),r=(yield mD()).transaction(Rc,"readwrite"),o=r.objectStore(Rc),s=yield o.get(t),a=e(s);return void 0===a?yield o.delete(t):yield o.put(a,t),yield r.done,a&&(!s||s.fid!==a.fid)&&Q7(n,a.fid),a})).apply(this,arguments)}function vD(n){return xD.apply(this,arguments)}function xD(){return xD=_(function*(n){let e;const t=yield ym(n.appConfig,i=>{const r=function Xve(n){return t8(n||{fid:$ve(),registrationStatus:0})}(i),o=function Zve(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(ma.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=function Jve(n,e){return wD.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:i}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:e0e(n)}:{installationEntry:e}}(n,r);return e=o.registrationPromise,o.installationEntry});return t.fid===fD?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}}),xD.apply(this,arguments)}function wD(){return wD=_(function*(n,e){try{const t=yield function zve(n,e){return hD.apply(this,arguments)}(n,e);return Qv(n.appConfig,t)}catch(t){throw G7(t)&&409===t.customData.serverCode?yield _D(n.appConfig):yield Qv(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}),wD.apply(this,arguments)}function e0e(n){return CD.apply(this,arguments)}function CD(){return(CD=_(function*(n){let e=yield e8(n.appConfig);for(;1===e.registrationStatus;)yield Y7(100),e=yield e8(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:i}=yield vD(n);return i||t}return e})).apply(this,arguments)}function e8(n){return ym(n,e=>{if(!e)throw ma.create("installation-not-found");return t8(e)})}function t8(n){return function t0e(n){return 1===n.registrationStatus&&n.registrationTime+j7<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function ED(){return(ED=_(function*({appConfig:n,heartbeatServiceProvider:e},t){const i=function i0e(n,{fid:e}){return`${aD(n)}/${e}/authTokens:generate`}(n,t),r=function K7(n,{refreshToken:e}){const t=W7(n);return t.append("Authorization",function Uve(n){return`${$7} ${n}`}(e)),t}(n,t),o=e.getImmediate({optional:!0});if(o){const c=yield o.getHeartbeatsHeader();c&&r.append("x-firebase-client",c)}const a={method:"POST",headers:r,body:JSON.stringify({installation:{sdkVersion:H7,appId:n.appId}})},l=yield uD(()=>fetch(i,a));if(l.ok)return q7(yield l.json());throw yield lD("Generate Auth Token",l)})).apply(this,arguments)}function TD(n){return ID.apply(this,arguments)}function ID(){return ID=_(function*(n,e=!1){let t;const i=yield ym(n.appConfig,o=>{if(!i8(o))throw ma.create("not-registered");const s=o.authToken;if(!e&&function s0e(n){return 2===n.requestStatus&&!function a0e(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+Nve}(n)}(s))return o;if(1===s.requestStatus)return t=function r0e(n,e){return MD.apply(this,arguments)}(n,e),o;{if(!navigator.onLine)throw ma.create("app-offline");const a=function l0e(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}(o);return t=function o0e(n,e){return DD.apply(this,arguments)}(n,a),a}});return t?yield t:i.authToken}),ID.apply(this,arguments)}function MD(){return(MD=_(function*(n,e){let t=yield n8(n.appConfig);for(;1===t.authToken.requestStatus;)yield Y7(100),t=yield n8(n.appConfig);const i=t.authToken;return 0===i.requestStatus?TD(n,e):i})).apply(this,arguments)}function n8(n){return ym(n,e=>{if(!i8(e))throw ma.create("not-registered");return function c0e(n){return 1===n.requestStatus&&n.requestTime+j7<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function DD(){return DD=_(function*(n,e){try{const t=yield function n0e(n,e){return ED.apply(this,arguments)}(n,e),i=Object.assign(Object.assign({},e),{authToken:t});return yield Qv(n.appConfig,i),t}catch(t){if(!G7(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Qv(n.appConfig,i)}else yield _D(n.appConfig);throw t}}),DD.apply(this,arguments)}function i8(n){return void 0!==n&&2===n.registrationStatus}function SD(){return(SD=_(function*(n){const e=n,{installationEntry:t,registrationPromise:i}=yield vD(e);return i?i.catch(console.error):TD(e).catch(console.error),t.fid})).apply(this,arguments)}function AD(){return AD=_(function*(n,e=!1){const t=n;return yield function h0e(n){return kD.apply(this,arguments)}(t),(yield TD(t,e)).token}),AD.apply(this,arguments)}function kD(){return(kD=_(function*(n){const{registrationPromise:e}=yield vD(n);e&&(yield e)})).apply(this,arguments)}function RD(n){return ma.create("missing-app-config-values",{valueName:n})}const r8="installations",_0e=n=>{const e=n.getProvider("app").getImmediate(),t=function m0e(n){if(!n||!n.options)throw RD("App Configuration");if(!n.name)throw RD("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw RD(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:ha(e,"heartbeat"),_delete:()=>Promise.resolve()}},b0e=n=>{const t=ha(n.getProvider("app").getImmediate(),r8).getImmediate();return{getId:()=>function u0e(n){return SD.apply(this,arguments)}(t),getToken:r=>function d0e(n){return AD.apply(this,arguments)}(t,r)}};(function y0e(){Mi(new xi(r8,_0e,"PUBLIC")),Mi(new xi("installations-internal",b0e,"PRIVATE"))})(),Nt(z7,sD),Nt(z7,sD,"esm2017");const ND="@firebase/remote-config",jr=new Is("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class A0e{constructor(e,t,i,r){this.client=e,this.storage=t,this.storageCache=i,this.logger=r}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const i=Date.now()-t,r=i<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${i}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${r}.`),r}fetch(e){var t=this;return _(function*(){const[i,r]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(r&&t.isCachedDataFresh(e.cacheMaxAgeMillis,i))return r;e.eTag=r&&r.eTag;const o=yield t.client.fetch(e),s=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===o.status&&s.push(t.storage.setLastSuccessfulFetchResponse(o)),yield Promise.all(s),o})()}}function k0e(n=navigator){return n.languages&&n.languages[0]||n.language}class O0e{constructor(e,t,i,r,o,s){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=i,this.projectId=r,this.apiKey=o,this.appId=s}fetch(e){var t=this;return _(function*(){const[i,r]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),s=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},l={sdk_version:t.sdkVersion,app_instance_id:i,app_instance_id_token:r,app_id:t.appId,language_code:k0e()},c={method:"POST",headers:a,body:JSON.stringify(l)},u=fetch(s,c),d=new Promise((S,D)=>{e.signal.addEventListener(()=>{const F=new Error("The operation was aborted.");F.name="AbortError",D(F)})});let h;try{yield Promise.race([u,d]),h=yield u}catch(S){let D="fetch-client-network";throw"AbortError"===S?.name&&(D="fetch-timeout"),jr.create(D,{originalErrorMessage:S?.message})}let m=h.status;const y=h.headers.get("ETag")||void 0;let C,T;if(200===h.status){let S;try{S=yield h.json()}catch(D){throw jr.create("fetch-client-parse",{originalErrorMessage:D?.message})}C=S.entries,T=S.state}if("INSTANCE_STATE_UNSPECIFIED"===T?m=500:"NO_CHANGE"===T?m=304:("NO_TEMPLATE"===T||"EMPTY_CONFIG"===T)&&(C={}),304!==m&&200!==m)throw jr.create("fetch-status",{httpStatus:m});return{status:m,eTag:y,config:C}})()}}class N0e{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return _(function*(){const i=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,i)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:i}){var r=this;return _(function*(){yield function P0e(n,e){return new Promise((t,i)=>{const r=Math.max(e-Date.now(),0),o=setTimeout(t,r);n.addEventListener(()=>{clearTimeout(o),i(jr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const o=yield r.client.fetch(e);return yield r.storage.deleteThrottleMetadata(),o}catch(o){if(!function R0e(n){if(!(n instanceof zr&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(o))throw o;const s={throttleEndTimeMillis:Date.now()+zM(i),backoffCount:i+1};return yield r.storage.setThrottleMetadata(s),r.attemptFetch(e,s)}})()}}class V0e{constructor(e,t,i,r,o){this.app=e,this._client=t,this._storageCache=i,this._storage=r,this._logger=o,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Zv(n,e){const t=n.target.error||void 0;return jr.create(e,{originalErrorMessage:t&&t?.message})}const Nc="app_namespace_store";class j0e{constructor(e,t,i,r=function z0e(){return new Promise((n,e)=>{try{const t=indexedDB.open("firebase_remote_config",1);t.onerror=i=>{e(Zv(i,"storage-open"))},t.onsuccess=i=>{n(i.target.result)},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Nc,{keyPath:"compositeKey"})}}catch(t){e(jr.create("storage-open",{originalErrorMessage:t?.message}))}})}()){this.appId=e,this.appName=t,this.namespace=i,this.openDbPromise=r}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return _(function*(){const i=yield t.openDbPromise;return new Promise((r,o)=>{const a=i.transaction([Nc],"readonly").objectStore(Nc),l=t.createCompositeKey(e);try{const c=a.get(l);c.onerror=u=>{o(Zv(u,"storage-get"))},c.onsuccess=u=>{const d=u.target.result;r(d?d.value:void 0)}}catch(c){o(jr.create("storage-get",{originalErrorMessage:c?.message}))}})})()}set(e,t){var i=this;return _(function*(){const r=yield i.openDbPromise;return new Promise((o,s)=>{const l=r.transaction([Nc],"readwrite").objectStore(Nc),c=i.createCompositeKey(e);try{const u=l.put({compositeKey:c,value:t});u.onerror=d=>{s(Zv(d,"storage-set"))},u.onsuccess=()=>{o()}}catch(u){s(jr.create("storage-set",{originalErrorMessage:u?.message}))}})})()}delete(e){var t=this;return _(function*(){const i=yield t.openDbPromise;return new Promise((r,o)=>{const a=i.transaction([Nc],"readwrite").objectStore(Nc),l=t.createCompositeKey(e);try{const c=a.delete(l);c.onerror=u=>{o(Zv(u,"storage-delete"))},c.onsuccess=()=>{r()}}catch(c){o(jr.create("storage-delete",{originalErrorMessage:c?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class H0e{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return _(function*(){const t=e.storage.getLastFetchStatus(),i=e.storage.getLastSuccessfulFetchTimestampMillis(),r=e.storage.getActiveConfig(),o=yield t;o&&(e.lastFetchStatus=o);const s=yield i;s&&(e.lastSuccessfulFetchTimestampMillis=s);const a=yield r;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function G0e(){return UD.apply(this,arguments)}function UD(){return(UD=_(function*(){if(!hl())return!1;try{return yield fm()}catch{return!1}})).apply(this,arguments)}!function $0e(){Mi(new xi("remote-config",function n(e,{instanceIdentifier:t}){const i=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw jr.create("registration-window");if(!hl())throw jr.create("indexed-db-unavailable");const{projectId:o,apiKey:s,appId:a}=i.options;if(!o)throw jr.create("registration-project-id");if(!s)throw jr.create("registration-api-key");if(!a)throw jr.create("registration-app-id");const l=new j0e(a,i.name,t=t||"firebase"),c=new H0e(l),u=new Ac(ND);u.logLevel=bt.ERROR;const d=new O0e(r,pa,t,o,s,a),h=new N0e(d,l),m=new A0e(h,l,c,u),y=new V0e(i,m,c,l,u);return function M0e(n){const e=kt(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(y),y},"PUBLIC").setMultipleInstances(!0)),Nt(ND,"0.4.4"),Nt(ND,"0.4.4","esm2017")}();const q0e=(n,e)=>e.some(t=>n instanceof t);let l8,c8;const u8=new WeakMap,zD=new WeakMap,d8=new WeakMap,jD=new WeakMap,HD=new WeakMap;let $D={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return zD.get(n);if("objectStoreNames"===e)return n.objectStoreNames||d8.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ga(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function J0e(n){return"function"==typeof n?function Z0e(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function K0e(){return c8||(c8=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(GD(this),e),ga(u8.get(this))}:function(...e){return ga(n.apply(GD(this),e))}:function(e,...t){const i=n.call(GD(this),e,...t);return d8.set(i,e.sort?e.sort():[e]),ga(i)}}(n):(n instanceof IDBTransaction&&function Q0e(n){if(zD.has(n))return;const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),r()},s=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});zD.set(n,e)}(n),q0e(n,function W0e(){return l8||(l8=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,$D):n)}function ga(n){if(n instanceof IDBRequest)return function Y0e(n){const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(ga(n.result)),r()},s=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&u8.set(t,n)}).catch(()=>{}),HD.set(e,n),e}(n);if(jD.has(n))return jD.get(n);const e=J0e(n);return e!==n&&(jD.set(n,e),HD.set(e,n)),e}const GD=n=>HD.get(n);function h8(n,e,{blocked:t,upgrade:i,blocking:r,terminated:o}={}){const s=indexedDB.open(n,e),a=ga(s);return i&&s.addEventListener("upgradeneeded",l=>{i(ga(s.result),l.oldVersion,l.newVersion,ga(s.transaction))}),t&&s.addEventListener("blocked",()=>t()),a.then(l=>{o&&l.addEventListener("close",()=>o()),r&&l.addEventListener("versionchange",()=>r())}).catch(()=>{}),a}function qD(n,{blocked:e}={}){const t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",()=>e()),ga(t).then(()=>{})}const exe=["get","getKey","getAll","getAllKeys","count"],txe=["put","add","delete","clear"],WD=new Map;function f8(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(WD.get(e))return WD.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,r=txe.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!exe.includes(t))return;const o=function(){var s=_(function*(a,...l){const c=this.transaction(a,r?"readwrite":"readonly");let u=c.store;return i&&(u=u.index(l.shift())),(yield Promise.all([u[t](...l),r&&c.done]))[0]});return function(l){return s.apply(this,arguments)}}();return WD.set(e,o),o}!function X0e(n){$D=n($D)}(n=>({...n,get:(e,t,i)=>f8(e,t)||n.get(e,t,i),has:(e,t)=>!!f8(e,t)||n.has(e,t)}));const nxe="/firebase-messaging-sw.js",ixe="/firebase-cloud-messaging-push-scope",p8="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",rxe="https://fcmregistrations.googleapis.com/v1",m8="google.c.a.c_id",oxe="google.c.a.c_l",sxe="google.c.a.ts";var Jv=function(n){return n.PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",n}(Jv||{});function _a(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function cxe(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),i=atob(t),r=new Uint8Array(i.length);for(let o=0;o<i.length;++o)r[o]=i.charCodeAt(o);return r}const KD="fcm_token_details_db",uxe=5,g8="fcm_token_object_Store";function YD(){return YD=_(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(o=>o.name).includes(KD))return null;let e=null;return(yield h8(KD,uxe,{upgrade:(i=_(function*(r,o,s,a){var l;if(o<2||!r.objectStoreNames.contains(g8))return;const c=a.objectStore(g8),u=yield c.index("fcmSenderId").get(n);if(yield c.clear(),u)if(2===o){const d=u;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(l=d.createTime)&&void 0!==l?l:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:_a(d.vapidKey)}}}else if(3===o){const d=u;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:_a(d.auth),p256dh:_a(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:_a(d.vapidKey)}}}else if(4===o){const d=u;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:_a(d.auth),p256dh:_a(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:_a(d.vapidKey)}}}}),function(o,s,a,l){return i.apply(this,arguments)})})).close(),yield qD(KD),yield qD("fcm_vapid_details_db"),yield qD("undefined"),function hxe(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var i}),YD.apply(this,arguments)}const fxe="firebase-messaging-database",pxe=1,Fc="firebase-messaging-store";let QD=null;function XD(){return QD||(QD=h8(fxe,pxe,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Fc)}})),QD}function _8(n){return ZD.apply(this,arguments)}function ZD(){return ZD=_(function*(n){const e=nS(n),i=yield(yield XD()).transaction(Fc).objectStore(Fc).get(e);if(i)return i;{const r=yield function dxe(n){return YD.apply(this,arguments)}(n.appConfig.senderId);if(r)return yield JD(n,r),r}}),ZD.apply(this,arguments)}function JD(n,e){return eS.apply(this,arguments)}function eS(){return(eS=_(function*(n,e){const t=nS(n),r=(yield XD()).transaction(Fc,"readwrite");return yield r.objectStore(Fc).put(e,t),yield r.done,e})).apply(this,arguments)}function tS(){return(tS=_(function*(n){const e=nS(n),i=(yield XD()).transaction(Fc,"readwrite");yield i.objectStore(Fc).delete(e),yield i.done})).apply(this,arguments)}function nS({appConfig:n}){return n.appId}const $i=new Is("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function _xe(n,e){return iS.apply(this,arguments)}function iS(){return(iS=_(function*(n,e){const t=yield aS(n),i=y8(e),r={method:"POST",headers:t,body:JSON.stringify(i)};let o;try{o=yield(yield fetch(sS(n.appConfig),r)).json()}catch(s){throw $i.create("token-subscribe-failed",{errorInfo:s?.toString()})}if(o.error)throw $i.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw $i.create("token-subscribe-no-token");return o.token})).apply(this,arguments)}function rS(){return(rS=_(function*(n,e){const t=yield aS(n),i=y8(e.subscriptionOptions),r={method:"PATCH",headers:t,body:JSON.stringify(i)};let o;try{o=yield(yield fetch(`${sS(n.appConfig)}/${e.token}`,r)).json()}catch(s){throw $i.create("token-update-failed",{errorInfo:s?.toString()})}if(o.error)throw $i.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw $i.create("token-update-no-token");return o.token})).apply(this,arguments)}function b8(n,e){return oS.apply(this,arguments)}function oS(){return(oS=_(function*(n,e){const i={method:"DELETE",headers:yield aS(n)};try{const o=yield(yield fetch(`${sS(n.appConfig)}/${e}`,i)).json();if(o.error)throw $i.create("token-unsubscribe-failed",{errorInfo:o.error.message})}catch(r){throw $i.create("token-unsubscribe-failed",{errorInfo:r?.toString()})}})).apply(this,arguments)}function sS({projectId:n}){return`${rxe}/projects/${n}/registrations`}function aS(n){return lS.apply(this,arguments)}function lS(){return(lS=_(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})).apply(this,arguments)}function y8({p256dh:n,auth:e,endpoint:t,vapidKey:i}){const r={web:{endpoint:t,auth:e,p256dh:n}};return i!==p8&&(r.web.applicationPubKey=i),r}const yxe=6048e5;function cS(){return cS=_(function*(n){const e=yield function wxe(n,e){return fS.apply(this,arguments)}(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:_a(e.getKey("auth")),p256dh:_a(e.getKey("p256dh"))},i=yield _8(n.firebaseDependencies);if(i){if(function Cxe(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}(i.subscriptionOptions,t))return Date.now()>=i.createTime+yxe?function xxe(n,e){return dS.apply(this,arguments)}(n,{token:i.token,createTime:Date.now(),subscriptionOptions:t}):i.token;try{yield b8(n.firebaseDependencies,i.token)}catch(r){console.warn(r)}return x8(n.firebaseDependencies,t)}return x8(n.firebaseDependencies,t)}),cS.apply(this,arguments)}function uS(){return uS=_(function*(n){const e=yield _8(n.firebaseDependencies);e&&(yield b8(n.firebaseDependencies,e.token),yield function mxe(n){return tS.apply(this,arguments)}(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()}),uS.apply(this,arguments)}function dS(){return dS=_(function*(n,e){try{const t=yield function bxe(n,e){return rS.apply(this,arguments)}(n.firebaseDependencies,e),i=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield JD(n.firebaseDependencies,i),t}catch(t){throw yield function v8(n){return uS.apply(this,arguments)}(n),t}}),dS.apply(this,arguments)}function x8(n,e){return hS.apply(this,arguments)}function hS(){return(hS=_(function*(n,e){const i={token:yield _xe(n,e),createTime:Date.now(),subscriptionOptions:e};return yield JD(n,i),i.token})).apply(this,arguments)}function fS(){return(fS=_(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:cxe(e)})})).apply(this,arguments)}function w8(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function Exe(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const i=e.notification.body;i&&(n.notification.body=i);const r=e.notification.image;r&&(n.notification.image=r);const o=e.notification.icon;o&&(n.notification.icon=o)}(e,n),function Txe(n,e){e.data&&(n.data=e.data)}(e,n),function Ixe(n,e){var t,i,r,o,s;if(!(e.fcmOptions||null!==(t=e.notification)&&void 0!==t&&t.click_action))return;n.fcmOptions={};const a=null!==(r=null===(i=e.fcmOptions)||void 0===i?void 0:i.link)&&void 0!==r?r:null===(o=e.notification)||void 0===o?void 0:o.click_action;a&&(n.fcmOptions.link=a);const l=null===(s=e.fcmOptions)||void 0===s?void 0:s.analytics_label;l&&(n.fcmOptions.analyticsLabel=l)}(e,n),e}function C8(n,e){const t=[];for(let i=0;i<n.length;i++)t.push(n.charAt(i)),i<e.length&&t.push(e.charAt(i));return t.join("")}function pS(n){return $i.create("missing-app-config-values",{valueName:n})}C8("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),C8("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Sxe{constructor(e,t,i){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const r=function Dxe(n){if(!n||!n.options)throw pS("App Configuration Object");if(!n.name)throw pS("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const i of e)if(!t[i])throw pS(i);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:r,installations:t,analyticsProvider:i}}_delete(){return Promise.resolve()}}function mS(){return(mS=_(function*(n){try{n.swRegistration=yield navigator.serviceWorker.register(nxe,{scope:ixe}),n.swRegistration.update().catch(()=>{})}catch(e){throw $i.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function gS(){return(gS=_(function*(n,e){if(!e&&!n.swRegistration&&(yield function E8(n){return mS.apply(this,arguments)}(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw $i.create("invalid-sw-registration");n.swRegistration=e}})).apply(this,arguments)}function _S(){return(_S=_(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=p8)})).apply(this,arguments)}function bS(){return bS=_(function*(n,e){if(!navigator)throw $i.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw $i.create("permission-blocked");return yield function kxe(n,e){return _S.apply(this,arguments)}(n,e?.vapidKey),yield function Axe(n,e){return gS.apply(this,arguments)}(n,e?.serviceWorkerRegistration),function vxe(n){return cS.apply(this,arguments)}(n)}),bS.apply(this,arguments)}function yS(){return(yS=_(function*(n,e,t){const i=function Pxe(n){switch(n){case Jv.NOTIFICATION_CLICKED:return"notification_open";case Jv.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(i,{message_id:t[m8],message_name:t[oxe],message_time:t[sxe],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function vS(){return vS=_(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===Jv.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(w8(t)):n.onMessageHandler.next(w8(t)));const i=t.data;(function Mxe(n){return"object"==typeof n&&!!n&&m8 in n})(i)&&"1"===i["google.c.a.e"]&&(yield function Oxe(n,e,t){return yS.apply(this,arguments)}(n,t.messageType,i))}),vS.apply(this,arguments)}const I8="@firebase/messaging",Nxe=n=>{const e=new Sxe(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function Rxe(n,e){return vS.apply(this,arguments)}(e,t)),e},Fxe=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:i=>function T8(n,e){return bS.apply(this,arguments)}(e,i)}};function D8(){return xS.apply(this,arguments)}function xS(){return(xS=_(function*(){try{yield fm()}catch{return!1}return typeof window<"u"&&hl()&&VM()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Lxe(){Mi(new xi("messaging",Nxe,"PUBLIC")),Mi(new xi("messaging-internal",Fxe,"PRIVATE")),Nt(I8,"0.12.4"),Nt(I8,"0.12.4","esm2017")}();const e0="analytics",Uxe="firebase_id",zxe="origin",jxe=6e4,Hxe="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ES="https://www.googletagmanager.com/gtag/js",Di=new Ac("@firebase/analytics"),Er=new Is("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Gxe(n){if(!n.startsWith(ES)){const e=Er.create("invalid-gtag-resource",{gtagURL:n});return Di.warn(e.message),""}return n}function S8(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function TS(){return(TS=_(function*(n,e,t,i,r,o){const s=i[r];try{if(s)yield e[s];else{const l=(yield S8(t)).find(c=>c.measurementId===r);l&&(yield e[l.appId])}}catch(a){Di.error(a)}n("config",r,o)})).apply(this,arguments)}function IS(){return(IS=_(function*(n,e,t,i,r){try{let o=[];if(r&&r.send_to){let s=r.send_to;Array.isArray(s)||(s=[s]);const a=yield S8(t);for(const l of s){const c=a.find(d=>d.measurementId===l),u=c&&e[c.appId];if(!u){o=[];break}o.push(u)}}0===o.length&&(o=Object.values(e)),yield Promise.all(o),n("event",i,r||{})}catch(o){Di.error(o)}})).apply(this,arguments)}const ewe=30,A8=new class nwe{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function iwe(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function MS(){return(MS=_(function*(n){var e;const{appId:t,apiKey:i}=n,r={method:"GET",headers:iwe(i)},o=Hxe.replace("{app-id}",t),s=yield fetch(o,r);if(200!==s.status&&304!==s.status){let a="";try{const l=yield s.json();null!==(e=l.error)&&void 0!==e&&e.message&&(a=l.error.message)}catch{}throw Er.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a})}return s.json()})).apply(this,arguments)}function DS(){return(DS=_(function*(n,e=A8,t){const{appId:i,apiKey:r,measurementId:o}=n.options;if(!i)throw Er.create("no-app-id");if(!r){if(o)return{measurementId:o,appId:i};throw Er.create("no-api-key")}const s=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new lwe;return setTimeout(_(function*(){a.abort()}),void 0!==t?t:jxe),k8({appId:i,apiKey:r,measurementId:o},s,a,e)})).apply(this,arguments)}function k8(n,e,t){return SS.apply(this,arguments)}function SS(){return SS=_(function*(n,{throttleEndTimeMillis:e,backoffCount:t},i,r=A8){var o;const{appId:s,measurementId:a}=n;try{yield function swe(n,e){return new Promise((t,i)=>{const r=Math.max(e-Date.now(),0),o=setTimeout(t,r);n.addEventListener(()=>{clearTimeout(o),i(Er.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(i,e)}catch(l){if(a)return Di.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l?.message}]`),{appId:s,measurementId:a};throw l}try{const l=yield function rwe(n){return MS.apply(this,arguments)}(n);return r.deleteThrottleMetadata(s),l}catch(l){const c=l;if(!function awe(n){if(!(n instanceof zr&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c)){if(r.deleteThrottleMetadata(s),a)return Di.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:s,measurementId:a};throw l}const u=503===Number(null===(o=c?.customData)||void 0===o?void 0:o.httpStatus)?zM(t,r.intervalMillis,ewe):zM(t,r.intervalMillis),d={throttleEndTimeMillis:Date.now()+u,backoffCount:t+1};return r.setThrottleMetadata(s,d),Di.debug(`Calling attemptFetch again in ${u} millis`),k8(n,d,i,r)}}),SS.apply(this,arguments)}class lwe{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let AS,LS;function kS(){return(kS=_(function*(n,e,t,i,r){if(r&&r.global)n("event",t,i);else{const o=yield e;n("event",t,Object.assign(Object.assign({},i),{send_to:o}))}})).apply(this,arguments)}function VS(){return(VS=_(function*(){if(!hl())return Di.warn(Er.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield fm()}catch(n){return Di.warn(Er.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}return!0})).apply(this,arguments)}function BS(){return BS=_(function*(n,e,t,i,r,o,s){var a;const l=function owe(n){return DS.apply(this,arguments)}(n);l.then(m=>{t[m.measurementId]=m.appId,n.options.measurementId&&m.measurementId!==n.options.measurementId&&Di.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${m.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(m=>Di.error(m)),e.push(l);const c=function mwe(){return VS.apply(this,arguments)}().then(m=>{if(m)return i.getId()}),[u,d]=yield Promise.all([l,c]);(function Jxe(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(ES)&&t.src.includes(n))return t;return null})(o)||function Wxe(n,e){const t=function qxe(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}("firebase-js-sdk-policy",{createScriptURL:Gxe}),i=document.createElement("script"),r=`${ES}?l=${n}&id=${e}`;i.src=t?t?.createScriptURL(r):r,i.async=!0,document.head.appendChild(i)}(o,u.measurementId),LS&&(r("consent","default",LS),function O8(n){LS=n}(void 0)),r("js",new Date);const h=null!==(a=s?.config)&&void 0!==a?a:{};return h[zxe]="firebase",h.update=!0,null!=d&&(h[Uxe]=d),r("config",u.measurementId,h),AS&&(r("set",AS),function P8(n){AS=n}(void 0)),u.measurementId}),BS.apply(this,arguments)}class _we{constructor(e){this.app=e}_delete(){return delete Ds[this.app.options.appId],Promise.resolve()}}let Ds={},R8=[];const N8={};let L8,Ss,t0="dataLayer",US=!1;function ywe(n,e,t){!function bwe(){const n=[];if(LM()&&n.push("This is a browser extension environment."),VM()||n.push("Cookies are not available."),n.length>0){const e=n.map((i,r)=>`(${r+1}) ${i}`).join(" "),t=Er.create("invalid-analytics-context",{errorInfo:e});Di.warn(t.message)}}();const i=n.options.appId;if(!i)throw Er.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw Er.create("no-api-key");Di.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ds[i])throw Er.create("already-exists",{id:i});if(!US){!function Kxe(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(t0);const{wrappedGtag:o,gtagCore:s}=function Zxe(n,e,t,i,r){let o=function(...s){window[i].push(arguments)};return window[r]&&"function"==typeof window[r]&&(o=window[r]),window[r]=function Xxe(n,e,t,i){function o(){return o=_(function*(s,...a){try{if("event"===s){const[l,c]=a;yield function Qxe(n,e,t,i,r){return IS.apply(this,arguments)}(n,e,t,l,c)}else if("config"===s){const[l,c]=a;yield function Yxe(n,e,t,i,r,o){return TS.apply(this,arguments)}(n,e,t,i,l,c)}else if("consent"===s){const[l]=a;n("consent","update",l)}else if("get"===s){const[l,c,u]=a;n("get",l,c,u)}else if("set"===s){const[l]=a;n("set",l)}else n(s,...a)}catch(l){Di.error(l)}}),o.apply(this,arguments)}return function r(s){return o.apply(this,arguments)}}(o,n,e,t),{gtagCore:o,wrappedGtag:window[r]}}(Ds,R8,N8,t0,"gtag");Ss=o,L8=s,US=!0}return Ds[i]=function gwe(n,e,t,i,r,o,s){return BS.apply(this,arguments)}(n,R8,N8,e,L8,t0,t),new _we(n)}function xwe(){return zS.apply(this,arguments)}function zS(){return(zS=_(function*(){if(LM()||!VM()||!hl())return!1;try{return yield fm()}catch{return!1}})).apply(this,arguments)}const V8="@firebase/analytics";!function Cwe(){Mi(new xi(e0,(e,{options:t})=>ywe(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),Mi(new xi("analytics-internal",function n(e){try{const t=e.getProvider(e0).getImmediate();return{logEvent:(i,r,o)=>function wwe(n,e,t,i){n=kt(n),function cwe(n,e,t,i,r){return kS.apply(this,arguments)}(Ss,Ds[n.app.options.appId],e,t,i).catch(r=>Di.error(r))}(t,i,r,o)}}catch(t){throw Er.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),Nt(V8,"0.10.0"),Nt(V8,"0.10.0","esm2017")}();class Ewe extends hi{constructor(e,t){super()}schedule(e,t=0){return this}}const n0={setInterval(n,e,...t){const{delegate:i}=n0;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=n0;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class r0 extends Ewe{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;const r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,t)),this.pending=!0,this.delay=t,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,i=0){return n0.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return t;null!=t&&n0.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r,i=!1;try{this.work(e)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,K_(i,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const U8={now:()=>(U8.delegate||Date).now(),delegate:void 0};class vm{constructor(e,t=vm.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}}vm.now=U8.now;class o0 extends vm{constructor(e,t=vm.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let i;this._active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}}const Mwe=new class Iwe extends o0{}(class Twe extends r0{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,i=0){return null!=i&&i>0||null==i&&this.delay>0?super.requestAsyncId(e,t,i):(e.flush(this),0)}}),xm=new o0(r0),Dwe=xm,hh=new il("7.6.1"),HS="__angularfire_symbol__analyticsIsSupportedValue",$S="__angularfire_symbol__analyticsIsSupported",GS="__angularfire_symbol__remoteConfigIsSupportedValue",qS="__angularfire_symbol__remoteConfigIsSupported",WS="__angularfire_symbol__messagingIsSupportedValue",KS="__angularfire_symbol__messagingIsSupported";function fh(n,e,t){if(e){if(1===e.length)return e[0];const o=e.filter(s=>s.app===t);if(1===o.length)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}globalThis[$S]||(globalThis[$S]=xwe().then(n=>globalThis[HS]=n).catch(()=>globalThis[HS]=!1)),globalThis[KS]||(globalThis[KS]=D8().then(n=>globalThis[WS]=n).catch(()=>globalThis[WS]=!1)),globalThis[qS]||(globalThis[qS]=G0e().then(n=>globalThis[GS]=n).catch(()=>globalThis[GS]=!1));const ph=(n,e)=>{const t=e?[e]:A7(),i=[];return t.forEach(r=>{r.container.getProvider(n).instances.forEach(s=>{i.includes(s)||i.push(s)})}),i};function mh(){}class z8{constructor(e,t=Mwe){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,i){const r=this.zone;return this.delegate.schedule(function(s){r.runGuarded(()=>{e.apply(this,[s])})},t,i)}}class Swe{constructor(e){this.zone=e,this.task=null}call(e,t){const i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",mh,{},mh,mh)),t.pipe(Bn({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let wm=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new z8(Zone.current)),this.insideAngular=t.run(()=>new z8(Zone.current,xm)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(U(Te))},n.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Lc(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function Vc(n){return Lc().ngZone.run(()=>n())}function kwe(n){return Lc(),function Owe(n){return function(t){return(t=t.lift(new Swe(n.ngZone))).pipe(lv(n.outsideAngular),av(n.insideAngular))}}(Lc())(n)}const Pwe=(n,e)=>function(){const i=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Vc(()=>n.apply(void 0,i))},Jn=(n,e)=>function(){let t;const i=arguments;for(let o=0;o<arguments.length;o++)"function"==typeof i[o]&&(e&&(t||(t=Vc(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",mh,{},mh,mh)))),i[o]=Pwe(i[o],t));const r=function Awe(n){return Lc().ngZone.runOutsideAngular(()=>n())}(()=>n.apply(this,i));if(!e){if(r instanceof en){const o=Lc();return r.pipe(lv(o.outsideAngular),av(o.insideAngular))}return Vc(()=>r)}return r instanceof en?r.pipe(kwe):r instanceof Promise?Vc(()=>new Promise((o,s)=>r.then(a=>Vc(()=>o(a)),a=>Vc(()=>s(a))))):"function"==typeof r&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),r.apply(this,arguments)}:Vc(()=>r)};class ba{constructor(e){return e}}class Cm{constructor(){return A7()}}const QS=new X("angularfire2._apps"),Nwe={provide:ba,useFactory:function Rwe(n){return n&&1===n.length?n[0]:new ba(ch())},deps:[[new Gt,QS]]},Fwe={provide:Cm,deps:[[new Gt,QS]]};function Lwe(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new ba(i)}}let Vwe=(()=>{class n{constructor(t){Nt("angularfire",hh.full,"core"),Nt("angularfire",hh.full,"app"),Nt("angular",Bue.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(U(po))},n.\u0275mod=nt({type:n}),n.\u0275inj=Xe({providers:[Nwe,Fwe]}),n})();function Bwe(n,...e){return{ngModule:Vwe,providers:[{provide:QS,useFactory:Lwe(n),multi:!0,deps:[Te,qt,wm,...e]}]}}const Uwe=Jn(S7,!0),XS=new Map,j8={activated:!1,tokenObservers:[]},zwe={initialized:!1,enabled:!1};function Un(n){return XS.get(n)||Object.assign({},j8)}function s0(){return zwe}const ZS="https://content-firebaseappcheck.googleapis.com/v1",Gwe="exchangeDebugToken",H8={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Wwe{constructor(e,t,i,r,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return _(function*(){t.stop();try{t.pending=new sh,yield function Kwe(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new sh,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Gi=new Is("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function JS(n){if(!Un(n).activated)throw Gi.create("use-before-activation",{appName:n.name})}function c0(n,e){return tA.apply(this,arguments)}function tA(){return(tA=_(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},r=t.getImmediate({optional:!0});if(r){const d=yield r.getHeartbeatsHeader();d&&(i["X-Firebase-Client"]=d)}const o={method:"POST",body:JSON.stringify(e),headers:i};let s,a;try{s=yield fetch(n,o)}catch(d){throw Gi.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==s.status)throw Gi.create("fetch-status-error",{httpStatus:s.status});try{a=yield s.json()}catch(d){throw Gi.create("fetch-parse-error",{originalErrorMessage:d?.message})}const l=a.ttl.match(/^([\d.]+)(s)$/);if(!l||!l[2]||isNaN(Number(l[1])))throw Gi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(l[1]),u=Date.now();return{token:a.token,expireTimeMillis:u+c,issuedAtTimeMillis:u}})).apply(this,arguments)}function $8(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`${ZS}/projects/${t}/apps/${i}:${Gwe}?key=${r}`,body:{debug_token:e}}}const Zwe="firebase-app-check-database",Jwe=1,Em="firebase-app-check-store";let u0=null;function nA(){return(nA=_(function*(n,e){const i=(yield function q8(){return u0||(u0=new Promise((n,e)=>{try{const t=indexedDB.open(Zwe,Jwe);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var r;e(Gi.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Em,{keyPath:"compositeKey"})}}catch(t){e(Gi.create("storage-open",{originalErrorMessage:t?.message}))}}),u0)}()).transaction(Em,"readwrite"),o=i.objectStore(Em).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=l=>{s()},i.onerror=l=>{var c;a(Gi.create("storage-set",{originalErrorMessage:null===(c=l.target.error)||void 0===c?void 0:c.message}))}})})).apply(this,arguments)}const Tm=new Ac("@firebase/app-check");function oA(n,e){return hl()?function tCe(n,e){return function W8(n,e){return nA.apply(this,arguments)}(function Y8(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Tm.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function aA(){return s0().enabled}function lA(){return cA.apply(this,arguments)}function cA(){return(cA=_(function*(){const n=s0();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const aCe={error:"UNKNOWN_ERROR"};function lCe(n){return Bv.encodeString(JSON.stringify(n),!1)}function d0(n){return uA.apply(this,arguments)}function uA(){return(uA=_(function*(n,e=!1){const t=n.app;JS(t);const i=Un(t);let o,r=i.token;if(r&&!gh(r)&&(i.token=void 0,r=void 0),!r){const l=yield i.cachedTokenPromise;l&&(gh(l)?r=l:yield oA(t,void 0))}if(!e&&r&&gh(r))return{token:r.token};let a,s=!1;if(aA()){i.exchangeTokenPromise||(i.exchangeTokenPromise=c0($8(t,yield lA()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),s=!0);const l=yield i.exchangeTokenPromise;return yield oA(t,l),i.token=l,{token:l.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),s=!0),r=yield Un(t).exchangeTokenPromise}catch(l){"appCheck/throttled"===l.code?Tm.warn(l.message):Tm.error(l),o=l}return r?o?a=gh(r)?{token:r.token,internalError:o}:J8(o):(a={token:r.token},i.token=r,yield oA(t,r)):a=J8(o),s&&function Z8(n,e){const t=Un(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}(t,a),a})).apply(this,arguments)}function Q8(n){return dA.apply(this,arguments)}function dA(){return(dA=_(function*(n){const e=n.app;JS(e);const{provider:t}=Un(e);if(aA()){const i=yield lA(),{token:r}=yield c0($8(e,i),n.heartbeatServiceProvider);return{token:r}}{const{token:i}=yield t.getToken();return{token:i}}})).apply(this,arguments)}function fA(n,e){const t=Un(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function X8(n){const{app:e}=n,t=Un(e);let i=t.tokenRefresher;i||(i=function cCe(n){const{app:e}=n;return new Wwe(_(function*(){let i;if(i=Un(e).token?yield d0(n,!0):yield d0(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const t=Un(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},H8.RETRIAL_MIN_WAIT,H8.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function gh(n){return n.expireTimeMillis-Date.now()>0}function J8(n){return{token:lCe(aCe),error:n}}class uCe{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Un(this.app);for(const t of e)fA(this.app,t.next);return Promise.resolve()}}const aH="app-check-internal";!function ECe(){Mi(new xi("app-check",n=>function dCe(n,e){return new uCe(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(aH).initialize()})),Mi(new xi(aH,n=>function hCe(n){return{getToken:e=>d0(n,e),getLimitedUseToken:()=>Q8(n),addTokenListener:e=>function hA(n,e,t,i){const{app:r}=n,o=Un(r);if(o.tokenObservers=[...o.tokenObservers,{next:t,error:i,type:e}],o.token&&gh(o.token)){const a=o.token;Promise.resolve().then(()=>{t({token:a.token}),X8(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>X8(n))}(n,"INTERNAL",e),removeTokenListener:e=>fA(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),Nt("@firebase/app-check","0.8.0")}();class Im{constructor(){return ph("app-check")}}typeof window<"u"&&window;const SCe=function cH(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},uH=new Is("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),f0=new Ac("@firebase/auth");function p0(n,...e){f0.logLevel<=bt.ERROR&&f0.error(`Auth (${pa}): ${n}`,...e)}function Hr(n,...e){throw bA(n,...e)}function As(n,...e){return bA(n,...e)}function bA(n,...e){if("string"!=typeof n){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return uH.create(n,...e)}function oe(n,e,...t){if(!n)throw bA(e,...t)}function ks(n){const e="INTERNAL ASSERTION FAILED: "+n;throw p0(e),new Error(e)}function ml(n,e){n||ks(e)}function Mm(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function hH(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class Dm{constructor(e,t){this.shortDelay=e,this.longDelay=t,ml(t>e,"Short delay should be less than long delay!"),this.isMobile=FM()||v7()}get(){return function kCe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function yA(){return"http:"===hH()||"https:"===hH()}()||LM()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function vA(n,e){ml(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class fH{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ks("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ks("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ks("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const PCe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},RCe=new Dm(3e4,6e4);function kn(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function zn(n,e,t,i){return xA.apply(this,arguments)}function xA(){return(xA=_(function*(n,e,t,i,r={}){return pH(n,r,_(function*(){let o={},s={};i&&("GET"===e?s=i:o={body:JSON.stringify(i)});const a=lh(Object.assign({key:n.config.apiKey},s)).slice(1),l=yield n._getAdditionalHeaders();return l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode),fH.fetch()(mH(n,n.config.apiHost,t,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},o))}))})).apply(this,arguments)}function pH(n,e,t){return wA.apply(this,arguments)}function wA(){return(wA=_(function*(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},PCe),e);try{const r=new NCe(n),o=yield Promise.race([t(),r.promise]);r.clearNetworkTimeout();const s=yield o.json();if("needConfirmation"in s)throw Sm(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===l)throw Sm(n,"credential-already-in-use",s);if("EMAIL_EXISTS"===l)throw Sm(n,"email-already-in-use",s);if("USER_DISABLED"===l)throw Sm(n,"user-disabled",s);const u=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw function dH(n,e,t){const i=Object.assign(Object.assign({},SCe()),{[e]:t});return new Is("auth","Firebase",i).create(e,{appName:n.name})}(n,u,c);Hr(n,u)}}catch(r){if(r instanceof zr)throw r;Hr(n,"network-request-failed",{message:String(r)})}})).apply(this,arguments)}function ya(n,e,t,i){return CA.apply(this,arguments)}function CA(){return(CA=_(function*(n,e,t,i,r={}){const o=yield zn(n,e,t,i,r);return"mfaPendingCredential"in o&&Hr(n,"multi-factor-auth-required",{_serverResponse:o}),o})).apply(this,arguments)}function mH(n,e,t,i){const r=`${e}${t}?${i}`;return n.config.emulator?vA(n.config,r):`${n.config.apiScheme}://${r}`}class NCe{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(As(this.auth,"network-request-failed")),RCe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Sm(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const r=As(n,e,i);return r.customData._tokenResponse=t,r}function EA(){return(EA=_(function*(n,e){return zn(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function IA(){return(IA=_(function*(n,e){return zn(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Am(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function MA(){return(MA=_(function*(n,e=!1){const t=kt(n),i=yield t.getIdToken(e),r=m0(i);oe(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");const o="object"==typeof r.firebase?r.firebase:void 0,s=o?.sign_in_provider;return{claims:r,token:i,authTime:Am(DA(r.auth_time)),issuedAtTime:Am(DA(r.iat)),expirationTime:Am(DA(r.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})).apply(this,arguments)}function DA(n){return 1e3*Number(n)}function m0(n){const[e,t,i]=n.split(".");if(void 0===e||void 0===t||void 0===i)return p0("JWT malformed, contained fewer than 3 sections"),null;try{const r=zv(t);return r?JSON.parse(r):(p0("Failed to decode base64 JWT payload"),null)}catch(r){return p0("Caught error parsing JWT payload as JSON",r?.toString()),null}}function va(n,e){return SA.apply(this,arguments)}function SA(){return(SA=_(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(i){throw i instanceof zr&&function zCe({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(i)&&n.auth.currentUser===n&&(yield n.auth.signOut()),i}})).apply(this,arguments)}class jCe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),i}{this.errorBackoff=3e4;const r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(_(function*(){yield t.iteration()}),i)}iteration(){var e=this;return _(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class gH{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Am(this.lastLoginAt),this.creationTime=Am(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function km(n){return AA.apply(this,arguments)}function AA(){return AA=_(function*(n){var e;const t=n.auth,i=yield n.getIdToken(),r=yield va(n,function VCe(n,e){return IA.apply(this,arguments)}(t,{idToken:i}));oe(r?.users.length,t,"internal-error");const o=r.users[0];n._notifyReloadListener(o);const s=null!==(e=o.providerUserInfo)&&void 0!==e&&e.length?function GCe(n){return n.map(e=>{var{providerId:t}=e,i=sv(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}(o.providerUserInfo):[],a=function $Ce(n,e){return[...n.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}(n.providerData,s),u=!!n.isAnonymous&&!(n.email&&o.passwordHash||a?.length),d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new gH(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(n,d)}),AA.apply(this,arguments)}function kA(){return(kA=_(function*(n){const e=kt(n);yield km(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function OA(){return(OA=_(function*(n,e){const t=yield pH(n,{},_(function*(){const i=lh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:o}=n.config,s=mH(n,r,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",fH.fetch()(s,{method:"POST",headers:a,body:i})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class Om{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){oe(e.idToken,"internal-error"),oe(typeof e.idToken<"u","internal-error"),oe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function UCe(n){const e=m0(n);return oe(e,"internal-error"),oe(typeof e.exp<"u","internal-error"),oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var i=this;return _(function*(){return oe(!i.accessToken||i.refreshToken,e,"user-token-expired"),t||!i.accessToken||i.isExpired?i.refreshToken?(yield i.refresh(e,i.refreshToken),i.accessToken):null:i.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var i=this;return _(function*(){const{accessToken:r,refreshToken:o,expiresIn:s}=yield function qCe(n,e){return OA.apply(this,arguments)}(e,t);i.updateTokensAndExpiration(r,o,Number(s))})()}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*i}static fromJSON(e,t){const{refreshToken:i,accessToken:r,expirationTime:o}=t,s=new Om;return i&&(oe("string"==typeof i,"internal-error",{appName:e}),s.refreshToken=i),r&&(oe("string"==typeof r,"internal-error",{appName:e}),s.accessToken=r),o&&(oe("number"==typeof o,"internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Om,this.toJSON())}_performRefresh(){return ks("not implemented")}}function gl(n,e){oe("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class Bc{constructor(e){var{uid:t,auth:i,stsTokenManager:r}=e,o=sv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new jCe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new gH(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){var t=this;return _(function*(){const i=yield va(t,t.stsTokenManager.getToken(t.auth,e));return oe(i,t.auth,"internal-error"),t.accessToken!==i&&(t.accessToken=i,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),i})()}getIdTokenResult(e){return function BCe(n){return MA.apply(this,arguments)}(this,e)}reload(){return function HCe(n){return kA.apply(this,arguments)}(this)}_assign(e){this!==e&&(oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Bc(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var i=this;return _(function*(){let r=!1;e.idToken&&e.idToken!==i.stsTokenManager.accessToken&&(i.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield km(i)),yield i.auth._persistUserIfCurrent(i),r&&i.auth._notifyListenersIfCurrent(i)})()}delete(){var e=this;return _(function*(){const t=yield e.getIdToken();return yield va(e,function FCe(n,e){return EA.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,r,o,s,a,l,c,u;const d=null!==(i=t.displayName)&&void 0!==i?i:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,m=null!==(o=t.phoneNumber)&&void 0!==o?o:void 0,y=null!==(s=t.photoURL)&&void 0!==s?s:void 0,C=null!==(a=t.tenantId)&&void 0!==a?a:void 0,T=null!==(l=t._redirectEventId)&&void 0!==l?l:void 0,S=null!==(c=t.createdAt)&&void 0!==c?c:void 0,D=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:F,emailVerified:Y,isAnonymous:re,providerData:ue,stsTokenManager:Oe}=t;oe(F&&Oe,e,"internal-error");const et=Om.fromJSON(this.name,Oe);oe("string"==typeof F,e,"internal-error"),gl(d,e.name),gl(h,e.name),oe("boolean"==typeof Y,e,"internal-error"),oe("boolean"==typeof re,e,"internal-error"),gl(m,e.name),gl(y,e.name),gl(C,e.name),gl(T,e.name),gl(S,e.name),gl(D,e.name);const Tn=new Bc({uid:F,auth:e,email:h,emailVerified:Y,displayName:d,isAnonymous:re,photoURL:y,phoneNumber:m,tenantId:C,stsTokenManager:et,createdAt:S,lastLoginAt:D});return ue&&Array.isArray(ue)&&(Tn.providerData=ue.map(Zi=>Object.assign({},Zi))),T&&(Tn._redirectEventId=T),Tn}static _fromIdTokenResponse(e,t,i=!1){return _(function*(){const r=new Om;r.updateFromServerResponse(t);const o=new Bc({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return yield km(o),o})()}}const _H=new Map;function xa(n){ml(n instanceof Function,"Expected a class definition");let e=_H.get(n);return e?(ml(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,_H.set(n,e),e)}const bH=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(function*(){return!0})()}_set(t,i){var r=this;return _(function*(){r.storage[t]=i})()}_get(t){var i=this;return _(function*(){const r=i.storage[t];return void 0===r?null:r})()}_remove(t){var i=this;return _(function*(){delete i.storage[t]})()}_addListener(t,i){}_removeListener(t,i){}}return n.type="NONE",n})();function g0(n,e,t){return`firebase:${n}:${e}:${t}`}class bh{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:r,name:o}=this.auth;this.fullUserKey=g0(this.userKey,r.apiKey,o),this.fullPersistenceKey=g0("persistence",r.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return _(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?Bc._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return _(function*(){if(t.persistence===e)return;const i=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,i?t.setCurrentUser(i):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,i="authUser"){return _(function*(){if(!t.length)return new bh(xa(bH),e,i);const r=(yield Promise.all(t.map(function(){var c=_(function*(u){if(yield u._isAvailable())return u});return function(u){return c.apply(this,arguments)}}()))).filter(c=>c);let o=r[0]||xa(bH);const s=g0(i,e.config.apiKey,e.name);let a=null;for(const c of t)try{const u=yield c._get(s);if(u){const d=Bc._fromJSON(e,u);c!==o&&(a=d),o=c;break}}catch{}const l=r.filter(c=>c._shouldAllowMigration);return o._shouldAllowMigration&&l.length?(o=l[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(function(){var c=_(function*(u){if(u!==o)try{yield u._remove(s)}catch{}});return function(u){return c.apply(this,arguments)}}())),new bh(o,e,i)):new bh(o,e,i)})()}}function yH(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(wH(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(vH(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(EH(e))return"Blackberry";if(TH(e))return"Webos";if(PA(e))return"Safari";if((e.includes("chrome/")||xH(e))&&!e.includes("edge/"))return"Chrome";if(CH(e))return"Android";{const i=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===i?.length)return i[1]}return"Other"}function vH(n=Zn()){return/firefox\//i.test(n)}function PA(n=Zn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function xH(n=Zn()){return/crios\//i.test(n)}function wH(n=Zn()){return/iemobile/i.test(n)}function CH(n=Zn()){return/android/i.test(n)}function EH(n=Zn()){return/blackberry/i.test(n)}function TH(n=Zn()){return/webos/i.test(n)}function _0(n=Zn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function IH(n=Zn()){return _0(n)||CH(n)||TH(n)||EH(n)||/windows phone/i.test(n)||wH(n)}function MH(n,e=[]){let t;switch(n){case"Browser":t=yH(Zn());break;case"Worker":t=`${yH(Zn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${pa}/${i}`}function DH(n,e){return NA.apply(this,arguments)}function NA(){return(NA=_(function*(n,e){return zn(n,"GET","/v2/recaptchaConfig",kn(n,e))})).apply(this,arguments)}function AH(n){return void 0!==n&&void 0!==n.enterprise}class kH{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(t=>"EMAIL_PASSWORD_PROVIDER"===t.provider&&"OFF"!==t.enforcementState)}}function FA(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=r=>{const o=As("internal-error");o.customData=r,t(o)},i.type="text/javascript",i.charset="UTF-8",function XCe(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(i)})}function OH(n){return`__${n}${Math.floor(1e6*Math.random())}`}class PH{constructor(e){this.type="recaptcha-enterprise",this.auth=Si(e)}verify(e="verify",t=!1){var i=this;return _(function*(){function o(){return o=_(function*(a){if(!t){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var l=_(function*(c,u){DH(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new kH(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,c(h.siteKey)}u(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{u(d)})});return function(c,u){return l.apply(this,arguments)}}())}),o.apply(this,arguments)}function s(a,l,c){const u=window.grecaptcha;AH(u)?u.enterprise.ready(()=>{u.enterprise.execute(a,{action:e}).then(d=>{l(d)}).catch(()=>{l("NO_RECAPTCHA")})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,l)=>{(function r(a){return o.apply(this,arguments)})(i.auth).then(c=>{if(!t&&AH(window.grecaptcha))s(c,a,l);else{if(typeof window>"u")return void l(new Error("RecaptchaVerifier is only supported in browser"));FA("https://www.google.com/recaptcha/enterprise.js?render="+c).then(()=>{s(c,a,l)}).catch(u=>{l(u)})}}).catch(c=>{l(c)})})})()}}function _l(n,e,t){return LA.apply(this,arguments)}function LA(){return(LA=_(function*(n,e,t,i=!1){const r=new PH(n);let o;try{o=yield r.verify(t)}catch{o=yield r.verify(t,!0)}const s=Object.assign({},e);return Object.assign(s,i?{captchaResp:o}:{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})).apply(this,arguments)}class t1e{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=o=>new Promise((s,a)=>{try{s(e(o))}catch(l){a(l)}});i.onAbort=t,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return _(function*(){if(t.auth.currentUser===e)return;const i=[];try{for(const r of t.queue)yield r(e),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const o of i)try{o()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})()}}class n1e{constructor(e,t,i,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new RH(this),this.idTokenSubscription=new RH(this),this.beforeStateQueue=new t1e(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=uH,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){var i=this;return t&&(this._popupRedirectResolver=xa(t)),this._initializationPromise=this.queue(_(function*(){var r,o;if(!i._deleted&&(i.persistenceManager=yield bh.create(i,e),!i._deleted)){if(null!==(r=i._popupRedirectResolver)&&void 0!==r&&r._shouldInitProactively)try{yield i._popupRedirectResolver._initialize(i)}catch{}yield i.initializeCurrentUser(t),i.lastNotifiedUid=(null===(o=i.currentUser)||void 0===o?void 0:o.uid)||null,!i._deleted&&(i._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return _(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return _(function*(){var i;const r=yield t.assertedPersistence.getCurrentUser();let o=r,s=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const a=null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId,l=o?._redirectEventId,c=yield t.tryRedirectSignIn(e);(!a||a===l)&&c?.user&&(o=c.user,s=!0)}if(!o)return t.directlySetCurrentUser(null);if(!o._redirectEventId){if(s)try{yield t.beforeStateQueue.runMiddleware(o)}catch(a){o=r,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(a))}return o?t.reloadAndSetCurrentUserOrClear(o):t.directlySetCurrentUser(null)}return oe(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===o._redirectEventId?t.directlySetCurrentUser(o):t.reloadAndSetCurrentUserOrClear(o)})()}tryRedirectSignIn(e){var t=this;return _(function*(){let i=null;try{i=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return i})()}reloadAndSetCurrentUserOrClear(e){var t=this;return _(function*(){try{yield km(e)}catch(i){if("auth/network-request-failed"!==i?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function OCe(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return _(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return _(function*(){const i=e?kt(e):null;return i&&oe(i.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(i&&i._clone(t))})()}_updateCurrentUser(e,t=!1){var i=this;return _(function*(){if(!i._deleted)return e&&oe(i.tenantId===e.tenantId,i,"tenant-id-mismatch"),t||(yield i.beforeStateQueue.runMiddleware(e)),i.queue(_(function*(){yield i.directlySetCurrentUser(e),i.notifyAuthListeners()}))})()}signOut(){var e=this;return _(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue(_(function*(){yield t.assertedPersistence.setPersistence(xa(e))}))}initializeRecaptchaConfig(){var e=this;return _(function*(){const t=yield DH(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),i=new kH(t);null==e.tenantId?e._agentRecaptchaConfig=i:e._tenantRecaptchaConfigs[e.tenantId]=i,i.emailPasswordEnabled&&new PH(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Is("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var i=this;return _(function*(){const r=yield i.getOrInitRedirectPersistenceManager(t);return null===e?r.removeCurrentUser():r.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return _(function*(){if(!t.redirectPersistenceManager){const i=e&&xa(e)||t._popupRedirectResolver;oe(i,t,"argument-error"),t.redirectPersistenceManager=yield bh.create(t,[xa(i._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return _(function*(){var i,r;return t._isInitialized&&(yield t.queue(_(function*(){}))),(null===(i=t._currentUser)||void 0===i?void 0:i._redirectEventId)===e?t._currentUser:(null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return _(function*(){if(e===t.currentUser)return t.queue(_(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};const o="function"==typeof t?t:t.next.bind(t),s=this._isInitialized?Promise.resolve():this._initializationPromise;return oe(s,this,"internal-error"),s.then(()=>o(this.currentUser)),"function"==typeof t?e.addObserver(t,i,r):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return _(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=MH(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return _(function*(){var t;const i={"X-Client-Version":e.clientVersion};e.app.options.appId&&(i["X-Firebase-gmpid"]=e.app.options.appId);const r=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();r&&(i["X-Firebase-Client"]=r);const o=yield e._getAppCheckToken();return o&&(i["X-Firebase-AppCheck"]=o),i})()}_getAppCheckToken(){var e=this;return _(function*(){var t;const i=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return i?.error&&function ACe(n,...e){f0.logLevel<=bt.WARN&&f0.warn(`Auth (${pa}): ${n}`,...e)}(`Error while retrieving App Check token: ${i.error}`),i?.token})()}}function Si(n){return kt(n)}class RH{constructor(e){this.auth=e,this.observer=null,this.addObserver=function lye(n,e){const t=new cye(n,e);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function NH(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function FH(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}class Pm{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ks("not implemented")}_getIdTokenResponse(e){return ks("not implemented")}_linkToIdToken(e,t){return ks("not implemented")}_getReauthenticationResolver(e){return ks("not implemented")}}function VH(n,e){return BA.apply(this,arguments)}function BA(){return(BA=_(function*(n,e){return zn(n,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function zA(n,e){return jA.apply(this,arguments)}function jA(){return(jA=_(function*(n,e){return ya(n,"POST","/v1/accounts:signInWithPassword",kn(n,e))})).apply(this,arguments)}function QA(){return(QA=_(function*(n,e){return ya(n,"POST","/v1/accounts:signInWithEmailLink",kn(n,e))})).apply(this,arguments)}function XA(){return(XA=_(function*(n,e){return ya(n,"POST","/v1/accounts:signInWithEmailLink",kn(n,e))})).apply(this,arguments)}class Rm extends Pm{constructor(e,t,i,r=null){super("password",i),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Rm(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Rm(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if(t?.email&&t?.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){var t=this;return _(function*(){var i;switch(t.signInMethod){case"password":const r={returnSecureToken:!0,email:t._email,password:t._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(i=e._getRecaptchaConfig())&&void 0!==i&&i.emailPasswordEnabled){const o=yield _l(e,r,"signInWithPassword");return zA(e,o)}return zA(e,r).catch(function(){var o=_(function*(s){if("auth/missing-recaptcha-token"===s.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const a=yield _l(e,r,"signInWithPassword");return zA(e,a)}return Promise.reject(s)});return function(s){return o.apply(this,arguments)}}());case"emailLink":return function d1e(n,e){return QA.apply(this,arguments)}(e,{email:t._email,oobCode:t._password});default:Hr(e,"internal-error")}})()}_linkToIdToken(e,t){var i=this;return _(function*(){switch(i.signInMethod){case"password":return VH(e,{idToken:t,returnSecureToken:!0,email:i._email,password:i._password});case"emailLink":return function h1e(n,e){return XA.apply(this,arguments)}(e,{idToken:t,email:i._email,oobCode:i._password});default:Hr(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function wa(n,e){return ZA.apply(this,arguments)}function ZA(){return(ZA=_(function*(n,e){return ya(n,"POST","/v1/accounts:signInWithIdp",kn(n,e))})).apply(this,arguments)}class Lm{constructor(e){var t,i,r,o,s,a;const l=mm(gm(e)),c=null!==(t=l.apiKey)&&void 0!==t?t:null,u=null!==(i=l.oobCode)&&void 0!==i?i:null,d=function y1e(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=l.mode)&&void 0!==r?r:null);oe(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=null!==(o=l.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(s=l.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=l.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function v1e(n){const e=mm(gm(n)).link,t=e?mm(gm(e)).deep_link_id:null,i=mm(gm(n)).deep_link_id;return(i?mm(gm(i)).link:null)||i||t||e||n}(e);try{return new Lm(t)}catch{return null}}}let BH=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,i){return Rm._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){const r=Lm.parseLink(i);return oe(r,"argument-error"),Rm._fromEmailAndCode(t,r.code,r.tenantId)}}return n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink",n})();class Ca{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class x1e extends Ca{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}function v0(n,e){return rk.apply(this,arguments)}function rk(){return(rk=_(function*(n,e){return ya(n,"POST","/v1/accounts:signUp",kn(n,e))})).apply(this,arguments)}class xo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,i,r=!1){return _(function*(){const o=yield Bc._fromIdTokenResponse(e,i,r),s=UH(i);return new xo({user:o,providerId:s,_tokenResponse:i,operationType:t})})()}static _forOperation(e,t,i){return _(function*(){yield e._updateTokensIfNecessary(i,!0);const r=UH(i);return new xo({user:e,providerId:r,_tokenResponse:i,operationType:t})})()}}function UH(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class x0 extends zr{constructor(e,t,i,r){var o;super(t.code,t.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,x0.prototype),this.customData={appName:e.name,tenantId:null!==(o=e.tenantId)&&void 0!==o?o:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,r){return new x0(e,t,i,r)}}function zH(n,e,t,i){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw"auth/multi-factor-auth-required"===o.code?x0._fromErrorAndOperation(n,o,e,i):o})}function lk(){return(lk=_(function*(n,e,t=!1){const i=yield va(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return xo._forOperation(n,"link",i)})).apply(this,arguments)}function uk(){return(uk=_(function*(n,e,t=!1){const{auth:i}=n,r="reauthenticate";try{const o=yield va(n,zH(i,r,e,n),t);oe(o.idToken,i,"internal-error");const s=m0(o.idToken);oe(s,i,"internal-error");const{sub:a}=s;return oe(n.uid===a,i,"user-mismatch"),xo._forOperation(n,r,o)}catch(o){throw"auth/user-not-found"===o?.code&&Hr(i,"user-mismatch"),o}})).apply(this,arguments)}function $H(n,e){return dk.apply(this,arguments)}function dk(){return(dk=_(function*(n,e,t=!1){const i="signIn",r=yield zH(n,i,e),o=yield xo._fromIdTokenResponse(n,i,r);return t||(yield n._updateCurrentUser(o.user)),o})).apply(this,arguments)}function fk(){return(fk=_(function*(n,e){return $H(Si(n),e)})).apply(this,arguments)}function D1e(n,e,t){return Tk.apply(this,arguments)}function Tk(){return Tk=_(function*(n,e,t){var i;const r=Si(n),o={returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"};let s;if(null!==(i=r._getRecaptchaConfig())&&void 0!==i&&i.emailPasswordEnabled){const c=yield _l(r,o,"signUpPassword");s=v0(r,c)}else s=v0(r,o).catch(function(){var c=_(function*(u){if("auth/missing-recaptcha-token"===u.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const d=yield _l(r,o,"signUpPassword");return v0(r,d)}return Promise.reject(u)});return function(u){return c.apply(this,arguments)}}());const a=yield s.catch(c=>Promise.reject(c)),l=yield xo._fromIdTokenResponse(r,"signIn",a);return yield r._updateCurrentUser(l.user),l}),Tk.apply(this,arguments)}function S1e(n,e,t){return function hk(n,e){return fk.apply(this,arguments)}(kt(n),BH.credential(e,t))}function B1e(n,e,t,i){return kt(n).onAuthStateChanged(e,t,i)}function U1e(n){return kt(n).signOut()}const C0="__sak";class WH{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(C0,"1"),this.storage.removeItem(C0),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const K1e=(()=>{class n extends WH{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function G1e(){const n=Zn();return PA(n)||_0(n)}()&&function YCe(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=IH(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),o=this.localCache[i];r!==o&&t(i,o,r)}}onStorageEvent(t,i=!1){if(!t.key)return void this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});const r=t.key;if(i?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(r);if(t.newValue!==a)null!==t.newValue?this.storage.setItem(r,t.newValue):this.storage.removeItem(r);else if(this.localCache[r]===t.newValue&&!i)return}const o=()=>{const a=this.storage.getItem(r);!i&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);!function KCe(){return function eye(){const n=Zn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}()&&10===document.documentMode}()||s===t.newValue||t.newValue===t.oldValue?o():setTimeout(o,10)}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,i){var r=()=>super._set,o=this;return _(function*(){yield r().call(o,t,i),o.localCache[t]=JSON.stringify(i)})()}_get(t){var i=()=>super._get,r=this;return _(function*(){const o=yield i().call(r,t);return r.localCache[t]=JSON.stringify(o),o})()}_remove(t){var i=()=>super._remove,r=this;return _(function*(){yield i().call(r,t),delete r.localCache[t]})()}}return n.type="LOCAL",n})(),KH=(()=>{class n extends WH{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}return n.type="SESSION",n})();let Q1e=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;const r=new n(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}handleEvent(t){var i=this;return _(function*(){const r=t,{eventId:o,eventType:s,data:a}=r.data,l=i.handlersMap[s];if(!l?.size)return;r.ports[0].postMessage({status:"ack",eventId:o,eventType:s});const c=Array.from(l).map(function(){var d=_(function*(h){return h(r.origin,a)});return function(h){return d.apply(this,arguments)}}()),u=yield function Y1e(n){return Promise.all(n.map(function(){var e=_(function*(t){try{return{fulfilled:!0,value:yield t}}catch(i){return{fulfilled:!1,reason:i}}});return function(t){return e.apply(this,arguments)}}()))}(c);r.ports[0].postMessage({status:"done",eventId:o,eventType:s,response:u})})()}_subscribe(t,i){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function Bk(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(10*Math.random());return n+t}class X1e{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,i=50){var r=this;return _(function*(){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let s,a;return new Promise((l,c)=>{const u=Bk("",20);o.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},i);a={messageChannel:o,onMessage(h){const m=h;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(m.data.response);break;default:clearTimeout(d),clearTimeout(s),c(new Error("invalid_response"))}}},r.handlers.add(a),o.port1.addEventListener("message",a.onMessage),r.target.postMessage({eventType:e,eventId:u,data:t},[o.port2])}).finally(()=>{a&&r.removeMessageHandler(a)})})()}}function li(){return window}function Uk(){return typeof li().WorkerGlobalScope<"u"&&"function"==typeof li().importScripts}function zk(){return(zk=_(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const YH="firebaseLocalStorageDb",E0="firebaseLocalStorage",QH="fbase_key";class Um{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function T0(n,e){return n.transaction([E0],e?"readwrite":"readonly").objectStore(E0)}function jk(){const n=indexedDB.open(YH,1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(E0,{keyPath:QH})}catch(r){t(r)}}),n.addEventListener("success",_(function*(){const i=n.result;i.objectStoreNames.contains(E0)?e(i):(i.close(),yield function iEe(){const n=indexedDB.deleteDatabase(YH);return new Um(n).toPromise()}(),e(yield jk()))}))})}function XH(n,e,t){return Hk.apply(this,arguments)}function Hk(){return(Hk=_(function*(n,e,t){const i=T0(n,!0).put({[QH]:e,value:t});return new Um(i).toPromise()})).apply(this,arguments)}function $k(){return($k=_(function*(n,e){const t=T0(n,!1).get(e),i=yield new Um(t).toPromise();return void 0===i?null:i.value})).apply(this,arguments)}function ZH(n,e){const t=T0(n,!0).delete(e);return new Um(t).toPromise()}const aEe=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return _(function*(){return t.db||(t.db=yield jk()),t.db})()}_withRetries(t){var i=this;return _(function*(){let r=0;for(;;)try{const o=yield i._openDb();return yield t(o)}catch(o){if(r++>3)throw o;i.db&&(i.db.close(),i.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return _(function*(){return Uk()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return _(function*(){t.receiver=Q1e._getInstance(function tEe(){return Uk()?self:null}()),t.receiver._subscribe("keyChanged",function(){var i=_(function*(r,o){return{keyProcessed:(yield t._poll()).includes(o.key)}});return function(r,o){return i.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var i=_(function*(r,o){return["keyChanged"]});return function(r,o){return i.apply(this,arguments)}}())})()}initializeSender(){var t=this;return _(function*(){var i,r;if(t.activeServiceWorker=yield function J1e(){return zk.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new X1e(t.activeServiceWorker);const o=yield t.sender._send("ping",{},800);o&&null!==(i=o[0])&&void 0!==i&&i.fulfilled&&null!==(r=o[0])&&void 0!==r&&r.value.includes("keyChanged")&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var i=this;return _(function*(){if(i.sender&&i.activeServiceWorker&&function eEe(){var n;return(null===(n=navigator?.serviceWorker)||void 0===n?void 0:n.controller)||null}()===i.activeServiceWorker)try{yield i.sender._send("keyChanged",{key:t},i.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return _(function*(){try{if(!indexedDB)return!1;const t=yield jk();return yield XH(t,C0,"1"),yield ZH(t,C0),!0}catch{}return!1})()}_withPendingWrite(t){var i=this;return _(function*(){i.pendingWrites++;try{yield t()}finally{i.pendingWrites--}})()}_set(t,i){var r=this;return _(function*(){return r._withPendingWrite(_(function*(){return yield r._withRetries(o=>XH(o,t,i)),r.localCache[t]=i,r.notifyServiceWorker(t)}))})()}_get(t){var i=this;return _(function*(){const r=yield i._withRetries(o=>function rEe(n,e){return $k.apply(this,arguments)}(o,t));return i.localCache[t]=r,r})()}_remove(t){var i=this;return _(function*(){return i._withPendingWrite(_(function*(){return yield i._withRetries(r=>ZH(r,t)),delete i.localCache[t],i.notifyServiceWorker(t)}))})()}_poll(){var t=this;return _(function*(){const i=yield t._withRetries(s=>{const a=T0(s,!1).getAll();return new Um(a).toPromise()});if(!i)return[];if(0!==t.pendingWrites)return[];const r=[],o=new Set;for(const{fbase_key:s,value:a}of i)o.add(s),JSON.stringify(t.localCache[s])!==JSON.stringify(a)&&(t.notifyListeners(s,a),r.push(s));for(const s of Object.keys(t.localCache))t.localCache[s]&&!o.has(s)&&(t.notifyListeners(s,null),r.push(s));return r})()}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(i)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval(_(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();OH("rcb"),new Dm(3e4,6e4);class Jk extends Pm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wa(e,this._buildIdpRequest())}_linkToIdToken(e,t){return wa(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return wa(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function CEe(n){return $H(n.auth,new Jk(n),n.bypassAuthState)}function EEe(n){const{auth:e,user:t}=n;return oe(t,e,"internal-error"),function HH(n,e){return uk.apply(this,arguments)}(t,new Jk(n),n.bypassAuthState)}function TEe(n){return eO.apply(this,arguments)}function eO(){return(eO=_(function*(n){const{auth:e,user:t}=n;return oe(t,e,"internal-error"),function ak(n,e){return lk.apply(this,arguments)}(t,new Jk(n),n.bypassAuthState)})).apply(this,arguments)}class IEe{constructor(e,t,i,r,o=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=_(function*(i,r){e.pendingPromise={resolve:i,reject:r};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(o){e.reject(o)}});return function(i,r){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return _(function*(){const{urlResponse:i,sessionId:r,postBody:o,tenantId:s,error:a,type:l}=e;if(a)return void t.reject(a);const c={auth:t.auth,requestUri:i,sessionId:r,tenantId:s||void 0,postBody:o||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(l)(c))}catch(u){t.reject(u)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return CEe;case"linkViaPopup":case"linkViaRedirect":return TEe;case"reauthViaPopup":case"reauthViaRedirect":return EEe;default:Hr(this.auth,"internal-error")}}resolve(e){ml(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ml(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new Dm(2e3,1e4);const MEe="pendingRedirect",zm=new Map;class DEe extends IEe{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}execute(){var e=()=>super.execute,t=this;return _(function*(){let i=zm.get(t.auth._key());if(!i){try{const o=(yield function SEe(n,e){return oO.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;i=()=>Promise.resolve(o)}catch(r){i=()=>Promise.reject(r)}zm.set(t.auth._key(),i)}return t.bypassAuthState||zm.set(t.auth._key(),()=>Promise.resolve(null)),i()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,i=this;return _(function*(){if("signInViaRedirect"===e.type)return t().call(i,e);if("unknown"!==e.type){if(e.eventId){const r=yield i.auth._redirectUserForId(e.eventId);if(r)return i.user=r,t().call(i,e);i.resolve(null)}}else i.resolve(null)})()}onExecution(){return _(function*(){})()}cleanUp(){}}function oO(){return(oO=_(function*(n,e){const t=function t$(n){return g0(MEe,n.config.apiKey,n.name)}(e),i=function e$(n){return xa(n._redirectPersistence)}(n);if(!(yield i._isAvailable()))return!1;const r="true"===(yield i._get(t));return yield i._remove(t),r})).apply(this,arguments)}function AEe(n,e){zm.set(n._key(),e)}function n$(n,e){return hO.apply(this,arguments)}function hO(){return(hO=_(function*(n,e,t=!1){const i=Si(n),r=function zc(n,e){return e?xa(e):(oe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}(i,e),s=yield new DEe(i,r,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield i._persistUserIfCurrent(s.user),yield i._setRedirectUser(null,e)),s})).apply(this,arguments)}class NEe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function FEe(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return o$(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!o$(e)){const r=(null===(i=e.error.code)||void 0===i?void 0:i.split("auth/")[1])||"internal-error";t.onError(As(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(r$(e))}saveEventToCache(e){this.cachedEventUids.add(r$(e)),this.lastProcessedEventTime=Date.now()}}function r$(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function o$({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===e?.code}function pO(){return(pO=_(function*(n,e={}){return zn(n,"GET","/v1/projects",e)})).apply(this,arguments)}const VEe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,BEe=/^https?/;function mO(){return mO=_(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield function LEe(n){return pO.apply(this,arguments)}(n);for(const t of e)try{if(zEe(t))return}catch{}Hr(n,"unauthorized-domain")}),mO.apply(this,arguments)}function zEe(n){const e=Mm(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const s=new URL(n);return""===s.hostname&&""===i?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&s.hostname===i}if(!BEe.test(t))return!1;if(VEe.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}const jEe=new Dm(3e4,6e4);function s$(){const n=li().___jsl;if(n?.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let M0=null;const GEe=new Dm(5e3,15e3),qEe="__/auth/iframe",WEe="emulator/auth/iframe",KEe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},YEe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function QEe(n){const e=n.config;oe(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?vA(e,WEe):`https://${n.config.authDomain}/${qEe}`,i={apiKey:e.apiKey,appName:n.name,v:pa},r=YEe.get(n.config.apiHost);r&&(i.eid=r);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${t}?${lh(i).slice(1)}`}function gO(){return gO=_(function*(n){const e=yield function $Ee(n){return M0=M0||function HEe(n){return new Promise((e,t)=>{var i,r,o;function s(){s$(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{s$(),t(As(n,"network-request-failed"))},timeout:jEe.get()})}if(null!==(r=null===(i=li().gapi)||void 0===i?void 0:i.iframes)&&void 0!==r&&r.Iframe)e(gapi.iframes.getContext());else{if(null===(o=li().gapi)||void 0===o||!o.load){const a=OH("iframefcb");return li()[a]=()=>{gapi.load?s():t(As(n,"network-request-failed"))},FA(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>t(l))}s()}}).catch(e=>{throw M0=null,e})}(n),M0}(n),t=li().gapi;return oe(t,n,"internal-error"),e.open({where:document.body,url:QEe(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:KEe,dontclear:!0},i=>new Promise(function(){var r=_(function*(o,s){yield i.restyle({setHideOnLeave:!1});const a=As(n,"network-request-failed"),l=li().setTimeout(()=>{s(a)},GEe.get());function c(){li().clearTimeout(l),o(i)}i.ping(c).then(c,()=>{s(a)})});return function(o,s){return r.apply(this,arguments)}}()))}),gO.apply(this,arguments)}const ZEe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class a${constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const oTe="__/auth/handler",sTe="emulator/auth/handler",aTe=encodeURIComponent("fac");function l$(n,e,t,i,r,o){return _O.apply(this,arguments)}function _O(){return(_O=_(function*(n,e,t,i,r,o){oe(n.config.authDomain,n,"auth-domain-config-required"),oe(n.config.apiKey,n,"invalid-api-key");const s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:pa,eventId:r};if(e instanceof Ca){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",BM(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries(o||{}))s[u]=d}if(e instanceof x1e){const u=e.getScopes().filter(d=>""!==d);u.length>0&&(s.scopes=u.join(","))}n.tenantId&&(s.tid=n.tenantId);const a=s;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=yield n._getAppCheckToken(),c=l?`#${aTe}=${encodeURIComponent(l)}`:"";return`${function lTe({config:n}){return n.emulator?vA(n,sTe):`https://${n.authDomain}/${oTe}`}(n)}?${lh(a).slice(1)}${c}`})).apply(this,arguments)}const bO="webStorageSupport",uTe=class cTe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=KH,this._completeRedirectFn=n$,this._overrideRedirectResult=AEe}_openPopup(e,t,i,r){var o=this;return _(function*(){var s;ml(null===(s=o.eventManagers[e._key()])||void 0===s?void 0:s.manager,"_initialize() not called before _openPopup()");const a=yield l$(e,t,i,Mm(),r);return function iTe(n,e,t,i=500,r=600){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),s=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const l=Object.assign(Object.assign({},ZEe),{width:i.toString(),height:r.toString(),top:o,left:s}),c=Zn().toLowerCase();t&&(a=xH(c)?"_blank":t),vH(c)&&(e=e||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((h,[m,y])=>`${h}${m}=${y},`,"");if(function WCe(n=Zn()){var e;return _0(n)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==a)return function rTe(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}(e||"",a),new a$(null);const d=window.open(e||"",a,u);oe(d,n,"popup-blocked");try{d.focus()}catch{}return new a$(d)}(e,a,Bk())})()}_openRedirect(e,t,i,r){var o=this;return _(function*(){return yield o._originValidation(e),function Z1e(n){li().location.href=n}(yield l$(e,t,i,Mm(),r)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:r,promise:o}=this.eventManagers[t];return r?Promise.resolve(r):(ml(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}initAndGetManager(e){var t=this;return _(function*(){const i=yield function XEe(n){return gO.apply(this,arguments)}(e),r=new NEe(e);return i.register("authEvent",o=>(oe(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:r},t.iframes[e._key()]=i,r})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(bO,{type:bO},r=>{var o;const s=null===(o=r?.[0])||void 0===o?void 0:o[bO];void 0!==s&&t(!!s),Hr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function UEe(n){return mO.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return IH()||PA()||_0()}};var h$="@firebase/auth";class dTe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return _(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const mTe=b7("authIdTokenMaxAge")||300;let p$=null;const gTe=n=>function(){var e=_(function*(t){const i=t&&(yield t.getIdTokenResult()),r=i&&((new Date).getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>mTe)return;const o=i?.token;p$!==o&&(p$=o,yield fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))});return function(t){return e.apply(this,arguments)}}();function _Te(n=ch()){const e=ha(n,"auth");if(e.isInitialized())return e.getImmediate();const t=function i1e(n,e){const t=ha(n,"auth");if(t.isInitialized()){const r=t.getImmediate();if(qv(t.getOptions(),e??{}))return r;Hr(r,"already-initialized")}return t.initialize({options:e})}(n,{popupRedirectResolver:uTe,persistence:[aEe,K1e,KH]}),i=b7("authTokenSyncURL");if(i){const o=gTe(i);(function V1e(n,e,t){kt(n).beforeAuthStateChanged(e,t)})(t,o,()=>o(t.currentUser)),function L1e(n,e,t,i){kt(n).onIdTokenChanged(e,t,i)}(t,s=>o(s))}const r=g7("auth");return r&&function o1e(n,e,t){const i=Si(n);oe(i._canInitEmulator,i,"emulator-config-failed"),oe(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!!t?.disableWarnings,o=NH(e),{host:s,port:a}=function s1e(n){const e=NH(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const o=r[1];return{host:o,port:FH(i.substr(o.length+1))}}{const[o,s]=i.split(":");return{host:o,port:FH(s)}}}(e);i.config.emulator={url:`${o}//${s}${null===a?"":`:${a}`}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||function a1e(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(t,`http://${r}`),t}!function fTe(n){Mi(new xi("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=i.options;oe(s&&!s.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:MH(n)},c=new n1e(i,r,o,l);return function r1e(n,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(xa);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}(c,t),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Mi(new xi("auth-internal",e=>{const t=Si(e.getProvider("auth").getImmediate());return new dTe(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Nt(h$,"0.23.2",function hTe(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),Nt(h$,"0.23.2","esm2017")}("Browser");class He{constructor(e){return e}}class S0{constructor(){return ph("auth")}}const vO=new X("angularfire2.auth-instances");function yTe(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new He(i)}}const vTe={provide:S0,deps:[[new Gt,vO]]},xTe={provide:He,useFactory:function bTe(n,e){const t=fh("auth",n,e);return t&&new He(t)},deps:[[new Gt,vO],ba]};let wTe=(()=>{class n{constructor(){Nt("angularfire",hh.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=nt({type:n}),n.\u0275inj=Xe({providers:[xTe,vTe]}),n})();function CTe(n,...e){return{ngModule:wTe,providers:[{provide:vO,useFactory:yTe(n),multi:!0,deps:[Te,qt,wm,Cm,[new Gt,Im],...e]}]}}const g$=Jn(D1e,!0),Ea=Jn(_Te,!0),bl=Jn(B1e,!0),xO=Jn(S1e,!0),wi=Jn(U1e,!0);let _$=(()=>{class n{constructor(t,i){this.auth=t,this.router=i,this.title="gestion-muestras"}Login(){this.router.navigate(["/auth/login"])}handleSignOut(){wi(this.auth).then(()=>{}).catch(t=>{console.log("here")})}Home(){this.router.navigate(["auth/select"])}static{this.\u0275fac=function(i){return new(i||n)(E(He),E(Me))}}static{this.\u0275cmp=ve({type:n,selectors:[["app-auth"]],decls:1,vars:0,template:function(i,r){1&i&&$(0,"router-outlet")},dependencies:[Dc],styles:[".navbar[_ngcontent-%COMP%]{background-color:#0a9217;width:100%;height:120px;position:absolute;left:0%;top:0%}.tituloBox[_ngcontent-%COMP%]{width:100%;height:120px;position:absolute;left:0%;top:0%;display:flex;flex-direction:column;justify-content:center;align-items:center;font-size:10px}.tituloText[_ngcontent-%COMP%]{color:#fff;display:block;font-family:Verdana;font-weight:700;font-size:40px;letter-spacing:0}.tituloSubText[_ngcontent-%COMP%]{color:#fff;display:block;font-family:Verdana;font-weight:700;font-size:20px;letter-spacing:0}.logoUcv[_ngcontent-%COMP%]{width:100px;height:100px;position:absolute;left:40px;top:10px;background-image:url(logo_ucv_bg2_1.32a61806277cba42.png);background-repeat:no-repeat;background-size:cover}.logoCiens[_ngcontent-%COMP%]{width:100px;height:100px;display:inline-block;position:absolute;left:180px;top:10px;background-image:url(logoCiens.9fc55f935ab1cd6b.png);background-repeat:no-repeat;background-size:contain}.logoAgro[_ngcontent-%COMP%]{width:150px;height:100px;position:absolute;right:40px;top:10px;background-image:url(Logo-Agronomia-Stroke.a9e6fb094894c53a.png);background-repeat:no-repeat;background-size:cover}.homeBox[_ngcontent-%COMP%]{width:25%;height:10%;position:absolute;cursor:pointer;left:75%;top:0%;text-align:center}.homeText[_ngcontent-%COMP%]{color:#fff;display:inline-block;vertical-align:middle;line-height:2.8em;font-family:Verdana;font-size:32px;letter-spacing:0;position:absolute;right:.75em;top:30%}.UserLogo[_ngcontent-%COMP%]{position:absolute;top:1.85em;right:10.94em;width:46px;height:46px;text-align:center;background-image:url(LoginIconWhite.b9f823031602a23b.png);background-repeat:no-repeat;background-size:contain}@media only screen and (max-width: 768px){.homeBox[_ngcontent-%COMP%]{border-right:4px solid white;width:20%;height:110px;position:absolute;left:0;top:0%}.homeText[_ngcontent-%COMP%]{display:none}.UserLogo[_ngcontent-%COMP%]{position:absolute;top:2.2em;left:25%;width:36px;height:36px;text-align:center;background-image:url(LoginIconWhite.b9f823031602a23b.png);background-repeat:no-repeat;background-size:contain}.logoUcv[_ngcontent-%COMP%]{width:30px;height:30px;position:absolute;top:15px;left:5px;background-image:url(logo_ucv_Small.c918acfda6fcd024.png);background-repeat:no-repeat;background-size:cover}.logoCiens[_ngcontent-%COMP%]{width:30px;height:30px;position:absolute;top:15px;left:45px;background-image:url(logoCiens-Small.2065c0f07c6bbc86.png);background-repeat:no-repeat;background-size:cover}.logoAgro[_ngcontent-%COMP%]{width:58px;height:40px;position:absolute;top:60px;left:12px;background-image:url(Logo-Agronomia-Stroke-Small.e1f18097759acd8e.png);background-repeat:no-repeat;background-size:contain}.tituloBox[_ngcontent-%COMP%]{width:80%;height:120px;position:absolute;left:20%;top:0%;text-align:center}.tituloText[_ngcontent-%COMP%]{color:#fff;line-height:1;display:inline-block;vertical-align:middle;font-family:Verdana;font-size:28px;letter-spacing:0px;padding-top:5px}.tituloSubText[_ngcontent-%COMP%]{color:#fff;font-family:Verdana;font-size:18px;letter-spacing:0px;line-height:normal;display:block;text-align:center;padding-top:10px}.space[_ngcontent-%COMP%], .homeLogo[_ngcontent-%COMP%]{display:none}}"]})}}return n})();var de,ETe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},$o={},wO=wO||{},$e=ETe||self;function A0(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function jm(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var CO="closure_uid_"+(1e9*Math.random()>>>0),ITe=0;function MTe(n,e,t){return n.call.apply(n.bind,arguments)}function DTe(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function lr(n,e,t){return(lr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?MTe:DTe).apply(null,arguments)}function k0(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Ai(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(i,r,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[r].apply(i,s)}}function yl(){this.s=this.s,this.o=this.o}yl.prototype.s=!1,yl.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function TTe(n){Object.prototype.hasOwnProperty.call(n,CO)&&n[CO]||(n[CO]=++ITe)}(this)},yl.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const b$=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function EO(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function y$(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(A0(i)){const r=n.length||0,o=i.length||0;n.length=r+o;for(let s=0;s<o;s++)n[r+s]=i[s]}else n.push(i)}}function cr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}cr.prototype.h=function(){this.defaultPrevented=!0};var ATe=function(){if(!$e.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{$e.addEventListener("test",()=>{},e),$e.removeEventListener("test",()=>{},e)}catch{}return n}();function Hm(n){return/^[\s\xa0]*$/.test(n)}function O0(){var n=$e.navigator;return n&&(n=n.userAgent)?n:""}function Os(n){return-1!=O0().indexOf(n)}function TO(n){return TO[" "](n),n}TO[" "]=function(){};var MO,n,OTe=Os("Opera"),xh=Os("Trident")||Os("MSIE"),v$=Os("Edge"),IO=v$||xh,x$=Os("Gecko")&&!(-1!=O0().toLowerCase().indexOf("webkit")&&!Os("Edge"))&&!(Os("Trident")||Os("MSIE"))&&!Os("Edge"),PTe=-1!=O0().toLowerCase().indexOf("webkit")&&!Os("Edge");function w$(){var n=$e.document;return n?n.documentMode:void 0}e:{var DO="",SO=(n=O0(),x$?/rv:([^\);]+)(\)|;)/.exec(n):v$?/Edge\/([\d\.]+)/.exec(n):xh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):PTe?/WebKit\/(\S+)/.exec(n):OTe?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(SO&&(DO=SO?SO[1]:""),xh){var AO=w$();if(null!=AO&&AO>parseFloat(DO)){MO=String(AO);break e}}MO=DO}var RTe=$e.document&&xh&&(w$()||parseInt(MO,10))||void 0;function $m(n,e){if(cr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(x$){e:{try{TO(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:NTe[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&$m.$.h.call(this)}}Ai($m,cr);var NTe={2:"touch",3:"pen",4:"mouse"};$m.prototype.h=function(){$m.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Gm="closure_listenable_"+(1e6*Math.random()|0),FTe=0;function LTe(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.la=r,this.key=++FTe,this.fa=this.ia=!1}function P0(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function OO(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function E$(n){const e={};for(const t in n)e[t]=n[t];return e}const T$="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I$(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let o=0;o<T$.length;o++)t=T$[o],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function R0(n){this.src=n,this.g={},this.h=0}function PO(n,e){var t=e.type;if(t in n.g){var o,i=n.g[t],r=b$(i,e);(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(P0(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function RO(n,e,t,i){for(var r=0;r<n.length;++r){var o=n[r];if(!o.fa&&o.listener==e&&o.capture==!!t&&o.la==i)return r}return-1}R0.prototype.add=function(n,e,t,i,r){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var s=RO(n,e,i,r);return-1<s?(e=n[s],t||(e.ia=!1)):((e=new LTe(e,this.src,o,!!i,r)).ia=t,n.push(e)),e};var NO="closure_lm_"+(1e6*Math.random()|0),FO={};function M$(n,e,t,i,r){if(i&&i.once)return S$(n,e,t,i,r);if(Array.isArray(e)){for(var o=0;o<e.length;o++)M$(n,e[o],t,i,r);return null}return t=UO(t),n&&n[Gm]?n.O(e,t,jm(i)?!!i.capture:!!i,r):D$(n,e,t,!1,i,r)}function D$(n,e,t,i,r,o){if(!e)throw Error("Invalid event type");var s=jm(r)?!!r.capture:!!r,a=VO(n);if(a||(n[NO]=a=new R0(n)),(t=a.add(e,t,i,s,o)).proxy)return t;if(i=function BTe(){const e=UTe;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)ATe||(r=s),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(k$(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function S$(n,e,t,i,r){if(Array.isArray(e)){for(var o=0;o<e.length;o++)S$(n,e[o],t,i,r);return null}return t=UO(t),n&&n[Gm]?n.P(e,t,jm(i)?!!i.capture:!!i,r):D$(n,e,t,!0,i,r)}function A$(n,e,t,i,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)A$(n,e[o],t,i,r);else i=jm(i)?!!i.capture:!!i,t=UO(t),n&&n[Gm]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=RO(o=n.g[e],t,i,r))&&(P0(o[t]),Array.prototype.splice.call(o,t,1),0==o.length&&(delete n.g[e],n.h--))):n&&(n=VO(n))&&(e=n.g[e.toString()],n=-1,e&&(n=RO(e,t,i,r)),(t=-1<n?e[n]:null)&&LO(t))}function LO(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Gm])PO(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(k$(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=VO(e))?(PO(t,n),0==t.h&&(t.src=null,e[NO]=null)):P0(n)}}}function k$(n){return n in FO?FO[n]:FO[n]="on"+n}function UTe(n,e){if(n.fa)n=!0;else{e=new $m(e,this);var t=n.listener,i=n.la||n.src;n.ia&&LO(n),n=t.call(i,e)}return n}function VO(n){return(n=n[NO])instanceof R0?n:null}var BO="__closure_events_fn_"+(1e9*Math.random()>>>0);function UO(n){return"function"==typeof n?n:(n[BO]||(n[BO]=function(e){return n.handleEvent(e)}),n[BO])}function ki(){yl.call(this),this.i=new R0(this),this.S=this,this.J=null}function qi(n,e){var t,i=n.J;if(i)for(t=[];i;i=i.J)t.push(i);if(n=n.S,i=e.type||e,"string"==typeof e)e=new cr(e,n);else if(e instanceof cr)e.target=e.target||n;else{var r=e;I$(e=new cr(i,n),r)}if(r=!0,t)for(var o=t.length-1;0<=o;o--){var s=e.g=t[o];r=N0(s,i,!0,e)&&r}if(r=N0(s=e.g=n,i,!0,e)&&r,r=N0(s,i,!1,e)&&r,t)for(o=0;o<t.length;o++)r=N0(s=e.g=t[o],i,!1,e)&&r}function N0(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==t){var a=s.listener,l=s.la||s.src;s.ia&&PO(n.i,s),r=!1!==a.call(l,i)&&r}}return r&&!i.defaultPrevented}Ai(ki,yl),ki.prototype[Gm]=!0,ki.prototype.removeEventListener=function(n,e,t,i){A$(this,n,e,t,i)},ki.prototype.N=function(){if(ki.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)P0(t[i]);delete n.g[e],n.h--}}this.J=null},ki.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},ki.prototype.P=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var zO=$e.JSON.stringify;function jTe(){var n=jO;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var O$=new class zTe{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new $Te,n=>n.reset());class $Te{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function GTe(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function qTe(n){$e.setTimeout(()=>{throw n},0)}let qm,Wm=!1,jO=new class HTe{constructor(){this.h=this.g=null}add(e,t){const i=O$.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}},P$=()=>{const n=$e.Promise.resolve(void 0);qm=()=>{n.then(WTe)}};var WTe=()=>{for(var n;n=jTe();){try{n.h.call(n.g)}catch(t){qTe(t)}var e=O$;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Wm=!1};function F0(n,e){ki.call(this),this.h=n||1,this.g=e||$e,this.j=lr(this.qb,this),this.l=Date.now()}function HO(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function $O(n,e,t){if("function"==typeof n)t&&(n=lr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=lr(n.handleEvent,n)}return 2147483647<Number(e)?-1:$e.setTimeout(n,e||0)}function R$(n){n.g=$O(()=>{n.g=null,n.i&&(n.i=!1,R$(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Ai(F0,ki),(de=F0.prototype).ga=!1,de.T=null,de.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),qi(this,"tick"),this.ga&&(HO(this),this.start()))}},de.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},de.N=function(){F0.$.N.call(this),HO(this),delete this.g};class KTe extends yl{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:R$(this)}N(){super.N(),this.g&&($e.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Km(n){yl.call(this),this.h=n,this.g={}}Ai(Km,yl);var N$=[];function F$(n,e,t,i){Array.isArray(t)||(t&&(N$[0]=t.toString()),t=N$);for(var r=0;r<t.length;r++){var o=M$(e,t[r],i||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function L$(n){OO(n.g,function(e,t){this.g.hasOwnProperty(t)&&LO(e)},n),n.g={}}function L0(){this.g=!0}function wh(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function ZTe(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<r.length;s++)r[s]=""}}}return zO(t)}catch{return e}}(n,t)+(i?" "+i:"")})}Km.prototype.N=function(){Km.$.N.call(this),L$(this)},Km.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},L0.prototype.Ea=function(){this.g=!1},L0.prototype.info=function(){};var jc={},V$=null;function V0(){return V$=V$||new ki}function B$(n){cr.call(this,jc.Ta,n)}function Ym(n){const e=V0();qi(e,new B$(e))}function U$(n,e){cr.call(this,jc.STAT_EVENT,n),this.stat=e}function Tr(n){const e=V0();qi(e,new U$(e,n))}function z$(n,e){cr.call(this,jc.Ua,n),this.size=e}function Qm(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return $e.setTimeout(function(){n()},e)}jc.Ta="serverreachability",Ai(B$,cr),jc.STAT_EVENT="statevent",Ai(U$,cr),jc.Ua="timingevent",Ai(z$,cr);var B0={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},j$={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function GO(){}function $$(){}GO.prototype.h=null;var KO,Xm={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function qO(){cr.call(this,"d")}function WO(){cr.call(this,"c")}function U0(){}function Zm(n,e,t,i){this.l=n,this.j=e,this.m=t,this.W=i||1,this.U=new Km(this),this.P=JTe,this.V=new F0(n=IO?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new G$}function G$(){this.i=null,this.g="",this.h=!1}Ai(qO,cr),Ai(WO,cr),Ai(U0,GO),U0.prototype.g=function(){return new XMLHttpRequest},U0.prototype.i=function(){return{}},KO=new U0;var JTe=45e3,YO={},z0={};function QO(n,e,t){n.L=1,n.v=G0(Ta(e)),n.s=t,n.S=!0,q$(n,null)}function q$(n,e){n.G=Date.now(),Jm(n),n.A=Ta(n.v);var t=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),nG(t.i,"t",i),n.C=0,t=n.l.J,n.h=new G$,n.g=IG(n.l,t?e:null,!n.s),0<n.O&&(n.M=new KTe(lr(n.Pa,n,n.g),n.O)),F$(n.U,n.g,"readystatechange",n.nb),e=n.I?E$(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),Ym(),function YTe(n,e,t,i,r,o){n.info(function(){if(n.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");s=2<=d.length&&"type"==d[1]?s+(u+"=")+c+"&":s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+s})}(n.j,n.u,n.A,n.m,n.W,n.s)}function W$(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function K$(n,e,t){let r,i=!0;for(;!n.J&&n.C<t.length;){if(r=eIe(n,t),r==z0){4==e&&(n.o=4,Tr(14),i=!1),wh(n.j,n.m,null,"[Incomplete Response]");break}if(r==YO){n.o=4,Tr(15),wh(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}wh(n.j,n.m,r,null),XO(n,r)}W$(n)&&r!=z0&&r!=YO&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Tr(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),rP(e),e.M=!0,Tr(11))):(wh(n.j,n.m,t,"[Invalid Chunked Response]"),Hc(n),eg(n))}function eIe(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?z0:(t=Number(e.substring(t,i)),isNaN(t)?YO:(i+=1)+t>e.length?z0:(e=e.slice(i,i+t),n.C=i+t,e))}function Jm(n){n.Y=Date.now()+n.P,Y$(n,n.P)}function Y$(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Qm(lr(n.lb,n),e)}function j0(n){n.B&&($e.clearTimeout(n.B),n.B=null)}function eg(n){0==n.l.H||n.J||wG(n.l,n)}function Hc(n){j0(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,HO(n.V),L$(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function XO(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||ZO(t.i,n)))if(!n.K&&ZO(t.i,n)&&3==t.H){try{var i=t.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;X0(t),Y0(t)}iP(t),Tr(18)}}else t.Fa=r[1],0<t.Fa-t.V&&37500>r[2]&&t.G&&0==t.A&&!t.v&&(t.v=Qm(lr(t.ib,t),6e3));if(1>=oG(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Gc(t,11)}else if((n.K||t.g==n)&&X0(t),!Hm(e))for(r=t.Ja.g.parse(e),e=0;e<r.length;e++){let c=r[e];if(t.V=c[0],c=c[1],2==t.H)if("c"==c[0]){t.K=c[1],t.pa=c[2];const u=c[3];null!=u&&(t.ra=u,t.l.info("VER="+t.ra));const d=c[4];null!=d&&(t.Ga=d,t.l.info("SVER="+t.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(t.L=i=1.5*h,t.l.info("backChannelRequestTimeoutMs_="+i)),i=t;const m=n.g;if(m){const y=m.g?m.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(y){var o=i.i;o.g||-1==y.indexOf("spdy")&&-1==y.indexOf("quic")&&-1==y.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(JO(o,o.h),o.h=null))}if(i.F){const C=m.g?m.g.getResponseHeader("X-HTTP-Session-Id"):null;C&&(i.Da=C,pn(i.I,i.F,C))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var s=n;if((i=t).wa=TG(i,i.J?i.pa:null,i.Y),s.K){sG(i.i,s);var a=s,l=i.L;l&&a.setTimeout(l),a.B&&(j0(a),Jm(a)),i.g=s}else vG(i);0<t.j.length&&Q0(t)}else"stop"!=c[0]&&"close"!=c[0]||Gc(t,7);else 3==t.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Gc(t,7):nP(t):"noop"!=c[0]&&t.h&&t.h.Aa(c),t.A=0)}Ym()}catch{}}function Q$(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(A0(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function nIe(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(A0(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function tIe(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(A0(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length,o=0;o<r;o++)e.call(void 0,i[o],t&&t[o],n)}(de=Zm.prototype).setTimeout=function(n){this.P=n},de.nb=function(n){n=n.target;const e=this.M;e&&3==Ps(n)?e.l():this.Pa(n)},de.Pa=function(n){try{if(n==this.g)e:{const u=Ps(this.g);var e=this.g.Ia();if(this.g.da(),!(3>u)&&(3!=u||IO||this.g&&(this.h.h||this.g.ja()||pG(this.g)))){this.J||4!=u||7==e||Ym(),j0(this);var t=this.g.da();this.ca=t;t:if(W$(this)){var i=pG(this.g);n="";var r=i.length,o=4==Ps(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Hc(this),eg(this);var s="";break t}this.h.i=new $e.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:o&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==t,function QTe(n,e,t,i,r,o,s){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+o+" "+s})}(this.j,this.u,this.A,this.m,this.W,u,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Hm(a)){var c=a;break t}}c=null}if(!(t=c)){this.i=!1,this.o=3,Tr(12),Hc(this),eg(this);break e}wh(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,XO(this,t)}this.S?(K$(this,u,s),IO&&this.i&&3==u&&(F$(this.U,this.V,"tick",this.mb),this.V.start())):(wh(this.j,this.m,s,null),XO(this,s)),4==u&&Hc(this),this.i&&!this.J&&(4==u?wG(this.l,this):(this.i=!1,Jm(this)))}else(function vIe(n){const e={};n=(n.g&&2<=Ps(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(Hm(n[i]))continue;var t=GTe(n[i]);const r=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const o=e[r]||[];e[r]=o,o.push(t)}!function VTe(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(i){return i.join(", ")})})(this.g),400==t&&0<s.indexOf("Unknown SID")?(this.o=3,Tr(12)):(this.o=0,Tr(13)),Hc(this),eg(this)}}}catch{}},de.mb=function(){if(this.g){var n=Ps(this.g),e=this.g.ja();this.C<e.length&&(j0(this),K$(this,n,e),this.i&&4!=n&&Jm(this))}},de.cancel=function(){this.J=!0,Hc(this)},de.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function XTe(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Ym(),Tr(17)),Hc(this),this.o=2,eg(this)):Y$(this,this.Y-n)};var X$=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $c(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof $c){this.h=n.h,H0(this,n.j),this.s=n.s,this.g=n.g,$0(this,n.m),this.l=n.l;var e=n.i,t=new ig;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Z$(this,t),this.o=n.o}else n&&(e=String(n).match(X$))?(this.h=!1,H0(this,e[1]||"",!0),this.s=tg(e[2]||""),this.g=tg(e[3]||"",!0),$0(this,e[4]),this.l=tg(e[5]||"",!0),Z$(this,e[6]||"",!0),this.o=tg(e[7]||"")):(this.h=!1,this.i=new ig(null,this.h))}function Ta(n){return new $c(n)}function H0(n,e,t){n.j=t?tg(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function $0(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Z$(n,e,t){e instanceof ig?(n.i=e,function cIe(n,e){e&&!n.j&&(vl(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(eG(this,i),nG(this,r,t))},n)),n.j=e}(n.i,n.h)):(t||(e=ng(e,aIe)),n.i=new ig(e,n.h))}function pn(n,e,t){n.i.set(e,t)}function G0(n){return pn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function tg(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function ng(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,rIe),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function rIe(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}$c.prototype.toString=function(){var n=[],e=this.j;e&&n.push(ng(e,J$,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(ng(e,J$,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(ng(t,"/"==t.charAt(0)?sIe:oIe,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",ng(t,lIe)),n.join("")};var J$=/[#\/\?@]/g,oIe=/[#\?:]/g,sIe=/[#\?]/g,aIe=/[#\?@]/g,lIe=/#/g;function ig(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function vl(n){n.g||(n.g=new Map,n.h=0,n.i&&function iIe(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var o=n[t].substring(0,i);r=n[t].substring(i+1)}else o=n[t];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function eG(n,e){vl(n),e=Ch(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function tG(n,e){return vl(n),e=Ch(n,e),n.g.has(e)}function nG(n,e,t){eG(n,e),0<t.length&&(n.i=null,n.g.set(Ch(n,e),EO(t)),n.h+=t.length)}function Ch(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}(de=ig.prototype).add=function(n,e){vl(this),this.i=null,n=Ch(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},de.forEach=function(n,e){vl(this),this.g.forEach(function(t,i){t.forEach(function(r){n.call(e,r,i,this)},this)},this)},de.ta=function(){vl(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const r=n[i];for(let o=0;o<r.length;o++)t.push(e[i])}return t},de.Z=function(n){vl(this);let e=[];if("string"==typeof n)tG(this,n)&&(e=e.concat(this.g.get(Ch(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},de.set=function(n,e){return vl(this),this.i=null,tG(this,n=Ch(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},de.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},de.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const o=encodeURIComponent(String(i)),s=this.Z(i);for(i=0;i<s.length;i++){var r=o;""!==s[i]&&(r+="="+encodeURIComponent(String(s[i]))),n.push(r)}}return this.i=n.join("&")};var uIe=class{constructor(n,e){this.g=n,this.map=e}};function iG(n){this.l=n||dIe,n=$e.PerformanceNavigationTiming?0<(n=$e.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!($e.g&&$e.g.Ka&&$e.g.Ka()&&$e.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var dIe=10;function rG(n){return!!n.h||!!n.g&&n.g.size>=n.j}function oG(n){return n.h?1:n.g?n.g.size:0}function ZO(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function JO(n,e){n.g?n.g.add(e):n.h=e}function sG(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function aG(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return EO(n.i)}iG.prototype.cancel=function(){if(this.i=aG(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var hIe=class{stringify(n){return $e.JSON.stringify(n,void 0)}parse(n){return $e.JSON.parse(n,void 0)}};function fIe(){this.g=new hIe}function pIe(n,e,t){const i=t||"";try{Q$(n,function(r,o){let s=r;jm(r)&&(s=zO(r)),e.push(i+o+"="+encodeURIComponent(s))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function q0(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function rg(n){this.l=n.fc||null,this.j=n.ob||!1}function W0(n,e){ki.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=eP,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ai(rg,GO),rg.prototype.g=function(){return new W0(this.l,this.j)},rg.prototype.i=function(n){return function(){return n}}({}),Ai(W0,ki);var eP=0;function lG(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function og(n){n.readyState=4,n.l=null,n.j=null,n.A=null,sg(n)}function sg(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(de=W0.prototype).open=function(n,e){if(this.readyState!=eP)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,sg(this)},de.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||$e).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},de.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,og(this)),this.readyState=eP},de.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,sg(this)),this.g&&(this.readyState=3,sg(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof $e.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;lG(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},de.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?og(this):sg(this),3==this.readyState&&lG(this)}},de.Za=function(n){this.g&&(this.response=this.responseText=n,og(this))},de.Ya=function(n){this.g&&(this.response=n,og(this))},de.ka=function(){this.g&&og(this)},de.setRequestHeader=function(n,e){this.v.append(n,e)},de.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},de.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(W0.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var gIe=$e.JSON.parse;function jn(n){ki.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=cG,this.L=this.M=!1}Ai(jn,ki);var cG="",_Ie=/^https?$/i,bIe=["POST","PUT"];function uG(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,dG(n),K0(n)}function dG(n){n.F||(n.F=!0,qi(n,"complete"),qi(n,"error"))}function hG(n){if(n.h&&typeof wO<"u"&&(!n.C[1]||4!=Ps(n)||2!=n.da()))if(n.v&&4==Ps(n))$O(n.La,0,n);else if(qi(n,"readystatechange"),4==Ps(n)){n.h=!1;try{const s=n.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===s){var r=String(n.I).match(X$)[1]||null;!r&&$e.self&&$e.self.location&&(r=$e.self.location.protocol.slice(0,-1)),i=!_Ie.test(r?r.toLowerCase():"")}t=i}if(t)qi(n,"complete"),qi(n,"success");else{n.m=6;try{var o=2<Ps(n)?n.g.statusText:""}catch{o=""}n.j=o+" ["+n.da()+"]",dG(n)}}finally{K0(n)}}}function K0(n,e){if(n.g){fG(n);const t=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||qi(n,"ready");try{t.onreadystatechange=i}catch{}}}function fG(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&($e.clearTimeout(n.A),n.A=null)}function Ps(n){return n.g?n.g.readyState:0}function pG(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case cG:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function mG(n){let e="";return OO(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function tP(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=mG(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):pn(n,e,t))}function ag(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function gG(n){this.Ga=0,this.j=[],this.l=new L0,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ag("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ag("baseRetryDelayMs",5e3,n),this.hb=ag("retryDelaySeedMs",1e4,n),this.eb=ag("forwardChannelMaxRetries",2,n),this.xa=ag("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new iG(n&&n.concurrentRequestLimit),this.Ja=new fIe,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function nP(n){if(_G(n),3==n.H){var e=n.W++,t=Ta(n.I);if(pn(t,"SID",n.K),pn(t,"RID",e),pn(t,"TYPE","terminate"),lg(n,t),(e=new Zm(n,n.l,e)).L=2,e.v=G0(Ta(t)),t=!1,$e.navigator&&$e.navigator.sendBeacon)try{t=$e.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&$e.Image&&((new Image).src=e.v,t=!0),t||(e.g=IG(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Jm(e)}EG(n)}function Y0(n){n.g&&(rP(n),n.g.cancel(),n.g=null)}function _G(n){Y0(n),n.u&&($e.clearTimeout(n.u),n.u=null),X0(n),n.i.cancel(),n.m&&("number"==typeof n.m&&$e.clearTimeout(n.m),n.m=null)}function Q0(n){if(!rG(n.i)&&!n.m){n.m=!0;var e=n.Na;qm||P$(),Wm||(qm(),Wm=!0),jO.add(e,n),n.C=0}}function bG(n,e){var t;t=e?e.m:n.W++;const i=Ta(n.I);pn(i,"SID",n.K),pn(i,"RID",t),pn(i,"AID",n.V),lg(n,i),n.o&&n.s&&tP(i,n.o,n.s),t=new Zm(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=yG(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),JO(n.i,t),QO(t,i,e)}function lg(n,e){n.na&&OO(n.na,function(t,i){pn(e,i,t)}),n.h&&Q$({},function(t,i){pn(e,i,t)})}function yG(n,e,t){t=Math.min(n.j.length,t);var i=n.h?lr(n.h.Va,n.h,n):null;e:{var r=n.j;let o=-1;for(;;){const s=["count="+t];-1==o?0<t?(o=r[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let l=0;l<t;l++){let c=r[l].g;const u=r[l].map;if(c-=o,0>c)o=Math.max(0,r[l].g-100),a=!1;else try{pIe(u,s,"req"+c+"_")}catch{i&&i(u)}}if(a){i=s.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,i}function vG(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;qm||P$(),Wm||(qm(),Wm=!0),jO.add(e,n),n.A=0}}function iP(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Qm(lr(n.Ma,n),CG(n,n.A)),n.A++,0))}function rP(n){null!=n.B&&($e.clearTimeout(n.B),n.B=null)}function xG(n){n.g=new Zm(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Ta(n.wa);pn(e,"RID","rpc"),pn(e,"SID",n.K),pn(e,"AID",n.V),pn(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&pn(e,"TO",n.qa),pn(e,"TYPE","xmlhttp"),lg(n,e),n.o&&n.s&&tP(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=G0(Ta(e)),t.s=null,t.S=!0,q$(t,n)}function X0(n){null!=n.v&&($e.clearTimeout(n.v),n.v=null)}function wG(n,e){var t=null;if(n.g==e){X0(n),rP(n),n.g=null;var i=2}else{if(!ZO(n.i,e))return;t=e.F,sG(n.i,e),i=1}if(0!=n.H)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.G;var r=n.C;qi(i=V0(),new z$(i,t)),Q0(n)}else vG(n);else if(3==(r=e.o)||0==r&&0<e.ca||!(1==i&&function xIe(n,e){return!(oG(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Qm(lr(n.Na,n,e),CG(n,n.C)),n.C++,0)))}(n,e)||2==i&&iP(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),r){case 1:Gc(n,5);break;case 4:Gc(n,10);break;case 3:Gc(n,6);break;default:Gc(n,2)}}function CG(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Gc(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var i=lr(n.pb,n);t||(t=new $c("//www.google.com/images/cleardot.gif"),$e.location&&"http"==$e.location.protocol||H0(t,"https"),G0(t)),function mIe(n,e){const t=new L0;if($e.Image){const i=new Image;i.onload=k0(q0,t,i,"TestLoadImage: loaded",!0,e),i.onerror=k0(q0,t,i,"TestLoadImage: error",!1,e),i.onabort=k0(q0,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=k0(q0,t,i,"TestLoadImage: timeout",!1,e),$e.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else Tr(2);n.H=0,n.h&&n.h.za(e),EG(n),_G(n)}function EG(n){if(n.H=0,n.ma=[],n.h){const e=aG(n.i);(0!=e.length||0!=n.j.length)&&(y$(n.ma,e),y$(n.ma,n.j),n.i.i.length=0,EO(n.j),n.j.length=0),n.h.ya()}}function TG(n,e,t){var i=t instanceof $c?Ta(t):new $c(t);if(""!=i.g)e&&(i.g=e+"."+i.g),$0(i,i.m);else{var r=$e.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var o=new $c(null);i&&H0(o,i),e&&(o.g=e),r&&$0(o,r),t&&(o.l=t),i=o}return e=n.Da,(t=n.F)&&e&&pn(i,t,e),pn(i,"VER",n.ra),lg(n,i),i}function IG(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new jn(t&&n.Ha&&!n.va?new rg({ob:!0}):n.va)).Oa(n.J),e}function MG(){}function Z0(){if(xh&&!(10<=Number(RTe)))throw Error("Environmental error: no available transport.")}function ro(n,e){ki.call(this),this.g=new gG(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Hm(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Hm(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Eh(this)}function DG(n){qO.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function SG(){WO.call(this),this.status=1}function Eh(n){this.g=n}function Go(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function oP(n,e,t){t||(t=0);var i=Array(16);if("string"==typeof e)for(var r=0;16>r;++r)i[r]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(r=0;16>r;++r)i[r]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var o=n.g[3],s=(e=n.g[0])+(o^(t=n.g[1])&((r=n.g[2])^o))+i[0]+3614090360&4294967295;s=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=t+(s<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(r^o))+i[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(r^o))+i[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(r^o))+i[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=e+(r^o&(t^r))+i[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=e+(r^o&(t^r))+i[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=e+(r^o&(t^r))+i[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=e+(r^o&(t^r))+i[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=e+(t^r^o)+i[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^r^o)+i[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^r^o)+i[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^r^o)+i[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=e+(r^(t|~o))+i[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=r+(e^(o|~t))+i[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(r|~e))+i[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=e+(r^(t|~o))+i[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=r+(e^(o|~t))+i[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(r|~e))+i[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=e+(r^(t|~o))+i[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=r+(e^(o|~t))+i[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(r|~e))+i[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(e=t+((s=e+(r^(t|~o))+i[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((r=o+((s=r+(e^(o|~t))+i[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~e))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(r+(s<<21&4294967295|s>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+o&4294967295}function Ut(n,e){this.h=e;for(var t=[],i=!0,r=n.length-1;0<=r;r--){var o=0|n[r];i&&o==e||(t[r]=o,i=!1)}this.g=t}(de=jn.prototype).Oa=function(n){this.M=n},de.ha=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():KO.g(),this.C=function H$(n){return n.h||(n.h=n.i())}(this.u?this.u:KO),this.g.onreadystatechange=lr(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(o){return void uG(this,o)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)t.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const o of i.keys())t.set(o,i.get(o))}i=Array.from(t.keys()).find(o=>"content-type"==o.toLowerCase()),r=$e.FormData&&n instanceof $e.FormData,!(0<=b$(bIe,e))||i||r||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of t)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{fG(this),0<this.B&&((this.L=function yIe(n){return xh&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=lr(this.ua,this)):this.A=$O(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){uG(this,o)}},de.ua=function(){typeof wO<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,qi(this,"timeout"),this.abort(8))},de.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,qi(this,"complete"),qi(this,"abort"),K0(this))},de.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),K0(this,!0)),jn.$.N.call(this)},de.La=function(){this.s||(this.G||this.v||this.l?hG(this):this.kb())},de.kb=function(){hG(this)},de.isActive=function(){return!!this.g},de.da=function(){try{return 2<Ps(this)?this.g.status:-1}catch{return-1}},de.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},de.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),gIe(e)}},de.Ia=function(){return this.m},de.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(de=gG.prototype).ra=8,de.H=1,de.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new Zm(this,this.l,n);let o=this.s;if(this.U&&(o?(o=E$(o),I$(o,this.U)):o=this.U),null!==this.o||this.O||(r.I=o,o=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var i=this.j[t];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=yG(this,r,e),pn(t=Ta(this.I),"RID",n),pn(t,"CVER",22),this.F&&pn(t,"X-HTTP-Session-Id",this.F),lg(this,t),o&&(this.O?e="headers="+encodeURIComponent(String(mG(o)))+"&"+e:this.o&&tP(t,this.o,o)),JO(this.i,r),this.bb&&pn(t,"TYPE","init"),this.P?(pn(t,"$req",e),pn(t,"SID","null"),r.aa=!0,QO(r,t,null)):QO(r,t,e),this.H=2}}else 3==this.H&&(n?bG(this,n):0==this.j.length||rG(this.i)||bG(this))},de.Ma=function(){if(this.u=null,xG(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Qm(lr(this.jb,this),n)}},de.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Tr(10),Y0(this),xG(this))},de.ib=function(){null!=this.v&&(this.v=null,Y0(this),iP(this),Tr(19))},de.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Tr(2)):(this.l.info("Failed to ping google.com"),Tr(1))},de.isActive=function(){return!!this.h&&this.h.isActive(this)},(de=MG.prototype).Ba=function(){},de.Aa=function(){},de.za=function(){},de.ya=function(){},de.isActive=function(){return!0},de.Va=function(){},Z0.prototype.g=function(n,e){return new ro(n,e)},Ai(ro,ki),ro.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Tr(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=TG(n,null,n.Y),Q0(n)},ro.prototype.close=function(){nP(this.g)},ro.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=zO(n),n=t);e.j.push(new uIe(e.fb++,n)),3==e.H&&Q0(e)},ro.prototype.N=function(){this.g.h=null,delete this.j,nP(this.g),delete this.g,ro.$.N.call(this)},Ai(DG,qO),Ai(SG,WO),Ai(Eh,MG),Eh.prototype.Ba=function(){qi(this.g,"a")},Eh.prototype.Aa=function(n){qi(this.g,new DG(n))},Eh.prototype.za=function(n){qi(this.g,new SG)},Eh.prototype.ya=function(){qi(this.g,"b")},Ai(Go,function wIe(){this.blockSize=-1}),Go.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Go.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,i=this.m,r=this.h,o=0;o<e;){if(0==r)for(;o<=t;)oP(this,n,o),o+=this.blockSize;if("string"==typeof n){for(;o<e;)if(i[r++]=n.charCodeAt(o++),r==this.blockSize){oP(this,i),r=0;break}}else for(;o<e;)if(i[r++]=n[o++],r==this.blockSize){oP(this,i),r=0;break}}this.h=r,this.i+=e},Go.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var i=0;32>i;i+=8)n[t++]=this.g[e]>>>i&255;return n};var CIe={};function sP(n){return-128<=n&&128>n?function kTe(n,e){var t=CIe;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Ut([0|e],0>e?-1:0)}):new Ut([0|n],0>n?-1:0)}function Rs(n){if(isNaN(n)||!isFinite(n))return Th;if(0>n)return Wi(Rs(-n));for(var e=[],t=1,i=0;n>=t;i++)e[i]=n/t|0,t*=aP;return new Ut(e,0)}var aP=4294967296,Th=sP(0),lP=sP(1),kG=sP(16777216);function Ia(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function wo(n){return-1==n.h}function Wi(n){for(var e=n.g.length,t=[],i=0;i<e;i++)t[i]=~n.g[i];return new Ut(t,~n.h).add(lP)}function J0(n,e){return n.add(Wi(e))}function ex(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function cg(n,e){this.g=n,this.h=e}function tx(n,e){if(Ia(e))throw Error("division by zero");if(Ia(n))return new cg(Th,Th);if(wo(n))return e=tx(Wi(n),e),new cg(Wi(e.g),Wi(e.h));if(wo(e))return e=tx(n,Wi(e)),new cg(Wi(e.g),e.h);if(30<n.g.length){if(wo(n)||wo(e))throw Error("slowDivide_ only works with positive integers.");for(var t=lP,i=e;0>=i.X(n);)t=OG(t),i=OG(i);var r=Ih(t,1),o=Ih(i,1);for(i=Ih(i,2),t=Ih(t,2);!Ia(i);){var s=o.add(i);0>=s.X(n)&&(r=r.add(t),o=s),i=Ih(i,1),t=Ih(t,1)}return e=J0(n,r.R(e)),new cg(r,e)}for(r=Th;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),i=48>=(i=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,i-48),s=(o=Rs(t)).R(e);wo(s)||0<s.X(n);)s=(o=Rs(t-=i)).R(e);Ia(o)&&(o=lP),r=r.add(o),n=J0(n,s)}return new cg(r,n)}function OG(n){for(var e=n.g.length+1,t=[],i=0;i<e;i++)t[i]=n.D(i)<<1|n.D(i-1)>>>31;return new Ut(t,n.h)}function Ih(n,e){var t=e>>5;e%=32;for(var i=n.g.length-t,r=[],o=0;o<i;o++)r[o]=0<e?n.D(o+t)>>>e|n.D(o+t+1)<<32-e:n.D(o+t);return new Ut(r,n.h)}(de=Ut.prototype).ea=function(){if(wo(this))return-Wi(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var i=this.D(t);n+=(0<=i?i:aP+i)*e,e*=aP}return n},de.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Ia(this))return"0";if(wo(this))return"-"+Wi(this).toString(n);for(var e=Rs(Math.pow(n,6)),t=this,i="";;){var r=tx(t,e).g,o=((0<(t=J0(t,r.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Ia(t=r))return o+i;for(;6>o.length;)o="0"+o;i=o+i}},de.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},de.X=function(n){return wo(n=J0(this,n))?-1:Ia(n)?0:1},de.abs=function(){return wo(this)?Wi(this):this},de.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0,r=0;r<=e;r++){var o=i+(65535&this.D(r))+(65535&n.D(r)),s=(o>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=s>>>16,t[r]=(s&=65535)<<16|(o&=65535)}return new Ut(t,-2147483648&t[t.length-1]?-1:0)},de.R=function(n){if(Ia(this)||Ia(n))return Th;if(wo(this))return wo(n)?Wi(this).R(Wi(n)):Wi(Wi(this).R(n));if(wo(n))return Wi(this.R(Wi(n)));if(0>this.X(kG)&&0>n.X(kG))return Rs(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],i=0;i<2*e;i++)t[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var o=this.D(i)>>>16,s=65535&this.D(i),a=n.D(r)>>>16,l=65535&n.D(r);t[2*i+2*r]+=s*l,ex(t,2*i+2*r),t[2*i+2*r+1]+=o*l,ex(t,2*i+2*r+1),t[2*i+2*r+1]+=s*a,ex(t,2*i+2*r+1),t[2*i+2*r+2]+=o*a,ex(t,2*i+2*r+2)}for(i=0;i<e;i++)t[i]=t[2*i+1]<<16|t[2*i];for(i=e;i<2*e;i++)t[i]=0;return new Ut(t,0)},de.gb=function(n){return tx(this,n).h},de.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)&n.D(i);return new Ut(t,this.h&n.h)},de.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)|n.D(i);return new Ut(t,this.h|n.h)},de.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)^n.D(i);return new Ut(t,this.h^n.h)},Z0.prototype.createWebChannel=Z0.prototype.g,ro.prototype.send=ro.prototype.u,ro.prototype.open=ro.prototype.m,ro.prototype.close=ro.prototype.close,B0.NO_ERROR=0,B0.TIMEOUT=8,B0.HTTP_ERROR=6,j$.COMPLETE="complete",$$.EventType=Xm,Xm.OPEN="a",Xm.CLOSE="b",Xm.ERROR="c",Xm.MESSAGE="d",ki.prototype.listen=ki.prototype.O,jn.prototype.listenOnce=jn.prototype.P,jn.prototype.getLastError=jn.prototype.Sa,jn.prototype.getLastErrorCode=jn.prototype.Ia,jn.prototype.getStatus=jn.prototype.da,jn.prototype.getResponseJson=jn.prototype.Wa,jn.prototype.getResponseText=jn.prototype.ja,jn.prototype.send=jn.prototype.ha,jn.prototype.setWithCredentials=jn.prototype.Oa,Go.prototype.digest=Go.prototype.l,Go.prototype.reset=Go.prototype.reset,Go.prototype.update=Go.prototype.j,Ut.prototype.add=Ut.prototype.add,Ut.prototype.multiply=Ut.prototype.R,Ut.prototype.modulo=Ut.prototype.gb,Ut.prototype.compare=Ut.prototype.X,Ut.prototype.toNumber=Ut.prototype.ea,Ut.prototype.toString=Ut.prototype.toString,Ut.prototype.getBits=Ut.prototype.D,Ut.fromNumber=Rs,Ut.fromString=function AG(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Wi(AG(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Rs(Math.pow(e,8)),i=Th,r=0;r<n.length;r+=8){var o=Math.min(8,n.length-r),s=parseInt(n.substring(r,r+o),e);8>o?(o=Rs(Math.pow(e,o)),i=i.R(o).add(Rs(s))):i=(i=i.R(t)).add(Rs(s))}return i};var EIe=$o.createWebChannelTransport=function(){return new Z0},TIe=$o.getStatEventTarget=function(){return V0()},cP=$o.ErrorCode=B0,IIe=$o.EventType=j$,MIe=$o.Event=jc,PG=$o.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},DIe=$o.FetchXmlHttpFactory=rg,nx=$o.WebChannel=$$,SIe=$o.XhrIo=jn,AIe=$o.Md5=Go,Mh=$o.Integer=Ut;const RG="@firebase/firestore";class Oi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Oi.UNAUTHENTICATED=new Oi(null),Oi.GOOGLE_CREDENTIALS=new Oi("google-credentials-uid"),Oi.FIRST_PARTY=new Oi("first-party-uid"),Oi.MOCK_USER=new Oi("mock-user");let Dh="9.23.0";const xl=new Ac("@firebase/firestore");function uP(){return xl.logLevel}function te(n,...e){if(xl.logLevel<=bt.DEBUG){const t=e.map(dP);xl.debug(`Firestore (${Dh}): ${n}`,...t)}}function ei(n,...e){if(xl.logLevel<=bt.ERROR){const t=e.map(dP);xl.error(`Firestore (${Dh}): ${n}`,...t)}}function qo(n,...e){if(xl.logLevel<=bt.WARN){const t=e.map(dP);xl.warn(`Firestore (${Dh}): ${n}`,...t)}}function dP(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function pe(n="Unexpected state"){const e=`FIRESTORE (${Dh}) INTERNAL ASSERTION FAILED: `+n;throw ei(e),new Error(e)}function ye(n,e){n||pe()}function ce(n,e){return n}const z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class J extends zr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ci{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class NG{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class kIe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Oi.UNAUTHENTICATED))}shutdown(){}}class OIe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class PIe{constructor(e){this.t=e,this.currentUser=Oi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const o=c=>this.i!==r?(r=this.i,t(c)):Promise.resolve();let s=new Ci;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ci,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const c=s;e.enqueueRetryable(_(function*(){yield c.promise,yield o(i.currentUser)}))},l=c=>{te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(te("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ci)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ye("string"==typeof i.accessToken),new NG(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ye(null===e||"string"==typeof e),new Oi(e)}}class RIe{constructor(e,t,i){this.h=e,this.l=t,this.m=i,this.type="FirstParty",this.user=Oi.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class NIe{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new RIe(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Oi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class FG{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class FIe{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const i=o=>{null!=o.error&&te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.T;return this.T=o.token,te("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};const r=o=>{te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.I.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.I.getImmediate({optional:!0});o?r(o):te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ye("string"==typeof t.token),this.T=t.token,new FG(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function LIe(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class LG{static A(){const t=62*Math.floor(256/62);let i="";for(;i.length<20;){const r=LIe(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<t&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[o]%62))}return i}}function Be(n,e){return n<e?-1:n>e?1:0}function Sh(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function VG(n){return n+"\0"}class On{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new J(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new J(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new J(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new J(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return On.fromMillis(Date.now())}static fromDate(e){return On.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new On(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Be(this.nanoseconds,e.nanoseconds):Be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class xe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new xe(e)}static min(){return new xe(new On(0,0))}static max(){return new xe(new On(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ug{constructor(e,t,i){void 0===t?t=0:t>e.length&&pe(),void 0===i?i=e.length-t:i>e.length-t&&pe(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===ug.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ug?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const o=e.get(r),s=t.get(r);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class wt extends ug{construct(e,t,i){return new wt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new J(z.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new wt(t)}static emptyPath(){return new wt([])}}const VIe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ti extends ug{construct(e,t,i){return new ti(e,t,i)}static isValidIdentifier(e){return VIe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ti.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ti(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const o=()=>{if(0===i.length)throw new J(z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let s=!1;for(;r<e.length;){const a=e[r];if("\\"===a){if(r+1===e.length)throw new J(z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[r+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new J(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=l,r+=2}else"`"===a?(s=!s,r++):"."!==a||s?(i+=a,r++):(o(),r++)}if(o(),s)throw new J(z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ti(t)}static emptyPath(){return new ti([])}}class ae{constructor(e){this.path=e}static fromPath(e){return new ae(wt.fromString(e))}static fromName(e){return new ae(wt.fromString(e).popFirst(5))}static empty(){return new ae(wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===wt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return wt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ae(new wt(e.slice()))}}class ix{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function hP(n){return n.fields.find(e=>2===e.kind)}function qc(n){return n.fields.filter(e=>2!==e.kind)}ix.UNKNOWN_ID=-1;class rx{constructor(e,t){this.fieldPath=e,this.kind=t}}class dg{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new dg(0,oo.min())}}function UG(n){return new oo(n.readTime,n.key,-1)}class oo{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new oo(xe.min(),ae.empty(),-1)}static max(){return new oo(xe.max(),ae.empty(),-1)}}function fP(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=ae.comparator(n.documentKey,e.documentKey),0!==t?t:Be(n.largestBatchId,e.largestBatchId))}const zG="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jG{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function wl(n){return pP.apply(this,arguments)}function pP(){return pP=_(function*(n){if(n.code!==z.FAILED_PRECONDITION||n.message!==zG)throw n;te("LocalStore","Unexpectedly lost primary lease")}),pP.apply(this,arguments)}class V{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&pe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new V((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(t,o).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof V?t:V.resolve(t)}catch(t){return V.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):V.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):V.reject(t)}static resolve(e){return new V((t,i)=>{t(e)})}static reject(e){return new V((t,i)=>{i(e)})}static waitFor(e){return new V((t,i)=>{let r=0,o=0,s=!1;e.forEach(a=>{++r,a.next(()=>{++o,s&&o===r&&t()},l=>i(l))}),s=!0,o===r&&t()})}static or(e){let t=V.resolve(!1);for(const i of e)t=t.next(r=>r?V.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,o)=>{i.push(t.call(this,r,o))}),this.waitFor(i)}static mapArray(e,t){return new V((i,r)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const c=l;t(e[c]).next(u=>{s[c]=u,++a,a===o&&i(s)},u=>r(u))}})}static doWhile(e,t){return new V((i,r)=>{const o=()=>{!0===e()?t().next(()=>{o()},r):i()};o()})}}class ox{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new Ci,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new hg(e,t.error)):this.v.resolve()},this.transaction.onerror=i=>{const r=mP(i.target.error);this.v.reject(new hg(e,r))}}static open(e,t,i,r){try{return new ox(t,e.transaction(r,i))}catch(o){throw new hg(t,o)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(te("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new jIe(t)}}class Wo{constructor(e,t,i){this.name=e,this.version=t,this.V=i,12.2===Wo.S(Zn())&&ei("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return te("SimpleDb","Removing database:",e),Wc(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!hl())return!1;if(Wo.C())return!0;const e=Zn(),t=Wo.S(e),i=0<t&&t<10,r=Wo.N(e),o=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||o)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static N(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}$(e){var t=this;return _(function*(){return t.db||(te("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const o=indexedDB.open(t.name,t.version);o.onsuccess=s=>{i(s.target.result)},o.onblocked=()=>{r(new hg(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=s=>{const a=s.target.error;r("VersionError"===a.name?new J(z.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===a.name?new J(z.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a):new hg(e,a))},o.onupgradeneeded=s=>{te("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',s.oldVersion),t.V.O(s.target.result,o.transaction,s.oldVersion,t.version).next(()=>{te("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=i=>t.F(i)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var o=this;return _(function*(){const s="readonly"===t;let a=0;for(;;){++a;try{o.db=yield o.$(e);const l=ox.open(o.db,e,s?"readonly":"readwrite",i),c=r(l).next(u=>(l.P(),u)).catch(u=>(l.abort(u),V.reject(u))).toPromise();return c.catch(()=>{}),yield l.R,c}catch(l){const c=l,u="FirebaseError"!==c.name&&a<3;if(te("SimpleDb","Transaction failed with error:",c.message,"Retrying:",u),o.close(),!u)return Promise.reject(c)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class zIe{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Wc(this.L.delete())}}class hg extends J{constructor(e,t){super(z.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Cl(n){return"IndexedDbTransactionError"===n.name}class jIe{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(te("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(te("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),Wc(i)}add(e){return te("SimpleDb","ADD",this.store.name,e,e),Wc(this.store.add(e))}get(e){return Wc(this.store.get(e)).next(t=>(void 0===t&&(t=null),te("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return te("SimpleDb","DELETE",this.store.name,e),Wc(this.store.delete(e))}count(){return te("SimpleDb","COUNT",this.store.name),Wc(this.store.count())}j(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),o=[];return this.W(r,(s,a)=>{o.push(a)}).next(()=>o)}{const r=this.store.getAll(i.range);return new V((o,s)=>{r.onerror=a=>{s(a.target.error)},r.onsuccess=a=>{o(a.target.result)}})}}H(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new V((r,o)=>{i.onerror=s=>{o(s.target.error)},i.onsuccess=s=>{r(s.target.result)}})}J(e,t){te("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.Y=!1;const r=this.cursor(i);return this.W(r,(o,s,a)=>a.delete())}X(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.W(r,t)}Z(e){const t=this.cursor({});return new V((i,r)=>{t.onerror=o=>{const s=mP(o.target.error);r(s)},t.onsuccess=o=>{const s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():i()}):i()}})}W(e,t){const i=[];return new V((r,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{const a=s.target.result;if(!a)return void r();const l=new zIe(a),c=t(a.primaryKey,a.value,l);if(c instanceof V){const u=c.catch(d=>(l.done(),V.reject(d)));i.push(u)}l.isDone?r():null===l.K?a.continue():a.continue(l.K)}}).next(()=>V.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.Y?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Wc(n){return new V((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=mP(i.target.error);t(r)}})}let HG=!1;function mP(n){const e=Wo.S(Zn());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new J("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return HG||(HG=!0,setTimeout(()=>{throw i},0)),i}}return n}class HIe{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;te("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,_(function*(){t.task=null;try{te("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(i){Cl(i)?te("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield wl(i)}yield t.et(6e4)}))}}class $Ie{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return _(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.st(i,e))})()}st(e,t){const i=new Set;let r=t,o=!0;return V.doWhile(()=>!0===o&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(s=>{if(null!==s&&!i.has(s))return te("IndexBackiller",`Processing collection: ${s}`),this.it(e,s,r).next(a=>{r-=a,i.add(s)});o=!1})).next(()=>t-r)}it(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(o=>{const s=o.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next(()=>this.rt(r,o)).next(a=>(te("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,t,a))).next(()=>s.size)}))}rt(e,t){let i=e;return t.changes.forEach((r,o)=>{const s=UG(o);fP(s,i)>0&&(i=s)}),new oo(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}let so=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>i.writeSequenceNumber(r))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function fg(n){return null==n}function pg(n){return 0===n&&1/n==-1/0}function ur(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=GG(e)),e=GIe(n.get(t),e);return GG(e)}function GIe(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=o}}return t}function GG(n){return n+"\x01\x01"}function Ns(n){const e=n.length;if(ye(e>=2),2===e)return ye("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),wt.emptyPath();const t=e-2,i=[];let r="";for(let o=0;o<e;){const s=n.indexOf("\x01",o);switch((s<0||s>t)&&pe(),n.charAt(s+1)){case"\x01":const a=n.substring(o,s);let l;0===r.length?l=a:(r+=a,l=r,r=""),i.push(l);break;case"\x10":r+=n.substring(o,s),r+="\0";break;case"\x11":r+=n.substring(o,s+1);break;default:pe()}o=s+2}return new wt(i)}const qG=["userId","batchId"];function sx(n,e){return[n,ur(e)]}function WG(n,e,t){return[n,ur(e),t]}const qIe={},WIe=["prefixPath","collectionGroup","readTime","documentId"],KIe=["prefixPath","collectionGroup","documentId"],YIe=["collectionGroup","readTime","prefixPath","documentId"],QIe=["canonicalId","targetId"],XIe=["targetId","path"],ZIe=["path","targetId"],JIe=["collectionId","parent"],eMe=["indexId","uid"],tMe=["uid","sequenceNumber"],nMe=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],iMe=["indexId","uid","orderedDocumentKey"],rMe=["userId","collectionPath","documentId"],oMe=["userId","collectionPath","largestBatchId"],sMe=["userId","collectionGroup","largestBatchId"],KG=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],aMe=[...KG,"documentOverlays"],YG=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],QG=YG,lMe=[...QG,"indexConfiguration","indexState","indexEntries"];class gP extends jG{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function Pi(n,e){const t=ce(n);return Wo.M(t.ht,e)}function XG(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function El(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function ZG(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class cn{constructor(e,t){this.comparator=e,this.root=t||Ki.EMPTY}insert(e,t){return new cn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ki.BLACK,null,null))}remove(e){return new cn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ki.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ax(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ax(this.root,e,this.comparator,!1)}getReverseIterator(){return new ax(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ax(this.root,e,this.comparator,!0)}}class ax{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?i(e.key,t):1,t&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ki{constructor(e,t,i,r,o){this.key=e,this.value=t,this.color=i??Ki.RED,this.left=r??Ki.EMPTY,this.right=o??Ki.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,o){return new Ki(e??this.key,t??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===o?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Ki.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Ki.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ki.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ki.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw pe();const e=this.left.check();if(e!==this.right.check())throw pe();return e+(this.isRed()?0:1)}}Ki.EMPTY=null,Ki.RED=!0,Ki.BLACK=!1,Ki.EMPTY=new class{constructor(){this.size=0}get key(){throw pe()}get value(){throw pe()}get color(){throw pe()}get left(){throw pe()}get right(){throw pe()}copy(n,e,t,i,r){return this}insert(n,e,t){return new Ki(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class mn{constructor(e){this.comparator=e,this.data=new cn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new JG(this.data.getIterator())}getIteratorFrom(e){return new JG(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof mn)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new mn(this.comparator);return t.data=e,t}}class JG{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ah(n){return n.hasNext()?n.getNext():void 0}class $r{constructor(e){this.fields=e,e.sort(ti.comparator)}static empty(){return new $r([])}unionWith(e){let t=new mn(ti.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new $r(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Sh(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class eq extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ei{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new eq("Invalid base64 string: "+r):r}}(e);return new Ei(t)}static fromUint8Array(e){const t=function(i){let r="";for(let o=0;o<i.length;++o)r+=String.fromCharCode(i[o]);return r}(e);return new Ei(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ei.EMPTY_BYTE_STRING=new Ei("");const cMe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Tl(n){if(ye(!!n),"string"==typeof n){let e=0;const t=cMe.exec(n);if(ye(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Hn(n.seconds),nanos:Hn(n.nanos)}}function Hn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Ma(n){return"string"==typeof n?Ei.fromBase64String(n):Ei.fromUint8Array(n)}function lx(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function cx(n){const e=n.mapValue.fields.__previous_value__;return lx(e)?cx(e):e}function mg(n){const e=Tl(n.mapValue.fields.__local_write_time__.timestampValue);return new On(e.seconds,e.nanos)}class uMe{constructor(e,t,i,r,o,s,a,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Kc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Kc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Kc&&e.projectId===this.projectId&&e.database===this.database}}const Il={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},ux={nullValue:"NULL_VALUE"};function Ml(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?lx(n)?4:rq(n)?9007199254740991:10:pe()}function Fs(n,e){if(n===e)return!0;const t=Ml(n);if(t!==Ml(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return mg(n).isEqual(mg(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const o=Tl(i.timestampValue),s=Tl(r.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,Ma(n.bytesValue).isEqual(Ma(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return Hn(i.geoPointValue.latitude)===Hn(r.geoPointValue.latitude)&&Hn(i.geoPointValue.longitude)===Hn(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Hn(i.integerValue)===Hn(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const o=Hn(i.doubleValue),s=Hn(r.doubleValue);return o===s?pg(o)===pg(s):isNaN(o)&&isNaN(s)}return!1}(n,e);case 9:return Sh(n.arrayValue.values||[],e.arrayValue.values||[],Fs);case 10:return function(i,r){const o=i.mapValue.fields||{},s=r.mapValue.fields||{};if(XG(o)!==XG(s))return!1;for(const a in o)if(o.hasOwnProperty(a)&&(void 0===s[a]||!Fs(o[a],s[a])))return!1;return!0}(n,e);default:return pe()}var r}function gg(n,e){return void 0!==(n.values||[]).find(t=>Fs(t,e))}function Dl(n,e){if(n===e)return 0;const t=Ml(n),i=Ml(e);if(t!==i)return Be(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Be(n.booleanValue,e.booleanValue);case 2:return function(r,o){const s=Hn(r.integerValue||r.doubleValue),a=Hn(o.integerValue||o.doubleValue);return s<a?-1:s>a?1:s===a?0:isNaN(s)?isNaN(a)?0:-1:1}(n,e);case 3:return tq(n.timestampValue,e.timestampValue);case 4:return tq(mg(n),mg(e));case 5:return Be(n.stringValue,e.stringValue);case 6:return function(r,o){const s=Ma(r),a=Ma(o);return s.compareTo(a)}(n.bytesValue,e.bytesValue);case 7:return function(r,o){const s=r.split("/"),a=o.split("/");for(let l=0;l<s.length&&l<a.length;l++){const c=Be(s[l],a[l]);if(0!==c)return c}return Be(s.length,a.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,o){const s=Be(Hn(r.latitude),Hn(o.latitude));return 0!==s?s:Be(Hn(r.longitude),Hn(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,o){const s=r.values||[],a=o.values||[];for(let l=0;l<s.length&&l<a.length;++l){const c=Dl(s[l],a[l]);if(c)return c}return Be(s.length,a.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,o){if(r===Il.mapValue&&o===Il.mapValue)return 0;if(r===Il.mapValue)return 1;if(o===Il.mapValue)return-1;const s=r.fields||{},a=Object.keys(s),l=o.fields||{},c=Object.keys(l);a.sort(),c.sort();for(let u=0;u<a.length&&u<c.length;++u){const d=Be(a[u],c[u]);if(0!==d)return d;const h=Dl(s[a[u]],l[c[u]]);if(0!==h)return h}return Be(a.length,c.length)}(n.mapValue,e.mapValue);default:throw pe()}}function tq(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Be(n,e);const t=Tl(n),i=Tl(e),r=Be(t.seconds,i.seconds);return 0!==r?r:Be(t.nanos,i.nanos)}function kh(n){return _P(n)}function _P(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Tl(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Ma(n.bytesValue).toBase64():"referenceValue"in n?ae.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",o=!0;for(const s of i.values||[])o?o=!1:r+=",",r+=_P(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let o="{",s=!0;for(const a of r)s?s=!1:o+=",",o+=`${a}:${_P(i.fields[a])}`;return o+"}"}(n.mapValue):pe();var e}function Yc(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function bP(n){return!!n&&"integerValue"in n}function _g(n){return!!n&&"arrayValue"in n}function nq(n){return!!n&&"nullValue"in n}function iq(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function hx(n){return!!n&&"mapValue"in n}function bg(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return El(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=bg(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=bg(n.arrayValue.values[t]);return e}return Object.assign({},n)}function rq(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function dMe(n){return"nullValue"in n?ux:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Yc(Kc.empty(),ae.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:pe()}function hMe(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Yc(Kc.empty(),ae.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Il:pe()}function oq(n,e){const t=Dl(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function sq(n,e){const t=Dl(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Yi{constructor(e){this.value=e}static empty(){return new Yi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!hx(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=bg(t)}setAll(e){let t=ti.emptyPath(),i={},r=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){const l=this.getFieldsMap(t);this.applyChanges(l,i,r),i={},r=[],t=a.popLast()}s?i[a.lastSegment()]=bg(s):r.push(a.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,i,r)}delete(e){const t=this.field(e.popLast());hx(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Fs(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];hx(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){El(t,(r,o)=>e[r]=o);for(const r of i)delete e[r]}clone(){return new Yi(bg(this.value))}}function aq(n){const e=[];return El(n.fields,(t,i)=>{const r=new ti([t]);if(hx(i)){const o=aq(i.mapValue).fields;if(0===o.length)e.push(r);else for(const s of o)e.push(r.child(s))}else e.push(r)}),new $r(e)}class gn{constructor(e,t,i,r,o,s,a){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new gn(e,0,xe.min(),xe.min(),xe.min(),Yi.empty(),0)}static newFoundDocument(e,t,i,r){return new gn(e,1,t,xe.min(),i,r,0)}static newNoDocument(e,t){return new gn(e,2,t,xe.min(),xe.min(),Yi.empty(),0)}static newUnknownDocument(e,t){return new gn(e,3,t,xe.min(),xe.min(),Yi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(xe.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof gn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Sl{constructor(e,t){this.position=e,this.inclusive=t}}function lq(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const o=e[r],s=n.position[r];if(i=o.field.isKeyField()?ae.comparator(ae.fromName(s.referenceValue),t.key):Dl(s,t.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function cq(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Fs(n.position[t],e.position[t]))return!1;return!0}class Oh{constructor(e,t="asc"){this.field=e,this.dir=t}}function fMe(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class uq{}class gt extends uq{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new pMe(e,t,i):"array-contains"===t?new _Me(e,i):"in"===t?new gq(e,i):"not-in"===t?new bMe(e,i):"array-contains-any"===t?new yMe(e,i):new gt(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new mMe(e,i):new gMe(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Dl(t,this.value)):null!==t&&Ml(this.value)===Ml(t)&&this.matchesComparison(Dl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return pe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class zt extends uq{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new zt(e,t)}matches(e){return Ph(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Ph(n){return"and"===n.op}function yP(n){return"or"===n.op}function vP(n){return dq(n)&&Ph(n)}function dq(n){for(const e of n.filters)if(e instanceof zt)return!1;return!0}function xP(n){if(n instanceof gt)return n.field.canonicalString()+n.op.toString()+kh(n.value);if(vP(n))return n.filters.map(e=>xP(e)).join(",");{const e=n.filters.map(t=>xP(t)).join(",");return`${n.op}(${e})`}}function hq(n,e){return n instanceof gt?(t=n,(i=e)instanceof gt&&t.op===i.op&&t.field.isEqual(i.field)&&Fs(t.value,i.value)):n instanceof zt?function(t,i){return i instanceof zt&&t.op===i.op&&t.filters.length===i.filters.length&&t.filters.reduce((r,o,s)=>r&&hq(o,i.filters[s]),!0)}(n,e):void pe();var t,i}function fq(n,e){const t=n.filters.concat(e);return zt.create(t,n.op)}function pq(n){return n instanceof gt?`${(e=n).field.canonicalString()} ${e.op} ${kh(e.value)}`:n instanceof zt?function(e){return e.op.toString()+" {"+e.getFilters().map(pq).join(" ,")+"}"}(n):"Filter";var e}class pMe extends gt{constructor(e,t,i){super(e,t,i),this.key=ae.fromName(i.referenceValue)}matches(e){const t=ae.comparator(e.key,this.key);return this.matchesComparison(t)}}class mMe extends gt{constructor(e,t){super(e,"in",t),this.keys=mq(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class gMe extends gt{constructor(e,t){super(e,"not-in",t),this.keys=mq(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function mq(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>ae.fromName(i.referenceValue))}class _Me extends gt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return _g(t)&&gg(t.arrayValue,this.value)}}class gq extends gt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&gg(this.value.arrayValue,t)}}class bMe extends gt{constructor(e,t){super(e,"not-in",t)}matches(e){if(gg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!gg(this.value.arrayValue,t)}}class yMe extends gt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!_g(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>gg(this.value.arrayValue,i))}}class vMe{constructor(e,t=null,i=[],r=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=s,this.endAt=a,this.dt=null}}function wP(n,e=null,t=[],i=[],r=null,o=null,s=null){return new vMe(n,e,t,i,r,o,s)}function Qc(n){const e=ce(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>xP(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),fg(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>kh(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>kh(i)).join(",")),e.dt=t}return e.dt}function yg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!fMe(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!hq(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!cq(n.startAt,e.startAt)&&cq(n.endAt,e.endAt)}function fx(n){return ae.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function px(n,e){return n.filters.filter(t=>t instanceof gt&&t.field.isEqual(e))}function _q(n,e,t){let i=ux,r=!0;for(const o of px(n,e)){let s=ux,a=!0;switch(o.op){case"<":case"<=":s=dMe(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=ux}oq({value:i,inclusive:r},{value:s,inclusive:a})<0&&(i=s,r=a)}if(null!==t)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const s=t.position[o];oq({value:i,inclusive:r},{value:s,inclusive:t.inclusive})<0&&(i=s,r=t.inclusive);break}return{value:i,inclusive:r}}function bq(n,e,t){let i=Il,r=!0;for(const o of px(n,e)){let s=Il,a=!0;switch(o.op){case">=":case">":s=hMe(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=Il}sq({value:i,inclusive:r},{value:s,inclusive:a})>0&&(i=s,r=a)}if(null!==t)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const s=t.position[o];sq({value:i,inclusive:r},{value:s,inclusive:t.inclusive})>0&&(i=s,r=t.inclusive);break}return{value:i,inclusive:r}}class Da{constructor(e,t=null,i=[],r=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.wt=null,this._t=null}}function Rh(n){return new Da(n)}function vq(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function CP(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function mx(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function EP(n){return null!==n.collectionGroup}function Xc(n){const e=ce(n);if(null===e.wt){e.wt=[];const t=mx(e),i=CP(e);if(null!==t&&null===i)t.isKeyField()||e.wt.push(new Oh(t)),e.wt.push(new Oh(ti.keyField(),"asc"));else{let r=!1;for(const o of e.explicitOrderBy)e.wt.push(o),o.field.isKeyField()&&(r=!0);if(!r){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Oh(ti.keyField(),o))}}}return e.wt}function Ir(n){const e=ce(n);if(!e._t)if("F"===e.limitType)e._t=wP(e.path,e.collectionGroup,Xc(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const o of Xc(e))t.push(new Oh(o.field,"desc"===o.dir?"asc":"desc"));const i=e.endAt?new Sl(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Sl(e.startAt.position,e.startAt.inclusive):null;e._t=wP(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e._t}function TP(n,e){e.getFirstInequalityField(),mx(n);const t=n.filters.concat([e]);return new Da(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function gx(n,e,t){return new Da(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function vg(n,e){return yg(Ir(n),Ir(e))&&n.limitType===e.limitType}function xq(n){return`${Qc(Ir(n))}|lt:${n.limitType}`}function IP(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(i=>pq(i)).join(", ")}]`),fg(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>kh(i)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>kh(i)).join(",")),`Target(${t})`}(Ir(n))}; limitType=${n.limitType})`}function xg(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):ae.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of Xc(t))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,o,s){const a=lq(r,o,s);return r.inclusive?a<=0:a<0}(t.startAt,Xc(t),i)||t.endAt&&!function(r,o,s){const a=lq(r,o,s);return r.inclusive?a>=0:a>0}(t.endAt,Xc(t),i)));var t,i}function Cq(n){return(e,t)=>{let i=!1;for(const r of Xc(n)){const o=xMe(r,e,t);if(0!==o)return o;i=i||r.field.isKeyField()}return 0}}function xMe(n,e,t){const i=n.field.isKeyField()?ae.comparator(e.key,t.key):function(r,o,s){const a=o.data.field(r),l=s.data.field(r);return null!==a&&null!==l?Dl(a,l):pe()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return pe()}}class Sa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,o]of i)if(this.equalsFn(r,e))return o}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){El(this.inner,(t,i)=>{for(const[r,o]of i)e(r,o)})}isEmpty(){return ZG(this.inner)}size(){return this.innerSize}}const wMe=new cn(ae.comparator);function Gr(){return wMe}const Eq=new cn(ae.comparator);function wg(...n){let e=Eq;for(const t of n)e=e.insert(t.key,t);return e}function Tq(n){let e=Eq;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Ls(){return Cg()}function Iq(){return Cg()}function Cg(){return new Sa(n=>n.toString(),(n,e)=>n.isEqual(e))}const CMe=new cn(ae.comparator),EMe=new mn(ae.comparator);function Je(...n){let e=EMe;for(const t of n)e=e.add(t);return e}const TMe=new mn(Be);function Mq(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pg(e)?"-0":e}}function Dq(n){return{integerValue:""+n}}function Sq(n,e){return function $G(n){return"number"==typeof n&&Number.isInteger(n)&&!pg(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?Dq(e):Mq(n,e)}class _x{constructor(){this._=void 0}}function IMe(n,e,t){return n instanceof Nh?function(i,r){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&lx(r)&&(r=cx(r)),r&&(o.fields.__previous_value__=r),{mapValue:o}}(t,e):n instanceof Zc?kq(n,e):n instanceof Jc?Oq(n,e):function(i,r){const o=Aq(i,r),s=Pq(o)+Pq(i.gt);return bP(o)&&bP(i.gt)?Dq(s):Mq(i.serializer,s)}(n,e)}function MMe(n,e,t){return n instanceof Zc?kq(n,e):n instanceof Jc?Oq(n,e):t}function Aq(n,e){return n instanceof Fh?bP(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class Nh extends _x{}class Zc extends _x{constructor(e){super(),this.elements=e}}function kq(n,e){const t=Rq(e);for(const i of n.elements)t.some(r=>Fs(r,i))||t.push(i);return{arrayValue:{values:t}}}class Jc extends _x{constructor(e){super(),this.elements=e}}function Oq(n,e){let t=Rq(e);for(const i of n.elements)t=t.filter(r=>!Fs(r,i));return{arrayValue:{values:t}}}class Fh extends _x{constructor(e,t){super(),this.serializer=e,this.gt=t}}function Pq(n){return Hn(n.integerValue||n.doubleValue)}function Rq(n){return _g(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Eg{constructor(e,t){this.field=e,this.transform=t}}class SMe{constructor(e,t){this.version=e,this.transformResults=t}}class wn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new wn}static exists(e){return new wn(void 0,e)}static updateTime(e){return new wn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function bx(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class yx{}function Nq(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Vh(n.key,wn.none()):new Lh(n.key,n.data,wn.none());{const t=n.data,i=Yi.empty();let r=new mn(ti.comparator);for(let o of e.fields)if(!r.has(o)){let s=t.field(o);null===s&&o.length>1&&(o=o.popLast(),s=t.field(o)),null===s?i.delete(o):i.set(o,s),r=r.add(o)}return new Aa(n.key,i,new $r(r.toArray()),wn.none())}}function AMe(n,e,t){n instanceof Lh?function(i,r,o){const s=i.value.clone(),a=Vq(i.fieldTransforms,r,o.transformResults);s.setAll(a),r.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(n,e,t):n instanceof Aa?function(i,r,o){if(!bx(i.precondition,r))return void r.convertToUnknownDocument(o.version);const s=Vq(i.fieldTransforms,r,o.transformResults),a=r.data;a.setAll(Lq(i)),a.setAll(s),r.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Tg(n,e,t,i){return n instanceof Lh?function(r,o,s,a){if(!bx(r.precondition,o))return s;const l=r.value.clone(),c=Bq(r.fieldTransforms,a,o);return l.setAll(c),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(n,e,t,i):n instanceof Aa?function(r,o,s,a){if(!bx(r.precondition,o))return s;const l=Bq(r.fieldTransforms,a,o),c=o.data;return c.setAll(Lq(r)),c.setAll(l),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null===s?null:s.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(u=>u.field))}(n,e,t,i):(s=t,bx(n.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s);var o,s}function kMe(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),o=Aq(i.transform,r||null);null!=o&&(null===t&&(t=Yi.empty()),t.set(i.field,o))}return t||null}function Fq(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&Sh(t,i,(r,o)=>function DMe(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof Zc&&i instanceof Zc||t instanceof Jc&&i instanceof Jc?Sh(t.elements,i.elements,Fs):t instanceof Fh&&i instanceof Fh?Fs(t.gt,i.gt):t instanceof Nh&&i instanceof Nh);var t,i}(r,o))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class Lh extends yx{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Aa extends yx{constructor(e,t,i,r,o=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function Lq(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function Vq(n,e,t){const i=new Map;ye(n.length===t.length);for(let r=0;r<t.length;r++){const o=n[r],s=o.transform,a=e.data.field(o.field);i.set(o.field,MMe(s,a,t[r]))}return i}function Bq(n,e,t){const i=new Map;for(const r of n){const o=r.transform,s=t.data.field(r.field);i.set(r.field,IMe(o,s,e))}return i}class Vh extends yx{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class DP extends yx{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class SP{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(e.key)&&AMe(o,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Tg(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Tg(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=Iq();return this.mutations.forEach(r=>{const o=e.get(r.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=t.has(r.key)?null:a;const l=Nq(s,a);null!==l&&i.set(r.key,l),s.isValidDocument()||s.convertToNoDocument(xe.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Je())}isEqual(e){return this.batchId===e.batchId&&Sh(this.mutations,e.mutations,(t,i)=>Fq(t,i))&&Sh(this.baseMutations,e.baseMutations,(t,i)=>Fq(t,i))}}class AP{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){ye(e.mutations.length===i.length);let r=CMe;const o=e.mutations;for(let s=0;s<o.length;s++)r=r.insert(o[s].key,i[s].version);return new AP(e,t,i,r)}}class kP{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class PMe{constructor(e,t){this.count=e,this.unchangedNames=t}}var ci,Ct;function zq(n){if(void 0===n)return ei("GRPC error has no .code"),z.UNKNOWN;switch(n){case ci.OK:return z.OK;case ci.CANCELLED:return z.CANCELLED;case ci.UNKNOWN:return z.UNKNOWN;case ci.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case ci.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case ci.INTERNAL:return z.INTERNAL;case ci.UNAVAILABLE:return z.UNAVAILABLE;case ci.UNAUTHENTICATED:return z.UNAUTHENTICATED;case ci.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case ci.NOT_FOUND:return z.NOT_FOUND;case ci.ALREADY_EXISTS:return z.ALREADY_EXISTS;case ci.PERMISSION_DENIED:return z.PERMISSION_DENIED;case ci.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case ci.ABORTED:return z.ABORTED;case ci.OUT_OF_RANGE:return z.OUT_OF_RANGE;case ci.UNIMPLEMENTED:return z.UNIMPLEMENTED;case ci.DATA_LOSS:return z.DATA_LOSS;default:return pe()}}(Ct=ci||(ci={}))[Ct.OK=0]="OK",Ct[Ct.CANCELLED=1]="CANCELLED",Ct[Ct.UNKNOWN=2]="UNKNOWN",Ct[Ct.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ct[Ct.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ct[Ct.NOT_FOUND=5]="NOT_FOUND",Ct[Ct.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ct[Ct.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ct[Ct.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ct[Ct.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ct[Ct.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ct[Ct.ABORTED=10]="ABORTED",Ct[Ct.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ct[Ct.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ct[Ct.INTERNAL=13]="INTERNAL",Ct[Ct.UNAVAILABLE=14]="UNAVAILABLE",Ct[Ct.DATA_LOSS=15]="DATA_LOSS";class OP{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return vx}static getOrCreateInstance(){return null===vx&&(vx=new OP),vx}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let vx=null;const RMe=new Mh([4294967295,4294967295],0);function Hq(n){const e=function jq(){return new TextEncoder}().encode(n),t=new AIe;return t.update(e),new Uint8Array(t.digest())}function $q(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Mh([t,i],0),new Mh([r,o],0)]}class PP{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Ig(`Invalid padding: ${t}`);if(i<0)throw new Ig(`Invalid hash count: ${i}`);if(e.length>0&&0===this.hashCount)throw new Ig(`Invalid hash count: ${i}`);if(0===e.length&&0!==t)throw new Ig(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Mh.fromNumber(this.It)}Et(e,t,i){let r=e.add(t.multiply(Mh.fromNumber(i)));return 1===r.compare(RMe)&&(r=new Mh([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=Hq(e),[i,r]=$q(t);for(let o=0;o<this.hashCount;o++){const s=this.Et(i,r,o);if(!this.At(s))return!1}return!0}static create(e,t,i){const r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new PP(o,r,t);return i.forEach(a=>s.insert(a)),s}insert(e){if(0===this.It)return;const t=Hq(e),[i,r]=$q(t);for(let o=0;o<this.hashCount;o++){const s=this.Et(i,r,o);this.Rt(s)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Ig extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Mg{constructor(e,t,i,r,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,Dg.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Mg(xe.min(),r,new cn(Be),Gr(),Je())}}class Dg{constructor(e,t,i,r,o){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Dg(i,t,Je(),Je(),Je())}}class xx{constructor(e,t,i,r){this.Pt=e,this.removedTargetIds=t,this.key=i,this.bt=r}}class Gq{constructor(e,t){this.targetId=e,this.Vt=t}}class qq{constructor(e,t,i=Ei.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class Wq{constructor(){this.St=0,this.Dt=Yq(),this.Ct=Ei.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Je(),t=Je(),i=Je();return this.Dt.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:pe()}}),new Dg(this.Ct,this.xt,e,t,i)}Ft(){this.Nt=!1,this.Dt=Yq()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class NMe{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Gr(),this.zt=Kq(),this.Wt=new cn(Be)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const i=this.Zt(t);switch(e.state){case 0:this.te(t)&&i.$t(e.resumeToken);break;case 1:i.Ut(),i.kt||i.Ft(),i.$t(e.resumeToken);break;case 2:i.Ut(),i.kt||this.removeTarget(t);break;case 3:this.te(t)&&(i.Kt(),i.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),i.$t(e.resumeToken));break;default:pe()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((i,r)=>{this.te(r)&&t(r)})}ne(e){var t;const i=e.targetId,r=e.Vt.count,o=this.se(i);if(o){const s=o.target;if(fx(s))if(0===r){const a=new ae(s.path);this.Yt(i,a,gn.newNoDocument(a,xe.min()))}else ye(1===r);else{const a=this.ie(i);if(a!==r){const l=this.re(e,a);0!==l&&(this.ee(i),this.Wt=this.Wt.insert(i,2===l?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=OP.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(c,u,d){var h,m,y,C,T,S;const D={localCacheCount:u,existenceFilterCount:d.count},F=d.unchangedNames;return F&&(D.bloomFilter={applied:0===c,hashCount:null!==(h=F?.hashCount)&&void 0!==h?h:0,bitmapLength:null!==(C=null===(y=null===(m=F?.bits)||void 0===m?void 0:m.bitmap)||void 0===y?void 0:y.length)&&void 0!==C?C:0,padding:null!==(S=null===(T=F?.bits)||void 0===T?void 0:T.padding)&&void 0!==S?S:0}),D}(l,a,e.Vt))}}}}re(e,t){const{unchangedNames:i,count:r}=e.Vt;if(!i||!i.bits)return 1;const{bits:{bitmap:o="",padding:s=0},hashCount:a=0}=i;let l,c;try{l=Ma(o).toUint8Array()}catch(u){if(u instanceof eq)return qo("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw u}try{c=new PP(l,s,a)}catch(u){return qo(u instanceof Ig?"BloomFilter error: ":"Applying bloom filter failed: ",u),1}return 0===c.It?1:r!==t-this.oe(e.targetId,c)?2:0}oe(e,t){const i=this.Gt.getRemoteKeysForTarget(e);let r=0;return i.forEach(o=>{const s=this.Gt.ue(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;t.vt(a)||(this.Yt(e,o,null),r++)}),r}ce(e){const t=new Map;this.Qt.forEach((o,s)=>{const a=this.se(s);if(a){if(o.current&&fx(a.target)){const l=new ae(a.target.path);null!==this.jt.get(l)||this.ae(s,l)||this.Yt(s,l,gn.newNoDocument(l,e))}o.Mt&&(t.set(s,o.Ot()),o.Ft())}});let i=Je();this.zt.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const c=this.se(l);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(i=i.add(o))}),this.jt.forEach((o,s)=>s.setReadTime(e));const r=new Mg(e,t,this.Wt,this.jt,i);return this.jt=Gr(),this.zt=Kq(),this.Wt=new cn(Be),r}Jt(e,t){if(!this.te(e))return;const i=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,i),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,i){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),i&&(this.jt=this.jt.insert(t,i))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new Wq,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new mn(Be),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||te("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Wq),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function Kq(){return new cn(ae.comparator)}function Yq(){return new cn(ae.comparator)}const FMe={asc:"ASCENDING",desc:"DESCENDING"},LMe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},VMe={and:"AND",or:"OR"};class BMe{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function RP(n,e){return n.useProto3Json||fg(e)?e:{value:e}}function Bh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Qq(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function UMe(n,e){return Bh(n,e.toTimestamp())}function ni(n){return ye(!!n),xe.fromTimestamp(function(e){const t=Tl(e);return new On(t.seconds,t.nanos)}(n))}function NP(n,e){return(t=n,new wt(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Xq(n){const e=wt.fromString(n);return ye(sW(e)),e}function Sg(n,e){return NP(n.databaseId,e.path)}function Vs(n,e){const t=Xq(e);if(t.get(1)!==n.databaseId.projectId)throw new J(z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new J(z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ae(Jq(t))}function FP(n,e){return NP(n.databaseId,e)}function Zq(n){const e=Xq(n);return 4===e.length?wt.emptyPath():Jq(e)}function Ag(n){return new wt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Jq(n){return ye(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function eW(n,e,t){return{name:Sg(n,e),fields:t.value.mapValue.fields}}function kg(n,e){let t;if(e instanceof Lh)t={update:eW(n,e.key,e.value)};else if(e instanceof Vh)t={delete:Sg(n,e.key)};else if(e instanceof Aa)t={update:eW(n,e.key,e.data),updateMask:KMe(e.fieldMask)};else{if(!(e instanceof DP))return pe();t={verify:Sg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,o){const s=o.transform;if(s instanceof Nh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof Zc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof Jc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof Fh)return{fieldPath:o.field.canonicalString(),increment:s.gt};throw pe()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:UMe(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:pe()),t;var r}function LP(n,e){const t=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?wn.updateTime(ni(r.updateTime)):void 0!==r.exists?wn.exists(r.exists):wn.none():wn.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(o,s){let a=null;"setToServerValue"in s?(ye("REQUEST_TIME"===s.setToServerValue),a=new Nh):"appendMissingElements"in s?a=new Zc(s.appendMissingElements.values||[]):"removeAllFromArray"in s?a=new Jc(s.removeAllFromArray.values||[]):"increment"in s?a=new Fh(o,s.increment):pe();const l=ti.fromServerFormat(s.fieldPath);return new Eg(l,a)}(n,r)):[];var r;if(e.update){const r=Vs(n,e.update.name),o=new Yi({mapValue:{fields:e.update.fields}});if(e.updateMask){const s=new $r((e.updateMask.fieldPaths||[]).map(c=>ti.fromServerFormat(c)));return new Aa(r,o,s,t,i)}return new Lh(r,o,t,i)}if(e.delete){const r=Vs(n,e.delete);return new Vh(r,t)}if(e.verify){const r=Vs(n,e.verify);return new DP(r,t)}return pe()}function nW(n,e){return{documents:[FP(n,e.path)]}}function VP(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=FP(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=FP(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(l){if(0!==l.length)return oW(zt.create(l,"and"))}(e.filters);r&&(t.structuredQuery.where=r);const o=function(l){if(0!==l.length)return l.map(c=>{return{field:Al((u=c).field),direction:GMe(u.dir)};var u})}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const s=RP(n,e.limit);var a,l;return null!==s&&(t.structuredQuery.limit=s),e.startAt&&(t.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(t.structuredQuery.endAt={before:!(l=e.endAt).inclusive,values:l.position}),t}function iW(n){let e=Zq(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){ye(1===i);const u=t.from[0];u.allDescendants?r=u.collectionId:e=e.child(u.collectionId)}let o=[];t.where&&(o=function(u){const d=rW(u);return d instanceof zt&&vP(d)?d.getFilters():[d]}(t.where));let s=[];t.orderBy&&(s=t.orderBy.map(u=>{return new Oh(Uh((d=u).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;t.limit&&(a=function(u){let d;return d="object"==typeof u?u.value:u,fg(d)?null:d}(t.limit));let l=null;var u;t.startAt&&(l=new Sl((u=t.startAt).values||[],!!u.before));let c=null;return t.endAt&&(c=function(u){return new Sl(u.values||[],!u.before)}(t.endAt)),function yq(n,e,t,i,r,o,s,a){return new Da(n,e,t,i,r,o,s,a)}(e,r,s,o,a,"F",l,c)}function rW(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Uh(e.unaryFilter.field);return gt.create(t,"==",{doubleValue:NaN});case"IS_NULL":const i=Uh(e.unaryFilter.field);return gt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Uh(e.unaryFilter.field);return gt.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Uh(e.unaryFilter.field);return gt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return pe()}}(n):void 0!==n.fieldFilter?gt.create(Uh((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return pe()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return zt.create(e.compositeFilter.filters.map(t=>rW(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return pe()}}(e.compositeFilter.op))}(n):pe();var e}function GMe(n){return FMe[n]}function qMe(n){return LMe[n]}function WMe(n){return VMe[n]}function Al(n){return{fieldPath:n.canonicalString()}}function Uh(n){return ti.fromServerFormat(n.fieldPath)}function oW(n){return n instanceof gt?function(e){if("=="===e.op){if(iq(e.value))return{unaryFilter:{field:Al(e.field),op:"IS_NAN"}};if(nq(e.value))return{unaryFilter:{field:Al(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(iq(e.value))return{unaryFilter:{field:Al(e.field),op:"IS_NOT_NAN"}};if(nq(e.value))return{unaryFilter:{field:Al(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Al(e.field),op:qMe(e.op),value:e.value}}}(n):n instanceof zt?function(e){const t=e.getFilters().map(i=>oW(i));return 1===t.length?t[0]:{compositeFilter:{op:WMe(e.op),filters:t}}}(n):pe()}function KMe(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function sW(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class ka{constructor(e,t,i,r,o=xe.min(),s=xe.min(),a=Ei.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new ka(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ka(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ka(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ka(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class aW{constructor(e){this.fe=e}}function lW(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:wx(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:Sg(r=n.fe,(o=e).key),fields:o.data.value.mapValue.fields,updateTime:Bh(r,o.version.toTimestamp()),createTime:Bh(r,o.createTime.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:eu(e.version)};else{if(!e.isUnknownDocument())return pe();i.unknownDocument={path:t.path.toArray(),version:eu(e.version)}}var r,o;return i}function wx(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function eu(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function tu(n){const e=new On(n.seconds,n.nanoseconds);return xe.fromTimestamp(e)}function nu(n,e){const t=(e.baseMutations||[]).map(o=>LP(n.fe,o));for(let o=0;o<e.mutations.length-1;++o)o+1<e.mutations.length&&void 0!==e.mutations[o+1].transform&&(e.mutations[o].updateTransforms=e.mutations[o+1].transform.fieldTransforms,e.mutations.splice(o+1,1),++o);const i=e.mutations.map(o=>LP(n.fe,o)),r=On.fromMillis(e.localWriteTimeMs);return new SP(e.batchId,r,t,i)}function Og(n){const e=tu(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?tu(n.lastLimboFreeSnapshotVersion):xe.min();let i;var r;return void 0!==n.query.documents?(ye(1===(r=n.query).documents.length),i=Ir(Rh(Zq(r.documents[0])))):i=Ir(iW(n.query)),new ka(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Ei.fromBase64String(n.resumeToken))}function cW(n,e){const t=eu(e.snapshotVersion),i=eu(e.lastLimboFreeSnapshotVersion);let r;r=fx(e.target)?nW(n.fe,e.target):VP(n.fe,e.target);const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Qc(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function BP(n){const e=iW({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?gx(e,e.limit,"L"):e}function UP(n,e){return new kP(e.largestBatchId,LP(n.fe,e.overlayMutation))}function uW(n,e){const t=e.path.lastSegment();return[n,ur(e.path.popLast()),t]}function dW(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:eu(i.readTime),documentKey:ur(i.documentKey.path),largestBatchId:i.largestBatchId}}class QMe{getBundleMetadata(e,t){return hW(e).get(t).next(i=>{if(i)return{id:(r=i).bundleId,createTime:tu(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return hW(e).put({bundleId:(i=t).id,createTime:eu(ni(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return fW(e).get(t).next(i=>{if(i)return{name:(r=i).name,query:BP(r.bundledQuery),readTime:tu(r.readTime)};var r})}saveNamedQuery(e,t){return fW(e).put({name:(i=t).name,readTime:eu(ni(i.readTime)),bundledQuery:i.bundledQuery});var i}}function hW(n){return Pi(n,"bundles")}function fW(n){return Pi(n,"namedQueries")}class Cx{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new Cx(e,t.uid||"")}getOverlay(e,t){return Pg(e).get(uW(this.userId,t)).next(i=>i?UP(this.serializer,i):null)}getOverlays(e,t){const i=Ls();return V.forEach(t,r=>this.getOverlay(e,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(e,t,i){const r=[];return i.forEach((o,s)=>{const a=new kP(t,s);r.push(this.we(e,a))}),V.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(s=>r.add(ur(s.getCollectionPath())));const o=[];return r.forEach(s=>{const a=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,i+1],!1,!0);o.push(Pg(e).J("collectionPathOverlayIndex",a))}),V.waitFor(o)}getOverlaysForCollection(e,t,i){const r=Ls(),o=ur(t),s=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Pg(e).j("collectionPathOverlayIndex",s).next(a=>{for(const l of a){const c=UP(this.serializer,l);r.set(c.getKey(),c)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const o=Ls();let s;const a=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Pg(e).X({index:"collectionGroupOverlayIndex",range:a},(l,c,u)=>{const d=UP(this.serializer,c);o.size()<r||d.largestBatchId===s?(o.set(d.getKey(),d),s=d.largestBatchId):u.done()}).next(()=>o)}we(e,t){return Pg(e).put(function(i,r,o){const[s,a,l]=uW(r,o.mutation.key);return{userId:r,collectionPath:a,documentId:l,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:kg(i.fe,o.mutation)}}(this.serializer,this.userId,t))}}function Pg(n){return Pi(n,"documentOverlays")}class iu{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Hn(e.integerValue));else if("doubleValue"in e){const i=Hn(e.doubleValue);isNaN(i)?this.ye(t,13):(this.ye(t,15),pg(i)?t.pe(0):t.pe(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ye(t,20),"string"==typeof i?t.Ie(i):(t.Ie(`${i.seconds||""}`),t.pe(i.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Ma(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.ye(t,45),t.pe(i.latitude||0),t.pe(i.longitude||0)}else"mapValue"in e?rq(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):pe()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const i=e.fields||{};this.ye(t,55);for(const r of Object.keys(i))this.Te(r,t),this.me(i[r],t)}Pe(e,t){const i=e.values||[];this.ye(t,50);for(const r of i)this.me(r,t)}ve(e,t){this.ye(t,37),ae.fromName(e).path.forEach(i=>{this.ye(t,60),this.be(i,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function XMe(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function pW(n){const e=64-function(t){let i=0;for(let r=0;r<8;++r){const o=XMe(255&t[r]);if(i+=o,8!==o)break}return i}(n);return Math.ceil(e/8)}iu.Ve=new iu;class ZMe{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.De(i.value),i=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ne(i.value),i=t.next();this.ke()}Me(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.De(i);else if(i<2048)this.De(960|i>>>6),this.De(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.De(480|i>>>12),this.De(128|63&i>>>6),this.De(128|63&i);else{const r=t.codePointAt(0);this.De(240|r>>>18),this.De(128|63&r>>>12),this.De(128|63&r>>>6),this.De(128|63&r)}}this.Ce()}$e(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ne(i);else if(i<2048)this.Ne(960|i>>>6),this.Ne(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i);else{const r=t.codePointAt(0);this.Ne(240|r>>>18),this.Ne(128|63&r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r)}}this.ke()}Oe(e){const t=this.Fe(e),i=pW(t);this.Be(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Le(e){const t=this.Fe(e),i=pW(t);this.Be(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(r){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,r,!1),new Uint8Array(o.buffer)}(e),i=!!(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class JMe{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class eDe{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class Rg{constructor(){this.je=new ZMe,this.ze=new JMe(this.je),this.We=new eDe(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class ru{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new ru(this.indexId,this.documentKey,this.arrayValue,i)}}function kl(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=mW(n.arrayValue,e.arrayValue),0!==t?t:(t=mW(n.directionalValue,e.directionalValue),0!==t?t:ae.comparator(n.documentKey,e.documentKey)))}function mW(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class tDe{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const i=t;i.isInequality()?this.Ze=i:this.Xe.push(i)}}tn(e){ye(e.collectionGroup===this.collectionId);const t=hP(e);if(void 0!==t&&!this.en(t))return!1;const i=qc(e);let r=new Set,o=0,s=0;for(;o<i.length&&this.en(i[o]);++o)r=r.add(i[o].fieldPath.canonicalString());if(o===i.length)return!0;if(void 0!==this.Ze){if(!r.has(this.Ze.field.canonicalString())){const a=i[o];if(!this.nn(this.Ze,a)||!this.sn(this.Ye[s++],a))return!1}++o}for(;o<i.length;++o)if(s>=this.Ye.length||!this.sn(this.Ye[s++],i[o]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function gW(n){var e,t;if(ye(n instanceof gt||n instanceof zt),n instanceof gt){if(n instanceof gq){const r=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(o=>gt.create(n.field,"==",o)))||[];return zt.create(r,"or")}return n}const i=n.filters.map(r=>gW(r));return zt.create(i,n.op)}function nDe(n){if(0===n.getFilters().length)return[];const e=HP(gW(n));return ye(_W(e)),zP(e)||jP(e)?[e]:e.getFilters()}function zP(n){return n instanceof gt}function jP(n){return n instanceof zt&&vP(n)}function _W(n){return zP(n)||jP(n)||function(e){if(e instanceof zt&&yP(e)){for(const t of e.getFilters())if(!zP(t)&&!jP(t))return!1;return!0}return!1}(n)}function HP(n){if(ye(n instanceof gt||n instanceof zt),n instanceof gt)return n;if(1===n.filters.length)return HP(n.filters[0]);const e=n.filters.map(i=>HP(i));let t=zt.create(e,n.op);return t=Ex(t),_W(t)?t:(ye(t instanceof zt),ye(Ph(t)),ye(t.filters.length>1),t.filters.reduce((i,r)=>$P(i,r)))}function $P(n,e){let t;return ye(n instanceof gt||n instanceof zt),ye(e instanceof gt||e instanceof zt),t=n instanceof gt?e instanceof gt?zt.create([n,e],"and"):bW(n,e):e instanceof gt?bW(e,n):function(i,r){if(ye(i.filters.length>0&&r.filters.length>0),Ph(i)&&Ph(r))return fq(i,r.getFilters());const o=yP(i)?i:r,s=yP(i)?r:i,a=o.filters.map(l=>$P(l,s));return zt.create(a,"or")}(n,e),Ex(t)}function bW(n,e){if(Ph(e))return fq(e,n.getFilters());{const t=e.filters.map(i=>$P(n,i));return zt.create(t,"or")}}function Ex(n){if(ye(n instanceof gt||n instanceof zt),n instanceof gt)return n;const e=n.getFilters();if(1===e.length)return Ex(e[0]);if(dq(n))return n;const t=e.map(r=>Ex(r)),i=[];return t.forEach(r=>{r instanceof gt?i.push(r):r instanceof zt&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:zt.create(i,n.op)}class iDe{constructor(){this.rn=new GP}addToCollectionParentIndex(e,t){return this.rn.add(t),V.resolve()}getCollectionParents(e,t){return V.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return V.resolve()}deleteFieldIndex(e,t){return V.resolve()}getDocumentsMatchingTarget(e,t){return V.resolve(null)}getIndexType(e,t){return V.resolve(0)}getFieldIndexes(e,t){return V.resolve([])}getNextCollectionGroupToUpdate(e){return V.resolve(null)}getMinOffset(e,t){return V.resolve(oo.min())}getMinOffsetFromCollectionGroup(e,t){return V.resolve(oo.min())}updateCollectionGroup(e,t,i){return V.resolve()}updateIndexEntries(e,t){return V.resolve()}}class GP{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new mn(wt.comparator),o=!r.has(i);return this.index[t]=r.add(i),o}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new mn(wt.comparator)).toArray()}}const Tx=new Uint8Array(0);class rDe{constructor(e,t){this.user=e,this.databaseId=t,this.on=new GP,this.un=new Sa(i=>Qc(i),(i,r)=>yg(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const o={collectionId:i,parent:ur(r)};return yW(e).put(o)}return V.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[VG(t),""],!1,!0);return yW(e).j(r).next(o=>{for(const s of o){if(s.collectionId!==t)break;i.push(Ns(s.parent))}return i})}addFieldIndex(e,t){const i=Ix(e),r={indexId:(s=t).indexId,collectionGroup:s.collectionGroup,fields:s.fields.map(a=>[a.fieldPath.canonicalString(),a.kind])};var s;delete r.indexId;const o=i.add(r);if(t.indexState){const s=Fg(e);return o.next(a=>{s.put(dW(a,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return o.next()}deleteFieldIndex(e,t){const i=Ix(e),r=Fg(e),o=Ng(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=Ng(e);let r=!0;const o=new Map;return V.forEach(this.cn(t),s=>this.an(e,s).next(a=>{r&&(r=!!a),o.set(s,a)})).next(()=>{if(r){let s=Je();const a=[];return V.forEach(o,(l,c)=>{var u;te("IndexedDbIndexManager",`Using index ${u=l,`id=${u.indexId}|cg=${u.collectionGroup}|f=${u.fields.map(F=>`${F.fieldPath}:${F.kind}`).join(",")}`} to execute ${Qc(t)}`);const d=function(F,Y){const re=hP(Y);if(void 0===re)return null;for(const ue of px(F,re.fieldPath))switch(ue.op){case"array-contains-any":return ue.value.arrayValue.values||[];case"array-contains":return[ue.value]}return null}(c,l),h=function(F,Y){const re=new Map;for(const ue of qc(Y))for(const Oe of px(F,ue.fieldPath))switch(Oe.op){case"==":case"in":re.set(ue.fieldPath.canonicalString(),Oe.value);break;case"not-in":case"!=":return re.set(ue.fieldPath.canonicalString(),Oe.value),Array.from(re.values())}return null}(c,l),m=function(F,Y){const re=[];let ue=!0;for(const Oe of qc(Y)){const et=0===Oe.kind?_q(F,Oe.fieldPath,F.startAt):bq(F,Oe.fieldPath,F.startAt);re.push(et.value),ue&&(ue=et.inclusive)}return new Sl(re,ue)}(c,l),y=function(F,Y){const re=[];let ue=!0;for(const Oe of qc(Y)){const et=0===Oe.kind?bq(F,Oe.fieldPath,F.endAt):_q(F,Oe.fieldPath,F.endAt);re.push(et.value),ue&&(ue=et.inclusive)}return new Sl(re,ue)}(c,l),C=this.hn(l,c,m),T=this.hn(l,c,y),S=this.ln(l,c,h),D=this.fn(l.indexId,d,C,m.inclusive,T,y.inclusive,S);return V.forEach(D,F=>i.H(F,t.limit).next(Y=>{Y.forEach(re=>{const ue=ae.fromSegments(re.documentKey);s.has(ue)||(s=s.add(ue),a.push(ue))})}))}).next(()=>a)}return V.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:nDe(zt.create(e.filters,"and")).map(i=>wP(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,i,r,o,s,a){const l=(null!=t?t.length:1)*Math.max(i.length,o.length),c=l/(null!=t?t.length:1),u=[];for(let d=0;d<l;++d){const h=t?this.dn(t[d/c]):Tx,m=this.wn(e,h,i[d%c],r),y=this._n(e,h,o[d%c],s),C=a.map(T=>this.wn(e,h,T,!0));u.push(...this.createRange(m,y,C))}return u}wn(e,t,i,r){const o=new ru(e,ae.empty(),t,i);return r?o:o.Je()}_n(e,t,i,r){const o=new ru(e,ae.empty(),t,i);return r?o.Je():o}an(e,t){const i=new tDe(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(o=>{let s=null;for(const a of o)i.tn(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(e,t){let i=2;const r=this.cn(t);return V.forEach(r,o=>this.an(e,o).next(s=>{s?0!==i&&s.fields.length<function(a){let l=new mn(ti.comparator),c=!1;for(const u of a.filters)for(const d of u.getFlattenedFilters())d.field.isKeyField()||("array-contains"===d.op||"array-contains-any"===d.op?c=!0:l=l.add(d.field));for(const u of a.orderBy)u.field.isKeyField()||(l=l.add(u.field));return l.size+(c?1:0)}(o)&&(i=1):i=0})).next(()=>null!==t.limit&&r.length>1&&2===i?1:i)}mn(e,t){const i=new Rg;for(const r of qc(e)){const o=t.data.field(r.fieldPath);if(null==o)return null;const s=i.He(r.kind);iu.Ve._e(o,s)}return i.Qe()}dn(e){const t=new Rg;return iu.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const i=new Rg;return iu.Ve._e(Yc(this.databaseId,t),i.He(function(r){const o=qc(r);return 0===o.length?0:o[o.length-1].kind}(e))),i.Qe()}ln(e,t,i){if(null===i)return[];let r=[];r.push(new Rg);let o=0;for(const s of qc(e)){const a=i[o++];for(const l of r)if(this.yn(t,s.fieldPath)&&_g(a))r=this.pn(r,s,a);else{const c=l.He(s.kind);iu.Ve._e(a,c)}}return this.In(r)}hn(e,t,i){return this.ln(e,t,i.position)}In(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].Qe();return t}pn(e,t,i){const r=[...e],o=[];for(const s of i.arrayValue.values||[])for(const a of r){const l=new Rg;l.seed(a.Qe()),iu.Ve._e(s,l.He(t.kind)),o.push(l)}return o}yn(e,t){return!!e.filters.find(i=>i instanceof gt&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=Ix(e),r=Fg(e);return(t?i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.j()).next(o=>{const s=[];return V.forEach(o,a=>r.get([a.indexId,this.uid]).next(l=>{s.push(function(c,u){const d=u?new dg(u.sequenceNumber,new oo(tu(u.readTime),new ae(Ns(u.documentKey)),u.largestBatchId)):dg.empty(),h=c.fields.map(([m,y])=>new rx(ti.fromServerFormat(m),y));return new ix(c.indexId,c.collectionGroup,h,d)}(a,l))})).next(()=>s)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const o=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==o?o:Be(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=Ix(e),o=Fg(e);return this.Tn(e).next(s=>r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(a=>V.forEach(a,l=>o.put(dW(l.indexId,this.user,s,i)))))}updateIndexEntries(e,t){const i=new Map;return V.forEach(t,(r,o)=>{const s=i.get(r.collectionGroup);return(s?V.resolve(s):this.getFieldIndexes(e,r.collectionGroup)).next(a=>(i.set(r.collectionGroup,a),V.forEach(a,l=>this.En(e,r,l).next(c=>{const u=this.An(o,l);return c.isEqual(u)?V.resolve():this.vn(e,o,l,c,u)}))))})}Rn(e,t,i,r){return Ng(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.gn(i,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,i,r){return Ng(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.gn(i,t.key),t.key.path.toArray()])}En(e,t,i){const r=Ng(e);let o=new mn(kl);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.gn(i,t)])},(s,a)=>{o=o.add(new ru(i.indexId,t,a.arrayValue,a.directionalValue))}).next(()=>o)}An(e,t){let i=new mn(kl);const r=this.mn(t,e);if(null==r)return i;const o=hP(t);if(null!=o){const s=e.data.field(o.fieldPath);if(_g(s))for(const a of s.arrayValue.values||[])i=i.add(new ru(t.indexId,e.key,this.dn(a),r))}else i=i.add(new ru(t.indexId,e.key,Tx,r));return i}vn(e,t,i,r,o){te("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const s=[];return function(a,l,c,u,d){const h=a.getIterator(),m=l.getIterator();let y=Ah(h),C=Ah(m);for(;y||C;){let T=!1,S=!1;if(y&&C){const D=c(y,C);D<0?S=!0:D>0&&(T=!0)}else null!=y?S=!0:T=!0;T?(u(C),C=Ah(m)):S?(d(y),y=Ah(h)):(y=Ah(h),C=Ah(m))}}(r,o,kl,a=>{s.push(this.Rn(e,t,i,a))},a=>{s.push(this.Pn(e,t,i,a))}),V.waitFor(s)}Tn(e){let t=1;return Fg(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,o)=>{o.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((s,a)=>kl(s,a)).filter((s,a,l)=>!a||0!==kl(s,l[a-1]));const r=[];r.push(e);for(const s of i){const a=kl(s,e),l=kl(s,t);if(0===a)r[0]=e.Je();else if(a>0&&l<0)r.push(s),r.push(s.Je());else if(l>0)break}r.push(t);const o=[];for(let s=0;s<r.length;s+=2){if(this.bn(r[s],r[s+1]))return[];o.push(IDBKeyRange.bound([r[s].indexId,this.uid,r[s].arrayValue,r[s].directionalValue,Tx,[]],[r[s+1].indexId,this.uid,r[s+1].arrayValue,r[s+1].directionalValue,Tx,[]]))}return o}bn(e,t){return kl(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(vW)}getMinOffset(e,t){return V.mapArray(this.cn(t),i=>this.an(e,i).next(r=>r||pe())).next(vW)}}function yW(n){return Pi(n,"collectionParents")}function Ng(n){return Pi(n,"indexEntries")}function Ix(n){return Pi(n,"indexConfiguration")}function Fg(n){return Pi(n,"indexState")}function vW(n){ye(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;fP(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new oo(e.readTime,e.documentKey,t)}const xW={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class dr{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new dr(e,dr.DEFAULT_COLLECTION_PERCENTILE,dr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function wW(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),o=[],s=IDBKeyRange.only(t.batchId);let a=0;const l=i.X({range:s},(u,d,h)=>(a++,h.delete()));o.push(l.next(()=>{ye(1===a)}));const c=[];for(const u of t.mutations){const d=WG(e,u.key.path,t.batchId);o.push(r.delete(d)),c.push(u.key)}return V.waitFor(o).next(()=>c)}function Mx(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw pe();e=n.noDocument}return JSON.stringify(e).length}dr.DEFAULT_COLLECTION_PERCENTILE=10,dr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dr.DEFAULT=new dr(41943040,dr.DEFAULT_COLLECTION_PERCENTILE,dr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dr.DISABLED=new dr(-1,0,0);class Dx{constructor(e,t,i,r){this.userId=e,this.serializer=t,this.indexManager=i,this.referenceDelegate=r,this.Vn={}}static de(e,t,i,r){ye(""!==e.uid);const o=e.isAuthenticated()?e.uid:"";return new Dx(o,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ol(e).X({index:"userMutationsIndex",range:i},(r,o,s)=>{t=!1,s.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const o=zh(e),s=Ol(e);return s.add({}).next(a=>{ye("number"==typeof a);const l=new SP(a,t,i,r),c=function(h,m,y){const C=y.baseMutations.map(S=>kg(h.fe,S)),T=y.mutations.map(S=>kg(h.fe,S));return{userId:m,batchId:y.batchId,localWriteTimeMs:y.localWriteTime.toMillis(),baseMutations:C,mutations:T}}(this.serializer,this.userId,l),u=[];let d=new mn((h,m)=>Be(h.canonicalString(),m.canonicalString()));for(const h of r){const m=WG(this.userId,h.key.path,a);d=d.add(h.key.path.popLast()),u.push(s.put(c)),u.push(o.put(m,qIe))}return d.forEach(h=>{u.push(this.indexManager.addToCollectionParentIndex(e,h))}),e.addOnCommittedListener(()=>{this.Vn[a]=l.keys()}),V.waitFor(u).next(()=>l)})}lookupMutationBatch(e,t){return Ol(e).get(t).next(i=>i?(ye(i.userId===this.userId),nu(this.serializer,i)):null)}Sn(e,t){return this.Vn[t]?V.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.Vn[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return Ol(e).X({index:"userMutationsIndex",range:r},(s,a,l)=>{a.userId===this.userId&&(ye(a.batchId>=i),o=nu(this.serializer,a)),l.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Ol(e).X({index:"userMutationsIndex",range:t,reverse:!0},(r,o,s)=>{i=o.batchId,s.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ol(e).j("userMutationsIndex",t).next(i=>i.map(r=>nu(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=sx(this.userId,t.path),r=IDBKeyRange.lowerBound(i),o=[];return zh(e).X({range:r},(s,a,l)=>{const[c,u,d]=s,h=Ns(u);if(c===this.userId&&t.path.isEqual(h))return Ol(e).get(d).next(m=>{if(!m)throw pe();ye(m.userId===this.userId),o.push(nu(this.serializer,m))});l.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new mn(Be);const r=[];return t.forEach(o=>{const s=sx(this.userId,o.path),a=IDBKeyRange.lowerBound(s),l=zh(e).X({range:a},(c,u,d)=>{const[h,m,y]=c,C=Ns(m);h===this.userId&&o.path.isEqual(C)?i=i.add(y):d.done()});r.push(l)}),V.waitFor(r).next(()=>this.Dn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,o=sx(this.userId,i),s=IDBKeyRange.lowerBound(o);let a=new mn(Be);return zh(e).X({range:s},(l,c,u)=>{const[d,h,m]=l,y=Ns(h);d===this.userId&&i.isPrefixOf(y)?y.length===r&&(a=a.add(m)):u.done()}).next(()=>this.Dn(e,a))}Dn(e,t){const i=[],r=[];return t.forEach(o=>{r.push(Ol(e).get(o).next(s=>{if(null===s)throw pe();ye(s.userId===this.userId),i.push(nu(this.serializer,s))}))}),V.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return wW(e.ht,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),V.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return V.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return zh(e).X({range:i},(o,s,a)=>{if(o[0]===this.userId){const l=Ns(o[1]);r.push(l)}else a.done()}).next(()=>{ye(0===r.length)})})}containsKey(e,t){return CW(e,this.userId,t)}xn(e){return EW(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function CW(n,e,t){const i=sx(e,t.path),r=i[1],o=IDBKeyRange.lowerBound(i);let s=!1;return zh(n).X({range:o,Y:!0},(a,l,c)=>{const[u,d,h]=a;u===e&&d===r&&(s=!0),c.done()}).next(()=>s)}function Ol(n){return Pi(n,"mutations")}function zh(n){return Pi(n,"documentMutations")}function EW(n){return Pi(n,"mutationQueues")}class ou{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new ou(0)}static Mn(){return new ou(-1)}}class oDe{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const i=new ou(t.highestTargetId);return t.highestTargetId=i.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>xe.fromTimestamp(new On(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.$n(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.On(e,r)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(i=>(i.targetCount+=1,this.Bn(t,i),this.On(e,i))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>jh(e).delete(t.targetId)).next(()=>this.$n(e)).next(i=>(ye(i.targetCount>0),i.targetCount-=1,this.On(e,i)))}removeTargets(e,t,i){let r=0;const o=[];return jh(e).X((s,a)=>{const l=Og(a);l.sequenceNumber<=t&&null===i.get(l.targetId)&&(r++,o.push(this.removeTargetData(e,l)))}).next(()=>V.waitFor(o)).next(()=>r)}forEachTarget(e,t){return jh(e).X((i,r)=>{const o=Og(r);t(o)})}$n(e){return TW(e).get("targetGlobalKey").next(t=>(ye(null!==t),t))}On(e,t){return TW(e).put("targetGlobalKey",t)}Fn(e,t){return jh(e).put(cW(this.serializer,t))}Bn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const i=Qc(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return jh(e).X({range:r,index:"queryTargetsIndex"},(s,a,l)=>{const c=Og(a);yg(t,c.target)&&(o=c,l.done())}).next(()=>o)}addMatchingKeys(e,t,i){const r=[],o=Pl(e);return t.forEach(s=>{const a=ur(s.path);r.push(o.put({targetId:i,path:a})),r.push(this.referenceDelegate.addReference(e,i,s))}),V.waitFor(r)}removeMatchingKeys(e,t,i){const r=Pl(e);return V.forEach(t,o=>{const s=ur(o.path);return V.waitFor([r.delete([i,s]),this.referenceDelegate.removeReference(e,i,o)])})}removeMatchingKeysForTargetId(e,t){const i=Pl(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=Pl(e);let o=Je();return r.X({range:i,Y:!0},(s,a,l)=>{const c=Ns(s[1]),u=new ae(c);o=o.add(u)}).next(()=>o)}containsKey(e,t){const i=ur(t.path),r=IDBKeyRange.bound([i],[VG(i)],!1,!0);let o=0;return Pl(e).X({index:"documentTargetsIndex",Y:!0,range:r},([s,a],l,c)=>{0!==s&&(o++,c.done())}).next(()=>o>0)}le(e,t){return jh(e).get(t).next(i=>i?Og(i):null)}}function jh(n){return Pi(n,"targets")}function TW(n){return Pi(n,"targetGlobal")}function Pl(n){return Pi(n,"targetDocuments")}function IW([n,e],[t,i]){const r=Be(n,t);return 0===r?Be(e,i):r}class sDe{constructor(e){this.Ln=e,this.buffer=new mn(IW),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();IW(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class MW{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;te("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,_(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){Cl(i)?te("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield wl(i)}yield t.Qn(3e5)}))}}class aDe{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return V.resolve(so.ct);const i=new sDe(t);return this.jn.forEachTarget(e,r=>i.Kn(r.sequenceNumber)).next(()=>this.jn.Wn(e,r=>i.Kn(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.jn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(te("LruGarbageCollector","Garbage collection skipped; disabled"),V.resolve(xW)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(te("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),xW):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let i,r,o,s,a,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),r=this.params.maximumSequenceNumbersToCollect):r=d,s=Date.now(),this.nthSequenceNumber(e,r))).next(d=>(i=d,a=Date.now(),this.removeTargets(e,i,t))).next(d=>(o=d,l=Date.now(),this.removeOrphanedDocuments(e,i))).next(d=>(c=Date.now(),uP()<=bt.DEBUG&&te("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-u}ms\n\tDetermined least recently used ${r} in `+(a-s)+`ms\n\tRemoved ${o} targets in `+(l-a)+`ms\n\tRemoved ${d} documents in `+(c-l)+`ms\nTotal Duration: ${c-u}ms`),V.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:d})))}}class lDe{constructor(e,t){this.db=e,this.garbageCollector=function DW(n,e){return new aDe(n,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}Jn(e){let t=0;return this.Wn(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(i,r)=>t(r))}addReference(e,t,i){return Sx(e,i)}removeReference(e,t,i){return Sx(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return Sx(e,t)}Xn(e,t){return function(i,r){let o=!1;return EW(i).Z(s=>CW(i,s,r).next(a=>(a&&(o=!0),V.resolve(!a)))).next(()=>o)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let o=0;return this.Yn(e,(s,a)=>{if(a<=t){const l=this.Xn(e,s).next(c=>{if(!c)return o++,i.getEntry(e,s).next(()=>(i.removeEntry(s,xe.min()),Pl(e).delete([0,ur(s.path)])))});r.push(l)}}).next(()=>V.waitFor(r)).next(()=>i.apply(e)).next(()=>o)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return Sx(e,t)}Yn(e,t){const i=Pl(e);let r,o=so.ct;return i.X({index:"documentTargetsIndex"},([s,a],{path:l,sequenceNumber:c})=>{0===s?(o!==so.ct&&t(new ae(Ns(r)),o),o=c,r=l):o=so.ct}).next(()=>{o!==so.ct&&t(new ae(Ns(r)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Sx(n,e){return Pl(n).put((i=n.currentSequenceNumber,{targetId:0,path:ur(e.path),sequenceNumber:i}));var i}class SW{constructor(){this.changes=new Sa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,gn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?V.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class cDe{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return su(e).put(i)}removeEntry(e,t,i){return su(e).delete(function(r,o){const s=r.path.toArray();return[s.slice(0,s.length-2),s[s.length-2],wx(o),s[s.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.Zn(e,i)))}getEntry(e,t){let i=gn.newInvalidDocument(t);return su(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Lg(t))},(r,o)=>{i=this.ts(t,o)}).next(()=>i)}es(e,t){let i={size:0,document:gn.newInvalidDocument(t)};return su(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Lg(t))},(r,o)=>{i={document:this.ts(t,o),size:Mx(o)}}).next(()=>i)}getEntries(e,t){let i=Gr();return this.ns(e,t,(r,o)=>{const s=this.ts(r,o);i=i.insert(r,s)}).next(()=>i)}ss(e,t){let i=Gr(),r=new cn(ae.comparator);return this.ns(e,t,(o,s)=>{const a=this.ts(o,s);i=i.insert(o,a),r=r.insert(o,Mx(s))}).next(()=>({documents:i,rs:r}))}ns(e,t,i){if(t.isEmpty())return V.resolve();let r=new mn(PW);t.forEach(l=>r=r.add(l));const o=IDBKeyRange.bound(Lg(r.first()),Lg(r.last())),s=r.getIterator();let a=s.getNext();return su(e).X({index:"documentKeyIndex",range:o},(l,c,u)=>{const d=ae.fromSegments([...c.prefixPath,c.collectionGroup,c.documentId]);for(;a&&PW(a,d)<0;)i(a,null),a=s.getNext();a&&a.isEqual(d)&&(i(a,c),a=s.hasNext()?s.getNext():null),a?u.G(Lg(a)):u.done()}).next(()=>{for(;a;)i(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,t,i,r){const o=t.path,s=[o.popLast().toArray(),o.lastSegment(),wx(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],a=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return su(e).j(IDBKeyRange.bound(s,a,!0)).next(l=>{let c=Gr();for(const u of l){const d=this.ts(ae.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);d.isFoundDocument()&&(xg(t,d)||r.has(d.key))&&(c=c.insert(d.key,d))}return c})}getAllFromCollectionGroup(e,t,i,r){let o=Gr();const s=OW(t,i),a=OW(t,oo.max());return su(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},(l,c,u)=>{const d=this.ts(ae.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);o=o.insert(d.key,d),o.size===r&&u.done()}).next(()=>o)}newChangeBuffer(e){return new uDe(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return kW(e).get("remoteDocumentGlobalKey").next(t=>(ye(!!t),t))}Zn(e,t){return kW(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const i=function YMe(n,e){let t;if(e.document)t=function tW(n,e,t){const i=Vs(n,e.name),r=ni(e.updateTime),o=e.createTime?ni(e.createTime):xe.min(),s=new Yi({mapValue:{fields:e.fields}}),a=gn.newFoundDocument(i,r,o,s);return t&&a.setHasCommittedMutations(),t?a.setHasCommittedMutations():a}(n.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=ae.fromSegments(e.noDocument.path),r=tu(e.noDocument.readTime);t=gn.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return pe();{const i=ae.fromSegments(e.unknownDocument.path),r=tu(e.unknownDocument.version);t=gn.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(i){const r=new On(i[0],i[1]);return xe.fromTimestamp(r)}(e.readTime)),t}(this.serializer,t);if(!i.isNoDocument()||!i.version.isEqual(xe.min()))return i}return gn.newInvalidDocument(e)}}function AW(n){return new cDe(n)}class uDe extends SW{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new Sa(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new mn((o,s)=>Be(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{const a=this.us.get(o);if(t.push(this.os.removeEntry(e,o,a.readTime)),s.isValidDocument()){const l=lW(this.os.serializer,s);r=r.add(o.path.popLast());const c=Mx(l);i+=c-a.size,t.push(this.os.addEntry(e,o,l))}else if(i-=a.size,this.trackRemovals){const l=lW(this.os.serializer,s.convertToNoDocument(xe.min()));t.push(this.os.addEntry(e,o,l))}}),r.forEach(o=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,o))}),t.push(this.os.updateMetadata(e,i)),V.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(i=>(this.us.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:i,rs:r})=>(r.forEach((o,s)=>{this.us.set(o,{size:s,readTime:i.get(o).readTime})}),i))}}function kW(n){return Pi(n,"remoteDocumentGlobal")}function su(n){return Pi(n,"remoteDocumentsV14")}function Lg(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function OW(n,e){const t=e.documentKey.path.toArray();return[n,wx(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function PW(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let o=0;o<t.length-2&&o<i.length-2;++o)if(r=Be(t[o],i[o]),r)return r;return r=Be(t.length,i.length),r||(r=Be(t[t.length-2],i[i.length-2]),r||Be(t[t.length-1],i[i.length-1]))}class dDe{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class RW{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(null!==i&&Tg(i.mutation,r,$r.empty(),On.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Je()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Je()){const r=Ls();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(o=>{let s=wg();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){const i=Ls();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Je()))}populateOverlays(e,t,i){const r=[];return i.forEach(o=>{t.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,i,r){let o=Gr();const s=Cg(),a=Cg();return t.forEach((l,c)=>{const u=i.get(c.key);r.has(c.key)&&(void 0===u||u.mutation instanceof Aa)?o=o.insert(c.key,c):void 0!==u?(s.set(c.key,u.mutation.getFieldMask()),Tg(u.mutation,c,u.mutation.getFieldMask(),On.now())):s.set(c.key,$r.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((c,u)=>s.set(c,u)),t.forEach((c,u)=>{var d;return a.set(c,new dDe(u,null!==(d=s.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,t){const i=Cg();let r=new cn((s,a)=>s-a),o=Je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(const a of s)a.keys().forEach(l=>{const c=t.get(l);if(null===c)return;let u=i.get(l)||$r.empty();u=a.applyToLocalView(c,u),i.set(l,u);const d=(r.get(a.batchId)||Je()).add(l);r=r.insert(a.batchId,d)})}).next(()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,d=Iq();u.forEach(h=>{if(!o.has(h)){const m=Nq(t.get(h),i.get(h));null!==m&&d.set(h,m),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,d))}return V.waitFor(s)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return ae.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):EP(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var r}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(o=>{const s=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-o.size):V.resolve(Ls());let a=-1,l=o;return s.next(c=>V.forEach(c,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(u)?V.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,l,c,Je())).next(u=>({batchId:a,changes:Tq(u)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ae(t)).next(i=>{let r=wg();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const r=t.collectionGroup;let o=wg();return this.indexManager.getCollectionParents(e,r).next(s=>V.forEach(s,a=>{const l=(c=t,u=a.child(r),new Da(u,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,u;return this.getDocumentsMatchingCollectionQuery(e,l,i).next(c=>{c.forEach((u,d)=>{o=o.insert(u,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,i){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(o=>(r=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,r))).next(o=>{r.forEach((a,l)=>{const c=l.getKey();null===o.get(c)&&(o=o.insert(c,gn.newInvalidDocument(c)))});let s=wg();return o.forEach((a,l)=>{const c=r.get(a);void 0!==c&&Tg(c.mutation,l,$r.empty(),On.now()),xg(t,l)&&(s=s.insert(a,l))}),s})}}class hDe{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return V.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var i;return this.cs.set(t.id,{id:(i=t).id,version:i.version,createTime:ni(i.createTime)}),V.resolve()}getNamedQuery(e,t){return V.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(i=t).name,query:BP(i.bundledQuery),readTime:ni(i.readTime)}),V.resolve();var i}}class fDe{constructor(){this.overlays=new cn(ae.comparator),this.ls=new Map}getOverlay(e,t){return V.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Ls();return V.forEach(t,r=>this.getOverlay(e,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,o)=>{this.we(e,t,o)}),V.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.ls.get(i);return void 0!==r&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.ls.delete(i)),V.resolve()}getOverlaysForCollection(e,t,i){const r=Ls(),o=t.length+1,s=new ae(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===o&&l.largestBatchId>i&&r.set(l.getKey(),l)}return V.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let o=new cn((c,u)=>c-u);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>i){let u=o.get(c.largestBatchId);null===u&&(u=Ls(),o=o.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=Ls(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=r)););return V.resolve(a)}we(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const s=this.ls.get(r.largestBatchId).delete(i.key);this.ls.set(r.largestBatchId,s)}this.overlays=this.overlays.insert(i.key,new kP(t,i));let o=this.ls.get(t);void 0===o&&(o=Je(),this.ls.set(t,o)),this.ls.set(t,o.add(i.key))}}class qP{constructor(){this.fs=new mn(Ri.ds),this.ws=new mn(Ri._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const i=new Ri(e,t);this.fs=this.fs.add(i),this.ws=this.ws.add(i)}gs(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.ys(new Ri(e,t))}ps(e,t){e.forEach(i=>this.removeReference(i,t))}Is(e){const t=new ae(new wt([])),i=new Ri(t,e),r=new Ri(t,e+1),o=[];return this.ws.forEachInRange([i,r],s=>{this.ys(s),o.push(s.key)}),o}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new ae(new wt([])),i=new Ri(t,e),r=new Ri(t,e+1);let o=Je();return this.ws.forEachInRange([i,r],s=>{o=o.add(s.key)}),o}containsKey(e){const t=new Ri(e,0),i=this.fs.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Ri{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return ae.comparator(e.key,t.key)||Be(e.As,t.As)}static _s(e,t){return Be(e.As,t.As)||ae.comparator(e.key,t.key)}}class pDe{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new mn(Ri.ds)}checkEmpty(e){return V.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const o=this.vs;this.vs++;const s=new SP(o,t,i,r);this.mutationQueue.push(s);for(const a of r)this.Rs=this.Rs.add(new Ri(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return V.resolve(s)}lookupMutationBatch(e,t){return V.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.bs(t+1),o=r<0?0:r;return V.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return V.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return V.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Ri(t,0),r=new Ri(t,Number.POSITIVE_INFINITY),o=[];return this.Rs.forEachInRange([i,r],s=>{const a=this.Ps(s.As);o.push(a)}),V.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new mn(Be);return t.forEach(r=>{const o=new Ri(r,0),s=new Ri(r,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([o,s],a=>{i=i.add(a.As)})}),V.resolve(this.Vs(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let o=i;ae.isDocumentKey(o)||(o=o.child(""));const s=new Ri(new ae(o),0);let a=new mn(Be);return this.Rs.forEachWhile(l=>{const c=l.key.path;return!!i.isPrefixOf(c)&&(c.length===r&&(a=a.add(l.As)),!0)},s),V.resolve(this.Vs(a))}Vs(e){const t=[];return e.forEach(i=>{const r=this.Ps(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){ye(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let i=this.Rs;return V.forEach(t.mutations,r=>{const o=new Ri(r.key,t.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Rs=i})}Cn(e){}containsKey(e,t){const i=new Ri(t,0),r=this.Rs.firstAfterOrEqual(i);return V.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return V.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class mDe{constructor(e){this.Ds=e,this.docs=new cn(ae.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),o=r?r.size:0,s=this.Ds(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return V.resolve(i?i.document.mutableCopy():gn.newInvalidDocument(t))}getEntries(e,t){let i=Gr();return t.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():gn.newInvalidDocument(r))}),V.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let o=Gr();const s=t.path,a=new ae(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||fP(UG(u),i)<=0||(r.has(u.key)||xg(t,u))&&(o=o.insert(u.key,u.mutableCopy()))}return V.resolve(o)}getAllFromCollectionGroup(e,t,i,r){pe()}Cs(e,t){return V.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new gDe(this)}getSize(e){return V.resolve(this.size)}}class gDe extends SW{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.os.addEntry(e,r)):this.os.removeEntry(i)}),V.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class _De{constructor(e){this.persistence=e,this.xs=new Sa(t=>Qc(t),yg),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.Ns=0,this.ks=new qP,this.targetCount=0,this.Ms=ou.kn()}forEachTarget(e,t){return this.xs.forEach((i,r)=>t(r)),V.resolve()}getLastRemoteSnapshotVersion(e){return V.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return V.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),V.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Ns&&(this.Ns=t),V.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new ou(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,V.resolve()}updateTargetData(e,t){return this.Fn(t),V.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,V.resolve()}removeTargets(e,t,i){let r=0;const o=[];return this.xs.forEach((s,a)=>{a.sequenceNumber<=t&&null===i.get(a.targetId)&&(this.xs.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),V.waitFor(o).next(()=>r)}getTargetCount(e){return V.resolve(this.targetCount)}getTargetData(e,t){const i=this.xs.get(t)||null;return V.resolve(i)}addMatchingKeys(e,t,i){return this.ks.gs(t,i),V.resolve()}removeMatchingKeys(e,t,i){this.ks.ps(t,i);const r=this.persistence.referenceDelegate,o=[];return r&&t.forEach(s=>{o.push(r.markPotentiallyOrphaned(e,s))}),V.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),V.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ks.Es(t);return V.resolve(i)}containsKey(e,t){return V.resolve(this.ks.containsKey(t))}}class WP{constructor(e,t){this.$s={},this.overlays={},this.Os=new so(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new _De(this),this.indexManager=new iDe,this.remoteDocumentCache=new mDe(i=>this.referenceDelegate.Ls(i)),this.serializer=new aW(t),this.qs=new hDe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new fDe,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.$s[e.toKey()];return i||(i=new pDe(t,this.referenceDelegate),this.$s[e.toKey()]=i),i}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,i){te("MemoryPersistence","Starting transaction:",e);const r=new bDe(this.Os.next());return this.referenceDelegate.Us(),i(r).next(o=>this.referenceDelegate.Ks(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Gs(e,t){return V.or(Object.values(this.$s).map(i=>()=>i.containsKey(e,t)))}}class bDe extends jG{constructor(e){super(),this.currentSequenceNumber=e}}class Ax{constructor(e){this.persistence=e,this.Qs=new qP,this.js=null}static zs(e){return new Ax(e)}get Ws(){if(this.js)return this.js;throw pe()}addReference(e,t,i){return this.Qs.addReference(i,t),this.Ws.delete(i.toString()),V.resolve()}removeReference(e,t,i){return this.Qs.removeReference(i,t),this.Ws.add(i.toString()),V.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),V.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(r=>this.Ws.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(o=>this.Ws.add(o.toString()))}).next(()=>i.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return V.forEach(this.Ws,i=>{const r=ae.fromPath(i);return this.Hs(e,r).next(o=>{o||t.removeEntry(r,xe.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(i=>{i?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return V.or([()=>V.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class yDe{constructor(e){this.serializer=e}O(e,t,i,r){const o=new ox("createOrUpgrade",t);var a;i<1&&r>=1&&(e.createObjectStore("owner"),(a=e).createObjectStore("mutationQueues",{keyPath:"userId"}),a.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",qG,{unique:!0}),a.createObjectStore("documentMutations"),NW(e),function(a){a.createObjectStore("remoteDocuments")}(e));let s=V.resolve();return i<3&&r>=3&&(0!==i&&(function(a){a.deleteObjectStore("targetDocuments"),a.deleteObjectStore("targets"),a.deleteObjectStore("targetGlobal")}(e),NW(e)),s=s.next(()=>function(a){const l=a.store("targetGlobal"),c={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:xe.min().toTimestamp(),targetCount:0};return l.put("targetGlobalKey",c)}(o))),i<4&&r>=4&&(0!==i&&(s=s.next(()=>function(a,l){return l.store("mutations").j().next(c=>{a.deleteObjectStore("mutations"),a.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",qG,{unique:!0});const u=l.store("mutations"),d=c.map(h=>u.put(h));return V.waitFor(d)})}(e,o))),s=s.next(()=>{!function(a){a.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(s=s.next(()=>this.Ys(o))),i<6&&r>=6&&(s=s.next(()=>(function(a){a.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(o)))),i<7&&r>=7&&(s=s.next(()=>this.Zs(o))),i<8&&r>=8&&(s=s.next(()=>this.ti(e,o))),i<9&&r>=9&&(s=s.next(()=>{!function(a){a.objectStoreNames.contains("remoteDocumentChanges")&&a.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(s=s.next(()=>this.ei(o))),i<11&&r>=11&&(s=s.next(()=>{(function(a){a.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(a){a.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(s=s.next(()=>{!function(a){const l=a.createObjectStore("documentOverlays",{keyPath:rMe});l.createIndex("collectionPathOverlayIndex",oMe,{unique:!1}),l.createIndex("collectionGroupOverlayIndex",sMe,{unique:!1})}(e)})),i<13&&r>=13&&(s=s.next(()=>function(a){const l=a.createObjectStore("remoteDocumentsV14",{keyPath:WIe});l.createIndex("documentKeyIndex",KIe),l.createIndex("collectionGroupIndex",YIe)}(e)).next(()=>this.ni(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(s=s.next(()=>this.si(e,o))),i<15&&r>=15&&(s=s.next(()=>function(a){a.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),a.createObjectStore("indexState",{keyPath:eMe}).createIndex("sequenceNumberIndex",tMe,{unique:!1}),a.createObjectStore("indexEntries",{keyPath:nMe}).createIndex("documentKeyIndex",iMe,{unique:!1})}(e))),s}Xs(e){let t=0;return e.store("remoteDocuments").X((i,r)=>{t+=Mx(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Ys(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.j().next(r=>V.forEach(r,o=>{const s=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.j("userMutationsIndex",s).next(a=>V.forEach(a,l=>{ye(l.userId===o.userId);const c=nu(this.serializer,l);return wW(e,o.userId,c).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const o=[];return i.X((s,a)=>{const l=new wt(s),c=[0,ur(l)];o.push(t.get(c).next(u=>u?V.resolve():t.put({targetId:0,path:ur(l),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>V.waitFor(o))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:JIe});const i=t.store("collectionParents"),r=new GP,o=s=>{if(r.add(s)){const a=s.lastSegment(),l=s.popLast();return i.put({collectionId:a,parent:ur(l)})}};return t.store("remoteDocuments").X({Y:!0},(s,a)=>{const l=new wt(s);return o(l.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([s,a,l],c)=>{const u=Ns(a);return o(u.popLast())}))}ei(e){const t=e.store("targets");return t.X((i,r)=>{const o=Og(r),s=cW(this.serializer,o);return t.put(s)})}ni(e,t){const i=t.store("remoteDocuments"),r=[];return i.X((o,s)=>{const a=t.store("remoteDocumentsV14"),l=(c=s,c.document?new ae(wt.fromString(c.document.name).popFirst(5)):c.noDocument?ae.fromSegments(c.noDocument.path):c.unknownDocument?ae.fromSegments(c.unknownDocument.path):pe()).path.toArray();var c;const u={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};r.push(a.put(u))}).next(()=>V.waitFor(r))}si(e,t){const i=t.store("mutations"),r=AW(this.serializer),o=new WP(Ax.zs,this.serializer.fe);return i.j().next(s=>{const a=new Map;return s.forEach(l=>{var c;let u=null!==(c=a.get(l.userId))&&void 0!==c?c:Je();nu(this.serializer,l).keys().forEach(d=>u=u.add(d)),a.set(l.userId,u)}),V.forEach(a,(l,c)=>{const u=new Oi(c),d=Cx.de(this.serializer,u),h=o.getIndexManager(u),m=Dx.de(u,this.serializer,h,o.referenceDelegate);return new RW(r,m,d,h).recalculateAndSaveOverlaysForDocumentKeys(new gP(t,so.ct),l).next()})})}}function NW(n){n.createObjectStore("targetDocuments",{keyPath:XIe}).createIndex("documentTargetsIndex",ZIe,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",QIe,{unique:!0}),n.createObjectStore("targetGlobal")}const KP="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class YP{constructor(e,t,i,r,o,s,a,l,c,u,d=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.ii=o,this.window=s,this.document=a,this.ri=c,this.oi=u,this.ui=d,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=h=>Promise.resolve(),!YP.D())throw new J(z.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new lDe(this,r),this.di=t+"main",this.serializer=new aW(l),this.wi=new Wo(this.di,this.ui,new yDe(this.serializer)),this.Bs=new oDe(this.referenceDelegate,this.serializer),this.remoteDocumentCache=AW(this.serializer),this.qs=new QMe,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===u&&ei("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new J(z.FAILED_PRECONDITION,KP);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new so(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var i=_(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=_(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget(_(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Ox(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(Cl(e))return te("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return te("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return Vg(e).get("owner").next(t=>V.resolve(this.Ri(t)))}Pi(e){return Ox(e).delete(this.clientId)}bi(){var e=this;return _(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Pi(i,"clientMetadata");return r.j().next(o=>{const s=e.Si(o,18e5),a=o.filter(l=>-1===s.indexOf(l));return V.forEach(a,l=>r.delete(l.clientId)).next(()=>a)})}).catch(()=>[]);if(e._i)for(const i of t)e._i.removeItem(e.Di(i.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?V.resolve(!0):Vg(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new J(z.FAILED_PRECONDITION,KP);return!1}}return!(!this.networkEnabled||!this.inForeground)||Ox(e).j().next(i=>void 0===this.Si(i,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(t=>(this.isPrimary!==t&&te("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return _(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new gP(t,so.ct);return e.Ai(i).next(()=>e.Pi(i))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(i=>this.Vi(i.updateTimeMs,t)&&!this.Ci(i.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>Ox(e).j().next(t=>this.Si(t,18e5).map(i=>i.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return Dx.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new rDe(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return Cx.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,i){te("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",o=15===(s=this.ui)?lMe:14===s?QG:13===s?YG:12===s?aMe:11===s?KG:void pe();var s;let a;return this.wi.runTransaction(e,r,o,l=>(a=new gP(l,this.Os?this.Os.next():so.ct),"readwrite-primary"===t?this.Ti(a).next(c=>!!c||this.Ei(a)).next(c=>{if(!c)throw ei(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new J(z.FAILED_PRECONDITION,zG);return i(a)}).next(c=>this.vi(a).next(()=>c)):this.Oi(a).next(()=>i(a)))).then(l=>(a.raiseOnCommittedEvent(),l))}Oi(e){return Vg(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new J(z.FAILED_PRECONDITION,KP)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Vg(e).put("owner",t)}static D(){return Wo.D()}Ai(e){const t=Vg(e);return t.get("owner").next(i=>this.Ri(i)?(te("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):V.resolve())}Vi(e,t){const i=Date.now();return!(e<i-t||e>i&&(ei(`Detected an update time that is in the future: ${e} > ${i}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(function tye(){return!y7()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")})()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const i=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return te("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return ei("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){ei("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Vg(n){return Pi(n,"owner")}function Ox(n){return Pi(n,"clientMetadata")}class XP{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Fi=i,this.Bi=r}static Li(e,t){let i=Je(),r=Je();for(const o of t.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new XP(e,t.fromCache,i,r)}}class FW{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,i,r){return this.Ki(e,t).next(o=>o||this.Gi(e,t,r,i)).next(o=>o||this.Qi(e,t))}Ki(e,t){if(vq(t))return V.resolve(null);let i=Ir(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=gx(t,null,"F"),i=Ir(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{const s=Je(...o);return this.Ui.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,i).next(l=>{const c=this.ji(t,a);return this.zi(t,c,s,l.readTime)?this.Ki(e,gx(t,null,"F")):this.Wi(e,c,t,l)}))})))}Gi(e,t,i,r){return vq(t)||r.isEqual(xe.min())?this.Qi(e,t):this.Ui.getDocuments(e,i).next(o=>{const s=this.ji(t,o);return this.zi(t,s,i,r)?this.Qi(e,t):(uP()<=bt.DEBUG&&te("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),IP(t)),this.Wi(e,s,t,function BG(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=xe.fromTimestamp(1e9===i?new On(t+1,0):new On(t,i));return new oo(r,ae.empty(),e)}(r,-1)))})}ji(e,t){let i=new mn(Cq(e));return t.forEach((r,o)=>{xg(e,o)&&(i=i.add(o))}),i}zi(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const o="F"===e.limitType?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Qi(e,t){return uP()<=bt.DEBUG&&te("QueryEngine","Using full collection scan to execute query:",IP(t)),this.Ui.getDocumentsMatchingQuery(e,t,oo.min())}Wi(e,t,i,r){return this.Ui.getDocumentsMatchingQuery(e,i,r).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}}class vDe{constructor(e,t,i,r){this.persistence=e,this.Hi=t,this.serializer=r,this.Ji=new cn(Be),this.Yi=new Sa(o=>Qc(o),yg),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(i)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new RW(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function LW(n,e,t,i){return new vDe(n,e,t,i)}function VW(n,e){return ZP.apply(this,arguments)}function ZP(){return ZP=_(function*(n,e){const t=ce(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,t.tr(e),t.mutationQueue.getAllMutationBatches(i))).next(o=>{const s=[],a=[];let l=Je();for(const c of r){s.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of o){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return t.localDocuments.getDocuments(i,l).next(c=>({er:c,removedBatchIds:s,addedBatchIds:a}))})})}),ZP.apply(this,arguments)}function BW(n){const e=ce(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function CDe(n,e){const t=ce(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function $h(n,e,t){return JP.apply(this,arguments)}function JP(){return JP=_(function*(n,e,t){const i=ce(n),r=i.Ji.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",o,s=>i.persistence.referenceDelegate.removeTarget(s,r)))}catch(s){if(!Cl(s))throw s;te("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}i.Ji=i.Ji.remove(e),i.Yi.delete(r.target)}),JP.apply(this,arguments)}function Px(n,e,t){const i=ce(n);let r=xe.min(),o=Je();return i.persistence.runTransaction("Execute query","readonly",s=>function(a,l,c){const u=ce(a),d=u.Yi.get(c);return void 0!==d?V.resolve(u.Ji.get(d)):u.Bs.getTargetData(l,c)}(i,s,Ir(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.Bs.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>i.Hi.getDocumentsMatchingQuery(s,e,t?r:xe.min(),t?o:Je())).next(a=>(function HW(n,e,t){let i=n.Xi.get(e)||xe.min();t.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.Xi.set(e,i)}(i,function wq(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),a),{documents:a,ir:o})))}class rR{constructor(){this.activeTargetIds=function MP(){return TMe}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class qW{constructor(){this.Hr=new rR,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,i){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new rR,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class IDe{Yr(e){}shutdown(){}}class WW{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){te("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){te("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Fx=null;function sR(){return null===Fx?Fx=268435456+Math.round(2147483648*Math.random()):Fx++,"0x"+Fx.toString(16)}const MDe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class DDe{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const hr="WebChannelConnection";class SDe extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,i,r,o){const s=sR(),a=this.To(e,t);te("RestConnection",`Sending RPC '${e}' ${s}:`,a,i);const l={};return this.Eo(l,r,o),this.Ao(e,a,l,i).then(c=>(te("RestConnection",`Received RPC '${e}' ${s}: `,c),c),c=>{throw qo("RestConnection",`RPC '${e}' ${s} failed with error: `,c,"url: ",a,"request:",i),c})}vo(e,t,i,r,o,s){return this.Io(e,t,i,r,o)}Eo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+Dh,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,o)=>e[o]=r),i&&i.headers.forEach((r,o)=>e[o]=r)}To(e,t){return`${this.mo}/v1/${t}:${MDe[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,i,r){const o=sR();return new Promise((s,a)=>{const l=new SIe;l.setWithCredentials(!0),l.listenOnce(IIe.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case cP.NO_ERROR:const u=l.getResponseJson();te(hr,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(u)),s(u);break;case cP.TIMEOUT:te(hr,`RPC '${e}' ${o} timed out`),a(new J(z.DEADLINE_EXCEEDED,"Request time out"));break;case cP.HTTP_ERROR:const d=l.getStatus();if(te(hr,`RPC '${e}' ${o} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const m=h?.error;if(m&&m.status&&m.message){const y=function(C){const T=C.toLowerCase().replace(/_/g,"-");return Object.values(z).indexOf(T)>=0?T:z.UNKNOWN}(m.status);a(new J(y,m.message))}else a(new J(z.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new J(z.UNAVAILABLE,"Connection failed."));break;default:pe()}}finally{te(hr,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(r);te(hr,`RPC '${e}' ${o} sending request:`,r),l.send(t,"POST",c,i,15)})}Ro(e,t,i){const r=sR(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=EIe(),a=TIe(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new DIe({})),this.Eo(l.initMessageHeaders,t,i),l.encodeInitMessageHeaders=!0;const u=o.join("");te(hr,`Creating RPC '${e}' stream ${r}: ${u}`,l);const d=s.createWebChannel(u,l);let h=!1,m=!1;const y=new DDe({ro:T=>{m?te(hr,`Not sending because RPC '${e}' stream ${r} is closed:`,T):(h||(te(hr,`Opening RPC '${e}' stream ${r} transport.`),d.open(),h=!0),te(hr,`RPC '${e}' stream ${r} sending:`,T),d.send(T))},oo:()=>d.close()}),C=(T,S,D)=>{T.listen(S,F=>{try{D(F)}catch(Y){setTimeout(()=>{throw Y},0)}})};return C(d,nx.EventType.OPEN,()=>{m||te(hr,`RPC '${e}' stream ${r} transport opened.`)}),C(d,nx.EventType.CLOSE,()=>{m||(m=!0,te(hr,`RPC '${e}' stream ${r} transport closed`),y.wo())}),C(d,nx.EventType.ERROR,T=>{m||(m=!0,qo(hr,`RPC '${e}' stream ${r} transport errored:`,T),y.wo(new J(z.UNAVAILABLE,"The operation could not be completed")))}),C(d,nx.EventType.MESSAGE,T=>{var S;if(!m){const D=T.data[0];ye(!!D);const Y=D.error||(null===(S=D[0])||void 0===S?void 0:S.error);if(Y){te(hr,`RPC '${e}' stream ${r} received error:`,Y);const re=Y.status;let ue=function(et){const Tn=ci[et];if(void 0!==Tn)return zq(Tn)}(re),Oe=Y.message;void 0===ue&&(ue=z.INTERNAL,Oe="Unknown error status: "+re+" with message "+Y.message),m=!0,y.wo(new J(ue,Oe)),d.close()}else te(hr,`RPC '${e}' stream ${r} received:`,D),y._o(D)}}),C(a,MIe.STAT_EVENT,T=>{T.stat===PG.PROXY?te(hr,`RPC '${e}' stream ${r} detected buffering proxy`):T.stat===PG.NOPROXY&&te(hr,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{y.fo()},0),y}}function Lx(){return typeof document<"u"?document:null}function Ug(n){return new BMe(n,!0)}class aR{constructor(e,t,i=1e3,r=1.5,o=6e4){this.ii=e,this.timerId=t,this.Po=i,this.bo=r,this.Vo=o,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),i=Math.max(0,Date.now()-this.Co),r=Math.max(0,t-i);r>0&&te("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class YW{constructor(e,t,i,r,o,s,a,l){this.ii=e,this.$o=i,this.Oo=r,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new aR(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return _(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return _(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var i=this;return _(function*(){i.Ho(),i.Jo(),i.qo.cancel(),i.Fo++,4!==e?i.qo.reset():t&&t.code===z.RESOURCE_EXHAUSTED?(ei(t.toString()),ei("Using maximum backoff delay to prevent overloading the backend."),i.qo.xo()):t&&t.code===z.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Yo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Fo===t&&this.Zo(i,r)},i=>{e(()=>{const r=new J(z.UNKNOWN,"Fetching auth token failed: "+i.message);return this.tu(r)})})}Zo(e,t){const i=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{i(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(r=>{i(()=>this.tu(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Go(){var e=this;this.state=5,this.qo.No(_(function*(){e.state=0,e.start()}))}tu(e){return te("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(te("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ADe extends YW{constructor(e,t,i,r,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,s),this.serializer=o}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function jMe(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(l=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===l?1:"REMOVE"===l?2:"CURRENT"===l?3:"RESET"===l?4:pe(),r=e.targetChange.targetIds||[],o=function(l,c){return l.useProto3Json?(ye(void 0===c||"string"==typeof c),Ei.fromBase64String(c||"")):(ye(void 0===c||c instanceof Uint8Array),Ei.fromUint8Array(c||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){const c=void 0===l.code?z.UNKNOWN:zq(l.code);return new J(c,l.message||"")}(s);t=new qq(i,r,o,a||null)}else if("documentChange"in e){const i=e.documentChange,r=Vs(n,i.document.name),o=ni(i.document.updateTime),s=i.document.createTime?ni(i.document.createTime):xe.min(),a=new Yi({mapValue:{fields:i.document.fields}}),l=gn.newFoundDocument(r,o,s,a);t=new xx(i.targetIds||[],i.removedTargetIds||[],l.key,l)}else if("documentDelete"in e){const i=e.documentDelete,r=Vs(n,i.document),o=i.readTime?ni(i.readTime):xe.min(),s=gn.newNoDocument(r,o);t=new xx([],i.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const i=e.documentRemove,r=Vs(n,i.document);t=new xx([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return pe();{const i=e.filter,{count:r=0,unchangedNames:o}=i,s=new PMe(r,o);t=new Gq(i.targetId,s)}}var l;return t}(this.serializer,e),i=function(r){if(!("targetChange"in r))return xe.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?xe.min():o.readTime?ni(o.readTime):xe.min()}(e);return this.listener.nu(t,i)}su(e){const t={};t.database=Ag(this.serializer),t.addTarget=function(r,o){let s;const a=o.target;if(s=fx(a)?{documents:nW(r,a)}:{query:VP(r,a)},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){s.resumeToken=Qq(r,o.resumeToken);const l=RP(r,o.expectedCount);null!==l&&(s.expectedCount=l)}else if(o.snapshotVersion.compareTo(xe.min())>0){s.readTime=Bh(r,o.snapshotVersion.toTimestamp());const l=RP(r,o.expectedCount);null!==l&&(s.expectedCount=l)}return s}(this.serializer,e);const i=function $Me(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pe()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Wo(t)}iu(e){const t={};t.database=Ag(this.serializer),t.removeTarget=e,this.Wo(t)}}class kDe extends YW{constructor(e,t,i,r,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,s),this.serializer=o,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(ye(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function HMe(n,e){return n&&n.length>0?(ye(void 0!==e),n.map(t=>function(i,r){let o=ni(i.updateTime?i.updateTime:r);return o.isEqual(xe.min())&&(o=ni(r)),new SMe(o,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=ni(e.commitTime);return this.listener.cu(i,t)}return ye(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Ag(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>kg(this.serializer,i))};this.Wo(t)}}class ODe extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new J(z.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.Io(e,t,i,r,o)).catch(r=>{throw"FirebaseError"===r.name?(r.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new J(z.UNKNOWN,r.toString())})}vo(e,t,i,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.vo(e,t,i,o,s,r)).catch(o=>{throw"FirebaseError"===o.name?(o.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new J(z.UNKNOWN,o.toString())})}terminate(){this.lu=!0}}class RDe{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(ei(t),this.mu=!1):te("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class NDe{constructor(e,t,i,r,o){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=o,this.Pu.Yr(a=>{i.enqueueAndForget(_(function*(){var l;Rl(s)&&(te("RemoteStore","Restarting streams for network reachability change."),yield(l=_(function*(c){const u=ce(c);u.vu.add(4),yield Gh(u),u.bu.set("Unknown"),u.vu.delete(4),yield zg(u)}),function(c){return l.apply(this,arguments)})(s))}))}),this.bu=new RDe(i,r)}}function zg(n){return cR.apply(this,arguments)}function cR(){return cR=_(function*(n){if(Rl(n))for(const e of n.Ru)yield e(!0)}),cR.apply(this,arguments)}function Gh(n){return uR.apply(this,arguments)}function uR(){return uR=_(function*(n){for(const e of n.Ru)yield e(!1)}),uR.apply(this,arguments)}function Vx(n,e){const t=ce(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),fR(t)?hR(t):Wh(t).Ko()&&dR(t,e))}function jg(n,e){const t=ce(n),i=Wh(t);t.Au.delete(e),i.Ko()&&QW(t,e),0===t.Au.size&&(i.Ko()?i.jo():Rl(t)&&t.bu.set("Unknown"))}function dR(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Wh(n).su(e)}function QW(n,e){n.Vu.qt(e),Wh(n).iu(e)}function hR(n){n.Vu=new NMe({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),Wh(n).start(),n.bu.gu()}function fR(n){return Rl(n)&&!Wh(n).Uo()&&n.Au.size>0}function Rl(n){return 0===ce(n).vu.size}function XW(n){n.Vu=void 0}function FDe(n){return pR.apply(this,arguments)}function pR(){return pR=_(function*(n){n.Au.forEach((e,t)=>{dR(n,e)})}),pR.apply(this,arguments)}function LDe(n,e){return mR.apply(this,arguments)}function mR(){return mR=_(function*(n,e){XW(n),fR(n)?(n.bu.Iu(e),hR(n)):n.bu.set("Unknown")}),mR.apply(this,arguments)}function VDe(n,e,t){return gR.apply(this,arguments)}function gR(){return gR=_(function*(n,e,t){if(n.bu.set("Online"),e instanceof qq&&2===e.state&&e.cause)try{yield(i=_(function*(r,o){const s=o.cause;for(const a of o.targetIds)r.Au.has(a)&&(yield r.remoteSyncer.rejectListen(a,s),r.Au.delete(a),r.Vu.removeTarget(a))}),function(r,o){return i.apply(this,arguments)})(n,e)}catch(i){te("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield Bx(n,i)}else if(e instanceof xx?n.Vu.Ht(e):e instanceof Gq?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(xe.min()))try{const i=yield BW(n.localStore);t.compareTo(i)>=0&&(yield function(r,o){const s=r.Vu.ce(o);return s.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const c=r.Au.get(l);c&&r.Au.set(l,c.withResumeToken(a.resumeToken,o))}}),s.targetMismatches.forEach((a,l)=>{const c=r.Au.get(a);if(!c)return;r.Au.set(a,c.withResumeToken(Ei.EMPTY_BYTE_STRING,c.snapshotVersion)),QW(r,a);const u=new ka(c.target,a,l,c.sequenceNumber);dR(r,u)}),r.remoteSyncer.applyRemoteEvent(s)}(n,t))}catch(i){te("RemoteStore","Failed to raise snapshot:",i),yield Bx(n,i)}var i}),gR.apply(this,arguments)}function Bx(n,e,t){return _R.apply(this,arguments)}function _R(){return _R=_(function*(n,e,t){if(!Cl(e))throw e;n.vu.add(1),yield Gh(n),n.bu.set("Offline"),t||(t=()=>BW(n.localStore)),n.asyncQueue.enqueueRetryable(_(function*(){te("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield zg(n)}))}),_R.apply(this,arguments)}function ZW(n,e){return e().catch(t=>Bx(n,t,e))}function qh(n){return bR.apply(this,arguments)}function bR(){return bR=_(function*(n){const e=ce(n),t=Nl(e);let i=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;BDe(e);)try{const r=yield CDe(e.localStore,i);if(null===r){0===e.Eu.length&&t.jo();break}i=r.batchId,UDe(e,r)}catch(r){yield Bx(e,r)}JW(e)&&eK(e)}),bR.apply(this,arguments)}function BDe(n){return Rl(n)&&n.Eu.length<10}function UDe(n,e){n.Eu.push(e);const t=Nl(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function JW(n){return Rl(n)&&!Nl(n).Uo()&&n.Eu.length>0}function eK(n){Nl(n).start()}function zDe(n){return yR.apply(this,arguments)}function yR(){return yR=_(function*(n){Nl(n).hu()}),yR.apply(this,arguments)}function jDe(n){return vR.apply(this,arguments)}function vR(){return vR=_(function*(n){const e=Nl(n);for(const t of n.Eu)e.uu(t.mutations)}),vR.apply(this,arguments)}function HDe(n,e,t){return xR.apply(this,arguments)}function xR(){return xR=_(function*(n,e,t){const i=n.Eu.shift(),r=AP.from(i,e,t);yield ZW(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield qh(n)}),xR.apply(this,arguments)}function $De(n,e){return wR.apply(this,arguments)}function wR(){return wR=_(function*(n,e){var t;e&&Nl(n).ou&&(yield(t=_(function*(i,r){if(function Uq(n){switch(n){default:return pe();case z.CANCELLED:case z.UNKNOWN:case z.DEADLINE_EXCEEDED:case z.RESOURCE_EXHAUSTED:case z.INTERNAL:case z.UNAVAILABLE:case z.UNAUTHENTICATED:return!1;case z.INVALID_ARGUMENT:case z.NOT_FOUND:case z.ALREADY_EXISTS:case z.PERMISSION_DENIED:case z.FAILED_PRECONDITION:case z.ABORTED:case z.OUT_OF_RANGE:case z.UNIMPLEMENTED:case z.DATA_LOSS:return!0}}(o=r.code)&&o!==z.ABORTED){const s=i.Eu.shift();Nl(i).Qo(),yield ZW(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),yield qh(i)}var o}),function(i,r){return t.apply(this,arguments)})(n,e)),JW(n)&&eK(n)}),wR.apply(this,arguments)}function tK(n,e){return CR.apply(this,arguments)}function CR(){return CR=_(function*(n,e){const t=ce(n);t.asyncQueue.verifyOperationInProgress(),te("RemoteStore","RemoteStore received new credentials");const i=Rl(t);t.vu.add(3),yield Gh(t),i&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield zg(t)}),CR.apply(this,arguments)}function TR(){return TR=_(function*(n,e){const t=ce(n);e?(t.vu.delete(2),yield zg(t)):e||(t.vu.add(2),yield Gh(t),t.bu.set("Unknown"))}),TR.apply(this,arguments)}function Wh(n){return n.Su||(n.Su=function(e,t,i){const r=ce(e);return r.fu(),new ADe(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:FDe.bind(null,n),ao:LDe.bind(null,n),nu:VDe.bind(null,n)}),n.Ru.push(function(){var e=_(function*(t){t?(n.Su.Qo(),fR(n)?hR(n):n.bu.set("Unknown")):(yield n.Su.stop(),XW(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function Nl(n){return n.Du||(n.Du=function(e,t,i){const r=ce(e);return r.fu(),new kDe(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:zDe.bind(null,n),ao:$De.bind(null,n),au:jDe.bind(null,n),cu:HDe.bind(null,n)}),n.Ru.push(function(){var e=_(function*(t){t?(n.Du.Qo(),yield qh(n)):(yield n.Du.stop(),n.Eu.length>0&&(te("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class IR{constructor(e,t,i,r,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Ci,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}static createAndSchedule(e,t,i,r,o){const s=Date.now()+i,a=new IR(e,t,s,r,o);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new J(z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Kh(n,e){if(ei("AsyncQueue",`${e}: ${n}`),Cl(n))return new J(z.UNAVAILABLE,`${e}: ${n}`);throw n}class Yh{constructor(e){this.comparator=e?(t,i)=>e(t,i)||ae.comparator(t.key,i.key):(t,i)=>ae.comparator(t.key,i.key),this.keyedMap=wg(),this.sortedSet=new cn(this.comparator)}static emptySet(e){return new Yh(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Yh)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new Yh;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class nK{constructor(){this.Cu=new cn(ae.comparator)}track(e){const t=e.doc.key,i=this.Cu.get(t);i?0!==e.type&&3===i.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==i.type?this.Cu=this.Cu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Cu=this.Cu.remove(t):1===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):pe():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,i)=>{e.push(i)}),e}}class Qh{constructor(e,t,i,r,o,s,a,l,c){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,t,i,r,o){const s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new Qh(e,t,Yh.emptySet(t),s,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class GDe{constructor(){this.Nu=void 0,this.listeners=[]}}class qDe{constructor(){this.queries=new Sa(e=>xq(e),vg),this.onlineState="Unknown",this.ku=new Set}}function DR(){return DR=_(function*(n,e){const t=ce(n),i=e.query;let r=!1,o=t.queries.get(i);if(o||(r=!0,o=new GDe),r)try{o.Nu=yield t.onListen(i)}catch(s){const a=Kh(s,`Initialization of query '${IP(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.listeners.push(e),e.Mu(t.onlineState),o.Nu&&e.$u(o.Nu)&&kR(t)}),DR.apply(this,arguments)}function AR(){return AR=_(function*(n,e){const t=ce(n),i=e.query;let r=!1;const o=t.queries.get(i);if(o){const s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),r=0===o.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),AR.apply(this,arguments)}function WDe(n,e){const t=ce(n);let i=!1;for(const r of e){const s=t.queries.get(r.query);if(s){for(const a of s.listeners)a.$u(r)&&(i=!0);s.Nu=r}}i&&kR(t)}function KDe(n,e,t){const i=ce(n),r=i.queries.get(e);if(r)for(const o of r.listeners)o.onError(t);i.queries.delete(e)}function kR(n){n.ku.forEach(e=>{e.next()})}class OR{constructor(e,t,i){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=i||{}}$u(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new Qh(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Qh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class oK{constructor(e){this.key=e}}class sK{constructor(e){this.key=e}}class aK{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Je(),this.mutatedKeys=Je(),this.tc=Cq(e),this.ec=new Yh(this.tc)}get nc(){return this.Yu}sc(e,t){const i=t?t.ic:new nK,r=t?t.ec:this.ec;let o=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const l="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,c="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((u,d)=>{const h=r.get(u),m=xg(this.query,d)?d:null,y=!!h&&this.mutatedKeys.has(h.key),C=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let T=!1;h&&m?h.data.isEqual(m.data)?y!==C&&(i.track({type:3,doc:m}),T=!0):this.rc(h,m)||(i.track({type:2,doc:m}),T=!0,(l&&this.tc(m,l)>0||c&&this.tc(m,c)<0)&&(a=!0)):!h&&m?(i.track({type:0,doc:m}),T=!0):h&&!m&&(i.track({type:1,doc:h}),T=!0,(l||c)&&(a=!0)),T&&(m?(s=s.add(m),o=C?o.add(u):o.delete(u)):(s=s.delete(u),o=o.delete(u)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const u="F"===this.query.limitType?s.last():s.first();s=s.delete(u.key),o=o.delete(u.key),i.track({type:1,doc:u})}return{ec:s,ic:i,zi:a,mutatedKeys:o}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const o=e.ic.xu();o.sort((c,u)=>function(d,h){const m=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pe()}};return m(d)-m(h)}(c.type,u.type)||this.tc(c.doc,u.doc)),this.oc(i);const s=t?this.uc():[],a=0===this.Zu.size&&this.current?1:0,l=a!==this.Xu;return this.Xu=a,0!==o.length||l?{snapshot:new Qh(this.query,e.ec,r,o,e.mutatedKeys,0===a,l,!1,!!i&&i.resumeToken.approximateByteSize()>0),cc:s}:{cc:s}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new nK,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Je(),this.ec.forEach(i=>{this.ac(i.key)&&(this.Zu=this.Zu.add(i.key))});const t=[];return e.forEach(i=>{this.Zu.has(i)||t.push(new sK(i))}),this.Zu.forEach(i=>{e.has(i)||t.push(new oK(i))}),t}hc(e){this.Yu=e.ir,this.Zu=Je();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return Qh.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class XDe{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class ZDe{constructor(e){this.key=e,this.fc=!1}}class JDe{constructor(e,t,i,r,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.dc={},this.wc=new Sa(a=>xq(a),vg),this._c=new Map,this.mc=new Set,this.gc=new cn(ae.comparator),this.yc=new Map,this.Ic=new qP,this.Tc={},this.Ec=new Map,this.Ac=ou.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function eSe(n,e){return PR.apply(this,arguments)}function PR(){return PR=_(function*(n,e){const t=function nN(n){const e=ce(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=lK.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=cSe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=iSe.bind(null,e),e.dc.nu=WDe.bind(null,e.eventManager),e.dc.Pc=KDe.bind(null,e.eventManager),e}(n);let i,r;const o=t.wc.get(e);if(o)i=o.targetId,t.sharedClientState.addLocalQueryTarget(i),r=o.view.lc();else{const s=yield function Hh(n,e){const t=ce(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Bs.getTargetData(i,e).next(o=>o?(r=o,V.resolve(r)):t.Bs.allocateTargetId(i).next(s=>(r=new ka(e,s,"TargetPurposeListen",i.currentSequenceNumber),t.Bs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.Ji.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(i.targetId,i),t.Yi.set(e,i.targetId)),i})}(t.localStore,Ir(e)),a=t.sharedClientState.addLocalQueryTarget(s.targetId);i=s.targetId,r=yield function RR(n,e,t,i,r){return NR.apply(this,arguments)}(t,e,i,"current"===a,s.resumeToken),t.isPrimaryClient&&Vx(t.remoteStore,s)}return r}),PR.apply(this,arguments)}function NR(){return NR=_(function*(n,e,t,i,r){n.Rc=(d,h,m)=>{return(y=_(function*(C,T,S,D){let F=T.view.sc(S);F.zi&&(F=yield Px(C.localStore,T.query,!1).then(({documents:ue})=>T.view.sc(ue,F)));const Y=D&&D.targetChanges.get(T.targetId),re=T.view.applyChanges(F,C.isPrimaryClient,Y);return GR(C,T.targetId,re.cc),re.snapshot}),function(C,T,S,D){return y.apply(this,arguments)})(n,d,h,m);var y};const o=yield Px(n.localStore,e,!0),s=new aK(e,o.ir),a=s.sc(o.documents),l=Dg.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,r),c=s.applyChanges(a,n.isPrimaryClient,l);GR(n,t,c.cc);const u=new XDe(e,t,s);return n.wc.set(e,u),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),c.snapshot}),NR.apply(this,arguments)}function tSe(n,e){return FR.apply(this,arguments)}function FR(){return FR=_(function*(n,e){const t=ce(n),i=t.wc.get(e),r=t._c.get(i.targetId);if(r.length>1)return t._c.set(i.targetId,r.filter(o=>!vg(o,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield $h(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),jg(t.remoteStore,i.targetId),Xh(t,i.targetId)}).catch(wl))):(Xh(t,i.targetId),yield $h(t.localStore,i.targetId,!0))}),FR.apply(this,arguments)}function LR(){return LR=_(function*(n,e,t){const i=iN(n);try{const r=yield function(o,s){const a=ce(o),l=On.now(),c=s.reduce((h,m)=>h.add(m.key),Je());let u,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let m=Gr(),y=Je();return a.Zi.getEntries(h,c).next(C=>{m=C,m.forEach((T,S)=>{S.isValidDocument()||(y=y.add(T))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,m)).next(C=>{u=C;const T=[];for(const S of s){const D=kMe(S,u.get(S.key).overlayedDocument);null!=D&&T.push(new Aa(S.key,D,aq(D.value.mapValue),wn.exists(!0)))}return a.mutationQueue.addMutationBatch(h,l,T,s)}).next(C=>{d=C;const T=C.applyToLocalDocumentSet(u,y);return a.documentOverlayCache.saveOverlays(h,C.batchId,T)})}).then(()=>({batchId:d.batchId,changes:Tq(u)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(o,s,a){let l=o.Tc[o.currentUser.toKey()];l||(l=new cn(Be)),l=l.insert(s,a),o.Tc[o.currentUser.toKey()]=l}(i,r.batchId,t),yield Oa(i,r.changes),yield qh(i.remoteStore)}catch(r){const o=Kh(r,"Failed to persist write");t.reject(o)}}),LR.apply(this,arguments)}function lK(n,e){return VR.apply(this,arguments)}function VR(){return VR=_(function*(n,e){const t=ce(n);try{const i=yield function wDe(n,e){const t=ce(n),i=e.snapshotVersion;let r=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=t.Zi.newChangeBuffer({trackRemovals:!0});r=t.Ji;const a=[];e.targetChanges.forEach((u,d)=>{const h=r.get(d);if(!h)return;a.push(t.Bs.removeMatchingKeys(o,u.removedDocuments,d).next(()=>t.Bs.addMatchingKeys(o,u.addedDocuments,d)));let m=h.withSequenceNumber(o.currentSequenceNumber);var y,C,T;null!==e.targetMismatches.get(d)?m=m.withResumeToken(Ei.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):u.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(u.resumeToken,i)),r=r.insert(d,m),C=m,T=u,(0===(y=h).resumeToken.approximateByteSize()||C.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8||T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0)&&a.push(t.Bs.updateTargetData(o,m))});let l=Gr(),c=Je();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,u))}),a.push(function UW(n,e,t){let i=Je(),r=Je();return t.forEach(o=>i=i.add(o)),e.getEntries(n,i).next(o=>{let s=Gr();return t.forEach((a,l)=>{const c=o.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(xe.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||0===l.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):te("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{nr:s,sr:r}})}(o,s,e.documentUpdates).next(u=>{l=u.nr,c=u.sr})),!i.isEqual(xe.min())){const u=t.Bs.getLastRemoteSnapshotVersion(o).next(d=>t.Bs.setTargetsMetadata(o,o.currentSequenceNumber,i));a.push(u)}return V.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,l,c)).next(()=>l)}).then(o=>(t.Ji=r,o))}(t.localStore,e);e.targetChanges.forEach((r,o)=>{const s=t.yc.get(o);s&&(ye(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?s.fc=!0:r.modifiedDocuments.size>0?ye(s.fc):r.removedDocuments.size>0&&(ye(s.fc),s.fc=!1))}),yield Oa(t,i,e)}catch(i){yield wl(i)}}),VR.apply(this,arguments)}function cK(n,e,t){const i=ce(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.wc.forEach((o,s)=>{const a=s.view.Mu(e);a.snapshot&&r.push(a.snapshot)}),function(o,s){const a=ce(o);a.onlineState=s;let l=!1;a.queries.forEach((c,u)=>{for(const d of u.listeners)d.Mu(s)&&(l=!0)}),l&&kR(a)}(i.eventManager,e),r.length&&i.dc.nu(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function iSe(n,e,t){return BR.apply(this,arguments)}function BR(){return BR=_(function*(n,e,t){const i=ce(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.yc.get(e),o=r&&r.key;if(o){let s=new cn(ae.comparator);s=s.insert(o,gn.newNoDocument(o,xe.min()));const a=Je().add(o),l=new Mg(xe.min(),new Map,new cn(Be),s,a);yield lK(i,l),i.gc=i.gc.remove(o),i.yc.delete(e),qR(i)}else yield $h(i.localStore,e,!1).then(()=>Xh(i,e,t)).catch(wl)}),BR.apply(this,arguments)}function rSe(n,e){return UR.apply(this,arguments)}function UR(){return UR=_(function*(n,e){const t=ce(n),i=e.batch.batchId;try{const r=yield function xDe(n,e){const t=ce(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),o=t.Zi.newChangeBuffer({trackRemovals:!0});return function(s,a,l,c){const u=l.batch,d=u.keys();let h=V.resolve();return d.forEach(m=>{h=h.next(()=>c.getEntry(a,m)).next(y=>{const C=l.docVersions.get(m);ye(null!==C),y.version.compareTo(C)<0&&(u.applyToRemoteDocument(y,l),y.isValidDocument()&&(y.setReadTime(l.commitVersion),c.addEntry(y)))})}),h.next(()=>s.mutationQueue.removeMutationBatch(a,u))}(t,i,e,o).next(()=>o.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(s){let a=Je();for(let l=0;l<s.mutationResults.length;++l)s.mutationResults[l].transformResults.length>0&&(a=a.add(s.batch.mutations[l].key));return a}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}(t.localStore,e);$R(t,i,null),HR(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield Oa(t,r)}catch(r){yield wl(r)}}),UR.apply(this,arguments)}function oSe(n,e,t){return zR.apply(this,arguments)}function zR(){return zR=_(function*(n,e,t){const i=ce(n);try{const r=yield function(o,s){const a=ce(o);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return a.mutationQueue.lookupMutationBatch(l,s).next(u=>(ye(null!==u),c=u.keys(),a.mutationQueue.removeMutationBatch(l,u))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,c,s)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>a.localDocuments.getDocuments(l,c))})}(i.localStore,e);$R(i,e,t),HR(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield Oa(i,r)}catch(r){yield wl(r)}}),zR.apply(this,arguments)}function HR(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function $R(n,e,t){const i=ce(n);let r=i.Tc[i.currentUser.toKey()];if(r){const o=r.get(e);o&&(t?o.reject(t):o.resolve(),r=r.remove(e)),i.Tc[i.currentUser.toKey()]=r}}function Xh(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n._c.get(e))n.wc.delete(i),t&&n.dc.Pc(i,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(i=>{n.Ic.containsKey(i)||uK(n,i)})}function uK(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(jg(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),qR(n))}function GR(n,e,t){for(const i of t)i instanceof oK?(n.Ic.addReference(i.key,e),aSe(n,i)):i instanceof sK?(te("SyncEngine","Document no longer in limbo: "+i.key),n.Ic.removeReference(i.key,e),n.Ic.containsKey(i.key)||uK(n,i.key)):pe()}function aSe(n,e){const t=e.key,i=t.path.canonicalString();n.gc.get(t)||n.mc.has(i)||(te("SyncEngine","New document in limbo: "+t),n.mc.add(i),qR(n))}function qR(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new ae(wt.fromString(e)),i=n.Ac.next();n.yc.set(i,new ZDe(t)),n.gc=n.gc.insert(t,i),Vx(n.remoteStore,new ka(Ir(Rh(t.path)),i,"TargetPurposeLimboResolution",so.ct))}}function Oa(n,e,t){return WR.apply(this,arguments)}function WR(){return WR=_(function*(n,e,t){const i=ce(n),r=[],o=[],s=[];var a;i.wc.isEmpty()||(i.wc.forEach((a,l)=>{s.push(i.Rc(l,e,t).then(c=>{if((c||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(l.targetId,c?.fromCache?"not-current":"current"),c){r.push(c);const u=XP.Li(l.targetId,c);o.push(u)}}))}),yield Promise.all(s),i.dc.nu(r),yield(a=_(function*(l,c){const u=ce(l);try{yield u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>V.forEach(c,h=>V.forEach(h.Fi,m=>u.persistence.referenceDelegate.addReference(d,h.targetId,m)).next(()=>V.forEach(h.Bi,m=>u.persistence.referenceDelegate.removeReference(d,h.targetId,m)))))}catch(d){if(!Cl(d))throw d;te("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const m=u.Ji.get(h),C=m.withLastLimboFreeSnapshotVersion(m.snapshotVersion);u.Ji=u.Ji.insert(h,C)}}}),function(l,c){return a.apply(this,arguments)})(i.localStore,o))}),WR.apply(this,arguments)}function lSe(n,e){return KR.apply(this,arguments)}function KR(){return KR=_(function*(n,e){const t=ce(n);if(!t.currentUser.isEqual(e)){te("SyncEngine","User change. New user:",e.toKey());const i=yield VW(t.localStore,e);t.currentUser=e,(r=t).Ec.forEach(s=>{s.forEach(a=>{a.reject(new J(z.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.Ec.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Oa(t,i.er)}var r}),KR.apply(this,arguments)}function cSe(n,e){const t=ce(n),i=t.yc.get(e);if(i&&i.fc)return Je().add(i.key);{let r=Je();const o=t._c.get(e);if(!o)return r;for(const s of o){const a=t.wc.get(s);r=r.unionWith(a.view.nc)}return r}}function iN(n){const e=ce(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=rSe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=oSe.bind(null,e),e}class Zh{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return _(function*(){t.serializer=Ug(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return LW(this.persistence,new FW,e.initialUser,this.serializer)}createPersistence(e){return new WP(Ax.zs,this.serializer)}createSharedClientState(e){return new qW}terminate(){var e=this;return _(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class rN extends Zh{constructor(e,t,i){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return _(function*(){yield t().call(i,e),yield i.Vc.initialize(i,e),yield iN(i.Vc.syncEngine),yield qh(i.Vc.remoteStore),yield i.persistence.Ii(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return LW(this.persistence,new FW,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new MW(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const i=new $Ie(t,this.persistence);return new HIe(e.asyncQueue,i)}createPersistence(e){const t=function QP(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?dr.withCacheSize(this.cacheSizeBytes):dr.DEFAULT;return new YP(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,function KW(){return typeof window<"u"?window:null}(),Lx(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new qW}}class Jh{initialize(e,t){var i=this;return _(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>cK(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=lSe.bind(null,i.syncEngine),yield function ER(n,e){return TR.apply(this,arguments)}(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new qDe}createDatastore(e){const t=Ug(e.databaseInfo.databaseId),i=new SDe(e.databaseInfo);return new ODe(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,o=a=>cK(this.syncEngine,a,0),s=WW.D()?new WW:new IDe,new NDe(t,i,r,o,s);var t,i,r,o,s}createSyncEngine(e,t){return function(i,r,o,s,a,l,c){const u=new JDe(i,r,o,s,a,l);return c&&(u.vc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=_(function*(t){const i=ce(t);te("RemoteStore","RemoteStore shutting down."),i.vu.add(5),yield Gh(i),i.Pu.shutdown(),i.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class Ux{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):ei("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class wSe{constructor(e,t,i,r){var o=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=Oi.UNAUTHENTICATED,this.clientId=LG.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var s=_(function*(a){te("FirestoreClient","Received user=",a.uid),yield o.authCredentialListener(a),o.user=a});return function(a){return s.apply(this,arguments)}}()),this.appCheckCredentials.start(i,s=>(te("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}getConfiguration(){var e=this;return _(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new J(z.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Ci;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(_(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=Kh(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function zx(n,e){return oN.apply(this,arguments)}function oN(){return oN=_(function*(n,e){n.asyncQueue.verifyOperationInProgress(),te("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=_(function*(o){i.isEqual(o)||(yield VW(e.localStore,o),i=o)});return function(o){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),oN.apply(this,arguments)}function sN(n,e){return aN.apply(this,arguments)}function aN(){return aN=_(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function lN(n){return cN.apply(this,arguments)}(n);te("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>tK(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>tK(e.remoteStore,o)),n._onlineComponents=e}),aN.apply(this,arguments)}function mK(n){return"FirebaseError"===n.name?n.code===z.FAILED_PRECONDITION||n.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function cN(){return cN=_(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){te("FirestoreClient","Using user provided OfflineComponentProvider");try{yield zx(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!mK(t))throw t;qo("Error using user provided cache. Falling back to memory cache: "+t),yield zx(n,new Zh)}}else te("FirestoreClient","Using default OfflineComponentProvider"),yield zx(n,new Zh);return n._offlineComponents}),cN.apply(this,arguments)}function jx(n){return uN.apply(this,arguments)}function uN(){return uN=_(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(te("FirestoreClient","Using user provided OnlineComponentProvider"),yield sN(n,n._uninitializedComponentsProvider._online)):(te("FirestoreClient","Using default OnlineComponentProvider"),yield sN(n,new Jh))),n._onlineComponents}),uN.apply(this,arguments)}function hN(){return hN=_(function*(n){const e=yield jx(n),t=e.eventManager;return t.onListen=eSe.bind(null,e.syncEngine),t.onUnlisten=tSe.bind(null,e.syncEngine),t}),hN.apply(this,arguments)}function vK(n,e,t={}){const i=new Ci;return n.asyncQueue.enqueueAndForget(_(function*(){return function(r,o,s,a,l){const c=new Ux({next:d=>{o.enqueueAndForget(()=>function SR(n,e){return AR.apply(this,arguments)}(r,u)),d.fromCache&&"server"===a.source?l.reject(new J(z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(d)},error:d=>l.reject(d)}),u=new OR(s,c,{includeMetadataChanges:!0,Ku:!0});return function MR(n,e){return DR.apply(this,arguments)}(r,u)}(yield function ef(n){return hN.apply(this,arguments)}(n),n.asyncQueue,e,t,i)})),i.promise}function xK(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const wK=new Map;function fN(n,e,t){if(!t)throw new J(z.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function CK(n){if(!ae.isDocumentKey(n))throw new J(z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function EK(n){if(ae.isDocumentKey(n))throw new J(z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function $x(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":pe()}function yt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new J(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=$x(n);throw new J(z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class IK{constructor(e){var t,i;if(void 0===e.host){if(void 0!==e.ssl)throw new J(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new J(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function kSe(n,e,t,i){if(!0===e&&!0===i)throw new J(z.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=xK(null!==(i=e.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(r){if(void 0!==r.timeoutSeconds){if(isNaN(r.timeoutSeconds))throw new J(z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new J(z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new J(z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Hg{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new IK({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new J(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new J(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new IK(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new kIe;switch(t.type){case"firstParty":return new NIe(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new J(z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=wK.get(e);t&&(te("ComponentProvider","Removing Datastore"),wK.delete(e),t.terminate())}(this),Promise.resolve()}}class ii{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Bs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ii(this.firestore,e,this._key)}}class Qi{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Qi(this.firestore,e,this._query)}}class Bs extends Qi{constructor(e,t,i){super(e,t,Rh(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ii(this.firestore,null,new ae(e))}withConverter(e){return new Bs(this.firestore,e,this._path)}}function PSe(n,e,...t){if(n=kt(n),fN("collection","path",e),n instanceof Hg){const i=wt.fromString(e,...t);return EK(i),new Bs(n,null,i)}{if(!(n instanceof ii||n instanceof Bs))throw new J(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(wt.fromString(e,...t));return EK(i),new Bs(n.firestore,null,i)}}function MK(n,e,...t){if(n=kt(n),1===arguments.length&&(e=LG.A()),fN("doc","path",e),n instanceof Hg){const i=wt.fromString(e,...t);return CK(i),new ii(n,null,new ae(i))}{if(!(n instanceof ii||n instanceof Bs))throw new J(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(wt.fromString(e,...t));return CK(i),new ii(n.firestore,n instanceof Bs?n.converter:null,new ae(i))}}class RSe{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new aR(this,"async_queue_retry"),this.Xc=()=>{const t=Lx();t&&te("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=Lx();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=Lx();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Ci;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return _(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Cl(t))throw t;te("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(i=>{throw this.Wc=i,this.Hc=!1,ei("INTERNAL UNHANDLED ERROR: ",function(o){let s=o.message||"";return o.stack&&(s=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),s}(i)),i}).then(i=>(this.Hc=!1,i))));return this.Gc=t,t}enqueueAfterDelay(e,t,i){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const r=IR.createAndSchedule(this,e,t,i,o=>this.na(o));return this.zc.push(r),r}Zc(){this.Wc&&pe()}verifyOperationInProgress(){}sa(){var e=this;return _(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}class _n extends Hg{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new RSe,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||SK(this),this._firestoreClient.terminate()}}function FSe(n,e){const i="string"==typeof n?n:e||"(default)",r=ha("object"==typeof n?n:ch(),"firestore").getImmediate({identifier:i});if(!r._initialized){const o=Hv("firestore");o&&function OSe(n,e,t,i={}){var r;const o=(n=yt(n,Hg))._getSettings(),s=`${e}:${t}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&qo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),i.mockUserToken){let a,l;if("string"==typeof i.mockUserToken)a=i.mockUserToken,l=Oi.MOCK_USER;else{a=NM(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new J(z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Oi(c)}n._authCredentials=new OIe(new NG(a,l))}}(r,...o)}return r}function ui(n){return n._firestoreClient||SK(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function SK(n){var e,t,i;const r=n._freezeSettings(),o=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new uMe(n._databaseId,a,n._persistenceKey,(c=r).host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,xK(c.experimentalLongPollingOptions),c.useFetchStreams));var a,c;n._firestoreClient=new wSe(n._authCredentials,n._appCheckCredentials,n._queue,o),null!==(t=r.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(i=r.cache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}function LSe(n,e){!function kK(n){if(n._initialized||n._terminated)throw new J(z.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}(n=yt(n,_n));const t=ui(n);if(t._uninitializedComponentsProvider)throw new J(z.FAILED_PRECONDITION,"SDK cache is already specified.");qo("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),r=new Jh;return function AK(n,e,t){const i=new Ci;return n.asyncQueue.enqueue(_(function*(){try{yield zx(n,t),yield sN(n,e),i.resolve()}catch(r){const o=r;if(!mK(o))throw o;qo("Error enabling indexeddb cache. Falling back to memory cache: "+o),i.reject(o)}})).then(()=>i.promise)}(t,r,new rN(r,i.cacheSizeBytes,e?.forceOwnership))}class au{constructor(e){this._byteString=e}static fromBase64String(e){try{return new au(Ei.fromBase64String(e))}catch(t){throw new J(z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new au(Ei.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class lu{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new J(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ti(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class tf{constructor(e){this._methodName=e}}class mN{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new J(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new J(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Be(this._lat,e._lat)||Be(this._long,e._long)}}const BSe=/^__.*__$/;class USe{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new Aa(e,this.data,this.fieldMask,t,this.fieldTransforms):new Lh(e,this.data,t,this.fieldTransforms)}}class OK{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Aa(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function PK(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pe()}}class Gx{constructor(e,t,i,r,o,s){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===o&&this.ua(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Gx(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:i,la:!1});return r.fa(e),r}da(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:i,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Kx(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(PK(this.ca)&&BSe.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class zSe{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Ug(e)}ya(e,t,i,r=!1){return new Gx({ca:e,methodName:t,ga:i,path:ti.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function cu(n){const e=n._freezeSettings(),t=Ug(n._databaseId);return new zSe(n._databaseId,!!e.ignoreUndefinedProperties,t)}function qx(n,e,t,i,r,o={}){const s=n.ya(o.merge||o.mergeFields?2:0,e,t,r);yN("Data must be an object, but it was:",s,i);const a=FK(i,s);let l,c;if(o.merge)l=new $r(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const u=[];for(const d of o.mergeFields){const h=qg(e,d,t);if(!s.contains(h))throw new J(z.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);VK(u,h)||u.push(h)}l=new $r(u),c=s.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=s.fieldTransforms;return new USe(new Yi(a),l,c)}class Gg extends tf{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Gg}}function uu(n,e){if(LK(n=kt(n)))return yN("Unsupported field value:",e,n),FK(n,e);if(n instanceof tf)return function(t,i){if(!PK(i.ca))throw i._a(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i._a(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,i){const r=[];let o=0;for(const s of t){let a=uu(s,i.wa(o));null==a&&(a={nullValue:"NULL_VALUE"}),r.push(a),o++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=kt(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Sq(i.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=On.fromDate(t);return{timestampValue:Bh(i.serializer,r)}}if(t instanceof On){const r=new On(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Bh(i.serializer,r)}}if(t instanceof mN)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof au)return{bytesValue:Qq(i.serializer,t._byteString)};if(t instanceof ii){const r=i.databaseId,o=t.firestore._databaseId;if(!o.isEqual(r))throw i._a(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:NP(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i._a(`Unsupported field value: ${$x(t)}`)}(n,e)}function FK(n,e){const t={};return ZG(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):El(n,(i,r)=>{const o=uu(r,e.ha(i));null!=o&&(t[i]=o)}),{mapValue:{fields:t}}}function LK(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof On||n instanceof mN||n instanceof au||n instanceof ii||n instanceof tf)}function yN(n,e,t){if(!LK(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=$x(t);throw e._a("an object"===i?n+" a custom object":n+" "+i)}var i}function qg(n,e,t){if((e=kt(e))instanceof lu)return e._internalPath;if("string"==typeof e)return Wx(n,e);throw Kx("Field path arguments must be of type string or ",n,!1,void 0,t)}const GSe=new RegExp("[~\\*/\\[\\]]");function Wx(n,e,t){if(e.search(GSe)>=0)throw Kx(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new lu(...e.split("."))._internalPath}catch{throw Kx(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Kx(n,e,t,i,r){const o=i&&!i.isEmpty(),s=void 0!==r;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${i}`),s&&(l+=` in document ${r}`),l+=")"),new J(z.INVALID_ARGUMENT,a+n+l)}function VK(n,e){return n.some(t=>t.isEqual(e))}class Wg{constructor(e,t,i,r,o){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ii(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new qSe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Yx("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class qSe extends Wg{data(){return super.data()}}function Yx(n,e){return"string"==typeof e?Wx(n,e):e instanceof lu?e._internalPath:e._delegate._internalPath}class vN{}class Kg extends vN{}function WSe(n,e,...t){let i=[];e instanceof vN&&i.push(e),i=i.concat(t),function(r){const o=r.filter(a=>a instanceof nf).length,s=r.filter(a=>a instanceof Yg).length;if(o>1||o>0&&s>0)throw new J(z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class Yg extends Kg{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Yg(e,t,i)}_apply(e){const t=this._parse(e);return HK(e._query,t),new Qi(e.firestore,e.converter,TP(e._query,t))}_parse(e){const t=cu(e.firestore);return function(r,o,s,a,l,c,u){let d;if(l.isKeyField()){if("array-contains"===c||"array-contains-any"===c)throw new J(z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if("in"===c||"not-in"===c){jK(u,c);const h=[];for(const m of u)h.push(zK(a,r,m));d={arrayValue:{values:h}}}else d=zK(a,r,u)}else"in"!==c&&"not-in"!==c&&"array-contains-any"!==c||jK(u,c),d=function NK(n,e,t,i=!1){return uu(t,n.ya(i?4:3,e))}(s,"where",u,"in"===c||"not-in"===c);return gt.create(l,c,d)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}function KSe(n,e,t){const i=e,r=Yx("where",n);return Yg._create(r,i,t)}class nf extends vN{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new nf(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:zt.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,r){let o=i;const s=r.getFlattenedFilters();for(const a of s)HK(o,a),o=TP(o,a)}(e._query,t),new Qi(e.firestore,e.converter,TP(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function zK(n,e,t){if("string"==typeof(t=kt(t))){if(""===t)throw new J(z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!EP(e)&&-1!==t.indexOf("/"))throw new J(z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(wt.fromString(t));if(!ae.isDocumentKey(i))throw new J(z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Yc(n,new ae(i))}if(t instanceof ii)return Yc(n,t._key);throw new J(z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$x(t)}.`)}function jK(n,e){if(!Array.isArray(n)||0===n.length)throw new J(z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function HK(n,e){if(e.isInequality()){const i=mx(n),r=e.field;if(null!==i&&!i.isEqual(r))throw new J(z.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const o=CP(n);null!==o&&function $K(n,e,t){if(!t.isEqual(e))throw new J(z.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}(0,r,o)}const t=function(i,r){for(const o of i)for(const s of o.getFlattenedFilters())if(r.indexOf(s.op)>=0)return s.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new J(z.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class qK{convertValue(e,t="none"){switch(Ml(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Hn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ma(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw pe()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return El(e,(r,o)=>{i[r]=this.convertValue(o,t)}),i}convertGeoPoint(e){return new mN(Hn(e.latitude),Hn(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=cx(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(mg(e));default:return null}}convertTimestamp(e){const t=Tl(e);return new On(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=wt.fromString(e);ye(sW(i));const r=new Kc(i.get(1),i.get(3)),o=new ae(i.popFirst(5));return r.isEqual(t)||ei(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}class du{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class rf extends Wg{constructor(e,t,i,r,o,s){super(e,t,i,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new ew(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Yx("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class ew extends rf{data(e={}){return super.data(e)}}class sf{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new du(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new ew(this._firestore,this._userDataWriter,i.key,i,new du(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new J(z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(s=>({type:"added",doc:new ew(i._firestore,i._userDataWriter,s.doc.key,s.doc,new du(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(s=>r||3!==s.type).map(s=>{const a=new ew(i._firestore,i._userDataWriter,s.doc.key,s.doc,new du(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,c=-1;return 0!==s.type&&(l=o.indexOf(s.doc.key),o=o.delete(s.doc.key)),1!==s.type&&(o=o.add(s.doc),c=o.indexOf(s.doc.key)),{type:XSe(s.type),doc:a,oldIndex:l,newIndex:c}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function XSe(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pe()}}class Fl extends qK{constructor(e){super(),this.firestore=e}convertBytes(e){return new au(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ii(this.firestore,null,t)}}function ZSe(n){n=yt(n,Qi);const e=yt(n.firestore,_n),t=ui(e),i=new Fl(e);return function BK(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new J(z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query),vK(t,n._query).then(r=>new sf(e,i,n,r))}function JSe(n,e,t){n=yt(n,ii);const i=yt(n.firestore,_n),r=function Jx(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}(n.converter,e,t);return Qg(i,[qx(cu(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,wn.none())])}function eAe(n,e,t,...i){n=yt(n,ii);const r=yt(n.firestore,_n),o=cu(r);let s;return s="string"==typeof(e=kt(e))||e instanceof lu?function bN(n,e,t,i,r,o){const s=n.ya(1,e,t),a=[qg(e,i,t)],l=[r];if(o.length%2!=0)throw new J(z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)a.push(qg(e,o[h])),l.push(o[h+1]);const c=[],u=Yi.empty();for(let h=a.length-1;h>=0;--h)if(!VK(c,a[h])){const m=a[h];let y=l[h];y=kt(y);const C=s.da(m);if(y instanceof Gg)c.push(m);else{const T=uu(y,C);null!=T&&(c.push(m),u.set(m,T))}}const d=new $r(c);return new OK(u,d,s.fieldTransforms)}(o,"updateDoc",n._key,e,t,i):function _N(n,e,t,i){const r=n.ya(1,e,t);yN("Data must be an object, but it was:",r,i);const o=[],s=Yi.empty();El(i,(l,c)=>{const u=Wx(e,l,t);c=kt(c);const d=r.da(u);if(c instanceof Gg)o.push(u);else{const h=uu(c,d);null!=h&&(o.push(u),s.set(u,h))}});const a=new $r(o);return new OK(s,a,r.fieldTransforms)}(o,"updateDoc",n._key,e),Qg(r,[s.toMutation(n._key,wn.exists(!0))])}function tAe(n){return Qg(yt(n.firestore,_n),[new Vh(n._key,wn.none())])}function Qg(n,e){return function(t,i){const r=new Ci;return t.asyncQueue.enqueueAndForget(_(function*(){return function nSe(n,e,t){return LR.apply(this,arguments)}(yield function dN(n){return jx(n).then(e=>e.syncEngine)}(t),i,r)})),r.promise}(ui(n),e)}!function(n,e=!0){Dh=pa,Mi(new xi("firestore",(t,{instanceIdentifier:i,options:r})=>{const o=t.getProvider("app").getImmediate(),s=new _n(new PIe(t.getProvider("auth-internal")),new FIe(t.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new J(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Kc(a.options.projectId,l)}(o,i),o);return r=Object.assign({useFetchStreams:e},r),s._setSettings(r),s},"PUBLIC").setMultipleInstances(!0)),Nt(RG,"3.13.0",n),Nt(RG,"3.13.0","esm2017")}();class rt{constructor(e){return e}}const KK="firestore",CN=new X("angularfire2.firestore-instances");function mAe(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new rt(i)}}const gAe={provide:class fAe{constructor(){return ph(KK)}},deps:[[new Gt,CN]]},_Ae={provide:rt,useFactory:function pAe(n,e){const t=fh(KK,n,e);return t&&new rt(t)},deps:[[new Gt,CN],ba]};let bAe=(()=>{class n{constructor(){Nt("angularfire",hh.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=nt({type:n}),n.\u0275inj=Xe({providers:[_Ae,gAe]}),n})();function yAe(n,...e){return{ngModule:bAe,providers:[{provide:CN,useFactory:mAe(n),multi:!0,deps:[Te,qt,wm,Cm,[new Gt,S0],[new Gt,Im],...e]}]}}const _e=Jn(PSe,!0),Pn=Jn(tAe,!0),De=Jn(MK,!0),vAe=Jn(LSe,!0),he=Jn(ZSe,!0),xAe=Jn(FSe,!0),Ot=Jn(WSe,!0),Co=Jn(JSe,!0),Xi=Jn(eAe,!0),Kt=Jn(KSe,!0);let EN;try{EN=typeof Intl<"u"&&Intl.v8BreakIterator}catch{EN=!1}let Xg,hu,TN,Ti=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?iv(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!EN)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(i){return new(i||n)(U(po))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Zg(n){return function wAe(){if(null==Xg&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Xg=!0}))}finally{Xg=Xg||!1}return Xg}()?n:!!n.capture}function CAe(){if(null==hu){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return hu=!1,hu;if("scrollBehavior"in document.documentElement.style)hu=!0;else{const n=Element.prototype.scrollTo;hu=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return hu}function IN(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function Vl(n){return n.composedPath?n.composedPath()[0]:n.target}function MN(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}const IAe=[{path:"auth",component:_$,children:[{path:"login",component:(()=>{class n{constructor(t,i,r,o){this.auth=t,this.router=i,this.firestore=r,this.platform=o,this.data=[],this.nid=1,this.hidInstText=!0,this.hidInstBut=!0,this.getData(),this.platform.IOS&&(this.hidInstText=!1,this.hidInstBut=!0),this.platform.ANDROID&&(this.hidInstText=!0,this.hidInstBut=!1),window.addEventListener("appinstalled",()=>{this.disableInAppInstallPrompt(),this.hidInstBut=!0}),window.addEventListener("beforeinstallprompt",s=>{s.preventDefault(),this.promptEvent=s})}getData(){const t=_e(this.firestore,"users");he(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}Signup(){this.router.navigate(["/auth/signup"])}Salir(){wi(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}Credits(){this.router.navigate(["/auth/credits"])}disableInAppInstallPrompt(){this.hidInstBut=!0}Login(){this.router.navigate(["/auth/login"])}installPwa(){this.promptEvent.prompt()}handleLogin(t){var i=this;return _(function*(){let r;xO(i.auth,t.email,t.password).then(function(){var o=_(function*(s){i.current=s.user.email,r=s.user.email;const a=Ot(_e(i.firestore,"users"),Kt("email","==",r));(yield he(a)).forEach(c=>{let u=c.data();"Adminitrador"==u.role?i.router.navigate(["/admin/land"]):"Investigador"==u.role?i.router.navigate(["/user/land"]):"Cliente"==u.role&&i.router.navigate(["/client/land"])})});return function(s){return o.apply(this,arguments)}}()).catch(o=>{alert(o.message)})})()}static{this.\u0275fac=function(i){return new(i||n)(E(He),E(Me),E(rt),E(Ti))}}static{this.\u0275cmp=ve({type:n,selectors:[["app-login"]],decls:34,vars:2,consts:[[1,"base"],[1,"installButton",3,"hidden","click"],[1,"install",3,"hidden"],["id","share","src","../../../../assets/share.png","alt","share"],[1,"infoText"],[1,"footer"],[1,"footerText"],[1,"Orange",3,"click"],[1,"loginBox"],[1,"loginTile"],[1,"lineBlack"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"userText"],["name","email","ngModel","","placeholder","Email","id","email","type","email",1,"input-field"],[1,"claveText"],["name","password","ngModel","","placeholder","Password","id","password","type","password",1,"input-field"],[1,"boton"]],template:function(i,r){if(1&i){const o=Tt();p(0,"div",0)(1,"button",1),B("click",function(){return r.installPwa()}),g(2,"Instalar"),f(),p(3,"div",2)(4,"span"),g(5,"Para instalar en tu dispositivo m\xf3vil, pulsa el boton de inicio \u201cCompartir\u201d "),$(6,"img",3),g(7," y selecionar \u201cAgregar a Inicio\u201d"),f()(),p(8,"div",4)(9,"span"),g(10," Bienvenido al sistema de Gesti\xf3n de Muestras de Campo. Nuestra plataforma est\xe1 dise\xf1ada para centralizar y optimizar el ciclo de vida completo de las muestras, desde el registro de las Unidades de Producci\xf3n y la toma en campo, hasta el seguimiento y la visualizaci\xf3n de los resultados. Ingrese con sus credenciales para acceder a herramientas espec\xedficas que garantizan la seguridad, la precisi\xf3n en la identificaci\xf3n de las muestras y la m\xe1xima eficiencia en su flujo de trabajo investigativo. "),f()(),p(11,"div",5)(12,"div",6)(13,"span"),g(14,"Universidad Central de Venezuela (UCV) \xb7 Facultad Ciencias \xb7 "),f(),p(15,"span",7),B("click",function(){return r.Credits()}),g(16,"Cr\xe9ditos"),f()()()(),p(17,"div",8)(18,"span",9),g(19,"Iniciar Sesi\xf3n"),f(),$(20,"div",10),p(21,"form",11,12),B("ngSubmit",function(){Re(o);const a=fn(22);return Ne(r.handleLogin(a.value))}),p(23,"div",13)(24,"div",14)(25,"p",15),g(26,"Email: "),f(),$(27,"input",16),f(),p(28,"div",14)(29,"p",17),g(30,"Clave: "),f(),$(31,"input",18),f(),p(32,"button",19),g(33,"Log In"),f()()()()}2&i&&(N(),ct("hidden",r.hidInstBut),N(2),ct("hidden",r.hidInstText))},dependencies:[ai,sr,Vr,si,Cr,Vn],styles:[".installButton[_ngcontent-%COMP%]{border:none;background-color:#3eb3c2;box-shadow:2px 2px 5px #000;color:#fff;padding-bottom:5px;padding-top:5px;width:200px;height:60px;text-align:center;text-decoration:none;font-size:40px;font-weight:700;cursor:pointer;border-radius:30px}.install[_ngcontent-%COMP%]{color:#000;width:375px;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;font-weight:700}#share[_ngcontent-%COMP%]{width:20px;height:23.636362075805664px;background-repeat:no-repeat;background-size:cover;border-radius:5px}.infoText[_ngcontent-%COMP%]{color:#000;width:500px;position:absolute;top:clamp(110px,calc(50% - 130px),100%);left:clamp(10px,calc(50% - 550px),100%);font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;font-weight:400;text-align:justify;margin:20px}.footer[_ngcontent-%COMP%]{width:700px;position:absolute;bottom:50px;left:50%;transform:translate(-50%);text-align:center}.footerText[_ngcontent-%COMP%]{color:#000;position:relative;display:inline-block;left:30px;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0}.Orange[_ngcontent-%COMP%]{cursor:pointer;text-decoration:underline;font-weight:700}.Orange[_ngcontent-%COMP%]:hover{text-decoration:underline;color:orange}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:400px;height:265px;position:absolute;top:clamp(110px,calc(50% - 130px),100%);left:clamp(570px,calc(50% + 30px),100%)}.loginTile[_ngcontent-%COMP%]{color:#000;width:200px;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;top:10px;left:clamp(0%,calc(50% - 100px),100%)}.lineBlack[_ngcontent-%COMP%]{width:calc(100% - 1px);height:0px;position:absolute;border:1px solid rgba(0,0,0,1);top:55px;left:0}.main[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;height:210px;position:absolute;top:55px;left:0}.input-fields[_ngcontent-%COMP%]{margin:5px 5px 5px 15px}.input-field[_ngcontent-%COMP%]{width:100%;height:20px}#email[_ngcontent-%COMP%]{width:350px;height:26px}.userText[_ngcontent-%COMP%]{color:#000;font-family:Arial;font-size:20px;letter-spacing:0;margin:5px 0}#password[_ngcontent-%COMP%]{width:350px;height:26px}.claveText[_ngcontent-%COMP%]{color:#000;font-family:Arial;font-size:20px;letter-spacing:0;margin:5px 0}button[_ngcontent-%COMP%]{width:100px;height:40px;margin-top:10px;margin-left:15px;cursor:pointer}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;width:80px;height:35px;border-width:0;border-radius:30px;font-size:16px}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.loginBox[_ngcontent-%COMP%]{width:350px;height:260px;position:absolute;top:360px;left:calc(50% - 175px);margin-top:10px}.infoText[_ngcontent-%COMP%]{width:auto;height:auto;position:absolute;top:120px;left:0;margin:10px;padding-left:15px;font-family:Arial;text-align:left;font-size:16px;letter-spacing:0;font-weight:400}.installButton[_ngcontent-%COMP%]{position:absolute;top:660px;left:calc(50% - 88px);transform:none;width:160px;height:50px;text-align:center;font-size:28px}.install[_ngcontent-%COMP%]{position:absolute;top:650px;left:0;margin:15px 10px 10px;padding-left:5px;width:auto;height:auto;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;font-weight:400;font-style:italic}.footer[_ngcontent-%COMP%]{width:auto;position:absolute;top:clamp(780px,calc(100% - 25px),100%);left:0;transform:none;text-align:center}.footerText[_ngcontent-%COMP%]{color:#000;position:relative;display:inline-block;left:0;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0}}"]})}}return n})()},{path:"signup",component:(()=>{class n{constructor(t,i,r){this.auth=t,this.firestore=i,this.router=r,this.title="gestion-de-muestras-de-campo",this.data=[],this.getData()}Login(){this.router.navigate(["/auth/login"])}handleRegister(t){g$(this.auth,t.email,t.password).then(i=>{console.log(i.user)}).catch(i=>{alert(i.message)}),this.addData(t),this.Login()}addData(t){const i=De(this.firestore,"users",t.email);t.password==t.confirmpassword?"Invetigador"==t.role||"Cliente"==t.role?Co(i,{email:t.email,role:t.role,password:t.password}).then(()=>{alert("Data Sent")}).catch(r=>{alert(r.message)}):alert("Rol no reconocido"):alert("Claves No Iguales")}getData(){const t=_e(this.firestore,"users");he(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}Salir(){wi(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}static{this.\u0275fac=function(i){return new(i||n)(E(He),E(rt),E(Me))}}static{this.\u0275cmp=ve({type:n,selectors:[["app-signup"]],decls:29,vars:0,consts:[[1,"loginBox"],[1,"loginTile"],[1,"lineBlack"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"userText"],["name","email","ngModel","","placeholder","Email","id","email","type","email",1,"input-field"],[1,"roleText"],["list","roles","name","role","ngModel","","placeholder","Roles","id","role","type","role",1,"input-field"],["id","roles"],["value","Investigador"],["value","Cliente"],[1,"claveText"],["name","password","ngModel","","placeholder","Clave","id","password","type","password",1,"input-field"],[1,"clave2Text"],["name","confirmpassword","ngModel","","placeholder","Confirmar Clave","id","confirmpassword","type","password",1,"input-field"],[1,"boton"],[1,"salir",3,"click"]],template:function(i,r){if(1&i){const o=Tt();$(0,"div",0),p(1,"span",1),g(2,"Registrar"),f(),$(3,"div",2),p(4,"form",3,4),B("ngSubmit",function(){Re(o);const a=fn(5);return Ne(r.handleRegister(a.value))}),p(6,"div",5)(7,"div",6)(8,"span",7),g(9,"Email:"),f(),$(10,"input",8),f(),p(11,"div",6)(12,"span",9),g(13,"Roles:"),f(),$(14,"input",10),p(15,"datalist",11),$(16,"option",12)(17,"option",13),f()(),p(18,"div",6)(19,"span",14),g(20,"Clave:"),f(),$(21,"input",15),f(),p(22,"div",6)(23,"span",16),g(24,"Confirmar Clave:"),f(),$(25,"input",17),f(),p(26,"button",18),g(27,"Sign Up"),f()()(),p(28,"button",19),B("click",function(){return r.Salir()}),f()}},dependencies:[ai,la,ca,sr,Vr,si,Cr,Vn],styles:[".input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}.main[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;width:600px;height:400px;position:absolute;top:37%;left:50%;transform:translate(-50%)}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:600px;height:400px;position:absolute;top:37%;left:50%;transform:translate(-50%)}.loginTile[_ngcontent-%COMP%]{color:#000;width:600px;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;top:39.5%;left:50%;transform:translate(-50%)}.lineBlack[_ngcontent-%COMP%]{width:600px;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);top:45%;left:50%;transform:translate(-50%)}#email[_ngcontent-%COMP%]{width:300px;height:26px;margin-left:5px}.userText[_ngcontent-%COMP%]{color:#000;margin-left:93px;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0}#password[_ngcontent-%COMP%]{width:300px;height:26px;margin-left:5px}.claveText[_ngcontent-%COMP%]{color:#000;margin-left:93px;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0}#role[_ngcontent-%COMP%]{width:300px;height:26px;margin-left:5px}.roleText[_ngcontent-%COMP%]{color:#000;margin-left:93px;width:150px;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0}#confirmpassword[_ngcontent-%COMP%]{width:300px;height:26px;margin-left:5px}.clave2Text[_ngcontent-%COMP%]{color:#000;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;width:80px;height:35px;border-width:0;border-radius:30px;font-size:16px;position:absolute;left:72%;top:75%}.botonText[_ngcontent-%COMP%]{color:#fff;width:80px;height:35px;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;position:absolute;left:72%;top:75%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.main[_ngcontent-%COMP%]{display:flex;width:100vw;height:100vh;justify-content:center;align-items:center;flex-direction:column;top:0%}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:65%;transform:none;position:absolute;left:15%;top:25%}.loginTile[_ngcontent-%COMP%]{color:#000;width:75%;height:20%;transform:none;position:absolute;font-family:Arial;text-align:center;font-size:24px;letter-spacing:0;left:16%;top:26%}.lineBlack[_ngcontent-%COMP%]{width:75%;height:0px;transform:none;position:absolute;border:1px solid rgba(0,0,0,1);left:15%;top:32%}#email[_ngcontent-%COMP%]{width:60%;height:3%;position:absolute;left:20%;top:40%}.userText[_ngcontent-%COMP%]{color:#000;width:10%;height:5%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:0%;top:35%}#role[_ngcontent-%COMP%]{width:30%;height:3%;position:absolute;left:20%;top:60%}.roleText[_ngcontent-%COMP%]{color:#000;width:15%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:0%;top:55%}#password[_ngcontent-%COMP%]{width:60%;height:3%;position:absolute;left:20%;top:50%}.claveText[_ngcontent-%COMP%]{color:#000;width:10%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:0%;top:45%}#confirmpassword[_ngcontent-%COMP%]{width:60%;height:3%;position:absolute;left:20%;top:70%}.clave2Text[_ngcontent-%COMP%]{color:#000;width:60%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:20%;top:65%}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:60%;top:74}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:14px;letter-spacing:0;left:60%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:15%;left:0%;top:0%}}"]})}}return n})()},{path:"select",component:(()=>{class n{constructor(t,i,r){this.auth=t,this.router=i,this.platform=r,this.hidInstText=!0,this.hidInstBut=!0,this.platform.IOS&&(this.hidInstText=!1,this.hidInstBut=!0),this.platform.ANDROID&&(this.hidInstText=!0,this.hidInstBut=!1),window.addEventListener("appinstalled",()=>{this.disableInAppInstallPrompt(),this.hidInstBut=!0}),window.addEventListener("beforeinstallprompt",o=>{o.preventDefault(),this.promptEvent=o})}disableInAppInstallPrompt(){this.hidInstBut=!0}Credits(){this.router.navigate(["/auth/credits"])}Login(){this.router.navigate(["/auth/login"])}Signup(){this.router.navigate(["/auth/signup"])}installPwa(){this.promptEvent.prompt()}static{this.\u0275fac=function(i){return new(i||n)(E(He),E(Me),E(Ti))}}static{this.\u0275cmp=ve({type:n,selectors:[["app-select"]],decls:18,vars:2,consts:[[1,"base"],[1,"installButton",3,"hidden","click"],[1,"install",3,"hidden"],["id","share","src","../../../../assets/share.png","alt","share"],[1,"infoText"],[1,"footer"],[1,"footerText"],[1,"Orange",3,"click"]],template:function(i,r){1&i&&(p(0,"div",0)(1,"div")(2,"button",1),B("click",function(){return r.installPwa()}),g(3,"Instalar"),f()(),p(4,"div",2)(5,"span"),g(6,"Para instalar en tu dispositivo m\xf3vil, pulsa el boton de inicio \u201cCompartir\u201d "),$(7,"img",3),g(8," y selecionar \u201cAgregar a Inicio\u201d"),f()(),p(9,"div",4)(10,"span"),g(11," El sistema de Gesti\xf3n de Muestras de Campo es un proyecto que tiene como objetivo desarrollar una Aplicaci\xf3n Web Progresiva para la gesti\xf3n de muestras de campo de la Cl\xednica de Enfermedades de Plantas de la Universidad Central de Venezuela "),f()(),p(12,"div",5)(13,"div",6)(14,"span"),g(15,"Universidad Central de Venezuela (UCV) \xb7 Facultad Ciencias \xb7 "),f(),p(16,"span",7),B("click",function(){return r.Credits()}),g(17,"Cr\xe9ditos"),f()()()()),2&i&&(N(2),ct("hidden",r.hidInstBut),N(2),ct("hidden",r.hidInstText))},styles:[".main[_ngcontent-%COMP%]{display:flex;height:100vh;justify-content:center;align-items:center;flex-direction:column}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#login[_ngcontent-%COMP%]{top:20%;position:absolute}#signup[_ngcontent-%COMP%]{top:40%;position:absolute}.Orange[_ngcontent-%COMP%]{cursor:pointer;text-decoration:underline;font-weight:700}.Orange[_ngcontent-%COMP%]:hover{text-decoration:underline;color:orange}#login[_ngcontent-%COMP%]{background-color:#3ec28f;box-shadow:2px 2px 5px #000;width:600px;height:150px;position:absolute;top:25%;left:50%;transform:translate(-50%);border-radius:30px;border-width:0;color:#fff;font-family:Arial;text-align:center;font-size:64px;letter-spacing:0}#signup[_ngcontent-%COMP%]{background-color:#3ec28f;box-shadow:2px 2px 5px #000;width:600px;height:150px;position:absolute;top:50%;left:50%;transform:translate(-50%);border-radius:30px;border-width:0;color:#fff;font-family:Arial;text-align:center;font-size:64px;letter-spacing:0}.installButton[_ngcontent-%COMP%]{border:none;background-color:#3eb3c2;box-shadow:2px 2px 5px #000;color:#fff;position:absolute;left:46%;top:76%;transform:translate(-50%);padding-bottom:5px;padding-top:5px;width:200px;height:60px;text-align:center;text-decoration:none;font-size:40px;font-weight:700;cursor:pointer;border-radius:30px}.install[_ngcontent-%COMP%]{color:#000;width:375px;position:absolute;top:77%;left:50%;transform:translate(-50%);font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;font-weight:700}.line[_ngcontent-%COMP%]{display:inline}#menu[_ngcontent-%COMP%]{width:16px;height:21.647058486938477px;background-repeat:no-repeat;background-size:cover;border-radius:5px}#share[_ngcontent-%COMP%]{width:20px;height:23.636362075805664px;background-repeat:no-repeat;background-size:cover;border-radius:5px}p[_ngcontent-%COMP%]{line-height:.5}.creditBox[_ngcontent-%COMP%]{background-color:#0a9217;border-right:4px solid white;width:20%;height:10%;position:absolute;cursor:pointer;left:0;top:0%;text-align:center;display:none}.creditText[_ngcontent-%COMP%]{color:#fff;display:inline-block;vertical-align:middle;line-height:250%;font-family:Verdana;font-size:36px;letter-spacing:0;display:none}.infoBox[_ngcontent-%COMP%]{background-color:#0a9217;width:20%;height:10%;position:absolute;cursor:pointer;left:0;top:0%;display:none}.infoText[_ngcontent-%COMP%]{color:#000;width:700px;position:absolute;top:45%;left:50%;transform:translate(-50%,-50%);font-family:Arial;text-align:center;font-size:24px;letter-spacing:0;font-weight:700}.footer[_ngcontent-%COMP%]{width:700px;position:absolute;bottom:50px;left:50%;transform:translate(-50%);text-align:center}.footerText[_ngcontent-%COMP%]{color:#000;position:relative;display:inline-block;left:30px;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0}.logoCiens[_ngcontent-%COMP%]{width:69px;height:69px;display:inline-block;position:relative;left:90px;top:30px;background-image:url(image_7.2e20c6c16e8ce206.png);background-repeat:no-repeat;background-size:cover}@media only screen and (max-width: 768px){.main[_ngcontent-%COMP%]{display:flex;height:100vh;justify-content:center;align-items:center;flex-direction:column}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;cursor:pointer}#login[_ngcontent-%COMP%]{top:20%;position:absolute}#signup[_ngcontent-%COMP%]{top:40%;position:absolute}#login[_ngcontent-%COMP%]{background-color:#3ec28f;width:70%;height:15%;margin:0;transform:none;position:absolute;left:15%;top:25%;border-radius:30px;border-width:0;color:#fff;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0}#signup[_ngcontent-%COMP%]{background-color:#3ec28f;width:70%;height:15%;margin:0;transform:none;position:absolute;left:15%;top:50%;border-radius:30px;border-width:0;color:#fff;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0}.installButton[_ngcontent-%COMP%]{border:none;background-color:#3eb3c2;box-shadow:2px 2px 5px #000;color:#fff;position:absolute;left:46%;top:76%;padding-bottom:5px;padding-top:5px;width:120px;height:50px;text-align:center;text-decoration:none;font-size:20px;font-weight:700;cursor:pointer;border-radius:30px}.install[_ngcontent-%COMP%]{color:#646464;width:75%;height:10%;transform:none;position:absolute;left:15%;top:70%;font-family:Arial;text-align:center;font-size:14px;letter-spacing:0;font-weight:700;letter-spacing:0px;line-height:20pt}.line[_ngcontent-%COMP%]{display:inline}#menu[_ngcontent-%COMP%]{width:10px;height:12px;background-repeat:no-repeat;background-size:cover;border-radius:5px}#share[_ngcontent-%COMP%]{width:20px;height:20px;padding-top:0;position:relative;top:5px;background-repeat:no-repeat;background-size:cover;border-radius:5px}p[_ngcontent-%COMP%]{line-height:.5}.creditLogo[_ngcontent-%COMP%]{position:relative;top:45%;left:25%;width:36px;height:36px;cursor:pointer;background-size:contain;background-repeat:no-repeat;background-image:url(info.f631e6664ac6fa77.png)}.creditText[_ngcontent-%COMP%]{display:none}.infoBox[_ngcontent-%COMP%]{background-color:#0a9217;width:20%;height:10%;position:absolute;cursor:pointer;left:0;top:0%;text-align:center;display:none}.infoText[_ngcontent-%COMP%]{color:#000;width:90%;position:absolute;top:35%;left:50%;transform:translate(-50%,-50%);font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;font-weight:700}.footer[_ngcontent-%COMP%]{width:100%;position:absolute;bottom:70px;text-align:center}.footerText[_ngcontent-%COMP%]{color:#000;width:100%;position:absolute;left:50%;transform:translate(-50%,-50%);font-family:Arial;text-align:center;font-size:12px;letter-spacing:0}.logoCiens[_ngcontent-%COMP%]{width:31px;height:31px;position:absolute;bottom:40px;left:50%;transform:translate(-50%);background-image:url(image_7.2e20c6c16e8ce206.png);background-repeat:no-repeat;background-size:cover}}"]})}}return n})()},{path:"credits",component:(()=>{class n{constructor(t,i){this.auth=t,this.router=i}Login(){this.router.navigate(["/auth/login"])}Signup(){this.router.navigate(["/auth/signup"])}Home(){this.router.navigate(["auth/select"])}static{this.\u0275fac=function(i){return new(i||n)(E(He),E(Me))}}static{this.\u0275cmp=ve({type:n,selectors:[["app-credits"]],decls:33,vars:0,consts:[[1,"base"],[1,"install"],[1,"footer"],[1,"Orange",3,"click"]],template:function(i,r){1&i&&(p(0,"p"),g(1,"credits works!"),f(),p(2,"div",0)(3,"div",1)(4,"h2")(5,"b"),g(6,"Creditos:"),f()(),p(7,"p")(8,"b"),g(9,"Autor: "),f(),p(10,"span"),g(11,"Ioannis Morakis - m.yannis22@gmail.com"),f()(),p(12,"p")(13,"b"),g(14,"Tutora: "),f(),p(15,"span"),g(16,"Profa. Yosly Hern\xe1ndez Bieliukas"),f()(),$(17,"br"),p(18,"h2")(19,"b"),g(20,"Objetivo:"),f()(),p(21,"p")(22,"span"),g(23," Desarrollar una Aplicaci\xf3n Web para la gesti\xf3n de muestras de campo de la Cl\xednica de Enfermedades de Plantas de la Universidad Central de Venezuela"),f()(),$(24,"br")(25,"br"),p(26,"p"),g(27," Universidad Central de Venezuela - Escuela de Computaci\xf3n "),f(),$(28,"br")(29,"br"),f()(),p(30,"p",2)(31,"span",3),B("click",function(){return r.Login()}),g(32,"Volver al Inicio"),f()())},styles:[".main[_ngcontent-%COMP%]{display:flex;height:100vh;justify-content:center;align-items:center;flex-direction:column}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}.install[_ngcontent-%COMP%]{color:#000;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0}.line[_ngcontent-%COMP%]{display:inline}.base[_ngcontent-%COMP%]{width:600px;height:500px;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}.logoUcv[_ngcontent-%COMP%]{width:69px;height:69px;float:left;background-image:url(logo_ucv_bg2_1.32a61806277cba42.png);background-repeat:no-repeat;background-size:cover}.logoCiens[_ngcontent-%COMP%]{width:69px;height:69px;display:inline-block;background-image:url(image_7.2e20c6c16e8ce206.png);background-repeat:no-repeat;background-size:cover}.footer[_ngcontent-%COMP%]{margin:0;width:112px;position:absolute;bottom:50px;left:calc(50% - 56px)}.Orange[_ngcontent-%COMP%]{cursor:pointer;font-family:Arial;text-decoration:underline;font-weight:700;font-size:16px}.Orange[_ngcontent-%COMP%]:hover{text-decoration:underline;color:orange}@media only screen and (max-width: 768px){.main[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}.install[_ngcontent-%COMP%]{color:#000;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0}.line[_ngcontent-%COMP%]{display:inline}.base[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:70%}.logoUcv[_ngcontent-%COMP%]{width:69px;height:69px;float:left;background-image:url(logo_ucv_bg2_1.32a61806277cba42.png);background-repeat:no-repeat;background-size:cover}.logoCiens[_ngcontent-%COMP%]{width:45px;height:45px;display:inline-block;background-image:url(image_7.2e20c6c16e8ce206.png);background-repeat:no-repeat;background-size:cover}}"]})}}return n})()}]}];let MAe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=nt({type:n})}static{this.\u0275inj=Xe({imports:[Ur.forChild(IAe),Ur]})}}return n})(),DAe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=nt({type:n})}static{this.\u0275inj=Xe({imports:[bs,Jp,Ur,MAe]})}}return n})(),SAe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=ve({type:n,selectors:[["app-home"]],decls:2,vars:0,template:function(i,r){1&i&&(p(0,"p"),g(1,"home works!"),f())}})}}return n})(),QK=(()=>{class n{constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.data=[],this.getData()}ngOnInit(){}Users(){this.router.navigate(["/admin/users"])}getData(){const t=_e(this.firestore,"users");he(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}updateData(t){const i=De(this.firestore,"users",t);Xi(i,{}).then(()=>{alert("Data updated"),this.getData()}).catch(r=>{alert(r.message)})}deleteData(t){const i=De(this.firestore,"users",t);Pn(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}handleSignOut(){wi(this.auth).then(()=>{}).catch(t=>{console.log("here")}),this.router.navigate(["auth/login"])}Home(){this.router.navigate(["admin"])}Projectos(){this.router.navigate(["admin"])}Muestras(){this.router.navigate(["admin/muestras-all"])}Resultados(){this.router.navigate(["admin/resultados"])}Clientes(){this.router.navigate(["admin/clients"])}Unidades(){this.router.navigate(["admin/unidad-produccion-all"])}Codigo(){this.router.navigate(["admin/barcode-new"])}Scan(){this.router.navigate(["admin/scan"])}static{this.\u0275fac=function(i){return new(i||n)(E(Me),E(mt),E(He),E(rt))}}static{this.\u0275cmp=ve({type:n,selectors:[["app-admin"]],decls:76,vars:0,consts:[[1,"navbar2"],[1,"navbar2Box"],["id","HogarText",1,"navbar2Text",3,"click"],["src","../../assets/homeResize.png","alt","Out","width","50","height","50"],["id","cerrarText",1,"navbar2Text",3,"click"],["src","../../assets/logout-Resize.png","alt","Out","width","50","height","50"],[1,"break"],["id","UsersText",1,"navbar2Text",3,"click"],["src","../../assets/UsersResize.png","alt","Users","width","50","height","50"],["id","ClientesText",1,"navbar2Text",3,"click"],["src","../../assets/ClientesResize.png","alt","Shovel","width","50","height","50"],["id","UnidadText",1,"navbar2Text",3,"click"],["src","../../assets/shovelResize.png","alt","Shovel","width","50","height","50"],["id","MuestrasText",1,"navbar2Text",3,"click"],["src","../../assets/prueba-de-sangre-Resize.png","alt","Shovel","width","50","height","50"],["id","ResultText",1,"navbar2Text",3,"click"],["src","../../assets/ResultadosResize.png","alt","Shovel","width","50","height","50"],["id","CodigoText",1,"navbar2Text",3,"click"],["src","../../assets/BarcodeAddResize.png","alt","Shovel","width","50","height","50"],["id","ScanText",1,"navbar2Text",3,"click"],["src","../../assets/ScanResize.png","alt","Shovel","width","50","height","50"],[1,"mobile-slider-nav"],[1,"mobile-menu-container"],[3,"click"],["src","../../assets/home.png","alt","Out","width","50","height","50"],["h","",3,"click"]],template:function(i,r){1&i&&(p(0,"p"),g(1,"admin works!"),f(),p(2,"div",0),$(3,"div",1),p(4,"div",2),B("click",function(){return r.Home()}),$(5,"img",3),g(6," Hogar "),f(),p(7,"div",4),B("click",function(){return r.handleSignOut()}),$(8,"img",5)(9,"br",6),g(10," Cerrar Sesi\xf3n "),f(),p(11,"div",7),B("click",function(){return r.Users()}),$(12,"img",8)(13,"br",6),g(14," Usuarios "),f(),p(15,"div",9),B("click",function(){return r.Clientes()}),$(16,"img",10),g(17," Clientes "),f(),p(18,"div",11),B("click",function(){return r.Unidades()}),$(19,"img",12),g(20," Unidades de Producci\xf3n "),f(),p(21,"div",13),B("click",function(){return r.Muestras()}),$(22,"img",14),g(23," Muestras "),f(),p(24,"div",15),B("click",function(){return r.Resultados()}),$(25,"img",16),g(26," Resultados "),f(),p(27,"div",17),B("click",function(){return r.Codigo()}),$(28,"img",18),g(29," Generar Codigo "),f(),p(30,"div",19),B("click",function(){return r.Scan()}),$(31,"img",20),g(32," Escanear "),f()(),p(33,"nav",21)(34,"div",22)(35,"a",23),B("click",function(){return r.Users()}),$(36,"img",24)(37,"br",6),g(38," Hogar "),f(),p(39,"a",23),B("click",function(){return r.Users()}),$(40,"img",8)(41,"br",6),g(42," Usuarios "),f(),p(43,"a",25),B("click",function(){return r.Clientes()}),$(44,"img",10)(45,"br",6),g(46," Clientes "),f(),p(47,"a",23),B("click",function(){return r.Unidades()}),$(48,"img",12)(49,"br",6),g(50," Unidades de "),$(51,"br",6),g(52," Producci\xf3n "),f(),p(53,"a",23),B("click",function(){return r.Muestras()}),$(54,"img",14)(55,"br",6),g(56," Muestras "),f(),p(57,"a",23),B("click",function(){return r.Resultados()}),$(58,"img",16)(59,"br",6),g(60," Resultados "),f(),p(61,"a",23),B("click",function(){return r.Codigo()}),$(62,"img",18)(63,"br",6),g(64," Generar "),$(65,"br",6),g(66," Codigo "),f(),p(67,"a",23),B("click",function(){return r.Scan()}),$(68,"img",20)(69,"br",6),g(70," Escanear "),f(),p(71,"a",23),B("click",function(){return r.handleSignOut()}),$(72,"img",5)(73,"br",6),g(74," Cerrar Sesi\xf3n "),f()()(),$(75,"router-outlet"))},dependencies:[Dc],styles:[".list[_ngcontent-%COMP%]{position:absolute;left:33%;top:35%}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}button[_ngcontent-%COMP%]{border:none;background-color:#3eb3c2;color:#fff;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px;width:100px;height:40px;margin:10px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;width:70%;height:10%;vertical-align:middle;line-height:250%;font-family:Verdana;text-align:center;font-size:48px;letter-spacing:0;left:20%;top:15%}.main[_ngcontent-%COMP%]{display:flex;height:100vh;justify-content:center;align-items:center;flex-direction:column}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}.navbar2Box[_ngcontent-%COMP%]{background:#fff;box-shadow:0 0 6px 10px #00000040;height:100vh;width:320px;position:absolute;top:0;left:0;display:flex;flex-direction:column;justify-content:flex-start;align-items:center;padding-top:15em;z-index:-10}.navbar2Text[_ngcontent-%COMP%]{height:4.5%;color:#000;font-size:16px;font-family:Verdana;font-weight:600;word-wrap:break-word;display:inline-block;vertical-align:middle;line-height:240%;padding-top:5px;padding-left:20px}#HogarText[_ngcontent-%COMP%]{cursor:pointer;width:300;position:absolute;left:0%;top:128px}#UsersText[_ngcontent-%COMP%]{cursor:pointer;width:300;position:absolute;left:0%;top:192px}#UnidadText[_ngcontent-%COMP%]{cursor:pointer;width:300;position:absolute;left:0%;top:256px}#MuestrasText[_ngcontent-%COMP%]{cursor:pointer;width:300;position:absolute;left:0%;top:320px}#ResultText[_ngcontent-%COMP%]{cursor:pointer;width:300;position:absolute;left:0%;top:384px}#ClientesText[_ngcontent-%COMP%]{cursor:pointer;width:300;position:absolute;left:0%;top:448px}#CodigoText[_ngcontent-%COMP%]{cursor:pointer;width:300;position:absolute;left:0%;top:512px}#ScanText[_ngcontent-%COMP%]{cursor:pointer;width:300;position:absolute;left:0%;top:576px}#cerrarText[_ngcontent-%COMP%]{cursor:pointer;width:300;position:absolute;left:0%;top:640px}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}img[_ngcontent-%COMP%]{position:relative;top:20px}.break[_ngcontent-%COMP%], .mobile-slider-nav[_ngcontent-%COMP%]{display:none}@media only screen and (max-width: 768px){.navbar2[_ngcontent-%COMP%]{width:100%;display:none}.navbar2Box[_ngcontent-%COMP%]{width:100%;height:66px;background:#fff;box-shadow:0 0 6px 10px #00000040;position:absolute;left:0%;top:6.75em;padding-top:0;overflow-x:scroll;overflow-y:hidden;-ms-overflow-style:none;scrollbar-width:none}.navbar2Text[_ngcontent-%COMP%]{height:28px;color:#000;font-size:8px;font-family:Verdana;font-weight:600;word-wrap:break-word;text-align:center;display:inline-block;vertical-align:middle;line-height:1.6;padding-top:7px;padding-left:0}.center[_ngcontent-%COMP%]{position:relative;top:18%}#cerrarText[_ngcontent-%COMP%]{cursor:pointer;width:10%;position:absolute;left:0%;top:110px;padding-left:3%;border-right:2px solid white}#UnidadText[_ngcontent-%COMP%]{cursor:pointer;width:15%;position:absolute;left:15%;top:110px;border-right:2px solid white}#MuestrasText[_ngcontent-%COMP%]{cursor:pointer;width:15%;position:absolute;left:30%;top:110px;border-right:2px solid white}#ResultText[_ngcontent-%COMP%]{cursor:pointer;width:12%;position:absolute;left:45%;top:110px}#UsersText[_ngcontent-%COMP%]{cursor:pointer;width:50px;left:120%;top:110px;border-right:2px solid white}#ClientesText[_ngcontent-%COMP%]{cursor:pointer;width:50px;position:absolute;left:60%;top:110px;border-right:2px solid white}#CodigoText[_ngcontent-%COMP%]{cursor:pointer;width:10%;position:absolute;left:70%;top:13.5em;padding-left:3%}#ScanText[_ngcontent-%COMP%]{cursor:pointer;width:10%;position:absolute;left:87%;top:13.5em}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:15%;left:0%;top:0%}img[_ngcontent-%COMP%]{position:relative;top:0;width:20px;height:20px}.break[_ngcontent-%COMP%]{display:inline}.mobile-slider-nav[_ngcontent-%COMP%]{display:inline;position:absolute;top:110px;left:0;height:55px;width:100%;background-color:#fff;box-shadow:0 2px 4px #0000000d;z-index:40;padding-bottom:8px;overflow-x:scroll;overflow-y:hidden;-ms-overflow-style:none;scrollbar-width:none}.mobile-menu-container[_ngcontent-%COMP%]{display:flex;white-space:nowrap;padding:0px .5rem}.mobile-slider-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{vertical-align:middle;line-height:1.6;color:#000;font-size:8px;font-family:Verdana;word-wrap:break-word;text-align:center;display:inline-block;flex-shrink:0;text-decoration:none;font-weight:600;padding:8px 16px 0;margin-right:8px;border-radius:9999px}}"]})}}return n})(),XK=(()=>{class n{constructor(t,i){this.auth=t,this.router=i,this.title="gestion-muestras"}handleSignOut(){wi(this.auth).then(()=>{}).catch(t=>{console.log("here")}),this.router.navigate(["auth/login"])}Home(){this.router.navigate(["user/land"])}Projectos(){this.router.navigate(["user/projects"])}Muestras(){this.router.navigate(["user/muestras-all"])}Resultados(){this.router.navigate(["user/resultados"])}Clientes(){this.router.navigate(["user/clients"])}Unidades(){this.router.navigate(["user/unidad-produccion-all"])}Codigo(){this.router.navigate(["user/barcode-new"])}Scan(){this.router.navigate(["user/scan"])}static{this.\u0275fac=function(i){return new(i||n)(E(He),E(Me))}}static{this.\u0275cmp=ve({type:n,selectors:[["app-user"]],decls:65,vars:0,consts:[[1,"navbar2Box"],[1,"navbar2"],["id","HogarText",1,"navbar2Text",3,"click"],["src","../../assets/homeResize.png","alt","Out","width","50","height","50"],["id","UnidadText",1,"navbar2Text",3,"click"],["src","../../assets/shovelResize.png","alt","Shovel","width","50","height","50"],["id","MuestrasText",1,"navbar2Text",3,"click"],["src","../../assets/prueba-de-sangre-Resize.png","alt","Shovel","width","50","height","50"],["id","ResultText",1,"navbar2Text",3,"click"],["src","../../assets/ResultadosResize.png","alt","Shovel","width","50","height","50"],["id","ClientesText",1,"navbar2Text",3,"click"],["src","../../assets/ClientesResize.png","alt","Shovel","width","50","height","50"],["id","CodigoText",1,"navbar2Text",3,"click"],["src","../../assets/BarcodeAddResize.png","alt","Shovel","width","50","height","50"],["id","ScanText",1,"navbar2Text",3,"click"],["src","../../assets/ScanResize.png","alt","Shovel","width","50","height","50"],["id","cerrarText",1,"navbar2Text",3,"click"],["src","../../assets/logout-Resize.png","alt","Out","width","50","height","50"],[1,"mobile-slider-nav"],[1,"mobile-menu-container"],[3,"click"],["src","../../assets/home.png","alt","Out","width","50","height","50"],[1,"break"],["h","",3,"click"]],template:function(i,r){1&i&&($(0,"div",0),p(1,"div",1)(2,"div",2),B("click",function(){return r.Home()}),$(3,"img",3),g(4," Hogar "),f(),p(5,"div",4),B("click",function(){return r.Unidades()}),$(6,"img",5),g(7," Unidades de Producci\xf3n "),f(),p(8,"div",6),B("click",function(){return r.Muestras()}),$(9,"img",7),g(10," Muestras "),f(),p(11,"div",8),B("click",function(){return r.Resultados()}),$(12,"img",9),g(13," Resultados "),f(),p(14,"div",10),B("click",function(){return r.Clientes()}),$(15,"img",11),g(16," Clientes "),f(),p(17,"div",12),B("click",function(){return r.Codigo()}),$(18,"img",13),g(19," Generar Codigo "),f(),p(20,"div",14),B("click",function(){return r.Scan()}),$(21,"img",15),g(22," Escanear "),f(),p(23,"div",16),B("click",function(){return r.handleSignOut()}),$(24,"img",17),g(25," Cerrar Sesi\xf3n "),f()(),p(26,"nav",18)(27,"div",19)(28,"a",20),B("click",function(){return r.Home()}),$(29,"img",21)(30,"br",22),g(31," Hogar "),f(),p(32,"a",23),B("click",function(){return r.Clientes()}),$(33,"img",11)(34,"br",22),g(35," Clientes "),f(),p(36,"a",20),B("click",function(){return r.Unidades()}),$(37,"img",5)(38,"br",22),g(39," Unidades de "),$(40,"br",22),g(41," Producci\xf3n "),f(),p(42,"a",20),B("click",function(){return r.Muestras()}),$(43,"img",7)(44,"br",22),g(45," Muestras "),f(),p(46,"a",20),B("click",function(){return r.Resultados()}),$(47,"img",9)(48,"br",22),g(49," Resultados "),f(),p(50,"a",20),B("click",function(){return r.Codigo()}),$(51,"img",13)(52,"br",22),g(53," Generar "),$(54,"br",22),g(55," Codigo "),f(),p(56,"a",20),B("click",function(){return r.Scan()}),$(57,"img",15)(58,"br",22),g(59," Escanear "),f(),p(60,"a",20),B("click",function(){return r.handleSignOut()}),$(61,"img",17)(62,"br",22),g(63," Cerrar Sesi\xf3n "),f()()(),$(64,"router-outlet"))},dependencies:[Dc],styles:[".main[_ngcontent-%COMP%]{display:flex;height:100vh;justify-content:center;align-items:center;flex-direction:column}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}.navbar2[_ngcontent-%COMP%]{height:100vh;width:320px;position:absolute;top:0;left:0}.navbar2Box[_ngcontent-%COMP%]{background:#fff;box-shadow:0 0 6px 10px #00000040;height:100vh;width:320px;position:absolute;top:0;left:0;display:flex;flex-direction:column;justify-content:flex-start;align-items:center;padding-top:20em;z-index:-10}.navbar2Text[_ngcontent-%COMP%]{height:4.5%;color:#000;font-size:16px;font-family:Verdana;font-weight:600;word-wrap:break-word;text-align:center;padding-top:5px;padding-left:20px}#HogarText[_ngcontent-%COMP%]{cursor:pointer;width:300;position:absolute;left:0%;top:128px}#UnidadText[_ngcontent-%COMP%]{cursor:pointer;width:300;position:absolute;left:0%;top:192px}#MuestrasText[_ngcontent-%COMP%]{cursor:pointer;width:300;position:absolute;left:0%;top:256px}#ResultText[_ngcontent-%COMP%]{cursor:pointer;width:300;position:absolute;left:0%;top:320px}#ClientesText[_ngcontent-%COMP%]{cursor:pointer;width:300;position:absolute;left:0%;top:384px}#CodigoText[_ngcontent-%COMP%]{cursor:pointer;width:300;position:absolute;left:0%;top:448px}#ScanText[_ngcontent-%COMP%]{cursor:pointer;width:300;position:absolute;left:0%;top:512px}#cerrarText[_ngcontent-%COMP%]{cursor:pointer;width:300;position:absolute;left:0%;top:576px}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}img[_ngcontent-%COMP%]{position:relative;top:20px}.mobile-slider-nav[_ngcontent-%COMP%]{display:none}@media only screen and (max-width: 768px){.navbar2[_ngcontent-%COMP%]{width:100%;display:none}.navbar2Box[_ngcontent-%COMP%]{width:100%;height:66px;background:#fff;box-shadow:0 0 6px 10px #00000040;position:absolute;left:0%;top:110px;padding-top:0;display:none}.navbar2Text[_ngcontent-%COMP%]{height:28px;color:#000;font-size:8px;font-family:Verdana;font-weight:600;word-wrap:break-word;text-align:center;display:inline-block;vertical-align:middle;line-height:1.6;padding-top:7px;padding-left:0}.center[_ngcontent-%COMP%]{position:relative;top:18%}#cerrarText[_ngcontent-%COMP%]{cursor:pointer;width:10%;position:absolute;left:0%;top:110px;padding-left:3%;border-right:2px solid white}#UnidadText[_ngcontent-%COMP%]{cursor:pointer;width:15%;position:absolute;left:15%;top:110px;border-right:2px solid white}#MuestrasText[_ngcontent-%COMP%]{cursor:pointer;width:15%;position:absolute;left:30%;top:110px;border-right:2px solid white}#ResultText[_ngcontent-%COMP%]{cursor:pointer;width:14%;position:absolute;left:44%;top:110px}#ClientesText[_ngcontent-%COMP%]{cursor:pointer;width:13%;position:absolute;left:58%;top:110px;border-right:2px solid white}#CodigoText[_ngcontent-%COMP%]{cursor:pointer;width:10%;position:absolute;left:70%;top:110px;padding-left:3%}#ScanText[_ngcontent-%COMP%]{cursor:pointer;width:12%;position:absolute;left:85%;top:110px}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:15%;left:0%;top:0%}img[_ngcontent-%COMP%]{position:relative;top:0;width:20px;height:20px}br[_ngcontent-%COMP%]{display:inline}.mobile-slider-nav[_ngcontent-%COMP%]{display:inline;position:absolute;top:110px;left:0;height:55px;width:100%;background-color:#fff;box-shadow:0 2px 4px #0000000d;z-index:40;padding-bottom:8px;overflow-x:scroll;overflow-y:hidden}.mobile-menu-container[_ngcontent-%COMP%]{display:flex;white-space:nowrap;padding:0px .5rem}.mobile-slider-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{vertical-align:middle;line-height:1.6;color:#000;font-size:8px;font-family:Verdana;word-wrap:break-word;text-align:center;display:inline-block;flex-shrink:0;text-decoration:none;font-weight:600;padding:8px 16px 0;margin-right:8px;border-radius:9999px}}"]})}}return n})();var nw=L(1874);let AAe=(()=>{class n{constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o}ngOnInit(){var t=this;return _(function*(){t.route.params.subscribe(i=>{t.item=i,console.log(i),t.generateBarcode(i)}),yield t.sleep(500),window.print()})()}sleep(t){return _(function*(){return new Promise(i=>setTimeout(i,t))})()}generateBarcode(t){var i=t.id;let r=t.num;for(let o=1;o<=r;o++)nw("#barcode"+o,i,{format:"CODE128"})}static{this.\u0275fac=function(i){return new(i||n)(E(Me),E(mt),E(He),E(rt))}}static{this.\u0275cmp=ve({type:n,selectors:[["app-print"]],decls:6,vars:0,consts:[[1,"print-page"],["id","barcode1"],["id","barcode2"],["id","barcode3"],["id","barcode4"],["id","barcode5"]],template:function(i,r){1&i&&($(0,"div",0),Gu(),$(1,"svg",1)(2,"svg",2)(3,"svg",3)(4,"svg",4)(5,"svg",5))},styles:[".print-page[_ngcontent-%COMP%]{position:absolute;width:100vw;min-height:100vh;background:#fff}#barcode1[_ngcontent-%COMP%]{position:absolute;top:50px;left:200px}#barcode2[_ngcontent-%COMP%]{position:absolute;top:220px;left:200px}#barcode3[_ngcontent-%COMP%]{position:absolute;top:390px;left:200px}#barcode4[_ngcontent-%COMP%]{position:absolute;top:560px;left:200px}#barcode5[_ngcontent-%COMP%]{position:absolute;top:730px;left:200px}"]})}}return n})(),ZK=(()=>{class n{constructor(t,i){this.auth=t,this.router=i,this.title="gestion-muestras"}handleSignOut(){wi(this.auth).then(()=>{}).catch(t=>{console.log("here")}),this.router.navigate(["auth/login"])}Perfil(){this.router.navigate(["client/perfil"])}Muestras(){this.router.navigate(["client/muestras-all"])}Unidad(){this.router.navigate(["client/unidad-produccion-all"])}Home(){this.router.navigate(["client/land"])}Resultados(){this.router.navigate(["client/resultados"])}Unidades(){this.router.navigate(["client/unidad-produccion-all"])}Codigo(){this.router.navigate(["user/barcode-new"])}Scan(){this.router.navigate(["user/scan"])}static{this.\u0275fac=function(i){return new(i||n)(E(He),E(Me))}}static{this.\u0275cmp=ve({type:n,selectors:[["app-client"]],decls:38,vars:0,consts:[[1,"navbar2Box"],[1,"navbar2"],["id","HogarText",1,"navbar2Text",3,"click"],["src","../../assets/homeResize.png","alt","Out","width","50","height","50"],["id","cerrarText",1,"navbar2Text",3,"click"],["src","../../assets/logout-Resize.png","alt","Out","width","50","height","50"],[1,"break"],["id","UnidadText",1,"navbar2Text",3,"click"],["src","../../assets/shovelResize.png","alt","Shovel","width","50","height","50"],["id","MuestrasText",1,"navbar2Text",3,"click"],["src","../../assets/prueba-de-sangre-Resize.png","alt","Shovel","width","50","height","50"],[1,"mobile-slider-nav"],[1,"mobile-menu-container"],[3,"click"],["src","../../assets/home.png","alt","Out","width","50","height","50"]],template:function(i,r){1&i&&($(0,"div",0),p(1,"div",1)(2,"div",2),B("click",function(){return r.Home()}),$(3,"img",3),g(4," Hogar "),f(),p(5,"div",4),B("click",function(){return r.handleSignOut()}),$(6,"img",5)(7,"br",6),g(8," Cerrar Sesi\xf3n "),f(),p(9,"div",7),B("click",function(){return r.Unidad()}),$(10,"img",8)(11,"br",6),g(12," Unidades de Producci\xf3n "),f(),p(13,"div",9),B("click",function(){return r.Muestras()}),$(14,"img",10)(15,"br",6),g(16," Muestras "),f()(),p(17,"nav",11)(18,"div",12)(19,"a",13),B("click",function(){return r.Home()}),$(20,"img",14)(21,"br",6),g(22," Hogar "),f(),p(23,"a",13),B("click",function(){return r.Unidades()}),$(24,"img",8)(25,"br",6),g(26," Unidades de "),$(27,"br",6),g(28," Producci\xf3n "),f(),p(29,"a",13),B("click",function(){return r.Muestras()}),$(30,"img",10)(31,"br",6),g(32," Muestras "),f(),p(33,"a",13),B("click",function(){return r.handleSignOut()}),$(34,"img",5)(35,"br",6),g(36," Cerrar Sesi\xf3n "),f()()(),$(37,"router-outlet"))},dependencies:[Dc],styles:[".main[_ngcontent-%COMP%]{display:flex;height:100vh;justify-content:center;align-items:center;flex-direction:column}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}.navbar2[_ngcontent-%COMP%]{height:100vh;width:320px;position:absolute;top:0;left:0}.navbar2Box[_ngcontent-%COMP%]{background:#fff;box-shadow:0 0 6px 10px #00000040;height:100vh;width:320px;position:absolute;top:0;left:0;display:flex;flex-direction:column;justify-content:flex-start;align-items:center;padding-top:15em;z-index:-10}.navbar2Text[_ngcontent-%COMP%]{height:4.5%;color:#000;font-size:16px;font-family:Verdana;font-weight:600;word-wrap:break-word;display:inline-block;vertical-align:middle;line-height:240%;padding-top:5px;padding-left:20px}#HogarText[_ngcontent-%COMP%]{cursor:pointer;width:300;position:absolute;left:0%;top:128px}#UnidadText[_ngcontent-%COMP%]{cursor:pointer;width:300;position:absolute;left:0%;top:192px}#MuestrasText[_ngcontent-%COMP%]{cursor:pointer;width:300;position:absolute;left:0%;top:256px}#cerrarText[_ngcontent-%COMP%]{cursor:pointer;width:300;position:absolute;left:0%;top:320px}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}img[_ngcontent-%COMP%]{position:relative;top:20px}.break[_ngcontent-%COMP%], .mobile-slider-nav[_ngcontent-%COMP%]{display:none}@media only screen and (max-width: 768px){.navbar[_ngcontent-%COMP%]{width:100%;position:absolute}.homeBox[_ngcontent-%COMP%]{border-right:4px solid white;width:20%;height:6.75em;position:absolute;left:0;top:0%}.homeText[_ngcontent-%COMP%]{display:none}.UserLogo[_ngcontent-%COMP%]{position:absolute;top:2.2em;left:25%;width:36px;height:36px;text-align:center;background-image:url(userWhite.1acab0fe6d96dff4.png);background-repeat:no-repeat;background-size:cover}.logoCiens[_ngcontent-%COMP%]{width:25px;height:25px;position:absolute;top:80px;left:clamp(calc(20% + 50px),calc(60% - 16px),100%);background-image:url(logoCiens.9fc55f935ab1cd6b.png);background-repeat:no-repeat;background-size:cover}.logoAgro[_ngcontent-%COMP%]{width:40px;height:30px;position:absolute;left:calc(100% - 50px);top:77px;background-image:url(Logo-Agronomia2.2ed90bcafa53fa56.png);background-repeat:no-repeat;background-size:cover}.logoUcv[_ngcontent-%COMP%]{width:30px;height:30px;position:absolute;left:23%;top:75px;background-image:url(logo_ucv_bg2_1.32a61806277cba42.png);background-repeat:no-repeat;background-size:cover}.tituloBox[_ngcontent-%COMP%]{width:80%;height:80px;position:absolute;left:20%;top:0%;text-align:center}.tituloText[_ngcontent-%COMP%]{color:#fff;line-height:1;display:inline-block;vertical-align:middle;font-family:Verdana;font-size:28px;letter-spacing:0px;padding-top:5px}.tituloSubText[_ngcontent-%COMP%]{color:#fff;font-family:Verdana;font-size:18px;letter-spacing:0px;line-height:normal;display:block;text-align:center;padding-top:10px}.space[_ngcontent-%COMP%], .homeLogo[_ngcontent-%COMP%]{display:none}.navbar2[_ngcontent-%COMP%]{width:100%;display:none}.navbar2Box[_ngcontent-%COMP%]{display:none;width:100%;height:66px;background:#fff;box-shadow:0 0 6px 10px #00000040;position:absolute;left:0%;top:6.75em}.navbar2Text[_ngcontent-%COMP%]{display:none;height:28px;color:#000;font-size:8px;font-family:Verdana;font-weight:600;word-wrap:break-word;text-align:center;display:inline-block;vertical-align:middle;line-height:1.6;padding-top:7px;padding-left:0}.center[_ngcontent-%COMP%]{position:relative;top:18%}#cerrarText[_ngcontent-%COMP%]{cursor:pointer;width:15%;position:absolute;left:0%;top:13.5em;padding-left:3%;border-right:2px solid white}#ProyectosText[_ngcontent-%COMP%]{visibility:hidden;cursor:pointer;width:20%;position:absolute;left:15%;top:13.5em;border-right:2px solid white}#UnidadText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:40%;top:13.5em;border-right:2px solid white}#MuestrasText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:79%;top:13.5em;border-right:2px solid white}#ClientesText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:60%;top:15%;border-right:2px solid white}#CodigoText[_ngcontent-%COMP%]{cursor:pointer;width:15%;position:absolute;left:80%;top:15%;padding-left:3%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:15%;left:0%;top:0%}img[_ngcontent-%COMP%]{position:relative;top:0;width:20px;height:20px}.break[_ngcontent-%COMP%]{display:inline}.mobile-slider-nav[_ngcontent-%COMP%]{display:inline;position:absolute;top:110px;left:0;height:55px;width:100%;background-color:#fff;box-shadow:0 2px 4px #0000000d;z-index:40;padding-bottom:8px;overflow-x:scroll;overflow-y:hidden}.mobile-menu-container[_ngcontent-%COMP%]{display:flex;white-space:nowrap;padding:0px .5rem}.mobile-slider-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{vertical-align:middle;line-height:1.6;color:#000;font-size:8px;font-family:Verdana;word-wrap:break-word;text-align:center;display:inline-block;flex-shrink:0;text-decoration:none;font-weight:600;padding:8px 16px 0;margin-right:8px;border-radius:9999px}}"]})}}return n})();const kAe=[{path:"",redirectTo:"auth/login",pathMatch:"full"},{path:"home",component:SAe},{path:"admin",component:QK},{path:"auth",component:_$},{path:"user",component:XK},{path:"client",component:ZK},{path:"print/:id/:num",component:AAe}];let DN=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=nt({type:n})}static{this.\u0275inj=Xe({imports:[Ur.forRoot(kAe),Ur]})}}return n})(),OAe=(()=>{class n{constructor(t){this.firestore=t,this.unitsSubject=new fi([]),this.units$=this.unitsSubject.asObservable(),this.clientsSubject=new fi([]),this.clients$=this.clientsSubject.asObservable(),this.samplesSubject=new fi([]),this.samples$=this.samplesSubject.asObservable(),this.isSyncing=new fi(!1)}fetchAllData(){var t=this;return _(function*(){t.isSyncing.next(!0);try{const[i,r,o]=yield Promise.all([he(Ot(_e(t.firestore,"unidades_produccion"))),he(Ot(_e(t.firestore,"clientes"))),he(Ot(_e(t.firestore,"muestras")))]);t.unitsSubject.next(i.docs.map(s=>({id:s.id,...s.data()}))),t.clientsSubject.next(r.docs.map(s=>({id:s.id,...s.data()}))),t.samplesSubject.next(o.docs.map(s=>({id:s.id,...s.data()})))}catch{}finally{t.isSyncing.next(!1)}})()}static{this.\u0275fac=function(i){return new(i||n)(U(rt))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),PAe=(()=>{class n{constructor(t,i,r,o){this.auth=t,this.router=i,this.dataSync=o,this.title="gestion-muestras",this.height=Za(250),this.width=Za(250)}ngOnInit(){this.dataSync.fetchAllData()}handleSignOut(){wi(this.auth).then(()=>{}).catch(t=>{})}imageReady(t){console.log("Firebase Uploaded Image: ",t)}static{this.\u0275fac=function(i){return new(i||n)(E(He),E(Me),E(rt),E(OAe))}}static{this.\u0275cmp=ve({type:n,selectors:[["app-root"]],decls:11,vars:0,consts:[[1,"navbar"],[1,"tituloBox"],[1,"tituloText"],[1,"space"],[1,"tituloSubText"],[1,"logoUcv"],[1,"logoCiens"],[1,"logoAgro"]],template:function(i,r){1&i&&(p(0,"div",0)(1,"div",1)(2,"span",2),g(3,"Cl\xednica de Plantas "),f(),$(4,"br",3),p(5,"span",4),g(6,"Gesti\xf3n de Muestras"),f()(),$(7,"div",5)(8,"div",6)(9,"div",7),f(),$(10,"router-outlet"))},dependencies:[Dc],styles:[".navbar[_ngcontent-%COMP%]{background-color:#0a9217;width:100%;min-width:1224px;height:120px;position:absolute;left:0%;top:0%}.tituloBox[_ngcontent-%COMP%]{width:100%;height:120px;position:absolute;left:0%;top:0%;display:flex;flex-direction:column;justify-content:center;align-items:center;font-size:10px}.tituloText[_ngcontent-%COMP%]{color:#fff;display:block;font-family:Verdana;font-weight:700;font-size:40px;letter-spacing:0}.tituloSubText[_ngcontent-%COMP%]{color:#fff;display:block;font-family:Verdana;font-weight:700;font-size:20px;letter-spacing:0}.logoUcv[_ngcontent-%COMP%]{width:80px;height:80px;position:absolute;right:40px;top:20px;background-image:url(logo_ucv_bg2_1.32a61806277cba42.png);background-repeat:no-repeat;background-size:cover}.logoCiens[_ngcontent-%COMP%]{width:80px;height:80px;display:inline-block;position:absolute;right:160px;top:20px;background-image:url(logoCiens.9fc55f935ab1cd6b.png);background-repeat:no-repeat;background-size:contain}.logoAgro[_ngcontent-%COMP%]{width:120px;height:80px;position:absolute;left:90px;top:20px;background-image:url(Logo-Agronomia-Stroke.a9e6fb094894c53a.png);background-repeat:no-repeat;background-size:cover}.homeBox[_ngcontent-%COMP%]{width:25%;height:10%;position:absolute;cursor:pointer;left:75%;top:0%;text-align:center}.homeText[_ngcontent-%COMP%]{color:#fff;display:inline-block;vertical-align:middle;line-height:2.8em;font-family:Verdana;font-size:32px;letter-spacing:0;position:absolute;right:.75em;top:30%}.UserLogo[_ngcontent-%COMP%]{position:absolute;top:1.85em;right:10.94em;width:46px;height:46px;text-align:center;background-image:url(LoginIconWhite.b9f823031602a23b.png);background-repeat:no-repeat;background-size:contain}@media only screen and (max-width: 768px){.navbar[_ngcontent-%COMP%]{height:110px;min-width:0px}.logoUcv[_ngcontent-%COMP%]{width:30px;height:30px;position:absolute;top:15px;right:5px;left:auto;background-image:url(logo_ucv_Small.c918acfda6fcd024.png);background-repeat:no-repeat;background-size:cover}.logoCiens[_ngcontent-%COMP%]{width:30px;height:30px;position:absolute;top:60px;right:5px;left:auto;background-image:url(logoCiens-Small.2065c0f07c6bbc86.png);background-repeat:no-repeat;background-size:cover}.logoAgro[_ngcontent-%COMP%]{width:52px;height:35px;position:absolute;top:38px;right:auto;left:5px;background-image:url(Logo-Agronomia-Stroke-Small.e1f18097759acd8e.png);background-repeat:no-repeat;background-size:contain}.tituloBox[_ngcontent-%COMP%]{width:259px;height:110px;position:absolute;left:clamp(57px,calc(50% - 129px),100%);top:0;text-align:center}.tituloText[_ngcontent-%COMP%]{color:#fff;line-height:1;display:inline-block;vertical-align:middle;font-family:Verdana;font-size:26px;letter-spacing:0px;padding-bottom:10px}.tituloSubText[_ngcontent-%COMP%]{color:#fff;font-family:Verdana;font-size:16px;letter-spacing:0px;line-height:normal;display:block;text-align:center;padding-bottom:10px}.space[_ngcontent-%COMP%], .homeLogo[_ngcontent-%COMP%]{display:none}}"]})}}return n})();const RAe_firebase={apiKey:"AIzaSyD0Py3MA2BD1yEsMg4wM9RDhbNgmEAxZPk",authDomain:"gestion-de-muestras-de-c-fabe0.firebaseapp.com",databaseURL:"https://gestion-de-muestras-de-c-fabe0-default-rtdb.firebaseio.com",projectId:"gestion-de-muestras-de-c-fabe0",storageBucket:"gestion-de-muestras-de-c-fabe0.firebasestorage.app",messagingSenderId:"881625861704",appId:"1:881625861704:web:1da279954953bf7e3ad27d",measurementId:"G-PTHV8B640J"},JK="@firebase/database";let SN="";class FAe{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Hi(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:pm(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class LAe{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return Ms(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const tY=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new FAe(e)}}catch{}return new LAe},fu=tY("localStorage"),AN=tY("sessionStorage"),lf=new Ac("@firebase/database"),nY=function(){let n=1;return function(){return n++}}(),iY=function(n){const e=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);if(r>=55296&&r<=56319){const o=r-55296;i++,se(i<n.length,"Surrogate pair missing trail surrogate."),r=65536+(o<<10)+(n.charCodeAt(i)-56320)}r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=63&r|128):r<65536?(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=63&r|128):(e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=63&r|128)}return e}(n),t=new aye;t.update(e);const i=t.digest();return Bv.encodeByteArray(i)},e_=function(...n){let e="";for(let t=0;t<n.length;t++){const i=n[t];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?e+=e_.apply(null,i):e+="object"==typeof i?Hi(i):i,e+=" "}return e};let pu=null,rY=!0;const Ni=function(...n){if(!0===rY&&(rY=!1,null===pu&&!0===AN.get("logging_enabled")&&function(n,e){se(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(lf.logLevel=bt.VERBOSE,pu=lf.log.bind(lf),e&&AN.set("logging_enabled",!0)):"function"==typeof n?pu=n:(pu=null,AN.remove("logging_enabled"))}(!0)),pu){const e=e_.apply(null,n);pu(e)}},t_=function(n){return function(...e){Ni(n,...e)}},kN=function(...n){const e="FIREBASE INTERNAL ERROR: "+e_(...n);lf.error(e)},Us=function(...n){const e=`FIREBASE FATAL ERROR: ${e_(...n)}`;throw lf.error(e),new Error(e)},fr=function(...n){const e="FIREBASE WARNING: "+e_(...n);lf.warn(e)},iw=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Bl="[MIN_NAME]",Pa="[MAX_NAME]",mu=function(n,e){if(n===e)return 0;if(n===Bl||e===Pa)return-1;if(e===Bl||n===Pa)return 1;{const t=lY(n),i=lY(e);return null!==t?null!==i?t-i==0?n.length-e.length:t-i:-1:null!==i?1:n<e?-1:1}},UAe=function(n,e){return n===e?0:n<e?-1:1},n_=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+Hi(e))},ON=function(n){if("object"!=typeof n||null===n)return Hi(n);const e=[];for(const i in n)e.push(i);e.sort();let t="{";for(let i=0;i<e.length;i++)0!==i&&(t+=","),t+=Hi(e[i]),t+=":",t+=ON(n[e[i]]);return t+="}",t},sY=function(n,e){const t=n.length;if(t<=e)return[n];const i=[];for(let r=0;r<t;r+=e)i.push(n.substring(r,r+e>t?t:r+e));return i};function Fi(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const aY=function(n){se(!iw(n),"Invalid JSON number");const i=1023;let r,o,s,a,l;0===n?(o=0,s=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(a=Math.min(Math.floor(Math.log(n)/Math.LN2),i),o=a+i,s=Math.round(n*Math.pow(2,52-a)-Math.pow(2,52))):(o=0,s=Math.round(n/Math.pow(2,-1074))));const c=[];for(l=52;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);for(l=11;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);c.push(r?1:0),c.reverse();const u=c.join("");let d="";for(l=0;l<64;l+=8){let h=parseInt(u.substr(l,8),2).toString(16);1===h.length&&(h="0"+h),d+=h}return d.toLowerCase()},$Ae=new RegExp("^-?(0*)\\d{1,10}$"),lY=function(n){if($Ae.test(n)){const e=Number(n);if(e>=-2147483648&&e<=2147483647)return e}return null},cf=function(n){try{n()}catch(e){setTimeout(()=>{throw fr("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},i_=function(n,e){const t=setTimeout(n,e);return"number"==typeof t&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):"object"==typeof t&&t.unref&&t.unref(),t};class KAe{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){fr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class YAe{constructor(e,t,i){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(Ni("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',fr(e)}}let r_=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const fY=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,gY="websocket",_Y="long_polling";class RN{constructor(e,t,i,r,o=!1,s="",a=!1,l=!1){this.secure=t,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=fu.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&fu.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function bY(n,e,t){let i;if(se("string"==typeof e,"typeof type must == string"),se("object"==typeof t,"typeof params must == object"),e===gY)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==_Y)throw new Error("Unknown connection type: "+e);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function QAe(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const r=[];return Fi(t,(o,s)=>{r.push(o+"="+s)}),i+r.join("&")}class XAe{constructor(){this.counters_={}}incrementCounter(e,t=1){Ms(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return Kbe(this.counters_)}}const NN={},FN={};function LN(n){const e=n.toString();return NN[e]||(NN[e]=new XAe),NN[e]}class JAe{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&cf(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Ul{constructor(e,t,i,r,o,s,a){this.connId=e,this.repoInfo=t,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=t_(e),this.stats_=LN(t),this.urlFn=l=>(this.appCheckToken&&(l.ac=this.appCheckToken),bY(t,_Y,l))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new JAe(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if("complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new VN((...o)=>{const[s,a,l,c,u]=o;if(this.incrementIncomingBytes_(o),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===s)this.id=a,this.password=l;else{if("close"!==s)throw new Error("Unrecognized command received: "+s);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...o)=>{const[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&fY.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ul.forceAllow_=!0}static forceDisallow(){Ul.forceDisallow_=!0}static isAvailable(){return!(!Ul.forceAllow_&&(Ul.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=Hi(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=p7(t),r=sY(i,1840);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=e,i.pw=t,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=Hi(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class VN{constructor(e,t,i,r){this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=nY(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=VN.createIFrame_();let o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(o='<script>document.domain="'+document.domain+'";<\/script>');const s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){Ni("frame writing exception"),a.stack&&Ni(a.stack),Ni(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Ni("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const s=this.pendingSegs.shift();i=i+"&seg"+r+"="+s.seg+"&ts"+r+"="+s.ts+"&d"+r+"="+s.d,r++}return t+=i,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,i){this.pendingSegs.push({seg:e,ts:t,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const i=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(r),i()})}addTag(e,t){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=()=>{Ni("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let ow=null;typeof MozWebSocket<"u"?ow=MozWebSocket:typeof WebSocket<"u"&&(ow=WebSocket);let uf=(()=>{class n{constructor(t,i,r,o,s,a,l){this.connId=t,this.applicationId=r,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=t_(this.connId),this.stats_=LN(i),this.connURL=n.connectionURL_(i,a,l,o,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,r,o,s){const a={v:"5"};return typeof location<"u"&&location.hostname&&fY.test(location.hostname)&&(a.r="f"),i&&(a.s=i),r&&(a.ls=r),o&&(a.ac=o),s&&(a.p=s),bY(t,gY,a)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,fu.set("previous_websocket_failure",!0);try{let r;0,this.mySock=new ow(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;return o&&this.log_(o),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&null!==ow&&!n.forceDisallow_}static previouslyFailed(){return fu.isInMemoryStorage||!0===fu.get("previous_websocket_failure")}markConnectionHealthy(){fu.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=pm(i);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(se(null===this.frames,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const i=Hi(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=sY(i,16384);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),TY=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[Ul,uf]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const i=uf&&uf.isAvailable();let r=i&&!uf.previouslyFailed();if(t.webSocketOnly&&(i||fr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[uf];else{const o=this.transports_=[];for(const s of n.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class OY{constructor(e,t,i,r,o,s,a,l,c,u){this.id=e,this.repoInfo_=t,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=t_("c:"+this.id+":"),this.transportManager_=new TY(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,i)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=i_(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=n_("t",e),i=n_("d",e);if("c"===t)this.onSecondaryControl_(i);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=n_("t",e),i=n_("d",e);"c"===t?this.onControl_(i):"d"===t&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=n_("t",e);if("d"in e){const i=e.d;if("h"===t){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(i):"r"===t?this.onReset_(i):"e"===t?kN("Server Error: "+i):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):kN("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==i&&fr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,i),i_(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):i_(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(fu.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class PY{put(e,t,i,r){}merge(e,t,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,i){}onDisconnectMerge(e,t,i){}onDisconnectCancel(e,t){}reportStats(e){}}class RY{constructor(e){this.allowedEvents_=e,this.listeners_={},se(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,t)}}on(e,t,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:i});const r=this.getInitialEvent(e);r&&t.apply(i,r)}off(e,t,i){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let o=0;o<r.length;o++)if(r[o].callback===t&&(!i||i===r[o].context))return void r.splice(o,1)}validateEventType_(e){se(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class sw extends RY{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!FM()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new sw}getInitialEvent(e){return se("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class Ft{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function It(){return new Ft("")}function st(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function zl(n){return n.pieces_.length-n.pieceNum_}function Zt(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new Ft(n.pieces_,e)}function UN(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function o_(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function LY(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new Ft(e,0)}function Cn(n,e){const t=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)t.push(n.pieces_[i]);if(e instanceof Ft)for(let i=e.pieceNum_;i<e.pieces_.length;i++)t.push(e.pieces_[i]);else{const i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&t.push(i[r])}return new Ft(t,0)}function at(n){return n.pieceNum_>=n.pieces_.length}function Mr(n,e){const t=st(n),i=st(e);if(null===t)return e;if(t===i)return Mr(Zt(n),Zt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function zN(n,e){if(zl(n)!==zl(e))return!1;for(let t=n.pieceNum_,i=e.pieceNum_;t<=n.pieces_.length;t++,i++)if(n.pieces_[t]!==e.pieces_[i])return!1;return!0}function Eo(n,e){let t=n.pieceNum_,i=e.pieceNum_;if(zl(n)>zl(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[i])return!1;++t,++i}return!0}class wke{constructor(e,t){this.errorPrefix_=t,this.parts_=o_(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=Wv(this.parts_[i]);VY(this)}}function VY(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+gu(n))}function gu(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class jN extends RY{constructor(){let e,t;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new jN}getInitialEvent(e){return se("visible"===e,"Unknown event type: "+e),[this.visible_]}}const s_=1e3;let lw,_u=(()=>{class n extends PY{constructor(t,i,r,o,s,a,l,c){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=n.nextPersistentConnectionId_++,this.log_=t_("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=s_,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");jN.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&sw.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,r){const o=++this.requestNumber_,s={r:o,a:t,b:i};this.log_(Hi(s)),se(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[o]=r)}get(t){this.initConnection_();const i=new sh,o={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:a=>{const l=a.d;"ok"===a.s?i.resolve(l):i.reject(l)}};return this.outstandingGets_.push(o),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(t,i,r,o){this.initConnection_();const s=t._queryIdentifier,a=t._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),se(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),se(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");const l={onComplete:o,hashFn:i,query:t,tag:r};this.listens.get(a).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(t){const i=t.query,r=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+r+" for "+o);const s={p:r};t.tag&&(s.q=i._queryObject,s.t=t.tag),s.h=t.hashFn(),this.sendRequest("q",s,l=>{const c=l.d,u=l.s;n.warnOnListenWarnings_(c,i),(this.listens.get(r)&&this.listens.get(r).get(o))===t&&(this.log_("listen response",l),"ok"!==u&&this.removeListen_(r,o),t.onComplete&&t.onComplete(u,c))})}static warnOnListenWarnings_(t,i){if(t&&"object"==typeof t&&Ms(t,"w")){const r=ah(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',s=i._path.toString();fr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||function(n){const e=$v(n).claims;return"object"==typeof e&&!0===e.admin}(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=function(n){const t=$v(n).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,o=>{const s=o.s,a=o.d||"error";this.authToken_===t&&("ok"===s?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,r=t.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(t,i){const r=t._path.toString(),o=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),se(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,t._queryObject,i)}sendUnlisten_(t,i,r,o){this.log_("Unlisten on "+t+" for "+i);const s={p:t};o&&(s.q=r,s.t=o),this.sendRequest("n",s)}onDisconnectPut(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:r})}onDisconnectMerge(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:r})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,r,o){const s={p:i,d:r};this.log_("onDisconnect "+t,s),this.sendRequest(t,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(t,i,r,o){this.putInternal("p",t,i,r,o)}merge(t,i,r,o){this.putInternal("m",t,i,r,o)}putInternal(t,i,r,o,s){this.initConnection_();const a={p:i,d:r};void 0!==s&&(a.h=s),this.outstandingPuts_.push({action:t,request:a,onComplete:o}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,o=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,r,s=>{this.log_(i+" response",s),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+Hi(t));const i=t.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),"d"===t?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===t?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===t?this.onListenRevoked_(i.p,i.q):"ac"===t?this.onAuthRevoked_(i.s,i.d):"apc"===t?this.onAppCheckRevoked_(i.s,i.d):"sd"===t?this.onSecurityDebugPacket_(i):kN("Unrecognized action received from server: "+Hi(t)+"\nAre you using the latest client?")}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){se(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=s_,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=s_,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=s_),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return _(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const i=t.onDataMessage_.bind(t),r=t.onReady_.bind(t),o=t.onRealtimeDisconnect_.bind(t),s=t.id+":"+n.nextConnectionId_++,a=t.lastSessionId;let l=!1,c=null;const u=function(){c?c.close():(l=!0,o())};t.realtime_={close:u,sendRequest:function(m){se(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(m)}};const h=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[m,y]=yield Promise.all([t.authTokenProvider_.getToken(h),t.appCheckTokenProvider_.getToken(h)]);l?Ni("getToken() completed but was canceled"):(Ni("getToken() completed. Creating connection."),t.authToken_=m&&m.accessToken,t.appCheckToken_=y&&y.token,c=new OY(s,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,i,r,o,C=>{fr(C+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},a))}catch(m){t.log_("Failed to get token: "+m),l||(t.repoInfo_.nodeAdmin&&fr(m),u())}}})()}interrupt(t){Ni("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Ni("Resuming connection for reason: "+t),delete this.interruptReasons_[t],BM(this.interruptReasons_)&&(this.reconnectDelay_=s_,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let r;r=i?i.map(s=>ON(s)).join("$"):"default";const o=this.removeListen_(t,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(t,i){const r=new Ft(t).toString();let o;if(this.listens.has(r)){const s=this.listens.get(r);o=s.get(i),s.delete(i),0===s.size&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(t,i){Ni("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){Ni("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";t["sdk."+i+"."+SN.replace(/\./g,"-")]=1,FM()?t["framework.cordova"]=1:v7()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=sw.getInstance().currentlyOnline();return BM(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class dt{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new dt(e,t)}}class aw{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const i=new dt(Bl,e),r=new dt(Bl,t);return 0!==this.compare(i,r)}minPost(){return dt.MIN}}class zY extends aw{static get __EMPTY_NODE(){return lw}static set __EMPTY_NODE(e){lw=e}compare(e,t){return mu(e.name,t.name)}isDefinedOn(e){throw oh("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return dt.MIN}maxPost(){return new dt(Pa,lw)}makePost(e,t){return se("string"==typeof e,"KeyIndex indexValue must always be a string."),new dt(e,lw)}toString(){return".key"}}const zs=new zY;class cw{constructor(e,t,i,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(s=t?i(e.key,t):1,r&&(s*=-1),s<0)e=this.isReverse_?e.left:e.right;else{if(0===s){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let $N,Ko=(()=>{class n{constructor(t,i,r,o,s){this.key=t,this.value=i,this.color=r??n.RED,this.left=o??qr.EMPTY_NODE,this.right=s??qr.EMPTY_NODE}copy(t,i,r,o,s){return new n(t??this.key,i??this.value,r??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let o=this;const s=r(t,o.key);return o=s<0?o.copy(null,null,null,o.left.insert(t,i,r),null):0===s?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return qr.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let r,o;if(r=this,i(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(t,r.key)){if(r.right.isEmpty())return qr.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class qr{constructor(e,t=qr.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new qr(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Ko.BLACK,null,null))}remove(e){return new qr(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ko.BLACK,null,null))}get(e){let t,i=this.root_;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t)return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}getPredecessorKey(e){let t,i=this.root_,r=null;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}t<0?i=i.left:t>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new cw(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new cw(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new cw(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new cw(this.root_,null,this.comparator_,!0,e)}}function Ake(n,e){return mu(n.name,e.name)}function HN(n,e){return mu(n,e)}qr.EMPTY_NODE=new class Ske{copy(e,t,i,r,o){return this}insert(e,t,i){return new Ko(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const jY=function(n){return"number"==typeof n?"number:"+aY(n):"string:"+n},HY=function(n){if(n.isLeafNode()){const e=n.val();se("string"==typeof e||"number"==typeof e||"object"==typeof e&&Ms(e,".sv"),"Priority must be a string or number.")}else se(n===$N||n.isEmpty(),"priority of unexpected type.");se(n===$N||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let $Y,GY,qY,df=(()=>{class n{constructor(t,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,se(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),HY(this.priorityNode_)}static set __childrenNodeConstructor(t){$Y=t}static get __childrenNodeConstructor(){return $Y}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return at(t)?this:".priority"===st(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return".priority"===t?this.updatePriority(i):i.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const r=st(t);return null===r?i:i.isEmpty()&&".priority"!==r?this:(se(".priority"!==r||1===zl(t),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Zt(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+jY(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",t+="number"===i?aY(this.value_):this.value_,this.lazyHash_=iY(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:(se(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,r=typeof this.value_,o=n.VALUE_TYPE_ORDER.indexOf(i),s=n.VALUE_TYPE_ORDER.indexOf(r);return se(o>=0,"Unknown leaf type: "+i),se(s>=0,"Unknown leaf type: "+r),o===s?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(t){return t===this||!!t.isLeafNode()&&(this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const un=new class Rke extends aw{compare(e,t){const i=e.node.getPriority(),r=t.node.getPriority(),o=i.compareTo(r);return 0===o?mu(e.name,t.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return dt.MIN}maxPost(){return new dt(Pa,new df("[PRIORITY-POST]",qY))}makePost(e,t){const i=GY(e);return new dt(t,new df("[PRIORITY-POST]",i))}toString(){return".priority"}},Nke=Math.log(2);class Fke{constructor(e){this.count=parseInt(Math.log(e+1)/Nke,10),this.current_=this.count-1;const r=(o=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const uw=function(n,e,t,i){n.sort(e);const r=function(l,c){const u=c-l;let d,h;if(0===u)return null;if(1===u)return d=n[l],h=t?t(d):d,new Ko(h,d.node,Ko.BLACK,null,null);{const m=parseInt(u/2,10)+l,y=r(l,m),C=r(m+1,c);return d=n[m],h=t?t(d):d,new Ko(h,d.node,Ko.BLACK,y,C)}},a=function(l){let c=null,u=null,d=n.length;const h=function(y,C){const T=d-y,S=d;d-=y;const D=r(T+1,S),F=n[T],Y=t?t(F):F;m(new Ko(Y,F.node,C,null,D))},m=function(y){c?(c.left=y,c=y):(u=y,c=y)};for(let y=0;y<l.count;++y){const C=l.nextBitIsOne(),T=Math.pow(2,l.count-(y+1));C?h(T,Ko.BLACK):(h(T,Ko.BLACK),h(T,Ko.RED))}return u}(new Fke(n.length));return new qr(i||e,a)};let GN;const hf={};class Ra{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return se(hf&&un,"ChildrenNode.ts has not been loaded"),GN=GN||new Ra({".priority":hf},{".priority":un}),GN}get(e){const t=ah(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof qr?t:null}hasIndex(e){return Ms(this.indexSet_,e.toString())}addIndex(e,t){se(e!==zs,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const o=t.getIterator(dt.Wrap);let a,s=o.getNext();for(;s;)r=r||e.isDefinedOn(s.node),i.push(s),s=o.getNext();a=r?uw(i,e.getCompare()):hf;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new Ra(u,c)}addToIndexes(e,t){const i=Gv(this.indexes_,(r,o)=>{const s=ah(this.indexSet_,o);if(se(s,"Missing index implementation for "+o),r===hf){if(s.isDefinedOn(e.node)){const a=[],l=t.getIterator(dt.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),uw(a,s.getCompare())}return hf}{const a=t.get(e.name);let l=r;return a&&(l=l.remove(new dt(e.name,a))),l.insert(e,e.node)}});return new Ra(i,this.indexSet_)}removeFromIndexes(e,t){const i=Gv(this.indexes_,r=>{if(r===hf)return r;{const o=t.get(e.name);return o?r.remove(new dt(e.name,o)):r}});return new Ra(i,this.indexSet_)}}let a_,Qe=(()=>{class n{constructor(t,i,r){this.children_=t,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&HY(this.priorityNode_),this.children_.isEmpty()&&se(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return a_||(a_=new n(new qr(HN),null,Ra.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||a_}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const i=this.children_.get(t);return null===i?a_:i}}getChild(t){const i=st(t);return null===i?this:this.getImmediateChild(i).getChild(Zt(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,i){if(se(i,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(i);{const r=new dt(t,i);let o,s;i.isEmpty()?(o=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(t,i),s=this.indexMap_.addToIndexes(r,this.children_));const a=o.isEmpty()?a_:this.priorityNode_;return new n(o,a,s)}}updateChild(t,i){const r=st(t);if(null===r)return i;{se(".priority"!==st(t)||1===zl(t),".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild(Zt(t),i);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let r=0,o=0,s=!0;if(this.forEachChild(un,(a,l)=>{i[a]=l.val(t),r++,s&&n.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!t&&s&&o<2*r){const a=[];for(const l in i)a[l]=i[l];return a}return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+jY(this.getPriority().val())+":"),this.forEachChild(un,(i,r)=>{const o=r.hash();""!==o&&(t+=":"+i+":"+o)}),this.lazyHash_=""===t?"":iY(t)}return this.lazyHash_}getPredecessorChildName(t,i,r){const o=this.resolveIndex_(r);if(o){const s=o.getPredecessorKey(new dt(t,i));return s?s.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new dt(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new dt(i,this.children_.get(i)):null}forEachChild(t,i){const r=this.resolveIndex_(t);return r?r.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(t,o=>o);{const o=this.children_.getIteratorFrom(t.name,dt.Wrap);let s=o.peek();for(;null!=s&&i.compare(s,t)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(t,o=>o);{const o=this.children_.getReverseIteratorFrom(t.name,dt.Wrap);let s=o.peek();for(;null!=s&&i.compare(s,t)>0;)o.getNext(),s=o.peek();return o}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===l_?-1:0}withIndex(t){if(t===zs||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===zs||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(un),o=i.getIterator(un);let s=r.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=r.getNext(),a=o.getNext()}return null===s&&null===a}return!1}return!1}}resolveIndex_(t){return t===zs?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const l_=new class Lke extends Qe{constructor(){super(new qr(HN),Qe.EMPTY_NODE,Ra.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Qe.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(dt,{MIN:{value:new dt(Bl,Qe.EMPTY_NODE)},MAX:{value:new dt(Pa,l_)}}),zY.__EMPTY_NODE=Qe.EMPTY_NODE,df.__childrenNodeConstructor=Qe,function kke(n){$N=n}(l_),function Pke(n){qY=n}(l_);const Vke=!0;function Rn(n,e=null){if(null===n)return Qe.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),se(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new df(n,Rn(e));if(n instanceof Array||!Vke){let t=Qe.EMPTY_NODE;return Fi(n,(i,r)=>{if(Ms(n,i)&&"."!==i.substring(0,1)){const o=Rn(r);(o.isLeafNode()||!o.isEmpty())&&(t=t.updateImmediateChild(i,o))}}),t.updatePriority(Rn(e))}{const t=[];let i=!1;if(Fi(n,(s,a)=>{if("."!==s.substring(0,1)){const l=Rn(a);l.isEmpty()||(i=i||!l.getPriority().isEmpty(),t.push(new dt(s,l)))}}),0===t.length)return Qe.EMPTY_NODE;const o=uw(t,Ake,s=>s.name,HN);if(i){const s=uw(t,un.getCompare());return new Qe(o,Rn(e),new Ra({".priority":s},{".priority":un}))}return new Qe(o,Rn(e),Ra.Default)}}!function Oke(n){GY=n}(Rn);class qN extends aw{constructor(e){super(),this.indexPath_=e,se(!at(e)&&".priority"!==st(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const i=this.extractChild(e.node),r=this.extractChild(t.node),o=i.compareTo(r);return 0===o?mu(e.name,t.name):o}makePost(e,t){const i=Rn(e),r=Qe.EMPTY_NODE.updateChild(this.indexPath_,i);return new dt(t,r)}maxPost(){const e=Qe.EMPTY_NODE.updateChild(this.indexPath_,l_);return new dt(Pa,e)}toString(){return o_(this.indexPath_,0).join("/")}}const WN=new class Bke extends aw{compare(e,t){const i=e.node.compareTo(t.node);return 0===i?mu(e.name,t.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return dt.MIN}maxPost(){return dt.MAX}makePost(e,t){const i=Rn(e);return new dt(t,i)}toString(){return".value"}};function u_(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class YN{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=un}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return se(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return se(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Bl}hasEnd(){return this.endSet_}getIndexEndValue(){return se(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return se(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Pa}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return se(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===un}copy(){const e=new YN;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function KY(n){const e={};if(n.isDefault())return e;let t;if(n.index_===un?t="$priority":n.index_===WN?t="$value":n.index_===zs?t="$key":(se(n.index_ instanceof qN,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=Hi(t),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";e[i]=Hi(n.indexStartValue_),n.startNameSet_&&(e[i]+=","+Hi(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";e[i]=Hi(n.indexEndValue_),n.endNameSet_&&(e[i]+=","+Hi(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function YY(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==un&&(e.i=n.index_.toString()),e}class hw extends PY{constructor(e,t,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=t_("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(se(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,i,r){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const s=hw.getListenId_(e,i),a={};this.listens_[s]=a;const l=KY(e._queryParams);this.restRequest_(o+".json",l,(c,u)=>{let d=u;if(404===c&&(d=null,c=null),null===c&&this.onDataUpdate_(o,d,!1,i),ah(this.listens_,s)===a){let h;h=c?401===c?"permission_denied":"rest_error:"+c:"ok",r(h,null)}})}unlisten(e,t){const i=hw.getListenId_(e,t);delete this.listens_[i]}get(e){const t=KY(e._queryParams),i=e._path.toString(),r=new sh;return this.restRequest_(i+".json",t,(o,s)=>{let a=s;404===o&&(a=null,o=null),null===o?(this.onDataUpdate_(i,a,!1,null),r.resolve(a)):r.reject(new Error(a))}),r.promise}refreshAuthToken(e){}restRequest_(e,t={},i){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,o])=>{r&&r.accessToken&&(t.auth=r.accessToken),o&&o.token&&(t.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+lh(t);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(i&&4===a.readyState){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=pm(a.responseText)}catch{fr("Failed to parse JSON response for "+s+": "+a.responseText)}i(null,l)}else 401!==a.status&&404!==a.status&&fr("Got unsuccessful REST response for "+s+" Status: "+a.status),i(a.status);i=null}},a.open("GET",s,!0),a.send()})}}class Wke{constructor(){this.rootNode_=Qe.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function fw(){return{value:null,children:new Map}}function pf(n,e,t){if(at(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const i=st(e);n.children.has(i)||n.children.set(i,fw()),pf(n.children.get(i),e=Zt(e),t)}}function JN(n,e,t){null!==n.value?t(e,n.value):function Kke(n,e){n.children.forEach((t,i)=>{e(i,t)})}(n,(i,r)=>{JN(r,new Ft(e.toString()+"/"+i),t)})}class Yke{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Fi(this.last_,(i,r)=>{t[i]=t[i]-r}),this.last_=e,t}}class Zke{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Yke(e);const i=1e4+2e4*Math.random();i_(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),t={};let i=!1;Fi(e,(r,o)=>{o>0&&Ms(this.statsToReport_,r)&&(t[r]=o,i=!0)}),i&&this.server_.reportStats(t),i_(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var js=function(n){return n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",n}(js||{});function n2(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class pw{constructor(e,t,i){this.path=e,this.affectedTree=t,this.revert=i,this.type=js.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(at(this.path)){if(null!=this.affectedTree.value)return se(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Ft(e));return new pw(It(),t,this.revert)}}return se(st(this.path)===e,"operationForChild called for unrelated child."),new pw(Zt(this.path),this.affectedTree,this.revert)}}class bu{constructor(e,t,i){this.source=e,this.path=t,this.snap=i,this.type=js.OVERWRITE}operationForChild(e){return at(this.path)?new bu(this.source,It(),this.snap.getImmediateChild(e)):new bu(this.source,Zt(this.path),this.snap)}}class mf{constructor(e,t,i){this.source=e,this.path=t,this.children=i,this.type=js.MERGE}operationForChild(e){if(at(this.path)){const t=this.children.subtree(new Ft(e));return t.isEmpty()?null:t.value?new bu(this.source,It(),t.value):new mf(this.source,It(),t)}return se(st(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new mf(this.source,Zt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class jl{constructor(e,t,i){this.node_=e,this.fullyInitialized_=t,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(at(e))return this.isFullyInitialized()&&!this.filtered_;const t=st(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function f_(n,e,t,i,r,o){const s=i.filter(a=>a.type===t);s.sort((a,l)=>function nOe(n,e,t){if(null==e.childName||null==t.childName)throw oh("Should only compare child_ events.");const i=new dt(e.childName,e.snapshotNode),r=new dt(t.childName,t.snapshotNode);return n.index_.compare(i,r)}(n,a,l)),s.forEach(a=>{const l=function tOe(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,a,o);r.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,n.query_))})})}function mw(n,e){return{eventCache:n,serverCache:e}}function p_(n,e,t,i){return mw(new jl(e,t,i),n.serverCache)}function XY(n,e,t,i){return mw(n.eventCache,new jl(e,t,i))}function gw(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function yu(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let r2;class dn{constructor(e,t=(()=>(r2||(r2=new qr(UAe)),r2))()){this.value=e,this.children=t}static fromObject(e){let t=new dn(null);return Fi(e,(i,r)=>{t=t.set(new Ft(i),r)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:It(),value:this.value};if(at(e))return null;{const i=st(e),r=this.children.get(i);if(null!==r){const o=r.findRootMostMatchingPathAndValue(Zt(e),t);return null!=o?{path:Cn(new Ft(i),o.path),value:o.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(at(e))return this;{const t=st(e),i=this.children.get(t);return null!==i?i.subtree(Zt(e)):new dn(null)}}set(e,t){if(at(e))return new dn(t,this.children);{const i=st(e),o=(this.children.get(i)||new dn(null)).set(Zt(e),t),s=this.children.insert(i,o);return new dn(this.value,s)}}remove(e){if(at(e))return this.children.isEmpty()?new dn(null):new dn(null,this.children);{const t=st(e),i=this.children.get(t);if(i){const r=i.remove(Zt(e));let o;return o=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&o.isEmpty()?new dn(null):new dn(this.value,o)}return this}}get(e){if(at(e))return this.value;{const t=st(e),i=this.children.get(t);return i?i.get(Zt(e)):null}}setTree(e,t){if(at(e))return t;{const i=st(e),o=(this.children.get(i)||new dn(null)).setTree(Zt(e),t);let s;return s=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new dn(this.value,s)}}fold(e){return this.fold_(It(),e)}fold_(e,t){const i={};return this.children.inorderTraversal((r,o)=>{i[r]=o.fold_(Cn(e,r),t)}),t(e,this.value,i)}findOnPath(e,t){return this.findOnPath_(e,It(),t)}findOnPath_(e,t,i){const r=!!this.value&&i(t,this.value);if(r)return r;if(at(e))return null;{const o=st(e),s=this.children.get(o);return s?s.findOnPath_(Zt(e),Cn(t,o),i):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,It(),t)}foreachOnPath_(e,t,i){if(at(e))return this;{this.value&&i(t,this.value);const r=st(e),o=this.children.get(r);return o?o.foreachOnPath_(Zt(e),Cn(t,r),i):new dn(null)}}foreach(e){this.foreach_(It(),e)}foreach_(e,t){this.children.inorderTraversal((i,r)=>{r.foreach_(Cn(e,i),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,i)=>{i.value&&e(t,i.value)})}}class Yo{constructor(e){this.writeTree_=e}static empty(){return new Yo(new dn(null))}}function m_(n,e,t){if(at(e))return new Yo(new dn(t));{const i=n.writeTree_.findRootMostValueAndPath(e);if(null!=i){const r=i.path;let o=i.value;const s=Mr(r,e);return o=o.updateChild(s,t),new Yo(n.writeTree_.set(r,o))}{const r=new dn(t),o=n.writeTree_.setTree(e,r);return new Yo(o)}}}function o2(n,e,t){let i=n;return Fi(t,(r,o)=>{i=m_(i,Cn(e,r),o)}),i}function ZY(n,e){if(at(e))return Yo.empty();{const t=n.writeTree_.setTree(e,new dn(null));return new Yo(t)}}function s2(n,e){return null!=vu(n,e)}function vu(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(Mr(t.path,e)):null}function JY(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(un,(i,r)=>{e.push(new dt(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&e.push(new dt(i,r.value))}),e}function Hl(n,e){if(at(e))return n;{const t=vu(n,e);return new Yo(null!=t?new dn(t):n.writeTree_.subtree(e))}}function a2(n){return n.writeTree_.isEmpty()}function gf(n,e){return eQ(It(),n.writeTree_,e)}function eQ(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let i=null;return e.children.inorderTraversal((r,o)=>{".priority"===r?(se(null!==o.value,"Priority writes must always be leaf nodes"),i=o.value):t=eQ(Cn(n,r),o,t)}),!t.getChild(n).isEmpty()&&null!==i&&(t=t.updateChild(Cn(n,".priority"),i)),t}}function _w(n,e){return oQ(e,n)}function lOe(n,e){if(n.snap)return Eo(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&Eo(Cn(n.path,t),e))return!0;return!1}function uOe(n){return n.visible}function tQ(n,e,t){let i=Yo.empty();for(let r=0;r<n.length;++r){const o=n[r];if(e(o)){const s=o.path;let a;if(o.snap)Eo(t,s)?(a=Mr(t,s),i=m_(i,a,o.snap)):Eo(s,t)&&(a=Mr(s,t),i=m_(i,It(),o.snap.getChild(a)));else{if(!o.children)throw oh("WriteRecord should have .snap or .children");if(Eo(t,s))a=Mr(t,s),i=o2(i,a,o.children);else if(Eo(s,t))if(a=Mr(s,t),at(a))i=o2(i,It(),o.children);else{const l=ah(o.children,st(a));if(l){const c=l.getChild(Zt(a));i=m_(i,It(),c)}}}}}return i}function nQ(n,e,t,i,r){if(i||r){const o=Hl(n.visibleWrites,e);return!r&&a2(o)?t:r||null!=t||s2(o,It())?gf(tQ(n.allWrites,function(c){return(c.visible||r)&&(!i||!~i.indexOf(c.writeId))&&(Eo(c.path,e)||Eo(e,c.path))},e),t||Qe.EMPTY_NODE):null}{const o=vu(n.visibleWrites,e);if(null!=o)return o;{const s=Hl(n.visibleWrites,e);return a2(s)?t:null!=t||s2(s,It())?gf(s,t||Qe.EMPTY_NODE):null}}}function bw(n,e,t,i){return nQ(n.writeTree,n.treePath,e,t,i)}function l2(n,e){return function dOe(n,e,t){let i=Qe.EMPTY_NODE;const r=vu(n.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(un,(o,s)=>{i=i.updateImmediateChild(o,s)}),i;if(t){const o=Hl(n.visibleWrites,e);return t.forEachChild(un,(s,a)=>{const l=gf(Hl(o,new Ft(s)),a);i=i.updateImmediateChild(s,l)}),JY(o).forEach(s=>{i=i.updateImmediateChild(s.name,s.node)}),i}return JY(Hl(n.visibleWrites,e)).forEach(s=>{i=i.updateImmediateChild(s.name,s.node)}),i}(n.writeTree,n.treePath,e)}function iQ(n,e,t,i){return function hOe(n,e,t,i,r){se(i||r,"Either existingEventSnap or existingServerSnap must exist");const o=Cn(e,t);if(s2(n.visibleWrites,o))return null;{const s=Hl(n.visibleWrites,o);return a2(s)?r.getChild(t):gf(s,r.getChild(t))}}(n.writeTree,n.treePath,e,t,i)}function yw(n,e){return function pOe(n,e){return vu(n.visibleWrites,e)}(n.writeTree,Cn(n.treePath,e))}function c2(n,e,t){return function fOe(n,e,t,i){const r=Cn(e,t),o=vu(n.visibleWrites,r);return null!=o?o:i.isCompleteForChild(t)?gf(Hl(n.visibleWrites,r),i.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function rQ(n,e){return oQ(Cn(n.treePath,e),n.writeTree)}function oQ(n,e){return{treePath:n,writeTree:e}}class bOe{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,i=e.childName;se("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),se(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const o=r.type;if("child_added"===t&&"child_removed"===o)this.changeMap.set(i,u_(i,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===o)this.changeMap.delete(i);else if("child_removed"===t&&"child_changed"===o)this.changeMap.set(i,function c_(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}(i,r.oldSnap));else if("child_changed"===t&&"child_added"===o)this.changeMap.set(i,function ff(n,e){return{type:"child_added",snapshotNode:e,childName:n}}(i,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==o)throw oh("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(i,u_(i,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}const sQ=new class yOe{getCompleteChild(e){return null}getChildAfterChild(e,t,i){return null}};class u2{constructor(e,t,i=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=i}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const i=null!=this.optCompleteServerCache_?new jl(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return c2(this.writes_,e,i)}}getChildAfterChild(e,t,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:yu(this.viewCache_),o=function _Oe(n,e,t,i,r,o){return function mOe(n,e,t,i,r,o,s){let a;const l=Hl(n.visibleWrites,e),c=vu(l,It());if(null!=c)a=c;else{if(null==t)return[];a=gf(l,t)}if(a=a.withIndex(s),a.isEmpty()||a.isLeafNode())return[];{const u=[],d=s.getCompare(),h=o?a.getReverseIteratorFrom(i,s):a.getIteratorFrom(i,s);let m=h.getNext();for(;m&&u.length<r;)0!==d(m,i)&&u.push(m),m=h.getNext();return u}}(n.writeTree,n.treePath,e,t,i,r,o)}(this.writes_,r,t,1,i,e);return 0===o.length?null:o[0]}}function aQ(n,e,t,i,r,o){const s=e.eventCache;if(null!=yw(i,t))return e;{let a,l;if(at(t))if(se(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=yu(e),d=l2(i,c instanceof Qe?c:Qe.EMPTY_NODE);a=n.filter.updateFullNode(e.eventCache.getNode(),d,o)}else{const c=bw(i,yu(e));a=n.filter.updateFullNode(e.eventCache.getNode(),c,o)}else{const c=st(t);if(".priority"===c){se(1===zl(t),"Can't have a priority with additional path components");const u=s.getNode();l=e.serverCache.getNode();const d=iQ(i,t,u,l);a=null!=d?n.filter.updatePriority(u,d):s.getNode()}else{const u=Zt(t);let d;if(s.isCompleteForChild(c)){l=e.serverCache.getNode();const h=iQ(i,t,s.getNode(),l);d=null!=h?s.getNode().getImmediateChild(c).updateChild(u,h):s.getNode().getImmediateChild(c)}else d=c2(i,c,e.serverCache);a=null!=d?n.filter.updateChild(s.getNode(),c,d,u,r,o):s.getNode()}}return p_(e,a,s.isFullyInitialized()||at(t),n.filter.filtersNodes())}}function vw(n,e,t,i,r,o,s,a){const l=e.serverCache;let c;const u=s?n.filter:n.filter.getIndexedFilter();if(at(t))c=u.updateFullNode(l.getNode(),i,null);else if(u.filtersNodes()&&!l.isFiltered()){const m=l.getNode().updateChild(t,i);c=u.updateFullNode(l.getNode(),m,null)}else{const m=st(t);if(!l.isCompleteForPath(t)&&zl(t)>1)return e;const y=Zt(t),T=l.getNode().getImmediateChild(m).updateChild(y,i);c=".priority"===m?u.updatePriority(l.getNode(),T):u.updateChild(l.getNode(),m,T,y,sQ,null)}const d=XY(e,c,l.isFullyInitialized()||at(t),u.filtersNodes());return aQ(n,d,t,r,new u2(r,d,o),a)}function d2(n,e,t,i,r,o,s){const a=e.eventCache;let l,c;const u=new u2(r,e,o);if(at(t))c=n.filter.updateFullNode(e.eventCache.getNode(),i,s),l=p_(e,c,!0,n.filter.filtersNodes());else{const d=st(t);if(".priority"===d)c=n.filter.updatePriority(e.eventCache.getNode(),i),l=p_(e,c,a.isFullyInitialized(),a.isFiltered());else{const h=Zt(t),m=a.getNode().getImmediateChild(d);let y;if(at(h))y=i;else{const C=u.getCompleteChild(d);y=null!=C?".priority"===UN(h)&&C.getChild(LY(h)).isEmpty()?C:C.updateChild(h,i):Qe.EMPTY_NODE}l=m.equals(y)?e:p_(e,n.filter.updateChild(a.getNode(),d,y,h,u,s),a.isFullyInitialized(),n.filter.filtersNodes())}}return l}function lQ(n,e){return n.eventCache.isCompleteForChild(e)}function cQ(n,e,t){return t.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function h2(n,e,t,i,r,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c,l=e;c=at(t)?i:new dn(null).setTree(t,i);const u=e.serverCache.getNode();return c.children.inorderTraversal((d,h)=>{if(u.hasChild(d)){const y=cQ(0,e.serverCache.getNode().getImmediateChild(d),h);l=vw(n,l,new Ft(d),y,r,o,s,a)}}),c.children.inorderTraversal((d,h)=>{const m=!e.serverCache.isCompleteForChild(d)&&null===h.value;if(!u.hasChild(d)&&!m){const C=cQ(0,e.serverCache.getNode().getImmediateChild(d),h);l=vw(n,l,new Ft(d),C,r,o,s,a)}}),l}function kOe(n,e){const t=yu(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!at(e)&&!t.getImmediateChild(st(e)).isEmpty())?t.getChild(e):null}function hQ(n,e,t,i){e.type===js.MERGE&&null!==e.source.queryId&&(se(yu(n.viewCache_),"We should always have a full cache before handling merges"),se(gw(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,o=function wOe(n,e,t,i,r){const o=new bOe;let s,a;if(t.type===js.OVERWRITE){const c=t;c.source.fromUser?s=d2(n,e,c.path,c.snap,i,r,o):(se(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!at(c.path),s=vw(n,e,c.path,c.snap,i,r,a,o))}else if(t.type===js.MERGE){const c=t;c.source.fromUser?s=function EOe(n,e,t,i,r,o,s){let a=e;return i.foreach((l,c)=>{const u=Cn(t,l);lQ(e,st(u))&&(a=d2(n,a,u,c,r,o,s))}),i.foreach((l,c)=>{const u=Cn(t,l);lQ(e,st(u))||(a=d2(n,a,u,c,r,o,s))}),a}(n,e,c.path,c.children,i,r,o):(se(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),s=h2(n,e,c.path,c.children,i,r,a,o))}else if(t.type===js.ACK_USER_WRITE){const c=t;s=c.revert?function MOe(n,e,t,i,r,o){let s;if(null!=yw(i,t))return e;{const a=new u2(i,e,r),l=e.eventCache.getNode();let c;if(at(t)||".priority"===st(t)){let u;if(e.serverCache.isFullyInitialized())u=bw(i,yu(e));else{const d=e.serverCache.getNode();se(d instanceof Qe,"serverChildren would be complete if leaf node"),u=l2(i,d)}c=n.filter.updateFullNode(l,u,o)}else{const u=st(t);let d=c2(i,u,e.serverCache);null==d&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),c=null!=d?n.filter.updateChild(l,u,d,Zt(t),a,o):e.eventCache.getNode().hasChild(u)?n.filter.updateChild(l,u,Qe.EMPTY_NODE,Zt(t),a,o):l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=bw(i,yu(e)),s.isLeafNode()&&(c=n.filter.updateFullNode(c,s,o)))}return s=e.serverCache.isFullyInitialized()||null!=yw(i,It()),p_(e,c,s,n.filter.filtersNodes())}}(n,e,c.path,i,r,o):function TOe(n,e,t,i,r,o,s){if(null!=yw(r,t))return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(null!=i.value){if(at(t)&&l.isFullyInitialized()||l.isCompleteForPath(t))return vw(n,e,t,l.getNode().getChild(t),r,o,a,s);if(at(t)){let c=new dn(null);return l.getNode().forEachChild(zs,(u,d)=>{c=c.set(new Ft(u),d)}),h2(n,e,t,c,r,o,a,s)}return e}{let c=new dn(null);return i.foreach((u,d)=>{const h=Cn(t,u);l.isCompleteForPath(h)&&(c=c.set(u,l.getNode().getChild(h)))}),h2(n,e,t,c,r,o,a,s)}}(n,e,c.path,c.affectedTree,i,r,o)}else{if(t.type!==js.LISTEN_COMPLETE)throw oh("Unknown operation type: "+t.type);s=function IOe(n,e,t,i,r){const o=e.serverCache;return aQ(n,XY(e,o.getNode(),o.isFullyInitialized()||at(t),o.isFiltered()),t,i,sQ,r)}(n,e,t.path,i,o)}const l=o.getChanges();return function COe(n,e,t){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=gw(n);(t.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&t.push(function WY(n){return{type:"value",snapshotNode:n}}(gw(e)))}}(e,s,l),{viewCache:s,changes:l}}(n.processor_,r,e,t,i);return function xOe(n,e){se(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),se(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,o.viewCache),se(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=o.viewCache,function fQ(n,e,t,i){return function eOe(n,e,t,i){const r=[],o=[];return e.forEach(s=>{"child_changed"===s.type&&n.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(function Uke(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(s.childName,s.snapshotNode))}),f_(n,r,"child_removed",e,i,t),f_(n,r,"child_added",e,i,t),f_(n,r,"child_moved",o,i,t),f_(n,r,"child_changed",e,i,t),f_(n,r,"value",e,i,t),r}(n.eventGenerator_,e,t,i?[i]:n.eventRegistrations_)}(n,o.changes,o.viewCache.eventCache.getNode(),null)}let xw,Cw;function f2(n,e,t,i){const r=e.source.queryId;if(null!==r){const o=n.views.get(r);return se(null!=o,"SyncTree gave us an op for an invalid query."),hQ(o,e,t,i)}{let o=[];for(const s of n.views.values())o=o.concat(hQ(s,e,t,i));return o}}function $l(n,e){let t=null;for(const i of n.views.values())t=t||kOe(i,e);return t}class yQ{constructor(e){this.listenProvider_=e,this.syncPointTree_=new dn(null),this.pendingWriteTree_=function gOe(){return{visibleWrites:Yo.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function p2(n,e,t,i,r){return function rOe(n,e,t,i,r){se(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:e,snap:t,writeId:i,visible:r}),r&&(n.visibleWrites=m_(n.visibleWrites,e,t)),n.lastWriteId=i}(n.pendingWriteTree_,e,t,i,r),r?_f(n,new bu({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function ql(n,e,t=!1){const i=function sOe(n,e){for(let t=0;t<n.allWrites.length;t++){const i=n.allWrites[t];if(i.writeId===e)return i}return null}(n.pendingWriteTree_,e);if(function aOe(n,e){const t=n.allWrites.findIndex(a=>a.writeId===e);se(t>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[t];n.allWrites.splice(t,1);let r=i.visible,o=!1,s=n.allWrites.length-1;for(;r&&s>=0;){const a=n.allWrites[s];a.visible&&(s>=t&&lOe(a,i.path)?r=!1:Eo(i.path,a.path)&&(o=!0)),s--}return!!r&&(o?(function cOe(n){n.visibleWrites=tQ(n.allWrites,uOe,It()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=ZY(n.visibleWrites,i.path):Fi(i.children,l=>{n.visibleWrites=ZY(n.visibleWrites,Cn(i.path,l))}),!0))}(n.pendingWriteTree_,e)){let o=new dn(null);return null!=i.snap?o=o.set(It(),!0):Fi(i.children,s=>{o=o.set(new Ft(s),!0)}),_f(n,new pw(i.path,o,t))}return[]}function g_(n,e,t){return _f(n,new bu({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function Tw(n,e,t){const r=n.pendingWriteTree_,o=n.syncPointTree_.findOnPath(e,(s,a)=>{const c=$l(a,Mr(s,e));if(c)return c});return nQ(r,e,o,t,!0)}function _f(n,e){return xQ(e,n.syncPointTree_,null,_w(n.pendingWriteTree_,It()))}function xQ(n,e,t,i){if(at(n.path))return wQ(n,e,t,i);{const r=e.get(It());null==t&&null!=r&&(t=$l(r,It()));let o=[];const s=st(n.path),a=n.operationForChild(s),l=e.children.get(s);if(l&&a){const c=t?t.getImmediateChild(s):null,u=rQ(i,s);o=o.concat(xQ(a,l,c,u))}return r&&(o=o.concat(f2(r,n,i,t))),o}}function wQ(n,e,t,i){const r=e.get(It());null==t&&null!=r&&(t=$l(r,It()));let o=[];return e.children.inorderTraversal((s,a)=>{const l=t?t.getImmediateChild(s):null,c=rQ(i,s),u=n.operationForChild(s);u&&(o=o.concat(wQ(u,a,l,c)))}),r&&(o=o.concat(f2(r,n,i,t))),o}function g2(n,e){return n.tagToQueryMap.get(e)}function _2(n){const e=n.indexOf("$");return se(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new Ft(n.substr(0,e))}}function b2(n,e,t){const i=n.syncPointTree_.get(e);return se(i,"Missing sync point for query tag that we're tracking"),f2(i,t,_w(n.pendingWriteTree_,e),null)}class y2{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new y2(t)}node(){return this.node_}}class v2{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Cn(this.path_,e);return new v2(this.syncTree_,t)}node(){return Tw(this.syncTree_,this.path_)}}const ZOe=function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n},EQ=function(n,e,t){return n&&"object"==typeof n?(se(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?JOe(n[".sv"],e,t):"object"==typeof n[".sv"]?ePe(n[".sv"],e):void se(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},JOe=function(n,e,t){if("timestamp"===n)return t.timestamp;se(!1,"Unexpected server value: "+n)},ePe=function(n,e,t){n.hasOwnProperty("increment")||se(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&se(!1,"Unexpected increment value: "+i);const r=e.node();if(se(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const s=r.getValue();return"number"!=typeof s?i:s+i},TQ=function(n,e,t,i){return w2(e,new v2(t,n),i)},x2=function(n,e,t){return w2(n,new y2(e),t)};function w2(n,e,t){const i=n.getPriority().val(),r=EQ(i,e.getImmediateChild(".priority"),t);let o;if(n.isLeafNode()){const s=n,a=EQ(s.getValue(),e,t);return a!==s.getValue()||r!==s.getPriority().val()?new df(a,Rn(r)):n}{const s=n;return o=s,r!==s.getPriority().val()&&(o=o.updatePriority(new df(r))),s.forEachChild(un,(a,l)=>{const c=w2(l,e.getImmediateChild(a),t);c!==l&&(o=o.updateImmediateChild(a,c))}),o}}class C2{constructor(e="",t=null,i={children:{},childCount:0}){this.name=e,this.parent=t,this.node=i}}function Mw(n,e){let t=e instanceof Ft?e:new Ft(e),i=n,r=st(t);for(;null!==r;){const o=ah(i.node.children,r)||{children:{},childCount:0};i=new C2(r,i,o),t=Zt(t),r=st(t)}return i}function xu(n){return n.node.value}function E2(n,e){n.node.value=e,T2(n)}function IQ(n){return n.node.childCount>0}function Dw(n,e){Fi(n.node.children,(t,i)=>{e(new C2(t,n,i))})}function MQ(n,e,t,i){t&&!i&&e(n),Dw(n,r=>{MQ(r,e,!0,i)}),t&&i&&e(n)}function y_(n){return new Ft(null===n.parent?n.name:y_(n.parent)+"/"+n.name)}function T2(n){null!==n.parent&&function iPe(n,e,t){const i=function tPe(n){return void 0===xu(n)&&!IQ(n)}(t),r=Ms(n.node.children,e);i&&r?(delete n.node.children[e],n.node.childCount--,T2(n)):!i&&!r&&(n.node.children[e]=t.node,n.node.childCount++,T2(n))}(n.parent,n.name,n)}const rPe=/[\[\].#$\/\u0000-\u001F\u007F]/,oPe=/[\[\].#$\u0000-\u001F\u007F]/,I2=10485760,Sw=function(n){return"string"==typeof n&&0!==n.length&&!rPe.test(n)},x_=function(n,e,t){const i=t instanceof Ft?new wke(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+gu(i));if("function"==typeof e)throw new Error(n+"contains a function "+gu(i)+" with contents = "+e.toString());if(iw(e))throw new Error(n+"contains "+e.toString()+" "+gu(i));if("string"==typeof e&&e.length>I2/3&&Wv(e)>I2)throw new Error(n+"contains a string greater than "+I2+" utf8 bytes "+gu(i)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let r=!1,o=!1;if(Fi(e,(s,a)=>{if(".value"===s)r=!0;else if(".priority"!==s&&".sv"!==s&&(o=!0,!Sw(s)))throw new Error(n+" contains an invalid key ("+s+") "+gu(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Cke(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=Wv(e),VY(n)})(i,s),x_(n,a,i),function Eke(n){const e=n.parts_.pop();n.byteLength_-=Wv(e),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&o)throw new Error(n+' contains ".value" child '+gu(i)+" in addition to actual children.")}},AQ=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!Sw(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),function(n){return"string"==typeof n&&0!==n.length&&!oPe.test(n)}(n)}(t))throw new Error(function _m(n,e){return`${n} failed: ${e} argument `}(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class cPe{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function ao(n,e,t){(function Aw(n,e){let t=null;for(let i=0;i<e.length;i++){const r=e[i],o=r.getPath();null!==t&&!zN(o,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:o}),t.events.push(r)}t&&n.eventLists_.push(t)})(n,t),function OQ(n,e){n.recursionDepth_++;let t=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(e(r.path)?(uPe(n.eventLists_[i]),n.eventLists_[i]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}(n,i=>Eo(i,e)||Eo(e,i))}function uPe(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const i=t.getEventRunner();pu&&Ni("event: "+t.toString()),cf(i)}}}const dPe=25;class hPe{constructor(e,t,i,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new cPe,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=fw(),this.transactionQueueTree_=new C2,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function RQ(n){const t=n.infoData_.getNode(new Ft(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function C_(n){return ZOe({timestamp:RQ(n)})}function NQ(n,e,t,i,r){n.dataUpdateCount++;const o=new Ft(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let s=[];if(r)if(i){const l=Gv(t,c=>Rn(c));s=function qOe(n,e,t,i){const r=g2(n,i);if(r){const o=_2(r),s=o.path,a=o.queryId,l=Mr(s,e),c=dn.fromObject(t);return b2(n,s,new mf(n2(a),l,c))}return[]}(n.serverSyncTree_,o,l,r)}else{const l=Rn(t);s=function vQ(n,e,t,i){const r=g2(n,i);if(null!=r){const o=_2(r),s=o.path,a=o.queryId,l=Mr(s,e);return b2(n,s,new bu(n2(a),l,t))}return[]}(n.serverSyncTree_,o,l,r)}else if(i){const l=Gv(t,c=>Rn(c));s=function HOe(n,e,t){const i=dn.fromObject(t);return _f(n,new mf({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,i))}(n.serverSyncTree_,o,l)}else{const l=Rn(t);s=g_(n.serverSyncTree_,o,l)}let a=o;s.length>0&&(a=yf(n,o)),ao(n.eventQueue_,a,s)}function FQ(n,e){S2(n,"connected",e),!1===e&&function _Pe(n){bf(n,"onDisconnectEvents");const e=C_(n),t=fw();JN(n.onDisconnect_,It(),(r,o)=>{const s=TQ(r,o,n.serverSyncTree_,e);pf(t,r,s)});let i=[];JN(t,It(),(r,o)=>{i=i.concat(g_(n.serverSyncTree_,r,o));const s=function P2(n,e){const t=y_(BQ(n,e)),i=Mw(n.transactionQueueTree_,e);return function nPe(n,e,t){let i=t?n:n.parent;for(;null!==i;){if(e(i))return!0;i=i.parent}}(i,r=>{R2(n,r)}),R2(n,i),MQ(i,r=>{R2(n,r)}),t}(n,r);yf(n,s)}),n.onDisconnect_=fw(),ao(n.eventQueue_,It(),i)}(n)}function S2(n,e,t){const i=new Ft("/.info/"+e),r=Rn(t);n.infoData_.updateSnapshot(i,r);const o=g_(n.infoSyncTree_,i,r);ao(n.eventQueue_,i,o)}function kw(n){return n.nextWriteId_++}function bf(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),Ni(t,...e)}function O2(n,e,t){return Tw(n.serverSyncTree_,e,t)||Qe.EMPTY_NODE}function Ow(n,e=n.transactionQueueTree_){if(e||Pw(n,e),xu(e)){const t=UQ(n,e);se(t.length>0,"Sending zero length transaction queue"),t.every(r=>0===r.status)&&function EPe(n,e,t){const i=t.map(c=>c.currentWriteId),r=O2(n,e,i);let o=r;const s=r.hash();for(let c=0;c<t.length;c++){const u=t[c];se(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=Mr(e,u.path);o=o.updateChild(d,u.currentOutputSnapshotRaw)}const a=o.val(!0),l=e;n.server_.put(l.toString(),a,c=>{bf(n,"transaction put response",{path:l.toString(),status:c});let u=[];if("ok"===c){const d=[];for(let h=0;h<t.length;h++)t[h].status=2,u=u.concat(ql(n.serverSyncTree_,t[h].currentWriteId)),t[h].onComplete&&d.push(()=>t[h].onComplete(null,!0,t[h].currentOutputSnapshotResolved)),t[h].unwatcher();Pw(n,Mw(n.transactionQueueTree_,e)),Ow(n,n.transactionQueueTree_),ao(n.eventQueue_,e,u);for(let h=0;h<d.length;h++)cf(d[h])}else{if("datastale"===c)for(let d=0;d<t.length;d++)t[d].status=3===t[d].status?4:0;else{fr("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<t.length;d++)t[d].status=4,t[d].abortReason=c}yf(n,e)}},s)}(n,y_(e),t)}else IQ(e)&&Dw(e,t=>{Ow(n,t)})}function yf(n,e){const t=BQ(n,e),i=y_(t);return function TPe(n,e,t){if(0===e.length)return;const i=[];let r=[];const s=e.filter(a=>0===a.status).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=Mr(t,l.path);let d,u=!1;if(se(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)u=!0,d=l.abortReason,r=r.concat(ql(n.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=dPe)u=!0,d="maxretry",r=r.concat(ql(n.serverSyncTree_,l.currentWriteId,!0));else{const h=O2(n,l.path,s);l.currentInputSnapshot=h;const m=e[a].update(h.val());if(void 0!==m){x_("transaction failed: Data returned ",m,l.path);let y=Rn(m);"object"==typeof m&&null!=m&&Ms(m,".priority")||(y=y.updatePriority(h.getPriority()));const T=l.currentWriteId,S=C_(n),D=x2(y,h,S);l.currentOutputSnapshotRaw=y,l.currentOutputSnapshotResolved=D,l.currentWriteId=kw(n),s.splice(s.indexOf(T),1),r=r.concat(p2(n.serverSyncTree_,l.path,D,l.currentWriteId,l.applyLocally)),r=r.concat(ql(n.serverSyncTree_,T,!0))}else u=!0,d="nodata",r=r.concat(ql(n.serverSyncTree_,l.currentWriteId,!0))}ao(n.eventQueue_,t,r),r=[],u&&(e[a].status=2,setTimeout(e[a].unwatcher,Math.floor(0)),e[a].onComplete&&i.push("nodata"===d?()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot):()=>e[a].onComplete(new Error(d),!1,null)))}Pw(n,n.transactionQueueTree_);for(let a=0;a<i.length;a++)cf(i[a]);Ow(n,n.transactionQueueTree_)}(n,UQ(n,t),i),i}function BQ(n,e){let t,i=n.transactionQueueTree_;for(t=st(e);null!==t&&void 0===xu(i);)i=Mw(i,t),t=st(e=Zt(e));return i}function UQ(n,e){const t=[];return zQ(n,e,t),t.sort((i,r)=>i.order-r.order),t}function zQ(n,e,t){const i=xu(e);if(i)for(let r=0;r<i.length;r++)t.push(i[r]);Dw(e,r=>{zQ(n,r,t)})}function Pw(n,e){const t=xu(e);if(t){let i=0;for(let r=0;r<t.length;r++)2!==t[r].status&&(t[i]=t[r],i++);t.length=i,E2(e,t.length>0?t:void 0)}Dw(e,i=>{Pw(n,i)})}function R2(n,e){const t=xu(e);if(t){const i=[];let r=[],o=-1;for(let s=0;s<t.length;s++)3===t[s].status||(1===t[s].status?(se(o===s-1,"All SENT items should be at beginning of queue."),o=s,t[s].status=3,t[s].abortReason="set"):(se(0===t[s].status,"Unexpected transaction status in abort"),t[s].unwatcher(),r=r.concat(ql(n.serverSyncTree_,t[s].currentWriteId,!0)),t[s].onComplete&&i.push(t[s].onComplete.bind(null,new Error("set"),!1,null))));-1===o?E2(e,void 0):t.length=o+1,ao(n.eventQueue_,y_(e),r);for(let s=0;s<i.length;s++)cf(i[s])}}const N2=function(n,e){const t=DPe(n),i=t.namespace;return"firebase.com"===t.domain&&Us(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==t.domain&&Us("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&fr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new RN(t.host,t.secure,i,"ws"===t.scheme||"wss"===t.scheme,e,"",i!==t.subdomain),path:new Ft(t.pathString)}},DPe=function(n){let e="",t="",i="",r="",o="",s=!0,a="https",l=443;if("string"==typeof n){let c=n.indexOf("//");c>=0&&(a=n.substring(0,c-1),n=n.substring(c+2));let u=n.indexOf("/");-1===u&&(u=n.length);let d=n.indexOf("?");-1===d&&(d=n.length),e=n.substring(0,Math.min(u,d)),u<d&&(r=function IPe(n){let e="";const t=n.split("/");for(let i=0;i<t.length;i++)if(t[i].length>0){let r=t[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}(n.substring(u,d)));const h=function MPe(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const i=t.split("=");2===i.length?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):fr(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,d)));c=e.indexOf(":"),c>=0?(s="https"===a||"wss"===a,l=parseInt(e.substring(c+1),10)):c=e.length;const m=e.slice(0,c);if("localhost"===m.toLowerCase())t="localhost";else if(m.split(".").length<=2)t=m;else{const y=e.indexOf(".");i=e.substring(0,y).toLowerCase(),t=e.substring(y+1),o=i}"ns"in h&&(o=h.ns)}return{host:e,port:l,domain:t,subdomain:i,secure:s,scheme:a,pathString:r,namespace:o}};class lo{constructor(e,t,i,r){this._repo=e,this._path=t,this._queryParams=i,this._orderByCalled=r}get key(){return at(this._path)?null:UN(this._path)}get ref(){return new Qo(this._repo,this._path)}get _queryIdentifier(){const e=YY(this._queryParams),t=ON(e);return"{}"===t?"default":t}get _queryObject(){return YY(this._queryParams)}isEqual(e){if(!((e=kt(e))instanceof lo))return!1;const t=this._repo===e._repo,i=zN(this._path,e._path);return t&&i&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function vke(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}class Qo extends lo{constructor(e,t){super(e,t,new YN,!1)}get parent(){const e=LY(this._path);return null===e?null:new Qo(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}(function ROe(n){se(!xw,"__referenceConstructor has already been defined"),xw=n})(Qo),function BOe(n){se(!Cw,"__referenceConstructor has already been defined"),Cw=n}(Qo);const L2={};class KPe{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function fPe(n,e,t){if(n.stats_=LN(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new hw(n.repoInfo_,(i,r,o,s)=>{NQ(n,i,r,o,s)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>FQ(n,!0),0);else{if(typeof t<"u"&&null!==t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Hi(t)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new _u(n.repoInfo_,e,(i,r,o,s)=>{NQ(n,i,r,o,s)},i=>{FQ(n,i)},i=>{!function pPe(n,e){Fi(e,(t,i)=>{S2(n,t,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function ZAe(n,e){const t=n.toString();return FN[t]||(FN[t]=e()),FN[t]}(n.repoInfo_,()=>new Zke(n.stats_,n.server_)),n.infoData_=new Wke,n.infoSyncTree_=new yQ({startListening:(i,r,o,s)=>{let a=[];const l=n.infoData_.getNode(i._path);return l.isEmpty()||(a=g_(n.infoSyncTree_,i._path,l),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),S2(n,"connected",!1),n.serverSyncTree_=new yQ({startListening:(i,r,o,s)=>(n.server_.listen(i,o,r,(a,l)=>{const c=s(a,l);ao(n.eventQueue_,i._path,c)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Qo(this._repo,It())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function GPe(n,e){const t=L2[e];(!t||t[n.key]!==n)&&Us(`Database ${e}(${n.repoInfo_}) has already been deleted.`),function VQ(n){n.persistentConnection_&&n.persistentConnection_.interrupt("repo_interrupt")}(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Us("Cannot call "+e+" on a deleted database.")}}function YPe(n=ch(),e){const t=ha(n,"database").getImmediate({identifier:e});if(!t._instanceStarted){const i=Hv("database");i&&function QPe(n,e,t,i={}){(n=kt(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Us("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let o;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&Us('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new r_(r_.OWNER);else if(i.mockUserToken){const s="string"==typeof i.mockUserToken?i.mockUserToken:NM(i.mockUserToken,n.app.options.projectId);o=new r_(s)}!function HPe(n,e,t,i){n.repoInfo_=new RN(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),i&&(n.authTokenProvider_=i)}(r,e,t,o)}(t,...i)}return t}_u.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},_u.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function XPe(n){(function NAe(n){SN=n})(pa),Mi(new xi("database",(e,{instanceIdentifier:t})=>function $Pe(n,e,t,i,r){let o=i||n.options.databaseURL;void 0===o&&(n.options.projectId||Us("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ni("Using default host for project ",n.options.projectId),o=`${n.options.projectId}-default-rtdb.firebaseio.com`);let l,c,s=N2(o,r),a=s.repoInfo;typeof process<"u"&&process.env&&(c=process.env.FIREBASE_DATABASE_EMULATOR_HOST),c?(l=!0,o=`http://${c}?ns=${a.namespace}`,s=N2(o,r),a=s.repoInfo):l=!s.repoInfo.secure;const u=r&&l?new r_(r_.OWNER):new YAe(n.name,n.options,e);AQ("Invalid Firebase Database URL",s),at(s.path)||Us("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function qPe(n,e,t,i){let r=L2[e.name];r||(r={},L2[e.name]=r);let o=r[n.toURLString()];return o&&Us("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new hPe(n,!1,t,i),r[n.toURLString()]=o,o}(a,n,u,new KAe(n.name,t));return new KPe(d,n)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),Nt(JK,"0.14.4",n),Nt(JK,"0.14.4","esm2017")}();class V2{constructor(e){return e}}const QQ="database",B2=new X("angularfire2.database-instances");function nRe(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new V2(i)}}const iRe={provide:class eRe{constructor(){return ph(QQ)}},deps:[[new Gt,B2]]},rRe={provide:V2,useFactory:function tRe(n,e){const t=fh(QQ,n,e);return t&&new V2(t)},deps:[[new Gt,B2],ba]};let oRe=(()=>{class n{constructor(){Nt("angularfire",hh.full,"rtdb")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=nt({type:n}),n.\u0275inj=Xe({providers:[rRe,iRe]}),n})();function sRe(n,...e){return{ngModule:oRe,providers:[{provide:B2,useFactory:nRe(n),multi:!0,deps:[Te,qt,wm,Cm,[new Gt,S0],[new Gt,Im],...e]}]}}const aRe=Jn(YPe,!0),z2="functions";class hRe{constructor(e,t,i){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then(r=>this.auth=r,()=>{}),this.messaging||t.get().then(r=>this.messaging=r,()=>{}),this.appCheck||i.get().then(r=>this.appCheck=r,()=>{})}getAuthToken(){var e=this;return _(function*(){if(e.auth)try{const t=yield e.auth.getToken();return t?.accessToken}catch{return}})()}getMessagingToken(){var e=this;return _(function*(){if(e.messaging&&"Notification"in self&&"granted"===Notification.permission)try{return yield e.messaging.getToken()}catch{return}})()}getAppCheckToken(e){var t=this;return _(function*(){if(t.appCheck){const i=e?yield t.appCheck.getLimitedUseToken():yield t.appCheck.getToken();return i.error?null:i.token}return null})()}getContext(e){var t=this;return _(function*(){return{authToken:yield t.getAuthToken(),messagingToken:yield t.getMessagingToken(),appCheckToken:yield t.getAppCheckToken(e)}})()}}const j2="us-central1";class pRe{constructor(e,t,i,r,o=j2,s){this.app=e,this.fetchImpl=s,this.emulatorOrigin=null,this.contextProvider=new hRe(t,i,r),this.cancelAllRequests=new Promise(a=>{this.deleteService=()=>Promise.resolve(a())});try{const a=new URL(o);this.customDomain=a.origin,this.region=j2}catch{this.customDomain=null,this.region=o}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;return null!==this.emulatorOrigin?`${this.emulatorOrigin}/${t}/${this.region}/${e}`:null!==this.customDomain?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}}const eX="@firebase/functions";function ERe(n=ch(),e=j2){const i=ha(kt(n),z2).getImmediate({identifier:e}),r=Hv("functions");return r&&function TRe(n,e,t){!function mRe(n,e,t){n.emulatorOrigin=`http://${e}:${t}`}(kt(n),e,t)}(i,...r),i}!function CRe(n,e){Mi(new xi(z2,(i,{instanceIdentifier:r})=>{const o=i.getProvider("app").getImmediate(),s=i.getProvider("auth-internal"),a=i.getProvider("messaging-internal"),l=i.getProvider("app-check-internal");return new pRe(o,s,a,l,r,n)},"PUBLIC").setMultipleInstances(!0)),Nt(eX,"0.10.0",e),Nt(eX,"0.10.0","esm2017")}(fetch.bind(self));class G2{constructor(e){return e}}const nX="functions",q2=new X("angularfire2.functions-instances");function DRe(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new G2(i)}}const SRe={provide:class IRe{constructor(){return ph(nX)}},deps:[[new Gt,q2]]},ARe={provide:G2,useFactory:function MRe(n,e){const t=fh(nX,n,e);return t&&new G2(t)},deps:[[new Gt,q2],ba]};let kRe=(()=>{class n{constructor(){Nt("angularfire",hh.full,"fn")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=nt({type:n}),n.\u0275inj=Xe({providers:[ARe,SRe]}),n})();function ORe(n,...e){return{ngModule:kRe,providers:[{provide:q2,useFactory:DRe(n),multi:!0,deps:[Te,qt,wm,Cm,[new Gt,S0],[new Gt,Im],...e]}]}}const PRe=Jn(ERe,!0);function RRe(n,e){if(1&n){const t=Tt();p(0,"tr")(1,"td"),g(2),f(),p(3,"td"),g(4),f(),p(5,"td"),g(6),f(),p(7,"td"),g(8),f(),p(9,"td")(10,"button",5),B("click",function(){const o=Re(t).$implicit;return Ne(Rt().infoMuestra(o.codigo))}),p(11,"div",6),g(12,"Informaci\xf3n"),f()(),p(13,"button",7),B("click",function(){const o=Re(t).$implicit;return Ne(Rt().editMuestra(o.codigo))}),p(14,"div",8),g(15,"Editar"),f()(),p(16,"button",9),B("click",function(){const o=Re(t).$implicit;return Ne(Rt().Barcode(o.codigo))}),p(17,"div",10),g(18,"Imprimir"),f()()()()}if(2&n){const t=e.$implicit;N(2),je(t.codigo),N(2),je(t.fecha),N(2),je(t.cultivo),N(2),je(t.coordenadas)}}let iX=(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.location=s,this.data=[]}ngOnInit(){console.log(this.route.url),this.route.params.subscribe(t=>{this.up=t.up}),this.MyQuery()}getData(){const t=_e(this.firestore,"muestras");he(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}updateData(t){const i=De(this.firestore,"muestras",t);Xi(i,{}).then(()=>{alert("Data updated"),this.getData()}).catch(r=>{alert(r.message)})}deleteData(t){const i=De(this.firestore,"muestras",t);Pn(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["user/projects"])}logOut(){wi(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}newMuestra(t){this.router.navigate(["../muestras-new/"+t],{relativeTo:this.route})}editMuestra(t){this.router.navigate(["../muestras-edit/"+t],{relativeTo:this.route})}infoUnidad(t){this.router.navigate(["../unidad-produccion-info/"+t],{relativeTo:this.route})}infoMuestra(t){this.router.navigate(["../muestras-info/"+t],{relativeTo:this.route})}Barcode(t){this.router.navigate(["../barcode/"+t],{relativeTo:this.route})}backPage(){this.location.back()}MyQuery(){var t=this;return _(function*(){let i=t.up;const r=Ot(_e(t.firestore,"muestras"),Kt("unidad","==",i));he(r).then(s=>{t.data=[...s.docs.map(a=>({...a.data(),id:a.id}))]}),(yield he(r)).forEach(s=>{})})()}static{this.\u0275fac=function(i){return new(i||n)(E(Me),E(mt),E(He),E(rt),E(Ln))}}static{this.\u0275cmp=ve({type:n,selectors:[["app-muestras"]],decls:20,vars:1,consts:[[1,"subTituloText"],[1,"list"],[4,"ngFor","ngForOf"],["id","agregar",1,"boton",3,"click"],["id","volver",1,"boton",3,"click"],[1,"detalles",3,"click"],[1,"detalles-tip"],[1,"edit",3,"click"],[1,"edit-tip"],[1,"imprimir",3,"click"],[1,"imprimir-tip"]],template:function(i,r){1&i&&(p(0,"p"),g(1,"muestras works!"),f(),p(2,"h1",0),g(3,"Muestras"),f(),p(4,"div",1)(5,"table")(6,"tr")(7,"th"),g(8," Codigo "),f(),p(9,"th"),g(10," Fecha "),f(),p(11,"th"),g(12," Cultivo"),f(),p(13,"th"),g(14," Coordenadas "),f(),$(15,"th"),f(),hn(16,RRe,19,4,"tr",2),f(),p(17,"button",3),B("click",function(){return r.newMuestra(r.up)}),g(18," Agregar "),f(),p(19,"button",4),B("click",function(){return r.backPage()}),f()()),2&i&&(N(16),ct("ngForOf",r.data))},dependencies:[yo],styles:[".list[_ngcontent-%COMP%]{position:absolute;top:30%;min-width:519px;left:clamp(350px,calc(50% - 260px),100%)}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.projectBlock[_ngcontent-%COMP%]{width:60%;height:35px;background:#3ec28f;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:20px;font-weight:700;letter-spacing:0;cursor:pointer}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{cursor:pointer;width:153px;height:36px;left:49%;top:30%;position:absolute;background:#4c9eff;border-radius:30px;box-shadow:2px 2px 5px #000}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}#volver[_ngcontent-%COMP%]{position:absolute;left:0%;border:none;width:50px;height:50px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(back-button-Edit4.8567daeed3ab1418.png)}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;text-shadow:2px 2px 5px black;min-width:519px;text-align:center;left:clamp(350px,calc(50% - 260px),100%);top:20%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.edit[_ngcontent-%COMP%]:hover   .edit-tip[_ngcontent-%COMP%]{display:block;opacity:1;transition:.5s}.edit-tip[_ngcontent-%COMP%]{display:none;position:relative;background-color:#2f3033;color:#fff;padding:5px;width:-moz-fit-content;width:fit-content;margin:5px;top:100%;left:0;opacity:0;transition:.5s;z-index:100;border-radius:3px;font-weight:700;font-family:Trebuchet MS,sans-serif}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.detalles[_ngcontent-%COMP%]:hover   .detalles-tip[_ngcontent-%COMP%]{display:block;opacity:1;transition:.5s}.detalles-tip[_ngcontent-%COMP%]{display:none;position:relative;background-color:#2f3033;color:#fff;padding:5px;width:-moz-fit-content;width:fit-content;margin:5px;top:100%;left:0;opacity:0;transition:.5s;z-index:100;border-radius:3px;font-weight:700;font-family:Trebuchet MS,sans-serif}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.imprimir[_ngcontent-%COMP%]:hover   .imprimir-tip[_ngcontent-%COMP%]{display:block;opacity:1;transition:.5s}.imprimir-tip[_ngcontent-%COMP%]{display:none;position:relative;background-color:#2f3033;color:#fff;padding:5px;width:-moz-fit-content;width:fit-content;margin:5px;top:100%;left:0;opacity:0;transition:.5s;z-index:100;border-radius:3px;font-weight:700;font-family:Trebuchet MS,sans-serif}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.projectBlock[_ngcontent-%COMP%]{width:60%;height:25px;background:#3ec28f;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:14px;font-weight:700;letter-spacing:0;cursor:pointer}.list[_ngcontent-%COMP%]{position:absolute;min-width:0px;width:90%;left:5%;top:35%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:153px;height:36px;left:30%;top:35%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;right:0;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}#volver[_ngcontent-%COMP%]{position:absolute;left:0%;width:30px;height:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;min-width:0px;width:100vw;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;left:0%;top:27%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}}return n})(),rX=(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.location=s,this.data=[],this.num=1}ngOnInit(){let t;this.route.params.subscribe(i=>{this.item=i.id,t=i.id,console.log(i),this.generateBarcode(t)})}handleRegister(t){console.log(t.cantidad),this.toPrint(t.cantidad)}generateBarcode(t){var r=t;this.res=r,nw("#barcode",r,{format:"CODE128"})}generateSVG(t,i){for(let r=0;r<t;r++){const o=document.createElement("div"),s=document.createElement("svg");o.setAttribute("class","subcode"),s.setAttribute("id","barcode"+r),document.getElementById("codes")?.appendChild(s)}}toPrint(t){window.open("#/print/"+this.res+"/"+t,"_blank")}sleep(t){return _(function*(){return new Promise(i=>setTimeout(i,t))})()}backPage(){this.location.back()}static{this.\u0275fac=function(i){return new(i||n)(E(Me),E(mt),E(He),E(rt),E(Ln))}}static{this.\u0275cmp=ve({type:n,selectors:[["app-barcode"]],decls:13,vars:1,consts:[["id","barcode"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],["name","cantidad","ngModel","","placeholder","N\xb0","id","cantidad","type","number","min","1","max","5",1,"input-field",3,"ngModel","ngModelChange"],[1,"print"],["id","volver",3,"click"]],template:function(i,r){if(1&i){const o=Tt();p(0,"p"),g(1,"barcode works!"),f(),Gu(),$(2,"svg",0),sb(),p(3,"form",1,2),B("ngSubmit",function(){Re(o);const a=fn(4);return Ne(r.handleRegister(a.value))}),p(5,"div",3)(6,"div",4)(7,"span",5),g(8,"Cantidad: "),f(),p(9,"input",6),Ye("ngModelChange",function(a){return Ze(r.num,a)||(r.num=a),a}),f()(),p(10,"button",7),g(11,"Imprimir"),f()()(),p(12,"button",8),B("click",function(){return r.backPage()}),f()}2&i&&(N(9),Ke("ngModel",r.num))},dependencies:[ai,sr,XI,Vr,si,iM,nM,Cr,Vn],styles:[".main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:40%;top:50%}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:56px;letter-spacing:0;text-shadow:2px 2px 5px black;left:45%;top:20%}.input-fields[_ngcontent-%COMP%]{position:inherit;width:180px;top:25px}.Text[_ngcontent-%COMP%]{display:inline;font-family:Arial;text-align:center;font-size:24px;font-weight:700}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{height:20px;width:40px;font-size:16px}.print[_ngcontent-%COMP%]{position:inherit;left:200px}svg[_ngcontent-%COMP%]{position:absolute;left:44%;top:32%}button[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:24px;font-weight:700;cursor:pointer;border-radius:30px}#volver[_ngcontent-%COMP%]{font-size:16px;position:absolute;left:35%;top:20%;border:none;width:50px;height:50px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(back-button-Edit4.8567daeed3ab1418.png)}#barcode[_ngcontent-%COMP%]{display:inline;border:2px solid rgb(0,0,0);box-shadow:2px 2px 5px #000}@media only screen and (max-width: 768px){.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:60%;height:20%;left:36%;top:60%}.input-fields[_ngcontent-%COMP%]{position:inherit;width:130px;top:25px}.Text[_ngcontent-%COMP%]{display:inline;font-family:Arial;text-align:center;font-size:20px}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{height:20px;width:20px;font-size:16px}.print[_ngcontent-%COMP%]{position:absolute;left:33%;top:45%;font-size:16px}#test[_ngcontent-%COMP%]{position:absolute;left:30%;top:60%;display:none}#codes[_ngcontent-%COMP%]{position:absolute;left:30%;top:35%}svg[_ngcontent-%COMP%]{position:absolute;left:25%;top:30%;margin:15px 0}.space[_ngcontent-%COMP%]{height:200px}#barcode[_ngcontent-%COMP%]{display:inline;border:2px solid rgb(0,0,0);box-shadow:2px 2px 5px #000}button[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:20px;font-weight:700;cursor:pointer;border-radius:30px}#volver[_ngcontent-%COMP%]{font-size:16px;position:absolute;left:28%;top:70%;border:none;width:36px;height:36px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(back-button-Edit4.8567daeed3ab1418.png)}}"]})}}return n})();const oX="firebasestorage.googleapis.com",sX="storageBucket";class Nn extends zr{constructor(e,t,i=0){super(W2(e),`Firebase Storage: ${t} (${W2(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Nn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return W2(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var En=function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n}(En||{});function W2(n){return"storage/"+n}function K2(){return new Nn(En.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Y2(n){return new Nn(En.INVALID_ARGUMENT,n)}function uX(){return new Nn(En.APP_DELETED,"The Firebase app was deleted.")}function I_(n,e){return new Nn(En.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function M_(n){throw new Nn(En.INTERNAL_ERROR,"Internal error: "+n)}class Dr{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=Dr.makeFromUrl(e,t)}catch{return new Dr(e,"")}if(""===i.path)return i;throw function $Re(n){return new Nn(En.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let i=null;const r="([A-Za-z0-9.\\-_]+)",a=new RegExp("^gs://"+r+"(/(.*))?$","i");function c(Y){Y.path_=decodeURIComponent(Y.path)}const d=t.replace(/[.]/g,"\\."),F=[{regex:a,indices:{bucket:1,path:3},postModify:function o(Y){"/"===Y.path.charAt(Y.path.length-1)&&(Y.path_=Y.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${d}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:c},{regex:new RegExp(`^https?://${t===oX?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:c}];for(let Y=0;Y<F.length;Y++){const re=F[Y],ue=re.regex.exec(e);if(ue){let et=ue[re.indices.path];et||(et=""),i=new Dr(ue[re.indices.bucket],et),re.postModify(i);break}}if(null==i)throw function HRe(n){return new Nn(En.INVALID_URL,"Invalid URL '"+n+"'.")}(e);return i}}class QRe{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function Vw(n){return"string"==typeof n||n instanceof String}function dX(n){return Q2()&&n instanceof Blob}function Q2(){return typeof Blob<"u"&&!y7()}function X2(n,e,t,i){if(i<e)throw Y2(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw Y2(`Invalid value for '${n}'. Expected ${t} or less.`)}function Na(n,e,t){let i=e;return null==t&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function hX(n){const e=encodeURIComponent;let t="?";for(const i in n)n.hasOwnProperty(i)&&(t=t+(e(i)+"=")+e(n[i])+"&");return t=t.slice(0,-1),t}var wf=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}(wf||{});class nNe{constructor(e,t,i,r,o,s,a,l,c,u,d,h=!0){this.url_=e,this.method_=t,this.headers_=i,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((m,y)=>{this.resolve_=m,this.reject_=y,this.start_()})}start_(){const t=(i,r)=>{const o=this.resolve_,s=this.reject_,a=r.connection;if(r.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());!function JRe(n){return void 0!==n}(l)?o():o(l)}catch(l){s(l)}else if(null!==a){const l=K2();l.serverResponse=a.getErrorText(),s(this.errorCallback_?this.errorCallback_(a,l):l)}else s(r.canceled?this.appDelete_?uX():function lX(){return new Nn(En.CANCELED,"User canceled the upload/download.")}():function aX(){return new Nn(En.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())};this.canceled_?t(0,new Bw(!1,null,!0)):this.backoffId_=function XRe(n,e,t){let i=1,r=null,o=null,s=!1,a=0;function l(){return 2===a}let c=!1;function u(...T){c||(c=!0,e.apply(null,T))}function d(T){r=setTimeout(()=>{r=null,n(m,l())},T)}function h(){o&&clearTimeout(o)}function m(T,...S){if(c)return void h();if(T)return h(),void u.call(null,T,...S);if(l()||s)return h(),void u.call(null,T,...S);let F;i<64&&(i*=2),1===a?(a=2,F=0):F=1e3*(i+Math.random()),d(F)}let y=!1;function C(T){y||(y=!0,h(),!c&&(null!==r?(T||(a=2),clearTimeout(r),d(0)):T||(a=1)))}return d(0),o=setTimeout(()=>{s=!0,C(!0)},t),C}((i,r)=>{if(r)return void i(!1,new Bw(!1,null,!0));const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{null!==this.progressCallback_&&this.progressCallback_(a.loaded,a.lengthComputable?a.total:-1)};null!==this.progressCallback_&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===wf.NO_ERROR,l=o.getStatus();if(!a||function fX(n,e){const t=n>=500&&n<600,r=-1!==[408,429].indexOf(n),o=-1!==e.indexOf(n);return t||r||o}(l,this.additionalRetryCodes_)&&this.retry){const u=o.getErrorCode()===wf.ABORT;return void i(!1,new Bw(!1,null,u))}const c=-1!==this.successCodes_.indexOf(l);i(!0,new Bw(c,o))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function ZRe(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Bw{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function cNe(...n){const e=function lNe(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}if(Q2())return new Blob(n);throw new Nn(En.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Xo={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Z2{constructor(e,t){this.data=e,this.contentType=t||null}}function mX(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);i<=127?e.push(i):i<=2047?e.push(192|i>>6,128|63&i):55296==(64512&i)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++t),e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):e.push(239,191,189):56320==(64512&i)?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(e)}function gX(n,e){switch(n){case Xo.BASE64:{const r=-1!==e.indexOf("-"),o=-1!==e.indexOf("_");if(r||o)throw I_(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case Xo.BASE64URL:{const r=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(r||o)throw I_(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function dNe(n){if(typeof atob>"u")throw function KRe(n){return new Nn(En.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(e)}catch(r){throw r.message.includes("polyfill")?r:I_(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}class _X{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw I_(Xo.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;null!=i&&(this.base64=function mNe(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}class Fa{constructor(e,t){let i=0,r="";dX(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(dX(this.data_)){const r=function uNe(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===r?null:new Fa(r)}{const i=new Uint8Array(this.data_.buffer,e,t-e);return new Fa(i,!0)}}static getBlob(...e){if(Q2()){const t=e.map(i=>i instanceof Fa?i.data_:i);return new Fa(cNe.apply(null,t))}{const t=e.map(s=>Vw(s)?function pX(n,e){switch(n){case Xo.RAW:return new Z2(mX(e));case Xo.BASE64:case Xo.BASE64URL:return new Z2(gX(n,e));case Xo.DATA_URL:return new Z2(function fNe(n){const e=new _X(n);return e.base64?gX(Xo.BASE64,e.rest):function hNe(n){let e;try{e=decodeURIComponent(n)}catch{throw I_(Xo.DATA_URL,"Malformed data URL.")}return mX(e)}(e.rest)}(e),function pNe(n){return new _X(n).contentType}(e))}throw K2()}(Xo.RAW,s).data:s.data_);let i=0;t.forEach(s=>{i+=s.byteLength});const r=new Uint8Array(i);let o=0;return t.forEach(s=>{for(let a=0;a<s.length;a++)r[o++]=s[a]}),new Fa(r,!0)}}uploadData(){return this.data_}}function J2(n){let e;try{e=JSON.parse(n)}catch{return null}return function tNe(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function bX(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function bNe(n,e){return e}class Sr{constructor(e,t,i,r){this.server=e,this.local=t||e,this.writable=!!i,this.xform=r||bNe}}let Uw=null;function D_(){if(Uw)return Uw;const n=[];n.push(new Sr("bucket")),n.push(new Sr("generation")),n.push(new Sr("metageneration")),n.push(new Sr("name","fullPath",!0));const t=new Sr("name");t.xform=function e(o,s){return function yNe(n){return!Vw(n)||n.length<2?n:bX(n)}(s)},n.push(t);const r=new Sr("size");return r.xform=function i(o,s){return void 0!==s?Number(s):s},n.push(r),n.push(new Sr("timeCreated")),n.push(new Sr("updated")),n.push(new Sr("md5Hash",null,!0)),n.push(new Sr("cacheControl",null,!0)),n.push(new Sr("contentDisposition",null,!0)),n.push(new Sr("contentEncoding",null,!0)),n.push(new Sr("contentLanguage",null,!0)),n.push(new Sr("contentType",null,!0)),n.push(new Sr("metadata","customMetadata",!0)),Uw=n,Uw}function yX(n,e,t){const i=J2(e);return null===i?null:function xNe(n,e,t){const i={type:"file"},r=t.length;for(let o=0;o<r;o++){const s=t[o];i[s.local]=s.xform(i,e[s.server])}return function vNe(n,e){Object.defineProperty(n,"ref",{get:function t(){const o=new Dr(n.bucket,n.fullPath);return e._makeStorageReference(o)}})}(i,n),i}(n,i,t)}class Gs{constructor(e,t,i,r){this.url=e,this.method=t,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function qs(n){if(!n)throw K2()}function Cf(n){return function e(t,i){let r;return r=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function zRe(){return new Nn(En.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function URe(){return new Nn(En.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function BRe(n){return new Nn(En.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function jRe(n){return new Nn(En.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):i,r.status=t.getStatus(),r.serverResponse=i.serverResponse,r}}function TX(n,e,t,i,r){const o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},l=function a(){let F="";for(let Y=0;Y<2;Y++)F+=Math.random().toString().slice(2);return F}();s["Content-Type"]="multipart/related; boundary="+l;const c=function EX(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=function kNe(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),i}(e,i,r),u=function eF(n,e){const t={},i=e.length;for(let r=0;r<i;r++){const o=e[r];o.writable&&(t[o.server]=n[o.local])}return JSON.stringify(t)}(c,t),m=Fa.getBlob("--"+l+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+u+"\r\n--"+l+"\r\nContent-Type: "+c.contentType+"\r\n\r\n",i,"\r\n--"+l+"--");if(null===m)throw function cX(){return new Nn(En.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}();const y={name:c.fullPath},C=Na(o,n.host,n._protocol),S=n.maxUploadRetryTime,D=new Gs(C,"POST",function zw(n,e){return function t(i,r){const o=yX(n,r,e);return qs(null!==o),o}}(n,t),S);return D.urlParams=y,D.headers=s,D.body=m.uploadData(),D.errorHandler=Cf(e),D}let MX=null;class FNe{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=wf.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=wf.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=wf.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,r){if(this.sent_)throw M_("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const o in r)r.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,r[o].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw M_("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw M_("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw M_("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw M_("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class LNe extends FNe{initXhr(){this.xhr_.responseType="text"}}function Zo(){return MX?MX():new LNe}class Cu{constructor(e,t){this._service=e,this._location=t instanceof Dr?t:Dr.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Cu(e,t)}get root(){const e=new Dr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return bX(this._location.path)}get storage(){return this._service}get parent(){const e=function gNe(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new Dr(this._location.bucket,e);return new Cu(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function YRe(n){return new Nn(En.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function QNe(n){n._throwIfRoot("getDownloadURL");const e=function DNe(n,e,t){const r=Na(e.fullServerUrl(),n.host,n._protocol),s=n.maxOperationRetryTime,a=new Gs(r,"GET",function INe(n,e){return function t(i,r){const o=yX(n,r,e);return qs(null!==o),function wNe(n,e,t,i){const r=J2(e);if(null===r||!Vw(r.downloadTokens))return null;const o=r.downloadTokens;if(0===o.length)return null;const s=encodeURIComponent;return o.split(",").map(c=>{const d=n.fullPath;return Na("/b/"+s(n.bucket)+"/o/"+s(d),t,i)+hX({alt:"media",token:c})})[0]}(o,r,n.host,n._protocol)}}(n,t),s);return a.errorHandler=function S_(n){const e=Cf(n);return function t(i,r){let o=e(i,r);return 404===i.getStatus()&&(o=function VRe(n){return new Nn(En.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),o.serverResponse=r.serverResponse,o}}(e),a}(n.storage,n._location,D_());return n.storage.makeRequestWithTokens(e,Zo).then(t=>{if(null===t)throw function WRe(){return new Nn(En.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return t})}function OX(n,e){if(n instanceof rF){const t=n;if(null==t._bucket)throw function GRe(){return new Nn(En.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+sX+"' property when initializing the app?")}();const i=new Cu(t,t._bucket);return null!=e?OX(i,e):i}return void 0!==e?function kX(n,e){const t=function _Ne(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),i=new Dr(n._location.bucket,t);return new Cu(n.storage,i)}(n,e):n}function PX(n,e){const t=e?.[sX];return null==t?null:Dr.makeFromBucketSpec(t,n)}class rF{constructor(e,t,i,r,o){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=r,this._firebaseVersion=o,this._bucket=null,this._host=oX,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Dr.makeFromBucketSpec(r,this._host):PX(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Dr.makeFromBucketSpec(this._url,e):PX(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){X2("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){X2("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return _(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const i=yield t.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var e=this;return _(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Cu(this,e)}_makeRequest(e,t,i,r,o=!0){if(this._deleted)return new QRe(uX());{const s=function aNe(n,e,t,i,r,o,s=!0){const a=hX(n.urlParams),l=n.url+a,c=Object.assign({},n.headers);return function oNe(n,e){e&&(n["X-Firebase-GMPID"]=e)}(c,e),function iNe(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(c,t),function rNe(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(c,o),function sNe(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(c,i),new nNe(l,n.method,c,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,s)}(e,this._appId,i,r,t,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,t){var i=this;return _(function*(){const[r,o]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(e,t,r,o).getPromise()})()}}const RX="@firebase/storage",FX="storage";function oF(n,e,t){return function DX(n,e,t){n._throwIfRoot("uploadBytes");const i=TX(n.storage,n._location,D_(),new Fa(e,!0),t);return n.storage.makeRequestWithTokens(i,Zo).then(r=>({metadata:r,ref:n}))}(n=kt(n),e,t)}function sF(n){return QNe(n=kt(n))}function aF(n,e){return function e2e(n,e){if(e&&function ZNe(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof rF)return function JNe(n,e){return new Cu(n,e)}(n,e);throw Y2("To use ref(service, url), the first argument must be a Storage instance.")}return OX(n,e)}(n=kt(n),e)}function lF(n=ch(),e){const i=ha(n=kt(n),FX).getImmediate({identifier:e}),r=Hv("storage");return r&&function n2e(n,e,t,i={}){!function t2e(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:NM(r,n.app.options.projectId))}(n,e,t,i)}(i,...r),i}function i2e(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new rF(t,i,r,e,pa)}!function r2e(){Mi(new xi(FX,i2e,"PUBLIC").setMultipleInstances(!0)),Nt(RX,"0.11.2",""),Nt(RX,"0.11.2","esm2017")}();const o2e=["geo"];let LX=(()=>{class n{static{this.text=""}constructor(t,i,r,o,s){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.location=s,this.title="gestion-de-muestras-de-campo",this.data=[],this.res="",this.email="",this.fotosSeleccionadas={inicial:null,tipico:null,tardios:null},this.fotoUrls={},this.somethingChange=new qe}ngOnInit(){this.route.params.subscribe(t=>{this.pid=t.id})}onFileSelected(t,i){var r=this;return _(function*(){if(t.target.files[0]){r.fotosSeleccionadas[i]=t.target.files[0]||null}})()}upLoadFiles(t){var i=this;return _(function*(){const r=lF(),o={};for(const s in i.fotosSeleccionadas){const a=i.fotosSeleccionadas[s];if(a){const c=aF(r,`muestras/${t.codigo}/${s}_${a.name}`);try{const u=yield oF(c,a),d=yield sF(u.ref);o[s]=d}catch(u){return console.error(`Error al subir la foto ${s}:`,u),void alert(`Error al subir la foto ${s}.`)}}}})()}handleRegister(t){var i=this;return _(function*(){i.upLoadFiles(t),i.addData({...t,fotos:i.fotoUrls}),i.backPage()})()}addData(t){const i=De(this.firestore,"muestras",t.codigo);Co(i,{codigo:t.codigo,cliente:t.cliente,fecha:t.fecha,cultivo:t.cultivo,tipo:t.tipo,fitopatogeno:t.fitopatogeno,repeticion:t.repeticion,coordenadas:t.coordenadas,sintomas:t.sintomas,comentarios:t.comentarios,unidad:this.pid,lote:t.lote,fotos:t.fotos,estadoDiag:t.estadoDiag}).then(()=>{alert("Datos guardados con \xe9xito.")}).catch(r=>{alert(r.message)})}getData(){const t=_e(this.firestore,"muestras");he(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}Home(){this.router.navigate(["user/unidad-produccion-all"])}convertDecimalToDMS(t,i){const r=Math.floor(Math.abs(t)),o=60*(Math.abs(t)-r),s=Math.floor(o);let l="";return l=i?t>=0?"N":"S":t>=0?"E":"W",`${r}\xb0 ${s}' ${(60*(o-s)).toFixed(2)}'' ${l}`}showPosition(t){var r=t.coords.longitude,o=t.coords.latitude.toFixed(6),s=r.toFixed(6);n.text=o+", "+s}getLocation(){var t=this;return _(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{t.res=n.text,console.log(t.res)},1e3)})()}backPage(){this.location.back()}static{this.\u0275fac=function(i){return new(i||n)(E(Me),E(mt),E(He),E(rt),E(Ln))}}static{this.\u0275cmp=ve({type:n,selectors:[["app-muestras-new"]],viewQuery:function(i,r){if(1&i&&Qn(o2e,5),2&i){let o;Sn(o=An())&&(r.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:101,vars:1,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],["name","codigo","ngModel","","placeholder","Codigo","id","codigo","type","codigo",1,"input-field"],["name","cliente","ngModel","","placeholder","Cliente","id","cliente","type","cliente",1,"input-field"],["name","fecha","ngModel","","placeholder","Fecha","id","fecha","type","date",1,"input-field"],["name","cultivo","ngModel","","placeholder","Cultivo","id","cultivo","type","cultivo",1,"input-field"],["list","tipos","name","tipo","ngModel","","placeholder","Tipo","id","tipo","type","tipo",1,"input-field"],["value","","disabled","","selected",""],["value","Hibrido"],["value","Variedad"],["value","Clone"],["list","fitopatogenos","name","fitopatogeno","ngModel","","placeholder","Fitopat\xf3geno","id","fitopatogeno","type","fitopatogeno",1,"input-field"],["value","Hongos"],["value","Bacterias"],["value","Virus"],["name","lote","ngModel","","placeholder","Lote","id","lote","type","lote",1,"input-field"],["name","repeticion","ngModel","","placeholder","Repeticion","id","repeticion","type","repeticion",1,"input-field"],["id","EstadoDiag",1,"Text"],["list","estadoDiag","name","estadoDiag","ngModel","","placeholder","Estado de Diagnostico","type","estadoDiag","id","SelectEstadoDiag",1,"input-field"],["name","coordenadas","ngModel","","placeholder","Coordenadas","id","coordenadas","type","coordenadas",1,"input-field",3,"ngModel","ngModelChange"],[1,"bUbicacion",3,"click"],["src","../../../../assets/Ubicacion.png","alt","U"],[1,"subTituloSeccion"],[1,"block-foto"],[1,"input-fields",2,"margin-bottom","10px"],["id","Text-Sintomas",1,"Text"],["name","foto-inicial","type","file",1,"input-field-2",3,"change"],["name","foto-tipico","type","file",1,"input-field-2",3,"change"],["name","foto-tardios","type","file",1,"input-field-2",3,"change"],["name","sintomas","ngModel","","placeholder","S\xedntomas","id","sintomas","type","sintomas",1,"input-field"],["name","comentarios","ngModel","","placeholder","Comentarios","id","comentarios","type","comentarios",1,"input-field"],[1,"boton"],["id","volver",1,"boton",3,"click"],[1,"blank"]],template:function(i,r){if(1&i){const o=Tt();p(0,"p"),g(1,"muestras-new works!"),f(),p(2,"h1",0),g(3,"Nueva Muestra"),f(),p(4,"div",1)(5,"form",2,3),B("ngSubmit",function(){Re(o);const a=fn(6);return Ne(r.handleRegister(a.value))}),p(7,"div",4)(8,"div",5)(9,"span",6),g(10,"Codigo:"),f(),$(11,"input",7),f(),p(12,"div",5)(13,"span",6),g(14,"Cliente:"),f(),$(15,"input",8),f(),p(16,"div",5)(17,"span",6),g(18,"Fecha:"),f(),$(19,"input",9),f(),p(20,"div",5)(21,"span",6),g(22,"Cultivo:"),f(),$(23,"input",10),f(),p(24,"div",5)(25,"span",6),g(26,"Tipo:"),f(),p(27,"select",11)(28,"option",12),g(29,"Seleccione un estado"),f(),p(30,"option",13),g(31," Hibrido "),f(),p(32,"option",14),g(33," Variedad "),f(),p(34,"option",15),g(35," Clone "),f()()(),p(36,"div",5)(37,"span",6),g(38,"Fitopat\xf3geno:"),f(),p(39,"select",16)(40,"option",12),g(41,"Seleccione un estado"),f(),p(42,"option",17),g(43," Hongos "),f(),p(44,"option",18),g(45," Bacterias "),f(),p(46,"option",19),g(47," Virus "),f()()(),p(48,"div",5)(49,"span",6),g(50,"Lote:"),f(),$(51,"input",20),f(),p(52,"div",5)(53,"span",6),g(54,"Repetici\xf3n:"),f(),$(55,"input",21),f(),p(56,"div",5)(57,"span",22),g(58,"Estado de Diagnostico:"),f(),p(59,"select",23)(60,"option",12),g(61,"Seleccione un Estado de Diagnostico"),f(),p(62,"option",17),g(63," Sin Procesar "),f(),p(64,"option",18),g(65," En Proceso "),f(),p(66,"option",19),g(67," Finalizado "),f()()(),p(68,"div",5)(69,"span",6),g(70,"Coordenadas:"),f(),p(71,"input",24),Ye("ngModelChange",function(a){return Ze(r.res,a)||(r.res=a),a}),f(),p(72,"div",25),B("click",function(){return r.getLocation()}),$(73,"img",26),f()(),p(74,"div",27),g(75,"Soporte Fotogr\xe1fico: "),f(),p(76,"div",28)(77,"div",29)(78,"span",30),g(79,"Sintomas Iniciales:"),f(),p(80,"input",31),B("change",function(a){return r.onFileSelected(a,"inicial")}),f()(),p(81,"div",29)(82,"span",30),g(83,"Sintomas T\xedpico:"),f(),p(84,"input",32),B("change",function(a){return r.onFileSelected(a,"tipico")}),f()(),p(85,"div",29)(86,"span",30),g(87,"Sintomas Tard\xedos:"),f(),p(88,"input",33),B("change",function(a){return r.onFileSelected(a,"tardios")}),f()()(),p(89,"div",5)(90,"span",6),g(91,"S\xedntomas:"),f(),$(92,"input",34),f(),p(93,"div",5)(94,"span",6),g(95,"Comentarios:"),f(),$(96,"input",35),f(),p(97,"button",36),g(98,"Crear Muestra"),f(),p(99,"button",37),B("click",function(){return r.backPage()}),f()()()(),$(100,"div",38)}2&i&&(N(71),Ke("ngModel",r.res))},dependencies:[ai,la,ca,sr,vs,Vr,si,Cr,Vn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;min-height:740px;position:absolute;top:25%;width:850px;left:clamp(350px,calc(50% - 425px),100%);margin:25px auto;padding:20px;display:flex;flex-shrink:0;flex-direction:column;justify-content:flex-start;align-items:center}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:3%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:100%;height:20px;left:92px}#SelectEstadoDiag[_ngcontent-%COMP%]{margin:10px;width:70%;height:20px;left:92px}.input-field-2[_ngcontent-%COMP%]{margin:0;height:20px;position:relative;left:0}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;top:17%;text-align:center;width:850px;left:clamp(350px,calc(50% - 425px),100%)}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:32%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}#Text-Sintomas[_ngcontent-%COMP%]{width:25%}.subTituloSeccion[_ngcontent-%COMP%]{color:#000;font-family:Verdana;font-size:18px;text-align:left;margin-top:8px;margin-bottom:10px;left:0;width:100%}.block-foto[_ngcontent-%COMP%]{margin-left:40px;margin-bottom:15px}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;margin-left:5px;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:80%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}#volver[_ngcontent-%COMP%]{position:absolute;left:0%;border:none;width:50px;height:50px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(back-button-Edit4.8567daeed3ab1418.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}.blank[_ngcontent-%COMP%]{width:100%;height:16px;position:absolute;left:0%;top:110%}@media only screen and (max-width: 768px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:calc(90% - 25px);height:68%;flex-shrink:0;position:absolute;left:5%;top:38%;transform:none}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.input-field[_ngcontent-%COMP%]{margin:10px 10px 10px 20px;height:20px;left:0}.blank[_ngcontent-%COMP%]{width:100%;height:16px;position:absolute;left:0%;top:110%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:20px;font-family:Arial;font-size:14px;letter-spacing:0}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:3%;top:3%}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:75%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:20px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:28%;transform:none}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}@media only screen and (min-width: 1536px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:850px;height:600px;flex-shrink:0;position:absolute;left:50%;top:50%;transform:translate(-50%,-35%)}.subTituloText[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%)}}"]})}}return n})();class To extends lt{constructor(){super(...arguments),this._value=null,this._hasValue=!1,this._isComplete=!1}_checkFinalizedStatuses(e){const{hasError:t,_hasValue:i,_value:r,thrownError:o,isStopped:s,_isComplete:a}=this;t?e.error(o):(s||a)&&(i&&e.next(r),e.complete())}next(e){this.isStopped||(this._value=e,this._hasValue=!0)}complete(){const{_hasValue:e,_value:t,_isComplete:i}=this;i||(this._isComplete=!0,e&&super.next(t),super.complete())}}const s2e=["video"],a2e=["canvas"],l2e=["resultsPanel"],cF="assets/wasm/index.js",A_="https://cdn.jsdelivr.net/npm/ngx-scanner-qrcode@1.6.4/wasm/index.js",VX={audio:!1,video:!0},uF={lineWidth:1,strokeStyle:"green",fillStyle:"#55f02880"},dF={font:"15px serif",strokeStyle:"#fff0",fillStyle:"#ff0000"},La={src:"",fps:30,vibrate:300,decode:"utf-8",isBeep:!0,constraints:VX,canvasStyles:[uF,dF]};var Hw=()=>"zbarWasm"in window;const Mt=(n,e,t)=>{t?n.error(t):n.next(e),n.complete()},hF=(n=!1)=>{if(!1===n)return;const e=new Audio("data:audio/mpeg;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU4LjI5LjEwMAAAAAAAAAAAAAAA/+M4wAAAAAAAAAAAAEluZm8AAAAPAAAABQAAAkAAgICAgICAgICAgICAgICAgICAgKCgoKCgoKCgoKCgoKCgoKCgoKCgwMDAwMDAwMDAwMDAwMDAwMDAwMDg4ODg4ODg4ODg4ODg4ODg4ODg4P//////////////////////////AAAAAExhdmM1OC41NAAAAAAAAAAAAAAAACQEUQAAAAAAAAJAk0uXRQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/+MYxAANQAbGeUEQAAHZYZ3fASqD4P5TKBgocg+Bw/8+CAYBA4XB9/4EBAEP4nB9+UOf/6gfUCAIKyjgQ/Kf//wfswAAAwQA/+MYxAYOqrbdkZGQAMA7DJLCsQxNOij///////////+tv///3RWiZGBEhsf/FO/+LoCSFs1dFVS/g8f/4Mhv0nhqAieHleLy/+MYxAYOOrbMAY2gABf/////////////////usPJ66R0wI4boY9/8jQYg//g2SPx1M0N3Z0kVJLIs///Uw4aMyvHJJYmPBYG/+MYxAgPMALBucAQAoGgaBoFQVBUFQWDv6gZBUFQVBUGgaBr5YSgqCoKhIGg7+IQVBUFQVBoGga//SsFSoKnf/iVTEFNRTMu/+MYxAYAAANIAAAAADEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV");e.oncanplaythrough=()=>{const t=e.play();t&&t.catch(i=>{})}},BX=(n,e,t,i)=>{let r,o,s=e.width,a=e.height,l=s/a,c=parseInt(getComputedStyle(e).width),u=parseInt(getComputedStyle(e).height),d=c/u;t.innerHTML="",l>d?(r=c/s,o=c/l/a):(o=u/a,r=u*l/s);for(let h=0;h<n.length;h++){const m=n[h];let y=document.createElement("canvas"),C=y.getContext("2d",{willReadFrequently:!0}),T={},S=[],D=[],F=0,Y=0,re=2===i.length&&i[1]?.font?.replace(/[^0-9]/g,"");re&&/[0-9]/g.test(re)&&(F=parseFloat(re),Y=(r||1)*F,Number.isNaN(Y)&&(Y=F));const ue=m.points;for(let jt=0;jt<ue.length;jt++){const Nu=ue?.[jt]?.x??0,Fu=ue?.[jt]?.y??0;T[`x${jt+1}`]=Nu,T[`y${jt+1}`]=Fu,S.push(Nu),D.push(Fu)}let Oe=Math.max(...S),et=Math.min(...S),Tn=Math.max(...D),Zi=Math.min(...D);y.setAttribute("class","qrcode-polygon"),l>d?(y.style.top=Zi*o+.5*(u-c/l)+"px",y.style.left=et*r+"px",y.width=(Oe-et)*r,y.height=(Tn-Zi)*r):(y.style.top=Zi*o+"px",y.style.left=et*r+.5*(c-u*l)+"px",y.width=(Oe-et)*o,y.height=(Tn-Zi)*o);for(const jt in i[0])C[jt]=i[0][jt];const Af=[];for(let jt=0;jt<S.length;jt++)Af.push((T[`x${jt+1}`]-et)*o),Af.push((T[`y${jt+1}`]-Zi)*r);const ho=Af.slice(0);for(C.beginPath(),C.moveTo(ho.shift(),ho.shift());ho.length;)C.lineTo(ho.shift(),ho.shift());if(C.closePath(),C.fill(),C.stroke(),F){const jt=document.createElement("div");jt.setAttribute("class","qrcode-tooltip-temp"),jt.innerText=m.value,jt.style.maxWidth=(s>window.innerWidth?.9*window.innerWidth:s)+"px",jt.style.borderRadius=`clamp(1px, ${r*F-10}px, 3px)`,jt.style.paddingBlock=`clamp(1px, ${r*F-10}px, 3px)`,jt.style.paddingInline=`clamp(2.5px, ${r*F-6}px, 10px)`;const Nu=`<svg xmlns="http://www.w3.org/2000/svg" width="${Y}" height="${Y}" viewBox="0 0 512 512"><rect x="128" y="128" width="336" height="336" rx="57" ry="57"></rect><path d="M383.5,128l.5-24a56.16,56.16,0,0,0-56-56H112a64.19,64.19,0,0,0-64,64V328a56.16,56.16,0,0,0,56,56h24"></path></svg>`,Fu=(new DOMParser).parseFromString(Nu,"application/xml"),ge=jt.ownerDocument.importNode(Fu.documentElement,!0);ge.style.marginLeft=`clamp(1px, ${r*F-10}px, 3px)`,jt.appendChild(ge),ge.addEventListener("click",()=>window.navigator.clipboard.writeText(m.value)),jt.addEventListener("click",()=>window.navigator.clipboard.writeText(m.value));const be=document.createElement("div");be.setAttribute("class","qrcode-tooltip"),be.appendChild(jt),o=u/a,r=u*l/s,be.style.fontSize=r*F+"px",be.style.top=Zi*o+"px",be.style.left=et*r+.5*(c-u*l)+"px",be.style.width=(Oe-et)*o+"px",be.style.height=(Tn-Zi)*o+"px";const Ce=document.createElement("span");Ce.innerText=m.value,Ce.style.top=Zi*o+-20*o+"px",Ce.style.left=et*r+.5*(c-u*l)+"px";const vt=i[1]?.font?.split(" ")?.[1];Ce.style.fontFamily=vt,Ce.style.fontSize=r*F+"px",Ce.style.color=i?.[1]?.fillStyle,t?.appendChild(be),t?.appendChild(Ce)}t?.appendChild(y)}},UX=(n,e)=>new Promise((t,i)=>n.toBlob(r=>t(r),e)),zX=(n=[],e,t,i,r=new To)=>(jX(n,t,i).then(o=>{Promise.all(Object.assign([],n).map(s=>((n,e)=>{let t=e?.decode??La.decode,i=2===e?.canvasStyles?.length?e?.canvasStyles:[uF,dF],r=e?.isBeep??La.isBeep;return new Promise((o,s)=>{const a=new FileReader;a.onload=()=>{const l={name:n.name,file:n,url:URL.createObjectURL(n)},c=new Image;c.setAttribute("crossOrigin","anonymous"),c.onload=_(function*(){const u=document.createElement("canvas");u.width=c.naturalWidth||c.width,u.height=c.naturalHeight||c.height;const d=u.getContext("2d");d.drawImage(c,0,0,u.width,u.height);const h=d.getImageData(0,0,u.width,u.height);if(Hw()){const m=yield zbarWasm.scanImageData(h);if(m?.length){m.forEach(S=>S.value=S.decode(t?.toLocaleLowerCase())),((n,e,t)=>{let i=e.getContext("2d",{willReadFrequently:!0});for(let r=0;r<n.length;r++){const o=n[r];let s={},a=[],l=[],c=0,d=t[1]?.font?.split(" ")?.[0]?.replace(/[^0-9]/g,"");d&&/[0-9]/g.test(d)&&(c=parseFloat(d));const h=o.points;for(let D=0;D<h.length;D++){const F=h?.[D]?.x??0,Y=h?.[D]?.y??0;s[`x${D+1}`]=F,s[`y${D+1}`]=Y,a.push(F),l.push(Y)}let m=Math.min(...a),y=Math.min(...l);const C=()=>{for(const Y in t[0])i[Y]=t[0][Y];const D=[];for(let Y=0;Y<a.length;Y++)D.push(s[`x${Y+1}`]),D.push(s[`y${Y+1}`]);const F=D.slice(0);for(i.beginPath(),i.moveTo(F.shift(),F.shift());F.length;)i.lineTo(F.shift(),F.shift());i.closePath(),i.fill(),i.stroke()};let T=document.createElement("canvas");const S=()=>{const D=t[1]?.font?.split(" ")?.[1];T.height=e.height,T.width=e.width;let F=T.getContext("2d",{willReadFrequently:!0});F.font=c+"px "+D;for(const Y in t[1])F[Y]=t[1][Y];m2e(F,o.value,m,y-5)};C(),S(),i.drawImage(T,0,0)}})(m,u,i);const y=yield UX(u),C=URL.createObjectURL(y);o(Object.assign({},l,{data:m,url:C,canvas:u,file:(S=y,D=l.name,new File([S],D,{lastModified:(new Date).getTime(),type:S.type}))})),hF(r)}else o(Object.assign({},l,{data:m,canvas:u}))}var S,D}),c.src=l.url},a.onerror=l=>s(l),a.readAsDataURL(n)})})(s,e))).then(s=>{Mt(r,s)}).catch(s=>Mt(r,null,s))}),r),m2e=(n,e,t,i)=>{let r=1.2*n.measureText("M").width,o=e.split("\n");for(var s=0;s<o.length;++s)n.fillText(o[s],t,i),n.strokeText(o[s],t,i),i+=r},jX=function(){var n=_(function*(e=[],t=.5,i="image/jpeg"){if(!e.length||1===t)return e;const r=function(){var s=_(function*(a){const l=yield createImageBitmap(a),c=document.createElement("canvas");c.width=l.width,c.height=l.height,c.getContext("2d").drawImage(l,0,0);const d=yield new Promise(h=>c.toBlob(h,i,t));return new File([d],a.name,{type:d.type})});return function(l){return s.apply(this,arguments)}}(),o=new DataTransfer;return yield _(function*(){for(const s of e){if(!s.type.startsWith("image")){o.items.add(s);continue}const a=yield r(s);o.items.add(a)}})(),o.files});return function(){return n.apply(this,arguments)}}(),HX=n=>{Object.assign([],n.childNodes).forEach(e=>n.removeChild(e))},fF=(n,e)=>{n.style.width=e.offsetWidth+"px",n.style.height=e.offsetHeight+"px"},$X=(n=300)=>{n&&_2e()&&window?.navigator?.vibrate(n)},_2e=()=>{const n=navigator.userAgent||navigator.vendor||window.opera;return!(!/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(n)&&!/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(n.substr(0,4))||/^((?!chrome|android).)*safari/i.test(n))};let GX=(()=>{class n{loadFiles(t=[],i,r){const o=new To;return jX(t,i,r).then(s=>{Promise.all(Object.assign([],t).map(a=>this.readAsDataURL(a))).then(a=>Mt(o,a)).catch(a=>Mt(o,null,a))}),o}loadFilesToScan(t=[],i,r,o){return zX(t,i,r,o)}readAsDataURL(t){return new Promise((i,r)=>{const o=new FileReader;o.onload=()=>{const s={name:t.name,file:t,url:URL.createObjectURL(t)};i(s)},o.onerror=s=>r(s),o.readAsDataURL(t)})}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),y2e=(()=>{class n{constructor(t,i){this.renderer=t,this.elementRef=i,this.event=new qe,this.src=La.src,this.fps=La.fps,this.vibrate=La.vibrate,this.decode=La.decode,this.isBeep=La.isBeep,this.config=La,this.constraints=La.constraints,this.canvasStyles=[uF,dF],this.isStart=!1,this.isPause=!1,this.isLoading=!1,this.isTorch=!1,this.data=new fi([]),this.devices=new fi([]),this.deviceIndexActive=0,this.dataForResize=[],this.ready=new To,this.STATUS={startON:()=>this.isStart=!0,pauseON:()=>this.isPause=!0,loadingON:()=>this.isLoading=!0,startOFF:()=>this.isStart=!1,pauseOFF:()=>this.isPause=!1,loadingOFF:()=>this.isLoading=!1,torchOFF:()=>this.isTorch=!1}}ngOnInit(){this.overrideConfig(),((n=new To,e)=>{let t=0;const i=(r=!1)=>{const o=()=>{let l;try{const c=()=>{clearTimeout(l),Hw()?setTimeout(()=>Mt(n,!0)):l=setTimeout(()=>c())};setTimeout(()=>c()),setTimeout(()=>clearTimeout(l),3e3)}catch{clearTimeout(l)}},s=document.querySelectorAll(`script[src="${A_}"]`),a=document.querySelectorAll('script[src="https://cdn.jsdelivr.net/npm/ngx-scanner-qrcode@latest/wasm/index.js"]');if(s.length||a.length)o();else{const l=document.querySelectorAll(`script[src="${cF}"]`);if(1===l.length)o();else if(l.forEach(c=>c.remove()),e){const c=e.createElement("script");e.setAttribute(c,"src",r?A_:cF),e.setAttribute(c,"type","text/javascript"),e.setAttribute(c,"async",""),e.appendChild(document.head,c),c.onload=()=>o(),c.onerror=()=>{t<2?(document.head.removeChild(c),i(!0)):Mt(n,!1,A_)},t+=1}else{const c=document.createElement("script");c.setAttribute("src",r?A_:cF),c.setAttribute("type","text/javascript"),c.setAttribute("async",""),document.head.appendChild(c),c.onload=()=>o(),c.onerror=()=>{t<2?(document.head.removeChild(c),i(!0)):Mt(n,!1,A_)},t+=1}}};return i(),n})(this.ready,this.renderer).subscribe(()=>{this.src&&this.loadImage(this.src),this.resize()})}start(t){const i=new To;return this.isStart?Mt(i,!1):this.safariWebRTC(i,t),i}stop(){this.STATUS.pauseOFF(),this.STATUS.startOFF(),this.STATUS.torchOFF(),this.STATUS.loadingOFF();const t=new To;try{clearTimeout(this.rAF_ID),this.video.nativeElement.srcObject.getTracks().forEach(i=>{i.stop(),Mt(t,!0)}),this.dataForResize=[],(n=>{n.getContext("2d",{willReadFrequently:!0}).clearRect(0,0,n.width,n.height)})(this.canvas.nativeElement),HX(this.resultsPanel.nativeElement)}catch(i){Mt(t,!1,i)}return t}play(){const t=new To;return this.isPause?(this.video.nativeElement.play(),this.STATUS.pauseOFF(),this.requestAnimationFrame(),Mt(t,!0)):Mt(t,!1),t}pause(){const t=new To;return this.isStart?(clearTimeout(this.rAF_ID),this.video.nativeElement.pause(),this.STATUS.pauseON(),Mt(t,!0)):Mt(t,!1),t}playDevice(t,i=new To){const r=this.getConstraints();switch(!0){case"null"===t||"undefined"===t||!t:stop(),this.stop(),Mt(i,!1);break;case t&&(!this.isStart||!r||r.deviceId!==t):stop(),this.stop(),this.STATUS.loadingON(),this.deviceIndexActive=this.devices.value.findIndex(a=>a.deviceId===t);const s={...this.constraints,audio:!1,video:{deviceId:t,...this.constraints.video}};navigator.mediaDevices.getUserMedia(s).then(a=>{this.video.nativeElement.srcObject=a,this.video.nativeElement.onloadedmetadata=()=>{this.video.nativeElement.play(),this.requestAnimationFrame(),Mt(i,!0),this.STATUS.startON(),this.STATUS.loadingOFF()}}).catch(a=>{this.eventEmit(!1),Mt(i,!1,a),this.STATUS.startOFF(),this.STATUS.loadingOFF()});break;default:Mt(i,!1),this.STATUS.loadingOFF()}return i}loadImage(t){const i=new To;this.STATUS.startOFF(),this.STATUS.loadingON();const r=new Image;return r.setAttribute("crossOrigin","anonymous"),r.onload=()=>{Hw()&&this.drawImage(r,o=>{Mt(i,o),this.STATUS.startOFF(),this.STATUS.loadingOFF()})},r.src=t,i}torcher(){const t=this.applyConstraints({advanced:[{torch:this.isTorch}]});return t.subscribe(()=>!1,()=>this.isTorch=!this.isTorch),t}applyConstraints(t,i=0){var r=this;const o=new To;if(this.isStart){const s=this.video.nativeElement.srcObject;if(null===i&&void 0===i&&Number.isNaN(i))Mt(o,!1,"Please check again deviceIndex");else{const a=s.getVideoTracks()[i];new window.ImageCapture(a).getPhotoCapabilities().then(_(function*(){yield a.applyConstraints(t),fF(r.video.nativeElement,r.canvas.nativeElement),Mt(o,!0)})).catch(c=>{switch(c?.name){case"NotFoundError":case"DevicesNotFoundError":Mt(o,!1,"Required track is missing");break;case"NotReadableError":case"TrackStartError":Mt(o,!1,"Webcam or mic are already in use");break;case"OverconstrainedError":case"ConstraintNotSatisfiedError":Mt(o,!1,"Constraints can not be satisfied by avb. devices");break;case"NotAllowedError":case"PermissionDeniedError":Mt(o,!1,"Permission denied in browser");break;case"TypeError":Mt(o,!1,"Empty constraints object");break;default:Mt(o,!1,c)}})}}else Mt(o,!1,"Please start the scanner");return o}getConstraints(t=0){return this.video.nativeElement.srcObject?.getVideoTracks()[t]?.getConstraints()}download(t=`ngx_scanner_qrcode_${Date.now()}.png`,i,r){var o=this;const s=new To;return _(function*(){const l=((n,e)=>new File([n],e,{lastModified:(new Date).getTime(),type:n.type}))(yield UX(o.canvas.nativeElement),t);zX([l],o.config,i,r,s).subscribe(c=>{c.forEach(u=>{if(u?.data?.length){const d=document.createElement("a");d.href=u.url,d.download=u.name,d.click(),d.remove()}})})})(),s}resize(){window.addEventListener("resize",()=>{BX(this.dataForResize,this.canvas.nativeElement,this.resultsPanel.nativeElement,this.canvasStyles),fF(this.video.nativeElement,this.canvas.nativeElement)})}overrideConfig(){"src"in this.config&&(this.src=this.config.src),"fps"in this.config&&(this.fps=this.config.fps),"vibrate"in this.config&&(this.vibrate=this.config.vibrate),"decode"in this.config&&(this.decode=this.config.decode),"isBeep"in this.config&&(this.isBeep=this.config.isBeep),"constraints"in this.config&&(this.constraints=((n,e,t)=>{if(e&&Object.keys(e[n]).length){for(const i in t){const r=JSON.parse(JSON.stringify({...e[n],[i]:t[i]}));e[n]=e[n].hasOwnProperty(i)?e[n]:r}return e[n]}return t})("constraints",this.config,VX)),"canvasStyles"in this.config&&2===this.config?.canvasStyles?.length&&(this.canvasStyles=this.config.canvasStyles)}safariWebRTC(t,i){this.STATUS.startOFF(),this.STATUS.loadingON(),navigator.mediaDevices.getUserMedia(this.constraints).then(r=>{r.getTracks().forEach(o=>o.stop()),this.loadAllDevices(t,i)}).catch(r=>{Mt(t,!1,r),this.STATUS.startOFF(),this.STATUS.loadingOFF()})}loadAllDevices(t,i){navigator.mediaDevices.enumerateDevices().then(r=>{let o=r.filter(s=>"videoinput"==s.kind);this.devices.next(o),o?.length>0?(Mt(t,o),i?i(o):this.playDevice(o[0].deviceId)):(Mt(t,!1,"No camera detected."),this.STATUS.startOFF(),this.STATUS.loadingOFF())}).catch(r=>{Mt(t,!1,r),this.STATUS.startOFF(),this.STATUS.loadingOFF()})}drawImage(t,i=(()=>{})){var r=this;return _(function*(){const o=r.canvas.nativeElement,s=o.getContext("2d",{willReadFrequently:!0});t instanceof HTMLImageElement&&(o.width=t.naturalWidth,o.height=t.naturalHeight,t.style.visibility="",r.video.nativeElement.style.visibility="hidden",r.renderer.setStyle(r.elementRef.nativeElement,"width",o.width+"px"),r.renderer.setStyle(r.elementRef.nativeElement,"maxWidth","100%"),r.renderer.setStyle(r.elementRef.nativeElement,"display","inline-block")),t instanceof HTMLVideoElement&&(o.width=t.videoWidth,o.height=t.videoHeight,t.style.visibility="",r.canvas.nativeElement.style.visibility="hidden"),fF(r.video.nativeElement,o),s.clearRect(0,0,o.width,o.height),s.drawImage(t,0,0,o.width,o.height);const a=s.getImageData(0,0,o.width,o.height),l=yield zbarWasm.scanImageData(a);if(l?.length){l.forEach(u=>u.value=u.decode(r.decode?.toLocaleLowerCase())),BX(l,Object.freeze(r.canvas.nativeElement),r.resultsPanel.nativeElement,r.canvasStyles);const c=()=>{r.eventEmit(l),r.dataForResize=l};t instanceof HTMLImageElement&&(i(!0),c(),$X(r.vibrate),hF(r.isBeep)),t instanceof HTMLVideoElement&&(c(),$X(r.vibrate),hF(r.isBeep))}else i(!1),HX(r.resultsPanel.nativeElement),r.dataForResize=[]})()}eventEmit(t=!1){!1!==t&&this.data.next(t||[]),!1!==t&&this.event.emit(t||[])}requestAnimationFrame(t=100){try{clearTimeout(this.rAF_ID),this.rAF_ID=setTimeout(()=>{this.video.nativeElement.readyState===this.video.nativeElement.HAVE_ENOUGH_DATA&&(t=0,Hw()&&this.drawImage(this.video.nativeElement),this.isStart&&!this.isPause&&this.requestAnimationFrame(t))},t||this.fps)}catch{clearTimeout(this.rAF_ID)}}get isReady(){return this.ready}ngOnDestroy(){this.pause()}static{this.\u0275fac=function(i){return new(i||n)(E(us),E(Bt))}}static{this.\u0275cmp=ve({type:n,selectors:[["ngx-scanner-qrcode"]],viewQuery:function(i,r){if(1&i&&(Qn(s2e,5),Qn(a2e,5),Qn(l2e,5)),2&i){let o;Sn(o=An())&&(r.video=o.first),Sn(o=An())&&(r.canvas=o.first),Sn(o=An())&&(r.resultsPanel=o.first)}},hostAttrs:[1,"ngx-scanner-qrcode"],inputs:{src:"src",fps:"fps",vibrate:"vibrate",decode:"decode",isBeep:"isBeep",config:"config",constraints:"constraints",canvasStyles:"canvasStyles"},outputs:{event:"event"},exportAs:["scanner"],decls:6,vars:0,consts:[[1,"origin-overlay"],["resultsPanel",""],[1,"origin-canvas"],["canvas",""],["playsinline","",1,"origin-video"],["video",""]],template:function(i,r){1&i&&$(0,"div",0,1)(2,"canvas",2,3)(4,"video",4,5)},styles:[".ngx-scanner-qrcode{display:block;position:relative}.origin-overlay{width:100%;position:absolute}.origin-overlay span{z-index:2;text-align:left;position:absolute}.origin-overlay .qrcode-polygon{z-index:1;position:absolute}.origin-canvas{width:100%;position:absolute}.origin-video{width:100%;background-color:#262626}.qrcode-tooltip{z-index:3;position:absolute}.qrcode-tooltip:hover .qrcode-tooltip-temp{display:block;position:absolute;cursor:copy}.qrcode-tooltip:hover .qrcode-tooltip-temp:active{color:#afafaf}.qrcode-tooltip .qrcode-tooltip-temp{bottom:0;left:50%;color:#fff;text-align:left;display:none;width:max-content;word-wrap:break-word;transform:translate(-50%);transform-style:preserve-3d;background-color:#000000d0;box-shadow:1px 1px 20px #000000e0}.qrcode-tooltip .qrcode-tooltip-temp svg{cursor:pointer}.qrcode-tooltip .qrcode-tooltip-temp svg rect{fill:none;stroke:#fff;stroke-linejoin:round;stroke-width:32px}.qrcode-tooltip .qrcode-tooltip-temp svg path{fill:none;stroke:#fff;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px}.qrcode-tooltip .qrcode-tooltip-temp svg:active rect{stroke:#afafaf}.qrcode-tooltip .qrcode-tooltip-temp svg:active path{stroke:#afafaf}\n"],encapsulation:2})}}return n})(),$w=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=nt({type:n})}static{this.\u0275inj=Xe({providers:[GX]})}}return n})();const C2e=["action"];function E2e(n,e){1&n&&(p(0,"p"),g(1,"\u231b Loading..."),f())}let KX=(()=>{class n{constructor(t,i,r,o,s){this.qrcode=t,this.router=i,this.route=r,this.auth=o,this.firestore=s,this.data=[],this.config={constraints:{video:{width:window.innerWidth}}},this.qrCodeResult=[],this.qrCodeResult2=[],this.getData(),console.log("Shared Scan")}ngAfterViewInit(){this.action.isReady.subscribe(t=>{})}onEvent(t,i){console.log(t[0].value),this.item=t[0].value,this.MyQuery()}handle(t,i){"start"===i?t[i](o=>{const s=o.find(a=>/back|rear|environment/gi.test(a.label));t.playDevice(s?s.deviceId:o[0].deviceId)}).subscribe(o=>console.log(i,o),alert):t[i]().subscribe(o=>console.log(i,o),alert)}onDowload(t){t.download().subscribe(console.log,alert)}onSelects(t){this.qrcode.loadFiles(t,.5).subscribe(i=>{this.qrCodeResult=i})}onSelects2(t){this.qrcode.loadFilesToScan(t,this.config,.5).subscribe(i=>{console.log(i),this.qrCodeResult2=i})}getData(){const t=_e(this.firestore,"muestras");he(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}MyQuery(){var t=this;return _(function*(){let i=t.item;console.log(i);const r=Ot(_e(t.firestore,"muestras"),Kt("codigo","==",i));he(r).then(o=>{t.data=[...o.docs.map(s=>({...s.data(),id:s.id}))],0!=t.data.length&&(t.handle(t.action,"stop"),t.router.navigate(["user/muestras-info/"+i]))})})()}static{this.\u0275fac=function(i){return new(i||n)(E(GX),E(Me),E(mt),E(He),E(rt))}}static{this.\u0275cmp=ve({type:n,selectors:[["app-scan"]],viewQuery:function(i,r){if(1&i&&Qn(C2e,5),2&i){let o;Sn(o=An())&&(r.action=o.first)}},decls:6,vars:8,consts:[[1,"container"],[1,"screen",3,"config","event"],["action","scanner"],[4,"ngIf"],[1,"btn",3,"disabled","click"],["width","30px",3,"src"]],template:function(i,r){if(1&i){const o=Tt();p(0,"div",0)(1,"ngx-scanner-qrcode",1,2),B("event",function(a){Re(o);const l=fn(2);return Ne(r.onEvent(a,l))}),f(),hn(3,E2e,2,0,"p",3),p(4,"button",4),B("click",function(){Re(o);const a=fn(2);return Ne(r.handle(a,a.isStart?"stop":"start"))}),$(5,"img",5),f()()}if(2&i){const o=fn(2);N(),ct("config",r.config),N(2),ct("ngIf",o.isLoading),N(),br("btn-info",!o.isStart)("btn-warning",o.isStart),ct("disabled",o.isLoading),N(),ct("src",o.isStart?"https://id1945.github.io/images/svg/camera-off.svg":"https://id1945.github.io/images/svg/camera-on.svg",Ya)}},dependencies:[nv,y2e],styles:["h1[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{font-weight:600;word-break:break-all;font-family:Courier New,Courier,monospace}div[_ngcontent-%COMP%]{text-align:center}div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:50%;height:60px;width:60px;margin:4px}div[_ngcontent-%COMP%]   buttondisabled[_ngcontent-%COMP%]{cursor:no-drop}div[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]{background:#faebd7;border-radius:5px}.origin-overlay[_ngcontent-%COMP%]   .qrcode-tooltip[_ngcontent-%COMP%]   .qrcode-tooltip-temp[_ngcontent-%COMP%]{padding:5px!important}.screen[_ngcontent-%COMP%]{display:block;height:55%;width:55%;margin-left:auto;margin-right:auto}.container[_ngcontent-%COMP%]{top:25%;width:85%;position:absolute;left:15%}@media only screen and (max-width: 768px){h1[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{font-weight:600;word-break:break-all;font-family:Courier New,Courier,monospace}div[_ngcontent-%COMP%]{text-align:center}div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:50%;height:60px;width:60px;margin:10px 4px 4px}div[_ngcontent-%COMP%]   buttondisabled[_ngcontent-%COMP%]{cursor:no-drop}div[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]{background:#faebd7;border-radius:5px}.origin-overlay[_ngcontent-%COMP%]   .qrcode-tooltip[_ngcontent-%COMP%]   .qrcode-tooltip-temp[_ngcontent-%COMP%]{padding:5px!important}.screen[_ngcontent-%COMP%]{display:block;height:80%;width:80%;margin-left:auto;margin-right:auto}.container[_ngcontent-%COMP%]{top:28%;width:100%;position:absolute;left:0%}}@media only screen and (min-width: 1536px){.screen[_ngcontent-%COMP%]{display:block;height:40%;width:40%;margin-left:auto;margin-right:auto}}"]})}}return n})();const T2e=["geo"];let YX=(()=>{class n{static{this.text=""}constructor(t,i,r,o,s,a){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.location=s,this.datePipe=a,this.title="gestion-de-muestras-de-campo",this.data=[],this.res="",this.fotoUrls={inicial:"",tipico:"",tardios:""},this.item={codigo:null,cliente:"",fecha:"",cultivo:"",tipo:"",fitopatogeno:"",lote:"",repeticion:"",coordenadas:"",estadoDiag:"",sintomas:"",resultados:"",comentarios:"",fotos:this.fotoUrls},this.somethingChange=new qe}ngOnInit(){this.route.params.subscribe(t=>{this.x=t.id}),this.getData(),this.MyQuery()}onFileSelected(t,i){var r=this;return _(function*(){const o=t.target.files[0];if(o){const a=aF(lF(),`muestras/${i}/${o.name}`);try{const l=yield oF(a,o),c=yield sF(l.ref);r.fotoUrls[i]=c,alert(`Imagen de ${i} subida con \xe9xito.`)}catch(l){console.error("Error al subir la imagen:",l),alert("Ocurri\xf3 un error al guardar la imagen.")}}})()}handleRegister(t){this.addData({...t,fotos:this.fotoUrls})}addData(t){var i=this;return _(function*(){const r=De(i.firestore,"muestras",t.codigo);t.fecha=i.datePipe.transform(t.fecha,"dd/MM/yyyy"),Xi(r,{codigo:t.codigo,cliente:t.cliente,fecha:t.fecha,cultivo:t.cultivo,tipo:t.tipo,fitopatogeno:t.fitopatogeno,repeticion:t.repeticion,coordenadas:t.coordenadas,sintomas:t.sintomas,comentarios:t.comentarios,lote:t.lote,fotos:t.fotos,resultados:t.resultados,estadoDiag:t.estadoDiag}).then(()=>{alert("Data Sent")}).catch(s=>{alert(s.message)})})()}getData(){const t=_e(this.firestore,"muestras");he(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}convertDecimalToDMS(t,i){const r=Math.floor(Math.abs(t)),o=60*(Math.abs(t)-r),s=Math.floor(o);let l="";return l=i?t>=0?"N":"S":t>=0?"E":"W",`${r}\xb0 ${s}' ${(60*(o-s)).toFixed(2)}'' ${l}`}showPosition(t){var r=t.coords.longitude,o=t.coords.latitude.toFixed(6),s=r.toFixed(6);n.text=o+", "+s}getLocation(){var t=this;return _(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{t.res=n.text},1e3)})()}MyQuery(){var t=this;return _(function*(){let i=t.x;const r=Ot(_e(t.firestore,"muestras"),Kt("codigo","==",i)),o=yield he(r);o.empty||o.forEach(s=>{const a=s.data();t.item=a,t.item.id=s.id,t.item.cliente||(t.item.cliente=""),t.item.fecha||(t.item.fecha=""),t.item.cultivo||(t.item.cultivo=""),t.item.tipo||(t.item.tipo=""),t.item.fitopatogeno||(t.item.fitopatogeno=""),t.item.lote||(t.item.lote=""),t.item.repeticion||(t.item.repeticion=""),t.item.coordenadas||(t.item.coordenadas=""),t.item.estadoDiag||(t.item.estadoDiag=""),t.item.sintomas||(t.item.sintomas=""),t.item.resultados||(t.item.resultados=""),t.item.comentarios||(t.item.comentarios=""),t.fotoUrls={inicial:t.item.fotos?.inicial||"",tipico:t.item.fotos?.tipico||"",tardios:t.item.fotos?.tardios||""},t.item.fotos||(t.item.fotos={}),t.item.fecha&&t.item.fecha.toDate&&(t.item.fecha=t.datePipe.transform(t.item.fecha.toDate(),"yyyy-MM-dd")),t.res=t.item.coordenadas,t.pid=t.item.project})})()}backPage(){this.location.back()}deleteData(t){if(1==confirm("Seguro que desea eliminar esta Muestra?")){const o=De(this.firestore,"muestras",this.x);Pn(o).then(()=>{alert("Data Deleted"),this.Home()}).catch(s=>{alert(s.message)})}}Home(){this.router.navigate(["user/unidad-produccion-all"])}static{this.\u0275fac=function(i){return new(i||n)(E(Me),E(mt),E(He),E(rt),E(Ln),E(bI))}}static{this.\u0275cmp=ve({type:n,selectors:[["app-muestras-edit"]],viewQuery:function(i,r){if(1&i&&Qn(T2e,5),2&i){let o;Sn(o=An())&&(r.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:109,vars:16,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],["name","codigo","ngModel","","placeholder","codigo","id","codigo","type","codigo",1,"input-field",3,"ngModel","ngModelChange"],["name","cliente","ngModel","","placeholder","Cliente","id","cliente","type","cliente",1,"input-field",3,"ngModel","ngModelChange"],["name","fecha","ngModel","","placeholder","Fecha","id","fecha","type","date",1,"input-field",3,"ngModel","ngModelChange"],["name","cultivo","ngModel","","placeholder","Cultivo","id","cultivo","type","cultivo",1,"input-field",3,"ngModel","ngModelChange"],["list","tipos","name","tipo","ngModel","","placeholder","Tipo","id","tipo","type","tipo",1,"input-field",3,"ngModel","ngModelChange"],["value","","disabled","","selected",""],["value","Hibrido"],["value","Variedad"],["value","Clone"],["list","fitopatogenos","name","fitopatogeno","ngModel","","placeholder","Fitopat\xf3geno","id","fitopatogeno","type","fitopatogeno",1,"input-field",3,"ngModel","ngModelChange"],["value","Hongos"],["value","Bacterias"],["value","Virus"],["name","lote","ngModel","","placeholder","Lote","id","lote","type","lote",1,"input-field",3,"ngModel","ngModelChange"],["name","repeticion","ngModel","","placeholder","Repeticion","id","repeticion","type","repeticion",1,"input-field",3,"ngModel","ngModelChange"],["id","EstadoDiag",1,"Text"],["list","estadoDiag","name","estadoDiag","ngModel","","placeholder","Estado de Diagnostico","type","estadoDiag","id","SelectEstadoDiag",1,"input-field",3,"ngModel","ngModelChange"],["name","coordenadas","ngModel","","placeholder","Coordenadas","id","coordenadas","type","coordenadas",1,"input-field",3,"ngModel","ngModelChange"],[1,"bUbicacion",3,"click"],["src","../../../../assets/Ubicacion.png","alt","U"],[1,"subTituloSeccion"],[1,"block-foto"],[1,"input-fields",2,"margin-bottom","10px"],["id","Text-Sintomas",1,"Text"],["name","foto-inicial","type","file",1,"input-field-2",3,"ngModel","change","ngModelChange"],["name","foto-tipico","type","file",1,"input-field-2",3,"ngModel","change","ngModelChange"],["name","foto-tardios","type","file",1,"input-field-2",3,"ngModel","change","ngModelChange"],["name","sintomas","ngModel","","placeholder","S\xedntomas","id","sintomas","type","sintomas",1,"input-field",3,"ngModel","ngModelChange"],["name","comentarios","ngModel","","placeholder","Comentarios","id","comentarios","type","comentarios",1,"input-field",3,"ngModel","ngModelChange"],["name","resultados","ngModel","","placeholder","Resultados","id","resultados","type","resultados",1,"input-field",3,"ngModel","ngModelChange"],[1,"boton",3,"click"],["id","Guardar",1,"boton"],["type","button","id","volver",1,"boton",3,"click"],["type","button",1,"botonrojo",3,"click"],[1,"blank"]],template:function(i,r){if(1&i){const o=Tt();p(0,"p"),g(1,"muestras-edit works!"),f(),p(2,"h1",0),g(3,"Editar Muestra"),f(),p(4,"div",1)(5,"form",2,3),B("ngSubmit",function(){Re(o);const a=fn(6);return Ne(r.handleRegister(a.value))}),p(7,"div",4)(8,"div",5)(9,"span",6),g(10,"Codigo:"),f(),p(11,"input",7),Ye("ngModelChange",function(a){return Ze(r.item.codigo,a)||(r.item.codigo=a),a}),f()(),p(12,"div",5)(13,"span",6),g(14,"Cliente:"),f(),p(15,"input",8),Ye("ngModelChange",function(a){return Ze(r.item.cliente,a)||(r.item.cliente=a),a}),f()(),p(16,"div",5)(17,"span",6),g(18,"Fecha:"),f(),p(19,"input",9),Ye("ngModelChange",function(a){return Ze(r.item.fecha,a)||(r.item.fecha=a),a}),f()(),p(20,"div",5)(21,"span",6),g(22,"Cultivo:"),f(),p(23,"input",10),Ye("ngModelChange",function(a){return Ze(r.item.cultivo,a)||(r.item.cultivo=a),a}),f()(),p(24,"div",5)(25,"span",6),g(26,"Tipo de Cultivo:"),f(),p(27,"select",11),Ye("ngModelChange",function(a){return Ze(r.item.tipo,a)||(r.item.tipo=a),a}),p(28,"option",12),g(29,"Seleccione un tipo de cultivo"),f(),p(30,"option",13),g(31," Hibrido "),f(),p(32,"option",14),g(33," Variedad "),f(),p(34,"option",15),g(35," Clone "),f()()(),p(36,"div",5)(37,"span",6),g(38,"Fitopat\xf3geno:"),f(),p(39,"select",16),Ye("ngModelChange",function(a){return Ze(r.item.fitopatogeno,a)||(r.item.fitopatogeno=a),a}),p(40,"option",12),g(41,"Seleccione un fitopat\xf3geno"),f(),p(42,"option",17),g(43," Hongos "),f(),p(44,"option",18),g(45," Bacterias "),f(),p(46,"option",19),g(47," Virus "),f()()(),p(48,"div",5)(49,"span",6),g(50,"Lote:"),f(),p(51,"input",20),Ye("ngModelChange",function(a){return Ze(r.item.lote,a)||(r.item.lote=a),a}),f()(),p(52,"div",5)(53,"span",6),g(54,"Repetici\xf3n:"),f(),p(55,"input",21),Ye("ngModelChange",function(a){return Ze(r.item.repeticion,a)||(r.item.repeticion=a),a}),f()(),p(56,"div",5)(57,"span",22),g(58,"Estado de Diagnostico:"),f(),p(59,"select",23),Ye("ngModelChange",function(a){return Ze(r.item.estadoDiag,a)||(r.item.estadoDiag=a),a}),p(60,"option",12),g(61,"Seleccione un Estado de Diagnostico"),f(),p(62,"option",17),g(63," Sin Procesar "),f(),p(64,"option",18),g(65," En Proceso "),f(),p(66,"option",19),g(67," Finalizado "),f()()(),p(68,"div",5)(69,"span",6),g(70,"Coordenadas:"),f(),p(71,"input",24),Ye("ngModelChange",function(a){return Ze(r.res,a)||(r.res=a),a}),f(),p(72,"div",25),B("click",function(){return r.getLocation()}),$(73,"img",26),f()(),p(74,"div",27),g(75,"Soporte Fotogr\xe1fico: "),f(),p(76,"div",28)(77,"div",29)(78,"span",30),g(79,"Sintomas Iniciales:"),f(),p(80,"input",31),B("change",function(a){return r.onFileSelected(a,"inicial")}),Ye("ngModelChange",function(a){return Ze(r.fotoUrls.inicial,a)||(r.fotoUrls.inicial=a),a}),f()(),p(81,"div",29)(82,"span",30),g(83,"Sintomas T\xedpico:"),f(),p(84,"input",32),B("change",function(a){return r.onFileSelected(a,"tipico")}),Ye("ngModelChange",function(a){return Ze(r.fotoUrls.tipico,a)||(r.fotoUrls.tipico=a),a}),f()(),p(85,"div",29)(86,"span",30),g(87,"Sintomas Tard\xedos:"),f(),p(88,"input",33),B("change",function(a){return r.onFileSelected(a,"tardios")}),Ye("ngModelChange",function(a){return Ze(r.fotoUrls.tardios,a)||(r.fotoUrls.tardios=a),a}),f()()(),p(89,"div",5)(90,"span",6),g(91,"S\xedntomas:"),f(),p(92,"input",34),Ye("ngModelChange",function(a){return Ze(r.item.sintomas,a)||(r.item.sintomas=a),a}),f()(),p(93,"div",5)(94,"span",6),g(95,"Comentarios:"),f(),p(96,"input",35),Ye("ngModelChange",function(a){return Ze(r.item.comentarios,a)||(r.item.comentarios=a),a}),f()(),p(97,"div",5)(98,"span",6),g(99,"Resultados:"),f(),p(100,"input",36),Ye("ngModelChange",function(a){return Ze(r.item.resultados,a)||(r.item.resultados=a),a}),f()(),p(101,"button",37),B("click",function(){return r.backPage()}),g(102,"Finalizar Edici\xf3n"),f(),p(103,"button",38),g(104," Guardar"),f(),p(105,"button",39),B("click",function(){return r.backPage()}),f(),p(106,"button",40),B("click",function(){return r.deleteData(r.item.id)}),g(107," Eliminar "),f()(),$(108,"div",41),f()()}2&i&&(N(11),Ke("ngModel",r.item.codigo),N(4),Ke("ngModel",r.item.cliente),N(4),Ke("ngModel",r.item.fecha),N(4),Ke("ngModel",r.item.cultivo),N(4),Ke("ngModel",r.item.tipo),N(12),Ke("ngModel",r.item.fitopatogeno),N(12),Ke("ngModel",r.item.lote),N(4),Ke("ngModel",r.item.repeticion),N(4),Ke("ngModel",r.item.estadoDiag),N(12),Ke("ngModel",r.res),N(9),Ke("ngModel",r.fotoUrls.inicial),N(4),Ke("ngModel",r.fotoUrls.tipico),N(4),Ke("ngModel",r.fotoUrls.tardios),N(4),Ke("ngModel",r.item.sintomas),N(4),Ke("ngModel",r.item.comentarios),N(4),Ke("ngModel",r.item.resultados))},dependencies:[ai,la,ca,sr,vs,Vr,si,Cr,Vn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;min-height:780px;position:absolute;left:50%;top:24%;width:850px;left:clamp(350px,calc(50% - 425px),100%);margin:25px auto;padding:20px;display:flex;flex-shrink:0;flex-direction:column;justify-content:flex-start;align-items:center}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;padding-top:12px;width:90%;left:5%;top:0%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:100%;height:20px;left:92px}#SelectEstadoDiag[_ngcontent-%COMP%]{margin:10px;width:80%;height:20px;left:92px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;top:16%;text-align:center;min-width:850px;left:clamp(350px,calc(50% - 425px),100%)}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:30%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}#Text-Sintomas[_ngcontent-%COMP%]{width:25%}.subTituloSeccion[_ngcontent-%COMP%]{color:#000;font-family:Verdana;font-size:18px;text-align:left;margin-top:8px;margin-bottom:10px;left:0;width:100%}.block-foto[_ngcontent-%COMP%]{margin-left:40px;margin-bottom:15px}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{margin:2%;background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:85%;top:100%}#Guardar[_ngcontent-%COMP%]{left:70%}.botonrojo[_ngcontent-%COMP%]{margin:2%;background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:55%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}#volver[_ngcontent-%COMP%]{position:absolute;left:0%;border:none;width:50px;height:50px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(back-button-Edit4.8567daeed3ab1418.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}.blank[_ngcontent-%COMP%]{width:100%;height:16px;position:absolute;left:0%;top:110%}@media only screen and (max-width: 768px){.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.input-field[_ngcontent-%COMP%]{margin:6px 6px 6px 24px;height:20px;left:92px;color:#000;font-family:Arial;font-size:16px;letter-spacing:0;text-overflow:ellipsis}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:6px 6px 6px 22px;font-family:Arial;width:85%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:2%;top:2%}.Text[_ngcontent-%COMP%]{color:#000;height:20px;font-family:Arial;font-size:16px;letter-spacing:0}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:87%;min-height:770px;flex-shrink:0;position:absolute;left:1.5%;top:35%;transform:none;padding-bottom:20px}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:67%;top:725px;border:none;float:right;background-color:#3eb3c2;color:#fff;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}#Guardar[_ngcontent-%COMP%]{left:67%;top:650px}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:0%;top:650px}#volver[_ngcontent-%COMP%]{position:absolute;top:720px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;min-width:0px;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:27%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}.blank[_ngcontent-%COMP%]{width:100%;height:16px;position:absolute;left:0%;top:110%}}"]})}}return n})();const I2e=["geo"];function M2e(n,e){if(1&n&&(p(0,"div",4),$(1,"img",14),f()),2&n){const t=Rt();N(),ct("src",t.fotoUrls.inicial,Ya)}}function D2e(n,e){if(1&n&&(p(0,"div",4),$(1,"img",15),f()),2&n){const t=Rt();N(),ct("src",t.fotoUrls.tipico,Ya)}}function S2e(n,e){if(1&n&&(p(0,"div",4),$(1,"img",16),f()),2&n){const t=Rt();N(),ct("src",t.fotoUrls.tardios,Ya)}}function A2e(n,e){1&n&&(p(0,"div",4),$(1,"img",17),f()),2&n&&(N(),ct("src","assets/landscape-placeholder.jpg",Ya))}let QX=(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.location=s,this.title="gestion-de-muestras-de-campo",this.data=[],this.mostrarFotoInicial=!0,this.mostrarFotoTipico=!1,this.mostrarFotoTardios=!1,this.fotoUrls={},this.placeholderUrl="../../../../assets/landscape-placeholder.jpg",this.somethingChange=new qe,this.getData(),this.MyQuery()}ngOnInit(){this.route.params.subscribe(t=>{this.text=t.id}),this.getData(),this.MyQuery()}alternarFotoInicial(){this.mostrarFotoInicial=!0,this.mostrarFotoTipico=!1,this.mostrarFotoTardios=!1}alternarFotoTipico(){this.mostrarFotoInicial=!1,this.mostrarFotoTipico=!0,this.mostrarFotoTardios=!1}alternarFotoTardios(){this.mostrarFotoInicial=!1,this.mostrarFotoTipico=!1,this.mostrarFotoTardios=!0}handleRegister(t){this.addData(t)}addData(t){const i=De(this.firestore,"muestras",t.codigo);Co(i,t).then(()=>{alert("Data Sent")}).catch(r=>{alert(r.message)}),console.log(t.comentarios)}getData(){const t=_e(this.firestore,"muestras");he(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}showPosition(t){}getLocation(){var t=this;return _(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{console.log(t.res)},1e3)})()}MyQuery(){var t=this;return _(function*(){let i=t.text;const r=Ot(_e(t.firestore,"muestras"),Kt("codigo","==",i)),o=yield he(r);o.empty||o.forEach(s=>{t.item=s.data(),t.fotoUrls={inicial:t.item.fotos.inicial,tipico:t.item.fotos.tipico,tardios:t.item.fotos.tardios}})})()}editMuestra(){this.router.navigate(["../muestras-edit/"+this.text],{relativeTo:this.route})}deleteData(t){const i=De(this.firestore,"users",t);Pn(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}backPage(){this.location.back()}static{this.\u0275fac=function(i){return new(i||n)(E(Me),E(mt),E(He),E(rt),E(Ln))}}static{this.\u0275cmp=ve({type:n,selectors:[["app-muestras-info"]],viewQuery:function(i,r){if(1&i&&Qn(I2e,5),2&i){let o;Sn(o=An())&&(r.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:77,vars:14,consts:[[1,"subTituloText"],[1,"loginBox"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],[1,"input-field"],[1,"foto-field"],[1,"BlockfotoSec"],[1,"fotoSec",3,"click"],["class","input-fields",4,"ngIf"],[1,"boton",3,"click"],["id","volver",3,"click"],[1,"blank"],["alt","Foto Inicial","onerror","this.src='../../../../assets/landscape-placeholder.jpg';",1,"foto",2,"width","250px","height","300px",3,"src"],["alt","Foto T\xedpica",1,"foto",2,"width","250px","height","300px",3,"src"],["alt","Foto Tard\xeda",1,"foto",2,"width","250px","height","300px",3,"src"],["id","placeholder","alt","placeholder",1,"foto",2,"width","250px","height","300px",3,"src"]],template:function(i,r){1&i&&(p(0,"p"),g(1,"muestras-info works!"),f(),p(2,"h1",0),g(3,"Datos de la Muestra"),f(),p(4,"div",1)(5,"form",null,2)(7,"div",3)(8,"div",4)(9,"span",5),g(10,"Codigo:"),f(),p(11,"span",6),g(12),f()(),p(13,"div",4)(14,"span",5),g(15,"Cliente:"),f(),p(16,"span",6),g(17),f()(),p(18,"div",4)(19,"span",5),g(20,"Fecha:"),f(),p(21,"span",6),g(22),f()(),p(23,"div",4)(24,"span",5),g(25,"Cultivo:"),f(),p(26,"span",6),g(27),f()(),p(28,"div",4)(29,"span",5),g(30,"Tipo:"),f(),p(31,"span",6),g(32),f()(),p(33,"div",4)(34,"span",5),g(35,"Fitopat\xf3geno:"),f(),p(36,"span",6),g(37),f()(),p(38,"div",4)(39,"span",5),g(40,"Lote:"),f(),p(41,"span",6),g(42),f()(),p(43,"div",4)(44,"span",5),g(45,"Repetici\xf3n:"),f(),p(46,"span",6),g(47),f()(),p(48,"div",4)(49,"span",5),g(50,"S\xedntomas:"),f(),p(51,"span",6),g(52),f()(),p(53,"div",4)(54,"span",5),g(55,"Comentarios:"),f(),p(56,"span",6),g(57),f()()(),p(58,"div",7)(59,"div",4)(60,"span",5),g(61,"Fotos de Sintomas:"),f()(),p(62,"div",8)(63,"button",9),B("click",function(){return r.alternarFotoInicial()}),g(64,"Iniciales"),f(),p(65,"button",9),B("click",function(){return r.alternarFotoTipico()}),g(66,"T\xedpicos"),f(),p(67,"button",9),B("click",function(){return r.alternarFotoTardios()}),g(68,"Tard\xedos"),f()(),hn(69,M2e,2,1,"div",10)(70,D2e,2,1,"div",10)(71,S2e,2,1,"div",10)(72,A2e,2,1,"div",10),f()(),p(73,"button",11),B("click",function(){return r.editMuestra()}),g(74,"Editar Muestra"),f(),p(75,"button",12),B("click",function(){return r.backPage()}),f(),$(76,"div",13),f()),2&i&&(N(12),Se(" ",r.item.codigo,""),N(5),Se(" ",r.item.cliente,""),N(5),Se(" ",r.item.fecha,""),N(5),Se(" ",r.item.cultivo,""),N(5),Se(" ",r.item.tipo,""),N(5),Se(" ",r.item.fitopatogeno,""),N(5),Se(" ",r.item.lote,""),N(5),Se(" ",r.item.repeticion,""),N(5),Se(" ",r.item.sintomas,""),N(5),Se(" ",r.item.comentarios,""),N(12),ct("ngIf",r.fotoUrls.inicial&&r.mostrarFotoInicial),N(),ct("ngIf",r.fotoUrls.tipico&&r.mostrarFotoTipico),N(),ct("ngIf",r.fotoUrls.tardios&&r.mostrarFotoTardios),N(),ct("ngIf",!r.fotoUrls.inicial&&!r.fotoUrls.tipico&&!r.fotoUrls.tardios))},dependencies:[nv,ai,si,Vn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;height:640px;flex-shrink:0;position:absolute;top:28%;width:850px;left:clamp(350px,calc(50% - 425px),100%)}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:10%;top:2%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center}.foto-field[_ngcontent-%COMP%]{position:absolute;left:65%;top:5%}.BlockfotoSec[_ngcontent-%COMP%]{display:inline}.foto[_ngcontent-%COMP%]{display:flex;align-items:center;margin-top:5px;box-shadow:4px 4px 4px #00000040}.fotoSec[_ngcontent-%COMP%]{font-size:small;margin-top:15px;width:65px;height:30px;color:#000;font-weight:bolder;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#c5c5c5;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}#placeholder[_ngcontent-%COMP%]{margin-top:5px;border:#000;border-style:solid;border-width:1px}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:12px 12px 12px 25px;height:20px;left:92px;color:#000;font-family:Arial;font-size:20px;letter-spacing:0}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;top:20%;text-align:center;width:850px;left:clamp(350px,calc(50% - 425px),100%)}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;height:25px;font-family:Arial;font-size:20px;font-weight:700;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:80%;top:87%}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:0%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}#volver[_ngcontent-%COMP%]{font-size:16px;position:absolute;left:5%;top:86%;background:none;border:none;width:50px;height:50px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(back-button-Edit4.8567daeed3ab1418.png)}@media only screen and (max-width: 768px){.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.input-field[_ngcontent-%COMP%]{margin:6px 6px 6px 10px;height:20px;left:92px;color:#000;font-family:Arial;font-size:16px;letter-spacing:0;text-overflow:ellipsis}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:5%;top:2%}.Text[_ngcontent-%COMP%]{color:#000;height:20px;font-family:Arial;font-size:16px;letter-spacing:0}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:90%;height:890px;flex-shrink:0;position:absolute;left:5%;top:37%;transform:none}.foto-field[_ngcontent-%COMP%]{width:95%;position:absolute;left:5%;top:430px}.foto[_ngcontent-%COMP%]{display:flex;align-items:center;box-shadow:4px 4px 4px #00000040;position:relative;left:calc(47% - 125px);margin-top:10px}.fotoSec[_ngcontent-%COMP%]{font-size:small;margin-top:15px;width:65px;height:30px}.BlockfotoSec[_ngcontent-%COMP%]{width:255px;position:relative;left:calc(47% - 127px)}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:67%;top:830px;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:12px;left:0%;top:110%}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;min-width:none;width:100vw;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:28%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}#volver[_ngcontent-%COMP%]{position:absolute;left:5%;top:830px;width:35px;height:35px}.blank[_ngcontent-%COMP%]{width:100%;height:16px;position:absolute;left:0%;top:110%}}@media only screen and (min-width: 1536px){.subTituloText[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%)}.boton[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(310px)}}"]})}}return n})();function k2e(n,e){if(1&n){const t=Tt();p(0,"tr")(1,"td"),g(2),f(),p(3,"td"),g(4),f(),p(5,"td"),g(6),f(),p(7,"td"),g(8),f(),p(9,"td")(10,"button",3),B("click",function(){const o=Re(t).$implicit;return Ne(Rt().infoMuestra(o.codigo))}),p(11,"div",4),g(12,"Informaci\xf3n"),f()(),p(13,"button",5),B("click",function(){const o=Re(t).$implicit;return Ne(Rt().editMuestra(o.codigo))}),p(14,"div",6),g(15,"Editar"),f()(),p(16,"button",7),B("click",function(){const o=Re(t).$implicit;return Ne(Rt().Barcode(o.codigo))}),p(17,"div",8),g(18,"Imprimir"),f()()()()}if(2&n){const t=e.$implicit;N(2),je(t.codigo),N(2),je(t.fecha),N(2),je(t.cultivo),N(2),je(t.coordenadas)}}let XX=(()=>{class n{constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.data=[],this.getData()}ngOnInit(){this.route.params.subscribe(t=>{this.item=t.id,console.log(t),console.log(t.id)})}getData(){const t=_e(this.firestore,"muestras");he(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}updateData(t){const i=De(this.firestore,"muestras",t);Xi(i,{}).then(()=>{alert("Data updated"),this.getData()}).catch(r=>{alert(r.message)})}deleteData(t){const i=De(this.firestore,"muestras",t);Pn(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["user/unidad-produccion-all"])}logOut(){wi(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}newMuestra(){this.router.navigate(["../muestras-new"],{relativeTo:this.route})}editMuestra(t){this.router.navigate(["../muestras-edit/"+t],{relativeTo:this.route})}infoProject(t){this.router.navigate(["user/project-edit/"+t])}infoMuestra(t){this.router.navigate(["../muestras-info/"+t],{relativeTo:this.route})}Barcode(t){this.router.navigate(["../barcode/"+t],{relativeTo:this.route})}MyQuery(){var t=this;return _(function*(){let i=t.item;t.pid=i,console.log(i);const r=Ot(_e(t.firestore,"muestras"),Kt("project","==",i));he(r).then(s=>{t.data=[...s.docs.map(a=>({...a.data(),id:a.id}))]}),(yield he(r)).forEach(s=>{console.log(s.id," => ",s.data())})})()}static{this.\u0275fac=function(i){return new(i||n)(E(Me),E(mt),E(He),E(rt))}}static{this.\u0275cmp=ve({type:n,selectors:[["app-muestras-all"]],decls:15,vars:1,consts:[[1,"subTituloText"],[1,"list"],[4,"ngFor","ngForOf"],[1,"detalles",3,"click"],[1,"detalles-tip"],[1,"edit",3,"click"],[1,"edit-tip"],[1,"imprimir",3,"click"],[1,"imprimir-tip"]],template:function(i,r){1&i&&(p(0,"h1",0),g(1,"Muestras"),f(),p(2,"div",1)(3,"table")(4,"tr")(5,"th"),g(6," Codigo "),f(),p(7,"th"),g(8," Fecha "),f(),p(9,"th"),g(10," Cultivo"),f(),p(11,"th"),g(12," Coordenadas "),f(),$(13,"th"),f(),hn(14,k2e,19,4,"tr",2),f()()),2&i&&(N(14),ct("ngForOf",r.data))},dependencies:[yo],styles:[".list[_ngcontent-%COMP%]{position:absolute;top:30%;min-width:542px;left:clamp(350px,calc(50% - 240px),100%)}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.projectBlock[_ngcontent-%COMP%]{width:auto;height:35px;background:#3ec28f;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:20px;font-weight:700;letter-spacing:0;cursor:pointer}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{cursor:pointer;width:153px;height:36px;top:30%;left:50%;transform:translate(-40%);position:absolute;background:#4c9eff;box-shadow:2px 2px 5px #000;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;top:20%;text-align:center;min-width:542px;left:clamp(350px,calc(50% - 240px),100%)}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.edit[_ngcontent-%COMP%]:hover   .edit-tip[_ngcontent-%COMP%]{display:block;opacity:1;transition:.5s}.edit-tip[_ngcontent-%COMP%]{display:none;position:relative;background-color:#2f3033;color:#fff;padding:5px;width:-moz-fit-content;width:fit-content;margin:5px;top:100%;left:0;opacity:0;transition:.5s;z-index:100;border-radius:3px;font-weight:700;font-family:Trebuchet MS,sans-serif}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.detalles[_ngcontent-%COMP%]:hover   .detalles-tip[_ngcontent-%COMP%]{display:block;opacity:1;transition:.5s}.detalles-tip[_ngcontent-%COMP%]{display:none;position:relative;background-color:#2f3033;color:#fff;padding:5px;width:-moz-fit-content;width:fit-content;margin:5px;top:100%;left:0;opacity:0;transition:.5s;z-index:100;border-radius:3px;font-weight:700;font-family:Trebuchet MS,sans-serif}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;margin-left:2px;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.imprimir[_ngcontent-%COMP%]:hover   .imprimir-tip[_ngcontent-%COMP%]{display:block;opacity:1;transition:.5s}.imprimir-tip[_ngcontent-%COMP%]{display:none;position:relative;background-color:#2f3033;color:#fff;padding:5px;width:-moz-fit-content;width:fit-content;margin:5px;top:100%;left:0;opacity:0;transition:.5s;z-index:100;border-radius:3px;font-weight:700;font-family:Trebuchet MS,sans-serif}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.list[_ngcontent-%COMP%]{position:absolute;left:5%;top:35%;text-overflow:ellipsis;transform:none;width:90%;min-width:0px}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{transform:none;width:153px;height:36px;left:30%;top:38%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{transform:none;cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:80%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;transform:none;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;top:27%;left:0%;min-width:0px;width:100vw}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}}return n})();function O2e(n,e){if(1&n){const t=Tt();p(0,"tr")(1,"td"),g(2),f(),p(3,"td"),g(4),f(),p(5,"td"),g(6),f(),p(7,"td"),g(8),f(),p(9,"td")(10,"button",8),B("click",function(){const o=Re(t).$implicit,s=Rt();return Ne(s.Muestras(s.pid,o.codigo))}),f(),p(11,"button",9),B("click",function(){const o=Re(t).$implicit;return Ne(Rt().infoUnidad(o.codigo))}),f(),p(12,"button",10),B("click",function(){const o=Re(t).$implicit;return Ne(Rt().editUnidad(o.codigo))}),f()()()}if(2&n){const t=e.$implicit;N(2),je(t.codigo),N(2),je(t.cliente),N(2),je(t.altitud),N(2),je(t.coordenadas)}}let P2e=(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.location=s,this.data=[]}ngOnInit(){this.route.params.subscribe(t=>{this.pid=t.id,console.log(t),console.log(t.id)}),this.MyQuery()}getData(){const t=_e(this.firestore,"unidad-produccion");he(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}updateData(t){const i=De(this.firestore,"unidad-produccion",t);Xi(i,{}).then(()=>{alert("Data updated"),this.getData()}).catch(r=>{alert(r.message)})}deleteData(t){const i=De(this.firestore,"unidad-produccion",t);Pn(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["user/projects"])}Muestras(t,i){this.router.navigate(["user/muestras/"+t+"/"+i])}logOut(){wi(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}newUnidad(t){this.router.navigate(["user/unidad-produccion-new/"+t])}editUnidad(t){this.router.navigate(["user/unidad-produccion-edit/"+t])}infoProject(t){this.router.navigate(["user/project-info/"+t])}infoUnidad(t){this.router.navigate(["user/unidad-produccion-info/"+t])}MyQuery(){var t=this;return _(function*(){let i=t.pid;console.log(i);const r=Ot(_e(t.firestore,"unidad-produccion"),Kt("project","==",i));he(r).then(s=>{t.data=[...s.docs.map(a=>({...a.data(),id:a.id}))]}),(yield he(r)).forEach(s=>{console.log(s.id," => ",s.data())})})()}backPage(){this.location.back()}static{this.\u0275fac=function(i){return new(i||n)(E(Me),E(mt),E(He),E(rt),E(Ln))}}static{this.\u0275cmp=ve({type:n,selectors:[["app-unidad-produccion"]],decls:25,vars:1,consts:[[1,"subTituloText"],[1,"scanbutton"],[1,"scantext",3,"click"],[1,"list"],[1,"projectBlock"],[4,"ngFor","ngForOf"],["id","agregar",1,"boton",3,"click"],["id","volver",1,"boton",3,"click"],[1,"muestras",3,"click"],[1,"detalles",3,"click"],[1,"edit",3,"click"]],template:function(i,r){1&i&&(p(0,"p"),g(1,"unidad-produccion works!"),f(),p(2,"h1",0),g(3,"Unidades "),f(),p(4,"div",1)(5,"div",2),B("click",function(){return r.Scan()}),g(6,"SCAN"),f()(),p(7,"div",3)(8,"div",4),g(9,"Proyecto"),f(),p(10,"table")(11,"tr")(12,"th"),g(13," Codigo "),f(),p(14,"th"),g(15," Cliente "),f(),p(16,"th"),g(17," Altitud"),f(),p(18,"th"),g(19," Coordenadas "),f(),$(20,"th"),f(),hn(21,O2e,13,4,"tr",5),f(),p(22,"button",6),B("click",function(){return r.newUnidad(r.pid)}),g(23," Agregar "),f(),p(24,"button",7),B("click",function(){return r.backPage()}),f()()),2&i&&(N(21),ct("ngForOf",r.data))},styles:[".list[_ngcontent-%COMP%]{position:absolute;left:38%;top:38%}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.projectBlock[_ngcontent-%COMP%]{width:60%;height:35px;background:#3ec28f;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:20px;font-weight:700;letter-spacing:0;cursor:pointer}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:153px;height:36px;left:49%;top:30%;position:absolute;background:#4c9eff;border-radius:30px;box-shadow:2px 2px 5px #000}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}#volver[_ngcontent-%COMP%]{position:absolute;left:0%;border:none;width:50px;height:50px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(back-button-Edit4.8567daeed3ab1418.png)}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;text-shadow:2px 2px 5px black;left:45%;top:20%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.projectBlock[_ngcontent-%COMP%]{width:40%;height:25px;background:#3ec28f;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:14px;font-weight:700;letter-spacing:0;cursor:pointer}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:153px;height:36px;left:30%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:80%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}#volver[_ngcontent-%COMP%]{position:absolute;left:0%}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;left:30%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}}return n})();const R2e=["geo"];let N2e=(()=>{class n{static{this.text=""}constructor(t,i,r,o,s){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.location=s,this.title="gestion-de-muestras-de-campo",this.data=[],this.res="",this.somethingChange=new qe,this.email=""}ngOnInit(){this.route.params.subscribe(t=>{this.pid=t.id})}handleRegister(t){console.log(t),this.addData(t),this.Home()}addData(t){const i=De(this.firestore,"unidad-produccion",t.codigo),r=Ea();bl(r,o=>{o&&o.email&&(this.email=o.email)}),Co(i,{codigo:t.codigo,cliente:t.cliente,localidad:t.localidad,estado:t.estado,altitud:t.altitud,coordenadas:t.coordenadas,tempmax:t.tempmax,tempmin:t.tempmin,precipitacion:t.precipitacion}).then(()=>{alert("Data Sent")}).catch(o=>{alert(o.message)}),console.log(t.comentarios)}getData(){const t=_e(this.firestore,"unidad-produccion");he(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude),n.text=t.coords.latitude+", "+t.coords.longitude,console.log(n.text)}getLocation(){var t=this;return _(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{t.res=n.text,console.log(t.res)},1e3)})()}Home(){this.router.navigate(["user/unidad-produccion-all"])}backPage(){this.location.back()}static{this.\u0275fac=function(i){return new(i||n)(E(Me),E(mt),E(He),E(rt),E(Ln))}}static{this.\u0275cmp=ve({type:n,selectors:[["app-unidad-produccion-new"]],viewQuery:function(i,r){if(1&i&&Qn(R2e,5),2&i){let o;Sn(o=An())&&(r.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:105,vars:1,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],["name","codigo","ngModel","","placeholder","codigo","id","codigo","type","codigo",1,"input-field"],["name","cliente","ngModel","","placeholder","Cliente","id","cliente","type","cliente",1,"input-field"],["name","coordenadas","ngModel","","placeholder","Coordenadas","id","coordenadas","type","coordenadas",1,"input-field",3,"ngModel","ngModelChange"],[1,"bUbicacion",3,"click"],["src","../../../../assets/Ubicacion.png","alt","U"],["name","localidad","ngModel","","placeholder","Localidad","id","localidad","type","localidad",1,"input-field"],["name","municipio","ngModel","","placeholder","Municipio","id","municipio","type","municipio",1,"input-field"],["name","estado","ngModel","","placeholder","Estado","id","estado",1,"input-field"],["value","","disabled","","selected",""],["value","Amazonas"],["value","Anzo\xe1tegui"],["value","Apure"],["value","Aragua"],["value","Barinas"],["value","Bol\xedvar"],["value","Carabobo"],["value","Cojedes"],["value","Delta Amacuro"],["value","Dependencias Federales"],["value","Distrito Capital"],["value","Falc\xf3n"],["value","Gu\xe1rico"],["value","La Guaira"],["value","Lara"],["value","M\xe9rida"],["value","Miranda"],["value","Monagas"],["value","Nueva Esparta"],["value","Portuguesa"],["value","Sucre"],["value","T\xe1chira"],["value","Trujillo"],["value","Yaracuy"],["value","Zulia"],["name","altitud","ngModel","","placeholder","Altitud","id","altitud","type","altitud",1,"input-field"],["name","tempmax","ngModel","","placeholder","Temperaturas M\xe1ximas","id","tempmax","type","tempmax",1,"input-field"],["name","tempmin","ngModel","","placeholder","Temperaturas M\xednimas","id","tempmin","type","tempmin",1,"input-field"],["name","precipitacion","ngModel","","placeholder","Precipitaci\xf3n","id","precipitacion","type","precipitacion",1,"input-field"],[1,"boton"],["id","volver",3,"click"]],template:function(i,r){if(1&i){const o=Tt();p(0,"p"),g(1,"unidad-produccion-new works!"),f(),p(2,"h1",0),g(3,"Nueva Unidad"),f(),p(4,"div",1)(5,"form",2,3),B("ngSubmit",function(){Re(o);const a=fn(6);return Ne(r.handleRegister(a.value))}),p(7,"div",4)(8,"div",5)(9,"span",6),g(10,"Nombre:"),f(),$(11,"input",7),f(),p(12,"div",5)(13,"span",6),g(14,"Cliente:"),f(),$(15,"input",8),f(),p(16,"div",5)(17,"span",6),g(18,"Coordenadas:"),f(),p(19,"input",9),Ye("ngModelChange",function(a){return Ze(r.res,a)||(r.res=a),a}),f(),p(20,"div",10),B("click",function(){return r.getLocation()}),$(21,"img",11),f()(),p(22,"div",5)(23,"span",6),g(24,"Localidad:"),f(),$(25,"input",12),f(),p(26,"div",5)(27,"span",6),g(28,"Municipio:"),f(),$(29,"input",13),f(),p(30,"div",5)(31,"span",6),g(32,"Estado:"),f(),p(33,"select",14)(34,"option",15),g(35,"Seleccione un estado"),f(),p(36,"option",16),g(37,"Amazonas"),f(),p(38,"option",17),g(39,"Anzo\xe1tegui"),f(),p(40,"option",18),g(41,"Apure"),f(),p(42,"option",19),g(43,"Aragua"),f(),p(44,"option",20),g(45,"Barinas"),f(),p(46,"option",21),g(47,"Bol\xedvar"),f(),p(48,"option",22),g(49,"Carabobo"),f(),p(50,"option",23),g(51,"Cojedes"),f(),p(52,"option",24),g(53,"Delta Amacuro"),f(),p(54,"option",25),g(55,"Dependencias Federales"),f(),p(56,"option",26),g(57,"Distrito Capital"),f(),p(58,"option",27),g(59,"Falc\xf3n"),f(),p(60,"option",28),g(61,"Gu\xe1rico"),f(),p(62,"option",29),g(63,"La Guaira"),f(),p(64,"option",30),g(65,"Lara"),f(),p(66,"option",31),g(67,"M\xe9rida"),f(),p(68,"option",32),g(69,"Miranda"),f(),p(70,"option",33),g(71,"Monagas"),f(),p(72,"option",34),g(73,"Nueva Esparta"),f(),p(74,"option",35),g(75,"Portuguesa"),f(),p(76,"option",36),g(77,"Sucre"),f(),p(78,"option",37),g(79,"T\xe1chira"),f(),p(80,"option",38),g(81,"Trujillo"),f(),p(82,"option",39),g(83,"Yaracuy"),f(),p(84,"option",40),g(85,"Zulia"),f()()(),p(86,"div",5)(87,"span",6),g(88,"Altitud:"),f(),$(89,"input",41),f(),p(90,"div",5)(91,"span",6),g(92,"Temperaturas M\xe1ximas:"),f(),$(93,"input",42),f(),p(94,"div",5)(95,"span",6),g(96,"Temperaturas M\xednimas:"),f(),$(97,"input",43),f(),p(98,"div",5)(99,"span",6),g(100,"Precipitaci\xf3n:"),f(),$(101,"input",44),f(),p(102,"button",45),g(103,"Crear Unidad"),f(),p(104,"button",46),B("click",function(){return r.backPage()}),f()()()()}2&i&&(N(19),Ke("ngModel",r.res))},dependencies:[ai,la,ca,sr,vs,Vr,si,Cr,Vn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;height:60%;flex-shrink:0;position:absolute;top:30%;min-width:936px;left:clamp(350px,calc(50% - 468px),100%)}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:3%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:70%;height:20px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;top:19%;text-align:center;min-width:936px;left:clamp(350px,calc(50% - 468px),100%)}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:88%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}#volver[_ngcontent-%COMP%]{font-size:16px;position:absolute;left:0%;top:100%;background:#d9d9d9;border:none;width:50px;height:50px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(back-button-Edit4.8567daeed3ab1418.png)}@media only screen and (max-width: 768px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:95%;height:534px;flex-shrink:0;position:absolute;left:2.5%;top:38%;transform:none;min-width:0px}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.input-field[_ngcontent-%COMP%]{margin:10px 10px 10px 20px;height:20px;left:0}.blank[_ngcontent-%COMP%]{width:100%;height:16px;position:absolute;left:0%;top:110%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:20px;font-family:Arial;font-size:14px;letter-spacing:0}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:3%;top:3%}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:75%;top:98%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:20px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:28%;transform:none;min-width:0px}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}#volver[_ngcontent-%COMP%]{font-size:16px;position:absolute;left:0%;top:100%;background:#d9d9d9;border:none;width:35px;height:35px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(back-button-Edit4.8567daeed3ab1418.png)}}@media only screen and (min-width: 1536px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:1100px;height:550px;flex-shrink:0;position:absolute;left:60%;top:50%;transform:translate(-50%,-35%)}.subTituloText[_ngcontent-%COMP%]{position:absolute;left:52%;transform:translate(-50%)}}"]})}}return n})();const F2e=["geo"];let L2e=(()=>{class n{static{this.text=""}constructor(t,i,r,o,s){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.location=s,this.title="gestion-de-muestras-de-campo",this.data=[],this.res="",this.item={codigo:null,cliente:"",localidad:"",estado:"",altitud:"",coordenadas:"",tempmax:"",tempmin:"",precipitacion:""},this.somethingChange=new qe}ngOnInit(){this.route.params.subscribe(t=>{this.x=t.id}),this.getData(),this.MyQuery()}handleRegister(t){this.addData(t)}addData(t){var i=this;return _(function*(){console.log(t);const r=De(i.firestore,"unidad-produccion",t.codigo);Xi(r,{codigo:t.codigo,cliente:t.cliente,localidad:t.localidad,estado:t.estado,altitud:t.altitud,coordenadas:t.coordenadas,tempmax:t.tempmax,tempmin:t.tempmin,precipitacion:t.precipitacion}).then(()=>{alert("Data Sent")}).catch(o=>{alert(o.message)})})()}getData(){const t=_e(this.firestore,"unidad-produccion");he(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}showPosition(t){n.text=t.coords.latitude+", "+t.coords.longitude}getLocation(){var t=this;return _(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{t.res=n.text},1e3)})()}MyQuery(){var t=this;return _(function*(){let i=t.x;const r=Ot(_e(t.firestore,"unidad-produccion"),Kt("codigo","==",i)),o=yield he(r);o.empty||o.forEach(s=>{const a=s.data();t.item=a,t.item.id=s.id,t.item.cliente||(t.item.cliente=""),t.item.localidad||(t.item.localidad=""),t.item.estado||(t.item.estado=""),t.item.tipo||(t.item.tipo=""),t.item.altitud||(t.item.altitud=""),t.item.coordenadas||(t.item.coordenadas=""),t.item.tempmax||(t.item.tempmax=""),t.item.tempmin||(t.item.tempmin=""),t.item.precipitacion||(t.item.precipitacion=""),t.res=t.item.coordenadas})})()}deleteData(t){if(1==confirm("Seguro que desea eliminar esta Unidad de Producci\xf3n?")){const o=De(this.firestore,"unidad-produccion",this.x);Pn(o).then(()=>{alert("Data Deleted"),this.router.navigate(["user/unidad-produccion-all"])}).catch(s=>{alert(s.message)})}}Home(){this.router.navigate(["user/unidad-produccion-all"])}backPage(){this.location.back()}static{this.\u0275fac=function(i){return new(i||n)(E(Me),E(mt),E(He),E(rt),E(Ln))}}static{this.\u0275cmp=ve({type:n,selectors:[["app-unidad-produccion-edit"]],viewQuery:function(i,r){if(1&i&&Qn(F2e,5),2&i){let o;Sn(o=An())&&(r.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:110,vars:10,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],["name","codigo","ngModel","","placeholder","codigo","id","codigo","type","codigo",1,"input-field",3,"ngModel","ngModelChange"],["name","cliente","ngModel","","placeholder","Cliente","id","cliente","type","cliente",1,"input-field",3,"ngModel","ngModelChange"],["name","coordenadas","ngModel","","placeholder","Coordenadas","id","coordenadas","type","coordenadas",1,"input-field",3,"ngModel","ngModelChange"],[1,"bUbicacion",3,"click"],["src","../../../../assets/Ubicacion.png","alt","U"],["name","localidad","ngModel","","placeholder","Localidad","id","localidad","type","localidad",1,"input-field",3,"ngModel","ngModelChange"],["name","municipio","ngModel","","placeholder","Municipio","id","municipio","type","municipio",1,"input-field",3,"ngModel","ngModelChange"],["name","estado","ngModel","","placeholder","Estado","id","estado",1,"input-field",3,"ngModel","ngModelChange"],["value","","disabled","","selected",""],["value","Amazonas"],["value","Anzo\xe1tegui"],["value","Apure"],["value","Aragua"],["value","Barinas"],["value","Bol\xedvar"],["value","Carabobo"],["value","Cojedes"],["value","Delta Amacuro"],["value","Dependencias Federales"],["value","Distrito Capital"],["value","Falc\xf3n"],["value","Gu\xe1rico"],["value","La Guaira"],["value","Lara"],["value","M\xe9rida"],["value","Miranda"],["value","Monagas"],["value","Nueva Esparta"],["value","Portuguesa"],["value","Sucre"],["value","T\xe1chira"],["value","Trujillo"],["value","Yaracuy"],["value","Zulia"],["name","altitud","ngModel","","placeholder","Altitud","id","altitud","type","altitud",1,"input-field",3,"ngModel","ngModelChange"],[1,"Text-2"],["name","tempmax","ngModel","","placeholder","Temperaturas M\xe1ximas","id","tempmax","type","tempmax",1,"input-field",3,"ngModel","ngModelChange"],["name","tempmin","ngModel","","placeholder","Temperaturas M\xednimas","id","tempmin","type","tempmin",1,"input-field",3,"ngModel","ngModelChange"],["name","precipitacion","ngModel","","placeholder","Precipitaci\xf3n","id","precipitacion","type","precipitacion",1,"input-field",3,"ngModel","ngModelChange"],[1,"boton",3,"click"],["id","Guardar",1,"boton"],["type","button",1,"botonrojo",3,"click"],["type","button","id","volver",3,"click"],[1,"blank"]],template:function(i,r){if(1&i){const o=Tt();p(0,"p"),g(1,"unidad-produccion-edit works!"),f(),p(2,"h1",0),g(3,"Editar Unidad"),f(),p(4,"div",1)(5,"form",2,3),B("ngSubmit",function(){Re(o);const a=fn(6);return Ne(r.handleRegister(a.value))}),p(7,"div",4)(8,"div",5)(9,"span",6),g(10,"Nombre:"),f(),p(11,"input",7),Ye("ngModelChange",function(a){return Ze(r.item.codigo,a)||(r.item.codigo=a),a}),f()(),p(12,"div",5)(13,"span",6),g(14,"Cliente:"),f(),p(15,"input",8),Ye("ngModelChange",function(a){return Ze(r.item.cliente,a)||(r.item.cliente=a),a}),f()(),p(16,"div",5)(17,"span",6),g(18,"Coordenadas:"),f(),p(19,"input",9),Ye("ngModelChange",function(a){return Ze(r.res,a)||(r.res=a),a}),f(),p(20,"div",10),B("click",function(){return r.getLocation()}),$(21,"img",11),f()(),p(22,"div",5)(23,"span",6),g(24,"Localidad:"),f(),p(25,"input",12),Ye("ngModelChange",function(a){return Ze(r.item.localidad,a)||(r.item.localidad=a),a}),f()(),p(26,"div",5)(27,"span",6),g(28,"Municipio:"),f(),p(29,"input",13),Ye("ngModelChange",function(a){return Ze(r.item.municipio,a)||(r.item.municipio=a),a}),f()(),p(30,"div",5)(31,"span",6),g(32,"Estado:"),f(),p(33,"select",14),Ye("ngModelChange",function(a){return Ze(r.item.estado,a)||(r.item.estado=a),a}),p(34,"option",15),g(35,"Seleccione un estado"),f(),p(36,"option",16),g(37,"Amazonas"),f(),p(38,"option",17),g(39,"Anzo\xe1tegui"),f(),p(40,"option",18),g(41,"Apure"),f(),p(42,"option",19),g(43,"Aragua"),f(),p(44,"option",20),g(45,"Barinas"),f(),p(46,"option",21),g(47,"Bol\xedvar"),f(),p(48,"option",22),g(49,"Carabobo"),f(),p(50,"option",23),g(51,"Cojedes"),f(),p(52,"option",24),g(53,"Delta Amacuro"),f(),p(54,"option",25),g(55,"Dependencias Federales"),f(),p(56,"option",26),g(57,"Distrito Capital"),f(),p(58,"option",27),g(59,"Falc\xf3n"),f(),p(60,"option",28),g(61,"Gu\xe1rico"),f(),p(62,"option",29),g(63,"La Guaira"),f(),p(64,"option",30),g(65,"Lara"),f(),p(66,"option",31),g(67,"M\xe9rida"),f(),p(68,"option",32),g(69,"Miranda"),f(),p(70,"option",33),g(71,"Monagas"),f(),p(72,"option",34),g(73,"Nueva Esparta"),f(),p(74,"option",35),g(75,"Portuguesa"),f(),p(76,"option",36),g(77,"Sucre"),f(),p(78,"option",37),g(79,"T\xe1chira"),f(),p(80,"option",38),g(81,"Trujillo"),f(),p(82,"option",39),g(83,"Yaracuy"),f(),p(84,"option",40),g(85,"Zulia"),f()()(),p(86,"div",5)(87,"span",6),g(88,"Altitud:"),f(),p(89,"input",41),Ye("ngModelChange",function(a){return Ze(r.item.altitud,a)||(r.item.altitud=a),a}),f()(),p(90,"div",5)(91,"span",42),g(92,"Temperaturas M\xe1ximas:"),f(),p(93,"input",43),Ye("ngModelChange",function(a){return Ze(r.item.tempmax,a)||(r.item.tempmax=a),a}),f()(),p(94,"div",5)(95,"span",42),g(96,"Temperaturas M\xednimas:"),f(),p(97,"input",44),Ye("ngModelChange",function(a){return Ze(r.item.tempmin,a)||(r.item.tempmin=a),a}),f()(),p(98,"div",5)(99,"span",42),g(100,"Promedio Precipitaci\xf3n Anual:"),f(),p(101,"input",45),Ye("ngModelChange",function(a){return Ze(r.item.precipitacion,a)||(r.item.precipitacion=a),a}),f()(),p(102,"button",46),B("click",function(){return r.backPage()}),g(103,"Finalizar Edici\xf3n"),f(),p(104,"button",47),g(105," Guardar"),f(),p(106,"button",48),B("click",function(){return r.deleteData(r.item.id)}),g(107," Eliminar "),f(),p(108,"button",49),B("click",function(){return r.backPage()}),f()(),$(109,"div",50),f()()}2&i&&(N(11),Ke("ngModel",r.item.codigo),N(4),Ke("ngModel",r.item.cliente),N(4),Ke("ngModel",r.res),N(6),Ke("ngModel",r.item.localidad),N(4),Ke("ngModel",r.item.municipio),N(4),Ke("ngModel",r.item.estado),N(56),Ke("ngModel",r.item.altitud),N(4),Ke("ngModel",r.item.tempmax),N(4),Ke("ngModel",r.item.tempmin),N(4),Ke("ngModel",r.item.precipitacion))},dependencies:[ai,la,ca,sr,vs,Vr,si,Cr,Vn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:65%;min-height:550px;width:936px;flex-shrink:0;position:absolute;top:25%;left:clamp(350px,calc(50% - 468px),100%)}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:3%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:85%;height:20px;left:92px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;top:17%;text-align:center;width:936px;left:clamp(350px,calc(50% - 468px),100%)}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:150px;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}.Text-2[_ngcontent-%COMP%]{color:#000;width:370px;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:85%;top:100%}#Guardar[_ngcontent-%COMP%]{left:70%}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:55%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}#volver[_ngcontent-%COMP%]{font-size:16px;position:absolute;left:0%;top:100%;background:none;border:none;width:50px;height:50px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(back-button-Edit4.8567daeed3ab1418.png)}@media only screen and (max-width: 768px){.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.input-field[_ngcontent-%COMP%]{margin:6px 6px 6px 24px;height:20px;left:92px;color:#000;font-family:Arial;font-size:16px;letter-spacing:0;text-overflow:ellipsis}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:6px 6px 6px 22px;font-family:Arial;width:85%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:3%;top:2%}.Text[_ngcontent-%COMP%], .Text-2[_ngcontent-%COMP%]{color:#000;height:-moz-fit-content;height:fit-content;font-family:Arial;font-size:16px;letter-spacing:0;margin-top:5px;margin-bottom:10px}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;min-width:0%;width:95%;height:650px;flex-shrink:0;position:absolute;left:2.5%;top:35%}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:70%;top:110%;border:none;float:right;background-color:#3eb3c2;color:#fff;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}#Guardar[_ngcontent-%COMP%]{left:70%;top:125%}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;width:70px;border-width:0;border-radius:30px;font-size:12px;left:75%;top:140%}.blank[_ngcontent-%COMP%]{width:100%;height:16px;position:absolute;left:0%;top:110%}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:27%;transform:none}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}#volver[_ngcontent-%COMP%]{position:absolute;left:0%;top:125%;width:50px;height:50px}}"]})}}return n})();const V2e=["geo"];let B2e=(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.location=s,this.title="gestion-de-muestras-de-campo",this.data=[],this.somethingChange=new qe,this.getData(),this.MyQuery()}ngOnInit(){this.route.params.subscribe(t=>{this.text=t.id,console.log(t),console.log(t.id)}),this.getData(),this.MyQuery()}handleRegister(t){this.addData(t)}addData(t){const i=De(this.firestore,"unidad-produccion",t.codigo);Co(i,t).then(()=>{alert("Data Sent")}).catch(r=>{alert(r.message)}),console.log(t.comentarios)}getData(){const t=_e(this.firestore,"unidad-produccion");he(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}showPosition(t){}getLocation(){var t=this;return _(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{console.log(t.res)},1e3)})()}MyQuery(){var t=this;return _(function*(){let i=t.text;const r=Ot(_e(t.firestore,"unidad-produccion"),Kt("codigo","==",i)),o=yield he(r);o.empty||o.forEach(s=>{t.item=s.data(),console.log(s.id," => ",s.data())})})()}editMuestra(){this.router.navigate(["../unidad-produccion-edit/"+this.text],{relativeTo:this.route})}deleteData(t){const i=De(this.firestore,"users",t);Pn(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}backPage(){this.location.back()}static{this.\u0275fac=function(i){return new(i||n)(E(Me),E(mt),E(He),E(rt),E(Ln))}}static{this.\u0275cmp=ve({type:n,selectors:[["app-unidad-produccion-info"]],viewQuery:function(i,r){if(1&i&&Qn(V2e,5),2&i){let o;Sn(o=An())&&(r.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:61,vars:10,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],[1,"input-field"],["type","button",1,"boton",3,"click"],["type","button","id","volver",3,"click"]],template:function(i,r){if(1&i){const o=Tt();p(0,"p"),g(1,"unidad-produccion-info works!"),f(),p(2,"h1",0),g(3,"Datos de la Unidad"),f(),p(4,"div",1)(5,"form",2,3),B("ngSubmit",function(){Re(o);const a=fn(6);return Ne(r.handleRegister(a.value))}),p(7,"div",4)(8,"div",5)(9,"span",6),g(10,"Nombre:"),f(),p(11,"span",7),g(12),f()(),p(13,"div",5)(14,"span",6),g(15,"Cliente:"),f(),p(16,"span",7),g(17),f()(),p(18,"div",5)(19,"span",6),g(20,"Coordenadas:"),f(),p(21,"span",7),g(22),f()(),p(23,"div",5)(24,"span",6),g(25,"Localidad:"),f(),p(26,"span",7),g(27),f()(),p(28,"div",5)(29,"span",6),g(30,"Municipio:"),f(),p(31,"span",7),g(32),f()(),p(33,"div",5)(34,"span",6),g(35,"Estado:"),f(),p(36,"span",7),g(37),f()(),p(38,"div",5)(39,"span",6),g(40,"Altitud:"),f(),p(41,"span",7),g(42),f()(),p(43,"div",5)(44,"span",6),g(45,"Temperaturas M\xe1ximas:"),f(),p(46,"span",7),g(47),f()(),p(48,"div",5)(49,"span",6),g(50,"Temperaturas M\xednimas:"),f(),p(51,"span",7),g(52),f()(),p(53,"div",5)(54,"span",6),g(55,"Promedio Precipitaci\xf3n Anual:"),f(),p(56,"span",7),g(57),f()()()(),p(58,"button",8),B("click",function(){return r.editMuestra()}),g(59,"Editar Muestra"),f(),p(60,"button",9),B("click",function(){return r.backPage()}),f()()}2&i&&(N(12),Se(" ",r.item.codigo,""),N(5),Se(" ",r.item.cliente,""),N(5),Se(" ",r.item.coordenadas,""),N(5),Se(" ",r.item.localidad,""),N(5),Se(" ",r.item.municipio,""),N(5),Se(" ",r.item.cliente,""),N(5),Se(" ",r.item.altitud,""),N(5),Se(" ",r.item.tempmax,""),N(5),Se(" ",r.item.tempmin,""),N(5),Se(" ",r.item.precipitacion,""))},dependencies:[ai,si,Vn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:600px;min-height:550px;flex-shrink:0;position:absolute;top:30%;left:clamp(350px,calc(50% - 300px),100%)}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:10%;top:7%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:12px 12px 12px 25px;height:20px;left:92px;color:#000;font-family:Arial;font-size:20px;letter-spacing:0}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;top:20%;text-align:center;width:600px;left:clamp(350px,calc(50% - 300px),100%)}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;height:25px;font-family:Arial;font-size:20px;font-weight:700;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:78%;top:87%}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:0%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}#volver[_ngcontent-%COMP%]{font-size:16px;position:absolute;left:5%;top:86%;background:none;border:none;width:50px;height:50px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(back-button-Edit4.8567daeed3ab1418.png)}@media only screen and (max-width: 768px){.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.input-field[_ngcontent-%COMP%]{margin:6px 6px 6px 15px;height:20px;left:92px;color:#000;font-family:Arial;font-size:16px;letter-spacing:0;text-overflow:ellipsis}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:5%;top:3%}.Text[_ngcontent-%COMP%]{color:#000;height:20px;font-family:Arial;font-size:16px;letter-spacing:0}.loginBox[_ngcontent-%COMP%]{margin:3px;padding:auto;box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:90%;min-height:400px;flex-shrink:0;position:absolute;left:5%;top:35%;transform:none}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;inset:auto 0% 0% auto;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:12px;left:0%;top:110%}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:27%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}#volver[_ngcontent-%COMP%]{position:absolute;left:0%;padding-left:20px;bottom:0%;width:35px;height:35px}}"]})}}return n})();function U2e(n,e){if(1&n){const t=Tt();p(0,"tr")(1,"td"),g(2),f(),p(3,"td"),g(4),f(),p(5,"td"),g(6),f(),p(7,"td"),g(8),f(),p(9,"td")(10,"button",4),B("click",function(){const o=Re(t).$implicit;return Ne(Rt().infoClients(o.email))}),f(),p(11,"button",5),B("click",function(){const o=Re(t).$implicit;return Ne(Rt().editClients(o.email))}),f()()()}if(2&n){const t=e.$implicit;N(2),je(t.email),N(2),je(t.nombre),N(2),je(t.telefono),N(2),je(t.direccion)}}let ZX=(()=>{class n{constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.data=[],this.getData()}ngOnInit(){this.route.params.subscribe(t=>{this.item=t.id,console.log(t),console.log(t.id)})}getData(){const t=_e(this.firestore,"clientes");he(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}updateData(t){const i=De(this.firestore,"muestras",t);Xi(i,{}).then(()=>{alert("Data updated"),this.getData()}).catch(r=>{alert(r.message)})}deleteData(t){const i=De(this.firestore,"muestras",t);Pn(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["user/projects"])}logOut(){wi(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}newClients(){this.router.navigate(["../clients-new/"],{relativeTo:this.route})}editClients(t){this.router.navigate(["../clients-edit/"+t],{relativeTo:this.route})}infoClients(t){this.router.navigate(["../clients-info/"+t],{relativeTo:this.route})}infoMuestra(t){this.router.navigate(["user/muestras-info/"+t])}MyQuery(){var t=this;return _(function*(){let i=t.item;t.pid=i,console.log(i);const r=Ot(_e(t.firestore,"muestras"),Kt("project","==",i));he(r).then(s=>{t.data=[...s.docs.map(a=>({...a.data(),id:a.id}))]}),(yield he(r)).forEach(s=>{console.log(s.id," => ",s.data())})})()}static{this.\u0275fac=function(i){return new(i||n)(E(Me),E(mt),E(He),E(rt))}}static{this.\u0275cmp=ve({type:n,selectors:[["app-clients"]],decls:19,vars:1,consts:[[1,"subTituloText"],[1,"list"],[4,"ngFor","ngForOf"],["id","agregar",1,"boton",3,"click"],[1,"detalles",3,"click"],[1,"edit",3,"click"]],template:function(i,r){1&i&&(p(0,"p"),g(1,"clients works!"),f(),p(2,"h1",0),g(3,"Clientes"),f(),p(4,"div",1)(5,"table")(6,"tr")(7,"th"),g(8," Email "),f(),p(9,"th"),g(10," Nombre "),f(),p(11,"th"),g(12," Telefono"),f(),p(13,"th"),g(14," Direccion "),f(),$(15,"th"),f(),hn(16,U2e,12,4,"tr",2),f(),p(17,"button",3),B("click",function(){return r.newClients()}),g(18," Agregar "),f()()),2&i&&(N(16),ct("ngForOf",r.data))},dependencies:[yo],styles:[".list[_ngcontent-%COMP%]{position:absolute;top:32%;min-width:665px;left:clamp(350px,calc(50% - 333px),100%)}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.projectBlock[_ngcontent-%COMP%]{width:auto;height:35px;background:#3ec28f;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:20px;font-weight:700;letter-spacing:0;cursor:pointer}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:153px;height:36px;top:30%;left:50%;transform:translate(-50%);position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:126px;height:16px;left:50%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;top:20%;min-width:665px;text-align:center;left:clamp(350px,calc(50% - 333px),100%)}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;margin-left:2px;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.list[_ngcontent-%COMP%]{transform:none;position:absolute;left:5%;text-overflow:ellipsis;top:35%;width:90%;min-width:0px}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{transform:none;width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{transform:none;width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{transform:none;position:absolute;right:0%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;transform:none;position:absolute;text-align:center;top:27%;left:0%;min-width:0px;width:100vw}.blockBotones[_ngcontent-%COMP%]{width:45px}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}}return n})();const z2e=["geo"];let JX=(()=>{class n{static{this.text=""}constructor(t,i,r,o,s){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.location=s,this.title="gestion-de-muestras-de-campo",this.data=[],this.res="",this.somethingChange=new qe}ngOnInit(){this.route.params.subscribe(t=>{this.pid=t.id})}handleRegister(t){this.addData(t),this.backPage()}addData(t){const i=De(this.firestore,"clientes",t.email);Co(i,{email:t.email,nombre:t.nombre,telefono:t.telefono,direccion:t.direccion}).then(()=>{alert("Data Sent")}).catch(r=>{alert(r.message)}),console.log(t.comentarios)}getData(){const t=_e(this.firestore,"muestras");he(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude),n.text=t.coords.latitude+", "+t.coords.longitude,console.log(n.text)}getLocation(){var t=this;return _(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{t.res=n.text,console.log(t.res)},1e3)})()}backPage(){this.location.back()}static{this.\u0275fac=function(i){return new(i||n)(E(Me),E(mt),E(He),E(rt),E(Ln))}}static{this.\u0275cmp=ve({type:n,selectors:[["app-clients-new"]],viewQuery:function(i,r){if(1&i&&Qn(z2e,5),2&i){let o;Sn(o=An())&&(r.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:27,vars:0,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],["name","email","ngModel","","placeholder","Email","id","emai","type","email",1,"input-field"],["name","nombre","ngModel","","placeholder","Nombre","id","nombre","type","nombre",1,"input-field"],["name","telefono","ngModel","","placeholder","Telefono","id","telefono","type","telefono",1,"input-field"],["name","direccion","ngModel","","placeholder","Direccion","id","direccion","type","direccion",1,"input-field"],[1,"boton"],["type","button","id","volver",1,"boton",3,"click"]],template:function(i,r){if(1&i){const o=Tt();p(0,"p"),g(1,"clients-new works!"),f(),p(2,"h1",0),g(3,"Nuevo Cliente"),f(),p(4,"div",1)(5,"form",2,3),B("ngSubmit",function(){Re(o);const a=fn(6);return Ne(r.handleRegister(a.value))}),p(7,"div",4)(8,"div",5)(9,"span",6),g(10,"Email:"),f(),$(11,"input",7),f(),p(12,"div",5)(13,"span",6),g(14,"Nombre:"),f(),$(15,"input",8),f(),p(16,"div",5)(17,"span",6),g(18,"Telefono:"),f(),$(19,"input",9),f(),p(20,"div",5)(21,"span",6),g(22,"Direccion:"),f(),$(23,"input",10),f(),p(24,"button",11),g(25,"Crear Cliente"),f(),p(26,"button",12),B("click",function(){return r.backPage()}),f()()()()}},dependencies:[ai,sr,Vr,si,Cr,Vn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:760px;height:260px;flex-shrink:0;position:absolute;left:clamp(350px,calc(50% - 380px),100%);top:25%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:3%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:85%;height:20px;position:relative;left:0}.input-field-2[_ngcontent-%COMP%]{margin:0;height:20px;position:relative;left:0}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:50%;top:17%;transform:translate(-50%)}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:143px;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;margin-left:5px;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:80%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}#volver[_ngcontent-%COMP%]{font-size:16px;position:absolute;left:5%;top:100%;background:none;border:none;width:50px;height:50px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(back-button-Edit4.8567daeed3ab1418.png)}@media only screen and (max-width: 768px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:95%;height:30%;flex-shrink:0;position:absolute;left:2.5%;top:38%;transform:none}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.input-field[_ngcontent-%COMP%]{margin:10px 10px 10px 20px;height:20px;left:0}.blank[_ngcontent-%COMP%]{width:100%;height:16px;position:absolute;left:0%;top:110%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:20px;font-family:Arial;font-size:14px;letter-spacing:0}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:3%;top:3%}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:75%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:20px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:28%;transform:none}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}#volver[_ngcontent-%COMP%]{top:96%}}"]})}}return n})();function j2e(n,e){if(1&n){const t=Tt();p(0,"tr")(1,"td"),g(2),f(),p(3,"td"),g(4),f(),p(5,"td"),g(6),f(),p(7,"td"),g(8),f(),p(9,"td",4)(10,"button",5),B("click",function(){const o=Re(t).$implicit;return Ne(Rt().Muestras(o.project,o.codigo))}),p(11,"div",6),g(12,"Listar Muestras"),f()(),p(13,"button",7),B("click",function(){const o=Re(t).$implicit;return Ne(Rt().infoUnidad(o.codigo))}),p(14,"div",8),g(15,"Informaci\xf3n"),f()(),p(16,"button",9),B("click",function(){const o=Re(t).$implicit;return Ne(Rt().editUnidad(o.codigo))}),p(17,"div",10),g(18,"Editar"),f()()()()}if(2&n){const t=e.$implicit;N(2),je(t.codigo),N(2),je(t.cliente),N(2),je(t.altitud),N(2),je(t.coordenadas)}}let eZ=(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.elem=s,this.data=[],this.getData()}ngOnInit(){this.route.params.subscribe(t=>{this.pid=t.id})}getData(){const t=_e(this.firestore,"unidad-produccion");he(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}updateData(t){const i=De(this.firestore,"unidad-produccion",t);Xi(i,{}).then(()=>{alert("Data updated"),this.getData()}).catch(r=>{alert(r.message)})}deleteData(t){const i=De(this.firestore,"unidad-produccion",t);Pn(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}Scan(){this.router.navigate(["admin/scan"])}Home(){this.router.navigate(["user/projects"])}Muestras(t,i){this.router.navigate(["../muestras/"+i],{relativeTo:this.route})}logOut(){wi(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}newUnidad(t){this.router.navigate(["../unidad-produccion-new"],{relativeTo:this.route})}editUnidad(t){this.router.navigate(["../unidad-produccion-edit/"+t],{relativeTo:this.route})}infoUnidad(t){this.router.navigate(["../unidad-produccion-info/"+t],{relativeTo:this.route})}infoProject(t){this.router.navigate(["user/project-info/"+t])}MyQuery(){var t=this;return _(function*(){let i=t.pid;const r=Ot(_e(t.firestore,"unidad-produccion"),Kt("project","==",i));he(r).then(s=>{t.data=[...s.docs.map(a=>({...a.data(),id:a.id}))]}),(yield he(r)).forEach(s=>{})})()}static{this.\u0275fac=function(i){return new(i||n)(E(Me),E(mt),E(He),E(rt),E(Bt))}}static{this.\u0275cmp=ve({type:n,selectors:[["app-unidad-produccion-all"]],decls:17,vars:1,consts:[[1,"subTituloText"],[1,"list"],[4,"ngFor","ngForOf"],["id","agregar",1,"boton",3,"click"],[1,"blockBotones"],[1,"muestras",3,"click"],[1,"muestras-tip"],[1,"detalles",3,"click"],[1,"detalles-tip"],[1,"edit",3,"click"],[1,"edit-tip"]],template:function(i,r){1&i&&(p(0,"h1",0),g(1,"Unidades de Producci\xf3n "),f(),p(2,"div",1)(3,"table")(4,"tr")(5,"th"),g(6," Nombre "),f(),p(7,"th"),g(8," Cliente "),f(),p(9,"th"),g(10," Altitud"),f(),p(11,"th"),g(12," Coordenadas "),f(),$(13,"th"),f(),hn(14,j2e,19,4,"tr",2),f(),p(15,"button",3),B("click",function(){return r.newUnidad(r.pid)}),g(16," Agregar "),f()()),2&i&&(N(14),ct("ngForOf",r.data))},dependencies:[yo],styles:[".list[_ngcontent-%COMP%]{position:absolute;left:clamp(350px,calc(50% - 336px),100%);top:30%;min-width:672px}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.projectBlock[_ngcontent-%COMP%]{width:auto;height:35px;background:#3ec28f;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:20px;font-weight:700;letter-spacing:0;cursor:pointer}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{cursor:pointer;width:153px;height:36px;left:50%;top:30%;transform:translate(0);position:absolute;background:#4c9eff;box-shadow:2px 2px 5px #000;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;width:650px;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;left:clamp(350px,calc(50% - 325px),100%);top:20%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.edit[_ngcontent-%COMP%]:hover   .edit-tip[_ngcontent-%COMP%]{display:block;opacity:1;transition:.5s}.edit-tip[_ngcontent-%COMP%]{display:none;position:relative;background-color:#2f3033;color:#fff;padding:5px;width:-moz-fit-content;width:fit-content;margin:5px;top:100%;left:0;opacity:0;transition:.5s;z-index:100;border-radius:3px;font-weight:700;font-family:Trebuchet MS,sans-serif}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.muestras[_ngcontent-%COMP%]:hover   .muestras-tip[_ngcontent-%COMP%]{display:block;opacity:1;transition:.5s}.muestras-tip[_ngcontent-%COMP%]{display:none;position:relative;background-color:#2f3033;color:#fff;padding:5px;width:max-content;margin:5px;top:100%;left:0;opacity:0;transition:.5s;z-index:100;border-radius:3px;font-weight:700;font-family:Trebuchet MS,sans-serif}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.detalles[_ngcontent-%COMP%]:hover   .detalles-tip[_ngcontent-%COMP%]{display:block;opacity:1;transition:.5s}.detalles-tip[_ngcontent-%COMP%]{display:none;position:relative;background-color:#2f3033;color:#fff;padding:5px;width:-moz-fit-content;width:fit-content;margin:5px;top:100%;left:0;opacity:0;transition:.5s;z-index:100;border-radius:3px;font-weight:700;font-family:Trebuchet MS,sans-serif}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.list[_ngcontent-%COMP%]{transform:none;position:absolute;left:5%;text-overflow:ellipsis;top:35%;width:90%;min-width:0px}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:153px;height:36px;transform:none;left:35%;top:40%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;transform:none;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;right:0%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;margin:0;height:100px;font-family:Verdana;font-size:26px;letter-spacing:0;transform:none;position:absolute;padding-top:8px;text-align:center;top:27%;left:0%;min-width:0px;width:100vw}.blockBotones[_ngcontent-%COMP%]{width:45px}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}.muestras-tip[_ngcontent-%COMP%]{margin:5px;position:relative;top:-28px;left:-45px;font-size:10px}.detalles-tip[_ngcontent-%COMP%]{font-size:10px;position:relative;top:-28px;left:-48px}.edit-tip[_ngcontent-%COMP%]{font-size:10px;position:relative;top:-28px;left:-33px}}"]})}}return n})();const H2e=["geo"];let tZ=(()=>{class n{static{this.text=""}constructor(t,i,r,o,s){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.location=s,this.title="gestion-de-muestras-de-campo",this.data=[],this.res="",this.somethingChange=new qe}ngOnInit(){this.route.params.subscribe(t=>{this.x=t.id,console.log(t),console.log(t.id)}),this.getData(),this.MyQuery()}handleRegister(t){this.addData(t),this.backPage()}addData(t){var i=this;return _(function*(){console.log(t);const r=De(i.firestore,"clientes",t.email);Xi(r,{email:t.email,nombre:t.nombre,fecha:t.fecha,telefono:t.telefono,direccion:t.direccion}).then(()=>{alert("Data Sent")}).catch(o=>{alert(o.message)}),console.log(i.pid)})()}getData(){const t=_e(this.firestore,"clientes");he(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude),n.text=t.coords.latitude+", "+t.coords.longitude}getLocation(){var t=this;return _(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{t.res=n.text,console.log(t.res)},1e3)})()}MyQuery(){var t=this;return _(function*(){let i=t.x;const r=Ot(_e(t.firestore,"clientes"),Kt("email","==",i)),o=yield he(r);o.empty||o.forEach(s=>{t.item=s.data(),console.log(s.id," => ",s.data()),t.res=t.item.coordenadas,t.pid=t.item.project})})()}deleteData(t){const r=De(this.firestore,"clientes",this.x);Pn(r).then(()=>{alert("Data Deleted"),this.backPage()}).catch(o=>{alert(o.message)})}Home(){this.router.navigate(["user/unidad-produccion-all"])}backPage(){this.location.back()}static{this.\u0275fac=function(i){return new(i||n)(E(Me),E(mt),E(He),E(rt),E(Ln))}}static{this.\u0275cmp=ve({type:n,selectors:[["app-clients-edit"]],viewQuery:function(i,r){if(1&i&&Qn(H2e,5),2&i){let o;Sn(o=An())&&(r.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:29,vars:4,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],["name","email","ngModel","","placeholder","Email","id","emai","type","email",1,"input-field",3,"ngModel","ngModelChange"],["name","nombre","ngModel","","placeholder","Nombre","id","nombre","type","nombre",1,"input-field",3,"ngModel","ngModelChange"],["name","telefono","ngModel","","placeholder","Telefono","id","telefono","type","telefono",1,"input-field",3,"ngModel","ngModelChange"],["name","direccion","ngModel","","placeholder","Direccion","id","direccion","type","direccion",1,"input-field",3,"ngModel","ngModelChange"],[1,"boton"],["type","button","id","volver",1,"boton",3,"click"],["type","button",1,"botonrojo",3,"click"]],template:function(i,r){if(1&i){const o=Tt();p(0,"p"),g(1,"clients-edit works!"),f(),p(2,"h1",0),g(3,"Nuevo Cliente"),f(),p(4,"div",1)(5,"form",2,3),B("ngSubmit",function(){Re(o);const a=fn(6);return Ne(r.handleRegister(a.value))}),p(7,"div",4)(8,"div",5)(9,"span",6),g(10,"Email:"),f(),p(11,"input",7),Ye("ngModelChange",function(a){return Ze(r.item.email,a)||(r.item.email=a),a}),f()(),p(12,"div",5)(13,"span",6),g(14,"Nombre:"),f(),p(15,"input",8),Ye("ngModelChange",function(a){return Ze(r.item.nombre,a)||(r.item.nombre=a),a}),f()(),p(16,"div",5)(17,"span",6),g(18,"Telefono:"),f(),p(19,"input",9),Ye("ngModelChange",function(a){return Ze(r.item.telefono,a)||(r.item.telefono=a),a}),f()(),p(20,"div",5)(21,"span",6),g(22,"Direccion:"),f(),p(23,"input",10),Ye("ngModelChange",function(a){return Ze(r.item.direccion,a)||(r.item.direccion=a),a}),f()(),p(24,"button",11),g(25,"Guardar"),f(),p(26,"button",12),B("click",function(){return r.backPage()}),f(),p(27,"button",13),B("click",function(){return r.deleteData(r.item.id)}),g(28," Eliminar "),f()()()()}2&i&&(N(11),Ke("ngModel",r.item.email),N(4),Ke("ngModel",r.item.nombre),N(4),Ke("ngModel",r.item.telefono),N(4),Ke("ngModel",r.item.direccion))},dependencies:[ai,sr,Vr,si,Cr,Vn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;min-height:220px;min-width:620px;position:absolute;left:50%;top:27%;left:clamp(350px,calc(50% - 310px),100%);margin:25px auto;padding:20px;display:flex;flex-shrink:0;flex-direction:column;justify-content:flex-start;align-items:center}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:3%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:85%;height:20px;left:92px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;min-width:375px;top:18%;text-align:center;min-width:620px;left:clamp(350px,calc(50% - 310px),100%)}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:80%;top:100%}.botonrojo[_ngcontent-%COMP%]{margin:2%;background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:55%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}#volver[_ngcontent-%COMP%]{font-size:16px;position:absolute;left:0%;top:98%;background:none;border:none;width:50px;height:50px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(back-button-Edit4.8567daeed3ab1418.png)}@media only screen and (max-width: 768px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;min-width:0px;width:calc(90% - 40px);min-height:0px;height:210px;flex-shrink:0;transform:none;position:absolute;top:40%;left:5%}.input-fields[_ngcontent-%COMP%]{font-size:12px}.main[_ngcontent-%COMP%]{width:90%;height:100%;flex-shrink:0;margin-left:5px;margin-top:5px;position:absolute;top:0%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:14px;letter-spacing:0}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;inset:auto 0 0 auto;border:none;background-color:#3eb3c2;color:#fff;margin:20px 10px;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:0%;top:650px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;margin:0;min-width:0px;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;transform:none;position:absolute;top:30%;left:0%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}#volver[_ngcontent-%COMP%]{width:45px;height:45px;left:0%;margin:20px 0;top:170px}}"]})}}return n})();const $2e=["geo"];let nZ=(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.location=s,this.title="gestion-de-muestras-de-campo",this.data=[],this.somethingChange=new qe,this.getData(),this.MyQuery()}ngOnInit(){this.route.params.subscribe(t=>{this.text=t.id}),this.getData(),this.MyQuery()}handleRegister(t){this.addData(t)}addData(t){const i=De(this.firestore,"clientes",t.codigo);Co(i,t).then(()=>{alert("Data Sent")}).catch(r=>{alert(r.message)}),console.log(t.comentarios)}getData(){const t=_e(this.firestore,"clientes");he(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude)}getLocation(){var t=this;return _(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{console.log(t.res)},1e3)})()}MyQuery(){var t=this;return _(function*(){let i=t.text;const r=Ot(_e(t.firestore,"clientes"),Kt("email","==",i)),o=yield he(r);o.empty||o.forEach(s=>{t.item=s.data()})})()}editClients(){this.router.navigate(["../clients-edit/"+this.text],{relativeTo:this.route})}deleteData(t){const i=De(this.firestore,"clientes",t);Pn(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}backPage(){this.location.back()}static{this.\u0275fac=function(i){return new(i||n)(E(Me),E(mt),E(He),E(rt),E(Ln))}}static{this.\u0275cmp=ve({type:n,selectors:[["app-clients-info"]],viewQuery:function(i,r){if(1&i&&Qn($2e,5),2&i){let o;Sn(o=An())&&(r.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:31,vars:4,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],[1,"input-field"],[1,"boton",3,"click"],["type","button","id","volver",1,"boton",3,"click"]],template:function(i,r){if(1&i){const o=Tt();p(0,"p"),g(1,"clients-info works!"),f(),p(2,"h1",0),g(3,"Cliente"),f(),p(4,"div",1)(5,"form",2,3),B("ngSubmit",function(){Re(o);const a=fn(6);return Ne(r.handleRegister(a.value))}),p(7,"div",4)(8,"div",5)(9,"span",6),g(10,"Email:"),f(),p(11,"span",7),g(12),f()(),p(13,"div",5)(14,"span",6),g(15,"Nombre:"),f(),p(16,"span",7),g(17),f()(),p(18,"div",5)(19,"span",6),g(20,"Telefono:"),f(),p(21,"span",7),g(22),f()(),p(23,"div",5)(24,"span",6),g(25,"Direccion:"),f(),p(26,"span",7),g(27),f()()(),p(28,"button",8),B("click",function(){return r.editClients()}),g(29,"Editar Cliente"),f(),p(30,"button",9),B("click",function(){return r.backPage()}),f()()()}2&i&&(N(12),Se(" ",r.item.email,""),N(5),Se(" ",r.item.nombre,""),N(5),Se(" ",r.item.telefono,""),N(5),Se(" ",r.item.direccion,""))},dependencies:[ai,si,Vn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;min-height:200px;min-width:620px;position:absolute;left:50%;top:27%;left:clamp(350px,calc(50% - 310px),100%);margin:25px auto;padding:20px;display:flex;flex-shrink:0;flex-direction:column;justify-content:flex-start;align-items:center}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:3%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;color:#000;font-family:Arial;font-size:20px}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:85%;height:20px;left:92px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;top:18%;text-align:center;width:620px;left:clamp(350px,calc(50% - 310px),100%)}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:80%;top:170px}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}#volver[_ngcontent-%COMP%]{font-size:16px;position:absolute;left:0%;top:170px;background:none;margin-left:20px;border:none;width:50px;height:50px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(back-button-Edit4.8567daeed3ab1418.png)}@media only screen and (max-width: 768px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;min-height:110px;flex-shrink:0;position:absolute;min-width:0px;width:calc(90% - 40px);top:35%;left:5%}.input-fields[_ngcontent-%COMP%]{margin:6px 6px 6px 15px;height:20px;left:92px;color:#000;font-family:Arial;font-size:16px;letter-spacing:0;text-overflow:ellipsis}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:5%;top:5%}.Text[_ngcontent-%COMP%]{color:#000;height:20px;font-family:Arial;font-size:16px;letter-spacing:0}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:75%;top:110%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;margin:0;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;position:absolute;left:0%;top:30%;width:100%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}#volver[_ngcontent-%COMP%]{top:110%}}"]})}}return n})(),iZ=(()=>{class n{constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.data=[]}ngOnInit(){let t;this.route.params.subscribe(i=>{this.item=i.id,t=i.id,console.log(i),console.log(i.id),this.generateBarcode(t)})}generateBarcode(t){var i=t;console.log(t),console.log(i),this.res=i,nw("#barcode",i,{format:"CODE128"})}toPrint(){window.open("/print/"+this.res,"_blank")}static{this.\u0275fac=function(i){return new(i||n)(E(Me),E(mt),E(He),E(rt))}}static{this.\u0275cmp=ve({type:n,selectors:[["app-barcode-cantidad"]],decls:5,vars:0,consts:[["onclick","window.print(this)","id","barcode"],[1,"print",3,"click"]],template:function(i,r){1&i&&(p(0,"p"),g(1,"barcode-cantidad works!"),f(),Gu(),$(2,"svg",0),sb(),p(3,"button",1),B("click",function(){return r.toPrint()}),g(4,"Print"),f())},styles:[".main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:100%;left:5%;top:20%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.print[_ngcontent-%COMP%]{position:absolute;width:10%;left:45%;top:20%}svg[_ngcontent-%COMP%]{position:absolute;left:44%;top:35%}button[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:24px;font-weight:700;cursor:pointer;border-radius:30px}@media only screen and (max-width: 768px){.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:100%;left:5%;top:20%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.print[_ngcontent-%COMP%]{position:absolute;width:30%;left:40%;top:20%}svg[_ngcontent-%COMP%]{position:absolute;left:30%;top:35%}button[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:24px;font-weight:700;cursor:pointer;border-radius:30px}}"]})}}return n})();function G2e(n,e){if(1&n&&(p(0,"option",16),g(1),f()),2&n){const t=e.$implicit;ct("value",t),N(),je(t)}}let rZ=(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.location=s,this.unidadProduccionNombres=[],this.data=[],this.num=1,this.getUnidadesProduccion()}ngOnInit(){let t;this.route.params.subscribe(i=>{this.item=i.id,t=i.id,this.generateBarcode(t)})}handleRegister(t){this.addData(t),this.Barcode(t.codigo)}generateBarcode(t){var r=t;this.res=r,nw("#barcode",r,{format:"CODE128"})}getUnidadesProduccion(){var t=this;return _(function*(){(yield he(_e(t.firestore,"unidad-produccion"))).forEach(r=>{t.unidadProduccionNombres.push(r.data().codigo)})})()}generateSVG(t,i){for(let r=0;r<t;r++){const o=document.createElement("div"),s=document.createElement("svg");o.setAttribute("class","subcode"),s.setAttribute("id","barcode"+r),document.getElementById("codes")?.appendChild(s)}}addData(t){let i=De(this.firestore,"muestras",t.codigo);Co(i,{codigo:t.codigo,unidad:t.ud})}toPrint(t){this.router.navigate(["/print/"+this.res+"/"+t])}sleep(t){return _(function*(){return new Promise(i=>setTimeout(i,t))})()}backPage(){this.location.back()}Barcode(t){this.router.navigate(["../barcode/"+t],{relativeTo:this.route})}static{this.\u0275fac=function(i){return new(i||n)(E(Me),E(mt),E(He),E(rt),E(Ln))}}static{this.\u0275cmp=ve({type:n,selectors:[["app-barcode-new"]],decls:23,vars:1,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"group1"],[1,"input-fields"],[1,"Text"],["list","Unidad","name","ud","ngModel","","placeholder","Unidad de Producci\xf3n","id","ud","type","ud",1,"input-field"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],[1,"group2"],["name","codigo","ngModel","","placeholder","Codigo","id","codigo","type","codigo",1,"input-field"],[1,"red"],[1,"print"],["type","button","id","volver",3,"click"],[3,"value"]],template:function(i,r){if(1&i){const o=Tt();p(0,"h1",0),g(1,"Generar Codigo"),f(),p(2,"div",1)(3,"form",2,3),B("ngSubmit",function(){Re(o);const a=fn(4);return Ne(r.handleRegister(a.value))}),p(5,"div",4)(6,"div",5)(7,"div",6)(8,"span",7),g(9,"Unidad de Producci\xf3n: "),f(),p(10,"select",8),$(11,"option",9),hn(12,G2e,2,2,"option",10),f()()(),p(13,"div",11)(14,"div",6)(15,"span",7),g(16," Codigo: "),f(),$(17,"input",12),p(18,"span",13),g(19," * (obligatorio) "),f()()(),p(20,"button",14),g(21,"Generar"),f(),p(22,"button",15),B("click",function(){return r.backPage()}),f()()()()}2&i&&(N(12),ct("ngForOf",r.unidadProduccionNombres))},dependencies:[yo,ai,la,ca,sr,vs,Vr,si,Cr,Vn],styles:[".main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;margin:10px;height:95%;width:95%}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;height:64px;width:625px;font-family:Verdana;font-size:56px;letter-spacing:0;text-shadow:2px 2px 5px black;left:65%;top:20%;transform:translate(-40%)}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:625px;height:225px;flex-shrink:0;position:absolute;top:55%;left:65%;transform:translate(-50%,-50%)}.group2[_ngcontent-%COMP%]{display:inline}.input-fields[_ngcontent-%COMP%]{position:inherit;margin:25px 10px;top:25px}.Text[_ngcontent-%COMP%]{display:inline;font-family:Arial;text-align:center;font-size:24px;font-weight:700}.Opcional[_ngcontent-%COMP%]{display:inline;font-family:Arial;text-align:center;font-size:16px}.red[_ngcontent-%COMP%]{display:inline;font-family:Arial;text-align:center;font-size:16px;color:red}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{height:20px;width:35%;font-size:16px}.print[_ngcontent-%COMP%]{position:absolute;top:60%;left:75%}svg[_ngcontent-%COMP%]{position:absolute;left:44%;top:32%}button[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:24px;font-weight:700;cursor:pointer;border-radius:30px}#volver[_ngcontent-%COMP%]{font-size:16px;position:absolute;left:5%;top:60%;border:none;width:50px;height:50px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(back-button-Edit4.8567daeed3ab1418.png)}#barcode[_ngcontent-%COMP%]{display:inline;border:2px solid rgb(0,0,0);box-shadow:2px 2px 5px #000}@media only screen and (max-width: 768px){.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:calc(100% - 20px);height:210px;left:0%;top:0%;transform:none}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;margin:0;width:100%;height:30px;font-family:Verdana;font-size:28px;text-align:center;letter-spacing:0;transform:none;position:absolute;left:0%;top:30%}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:calc(100% - 20px);height:230px;transform:none;position:absolute;left:10px;top:40%}.input-fields[_ngcontent-%COMP%]{position:inherit;display:block;width:calc(100% - 40px);margin:10px;top:25px}.Text[_ngcontent-%COMP%]{display:inline;font-family:Arial;font-size:20px}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:10px;height:20px;width:300px;font-size:16px}.print[_ngcontent-%COMP%]{position:absolute;width:100px;left:auto;right:0;top:140px;font-size:16px;margin-right:10px}#test[_ngcontent-%COMP%]{position:absolute;left:30%;top:60%;display:none}#codes[_ngcontent-%COMP%]{position:absolute;left:30%;top:35%}svg[_ngcontent-%COMP%]{position:absolute;left:25%;top:30%;margin:15px 0}.space[_ngcontent-%COMP%]{height:200px}#barcode[_ngcontent-%COMP%]{display:inline;border:2px solid rgb(0,0,0);box-shadow:2px 2px 5px #000}.red[_ngcontent-%COMP%]{display:block;font-family:Arial;text-align:left;font-size:16px;color:red;position:absolute;top:85px;left:110px;width:100px}button[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:20px;font-weight:700;cursor:pointer;border-radius:30px}#volver[_ngcontent-%COMP%]{font-size:16px;transform:none;position:absolute;margin-left:10px;left:0%;top:145px;border:none;width:36px;height:36px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(back-button-Edit4.8567daeed3ab1418.png)}}"]})}}return n})();function q2e(n,e){if(1&n){const t=Tt();p(0,"tr")(1,"td"),g(2),f(),p(3,"td"),g(4),f(),p(5,"td"),g(6),f(),p(7,"td"),g(8),f(),p(9,"td"),g(10),f(),p(11,"td")(12,"button",3),B("click",function(){const o=Re(t).$implicit;return Ne(Rt().infoMuestra(o.codigo))}),p(13,"div",4),g(14,"Informaci\xf3n"),f()(),p(15,"button",5),B("click",function(){const o=Re(t).$implicit;return Ne(Rt().editMuestra(o.codigo))}),p(16,"div",6),g(17,"Editar"),f()(),p(18,"button",7),B("click",function(){const o=Re(t).$implicit;return Ne(Rt().Barcode(o.codigo))}),p(19,"div",8),g(20,"Imprimir"),f()()()()}if(2&n){const t=e.$implicit;N(2),je(t.codigo),N(2),je(t.fecha),N(2),je(t.cultivo),N(2),je(t.estadoDiag),N(2),je(t.resultados)}}let oZ=(()=>{class n{constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.data=[],this.getData()}ngOnInit(){this.route.params.subscribe(t=>{this.item=t.id})}getData(){const t=_e(this.firestore,"muestras");he(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}updateData(t){const i=De(this.firestore,"muestras",t);Xi(i,{}).then(()=>{alert("Data updated"),this.getData()}).catch(r=>{alert(r.message)})}deleteData(t){const i=De(this.firestore,"muestras",t);Pn(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["user/projects"])}logOut(){wi(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}newMuestra(){this.router.navigate(["../muestras-new/"],{relativeTo:this.route})}editMuestra(t){this.router.navigate(["../muestras-edit/"+t],{relativeTo:this.route})}infoProject(t){this.router.navigate(["user/project-edit/"+t])}infoMuestra(t){this.router.navigate(["../muestras-info/"+t],{relativeTo:this.route})}Barcode(t){this.router.navigate(["../barcode/"+t],{relativeTo:this.route})}MyQuery(){var t=this;return _(function*(){let i=t.item;t.pid=i,console.log(i);const r=Ot(_e(t.firestore,"muestras"),Kt("project","==",i));he(r).then(s=>{t.data=[...s.docs.map(a=>({...a.data(),id:a.id}))]}),(yield he(r)).forEach(s=>{console.log(s.id," => ",s.data())})})()}static{this.\u0275fac=function(i){return new(i||n)(E(Me),E(mt),E(He),E(rt))}}static{this.\u0275cmp=ve({type:n,selectors:[["app-resultados"]],decls:17,vars:1,consts:[[1,"subTituloText"],[1,"list"],[4,"ngFor","ngForOf"],[1,"detalles",3,"click"],[1,"detalles-tip"],[1,"edit",3,"click"],[1,"edit-tip"],[1,"imprimir",3,"click"],[1,"imprimir-tip"]],template:function(i,r){1&i&&(p(0,"h1",0),g(1,"Resultados"),f(),p(2,"div",1)(3,"table")(4,"tr")(5,"th"),g(6," Codigo "),f(),p(7,"th"),g(8," Fecha "),f(),p(9,"th"),g(10," Cultivo "),f(),p(11,"th"),g(12," Estado "),f(),p(13,"th"),g(14," Resultados "),f(),$(15,"th"),f(),hn(16,q2e,21,5,"tr",2),f()()),2&i&&(N(16),ct("ngForOf",r.data))},dependencies:[yo],styles:[".list[_ngcontent-%COMP%]{position:absolute;top:30%;min-width:545px;left:clamp(350px,calc(50% - 273px),100%)}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.projectBlock[_ngcontent-%COMP%]{width:auto;height:35px;background:#3ec28f;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:20px;font-weight:700;letter-spacing:0;cursor:pointer}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{cursor:pointer;width:153px;height:36px;top:30%;left:50%;transform:translate(-40%);position:absolute;background:#4c9eff;box-shadow:2px 2px 5px #000;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;top:20%;text-align:center;min-width:545px;left:clamp(350px,calc(50% - 273px),100%)}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.edit[_ngcontent-%COMP%]:hover   .edit-tip[_ngcontent-%COMP%]{display:block;opacity:1;transition:.5s}.edit-tip[_ngcontent-%COMP%]{display:none;position:relative;background-color:#2f3033;color:#fff;padding:5px;width:-moz-fit-content;width:fit-content;margin:5px;top:100%;left:0;opacity:0;transition:.5s;z-index:100;border-radius:3px;font-weight:700;font-family:Trebuchet MS,sans-serif}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.detalles[_ngcontent-%COMP%]:hover   .detalles-tip[_ngcontent-%COMP%]{display:block;opacity:1;transition:.5s}.detalles-tip[_ngcontent-%COMP%]{display:none;position:relative;background-color:#2f3033;color:#fff;padding:5px;width:-moz-fit-content;width:fit-content;margin:5px;top:100%;left:0;opacity:0;transition:.5s;z-index:100;border-radius:3px;font-weight:700;font-family:Trebuchet MS,sans-serif}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;margin-left:2px;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.imprimir[_ngcontent-%COMP%]:hover   .imprimir-tip[_ngcontent-%COMP%]{display:block;opacity:1;transition:.5s}.imprimir-tip[_ngcontent-%COMP%]{display:none;position:relative;background-color:#2f3033;color:#fff;padding:5px;width:-moz-fit-content;width:fit-content;margin:5px;top:100%;left:0;opacity:0;transition:.5s;z-index:100;border-radius:3px;font-weight:700;font-family:Trebuchet MS,sans-serif}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.list[_ngcontent-%COMP%]{position:absolute;left:5%;top:35%;text-overflow:ellipsis;transform:none;width:90%;min-width:0px}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{transform:none;width:153px;height:36px;left:30%;top:38%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{transform:none;cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:80%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;transform:none;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;top:27%;left:0%;min-width:0px;width:100vw}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}}return n})(),W2e=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=ve({type:n,selectors:[["app-land"]],standalone:!0,features:[or],decls:5,vars:0,consts:[[1,"subTituloText"],[1,"rectangle"],[1,"infoText"]],template:function(i,r){1&i&&(p(0,"h1",0),g(1," \xa1Bienvenido!"),f(),p(2,"div",1)(3,"p",2),g(4," Como Investigador, sus funciones principales se centran en gestionar el ciclo de vida completo de las muestras de campo, desde la recolecci\xf3n hasta el an\xe1lisis. Por lo cual se le proporcionan las siguientes herramientas: la funci\xf3n Unidad de Producci\xf3n le permite registrar y modificar con precisi\xf3n la informaci\xf3n sobre los sitios espec\xedficos donde se extrajeron las muestras; la funci\xf3n de Muestras le permite crear, visualizar, actualizar y gestionar todas sus muestras de campo y elementos de inventario; y las funciones de manejo de C\xf3digo de Barra facilita la generaci\xf3n, impresi\xf3n y escaneo r\xe1pidos de c\xf3digos de barras para asegurar una identificaci\xf3n r\xe1pida y precisa de las muestras y la recuperaci\xf3n de datos, eliminando errores manuales y acelerando su proceso de diagn\xf3stico. "),f()())},styles:[".subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin-left:20px;width:338px;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;left:clamp(350px,calc(50% - 169px),100%);top:188px}.infoText[_ngcontent-%COMP%]{color:#000;text-indent:50px;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;font-weight:400;margin:20px;text-align:justify;width:630px;height:auto;position:absolute;top:282px;left:clamp(350px,calc(50% - 325px),100%)}.rectangle[_ngcontent-%COMP%]{display:block}@media only screen and (max-width: 768px){.infoText[_ngcontent-%COMP%]{width:auto;height:auto;position:absolute;top:220px;left:0;margin:15px 10px 10px;padding-left:15px;font-family:Arial;text-align:left;font-size:16px;letter-spacing:0;font-weight:400}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;margin:0;height:auto;font-family:Verdana;font-size:26px;letter-spacing:0;transform:none;position:absolute;padding-top:8px;text-align:center;top:180px;left:0%;min-width:0px;width:100vw}}"]})}}return n})(),Gw=(()=>{class n{constructor(t,i){this.auth=t,this.router=i}canActivateChild(t,i){return this.checkLogin(i.url)}canActivate(t,i){return this.checkLogin(i.url)}checkLogin(t){return!!this.auth.currentUser||(this.router.navigate(["/"]),!1)}static{this.\u0275fac=function(i){return new(i||n)(U(He),U(Me))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const K2e=[{path:"user",component:XK,canActivate:[Gw],canActivateChild:[Gw],children:[{path:"barcode/:id",component:rX},{path:"barcode-cantidad/:id",component:iZ},{path:"barcode-new",component:rZ},{path:"muestras/:up",component:iX},{path:"muestras-new/:id",component:LX},{path:"muestras-edit/:id",component:YX},{path:"muestras-info/:id",component:QX},{path:"muestras-all",component:XX},{path:"unidad-produccion/:id",component:P2e},{path:"unidad-produccion-new",component:N2e},{path:"unidad-produccion-edit/:id",component:L2e},{path:"unidad-produccion-info/:id",component:B2e},{path:"unidad-produccion-all",component:eZ},{path:"clients",component:ZX},{path:"clients-new",component:JX},{path:"clients-edit/:id",component:tZ},{path:"clients-info/:id",component:nZ},{path:"resultados",component:oZ},{path:"land",component:W2e},{path:"scan",component:KX}]}];let Y2e=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=nt({type:n})}static{this.\u0275inj=Xe({imports:[Ur.forChild(K2e),Ur]})}}return n})();function qw(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function aZ(n){return ln((e,t)=>n<=t)}function mFe(n,e){return n===e}let gFe=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),lZ=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=nt({type:n})}static{this.\u0275inj=Xe({providers:[gFe]})}}return n})();function cZ(n,e=0){return function _Fe(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function Ww(n){return Array.isArray(n)?n:[n]}function di(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Tf(n){return n instanceof Bt?n.nativeElement:n}const uZ=new Set;let Eu,bFe=(()=>{class n{constructor(t,i){this._platform=t,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):vFe}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function yFe(n,e){if(!uZ.has(n))try{Eu||(Eu=document.createElement("style"),e&&(Eu.nonce=e),Eu.setAttribute("type","text/css"),document.head.appendChild(Eu)),Eu.sheet&&(Eu.sheet.insertRule(`@media ${n} {body{ }}`,0),uZ.add(n))}catch(t){console.error(t)}}(t,this._nonce),this._matchMedia(t)}static{this.\u0275fac=function(i){return new(i||n)(U(Ti),U(f1,8))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function vFe(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let dZ=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new lt}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return hZ(Ww(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let o=yv(hZ(Ww(t)).map(s=>this._registerQuery(s).observable));return o=Hd(o.pipe(xn(1)),o.pipe(aZ(1),function sZ(n,e=xm){return Mn((t,i)=>{let r=null,o=null,s=null;const a=()=>{if(r){r.unsubscribe(),r=null;const c=o;o=null,i.next(c)}};function l(){const c=s+n,u=e.now();if(u<c)return r=this.schedule(void 0,c-u),void i.add(r);a()}t.subscribe(bn(i,c=>{o=c,s=e.now(),r||(r=e.schedule(l,n),i.add(r))},()=>{a(),i.complete()},void 0,()=>{o=r=null}))})}(0))),o.pipe(Le(s=>{const a={matches:!1,breakpoints:{}};return s.forEach(({matches:l,query:c})=>{a.matches=a.matches||l,a.breakpoints[c]=l}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),o={observable:new en(s=>{const a=l=>this._zone.run(()=>s.next(l));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(xv(i),Le(({matches:s})=>({query:t,matches:s})),Ev(this._destroySubject)),mql:i};return this._queries.set(t,o),o}static{this.\u0275fac=function(i){return new(i||n)(U(bFe),U(Te))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function hZ(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}const If_Medium="(min-width: 960px) and (max-width: 1279.98px)",If_Large="(min-width: 1280px) and (max-width: 1919.98px)";let Kw=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function TFe(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const i=function EFe(n){try{return n.frameElement}catch{return null}}(function PFe(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(i&&(-1===gZ(i)||!this.isVisible(i)))return!1;let r=t.nodeName.toLowerCase(),o=gZ(t);return t.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function kFe(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,i){return function OFe(n){return!function MFe(n){return function SFe(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function IFe(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function DFe(n){return function AFe(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||mZ(n))}(t)&&!this.isDisabled(t)&&(i?.ignoreVisibility||this.isVisible(t))}static{this.\u0275fac=function(i){return new(i||n)(U(Ti))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function mZ(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function gZ(n){if(!mZ(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class _Z{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,t,i,r,o=!1){this._element=e,this._checker=t,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const i=this._getFirstTabbableElement(t);return i?.focus(e),!!i}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=0;i<t.length;i++){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[i]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=t.length-1;i>=0;i--){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[i]):null;if(r)return r}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(xn(1)).subscribe(e)}}let gF=(()=>{class n{constructor(t,i,r){this._checker=t,this._ngZone=i,this._document=r}create(t,i=!1){return new _Z(t,this._checker,this._ngZone,this._document,i)}static{this.\u0275fac=function(i){return new(i||n)(U(Kw),U(Te),U(ut))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function bZ(n){return 0===n.buttons||0===n.detail}function yZ(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const RFe=new X("cdk-input-modality-detector-options"),NFe={ignoreKeys:[18,17,224,91,16]},Mf=Zg({passive:!0,capture:!0});let FFe=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,i,r,o){this._platform=t,this._mostRecentTarget=null,this._modality=new fi(null),this._lastTouchMs=0,this._onKeydown=s=>{this._options?.ignoreKeys?.some(a=>a===s.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Vl(s))},this._onMousedown=s=>{Date.now()-this._lastTouchMs<650||(this._modality.next(bZ(s)?"keyboard":"mouse"),this._mostRecentTarget=Vl(s))},this._onTouchstart=s=>{yZ(s)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Vl(s))},this._options={...NFe,...o},this.modalityDetected=this._modality.pipe(aZ(1)),this.modalityChanged=this.modalityDetected.pipe(function pFe(n,e=ja){return n=n??mFe,Mn((t,i)=>{let r,o=!0;t.subscribe(bn(i,s=>{const a=e(s);(o||!n(r,a))&&(o=!1,r=a,i.next(s))}))})}()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Mf),r.addEventListener("mousedown",this._onMousedown,Mf),r.addEventListener("touchstart",this._onTouchstart,Mf)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Mf),document.removeEventListener("mousedown",this._onMousedown,Mf),document.removeEventListener("touchstart",this._onTouchstart,Mf))}static{this.\u0275fac=function(i){return new(i||n)(U(Ti),U(Te),U(ut),U(RFe,8))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Yw=function(n){return n[n.IMMEDIATE=0]="IMMEDIATE",n[n.EVENTUAL=1]="EVENTUAL",n}(Yw||{});const VFe=new X("cdk-focus-monitor-default-options"),Qw=Zg({passive:!0,capture:!0});let Xw=(()=>{class n{constructor(t,i,r,o,s){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new lt,this._rootNodeFocusAndBlurListener=a=>{for(let c=Vl(a);c;c=c.parentElement)"focus"===a.type?this._onFocus(a,c):this._onBlur(a,c)},this._document=o,this._detectionMode=s?.detectionMode||Yw.IMMEDIATE}monitor(t,i=!1){const r=Tf(t);if(!this._platform.isBrowser||1!==r.nodeType)return we();const o=function TAe(n){if(function EAe(){if(null==TN){const n=typeof document<"u"?document.head:null;TN=!(!n||!n.createShadowRoot&&!n.attachShadow)}return TN}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),s=this._elementInfo.get(r);if(s)return i&&(s.checkChildren=!0),s.subject;const a={checkChildren:i,subject:new lt,rootNode:o};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){const i=Tf(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const o=Tf(t);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([a,l])=>this._originChanged(a,i,l)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return this._detectionMode===Yw.EVENTUAL||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,this._detectionMode===Yw.IMMEDIATE&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),o=Vl(t);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,Qw),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,Qw)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Ev(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Qw),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Qw),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,o)=>{(o===t||r.checkChildren&&o.contains(t))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const o=t.labels;if(o)for(let s=0;s<o.length;s++)if(o[s].contains(i))return!0;return!1}static{this.\u0275fac=function(i){return new(i||n)(U(Te),U(Ti),U(FFe),U(ut,8),U(VFe,8))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Tu=function(n){return n[n.NONE=0]="NONE",n[n.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",n[n.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",n}(Tu||{});const xZ="cdk-high-contrast-black-on-white",wZ="cdk-high-contrast-white-on-black",_F="cdk-high-contrast-active";let CZ=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=Z(dZ).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Tu.NONE;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Tu.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Tu.BLACK_ON_WHITE}return Tu.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(_F,xZ,wZ),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();i===Tu.BLACK_ON_WHITE?t.add(_F,xZ):i===Tu.WHITE_ON_BLACK&&t.add(_F,wZ)}}static{this.\u0275fac=function(i){return new(i||n)(U(Ti),U(ut))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),BFe=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}static{this.\u0275fac=function(i){return new(i||n)(U(CZ))}}static{this.\u0275mod=nt({type:n})}static{this.\u0275inj=Xe({imports:[lZ]})}}return n})();const UFe=["addListener","removeListener"],zFe=["addEventListener","removeEventListener"],jFe=["on","off"];function k_(n,e,t,i){if(xt(t)&&(i=t,t=void 0),i)return k_(n,e,t).pipe(LI(i));const[r,o]=function GFe(n){return xt(n.addEventListener)&&xt(n.removeEventListener)}(n)?zFe.map(s=>a=>n[s](e,a,t)):function HFe(n){return xt(n.addListener)&&xt(n.removeListener)}(n)?UFe.map(EZ(n,e)):function $Fe(n){return xt(n.on)&&xt(n.off)}(n)?jFe.map(EZ(n,e)):[];if(!r&&NI(n))return Ii(s=>k_(s,e,t))(ji(n));if(!r)throw new TypeError("Invalid event target");return new en(s=>{const a=(...l)=>s.next(1<l.length?l:l[0]);return r(a),()=>o(a)})}function EZ(n,e){return t=>i=>n[t](e,i)}const O_={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=O_;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(o=>{t=void 0,n(o)});return new hi(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=O_;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=O_;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class WFe extends o0{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class qFe extends r0{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=O_.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:o}=e;null!=t&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==t&&(O_.cancelAnimationFrame(t),e._scheduled=void 0)}});let bF,YFe=1;const Zw={};function TZ(n){return n in Zw&&(delete Zw[n],!0)}const QFe={setImmediate(n){const e=YFe++;return Zw[e]=!0,bF||(bF=Promise.resolve()),bF.then(()=>TZ(e)&&n()),e},clearImmediate(n){TZ(n)}},{setImmediate:XFe,clearImmediate:ZFe}=QFe,Jw={setImmediate(...n){const{delegate:e}=Jw;return(e?.setImmediate||XFe)(...n)},clearImmediate(n){const{delegate:e}=Jw;return(e?.clearImmediate||ZFe)(n)},delegate:void 0};new class eLe extends o0{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class JFe extends r0{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=Jw.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:o}=e;null!=t&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==t&&(Jw.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}});function yF(n=0,e,t=Dwe){let i=-1;return null!=e&&(c9(e)?t=e:i=e),new en(r=>{let o=function iLe(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function IZ(n,e=xm){return function nLe(n){return Mn((e,t)=>{let i=!1,r=null,o=null,s=!1;const a=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const c=r;r=null,t.next(c)}s&&t.complete()},l=()=>{o=null,s&&t.complete()};e.subscribe(bn(t,c=>{i=!0,r=c,o||ji(n(c)).subscribe(o=bn(t,a,l))},()=>{s=!0,(!i||!o||o.closed)&&t.complete()}))})}(()=>yF(n,e))}const rLe=new X("cdk-dir-doc",{providedIn:"root",factory:function oLe(){return Z(ut)}}),sLe=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let vF=(()=>{class n{constructor(t){this.value="ltr",this.change=new qe,t&&(this.value=function aLe(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?sLe.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static{this.\u0275fac=function(i){return new(i||n)(U(rLe,8))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),P_=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=nt({type:n})}static{this.\u0275inj=Xe({})}}return n})(),cLe=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new lt,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new en(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(IZ(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):we()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(ln(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,t)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=Tf(i),o=t.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>k_(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static{this.\u0275fac=function(i){return new(i||n)(U(Te),U(Ti),U(ut,8))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),MZ=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new lt,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,o=r.getBoundingClientRect();return{top:-o.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(IZ(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static{this.\u0275fac=function(i){return new(i||n)(U(Ti),U(Te),U(ut,8))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),xF=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=nt({type:n})}static{this.\u0275inj=Xe({})}}return n})(),DZ=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=nt({type:n})}static{this.\u0275inj=Xe({imports:[P_,xF,P_,xF]})}}return n})();class wF{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class CF extends wF{constructor(e,t,i,r,o){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=o}}class SZ extends wF{constructor(e,t,i,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class dLe extends wF{constructor(e){super(),this.element=e instanceof Bt?e.nativeElement:e}}class EF{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof CF?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof SZ?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof dLe?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class hLe extends EF{constructor(e,t,i,r,o){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=s=>{const a=s.element,l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=o}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||qt.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let eC=(()=>{class n extends EF{constructor(t,i,r){super(),this._componentFactoryResolver=t,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new qe,this.attachDomPortal=o=>{const s=o.element,a=this._document.createComment("dom-portal");o.setAttachedHost(this),s.parentNode.insertBefore(a,s),this._getRootNode().appendChild(s),this._attachedPortal=o,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(s,a)})},this._document=r}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);const i=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,o=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),s=i.createComponent(o,i.length,t.injector||i.injector,t.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(s.hostView.rootNodes[0]),super.setDisposeFn(()=>s.destroy()),this._attachedPortal=t,this._attachedRef=s,this.attached.emit(s),s}attachTemplatePortal(t){t.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}static{this.\u0275fac=function(i){return new(i||n)(E(md),E(mo),E(ut))}}static{this.\u0275dir=me({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[We.None,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[pt]})}}return n})(),fLe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=nt({type:n})}static{this.\u0275inj=Xe({})}}return n})();function R_(...n){const e=Kp(n),t=function xme(n,e){return"number"==typeof FI(n)?n.pop():e}(n,1/0),i=n;return i.length?1===i.length?ji(i[0]):jd(t)(vi(i,e)):xs}const AZ=CAe();class pLe{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=di(-this._previousScrollPosition.left),e.style.top=di(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,o=i.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),AZ&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),AZ&&(i.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class mLe{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0).pipe(ln(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class kZ{enable(){}disable(){}attach(){}}function TF(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function OZ(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class gLe{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();TF(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let _Le=(()=>{class n{constructor(t,i,r,o){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new kZ,this.close=s=>new mLe(this._scrollDispatcher,this._ngZone,this._viewportRuler,s),this.block=()=>new pLe(this._viewportRuler,this._document),this.reposition=s=>new gLe(this._scrollDispatcher,this._viewportRuler,this._ngZone,s),this._document=o}static{this.\u0275fac=function(i){return new(i||n)(U(cLe),U(MZ),U(Te),U(ut))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class PZ{constructor(e){if(this.scrollStrategy=new kZ,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class bLe{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let RZ=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}static{this.\u0275fac=function(i){return new(i||n)(U(ut))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),yLe=(()=>{class n extends RZ{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const o=this._attachedOverlays;for(let s=o.length-1;s>-1;s--)if(o[s]._keydownEvents.observers.length>0){const a=o[s]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(r)):a.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static{this.\u0275fac=function(i){return new(i||n)(U(ut),U(Te,8))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),vLe=(()=>{class n extends RZ{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=Vl(o)},this._clickListener=o=>{const s=Vl(o),a="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const l=this._attachedOverlays.slice();for(let c=l.length-1;c>-1;c--){const u=l[c];if(u._outsidePointerEvents.observers.length<1||!u.hasAttached())continue;if(u.overlayElement.contains(s)||u.overlayElement.contains(a))break;const d=u._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>d.next(o)):d.next(o)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}static{this.\u0275fac=function(i){return new(i||n)(U(ut),U(Ti),U(Te,8))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),tC=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||MN()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(t),MN()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}static{this.\u0275fac=function(i){return new(i||n)(U(ut),U(Ti))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class N_{constructor(e,t,i,r,o,s,a,l,c,u=!1){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=u,this._backdropElement=null,this._backdropClick=new lt,this._attachments=new lt,this._detachments=new lt,this._locationChanges=hi.EMPTY,this._backdropClickHandler=d=>this._backdropClick.next(d),this._backdropTransitionendHandler=d=>{this._disposeBackdrop(d.target)},this._keydownEvents=new lt,this._outsidePointerEvents=new lt,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(xn(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=di(this._config.width),e.height=di(this._config.height),e.minWidth=di(this._config.minWidth),e.minHeight=di(this._config.minHeight),e.maxWidth=di(this._config.maxWidth),e.maxHeight=di(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,i){const r=Ww(t||[]).filter(o=>!!o);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(Ev(R_(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const NZ="cdk-overlay-connected-position-bounding-box",xLe=/([A-Za-z%]+)$/;class wLe{get positions(){return this._preferredPositions}constructor(e,t,i,r,o){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new lt,this._resizeSubscription=hi.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(NZ),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let s;for(let a of this._preferredPositions){let l=this._getOriginPoint(e,r,a),c=this._getOverlayPoint(l,t,a),u=this._getOverlayFit(c,t,i,a);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,l);this._canFitWithFlexibleDimensions(u,c,i)?o.push({position:a,origin:l,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(l,a)}):(!s||s.overlayFit.visibleArea<u.visibleArea)&&(s={overlayFit:u,overlayPoint:c,originPoint:l,position:a,overlayRect:t})}if(o.length){let a=null,l=-1;for(const c of o){const u=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);u>l&&(l=u,a=c)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Iu(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(NZ),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,o;if("center"==i.originX)r=e.left+e.width/2;else{const s=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;r="start"==i.originX?s:a}return t.left<0&&(r-=t.left),o="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(o-=t.top),{x:r,y:o}}_getOverlayPoint(e,t,i){let r,o;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,o="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+o}}_getOverlayFit(e,t,i,r){const o=LZ(t);let{x:s,y:a}=e,l=this._getOffset(r,"x"),c=this._getOffset(r,"y");l&&(s+=l),c&&(a+=c);let h=0-a,m=a+o.height-i.height,y=this._subtractOverflows(o.width,0-s,s+o.width-i.width),C=this._subtractOverflows(o.height,h,m),T=y*C;return{visibleArea:T,isCompletelyWithinViewport:o.width*o.height===T,fitsInViewportVertically:C===o.height,fitsInViewportHorizontally:y==o.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,o=i.right-t.x,s=FZ(this._overlayRef.getConfig().minHeight),a=FZ(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=s&&s<=r)&&(e.fitsInViewportHorizontally||null!=a&&a<=o)}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=LZ(t),o=this._viewportRect,s=Math.max(e.x+r.width-o.width,0),a=Math.max(e.y+r.height-o.height,0),l=Math.max(o.top-i.top-e.y,0),c=Math.max(o.left-i.left-e.x,0);let u=0,d=0;return u=r.width<=o.width?c||-s:e.x<this._viewportMargin?o.left-i.left-e.x:0,d=r.height<=o.height?l||-a:e.y<this._viewportMargin?o.top-i.top-e.y:0,this._previousPushAmount={x:u,y:d},{x:e.x+u,y:e.y+d}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._positionChanges.observers.length){const i=this._getScrollVisibility();if(e!==this._lastPosition||!this._lastScrollVisibility||!function CLe(n,e){return n===e||n.isOriginClipped===e.isOriginClipped&&n.isOriginOutsideView===e.isOriginOutsideView&&n.isOverlayClipped===e.isOverlayClipped&&n.isOverlayOutsideView===e.isOverlayOutsideView}(this._lastScrollVisibility,i)){const r=new bLe(e,i);this._positionChanges.next(r)}this._lastScrollVisibility=i}this._lastPosition=e,this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let o=0;o<t.length;o++)t[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let o,s,a,u,d,h;if("top"===t.overlayY)s=e.y,o=i.height-s+this._viewportMargin;else if("bottom"===t.overlayY)a=i.height-e.y+2*this._viewportMargin,o=i.height-a+this._viewportMargin;else{const m=Math.min(i.bottom-e.y+i.top,e.y),y=this._lastBoundingBoxSize.height;o=2*m,s=e.y-m,o>y&&!this._isInitialRender&&!this._growAfterOpen&&(s=e.y-y/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)h=i.width-e.x+2*this._viewportMargin,u=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)d=e.x,u=i.right-e.x;else{const m=Math.min(i.right-e.x+i.left,e.x),y=this._lastBoundingBoxSize.width;u=2*m,d=e.x-m,u>y&&!this._isInitialRender&&!this._growAfterOpen&&(d=e.x-y/2)}return{top:s,left:d,bottom:a,right:h,width:u,height:o}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=di(i.height),r.top=di(i.top),r.bottom=di(i.bottom),r.width=di(i.width),r.left=di(i.left),r.right=di(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=di(o)),s&&(r.maxWidth=di(s))}this._lastBoundingBoxSize=i,Iu(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Iu(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Iu(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){const u=this._viewportRuler.getViewportScrollPosition();Iu(i,this._getExactOverlayY(t,e,u)),Iu(i,this._getExactOverlayX(t,e,u))}else i.position="static";let a="",l=this._getOffset(t,"x"),c=this._getOffset(t,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),i.transform=a.trim(),s.maxHeight&&(r?i.maxHeight=di(s.maxHeight):o&&(i.maxHeight="")),s.maxWidth&&(r?i.maxWidth=di(s.maxWidth):o&&(i.maxWidth="")),Iu(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=di(o.y),r}_getExactOverlayX(e,t,i){let s,r={left:"",right:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),s=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===s?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=di(o.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:OZ(e,i),isOriginOutsideView:TF(e,i),isOverlayClipped:OZ(t,i),isOverlayOutsideView:TF(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&Ww(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof Bt)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function Iu(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function FZ(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(xLe);return t&&"px"!==t?null:parseFloat(e)}return n||null}function LZ(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const VZ="cdk-global-overlay-wrapper";class ELe{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(VZ),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:a}=i,l=!("100%"!==r&&"100vw"!==r||s&&"100%"!==s&&"100vw"!==s),c=!("100%"!==o&&"100vh"!==o||a&&"100%"!==a&&"100vh"!==a),u=this._xPosition,d=this._xOffset,h="rtl"===this._overlayRef.getConfig().direction;let m="",y="",C="";l?C="flex-start":"center"===u?(C="center",h?y=d:m=d):h?"left"===u||"end"===u?(C="flex-end",m=d):("right"===u||"start"===u)&&(C="flex-start",y=d):"left"===u||"start"===u?(C="flex-start",m=d):("right"===u||"end"===u)&&(C="flex-end",y=d),e.position=this._cssPosition,e.marginLeft=l?"0":m,e.marginTop=c?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=l?"0":y,t.justifyContent=C,t.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(VZ),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let TLe=(()=>{class n{constructor(t,i,r,o){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new ELe}flexibleConnectedTo(t){return new wLe(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static{this.\u0275fac=function(i){return new(i||n)(U(MZ),U(ut),U(Ti),U(tC))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ILe=0,Io=(()=>{class n{constructor(t,i,r,o,s,a,l,c,u,d,h,m){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=s,this._injector=a,this._ngZone=l,this._document=c,this._directionality=u,this._location=d,this._outsideClickDispatcher=h,this._animationsModuleType=m}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),s=new PZ(t);return s.direction=s.direction||this._directionality.value,new N_(o,i,r,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+ILe++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(ms)),new hLe(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static{this.\u0275fac=function(i){return new(i||n)(U(_Le),U(tC),U(md),U(TLe),U(yLe),U(qt),U(Te),U(ut),U(vF),U(Ln),U(vLe),U(rs,8))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const MLe=new X("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{const n=Z(Io);return()=>n.scrollStrategies.reposition()}}),SLe={provide:MLe,deps:[Io],useFactory:function DLe(n){return()=>n.scrollStrategies.reposition()}};let ALe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=nt({type:n})}static{this.\u0275inj=Xe({providers:[Io,SLe],imports:[P_,fLe,DZ,DZ]})}}return n})();var Fe=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(Fe||{});const Va="*";function nC(n,e){return{type:Fe.Trigger,name:n,definitions:e,options:{}}}function Mu(n,e=null){return{type:Fe.Animate,styles:e,timings:n}}function iC(n,e=null){return{type:Fe.Group,steps:n,options:e}}function Mo(n){return{type:Fe.Style,styles:n,offset:null}}function Du(n,e,t){return{type:Fe.State,name:n,styles:e,options:t}}function Su(n,e,t=null){return{type:Fe.Transition,expr:n,animation:e,options:t}}function rC(n=null){return{type:Fe.AnimateChild,options:n}}function oC(n,e,t=null){return{type:Fe.Query,selector:n,animation:e,options:t}}class F_{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class BZ{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const o=this.players.length;0==o?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}let jZ=(()=>{class n{static{this.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)"}static{this.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)"}static{this.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)"}static{this.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)"}}return n})(),HZ=(()=>{class n{static{this.COMPLEX="375ms"}static{this.ENTERING="225ms"}static{this.EXITING="195ms"}}return n})();const LLe=new X("mat-sanity-checks",{providedIn:"root",factory:function FLe(){return!0}});let Ar=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!MN()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}static{this.\u0275fac=function(i){return new(i||n)(U(CZ),U(LLe,8),U(ut))}}static{this.\u0275mod=nt({type:n})}static{this.\u0275inj=Xe({imports:[P_,P_]})}}return n})();const $Z=new X("MAT_DATE_LOCALE",{providedIn:"root",factory:function BLe(){return Z(gs)}});class GZ{constructor(){this._localeChanges=new lt,this.localeChanges=this._localeChanges}getValidDateOrNull(e){return this.isDateInstance(e)&&this.isValid(e)?e:null}deserialize(e){return null==e||this.isDateInstance(e)&&this.isValid(e)?e:this.invalid()}setLocale(e){this.locale=e,this._localeChanges.next()}compareDate(e,t){return this.getYear(e)-this.getYear(t)||this.getMonth(e)-this.getMonth(t)||this.getDate(e)-this.getDate(t)}sameDate(e,t){if(e&&t){let i=this.isValid(e),r=this.isValid(t);return i&&r?!this.compareDate(e,t):i==r}return e==t}clampDate(e,t,i){return t&&this.compareDate(e,t)<0?t:i&&this.compareDate(e,i)>0?i:e}}const ULe=new X("mat-date-formats"),zLe=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function MF(n,e){const t=Array(n);for(let i=0;i<n;i++)t[i]=e(i);return t}let jLe=(()=>{class n extends GZ{constructor(t){super(),this.useUtcForDisplay=!1,this._matDateLocale=Z($Z,{optional:!0}),void 0!==t&&(this._matDateLocale=t),super.setLocale(this._matDateLocale)}getYear(t){return t.getFullYear()}getMonth(t){return t.getMonth()}getDate(t){return t.getDate()}getDayOfWeek(t){return t.getDay()}getMonthNames(t){const i=new Intl.DateTimeFormat(this.locale,{month:t,timeZone:"utc"});return MF(12,r=>this._format(i,new Date(2017,r,1)))}getDateNames(){const t=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return MF(31,i=>this._format(t,new Date(2017,0,i+1)))}getDayOfWeekNames(t){const i=new Intl.DateTimeFormat(this.locale,{weekday:t,timeZone:"utc"});return MF(7,r=>this._format(i,new Date(2017,0,r+1)))}getYearName(t){const i=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(i,t)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(t){return this.getDate(this._createDateWithOverflow(this.getYear(t),this.getMonth(t)+1,0))}clone(t){return new Date(t.getTime())}createDate(t,i,r){let o=this._createDateWithOverflow(t,i,r);return o.getMonth(),o}today(){return new Date}parse(t,i){return"number"==typeof t?new Date(t):t?new Date(Date.parse(t)):null}format(t,i){if(!this.isValid(t))throw Error("NativeDateAdapter: Cannot format invalid date.");const r=new Intl.DateTimeFormat(this.locale,{...i,timeZone:"utc"});return this._format(r,t)}addCalendarYears(t,i){return this.addCalendarMonths(t,12*i)}addCalendarMonths(t,i){let r=this._createDateWithOverflow(this.getYear(t),this.getMonth(t)+i,this.getDate(t));return this.getMonth(r)!=((this.getMonth(t)+i)%12+12)%12&&(r=this._createDateWithOverflow(this.getYear(r),this.getMonth(r),0)),r}addCalendarDays(t,i){return this._createDateWithOverflow(this.getYear(t),this.getMonth(t),this.getDate(t)+i)}toIso8601(t){return[t.getUTCFullYear(),this._2digit(t.getUTCMonth()+1),this._2digit(t.getUTCDate())].join("-")}deserialize(t){if("string"==typeof t){if(!t)return null;if(zLe.test(t)){let i=new Date(t);if(this.isValid(i))return i}}return super.deserialize(t)}isDateInstance(t){return t instanceof Date}isValid(t){return!isNaN(t.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(t,i,r){const o=new Date;return o.setFullYear(t,i,r),o.setHours(0,0,0,0),o}_2digit(t){return("00"+t).slice(-2)}_format(t,i){const r=new Date;return r.setUTCFullYear(i.getFullYear(),i.getMonth(),i.getDate()),r.setUTCHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),t.format(r)}static{this.\u0275fac=function(i){return new(i||n)(U($Z,8))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac})}}return n})();const HLe={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};function $Le(n=HLe){return[{provide:GZ,useClass:jLe},{provide:ULe,useValue:n}]}var Do=function(n){return n[n.FADING_IN=0]="FADING_IN",n[n.VISIBLE=1]="VISIBLE",n[n.FADING_OUT=2]="FADING_OUT",n[n.HIDDEN=3]="HIDDEN",n}(Do||{});class GLe{constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=Do.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}}const qZ=Zg({passive:!0,capture:!0});class qLe{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=Vl(e);t&&this._events.get(e.type)?.forEach((i,r)=>{(r===t||r.contains(t))&&i.forEach(o=>o.handleEvent(e))})}}addHandler(e,t,i,r){const o=this._events.get(t);if(o){const s=o.get(i);s?s.add(r):o.set(i,new Set([r]))}else this._events.set(t,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,qZ)})}removeHandler(e,t,i){const r=this._events.get(e);if(!r)return;const o=r.get(t);o&&(o.delete(i),0===o.size&&r.delete(t),0===r.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,qZ)))}}const WZ={enterDuration:225,exitDuration:150},KZ=Zg({passive:!0,capture:!0}),YZ=["mousedown","touchstart"],QZ=["mouseup","mouseleave","touchend","touchcancel"];class sC{static{this._eventManager=new qLe}constructor(e,t,i,r){this._target=e,this._ngZone=t,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Tf(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...WZ,...i.animation};i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const s=i.radius||function KLe(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),a=e-r.left,l=t-r.top,c=o.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=a-s+"px",u.style.top=l-s+"px",u.style.height=2*s+"px",u.style.width=2*s+"px",null!=i.color&&(u.style.backgroundColor=i.color),u.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(u);const d=window.getComputedStyle(u),m=d.transitionDuration,y="none"===d.transitionProperty||"0s"===m||"0s, 0s"===m||0===r.width&&0===r.height,C=new GLe(this,u,i,y);u.style.transform="scale3d(1, 1, 1)",C.state=Do.FADING_IN,i.persistent||(this._mostRecentTransientRipple=C);let T=null;return!y&&(c||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const S=()=>this._finishRippleTransition(C),D=()=>this._destroyRipple(C);u.addEventListener("transitionend",S),u.addEventListener("transitioncancel",D),T={onTransitionEnd:S,onTransitionCancel:D}}),this._activeRipples.set(C,T),(y||!c)&&this._finishRippleTransition(C),C}fadeOutRipple(e){if(e.state===Do.FADING_OUT||e.state===Do.HIDDEN)return;const t=e.element,i={...WZ,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=Do.FADING_OUT,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Tf(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,YZ.forEach(i=>{sC._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{QZ.forEach(t=>{this._triggerElement.addEventListener(t,this,KZ)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===Do.FADING_IN?this._startFadeOutTransition(e):e.state===Do.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=Do.VISIBLE,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=Do.HIDDEN,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=bZ(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!yZ(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;if(t)for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(e.state===Do.VISIBLE||e.config.terminateOnPointerUp&&e.state===Do.FADING_IN)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(YZ.forEach(t=>sC._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&QZ.forEach(t=>e.removeEventListener(t,this,KZ)))}}const XZ=new X("mat-ripple-global-options");let YLe=(()=>{class n{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,i,r,o,s){this._elementRef=t,this._animationMode=s,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new sC(this,i,t,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}static{this.\u0275fac=function(i){return new(i||n)(E(Bt),E(Te),E(Ti),E(XZ,8),E(rs,8))}}static{this.\u0275dir=me({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,r){2&i&&br("mat-ripple-unbounded",r.unbounded)},inputs:{color:[We.None,"matRippleColor","color"],unbounded:[We.None,"matRippleUnbounded","unbounded"],centered:[We.None,"matRippleCentered","centered"],radius:[We.None,"matRippleRadius","radius"],animation:[We.None,"matRippleAnimation","animation"],disabled:[We.None,"matRippleDisabled","disabled"],trigger:[We.None,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0})}}return n})(),QLe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=nt({type:n})}static{this.\u0275inj=Xe({imports:[Ar,Ar]})}}return n})();const ZZ={capture:!0},JZ=["focus","click","mouseenter","touchstart"],DF="mat-ripple-loader-uninitialized",SF="mat-ripple-loader-class-name",eJ="mat-ripple-loader-centered",aC="mat-ripple-loader-disabled";let XLe=(()=>{class n{constructor(){this._document=Z(ut,{optional:!0}),this._animationMode=Z(rs,{optional:!0}),this._globalRippleOptions=Z(XZ,{optional:!0}),this._platform=Z(Ti),this._ngZone=Z(Te),this._hosts=new Map,this._onInteraction=t=>{if(!(t.target instanceof HTMLElement))return;const r=t.target.closest(`[${DF}]`);r&&this._createRipple(r)},this._ngZone.runOutsideAngular(()=>{for(const t of JZ)this._document?.addEventListener(t,this._onInteraction,ZZ)})}ngOnDestroy(){const t=this._hosts.keys();for(const i of t)this.destroyRipple(i);for(const i of JZ)this._document?.removeEventListener(i,this._onInteraction,ZZ)}configureRipple(t,i){t.setAttribute(DF,""),(i.className||!t.hasAttribute(SF))&&t.setAttribute(SF,i.className||""),i.centered&&t.setAttribute(eJ,""),i.disabled&&t.setAttribute(aC,"")}getRipple(t){return this._hosts.get(t)||this._createRipple(t)}setDisabled(t,i){const r=this._hosts.get(t);r?r.disabled=i:i?t.setAttribute(aC,""):t.removeAttribute(aC)}_createRipple(t){if(!this._document)return;const i=this._hosts.get(t);if(i)return i;t.querySelector(".mat-ripple")?.remove();const r=this._document.createElement("span");r.classList.add("mat-ripple",t.getAttribute(SF)),t.append(r);const o=new YLe(new Bt(r),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return o._isInitialized=!0,o.trigger=t,o.centered=t.hasAttribute(eJ),o.disabled=t.hasAttribute(aC),this.attachRipple(t,o),o}attachRipple(t,i){t.removeAttribute(DF),this._hosts.set(t,i)}destroyRipple(t){const i=this._hosts.get(t);i&&(i.ngOnDestroy(),this._hosts.delete(t))}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const ZLe=new X("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{const n=Z(Io);return()=>n.scrollStrategies.reposition({scrollThrottle:20})}}),e3e={provide:ZLe,deps:[Io],useFactory:function JLe(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}};let n3e=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=nt({type:n})}static{this.\u0275inj=Xe({providers:[e3e],imports:[BFe,bs,ALe,Ar,Ar,xF]})}}return n})(),i3e=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=nt({type:n})}static{this.\u0275inj=Xe({providers:[$Le(),bI],imports:[bs,Y2e,Jp,$w,n3e]})}}return n})();function r3e(n,e){if(1&n){const t=Tt();p(0,"tr")(1,"td",4),g(2),f(),p(3,"td",4),g(4),f(),p(5,"td",4),g(6),f(),p(7,"td")(8,"button",5),B("click",function(){const o=Re(t).$implicit;return Ne(Rt().editUser(o.email))}),f()()()}if(2&n){const t=e.$implicit;N(2),je(t.nombre),N(2),je(t.email),N(2),je(t.role)}}let o3e=(()=>{class n{constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.data=[],this.getData()}ngOnInit(){}NewUser(){this.router.navigate(["/admin/user-new"])}getData(){const t=_e(this.firestore,"users");he(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}updateData(t,i){const r=De(this.firestore,"users",t);Xi(r,{email:i.email,nombre:i.nombre,password:i.password,role:i.role}).then(()=>{alert("Data updated"),this.getData()}).catch(o=>{alert(o.message)})}deleteData(t){if(1==confirm("Seguro que desea eliminar este usuario?")){const r=De(this.firestore,"users",t);Pn(r).then(()=>{alert("Data Deleted"),this.getData()}).catch(o=>{alert(o.message)})}}handleSignOut(){wi(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}Home(){this.router.navigate(["admin"])}Projectos(){this.router.navigate(["admin"])}Muestras(){this.router.navigate(["admin"])}editUser(t){this.router.navigate(["admin/user-edit/"+t])}handleLogin(t){var i=this;return _(function*(){let r=t;const o=Ot(_e(i.firestore,"users"),Kt("email","==",r));(yield he(o)).forEach(a=>{a.data(),xO(i.auth,r,t.pass).then(function(){var u=_(function*(d){});return function(d){return u.apply(this,arguments)}}())})})()}deleteMyUser(t){var i=this;return _(function*(){let r,o=i.auth.currentUser?.email;console.log(i.auth.currentUser),r=" ",null==o&&(r=o),i.current=o;const s=Ot(_e(i.firestore,"users"),Kt("email","==",o));(yield he(s)).forEach(l=>{let u=l.data().password;i.key=u,i.handleLogin(t),console.log(i.auth.currentUser),xO(i.auth,r,u),console.log(i.auth.currentUser)})})()}getUserData(){var t=this;return _(function*(){let i=t.auth.currentUser?.email;t.current=i;const r=Ot(_e(t.firestore,"users"),Kt("email","==",t.current));(yield he(r)).forEach(s=>{let l=s.data().password;t.key=l})})()}static{this.\u0275fac=function(i){return new(i||n)(E(Me),E(mt),E(He),E(rt))}}static{this.\u0275cmp=ve({type:n,selectors:[["app-users"]],decls:17,vars:1,consts:[[1,"subTituloText"],[1,"list"],[4,"ngFor","ngForOf"],[1,"NewUser",3,"click"],["contenteditable","true"],[1,"edit",3,"click"]],template:function(i,r){1&i&&(p(0,"p"),g(1,"users works!"),f(),p(2,"h1",0),g(3,"Usuarios"),f(),p(4,"div",1)(5,"table")(6,"tr")(7,"th"),g(8," Nombre "),f(),p(9,"th"),g(10," Email "),f(),p(11,"th"),g(12," Rol "),f(),$(13,"th"),f(),hn(14,r3e,9,3,"tr",2),f(),p(15,"button",3),B("click",function(){return r.NewUser()}),g(16," Crear Usuario "),f()()),2&i&&(N(14),ct("ngForOf",r.data))},dependencies:[yo],styles:[".list[_ngcontent-%COMP%]{position:absolute;top:18em;min-width:526px;left:clamp(350px,calc(50% - 263px),100%)}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}button[_ngcontent-%COMP%]{border:none;background-color:#3eb3c2;color:#fff;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px;width:100px;height:40px;margin:10px}.red[_ngcontent-%COMP%]{background-color:#c23e3e}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;width:526px;height:10%;vertical-align:middle;line-height:250%;font-family:Verdana;text-align:center;font-size:48px;letter-spacing:0;top:3em;left:clamp(350px,calc(50% - 263px),100%)}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.NewUser[_ngcontent-%COMP%]{width:140px;position:absolute;right:0}@media only screen and (max-width: 768px){.homeBox[_ngcontent-%COMP%]{background-color:#0a9217;border-right:4px solid white;width:20%;height:15%;position:absolute;left:0;top:0%}.homeText[_ngcontent-%COMP%], .homeLogo[_ngcontent-%COMP%]{display:none}.tituloBox[_ngcontent-%COMP%]{background-color:#0a9217;width:80%;height:15%;position:absolute;left:20%;top:0%;text-align:center}.tituloText[_ngcontent-%COMP%]{color:#fff;line-height:1.6;display:inline-block;vertical-align:middle;font-family:Verdana;font-size:32px;letter-spacing:0px}.navbar2Box[_ngcontent-%COMP%]{width:100%;height:66px;background:#fff;box-shadow:0 0 6px 10px #00000040;position:absolute;left:0%;top:15%}.navbar2Text[_ngcontent-%COMP%]{height:28px;color:#000;font-size:8px;font-family:Verdana;font-weight:600;word-wrap:break-word;text-align:center;display:inline-block;vertical-align:middle;line-height:1.6;padding-top:7px;padding-left:0}.center[_ngcontent-%COMP%]{position:relative;top:18%}#cerrarText[_ngcontent-%COMP%]{cursor:pointer;width:15%;position:absolute;left:0%;top:15%;padding-left:3%;border-right:2px solid white}#ProyectosText[_ngcontent-%COMP%]{visibility:hidden;cursor:pointer;width:20%;position:absolute;left:15%;top:15%;border-right:2px solid white}#UnidadText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:20%;top:15%;border-right:2px solid white}#MuestrasText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:40%;top:15%;border-right:2px solid white}#ClientesText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:80%;top:15%;border-right:2px solid white}#CodigoText[_ngcontent-%COMP%]{cursor:pointer;width:15%;position:absolute;left:80%;top:15%;padding-left:3%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:15%;left:0%;top:0%}img[_ngcontent-%COMP%]{position:relative;top:0;width:20px;height:20px}br[_ngcontent-%COMP%]{display:inline}.list[_ngcontent-%COMP%]{position:absolute;left:clamp(0px,5%,100%);top:40%;text-overflow:ellipsis;min-width:0;width:90%}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse;min-width:0;width:100%}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;left:0%;top:28%;text-align:center;min-width:none;width:100%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}button[_ngcontent-%COMP%]{border:none;background-color:#3eb3c2;color:#fff;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;padding:10px;margin:15px 5px 5px;border-radius:30px}.NewUser[_ngcontent-%COMP%]{width:100px;position:absolute;right:0}}"]})}}return n})(),s3e=(()=>{class n{constructor(t,i,r,o){this.auth=t,this.firestore=i,this.router=r,this.location=o,this.title="gestion-de-muestras-de-campo",this.data=[],this.getData()}Login(){this.router.navigate(["/auth/login"])}Users(){this.router.navigate(["/admin/users"])}handleRegister(t){g$(this.auth,t.email,t.password).then(i=>{console.log(i.user)}).catch(i=>{alert("Email no valido")}),this.addData(t),this.Users()}addData(t){const i=De(this.firestore,"users",t.email);t.password==t.confirmpassword?"Investigador"==t.role||"Cliente"==t.role?Co(i,{email:t.email,role:t.role,password:t.password}).then(()=>{alert("Data Sent")}).catch(r=>{alert(r.message)}):alert("Rol no reconocido"):alert("Claves No Iguales")}getData(){const t=_e(this.firestore,"users");he(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}Salir(){wi(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}backPage(){this.location.back()}static{this.\u0275fac=function(i){return new(i||n)(E(He),E(rt),E(Me),E(Ln))}}static{this.\u0275cmp=ve({type:n,selectors:[["app-user-new"]],decls:36,vars:0,consts:[[1,"loginBox"],[1,"loginTile"],[1,"lineBlack"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"userText"],["name","email","ngModel","","placeholder","Email","id","email","type","email",1,"input-field"],[1,"roleText"],["list","roles","name","role","ngModel","","placeholder","Roles","id","role","type","role",1,"input-field"],["value","","disabled","","selected",""],["value","Investigador"],["value","Cliente"],["value","Administrador"],[1,"claveText"],["name","password","ngModel","","placeholder","Clave","id","password","type","password",1,"input-field"],[1,"clave2Text"],["name","confirmpassword","ngModel","","placeholder","Confirmar Clave","id","confirmpassword","type","password",1,"input-field"],[1,"boton"],["type","button","id","volver",1,"boton",3,"click"]],template:function(i,r){if(1&i){const o=Tt();p(0,"p"),g(1,"user-new works!"),f(),$(2,"div",0),p(3,"span",1),g(4,"Registrar"),f(),$(5,"div",2),p(6,"form",3,4),B("ngSubmit",function(){Re(o);const a=fn(7);return Ne(r.handleRegister(a.value))}),p(8,"div",5)(9,"div",6)(10,"span",7),g(11,"Email:"),f(),$(12,"input",8),f(),p(13,"div",6)(14,"span",9),g(15,"Roles:"),f(),p(16,"select",10)(17,"option",11),g(18,"Seleccione un Rol del usuario"),f(),p(19,"option",12),g(20," Investigador "),f(),p(21,"option",13),g(22," Cliente "),f(),p(23,"option",14),g(24," Administrador "),f()()(),p(25,"div",6)(26,"span",15),g(27,"Clave:"),f(),$(28,"input",16),f(),p(29,"div",6)(30,"span",17),g(31,"Confirmar Clave:"),f(),$(32,"input",18),f(),p(33,"button",19),g(34,"Sign Up"),f(),p(35,"button",20),B("click",function(){return r.backPage()}),f()()()}},dependencies:[ai,la,ca,sr,vs,Vr,si,Cr,Vn],styles:[".input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}.main[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;width:600px;height:400px;position:absolute;top:37%;left:clamp(350px,calc(50% - 300px),100%)}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:600px;height:375px;position:absolute;top:37%;left:clamp(350px,calc(50% - 300px),100%)}.loginTile[_ngcontent-%COMP%]{color:#000;width:600px;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;top:39.5%;left:clamp(350px,calc(50% - 300px),100%)}.lineBlack[_ngcontent-%COMP%]{width:600px;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);top:45%;left:clamp(350px,calc(50% - 300px),100%)}#email[_ngcontent-%COMP%]{width:300px;height:26px;margin-left:5px}.userText[_ngcontent-%COMP%]{color:#000;margin-left:93px;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0}#password[_ngcontent-%COMP%]{width:300px;height:26px;margin-left:5px}.claveText[_ngcontent-%COMP%]{color:#000;margin-left:93px;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0}#role[_ngcontent-%COMP%]{width:300px;height:26px;margin-left:5px;color:#757575}.roleText[_ngcontent-%COMP%]{color:#000;margin-left:93px;width:150px;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0}#confirmpassword[_ngcontent-%COMP%]{width:300px;height:26px;margin-left:5px}.clave2Text[_ngcontent-%COMP%]{color:#000;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;width:80px;height:35px;border-width:0;border-radius:30px;font-size:16px;position:absolute;left:72%;top:75%}.botonText[_ngcontent-%COMP%]{color:#fff;width:80px;height:35px;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;position:absolute;left:72%;top:75%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}#volver[_ngcontent-%COMP%]{font-size:16px;position:absolute;left:5%;top:75%;background:none;border:none;width:50px;height:50px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(back-button-Edit4.8567daeed3ab1418.png)}@media only screen and (max-width: 768px){.main[_ngcontent-%COMP%]{display:flex;width:100vw;height:100vh;justify-content:center;align-items:center;flex-direction:column;transform:none;top:0%;left:0%}.input-fields[_ngcontent-%COMP%]{margin:10px;left:0%}.input-field[_ngcontent-%COMP%]{width:300px;height:20px;left:0%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:320px;height:548px;transform:none;position:absolute;left:15%;top:25%}.loginTile[_ngcontent-%COMP%]{color:#000;width:75%;height:20%;transform:none;position:absolute;font-family:Arial;text-align:center;font-size:24px;letter-spacing:0;left:16%;top:26%}.lineBlack[_ngcontent-%COMP%]{width:75%;height:0px;transform:none;position:absolute;border:1px solid rgba(0,0,0,1);left:15%;top:32%}#email[_ngcontent-%COMP%]{width:60%;height:3%;position:absolute;left:20%;top:40%}.userText[_ngcontent-%COMP%]{color:#000;width:10%;height:5%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:0%;top:35%}#role[_ngcontent-%COMP%]{width:60%;height:3%;position:absolute;left:20%;top:50%}.roleText[_ngcontent-%COMP%]{color:#000;width:15%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:0%;top:45%}#password[_ngcontent-%COMP%]{width:60%;height:3%;position:absolute;left:20%;top:60%}.claveText[_ngcontent-%COMP%]{color:#000;width:10%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:0%;top:55%}#confirmpassword[_ngcontent-%COMP%]{width:60%;height:3%;position:absolute;left:20%;top:70%}.clave2Text[_ngcontent-%COMP%]{color:#000;width:60%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:20%;top:65%}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:60%;top:74}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:14px;letter-spacing:0;left:60%;top:59.8%}#volver[_ngcontent-%COMP%]{left:20%;top:75%;width:45px;height:45px}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:15%;left:0%;top:0%}}"]})}}return n})();const a3e=["geo"];let l3e=(()=>{class n{static{this.text=""}constructor(t,i,r,o,s){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.location=s,this.title="gestion-de-muestras-de-campo",this.data=[],this.res="",this.somethingChange=new qe}ngOnInit(){this.route.params.subscribe(t=>{this.x=t.id,console.log(t),console.log(t.id)}),this.getData(),this.MyQuery()}handleRegister(t){this.addData(t),this.backPage()}addData(t){var i=this;return _(function*(){const r=De(i.firestore,"users",t.email);Xi(r,{email:t.email,nombre:t.nombre,role:t.role,password:t.password}).then(()=>{alert("Data Sent")}).catch(o=>{alert(o.message)}),console.log(i.pid)})()}getData(){const t=_e(this.firestore,"clientes");he(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude),n.text=t.coords.latitude+", "+t.coords.longitude}getLocation(){var t=this;return _(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{t.res=n.text,console.log(t.res)},1e3)})()}MyQuery(){var t=this;return _(function*(){let i=t.x;const r=Ot(_e(t.firestore,"users"),Kt("email","==",i)),o=yield he(r);o.empty||o.forEach(s=>{t.item=s.data(),console.log(s.id," => ",s.data()),t.res=t.item.coordenadas,t.pid=t.item.project})})()}deleteData(t){const r=De(this.firestore,"users",this.x);Pn(r).then(()=>{alert("Data Deleted"),this.location.back()}).catch(o=>{alert(o.message)})}Home(){this.router.navigate(["user/unidad-produccion-all"])}backPage(){this.location.back()}static{this.\u0275fac=function(i){return new(i||n)(E(Me),E(mt),E(He),E(rt),E(Ln))}}static{this.\u0275cmp=ve({type:n,selectors:[["app-user-edit"]],viewQuery:function(i,r){if(1&i&&Qn(a3e,5),2&i){let o;Sn(o=An())&&(r.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:41,vars:4,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],["name","email","ngModel","","placeholder","Email","id","emai","type","email",1,"input-field",3,"ngModel","ngModelChange"],["name","nombre","ngModel","","placeholder","Nombre","id","nombre","type","nombre",1,"input-field",3,"ngModel","ngModelChange"],["list","roles","name","role","ngModel","","placeholder","Roles","id","role","type","role",1,"input-field",3,"ngModel","ngModelChange"],["value","","disabled","","selected",""],["value","Investigador"],["value","Cliente"],["value","Administrador"],["name","password","ngModel","","placeholder","Password","id","password","type","password",1,"input-field",3,"ngModel","ngModelChange"],[1,"clave2Text"],["name","confirmpassword","ngModel","","placeholder","Confirmar Clave","id","confirmpassword","type","password",1,"input-field"],[1,"boton"],["type","button",1,"botonrojo",3,"click"],["type","button","id","volver",1,"boton",3,"click"]],template:function(i,r){if(1&i){const o=Tt();p(0,"p"),g(1,"user-edit works!"),f(),p(2,"h1",0),g(3,"Editar Usuario"),f(),p(4,"div",1)(5,"form",2,3),B("ngSubmit",function(){Re(o);const a=fn(6);return Ne(r.handleRegister(a.value))}),p(7,"div",4)(8,"div",5)(9,"span",6),g(10,"Email:"),f(),p(11,"input",7),Ye("ngModelChange",function(a){return Ze(r.item.email,a)||(r.item.email=a),a}),f()(),p(12,"div",5)(13,"span",6),g(14,"Nombre:"),f(),p(15,"input",8),Ye("ngModelChange",function(a){return Ze(r.item.nombre,a)||(r.item.nombre=a),a}),f()(),p(16,"div",5)(17,"span",6),g(18,"Role:"),f(),p(19,"select",9),Ye("ngModelChange",function(a){return Ze(r.item.role,a)||(r.item.role=a),a}),p(20,"option",10),g(21,"Seleccione un Rol del usuario"),f(),p(22,"option",11),g(23," Investigador "),f(),p(24,"option",12),g(25," Cliente "),f(),p(26,"option",13),g(27," Administrador "),f()()(),p(28,"div",5)(29,"span",6),g(30,"Clave:"),f(),p(31,"input",14),Ye("ngModelChange",function(a){return Ze(r.item.password,a)||(r.item.password=a),a}),f()(),p(32,"div",5)(33,"span",15),g(34,"Confirmar Clave:"),f(),$(35,"input",16),f(),p(36,"button",17),g(37,"Guardar"),f(),p(38,"button",18),B("click",function(){return r.deleteData(r.item.id)}),g(39," Eliminar "),f(),p(40,"button",19),B("click",function(){return r.backPage()}),f()()()()}2&i&&(N(11),Ke("ngModel",r.item.email),N(4),Ke("ngModel",r.item.nombre),N(4),Ke("ngModel",r.item.role),N(12),Ke("ngModel",r.item.password))},dependencies:[ai,la,ca,sr,vs,Vr,si,Cr,Vn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;min-height:260px;min-width:620px;position:absolute;left:50%;top:27%;left:clamp(350px,calc(50% - 310px),100%);margin:25px auto;padding:20px;display:flex;flex-shrink:0;flex-direction:column;justify-content:flex-start;align-items:center}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:3%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:85%;height:20px;left:92px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;min-width:375px;top:18%;text-align:center;min-width:620px;left:clamp(350px,calc(50% - 310px),100%)}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.clave2Text[_ngcontent-%COMP%]{color:#000;width:190px;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:80%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.botonrojo[_ngcontent-%COMP%]{margin:2%;background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:55%;top:100%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}#volver[_ngcontent-%COMP%]{font-size:16px;position:absolute;left:0%;top:98%;background:none;border:none;width:50px;height:50px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(back-button-Edit4.8567daeed3ab1418.png)}@media only screen and (max-width: 768px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;min-width:0px;width:calc(90% - 40px);min-height:0px;height:300px;flex-shrink:0;transform:none;position:absolute;top:40%;left:5%}.input-fields[_ngcontent-%COMP%]{font-size:12px}.main[_ngcontent-%COMP%]{width:90%;height:100%;flex-shrink:0;margin-left:5px;margin-top:5px;position:absolute;top:0%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:14px;letter-spacing:0}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;inset:auto 0 50px auto;border:none;background-color:#3eb3c2;color:#fff;margin:20px 10px;padding:0;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;margin:20px 10px;padding:0;inset:auto 0 0 auto}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;margin:0;min-width:0px;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;transform:none;position:absolute;top:30%;left:0%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}#volver[_ngcontent-%COMP%]{width:45px;height:45px;left:0%;margin:20px 0;top:auto;bottom:20px}}"]})}}return n})(),c3e=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=ve({type:n,selectors:[["app-land"]],standalone:!0,features:[or],decls:5,vars:0,consts:[[1,"subTituloText"],[1,"rectangle"],[1,"infoText"]],template:function(i,r){1&i&&(p(0,"h1",0),g(1," \xa1Bienvenido!"),f(),p(2,"div",1)(3,"p",2),g(4," Su funci\xf3n principal como Administrador es mantener la integridad y seguridad del sistema mediante la gesti\xf3n del acceso de usuarios. El M\xf3dulo de Administrador le permite crear sin esfuerzo nuevas cuentas de usuario, asignar roles espec\xedficos como Investigador o Cliente, y actualizar o eliminar permanentemente usuarios existentes. Este control garantiza que solo el personal autorizado tenga el acceso apropiado, lo cual es crucial para administrar la seguridad general y la eficiencia operativa de la aplicaci\xf3n. "),f()())},styles:[".subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;width:338px;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;left:clamp(350px,calc(50% - 169px),100%);top:188px}.infoText[_ngcontent-%COMP%]{color:#000;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;font-weight:400;margin:20px;text-align:justify;width:670px;height:417px;position:absolute;top:282px;left:clamp(350px,calc(50% - 325px),100%)}@media only screen and (max-width: 768px){.infoText[_ngcontent-%COMP%]{width:auto;height:auto;position:absolute;top:220px;left:0;margin:15px 10px 10px;padding-left:15px;font-family:Arial;text-align:left;font-size:16px;letter-spacing:0;font-weight:400}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;margin:0;height:auto;font-family:Verdana;font-size:26px;letter-spacing:0;transform:none;position:absolute;padding-top:8px;text-align:center;top:180px;left:0%;min-width:0px;width:100vw}}"]})}}return n})(),nJ=(()=>{class n{constructor(t,i,r){this.auth=t,this.router=i,this.firestore=r}canActivateChild(t,i){return this.checkLogin(i.url)}canActivate(t,i){return this.checkLogin(i.url)}checkLogin(t){var i=this;return _(function*(){let r=i.auth.currentUser;return!(!r||!(yield i.checkRole(r.email)))||(i.router.navigate(["/"]),!1)})()}checkRole(t){var i=this;return _(function*(){const r=Ot(_e(i.firestore,"users"),Kt("email","==",t));let o=!1;return(yield he(r)).forEach(a=>{"Adminitrador"==a.data().role&&(o=!0)}),o})()}static{this.\u0275fac=function(i){return new(i||n)(U(He),U(Me),U(rt))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const u3e=[{path:"admin",component:QK,canActivate:[nJ],canActivateChild:[nJ],children:[{path:"users",component:o3e},{path:"user-new",component:s3e},{path:"user-edit/:id",component:l3e},{path:"muestras/:up",component:iX},{path:"muestras-all",component:XX},{path:"muestras-new/:id",component:LX},{path:"muestras-edit/:id",component:YX},{path:"muestras-info/:id",component:QX},{path:"barcode/:id",component:rX},{path:"barcode-cantidad/:id",component:iZ},{path:"barcode-new",component:rZ},{path:"unidad-produccion-all",component:eZ},{path:"clients",component:ZX},{path:"clients-new",component:JX},{path:"clients-edit/:id",component:tZ},{path:"clients-info/:id",component:nZ},{path:"resultados",component:oZ},{path:"scan",component:KX},{path:"land",component:c3e}]}];let d3e=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=nt({type:n})}static{this.\u0275inj=Xe({imports:[Ur.forChild(u3e),Ur]})}}return n})(),h3e=(()=>{class n{Hello(){}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=nt({type:n})}static{this.\u0275inj=Xe({imports:[d3e,DN,bs,Jp,$w,Ur]})}}return n})();const Df=new en(kf),p3e={connector:()=>new lt};function iJ(n,e=p3e){const{connector:t}=e;return Mn((i,r)=>{const o=t();ji(n(function f3e(n){return new en(e=>n.subscribe(e))}(o))).subscribe(r),r.add(i.subscribe(o))})}function rJ(n,e){return e?t=>Hd(e.pipe(xn(1),function _3e(){return Mn((n,e)=>{n.subscribe(bn(e,kf))})}()),t.pipe(rJ(n))):Ii((t,i)=>ji(n(t,i)).pipe(xn(1),fj(t)))}const V_="Service workers are disabled or not supported by this browser";class lC{constructor(e){if(this.serviceWorker=e,e){const i=k_(e,"controllerchange").pipe(Le(()=>e.controller)),o=Hd($d(()=>we(e.controller)),i);this.worker=o.pipe(ln(u=>!!u)),this.registration=this.worker.pipe(Br(()=>e.getRegistration()));const c=k_(e,"message").pipe(Le(u=>u.data)).pipe(ln(u=>u&&u.type)).pipe(function g3e(n){return n?e=>iJ(n)(e):e=>function m3e(n,e){const t=xt(n)?n:()=>n;return xt(e)?iJ(e,{connector:t}):i=>new sM(i,t)}(new lt)(e)}());c.connect(),this.events=c}else this.worker=this.events=this.registration=function y3e(n){return $d(()=>Gd(new Error(n)))}(V_)}postMessage(e,t){return this.worker.pipe(xn(1),Bn(i=>{i.postMessage({action:e,...t})})).toPromise().then(()=>{})}postMessageWithOperation(e,t,i){const r=this.waitForOperationCompleted(i),o=this.postMessage(e,t);return Promise.all([o,r]).then(([,s])=>s)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(e){let t;return t="string"==typeof e?i=>i.type===e:i=>e.includes(i.type),this.events.pipe(ln(t))}nextEventOfType(e){return this.eventsOfType(e).pipe(xn(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(ln(t=>t.nonce===e),xn(1),Le(t=>{if(void 0!==t.result)return t.result;throw new Error(t.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let oJ=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,this.pushManager=null,this.subscriptionChanges=new lt,!t.isEnabled)return this.messages=Df,this.notificationClicks=Df,void(this.subscription=Df);this.messages=this.sw.eventsOfType("PUSH").pipe(Le(r=>r.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(Le(r=>r.data)),this.pushManager=this.sw.registration.pipe(Le(r=>r.pushManager));const i=this.pushManager.pipe(Br(r=>r.getSubscription()));this.subscription=R_(i,this.subscriptionChanges)}requestSubscription(t){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(V_));const i={userVisibleOnly:!0};let r=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),o=new Uint8Array(new ArrayBuffer(r.length));for(let s=0;s<r.length;s++)o[s]=r.charCodeAt(s);return i.applicationServerKey=o,this.pushManager.pipe(Br(s=>s.subscribe(i)),xn(1)).toPromise().then(s=>(this.subscriptionChanges.next(s),s))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(xn(1),Br(i=>{if(null===i)throw new Error("Not subscribed to push notifications.");return i.unsubscribe().then(r=>{if(!r)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(V_))}decodeBase64(t){return atob(t)}static{this.\u0275fac=function(i){return new(i||n)(U(lC))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac})}}return n})(),sJ=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,!t.isEnabled)return this.versionUpdates=Df,void(this.unrecoverable=Df);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(V_));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(V_));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}static{this.\u0275fac=function(i){return new(i||n)(U(lC))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac})}}return n})();const aJ=new X("");function v3e(n,e,t,i){return()=>{if(!iv(i)||!("serviceWorker"in navigator)||!1===t.enabled)return;let r;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof t.registrationStrategy)r=t.registrationStrategy();else{const[s,...a]=(t.registrationStrategy||"registerWhenStable:30000").split(":");switch(s){case"registerImmediately":r=we(null);break;case"registerWithDelay":r=lJ(+a[0]||0);break;case"registerWhenStable":r=a[0]?R_(cJ(n),lJ(+a[0])):cJ(n);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${t.registrationStrategy}`)}}n.get(Te).runOutsideAngular(()=>r.pipe(xn(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:t.scope}).catch(s=>console.error("Service worker registration failed with:",s))))}}function lJ(n){return we(null).pipe(function b3e(n,e=xm){const t=yF(n,e);return rJ(()=>t)}(n))}function cJ(n){return n.get(ms).isStable.pipe(ln(t=>t))}function x3e(n,e){return new lC(iv(e)&&!1!==n.enabled?navigator.serviceWorker:void 0)}class AF{}function w3e(n,e={}){return function Tb(n){return{\u0275providers:n}}([oJ,sJ,{provide:aJ,useValue:n},{provide:AF,useValue:e},{provide:lC,useFactory:x3e,deps:[AF,po]},{provide:Up,useFactory:v3e,deps:[qt,aJ,AF,po],multi:!0}])}let C3e=(()=>{class n{static register(t,i={}){return{ngModule:n,providers:[w3e(t,i)]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=nt({type:n})}static{this.\u0275inj=Xe({providers:[oJ,sJ]})}}return n})();function E3e(n,e){if(1&n){const t=Tt();p(0,"tr")(1,"td"),g(2),f(),p(3,"td"),g(4),f(),p(5,"td"),g(6),f(),p(7,"td")(8,"button",3),B("click",function(){const o=Re(t).$implicit;return Ne(Rt().Muestras(o.name))}),f()()()}if(2&n){const t=e.$implicit;N(2),je(t.name),N(2),je(t.owner),N(2),je(t.integrantes)}}let T3e=(()=>{class n{constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.data=[],this.list=[],this.email="",this.getData(),this.MyQuery()}getData(){const t=Ea();bl(t,r=>{r&&(console.log(r.email),r.email&&(this.email=r.email))});const i=_e(this.firestore,"projects");he(i).then(r=>{this.data=[...r.docs.map(o=>({...o.data(),id:o.id}))]})}updateData(t){const i=De(this.firestore,"projects",t);Xi(i,{}).then(()=>{alert("Data updated"),this.getData()}).catch(r=>{alert(r.message)})}deleteData(t){const i=De(this.firestore,"projects",t);Pn(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}newProject(){this.router.navigate(["user/project-new"])}EditProject(){this.router.navigate(["user/project-new"])}Muestras(t){this.router.navigate(["client/muestras/"+t])}editProyecto(t){this.router.navigate(["user/project-edit/"+t])}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["user/projects"])}logOut(){wi(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}MyQuery(){var t=this;return _(function*(){const i=Ea();let r;r="",console.log(i),bl(i,function(){var o=_(function*(s){if(s&&(console.log(s.email),s.email)){r=s.email;const a=Ot(_e(t.firestore,"projects"),Kt("cliente","==",r));he(a).then(c=>{t.data=[...c.docs.map(u=>({...u.data(),id:u.id}))]});const l=yield he(a);console.log(l),l.forEach(c=>{console.log(c.id," => ",c.data()),console.log("here2")}),console.log(t.data.length),console.log(t.data),console.log(t.data[0].cliente)}});return function(s){return o.apply(this,arguments)}}())})()}static{this.\u0275fac=function(i){return new(i||n)(E(Me),E(mt),E(He),E(rt))}}static{this.\u0275cmp=ve({type:n,selectors:[["app-projects"]],decls:15,vars:1,consts:[[1,"subTituloText"],[1,"list"],[4,"ngFor","ngForOf"],[1,"muestras",3,"click"]],template:function(i,r){1&i&&(p(0,"p"),g(1,"projects works!"),f(),p(2,"h1",0),g(3,"Proyectos"),f(),p(4,"div",1)(5,"table")(6,"tr")(7,"th"),g(8," Nombre "),f(),p(9,"th"),g(10," Due\xf1o "),f(),p(11,"th"),g(12," Integrantes"),f(),$(13,"th"),f(),hn(14,E3e,9,3,"tr",2),f()()),2&i&&(N(14),ct("ngForOf",r.data))},dependencies:[yo],styles:[".list[_ngcontent-%COMP%]{position:absolute;left:25%;top:38%}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:153px;height:36px;left:49%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:126px;height:16px;left:50%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:300px;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;left:45%;top:20%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.list[_ngcontent-%COMP%]{position:absolute;margin:0;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.boton[_ngcontent-%COMP%]{position:absolute;left:80%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;left:30%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}.scanbutton[_ngcontent-%COMP%]{cursor:pointer;width:153px;height:36px;left:30%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}}"]})}}return n})();function I3e(n,e){if(1&n){const t=Tt();p(0,"tr")(1,"td"),g(2),f(),p(3,"td"),g(4),f(),p(5,"td"),g(6),f(),p(7,"td"),g(8),f(),p(9,"td")(10,"button",3),B("click",function(){const o=Re(t).$implicit;return Ne(Rt().infoMuestra(o.codigo))}),f()()()}if(2&n){const t=e.$implicit;N(2),je(t.codigo),N(2),je(t.fecha),N(2),je(t.cultivo),N(2),je(t.coordenadas)}}let M3e=(()=>{class n{constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.data=[],this.arr=[]}ngOnInit(){this.route.params.subscribe(t=>{this.up=t.up}),this.getData(),this.MyQuery()}getData(){const t=_e(this.firestore,"muestras");he(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}updateData(t){const i=De(this.firestore,"muestras",t);Xi(i,{}).then(()=>{alert("Data updated"),this.getData()}).catch(r=>{alert(r.message)})}deleteData(t){const i=De(this.firestore,"muestras",t);Pn(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["user/projects"])}logOut(){wi(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}newMuestra(){this.router.navigate(["user/muestras-new"])}editMuestra(t){this.router.navigate(["user/muestras-edit/"+t])}infoProject(t){this.router.navigate(["user/project-edit/"+t])}infoMuestra(t){this.router.navigate(["client/muestras-info/"+t])}MyQuery(){var t=this;return _(function*(){let i=t.up;const r=Ot(_e(t.firestore,"muestras"),Kt("unidad","==",i));he(r).then(s=>{t.data=[...s.docs.map(a=>({...a.data(),id:a.id}))],console.log(t.data.length)}),(yield he(r)).forEach(s=>{})})()}static{this.\u0275fac=function(i){return new(i||n)(E(Me),E(mt),E(He),E(rt))}}static{this.\u0275cmp=ve({type:n,selectors:[["app-muestras"]],decls:17,vars:1,consts:[[1,"subTituloText"],[1,"list"],[4,"ngFor","ngForOf"],[1,"detalles",3,"click"]],template:function(i,r){1&i&&(p(0,"p"),g(1,"muestras works!"),f(),p(2,"h1",0),g(3,"Muestras"),f(),p(4,"div",1)(5,"table")(6,"tr")(7,"th"),g(8," Codigo "),f(),p(9,"th"),g(10," Fecha "),f(),p(11,"th"),g(12," Cultivo"),f(),p(13,"th"),g(14," Coordenadas "),f(),$(15,"th"),f(),hn(16,I3e,11,4,"tr",2),f()()),2&i&&(N(16),ct("ngForOf",r.data))},dependencies:[yo],styles:[".list[_ngcontent-%COMP%]{position:absolute;left:38%;top:38%}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.projectBlock[_ngcontent-%COMP%]{width:auto;height:35px;background:#3ec28f;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:20px;font-weight:700;letter-spacing:0;cursor:pointer}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:153px;height:36px;left:49%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:126px;height:16px;left:50%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;width:300px;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;left:45%;top:20%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;margin-left:2px;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.list[_ngcontent-%COMP%]{position:absolute;left:5%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:80%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;left:25%;top:30%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}}return n})();function D3e(n,e){if(1&n){const t=Tt();p(0,"tr")(1,"td"),g(2),f(),p(3,"td"),g(4),f(),p(5,"td"),g(6),f(),p(7,"td"),g(8),f(),p(9,"td")(10,"button",3),B("click",function(){const o=Re(t).$implicit;return Ne(Rt().infoMuestra(o.codigo))}),f()()()}if(2&n){const t=e.$implicit;N(2),je(t.codigo),N(2),je(t.fecha),N(2),je(t.cultivo),N(2),je(t.coordenadas)}}let S3e=(()=>{class n{constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.data=[],this.arr=[],this.getData()}ngOnInit(){this.route.params.subscribe(t=>{this.item=t.id})}getData(){const t=_e(this.firestore,"muestras");he(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}updateData(t){const i=De(this.firestore,"muestras",t);Xi(i,{}).then(()=>{alert("Data updated"),this.getData()}).catch(r=>{alert(r.message)})}deleteData(t){const i=De(this.firestore,"muestras",t);Pn(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["user/projects"])}logOut(){wi(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}newMuestra(){this.router.navigate(["user/muestras-new"])}editMuestra(t){this.router.navigate(["user/muestras-edit/"+t])}infoProject(t){this.router.navigate(["user/project-edit/"+t])}infoMuestra(t){this.router.navigate(["client/muestras-info/"+t])}MyQuery(){var t=this;return _(function*(){const i=Ea();let r,o=[];r="",bl(i,function(){var s=_(function*(a){if(a&&(console.log(a.email),a.email)){r=a.email;const d=Ot(_e(t.firestore,"projects"),Kt("cliente","==",r));he(d).then(y=>{t.dataTem=[...y.docs.map(C=>({...C.data(),id:C.id}))]}),(yield he(d)).forEach(y=>{}),console.log(t.dataTem.length),console.log(t.dataTem[0].name);let m=t.dataTem.length;console.log(m);for(let y=0;y<m;y++)console.log(t.dataTem[y].name),o.push(t.dataTem[y].name);console.log(o)}console.log("next"),console.log(o),t.pid=t.item;const c=Ot(_e(t.firestore,"muestras"),Kt("project","in",o));he(c).then(d=>{t.data=[...d.docs.map(h=>({...h.data(),id:h.id}))]}),(yield he(c)).forEach(d=>{console.log(d.id," => ",d.data())})});return function(a){return s.apply(this,arguments)}}())})()}static{this.\u0275fac=function(i){return new(i||n)(E(Me),E(mt),E(He),E(rt))}}static{this.\u0275cmp=ve({type:n,selectors:[["app-muestras-all"]],decls:17,vars:1,consts:[[1,"subTituloText"],[1,"list"],[4,"ngFor","ngForOf"],[1,"detalles",3,"click"]],template:function(i,r){1&i&&(p(0,"p"),g(1,"muestras-all works!"),f(),p(2,"h1",0),g(3,"Muestras"),f(),p(4,"div",1)(5,"table")(6,"tr")(7,"th"),g(8," Codigo "),f(),p(9,"th"),g(10," Fecha "),f(),p(11,"th"),g(12," Cultivo"),f(),p(13,"th"),g(14," Coordenadas "),f(),$(15,"th"),f(),hn(16,D3e,11,4,"tr",2),f()()),2&i&&(N(16),ct("ngForOf",r.data))},dependencies:[yo],styles:[".list[_ngcontent-%COMP%]{position:absolute;left:38%;top:38%}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.projectBlock[_ngcontent-%COMP%]{width:auto;height:35px;background:#3ec28f;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:20px;font-weight:700;letter-spacing:0;cursor:pointer}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:153px;height:36px;left:49%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:126px;height:16px;left:50%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;width:300px;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;left:45%;top:20%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;margin-left:2px;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.list[_ngcontent-%COMP%]{position:absolute;left:5%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:80%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;left:25%;top:30%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}}return n})();function A3e(n,e){if(1&n){const t=Tt();p(0,"tr")(1,"td"),g(2),f(),p(3,"td"),g(4),f(),p(5,"td"),g(6),f(),p(7,"td")(8,"button",3),B("click",function(){const o=Re(t).$implicit;return Ne(Rt().Muestras(o.project,o.codigo))}),p(9,"div",4),g(10,"Listar Muestras"),f()(),p(11,"button",5),B("click",function(){const o=Re(t).$implicit;return Ne(Rt().infoUnidad(o.codigo))}),p(12,"div",6),g(13,"Informaci\xf3n"),f()()()()}if(2&n){const t=e.$implicit;N(2),je(t.codigo),N(2),je(t.altitud),N(2),je(t.coordenadas)}}let k3e=(()=>{class n{constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.data=[],this.arr=[]}ngOnInit(){this.route.params.subscribe(t=>{this.item=t.id}),this.MyQuery()}getData(){const t=_e(this.firestore,"unidad-produccion");he(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}updateData(t){const i=De(this.firestore,"unidad-produccion",t);Xi(i,{}).then(()=>{alert("Data updated"),this.getData()}).catch(r=>{alert(r.message)})}deleteData(t){const i=De(this.firestore,"unidad-produccion",t);Pn(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["user/projects"])}logOut(){wi(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}newMuestra(){this.router.navigate(["user/muestras-new"])}editMuestra(t){this.router.navigate(["user/muestras-edit/"+t])}infoProject(t){this.router.navigate(["user/project-edit/"+t])}infoUnidad(t){this.router.navigate(["client/unidad-produccion-info/"+t])}Muestras(t,i){this.router.navigate(["client/muestras/"+i])}MyQuery(){var t=this;return _(function*(){const i=Ea();let r,o=[];r="",bl(i,function(){var s=_(function*(a){if(a&&(console.log(a.email),a.email)){r=a.email;const l=Ot(_e(t.firestore,"unidad-produccion"),Kt("clienteEmail","==",r));he(l).then(d=>{t.data=[...d.docs.map(h=>({...h.data(),id:h.id}))]}),(yield he(l)).forEach(d=>{}),console.log(t.dataTem.length),console.log(t.data),console.log(t.dataTem[0].name);let u=t.dataTem.length;console.log(u);for(let d=0;d<u;d++)console.log(t.dataTem[d].name),o.push(t.dataTem[d].name);console.log(o)}});return function(a){return s.apply(this,arguments)}}())})()}static{this.\u0275fac=function(i){return new(i||n)(E(Me),E(mt),E(He),E(rt))}}static{this.\u0275cmp=ve({type:n,selectors:[["app-unidad-produccion-all"]],decls:15,vars:1,consts:[[1,"subTituloText"],[1,"list"],[4,"ngFor","ngForOf"],[1,"muestras",3,"click"],[1,"muestras-tip"],[1,"detalles",3,"click"],[1,"detalles-tip"]],template:function(i,r){1&i&&(p(0,"p"),g(1,"unidad-produccion-all works!"),f(),p(2,"h1",0),g(3,"Unidades"),f(),p(4,"div",1)(5,"table")(6,"tr")(7,"th"),g(8," Codigo "),f(),p(9,"th"),g(10," Altitud"),f(),p(11,"th"),g(12," Coordenadas "),f(),$(13,"th"),f(),hn(14,A3e,14,3,"tr",2),f()()),2&i&&(N(14),ct("ngForOf",r.data))},dependencies:[yo],styles:[".list[_ngcontent-%COMP%]{position:absolute;left:38%;top:38%}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.projectBlock[_ngcontent-%COMP%]{width:auto;height:35px;background:#3ec28f;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:20px;font-weight:700;letter-spacing:0;cursor:pointer}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:153px;height:36px;left:49%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:126px;height:16px;left:50%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;left:45%;top:20%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.muestras[_ngcontent-%COMP%]:hover   .muestras-tip[_ngcontent-%COMP%]{display:block;opacity:1;transition:.5s}.muestras-tip[_ngcontent-%COMP%]{display:none;position:relative;background-color:#2f3033;color:#fff;padding:5px;width:max-content;margin:5px;top:100%;left:0;opacity:0;transition:.5s;z-index:100;border-radius:3px;font-weight:700;font-family:Trebuchet MS,sans-serif}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;margin-left:2px;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.detalles[_ngcontent-%COMP%]:hover   .detalles-tip[_ngcontent-%COMP%]{display:block;opacity:1;transition:.5s}.detalles-tip[_ngcontent-%COMP%]{display:none;position:relative;background-color:#2f3033;color:#fff;padding:5px;width:-moz-fit-content;width:fit-content;margin:5px;top:100%;left:0;opacity:0;transition:.5s;z-index:100;border-radius:3px;font-weight:700;font-family:Trebuchet MS,sans-serif}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.list[_ngcontent-%COMP%]{position:absolute;left:2%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:80%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;left:22%;top:30%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}}return n})();const O3e=["geo"];let P3e=(()=>{class n{constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.title="gestion-de-muestras-de-campo",this.data=[],this.somethingChange=new qe}ngOnInit(){this.route.params.subscribe(t=>{this.text=t.id,console.log(t),console.log(t.id)}),this.MyQuery()}handleRegister(t){this.addData(t)}addData(t){const i=De(this.firestore,"unidad-produccion",t.codigo);Co(i,t).then(()=>{alert("Data Sent")}).catch(r=>{alert(r.message)}),console.log(t.comentarios)}getData(){const t=_e(this.firestore,"unidad-produccion");he(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude)}getLocation(){var t=this;return _(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{console.log(t.res)},1e3)})()}MyQuery(){var t=this;return _(function*(){let i=t.text;const r=Ot(_e(t.firestore,"unidad-produccion"),Kt("codigo","==",i)),o=yield he(r);o.empty||o.forEach(s=>{t.item=s.data(),console.log(s.id," => ",s.data())})})()}editMuestra(){this.router.navigate(["user/unidad-produccion-edit/"+this.text])}deleteData(t){const i=De(this.firestore,"users",t);Pn(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}static{this.\u0275fac=function(i){return new(i||n)(E(Me),E(mt),E(He),E(rt))}}static{this.\u0275cmp=ve({type:n,selectors:[["app-unidad-produccion-info"]],viewQuery:function(i,r){if(1&i&&Qn(O3e,5),2&i){let o;Sn(o=An())&&(r.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:58,vars:10,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],[1,"input-field"]],template:function(i,r){if(1&i){const o=Tt();p(0,"p"),g(1,"unidad-produccion-info works!"),f(),p(2,"h1",0),g(3,"Datos de la Unidad"),f(),p(4,"div",1)(5,"form",2,3),B("ngSubmit",function(){Re(o);const a=fn(6);return Ne(r.handleRegister(a.value))}),p(7,"div",4)(8,"div",5)(9,"span",6),g(10,"Codigo:"),f(),p(11,"span",7),g(12),f()(),p(13,"div",5)(14,"span",6),g(15,"Cliente:"),f(),p(16,"span",7),g(17),f()(),p(18,"div",5)(19,"span",6),g(20,"Coordenadas:"),f(),p(21,"span",7),g(22),f()(),p(23,"div",5)(24,"span",6),g(25,"Localidad:"),f(),p(26,"span",7),g(27),f()(),p(28,"div",5)(29,"span",6),g(30,"Municipio:"),f(),p(31,"span",7),g(32),f()(),p(33,"div",5)(34,"span",6),g(35,"Estado:"),f(),p(36,"span",7),g(37),f()(),p(38,"div",5)(39,"span",6),g(40,"Altitud:"),f(),p(41,"span",7),g(42),f()(),p(43,"div",5)(44,"span",6),g(45,"Temperaturas M\xe1ximas:"),f(),p(46,"span",7),g(47),f()(),p(48,"div",5)(49,"span",6),g(50,"Temperaturas M\xednimas:"),f(),p(51,"span",7),g(52),f()(),p(53,"div",5)(54,"span",6),g(55,"Precipitaci\xf3n:"),f(),p(56,"span",7),g(57),f()()()()()}2&i&&(N(12),Se(" ",r.item.codigo,""),N(5),Se(" ",r.item.cliente,""),N(5),Se(" ",r.item.coordenadas,""),N(5),Se(" ",r.item.localidad,""),N(5),Se(" ",r.item.municipio,""),N(5),Se(" ",r.item.estado,""),N(5),Se(" ",r.item.altitud,""),N(5),Se(" ",r.item.tempmax,""),N(5),Se(" ",r.item.tempmin,""),N(5),Se(" ",r.item.precipitacion,""))},dependencies:[ai,si,Vn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:65%;height:55%;flex-shrink:0;position:absolute;left:50%;top:30%;transform:translate(-30%)}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:10%;top:7%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:12px 12px 12px 25px;height:20px;left:92px;color:#000;font-family:Arial;font-size:20px;letter-spacing:0}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:40%;top:20%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;height:25px;font-family:Arial;font-size:20px;font-weight:700;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:80%;top:88%}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:0%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.input-field[_ngcontent-%COMP%]{margin:6px 6px 6px 15px;height:20px;left:92px;color:#000;font-family:Arial;font-size:16px;letter-spacing:0;text-overflow:ellipsis}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:5%;top:3%}.Text[_ngcontent-%COMP%]{color:#000;height:20px;font-family:Arial;font-size:16px;letter-spacing:0}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:90%;height:45%;flex-shrink:0;position:absolute;left:5%;top:35%;transform:none}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:67%;top:90%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:12px;left:0%;top:110%}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:25%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}@media only screen and (min-width: 1536px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:700px;height:500px;flex-shrink:0;position:absolute;left:50%;top:50%;transform:translate(-50%,-40%)}.subTituloText[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%)}.boton[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(235px)}}"]})}}return n})();const R3e=["geo"];let N3e=(()=>{class n{static{this.text=""}constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.title="gestion-de-muestras-de-campo",this.data=[],this.res="",this.email="",this.somethingChange=new qe}ngOnInit(){this.route.params.subscribe(t=>{this.x=t.id,console.log(t),console.log(t.id)}),this.getData(),this.MyQuery()}handleRegister(t){this.addData(t)}addData(t){var i=this;return _(function*(){const r=De(i.firestore,"clientes",t.codigo);Co(r,t).then(()=>{alert("Data Sent")}).catch(o=>{alert(o.message)}),console.log(i.pid)})()}getData(){const t=Ea();bl(t,r=>{r&&r.email&&(this.email=r.email)});const i=_e(this.firestore,"clientes");he(i).then(r=>{this.data=[...r.docs.map(o=>({...o.data(),id:o.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude),n.text=t.coords.latitude+", "+t.coords.longitude}getLocation(){var t=this;return _(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{t.res=n.text,console.log(t.res)},1e3)})()}MyQuery(){var t=this;return _(function*(){const i=Ea();let r;r="",console.log(i),bl(i,function(){var o=_(function*(s){if(s&&(console.log(s.email),s.email)){r=s.email;const a=Ot(_e(t.firestore,"clientes"),Kt("email","==",r));he(a).then(c=>{t.data=[...c.docs.map(u=>({...u.data(),id:u.id}))]});const l=yield he(a);console.log(l),l.forEach(c=>{t.item=c.data(),t.pid=c.id,console.log(c.id," => ",c.data()),console.log("here2")}),console.log(t.data.length),console.log(t.data),console.log(t.data[0].email)}});return function(s){return o.apply(this,arguments)}}())})()}editClients(){this.router.navigate(["client/perfil-edit"])}deleteData(t){const r=De(this.firestore,"clientes",this.x);Pn(r).then(()=>{alert("Data Deleted"),this.router.navigate(["user/muestras/"+this.pid])}).catch(o=>{alert(o.message)})}static{this.\u0275fac=function(i){return new(i||n)(E(Me),E(mt),E(He),E(rt))}}static{this.\u0275cmp=ve({type:n,selectors:[["app-perfil"]],viewQuery:function(i,r){if(1&i&&Qn(R3e,5),2&i){let o;Sn(o=An())&&(r.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:32,vars:4,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],[1,"input-field"],[1,"boton",3,"click"]],template:function(i,r){if(1&i){const o=Tt();p(0,"p"),g(1,"perfil works!"),f(),p(2,"p"),g(3,"clients-info works!"),f(),p(4,"h1",0),g(5,"Informacion del Cliente"),f(),$(6,"div",1),p(7,"form",2,3),B("ngSubmit",function(){Re(o);const a=fn(8);return Ne(r.handleRegister(a.value))}),p(9,"div",4)(10,"div",5)(11,"span",6),g(12,"Email:"),f(),p(13,"span",7),g(14),f()(),p(15,"div",5)(16,"span",6),g(17,"Nombre:"),f(),p(18,"span",7),g(19),f()(),p(20,"div",5)(21,"span",6),g(22,"Telefono:"),f(),p(23,"span",7),g(24),f()(),p(25,"div",5)(26,"span",6),g(27,"Direccion:"),f(),p(28,"span",7),g(29),f()(),p(30,"button",8),B("click",function(){return r.editClients()}),g(31,"Editar Cliente"),f()()()}2&i&&(N(14),Se(" ",r.item.email,""),N(5),Se(" ",r.item.nombre,""),N(5),Se(" ",r.item.telefono,""),N(5),Se(" ",r.item.direccion,""))},dependencies:[ai,si,Vn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:500px;height:250px;position:absolute;top:38%;left:53%;transform:translate(-50%)}.main[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;width:450px;height:250px;position:absolute;top:38%;left:54%;transform:translate(-50%)}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:85%;height:20px;left:92px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;top:20%;left:50%;transform:translate(-35%)}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;width:80px;height:45px;border-width:0;border-radius:30px;font-size:16px;position:absolute;left:81%;top:105%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:35%;flex-shrink:0;position:absolute;top:45%}.input-fields[_ngcontent-%COMP%]{font-size:12px}.main[_ngcontent-%COMP%]{width:75%;height:35%;flex-shrink:0;margin-left:5px;position:absolute;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:14px;letter-spacing:0}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:75%;top:110%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:35%;top:30%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}}return n})();const F3e=["geo"];let L3e=(()=>{class n{static{this.text=""}constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.title="gestion-de-muestras-de-campo",this.data=[],this.res="",this.email="",this.somethingChange=new qe,this.getData(),this.MyQuery()}handleRegister(t){this.addData(t)}addData(t){var i=this;return _(function*(){console.log(t);const r=De(i.firestore,"clientes",t.email);Xi(r,{email:t.email,nombre:t.nombre,fecha:t.fecha,telefono:t.telefono,direccion:t.direccion}).then(()=>{alert("Data Sent")}).catch(o=>{alert(o.message)}),console.log(i.pid)})()}getData(){const t=_e(this.firestore,"clientes");he(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude),n.text=t.coords.latitude+", "+t.coords.longitude}getLocation(){var t=this;return _(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{t.res=n.text,console.log(t.res)},1e3)})()}MyQuery(){var t=this;return _(function*(){const i=Ea();let r;r="",console.log(i),bl(i,function(){var o=_(function*(s){if(s&&(console.log(s.email),s.email)){r=s.email;const a=Ot(_e(t.firestore,"clientes"),Kt("email","==",r));he(a).then(c=>{t.data=[...c.docs.map(u=>({...u.data(),id:u.id}))]});const l=yield he(a);console.log(l),l.forEach(c=>{t.item=c.data(),t.pid=c.id,console.log(c.id," => ",c.data()),console.log("here2")}),console.log(t.data.length),console.log(t.data),console.log(t.data[0].email)}});return function(s){return o.apply(this,arguments)}}())})()}deleteData(t){const r=De(this.firestore,"clientes",this.x);Pn(r).then(()=>{alert("Data Deleted"),this.router.navigate(["user/muestras/"+this.pid])}).catch(o=>{alert(o.message)})}static{this.\u0275fac=function(i){return new(i||n)(E(Me),E(mt),E(He),E(rt))}}static{this.\u0275cmp=ve({type:n,selectors:[["app-perfil-edit"]],viewQuery:function(i,r){if(1&i&&Qn(F3e,5),2&i){let o;Sn(o=An())&&(r.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:26,vars:4,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],["name","email","ngModel","","placeholder","Email","id","emai","type","email",1,"input-field",3,"ngModel","ngModelChange"],["name","nombre","ngModel","","placeholder","Nombre","id","nombre","type","nombre",1,"input-field",3,"ngModel","ngModelChange"],["name","telefono","ngModel","","placeholder","Telefono","id","telefono","type","telefono",1,"input-field",3,"ngModel","ngModelChange"],["name","direccion","ngModel","","placeholder","Direccion","id","direccion","type","direccion",1,"input-field",3,"ngModel","ngModelChange"],[1,"boton"]],template:function(i,r){if(1&i){const o=Tt();p(0,"p"),g(1,"perfil-edit works!"),f(),p(2,"h1",0),g(3," Editar Perfil"),f(),p(4,"div",1)(5,"form",2,3),B("ngSubmit",function(){Re(o);const a=fn(6);return Ne(r.handleRegister(a.value))}),p(7,"div",4)(8,"div",5)(9,"span",6),g(10,"Email:"),f(),p(11,"input",7),Ye("ngModelChange",function(a){return Ze(r.item.email,a)||(r.item.email=a),a}),f()(),p(12,"div",5)(13,"span",6),g(14,"Nombre:"),f(),p(15,"input",8),Ye("ngModelChange",function(a){return Ze(r.item.nombre,a)||(r.item.nombre=a),a}),f()(),p(16,"div",5)(17,"span",6),g(18,"Telefono:"),f(),p(19,"input",9),Ye("ngModelChange",function(a){return Ze(r.item.telefono,a)||(r.item.telefono=a),a}),f()(),p(20,"div",5)(21,"span",6),g(22,"Direccion:"),f(),p(23,"input",10),Ye("ngModelChange",function(a){return Ze(r.item.direccion,a)||(r.item.direccion=a),a}),f()(),p(24,"button",11),g(25,"Editar Cliente"),f()()()()}2&i&&(N(11),Ke("ngModel",r.item.email),N(4),Ke("ngModel",r.item.nombre),N(4),Ke("ngModel",r.item.telefono),N(4),Ke("ngModel",r.item.direccion))},dependencies:[ai,sr,Vr,si,Cr,Vn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:520px;height:250px;position:absolute;top:38%;left:60%;transform:translate(-50%)}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:3%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:85%;height:20px;left:92px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;top:20%;left:60%;transform:translate(-50%)}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:80%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:40%;flex-shrink:0;transform:none;position:absolute;top:40%;left:50%;transform:translate(-50%)}.input-fields[_ngcontent-%COMP%]{font-size:12px}.main[_ngcontent-%COMP%]{width:75%;flex-shrink:0;margin-left:5px;position:absolute;top:0%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:14px;letter-spacing:0}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:75%;top:110%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;transform:none;position:absolute;top:30%;left:50%;transform:translate(-50%)}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}@media only screen and (min-width: 1536px){.loginBox[_ngcontent-%COMP%]{position:absolute;top:38%;left:50%;transform:translate(-50%,-36%)}.subTituloText[_ngcontent-%COMP%]{position:absolute;top:20%;left:50%;transform:translate(-50%)}}"]})}}return n})();const V3e=["geo"],B3e=[{path:"client",component:ZK,canActivate:[Gw],canActivateChild:[Gw],children:[{path:"projects",component:T3e},{path:"muestras-all",component:S3e},{path:"muestras/:up",component:M3e},{path:"unidad-produccion-all",component:k3e},{path:"muestras-info/:id",component:(()=>{class n{constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.title="gestion-de-muestras-de-campo",this.data=[],this.somethingChange=new qe,this.getData(),this.MyQuery()}ngOnInit(){this.route.params.subscribe(t=>{this.text=t.id,console.log(t),console.log(t.id)}),this.getData(),this.MyQuery()}handleRegister(t){this.addData(t)}addData(t){const i=De(this.firestore,"muestras",t.codigo);Co(i,t).then(()=>{alert("Data Sent")}).catch(r=>{alert(r.message)}),console.log(t.comentarios)}getData(){const t=_e(this.firestore,"muestras");he(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude)}getLocation(){var t=this;return _(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{console.log(t.res)},1e3)})()}MyQuery(){var t=this;return _(function*(){let i=t.text;const r=Ot(_e(t.firestore,"muestras"),Kt("codigo","==",i));(yield he(r)).forEach(s=>{t.item=s.data(),console.log(s.id," => ",s.data())})})()}deleteData(t){const i=De(this.firestore,"users",t);Pn(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}static{this.\u0275fac=function(i){return new(i||n)(E(Me),E(mt),E(He),E(rt))}}static{this.\u0275cmp=ve({type:n,selectors:[["app-muestras-info"]],viewQuery:function(i,r){if(1&i&&Qn(V3e,5),2&i){let o;Sn(o=An())&&(r.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:53,vars:9,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],[1,"input-field"]],template:function(i,r){if(1&i){const o=Tt();p(0,"p"),g(1,"muestras-info works!"),f(),p(2,"h1",0),g(3,"Datos de la Muestra"),f(),p(4,"div",1)(5,"form",2,3),B("ngSubmit",function(){Re(o);const a=fn(6);return Ne(r.handleRegister(a.value))}),p(7,"div",4)(8,"div",5)(9,"span",6),g(10,"Codigo:"),f(),p(11,"span",7),g(12),f()(),p(13,"div",5)(14,"span",6),g(15,"Cliente:"),f(),p(16,"span",7),g(17),f()(),p(18,"div",5)(19,"span",6),g(20,"Fecha:"),f(),p(21,"span",7),g(22),f()(),p(23,"div",5)(24,"span",6),g(25,"Cultivo:"),f(),p(26,"span",7),g(27),f()(),p(28,"div",5)(29,"span",6),g(30,"Tipo:"),f(),p(31,"span",7),g(32),f()(),p(33,"div",5)(34,"span",6),g(35,"Fitopat\xf3geno:"),f(),p(36,"span",7),g(37),f()(),p(38,"div",5)(39,"span",6),g(40,"Coordenadas:"),f(),p(41,"span",7),g(42),f()(),p(43,"div",5)(44,"span",6),g(45,"S\xedntomas:"),f(),p(46,"span",7),g(47),f()(),p(48,"div",5)(49,"span",6),g(50,"Comentarios:"),f(),p(51,"span",7),g(52),f()()()()()}2&i&&(N(12),Se(" ",r.item.codigo,""),N(5),Se(" ",r.item.cliente,""),N(5),Se(" ",r.item.fecha,""),N(5),Se(" ",r.item.cultivo,""),N(5),Se(" ",r.item.tipo,""),N(5),Se(" ",r.item.fitopatogeno,""),N(5),Se(" ",r.item.coordenadas,""),N(5),Se(" ",r.item.sintomas,""),N(5),Se(" ",r.item.comentarios,""))},dependencies:[ai,si,Vn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:65%;height:57%;flex-shrink:0;position:absolute;left:50%;top:28%;transform:translate(-30%)}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:10%;top:2%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:12px 12px 12px 25px;height:20px;left:92px;color:#000;font-family:Arial;font-size:20px;letter-spacing:0}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:40%;top:20%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;height:25px;font-family:Arial;font-size:20px;font-weight:700;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:80%;top:87%}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:0%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.input-field[_ngcontent-%COMP%]{margin:6px 6px 6px 10px;height:20px;left:92px;color:#000;font-family:Arial;font-size:16px;letter-spacing:0;text-overflow:ellipsis}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:5%;top:2%}.Text[_ngcontent-%COMP%]{color:#000;height:20px;font-family:Arial;font-size:16px;letter-spacing:0}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:90%;height:40%;flex-shrink:0;position:absolute;left:5%;top:40%;transform:none}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:67%;top:85%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:12px;left:0%;top:110%}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:28%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}@media only screen and (min-width: 1536px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:850px;height:500px;flex-shrink:0;position:absolute;left:50%;top:50%;transform:translate(-50%,-35%)}.subTituloText[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%)}.boton[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(310px)}}"]})}}return n})()},{path:"unidad-produccion-info/:id",component:P3e},{path:"perfil",component:N3e},{path:"perfil-edit",component:L3e},{path:"land",component:(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=ve({type:n,selectors:[["app-land"]],standalone:!0,features:[or],decls:5,vars:0,consts:[[1,"subTituloText"],[1,"rectangle"],[1,"infoText"]],template:function(i,r){1&i&&(p(0,"h1",0),g(1," \xa1Bienvenido!"),f(),p(2,"div",1)(3,"p",2),g(4," Su panel de control est\xe1 dise\xf1ado para proporcionarle acceso seguro e instant\xe1neo al estado de sus proyectos de investigaci\xf3n. Como Cliente, su funci\xf3n principal es monitorear la informaci\xf3n asociada con sus muestras y unidades de producci\xf3n. Puede visualizar f\xe1cilmente los datos de sus Unidades de Producci\xf3n y de todas las Muestras asociadas en un formato claro y de solo lectura. Esto asegura que usted tenga un registro preciso y confiable de los detalles de las muestras y el progreso del an\xe1lisis que se est\xe1 realizando en el laboratorio, manteni\xe9ndole informado en cada paso del proceso. "),f()())},styles:[".subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;width:338px;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;left:clamp(350px,calc(50% - 169px),100%);top:188px}.infoText[_ngcontent-%COMP%]{color:#000;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;font-weight:400;margin:20px;text-align:justify;width:670px;height:417px;position:absolute;top:282px;left:clamp(350px,calc(50% - 325px),100%)}.rectangle[_ngcontent-%COMP%]{display:block}@media only screen and (max-width: 768px){.infoText[_ngcontent-%COMP%]{width:auto;height:auto;position:absolute;top:220px;left:0;margin:15px 10px 10px;padding-left:15px;font-family:Arial;text-align:left;font-size:16px;letter-spacing:0;font-weight:400}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;margin:0;height:auto;font-family:Verdana;font-size:26px;letter-spacing:0;transform:none;position:absolute;padding-top:8px;text-align:center;top:180px;left:0%;min-width:0px;width:100vw}}"]})}}return n})()}]}];let U3e=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=nt({type:n})}static{this.\u0275inj=Xe({imports:[Ur.forChild(B3e),Ur]})}}return n})(),z3e=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=nt({type:n})}static{this.\u0275inj=Xe({imports:[U3e,DN,bs,Jp,$w,Ur]})}}return n})();function j3e(n,e){}class B_{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let kF=(()=>{class n extends EF{constructor(t,i,r,o,s,a,l,c){super(),this._elementRef=t,this._focusTrapFactory=i,this._config=o,this._interactivityChecker=s,this._ngZone=a,this._overlayRef=l,this._focusMonitor=c,this._platform=Z(Ti),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=Z(gd),this.attachDomPortal=u=>{this._portalOutlet.hasAttached();const d=this._portalOutlet.attachDomPortal(u);return this._contentAttached(),d},this._document=r,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(t){this._ariaLabelledByQueue.push(t),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(t){const i=this._ariaLabelledByQueue.indexOf(t);i>-1&&(this._ariaLabelledByQueue.splice(i,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(t){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(t);return this._contentAttached(),i}attachTemplatePortal(t){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(t);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{t.removeEventListener("blur",r),t.removeEventListener("mousedown",r),t.removeAttribute("tabindex")};t.addEventListener("blur",r),t.addEventListener("mousedown",r)})),t.focus(i)}_focusByCssSelector(t,i){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,i)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._config.restoreFocus;let i=null;if("string"==typeof t?i=this._document.querySelector(t):"boolean"==typeof t?i=t?this._elementFocusedBeforeDialogWasOpened:null:t&&(i=t),this._config.restoreFocus&&i&&"function"==typeof i.focus){const r=IN(),o=this._elementRef.nativeElement;(!r||r===this._document.body||r===o||o.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,i=IN();return t===i||t.contains(i)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=IN()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static{this.\u0275fac=function(i){return new(i||n)(E(Bt),E(gF),E(ut,8),E(B_),E(Kw),E(Te),E(N_),E(Xw))}}static{this.\u0275cmp=ve({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(i,r){if(1&i&&Qn(eC,7),2&i){let o;Sn(o=An())&&(r._portalOutlet=o.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(i,r){2&i&&Yn("id",r._config.id||null)("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null)},standalone:!0,features:[pt,or],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(i,r){1&i&&hn(0,j3e,0,0,"ng-template",0)},dependencies:[eC],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}}return n})();class OF{constructor(e,t){this.overlayRef=e,this.config=t,this.closed=new lt,this.disableClose=t.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=t.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!qw(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=e.detachments().subscribe(()=>{!1!==t.closeOnOverlayDetachments&&this.close()})}close(e,t){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=t?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),i.next(e),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",t=""){return this.overlayRef.updateSize({width:e,height:t}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}}const uJ=new X("DialogScrollStrategy",{providedIn:"root",factory:()=>{const n=Z(Io);return()=>n.scrollStrategies.block()}}),H3e=new X("DialogData"),$3e=new X("DefaultDialogConfig");let q3e=0,dJ=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(t,i,r,o,s,a){this._overlay=t,this._injector=i,this._defaultOptions=r,this._parentDialog=o,this._overlayContainer=s,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new lt,this._afterOpenedAtThisLevel=new lt,this._ariaHiddenElements=new Map,this.afterAllClosed=$d(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(xv(void 0))),this._scrollStrategy=a}open(t,i){(i={...this._defaultOptions||new B_,...i}).id=i.id||"cdk-dialog-"+q3e++,i.id&&this.getDialogById(i.id);const o=this._getOverlayConfig(i),s=this._overlay.create(o),a=new OF(s,i),l=this._attachContainer(s,a,i);return a.containerInstance=l,this._attachDialogContent(t,a,l,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(a),a.closed.subscribe(()=>this._removeOpenDialog(a,!0)),this.afterOpened.next(a),a}closeAll(){PF(this.openDialogs,t=>t.close())}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){PF(this._openDialogsAtThisLevel,t=>{!1===t.config.closeOnDestroy&&this._removeOpenDialog(t,!1)}),PF(this._openDialogsAtThisLevel,t=>t.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(t){const i=new PZ({positionStrategy:t.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,width:t.width,height:t.height,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(i.backdropClass=t.backdropClass),i}_attachContainer(t,i,r){const o=r.injector||r.viewContainerRef?.injector,s=[{provide:B_,useValue:r},{provide:OF,useValue:i},{provide:N_,useValue:t}];let a;r.container?"function"==typeof r.container?a=r.container:(a=r.container.type,s.push(...r.container.providers(r))):a=kF;const l=new CF(a,r.viewContainerRef,qt.create({parent:o||this._injector,providers:s}),r.componentFactoryResolver);return t.attach(l).instance}_attachDialogContent(t,i,r,o){if(t instanceof cs){const s=this._createInjector(o,i,r,void 0);let a={$implicit:o.data,dialogRef:i};o.templateContext&&(a={...a,..."function"==typeof o.templateContext?o.templateContext():o.templateContext}),r.attachTemplatePortal(new SZ(t,null,a,s))}else{const s=this._createInjector(o,i,r,this._injector),a=r.attachComponentPortal(new CF(t,o.viewContainerRef,s,o.componentFactoryResolver));i.componentRef=a,i.componentInstance=a.instance}}_createInjector(t,i,r,o){const s=t.injector||t.viewContainerRef?.injector,a=[{provide:H3e,useValue:t.data},{provide:OF,useValue:i}];return t.providers&&("function"==typeof t.providers?a.push(...t.providers(i,t,r)):a.push(...t.providers)),t.direction&&(!s||!s.get(vF,null,{optional:!0}))&&a.push({provide:vF,useValue:{value:t.direction,change:we()}}),qt.create({parent:s||o,providers:a})}_removeOpenDialog(t,i){const r=this.openDialogs.indexOf(t);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,s)=>{o?s.setAttribute("aria-hidden",o):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const i=t.parentElement.children;for(let r=i.length-1;r>-1;r--){const o=i[r];o!==t&&"SCRIPT"!==o.nodeName&&"STYLE"!==o.nodeName&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}static{this.\u0275fac=function(i){return new(i||n)(U(Io),U(qt),U($3e,8),U(n,12),U(tC),U(uJ))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function PF(n,e){let t=n.length;for(;t--;)e(n[t])}function W3e(n,e){}const K3e={bottomSheetState:nC("state",[Du("void, hidden",Mo({transform:"translateY(100%)"})),Du("visible",Mo({transform:"translateY(0%)"})),Su("visible => void, visible => hidden",iC([Mu(`${HZ.COMPLEX} ${jZ.ACCELERATION_CURVE}`),oC("@*",rC(),{optional:!0})])),Su("void => visible",iC([Mu(`${HZ.EXITING} ${jZ.DECELERATION_CURVE}`),oC("@*",rC(),{optional:!0})]))])};let Y3e=(()=>{class n extends kF{constructor(t,i,r,o,s,a,l,c,u){super(t,i,r,o,s,a,l,u),this._animationState="void",this._animationStateChanged=new qe,this._breakpointSubscription=c.observe([If_Medium,If_Large,"(min-width: 1920px)"]).subscribe(()=>{this._toggleClass("mat-bottom-sheet-container-medium",c.isMatched(If_Medium)),this._toggleClass("mat-bottom-sheet-container-large",c.isMatched(If_Large)),this._toggleClass("mat-bottom-sheet-container-xlarge",c.isMatched("(min-width: 1920px)"))})}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges())}exit(){this._destroyed||(this._animationState="hidden",this._changeDetectorRef.markForCheck())}ngOnDestroy(){super.ngOnDestroy(),this._breakpointSubscription.unsubscribe(),this._destroyed=!0}_onAnimationDone(t){"visible"===t.toState&&this._trapFocus(),this._animationStateChanged.emit(t)}_onAnimationStart(t){this._animationStateChanged.emit(t)}_captureInitialFocus(){}_toggleClass(t,i){this._elementRef.nativeElement.classList.toggle(t,i)}static{this.\u0275fac=function(i){return new(i||n)(E(Bt),E(gF),E(ut,8),E(B_),E(Kw),E(Te),E(N_),E(dZ),E(Xw))}}static{this.\u0275cmp=ve({type:n,selectors:[["mat-bottom-sheet-container"]],hostAttrs:["tabindex","-1",1,"mat-bottom-sheet-container"],hostVars:4,hostBindings:function(i,r){1&i&&ST("@state.start",function(s){return r._onAnimationStart(s)})("@state.done",function(s){return r._onAnimationDone(s)}),2&i&&(Yn("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-label",r._config.ariaLabel),IT("@state",r._animationState))},standalone:!0,features:[pt,or],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(i,r){1&i&&hn(0,W3e,0,0,"ng-template",0)},dependencies:[eC],styles:[".mat-bottom-sheet-container{box-shadow:0px 8px 10px -5px rgba(0, 0, 0, 0.2), 0px 16px 24px 2px rgba(0, 0, 0, 0.14), 0px 6px 30px 5px rgba(0, 0, 0, 0.12);padding:8px 16px;min-width:100vw;box-sizing:border-box;display:block;outline:0;max-height:80vh;overflow:auto;background:var(--mat-bottom-sheet-container-background-color);color:var(--mat-bottom-sheet-container-text-color);font-family:var(--mat-bottom-sheet-container-text-font);font-size:var(--mat-bottom-sheet-container-text-size);line-height:var(--mat-bottom-sheet-container-text-line-height);font-weight:var(--mat-bottom-sheet-container-text-weight);letter-spacing:var(--mat-bottom-sheet-container-text-tracking)}.cdk-high-contrast-active .mat-bottom-sheet-container{outline:1px solid}.mat-bottom-sheet-container-xlarge,.mat-bottom-sheet-container-large,.mat-bottom-sheet-container-medium{border-top-left-radius:var(--mat-bottom-sheet-container-shape);border-top-right-radius:var(--mat-bottom-sheet-container-shape)}.mat-bottom-sheet-container-medium{min-width:384px;max-width:calc(100vw - 128px)}.mat-bottom-sheet-container-large{min-width:512px;max-width:calc(100vw - 256px)}.mat-bottom-sheet-container-xlarge{min-width:576px;max-width:calc(100vw - 384px)}"],encapsulation:2,data:{animation:[K3e.bottomSheetState]}})}}return n})();const hJ=new X("MatBottomSheetData");class Q3e{constructor(){this.data=null,this.hasBackdrop=!0,this.disableClose=!1,this.ariaLabel=null,this.ariaModal=!0,this.closeOnNavigation=!0,this.autoFocus="dialog",this.restoreFocus=!0}}class RF{get instance(){return this._ref.componentInstance}get componentRef(){return this._ref.componentRef}constructor(e,t,i){this._ref=e,this._afterOpened=new lt,this.containerInstance=i,this.disableClose=t.disableClose,i._animationStateChanged.pipe(ln(r=>"done"===r.phaseName&&"visible"===r.toState),xn(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(ln(r=>"done"===r.phaseName&&"hidden"===r.toState),xn(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._ref.close(this._result)}),e.overlayRef.detachments().subscribe(()=>{this._ref.close(this._result)}),R_(this.backdropClick(),this.keydownEvents().pipe(ln(r=>27===r.keyCode))).subscribe(r=>{!this.disableClose&&("keydown"!==r.type||!qw(r))&&(r.preventDefault(),this.dismiss())})}dismiss(e){this.containerInstance&&(this.containerInstance._animationStateChanged.pipe(ln(t=>"start"===t.phaseName),xn(1)).subscribe(t=>{this._closeFallbackTimeout=setTimeout(()=>{this._ref.close(this._result)},t.totalTime+100),this._ref.overlayRef.detachBackdrop()}),this._result=e,this.containerInstance.exit(),this.containerInstance=null)}afterDismissed(){return this._ref.closed}afterOpened(){return this._afterOpened}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}}const X3e=new X("mat-bottom-sheet-default-options");let Z3e=(()=>{class n{get _openedBottomSheetRef(){const t=this._parentBottomSheet;return t?t._openedBottomSheetRef:this._bottomSheetRefAtThisLevel}set _openedBottomSheetRef(t){this._parentBottomSheet?this._parentBottomSheet._openedBottomSheetRef=t:this._bottomSheetRefAtThisLevel=t}constructor(t,i,r,o){this._overlay=t,this._parentBottomSheet=r,this._defaultOptions=o,this._bottomSheetRefAtThisLevel=null,this._dialog=i.get(dJ)}open(t,i){const r={...this._defaultOptions||new Q3e,...i};let o;return this._dialog.open(t,{...r,disableClose:!0,closeOnOverlayDetachments:!1,maxWidth:"100%",container:Y3e,scrollStrategy:r.scrollStrategy||this._overlay.scrollStrategies.block(),positionStrategy:this._overlay.position().global().centerHorizontally().bottom("0"),templateContext:()=>({bottomSheetRef:o}),providers:(s,a,l)=>(o=new RF(s,r,l),[{provide:RF,useValue:o},{provide:hJ,useValue:r.data}])}),o.afterDismissed().subscribe(()=>{this._openedBottomSheetRef===o&&(this._openedBottomSheetRef=null)}),this._openedBottomSheetRef?(this._openedBottomSheetRef.afterDismissed().subscribe(()=>o.containerInstance?.enter()),this._openedBottomSheetRef.dismiss()):o.containerInstance.enter(),this._openedBottomSheetRef=o,o}dismiss(t){this._openedBottomSheetRef&&this._openedBottomSheetRef.dismiss(t)}ngOnDestroy(){this._bottomSheetRefAtThisLevel&&this._bottomSheetRefAtThisLevel.dismiss()}static{this.\u0275fac=function(i){return new(i||n)(U(Io),U(qt),U(n,12),U(X3e,8))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const J3e=["*",[["mat-toolbar-row"]]],e5e=["*","mat-toolbar-row"];let t5e=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=me({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"],standalone:!0})}}return n})(),n5e=(()=>{class n{constructor(t,i,r){this._elementRef=t,this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}static{this.\u0275fac=function(i){return new(i||n)(E(Bt),E(Ti),E(ut))}}static{this.\u0275cmp=ve({type:n,selectors:[["mat-toolbar"]],contentQueries:function(i,r,o){if(1&i&&OT(o,t5e,5),2&i){let s;Sn(s=An())&&(r._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(i,r){2&i&&(Mp(r.color?"mat-"+r.color:""),br("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length))},inputs:{color:"color"},exportAs:["matToolbar"],standalone:!0,features:[or],ngContentSelectors:e5e,decls:2,vars:0,template:function(i,r){1&i&&(xc(J3e),Lr(0),Lr(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color:var(--mat-toolbar-container-text-color);--mdc-outlined-button-label-text-color:var(--mat-toolbar-container-text-color)}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0})}}return n})(),i5e=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=nt({type:n})}static{this.\u0275inj=Xe({imports:[Ar,Ar]})}}return n})();const r5e=["mat-button",""],o5e=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],s5e=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],l5e=["mat-icon-button",""],c5e=["*"],u5e=new X("MAT_BUTTON_CONFIG"),d5e=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}];let fJ=(()=>{class n{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(t){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,t)}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=t,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._updateRippleDisabled()}constructor(t,i,r,o){this._elementRef=t,this._platform=i,this._ngZone=r,this._animationMode=o,this._focusMonitor=Z(Xw),this._rippleLoader=Z(XLe),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;const s=Z(u5e,{optional:!0}),a=t.nativeElement,l=a.classList;this.disabledInteractive=s?.disabledInteractive??!1,this._rippleLoader?.configureRipple(a,{className:"mat-mdc-button-ripple"});for(const{attribute:c,mdcClasses:u}of d5e)a.hasAttribute(c)&&l.add(...u)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(t="program",i){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,i):this._elementRef.nativeElement.focus(i)}_getAriaDisabled(){return null!=this.ariaDisabled?this.ariaDisabled:!(!this.disabled||!this.disabledInteractive)||null}_getDisabledAttribute(){return!(this.disabledInteractive||!this.disabled)||null}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static{this.\u0275fac=function(i){yE()}}static{this.\u0275dir=me({type:n,inputs:{color:"color",disableRipple:[We.HasDecoratorInputTransform,"disableRipple","disableRipple",_s],disabled:[We.HasDecoratorInputTransform,"disabled","disabled",_s],ariaDisabled:[We.HasDecoratorInputTransform,"aria-disabled","ariaDisabled",_s],disabledInteractive:[We.HasDecoratorInputTransform,"disabledInteractive","disabledInteractive",_s]},features:[gy]})}}return n})(),h5e=(()=>{class n extends fJ{constructor(t,i,r,o){super(t,i,r,o)}static{this.\u0275fac=function(i){return new(i||n)(E(Bt),E(Ti),E(Te),E(rs,8))}}static{this.\u0275cmp=ve({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(i,r){2&i&&(Yn("disabled",r._getDisabledAttribute())("aria-disabled",r._getAriaDisabled()),Mp(r.color?"mat-"+r.color:""),br("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[pt,or],attrs:r5e,ngContentSelectors:s5e,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(xc(o5e),$(0,"span",0),Lr(1),p(2,"span",1),Lr(3,1),f(),Lr(4,2),$(5,"span",2)(6,"span",3)),2&i&&br("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px);display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);font-weight:var(--mdc-text-button-label-text-weight);text-transform:var(--mdc-text-button-label-text-transform);height:var(--mdc-text-button-container-height);border-radius:var(--mdc-text-button-container-shape);padding:0 var(--mat-text-button-horizontal-padding, 8px)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);font-weight:var(--mdc-filled-button-label-text-weight);text-transform:var(--mdc-filled-button-label-text-transform);height:var(--mdc-filled-button-container-height);border-radius:var(--mdc-filled-button-container-shape);padding:0 var(--mat-filled-button-horizontal-padding, 16px)}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color)}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);font-weight:var(--mdc-protected-button-label-text-weight);text-transform:var(--mdc-protected-button-label-text-transform);height:var(--mdc-protected-button-container-height);border-radius:var(--mdc-protected-button-container-shape);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow)}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color)}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);font-weight:var(--mdc-outlined-button-label-text-weight);text-transform:var(--mdc-outlined-button-label-text-transform);height:var(--mdc-outlined-button-container-height);border-radius:var(--mdc-outlined-button-container-shape);padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width);padding:0 var(--mat-outlined-button-horizontal-padding, 15px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color)}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape)}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width))}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button-base{text-decoration:none}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}}return n})(),p5e=(()=>{class n extends fJ{constructor(t,i,r,o){super(t,i,r,o),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static{this.\u0275fac=function(i){return new(i||n)(E(Bt),E(Ti),E(Te),E(rs,8))}}static{this.\u0275cmp=ve({type:n,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(i,r){2&i&&(Yn("disabled",r._getDisabledAttribute())("aria-disabled",r._getAriaDisabled()),Mp(r.color?"mat-"+r.color:""),br("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[pt,or],attrs:l5e,ngContentSelectors:c5e,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(xc(),$(0,"span",0),Lr(1),$(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{color:var(--mdc-icon-button-icon-color)}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 48px);height:var(--mdc-icon-button-state-layer-size, 48px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 48px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size);-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color)}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color)}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color)}.mat-mdc-icon-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity)}.mat-mdc-icon-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity)}.mat-mdc-icon-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity)}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}}return n})(),m5e=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=nt({type:n})}static{this.\u0275inj=Xe({imports:[Ar,QLe,Ar]})}}return n})();function g5e(n,e){if(1&n){const t=Tt();p(0,"mat-toolbar",1)(1,"button",2),B("click",function(){return Re(t),Ne(Rt().installPwa())}),g(2," Agregar a Inicio "),f(),p(3,"button",3),B("click",function(){return Re(t),Ne(Rt().close())}),g(4," Cerrar "),f()()}}let _5e=(()=>{class n{constructor(t,i){this.data=t,this.bottomSheetRef=i}installPwa(){this.data.promptEvent.prompt(),this.close()}close(){this.bottomSheetRef.dismiss()}static{this.\u0275fac=function(i){return new(i||n)(E(hJ),E(RF))}}static{this.\u0275cmp=ve({type:n,selectors:[["app-prompt"]],decls:1,vars:1,consts:[["color","primary","class","android-prompt",4,"ngIf"],["color","primary",1,"android-prompt"],["mat-button","",1,"install",3,"click"],["mat-icon-button","",1,"close",3,"click"]],template:function(i,r){1&i&&hn(0,g5e,5,0,"mat-toolbar",0),2&i&&ct("ngIf","android"===r.data.mobileType)},dependencies:[n5e,h5e,p5e,nv],styles:[".mat-bottom-sheet-container{--mat-bottom-sheet-container-background-color: white!important;--mat-bottom-sheet-container-text-color: rgba(0, 0, 0, .87) !important;padding:3vh 2px!important;min-width:95vw!important;min-height:15vh!important;margin:0 auto;box-sizing:border-box!important;display:block!important}.android-prompt[_ngcontent-%COMP%]{position:inherit;padding:1vh 2px!important;display:flex;justify-content:space-between;align-items:center}.android-prompt[_ngcontent-%COMP%]   .install[_ngcontent-%COMP%]{background-color:#4c8bf5;color:#fff;border-radius:5px;margin:5px;padding:5px 10px;font-family:Arial;text-align:center;font-size:18px}.android-prompt[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{background-color:#fff;color:#4c8bf5;border-radius:5px;border:5px;margin:5px;padding:5px 10px;font-family:Arial;text-align:center;font-size:18px;min-width:75px}.ios-prompt[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;align-items:center}.ios-prompt[_ngcontent-%COMP%]   .close-ios-inv[_ngcontent-%COMP%]{position:absolute;right:0;top:0}.ios-prompt[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{text-align:center;padding:10px 25px 0}.ios-prompt[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{position:relative;top:-7px}.ios-prompt[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:inline}"]})}}return n})(),b5e=(()=>{class n{constructor(t,i){this.bottomSheet=t,this.platform=i}initPwaPrompt(){this.platform.ANDROID&&window.addEventListener("beforeinstallprompt",t=>{t.preventDefault(),this.promptEvent=t,this.openPromptComponent("android")})}openPromptComponent(t){yF(1e3).pipe(xn(1)).subscribe(()=>this.bottomSheet.open(_5e,{data:{mobileType:t,promptEvent:this.promptEvent}}))}static{this.\u0275fac=function(i){return new(i||n)(U(Z3e),U(Ti))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),LJ=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=nt({type:n})}static{this.\u0275inj=Xe({imports:[Ar,Ar]})}}return n})(),o4e=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=nt({type:n})}static{this.\u0275inj=Xe({imports:[Ar,bs,Ar]})}}return n})();function VJ(n){return new H(3e3,!1)}function Zl(n){switch(n.length){case 0:return new F_;case 1:return n[0];default:return new BZ(n)}}function BJ(n,e,t=new Map,i=new Map){const r=[],o=[];let s=-1,a=null;if(e.forEach(l=>{const c=l.get("offset"),u=c==s,d=u&&a||new Map;l.forEach((h,m)=>{let y=m,C=h;if("offset"!==m)switch(y=n.normalizePropertyName(y,r),C){case"!":C=t.get(m);break;case Va:C=i.get(m);break;default:C=n.normalizeStyleValue(m,y,C,r)}d.set(y,C)}),u||o.push(d),a=d,s=c}),r.length)throw function D4e(n){return new H(3502,!1)}();return o}function GF(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&qF(t,"start",n)));break;case"done":n.onDone(()=>i(t&&qF(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&qF(t,"destroy",n)))}}function qF(n,e,t){const o=WF(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),s=n._data;return null!=s&&(o._data=s),o}function WF(n,e,t,i,r="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function co(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function UJ(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}const U4e=typeof document>"u"?null:document.documentElement;function KF(n){const e=n.parentNode||n.host||null;return e===U4e?null:e}let Ou=null,zJ=!1;function jJ(n,e){for(;e;){if(e===n)return!0;e=KF(e)}return!1}function HJ(n,e,t){if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]}let YF=(()=>{class n{validateStyleProperty(t){return function j4e(n){Ou||(Ou=function H4e(){return typeof document<"u"?document.body:null}()||{},zJ=!!Ou.style&&"WebkitAppearance"in Ou.style);let e=!0;return Ou.style&&!function z4e(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Ou.style,!e&&zJ&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Ou.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return jJ(t,i)}getParentElement(t){return KF(t)}query(t,i,r){return HJ(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,o,s,a=[],l){return new F_(r,o)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac})}}return n})();class QF{static{this.NOOP=new YF}}class XF{}const G4e=1e3,ZF="ng-enter",pC="ng-leave",mC="ng-trigger",gC=".ng-trigger",GJ="ng-animating",JF=".ng-animating";function Ua(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:eL(parseFloat(e[1]),e[2])}function eL(n,e){return"s"===e?n*G4e:n}function _C(n,e,t){return n.hasOwnProperty("duration")?n:function W4e(n,e,t){let r,o=0,s="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(VJ()),{duration:0,delay:0,easing:""};r=eL(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(o=eL(parseFloat(l),a[4]));const c=a[5];c&&(s=c)}else r=n;if(!t){let a=!1,l=e.length;r<0&&(e.push(function s4e(){return new H(3100,!1)}()),a=!0),o<0&&(e.push(function a4e(){return new H(3101,!1)}()),a=!0),a&&e.splice(l,0,VJ())}return{duration:r,delay:o,easing:s}}(n,e,t)}function Ws(n,e,t){e.forEach((i,r)=>{const o=nL(r);t&&!t.has(r)&&t.set(r,n.style[o]),n.style[o]=i})}function Pu(n,e){e.forEach((t,i)=>{const r=nL(i);n.style[r]=""})}function H_(n){return Array.isArray(n)?1==n.length?n[0]:function kLe(n,e=null){return{type:Fe.Sequence,steps:n,options:e}}(n):n}const tL=new RegExp("{{\\s*(.+?)\\s*}}","g");function WJ(n){let e=[];if("string"==typeof n){let t;for(;t=tL.exec(n);)e.push(t[1]);tL.lastIndex=0}return e}function $_(n,e,t){const i=`${n}`,r=i.replace(tL,(o,s)=>{let a=e[s];return null==a&&(t.push(function c4e(n){return new H(3003,!1)}()),a=""),a.toString()});return r==i?n:r}const Q4e=/-+([a-z0-9])/g;function nL(n){return n.replace(Q4e,(...e)=>e[1].toUpperCase())}function uo(n,e,t){switch(e.type){case Fe.Trigger:return n.visitTrigger(e,t);case Fe.State:return n.visitState(e,t);case Fe.Transition:return n.visitTransition(e,t);case Fe.Sequence:return n.visitSequence(e,t);case Fe.Group:return n.visitGroup(e,t);case Fe.Animate:return n.visitAnimate(e,t);case Fe.Keyframes:return n.visitKeyframes(e,t);case Fe.Style:return n.visitStyle(e,t);case Fe.Reference:return n.visitReference(e,t);case Fe.AnimateChild:return n.visitAnimateChild(e,t);case Fe.AnimateRef:return n.visitAnimateRef(e,t);case Fe.Query:return n.visitQuery(e,t);case Fe.Stagger:return n.visitStagger(e,t);default:throw function u4e(n){return new H(3004,!1)}()}}function iL(n,e){return window.getComputedStyle(n)[e]}const J4e=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class KJ extends XF{normalizePropertyName(e,t){return nL(e)}normalizeStyleValue(e,t,i,r){let o="";const s=i.toString().trim();if(J4e.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function d4e(n,e){return new H(3005,!1)}())}return s+o}}const bC="*";const yC=new Set(["true","1"]),vC=new Set(["false","0"]);function YJ(n,e){const t=yC.has(n)||vC.has(n),i=yC.has(e)||vC.has(e);return(r,o)=>{let s=n==bC||n==r,a=e==bC||e==o;return!s&&t&&"boolean"==typeof r&&(s=r?yC.has(n):vC.has(n)),!a&&i&&"boolean"==typeof o&&(a=o?yC.has(e):vC.has(e)),s&&a}}const iVe=new RegExp("s*:selfs*,?","g");function rL(n,e,t,i){return new rVe(n).build(e,t,i)}class rVe{constructor(e){this._driver=e}build(e,t,i){const r=new aVe(t);return this._resetContextStyleTimingState(r),uo(this,H_(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const o=[],s=[];return"@"==e.name.charAt(0)&&t.errors.push(function h4e(){return new H(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==Fe.State){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,o.push(this.visitState(l,t))}),l.name=c}else if(a.type==Fe.Transition){const l=this.visitTransition(a,t);i+=l.queryCount,r+=l.depCount,s.push(l)}else t.errors.push(function f4e(){return new H(3007,!1)}())}),{type:Fe.Trigger,name:e.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const o=new Set,s=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{WJ(l).forEach(c=>{s.hasOwnProperty(c)||o.add(c)})})}),o.size&&t.errors.push(function p4e(n,e){return new H(3008,!1)}(0,o.values()))}return{type:Fe.State,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=uo(this,H_(e.animation),t),r=function eVe(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function tVe(n,e,t){if(":"==n[0]){const l=function nVe(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function E4e(n){return new H(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof l)return void e.push(l);n=l}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function C4e(n){return new H(3015,!1)}()),e;const r=i[1],o=i[2],s=i[3];e.push(YJ(r,s)),"<"==o[0]&&(r!=bC||s!=bC)&&e.push(YJ(s,r))}(i,t,e)):t.push(n),t}(e.expr,t.errors);return{type:Fe.Transition,matchers:r,animation:i,queryCount:t.queryCount,depCount:t.depCount,options:Ru(e.options)}}visitSequence(e,t){return{type:Fe.Sequence,steps:e.steps.map(i=>uo(this,i,t)),options:Ru(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const o=e.steps.map(s=>{t.currentTime=i;const a=uo(this,s,t);return r=Math.max(r,t.currentTime),a});return t.currentTime=r,{type:Fe.Group,steps:o,options:Ru(e.options)}}visitAnimate(e,t){const i=function cVe(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return oL(_C(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=oL(0,0,"");return o.dynamic=!0,o.strValue=t,o}const r=_C(t,e);return oL(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,o=e.styles?e.styles:Mo({});if(o.type==Fe.Keyframes)r=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;const c={};i.easing&&(c.easing=i.easing),s=Mo(c)}t.currentTime+=i.duration+i.delay;const l=this.visitStyle(s,t);l.isEmptyStep=a,r=l}return t.currentAnimateTimings=null,{type:Fe.Animate,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of r)"string"==typeof a?a===Va?i.push(a):t.errors.push(new H(3002,!1)):i.push(new Map(Object.entries(a)));let o=!1,s=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o))for(let l of a.values())if(l.toString().indexOf("{{")>=0){o=!0;break}}),{type:Fe.Style,styles:i,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,o=t.currentTime;i&&o>0&&(o-=i.duration+i.delay),e.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,l)=>{const c=t.collectedStyles.get(t.currentQuerySelector),u=c.get(l);let d=!0;u&&(o!=r&&o>=u.startTime&&r<=u.endTime&&(t.errors.push(function g4e(n,e,t,i,r){return new H(3010,!1)}()),d=!1),o=u.startTime),d&&c.set(l,{startTime:o,endTime:r}),t.options&&function Y4e(n,e,t){const i=e.params||{},r=WJ(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||t.push(function l4e(n){return new H(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:Fe.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function _4e(){return new H(3011,!1)}()),i;let o=0;const s=[];let a=!1,l=!1,c=0;const u=e.steps.map(S=>{const D=this._makeStyleAst(S,t);let F=null!=D.offset?D.offset:function lVe(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(D.styles),Y=0;return null!=F&&(o++,Y=D.offset=F),l=l||Y<0||Y>1,a=a||Y<c,c=Y,s.push(Y),D});l&&t.errors.push(function b4e(){return new H(3012,!1)}()),a&&t.errors.push(function y4e(){return new H(3200,!1)}());const d=e.steps.length;let h=0;o>0&&o<d?t.errors.push(function v4e(){return new H(3202,!1)}()):0==o&&(h=1/(d-1));const m=d-1,y=t.currentTime,C=t.currentAnimateTimings,T=C.duration;return u.forEach((S,D)=>{const F=h>0?D==m?1:h*D:s[D],Y=F*T;t.currentTime=y+C.delay+Y,C.duration=Y,this._validateStyleAst(S,t),S.offset=F,i.styles.push(S)}),i}visitReference(e,t){return{type:Fe.Reference,animation:uo(this,H_(e.animation),t),options:Ru(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:Fe.AnimateChild,options:Ru(e.options)}}visitAnimateRef(e,t){return{type:Fe.AnimateRef,animation:this.visitReference(e.animation,t),options:Ru(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[o,s]=function oVe(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(iVe,"")),n=n.replace(/@\*/g,gC).replace(/@\w+/g,t=>gC+"-"+t.slice(1)).replace(/:animating/g,JF),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+o:o,co(t.collectedStyles,t.currentQuerySelector,new Map);const a=uo(this,H_(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:Fe.Query,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:Ru(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function x4e(){return new H(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:_C(e.timings,t.errors,!0);return{type:Fe.Stagger,animation:uo(this,H_(e.animation),t),timings:i,options:null}}}class aVe{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Ru(n){return n?(n={...n}).params&&(n.params=function sVe(n){return n?{...n}:null}(n.params)):n={},n}function oL(n,e,t){return{duration:n,delay:e,easing:t}}function sL(n,e,t,i,r,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}class xC{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const hVe=new RegExp(":enter","g"),pVe=new RegExp(":leave","g");function aL(n,e,t,i,r,o=new Map,s=new Map,a,l,c=[]){return(new mVe).buildKeyframes(n,e,t,i,r,o,s,a,l,c)}class mVe{buildKeyframes(e,t,i,r,o,s,a,l,c,u=[]){c=c||new xC;const d=new lL(e,t,c,r,o,u,[]);d.options=l;const h=l.delay?Ua(l.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([s],null,d.errors,l),uo(this,i,d);const m=d.timelines.filter(y=>y.containsAnimation());if(m.length&&a.size){let y;for(let C=m.length-1;C>=0;C--){const T=m[C];if(T.element===t){y=T;break}}y&&!y.allowOnlyTimelineStyles()&&y.setStyles([a],null,d.errors,l)}return m.length?m.map(y=>y.buildKeyframes()):[sL(t,[],[],[],0,h,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const o=r?.delay;if(o){const s="number"==typeof o?o:Ua($_(o,r?.params??{},t.errors));i.delayNextStep(s)}}}_visitSubInstructions(e,t,i){let o=t.currentTimeline.currentTime;const s=null!=i.duration?Ua(i.duration):null,a=null!=i.delay?Ua(i.delay):null;return 0!==s&&e.forEach(l=>{const c=t.appendInstructionToTimeline(l,s,a);o=Math.max(o,c.duration+c.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),uo(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const o=e.options;if(o&&(o.params||o.delay)&&(r=t.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){r.previousNode.type==Fe.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=wC);const s=Ua(o.delay);r.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>uo(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const o=e.options&&e.options.delay?Ua(e.options.delay):0;e.steps.forEach(s=>{const a=t.createSubContext(e.options);o&&a.delayNextStep(o),uo(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return _C(t.params?$_(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const o=e.style;o.type==Fe.Keyframes?this.visitKeyframes(o,t):(t.incrementTime(i.duration),this.visitStyle(o,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(o):i.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,o=i.duration,a=t.createSubContext().currentTimeline;a.easing=i.easing,e.styles.forEach(l=>{a.forwardTime((l.offset||0)*o),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(r+o),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},o=r.delay?Ua(r.delay):0;o&&(t.previousNode.type===Fe.Style||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=wC);let s=i;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{t.currentQueryIndex=u;const d=t.createSubContext(e.options,c);o&&d.delayNextStep(o),c===t.element&&(l=d.currentTimeline),uo(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,d.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1);let l=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime}const u=t.currentTimeline;l&&u.delayNextStep(l);const d=u.currentTime;uo(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-d+(r.startTime-i.currentTimeline.startTime)}}const wC={};class lL{constructor(e,t,i,r,o,s,a,l){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=wC,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new CC(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=Ua(i.duration)),null!=i.delay&&(r.delay=Ua(i.delay));const o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=$_(o[a],s,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,o=new lL(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=wC,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},o=new gVe(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,o,s){let a=[];if(r&&a.push(this.element),e.length>0){e=(e=e.replace(hVe,"."+this._enterClassName)).replace(pVe,"."+this._leaveClassName);let c=this._driver.query(this.element,e,1!=i);0!==i&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),a.push(...c)}return!o&&0==a.length&&s.push(function w4e(n){return new H(3014,!1)}()),a}}class CC{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new CC(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||Va),this._currentKeyframe.set(t,Va);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const o=r&&r.params||{},s=function _Ve(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i??=e.keys();for(let o of i)t.set(o,Va)}else for(let[o,s]of r)t.set(o,s)}),t}(e,this._globalTimelineStyles);for(let[a,l]of s){const c=$_(l,o,i);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Va),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,l)=>{const c=new Map([...this._backFill,...a]);c.forEach((u,d)=>{"!"===u?e.add(d):u===Va&&t.add(d)}),i||c.set("offset",l/this.duration),r.push(c)});const o=[...e.values()],s=[...t.values()];if(i){const a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return sL(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}}class gVe extends CC{constructor(e,t,i,r,o,s,a=!1){super(e,t,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const o=[],s=i+t,a=t/s,l=new Map(e[0]);l.set("offset",0),o.push(l);const c=new Map(e[0]);c.set("offset",ZJ(a)),o.push(c);const u=e.length-1;for(let d=1;d<=u;d++){let h=new Map(e[d]);const m=h.get("offset");h.set("offset",ZJ((t+m*i)/s)),o.push(h)}i=s,t=0,r="",e=o}return sL(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function ZJ(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}function JJ(n,e,t,i,r,o,s,a,l,c,u,d,h){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:h}}const cL={};class eee{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function bVe(n,e,t,i,r){return n.some(o=>o(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,o,s,a,l,c,u){const d=[],h=this.ast.options&&this.ast.options.params||cL,y=this.buildStyles(i,a&&a.params||cL,d),C=l&&l.params||cL,T=this.buildStyles(r,C,d),S=new Set,D=new Map,F=new Map,Y="void"===r,re={params:tee(C,h),delay:this.ast.options?.delay},ue=u?[]:aL(e,t,this.ast.animation,o,s,y,T,re,c,d);let Oe=0;return ue.forEach(et=>{Oe=Math.max(et.duration+et.delay,Oe)}),d.length?JJ(t,this._triggerName,i,r,Y,y,T,[],[],D,F,Oe,d):(ue.forEach(et=>{const Tn=et.element,Zi=co(D,Tn,new Set);et.preStyleProps.forEach(ho=>Zi.add(ho));const Af=co(F,Tn,new Set);et.postStyleProps.forEach(ho=>Af.add(ho)),Tn!==t&&S.add(Tn)}),JJ(t,this._triggerName,i,r,Y,y,T,ue,[...S.values()],D,F,Oe))}}function tee(n,e){const t={...e};return Object.entries(n).forEach(([i,r])=>{null!=r&&(t[i]=r)}),t}class yVe{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=tee(e,this.defaultParams);return this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,a)=>{s&&(s=$_(s,r,t));const l=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,l,s,t),i.set(a,s)})}),i}}class xVe{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new yVe(r.style,r.options&&r.options.params||{},i))}),nee(this.states,"true","1"),nee(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new eee(e,r,this.states))}),this.fallbackTransition=function wVe(n,e,t){return new eee(n,{type:Fe.Transition,animation:{type:Fe.Sequence,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(s=>s.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function nee(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const CVe=new xC;class EVe{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],o=rL(this._driver,t,i,[]);if(i.length)throw function S4e(n){return new H(3503,!1)}();this._animations.set(e,o)}_buildPlayer(e,t,i){const r=e.element,o=BJ(this._normalizer,e.keyframes,t,i);return this._driver.animate(r,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],o=this._animations.get(e);let s;const a=new Map;if(o?(s=aL(this._driver,t,o,ZF,pC,new Map,new Map,i,CVe,r),s.forEach(u=>{const d=co(a,u.element,new Map);u.postStyleProps.forEach(h=>d.set(h,null))})):(r.push(function A4e(){return new H(3300,!1)}()),s=[]),r.length)throw function k4e(n){return new H(3504,!1)}();a.forEach((u,d)=>{u.forEach((h,m)=>{u.set(m,this._driver.computeStyle(d,m,Va))})});const c=Zl(s.map(u=>{const d=a.get(u.element);return this._buildPlayer(u,new Map,d)}));return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function O4e(n){return new H(3301,!1)}();return t}listen(e,t,i,r){const o=WF(t,"","","");return GF(this._getPlayer(e),i,o,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const o=this._getPlayer(e);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const iee="ng-animate-queued",uL="ng-animate-disabled",SVe=[],ree={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},AVe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Jo="__ng_removed";class dL{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function RVe(n){return n??null}(i?e.value:e),i){const{value:o,...s}=e;this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const G_="void",hL=new dL(G_);class kVe{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,So(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function P4e(n,e){return new H(3302,!1)}();if(null==i||0==i.length)throw function R4e(n){return new H(3303,!1)}();if(!function NVe(n){return"start"==n||"done"==n}(i))throw function N4e(n,e){return new H(3400,!1)}();const o=co(this._elementListeners,e,[]),s={name:t,phase:i,callback:r};o.push(s);const a=co(this._engine.statesByElement,e,new Map);return a.has(t)||(So(e,mC),So(e,mC+"-"+t),a.set(t,hL)),()=>{this._engine.afterFlush(()=>{const l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function F4e(n){return new H(3401,!1)}();return t}trigger(e,t,i,r=!0){const o=this._getTrigger(t),s=new fL(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(So(e,mC),So(e,mC+"-"+t),this._engine.statesByElement.set(e,a=new Map));let l=a.get(t);const c=new dL(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(t,c),l||(l=hL),c.value!==G_&&l.value===c.value){if(!function VVe(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const o=t[r];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}(l.params,c.params)){const C=[],T=o.matchStyles(l.value,l.params,C),S=o.matchStyles(c.value,c.params,C);C.length?this._engine.reportError(C):this._engine.afterFlush(()=>{Pu(e,T),Ws(e,S)})}return}const h=co(this._engine.playersByElement,e,[]);h.forEach(C=>{C.namespaceId==this.id&&C.triggerName==t&&C.queued&&C.destroy()});let m=o.matchTransition(l.value,c.value,e,c.params),y=!1;if(!m){if(!r)return;m=o.fallbackTransition,y=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:m,fromState:l,toState:c,player:s,isFallbackTransition:y}),y||(So(e,iee),s.onStart(()=>{Sf(e,iee)})),s.onDone(()=>{let C=this.players.indexOf(s);C>=0&&this.players.splice(C,1);const T=this._engine.playersByElement.get(e);if(T){let S=T.indexOf(s);S>=0&&T.splice(S,1)}}),this.players.push(s),h.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,gC,!0);i.forEach(r=>{if(r[Jo])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const o=this._engine.statesByElement.get(e),s=new Map;if(o){const a=[];if(o.forEach((l,c)=>{if(s.set(c,l.value),this._triggers.has(c)){const u=this.trigger(e,c,G_,r);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),i&&Zl(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(o=>{const s=o.name;if(r.has(s))return;r.add(s);const l=this._triggers.get(s).fallbackTransition,c=i.get(s)||hL,u=new dL(G_),d=new fL(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(e):[];if(o&&o.length)r=!0;else{let s=e;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const o=e[Jo];(!o||o===ree)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){So(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==i.triggerName){const l=WF(o,i.triggerName,i.fromState.value,i.toState.value);l._data=e,GF(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const o=i.transition.ast.depCount,s=r.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class OVe{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i,r){this.bodyNode=e,this.driver=t,this._normalizer=i,this.scheduler=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new kVe(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){const l=r.get(a);if(l){const c=i.indexOf(l);i.splice(c+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&t.add(o)}return t}trigger(e,t,i,r){if(EC(t)){const o=this._fetchNamespace(e);if(o)return o.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!EC(t))return;const o=t[Jo];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){const s=this._fetchNamespace(e);s&&s.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),So(e,uL)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Sf(e,uL))}removeNode(e,t,i){if(EC(t)){this.scheduler?.notify();const r=e?this._fetchNamespace(e):null;r?r.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i);const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,i)}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,i,r,o){this.collectedLeaveElements.push(t),t[Jo]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,i,r,o){return EC(t)?this._fetchNamespace(e).listen(t,i,r,o):()=>{}}_buildInstruction(e,t,i,r,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,gC,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,JF,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Zl(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Jo];if(t&&t.setForRemoval){if(e[Jo]=ree,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(uL)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)So(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?Zl(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function L4e(n){return new H(3402,!1)}()}_flushAnimations(e,t){const i=new xC,r=[],o=new Map,s=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(ge=>{u.add(ge);const be=this.driver.query(ge,".ng-animate-queued",!0);for(let Ce=0;Ce<be.length;Ce++)u.add(be[Ce])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),m=aee(h,this.collectedEnterElements),y=new Map;let C=0;m.forEach((ge,be)=>{const Ce=ZF+C++;y.set(be,Ce),ge.forEach(vt=>So(vt,Ce))});const T=[],S=new Set,D=new Set;for(let ge=0;ge<this.collectedLeaveElements.length;ge++){const be=this.collectedLeaveElements[ge],Ce=be[Jo];Ce&&Ce.setForRemoval&&(T.push(be),S.add(be),Ce.hasAnimation?this.driver.query(be,".ng-star-inserted",!0).forEach(vt=>S.add(vt)):D.add(be))}const F=new Map,Y=aee(h,Array.from(S));Y.forEach((ge,be)=>{const Ce=pC+C++;F.set(be,Ce),ge.forEach(vt=>So(vt,Ce))}),e.push(()=>{m.forEach((ge,be)=>{const Ce=y.get(be);ge.forEach(vt=>Sf(vt,Ce))}),Y.forEach((ge,be)=>{const Ce=F.get(be);ge.forEach(vt=>Sf(vt,Ce))}),T.forEach(ge=>{this.processLeaveNode(ge)})});const re=[],ue=[];for(let ge=this._namespaceList.length-1;ge>=0;ge--)this._namespaceList[ge].drainQueuedTransitions(t).forEach(Ce=>{const vt=Ce.player,Li=Ce.element;if(re.push(vt),this.collectedEnterElements.length){const pr=Li[Jo];if(pr&&pr.setForMove){if(pr.previousTriggersValues&&pr.previousTriggersValues.has(Ce.triggerName)){const Lu=pr.previousTriggersValues.get(Ce.triggerName),Ao=this.statesByElement.get(Ce.element);if(Ao&&Ao.has(Ce.triggerName)){const MC=Ao.get(Ce.triggerName);MC.value=Lu,Ao.set(Ce.triggerName,MC)}}return void vt.destroy()}}const Ks=!d||!this.driver.containsElement(d,Li),fo=F.get(Li),Jl=y.get(Li),Fn=this._buildInstruction(Ce,i,Jl,fo,Ks);if(Fn.errors&&Fn.errors.length)return void ue.push(Fn);if(Ks)return vt.onStart(()=>Pu(Li,Fn.fromStyles)),vt.onDestroy(()=>Ws(Li,Fn.toStyles)),void r.push(vt);if(Ce.isFallbackTransition)return vt.onStart(()=>Pu(Li,Fn.fromStyles)),vt.onDestroy(()=>Ws(Li,Fn.toStyles)),void r.push(vt);const Dee=[];Fn.timelines.forEach(pr=>{pr.stretchStartingKeyframe=!0,this.disabledNodes.has(pr.element)||Dee.push(pr)}),Fn.timelines=Dee,i.append(Li,Fn.timelines),s.push({instruction:Fn,player:vt,element:Li}),Fn.queriedElements.forEach(pr=>co(a,pr,[]).push(vt)),Fn.preStyleProps.forEach((pr,Lu)=>{if(pr.size){let Ao=l.get(Lu);Ao||l.set(Lu,Ao=new Set),pr.forEach((MC,wL)=>Ao.add(wL))}}),Fn.postStyleProps.forEach((pr,Lu)=>{let Ao=c.get(Lu);Ao||c.set(Lu,Ao=new Set),pr.forEach((MC,wL)=>Ao.add(wL))})});if(ue.length){const ge=[];ue.forEach(be=>{ge.push(function V4e(n,e){return new H(3505,!1)}())}),re.forEach(be=>be.destroy()),this.reportError(ge)}const Oe=new Map,et=new Map;s.forEach(ge=>{const be=ge.element;i.has(be)&&(et.set(be,be),this._beforeAnimationBuild(ge.player.namespaceId,ge.instruction,Oe))}),r.forEach(ge=>{const be=ge.element;this._getPreviousPlayers(be,!1,ge.namespaceId,ge.triggerName,null).forEach(vt=>{co(Oe,be,[]).push(vt),vt.destroy()})});const Tn=T.filter(ge=>cee(ge,l,c)),Zi=new Map;see(Zi,this.driver,D,c,Va).forEach(ge=>{cee(ge,l,c)&&Tn.push(ge)});const ho=new Map;m.forEach((ge,be)=>{see(ho,this.driver,new Set(ge),l,"!")}),Tn.forEach(ge=>{const be=Zi.get(ge),Ce=ho.get(ge);Zi.set(ge,new Map([...be?.entries()??[],...Ce?.entries()??[]]))});const jt=[],Nu=[],Fu={};s.forEach(ge=>{const{element:be,player:Ce,instruction:vt}=ge;if(i.has(be)){if(u.has(be))return Ce.onDestroy(()=>Ws(be,vt.toStyles)),Ce.disabled=!0,Ce.overrideTotalTime(vt.totalTime),void r.push(Ce);let Li=Fu;if(et.size>1){let fo=be;const Jl=[];for(;fo=fo.parentNode;){const Fn=et.get(fo);if(Fn){Li=Fn;break}Jl.push(fo)}Jl.forEach(Fn=>et.set(Fn,Li))}const Ks=this._buildAnimation(Ce.namespaceId,vt,Oe,o,ho,Zi);if(Ce.setRealPlayer(Ks),Li===Fu)jt.push(Ce);else{const fo=this.playersByElement.get(Li);fo&&fo.length&&(Ce.parentPlayer=Zl(fo)),r.push(Ce)}}else Pu(be,vt.fromStyles),Ce.onDestroy(()=>Ws(be,vt.toStyles)),Nu.push(Ce),u.has(be)&&r.push(Ce)}),Nu.forEach(ge=>{const be=o.get(ge.element);if(be&&be.length){const Ce=Zl(be);ge.setRealPlayer(Ce)}}),r.forEach(ge=>{ge.parentPlayer?ge.syncPlayerEvents(ge.parentPlayer):ge.destroy()});for(let ge=0;ge<T.length;ge++){const be=T[ge],Ce=be[Jo];if(Sf(be,pC),Ce&&Ce.hasAnimation)continue;let vt=[];if(a.size){let Ks=a.get(be);Ks&&Ks.length&&vt.push(...Ks);let fo=this.driver.query(be,JF,!0);for(let Jl=0;Jl<fo.length;Jl++){let Fn=a.get(fo[Jl]);Fn&&Fn.length&&vt.push(...Fn)}}const Li=vt.filter(Ks=>!Ks.destroyed);Li.length?FVe(this,be,Li):this.processLeaveNode(be)}return T.length=0,jt.forEach(ge=>{this.players.push(ge),ge.onDone(()=>{ge.destroy();const be=this.players.indexOf(ge);this.players.splice(be,1)}),ge.play()}),jt}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,o){let s=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(s=a)}else{const a=this.playersByElement.get(e);if(a){const l=!o||o==G_;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||s.push(c)})}}return(i||r)&&(s=s.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(e,t,i){const o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const l of t.timelines){const c=l.element,u=c!==o,d=co(i,c,[]);this._getPreviousPlayers(c,u,s,a,t.toState).forEach(m=>{const y=m.getRealPlayer();y.beforeDestroy&&y.beforeDestroy(),m.destroy(),d.push(m)})}Pu(o,t.fromStyles)}_buildAnimation(e,t,i,r,o,s){const a=t.triggerName,l=t.element,c=[],u=new Set,d=new Set,h=t.timelines.map(y=>{const C=y.element;u.add(C);const T=C[Jo];if(T&&T.removedBeforeQueried)return new F_(y.duration,y.delay);const S=C!==l,D=function LVe(n){const e=[];return lee(n,e),e}((i.get(C)||SVe).map(Oe=>Oe.getRealPlayer())).filter(Oe=>!!Oe.element&&Oe.element===C),F=o.get(C),Y=s.get(C),re=BJ(this._normalizer,y.keyframes,F,Y),ue=this._buildPlayer(y,re,D);if(y.subTimeline&&r&&d.add(C),S){const Oe=new fL(e,a,C);Oe.setRealPlayer(ue),c.push(Oe)}return ue});c.forEach(y=>{co(this.playersByQueriedElement,y.element,[]).push(y),y.onDone(()=>function PVe(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,y.element,y))}),u.forEach(y=>So(y,GJ));const m=Zl(h);return m.onDestroy(()=>{u.forEach(y=>Sf(y,GJ)),Ws(l,t.toStyles)}),d.forEach(y=>{co(r,y,[]).push(m)}),m}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new F_(e.duration,e.delay)}}class fL{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new F_,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>GF(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){co(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function EC(n){return n&&1===n.nodeType}function oee(n,e){const t=n.style.display;return n.style.display=e??"none",t}function see(n,e,t,i,r){const o=[];t.forEach(l=>o.push(oee(l)));const s=[];i.forEach((l,c)=>{const u=new Map;l.forEach(d=>{const h=e.computeStyle(c,d,r);u.set(d,h),(!h||0==h.length)&&(c[Jo]=AVe,s.push(c))}),n.set(c,u)});let a=0;return t.forEach(l=>oee(l,o[a++])),s}function aee(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const r=new Set(e),o=new Map;function s(a){if(!a)return 1;let l=o.get(a);if(l)return l;const c=a.parentNode;return l=t.has(c)?c:r.has(c)?1:s(c),o.set(a,l),l}return e.forEach(a=>{const l=s(a);1!==l&&t.get(l).push(a)}),t}function So(n,e){n.classList?.add(e)}function Sf(n,e){n.classList?.remove(e)}function FVe(n,e,t){Zl(t).onDone(()=>n.processLeaveNode(e))}function lee(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof BZ?lee(i.players,e):e.push(i)}}function cee(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(o=>r.add(o)):e.set(n,i),t.delete(n),!0}class q_{constructor(e,t,i,r){this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(o,s)=>{},this._transitionEngine=new OVe(e.body,t,i,r),this._timelineEngine=new EVe(e.body,t,i),this._transitionEngine.onRemovalComplete=(o,s)=>this.onRemovalComplete(o,s)}registerTrigger(e,t,i,r,o){const s=e+"-"+r;let a=this._triggerCache[s];if(!a){const l=[],u=rL(this._driver,o,l,[]);if(l.length)throw function M4e(n,e){return new H(3404,!1)}();a=function vVe(n,e,t){return new xVe(n,e,t)}(r,u,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,r,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i){this._transitionEngine.removeNode(e,t,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[o,s]=UJ(i);this._timelineEngine.command(o,t,s,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,o){if("@"==i.charAt(0)){const[s,a]=UJ(i);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,i,r,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}class W_{static{this.initialStylesByElement=new WeakMap}constructor(e,t,i){this._element=e,this._startStyles=t,this._endStyles=i,this._state=0;let r=W_.initialStylesByElement.get(e);r||W_.initialStylesByElement.set(e,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&Ws(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ws(this._element,this._initialStyles),this._endStyles&&(Ws(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(W_.initialStylesByElement.delete(this._element),this._startStyles&&(Pu(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Pu(this._element,this._endStyles),this._endStyles=null),Ws(this._element,this._initialStyles),this._state=3)}}function pL(n){let e=null;return n.forEach((t,i)=>{(function UVe(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class uee{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;const t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:iL(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class dee{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return jJ(e,t)}getParentElement(e){return KF(e)}query(e,t,i){return HJ(e,t,i)}computeStyle(e,t,i){return iL(e,t)}animate(e,t,i,r,o,s=[]){const l={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(l.easing=o);const c=new Map,u=s.filter(m=>m instanceof uee);(function X4e(n,e){return 0===n||0===e})(i,r)&&u.forEach(m=>{m.currentSnapshot.forEach((y,C)=>c.set(C,y))});let d=function K4e(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}(t).map(m=>new Map(m));d=function Z4e(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((o,s)=>{i.has(s)||r.push(s),i.set(s,o)}),r.length)for(let o=1;o<e.length;o++){let s=e[o];r.forEach(a=>s.set(a,iL(n,a)))}}return e}(e,d,c);const h=function BVe(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=pL(e[0]),e.length>1&&(i=pL(e[e.length-1]))):e instanceof Map&&(t=pL(e)),t||i?new W_(n,t,i):null}(e,d);return new uee(e,d,l,h)}}const hee="@.disabled";class fee{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==hee?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class zVe extends fee{constructor(e,t,i,r,o){super(t,i,r,o),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==hee?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function jVe(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let o=t.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function HVe(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(o)),this.engine.listen(this.namespaceId,r,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(e,t,i)}}class $Ve{constructor(e,t,i){this.delegate=e,this.engine=t,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,t.onRemovalComplete=(r,o)=>{const s=o?.parentNode(r);s&&o.removeChild(s,r)}}createRenderer(e,t){const r=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){const c=this._rendererCache;let u=c.get(r);return u||(u=new fee("",r,this.engine,()=>c.delete(r)),c.set(r,u)),u}const o=t.id,s=t.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);const a=c=>{Array.isArray(c)?c.forEach(a):this.engine.registerTrigger(o,s,e,c.name,c)};return t.data.animation.forEach(a),new zVe(this,s,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,i){if(e>=0&&e<this._microtaskId)return void this._zone.run(()=>t(i));const r=this._animationCallbacksBuffer;0==r.length&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),r.push([t,i])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}let GVe=(()=>{class n extends q_{constructor(t,i,r){super(t,i,r,Z(VE,{optional:!0}))}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(i){return new(i||n)(U(ut),U(QF),U(XF))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac})}}return n})();const pee=[{provide:XF,useFactory:function qVe(){return new KJ}},{provide:q_,useClass:GVe},{provide:BE,useFactory:function WVe(n,e,t){return new $Ve(n,e,t)},deps:[MI,q_,Te]}],mL=[{provide:QF,useFactory:()=>new dee},{provide:rs,useValue:"BrowserAnimations"},...pee],mee=[{provide:QF,useClass:YF},{provide:rs,useValue:"NoopAnimations"},...pee];let KVe=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?mee:mL}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=nt({type:n})}static{this.\u0275inj=Xe({providers:mL,imports:[$6]})}}return n})(),tBe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=nt({type:n})}static{this.\u0275inj=Xe({imports:[Ar,bs,lZ,Ar]})}}return n})();function nBe(n,e){}class gL{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const _L="mdc-dialog--open",gee="mdc-dialog--opening",_ee="mdc-dialog--closing";let bee=(()=>{class n extends kF{constructor(t,i,r,o,s,a,l,c,u){super(t,i,r,o,s,a,l,u),this._animationMode=c,this._animationStateChanged=new qe,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._actionSectionCount=0,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?vee(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?vee(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(yee,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(gee,_L)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(_L),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(_L),this._animationsEnabled?(this._hostElement.style.setProperty(yee,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(_ee)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(t){this._actionSectionCount+=t,this._changeDetectorRef.markForCheck()}_clearAnimationClasses(){this._hostElement.classList.remove(gee,_ee)}_waitForAnimationToComplete(t,i){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(i,t)}_requestAnimationFrame(t){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(t):t()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(t){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:t})}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}attachComponentPortal(t){const i=super.attachComponentPortal(t);return i.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),i}static{this.\u0275fac=function(i){return new(i||n)(E(Bt),E(gF),E(ut,8),E(gL),E(Kw),E(Te),E(N_),E(rs,8),E(Xw))}}static{this.\u0275cmp=ve({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(i,r){2&i&&(My("id",r._config.id),Yn("aria-modal",r._config.ariaModal)("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),br("_mat-animation-noopable",!r._animationsEnabled)("mat-mdc-dialog-container-with-actions",r._actionSectionCount>0))},standalone:!0,features:[pt,or],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(i,r){1&i&&(p(0,"div",0)(1,"div",1),hn(2,nBe,0,0,"ng-template",2),f()())},dependencies:[eC],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0;transform:scale(0.8)}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--closing .mdc-dialog__surface{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{opacity:1}.mdc-dialog--open .mdc-dialog__surface{transform:none}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{width:100%;height:100%}.mat-mdc-dialog-component-host{display:contents}.mat-mdc-dialog-container{--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition:opacity linear var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container .mdc-dialog__surface{transition:transform var(--mat-dialog-transition-duration, 0ms) 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container,.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__surface{transition:none}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 80vw);min-width:var(--mat-dialog-container-min-width, 0)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, 80vw)}}.mat-mdc-dialog-title{padding:var(--mat-dialog-headline-padding, 0 24px 9px)}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{padding:var(--mat-dialog-actions-padding, 8px);justify-content:var(--mat-dialog-actions-alignment, start)}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2})}}return n})();const yee="--mat-dialog-transition-duration";function vee(n){return null==n?null:"number"==typeof n?n:n.endsWith("ms")?cZ(n.substring(0,n.length-2)):n.endsWith("s")?1e3*cZ(n.substring(0,n.length-1)):"0"===n?0:null}var IC=function(n){return n[n.OPEN=0]="OPEN",n[n.CLOSING=1]="CLOSING",n[n.CLOSED=2]="CLOSED",n}(IC||{});class bL{constructor(e,t,i){this._ref=e,this._containerInstance=i,this._afterOpened=new lt,this._beforeClosed=new lt,this._state=IC.OPEN,this.disableClose=t.disableClose,this.id=e.id,e.addPanelClass("mat-mdc-dialog-panel"),i._animationStateChanged.pipe(ln(r=>"opened"===r.state),xn(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(ln(r=>"closed"===r.state),xn(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),R_(this.backdropClick(),this.keydownEvents().pipe(ln(r=>27===r.keyCode&&!this.disableClose&&!qw(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),function xee(n,e,t){return n._closeInteractionType=e,n.close(t)}(this,"keydown"===r.type?"keyboard":"mouse"))})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(ln(t=>"closing"===t.state),xn(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=IC.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(e){let t=this._ref.config.positionStrategy;return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._ref.updatePosition(),this}updateSize(e="",t=""){return this._ref.updateSize(e,t),this}addPanelClass(e){return this._ref.addPanelClass(e),this}removePanelClass(e){return this._ref.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=IC.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const oBe=new X("MatMdcDialogData"),sBe=new X("mat-mdc-dialog-default-options"),wee=new X("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{const n=Z(Io);return()=>n.scrollStrategies.block()}});let lBe=0,yL=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(t,i,r,o,s,a,l,c){this._overlay=t,this._defaultOptions=o,this._scrollStrategy=s,this._parentDialog=a,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new lt,this._afterOpenedAtThisLevel=new lt,this.dialogConfigClass=gL,this.afterAllClosed=$d(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(xv(void 0))),this._dialog=i.get(dJ),this._dialogRefConstructor=bL,this._dialogContainerType=bee,this._dialogDataToken=oBe}open(t,i){let r;(i={...this._defaultOptions||new gL,...i}).id=i.id||"mat-mdc-dialog-"+lBe++,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const o=this._dialog.open(t,{...i,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:i},{provide:B_,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(s,a,l)=>(r=new this._dialogRefConstructor(s,i,l),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:l},{provide:this._dialogDataToken,useValue:a.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentRef=o.componentRef,r.componentInstance=o.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const s=this.openDialogs.indexOf(r);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(t){let i=t.length;for(;i--;)t[i].close()}static{this.\u0275fac=function(i){return new(i||n)(U(Io),U(qt),U(Ln,8),U(sBe,8),U(wee),U(n,12),U(tC),U(rs,8))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const bBe=Jn(sF,!0),yBe=Jn(aF,!0),vBe=Jn(oF,!0),xBe=["determinateSpinner"];function wBe(n,e){if(1&n&&(Gu(),p(0,"svg",11),$(1,"circle",12),f()),2&n){const t=Rt();Yn("viewBox",t._viewBox()),N(),yc("stroke-dasharray",t._strokeCircumference(),"px")("stroke-dashoffset",t._strokeCircumference()/2,"px")("stroke-width",t._circleStrokeWidth(),"%"),Yn("r",t._circleRadius())}}const CBe=new X("mat-progress-spinner-default-options",{providedIn:"root",factory:function EBe(){return{diameter:Mee}}}),Mee=100;let IBe=(()=>{class n{get color(){return this._color||this._defaultColor}set color(t){this._color=t}constructor(t,i,r){this._elementRef=t,this._defaultColor="primary",this._value=0,this._diameter=Mee,this._noopAnimations="NoopAnimations"===i&&!!r&&!r._forceAnimations,this.mode="mat-spinner"===t.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",r&&(r.color&&(this.color=this._defaultColor=r.color),r.diameter&&(this.diameter=r.diameter),r.strokeWidth&&(this.strokeWidth=r.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(t){this._value=Math.max(0,Math.min(100,t||0))}get diameter(){return this._diameter}set diameter(t){this._diameter=t||0}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(t){this._strokeWidth=t||0}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const t=2*this._circleRadius()+this.strokeWidth;return`0 0 ${t} ${t}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static{this.\u0275fac=function(i){return new(i||n)(E(Bt),E(rs,8),E(CBe))}}static{this.\u0275cmp=ve({type:n,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(i,r){if(1&i&&Qn(xBe,5),2&i){let o;Sn(o=An())&&(r._determinateCircle=o.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:18,hostBindings:function(i,r){2&i&&(Yn("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===r.mode?r.value:null)("mode",r.mode),Mp("mat-"+r.color),yc("width",r.diameter,"px")("height",r.diameter,"px")("--mdc-circular-progress-size",r.diameter+"px")("--mdc-circular-progress-active-indicator-width",r.diameter+"px"),br("_mat-animation-noopable",r._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===r.mode))},inputs:{color:"color",mode:"mode",value:[We.HasDecoratorInputTransform,"value","value",iI],diameter:[We.HasDecoratorInputTransform,"diameter","diameter",iI],strokeWidth:[We.HasDecoratorInputTransform,"strokeWidth","strokeWidth",iI]},exportAs:["matProgressSpinner"],standalone:!0,features:[gy,or],decls:14,vars:11,consts:[["circle",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["determinateSpinner",""],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(i,r){if(1&i&&(hn(0,wBe,2,8,"ng-template",null,0,QU),p(2,"div",1,2),Gu(),p(4,"svg",3),$(5,"circle",4),f()(),sb(),p(6,"div",5)(7,"div",6)(8,"div",7),Sp(9,8),f(),p(10,"div",9),Sp(11,8),f(),p(12,"div",10),Sp(13,8),f()()()),2&i){const o=fn(1);N(4),Yn("viewBox",r._viewBox()),N(),yc("stroke-dasharray",r._strokeCircumference(),"px")("stroke-dashoffset",r._strokeDashOffset(),"px")("stroke-width",r._circleStrokeWidth(),"%"),Yn("r",r._circleRadius()),N(4),ct("ngTemplateOutlet",o),N(2),ct("ngTemplateOutlet",o),N(2),ct("ngTemplateOutlet",o)}},dependencies:[v6],styles:["@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-color-1-fade-in-out{from{opacity:.99}25%{opacity:.99}26%{opacity:0}89%{opacity:0}90%{opacity:.99}to{opacity:.99}}@keyframes mdc-circular-progress-color-2-fade-in-out{from{opacity:0}15%{opacity:0}25%{opacity:.99}50%{opacity:.99}51%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-3-fade-in-out{from{opacity:0}40%{opacity:0}50%{opacity:.99}75%{opacity:.99}76%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-4-fade-in-out{from{opacity:0}65%{opacity:0}75%{opacity:.99}90%{opacity:.99}to{opacity:0}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}.mdc-circular-progress{display:inline-flex;position:relative;direction:ltr;line-height:0;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-1{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-1-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-2{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-2-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-3{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-3-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-4{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-4-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--closed{opacity:0}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-1 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-2 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-3 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-4 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner .mdc-circular-progress{width:var(--mdc-circular-progress-size) !important;height:var(--mdc-circular-progress-size) !important}.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}"],encapsulation:2,changeDetection:0})}}return n})(),MBe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=nt({type:n})}static{this.\u0275inj=Xe({imports:[bs,Ar]})}}return n})();function DBe(n,e){1&n&&$(0,"mat-progress-spinner",7),2&n&&ct("diameter",50)}let SBe=(()=>{class n{set width(t){this.imageWidth.set(t)}set height(t){this.imageHeight.set(t)}set path(t){this.imagePath.set(t)}fileSelected(t){const i=t.target?.files[0];this.uploadImage(i)}constructor(){this.imageWidth=Za(0),this.imageHeight=Za(0),this.imagePath=Za(""),this.placeholder=z4(()=>`https://placehold.co/${this.imageWidth()}X${this.imageHeight()}`),this.croppedImageURL=Za(void 0),this.imageSource=z4(()=>this.croppedImageURL()??this.placeholder()),this.uploading=Za(!1),this.dialog=Z(yL),this.imageReady=new qe,this.storage=lF(),this.zone=Z(Te),function Q4(n,e){ds("NgSignals"),!e?.injector&&Sb();const t=e?.injector??Z(qt),i=!0!==e?.manualCleanup?t.get(dy):null,r=new Joe(t.get(Qoe),n,typeof Zone>"u"?null:Zone.current,i,t,e?.allowSignalWrites??!1),o=t.get(gd,null,{optional:!0});return o&&8&o._lView[Ee]?(o._lView[tb]??=[]).push(r.watcher.notify):r.watcher.notify(),r}(()=>{this.croppedImageURL()&&this.imageReady.emit(this.croppedImageURL())})}uploadImage(t){var i=this;return _(function*(){i.uploading.set(!0);const r=yBe(i.storage,i.imagePath()),o=yield vBe(r,t),s=yield bBe(o.ref);i.croppedImageURL.set(s),i.uploading.set(!1)})()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=ve({type:n,selectors:[["app-image-control"]],inputs:{width:"width",height:"height",path:"path"},outputs:{imageReady:"imageReady"},standalone:!0,features:[or],decls:8,vars:8,consts:[[1,"control-container"],[1,"image-container"],[1,"mat-elevation-z5",3,"src","width","height"],["mode","indeterminate",3,"diameter",4,"ngIf"],["hidden","","type","file",3,"change","click"],["inputField",""],["mat-raised-button","",3,"click"],["mode","indeterminate",3,"diameter"]],template:function(i,r){if(1&i){const o=Tt();p(0,"div",0)(1,"div",1),$(2,"img",2),hn(3,DBe,1,1,"mat-progress-spinner",3),f(),p(4,"input",4,5),B("change",function(a){return r.fileSelected(a)})("click",function(){return Re(o),Ne(fn(5).value="")}),f(),p(6,"button",6),B("click",function(){return Re(o),Ne(fn(5).click())}),g(7," Select Photo "),f()()}2&i&&(yc("width",r.imageWidth()+"px"),N(2),yc("opacity",r.uploading()?.5:1),ct("src",r.imageSource(),Ya)("width",r.imageWidth())("height",r.imageHeight()),N(),ct("ngIf",r.uploading()))},dependencies:[MBe,IBe],styles:[".control-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;position:relative}.image-container[_ngcontent-%COMP%]{border-radius:5px;position:relative}.image-container[_ngcontent-%COMP%] > mat-progress-spinner[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.image-container[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{border-radius:inherit}"]})}}return n})();const ABe=n=>()=>n.initPwaPrompt();let kBe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=nt({type:n,bootstrap:[PAe]})}static{this.\u0275inj=Xe({providers:[{provide:sl,useClass:o6},{provide:Up,useFactory:ABe,deps:[b5e],multi:!0}],imports:[i5e,LJ,tBe,o4e,LJ,m5e,KVe,bs,Ur,$6,DN,Jp,DAe,Bwe(()=>Uwe(RAe_firebase)),CTe(()=>Ea()),sRe(()=>aRe()),yAe(()=>{const t=xAe();return vAe(t),t}),ORe(()=>PRe()),i3e,h3e,z3e,$w,C3e.register("ngsw-worker.js",{enabled:!0,registrationStrategy:"registerWhenStable:30000"}),SBe]})}}return n})();Ape().bootstrapModule(kBe).catch(n=>console.error(n))},1874:(Ie,A,L)=>{var _=le(L(3209)),R=le(L(3931)),Q=le(L(9246)),j=le(L(8084)),b=le(L(2042)),w=le(L(1951)),I=le(L(650)),k=L(1498),ee=le(L(5482));function le(tt){return tt&&tt.__esModule?tt:{default:tt}}var fe=function(){},Yt=function(Jt,In,Ht){var Qt=new fe;if(typeof Jt>"u")throw Error("No element to render on was provided.");return Qt._renderProperties=(0,b.default)(Jt),Qt._encodings=[],Qt._options=ee.default,Qt._errorHandler=new I.default(Qt),typeof In<"u"&&((Ht=Ht||{}).format||(Ht.format=ec()),Qt.options(Ht)[Ht.format](In,Ht).render()),Qt};for(var mr in Yt.getModule=function(tt){return _.default[tt]},_.default)_.default.hasOwnProperty(mr)&&ko(_.default,mr);function ko(tt,Jt){fe.prototype[Jt]=fe.prototype[Jt.toUpperCase()]=fe.prototype[Jt.toLowerCase()]=function(In,Ht){var Qt=this;return Qt._errorHandler.wrapBarcodeCall(function(){Ht.text=typeof Ht.text>"u"?void 0:""+Ht.text;var Vi=(0,R.default)(Qt._options,Ht);Vi=(0,w.default)(Vi);var SC=za(In,tt[Jt],Vi);return Qt._encodings.push(SC),Qt})}}function za(tt,Jt,In){var Ht=new Jt(tt=""+tt,In);if(!Ht.valid())throw new k.InvalidInputException(Ht.constructor.name,tt);var Qt=Ht.encode();Qt=(0,Q.default)(Qt);for(var Vi=0;Vi<Qt.length;Vi++)Qt[Vi].options=(0,R.default)(In,Qt[Vi].options);return Qt}function ec(){return _.default.CODE128?"CODE128":Object.keys(_.default)[0]}function Ys(tt,Jt,In){Jt=(0,Q.default)(Jt);for(var Ht=0;Ht<Jt.length;Ht++)Jt[Ht].options=(0,R.default)(In,Jt[Ht].options),(0,j.default)(Jt[Ht].options);(0,j.default)(In),new(0,tt.renderer)(tt.element,Jt,In).render(),tt.afterRender&&tt.afterRender()}fe.prototype.options=function(tt){return this._options=(0,R.default)(this._options,tt),this},fe.prototype.blank=function(tt){var Jt=new Array(tt+1).join("0");return this._encodings.push({data:Jt}),this},fe.prototype.init=function(){var tt;if(this._renderProperties)for(var Jt in Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]),this._renderProperties){var In=(0,R.default)(this._options,(tt=this._renderProperties[Jt]).options);"auto"==In.format&&(In.format=ec()),this._errorHandler.wrapBarcodeCall(function(){var Vi=za(In.value,_.default[In.format.toUpperCase()],In);Ys(tt,Vi,In)})}},fe.prototype.render=function(){if(!this._renderProperties)throw new k.NoElementException;if(Array.isArray(this._renderProperties))for(var tt=0;tt<this._renderProperties.length;tt++)Ys(this._renderProperties[tt],this._encodings,this._options);else Ys(this._renderProperties,this._encodings,this._options);return this},fe.prototype._defaults=ee.default,typeof window<"u"&&(window.JsBarcode=Yt),typeof jQuery<"u"&&(jQuery.fn.JsBarcode=function(tt,Jt){var In=[];return jQuery(this).each(function(){In.push(this)}),Yt(In,tt,Jt)}),Ie.exports=Yt},2933:(Ie,A)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.default=function _(G,R){(function L(_,G){if(!(_ instanceof G))throw new TypeError("Cannot call a class as a function")})(this,_),this.data=G,this.text=R.text||G,this.options=R}},3166:(Ie,A,L)=>{Object.defineProperty(A,"__esModule",{value:!0});var q=function(){function b(v,w){for(var x=0;x<w.length;x++){var I=w[x];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(v,I.key,I)}}return function(v,w,x){return w&&b(v.prototype,w),x&&b(v,x),v}}(),G=function W(b){return b&&b.__esModule?b:{default:b}}(L(2933)),R=L(9973),M=function(b){function v(w,x){!function Q(b,v){if(!(b instanceof v))throw new TypeError("Cannot call a class as a function")}(this,v);var I=function P(b,v){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||"object"!=typeof v&&"function"!=typeof v?b:v}(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,w.substring(1),x));return I.bytes=w.split("").map(function(k){return k.charCodeAt(0)}),I}return function j(b,v){if("function"!=typeof v&&null!==v)throw new TypeError("Super expression must either be null or a function, not "+typeof v);b.prototype=Object.create(v&&v.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(b,v):b.__proto__=v)}(v,b),q(v,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var x=this.bytes,I=x.shift()-105,k=R.SET_BY_CODE[I];if(void 0===k)throw new RangeError("The encoding does not start with a start character.");!0===this.shouldEncodeAsEan128()&&x.unshift(R.FNC1);var O=v.next(x,1,k);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:v.getBar(I)+O.result+v.getBar((O.checksum+I)%R.MODULO)+v.getBar(R.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var x=this.options.ean128||!1;return"string"==typeof x&&(x="true"===x.toLowerCase()),x}}],[{key:"getBar",value:function(x){return R.BARS[x]?R.BARS[x].toString():""}},{key:"correctIndex",value:function(x,I){if(I===R.SET_A){var k=x.shift();return k<32?k+64:k-32}return I===R.SET_B?x.shift()-32:10*(x.shift()-48)+x.shift()-48}},{key:"next",value:function(x,I,k){if(!x.length)return{result:"",checksum:0};var O=void 0,ee=void 0;if(x[0]>=200){ee=x.shift()-105;var le=R.SWAP[ee];void 0!==le?O=v.next(x,I+1,le):((k===R.SET_A||k===R.SET_B)&&ee===R.SHIFT&&(x[0]=k===R.SET_A?x[0]>95?x[0]-96:x[0]:x[0]<32?x[0]+96:x[0]),O=v.next(x,I+1,k))}else ee=v.correctIndex(x,k),O=v.next(x,I+1,k);return{result:v.getBar(ee)+O.result,checksum:ee*I+O.checksum}}}]),v}(G.default);A.default=M},4675:(Ie,A,L)=>{Object.defineProperty(A,"__esModule",{value:!0});var q=function(){function b(v,w){for(var x=0;x<w.length;x++){var I=w[x];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(v,I.key,I)}}return function(v,w,x){return w&&b(v.prototype,w),x&&b(v,x),v}}(),G=function W(b){return b&&b.__esModule?b:{default:b}}(L(3166)),R=L(9973),M=function(b){function v(w,x){return function Q(b,v){if(!(b instanceof v))throw new TypeError("Cannot call a class as a function")}(this,v),function P(b,v){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||"object"!=typeof v&&"function"!=typeof v?b:v}(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,R.A_START_CHAR+w,x))}return function j(b,v){if("function"!=typeof v&&null!==v)throw new TypeError("Super expression must either be null or a function, not "+typeof v);b.prototype=Object.create(v&&v.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(b,v):b.__proto__=v)}(v,b),q(v,[{key:"valid",value:function(){return new RegExp("^"+R.A_CHARS+"+$").test(this.data)}}]),v}(G.default);A.default=M},4502:(Ie,A,L)=>{Object.defineProperty(A,"__esModule",{value:!0});var q=function(){function b(v,w){for(var x=0;x<w.length;x++){var I=w[x];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(v,I.key,I)}}return function(v,w,x){return w&&b(v.prototype,w),x&&b(v,x),v}}(),G=function W(b){return b&&b.__esModule?b:{default:b}}(L(3166)),R=L(9973),M=function(b){function v(w,x){return function Q(b,v){if(!(b instanceof v))throw new TypeError("Cannot call a class as a function")}(this,v),function P(b,v){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||"object"!=typeof v&&"function"!=typeof v?b:v}(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,R.B_START_CHAR+w,x))}return function j(b,v){if("function"!=typeof v&&null!==v)throw new TypeError("Super expression must either be null or a function, not "+typeof v);b.prototype=Object.create(v&&v.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(b,v):b.__proto__=v)}(v,b),q(v,[{key:"valid",value:function(){return new RegExp("^"+R.B_CHARS+"+$").test(this.data)}}]),v}(G.default);A.default=M},2693:(Ie,A,L)=>{Object.defineProperty(A,"__esModule",{value:!0});var q=function(){function b(v,w){for(var x=0;x<w.length;x++){var I=w[x];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(v,I.key,I)}}return function(v,w,x){return w&&b(v.prototype,w),x&&b(v,x),v}}(),G=function W(b){return b&&b.__esModule?b:{default:b}}(L(3166)),R=L(9973),M=function(b){function v(w,x){return function Q(b,v){if(!(b instanceof v))throw new TypeError("Cannot call a class as a function")}(this,v),function P(b,v){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||"object"!=typeof v&&"function"!=typeof v?b:v}(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,R.C_START_CHAR+w,x))}return function j(b,v){if("function"!=typeof v&&null!==v)throw new TypeError("Super expression must either be null or a function, not "+typeof v);b.prototype=Object.create(v&&v.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(b,v):b.__proto__=v)}(v,b),q(v,[{key:"valid",value:function(){return new RegExp("^"+R.C_CHARS+"+$").test(this.data)}}]),v}(G.default);A.default=M},714:(Ie,A,L)=>{Object.defineProperty(A,"__esModule",{value:!0});var _=W(L(3166)),R=W(L(5113));function W(b){return b&&b.__esModule?b:{default:b}}function P(b,v){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||"object"!=typeof v&&"function"!=typeof v?b:v}var M=function(b){function v(w,x){if(function Q(b,v){if(!(b instanceof v))throw new TypeError("Cannot call a class as a function")}(this,v),/^[\x00-\x7F\xC8-\xD3]+$/.test(w))var I=P(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,(0,R.default)(w),x));else I=P(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,w,x));return P(I)}return function j(b,v){if("function"!=typeof v&&null!==v)throw new TypeError("Super expression must either be null or a function, not "+typeof v);b.prototype=Object.create(v&&v.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(b,v):b.__proto__=v)}(v,b),v}(_.default);A.default=M},5113:(Ie,A,L)=>{Object.defineProperty(A,"__esModule",{value:!0});var q=L(9973),_=function(j){return j.match(new RegExp("^"+q.A_CHARS+"*"))[0].length},G=function(j){return j.match(new RegExp("^"+q.B_CHARS+"*"))[0].length},R=function(j){return j.match(new RegExp("^"+q.C_CHARS+"*"))[0]};function W(P,j){var M=j?q.A_CHARS:q.B_CHARS,b=P.match(new RegExp("^("+M+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(b)return b[1]+"\xcc"+Q(P.substring(b[1].length));var v=P.match(new RegExp("^"+M+"+"))[0];return v.length===P.length?P:v+String.fromCharCode(j?205:206)+W(P.substring(v.length),!j)}function Q(P){var j=R(P),M=j.length;if(M===P.length)return P;P=P.substring(M);var b=_(P)>=G(P);return j+String.fromCharCode(b?206:205)+W(P,b)}A.default=function(P){var j=void 0;if(R(P).length>=2)j=q.C_START_CHAR+Q(P);else{var b=_(P)>G(P);j=(b?q.A_START_CHAR:q.B_START_CHAR)+W(P,b)}return j.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,function(v,w){return"\xcb"+w})}},9973:(Ie,A)=>{var L;function q(mr,ko,za){return ko in mr?Object.defineProperty(mr,ko,{value:za,enumerable:!0,configurable:!0,writable:!0}):mr[ko]=za,mr}Object.defineProperty(A,"__esModule",{value:!0});var _=A.SET_A=0,G=A.SET_B=1,R=A.SET_C=2,Q=(A.SHIFT=98,A.START_A=103),P=A.START_B=104,j=A.START_C=105;A.MODULO=103,A.STOP=106,A.FNC1=207,A.SET_BY_CODE=(q(L={},Q,_),q(L,P,G),q(L,j,R),L),A.SWAP={101:_,100:G,99:R},A.A_START_CHAR="\xd0",A.B_START_CHAR="\xd1",A.C_START_CHAR="\xd2",A.A_CHARS="[\0-_\xc8-\xcf]",A.B_CHARS="[ -\x7f\xc8-\xcf]",A.C_CHARS="(\xcf*[0-9]{2}\xcf*)",A.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011]},9152:(Ie,A,L)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.CODE128C=A.CODE128B=A.CODE128A=A.CODE128=void 0;var _=M(L(714)),R=M(L(4675)),Q=M(L(4502)),j=M(L(2693));function M(b){return b&&b.__esModule?b:{default:b}}A.CODE128=_.default,A.CODE128A=R.default,A.CODE128B=Q.default,A.CODE128C=j.default},3803:(Ie,A,L)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.CODE39=void 0;var q=function(){function O(ee,le){for(var fe=0;fe<le.length;fe++){var Yt=le[fe];Yt.enumerable=Yt.enumerable||!1,Yt.configurable=!0,"value"in Yt&&(Yt.writable=!0),Object.defineProperty(ee,Yt.key,Yt)}}return function(ee,le,fe){return le&&O(ee.prototype,le),fe&&O(ee,fe),ee}}(),j=function(O){function ee(le,fe){return function W(O,ee){if(!(O instanceof ee))throw new TypeError("Cannot call a class as a function")}(this,ee),le=le.toUpperCase(),fe.mod43&&(le+=function x(O){return M[O]}(function k(O){for(var ee=0,le=0;le<O.length;le++)ee+=I(O[le]);return ee%=43}(le))),function Q(O,ee){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!ee||"object"!=typeof ee&&"function"!=typeof ee?O:ee}(this,(ee.__proto__||Object.getPrototypeOf(ee)).call(this,le,fe))}return function P(O,ee){if("function"!=typeof ee&&null!==ee)throw new TypeError("Super expression must either be null or a function, not "+typeof ee);O.prototype=Object.create(ee&&ee.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),ee&&(Object.setPrototypeOf?Object.setPrototypeOf(O,ee):O.__proto__=ee)}(ee,O),q(ee,[{key:"encode",value:function(){for(var fe=v("*"),Yt=0;Yt<this.data.length;Yt++)fe+=v(this.data[Yt])+"0";return{data:fe+=v("*"),text:this.text}}},{key:"valid",value:function(){return-1!==this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)}}]),ee}(function R(O){return O&&O.__esModule?O:{default:O}}(L(2933)).default),M=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],b=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function v(O){return function w(O){return b[O].toString(2)}(I(O))}function I(O){return M.indexOf(O)}A.CODE39=j},7331:(Ie,A,L)=>{Object.defineProperty(A,"__esModule",{value:!0});var q=function(){function w(x,I){for(var k=0;k<I.length;k++){var O=I[k];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(x,O.key,O)}}return function(x,I,k){return I&&w(x.prototype,I),k&&w(x,k),x}}(),_=L(2846),R=P(L(2143));function P(w){return w&&w.__esModule?w:{default:w}}var v=function(w){function x(I,k){!function j(w,x){if(!(w instanceof x))throw new TypeError("Cannot call a class as a function")}(this,x);var O=function M(w,x){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!x||"object"!=typeof x&&"function"!=typeof x?w:x}(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,I,k));return O.fontSize=!k.flat&&k.fontSize>10*k.width?10*k.width:k.fontSize,O.guardHeight=k.height+O.fontSize/2+k.textMargin,O}return function b(w,x){if("function"!=typeof x&&null!==x)throw new TypeError("Super expression must either be null or a function, not "+typeof x);w.prototype=Object.create(x&&x.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(w,x):w.__proto__=x)}(x,w),q(x,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(k,O){return this.text.substr(k,O)}},{key:"leftEncode",value:function(k,O){return(0,R.default)(k,O)}},{key:"rightText",value:function(k,O){return this.text.substr(k,O)}},{key:"rightEncode",value:function(k,O){return(0,R.default)(k,O)}},{key:"encodeGuarded",value:function(){var k={fontSize:this.fontSize},O={height:this.guardHeight};return[{data:_.SIDE_BIN,options:O},{data:this.leftEncode(),text:this.leftText(),options:k},{data:_.MIDDLE_BIN,options:O},{data:this.rightEncode(),text:this.rightText(),options:k},{data:_.SIDE_BIN,options:O}]}},{key:"encodeFlat",value:function(){return{data:[_.SIDE_BIN,this.leftEncode(),_.MIDDLE_BIN,this.rightEncode(),_.SIDE_BIN].join(""),text:this.text}}}]),x}(P(L(2933)).default);A.default=v},7779:(Ie,A,L)=>{Object.defineProperty(A,"__esModule",{value:!0});var q=function(){function w(x,I){for(var k=0;k<I.length;k++){var O=I[k];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(x,O.key,O)}}return function(x,I,k){return I&&w(x.prototype,I),k&&w(x,k),x}}(),_=function w(x,I,k){null===x&&(x=Function.prototype);var O=Object.getOwnPropertyDescriptor(x,I);if(void 0===O){var ee=Object.getPrototypeOf(x);return null===ee?void 0:w(ee,I,k)}if("value"in O)return O.value;var le=O.get;return void 0===le?void 0:le.call(k)},G=L(2846),W=function Q(w){return w&&w.__esModule?w:{default:w}}(L(7331)),b=function(x){return(10-x.substr(0,12).split("").map(function(k){return+k}).reduce(function(k,O,ee){return ee%2?k+3*O:k+O},0)%10)%10},v=function(w){function x(I,k){(function P(w,x){if(!(w instanceof x))throw new TypeError("Cannot call a class as a function")})(this,x),-1!==I.search(/^[0-9]{12}$/)&&(I+=b(I));var O=function j(w,x){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!x||"object"!=typeof x&&"function"!=typeof x?w:x}(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,I,k));return O.lastChar=k.lastChar,O}return function M(w,x){if("function"!=typeof x&&null!==x)throw new TypeError("Super expression must either be null or a function, not "+typeof x);w.prototype=Object.create(x&&x.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(w,x):w.__proto__=x)}(x,w),q(x,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{13}$/)&&+this.data[12]===b(this.data)}},{key:"leftText",value:function(){return _(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var k=this.data.substr(1,6),O=G.EAN13_STRUCTURE[this.data[0]];return _(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"leftEncode",this).call(this,k,O)}},{key:"rightText",value:function(){return _(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var k=this.data.substr(7,6);return _(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"rightEncode",this).call(this,k,"RRRRRR")}},{key:"encodeGuarded",value:function(){var k=_(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(k.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(k.push({data:"00"}),k.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),k}}]),x}(W.default);A.default=v},197:(Ie,A,L)=>{Object.defineProperty(A,"__esModule",{value:!0});var q=function(){function w(x,I){for(var k=0;k<I.length;k++){var O=I[k];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(x,O.key,O)}}return function(x,I,k){return I&&w(x.prototype,I),k&&w(x,k),x}}(),_=L(2846),R=P(L(2143));function P(w){return w&&w.__esModule?w:{default:w}}var v=function(w){function x(I,k){return function j(w,x){if(!(w instanceof x))throw new TypeError("Cannot call a class as a function")}(this,x),function M(w,x){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!x||"object"!=typeof x&&"function"!=typeof x?w:x}(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,I,k))}return function b(w,x){if("function"!=typeof x&&null!==x)throw new TypeError("Super expression must either be null or a function, not "+typeof x);w.prototype=Object.create(x&&x.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(w,x):w.__proto__=x)}(x,w),q(x,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{2}$/)}},{key:"encode",value:function(){var k=_.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,R.default)(this.data,k,"01"),text:this.text}}}]),x}(P(L(2933)).default);A.default=v},6400:(Ie,A,L)=>{Object.defineProperty(A,"__esModule",{value:!0});var q=function(){function x(I,k){for(var O=0;O<k.length;O++){var ee=k[O];ee.enumerable=ee.enumerable||!1,ee.configurable=!0,"value"in ee&&(ee.writable=!0),Object.defineProperty(I,ee.key,ee)}}return function(I,k,O){return k&&x(I.prototype,k),O&&x(I,O),I}}(),_=L(2846),R=P(L(2143));function P(x){return x&&x.__esModule?x:{default:x}}var w=function(x){function I(k,O){return function j(x,I){if(!(x instanceof I))throw new TypeError("Cannot call a class as a function")}(this,I),function M(x,I){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!I||"object"!=typeof I&&"function"!=typeof I?x:I}(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,k,O))}return function b(x,I){if("function"!=typeof I&&null!==I)throw new TypeError("Super expression must either be null or a function, not "+typeof I);x.prototype=Object.create(I&&I.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(x,I):x.__proto__=I)}(I,x),q(I,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{5}$/)}},{key:"encode",value:function(){var O=_.EAN5_STRUCTURE[function(I){return I.split("").map(function(O){return+O}).reduce(function(O,ee,le){return le%2?O+9*ee:O+3*ee},0)%10}(this.data)];return{data:"1011"+(0,R.default)(this.data,O,"01"),text:this.text}}}]),I}(P(L(2933)).default);A.default=w},2587:(Ie,A,L)=>{Object.defineProperty(A,"__esModule",{value:!0});var q=function(){function v(w,x){for(var I=0;I<x.length;I++){var k=x[I];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(w,k.key,k)}}return function(w,x,I){return x&&v(w.prototype,x),I&&v(w,I),w}}(),_=function v(w,x,I){null===w&&(w=Function.prototype);var k=Object.getOwnPropertyDescriptor(w,x);if(void 0===k){var O=Object.getPrototypeOf(w);return null===O?void 0:v(O,x,I)}if("value"in k)return k.value;var ee=k.get;return void 0===ee?void 0:ee.call(I)},R=function W(v){return v&&v.__esModule?v:{default:v}}(L(7331)),M=function(w){return(10-w.substr(0,7).split("").map(function(I){return+I}).reduce(function(I,k,O){return O%2?I+k:I+3*k},0)%10)%10},b=function(v){function w(x,I){return function Q(v,w){if(!(v instanceof w))throw new TypeError("Cannot call a class as a function")}(this,w),-1!==x.search(/^[0-9]{7}$/)&&(x+=M(x)),function P(v,w){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!w||"object"!=typeof w&&"function"!=typeof w?v:w}(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,x,I))}return function j(v,w){if("function"!=typeof w&&null!==w)throw new TypeError("Super expression must either be null or a function, not "+typeof w);v.prototype=Object.create(w&&w.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(v,w):v.__proto__=w)}(w,v),q(w,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{8}$/)&&+this.data[7]===M(this.data)}},{key:"leftText",value:function(){return _(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var I=this.data.substr(0,4);return _(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"leftEncode",this).call(this,I,"LLLL")}},{key:"rightText",value:function(){return _(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var I=this.data.substr(4,4);return _(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"rightEncode",this).call(this,I,"RRRR")}}]),w}(R.default);A.default=b},1541:(Ie,A,L)=>{Object.defineProperty(A,"__esModule",{value:!0});var q=function(){function w(x,I){for(var k=0;k<I.length;k++){var O=I[k];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(x,O.key,O)}}return function(x,I,k){return I&&w(x.prototype,I),k&&w(x,k),x}}();A.checksum=v;var G=Q(L(2143));function Q(w){return w&&w.__esModule?w:{default:w}}var b=function(w){function x(I,k){(function P(w,x){if(!(w instanceof x))throw new TypeError("Cannot call a class as a function")})(this,x),-1!==I.search(/^[0-9]{11}$/)&&(I+=v(I));var O=function j(w,x){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!x||"object"!=typeof x&&"function"!=typeof x?w:x}(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,I,k));return O.displayValue=k.displayValue,O.fontSize=k.fontSize>10*k.width?10*k.width:k.fontSize,O.guardHeight=k.height+O.fontSize/2+k.textMargin,O}return function M(w,x){if("function"!=typeof x&&null!==x)throw new TypeError("Super expression must either be null or a function, not "+typeof x);w.prototype=Object.create(x&&x.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(w,x):w.__proto__=x)}(x,w),q(x,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{12}$/)&&this.data[11]==v(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var k="";return k+="101",k+=(0,G.default)(this.data.substr(0,6),"LLLLLL"),k+="01010",k+=(0,G.default)(this.data.substr(6,6),"RRRRRR"),{data:k+="101",text:this.text}}},{key:"guardedEncoding",value:function(){var k=[];return this.displayValue&&k.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),k.push({data:"101"+(0,G.default)(this.data[0],"L"),options:{height:this.guardHeight}}),k.push({data:(0,G.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),k.push({data:"01010",options:{height:this.guardHeight}}),k.push({data:(0,G.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),k.push({data:(0,G.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&k.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),k}}]),x}(Q(L(2933)).default);function v(w){var I,x=0;for(I=1;I<11;I+=2)x+=parseInt(w[I]);for(I=0;I<11;I+=2)x+=3*parseInt(w[I]);return(10-x%10)%10}A.default=b},7638:(Ie,A,L)=>{Object.defineProperty(A,"__esModule",{value:!0});var q=function(){function k(O,ee){for(var le=0;le<ee.length;le++){var fe=ee[le];fe.enumerable=fe.enumerable||!1,fe.configurable=!0,"value"in fe&&(fe.writable=!0),Object.defineProperty(O,fe.key,fe)}}return function(O,ee,le){return ee&&k(O.prototype,ee),le&&k(O,le),O}}(),G=P(L(2143)),W=P(L(2933)),Q=L(1541);function P(k){return k&&k.__esModule?k:{default:k}}function M(k,O){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!O||"object"!=typeof O&&"function"!=typeof O?k:O}var v=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],w=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],x=function(k){function O(ee,le){!function j(k,O){if(!(k instanceof O))throw new TypeError("Cannot call a class as a function")}(this,O);var fe=M(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,ee,le));if(fe.isValid=!1,-1!==ee.search(/^[0-9]{6}$/))fe.middleDigits=ee,fe.upcA=I(ee,"0"),fe.text=le.text||""+fe.upcA[0]+ee+fe.upcA[fe.upcA.length-1],fe.isValid=!0;else{if(-1===ee.search(/^[01][0-9]{7}$/))return M(fe);if(fe.middleDigits=ee.substring(1,ee.length-1),fe.upcA=I(fe.middleDigits,ee[0]),fe.upcA[fe.upcA.length-1]!==ee[ee.length-1])return M(fe);fe.isValid=!0}return fe.displayValue=le.displayValue,fe.fontSize=le.fontSize>10*le.width?10*le.width:le.fontSize,fe.guardHeight=le.height+fe.fontSize/2+le.textMargin,fe}return function b(k,O){if("function"!=typeof O&&null!==O)throw new TypeError("Super expression must either be null or a function, not "+typeof O);k.prototype=Object.create(O&&O.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(k,O):k.__proto__=O)}(O,k),q(O,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var le="";return le+="101",le+=this.encodeMiddleDigits(),{data:le+="010101",text:this.text}}},{key:"guardedEncoding",value:function(){var le=[];return this.displayValue&&le.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),le.push({data:"101",options:{height:this.guardHeight}}),le.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),le.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&le.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),le}},{key:"encodeMiddleDigits",value:function(){var le=this.upcA[0],Yt=w[parseInt(this.upcA[this.upcA.length-1])][parseInt(le)];return(0,G.default)(this.middleDigits,Yt)}}]),O}(W.default);function I(k,O){for(var ee=parseInt(k[k.length-1]),le=v[ee],fe="",Yt=0,mr=0;mr<le.length;mr++){var ko=le[mr];fe+="X"===ko?k[Yt++]:ko}return(fe=""+O+fe)+(0,Q.checksum)(fe)}A.default=x},2846:(Ie,A)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.SIDE_BIN="101",A.MIDDLE_BIN="01010",A.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]},A.EAN2_STRUCTURE=["LL","LG","GL","GG"],A.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"],A.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"]},2143:(Ie,A,L)=>{Object.defineProperty(A,"__esModule",{value:!0});var q=L(2846);A.default=function(R,W,Q){var P=R.split("").map(function(M,b){return q.BINARIES[W[b]]}).map(function(M,b){return M?M[R[b]]:""});if(Q){var j=R.length-1;P=P.map(function(M,b){return b<j?M+Q:M})}return P.join("")}},9995:(Ie,A,L)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.UPCE=A.UPC=A.EAN2=A.EAN5=A.EAN8=A.EAN13=void 0;var _=x(L(7779)),R=x(L(2587)),Q=x(L(6400)),j=x(L(197)),b=x(L(1541)),w=x(L(7638));function x(I){return I&&I.__esModule?I:{default:I}}A.EAN13=_.default,A.EAN8=R.default,A.EAN5=Q.default,A.EAN2=j.default,A.UPC=b.default,A.UPCE=w.default},9257:(Ie,A,L)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.GenericBarcode=void 0;var q=function(){function M(b,v){for(var w=0;w<v.length;w++){var x=v[w];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(b,x.key,x)}}return function(b,v,w){return v&&M(b.prototype,v),w&&M(b,w),b}}(),j=function(M){function b(v,w){return function W(M,b){if(!(M instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b),function Q(M,b){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?M:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,v,w))}return function P(M,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);M.prototype=Object.create(b&&b.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(M,b):M.__proto__=b)}(b,M),q(b,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),b}(function R(M){return M&&M.__esModule?M:{default:M}}(L(2933)).default);A.GenericBarcode=j},3534:(Ie,A,L)=>{Object.defineProperty(A,"__esModule",{value:!0});var q=function(){function b(v,w){for(var x=0;x<w.length;x++){var I=w[x];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(v,I.key,I)}}return function(v,w,x){return w&&b(v.prototype,w),x&&b(v,x),v}}(),_=L(2218),M=function(b){function v(){return function Q(b,v){if(!(b instanceof v))throw new TypeError("Cannot call a class as a function")}(this,v),function P(b,v){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||"object"!=typeof v&&"function"!=typeof v?b:v}(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return function j(b,v){if("function"!=typeof v&&null!==v)throw new TypeError("Super expression must either be null or a function, not "+typeof v);b.prototype=Object.create(v&&v.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(b,v):b.__proto__=v)}(v,b),q(v,[{key:"valid",value:function(){return-1!==this.data.search(/^([0-9]{2})+$/)}},{key:"encode",value:function(){var x=this,I=this.data.match(/.{2}/g).map(function(k){return x.encodePair(k)}).join("");return{data:_.START_BIN+I+_.END_BIN,text:this.text}}},{key:"encodePair",value:function(x){var I=_.BINARIES[x[1]];return _.BINARIES[x[0]].split("").map(function(k,O){return("1"===k?"111":"1")+("1"===I[O]?"000":"0")}).join("")}}]),v}(function W(b){return b&&b.__esModule?b:{default:b}}(L(2933)).default);A.default=M},6023:(Ie,A,L)=>{Object.defineProperty(A,"__esModule",{value:!0});var q=function(){function b(v,w){for(var x=0;x<w.length;x++){var I=w[x];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(v,I.key,I)}}return function(v,w,x){return w&&b(v.prototype,w),x&&b(v,x),v}}(),G=function R(b){return b&&b.__esModule?b:{default:b}}(L(3534)),j=function(v){var w=v.substr(0,13).split("").map(function(x){return parseInt(x,10)}).reduce(function(x,I,k){return x+I*(3-k%2*2)},0);return 10*Math.ceil(w/10)-w},M=function(b){function v(w,x){return function W(b,v){if(!(b instanceof v))throw new TypeError("Cannot call a class as a function")}(this,v),-1!==w.search(/^[0-9]{13}$/)&&(w+=j(w)),function Q(b,v){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||"object"!=typeof v&&"function"!=typeof v?b:v}(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,w,x))}return function P(b,v){if("function"!=typeof v&&null!==v)throw new TypeError("Super expression must either be null or a function, not "+typeof v);b.prototype=Object.create(v&&v.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(b,v):b.__proto__=v)}(v,b),q(v,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{14}$/)&&+this.data[13]===j(this.data)}}]),v}(G.default);A.default=M},2218:(Ie,A)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.START_BIN="1010",A.END_BIN="11101",A.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"]},9319:(Ie,A,L)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.ITF14=A.ITF=void 0;var _=W(L(3534)),R=W(L(6023));function W(Q){return Q&&Q.__esModule?Q:{default:Q}}A.ITF=_.default,A.ITF14=R.default},8778:(Ie,A,L)=>{Object.defineProperty(A,"__esModule",{value:!0});var q=function(){function b(v,w){for(var x=0;x<w.length;x++){var I=w[x];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(v,I.key,I)}}return function(v,w,x){return w&&b(v.prototype,w),x&&b(v,x),v}}(),j=function(b){function v(w,x){return function W(b,v){if(!(b instanceof v))throw new TypeError("Cannot call a class as a function")}(this,v),function Q(b,v){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||"object"!=typeof v&&"function"!=typeof v?b:v}(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,w,x))}return function P(b,v){if("function"!=typeof v&&null!==v)throw new TypeError("Super expression must either be null or a function, not "+typeof v);b.prototype=Object.create(v&&v.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(b,v):b.__proto__=v)}(v,b),q(v,[{key:"encode",value:function(){for(var x="110",I=0;I<this.data.length;I++){var O=parseInt(this.data[I]).toString(2);O=M(O,4-O.length);for(var ee=0;ee<O.length;ee++)x+="0"==O[ee]?"100":"110"}return{data:x+="1001",text:this.text}}},{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]+$/)}}]),v}(function R(b){return b&&b.__esModule?b:{default:b}}(L(2933)).default);function M(b,v){for(var w=0;w<v;w++)b="0"+b;return b}A.default=j},3167:(Ie,A,L)=>{Object.defineProperty(A,"__esModule",{value:!0});var _=function R(M){return M&&M.__esModule?M:{default:M}}(L(8778)),G=L(2821),j=function(M){function b(v,w){return function W(M,b){if(!(M instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b),function Q(M,b){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?M:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,v+(0,G.mod10)(v),w))}return function P(M,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);M.prototype=Object.create(b&&b.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(M,b):M.__proto__=b)}(b,M),b}(_.default);A.default=j},1522:(Ie,A,L)=>{Object.defineProperty(A,"__esModule",{value:!0});var _=function R(M){return M&&M.__esModule?M:{default:M}}(L(8778)),G=L(2821),j=function(M){function b(v,w){return function W(M,b){if(!(M instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b),v+=(0,G.mod10)(v),v+=(0,G.mod10)(v),function Q(M,b){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?M:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,v,w))}return function P(M,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);M.prototype=Object.create(b&&b.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(M,b):M.__proto__=b)}(b,M),b}(_.default);A.default=j},8552:(Ie,A,L)=>{Object.defineProperty(A,"__esModule",{value:!0});var _=function R(M){return M&&M.__esModule?M:{default:M}}(L(8778)),G=L(2821),j=function(M){function b(v,w){return function W(M,b){if(!(M instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b),function Q(M,b){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?M:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,v+(0,G.mod11)(v),w))}return function P(M,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);M.prototype=Object.create(b&&b.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(M,b):M.__proto__=b)}(b,M),b}(_.default);A.default=j},677:(Ie,A,L)=>{Object.defineProperty(A,"__esModule",{value:!0});var _=function R(M){return M&&M.__esModule?M:{default:M}}(L(8778)),G=L(2821),j=function(M){function b(v,w){return function W(M,b){if(!(M instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b),v+=(0,G.mod11)(v),v+=(0,G.mod10)(v),function Q(M,b){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?M:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,v,w))}return function P(M,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);M.prototype=Object.create(b&&b.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(M,b):M.__proto__=b)}(b,M),b}(_.default);A.default=j},2821:(Ie,A)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.mod10=function L(_){for(var G=0,R=0;R<_.length;R++){var W=parseInt(_[R]);G+=(R+_.length)%2==0?W:2*W%10+Math.floor(2*W/10)}return(10-G%10)%10},A.mod11=function q(_){for(var G=0,R=[2,3,4,5,6,7],W=0;W<_.length;W++){var Q=parseInt(_[_.length-1-W]);G+=R[W%R.length]*Q}return(11-G%11)%11}},3641:(Ie,A,L)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.MSI1110=A.MSI1010=A.MSI11=A.MSI10=A.MSI=void 0;var _=v(L(8778)),R=v(L(3167)),Q=v(L(8552)),j=v(L(1522)),b=v(L(677));function v(w){return w&&w.__esModule?w:{default:w}}A.MSI=_.default,A.MSI10=R.default,A.MSI11=Q.default,A.MSI1010=j.default,A.MSI1110=b.default},9468:(Ie,A,L)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.codabar=void 0;var q=function(){function M(b,v){for(var w=0;w<v.length;w++){var x=v[w];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(b,x.key,x)}}return function(b,v,w){return v&&M(b.prototype,v),w&&M(b,w),b}}(),j=function(M){function b(v,w){(function W(M,b){if(!(M instanceof b))throw new TypeError("Cannot call a class as a function")})(this,b),0===v.search(/^[0-9\-\$\:\.\+\/]+$/)&&(v="A"+v+"A");var x=function Q(M,b){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?M:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,v.toUpperCase(),w));return x.text=x.options.text||x.text.replace(/[A-D]/g,""),x}return function P(M,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);M.prototype=Object.create(b&&b.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(M,b):M.__proto__=b)}(b,M),q(b,[{key:"valid",value:function(){return-1!==this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)}},{key:"encode",value:function(){for(var w=[],x=this.getEncodings(),I=0;I<this.data.length;I++)w.push(x[this.data.charAt(I)]),I!==this.data.length-1&&w.push("0");return{text:this.text,data:w.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"1011011011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),b}(function R(M){return M&&M.__esModule?M:{default:M}}(L(2933)).default);A.codabar=j},3209:(Ie,A,L)=>{Object.defineProperty(A,"__esModule",{value:!0});var q=L(3803),_=L(9152),G=L(9995),R=L(9319),W=L(3641),Q=L(4322),P=L(9468),j=L(9257);A.default={CODE39:q.CODE39,CODE128:_.CODE128,CODE128A:_.CODE128A,CODE128B:_.CODE128B,CODE128C:_.CODE128C,EAN13:G.EAN13,EAN8:G.EAN8,EAN5:G.EAN5,EAN2:G.EAN2,UPC:G.UPC,UPCE:G.UPCE,ITF14:R.ITF14,ITF:R.ITF,MSI:W.MSI,MSI10:W.MSI10,MSI11:W.MSI11,MSI1010:W.MSI1010,MSI1110:W.MSI1110,pharmacode:Q.pharmacode,codabar:P.codabar,GenericBarcode:j.GenericBarcode}},4322:(Ie,A,L)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.pharmacode=void 0;var q=function(){function M(b,v){for(var w=0;w<v.length;w++){var x=v[w];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(b,x.key,x)}}return function(b,v,w){return v&&M(b.prototype,v),w&&M(b,w),b}}(),j=function(M){function b(v,w){!function W(M,b){if(!(M instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var x=function Q(M,b){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?M:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,v,w));return x.number=parseInt(v,10),x}return function P(M,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);M.prototype=Object.create(b&&b.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(M,b):M.__proto__=b)}(b,M),q(b,[{key:"encode",value:function(){for(var w=this.number,x="";!isNaN(w)&&0!=w;)w%2==0?(x="11100"+x,w=(w-2)/2):(x="100"+x,w=(w-1)/2);return{data:x=x.slice(0,-2),text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),b}(function R(M){return M&&M.__esModule?M:{default:M}}(L(2933)).default);A.pharmacode=j},650:(Ie,A)=>{Object.defineProperty(A,"__esModule",{value:!0});var L=function(){function G(R,W){for(var Q=0;Q<W.length;Q++){var P=W[Q];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(R,P.key,P)}}return function(R,W,Q){return W&&G(R.prototype,W),Q&&G(R,Q),R}}(),_=function(){function G(R){(function q(G,R){if(!(G instanceof R))throw new TypeError("Cannot call a class as a function")})(this,G),this.api=R}return L(G,[{key:"handleCatch",value:function(W){if("InvalidInputException"!==W.name)throw W;if(this.api._options.valid===this.api._defaults.valid)throw W.message;this.api._options.valid(!1),this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(W){try{var Q=W.apply(void 0,arguments);return this.api._options.valid(!0),Q}catch(P){return this.handleCatch(P),this.api}}}]),G}();A.default=_},1498:(Ie,A)=>{function L(Q,P){if(!(Q instanceof P))throw new TypeError("Cannot call a class as a function")}function q(Q,P){if(!Q)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!P||"object"!=typeof P&&"function"!=typeof P?Q:P}function _(Q,P){if("function"!=typeof P&&null!==P)throw new TypeError("Super expression must either be null or a function, not "+typeof P);Q.prototype=Object.create(P&&P.prototype,{constructor:{value:Q,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(Q,P):Q.__proto__=P)}Object.defineProperty(A,"__esModule",{value:!0});var G=function(Q){function P(j,M){L(this,P);var b=q(this,(P.__proto__||Object.getPrototypeOf(P)).call(this));return b.name="InvalidInputException",b.symbology=j,b.input=M,b.message='"'+b.input+'" is not a valid input for '+b.symbology,b}return _(P,Error),P}(),R=function(Q){function P(){L(this,P);var j=q(this,(P.__proto__||Object.getPrototypeOf(P)).call(this));return j.name="InvalidElementException",j.message="Not supported type to render on",j}return _(P,Error),P}(),W=function(Q){function P(){L(this,P);var j=q(this,(P.__proto__||Object.getPrototypeOf(P)).call(this));return j.name="NoElementException",j.message="No element to render on.",j}return _(P,Error),P}();A.InvalidInputException=G,A.InvalidElementException=R,A.NoElementException=W},8084:(Ie,A)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.default=function L(q){return q.marginTop=q.marginTop||q.margin,q.marginBottom=q.marginBottom||q.margin,q.marginRight=q.marginRight||q.margin,q.marginLeft=q.marginLeft||q.margin,q}},329:(Ie,A,L)=>{Object.defineProperty(A,"__esModule",{value:!0});var _=W(L(1951)),R=W(L(5482));function W(P){return P&&P.__esModule?P:{default:P}}A.default=function Q(P){var j={};for(var M in R.default)R.default.hasOwnProperty(M)&&(P.hasAttribute("jsbarcode-"+M.toLowerCase())&&(j[M]=P.getAttribute("jsbarcode-"+M.toLowerCase())),P.hasAttribute("data-"+M.toLowerCase())&&(j[M]=P.getAttribute("data-"+M.toLowerCase())));return j.value=P.getAttribute("jsbarcode-value")||P.getAttribute("data-value"),(0,_.default)(j)}},2042:(Ie,A,L)=>{Object.defineProperty(A,"__esModule",{value:!0});var q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(v){return typeof v}:function(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},G=P(L(329)),W=P(L(2368)),Q=L(1498);function P(v){return v&&v.__esModule?v:{default:v}}A.default=function j(v){if("string"==typeof v)return function M(v){var w=document.querySelectorAll(v);if(0!==w.length){for(var x=[],I=0;I<w.length;I++)x.push(j(w[I]));return x}}(v);if(Array.isArray(v)){for(var w=[],x=0;x<v.length;x++)w.push(j(v[x]));return w}if(typeof HTMLCanvasElement<"u"&&v instanceof HTMLImageElement)return function b(v){var w=document.createElement("canvas");return{element:w,options:(0,G.default)(v),renderer:W.default.CanvasRenderer,afterRender:function(){v.setAttribute("src",w.toDataURL())}}}(v);if(v&&v.nodeName&&"svg"===v.nodeName.toLowerCase()||typeof SVGElement<"u"&&v instanceof SVGElement)return{element:v,options:(0,G.default)(v),renderer:W.default.SVGRenderer};if(typeof HTMLCanvasElement<"u"&&v instanceof HTMLCanvasElement)return{element:v,options:(0,G.default)(v),renderer:W.default.CanvasRenderer};if(v&&v.getContext)return{element:v,renderer:W.default.CanvasRenderer};if(v&&"object"===(typeof v>"u"?"undefined":q(v))&&!v.nodeName)return{element:v,renderer:W.default.ObjectRenderer};throw new Q.InvalidElementException}},9246:(Ie,A)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.default=function L(q){var _=[];return function G(R){if(Array.isArray(R))for(var W=0;W<R.length;W++)G(R[W]);else R.text=R.text||"",R.data=R.data||"",_.push(R)}(q),_}},3931:(Ie,A)=>{Object.defineProperty(A,"__esModule",{value:!0});var L=Object.assign||function(q){for(var _=1;_<arguments.length;_++){var G=arguments[_];for(var R in G)Object.prototype.hasOwnProperty.call(G,R)&&(q[R]=G[R])}return q};A.default=function(q,_){return L({},q,_)}},1951:(Ie,A)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.default=function L(q){var _=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var G in _)_.hasOwnProperty(G)&&"string"==typeof q[G=_[G]]&&(q[G]=parseInt(q[G],10));return"string"==typeof q.displayValue&&(q.displayValue="false"!=q.displayValue),q}},5482:(Ie,A)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.default={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}}},8682:(Ie,A,L)=>{Object.defineProperty(A,"__esModule",{value:!0});var q=function(){function j(M,b){for(var v=0;v<b.length;v++){var w=b[v];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(M,w.key,w)}}return function(M,b,v){return b&&j(M.prototype,b),v&&j(M,v),M}}(),G=function W(j){return j&&j.__esModule?j:{default:j}}(L(3931)),R=L(2283),P=function(){function j(M,b,v){(function Q(j,M){if(!(j instanceof M))throw new TypeError("Cannot call a class as a function")})(this,j),this.canvas=M,this.encodings=b,this.options=v}return q(j,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var b=0;b<this.encodings.length;b++){var v=(0,G.default)(this.options,this.encodings[b].options);this.drawCanvasBarcode(v,this.encodings[b]),this.drawCanvasText(v,this.encodings[b]),this.moveCanvasDrawing(this.encodings[b])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var b=this.canvas.getContext("2d");b.save(),(0,R.calculateEncodingAttributes)(this.encodings,this.options,b);var v=(0,R.getTotalWidthOfEncodings)(this.encodings),w=(0,R.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=v+this.options.marginLeft+this.options.marginRight,this.canvas.height=w,b.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(b.fillStyle=this.options.background,b.fillRect(0,0,this.canvas.width,this.canvas.height)),b.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(b,v){var I,w=this.canvas.getContext("2d"),x=v.data;I="top"==b.textPosition?b.marginTop+b.fontSize+b.textMargin:b.marginTop,w.fillStyle=b.lineColor;for(var k=0;k<x.length;k++){var O=k*b.width+v.barcodePadding;"1"===x[k]?w.fillRect(O,I,b.width,b.height):x[k]&&w.fillRect(O,I,b.width,b.height*x[k])}}},{key:"drawCanvasText",value:function(b,v){var I,k,w=this.canvas.getContext("2d");b.displayValue&&(k="top"==b.textPosition?b.marginTop+b.fontSize-b.textMargin:b.height+b.textMargin+b.marginTop+b.fontSize,w.font=b.fontOptions+" "+b.fontSize+"px "+b.font,"left"==b.textAlign||v.barcodePadding>0?(I=0,w.textAlign="left"):"right"==b.textAlign?(I=v.width-1,w.textAlign="right"):(I=v.width/2,w.textAlign="center"),w.fillText(v.text,I,k))}},{key:"moveCanvasDrawing",value:function(b){this.canvas.getContext("2d").translate(b.width,0)}},{key:"restoreCanvas",value:function(){this.canvas.getContext("2d").restore()}}]),j}();A.default=P},2368:(Ie,A,L)=>{Object.defineProperty(A,"__esModule",{value:!0});var _=P(L(8682)),R=P(L(1538)),Q=P(L(1045));function P(j){return j&&j.__esModule?j:{default:j}}A.default={CanvasRenderer:_.default,SVGRenderer:R.default,ObjectRenderer:Q.default}},1045:(Ie,A)=>{Object.defineProperty(A,"__esModule",{value:!0});var L=function(){function G(R,W){for(var Q=0;Q<W.length;Q++){var P=W[Q];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(R,P.key,P)}}return function(R,W,Q){return W&&G(R.prototype,W),Q&&G(R,Q),R}}(),_=function(){function G(R,W,Q){(function q(G,R){if(!(G instanceof R))throw new TypeError("Cannot call a class as a function")})(this,G),this.object=R,this.encodings=W,this.options=Q}return L(G,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),G}();A.default=_},2283:(Ie,A,L)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.getTotalWidthOfEncodings=A.calculateEncodingAttributes=A.getBarcodePadding=A.getEncodingHeight=A.getMaximumHeightOfEncodings=void 0;var _=function G(b){return b&&b.__esModule?b:{default:b}}(L(3931));function R(b,v){return v.height+(v.displayValue&&b.text.length>0?v.fontSize+v.textMargin:0)+v.marginTop+v.marginBottom}function W(b,v,w){if(w.displayValue&&v<b){if("center"==w.textAlign)return Math.floor((b-v)/2);if("left"==w.textAlign)return 0;if("right"==w.textAlign)return Math.floor(b-v)}return 0}function M(b,v,w){var x;if(w)x=w;else{if(!(typeof document<"u"))return 0;x=document.createElement("canvas").getContext("2d")}x.font=v.fontOptions+" "+v.fontSize+"px "+v.font;var I=x.measureText(b);return I?I.width:0}A.getMaximumHeightOfEncodings=function j(b){for(var v=0,w=0;w<b.length;w++)b[w].height>v&&(v=b[w].height);return v},A.getEncodingHeight=R,A.getBarcodePadding=W,A.calculateEncodingAttributes=function Q(b,v,w){for(var x=0;x<b.length;x++){var O,I=b[x],k=(0,_.default)(v,I.options);O=k.displayValue?M(I.text,k,w):0;var ee=I.data.length*k.width;I.width=Math.ceil(Math.max(O,ee)),I.height=R(I,k),I.barcodePadding=W(O,ee,k)}},A.getTotalWidthOfEncodings=function P(b){for(var v=0,w=0;w<b.length;w++)v+=b[w].width;return v}},1538:(Ie,A,L)=>{Object.defineProperty(A,"__esModule",{value:!0});var q=function(){function M(b,v){for(var w=0;w<v.length;w++){var x=v[w];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(b,x.key,x)}}return function(b,v,w){return v&&M(b.prototype,v),w&&M(b,w),b}}(),G=function W(M){return M&&M.__esModule?M:{default:M}}(L(3931)),R=L(2283),P="http://www.w3.org/2000/svg",j=function(){function M(b,v,w){(function Q(M,b){if(!(M instanceof b))throw new TypeError("Cannot call a class as a function")})(this,M),this.svg=b,this.encodings=v,this.options=w,this.document=w.xmlDocument||document}return q(M,[{key:"render",value:function(){var v=this.options.marginLeft;this.prepareSVG();for(var w=0;w<this.encodings.length;w++){var x=this.encodings[w],I=(0,G.default)(this.options,x.options),k=this.createGroup(v,I.marginTop,this.svg);this.setGroupOptions(k,I),this.drawSvgBarcode(k,I,x),this.drawSVGText(k,I,x),v+=x.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,R.calculateEncodingAttributes)(this.encodings,this.options);var v=(0,R.getTotalWidthOfEncodings)(this.encodings),w=(0,R.getMaximumHeightOfEncodings)(this.encodings),x=v+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(x,w),this.options.background&&this.drawRect(0,0,x,w,this.svg).setAttribute("style","fill:"+this.options.background+";")}},{key:"drawSvgBarcode",value:function(v,w,x){var k,I=x.data;k="top"==w.textPosition?w.fontSize+w.textMargin:0;for(var O=0,ee=0,le=0;le<I.length;le++)ee=le*w.width+x.barcodePadding,"1"===I[le]?O++:O>0&&(this.drawRect(ee-w.width*O,k,w.width*O,w.height,v),O=0);O>0&&this.drawRect(ee-w.width*(O-1),k,w.width*O,w.height,v)}},{key:"drawSVGText",value:function(v,w,x){var k,O,I=this.document.createElementNS(P,"text");w.displayValue&&(I.setAttribute("style","font:"+w.fontOptions+" "+w.fontSize+"px "+w.font),O="top"==w.textPosition?w.fontSize-w.textMargin:w.height+w.textMargin+w.fontSize,"left"==w.textAlign||x.barcodePadding>0?(k=0,I.setAttribute("text-anchor","start")):"right"==w.textAlign?(k=x.width-1,I.setAttribute("text-anchor","end")):(k=x.width/2,I.setAttribute("text-anchor","middle")),I.setAttribute("x",k),I.setAttribute("y",O),I.appendChild(this.document.createTextNode(x.text)),v.appendChild(I))}},{key:"setSvgAttributes",value:function(v,w){var x=this.svg;x.setAttribute("width",v+"px"),x.setAttribute("height",w+"px"),x.setAttribute("x","0px"),x.setAttribute("y","0px"),x.setAttribute("viewBox","0 0 "+v+" "+w),x.setAttribute("xmlns",P),x.setAttribute("version","1.1"),x.setAttribute("style","transform: translate(0,0)")}},{key:"createGroup",value:function(v,w,x){var I=this.document.createElementNS(P,"g");return I.setAttribute("transform","translate("+v+", "+w+")"),x.appendChild(I),I}},{key:"setGroupOptions",value:function(v,w){v.setAttribute("style","fill:"+w.lineColor+";")}},{key:"drawRect",value:function(v,w,x,I,k){var O=this.document.createElementNS(P,"rect");return O.setAttribute("x",v),O.setAttribute("y",w),O.setAttribute("width",x),O.setAttribute("height",I),k.appendChild(O),O}}]),M}();A.default=j}},Ie=>{Ie(Ie.s=482)}]);