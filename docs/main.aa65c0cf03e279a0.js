"use strict";(self.webpackChunkgestion_muestras=self.webpackChunkgestion_muestras||[]).push([[792],{3757:(Ie,A,F)=>{function $(n,e,t,i,r,o,s){try{var a=n[o](s),c=a.value}catch(l){return void t(l)}a.done?e(c):Promise.resolve(c).then(i,r)}function _(n){return function(){var e=this,t=arguments;return new Promise(function(i,r){var o=n.apply(e,t);function s(c){$(o,i,r,s,a,"next",c)}function a(c){$(o,i,r,s,a,"throw",c)}s(void 0)})}}let R=null,K=1;const P=Symbol("SIGNAL");function U(n){const e=R;return R=n,e}function k(n){if((!qs(n)||n.dirty)&&(n.dirty||n.lastCleanEpoch!==K)){if(!n.producerMustRecompute(n)&&!hr(n))return n.dirty=!1,void(n.lastCleanEpoch=K);n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=K}}function hr(n){Ye(n);for(let e=0;e<n.producerNode.length;e++){const t=n.producerNode[e],i=n.producerLastReadVersion[e];if(i!==t.version||(k(t),i!==t.version))return!0}return!1}function Yc(n,e){if(function Qt(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),Ye(n),1===n.liveConsumerNode.length)for(let i=0;i<n.producerNode.length;i++)Yc(n.producerNode[i],n.producerIndexOfThis[i]);const t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){const i=n.liveConsumerIndexOfThis[e],r=n.liveConsumerNode[e];Ye(r),r.producerIndexOfThis[i]=e}}function qs(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Ye(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let ZF=null;function yt(n){return"function"==typeof n}function hC(n){const t=n(i=>{Error.call(i),i.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const fC=hC(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function L_(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class ui{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:i}=this;if(yt(i))try{i()}catch(o){e=o instanceof fC?o.errors:[o]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const o of r)try{iL(o)}catch(s){e=e??[],s instanceof fC?e=[...e,...s.errors]:e.push(s)}}if(e)throw new fC(e)}}add(e){var t;if(e&&e!==this)if(this.closed)iL(e);else{if(e instanceof ui){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&L_(t,e)}remove(e){const{_finalizers:t}=this;t&&L_(t,e),e instanceof ui&&e._removeParent(this)}}ui.EMPTY=(()=>{const n=new ui;return n.closed=!0,n})();const tL=ui.EMPTY;function nL(n){return n instanceof ui||n&&"closed"in n&&yt(n.remove)&&yt(n.add)&&yt(n.unsubscribe)}function iL(n){yt(n)?n():n.unsubscribe()}const Xc={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},V_={setTimeout(n,e,...t){const{delegate:i}=V_;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=V_;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function rL(n){V_.setTimeout(()=>{const{onUnhandledError:e}=Xc;if(!e)throw n;e(n)})}function xf(){}const jJ=pC("C",void 0,void 0);function pC(n,e,t){return{kind:n,value:e,error:t}}let Zc=null;function B_(n){if(Xc.useDeprecatedSynchronousErrorHandling){const e=!Zc;if(e&&(Zc={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:i}=Zc;if(Zc=null,t)throw i}}else n()}class gC extends ui{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,nL(e)&&e.add(this)):this.destination=QJ}static create(e,t,i){return new Cf(e,t,i)}next(e){this.isStopped?_C(function $J(n){return pC("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?_C(function HJ(n){return pC("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?_C(jJ,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const qJ=Function.prototype.bind;function mC(n,e){return qJ.call(n,e)}class WJ{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){U_(i)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){U_(i)}else U_(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){U_(t)}}}class Cf extends gC{constructor(e,t,i){let r;if(super(),yt(e)||!e)r={next:e??void 0,error:t??void 0,complete:i??void 0};else{let o;this&&Xc.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&mC(e.next,o),error:e.error&&mC(e.error,o),complete:e.complete&&mC(e.complete,o)}):r=e}this.destination=new WJ(r)}}function U_(n){Xc.useDeprecatedSynchronousErrorHandling?function GJ(n){Xc.useDeprecatedSynchronousErrorHandling&&Zc&&(Zc.errorThrown=!0,Zc.error=n)}(n):rL(n)}function _C(n,e){const{onStoppedNotification:t}=Xc;t&&V_.setTimeout(()=>t(n,e))}const QJ={closed:!0,next:xf,error:function KJ(n){throw n},complete:xf},bC="function"==typeof Symbol&&Symbol.observable||"@@observable";function Fa(n){return n}function oL(n){return 0===n.length?Fa:1===n.length?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}let Yt=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){const o=function ZJ(n){return n&&n instanceof gC||function XJ(n){return n&&yt(n.next)&&yt(n.error)&&yt(n.complete)}(n)&&nL(n)}(t)?t:new Cf(t,i,r);return B_(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return new(i=sL(i))((r,o)=>{const s=new Cf({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(t){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(t)}[bC](){return this}pipe(...t){return oL(t)(this)}toPromise(t){return new(t=sL(t))((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return n.create=e=>new n(e),n})();function sL(n){var e;return null!==(e=n??Xc.Promise)&&void 0!==e?e:Promise}const JJ=hC(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let vt=(()=>{class n extends Yt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const i=new aL(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new JJ}next(t){B_(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(t)}})}error(t){B_(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){B_(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:i,isStopped:r,observers:o}=this;return i||r?tL:(this.currentObservers=null,o.push(t),new ui(()=>{this.currentObservers=null,L_(o,t)}))}_checkFinalizedStatuses(t){const{hasError:i,thrownError:r,isStopped:o}=this;i?t.error(r):o&&t.complete()}asObservable(){const t=new Yt;return t.source=this,t}}return n.create=(e,t)=>new aL(e,t),n})();class aL extends vt{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===i||i.call(t,e)}error(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===i||i.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,i;return null!==(i=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==i?i:tL}}class fr extends vt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}function cL(n){return yt(n?.lift)}function Mn(n){return e=>{if(cL(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function _n(n,e,t,i,r){return new eee(n,e,t,i,r)}class eee extends gC{constructor(e,t,i,r,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=r?function(a){try{r(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Le(n,e){return Mn((t,i)=>{let r=0;t.subscribe(_n(i,o=>{i.next(n.call(e,o,r++))}))})}const lL="https://g.co/ng/security#xss";class z extends Error{constructor(e,t){super(function ku(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function yC(n){return e=>{setTimeout(n,void 0,e)}}const We=class tee extends vt{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,i){let r=e,o=t||(()=>null),s=i;if(e&&"object"==typeof e){const c=e;r=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=yC(o),r&&(r=yC(r)),s&&(s=yC(s)));const a=super.subscribe({next:r,error:o,complete:s});return e instanceof ui&&e.add(a),a}};var ct=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(ct||{});function di(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(di).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function vC(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}var j_=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(j_||{}),Ao=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Ao||{});function Ws(n){return{toString:n}.toString()}const Ot=globalThis,es={},Et=[];function Nt(n){for(let e in n)if(n[e]===Nt)return e;throw Error("Could not find renamed property on target object.")}function oee(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}const Ef=Nt({\u0275cmp:Nt}),wC=Nt({\u0275dir:Nt}),xC=Nt({\u0275pipe:Nt}),hL=Nt({\u0275mod:Nt}),Ks=Nt({\u0275fac:Nt}),Tf=Nt({__NG_ELEMENT_ID__:Nt}),fL=Nt({__NG_ENV_ID__:Nt});var lt=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(lt||{});function pL(n,e,t){let i=n.length;for(;;){const r=n.indexOf(e,t);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const o=e.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}t=r+1}}function CC(n,e,t){let i=0;for(;i<t.length;){const r=t[i];if("number"==typeof r){if(0!==r)break;i++;const o=t[i++],s=t[i++],a=t[i++];n.setAttribute(e,s,a,o)}else{const o=r,s=t[++i];mL(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),i++}}return i}function gL(n){return 3===n||4===n||6===n}function mL(n){return 64===n.charCodeAt(0)}function If(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){const r=e[i];"number"==typeof r?t=r:0===t||_L(n,t,r,null,-1===t||2===t?e[++i]:null)}}return n}function _L(n,e,t,i,r){let o=0,s=n.length;if(-1===e)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===t){if(null===i)return void(null!==r&&(n[o+1]=r));if(i===n[o+1])return void(n[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==s&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),null!==i&&n.splice(o++,0,i),null!==r&&n.splice(o++,0,r)}const bL="ng-template";function see(n,e,t){let i=0,r=!0;for(;i<n.length;){let o=n[i++];if("string"==typeof o&&r){const s=n[i++];if(t&&"class"===o&&-1!==pL(s.toLowerCase(),e,0))return!0}else{if(1===o){for(;i<n.length&&"string"==typeof(o=n[i++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(r=!1)}}return!1}function yL(n){return 4===n.type&&n.value!==bL}function aee(n,e,t){return e===(4!==n.type||t?n.value:bL)}function cee(n,e,t){let i=4;const r=n.attrs||[],o=function dee(n){for(let e=0;e<n.length;e++)if(gL(n[e]))return e;return n.length}(r);let s=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!s)if(4&i){if(i=2|1&i,""!==c&&!aee(n,c,t)||""===c&&1===e.length){if(ko(i))return!1;s=!0}}else{const l=8&i?c:e[++a];if(8&i&&null!==n.attrs){if(!see(n.attrs,l,t)){if(ko(i))return!1;s=!0}continue}const d=lee(8&i?"class":c,r,yL(n),t);if(-1===d){if(ko(i))return!1;s=!0;continue}if(""!==l){let h;h=d>o?"":r[d+1].toLowerCase();const g=8&i?h:null;if(g&&-1!==pL(g,l,0)||2&i&&l!==h){if(ko(i))return!1;s=!0}}}}else{if(!s&&!ko(i)&&!ko(c))return!1;if(s&&ko(c))continue;s=!1,i=c|1&i}}return ko(i)||s}function ko(n){return!(1&n)}function lee(n,e,t,i){if(null===e)return-1;let r=0;if(i||!t){let o=!1;for(;r<e.length;){const s=e[r];if(s===n)return r;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++r];for(;"string"==typeof a;)a=e[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=o?1:2}return-1}return function hee(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const i=n[t];if("number"==typeof i)return-1;if(i===e)return t;t++}return-1}(e,n)}function vL(n,e,t=!1){for(let i=0;i<e.length;i++)if(cee(n,e[i],t))return!0;return!1}function fee(n,e){e:for(let t=0;t<e.length;t++){const i=e[t];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function wL(n,e){return n?":not("+e.trim()+")":e}function pee(n){let e=n[0],t=1,i=2,r="",o=!1;for(;t<n.length;){let s=n[t];if("string"==typeof s)if(2&i){const a=n[++t];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""!==r&&!ko(s)&&(e+=wL(o,r),r=""),i=s,o=o||!ko(i);t++}return""!==r&&(e+=wL(o,r)),e}function xe(n){return Ws(()=>{const e=CL(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===j_.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Ao.Emulated,styles:n.styles||Et,_:null,schemas:n.schemas||null,tView:null,id:""};EL(t);const i=n.dependencies;return t.directiveDefs=H_(i,!1),t.pipeDefs=H_(i,!0),t.id=function vee(n){let e=0;const t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const r of t)e=Math.imul(31,e)+r.charCodeAt(0)|0;return e+=2147483648,"c"+e}(t),t})}function _ee(n){return tt(n)||hi(n)}function bee(n){return null!==n}function et(n){return Ws(()=>({type:n.type,bootstrap:n.bootstrap||Et,declarations:n.declarations||Et,imports:n.imports||Et,exports:n.exports||Et,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function xL(n,e){if(null==n)return es;const t={};for(const i in n)if(n.hasOwnProperty(i)){const r=n[i];let o,s,a=lt.None;Array.isArray(r)?(a=r[0],o=r[1],s=r[2]??o):(o=r,s=r),e?(t[o]=a!==lt.None?[i,a]:i,e[o]=s):t[o]=i}return t}function _e(n){return Ws(()=>{const e=CL(n);return EL(e),e})}function Sr(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function tt(n){return n[Ef]||null}function hi(n){return n[wC]||null}function Fi(n){return n[xC]||null}function Xi(n,e){const t=n[hL]||null;if(!t&&!0===e)throw new Error(`Type ${di(n)} does not have '\u0275mod' property.`);return t}function CL(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||es,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||Et,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:xL(n.inputs,e),outputs:xL(n.outputs),debugInfo:null}}function EL(n){n.features?.forEach(e=>e(n))}function H_(n,e){if(!n)return null;const t=e?Fi:_ee;return()=>("function"==typeof n?n():n).map(i=>t(i)).filter(bee)}const bn=0,ie=1,Te=2,Gn=3,Oo=4,Zi=5,Po=6,Ou=7,Xt=8,Li=9,Qs=10,Ue=11,Mf=12,TL=13,Pu=14,Dn=15,Df=16,Ru=17,Ys=18,Sf=19,IL=20,Ba=21,$_=22,Jc=23,je=25,EC=1,ts=7,Nu=9,qn=10;var TC=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(TC||{});function Ji(n){return Array.isArray(n)&&"object"==typeof n[EC]}function er(n){return Array.isArray(n)&&!0===n[EC]}function IC(n){return!!(4&n.flags)}function el(n){return n.componentOffset>-1}function q_(n){return!(1&~n.flags)}function Ro(n){return!!n.template}function MC(n){return!!(512&n[Te])}let OL=!1;function Ht(n){for(;Array.isArray(n);)n=n[bn];return n}function kf(n,e){return Ht(e[n])}function pr(n,e){return Ht(e[n.index])}function Of(n,e){return n.data[e]}function Qr(n,e){const t=e[n];return Ji(t)?t:t[bn]}function kC(n){return!(128&~n[Te])}function ns(n,e){return null==e?null:n[e]}function PL(n){n[Ru]=0}function Dee(n){1024&n[Te]||(n[Te]|=1024,kC(n)&&Pf(n))}function OC(n){return!!(9216&n[Te]||n[Jc]?.dirty)}function PC(n){OC(n)?Pf(n):64&n[Te]&&(function Eee(){return OL}()?(n[Te]|=1024,Pf(n)):n[Qs].changeDetectionScheduler?.notify())}function Pf(n){n[Qs].changeDetectionScheduler?.notify();let e=tl(n);for(;null!==e&&!(8192&e[Te])&&(e[Te]|=8192,kC(e));)e=tl(e)}function W_(n,e){if(!(256&~n[Te]))throw new z(911,!1);null===n[Ba]&&(n[Ba]=[]),n[Ba].push(e)}function tl(n){const e=n[Gn];return er(e)?e[Gn]:e}const Ne={lFrame:HL(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function FL(){return Ne.bindingsEnabled}function Lu(){return null!==Ne.skipHydrationRootTNode}function q(){return Ne.lFrame.lView}function ut(){return Ne.lFrame.tView}function Ae(n){return Ne.lFrame.contextLView=n,n[Xt]}function ke(n){return Ne.lFrame.contextLView=null,n}function Ft(){let n=LL();for(;null!==n&&64===n.type;)n=n.parent;return n}function LL(){return Ne.lFrame.currentTNode}function is(n,e){const t=Ne.lFrame;t.currentTNode=n,t.isParent=e}function NC(){return Ne.lFrame.isParent}function FC(){Ne.lFrame.isParent=!1}function No(){return Ne.lFrame.bindingIndex++}function Zs(n){const e=Ne.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function Bee(n,e){const t=Ne.lFrame;t.bindingIndex=t.bindingRootIndex=n,LC(e)}function LC(n){Ne.lFrame.currentDirectiveIndex=n}function VC(n){const e=Ne.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}function BC(){return Ne.lFrame.currentQueryIndex}function K_(n){Ne.lFrame.currentQueryIndex=n}function zee(n){const e=n[ie];return 2===e.type?e.declTNode:1===e.type?n[Zi]:null}function zL(n,e,t){if(t&ct.SkipSelf){let r=e,o=n;for(;!(r=r.parent,null!==r||t&ct.Host||(r=zee(o),null===r||(o=o[Pu],10&r.type))););if(null===r)return!1;e=r,n=o}const i=Ne.lFrame=jL();return i.currentTNode=e,i.lView=n,!0}function UC(n){const e=jL(),t=n[ie];Ne.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function jL(){const n=Ne.lFrame,e=null===n?null:n.child;return null===e?HL(n):e}function HL(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function $L(){const n=Ne.lFrame;return Ne.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const GL=$L;function zC(){const n=$L();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function tr(){return Ne.lFrame.selectedIndex}function nl(n){Ne.lFrame.selectedIndex=n}function Zt(){const n=Ne.lFrame;return Of(n.tView,n.selectedIndex)}function Q_(){Ne.lFrame.currentNamespace="svg"}function jC(){!function $ee(){Ne.lFrame.currentNamespace=null}()}let WL=!0;function Y_(){return WL}function Ua(n){WL=n}function Gee(){return Vu(Ft(),q())}function Vu(n,e){return new ln(pr(n,e))}let GC,ln=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=Gee}}return n})();function KL(n){return n instanceof ln?n.nativeElement:n}function Bu(n,e){n.forEach(t=>Array.isArray(t)?Bu(t,e):e(t))}function QL(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function X_(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Yr(n,e,t){let i=Uu(n,e);return i>=0?n[1|i]=t:(i=~i,function YL(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(1===r)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;)n[r]=n[r-2],r--;n[e]=t,n[e+1]=i}}(n,i,e,t)),i}function $C(n,e){const t=Uu(n,e);if(t>=0)return n[1|t]}function Uu(n,e){return function XL(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){const o=i+(r-i>>1),s=n[o<<t];if(e===s)return o<<t;s>e?r=o:i=o+1}return~(r<<t)}(n,e,1)}function Wee(){return this._results[Symbol.iterator]()}class Nf{get changes(){return this._changes??=new We}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const t=Nf.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=Wee)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;const i=function Ar(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function qee(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=e[i];if(t&&(r=t(r),o=t(o)),o!==r)return!1}return!0}(this._results,i,t))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function J_(n){return!(128&~n.flags)}function ne(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Je(n){return{providers:n.providers||[],imports:n.imports||[]}}function tb(n){return e3(n,ib)||e3(n,t3)}function e3(n,e){return n.hasOwnProperty(e)?n[e]:null}function nb(n){return n&&(n.hasOwnProperty(qC)||n.hasOwnProperty(Zee))?n[qC]:null}const ib=Nt({\u0275prov:Nt}),qC=Nt({\u0275inj:Nt}),t3=Nt({ngInjectableDef:Nt}),Zee=Nt({ngInjectorDef:Nt});class X{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=ne({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const rb=new X("",{providedIn:"root",factory:()=>Jee}),Jee="ng",n3=new X(""),ho=new X("",{providedIn:"platform",factory:()=>"unknown"}),il=new X(""),WC=new X("",{providedIn:"root",factory:()=>function za(){if(void 0!==GC)return GC;if(typeof document<"u")return document;throw new z(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),nte=Nt({__forward_ref__:Nt});function Jt(n){return n.__forward_ref__=Jt,n.toString=function(){return di(this())},n}function Pe(n){return ob(n)?n():n}function ob(n){return"function"==typeof n&&n.hasOwnProperty(nte)&&n.__forward_ref__===Jt}function ZC(n){return n&&!!n.\u0275providers}function He(n){return"string"==typeof n?n:null==n?"":String(n)}function JC(n,e){throw new z(-201,!1)}let eE;function o3(){return eE}function kr(n){const e=eE;return eE=n,e}function s3(n,e,t){const i=tb(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:t&ct.Optional?null:void 0!==e?e:void JC()}const Lf={},tE="__NG_DI_FLAG__",sb="ngTempTokenPath",cte=/\n/gm,a3="__source";let zu;function ja(n){const e=zu;return zu=n,e}function dte(n,e=ct.Default){if(void 0===zu)throw new z(-203,!1);return null===zu?s3(n,void 0,e):zu.get(n,e&ct.Optional?null:void 0,e)}function H(n,e=ct.Default){return(o3()||dte)(Pe(n),e)}function J(n,e=ct.Default){return H(n,ab(e))}function ab(n){return typeof n>"u"||"number"==typeof n?n:(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function nE(n){const e=[];for(let t=0;t<n.length;t++){const i=Pe(n[t]);if(Array.isArray(i)){if(0===i.length)throw new z(900,!1);let r,o=ct.Default;for(let s=0;s<i.length;s++){const a=i[s],c=hte(a);"number"==typeof c?-1===c?r=a.token:o|=c:r=a}e.push(H(r,o))}else e.push(H(i))}return e}function Vf(n,e){return n[tE]=e,n.prototype[tE]=e,n}function hte(n){return n[tE]}let l3=()=>null;function uE(n,e,t=!1){return l3(n,e,t)}const qu="__parameters__";function Ku(n,e,t){return Ws(()=>{const i=function pE(n){return function(...t){if(n){const i=n(...t);for(const r in i)this[r]=i[r]}}}(e);function r(...o){if(this instanceof r)return i.apply(this,o),this;const s=new r(...o);return a.annotation=s,a;function a(c,l,u){const d=c.hasOwnProperty(qu)?c[qu]:Object.defineProperty(c,qu,{value:[]})[qu];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}const en=Vf(Ku("Optional"),8),jf=Vf(Ku("SkipSelf"),4);function rl(n,e){return n.hasOwnProperty(Ks)?n[Ks]:null}const ol=new X(""),g3=new X("",-1),gE=new X("");class fb{get(e,t=Lf){if(t===Lf){const i=new Error(`NullInjectorError: No provider for ${di(e)}!`);throw i.name="NullInjectorError",i}return t}}function Ite(...n){return{\u0275providers:mE(0,n),\u0275fromNgModule:!0}}function mE(n,...e){const t=[],i=new Set;let r;const o=s=>{t.push(s)};return Bu(e,s=>{const a=s;gb(a,o,[],i)&&(r||=[],r.push(a))}),void 0!==r&&m3(r,o),t}function m3(n,e){for(let t=0;t<n.length;t++){const{ngModule:i,providers:r}=n[t];_E(r,o=>{e(o,i)})}}function gb(n,e,t,i){if(!(n=Pe(n)))return!1;let r=null,o=nb(n);const s=!o&&tt(n);if(o||s){if(s&&!s.standalone)return!1;r=n}else{const c=n.ngModule;if(o=nb(c),!o)return!1;r=c}const a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const l of c)gb(l,e,t,i)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let l;i.add(r);try{Bu(o.imports,u=>{gb(u,e,t,i)&&(l||=[],l.push(u))})}finally{}void 0!==l&&m3(l,e)}if(!a){const l=rl(r)||(()=>new r);e({provide:r,useFactory:l,deps:Et},r),e({provide:gE,useValue:r,multi:!0},r),e({provide:ol,useValue:()=>H(r),multi:!0},r)}const c=o.providers;if(null!=c&&!a){const l=n;_E(c,u=>{e(u,l)})}}}return r!==n&&void 0!==n.providers}function _E(n,e){for(let t of n)ZC(t)&&(t=t.\u0275providers),Array.isArray(t)?_E(t,e):e(t)}const Mte=Nt({provide:String,useValue:Nt});function bE(n){return null!==n&&"object"==typeof n&&Mte in n}function sl(n){return"function"==typeof n}const yE=new X(""),mb={},Ste={};let vE;function _b(){return void 0===vE&&(vE=new fb),vE}class Xr{}class Qu extends Xr{get destroyed(){return this._destroyed}constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,xE(e,s=>this.processProvider(s)),this.records.set(g3,Yu(void 0,this)),r.has("environment")&&this.records.set(Xr,Yu(void 0,this));const o=this.records.get(yE);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(gE,Et,ct.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of e)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const t=ja(this),i=kr(void 0);try{return e()}finally{ja(t),kr(i)}}get(e,t=Lf,i=ct.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(fL))return e[fL](this);i=ab(i);const o=ja(this),s=kr(void 0);try{if(!(i&ct.SkipSelf)){let c=this.records.get(e);if(void 0===c){const l=function Rte(n){return"function"==typeof n||"object"==typeof n&&n instanceof X}(e)&&tb(e);c=l&&this.injectableDefInScope(l)?Yu(wE(e),mb):null,this.records.set(e,c)}if(null!=c)return this.hydrate(e,c)}return(i&ct.Self?_b():this.parent).get(e,t=i&ct.Optional&&t===Lf?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[sb]=a[sb]||[]).unshift(di(e)),o)throw a;return function fte(n,e,t,i){const r=n[sb];throw e[a3]&&r.unshift(e[a3]),n.message=function pte(n,e,t,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let r=di(e);if(Array.isArray(e))r=e.map(di).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):di(a)))}r=`{${o.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace(cte,"\n  ")}`}("\n"+n.message,r,t,i),n.ngTokenPath=r,n[sb]=null,n}(a,e,"R3InjectorError",this.source)}throw a}finally{kr(s),ja(o)}}resolveInjectorInitializers(){const e=ja(this),t=kr(void 0);try{const r=this.get(ol,Et,ct.Self);for(const o of r)o()}finally{ja(e),kr(t)}}toString(){const e=[],t=this.records;for(const i of t.keys())e.push(di(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new z(205,!1)}processProvider(e){let t=sl(e=Pe(e))?e:Pe(e&&e.provide);const i=function kte(n){return bE(n)?Yu(void 0,n.useValue):Yu(y3(n),mb)}(e);if(!sl(e)&&!0===e.multi){let r=this.records.get(t);r||(r=Yu(void 0,mb,!0),r.factory=()=>nE(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t){return t.value===mb&&(t.value=Ste,t.value=t.factory()),"object"==typeof t.value&&t.value&&function Pte(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=Pe(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){const t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}}function wE(n){const e=tb(n),t=null!==e?e.factory:rl(n);if(null!==t)return t;if(n instanceof X)throw new z(204,!1);if(n instanceof Function)return function Ate(n){if(n.length>0)throw new z(204,!1);const t=function Xee(n){return n&&(n[ib]||n[t3])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new z(204,!1)}function y3(n,e,t){let i;if(sl(n)){const r=Pe(n);return rl(r)||wE(r)}if(bE(n))i=()=>Pe(n.useValue);else if(function b3(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...nE(n.deps||[]));else if(function _3(n){return!(!n||!n.useExisting)}(n))i=()=>H(Pe(n.useExisting));else{const r=Pe(n&&(n.useClass||n.provide));if(!function Ote(n){return!!n.deps}(n))return rl(r)||wE(r);i=()=>new r(...nE(n.deps))}return i}function Yu(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function xE(n,e){for(const t of n)Array.isArray(t)?xE(t,e):t&&ZC(t)?xE(t.\u0275providers,e):e(t)}function al(n,e){n instanceof Qu&&n.assertNotDestroyed();const i=ja(n),r=kr(void 0);try{return e()}finally{ja(i),kr(r)}}class $te{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}}function w3(n,e,t,i){null!==e?e.applyValueToInputSignal(e,i):n[t]=i}function fo(){return x3}function x3(n){return n.type.prototype.ngOnChanges&&(n.setInput=qte),Gte}function Gte(){const n=E3(this),e=n?.current;if(e){const t=n.previous;if(t===es)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function qte(n,e,t,i,r){const o=this.declaredInputs[i],s=E3(n)||function Wte(n,e){return n[C3]=e}(n,{previous:es,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new $te(l&&l.currentValue,t,c===es),w3(n,e,r,t)}fo.ngInherit=!0;const C3="__ngSimpleChanges__";function E3(n){return n[C3]||null}const rs=function(n,e,t){};function vb(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){const o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),null!=u&&(n.destroyHooks??=[]).push(t,u)}}function wb(n,e,t){T3(n,e,3,t)}function xb(n,e,t,i){(3&n[Te])===t&&T3(n,e,t,i)}function TE(n,e){let t=n[Te];(3&t)===e&&(t&=16383,t+=1,n[Te]=t)}function T3(n,e,t,i){const o=i??-1,s=e.length-1;let a=0;for(let c=void 0!==i?65535&n[Ru]:0;c<s;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=i&&a>=i)break}else e[c]<0&&(n[Ru]+=65536),(a<o||-1==o)&&(Yte(n,t,e,c),n[Ru]=(4294901760&n[Ru])+c+2),c++}function I3(n,e){rs(4,n,e);const t=U(null);try{e.call(n)}finally{U(t),rs(5,n,e)}}function Yte(n,e,t,i){const r=t[i]<0,o=t[i+1],a=n[r?-t[i]:t[i]];r?n[Te]>>14<n[Ru]>>16&&(3&n[Te])===e&&(n[Te]+=16384,I3(a,o)):I3(a,o)}const Zu=-1;class $f{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}}function ME(n){return n!==Zu}function Gf(n){return 32767&n}function qf(n,e){let t=function tne(n){return n>>16}(n),i=e;for(;t>0;)i=i[Pu],t--;return i}let DE=!0;function Cb(n){const e=DE;return DE=n,e}const M3=255,D3=5;let nne=0;const os={};function Eb(n,e){const t=S3(n,e);if(-1!==t)return t;const i=e[ie];i.firstCreatePass&&(n.injectorIndex=e.length,SE(i.data,n),SE(e,null),SE(i.blueprint,null));const r=Tb(n,e),o=n.injectorIndex;if(ME(r)){const s=Gf(r),a=qf(r,e),c=a[ie].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=r,o}function SE(n,e){n.push(0,0,0,0,0,0,0,0,e)}function S3(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function Tb(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;null!==r;){if(i=F3(r),null===i)return Zu;if(t++,r=r[Pu],-1!==i.injectorIndex)return i.injectorIndex|t<<16}return Zu}function AE(n,e,t){!function ine(n,e,t){let i;"string"==typeof t?i=t.charCodeAt(0)||0:t.hasOwnProperty(Tf)&&(i=t[Tf]),null==i&&(i=t[Tf]=nne++);const r=i&M3;e.data[n+(r>>D3)]|=1<<r}(n,e,t)}function A3(n,e,t){if(t&ct.Optional||void 0!==n)return n;JC()}function k3(n,e,t,i){if(t&ct.Optional&&void 0===i&&(i=null),!(t&(ct.Self|ct.Host))){const r=n[Li],o=kr(void 0);try{return r?r.get(e,i,t&ct.Optional):s3(e,i,t&ct.Optional)}finally{kr(o)}}return A3(i,0,t)}function O3(n,e,t,i=ct.Default,r){if(null!==n){if(2048&e[Te]&&!(i&ct.Self)){const s=function cne(n,e,t,i,r){let o=n,s=e;for(;null!==o&&null!==s&&2048&s[Te]&&!(512&s[Te]);){const a=P3(o,s,t,i|ct.Self,os);if(a!==os)return a;let c=o.parent;if(!c){const l=s[IL];if(l){const u=l.get(t,os,i);if(u!==os)return u}c=F3(s),s=s[Pu]}o=c}return r}(n,e,t,i,os);if(s!==os)return s}const o=P3(n,e,t,i,os);if(o!==os)return o}return k3(e,t,i,r)}function P3(n,e,t,i,r){const o=function sne(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Tf)?n[Tf]:void 0;return"number"==typeof e?e>=0?e&M3:ane:e}(t);if("function"==typeof o){if(!zL(e,n,i))return i&ct.Host?A3(r,0,i):k3(e,t,i,r);try{let s;if(s=o(i),null!=s||i&ct.Optional)return s;JC()}finally{GL()}}else if("number"==typeof o){let s=null,a=S3(n,e),c=Zu,l=i&ct.Host?e[Dn][Zi]:null;for((-1===a||i&ct.SkipSelf)&&(c=-1===a?Tb(n,e):e[a+8],c!==Zu&&N3(i,!1)?(s=e[ie],a=Gf(c),e=qf(c,e)):a=-1);-1!==a;){const u=e[ie];if(R3(o,a,u.data)){const d=one(a,e,t,s,i,l);if(d!==os)return d}c=e[a+8],c!==Zu&&N3(i,e[ie].data[a+8]===l)&&R3(o,a,e)?(s=u,a=Gf(c),e=qf(c,e)):a=-1}}return r}function one(n,e,t,i,r,o){const s=e[ie],a=s.data[n+8],u=Ib(a,s,t,null==i?el(a)&&DE:i!=s&&!!(3&a.type),r&ct.Host&&o===a);return null!==u?cl(e,s,u,a):os}function Ib(n,e,t,i,r){const o=n.providerIndexes,s=e.data,a=1048575&o,c=n.directiveStart,u=o>>20,h=r?a+u:n.directiveEnd;for(let g=i?a:a+u;g<h;g++){const y=s[g];if(g<c&&t===y||g>=c&&y.type===t)return g}if(r){const g=s[c];if(g&&Ro(g)&&g.type===t)return c}return null}function cl(n,e,t,i){let r=n[t];const o=e.data;if(function Xte(n){return n instanceof $f}(r)){const s=r;s.resolving&&function ote(n,e){throw e&&e.join(" > "),new z(-200,n)}(function Dt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():He(n)}(o[t]));const a=Cb(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?kr(s.injectImpl):null;zL(n,i,ct.Default);try{r=n[t]=s.factory(void 0,o,n,i),e.firstCreatePass&&t>=i.directiveStart&&function Qte(n,e,t){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){const s=x3(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}r&&(t.preOrderHooks??=[]).push(0-n,r),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}(t,o[t],e)}finally{null!==l&&kr(l),Cb(a),s.resolving=!1,GL()}}return r}function R3(n,e,t){return!!(t[e+(n>>D3)]&1<<n)}function N3(n,e){return!(n&ct.Self||n&ct.Host&&e)}class pi{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return O3(this._tNode,this._lView,e,ab(i),t)}}function ane(){return new pi(Ft(),q())}function wi(n){return Ws(()=>{const e=n.prototype.constructor,t=e[Ks]||kE(e),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const o=r[Ks]||kE(r);if(o&&o!==t)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function kE(n){return ob(n)?()=>{const e=kE(Pe(n));return e&&e()}:rl(n)}function F3(n){const e=n[ie],t=e.type;return 2===t?e.declTNode:1===t?n[Zi]:null}function z3(n,e=null,t=null,i){const r=j3(n,e,t,i);return r.resolveInjectorInitializers(),r}function j3(n,e=null,t=null,i,r=new Set){const o=[t||Et,Ite(n)];return i=i||("object"==typeof n?void 0:di(n)),new Qu(o,e||_b(),i||null,r)}let Gt=(()=>{class n{static{this.THROW_IF_NOT_FOUND=Lf}static{this.NULL=new fb}static create(t,i){if(Array.isArray(t))return z3({name:""},i,t,"");{const r=t.name??"";return z3({name:r},t.parent,t.providers,r)}}static{this.\u0275prov=ne({token:n,providedIn:"any",factory:()=>H(g3)})}static{this.__NG_ELEMENT_ID__=-1}}return n})();function PE(n){return n.ngOriginalError}class Fo{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&PE(e);for(;t&&PE(t);)t=PE(t);return t||null}}const $3=new X("",{providedIn:"root",factory:()=>J(Fo).handleError.bind(void 0)}),q3=new X("",{providedIn:"root",factory:()=>!1});class ll{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${lL})`}}function Zr(n){return n instanceof ll?n.changingThisBreaksApplicationSecurity:n}const One=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Vi=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Vi||{});function nd(n){const e=function Kf(){const n=q();return n&&n[Qs].sanitizer}();return e?e.sanitize(Vi.URL,n)||"":function ss(n,e){const t=function Cne(n){return n instanceof ll&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${lL})`)}return t===e}(n,"URL")?Zr(n):function Ob(n){return(n=String(n)).match(One)?n:"unsafe:"+n}(He(n))}const BE=new Map;let Xne=0;const zE="__ngContext__";function nr(n,e){Ji(e)?(n[zE]=e[Sf],function Jne(n){BE.set(n[Sf],n)}(e)):n[zE]=e}function Jr(n){return n instanceof Function?n():n}var $a=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}($a||{});let GE;function qE(n,e){return GE(n,e)}function rd(n,e,t,i,r){if(null!=i){let o,s=!1;er(i)?o=i:Ji(i)&&(s=!0,i=i[bn]);const a=Ht(i);0===n&&null!==t?null==r?E4(e,t,a):ul(e,t,a,r||null,!0):1===n&&null!==t?ul(e,t,a,r||null,!0):2===n?function zb(n,e,t){const i=Bb(n,e);i&&function wie(n,e,t,i){n.removeChild(e,t,i)}(n,i,e,t)}(e,a,s):3===n&&e.destroyNode(a),null!=o&&function Eie(n,e,t,i,r){const o=t[ts];o!==Ht(t)&&rd(e,n,i,o,r);for(let a=qn;a<t.length;a++){const c=t[a];jb(c[ie],c,n,e,i,o)}}(e,n,o,t,r)}}function Lb(n,e,t){return n.createElement(e,t)}function w4(n,e){jb(n,e,e[Ue],2,null,null)}function x4(n,e){const t=n[Nu],i=t.indexOf(e);t.splice(i,1)}function Yf(n,e){if(n.length<=qn)return;const t=qn+e,i=n[t];if(i){const r=i[Df];null!==r&&r!==n&&x4(r,i),e>0&&(n[t-1][Oo]=i[Oo]);const o=X_(n,qn+e);!function pie(n,e){w4(n,e),e[bn]=null,e[Zi]=null}(i[ie],i);const s=o[Ys];null!==s&&s.detachView(o[ie]),i[Gn]=null,i[Oo]=null,i[Te]&=-129}return i}function Vb(n,e){if(!(256&e[Te])){const t=e[Ue];t.destroyNode&&jb(n,e,t,3,null,null),function mie(n){let e=n[Mf];if(!e)return KE(n[ie],n);for(;e;){let t=null;if(Ji(e))t=e[Mf];else{const i=e[qn];i&&(t=i)}if(!t){for(;e&&!e[Oo]&&e!==n;)Ji(e)&&KE(e[ie],e),e=e[Gn];null===e&&(e=n),Ji(e)&&KE(e[ie],e),t=e&&e[Oo]}e=t}}(e)}}function KE(n,e){if(!(256&e[Te])){e[Te]&=-129,e[Te]|=256,e[Jc]&&function So(n){if(Ye(n),qs(n))for(let e=0;e<n.producerNode.length;e++)Yc(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}(e[Jc]),function vie(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let i=0;i<t.length;i+=2){const r=e[t[i]];if(!(r instanceof $f)){const o=t[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=r[o[s]],c=o[s+1];rs(4,a,c);try{c.call(a)}finally{rs(5,a,c)}}else{rs(4,r,o);try{o.call(r)}finally{rs(5,r,o)}}}}}(n,e),function yie(n,e){const t=n.cleanup,i=e[Ou];if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const s=t[o+3];s>=0?i[s]():i[-s].unsubscribe(),o+=2}else t[o].call(i[t[o+1]]);null!==i&&(e[Ou]=null);const r=e[Ba];if(null!==r){e[Ba]=null;for(let o=0;o<r.length;o++)(0,r[o])()}}(n,e),1===e[ie].type&&e[Ue].destroy();const t=e[Df];if(null!==t&&er(e[Gn])){t!==e[Gn]&&x4(t,e);const i=e[Ys];null!==i&&i.detachView(n)}!function eie(n){BE.delete(n[Sf])}(e)}}function QE(n,e,t){return function C4(n,e,t){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return t[bn];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:o}=n.data[i.directiveStart+r];if(o===Ao.None||o===Ao.Emulated)return null}return pr(i,t)}}(n,e.parent,t)}function ul(n,e,t,i,r){n.insertBefore(e,t,i,r)}function E4(n,e,t){n.appendChild(e,t)}function T4(n,e,t,i,r){null!==i?ul(n,e,t,i,r):E4(n,e,t)}function Bb(n,e){return n.parentNode(e)}function I4(n,e,t){return D4(n,e,t)}let YE,D4=function M4(n,e,t){return 40&n.type?pr(n,t):null};function Ub(n,e,t,i){const r=QE(n,i,e),o=e[Ue],a=I4(i.parent||e[Zi],i,e);if(null!=r)if(Array.isArray(t))for(let c=0;c<t.length;c++)T4(o,r,t[c],a,!1);else T4(o,r,t,a,!1);void 0!==YE&&YE(o,i,e,t,r)}function Xf(n,e){if(null!==e){const t=e.type;if(3&t)return pr(e,n);if(4&t)return XE(-1,n[e.index]);if(8&t){const i=e.child;if(null!==i)return Xf(n,i);{const r=n[e.index];return er(r)?XE(-1,r):Ht(r)}}if(32&t)return qE(e,n)()||Ht(n[e.index]);{const i=A4(n,e);return null!==i?Array.isArray(i)?i[0]:Xf(tl(n[Dn]),i):Xf(n,e.next)}}return null}function A4(n,e){return null!==e?n[Dn][Zi].projection[e.projection]:null}function XE(n,e){const t=qn+n+1;if(t<e.length){const i=e[t],r=i[ie].firstChild;if(null!==r)return Xf(i,r)}return e[ts]}function ZE(n,e,t,i,r,o,s){for(;null!=t;){const a=i[t.index],c=t.type;if(s&&0===e&&(a&&nr(Ht(a),i),t.flags|=2),32&~t.flags)if(8&c)ZE(n,e,t.child,i,r,o,!1),rd(e,n,r,a,o);else if(32&c){const l=qE(t,i);let u;for(;u=l();)rd(e,n,r,u,o);rd(e,n,r,a,o)}else 16&c?O4(n,e,i,t,r,o):rd(e,n,r,a,o);t=s?t.projectionNext:t.next}}function jb(n,e,t,i,r,o){ZE(t,i,n.firstChild,e,r,o,!1)}function O4(n,e,t,i,r,o){const s=t[Dn],c=s[Zi].projection[i.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)rd(e,n,r,c[l],o);else{let l=c;const u=s[Gn];J_(i)&&(l.flags|=128),ZE(n,e,l,u,r,o,!0)}}function P4(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function R4(n,e,t){const{mergedAttrs:i,classes:r,styles:o}=t;null!==i&&CC(n,e,i),null!==r&&P4(n,e,r),null!==o&&function Iie(n,e,t){n.setAttribute(e,"style",t)}(n,e,o)}const Ge={};function V(n=1){N4(ut(),q(),tr()+n,!1)}function N4(n,e,t,i){if(!i)if(3&~e[Te]){const o=n.preOrderHooks;null!==o&&xb(e,o,0,t)}else{const o=n.preOrderCheckHooks;null!==o&&wb(e,o,t)}nl(t)}function E(n,e=ct.Default){const t=q();return null===t?H(n,e):O3(Ft(),t,Pe(n),e)}function JE(){throw new Error("invalid")}function F4(n,e,t,i,r,o){const s=U(null);try{let a=null;r&lt.SignalBased&&(a=e[i][P]),null!==a&&void 0!==a.transformFn&&(o=a.transformFn(o)),r&lt.HasDecoratorInputTransform&&(o=n.inputTransforms[i].call(e,o)),null!==n.setInput?n.setInput(e,a,o,t,i):w3(e,a,i,o)}finally{U(s)}}function Hb(n,e,t,i,r,o,s,a,c,l,u){const d=e.blueprint.slice();return d[bn]=r,d[Te]=204|i,(null!==l||n&&2048&n[Te])&&(d[Te]|=2048),PL(d),d[Gn]=d[Pu]=n,d[Xt]=t,d[Qs]=s||n&&n[Qs],d[Ue]=a||n&&n[Ue],d[Li]=c||n&&n[Li]||null,d[Zi]=o,d[Sf]=function Zne(){return Xne++}(),d[Po]=u,d[IL]=l,d[Dn]=2==e.type?n[Dn]:d,d}function od(n,e,t,i,r){let o=n.data[e];if(null===o)o=function e1(n,e,t,i,r){const o=LL(),s=NC(),c=n.data[e]=function Rie(n,e,t,i,r,o){let s=e?e.injectorIndex:-1,a=0;return Lu()&&(a|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,t,e,i,r);return null===n.firstChild&&(n.firstChild=c),null!==o&&(s?null==o.child&&null!==c.parent&&(o.child=c):null===o.next&&(o.next=c,c.prev=o)),c}(n,e,t,i,r),function Vee(){return Ne.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=t,o.value=i,o.attrs=r;const s=function Rf(){const n=Ne.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return is(o,!0),o}function Zf(n,e,t,i){if(0===t)return-1;const r=e.length;for(let o=0;o<t;o++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function L4(n,e,t,i,r){const o=tr(),s=2&i;try{nl(-1),s&&e.length>je&&N4(n,e,je,!1),rs(s?2:0,r),t(i,r)}finally{nl(o),rs(s?3:1,r)}}function t1(n,e,t){if(IC(e)){const i=U(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=n.data[s];a.contentQueries&&a.contentQueries(1,t[s],s)}}finally{U(i)}}}function n1(n,e,t){FL()&&(function zie(n,e,t,i){const r=t.directiveStart,o=t.directiveEnd;el(t)&&function Kie(n,e,t){const i=pr(e,n),r=V4(t);let s=16;t.signals?s=4096:t.onPush&&(s=64);const a=$b(n,Hb(n,r,null,s,i,e,null,n[Qs].rendererFactory.createRenderer(i,t),null,null,null));n[e.index]=a}(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||Eb(t,e),nr(i,e);const s=t.initialInputs;for(let a=r;a<o;a++){const c=n.data[a],l=cl(e,n,a,t);nr(l,e),null!==s&&Qie(0,a-r,l,c,0,s),Ro(c)&&(Qr(t.index,e)[Xt]=cl(e,n,a,t))}}(n,e,t,pr(t,e)),!(64&~t.flags)&&H4(n,e,t))}function r1(n,e,t=pr){const i=e.localNames;if(null!==i){let r=e.index+1;for(let o=0;o<i.length;o+=2){const s=i[o+1],a=-1===s?t(e,n):n[s];n[r++]=a}}}function V4(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=o1(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function o1(n,e,t,i,r,o,s,a,c,l,u){const d=je+i,h=d+r,g=function Die(n,e){const t=[];for(let i=0;i<e;i++)t.push(i<n?null:Ge);return t}(d,h),y="function"==typeof l?l():l;return g[ie]={type:n,blueprint:g,template:t,queries:null,viewQuery:a,declTNode:e,data:g.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:y,incompleteFirstPass:!1,ssrId:u}}let B4=()=>null;function U4(n,e,t,i,r){for(let o in e){if(!e.hasOwnProperty(o))continue;const s=e[o];if(void 0===s)continue;i??={};let a,c=lt.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let l=o;if(null!==r){if(!r.hasOwnProperty(o))continue;l=r[o]}0===n?z4(i,t,l,a,c):z4(i,t,l,a)}return i}function z4(n,e,t,i,r){let o;n.hasOwnProperty(t)?(o=n[t]).push(e,i):o=n[t]=[e,i],void 0!==r&&o.push(r)}function Pr(n,e,t,i,r,o,s,a){const c=pr(e,t);let u,l=e.inputs;!a&&null!=l&&(u=l[i])?(u1(n,t,u,i,r),el(e)&&function Lie(n,e){const t=Qr(e,n);16&t[Te]||(t[Te]|=64)}(t,e.index)):3&e.type&&(i=function Fie(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=s?s(r,e.value||"",i):r,o.setProperty(c,i,r))}function s1(n,e,t,i){if(FL()){const r=null===i?null:{"":-1},o=function Hie(n,e){const t=n.directiveRegistry;let i=null,r=null;if(t)for(let o=0;o<t.length;o++){const s=t[o];if(vL(e,s.selectors,!1))if(i||(i=[]),Ro(s))if(null!==s.findHostDirectiveDefs){const a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),i.unshift(...a,s),a1(n,e,a.length)}else i.unshift(s),a1(n,e,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return null===i?null:[i,r]}(n,t);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&j4(n,e,t,s,r,a),r&&function $ie(n,e,t){if(e){const i=n.localNames=[];for(let r=0;r<e.length;r+=2){const o=t[e[r+1]];if(null==o)throw new z(-301,!1);i.push(e[r],o)}}}(t,i,r)}t.mergedAttrs=If(t.mergedAttrs,t.attrs)}function j4(n,e,t,i,r,o){for(let l=0;l<i.length;l++)AE(Eb(t,e),n,i[l].type);!function qie(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,i.length);for(let l=0;l<i.length;l++){const u=i[l];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,c=Zf(n,e,i.length,null);for(let l=0;l<i.length;l++){const u=i[l];t.mergedAttrs=If(t.mergedAttrs,u.hostAttrs),Wie(n,t,e,c,u),Gie(c,u,r),null!==u.contentQueries&&(t.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(t.flags|=64);const d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),c++}!function Nie(n,e,t){const r=e.directiveEnd,o=n.data,s=e.attrs,a=[];let c=null,l=null;for(let u=e.directiveStart;u<r;u++){const d=o[u],h=t?t.get(d):null,y=h?h.outputs:null;c=U4(0,d.inputs,u,c,h?h.inputs:null),l=U4(1,d.outputs,u,l,y);const C=null===c||null===s||yL(e)?null:Yie(c,u,s);a.push(C)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}(n,t,o)}function H4(n,e,t){const i=t.directiveStart,r=t.directiveEnd,o=t.index,s=function Uee(){return Ne.lFrame.currentDirectiveIndex}();try{nl(o);for(let a=i;a<r;a++){const c=n.data[a],l=e[a];LC(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&jie(c,l)}}finally{nl(-1),LC(s)}}function jie(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function a1(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function Gie(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;Ro(e)&&(t[""]=n)}}function Wie(n,e,t,i,r){n.data[i]=r;const o=r.factory||(r.factory=rl(r.type)),s=new $f(o,Ro(r),E);n.blueprint[i]=s,t[i]=s,function Bie(n,e,t,i,r){const o=r.hostBindings;if(o){let s=n.hostBindingOpCodes;null===s&&(s=n.hostBindingOpCodes=[]);const a=~e.index;(function Uie(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(s)!=a&&s.push(a),s.push(t,i,o)}}(n,e,i,Zf(n,t,r.hostVars,Ge),r)}function as(n,e,t,i,r,o){const s=pr(n,e);!function c1(n,e,t,i,r,o,s){if(null==o)n.removeAttribute(e,r,t);else{const a=null==s?He(o):s(o,i||"",r);n.setAttribute(e,r,a,t)}}(e[Ue],s,o,n.value,t,i,r)}function Qie(n,e,t,i,r,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;)F4(i,t,s[a++],s[a++],s[a++],s[a++])}function Yie(n,e,t){let i=null,r=0;for(;r<t.length;){const o=t[r];if(0!==o)if(5!==o){if("number"==typeof o)break;if(n.hasOwnProperty(o)){null===i&&(i=[]);const s=n[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){i.push(o,s[a+1],s[a+2],t[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function $4(n,e,t,i){return[n,!0,0,e,null,i,null,t,null,null]}function G4(n,e){const t=n.contentQueries;if(null!==t){const i=U(null);try{for(let r=0;r<t.length;r+=2){const s=t[r+1];if(-1!==s){const a=n.data[s];K_(t[r]),a.contentQueries(2,e[s],s)}}}finally{U(i)}}}function $b(n,e){return n[Mf]?n[TL][Oo]=e:n[Mf]=e,n[TL]=e,e}function l1(n,e,t){K_(0);const i=U(null);try{e(n,t)}finally{U(i)}}function q4(n){return n[Ou]||(n[Ou]=[])}function W4(n){return n.cleanup||(n.cleanup=[])}function K4(n,e,t){return(null===n||Ro(n))&&(t=function AC(n){for(;Array.isArray(n);){if("object"==typeof n[EC])return n;n=n[bn]}return null}(t[e.index])),t[Ue]}function Gb(n,e){const t=n[Li],i=t?t.get(Fo,null):null;i&&i.handleError(e)}function u1(n,e,t,i,r){for(let o=0;o<t.length;){const s=t[o++],a=t[o++],c=t[o++];F4(n.data[s],e[s],i,a,c,r)}}function Xie(n,e){const t=Qr(e,n),i=t[ie];!function Zie(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}(i,t);const r=t[bn];null!==r&&null===t[Po]&&(t[Po]=uE(r,t[Li])),d1(i,t,t[Xt])}function d1(n,e,t){UC(e);try{const i=n.viewQuery;null!==i&&l1(1,i,t);const r=n.template;null!==r&&L4(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Ys]?.finishViewCreation(n),n.staticContentQueries&&G4(n,e),n.staticViewQueries&&l1(2,n.viewQuery,t);const o=n.components;null!==o&&function Jie(n,e){for(let t=0;t<e.length;t++)Xie(n,e[t])}(e,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[Te]&=-5,zC()}}function sd(n,e){return!e||null===e.firstChild||J_(n)}function ep(n,e,t,i=!0){const r=e[ie];if(function _ie(n,e,t,i){const r=qn+i,o=t.length;i>0&&(t[r-1][Oo]=e),i<o-qn?(e[Oo]=t[r],QL(t,qn+i,e)):(t.push(e),e[Oo]=null),e[Gn]=t;const s=e[Df];null!==s&&t!==s&&function bie(n,e){const t=n[Nu];e[Dn]!==e[Gn][Gn][Dn]&&(n[Te]|=TC.HasTransplantedViews),null===t?n[Nu]=[e]:t.push(e)}(s,e);const a=e[Ys];null!==a&&a.insertView(n),PC(e),e[Te]|=128}(r,e,n,t),i){const s=XE(t,n),a=e[Ue],c=Bb(a,n[ts]);null!==c&&function gie(n,e,t,i,r,o){i[bn]=r,i[Zi]=e,jb(n,i,t,1,r,o)}(r,n[Zi],a,e,c,s)}const o=e[Po];null!==o&&null!==o.firstChild&&(o.firstChild=null)}function tp(n,e,t,i,r=!1){for(;null!==t;){const o=e[t.index];null!==o&&i.push(Ht(o)),er(o)&&Y4(o,i);const s=t.type;if(8&s)tp(n,e,t.child,i);else if(32&s){const a=qE(t,e);let c;for(;c=a();)i.push(c)}else if(16&s){const a=A4(e,t);if(Array.isArray(a))i.push(...a);else{const c=tl(e[Dn]);tp(c[ie],c,a,i,!0)}}t=r?t.projectionNext:t.next}return i}function Y4(n,e){for(let t=qn;t<n.length;t++){const i=n[t],r=i[ie].firstChild;null!==r&&tp(i[ie],i,r,e)}n[ts]!==n[bn]&&e.push(n[ts])}let X4=[];const ire={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Pf(n.lView)},consumerOnSignalRead(){this.lView[Jc]=this}};function Z4(n){return e5(n[Mf])}function J4(n){return e5(n[Oo])}function e5(n){for(;null!==n&&!er(n);)n=n[Oo];return n}function qb(n,e=!0,t=0){const i=n[Qs],r=i.rendererFactory;r.begin?.();try{!function sre(n,e){f1(n,e);let t=0;for(;OC(n);){if(100===t)throw new z(103,!1);t++,f1(n,1)}}(n,t)}catch(s){throw e&&Gb(n,s),s}finally{r.end?.(),i.inlineEffectRunner?.flush()}}function are(n,e,t,i){const r=e[Te];if(!(256&~r))return;e[Qs].inlineEffectRunner?.flush(),UC(e);let s=null,a=null;(function cre(n){return 2!==n.type})(n)&&(a=function ere(n){return n[Jc]??function tre(n){const e=X4.pop()??Object.create(ire);return e.lView=n,e}(n)}(e),s=function fe(n){return n&&(n.nextProducerIndex=0),U(n)}(a));try{PL(e),function BL(n){return Ne.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&L4(n,e,t,2,i);const c=!(3&~r);if(c){const d=n.preOrderCheckHooks;null!==d&&wb(e,d,null)}else{const d=n.preOrderHooks;null!==d&&xb(e,d,0,null),TE(e,0)}if(function lre(n){for(let e=Z4(n);null!==e;e=J4(e)){if(!(e[Te]&TC.HasTransplantedViews))continue;const t=e[Nu];for(let i=0;i<t.length;i++){Dee(t[i])}}}(e),n5(e,0),null!==n.contentQueries&&G4(n,e),c){const d=n.contentCheckHooks;null!==d&&wb(e,d)}else{const d=n.contentHooks;null!==d&&xb(e,d,1),TE(e,1)}!function Mie(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let i=0;i<t.length;i++){const r=t[i];if(r<0)nl(~r);else{const o=r,s=t[++i],a=t[++i];Bee(s,o),a(2,e[o])}}}finally{nl(-1)}}(n,e);const l=n.components;null!==l&&o5(e,l,0);const u=n.viewQuery;if(null!==u&&l1(2,u,i),c){const d=n.viewCheckHooks;null!==d&&wb(e,d)}else{const d=n.viewHooks;null!==d&&xb(e,d,2),TE(e,2)}if(!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[$_]){for(const d of e[$_])d();e[$_]=null}e[Te]&=-73}catch(c){throw Pf(e),c}finally{null!==a&&(function Kt(n,e){if(U(e),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(qs(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Yc(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}(a,s),function nre(n){n.lView[Jc]!==n&&(n.lView=null,X4.push(n))}(a)),zC()}}function n5(n,e){for(let t=Z4(n);null!==t;t=J4(t))for(let i=qn;i<t.length;i++)r5(t[i],e)}function ure(n,e,t){r5(Qr(e,n),t)}function r5(n,e){kC(n)&&f1(n,e)}function f1(n,e){const i=n[ie],r=n[Te],o=n[Jc];let s=!!(0===e&&16&r);if(s||=!!(64&r&&0===e),s||=!!(1024&r),s||=!(!o?.dirty||!hr(o)),o&&(o.dirty=!1),n[Te]&=-9217,s)are(i,n,i.template,n[Xt]);else if(8192&r){n5(n,1);const a=i.components;null!==a&&o5(n,a,1)}}function o5(n,e,t){for(let i=0;i<e.length;i++)ure(n,e[i],t)}function np(n){for(n[Qs].changeDetectionScheduler?.notify();n;){n[Te]|=64;const e=tl(n);if(MC(n)&&!e)return n;n=e}return null}class ip{get rootNodes(){const e=this._lView,t=e[ie];return tp(t,e,t.firstChild,[])}constructor(e,t,i=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Xt]}set context(e){this._lView[Xt]=e}get destroyed(){return!(256&~this._lView[Te])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Gn];if(er(e)){const t=e[8],i=t?t.indexOf(this):-1;i>-1&&(Yf(e,i),X_(t,i))}this._attachedToViewContainer=!1}Vb(this._lView[ie],this._lView)}onDestroy(e){W_(this._lView,e)}markForCheck(){np(this._cdRefInjectingView||this._lView)}detach(){this._lView[Te]&=-129}reattach(){PC(this._lView),this._lView[Te]|=128}detectChanges(){this._lView[Te]|=1024,qb(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new z(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,w4(this._lView[ie],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new z(902,!1);this._appRef=e,PC(this._lView)}}let cs=(()=>{class n{static{this.__NG_ELEMENT_ID__=fre}}return n})();const dre=cs,hre=class extends dre{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,i){const r=function Jf(n,e,t,i){const r=e.tView,a=Hb(n,r,t,4096&n[Te]?4096:16,null,e,null,null,null,i?.injector??null,i?.dehydratedView??null);a[Df]=n[e.index];const l=n[Ys];return null!==l&&(a[Ys]=l.createEmbeddedView(r)),d1(r,a,t),a}(this._declarationLView,this._declarationTContainer,e,{injector:t,dehydratedView:i});return new ip(r)}};function fre(){return Wb(Ft(),q())}function Wb(n,e){return 4&n.type?new hre(e,n,Vu(n,e)):null}class y1{}class Nre{}class h5{}class Lre{resolveComponentFactory(e){throw function Fre(n){const e=Error(`No component factory found for ${di(n)}.`);return e.ngComponent=n,e}(e)}}let cd=(()=>{class n{static{this.NULL=new Lre}}return n})();class v1{}let Lo=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function Vre(){const n=q(),t=Qr(Ft().index,n);return(Ji(t)?t:n)[Ue]}()}}return n})(),Bre=(()=>{class n{static{this.\u0275prov=ne({token:n,providedIn:"root",factory:()=>null})}}return n})();const w1={};const g5=new Set;function ls(n){g5.has(n)||(g5.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function m5(n){return function p5(n){return"function"==typeof n&&void 0!==n[P]}(n)&&"function"==typeof n.set}function Zb(n){return!!function x1(n){return null!==n&&("function"==typeof n||"object"==typeof n)}(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}class b5{constructor(){}supports(e){return Zb(e)}create(e){return new Gre(e)}}const $re=(n,e)=>e;class Gre{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||$re}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,r=0,o=null;for(;t||i;){const s=!i||t&&t.currentIndex<v5(i,r,o)?t:i,a=v5(s,r,o),c=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(t=t._next,null==s.previousIndex)r++;else{o||(o=[]);const l=a-r,u=c-r;if(l!=u){for(let h=0;h<l;h++){const g=h<o.length?o[h]:o[h]=0,y=g+h;u<=y&&y<l&&(o[h]=g+1)}o[s.previousIndex]=u-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Zb(e))throw new z(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let r,o,s,t=this._itHead,i=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==t&&Object.is(t.trackById,s)?(i&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,s,a),i=!0),t=t._next}else r=0,function Hre(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let i;for(;!(i=t.next()).done;)e(i.value)}}(e,a=>{s=this._trackByFn(r,a),null!==t&&Object.is(t.trackById,s)?(i&&(t=this._verifyReinsertion(t,a,s,r)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,r),i=!0),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,r){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,r)):e=this._addAfter(new qre(t,i),o,r),e}_verifyReinsertion(e,t,i,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?e=this._reinsertAfter(o,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,o=e._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new y5),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,i=e._next;return null===t?this._itHead=i:t._next=i,null===i?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new y5),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class qre{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Wre{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===t||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){const t=e._prevDup,i=e._nextDup;return null===t?this._head=i:t._nextDup=i,null===i?this._tail=t:i._prevDup=t,null===this._head}}class y5{constructor(){this.map=new Map}put(e){const t=e.trackById;let i=this.map.get(t);i||(i=new Wre,this.map.set(t,i)),i.add(e)}get(e,t){const r=this.map.get(e);return r?r.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function v5(n,e,t){const i=n.previousIndex;if(null===i)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+e+r}function x5(){return new C1([new b5])}let C1=(()=>{class n{static{this.\u0275prov=ne({token:n,providedIn:"root",factory:x5})}constructor(t){this.factories=t}static create(t,i){if(null!=i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||x5()),deps:[[n,new jf,new en]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(null!=i)return i;throw new z(901,!1)}}return n})(),ld=(()=>{class n{static{this.__NG_ELEMENT_ID__=Xre}}return n})();function Xre(n){return function Zre(n,e,t){if(el(n)&&!t){const i=Qr(n.index,e);return new ip(i,i)}return 47&n.type?new ip(e[Dn],e):null}(Ft(),q(),!(16&~n))}let ey=(()=>{class n{static{this.__NG_ELEMENT_ID__=noe}static{this.__NG_ENV_ID__=t=>t}}return n})();class toe extends ey{constructor(e){super(),this._lView=e}onDestroy(e){return W_(this._lView,e),()=>function RC(n,e){if(null===n[Ba])return;const t=n[Ba].indexOf(e);-1!==t&&n[Ba].splice(t,1)}(this._lView,e)}}function noe(){return new toe(q())}function E5(...n){}class Me{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new We(!1),this.onMicrotaskEmpty=new We(!1),this.onStable=new We(!1),this.onError=new We(!1),typeof Zone>"u")throw new z(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&t,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function coe(){const n="function"==typeof Ot.requestAnimationFrame;let e=Ot[n?"requestAnimationFrame":"setTimeout"],t=Ot[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function doe(n){const e=()=>{!function uoe(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Ot,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,T1(n),n.isCheckStableRunning=!0,E1(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),T1(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,i,r,o,s,a)=>{if(function hoe(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return t.invokeTask(r,o,s,a);try{return T5(n),t.invokeTask(r,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&e(),I5(n)}},onInvoke:(t,i,r,o,s,a,c)=>{try{return T5(n),t.invoke(r,o,s,a,c)}finally{n.shouldCoalesceRunChangeDetection&&e(),I5(n)}},onHasTask:(t,i,r,o)=>{t.hasTask(r,o),i===r&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,T1(n),E1(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,i,r,o)=>(t.handleError(r,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Me.isInAngularZone())throw new z(909,!1)}static assertNotInAngularZone(){if(Me.isInAngularZone())throw new z(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,e,loe,E5,E5);try{return o.runTask(s,t,i)}finally{o.cancelTask(s)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}}const loe={};function E1(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function T1(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function T5(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function I5(n){n._nesting--,E1(n)}class M5{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new We,this.onMicrotaskEmpty=new We,this.onStable=new We,this.onError=new We}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}}var dl=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(dl||{});const D5={destroy(){}};function S5(n,e){!e&&function bb(n){if(!o3()&&!function ute(){return zu}())throw new z(-203,!1)}();const t=e?.injector??J(Gt);if(!function Ha(n){return"browser"===(n??J(Gt)).get(ho)}(t))return D5;ls("NgAfterNextRender");const i=t.get(cp),r=i.handler??=new k5,o=e?.phase??dl.MixedReadWrite,s=()=>{r.unregister(c),a()},a=t.get(ey).onDestroy(s),c=new A5(t,o,()=>{s(),n()});return r.register(c),{destroy:s}}class A5{constructor(e,t,i){this.phase=t,this.callbackFn=i,this.zone=e.get(Me),this.errorHandler=e.get(Fo,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}}class k5{constructor(){this.executingCallbacks=!1,this.buckets={[dl.EarlyRead]:new Set,[dl.Write]:new Set,[dl.MixedReadWrite]:new Set,[dl.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(const e of Object.values(this.buckets))for(const t of e)t.invoke();this.executingCallbacks=!1;for(const e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(const e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}}let cp=(()=>{class n{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const t=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const i of t)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static{this.\u0275prov=ne({token:n,providedIn:"root",factory:()=>new n})}}return n})();function ny(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?r=vC(r,a):2==o&&(i=vC(i,a+": "+e[++s]+";"))}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}class R5 extends cd{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=tt(e);return new dp(t,this.ngModule)}}function N5(n){const e=[];for(const t in n){if(!n.hasOwnProperty(t))continue;const i=n[t];void 0!==i&&e.push({propName:Array.isArray(i)?i[0]:i,templateName:t})}return e}class boe{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){i=ab(i);const r=this.injector.get(e,w1,i);return r!==w1||t===w1?r:this.parentInjector.get(e,t,i)}}class dp extends h5{get inputs(){const e=this.componentDef,t=e.inputTransforms,i=N5(e.inputs);if(null!==t)for(const r of i)t.hasOwnProperty(r.propName)&&(r.transform=t[r.propName]);return i}get outputs(){return N5(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function gee(n){return n.map(pee).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,i,r){let o=(r=r||this.ngModule)instanceof Xr?r:r?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new boe(e,o):e,a=s.get(v1,null);if(null===a)throw new z(407,!1);const d={rendererFactory:a,sanitizer:s.get(Bre,null),inlineEffectRunner:null,afterRenderEventManager:s.get(cp,null),changeDetectionScheduler:s.get(y1,null)},h=a.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",y=i?function Sie(n,e,t,i){const o=i.get(q3,!1)||t===Ao.ShadowDom,s=n.selectRootElement(e,o);return function Aie(n){B4(n)}(s),s}(h,i,this.componentDef.encapsulation,s):Lb(h,g,function _oe(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(g));let C=512;this.componentDef.signals?C|=4096:this.componentDef.onPush||(C|=16);let T=null;null!==y&&(T=uE(y,s,!0));const S=o1(0,null,null,1,0,null,null,null,null,null,null),D=Hb(null,S,null,C,null,null,d,h,s,null,T);let N,W;UC(D);try{const re=this.componentDef;let ue,Re=null;re.findHostDirectiveDefs?(ue=[],Re=new Map,re.findHostDirectiveDefs(re,ue,Re),ue.push(re)):ue=[re];const Qe=function voe(n,e){const t=n[ie],i=je;return n[i]=e,od(t,i,2,"#host",null)}(D,y),In=function woe(n,e,t,i,r,o,s){const a=r[ie];!function xoe(n,e,t,i){for(const r of n)e.mergedAttrs=If(e.mergedAttrs,r.hostAttrs);null!==e.mergedAttrs&&(ny(e,e.mergedAttrs,!0),null!==t&&R4(i,t,e))}(i,n,e,s);let c=null;null!==e&&(c=uE(e,r[Li]));const l=o.rendererFactory.createRenderer(e,t);let u=16;t.signals?u=4096:t.onPush&&(u=64);const d=Hb(r,V4(t),null,u,r[n.index],n,o,l,null,null,c);return a.firstCreatePass&&a1(a,n,i.length-1),$b(r,d),r[n.index]=d}(Qe,y,re,ue,D,d,h);W=Of(S,je),y&&function Eoe(n,e,t,i){if(i)CC(n,t,["ng-version","17.2.3"]);else{const{attrs:r,classes:o}=function mee(n){const e=[],t=[];let i=1,r=2;for(;i<n.length;){let o=n[i];if("string"==typeof o)2===r?""!==o&&e.push(o,n[++i]):8===r&&t.push(o);else{if(!ko(r))break;r=o}i++}return{attrs:e,classes:t}}(e.selectors[0]);r&&CC(n,t,r),o&&o.length>0&&P4(n,t,o.join(" "))}}(h,re,y,i),void 0!==t&&function Toe(n,e,t){const i=n.projection=[];for(let r=0;r<e.length;r++){const o=t[r];i.push(null!=o?Array.from(o):null)}}(W,this.ngContentSelectors,t),N=function Coe(n,e,t,i,r,o){const s=Ft(),a=r[ie],c=pr(s,r);j4(a,r,s,t,null,i);for(let u=0;u<t.length;u++)nr(cl(r,a,s.directiveStart+u,s),r);H4(a,r,s),c&&nr(c,r);const l=cl(r,a,s.directiveStart+s.componentOffset,s);if(n[Xt]=r[Xt]=l,null!==o)for(const u of o)u(l,e);return t1(a,s,r),l}(In,re,ue,Re,D,[Ioe]),d1(S,D,null)}finally{zC()}return new yoe(this.componentType,N,Vu(W,D),D,W)}}class yoe extends Nre{constructor(e,t,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new ip(r,void 0,!1),this.componentType=e}setInput(e,t){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;const o=this._rootLView;u1(o[ie],o,r,e,t),this.previousInputValues.set(e,t),np(Qr(this._tNode.index,o))}}get injector(){return new pi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function Ioe(){const n=Ft();vb(q()[ie],n)}let po=(()=>{class n{static{this.__NG_ELEMENT_ID__=Moe}}return n})();function Moe(){return V5(Ft(),q())}const Doe=po,F5=class extends Doe{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return Vu(this._hostTNode,this._hostLView)}get injector(){return new pi(this._hostTNode,this._hostLView)}get parentInjector(){const e=Tb(this._hostTNode,this._hostLView);if(ME(e)){const t=qf(e,this._hostLView),i=Gf(e);return new pi(t[ie].data[i+8],t)}return new pi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=L5(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-qn}createEmbeddedView(e,t,i){let r,o;"number"==typeof i?r=i:null!=i&&(r=i.index,o=i.injector);const a=e.createEmbeddedViewImpl(t||{},o,null);return this.insertImpl(a,r,sd(this._hostTNode,null)),a}createComponent(e,t,i,r,o){const s=e&&!function Hf(n){return"function"==typeof n}(e);let a;if(s)a=t;else{const y=t||{};a=y.index,i=y.injector,r=y.projectableNodes,o=y.environmentInjector||y.ngModuleRef}const c=s?e:new dp(tt(e)),l=i||this.parentInjector;if(!o&&null==c.ngModule){const C=(s?l:this.parentInjector).get(Xr,null);C&&(o=C)}tt(c.componentType??{});const g=c.create(l,r,null,o);return this.insertImpl(g.hostView,a,sd(this._hostTNode,null)),g}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,i){const r=e._lView;if(function Mee(n){return er(n[Gn])}(r)){const a=this.indexOf(e);if(-1!==a)this.detach(a);else{const c=r[Gn],l=new F5(c,c[Zi],c[Gn]);l.detach(l.indexOf(e))}}const o=this._adjustIndex(t),s=this._lContainer;return ep(s,r,o,i),e.attachToViewContainerRef(),QL(S1(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=L5(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),i=Yf(this._lContainer,t);i&&(X_(S1(this._lContainer),t),Vb(i[ie],i))}detach(e){const t=this._adjustIndex(e,-1),i=Yf(this._lContainer,t);return i&&null!=X_(S1(this._lContainer),t)?new ip(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function L5(n){return n[8]}function S1(n){return n[8]||(n[8]=[])}function V5(n,e){let t;const i=e[n.index];return er(i)?t=i:(t=$4(i,e,null,n),e[n.index]=t,$b(e,t)),B5(t,e,n,i),new F5(t,n,e)}let B5=function z5(n,e,t,i){if(n[ts])return;let r;r=8&t.type?Ht(i):function Soe(n,e){const t=n[Ue],i=t.createComment(""),r=pr(e,n);return ul(t,Bb(t,r),i,function xie(n,e){return n.nextSibling(e)}(t,r),!1),i}(e,t),n[ts]=r},A1=()=>!1;class k1{constructor(e){this.queryList=e,this.matches=null}clone(){return new k1(this.queryList)}setDirty(){this.queryList.setDirty()}}class O1{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const i=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let o=0;o<i;o++){const s=t.getByIndex(o);r.push(this.queries[s.indexInDeclarationView].clone())}return new O1(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==L1(e,t).matches&&this.queries[t].setDirty()}}class j5{constructor(e,t,i=null){this.flags=t,this.read=i,this.predicate="string"==typeof e?function Loe(n){return n.split(",").map(e=>e.trim())}(e):e}}class P1{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){const r=null!==t?t.length:0,o=this.getByIndex(i).embeddedTView(e,r);o&&(o.indexInDeclarationView=i,null!==t?t.push(o):t=[o])}return null!==t?new P1(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class R1{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new R1(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1&~this.metadata.flags){const t=this._declarationNodeIndex;let i=e.parent;for(;null!==i&&8&i.type&&i.index!==t;)i=i.parent;return t===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];this.matchTNodeWithReadOption(e,t,Poe(t,o)),this.matchTNodeWithReadOption(e,t,Ib(t,e,o,!1,!1))}else i===cs?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Ib(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===ln||r===po||r===cs&&4&t.type)this.addMatch(t.index,-2);else{const o=Ib(t,e,r,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,i)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function Poe(n,e){const t=n.localNames;if(null!==t)for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1];return null}function Noe(n,e,t,i){return-1===t?function Roe(n,e){return 11&n.type?Vu(n,e):4&n.type?Wb(n,e):null}(e,n):-2===t?function Foe(n,e,t){return t===ln?Vu(e,n):t===cs?Wb(e,n):t===po?V5(e,n):void 0}(n,e,i):cl(n,n[ie],t,e)}function H5(n,e,t,i){const r=e[Ys].queries[i];if(null===r.matches){const o=n.data,s=t.matches,a=[];for(let c=0;null!==s&&c<s.length;c+=2){const l=s[c];a.push(l<0?null:Noe(e,o[l],s[c+1],t.metadata.read))}r.matches=a}return r.matches}function N1(n,e,t,i){const r=n.queries.getByIndex(t),o=r.matches;if(null!==o){const s=H5(n,e,r,t);for(let a=0;a<o.length;a+=2){const c=o[a];if(c>0)i.push(s[a/2]);else{const l=o[a+1],u=e[-c];for(let d=qn;d<u.length;d++){const h=u[d];h[Df]===h[Gn]&&N1(h[ie],h,l,i)}if(null!==u[Nu]){const d=u[Nu];for(let h=0;h<d.length;h++){const g=d[h];N1(g[ie],g,l,i)}}}}}return i}function $5(n,e,t){const i=new Nf(!(4&~t));return function Pie(n,e,t,i){const r=q4(e);r.push(t),n.firstCreatePass&&W4(n).push(i,r.length-1)}(n,e,i,i.destroy),(e[Ys]??=new O1).queries.push(new k1(i))-1}function W5(n,e,t){null===n.queries&&(n.queries=new P1),n.queries.track(new R1(e,t))}function L1(n,e){return n.queries.getByIndex(e)}function K5(n,e){const t=n[ie],i=L1(t,e);return i.crossesNgTemplate?N1(t,n,e,[]):H5(t,n,i,e)}function wt(n){let e=function oV(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const i=[n];for(;e;){let r;if(Ro(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new z(903,!1);r=e.\u0275dir}if(r){if(t){i.push(r);const s=n;s.inputs=ry(n.inputs),s.inputTransforms=ry(n.inputTransforms),s.declaredInputs=ry(n.declaredInputs),s.outputs=ry(n.outputs);const a=r.hostBindings;a&&Zoe(n,a);const c=r.viewQuery,l=r.contentQueries;if(c&&Yoe(n,c),l&&Xoe(n,l),Koe(n,r),oee(n.outputs,r.outputs),Ro(r)&&r.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(r.data.animation)}}const o=r.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===wt&&(t=!1)}}e=Object.getPrototypeOf(e)}!function Qoe(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=If(r.hostAttrs,t=If(t,r.hostAttrs))}}(i)}function Koe(n,e){for(const t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;const i=e.inputs[t];if(void 0!==i&&(n.inputs[t]=i,n.declaredInputs[t]=e.declaredInputs[t],null!==e.inputTransforms)){const r=Array.isArray(i)?i[0]:i;if(!e.inputTransforms.hasOwnProperty(r))continue;n.inputTransforms??={},n.inputTransforms[r]=e.inputTransforms[r]}}}function ry(n){return n===es?{}:n===Et?[]:n}function Yoe(n,e){const t=n.viewQuery;n.viewQuery=t?(i,r)=>{e(i,r),t(i,r)}:e}function Xoe(n,e){const t=n.contentQueries;n.contentQueries=t?(i,r,o)=>{e(i,r,o),t(i,r,o)}:e}function Zoe(n,e){const t=n.hostBindings;n.hostBindings=t?(i,r)=>{e(i,r),t(i,r)}:e}function B1(n){const e=n.inputConfig,t={};for(const i in e)if(e.hasOwnProperty(i)){const r=e[i];Array.isArray(r)&&r[3]&&(t[i]=r[3])}n.inputTransforms=t}class hl{}class lV{}class U1 extends hl{constructor(e,t,i){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new R5(this);const r=Xi(e);this._bootstrapComponents=Jr(r.bootstrap),this._r3Injector=j3(e,t,[{provide:hl,useValue:this},{provide:cd,useValue:this.componentFactoryResolver},...i],di(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class z1 extends lV{constructor(e){super(),this.moduleType=e}create(e){return new U1(this.moduleType,e,[])}}class uV extends hl{constructor(e){super(),this.componentFactoryResolver=new R5(this),this.instance=null;const t=new Qu([...e.providers,{provide:hl,useValue:this},{provide:cd,useValue:this.componentFactoryResolver}],e.parent||_b(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function oy(n,e,t=null){return new uV({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}let fp=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new fr(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Wn(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Sn(n,e,t,i,r,o,s,a){const c=q(),l=ut(),u=n+je,d=l.firstCreatePass?function cse(n,e,t,i,r,o,s,a,c){const l=e.consts,u=od(e,n,4,s||null,ns(l,a));s1(e,t,u,ns(l,c)),vb(e,u);const d=u.tView=o1(2,u,i,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,l,c,e,t,i,r,o,s):l.data[u];is(d,!1);const h=dV(l,c,d,n);Y_()&&Ub(l,c,h,d),nr(h,c);const g=$4(h,c,h,d);return c[u]=g,$b(c,g),function U5(n,e,t){return A1(n,e,t)}(g,d,c),q_(d)&&n1(l,c,d),null!=s&&r1(c,d,a),Sn}let dV=function hV(n,e,t,i){return Ua(!0),e[Ue].createComment("")};function Rr(n,e,t,i){const r=q();return Wn(r,No(),e)&&(ut(),as(Zt(),r,n,e,t,i)),Rr}function fy(n,e){return n<<17|e<<2}function Ka(n){return n>>17&32767}function X1(n){return 2|n}function gl(n){return(131068&n)>>2}function Z1(n,e){return-131069&n|e<<2}function J1(n){return 1|n}function HV(n,e,t,i){const r=n[t+1],o=null===e;let s=i?Ka(r):gl(r),a=!1;for(;0!==s&&(!1===a||o);){const l=n[s+1];qse(n[s],e)&&(a=!0,n[s+1]=i?J1(l):X1(l)),s=i?Ka(l):gl(l)}a&&(n[t+1]=i?X1(r):J1(r))}function qse(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Uu(n,e)>=0}const gi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function $V(n){return n.substring(gi.key,gi.keyEnd)}function GV(n,e){const t=gi.textEnd;return t===e?-1:(e=gi.keyEnd=function Yse(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,gi.key=e,t),Id(n,e,t))}function Id(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function Lt(n,e,t){const i=q();return Wn(i,No(),e)&&Pr(ut(),Zt(),i,n,e,i[Ue],t,!1),Lt}function eT(n,e,t,i,r){const s=r?"class":"style";u1(n,t,e.inputs[s],s,i)}function mo(n,e){return function Vo(n,e,t,i){const r=q(),o=ut(),s=Zs(2);o.firstUpdatePass&&ZV(o,n,s,i),e!==Ge&&Wn(r,s,e)&&eB(o,o.data[tr()],r,r[Ue],n,r[s+1]=function aae(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=di(Zr(n)))),n}(e,t),i,s)}(n,e,null,!0),mo}function py(n){!function Bo(n,e,t,i){const r=ut(),o=Zs(2);r.firstUpdatePass&&ZV(r,null,o,i);const s=q();if(t!==Ge&&Wn(s,o,t)){const a=r.data[tr()];if(nB(a,i)&&!XV(r,o)){let c=i?a.classesWithoutHost:a.stylesWithoutHost;null!==c&&(t=vC(c,t||"")),eT(r,a,s,t,i)}else!function sae(n,e,t,i,r,o,s,a){r===Ge&&(r=Et);let c=0,l=0,u=0<r.length?r[0]:null,d=0<o.length?o[0]:null;for(;null!==u||null!==d;){const h=c<r.length?r[c+1]:void 0,g=l<o.length?o[l+1]:void 0;let C,y=null;u===d?(c+=2,l+=2,h!==g&&(y=d,C=g)):null===d||null!==u&&u<d?(c+=2,y=u):(l+=2,y=d,C=g),null!==y&&eB(n,e,t,i,y,C,s,a),u=c<r.length?r[c]:null,d=l<o.length?o[l]:null}}(r,a,s,s[Ue],s[o+1],s[o+1]=function rae(n,e,t){if(null==t||""===t)return Et;const i=[],r=Zr(t);if(Array.isArray(r))for(let o=0;o<r.length;o++)n(i,r[o],!0);else if("object"==typeof r)for(const o in r)r.hasOwnProperty(o)&&n(i,o,r[o]);else"string"==typeof r&&e(i,r);return i}(n,e,t),i,o)}}(oae,hs,n,!0)}function hs(n,e){for(let t=function Kse(n){return function WV(n){gi.key=0,gi.keyEnd=0,gi.value=0,gi.valueEnd=0,gi.textEnd=n.length}(n),GV(n,Id(n,0,gi.textEnd))}(e);t>=0;t=GV(e,t))Yr(n,$V(e),!0)}function XV(n,e){return e>=n.expandoStartIndex}function ZV(n,e,t,i){const r=n.data;if(null===r[t+1]){const o=r[tr()],s=XV(n,t);nB(o,i)&&null===e&&!s&&(e=!1),e=function eae(n,e,t,i){const r=VC(n);let o=i?e.residualClasses:e.residualStyles;if(null===r)0===(i?e.classBindings:e.styleBindings)&&(t=bp(t=tT(null,n,e,t,i),e.attrs,i),o=null);else{const s=e.directiveStylingLast;if(-1===s||n[s]!==r)if(t=tT(r,n,e,t,i),null===o){let c=function tae(n,e,t){const i=t?e.classBindings:e.styleBindings;if(0!==gl(i))return n[Ka(i)]}(n,e,i);void 0!==c&&Array.isArray(c)&&(c=tT(null,n,e,c[1],i),c=bp(c,e.attrs,i),function nae(n,e,t,i){n[Ka(t?e.classBindings:e.styleBindings)]=i}(n,e,i,c))}else o=function iae(n,e,t){let i;const r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++)i=bp(i,n[o].hostAttrs,t);return bp(i,e.attrs,t)}(n,e,i)}return void 0!==o&&(i?e.residualClasses=o:e.residualStyles=o),t}(r,o,e,i),function $se(n,e,t,i,r,o){let s=o?e.classBindings:e.styleBindings,a=Ka(s),c=gl(s);n[i]=t;let u,l=!1;if(Array.isArray(t)?(u=t[1],(null===u||Uu(t,u)>0)&&(l=!0)):u=t,r)if(0!==c){const h=Ka(n[a+1]);n[i+1]=fy(h,a),0!==h&&(n[h+1]=Z1(n[h+1],i)),n[a+1]=function jse(n,e){return 131071&n|e<<17}(n[a+1],i)}else n[i+1]=fy(a,0),0!==a&&(n[a+1]=Z1(n[a+1],i)),a=i;else n[i+1]=fy(c,0),0===a?a=i:n[c+1]=Z1(n[c+1],i),c=i;l&&(n[i+1]=X1(n[i+1])),HV(n,u,i,!0),HV(n,u,i,!1),function Gse(n,e,t,i,r){const o=r?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof e&&Uu(o,e)>=0&&(t[i+1]=J1(t[i+1]))}(e,u,n,i,o),s=fy(a,c),o?e.classBindings=s:e.styleBindings=s}(r,o,e,t,s,i)}}function tT(n,e,t,i,r){let o=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(o=e[a],i=bp(i,o.hostAttrs,r),o!==n);)a++;return null!==n&&(t.directiveStylingLast=a),i}function bp(n,e,t){const i=t?1:2;let r=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?r=s:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Yr(n,s,!!t||e[++o]))}return void 0===n?null:n}function oae(n,e,t){const i=String(e);""!==i&&!i.includes(" ")&&Yr(n,i,t)}function eB(n,e,t,i,r,o,s,a){if(!(3&e.type))return;const c=n.data,l=c[a+1],u=function Hse(n){return!(1&~n)}(l)?tB(c,e,t,r,gl(l),s):void 0;gy(u)||(gy(o)||function zse(n){return!(2&~n)}(l)&&(o=tB(c,null,t,r,a,s)),function Tie(n,e,t,i,r){if(e)r?n.addClass(t,i):n.removeClass(t,i);else{let o=-1===i.indexOf("-")?void 0:$a.DashCase;null==r?n.removeStyle(t,i,o):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=$a.Important),n.setStyle(t,i,r,o))}}(i,s,kf(tr(),t),r,o))}function tB(n,e,t,i,r,o){const s=null===e;let a;for(;r>0;){const c=n[r],l=Array.isArray(c),u=l?c[1]:c,d=null===u;let h=t[r+1];h===Ge&&(h=d?Et:void 0);let g=d?$C(h,i):u===i?h:void 0;if(l&&!gy(g)&&(g=$C(c,i)),gy(g)&&(a=g,s))return a;const y=n[r+1];r=s?Ka(y):gl(y)}if(null!==e){let c=o?e.residualClasses:e.residualStyles;null!=c&&(a=$C(c,i))}return a}function gy(n){return void 0!==n}function nB(n,e){return!!(n.flags&(e?8:16))}function p(n,e,t,i){const r=q(),o=ut(),s=je+n,a=r[Ue],c=o.firstCreatePass?function Aae(n,e,t,i,r,o){const s=e.consts,c=od(e,n,2,i,ns(s,r));return s1(e,t,c,ns(s,o)),null!==c.attrs&&ny(c,c.attrs,!1),null!==c.mergedAttrs&&ny(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(s,o,r,e,t,i):o.data[s],l=sB(o,r,c,a,e,n);r[s]=l;const u=q_(c);return is(c,!0),R4(a,l,c),!!(32&~c.flags)&&Y_()&&Ub(o,r,l,c),0===function See(){return Ne.lFrame.elementDepthCount}()&&nr(l,r),function Aee(){Ne.lFrame.elementDepthCount++}(),u&&(n1(o,r,c),t1(o,c,r)),null!==i&&r1(r,c),p}function f(){let n=Ft();NC()?FC():(n=n.parent,is(n,!1));const e=n;(function Oee(n){return Ne.skipHydrationRootTNode===n})(e)&&function Fee(){Ne.skipHydrationRootTNode=null}(),function kee(){Ne.lFrame.elementDepthCount--}();const t=ut();return t.firstCreatePass&&(vb(t,n),IC(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function Jte(n){return!!(8&n.flags)}(e)&&eT(t,e,q(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function ene(n){return!!(16&n.flags)}(e)&&eT(t,e,q(),e.stylesWithoutHost,!1),f}function Y(n,e,t,i){return p(n,e,t,i),f(),Y}let sB=(n,e,t,i,r,o)=>(Ua(!0),Lb(i,r,function qL(){return Ne.lFrame.currentNamespace}()));function ft(){return q()}function cT(n,e,t){const i=q();if(Wn(i,No(),e)){const o=ut(),s=Zt();Pr(o,s,i,n,e,K4(VC(o.data),s,i),t,!0)}return cT}const ml=void 0;var Lae=["en",[["a","p"],["AM","PM"],ml],[["AM","PM"],ml,ml],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ml,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ml,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ml,"{1} 'at' {0}",ml],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Fae(n){const t=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===i?1:5}];let Md={};function mr(n){const e=function Vae(n){return n.toLowerCase().replace(/_/g,"-")}(n);let t=dB(e);if(t)return t;const i=e.split("-")[0];if(t=dB(i),t)return t;if("en"===i)return Lae;throw new z(701,!1)}function dB(n){return n in Md||(Md[n]=Ot.ng&&Ot.ng.common&&Ot.ng.common.locales&&Ot.ng.common.locales[n]),Md[n]}var tn=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(tn||{});const Dd="en-US";let hB=Dd;function Q(n,e,t,i){const r=q(),o=ut(),s=Ft();return hT(o,r,r[Ue],s,n,e,i),Q}function dT(n,e){const t=Ft(),i=q(),r=ut();return hT(r,i,K4(VC(r.data),t,i),t,n,e),dT}function hT(n,e,t,i,r,o,s){const a=q_(i),l=n.firstCreatePass&&W4(n),u=e[Xt],d=q4(e);let h=!0;if(3&i.type||s){const C=pr(i,e),T=s?s(C):C,S=d.length,D=s?W=>s(Ht(W[i.index])):i.index;let N=null;if(!s&&a&&(N=function Oce(n,e,t,i){const r=n.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const s=r[o];if(s===t&&r[o+1]===i){const a=e[Ou],c=r[o+2];return a.length>c?a[c]:null}"string"==typeof s&&(o+=2)}return null}(n,e,r,i.index)),null!==N)(N.__ngLastListenerFn__||N).__ngNextListenerFn__=o,N.__ngLastListenerFn__=o,h=!1;else{o=VB(i,e,u,o,!1);const W=t.listen(T,r,o);d.push(o,W),l&&l.push(r,D,S,S+1)}}else o=VB(i,e,u,o,!1);const g=i.outputs;let y;if(h&&null!==g&&(y=g[r])){const C=y.length;if(C)for(let T=0;T<C;T+=2){const re=e[y[T]][y[T+1]].subscribe(o),ue=d.length;d.push(o,re),l&&l.push(r,i.index,ue,"function"==typeof re?ue+1:-(ue+1))}}}function LB(n,e,t,i){try{return rs(6,e,t),!1!==t(i)}catch(r){return Gb(n,r),!1}finally{rs(7,e,t)}}function VB(n,e,t,i,r){return function o(s){if(s===Function)return i;np(n.componentOffset>-1?Qr(n.index,e):e);let c=LB(e,t,i,s),l=o.__ngNextListenerFn__;for(;l;)c=LB(e,t,l,s)&&c,l=l.__ngNextListenerFn__;return r&&!1===c&&s.preventDefault(),c}}function Tt(n=1){return function jee(n){return(Ne.lFrame.contextLView=function RL(n,e){for(;n>0;)e=e[Pu],n--;return e}(n,Ne.lFrame.contextLView))[Xt]}(n)}function Pce(n,e){let t=null;const i=function uee(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(n);for(let r=0;r<e.length;r++){const o=e[r];if("*"!==o){if(null===i?vL(n,o,!0):fee(i,o))return r}else t=r}return t}function _l(n){const e=q()[Dn][Zi];if(!e.projection){const i=e.projection=function Z_(n,e){const t=[];for(let i=0;i<n;i++)t.push(e);return t}(n?n.length:1,null),r=i.slice();let o=e.child;for(;null!==o;){const s=n?Pce(o,n):0;null!==s&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o),o=o.next}}}function Fr(n,e=0,t){const i=q(),r=ut(),o=od(r,je+n,16,null,t||null);null===o.projection&&(o.projection=e),FC(),(!i[Po]||Lu())&&32&~o.flags&&function Cie(n,e,t){O4(e[Ue],0,e,t,QE(n,t,e),I4(t.parent||e[Zi],t,e))}(r,i,o)}function pT(n,e,t,i){!function q5(n,e,t,i){const r=ut();if(r.firstCreatePass){const o=Ft();W5(r,new j5(e,t,i),o.index),function Voe(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(r,n),!(2&~t)&&(r.staticContentQueries=!0)}return $5(r,q(),t)}(n,e,t,i)}function Fn(n,e,t){!function G5(n,e,t){const i=ut();return i.firstCreatePass&&(W5(i,new j5(n,e,t),-1),!(2&~e)&&(i.staticViewQueries=!0)),$5(i,q(),e)}(n,e,t)}function yn(n){const e=q(),t=ut(),i=BC();K_(i+1);const r=L1(t,i);if(n.dirty&&function Iee(n){return!(4&~n[Te])}(e)===!(2&~r.metadata.flags)){if(null===r.matches)n.reset([]);else{const o=K5(e,i);n.reset(o,KL),n.notifyOnChanges()}return!0}return!1}function vn(){return function F1(n,e){return n[Ys].queries[e].queryList}(q(),BC())}function un(n){return function Fu(n,e){return n[e]}(function Lee(){return Ne.lFrame.contextLView}(),je+n)}function m(n,e=""){const t=q(),i=ut(),r=n+je,o=i.firstCreatePass?od(i,r,1,e,null):i.data[r],s=iU(i,t,o,e,n);t[r]=s,Y_()&&Ub(i,t,s,o),is(o,!1)}let iU=(n,e,t,i,r)=>(Ua(!0),function Fb(n,e){return n.createText(e)}(e[Ue],i));function Ve(n){return De("",n,""),Ve}function De(n,e,t){const i=q(),r=function bd(n,e,t,i){return Wn(n,No(),t)?e+He(t)+i:Ge}(i,n,e,t);return r!==Ge&&function ea(n,e,t){const i=kf(e,n);!function v4(n,e,t){n.setValue(e,t)}(n[Ue],i,t)}(i,tr(),r),De}function ot(n,e,t){m5(e)&&(e=e());const i=q();return Wn(i,No(),e)&&Pr(ut(),Zt(),i,n,e,i[Ue],t,!1),ot}function dt(n,e){const t=m5(n);return t&&n.set(e),t}function st(n,e){const t=q(),i=ut(),r=Ft();return hT(i,t,t[Ue],r,n,e),st}function gT(n,e,t,i,r){if(n=Pe(n),Array.isArray(n))for(let o=0;o<n.length;o++)gT(n[o],e,t,i,r);else{const o=ut(),s=q(),a=Ft();let c=sl(n)?n:Pe(n.provide);const l=y3(n),u=1048575&a.providerIndexes,d=a.directiveStart,h=a.providerIndexes>>20;if(sl(n)||!n.multi){const g=new $f(l,r,E),y=_T(c,e,r?u:u+h,d);-1===y?(AE(Eb(a,s),o,c),mT(o,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(g),s.push(g)):(t[y]=g,s[y]=g)}else{const g=_T(c,e,u+h,d),y=_T(c,e,u,u+h),T=y>=0&&t[y];if(r&&!T||!r&&!(g>=0&&t[g])){AE(Eb(a,s),o,c);const S=function Zce(n,e,t,i,r){const o=new $f(n,t,E);return o.multi=[],o.index=e,o.componentProviders=0,hU(o,r,i&&!t),o}(r?Xce:Yce,t.length,r,i,l);!r&&T&&(t[y].providerFactory=S),mT(o,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(S),s.push(S)}else mT(o,n,g>-1?g:y,hU(t[r?y:g],l,!r&&i));!r&&i&&T&&t[y].componentProviders++}}}function mT(n,e,t,i){const r=sl(e),o=function Dte(n){return!!n.useClass}(e);if(r||o){const c=(o?Pe(e.useClass):e).prototype.ngOnDestroy;if(c){const l=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){const u=l.indexOf(t);-1===u?l.push(t,[i,c]):l[u+1].push(i,c)}else l.push(t,c)}}}function hU(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function _T(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function Yce(n,e,t,i){return bT(this.multi,[])}function Xce(n,e,t,i){const r=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=cl(t,t[ie],this.providerFactory.index,i);o=a.slice(0,s),bT(r,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],bT(r,o);return o}function bT(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function wn(n,e=[]){return t=>{t.providersResolver=(i,r)=>function Qce(n,e,t){const i=ut();if(i.firstCreatePass){const r=Ro(n);gT(t,i.data,i.blueprint,r,!0),gT(e,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,e)}}let Jce=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const i=mE(0,t.type),r=i.length>0?oy([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,r)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=ne({token:n,providedIn:"environment",factory:()=>new n(H(Xr))})}}return n})();function _o(n){ls("NgStandalone"),n.getStandaloneInjector=e=>e.get(Jce).getOrCreateStandaloneInjector(n)}class Qa{constructor(e){this.full=e;const t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}}const Kle=new Qa("17.2.3");let zU=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();const qU=new X(""),Cy=new X("");let MT,TT=(()=>{class n{constructor(t,i,r){this._ngZone=t,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,MT||(function vue(n){MT=n}(r),r.addToWindow(i)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Me.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb()}});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(t)||(clearTimeout(i.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t()},i)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:r})}whenStable(t,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,i,r){return[]}static{this.\u0275fac=function(i){return new(i||n)(H(Me),H(IT),H(Cy))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac})}}return n})(),IT=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){return MT?.findTestabilityInTree(this,t,i)??null}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();function Dp(n){return!!n&&"function"==typeof n.then}function WU(n){return!!n&&"function"==typeof n.subscribe}const Sp=new X("");let DT=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i}),this.appInits=J(Sp,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const r of this.appInits){const o=r();if(Dp(o))t.push(o);else if(WU(o)){const s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),0===t.length&&i(),this.initialized=!0}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const ST=new X("");function YU(n,e){return Array.isArray(e)?e.reduce(YU,n):{...n,...e}}let fs=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=J($3),this.afterRenderEffectManager=J(cp),this.componentTypes=[],this.components=[],this.isStable=J(fp).hasPendingTasks.pipe(Le(t=>!t)),this._injector=J(Xr)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,i){const r=t instanceof h5;if(!this._injector.get(DT).done)throw!r&&function Va(n){const e=tt(n)||hi(n)||Fi(n);return null!==e&&e.standalone}(t),new z(405,!1);let s;s=r?t:this._injector.get(cd).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const a=function wue(n){return n.isBoundToModule}(s)?void 0:this._injector.get(hl),l=s.create(Gt.NULL,[],i||s.selector,a),u=l.location.nativeElement,d=l.injector.get(qU,null);return d?.registerApplication(u),l.onDestroy(()=>{this.detachView(l.hostView),Ey(this.components,l),d?.unregisterApplication(u)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new z(101,!1);try{this._runningTick=!0,this.detectChangesInAttachedViews()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}detectChangesInAttachedViews(){let t=0;const i=this.afterRenderEffectManager;for(;;){if(100===t)throw new z(103,!1);const r=0===t;for(let{_lView:o,notifyErrorHandler:s}of this._views)!r&&!AT(o)||this.detectChangesInView(o,s,r);if(t++,i.executeInternalCallbacks(),!this._views.some(({_lView:o})=>AT(o))&&(i.execute(),!this._views.some(({_lView:o})=>AT(o))))break}}detectChangesInView(t,i,r){let o;r?(o=0,t[Te]|=1024):o=64&t[Te]?0:1,qb(t,i,o)}attachView(t){const i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){const i=t;Ey(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const i=this._injector.get(ST,[]);[...this._bootstrapListeners,...i].forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Ey(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new z(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Ey(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function AT(n){return OC(n)}class Cue{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let XU=(()=>{class n{compileModuleSync(t){return new z1(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const i=this.compileModuleSync(t),o=Jr(Xi(t).declarations).reduce((s,a)=>{const c=tt(a);return c&&s.push(new dp(c)),s},[]);return new Cue(i,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Iue=(()=>{class n{constructor(){this.zone=J(Me),this.applicationRef=J(fs)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Mue(){const n=J(Me),e=J(Fo);return t=>n.runOutsideAngular(()=>e.handleError(t))}let Sue=(()=>{class n{constructor(){this.subscription=new ui,this.initialized=!1,this.zone=J(Me),this.pendingTasks=J(fp)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Me.assertNotInAngularZone(),queueMicrotask(()=>{null!==t&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Me.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const ps=new X("",{providedIn:"root",factory:()=>J(ps,ct.Optional|ct.SkipSelf)||function Aue(){return typeof $localize<"u"&&$localize.locale||Dd}()}),kT=new X("");let tz=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,i){const r=function foe(n="zone.js",e){return"noop"===n?new M5:"zone.js"===n?new Me(e):n}(i?.ngZone,function ez(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return r.run(()=>{const o=function ose(n,e,t){return new U1(n,e,t)}(t.moduleType,this.injector,function JU(n){return[{provide:Me,useFactory:n},{provide:ol,multi:!0,useFactory:()=>{const e=J(Iue,{optional:!0});return()=>e.initialize()}},{provide:ol,multi:!0,useFactory:()=>{const e=J(Sue);return()=>{e.initialize()}}},{provide:$3,useFactory:Mue}]}(()=>r)),s=o.injector.get(Fo,null);return r.runOutsideAngular(()=>{const a=r.onError.subscribe({next:c=>{s.handleError(c)}});o.onDestroy(()=>{Ey(this._modules,o),a.unsubscribe()})}),function QU(n,e,t){try{const i=t();return Dp(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}(s,r,()=>{const a=o.injector.get(DT);return a.runInitializers(),a.donePromise.then(()=>(function fB(n){"string"==typeof n&&(hB=n.toLowerCase().replace(/_/g,"-"))}(o.injector.get(ps,Dd)||Dd),this._moduleDoBootstrap(o),o))})})}bootstrapModule(t,i=[]){const r=YU({},i);return function Tue(n,e,t){const i=new z1(t);return Promise.resolve(i)}(0,0,t).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(t){const i=t.injector.get(fs);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!t.instance.ngDoBootstrap)throw new z(-403,!1);t.instance.ngDoBootstrap(i)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new z(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const t=this._injector.get(kT,null);t&&(t.forEach(i=>i()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(i){return new(i||n)(H(Gt))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})(),Ya=null;const nz=new X("");function iz(n,e,t=[]){const i=`Platform: ${e}`,r=new X(i);return(o=[])=>{let s=OT();if(!s||s.injector.get(nz,!1)){const a=[...t,...o,{provide:r,useValue:!0}];n?n(a):function Pue(n){if(Ya&&!Ya.get(nz,!1))throw new z(400,!1);(function KU(){!function LJ(n){ZF=n}(()=>{throw new z(600,!1)})})(),Ya=n;const e=n.get(tz);(function oz(n){n.get(n3,null)?.forEach(t=>t())})(n)}(function rz(n=[],e){return Gt.create({name:e,providers:[{provide:yE,useValue:"platform"},{provide:kT,useValue:new Set([()=>Ya=null])},...n]})}(a,i))}return function Rue(n){const e=OT();if(!e)throw new z(401,!1);return e}()}}function OT(){return Ya?.get(tz)??null}const Uue=iz(null,"core",[]);let zue=(()=>{class n{constructor(t){}static{this.\u0275fac=function(i){return new(i||n)(H(fs))}}static{this.\u0275mod=et({type:n})}static{this.\u0275inj=Je({})}}return n})();function gs(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let Az=null;function Xa(){return Az}class bde{}const ht=new X("");let BT=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:()=>J(vde),providedIn:"platform"})}}return n})();const yde=new X("");let vde=(()=>{class n extends BT{constructor(){super(),this._doc=J(ht),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Xa().getBaseHref(this._doc)}onPopState(t){const i=Xa().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=Xa().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){this._history.pushState(t,i,r)}replaceState(t,i,r){this._history.replaceState(t,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();function UT(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function kz(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function ta(n){return n&&"?"!==n[0]?"?"+n:n}let Za=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:()=>J(Pz),providedIn:"root"})}}return n})();const Oz=new X("");let Pz=(()=>{class n extends Za{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??J(ht).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return UT(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+ta(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,o){const s=this.prepareExternalUrl(r+ta(o));this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){const s=this.prepareExternalUrl(r+ta(o));this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(i){return new(i||n)(H(BT),H(Oz,8))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Rz=(()=>{class n extends Za{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){const i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=UT(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,o){let s=this.prepareExternalUrl(r+ta(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){let s=this.prepareExternalUrl(r+ta(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(i){return new(i||n)(H(BT),H(Oz,8))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac})}}return n})(),ii=(()=>{class n{constructor(t){this._subject=new We,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._basePath=function Cde(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(kz(Nz(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+ta(i))}normalize(t){return n.stripTrailingSlash(function xde(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,Nz(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ta(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ta(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}static{this.normalizeQueryParams=ta}static{this.joinWithSlash=UT}static{this.stripTrailingSlash=kz}static{this.\u0275fac=function(i){return new(i||n)(H(Za))}}static{this.\u0275prov=ne({token:n,factory:()=>function wde(){return new ii(H(Za))}(),providedIn:"root"})}}return n})();function Nz(n){return n.replace(/\/index.html$/,"")}var br=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(br||{}),qt=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(qt||{}),to=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(to||{}),Yn=function(n){return n[n.Decimal=0]="Decimal",n[n.Group=1]="Group",n[n.List=2]="List",n[n.PercentSign=3]="PercentSign",n[n.PlusSign=4]="PlusSign",n[n.MinusSign=5]="MinusSign",n[n.Exponential=6]="Exponential",n[n.SuperscriptingExponent=7]="SuperscriptingExponent",n[n.PerMille=8]="PerMille",n[n.Infinity=9]="Infinity",n[n.NaN=10]="NaN",n[n.TimeSeparator=11]="TimeSeparator",n[n.CurrencyDecimal=12]="CurrencyDecimal",n[n.CurrencyGroup=13]="CurrencyGroup",n}(Yn||{});function Ry(n,e){return yo(mr(n)[tn.DateFormat],e)}function Ny(n,e){return yo(mr(n)[tn.TimeFormat],e)}function Fy(n,e){return yo(mr(n)[tn.DateTimeFormat],e)}function bo(n,e){const t=mr(n),i=t[tn.NumberSymbols][e];if(typeof i>"u"){if(e===Yn.CurrencyDecimal)return t[tn.NumberSymbols][Yn.Decimal];if(e===Yn.CurrencyGroup)return t[tn.NumberSymbols][Yn.Group]}return i}function Lz(n){if(!n[tn.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[tn.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function yo(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function jT(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const Lde=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ly={},Vde=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var na=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(na||{}),St=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(St||{}),At=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(At||{});function Bde(n,e,t,i){let r=function Kde(n){if(Uz(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,o=1,s=1]=n.split("-").map(a=>+a);return Vy(r,o-1,s)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let i;if(i=n.match(Lde))return function Qde(n){const e=new Date(0);let t=0,i=0;const r=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const s=Number(n[4]||0)-t,a=Number(n[5]||0)-i,c=Number(n[6]||0),l=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return o.call(e,s,a,c,l),e}(i)}const e=new Date(n);if(!Uz(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=ia(t,e)||e;let a,s=[];for(;e;){if(a=Vde.exec(e),!a){s.push(e);break}{s=s.concat(a.slice(1));const u=s.pop();if(!u)break;e=u}}let c=r.getTimezoneOffset();i&&(c=Bz(i,c),r=function Wde(n,e,t){const i=t?-1:1,r=n.getTimezoneOffset();return function qde(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,i*(Bz(e,r)-r))}(r,i,!0));let l="";return s.forEach(u=>{const d=function Gde(n){if($T[n])return $T[n];let e;switch(n){case"G":case"GG":case"GGG":e=nn(At.Eras,qt.Abbreviated);break;case"GGGG":e=nn(At.Eras,qt.Wide);break;case"GGGGG":e=nn(At.Eras,qt.Narrow);break;case"y":e=ri(St.FullYear,1,0,!1,!0);break;case"yy":e=ri(St.FullYear,2,0,!0,!0);break;case"yyy":e=ri(St.FullYear,3,0,!1,!0);break;case"yyyy":e=ri(St.FullYear,4,0,!1,!0);break;case"Y":e=jy(1);break;case"YY":e=jy(2,!0);break;case"YYY":e=jy(3);break;case"YYYY":e=jy(4);break;case"M":case"L":e=ri(St.Month,1,1);break;case"MM":case"LL":e=ri(St.Month,2,1);break;case"MMM":e=nn(At.Months,qt.Abbreviated);break;case"MMMM":e=nn(At.Months,qt.Wide);break;case"MMMMM":e=nn(At.Months,qt.Narrow);break;case"LLL":e=nn(At.Months,qt.Abbreviated,br.Standalone);break;case"LLLL":e=nn(At.Months,qt.Wide,br.Standalone);break;case"LLLLL":e=nn(At.Months,qt.Narrow,br.Standalone);break;case"w":e=HT(1);break;case"ww":e=HT(2);break;case"W":e=HT(1,!0);break;case"d":e=ri(St.Date,1);break;case"dd":e=ri(St.Date,2);break;case"c":case"cc":e=ri(St.Day,1);break;case"ccc":e=nn(At.Days,qt.Abbreviated,br.Standalone);break;case"cccc":e=nn(At.Days,qt.Wide,br.Standalone);break;case"ccccc":e=nn(At.Days,qt.Narrow,br.Standalone);break;case"cccccc":e=nn(At.Days,qt.Short,br.Standalone);break;case"E":case"EE":case"EEE":e=nn(At.Days,qt.Abbreviated);break;case"EEEE":e=nn(At.Days,qt.Wide);break;case"EEEEE":e=nn(At.Days,qt.Narrow);break;case"EEEEEE":e=nn(At.Days,qt.Short);break;case"a":case"aa":case"aaa":e=nn(At.DayPeriods,qt.Abbreviated);break;case"aaaa":e=nn(At.DayPeriods,qt.Wide);break;case"aaaaa":e=nn(At.DayPeriods,qt.Narrow);break;case"b":case"bb":case"bbb":e=nn(At.DayPeriods,qt.Abbreviated,br.Standalone,!0);break;case"bbbb":e=nn(At.DayPeriods,qt.Wide,br.Standalone,!0);break;case"bbbbb":e=nn(At.DayPeriods,qt.Narrow,br.Standalone,!0);break;case"B":case"BB":case"BBB":e=nn(At.DayPeriods,qt.Abbreviated,br.Format,!0);break;case"BBBB":e=nn(At.DayPeriods,qt.Wide,br.Format,!0);break;case"BBBBB":e=nn(At.DayPeriods,qt.Narrow,br.Format,!0);break;case"h":e=ri(St.Hours,1,-12);break;case"hh":e=ri(St.Hours,2,-12);break;case"H":e=ri(St.Hours,1);break;case"HH":e=ri(St.Hours,2);break;case"m":e=ri(St.Minutes,1);break;case"mm":e=ri(St.Minutes,2);break;case"s":e=ri(St.Seconds,1);break;case"ss":e=ri(St.Seconds,2);break;case"S":e=ri(St.FractionalSeconds,1);break;case"SS":e=ri(St.FractionalSeconds,2);break;case"SSS":e=ri(St.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Uy(na.Short);break;case"ZZZZZ":e=Uy(na.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Uy(na.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Uy(na.Long);break;default:return null}return $T[n]=e,e}(u);l+=d?d(r,t,c):"''"===u?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function Vy(n,e,t){const i=new Date(0);return i.setFullYear(n,e,t),i.setHours(0,0,0),i}function ia(n,e){const t=function Tde(n){return mr(n)[tn.LocaleId]}(n);if(Ly[t]??={},Ly[t][e])return Ly[t][e];let i="";switch(e){case"shortDate":i=Ry(n,to.Short);break;case"mediumDate":i=Ry(n,to.Medium);break;case"longDate":i=Ry(n,to.Long);break;case"fullDate":i=Ry(n,to.Full);break;case"shortTime":i=Ny(n,to.Short);break;case"mediumTime":i=Ny(n,to.Medium);break;case"longTime":i=Ny(n,to.Long);break;case"fullTime":i=Ny(n,to.Full);break;case"short":const r=ia(n,"shortTime"),o=ia(n,"shortDate");i=By(Fy(n,to.Short),[r,o]);break;case"medium":const s=ia(n,"mediumTime"),a=ia(n,"mediumDate");i=By(Fy(n,to.Medium),[s,a]);break;case"long":const c=ia(n,"longTime"),l=ia(n,"longDate");i=By(Fy(n,to.Long),[c,l]);break;case"full":const u=ia(n,"fullTime"),d=ia(n,"fullDate");i=By(Fy(n,to.Full),[u,d])}return i&&(Ly[t][e]=i),i}function By(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,i){return null!=e&&i in e?e[i]:t})),n}function Uo(n,e,t="-",i,r){let o="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,o=t));let s=String(n);for(;s.length<e;)s="0"+s;return i&&(s=s.slice(s.length-e)),o+s}function ri(n,e,t=0,i=!1,r=!1){return function(o,s){let a=function zde(n,e){switch(n){case St.FullYear:return e.getFullYear();case St.Month:return e.getMonth();case St.Date:return e.getDate();case St.Hours:return e.getHours();case St.Minutes:return e.getMinutes();case St.Seconds:return e.getSeconds();case St.FractionalSeconds:return e.getMilliseconds();case St.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,o);if((t>0||a>-t)&&(a+=t),n===St.Hours)0===a&&-12===t&&(a=12);else if(n===St.FractionalSeconds)return function Ude(n,e){return Uo(n,3).substring(0,e)}(a,e);const c=bo(s,Yn.MinusSign);return Uo(a,e,c,i,r)}}function nn(n,e,t=br.Format,i=!1){return function(r,o){return function jde(n,e,t,i,r,o){switch(t){case At.Months:return function Dde(n,e,t){const i=mr(n),o=yo([i[tn.MonthsFormat],i[tn.MonthsStandalone]],e);return yo(o,t)}(e,r,i)[n.getMonth()];case At.Days:return function Mde(n,e,t){const i=mr(n),o=yo([i[tn.DaysFormat],i[tn.DaysStandalone]],e);return yo(o,t)}(e,r,i)[n.getDay()];case At.DayPeriods:const s=n.getHours(),a=n.getMinutes();if(o){const l=function Ode(n){const e=mr(n);return Lz(e),(e[tn.ExtraData][2]||[]).map(i=>"string"==typeof i?jT(i):[jT(i[0]),jT(i[1])])}(e),u=function Pde(n,e,t){const i=mr(n);Lz(i);const o=yo([i[tn.ExtraData][0],i[tn.ExtraData][1]],e)||[];return yo(o,t)||[]}(e,r,i),d=l.findIndex(h=>{if(Array.isArray(h)){const[g,y]=h,C=s>=g.hours&&a>=g.minutes,T=s<y.hours||s===y.hours&&a<y.minutes;if(g.hours<y.hours){if(C&&T)return!0}else if(C||T)return!0}else if(h.hours===s&&h.minutes===a)return!0;return!1});if(-1!==d)return u[d]}return function Ide(n,e,t){const i=mr(n),o=yo([i[tn.DayPeriodsFormat],i[tn.DayPeriodsStandalone]],e);return yo(o,t)}(e,r,i)[s<12?0:1];case At.Eras:return function Sde(n,e){return yo(mr(n)[tn.Eras],e)}(e,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(r,o,n,e,t,i)}}function Uy(n){return function(e,t,i){const r=-1*i,o=bo(t,Yn.MinusSign),s=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case na.Short:return(r>=0?"+":"")+Uo(s,2,o)+Uo(Math.abs(r%60),2,o);case na.ShortGMT:return"GMT"+(r>=0?"+":"")+Uo(s,1,o);case na.Long:return"GMT"+(r>=0?"+":"")+Uo(s,2,o)+":"+Uo(Math.abs(r%60),2,o);case na.Extended:return 0===i?"Z":(r>=0?"+":"")+Uo(s,2,o)+":"+Uo(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}const Hde=0,zy=4;function Vz(n){const e=n.getDay(),t=0===e?-3:zy-e;return Vy(n.getFullYear(),n.getMonth(),n.getDate()+t)}function HT(n,e=!1){return function(t,i){let r;if(e){const o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();r=1+Math.floor((s+o)/7)}else{const o=Vz(t),s=function $de(n){const e=Vy(n,Hde,1).getDay();return Vy(n,0,1+(e<=zy?zy:zy+7)-e)}(o.getFullYear()),a=o.getTime()-s.getTime();r=1+Math.round(a/6048e5)}return Uo(r,n,bo(i,Yn.MinusSign))}}function jy(n,e=!1){return function(t,i){return Uo(Vz(t).getFullYear(),n,bo(i,Yn.MinusSign),e)}}const $T={};function Bz(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function Uz(n){return n instanceof Date&&!isNaN(n.valueOf())}class uhe{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Lr=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,o,s)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new uhe(r.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)i.remove(null===o?void 0:o);else if(null!==o){const a=i.get(o);i.move(a,s),qz(a,r)}});for(let r=0,o=i.length;r<o;r++){const a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{qz(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}static{this.\u0275fac=function(i){return new(i||n)(E(po),E(cs),E(C1))}}static{this.\u0275dir=_e({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function qz(n,e){n.context.$implicit=e.item}let $y=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new dhe,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Wz("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Wz("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}static{this.\u0275fac=function(i){return new(i||n)(E(po),E(cs))}}static{this.\u0275dir=_e({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})();class dhe{constructor(){this.$implicit=null,this.ngIf=null}}function Wz(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${di(e)}'.`)}const The=new X(""),Ihe=new X("");let JT=(()=>{class n{constructor(t,i,r){this.locale=t,this.defaultTimezone=i,this.defaultOptions=r}transform(t,i,r,o){if(null==t||""===t||t!=t)return null;try{return Bde(t,i??this.defaultOptions?.dateFormat??"mediumDate",o||this.locale,r??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(s){throw function zo(n,e){return new z(2100,!1)}()}}static{this.\u0275fac=function(i){return new(i||n)(E(ps,16),E(The,24),E(Ihe,24))}}static{this.\u0275pipe=Sr({name:"date",type:n,pure:!0,standalone:!0})}}return n})(),Ja=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=et({type:n})}static{this.\u0275inj=Je({})}}return n})();const Yz="browser";function Gy(n){return n===Yz}function Xz(n){return"server"===n}let Bhe=(()=>{class n{static{this.\u0275prov=ne({token:n,providedIn:"root",factory:()=>Gy(J(ho))?new Uhe(J(ht),window):new jhe})}}return n})();class Uhe{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){const t=function zhe(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}}class jhe{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}}class _fe extends bde{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class iI extends _fe{static makeCurrent(){!function _de(n){Az??=n}(new iI)}onAndCancel(e,t,i){return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function bfe(){return Np=Np||document.querySelector("base"),Np?Np.getAttribute("href"):null}();return null==t?null:function yfe(n){return new URL(n,document.baseURI).pathname}(t)}resetBaseElement(){Np=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function ahe(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,o]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,e)}}let Np=null,wfe=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac})}}return n})();const rI=new X("");let s6=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(o=>o.supports(t)),!i)throw new z(5101,!1);return this._eventNameToPlugin.set(t,i),i}static{this.\u0275fac=function(i){return new(i||n)(H(rI),H(Me))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac})}}return n})();class a6{constructor(e){this._doc=e}}const oI="ng-app-id";let c6=(()=>{class n{constructor(t,i,r,o={}){this.doc=t,this.appId=i,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Xz(o),this.resetHostNodes()}addStyles(t){for(const i of t)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(t){for(const i of t)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(i=>i.remove()),t.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){const i=this.styleRef;i.get(t)?.elements?.forEach(r=>r.remove()),i.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${oI}="${this.appId}"]`);if(t?.length){const i=new Map;return t.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(t,i){const r=this.styleRef;if(r.has(t)){const o=r.get(t);return o.usage+=i,o.usage}return r.set(t,{usage:i,elements:[]}),i}getStyleElement(t,i){const r=this.styleNodesInDOM,o=r?.get(i);if(o?.parentNode===t)return r.delete(i),o.removeAttribute(oI),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=i,this.platformIsServer&&s.setAttribute(oI,this.appId),t.appendChild(s),s}}addStyleToHost(t,i){const r=this.getStyleElement(t,i),o=this.styleRef,s=o.get(i)?.elements;s?s.push(r):o.set(i,{elements:[r],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(i){return new(i||n)(H(ht),H(rb),H(WC,8),H(ho))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac})}}return n})();const sI={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},aI=/%COMP%/g,Tfe=new X("",{providedIn:"root",factory:()=>!0});function u6(n,e){return e.map(t=>t.replace(aI,n))}let cI=(()=>{class n{constructor(t,i,r,o,s,a,c,l=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Xz(a),this.defaultRenderer=new lI(t,s,c,this.platformIsServer)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Ao.ShadowDom&&(i={...i,encapsulation:Ao.Emulated});const r=this.getOrCreateRenderer(t,i);return r instanceof h6?r.applyToHost(t):r instanceof uI&&r.applyStyles(),r}getOrCreateRenderer(t,i){const r=this.rendererByCompId;let o=r.get(i.id);if(!o){const s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(i.encapsulation){case Ao.Emulated:o=new h6(c,l,i,this.appId,u,s,a,d);break;case Ao.ShadowDom:return new Sfe(c,l,t,i,s,a,this.nonce,d);default:o=new uI(c,l,i,u,s,a,d)}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(i){return new(i||n)(H(s6),H(c6),H(rb),H(Tfe),H(ht),H(ho),H(Me),H(WC))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac})}}return n})();class lI{constructor(e,t,i,r){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(sI[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(d6(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(d6(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?this.doc.querySelector(e):e;if(!i)throw new z(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const o=sI[r];o?e.setAttributeNS(o,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=sI[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&($a.DashCase|$a.Important)?e.style.setProperty(t,i,r&$a.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&$a.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){null!=e&&(e[t]=i)}setValue(e,t){e.nodeValue=t}listen(e,t,i){if("string"==typeof e&&!(e=Xa().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(i))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function d6(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Sfe extends lI{constructor(e,t,i,r,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=u6(r.id,r.styles);for(const u of l){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class uI extends lI{constructor(e,t,i,r,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=c?u6(c,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class h6 extends uI{constructor(e,t,i,r,o,s,a,c){const l=r+"-"+i.id;super(e,t,i,o,s,a,c,l),this.contentAttr=function Ife(n){return"_ngcontent-%COMP%".replace(aI,n)}(l),this.hostAttr=function Mfe(n){return"_nghost-%COMP%".replace(aI,n)}(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}let Afe=(()=>{class n extends a6{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}static{this.\u0275fac=function(i){return new(i||n)(H(ht))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac})}}return n})();const f6=["alt","control","meta","shift"],kfe={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ofe={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Pfe=(()=>{class n extends a6{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const o=n.parseEventName(i),s=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Xa().onAndCancel(t,o.domEventName,s))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),f6.forEach(l=>{const u=i.indexOf(l);u>-1&&(i.splice(u,1),s+=l+".")}),s+=o,0!=i.length||0===o.length)return null;const c={};return c.domEventName=r,c.fullKey=s,c}static matchEventFullKeyCode(t,i){let r=kfe[t.key]||t.key,o="";return i.indexOf("code.")>-1&&(r=t.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),f6.forEach(s=>{s!==r&&(0,Ofe[s])(t)&&(o+=s+".")}),o+=r,o===i)}static eventCallback(t,i,r){return o=>{n.matchEventFullKeyCode(o,t)&&r.runGuarded(()=>i(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}static{this.\u0275fac=function(i){return new(i||n)(H(ht))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac})}}return n})();const g6=[{provide:ho,useValue:Yz},{provide:n3,useValue:function Rfe(){iI.makeCurrent()},multi:!0},{provide:ht,useFactory:function Ffe(){return function Qee(n){GC=n}(document),document},deps:[]}],Lfe=iz(Uue,"browser",g6),Vfe=new X(""),m6=[{provide:Cy,useClass:class vfe{addToWindow(e){Ot.getAngularTestability=(i,r=!0)=>{const o=e.findTestabilityInTree(i,r);if(null==o)throw new z(5103,!1);return o},Ot.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ot.getAllAngularRootElements=()=>e.getAllRootElements(),Ot.frameworkStabilizers||(Ot.frameworkStabilizers=[]),Ot.frameworkStabilizers.push(i=>{const r=Ot.getAllAngularTestabilities();let o=r.length;const s=function(){o--,0==o&&i()};r.forEach(a=>{a.whenStable(s)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?Xa().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:qU,useClass:TT,deps:[Me,IT,Cy]},{provide:TT,useClass:TT,deps:[Me,IT,Cy]}],_6=[{provide:yE,useValue:"root"},{provide:Fo,useFactory:function Nfe(){return new Fo},deps:[]},{provide:rI,useClass:Afe,multi:!0,deps:[ht,Me,ho]},{provide:rI,useClass:Pfe,multi:!0,deps:[ht]},cI,c6,s6,{provide:v1,useExisting:cI},{provide:class Hhe{},useClass:wfe,deps:[]},[]];let b6=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:rb,useValue:t.appId}]}}static{this.\u0275fac=function(i){return new(i||n)(H(Vfe,12))}}static{this.\u0275mod=et({type:n})}static{this.\u0275inj=Je({providers:[..._6,...m6],imports:[Ja,zue]})}}return n})(),Bfe=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(i){return new(i||n)(H(ht))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Ky(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t}function ec(n){return this instanceof ec?(this.v=n,this):new ec(n)}function T6(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function gI(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=n[o]&&function(s){return new Promise(function(a,c){!function r(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}(a,c,(s=n[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const mI=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function I6(n){return yt(n?.then)}function M6(n){return yt(n[bC])}function D6(n){return Symbol.asyncIterator&&yt(n?.[Symbol.asyncIterator])}function S6(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const A6=function upe(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function k6(n){return yt(n?.[A6])}function O6(n){return function E6(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=t.apply(n,e||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(h){i[h]&&(r[h]=function(g){return new Promise(function(y,C){o.push([h,g,y,C])>1||a(h,g)})})}function a(h,g){try{!function c(h){h.value instanceof ec?Promise.resolve(h.value.v).then(l,u):d(o[0][2],h)}(i[h](g))}catch(y){d(o[0][3],y)}}function l(h){a("next",h)}function u(h){a("throw",h)}function d(h,g){h(g),o.shift(),o.length&&a(o[0][0],o[0][1])}}(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:i,done:r}=yield ec(t.read());if(r)return yield ec(void 0);yield yield ec(i)}}finally{t.releaseLock()}})}function P6(n){return yt(n?.getReader)}function Bi(n){if(n instanceof Yt)return n;if(null!=n){if(M6(n))return function dpe(n){return new Yt(e=>{const t=n[bC]();if(yt(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(mI(n))return function hpe(n){return new Yt(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(I6(n))return function fpe(n){return new Yt(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,rL)})}(n);if(D6(n))return R6(n);if(k6(n))return function ppe(n){return new Yt(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(P6(n))return function gpe(n){return R6(O6(n))}(n)}throw S6(n)}function R6(n){return new Yt(e=>{(function mpe(n,e){var t,i,r,o;return function x6(n,e,t,i){return new(t||(t=Promise))(function(o,s){function a(u){try{l(i.next(u))}catch(d){s(d)}}function c(u){try{l(i.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):function r(o){return o instanceof t?o:new t(function(s){s(o)})}(u.value).then(a,c)}l((i=i.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=T6(n);!(i=yield t.next()).done;)if(e.next(i.value),e.closed)return}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=t.return)&&(yield o.call(t))}finally{if(r)throw r.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function ra(n,e,t,i=0,r=!1){const o=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function Qy(n,e=0){return Mn((t,i)=>{t.subscribe(_n(i,r=>ra(i,n,()=>i.next(r),e),()=>ra(i,n,()=>i.complete(),e),r=>ra(i,n,()=>i.error(r),e)))})}function Yy(n,e=0){return Mn((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function N6(n,e){if(!n)throw new Error("Iterable cannot be null");return new Yt(t=>{ra(t,e,()=>{const i=n[Symbol.asyncIterator]();ra(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function _i(n,e){return e?function xpe(n,e){if(null!=n){if(M6(n))return function _pe(n,e){return Bi(n).pipe(Yy(e),Qy(e))}(n,e);if(mI(n))return function ype(n,e){return new Yt(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}(n,e);if(I6(n))return function bpe(n,e){return Bi(n).pipe(Yy(e),Qy(e))}(n,e);if(D6(n))return N6(n,e);if(k6(n))return function vpe(n,e){return new Yt(t=>{let i;return ra(t,e,()=>{i=n[A6](),ra(t,e,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){return void t.error(s)}o?t.complete():t.next(r)},0,!0)}),()=>yt(i?.return)&&i.return()})}(n,e);if(P6(n))return function wpe(n,e){return N6(O6(n),e)}(n,e)}throw S6(n)}(n,e):Bi(n)}const{isArray:Cpe}=Array,{getPrototypeOf:Epe,prototype:Tpe,keys:Ipe}=Object;function F6(n){if(1===n.length){const e=n[0];if(Cpe(e))return{args:e,keys:null};if(function Mpe(n){return n&&"object"==typeof n&&Epe(n)===Tpe}(e)){const t=Ipe(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}function L6(n){return n&&yt(n.schedule)}function _I(n){return n[n.length-1]}function V6(n){return yt(_I(n))?n.pop():void 0}function Lp(n){return L6(_I(n))?n.pop():void 0}const{isArray:Spe}=Array;function bI(n){return Le(e=>function Ape(n,e){return Spe(e)?n(...e):n(e)}(n,e))}function B6(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}let z6=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(i){return new(i||n)(E(Lo),E(ln))}}static{this.\u0275dir=_e({type:n})}}return n})(),yl=(()=>{class n extends z6{static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=wi(n)))(r||n)}})()}static{this.\u0275dir=_e({type:n,features:[wt]})}}return n})();const ms=new X(""),Ope={provide:ms,useExisting:Jt(()=>Ui),multi:!0},Rpe=new X("");let Ui=(()=>{class n extends z6{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Ppe(){const n=Xa()?Xa().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(i){return new(i||n)(E(Lo),E(ln),E(Rpe,8))}}static{this.\u0275dir=_e({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){1&i&&Q("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[wn([Ope]),wt]})}}return n})();function tc(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}const ir=new X(""),nc=new X("");function Xy(n){return null}function Z6(n){return null!=n}function J6(n){return Dp(n)?_i(n):n}function ej(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function tj(n,e){return e.map(t=>t(n))}function nj(n){return n.map(e=>function Fpe(n){return!n.validate}(e)?e:t=>e.validate(t))}function yI(n){return null!=n?function ij(n){if(!n)return null;const e=n.filter(Z6);return 0==e.length?null:function(t){return ej(tj(t,e))}}(nj(n)):null}function rj(n){if(!n)return null;const e=n.filter(Z6);return 0==e.length?null:function(t){return function U6(...n){const e=V6(n),{args:t,keys:i}=F6(n),r=new Yt(o=>{const{length:s}=t;if(!s)return void o.complete();const a=new Array(s);let c=s,l=s;for(let u=0;u<s;u++){let d=!1;Bi(t[u]).subscribe(_n(o,h=>{d||(d=!0,l--),a[u]=h},()=>c--,void 0,()=>{(!c||!d)&&(l||o.next(i?B6(i,a):a),o.complete())}))}});return e?r.pipe(bI(e)):r}(tj(t,e).map(J6)).pipe(Le(ej))}}function vI(n){return null!=n?rj(nj(n)):null}function oj(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function wI(n){return n?Array.isArray(n)?n:[n]:[]}function Zy(n,e){return Array.isArray(n)?n.includes(e):n===e}function cj(n,e){const t=wI(e);return wI(n).forEach(r=>{Zy(t,r)||t.push(r)}),t}function lj(n,e){return wI(e).filter(t=>!Zy(n,t))}class uj{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=yI(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=vI(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class yr extends uj{get formDirective(){return null}get path(){return null}}class ic extends uj{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class dj{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let vr=(()=>{class n extends dj{constructor(t){super(t)}static{this.\u0275fac=function(i){return new(i||n)(E(ic,2))}}static{this.\u0275dir=_e({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){2&i&&mo("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[wt]})}}return n})(),Ln=(()=>{class n extends dj{constructor(t){super(t)}static{this.\u0275fac=function(i){return new(i||n)(E(yr,10))}}static{this.\u0275dir=_e({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){2&i&&mo("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[wt]})}}return n})();const Vp="VALID",ev="INVALID",Pd="PENDING",Bp="DISABLED";function EI(n){return(tv(n)?n.validators:n)||null}function TI(n,e){return(tv(e)?e.asyncValidators:n)||null}function tv(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class II{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Vp}get invalid(){return this.status===ev}get pending(){return this.status==Pd}get disabled(){return this.status===Bp}get enabled(){return this.status!==Bp}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(cj(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(cj(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(lj(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(lj(e,this._rawAsyncValidators))}hasValidator(e){return Zy(this._rawValidators,e)}hasAsyncValidator(e){return Zy(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Pd,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Bp,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Vp,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Vp||this.status===Pd)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Bp:Vp}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Pd,this._hasOwnPendingAsyncValidator=!0;const t=J6(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new We,this.statusChanges=new We}_calculateStatus(){return this._allControlsDisabled()?Bp:this.errors?ev:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Pd)?Pd:this._anyControlsHaveStatus(ev)?ev:Vp}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){tv(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Upe(n){return Array.isArray(n)?yI(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function zpe(n){return Array.isArray(n)?vI(n):n||null}(this._rawAsyncValidators)}}class MI extends II{constructor(e,t,i){super(EI(t),TI(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function pj(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new z(1002,"")})})(this,0,e),Object.keys(e).forEach(i=>{(function fj(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new z(1e3,"");if(!i[t])throw new z(1001,"")})(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,o)=>{i=t(i,r,o)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const Rd=new X("CallSetDisabledState",{providedIn:"root",factory:()=>nv}),nv="always";function Up(n,e,t=nv){DI(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function $pe(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&gj(n,e)})}(n,e),function qpe(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Gpe(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&gj(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Hpe(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function ov(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function DI(n,e){const t=function sj(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(oj(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=function aj(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(oj(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();ov(e._rawValidators,r),ov(e._rawAsyncValidators,r)}function gj(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const Xpe={provide:yr,useExisting:Jt(()=>xn)},zp=Promise.resolve();let xn=(()=>{class n extends yr{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new We,this.form=new MI({},yI(t),vI(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){zp.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),Up(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){zp.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){zp.then(()=>{const i=this._findContainer(t.path),r=new MI({});(function mj(n,e){DI(n,e)})(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){zp.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){zp.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function _j(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static{this.\u0275fac=function(i){return new(i||n)(E(ir,10),E(nc,10),E(Rd,8))}}static{this.\u0275dir=_e({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){1&i&&Q("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:[lt.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[wn([Xpe]),wt]})}}return n})();function bj(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function yj(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const vj=class extends II{constructor(e=null,t,i){super(EI(t),TI(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),tv(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=yj(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){bj(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){bj(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){yj(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},ege={provide:ic,useExisting:Jt(()=>rr)},Cj=Promise.resolve();let rr=(()=>{class n extends ic{constructor(t,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new vj,this._registered=!1,this.name="",this.update=new We,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function kI(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(o=>{o.constructor===Ui?t=o:function Qpe(n){return Object.getPrototypeOf(n.constructor)===yl}(o)?i=o:r=o}),r||i||t||null}(0,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function AI(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Up(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Cj.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=0!==i&&gs(i);Cj.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function iv(n,e){return[...e.path,n]}(t,this._parent):[t]}static{this.\u0275fac=function(i){return new(i||n)(E(yr,9),E(ir,10),E(nc,10),E(ms,10),E(ld,8),E(Rd,8))}}static{this.\u0275dir=_e({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[lt.None,"disabled","isDisabled"],model:[lt.None,"ngModel","model"],options:[lt.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[wn([ege]),wt,fo]})}}return n})(),Vn=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=_e({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})();const tge={provide:ms,useExisting:Jt(()=>OI),multi:!0};let OI=(()=>{class n extends yl{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=i=>{t(""==i?null:parseFloat(i))}}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=wi(n)))(r||n)}})()}static{this.\u0275dir=_e({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,r){1&i&&Q("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},features:[wn([tge]),wt]})}}return n})();const uge={provide:ms,useExisting:Jt(()=>rc),multi:!0};function Aj(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let rc=(()=>{class n extends yl{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const r=Aj(this._getOptionId(t),t);this.setProperty("value",r)}registerOnChange(t){this.onChange=i=>{this.value=this._getOptionValue(i),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),t))return i;return null}_getOptionValue(t){const i=function dge(n){return n.split(":")[0]}(t);return this._optionMap.has(i)?this._optionMap.get(i):t}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=wi(n)))(r||n)}})()}static{this.\u0275dir=_e({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,r){1&i&&Q("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[wn([uge]),wt]})}}return n})(),oc=(()=>{class n{constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(Aj(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(i){return new(i||n)(E(ln),E(Lo),E(rc,9))}}static{this.\u0275dir=_e({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();const hge={provide:ms,useExisting:Jt(()=>FI),multi:!0};function kj(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let FI=(()=>{class n extends yl{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let i;if(this.value=t,Array.isArray(t)){const r=t.map(o=>this._getOptionId(o));i=(o,s)=>{o._setSelected(r.indexOf(s.toString())>-1)}}else i=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(t){this.onChange=i=>{const r=[],o=i.selectedOptions;if(void 0!==o){const s=o;for(let a=0;a<s.length;a++){const l=this._getOptionValue(s[a].value);r.push(l)}}else{const s=i.options;for(let a=0;a<s.length;a++){const c=s[a];if(c.selected){const l=this._getOptionValue(c.value);r.push(l)}}}this.value=r,t(r)}}_registerOption(t){const i=(this._idCounter++).toString();return this._optionMap.set(i,t),i}_getOptionId(t){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,t))return i;return null}_getOptionValue(t){const i=function fge(n){return n.split(":")[0]}(t);return this._optionMap.has(i)?this._optionMap.get(i)._value:t}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=wi(n)))(r||n)}})()}static{this.\u0275dir=_e({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,r){1&i&&Q("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[wn([hge]),wt]})}}return n})(),sc=(()=>{class n{constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(kj(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(kj(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(i){return new(i||n)(E(ln),E(Lo),E(FI,9))}}static{this.\u0275dir=_e({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();function Pj(n){return"number"==typeof n?n:parseFloat(n)}let vl=(()=>{class n{constructor(){this._validator=Xy}ngOnChanges(t){if(this.inputName in t){const i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Xy,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=_e({type:n,features:[fo]})}}return n})();const pge={provide:ir,useExisting:Jt(()=>LI),multi:!0};let LI=(()=>{class n extends vl{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=t=>Pj(t),this.createValidator=t=>function G6(n){return e=>{if(tc(e.value)||tc(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(t)}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=wi(n)))(r||n)}})()}static{this.\u0275dir=_e({type:n,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(i,r){2&i&&Rr("max",r._enabled?r.max:null)},inputs:{max:"max"},features:[wn([pge]),wt]})}}return n})();const gge={provide:ir,useExisting:Jt(()=>VI),multi:!0};let VI=(()=>{class n extends vl{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=t=>Pj(t),this.createValidator=t=>function $6(n){return e=>{if(tc(e.value)||tc(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(t)}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=wi(n)))(r||n)}})()}static{this.\u0275dir=_e({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(i,r){2&i&&Rr("min",r._enabled?r.min:null)},inputs:{min:"min"},features:[wn([gge]),wt]})}}return n})(),xge=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=et({type:n})}static{this.\u0275inj=Je({})}}return n})(),jp=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Rd,useValue:t.callSetDisabledState??nv}]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=et({type:n})}static{this.\u0275inj=Je({imports:[xge]})}}return n})();function we(...n){return _i(n,Lp(n))}function av(...n){const e=Lp(n),t=V6(n),{args:i,keys:r}=F6(n);if(0===i.length)return _i([],e);const o=new Yt(function Tge(n,e,t=Fa){return i=>{Bj(e,()=>{const{length:r}=n,o=new Array(r);let s=r,a=r;for(let c=0;c<r;c++)Bj(e,()=>{const l=_i(n[c],e);let u=!1;l.subscribe(_n(i,d=>{o[c]=d,u||(u=!0,a--),a||i.next(t(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}(i,e,r?s=>B6(r,s):Fa));return t?o.pipe(bI(t)):o}function Bj(n,e,t){n?ra(t,n,e):e()}const cv=hC(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function xi(n,e,t=1/0){return yt(e)?xi((i,r)=>Le((o,s)=>e(i,o,r,s))(Bi(n(i,r))),t):("number"==typeof e&&(t=e),Mn((i,r)=>function Ige(n,e,t,i,r,o,s,a){const c=[];let l=0,u=0,d=!1;const h=()=>{d&&!c.length&&!l&&e.complete()},g=C=>l<i?y(C):c.push(C),y=C=>{o&&e.next(C),l++;let T=!1;Bi(t(C,u++)).subscribe(_n(e,S=>{r?.(S),o?g(S):e.next(S)},()=>{T=!0},void 0,()=>{if(T)try{for(l--;c.length&&l<i;){const S=c.shift();s?ra(e,s,()=>y(S)):y(S)}h()}catch(S){e.error(S)}}))};return n.subscribe(_n(e,g,()=>{d=!0,h()})),()=>{a?.()}}(i,r,n,t)))}function Nd(n=1/0){return xi(Fa,n)}function Fd(...n){return function Mge(){return Nd(1)}()(_i(n,Lp(n)))}function Hp(n){return new Yt(e=>{Bi(n()).subscribe(e)})}function Ld(n,e){const t=yt(n)?n:()=>n,i=r=>r.error(t());return new Yt(e?r=>e.schedule(i,0,r):i)}const _s=new Yt(n=>n.complete());function UI(){return Mn((n,e)=>{let t=null;n._refCount++;const i=_n(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,o=t;t=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class zI extends Yt{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,cL(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ui;const t=this.getSubject();e.add(this.source.subscribe(_n(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ui.EMPTY)}return e}refCount(){return UI()(this)}}function Vr(n,e){return Mn((t,i)=>{let r=null,o=0,s=!1;const a=()=>s&&!r&&i.complete();t.subscribe(_n(i,c=>{r?.unsubscribe();let l=0;const u=o++;Bi(n(c,u)).subscribe(r=_n(i,d=>i.next(e?e(c,d,u,l++):d),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function Xn(n){return n<=0?()=>_s:Mn((e,t)=>{let i=0;e.subscribe(_n(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function jI(...n){const e=Lp(n);return Mn((t,i)=>{(e?Fd(n,t,e):Fd(n,t)).subscribe(i)})}function Bn(n,e){return Mn((t,i)=>{let r=0;t.subscribe(_n(i,o=>n.call(e,o,r++)&&i.next(o)))})}function lv(n){return Mn((e,t)=>{let i=!1;e.subscribe(_n(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function Uj(n=Sge){return Mn((e,t)=>{let i=!1;e.subscribe(_n(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function Sge(){return new cv}function wl(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Bn((r,o)=>n(r,o,i)):Fa,Xn(1),t?lv(e):Uj(()=>new cv))}function Vd(n,e){return yt(e)?xi(n,e,1):xi(n,1)}function Un(n,e,t){const i=yt(n)||e||t?{next:n,error:e,complete:t}:n;return i?Mn((r,o)=>{var s;null===(s=i.subscribe)||void 0===s||s.call(i);let a=!0;r.subscribe(_n(o,c=>{var l;null===(l=i.next)||void 0===l||l.call(i,c),o.next(c)},()=>{var c;a=!1,null===(c=i.complete)||void 0===c||c.call(i),o.complete()},c=>{var l;a=!1,null===(l=i.error)||void 0===l||l.call(i,c),o.error(c)},()=>{var c,l;a&&(null===(c=i.unsubscribe)||void 0===c||c.call(i)),null===(l=i.finalize)||void 0===l||l.call(i)}))}):Fa}function xl(n){return Mn((e,t)=>{let o,i=null,r=!1;i=e.subscribe(_n(t,void 0,void 0,s=>{o=Bi(n(s,xl(n)(e))),i?(i.unsubscribe(),i=null,o.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(t))})}function HI(n){return n<=0?()=>_s:Mn((e,t)=>{let i=[];e.subscribe(_n(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function zj(n){return Le(()=>n)}function uv(n){return Mn((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function dv(n){return Mn((e,t)=>{Bi(n).subscribe(_n(t,()=>t.complete(),xf)),!t.closed&&e.subscribe(t)})}const Xe="primary",$p=Symbol("RouteTitle");class Pge{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Bd(n){return new Pge(n)}function Rge(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const s=i[o],a=n[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function bs(n,e){const t=n?$I(n):void 0,i=e?$I(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let o=0;o<t.length;o++)if(r=t[o],!jj(n[r],e[r]))return!1;return!0}function $I(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function jj(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,o)=>i[o]===r)}return n===e}function Hj(n){return n.length>0?n[n.length-1]:null}function ac(n){return function Ege(n){return!!n&&(n instanceof Yt||yt(n.lift)&&yt(n.subscribe))}(n)?n:Dp(n)?_i(Promise.resolve(n)):we(n)}const Fge={exact:function qj(n,e,t){if(!Cl(n.segments,e.segments)||!hv(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!qj(n.children[i],e.children[i],t))return!1;return!0},subset:Wj},$j={exact:function Lge(n,e){return bs(n,e)},subset:function Vge(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>jj(n[t],e[t]))},ignored:()=>!0};function Gj(n,e,t){return Fge[t.paths](n.root,e.root,t.matrixParams)&&$j[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Wj(n,e,t){return Kj(n,e,e.segments,t)}function Kj(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!Cl(r,t)||e.hasChildren()||!hv(r,t,i))}if(n.segments.length===t.length){if(!Cl(n.segments,t)||!hv(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!Wj(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(Cl(n.segments,r)&&hv(n.segments,r,i)&&n.children[Xe])&&Kj(n.children[Xe],e,o,i)}}function hv(n,e,t){return e.every((i,r)=>$j[t](n[r].parameters,i.parameters))}class Ud{constructor(e=new $t([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Bd(this.queryParams),this._queryParamMap}toString(){return zge.serialize(this)}}class $t{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return fv(this)}}class Gp{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Bd(this.parameters),this._parameterMap}toString(){return Xj(this)}}function Cl(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let zd=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:()=>new GI,providedIn:"root"})}}return n})();class GI{parse(e){const t=new Zge(e);return new Ud(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${qp(e.root,!0)}`,i=function $ge(n){const e=Object.entries(n).map(([t,i])=>Array.isArray(i)?i.map(r=>`${pv(t)}=${pv(r)}`).join("&"):`${pv(t)}=${pv(i)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function jge(n){return encodeURI(n)}(e.fragment)}`:""}`}}const zge=new GI;function fv(n){return n.segments.map(e=>Xj(e)).join("/")}function qp(n,e){if(!n.hasChildren())return fv(n);if(e){const t=n.children[Xe]?qp(n.children[Xe],!1):"",i=[];return Object.entries(n.children).forEach(([r,o])=>{r!==Xe&&i.push(`${r}:${qp(o,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function Uge(n,e){let t=[];return Object.entries(n.children).forEach(([i,r])=>{i===Xe&&(t=t.concat(e(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==Xe&&(t=t.concat(e(r,i)))}),t}(n,(i,r)=>r===Xe?[qp(n.children[Xe],!1)]:[`${r}:${qp(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Xe]?`${fv(n)}/${t[0]}`:`${fv(n)}/(${t.join("//")})`}}function Qj(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function pv(n){return Qj(n).replace(/%3B/gi,";")}function qI(n){return Qj(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function gv(n){return decodeURIComponent(n)}function Yj(n){return gv(n.replace(/\+/g,"%20"))}function Xj(n){return`${qI(n.path)}${function Hge(n){return Object.entries(n).map(([e,t])=>`;${qI(e)}=${qI(t)}`).join("")}(n.parameters)}`}const Gge=/^[^\/()?;#]+/;function WI(n){const e=n.match(Gge);return e?e[0]:""}const qge=/^[^\/()?;=#]+/,Kge=/^[^=?&#]+/,Yge=/^[^&#]+/;class Zge{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new $t([],{}):new $t([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[Xe]=new $t(e,t)),i}parseSegment(){const e=WI(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new z(4009,!1);return this.capture(e),new Gp(gv(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function Wge(n){const e=n.match(qge);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=WI(this.remaining);r&&(i=r,this.capture(i))}e[gv(t)]=gv(i)}parseQueryParam(e){const t=function Qge(n){const e=n.match(Kge);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const s=function Xge(n){const e=n.match(Yge);return e?e[0]:""}(this.remaining);s&&(i=s,this.capture(i))}const r=Yj(t),o=Yj(i);if(e.hasOwnProperty(r)){let s=e[r];Array.isArray(s)||(s=[s],e[r]=s),s.push(o)}else e[r]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=WI(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new z(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Xe);const s=this.parseChildren();t[o]=1===Object.keys(s).length?s[Xe]:new $t([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new z(4011,!1)}}function Zj(n){return n.segments.length>0?new $t([],{[Xe]:n}):n}function Jj(n){const e={};for(const[i,r]of Object.entries(n.children)){const o=Jj(r);if(i===Xe&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[i]=o)}return function Jge(n){if(1===n.numberOfChildren&&n.children[Xe]){const e=n.children[Xe];return new $t(n.segments.concat(e.segments),e.children)}return n}(new $t(n.segments,e))}function jd(n){return n instanceof Ud}function e9(n){let e;const r=Zj(function t(o){const s={};for(const c of o.children){const l=t(c);s[c.outlet]=l}const a=new $t(o.url,s);return o===n&&(e=a),a}(n.root));return e??r}function t9(n,e,t,i){let r=n;for(;r.parent;)r=r.parent;if(0===e.length)return KI(r,r,r,t,i);const o=function tme(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new i9(!0,0,n);let e=0,t=!1;const i=n.reduce((r,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]="string"==typeof l?l.split("/"):l}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===s?(o.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?t=!0:".."===a?e++:""!=a&&r.push(a))}),r):[...r,o]},[]);return new i9(t,e,i)}(e);if(o.toRoot())return KI(r,r,new $t([],{}),t,i);const s=function nme(n,e,t){if(n.isAbsolute)return new _v(e,!0,0);if(!t)return new _v(e,!1,NaN);if(null===t.parent)return new _v(t,!0,0);const i=mv(n.commands[0])?0:1;return function ime(n,e,t){let i=n,r=e,o=t;for(;o>r;){if(o-=r,i=i.parent,!i)throw new z(4005,!1);r=i.segments.length}return new _v(i,!1,r-o)}(t,t.segments.length-1+i,n.numberOfDoubleDots)}(o,r,n),a=s.processChildren?Kp(s.segmentGroup,s.index,o.commands):r9(s.segmentGroup,s.index,o.commands);return KI(r,s.segmentGroup,a,t,i)}function mv(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Wp(n){return"object"==typeof n&&null!=n&&n.outlets}function KI(n,e,t,i,r){let s,o={};i&&Object.entries(i).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`}),s=n===e?t:n9(n,e,t);const a=Zj(Jj(s));return new Ud(a,o,r)}function n9(n,e,t){const i={};return Object.entries(n.children).forEach(([r,o])=>{i[r]=o===e?t:n9(o,e,t)}),new $t(n.segments,i)}class i9{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&mv(i[0]))throw new z(4003,!1);const r=i.find(Wp);if(r&&r!==Hj(i))throw new z(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class _v{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function r9(n,e,t){if(n??=new $t([],{}),0===n.segments.length&&n.hasChildren())return Kp(n,e,t);const i=function ome(n,e,t){let i=0,r=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return o;const s=n.segments[r],a=t[i];if(Wp(a))break;const c=`${a}`,l=i<t.length-1?t[i+1]:null;if(r>0&&void 0===c)break;if(c&&l&&"object"==typeof l&&void 0===l.outlets){if(!s9(c,l,s))return o;i+=2}else{if(!s9(c,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new $t(n.segments.slice(0,i.pathIndex),{});return o.children[Xe]=new $t(n.segments.slice(i.pathIndex),n.children),Kp(o,0,r)}return i.match&&0===r.length?new $t(n.segments,{}):i.match&&!n.hasChildren()?QI(n,e,t):i.match?Kp(n,0,r):QI(n,e,t)}function Kp(n,e,t){if(0===t.length)return new $t(n.segments,{});{const i=function rme(n){return Wp(n[0])?n[0].outlets:{[Xe]:n}}(t),r={};if(Object.keys(i).some(o=>o!==Xe)&&n.children[Xe]&&1===n.numberOfChildren&&0===n.children[Xe].segments.length){const o=Kp(n.children[Xe],e,t);return new $t(n.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(r[o]=r9(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{void 0===i[o]&&(r[o]=s)}),new $t(n.segments,r)}}function QI(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const o=t[r];if(Wp(o)){const c=sme(o.outlets);return new $t(i,c)}if(0===r&&mv(t[0])){i.push(new Gp(n.segments[e].path,o9(t[0]))),r++;continue}const s=Wp(o)?o.outlets[Xe]:`${o}`,a=r<t.length-1?t[r+1]:null;s&&a&&mv(a)?(i.push(new Gp(s,o9(a))),r+=2):(i.push(new Gp(s,{})),r++)}return new $t(i,{})}function sme(n){const e={};return Object.entries(n).forEach(([t,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(e[t]=QI(new $t([],{}),0,i))}),e}function o9(n){const e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function s9(n,e,t){return n==t.path&&bs(e,t.parameters)}const Qp="imperative";var gt=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(gt||{});class ys{constructor(e,t){this.id=e,this.url=t}}class bv extends ys{constructor(e,t,i="imperative",r=null){super(e,t),this.type=gt.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class oa extends ys{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=gt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var vo=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(vo||{}),yv=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(yv||{});class Hd extends ys{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=gt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class $d extends ys{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=gt.NavigationSkipped}}class vv extends ys{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=gt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class a9 extends ys{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=gt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ame extends ys{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=gt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cme extends ys{constructor(e,t,i,r,o){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=gt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class lme extends ys{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=gt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ume extends ys{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=gt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dme{constructor(e){this.route=e,this.type=gt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class hme{constructor(e){this.route=e,this.type=gt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class fme{constructor(e){this.snapshot=e,this.type=gt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pme{constructor(e){this.snapshot=e,this.type=gt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gme{constructor(e){this.snapshot=e,this.type=gt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mme{constructor(e){this.snapshot=e,this.type=gt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class c9{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=gt.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class YI{}class XI{constructor(e){this.url=e}}class _me{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Yp,this.attachRef=null}}let Yp=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new _me,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class l9{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=ZI(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=ZI(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=JI(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return JI(e,this._root).map(t=>t.value)}}function ZI(n,e){if(n===e.value)return e;for(const t of e.children){const i=ZI(n,t);if(i)return i}return null}function JI(n,e){if(n===e.value)return[e];for(const t of e.children){const i=JI(n,t);if(i.length)return i.unshift(e),i}return[]}class jo{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Gd(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class u9 extends l9{constructor(e,t){super(e),this.snapshot=t,nM(this,e)}toString(){return this.snapshot.toString()}}function d9(n){const e=function bme(n){const o=new tM([],{},{},"",{},Xe,n,null,{});return new h9("",new jo(o,[]))}(n),t=new fr([new Gp("",{})]),i=new fr({}),r=new fr({}),o=new fr({}),s=new fr(""),a=new nt(t,i,o,s,r,Xe,n,e.root);return a.snapshot=e.root,new u9(new jo(a,[]),e)}class nt{constructor(e,t,i,r,o,s,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Le(l=>l[$p]))??we(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Le(e=>Bd(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Le(e=>Bd(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function eM(n,e,t="emptyOnly"){let i;const{routeConfig:r}=n;return i=null===e||"always"!==t&&""!==r?.path&&(e.component||e.routeConfig?.loadComponent)?{params:{...n.params},data:{...n.data},resolve:{...n.data,...n._resolvedData??{}}}:{params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.data,...r?.data,...n._resolvedData}},r&&p9(r)&&(i.resolve[$p]=r.title),i}class tM{get title(){return this.data?.[$p]}constructor(e,t,i,r,o,s,a,c,l){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Bd(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Bd(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class h9 extends l9{constructor(e,t){super(t),this.url=e,nM(this,t)}toString(){return f9(this._root)}}function nM(n,e){e.value._routerState=n,e.children.forEach(t=>nM(n,t))}function f9(n){const e=n.children.length>0?` { ${n.children.map(f9).join(", ")} } `:"";return`${n.value}${e}`}function iM(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,bs(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),bs(e.params,t.params)||n.paramsSubject.next(t.params),function Nge(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!bs(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),bs(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function rM(n,e){const t=bs(n.params,e.params)&&function Bge(n,e){return Cl(n,e)&&n.every((t,i)=>bs(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||rM(n.parent,e.parent))}function p9(n){return"string"==typeof n.title||null===n.title}let El=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Xe,this.activateEvents=new We,this.deactivateEvents=new We,this.attachEvents=new We,this.detachEvents=new We,this.parentContexts=J(Yp),this.location=J(po),this.changeDetector=J(ld),this.environmentInjector=J(Xr),this.inputBinder=J(wv,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new z(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new z(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new z(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new z(4013,!1);this._activatedRoute=t;const r=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new yme(t,a,r.injector);this.activated=r.createComponent(s,{index:r.length,injector:c,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=_e({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[fo]})}}return n})();class yme{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===nt?this.route:e===Yp?this.childContexts:this.parent.get(e,t)}}const wv=new X("");let g9=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:i}=t,r=av([i.queryParams,i.params,i.data]).pipe(Vr(([o,s,a],c)=>(a={...o,...s,...a},0===c?we(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(t);const s=function mde(n){const e=tt(n);if(!e)return null;const t=new dp(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(i.component);if(s)for(const{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,r)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac})}}return n})();function Xp(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function wme(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Xp(n,i,r);return Xp(n,i)})}(n,e,t);return new jo(i,r)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Xp(n,a)),s}}const i=function xme(n){return new nt(new fr(n.url),new fr(n.params),new fr(n.queryParams),new fr(n.fragment),new fr(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(o=>Xp(n,o));return new jo(i,r)}}const m9="ngNavigationCancelingError";function _9(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=jd(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=b9(!1,vo.Redirect);return r.url=t,r.navigationBehaviorOptions=i,r}function b9(n,e){const t=new Error(`NavigationCancelingError: ${n||""}`);return t[m9]=!0,t.cancellationCode=e,t}function y9(n){return!!n&&n[m9]}let v9=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=xe({type:n,selectors:[["ng-component"]],standalone:!0,features:[_o],decls:1,vars:0,template:function(i,r){1&i&&Y(0,"router-outlet")},dependencies:[El],encapsulation:2})}}return n})();function oM(n){const e=n.children&&n.children.map(oM),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Xe&&(t.component=v9),t}function vs(n){return n.outlet||Xe}function Zp(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class Ame{constructor(e,t,i,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),iM(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=Gd(t);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,t,i){const r=e.value,o=t?t.value:null;if(r===o)if(r.component){const s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,i);else o&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=Gd(e);for(const s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){const s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=Gd(e);for(const s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){const r=Gd(t);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new mme(o.value.snapshot))}),e.children.length&&this.forwardEvent(new pme(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,o=t?t.value:null;if(iM(r),r===o)if(r.component){const s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),iM(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=Zp(r.snapshot);s.attachRef=null,s.route=r,s.injector=a,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,i)}}class w9{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class xv{constructor(e,t){this.component=e,this.route=t}}function kme(n,e,t){const i=n._root;return Jp(i,e?e._root:null,t,[i.value])}function qd(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||function Yee(n){return null!==tb(n)}(n)?e.get(n):n:i}function Jp(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=Gd(e);return n.children.forEach(s=>{(function Pme(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const c=function Rme(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Cl(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Cl(n.url,e.url)||!bs(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!rM(n,e)||!bs(n.queryParams,e.queryParams);default:return!rM(n,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new w9(i)):(o.data=s.data,o._resolvedData=s._resolvedData),Jp(n,e,o.component?a?a.children:null:t,i,r),c&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new xv(a.outlet.component,s))}else s&&eg(e,a,r),r.canActivateChecks.push(new w9(i)),Jp(n,null,o.component?a?a.children:null:t,i,r)})(s,o[s.value.outlet],t,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>eg(a,t.getContext(s),r)),r}function eg(n,e,t){const i=Gd(n),r=n.value;Object.entries(i).forEach(([o,s])=>{eg(s,r.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new xv(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function tg(n){return"function"==typeof n}function x9(n){return n instanceof cv||"EmptyError"===n?.name}const Cv=Symbol("INITIAL_VALUE");function Wd(){return Vr(n=>av(n.map(e=>e.pipe(Xn(1),jI(Cv)))).pipe(Le(e=>{for(const t of e)if(!0!==t){if(t===Cv)return Cv;if(!1===t||t instanceof Ud)return t}return!0}),Bn(e=>e!==Cv),Xn(1)))}function C9(n){return function YJ(...n){return oL(n)}(Un(e=>{if(jd(e))throw _9(0,e)}),Le(e=>!0===e))}class sM{constructor(e){this.segmentGroup=e||null}}class aM extends Error{constructor(e){super(),this.urlTree=e}}function Kd(n){return Ld(new sM(n))}class Jme{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return we(i);if(r.numberOfChildren>1||!r.children[Xe])return Ld(new z(4e3,!1));r=r.children[Xe]}}applyRedirectCommands(e,t,i){const r=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i);if(t.startsWith("/"))throw new aM(r);return r}applyRedirectCreateUrlTree(e,t,i,r){const o=this.createSegmentGroup(e,t.root,i,r);return new Ud(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return Object.entries(e).forEach(([r,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);i[r]=t[a]}else i[r]=o}),i}createSegmentGroup(e,t,i,r){const o=this.createSegments(e,t.segments,i,r);let s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,i,r)}),new $t(o,s)}createSegments(e,t,i,r){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new z(4001,!1);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}const cM={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function e_e(n,e,t,i,r){const o=lM(n,e,t);return o.matched?(i=function Eme(n,e){return n.providers&&!n._injector&&(n._injector=oy(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,i),function Yme(n,e,t,i){const r=e.canMatch;return r&&0!==r.length?we(r.map(s=>{const a=qd(s,n);return ac(function Ume(n){return n&&tg(n.canMatch)}(a)?a.canMatch(e,t):al(n,()=>a(e,t)))})).pipe(Wd(),C9()):we(!0)}(i,e,t).pipe(Le(s=>!0===s?o:{...cM}))):we(o)}function lM(n,e,t){if("**"===e.path)return function t_e(n){return{matched:!0,parameters:n.length>0?Hj(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}(t);if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...cM}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||Rge)(t,n,e);if(!r)return{...cM};const o={};Object.entries(r.posParams??{}).forEach(([a,c])=>{o[a]=c.path});const s=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function E9(n,e,t,i){return t.length>0&&function r_e(n,e,t){return t.some(i=>Ev(n,e,i)&&vs(i)!==Xe)}(n,t,i)?{segmentGroup:new $t(e,i_e(i,new $t(t,n.children))),slicedSegments:[]}:0===t.length&&function o_e(n,e,t){return t.some(i=>Ev(n,e,i))}(n,t,i)?{segmentGroup:new $t(n.segments,n_e(n,t,i,n.children)),slicedSegments:t}:{segmentGroup:new $t(n.segments,n.children),slicedSegments:t}}function n_e(n,e,t,i){const r={};for(const o of t)if(Ev(n,e,o)&&!i[vs(o)]){const s=new $t([],{});r[vs(o)]=s}return{...i,...r}}function i_e(n,e){const t={};t[Xe]=e;for(const i of n)if(""===i.path&&vs(i)!==Xe){const r=new $t([],{});t[vs(i)]=r}return t}function Ev(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class c_e{}class d_e{constructor(e,t,i,r,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Jme(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new z(4002,`'${e.segmentGroup}'`)}recognize(){const e=E9(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Le(t=>{const i=new tM([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Xe,this.rootComponentType,null,{}),r=new jo(i,t),o=new h9("",r),s=function eme(n,e,t=null,i=null){return t9(e9(n),e,t,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,Xe).pipe(xl(i=>{if(i instanceof aM)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof sM?this.noMatchError(i):i}))}inheritParamsAndData(e,t){const i=e.value,r=eM(i,t,this.paramsInheritanceStrategy);i.params=Object.freeze(r.params),i.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o,i))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r,!0).pipe(Le(o=>o instanceof jo?[o]:[]))}processChildren(e,t,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return _i(r).pipe(Vd(o=>{const s=i.children[o],a=function Dme(n,e){const t=n.filter(i=>vs(i)===e);return t.push(...n.filter(i=>vs(i)!==e)),t}(t,o);return this.processSegmentGroup(e,a,s,o)}),function kge(n,e){return Mn(function Age(n,e,t,i,r){return(o,s)=>{let a=t,c=e,l=0;o.subscribe(_n(s,u=>{const d=l++;c=a?n(c,u,d):(a=!0,u),i&&s.next(c)},r&&(()=>{a&&s.next(c),s.complete()})))}}(n,e,arguments.length>=2,!0))}((o,s)=>(o.push(...s),o)),lv(null),function Oge(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Bn((r,o)=>n(r,o,i)):Fa,HI(1),t?lv(e):Uj(()=>new cv))}(),xi(o=>{if(null===o)return Kd(i);const s=T9(o);return function h_e(n){n.sort((e,t)=>e.value.outlet===Xe?-1:t.value.outlet===Xe?1:e.value.outlet.localeCompare(t.value.outlet))}(s),we(s)}))}processSegment(e,t,i,r,o,s){return _i(t).pipe(Vd(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,i,r,o,s).pipe(xl(c=>{if(c instanceof sM)return we(null);throw c}))),wl(a=>!!a),xl(a=>{if(x9(a))return function a_e(n,e,t){return 0===e.length&&!n.children[t]}(i,r,o)?we(new c_e):Kd(i);throw a}))}processSegmentAgainstRoute(e,t,i,r,o,s,a){return function s_e(n,e,t,i){return!!(vs(n)===i||i!==Xe&&Ev(e,t,n))&&lM(e,n,t).matched}(i,r,o,s)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,r,i,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,t,i,o,s):Kd(r):Kd(r)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,o,s){const{matched:a,consumedSegments:c,positionalParamSegments:l,remainingSegments:u}=lM(t,r,o);if(!a)return Kd(t);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const d=this.applyRedirects.applyRedirectCommands(c,r.redirectTo,l);return this.applyRedirects.lineralizeSegments(r,d).pipe(xi(h=>this.processSegment(e,i,t,h.concat(u),s,!1)))}matchSegmentAgainstRoute(e,t,i,r,o){const s=e_e(t,i,r,e);return"**"===i.path&&(t.children={}),s.pipe(Vr(a=>a.matched?this.getChildConfig(e=i._injector??e,i,r).pipe(Vr(({routes:c})=>{const l=i._loadedInjector??e,{consumedSegments:u,remainingSegments:d,parameters:h}=a,g=new tM(u,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function p_e(n){return n.data||{}}(i),vs(i),i.component??i._loadedComponent??null,i,function g_e(n){return n.resolve||{}}(i)),{segmentGroup:y,slicedSegments:C}=E9(t,u,d,c);if(0===C.length&&y.hasChildren())return this.processChildren(l,c,y).pipe(Le(S=>null===S?null:new jo(g,S)));if(0===c.length&&0===C.length)return we(new jo(g,[]));const T=vs(i)===o;return this.processSegment(l,c,y,C,T?Xe:o,!0).pipe(Le(S=>new jo(g,S instanceof jo?[S]:[])))})):Kd(t)))}getChildConfig(e,t,i){return t.children?we({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?we({routes:t._loadedRoutes,injector:t._loadedInjector}):function Qme(n,e,t,i){const r=e.canLoad;return void 0===r||0===r.length?we(!0):we(r.map(s=>{const a=qd(s,n);return ac(function Fme(n){return n&&tg(n.canLoad)}(a)?a.canLoad(e,t):al(n,()=>a(e,t)))})).pipe(Wd(),C9())}(e,t,i).pipe(xi(r=>r?this.configLoader.loadChildren(e,t).pipe(Un(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function Zme(n){return Ld(b9(!1,vo.GuardRejected))}())):we({routes:[],injector:e})}}function f_e(n){const e=n.value.routeConfig;return e&&""===e.path}function T9(n){const e=[],t=new Set;for(const i of n){if(!f_e(i)){e.push(i);continue}const r=e.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=T9(i.children);e.push(new jo(i.value,r))}return e.filter(i=>!t.has(i))}function I9(n){const e=n.children.map(t=>I9(t)).flat();return[n,...e]}function uM(n){return Vr(e=>{const t=n(e);return t?_i(t).pipe(Le(()=>e)):we(e)})}let M9=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===Xe);return i}getResolvedTitleForRoute(t){return t.data[$p]}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:()=>J(w_e),providedIn:"root"})}}return n})(),w_e=(()=>{class n extends M9{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}static{this.\u0275fac=function(i){return new(i||n)(H(Bfe))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const Qd=new X("",{providedIn:"root",factory:()=>({})}),Yd=new X("");let dM=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=J(XU)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return we(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=ac(t.loadComponent()).pipe(Le(D9),Un(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),uv(()=>{this.componentLoaders.delete(t)})),r=new zI(i,()=>new vt).pipe(UI());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return we({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=function x_e(n,e,t,i){return ac(n.loadChildren()).pipe(Le(D9),xi(r=>r instanceof lV||Array.isArray(r)?we(r):_i(e.compileModuleAsync(r))),Le(r=>{i&&i(n);let o,s,a=!1;return Array.isArray(r)?(s=r,!0):(o=r.create(t).injector,s=o.get(Yd,[],{optional:!0,self:!0}).flat()),{routes:s.map(oM),injector:o}}))}(i,this.compiler,t,this.onLoadEndListener).pipe(uv(()=>{this.childrenLoaders.delete(i)})),s=new zI(o,()=>new vt).pipe(UI());return this.childrenLoaders.set(i,s),s}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function D9(n){return function C_e(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let hM=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:()=>J(E_e),providedIn:"root"})}}return n})(),E_e=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const S9=new X(""),A9=new X("");function T_e(n,e,t){const i=n.get(A9),r=n.get(ht);return n.get(Me).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,Promise.resolve();let o;const s=new Promise(l=>{o=l}),a=r.startViewTransition(()=>(o(),function I_e(n){return new Promise(e=>{S5(e,{injector:n})})}(n))),{onViewTransitionCreated:c}=i;return c&&al(n,()=>c({transition:a,from:e,to:t})),s})}let Tv=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new vt,this.transitionAbortSubject=new vt,this.configLoader=J(dM),this.environmentInjector=J(Xr),this.urlSerializer=J(zd),this.rootContexts=J(Yp),this.location=J(ii),this.inputBindingEnabled=null!==J(wv,{optional:!0}),this.titleStrategy=J(M9),this.options=J(Qd,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=J(hM),this.createViewTransition=J(S9,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>we(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new hme(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new dme(r))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:i})}setupNavigations(t,i,r){return this.transitions=new fr({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Qp,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Bn(o=>0!==o.id),Le(o=>({...o,extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Vr(o=>{this.currentTransition=o;let s=!1,a=!1;return we(o).pipe(Un(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Vr(c=>{const l=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!l&&"reload"!==(c.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const d="";return this.events.next(new $d(c.id,this.urlSerializer.serialize(c.rawUrl),d,yv.IgnoredSameUrlNavigation)),c.resolve(null),_s}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return we(c).pipe(Vr(d=>{const h=this.transitions?.getValue();return this.events.next(new bv(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions?.getValue()?_s:Promise.resolve(d)}),function m_e(n,e,t,i,r,o){return xi(s=>function l_e(n,e,t,i,r,o,s="emptyOnly"){return new d_e(n,e,t,i,r,s,o).recognize()}(n,e,t,i,s.extractedUrl,r,o).pipe(Le(({state:a,tree:c})=>({...s,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Un(d=>{o.targetSnapshot=d.targetSnapshot,o.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:d.urlAfterRedirects};const h=new a9(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:d,extractedUrl:h,source:g,restoredState:y,extras:C}=c,T=new bv(d,this.urlSerializer.serialize(h),g,y);this.events.next(T);const S=d9(this.rootComponentType).snapshot;return this.currentTransition=o={...c,targetSnapshot:S,urlAfterRedirects:h,extras:{...C,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=h,we(o)}{const d="";return this.events.next(new $d(c.id,this.urlSerializer.serialize(c.extractedUrl),d,yv.IgnoredByUrlHandlingStrategy)),c.resolve(null),_s}}),Un(c=>{const l=new ame(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),Le(c=>(this.currentTransition=o={...c,guards:kme(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},o)),function zme(n,e){return xi(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return 0===s.length&&0===o.length?we({...t,guardsResult:!0}):function jme(n,e,t,i){return _i(n).pipe(xi(r=>function Kme(n,e,t,i,r){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?we(o.map(a=>{const c=Zp(e)??r,l=qd(a,c);return ac(function Bme(n){return n&&tg(n.canDeactivate)}(l)?l.canDeactivate(n,e,t,i):al(c,()=>l(n,e,t,i))).pipe(wl())})).pipe(Wd()):we(!0)}(r.component,r.route,t,e,i)),wl(r=>!0!==r,!0))}(s,i,r,n).pipe(xi(a=>a&&function Nme(n){return"boolean"==typeof n}(a)?function Hme(n,e,t,i){return _i(e).pipe(Vd(r=>Fd(function Gme(n,e){return null!==n&&e&&e(new fme(n)),we(!0)}(r.route.parent,i),function $me(n,e){return null!==n&&e&&e(new gme(n)),we(!0)}(r.route,i),function Wme(n,e,t){const i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function Ome(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(s)).filter(s=>null!==s).map(s=>Hp(()=>we(s.guards.map(c=>{const l=Zp(s.node)??t,u=qd(c,l);return ac(function Vme(n){return n&&tg(n.canActivateChild)}(u)?u.canActivateChild(i,n):al(l,()=>u(i,n))).pipe(wl())})).pipe(Wd())));return we(o).pipe(Wd())}(n,r.path,t),function qme(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return we(!0);const r=i.map(o=>Hp(()=>{const s=Zp(e)??t,a=qd(o,s);return ac(function Lme(n){return n&&tg(n.canActivate)}(a)?a.canActivate(e,n):al(s,()=>a(e,n))).pipe(wl())}));return we(r).pipe(Wd())}(n,r.route,t))),wl(r=>!0!==r,!0))}(i,o,n,e):we(a)),Le(a=>({...t,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),Un(c=>{if(o.guardsResult=c.guardsResult,jd(c.guardsResult))throw _9(0,c.guardsResult);const l=new cme(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),Bn(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",vo.GuardRejected),!1)),uM(c=>{if(c.guards.canActivateChecks.length)return we(c).pipe(Un(l=>{const u=new lme(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),Vr(l=>{let u=!1;return we(l).pipe(function __e(n,e){return xi(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return we(t);const o=new Set(r.map(c=>c.route)),s=new Set;for(const c of o)if(!s.has(c))for(const l of I9(c))s.add(l);let a=0;return _i(s).pipe(Vd(c=>o.has(c)?function b_e(n,e,t,i){const r=n.routeConfig,o=n._resolve;return void 0!==r?.title&&!p9(r)&&(o[$p]=r.title),function y_e(n,e,t,i){const r=$I(n);if(0===r.length)return we({});const o={};return _i(r).pipe(xi(s=>function v_e(n,e,t,i){const r=Zp(e)??i,o=qd(n,r);return ac(o.resolve?o.resolve(e,t):al(r,()=>o(e,t)))}(n[s],e,t,i).pipe(wl(),Un(a=>{o[s]=a}))),HI(1),zj(o),xl(s=>x9(s)?_s:Ld(s)))}(o,n,e,i).pipe(Le(s=>(n._resolvedData=s,n.data=eM(n,n.parent,t).resolve,null)))}(c,i,n,e):(c.data=eM(c,c.parent,n).resolve,we(void 0))),Un(()=>a++),HI(1),xi(c=>a===s.size?we(t):_s))})}(this.paramsInheritanceStrategy,this.environmentInjector),Un({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(l,"",vo.NoDataFromResolver)}}))}),Un(l=>{const u=new ume(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}))}),uM(c=>{const l=u=>{const d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(Un(h=>{u.component=h}),Le(()=>{})));for(const h of u.children)d.push(...l(h));return d};return av(l(c.targetSnapshot.root)).pipe(lv(null),Xn(1))}),uM(()=>this.afterPreactivation()),Vr(()=>{const{currentSnapshot:c,targetSnapshot:l}=o,u=this.createViewTransition?.(this.environmentInjector,c.root,l.root);return u?_i(u).pipe(Le(()=>o)):we(o)}),Le(c=>{const l=function vme(n,e,t){const i=Xp(n,e._root,t?t._root:void 0);return new u9(i,e)}(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o={...c,targetRouterState:l},this.currentNavigation.targetRouterState=l,o}),Un(()=>{this.events.next(new YI)}),((n,e,t,i)=>Le(r=>(new Ame(e,r.targetRouterState,r.currentRouterState,t,i).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Xn(1),Un({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new oa(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),dv(this.transitionAbortSubject.pipe(Un(c=>{throw c}))),uv(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",vo.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),xl(c=>{if(a=!0,y9(c))this.events.next(new Hd(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),function Cme(n){return y9(n)&&jd(n.url)}(c)?this.events.next(new XI(c.url)):o.resolve(!1);else{this.events.next(new vv(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(t.errorHandler(c))}catch(l){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(l)}}return _s}))}))}cancelNavigationTransition(t,i,r){const o=new Hd(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function M_e(n){return n!==Qp}let D_e=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:()=>J(A_e),providedIn:"root"})}}return n})();class S_e{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let A_e=(()=>{class n extends S_e{static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=wi(n)))(r||n)}})()}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),k9=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:()=>J(k_e),providedIn:"root"})}}return n})(),k_e=(()=>{class n extends k9{constructor(){super(...arguments),this.location=J(ii),this.urlSerializer=J(zd),this.options=J(Qd,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=J(hM),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Ud,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=d9(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(i=>{"popstate"===i.type&&t(i.url,i.state)})}handleRouterEvent(t,i){if(t instanceof bv)this.stateMemento=this.createStateMemento();else if(t instanceof $d)this.rawUrlTree=i.initialUrl;else if(t instanceof a9){if("eager"===this.urlUpdateStrategy&&!i.extras.skipLocationChange){const r=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(r,i)}}else t instanceof YI?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):t instanceof Hd&&(t.code===vo.GuardRejected||t.code===vo.NoDataFromResolver)?this.restoreHistory(i):t instanceof vv?this.restoreHistory(i,!0):t instanceof oa&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",s)}else{const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(r,"",o)}}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&0===o&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=wi(n)))(r||n)}})()}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var ng=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(ng||{});function O9(n,e){n.events.pipe(Bn(t=>t instanceof oa||t instanceof Hd||t instanceof vv||t instanceof $d),Le(t=>t instanceof oa||t instanceof $d?ng.COMPLETE:t instanceof Hd&&(t.code===vo.Redirect||t.code===vo.SupersededByNewNavigation)?ng.REDIRECTING:ng.FAILED),Bn(t=>t!==ng.REDIRECTING),Xn(1)).subscribe(()=>{e()})}function O_e(n){throw n}const P_e={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},R_e={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Se=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=J(zU),this.stateManager=J(k9),this.options=J(Qd,{optional:!0})||{},this.pendingTasks=J(fp),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=J(Tv),this.urlSerializer=J(zd),this.location=J(ii),this.urlHandlingStrategy=J(hM),this._events=new vt,this.errorHandler=this.options.errorHandler||O_e,this.navigated=!1,this.routeReuseStrategy=J(D_e),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=J(Yd,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!J(wv,{optional:!0}),this.eventsSubscription=new ui,this.isNgZoneEnabled=J(Me)instanceof Me&&Me.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(i=>{try{const r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(null!==r&&null!==o)if(this.stateManager.handleRouterEvent(i,o),i instanceof Hd&&i.code!==vo.Redirect&&i.code!==vo.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof oa)this.navigated=!0;else if(i instanceof XI){const s=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),a={info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||M_e(r.source)};this.scheduleNavigation(s,Qp,null,a,{resolve:r.resolve,reject:r.reject,promise:r.promise})}(function F_e(n){return!(n instanceof YI||n instanceof XI)})(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Qp,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",i)},0)})}navigateToSyncWithBrowser(t,i,r){const o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){const c={...r};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(o.state=c)}const a=this.parseUrl(t);this.scheduleNavigation(a,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(oM),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){const{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=i,l=c?this.currentUrlTree.fragment:s;let d,u=null;switch(a){case"merge":u={...this.currentUrlTree.queryParams,...o};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}null!==u&&(u=this.removeEmptyProps(u));try{d=e9(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),d=this.currentUrlTree.root}return t9(d,t,u,l??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=jd(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,Qp,null,i)}navigate(t,i={skipLocationChange:!1}){return function N_e(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new z(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,i){let r;if(r=!0===i?{...P_e}:!1===i?{...R_e}:i,jd(t))return Gj(this.currentUrlTree,t,r);const o=this.parseUrl(t);return Gj(this.currentUrlTree,o,r)}removeEmptyProps(t){return Object.entries(t).reduce((i,[r,o])=>(null!=o&&(i[r]=o),i),{})}scheduleNavigation(t,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((d,h)=>{a=d,c=h});const u=this.pendingTasks.add();return O9(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class P9{}let B_e=(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.injector=r,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Bn(t=>t instanceof oa),Vd(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=oy(o.providers,t,`Route: ${o.path}`));const s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return _i(r).pipe(Nd())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):we(null);const o=r.pipe(xi(s=>null===s?we(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));return i.loadComponent&&!i._loadedComponent?_i([o,this.loader.loadComponent(i)]).pipe(Nd()):o})}static{this.\u0275fac=function(i){return new(i||n)(H(Se),H(XU),H(Xr),H(P9),H(dM))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const pM=new X("");let R9=(()=>{class n{constructor(t,i,r,o,s={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof bv?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof oa?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof $d&&t.code===yv.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof c9&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new c9(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(i){JE()}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac})}}return n})();function ws(n,e){return{\u0275kind:n,\u0275providers:e}}function F9(){const n=J(Gt);return e=>{const t=n.get(fs);if(e!==t.components[0])return;const i=n.get(Se),r=n.get(L9);1===n.get(gM)&&i.initialNavigation(),n.get(V9,null,ct.Optional)?.setUpPreloading(),n.get(pM,null,ct.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const L9=new X("",{factory:()=>new vt}),gM=new X("",{providedIn:"root",factory:()=>1}),V9=new X("");function H_e(n){return ws(0,[{provide:V9,useExisting:B_e},{provide:P9,useExisting:n}])}function G_e(n){return ws(9,[{provide:S9,useValue:T_e},{provide:A9,useValue:{skipNextTransition:!!n?.skipInitialTransition,...n}}])}const B9=new X("ROUTER_FORROOT_GUARD"),q_e=[ii,{provide:zd,useClass:GI},Se,Yp,{provide:nt,useFactory:function N9(n){return n.routerState.root},deps:[Se]},dM,[]];let Br=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[q_e,[],{provide:Yd,multi:!0,useValue:t},{provide:B9,useFactory:Y_e,deps:[[Se,new en,new jf]]},{provide:Qd,useValue:i||{}},i?.useHash?{provide:Za,useClass:Rz}:{provide:Za,useClass:Pz},{provide:pM,useFactory:()=>{const n=J(Bhe),e=J(Me),t=J(Qd),i=J(Tv),r=J(zd);return t.scrollOffset&&n.setOffset(t.scrollOffset),new R9(r,i,n,e,t)}},i?.preloadingStrategy?H_e(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?X_e(i):[],i?.bindToComponentInputs?ws(8,[g9,{provide:wv,useExisting:g9}]).\u0275providers:[],i?.enableViewTransitions?G_e().\u0275providers:[],[{provide:U9,useFactory:F9},{provide:ST,multi:!0,useExisting:U9}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Yd,multi:!0,useValue:t}]}}static{this.\u0275fac=function(i){return new(i||n)(H(B9,8))}}static{this.\u0275mod=et({type:n})}static{this.\u0275inj=Je({})}}return n})();function Y_e(n){return"guarded"}function X_e(n){return["disabled"===n.initialNavigation?ws(3,[{provide:Sp,multi:!0,useFactory:()=>{const e=J(Se);return()=>{e.setUpLocationChangeListener()}}},{provide:gM,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?ws(2,[{provide:gM,useValue:0},{provide:Sp,multi:!0,deps:[Gt],useFactory:e=>{const t=e.get(yde,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const r=e.get(Se),o=e.get(L9);O9(r,()=>{i(!0)}),e.get(Tv).afterPreactivation=()=>(i(!0),o.closed?we(void 0):o),r.initialNavigation()}))}}]).\u0275providers:[]]}const U9=new X(""),se=function(n,e){if(!n)throw Xd(e)},Xd=function(n){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+n)},z9=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=63&r|128):55296==(64512&r)&&i+1<n.length&&56320==(64512&n.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&n.charCodeAt(++i)),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=63&r|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=63&r|128)}return e},Iv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const o=n[r],s=r+1<n.length,a=s?n[r+1]:0,c=r+2<n.length,l=c?n[r+2]:0;let h=(15&a)<<2|l>>6,g=63&l;c||(g=64,s||(h=64)),i.push(t[o>>2],t[(3&o)<<4|a>>4],t[h],t[g])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(z9(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,i=0;for(;t<n.length;){const r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=n[t++];e[i++]=String.fromCharCode((31&r)<<6|63&o)}else if(r>239&&r<365){const c=((7&r)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[i++]=String.fromCharCode(55296+(c>>10)),e[i++]=String.fromCharCode(56320+(1023&c))}else{const o=n[t++],s=n[t++];e[i++]=String.fromCharCode((15&r)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const o=t[n.charAt(r++)],a=r<n.length?t[n.charAt(r)]:0;++r;const l=r<n.length?t[n.charAt(r)]:64;++r;const d=r<n.length?t[n.charAt(r)]:64;if(++r,null==o||null==a||null==l||null==d)throw new ebe;i.push(o<<2|a>>4),64!==l&&(i.push(a<<4&240|l>>2),64!==d&&i.push(l<<6&192|d))}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class ebe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const j9=function(n){const e=z9(n);return Iv.encodeByteArray(e,!0)},Mv=function(n){return j9(n).replace(/\./g,"")},Dv=function(n){try{return Iv.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function tbe(n){return H9(void 0,n)}function H9(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===n&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!nbe(t)||(n[t]=H9(n[t],e[t]));return n}function nbe(n){return"__proto__"!==n}const Sv=()=>{try{return function ibe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Dv(n[1]);return e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},$9=n=>{var e,t;return null===(t=null===(e=Sv())||void 0===e?void 0:e.emulatorHosts)||void 0===t?void 0:t[n]},Av=n=>{const e=$9(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),i]:[e.substring(0,t),i]},G9=()=>{var n;return null===(n=Sv())||void 0===n?void 0:n.config},q9=n=>{var e;return null===(e=Sv())||void 0===e?void 0:e[`_${n}`]};class Zd{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,i))}}}function _M(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i=e||"demo-project",r=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Mv(JSON.stringify({alg:"none",type:"JWT"})),Mv(JSON.stringify(s)),""].join(".")}function Zn(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function bM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zn())}function W9(){var n;const e=null===(n=Sv())||void 0===n?void 0:n.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function yM(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}function K9(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function cc(){try{return"object"==typeof indexedDB}catch{return!1}}function ig(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var o;e((null===(o=r.error)||void 0===o?void 0:o.message)||"")}}catch(t){e(t)}})}function vM(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ur extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name="FirebaseError",Object.setPrototypeOf(this,Ur.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xs.prototype.create)}}class xs{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},r=`${this.service}/${e}`,o=this.errors[e],s=o?function ube(n,e){return n.replace(dbe,(t,i)=>{const r=e[i];return null!=r?String(r):`<${i}?>`})}(o,i):"Error";return new Ur(r,`${this.serviceName}: ${s} (${r}).`,i)}}const dbe=/\{\$([^}]+)}/g;function rg(n){return JSON.parse(n)}function zi(n){return JSON.stringify(n)}const kv=function(n){let e={},t={},i={},r="";try{const o=n.split(".");e=rg(Dv(o[0])||""),t=rg(Dv(o[1])||""),r=o[2],i=t.d||{},delete t.d}catch{}return{header:e,claims:t,data:i,signature:r}};function Cs(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function Jd(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function wM(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ov(n,e,t){const i={};for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=e.call(t,n[r],r,n));return i}function Pv(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const r of t){if(!i.includes(r))return!1;const o=n[r],s=e[r];if(Q9(o)&&Q9(s)){if(!Pv(o,s))return!1}else if(o!==s)return!1}for(const r of i)if(!t.includes(r))return!1;return!0}function Q9(n){return null!==n&&"object"==typeof n}function eh(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function og(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,o]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(o)}}),e}function sg(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}class pbe{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const i=this.W_;if("string"==typeof e)for(let d=0;d<16;d++)i[d]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let d=0;d<16;d++)i[d]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let d=16;d<80;d++){const h=i[d-3]^i[d-8]^i[d-14]^i[d-16];i[d]=4294967295&(h<<1|h>>>31)}let l,u,r=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],c=this.chain_[4];for(let d=0;d<80;d++){d<40?d<20?(l=a^o&(s^a),u=1518500249):(l=o^s^a,u=1859775393):d<60?(l=o&s|a&(o|s),u=2400959708):(l=o^s^a,u=3395469782);const h=(r<<5|r>>>27)+l+c+u+i[d]&4294967295;c=a,a=s,s=4294967295&(o<<30|o>>>2),o=r,r=h}this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const i=t-this.blockSize;let r=0;const o=this.buf_;let s=this.inbuf_;for(;r<t;){if(0===s)for(;r<=i;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(o[s]=e.charCodeAt(r),++s,++r,s===this.blockSize){this.compress_(o),s=0;break}}else for(;r<t;)if(o[s]=e[r],++s,++r,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&t,t/=256;this.compress_(this.buf_);let i=0;for(let r=0;r<5;r++)for(let o=24;o>=0;o-=8)e[i]=this.chain_[r]>>o&255,++i;return e}}class mbe{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(void 0===e&&void 0===t&&void 0===i)throw new Error("Missing Observer.");r=function _be(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:i},void 0===r.next&&(r.next=xM),void 0===r.error&&(r.error=xM),void 0===r.complete&&(r.complete=xM);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function xM(){}const Rv=function(n){let e=0;for(let t=0;t<n.length;t++){const i=n.charCodeAt(t);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,t++):e+=3}return e},ybe=1e3,vbe=2,wbe=144e5,xbe=.5;function CM(n,e=ybe,t=vbe){const i=e*Math.pow(t,n),r=Math.round(xbe*i*(Math.random()-.5)*2);return Math.min(wbe,i+r)}function kt(n){return n&&n._delegate?n._delegate:n}class bi{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Tl="[DEFAULT]";class Ebe{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new Zd;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e?.identifier),r=null!==(t=e?.optional)&&void 0!==t&&t;if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function Ibe(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Tl})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(e=Tl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return _(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Tl){return this.instances.has(e)}getOptions(e=Tl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[o,s]of this.instancesDeferred.entries())i===this.normalizeInstanceIdentifier(o)&&s.resolve(r);return r}onInit(e,t){var i;const r=this.normalizeInstanceIdentifier(t),o=null!==(i=this.onInitCallbacks.get(r))&&void 0!==i?i:new Set;o.add(e),this.onInitCallbacks.set(r,o);const s=this.instances.get(r);return s&&e(s,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const r of i)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===Tl?void 0:n),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}var n;return i||null}normalizeInstanceIdentifier(e=Tl){return this.component?this.component.multipleInstances?e:Tl:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Mbe{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Ebe(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const EM=[];var mt=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(mt||{});const Y9={debug:mt.DEBUG,verbose:mt.VERBOSE,info:mt.INFO,warn:mt.WARN,error:mt.ERROR,silent:mt.SILENT},Dbe=mt.INFO,Sbe={[mt.DEBUG]:"log",[mt.VERBOSE]:"log",[mt.INFO]:"info",[mt.WARN]:"warn",[mt.ERROR]:"error"},Abe=(n,e,...t)=>{if(e<n.logLevel)return;const i=(new Date).toISOString(),r=Sbe[e];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[r](`[${i}]  ${n.name}:`,...t)};class Il{constructor(e){this.name=e,this._logLevel=Dbe,this._logHandler=Abe,this._userLogHandler=null,EM.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in mt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?Y9[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,mt.DEBUG,...e),this._logHandler(this,mt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,mt.VERBOSE,...e),this._logHandler(this,mt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,mt.INFO,...e),this._logHandler(this,mt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,mt.WARN,...e),this._logHandler(this,mt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,mt.ERROR,...e),this._logHandler(this,mt.ERROR,...e)}}const kbe=(n,e)=>e.some(t=>n instanceof t);let X9,Z9;const J9=new WeakMap,TM=new WeakMap,e7=new WeakMap,IM=new WeakMap,MM=new WeakMap;let DM={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return TM.get(n);if("objectStoreNames"===e)return n.objectStoreNames||e7.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return lc(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function Vbe(n){return"function"==typeof n?function Lbe(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Pbe(){return Z9||(Z9=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(SM(this),e),lc(J9.get(this))}:function(...e){return lc(n.apply(SM(this),e))}:function(e,...t){const i=n.call(SM(this),e,...t);return e7.set(i,e.sort?e.sort():[e]),lc(i)}}(n):(n instanceof IDBTransaction&&function Nbe(n){if(TM.has(n))return;const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),r()},s=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});TM.set(n,e)}(n),kbe(n,function Obe(){return X9||(X9=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,DM):n)}function lc(n){if(n instanceof IDBRequest)return function Rbe(n){const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(lc(n.result)),r()},s=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&J9.set(t,n)}).catch(()=>{}),MM.set(e,n),e}(n);if(IM.has(n))return IM.get(n);const e=Vbe(n);return e!==n&&(IM.set(n,e),MM.set(e,n)),e}const SM=n=>MM.get(n),Ube=["get","getKey","getAll","getAllKeys","count"],zbe=["put","add","delete","clear"],AM=new Map;function t7(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(AM.get(e))return AM.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,r=zbe.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!Ube.includes(t))return;const o=function(){var s=_(function*(a,...c){const l=this.transaction(a,r?"readwrite":"readonly");let u=l.store;return i&&(u=u.index(c.shift())),(yield Promise.all([u[t](...c),r&&l.done]))[0]});return function(c){return s.apply(this,arguments)}}();return AM.set(e,o),o}!function Fbe(n){DM=n(DM)}(n=>({...n,get:(e,t,i)=>t7(e,t)||n.get(e,t,i),has:(e,t)=>!!t7(e,t)||n.has(e,t)}));class jbe{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function Hbe(n){const e=n.getComponent();return"VERSION"===e?.type}(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}return null}).filter(t=>t).join(" ")}}const kM="@firebase/app",Ml=new Il("@firebase/app"),Nv="[DEFAULT]",gye={[kM]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Dl=new Map,Fv=new Map;function mye(n,e){try{n.container.addComponent(e)}catch(t){Ml.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ci(n){const e=n.name;if(Fv.has(e))return Ml.debug(`There were multiple attempts to register component ${e}.`),!1;Fv.set(e,n);for(const t of Dl.values())mye(t,n);return!0}function aa(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}const ca=new xs("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class bye{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new bi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ca.create("app-deleted",{appName:this._name})}}const la="9.23.0";function i7(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const i=Object.assign({name:Nv,automaticDataCollectionEnabled:!1},e),r=i.name;if("string"!=typeof r||!r)throw ca.create("bad-app-name",{appName:String(r)});if(t||(t=G9()),!t)throw ca.create("no-options");const o=Dl.get(r);if(o){if(Pv(t,o.options)&&Pv(i,o.config))return o;throw ca.create("duplicate-app",{appName:r})}const s=new Mbe(r);for(const c of Fv.values())s.addComponent(c);const a=new bye(t,i,s);return Dl.set(r,a),a}function th(n=Nv){const e=Dl.get(n);if(!e&&n===Nv&&G9())return i7();if(!e)throw ca.create("no-app",{appName:n});return e}function r7(){return Array.from(Dl.values())}function Pt(n,e,t){var i;let r=null!==(i=gye[n])&&void 0!==i?i:n;t&&(r+=`-${t}`);const o=r.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${r}" with version "${e}":`];return o&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Ml.warn(a.join(" "))}Ci(new bi(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const yye="firebase-heartbeat-database",vye=1,cg="firebase-heartbeat-store";let PM=null;function o7(){return PM||(PM=function Bbe(n,e,{blocked:t,upgrade:i,blocking:r,terminated:o}={}){const s=indexedDB.open(n,e),a=lc(s);return i&&s.addEventListener("upgradeneeded",c=>{i(lc(s.result),c.oldVersion,c.newVersion,lc(s.transaction),c)}),t&&s.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),r&&c.addEventListener("versionchange",l=>r(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}(yye,vye,{upgrade:(n,e)=>{0===e&&n.createObjectStore(cg)}}).catch(n=>{throw ca.create("idb-open",{originalErrorMessage:n.message})})),PM}function RM(){return(RM=_(function*(n){try{return yield(yield o7()).transaction(cg).objectStore(cg).get(a7(n))}catch(e){if(e instanceof Ur)Ml.warn(e.message);else{const t=ca.create("idb-get",{originalErrorMessage:e?.message});Ml.warn(t.message)}}})).apply(this,arguments)}function s7(n,e){return NM.apply(this,arguments)}function NM(){return(NM=_(function*(n,e){try{const i=(yield o7()).transaction(cg,"readwrite");yield i.objectStore(cg).put(e,a7(n)),yield i.done}catch(t){if(t instanceof Ur)Ml.warn(t.message);else{const i=ca.create("idb-set",{originalErrorMessage:t?.message});Ml.warn(i.message)}}})).apply(this,arguments)}function a7(n){return`${n.name}!${n.options.appId}`}class Eye{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Iye(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){var e=this;return _(function*(){const i=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=c7();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==r&&!e._heartbeatsCache.heartbeats.some(o=>o.date===r))return e._heartbeatsCache.heartbeats.push({date:r,agent:i}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(o=>{const s=new Date(o.date).valueOf();return Date.now()-s<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return _(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const t=c7(),{heartbeatsToSend:i,unsentEntries:r}=function Tye(n,e=1024){const t=[];let i=n.slice();for(const r of n){const o=t.find(s=>s.agent===r.agent);if(o){if(o.dates.push(r.date),l7(t)>e){o.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),l7(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}(e._heartbeatsCache.heartbeats),o=Mv(JSON.stringify({version:2,heartbeats:i}));return e._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(e._heartbeatsCache.heartbeats=r,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),o})()}}function c7(){return(new Date).toISOString().substring(0,10)}class Iye{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(function*(){return!!cc()&&ig().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return _(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function wye(n){return RM.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var t=this;return _(function*(){var i;if(yield t._canUseIndexedDBPromise){const o=yield t.read();return s7(t.app,{lastSentHeartbeatDate:null!==(i=e.lastSentHeartbeatDate)&&void 0!==i?i:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return _(function*(){var i;if(yield t._canUseIndexedDBPromise){const o=yield t.read();return s7(t.app,{lastSentHeartbeatDate:null!==(i=e.lastSentHeartbeatDate)&&void 0!==i?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}})()}}function l7(n){return Mv(JSON.stringify({version:2,heartbeats:n})).length}!function Mye(n){Ci(new bi("platform-logger",e=>new jbe(e),"PRIVATE")),Ci(new bi("heartbeat",e=>new Eye(e),"PRIVATE")),Pt(kM,"0.9.13",n),Pt(kM,"0.9.13","esm2017"),Pt("fire-js","")}(""),Pt("firebase","9.23.0","app");const Aye=(n,e)=>e.some(t=>n instanceof t);let u7,d7;const h7=new WeakMap,FM=new WeakMap,f7=new WeakMap,LM=new WeakMap,VM=new WeakMap;let BM={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return FM.get(n);if("objectStoreNames"===e)return n.objectStoreNames||f7.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return uc(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function Lye(n){return"function"==typeof n?function Fye(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Oye(){return d7||(d7=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(UM(this),e),uc(h7.get(this))}:function(...e){return uc(n.apply(UM(this),e))}:function(e,...t){const i=n.call(UM(this),e,...t);return f7.set(i,e.sort?e.sort():[e]),uc(i)}}(n):(n instanceof IDBTransaction&&function Rye(n){if(FM.has(n))return;const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),r()},s=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});FM.set(n,e)}(n),Aye(n,function kye(){return u7||(u7=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,BM):n)}function uc(n){if(n instanceof IDBRequest)return function Pye(n){const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(uc(n.result)),r()},s=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&h7.set(t,n)}).catch(()=>{}),VM.set(e,n),e}(n);if(LM.has(n))return LM.get(n);const e=Lye(n);return e!==n&&(LM.set(n,e),VM.set(e,n)),e}const UM=n=>VM.get(n),Bye=["get","getKey","getAll","getAllKeys","count"],Uye=["put","add","delete","clear"],zM=new Map;function p7(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(zM.get(e))return zM.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,r=Uye.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!Bye.includes(t))return;const o=function(){var s=_(function*(a,...c){const l=this.transaction(a,r?"readwrite":"readonly");let u=l.store;return i&&(u=u.index(c.shift())),(yield Promise.all([u[t](...c),r&&l.done]))[0]});return function(c){return s.apply(this,arguments)}}();return zM.set(e,o),o}!function Nye(n){BM=n(BM)}(n=>({...n,get:(e,t,i)=>p7(e,t)||n.get(e,t,i),has:(e,t)=>!!p7(e,t)||n.has(e,t)}));const g7="@firebase/installations",jM="0.6.4",m7=1e4,_7=`w:${jM}`,b7="FIS_v2",zye="https://firebaseinstallations.googleapis.com/v1",jye=36e5,ua=new xs("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function y7(n){return n instanceof Ur&&n.code.includes("request-failed")}function HM({projectId:n}){return`${zye}/projects/${n}/installations`}function v7(n){return{token:n.token,requestStatus:2,expiresIn:qye(n.expiresIn),creationTime:Date.now()}}function $M(n,e){return GM.apply(this,arguments)}function GM(){return(GM=_(function*(n,e){const i=(yield e.json()).error;return ua.create("request-failed",{requestName:n,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})})).apply(this,arguments)}function w7({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function qM(n){return WM.apply(this,arguments)}function WM(){return(WM=_(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function qye(n){return Number(n.replace("s","000"))}function KM(){return(KM=_(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const i=HM(n),r=w7(n),o=e.getImmediate({optional:!0});if(o){const l=yield o.getHeartbeatsHeader();l&&r.append("x-firebase-client",l)}const a={method:"POST",headers:r,body:JSON.stringify({fid:t,authVersion:b7,appId:n.appId,sdkVersion:_7})},c=yield qM(()=>fetch(i,a));if(c.ok){const l=yield c.json();return{fid:l.fid||t,registrationStatus:2,refreshToken:l.refreshToken,authToken:v7(l.authToken)}}throw yield $M("Create Installation",c)})).apply(this,arguments)}function C7(n){return new Promise(e=>{setTimeout(e,n)})}const Yye=/^[cdef][\w-]{21}$/,QM="";function Xye(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function Zye(n){return function Qye(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return Yye.test(t)?t:QM}catch{return QM}}function nh(n){return`${n.appName}!${n.appId}`}const ih=new Map;function E7(n,e){const t=nh(n);T7(t,e),function tve(n,e){const t=function I7(){return!Sl&&"BroadcastChannel"in self&&(Sl=new BroadcastChannel("[Firebase] FID Change"),Sl.onmessage=n=>{T7(n.data.key,n.data.fid)}),Sl}();t&&t.postMessage({key:n,fid:e}),function M7(){0===ih.size&&Sl&&(Sl.close(),Sl=null)}()}(t,e)}function T7(n,e){const t=ih.get(n);if(t)for(const i of t)i(e)}let Sl=null;const nve="firebase-installations-database",ive=1,Al="firebase-installations-store";let YM=null;function XM(){return YM||(YM=function Vye(n,e,{blocked:t,upgrade:i,blocking:r,terminated:o}={}){const s=indexedDB.open(n,e),a=uc(s);return i&&s.addEventListener("upgradeneeded",c=>{i(uc(s.result),c.oldVersion,c.newVersion,uc(s.transaction))}),t&&s.addEventListener("blocked",()=>t()),a.then(c=>{o&&c.addEventListener("close",()=>o()),r&&c.addEventListener("versionchange",()=>r())}).catch(()=>{}),a}(nve,ive,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Al)}})),YM}function Lv(n,e){return ZM.apply(this,arguments)}function ZM(){return(ZM=_(function*(n,e){const t=nh(n),r=(yield XM()).transaction(Al,"readwrite"),o=r.objectStore(Al),s=yield o.get(t);return yield o.put(e,t),yield r.done,(!s||s.fid!==e.fid)&&E7(n,e.fid),e})).apply(this,arguments)}function JM(n){return eD.apply(this,arguments)}function eD(){return(eD=_(function*(n){const e=nh(n),i=(yield XM()).transaction(Al,"readwrite");yield i.objectStore(Al).delete(e),yield i.done})).apply(this,arguments)}function lg(n,e){return tD.apply(this,arguments)}function tD(){return(tD=_(function*(n,e){const t=nh(n),r=(yield XM()).transaction(Al,"readwrite"),o=r.objectStore(Al),s=yield o.get(t),a=e(s);return void 0===a?yield o.delete(t):yield o.put(a,t),yield r.done,a&&(!s||s.fid!==a.fid)&&E7(n,a.fid),a})).apply(this,arguments)}function nD(n){return iD.apply(this,arguments)}function iD(){return iD=_(function*(n){let e;const t=yield lg(n.appConfig,i=>{const r=function rve(n){return S7(n||{fid:Xye(),registrationStatus:0})}(i),o=function ove(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(ua.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=function sve(n,e){return rD.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:i}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:ave(n)}:{installationEntry:e}}(n,r);return e=o.registrationPromise,o.installationEntry});return t.fid===QM?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}}),iD.apply(this,arguments)}function rD(){return rD=_(function*(n,e){try{const t=yield function Kye(n,e){return KM.apply(this,arguments)}(n,e);return Lv(n.appConfig,t)}catch(t){throw y7(t)&&409===t.customData.serverCode?yield JM(n.appConfig):yield Lv(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}),rD.apply(this,arguments)}function ave(n){return oD.apply(this,arguments)}function oD(){return(oD=_(function*(n){let e=yield D7(n.appConfig);for(;1===e.registrationStatus;)yield C7(100),e=yield D7(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:i}=yield nD(n);return i||t}return e})).apply(this,arguments)}function D7(n){return lg(n,e=>{if(!e)throw ua.create("installation-not-found");return S7(e)})}function S7(n){return function cve(n){return 1===n.registrationStatus&&n.registrationTime+m7<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function sD(){return(sD=_(function*({appConfig:n,heartbeatServiceProvider:e},t){const i=function uve(n,{fid:e}){return`${HM(n)}/${e}/authTokens:generate`}(n,t),r=function x7(n,{refreshToken:e}){const t=w7(n);return t.append("Authorization",function Wye(n){return`${b7} ${n}`}(e)),t}(n,t),o=e.getImmediate({optional:!0});if(o){const l=yield o.getHeartbeatsHeader();l&&r.append("x-firebase-client",l)}const a={method:"POST",headers:r,body:JSON.stringify({installation:{sdkVersion:_7,appId:n.appId}})},c=yield qM(()=>fetch(i,a));if(c.ok)return v7(yield c.json());throw yield $M("Generate Auth Token",c)})).apply(this,arguments)}function aD(n){return cD.apply(this,arguments)}function cD(){return cD=_(function*(n,e=!1){let t;const i=yield lg(n.appConfig,o=>{if(!k7(o))throw ua.create("not-registered");const s=o.authToken;if(!e&&function fve(n){return 2===n.requestStatus&&!function pve(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+jye}(n)}(s))return o;if(1===s.requestStatus)return t=function dve(n,e){return lD.apply(this,arguments)}(n,e),o;{if(!navigator.onLine)throw ua.create("app-offline");const a=function gve(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}(o);return t=function hve(n,e){return uD.apply(this,arguments)}(n,a),a}});return t?yield t:i.authToken}),cD.apply(this,arguments)}function lD(){return(lD=_(function*(n,e){let t=yield A7(n.appConfig);for(;1===t.authToken.requestStatus;)yield C7(100),t=yield A7(n.appConfig);const i=t.authToken;return 0===i.requestStatus?aD(n,e):i})).apply(this,arguments)}function A7(n){return lg(n,e=>{if(!k7(e))throw ua.create("not-registered");return function mve(n){return 1===n.requestStatus&&n.requestTime+m7<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function uD(){return uD=_(function*(n,e){try{const t=yield function lve(n,e){return sD.apply(this,arguments)}(n,e),i=Object.assign(Object.assign({},e),{authToken:t});return yield Lv(n.appConfig,i),t}catch(t){if(!y7(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Lv(n.appConfig,i)}else yield JM(n.appConfig);throw t}}),uD.apply(this,arguments)}function k7(n){return void 0!==n&&2===n.registrationStatus}function dD(){return(dD=_(function*(n){const e=n,{installationEntry:t,registrationPromise:i}=yield nD(e);return i?i.catch(console.error):aD(e).catch(console.error),t.fid})).apply(this,arguments)}function hD(){return hD=_(function*(n,e=!1){const t=n;return yield function yve(n){return fD.apply(this,arguments)}(t),(yield aD(t,e)).token}),hD.apply(this,arguments)}function fD(){return(fD=_(function*(n){const{registrationPromise:e}=yield nD(n);e&&(yield e)})).apply(this,arguments)}function mD(n){return ua.create("missing-app-config-values",{valueName:n})}const O7="installations",Eve=n=>{const e=n.getProvider("app").getImmediate(),t=function xve(n){if(!n||!n.options)throw mD("App Configuration");if(!n.name)throw mD("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw mD(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:aa(e,"heartbeat"),_delete:()=>Promise.resolve()}},Tve=n=>{const t=aa(n.getProvider("app").getImmediate(),O7).getImmediate();return{getId:()=>function _ve(n){return dD.apply(this,arguments)}(t),getToken:r=>function bve(n){return hD.apply(this,arguments)}(t,r)}};(function Ive(){Ci(new bi(O7,Eve,"PUBLIC")),Ci(new bi("installations-internal",Tve,"PRIVATE"))})(),Pt(g7,jM),Pt(g7,jM,"esm2017");const _D="@firebase/remote-config",zr=new xs("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Lve{constructor(e,t,i,r){this.client=e,this.storage=t,this.storageCache=i,this.logger=r}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const i=Date.now()-t,r=i<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${i}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${r}.`),r}fetch(e){var t=this;return _(function*(){const[i,r]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(r&&t.isCachedDataFresh(e.cacheMaxAgeMillis,i))return r;e.eTag=r&&r.eTag;const o=yield t.client.fetch(e),s=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===o.status&&s.push(t.storage.setLastSuccessfulFetchResponse(o)),yield Promise.all(s),o})()}}function Vve(n=navigator){return n.languages&&n.languages[0]||n.language}class Bve{constructor(e,t,i,r,o,s){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=i,this.projectId=r,this.apiKey=o,this.appId=s}fetch(e){var t=this;return _(function*(){const[i,r]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),s=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},c={sdk_version:t.sdkVersion,app_instance_id:i,app_instance_id_token:r,app_id:t.appId,language_code:Vve()},l={method:"POST",headers:a,body:JSON.stringify(c)},u=fetch(s,l),d=new Promise((S,D)=>{e.signal.addEventListener(()=>{const N=new Error("The operation was aborted.");N.name="AbortError",D(N)})});let h;try{yield Promise.race([u,d]),h=yield u}catch(S){let D="fetch-client-network";throw"AbortError"===S?.name&&(D="fetch-timeout"),zr.create(D,{originalErrorMessage:S?.message})}let g=h.status;const y=h.headers.get("ETag")||void 0;let C,T;if(200===h.status){let S;try{S=yield h.json()}catch(D){throw zr.create("fetch-client-parse",{originalErrorMessage:D?.message})}C=S.entries,T=S.state}if("INSTANCE_STATE_UNSPECIFIED"===T?g=500:"NO_CHANGE"===T?g=304:("NO_TEMPLATE"===T||"EMPTY_CONFIG"===T)&&(C={}),304!==g&&200!==g)throw zr.create("fetch-status",{httpStatus:g});return{status:g,eTag:y,config:C}})()}}class jve{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return _(function*(){const i=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,i)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:i}){var r=this;return _(function*(){yield function Uve(n,e){return new Promise((t,i)=>{const r=Math.max(e-Date.now(),0),o=setTimeout(t,r);n.addEventListener(()=>{clearTimeout(o),i(zr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const o=yield r.client.fetch(e);return yield r.storage.deleteThrottleMetadata(),o}catch(o){if(!function zve(n){if(!(n instanceof Ur&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(o))throw o;const s={throttleEndTimeMillis:Date.now()+CM(i),backoffCount:i+1};return yield r.storage.setThrottleMetadata(s),r.attemptFetch(e,s)}})()}}class Gve{constructor(e,t,i,r,o){this.app=e,this._client=t,this._storageCache=i,this._storage=r,this._logger=o,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Bv(n,e){const t=n.target.error||void 0;return zr.create(e,{originalErrorMessage:t&&t?.message})}const kl="app_namespace_store";class Qve{constructor(e,t,i,r=function Kve(){return new Promise((n,e)=>{try{const t=indexedDB.open("firebase_remote_config",1);t.onerror=i=>{e(Bv(i,"storage-open"))},t.onsuccess=i=>{n(i.target.result)},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(kl,{keyPath:"compositeKey"})}}catch(t){e(zr.create("storage-open",{originalErrorMessage:t?.message}))}})}()){this.appId=e,this.appName=t,this.namespace=i,this.openDbPromise=r}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return _(function*(){const i=yield t.openDbPromise;return new Promise((r,o)=>{const a=i.transaction([kl],"readonly").objectStore(kl),c=t.createCompositeKey(e);try{const l=a.get(c);l.onerror=u=>{o(Bv(u,"storage-get"))},l.onsuccess=u=>{const d=u.target.result;r(d?d.value:void 0)}}catch(l){o(zr.create("storage-get",{originalErrorMessage:l?.message}))}})})()}set(e,t){var i=this;return _(function*(){const r=yield i.openDbPromise;return new Promise((o,s)=>{const c=r.transaction([kl],"readwrite").objectStore(kl),l=i.createCompositeKey(e);try{const u=c.put({compositeKey:l,value:t});u.onerror=d=>{s(Bv(d,"storage-set"))},u.onsuccess=()=>{o()}}catch(u){s(zr.create("storage-set",{originalErrorMessage:u?.message}))}})})()}delete(e){var t=this;return _(function*(){const i=yield t.openDbPromise;return new Promise((r,o)=>{const a=i.transaction([kl],"readwrite").objectStore(kl),c=t.createCompositeKey(e);try{const l=a.delete(c);l.onerror=u=>{o(Bv(u,"storage-delete"))},l.onsuccess=()=>{r()}}catch(l){o(zr.create("storage-delete",{originalErrorMessage:l?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class Yve{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return _(function*(){const t=e.storage.getLastFetchStatus(),i=e.storage.getLastSuccessfulFetchTimestampMillis(),r=e.storage.getActiveConfig(),o=yield t;o&&(e.lastFetchStatus=o);const s=yield i;s&&(e.lastSuccessfulFetchTimestampMillis=s);const a=yield r;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function Zve(){return xD.apply(this,arguments)}function xD(){return(xD=_(function*(){if(!cc())return!1;try{return yield ig()}catch{return!1}})).apply(this,arguments)}!function Xve(){Ci(new bi("remote-config",function n(e,{instanceIdentifier:t}){const i=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw zr.create("registration-window");if(!cc())throw zr.create("indexed-db-unavailable");const{projectId:o,apiKey:s,appId:a}=i.options;if(!o)throw zr.create("registration-project-id");if(!s)throw zr.create("registration-api-key");if(!a)throw zr.create("registration-app-id");const c=new Qve(a,i.name,t=t||"firebase"),l=new Yve(c),u=new Il(_D);u.logLevel=mt.ERROR;const d=new Bve(r,la,t,o,s,a),h=new jve(d,c),g=new Lve(h,c,l,u),y=new Gve(i,g,l,c,u);return function Rve(n){const e=kt(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(y),y},"PUBLIC").setMultipleInstances(!0)),Pt(_D,"0.4.4"),Pt(_D,"0.4.4","esm2017")}();const Jve=(n,e)=>e.some(t=>n instanceof t);let F7,L7;const V7=new WeakMap,CD=new WeakMap,B7=new WeakMap,ED=new WeakMap,TD=new WeakMap;let ID={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return CD.get(n);if("objectStoreNames"===e)return n.objectStoreNames||B7.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return da(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function s0e(n){return"function"==typeof n?function o0e(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function t0e(){return L7||(L7=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(MD(this),e),da(V7.get(this))}:function(...e){return da(n.apply(MD(this),e))}:function(e,...t){const i=n.call(MD(this),e,...t);return B7.set(i,e.sort?e.sort():[e]),da(i)}}(n):(n instanceof IDBTransaction&&function i0e(n){if(CD.has(n))return;const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),r()},s=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});CD.set(n,e)}(n),Jve(n,function e0e(){return F7||(F7=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,ID):n)}function da(n){if(n instanceof IDBRequest)return function n0e(n){const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(da(n.result)),r()},s=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&V7.set(t,n)}).catch(()=>{}),TD.set(e,n),e}(n);if(ED.has(n))return ED.get(n);const e=s0e(n);return e!==n&&(ED.set(n,e),TD.set(e,n)),e}const MD=n=>TD.get(n);function U7(n,e,{blocked:t,upgrade:i,blocking:r,terminated:o}={}){const s=indexedDB.open(n,e),a=da(s);return i&&s.addEventListener("upgradeneeded",c=>{i(da(s.result),c.oldVersion,c.newVersion,da(s.transaction))}),t&&s.addEventListener("blocked",()=>t()),a.then(c=>{o&&c.addEventListener("close",()=>o()),r&&c.addEventListener("versionchange",()=>r())}).catch(()=>{}),a}function DD(n,{blocked:e}={}){const t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",()=>e()),da(t).then(()=>{})}const a0e=["get","getKey","getAll","getAllKeys","count"],c0e=["put","add","delete","clear"],SD=new Map;function z7(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(SD.get(e))return SD.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,r=c0e.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!a0e.includes(t))return;const o=function(){var s=_(function*(a,...c){const l=this.transaction(a,r?"readwrite":"readonly");let u=l.store;return i&&(u=u.index(c.shift())),(yield Promise.all([u[t](...c),r&&l.done]))[0]});return function(c){return s.apply(this,arguments)}}();return SD.set(e,o),o}!function r0e(n){ID=n(ID)}(n=>({...n,get:(e,t,i)=>z7(e,t)||n.get(e,t,i),has:(e,t)=>!!z7(e,t)||n.has(e,t)}));const l0e="/firebase-messaging-sw.js",u0e="/firebase-cloud-messaging-push-scope",j7="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",d0e="https://fcmregistrations.googleapis.com/v1",H7="google.c.a.c_id",h0e="google.c.a.c_l",f0e="google.c.a.ts";var Uv=function(n){return n.PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",n}(Uv||{});function ha(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function m0e(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),i=atob(t),r=new Uint8Array(i.length);for(let o=0;o<i.length;++o)r[o]=i.charCodeAt(o);return r}const AD="fcm_token_details_db",_0e=5,$7="fcm_token_object_Store";function kD(){return kD=_(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(o=>o.name).includes(AD))return null;let e=null;return(yield U7(AD,_0e,{upgrade:(i=_(function*(r,o,s,a){var c;if(o<2||!r.objectStoreNames.contains($7))return;const l=a.objectStore($7),u=yield l.index("fcmSenderId").get(n);if(yield l.clear(),u)if(2===o){const d=u;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(c=d.createTime)&&void 0!==c?c:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:ha(d.vapidKey)}}}else if(3===o){const d=u;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:ha(d.auth),p256dh:ha(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:ha(d.vapidKey)}}}else if(4===o){const d=u;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:ha(d.auth),p256dh:ha(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:ha(d.vapidKey)}}}}),function(o,s,a,c){return i.apply(this,arguments)})})).close(),yield DD(AD),yield DD("fcm_vapid_details_db"),yield DD("undefined"),function y0e(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var i}),kD.apply(this,arguments)}const v0e="firebase-messaging-database",w0e=1,Ol="firebase-messaging-store";let OD=null;function PD(){return OD||(OD=U7(v0e,w0e,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Ol)}})),OD}function G7(n){return RD.apply(this,arguments)}function RD(){return RD=_(function*(n){const e=VD(n),i=yield(yield PD()).transaction(Ol).objectStore(Ol).get(e);if(i)return i;{const r=yield function b0e(n){return kD.apply(this,arguments)}(n.appConfig.senderId);if(r)return yield ND(n,r),r}}),RD.apply(this,arguments)}function ND(n,e){return FD.apply(this,arguments)}function FD(){return(FD=_(function*(n,e){const t=VD(n),r=(yield PD()).transaction(Ol,"readwrite");return yield r.objectStore(Ol).put(e,t),yield r.done,e})).apply(this,arguments)}function LD(){return(LD=_(function*(n){const e=VD(n),i=(yield PD()).transaction(Ol,"readwrite");yield i.objectStore(Ol).delete(e),yield i.done})).apply(this,arguments)}function VD({appConfig:n}){return n.appId}const ji=new xs("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function E0e(n,e){return BD.apply(this,arguments)}function BD(){return(BD=_(function*(n,e){const t=yield HD(n),i=W7(e),r={method:"POST",headers:t,body:JSON.stringify(i)};let o;try{o=yield(yield fetch(jD(n.appConfig),r)).json()}catch(s){throw ji.create("token-subscribe-failed",{errorInfo:s?.toString()})}if(o.error)throw ji.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw ji.create("token-subscribe-no-token");return o.token})).apply(this,arguments)}function UD(){return(UD=_(function*(n,e){const t=yield HD(n),i=W7(e.subscriptionOptions),r={method:"PATCH",headers:t,body:JSON.stringify(i)};let o;try{o=yield(yield fetch(`${jD(n.appConfig)}/${e.token}`,r)).json()}catch(s){throw ji.create("token-update-failed",{errorInfo:s?.toString()})}if(o.error)throw ji.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw ji.create("token-update-no-token");return o.token})).apply(this,arguments)}function q7(n,e){return zD.apply(this,arguments)}function zD(){return(zD=_(function*(n,e){const i={method:"DELETE",headers:yield HD(n)};try{const o=yield(yield fetch(`${jD(n.appConfig)}/${e}`,i)).json();if(o.error)throw ji.create("token-unsubscribe-failed",{errorInfo:o.error.message})}catch(r){throw ji.create("token-unsubscribe-failed",{errorInfo:r?.toString()})}})).apply(this,arguments)}function jD({projectId:n}){return`${d0e}/projects/${n}/registrations`}function HD(n){return $D.apply(this,arguments)}function $D(){return($D=_(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})).apply(this,arguments)}function W7({p256dh:n,auth:e,endpoint:t,vapidKey:i}){const r={web:{endpoint:t,auth:e,p256dh:n}};return i!==j7&&(r.web.applicationPubKey=i),r}const I0e=6048e5;function GD(){return GD=_(function*(n){const e=yield function S0e(n,e){return QD.apply(this,arguments)}(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:ha(e.getKey("auth")),p256dh:ha(e.getKey("p256dh"))},i=yield G7(n.firebaseDependencies);if(i){if(function A0e(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}(i.subscriptionOptions,t))return Date.now()>=i.createTime+I0e?function D0e(n,e){return WD.apply(this,arguments)}(n,{token:i.token,createTime:Date.now(),subscriptionOptions:t}):i.token;try{yield q7(n.firebaseDependencies,i.token)}catch(r){console.warn(r)}return Q7(n.firebaseDependencies,t)}return Q7(n.firebaseDependencies,t)}),GD.apply(this,arguments)}function qD(){return qD=_(function*(n){const e=yield G7(n.firebaseDependencies);e&&(yield q7(n.firebaseDependencies,e.token),yield function x0e(n){return LD.apply(this,arguments)}(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()}),qD.apply(this,arguments)}function WD(){return WD=_(function*(n,e){try{const t=yield function T0e(n,e){return UD.apply(this,arguments)}(n.firebaseDependencies,e),i=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield ND(n.firebaseDependencies,i),t}catch(t){throw yield function K7(n){return qD.apply(this,arguments)}(n),t}}),WD.apply(this,arguments)}function Q7(n,e){return KD.apply(this,arguments)}function KD(){return(KD=_(function*(n,e){const i={token:yield E0e(n,e),createTime:Date.now(),subscriptionOptions:e};return yield ND(n,i),i.token})).apply(this,arguments)}function QD(){return(QD=_(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:m0e(e)})})).apply(this,arguments)}function Y7(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function k0e(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const i=e.notification.body;i&&(n.notification.body=i);const r=e.notification.image;r&&(n.notification.image=r);const o=e.notification.icon;o&&(n.notification.icon=o)}(e,n),function O0e(n,e){e.data&&(n.data=e.data)}(e,n),function P0e(n,e){var t,i,r,o,s;if(!(e.fcmOptions||null!==(t=e.notification)&&void 0!==t&&t.click_action))return;n.fcmOptions={};const a=null!==(r=null===(i=e.fcmOptions)||void 0===i?void 0:i.link)&&void 0!==r?r:null===(o=e.notification)||void 0===o?void 0:o.click_action;a&&(n.fcmOptions.link=a);const c=null===(s=e.fcmOptions)||void 0===s?void 0:s.analytics_label;c&&(n.fcmOptions.analyticsLabel=c)}(e,n),e}function X7(n,e){const t=[];for(let i=0;i<n.length;i++)t.push(n.charAt(i)),i<e.length&&t.push(e.charAt(i));return t.join("")}function YD(n){return ji.create("missing-app-config-values",{valueName:n})}X7("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),X7("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class F0e{constructor(e,t,i){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const r=function N0e(n){if(!n||!n.options)throw YD("App Configuration Object");if(!n.name)throw YD("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const i of e)if(!t[i])throw YD(i);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:r,installations:t,analyticsProvider:i}}_delete(){return Promise.resolve()}}function XD(){return(XD=_(function*(n){try{n.swRegistration=yield navigator.serviceWorker.register(l0e,{scope:u0e}),n.swRegistration.update().catch(()=>{})}catch(e){throw ji.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function ZD(){return(ZD=_(function*(n,e){if(!e&&!n.swRegistration&&(yield function Z7(n){return XD.apply(this,arguments)}(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw ji.create("invalid-sw-registration");n.swRegistration=e}})).apply(this,arguments)}function JD(){return(JD=_(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=j7)})).apply(this,arguments)}function eS(){return eS=_(function*(n,e){if(!navigator)throw ji.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ji.create("permission-blocked");return yield function V0e(n,e){return JD.apply(this,arguments)}(n,e?.vapidKey),yield function L0e(n,e){return ZD.apply(this,arguments)}(n,e?.serviceWorkerRegistration),function M0e(n){return GD.apply(this,arguments)}(n)}),eS.apply(this,arguments)}function tS(){return(tS=_(function*(n,e,t){const i=function U0e(n){switch(n){case Uv.NOTIFICATION_CLICKED:return"notification_open";case Uv.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(i,{message_id:t[H7],message_name:t[h0e],message_time:t[f0e],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function nS(){return nS=_(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===Uv.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(Y7(t)):n.onMessageHandler.next(Y7(t)));const i=t.data;(function R0e(n){return"object"==typeof n&&!!n&&H7 in n})(i)&&"1"===i["google.c.a.e"]&&(yield function B0e(n,e,t){return tS.apply(this,arguments)}(n,t.messageType,i))}),nS.apply(this,arguments)}const e8="@firebase/messaging",j0e=n=>{const e=new F0e(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function z0e(n,e){return nS.apply(this,arguments)}(e,t)),e},H0e=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:i=>function J7(n,e){return eS.apply(this,arguments)}(e,i)}};function n8(){return iS.apply(this,arguments)}function iS(){return(iS=_(function*(){try{yield ig()}catch{return!1}return typeof window<"u"&&cc()&&vM()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function $0e(){Ci(new bi("messaging",j0e,"PUBLIC")),Ci(new bi("messaging-internal",H0e,"PRIVATE")),Pt(e8,"0.12.4"),Pt(e8,"0.12.4","esm2017")}();const zv="analytics",W0e="firebase_id",K0e="origin",Q0e=6e4,Y0e="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",sS="https://www.googletagmanager.com/gtag/js",Ei=new Il("@firebase/analytics"),wr=new xs("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Z0e(n){if(!n.startsWith(sS)){const e=wr.create("invalid-gtag-resource",{gtagURL:n});return Ei.warn(e.message),""}return n}function i8(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function aS(){return(aS=_(function*(n,e,t,i,r,o){const s=i[r];try{if(s)yield e[s];else{const c=(yield i8(t)).find(l=>l.measurementId===r);c&&(yield e[c.appId])}}catch(a){Ei.error(a)}n("config",r,o)})).apply(this,arguments)}function cS(){return(cS=_(function*(n,e,t,i,r){try{let o=[];if(r&&r.send_to){let s=r.send_to;Array.isArray(s)||(s=[s]);const a=yield i8(t);for(const c of s){const l=a.find(d=>d.measurementId===c),u=l&&e[l.appId];if(!u){o=[];break}o.push(u)}}0===o.length&&(o=Object.values(e)),yield Promise.all(o),n("event",i,r||{})}catch(o){Ei.error(o)}})).apply(this,arguments)}const awe=30,r8=new class lwe{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function uwe(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function lS(){return(lS=_(function*(n){var e;const{appId:t,apiKey:i}=n,r={method:"GET",headers:uwe(i)},o=Y0e.replace("{app-id}",t),s=yield fetch(o,r);if(200!==s.status&&304!==s.status){let a="";try{const c=yield s.json();null!==(e=c.error)&&void 0!==e&&e.message&&(a=c.error.message)}catch{}throw wr.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a})}return s.json()})).apply(this,arguments)}function uS(){return(uS=_(function*(n,e=r8,t){const{appId:i,apiKey:r,measurementId:o}=n.options;if(!i)throw wr.create("no-app-id");if(!r){if(o)return{measurementId:o,appId:i};throw wr.create("no-api-key")}const s=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new gwe;return setTimeout(_(function*(){a.abort()}),void 0!==t?t:Q0e),o8({appId:i,apiKey:r,measurementId:o},s,a,e)})).apply(this,arguments)}function o8(n,e,t){return dS.apply(this,arguments)}function dS(){return dS=_(function*(n,{throttleEndTimeMillis:e,backoffCount:t},i,r=r8){var o;const{appId:s,measurementId:a}=n;try{yield function fwe(n,e){return new Promise((t,i)=>{const r=Math.max(e-Date.now(),0),o=setTimeout(t,r);n.addEventListener(()=>{clearTimeout(o),i(wr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(i,e)}catch(c){if(a)return Ei.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:s,measurementId:a};throw c}try{const c=yield function dwe(n){return lS.apply(this,arguments)}(n);return r.deleteThrottleMetadata(s),c}catch(c){const l=c;if(!function pwe(n){if(!(n instanceof Ur&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(l)){if(r.deleteThrottleMetadata(s),a)return Ei.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l?.message}]`),{appId:s,measurementId:a};throw c}const u=503===Number(null===(o=l?.customData)||void 0===o?void 0:o.httpStatus)?CM(t,r.intervalMillis,awe):CM(t,r.intervalMillis),d={throttleEndTimeMillis:Date.now()+u,backoffCount:t+1};return r.setThrottleMetadata(s,d),Ei.debug(`Calling attemptFetch again in ${u} millis`),o8(n,d,i,r)}}),dS.apply(this,arguments)}class gwe{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let hS,yS;function fS(){return(fS=_(function*(n,e,t,i,r){if(r&&r.global)n("event",t,i);else{const o=yield e;n("event",t,Object.assign(Object.assign({},i),{send_to:o}))}})).apply(this,arguments)}function vS(){return(vS=_(function*(){if(!cc())return Ei.warn(wr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield ig()}catch(n){return Ei.warn(wr.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}return!0})).apply(this,arguments)}function wS(){return wS=_(function*(n,e,t,i,r,o,s){var a;const c=function hwe(n){return uS.apply(this,arguments)}(n);c.then(g=>{t[g.measurementId]=g.appId,n.options.measurementId&&g.measurementId!==n.options.measurementId&&Ei.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${g.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(g=>Ei.error(g)),e.push(c);const l=function xwe(){return vS.apply(this,arguments)}().then(g=>{if(g)return i.getId()}),[u,d]=yield Promise.all([c,l]);(function swe(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(sS)&&t.src.includes(n))return t;return null})(o)||function ewe(n,e){const t=function J0e(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}("firebase-js-sdk-policy",{createScriptURL:Z0e}),i=document.createElement("script"),r=`${sS}?l=${n}&id=${e}`;i.src=t?t?.createScriptURL(r):r,i.async=!0,document.head.appendChild(i)}(o,u.measurementId),yS&&(r("consent","default",yS),function s8(n){yS=n}(void 0)),r("js",new Date);const h=null!==(a=s?.config)&&void 0!==a?a:{};return h[K0e]="firebase",h.update=!0,null!=d&&(h[W0e]=d),r("config",u.measurementId,h),hS&&(r("set",hS),function a8(n){hS=n}(void 0)),u.measurementId}),wS.apply(this,arguments)}class Ewe{constructor(e){this.app=e}_delete(){return delete Es[this.app.options.appId],Promise.resolve()}}let Es={},c8=[];const l8={};let d8,Ts,jv="dataLayer",xS=!1;function Iwe(n,e,t){!function Twe(){const n=[];if(yM()&&n.push("This is a browser extension environment."),vM()||n.push("Cookies are not available."),n.length>0){const e=n.map((i,r)=>`(${r+1}) ${i}`).join(" "),t=wr.create("invalid-analytics-context",{errorInfo:e});Ei.warn(t.message)}}();const i=n.options.appId;if(!i)throw wr.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw wr.create("no-api-key");Ei.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Es[i])throw wr.create("already-exists",{id:i});if(!xS){!function twe(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(jv);const{wrappedGtag:o,gtagCore:s}=function owe(n,e,t,i,r){let o=function(...s){window[i].push(arguments)};return window[r]&&"function"==typeof window[r]&&(o=window[r]),window[r]=function rwe(n,e,t,i){function o(){return o=_(function*(s,...a){try{if("event"===s){const[c,l]=a;yield function iwe(n,e,t,i,r){return cS.apply(this,arguments)}(n,e,t,c,l)}else if("config"===s){const[c,l]=a;yield function nwe(n,e,t,i,r,o){return aS.apply(this,arguments)}(n,e,t,i,c,l)}else if("consent"===s){const[c]=a;n("consent","update",c)}else if("get"===s){const[c,l,u]=a;n("get",c,l,u)}else if("set"===s){const[c]=a;n("set",c)}else n(s,...a)}catch(c){Ei.error(c)}}),o.apply(this,arguments)}return function r(s){return o.apply(this,arguments)}}(o,n,e,t),{gtagCore:o,wrappedGtag:window[r]}}(Es,c8,l8,jv,"gtag");Ts=o,d8=s,xS=!0}return Es[i]=function Cwe(n,e,t,i,r,o,s){return wS.apply(this,arguments)}(n,c8,l8,e,d8,jv,t),new Ewe(n)}function Dwe(){return CS.apply(this,arguments)}function CS(){return(CS=_(function*(){if(yM()||!vM()||!cc())return!1;try{return yield ig()}catch{return!1}})).apply(this,arguments)}const h8="@firebase/analytics";!function Awe(){Ci(new bi(zv,(e,{options:t})=>Iwe(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),Ci(new bi("analytics-internal",function n(e){try{const t=e.getProvider(zv).getImmediate();return{logEvent:(i,r,o)=>function Swe(n,e,t,i){n=kt(n),function mwe(n,e,t,i,r){return fS.apply(this,arguments)}(Ts,Es[n.app.options.appId],e,t,i).catch(r=>Ei.error(r))}(t,i,r,o)}}catch(t){throw wr.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),Pt(h8,"0.10.0"),Pt(h8,"0.10.0","esm2017")}();class kwe extends ui{constructor(e,t){super()}schedule(e,t=0){return this}}const Hv={setInterval(n,e,...t){const{delegate:i}=Hv;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=Hv;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class $v extends kwe{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;const r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,t)),this.pending=!0,this.delay=t,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,i=0){return Hv.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return t;null!=t&&Hv.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r,i=!1;try{this.work(e)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,L_(i,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const p8={now:()=>(p8.delegate||Date).now(),delegate:void 0};class ug{constructor(e,t=ug.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}}ug.now=p8.now;class Gv extends ug{constructor(e,t=ug.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let i;this._active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}}const Rwe=new class Pwe extends Gv{}(class Owe extends $v{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,i=0){return null!=i&&i>0||null==i&&this.delay>0?super.requestAsyncId(e,t,i):(e.flush(this),0)}}),dg=new Gv($v),Nwe=dg,rh=new Qa("7.6.1"),TS="__angularfire_symbol__analyticsIsSupportedValue",IS="__angularfire_symbol__analyticsIsSupported",MS="__angularfire_symbol__remoteConfigIsSupportedValue",DS="__angularfire_symbol__remoteConfigIsSupported",SS="__angularfire_symbol__messagingIsSupportedValue",AS="__angularfire_symbol__messagingIsSupported";function hg(n,e,t){if(e){if(1===e.length)return e[0];const o=e.filter(s=>s.app===t);if(1===o.length)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}globalThis[IS]||(globalThis[IS]=Dwe().then(n=>globalThis[TS]=n).catch(()=>globalThis[TS]=!1)),globalThis[AS]||(globalThis[AS]=n8().then(n=>globalThis[SS]=n).catch(()=>globalThis[SS]=!1)),globalThis[DS]||(globalThis[DS]=Zve().then(n=>globalThis[MS]=n).catch(()=>globalThis[MS]=!1));const fg=(n,e)=>{const t=e?[e]:r7(),i=[];return t.forEach(r=>{r.container.getProvider(n).instances.forEach(s=>{i.includes(s)||i.push(s)})}),i};function oh(){}class g8{constructor(e,t=Rwe){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,i){const r=this.zone;return this.delegate.schedule(function(s){r.runGuarded(()=>{e.apply(this,[s])})},t,i)}}class Fwe{constructor(e){this.zone=e,this.task=null}call(e,t){const i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",oh,{},oh,oh)),t.pipe(Un({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let pg=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new g8(Zone.current)),this.insideAngular=t.run(()=>new g8(Zone.current,dg)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(H(Me))},n.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Pl(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function Rl(n){return Pl().ngZone.run(()=>n())}function Vwe(n){return Pl(),function Bwe(n){return function(t){return(t=t.lift(new Fwe(n.ngZone))).pipe(Yy(n.outsideAngular),Qy(n.insideAngular))}}(Pl())(n)}const Uwe=(n,e)=>function(){const i=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Rl(()=>n.apply(void 0,i))},Ti=(n,e)=>function(){let t;const i=arguments;for(let o=0;o<arguments.length;o++)"function"==typeof i[o]&&(e&&(t||(t=Rl(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",oh,{},oh,oh)))),i[o]=Uwe(i[o],t));const r=function Lwe(n){return Pl().ngZone.runOutsideAngular(()=>n())}(()=>n.apply(this,i));if(!e){if(r instanceof Yt){const o=Pl();return r.pipe(Yy(o.outsideAngular),Qy(o.insideAngular))}return Rl(()=>r)}return r instanceof Yt?r.pipe(Vwe):r instanceof Promise?Rl(()=>new Promise((o,s)=>r.then(a=>Rl(()=>o(a)),a=>Rl(()=>s(a))))):"function"==typeof r&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),r.apply(this,arguments)}:Rl(()=>r)};class dc{constructor(e){return e}}class gg{constructor(){return r7()}}const OS=new X("angularfire2._apps"),jwe={provide:dc,useFactory:function zwe(n){return n&&1===n.length?n[0]:new dc(th())},deps:[[new en,OS]]},Hwe={provide:gg,deps:[[new en,OS]]};function $we(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new dc(i)}}let Gwe=(()=>{class n{constructor(t){Pt("angularfire",rh.full,"core"),Pt("angularfire",rh.full,"app"),Pt("angular",Kle.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(H(ho))},n.\u0275mod=et({type:n}),n.\u0275inj=Je({providers:[jwe,Hwe]}),n})();function qwe(n,...e){return{ngModule:Gwe,providers:[{provide:OS,useFactory:$we(n),multi:!0,deps:[Me,Gt,pg,...e]}]}}const Wwe=Ti(i7,!0),PS=new Map,m8={activated:!1,tokenObservers:[]},Kwe={initialized:!1,enabled:!1};function zn(n){return PS.get(n)||Object.assign({},m8)}function qv(){return Kwe}const RS="https://content-firebaseappcheck.googleapis.com/v1",Zwe="exchangeDebugToken",_8={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class exe{constructor(e,t,i,r,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return _(function*(){t.stop();try{t.pending=new Zd,yield function txe(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Zd,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Hi=new xs("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function NS(n){if(!zn(n).activated)throw Hi.create("use-before-activation",{appName:n.name})}function Qv(n,e){return LS.apply(this,arguments)}function LS(){return(LS=_(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},r=t.getImmediate({optional:!0});if(r){const d=yield r.getHeartbeatsHeader();d&&(i["X-Firebase-Client"]=d)}const o={method:"POST",body:JSON.stringify(e),headers:i};let s,a;try{s=yield fetch(n,o)}catch(d){throw Hi.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==s.status)throw Hi.create("fetch-status-error",{httpStatus:s.status});try{a=yield s.json()}catch(d){throw Hi.create("fetch-parse-error",{originalErrorMessage:d?.message})}const c=a.ttl.match(/^([\d.]+)(s)$/);if(!c||!c[2]||isNaN(Number(c[1])))throw Hi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const l=1e3*Number(c[1]),u=Date.now();return{token:a.token,expireTimeMillis:u+l,issuedAtTimeMillis:u}})).apply(this,arguments)}function b8(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`${RS}/projects/${t}/apps/${i}:${Zwe}?key=${r}`,body:{debug_token:e}}}const oxe="firebase-app-check-database",sxe=1,mg="firebase-app-check-store";let Yv=null;function VS(){return(VS=_(function*(n,e){const i=(yield function v8(){return Yv||(Yv=new Promise((n,e)=>{try{const t=indexedDB.open(oxe,sxe);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var r;e(Hi.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(mg,{keyPath:"compositeKey"})}}catch(t){e(Hi.create("storage-open",{originalErrorMessage:t?.message}))}}),Yv)}()).transaction(mg,"readwrite"),o=i.objectStore(mg).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=c=>{s()},i.onerror=c=>{var l;a(Hi.create("storage-set",{originalErrorMessage:null===(l=c.target.error)||void 0===l?void 0:l.message}))}})})).apply(this,arguments)}const _g=new Il("@firebase/app-check");function zS(n,e){return cc()?function cxe(n,e){return function w8(n,e){return VS.apply(this,arguments)}(function C8(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{_g.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function HS(){return qv().enabled}function $S(){return GS.apply(this,arguments)}function GS(){return(GS=_(function*(){const n=qv();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const pxe={error:"UNKNOWN_ERROR"};function gxe(n){return Iv.encodeString(JSON.stringify(n),!1)}function Xv(n){return qS.apply(this,arguments)}function qS(){return(qS=_(function*(n,e=!1){const t=n.app;NS(t);const i=zn(t);let o,r=i.token;if(r&&!sh(r)&&(i.token=void 0,r=void 0),!r){const c=yield i.cachedTokenPromise;c&&(sh(c)?r=c:yield zS(t,void 0))}if(!e&&r&&sh(r))return{token:r.token};let a,s=!1;if(HS()){i.exchangeTokenPromise||(i.exchangeTokenPromise=Qv(b8(t,yield $S()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),s=!0);const c=yield i.exchangeTokenPromise;return yield zS(t,c),i.token=c,{token:c.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),s=!0),r=yield zn(t).exchangeTokenPromise}catch(c){"appCheck/throttled"===c.code?_g.warn(c.message):_g.error(c),o=c}return r?o?a=sh(r)?{token:r.token,internalError:o}:M8(o):(a={token:r.token},i.token=r,yield zS(t,r)):a=M8(o),s&&function I8(n,e){const t=zn(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}(t,a),a})).apply(this,arguments)}function E8(n){return WS.apply(this,arguments)}function WS(){return(WS=_(function*(n){const e=n.app;NS(e);const{provider:t}=zn(e);if(HS()){const i=yield $S(),{token:r}=yield Qv(b8(e,i),n.heartbeatServiceProvider);return{token:r}}{const{token:i}=yield t.getToken();return{token:i}}})).apply(this,arguments)}function QS(n,e){const t=zn(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function T8(n){const{app:e}=n,t=zn(e);let i=t.tokenRefresher;i||(i=function mxe(n){const{app:e}=n;return new exe(_(function*(){let i;if(i=zn(e).token?yield Xv(n,!0):yield Xv(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const t=zn(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},_8.RETRIAL_MIN_WAIT,_8.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function sh(n){return n.expireTimeMillis-Date.now()>0}function M8(n){return{token:gxe(pxe),error:n}}class _xe{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=zn(this.app);for(const t of e)QS(this.app,t.next);return Promise.resolve()}}const N8="app-check-internal";!function kxe(){Ci(new bi("app-check",n=>function bxe(n,e){return new _xe(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(N8).initialize()})),Ci(new bi(N8,n=>function yxe(n){return{getToken:e=>Xv(n,e),getLimitedUseToken:()=>E8(n),addTokenListener:e=>function KS(n,e,t,i){const{app:r}=n,o=zn(r);if(o.tokenObservers=[...o.tokenObservers,{next:t,error:i,type:e}],o.token&&sh(o.token)){const a=o.token;Promise.resolve().then(()=>{t({token:a.token}),T8(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>T8(n))}(n,"INTERNAL",e),removeTokenListener:e=>QS(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),Pt("@firebase/app-check","0.8.0")}();class bg{constructor(){return fg("app-check")}}typeof window<"u"&&window;const Fxe=function L8(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},V8=new xs("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Jv=new Il("@firebase/auth");function e0(n,...e){Jv.logLevel<=mt.ERROR&&Jv.error(`Auth (${la}): ${n}`,...e)}function jr(n,...e){throw eA(n,...e)}function Is(n,...e){return eA(n,...e)}function eA(n,...e){if("string"!=typeof n){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return V8.create(n,...e)}function oe(n,e,...t){if(!n)throw eA(e,...t)}function Ms(n){const e="INTERNAL ASSERTION FAILED: "+n;throw e0(e),new Error(e)}function hc(n,e){n||Ms(e)}function yg(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function U8(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class vg{constructor(e,t){this.shortDelay=e,this.longDelay=t,hc(t>e,"Short delay should be less than long delay!"),this.isMobile=bM()||K9()}get(){return function Vxe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function tA(){return"http:"===U8()||"https:"===U8()}()||yM()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function nA(n,e){hc(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class z8{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Ms("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Ms("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Ms("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Uxe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},zxe=new vg(3e4,6e4);function An(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function jn(n,e,t,i){return iA.apply(this,arguments)}function iA(){return(iA=_(function*(n,e,t,i,r={}){return j8(n,r,_(function*(){let o={},s={};i&&("GET"===e?s=i:o={body:JSON.stringify(i)});const a=eh(Object.assign({key:n.config.apiKey},s)).slice(1),c=yield n._getAdditionalHeaders();return c["Content-Type"]="application/json",n.languageCode&&(c["X-Firebase-Locale"]=n.languageCode),z8.fetch()(H8(n,n.config.apiHost,t,a),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},o))}))})).apply(this,arguments)}function j8(n,e,t){return rA.apply(this,arguments)}function rA(){return(rA=_(function*(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},Uxe),e);try{const r=new jxe(n),o=yield Promise.race([t(),r.promise]);r.clearNetworkTimeout();const s=yield o.json();if("needConfirmation"in s)throw wg(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[c,l]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===c)throw wg(n,"credential-already-in-use",s);if("EMAIL_EXISTS"===c)throw wg(n,"email-already-in-use",s);if("USER_DISABLED"===c)throw wg(n,"user-disabled",s);const u=i[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw function B8(n,e,t){const i=Object.assign(Object.assign({},Fxe()),{[e]:t});return new xs("auth","Firebase",i).create(e,{appName:n.name})}(n,u,l);jr(n,u)}}catch(r){if(r instanceof Ur)throw r;jr(n,"network-request-failed",{message:String(r)})}})).apply(this,arguments)}function fa(n,e,t,i){return oA.apply(this,arguments)}function oA(){return(oA=_(function*(n,e,t,i,r={}){const o=yield jn(n,e,t,i,r);return"mfaPendingCredential"in o&&jr(n,"multi-factor-auth-required",{_serverResponse:o}),o})).apply(this,arguments)}function H8(n,e,t,i){const r=`${e}${t}?${i}`;return n.config.emulator?nA(n.config,r):`${n.config.apiScheme}://${r}`}class jxe{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Is(this.auth,"network-request-failed")),zxe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function wg(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const r=Is(n,e,i);return r.customData._tokenResponse=t,r}function sA(){return(sA=_(function*(n,e){return jn(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function cA(){return(cA=_(function*(n,e){return jn(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function xg(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function lA(){return(lA=_(function*(n,e=!1){const t=kt(n),i=yield t.getIdToken(e),r=t0(i);oe(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");const o="object"==typeof r.firebase?r.firebase:void 0,s=o?.sign_in_provider;return{claims:r,token:i,authTime:xg(uA(r.auth_time)),issuedAtTime:xg(uA(r.iat)),expirationTime:xg(uA(r.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})).apply(this,arguments)}function uA(n){return 1e3*Number(n)}function t0(n){const[e,t,i]=n.split(".");if(void 0===e||void 0===t||void 0===i)return e0("JWT malformed, contained fewer than 3 sections"),null;try{const r=Dv(t);return r?JSON.parse(r):(e0("Failed to decode base64 JWT payload"),null)}catch(r){return e0("Caught error parsing JWT payload as JSON",r?.toString()),null}}function pa(n,e){return dA.apply(this,arguments)}function dA(){return(dA=_(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(i){throw i instanceof Ur&&function Kxe({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(i)&&n.auth.currentUser===n&&(yield n.auth.signOut()),i}})).apply(this,arguments)}class Qxe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),i}{this.errorBackoff=3e4;const r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(_(function*(){yield t.iteration()}),i)}iteration(){var e=this;return _(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class $8{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=xg(this.lastLoginAt),this.creationTime=xg(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Cg(n){return hA.apply(this,arguments)}function hA(){return hA=_(function*(n){var e;const t=n.auth,i=yield n.getIdToken(),r=yield pa(n,function Gxe(n,e){return cA.apply(this,arguments)}(t,{idToken:i}));oe(r?.users.length,t,"internal-error");const o=r.users[0];n._notifyReloadListener(o);const s=null!==(e=o.providerUserInfo)&&void 0!==e&&e.length?function Zxe(n){return n.map(e=>{var{providerId:t}=e,i=Ky(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}(o.providerUserInfo):[],a=function Xxe(n,e){return[...n.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}(n.providerData,s),u=!!n.isAnonymous&&!(n.email&&o.passwordHash||a?.length),d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new $8(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(n,d)}),hA.apply(this,arguments)}function fA(){return(fA=_(function*(n){const e=kt(n);yield Cg(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function pA(){return(pA=_(function*(n,e){const t=yield j8(n,{},_(function*(){const i=eh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:o}=n.config,s=H8(n,r,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",z8.fetch()(s,{method:"POST",headers:a,body:i})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class Eg{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){oe(e.idToken,"internal-error"),oe(typeof e.idToken<"u","internal-error"),oe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function Wxe(n){const e=t0(n);return oe(e,"internal-error"),oe(typeof e.exp<"u","internal-error"),oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var i=this;return _(function*(){return oe(!i.accessToken||i.refreshToken,e,"user-token-expired"),t||!i.accessToken||i.isExpired?i.refreshToken?(yield i.refresh(e,i.refreshToken),i.accessToken):null:i.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var i=this;return _(function*(){const{accessToken:r,refreshToken:o,expiresIn:s}=yield function Jxe(n,e){return pA.apply(this,arguments)}(e,t);i.updateTokensAndExpiration(r,o,Number(s))})()}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*i}static fromJSON(e,t){const{refreshToken:i,accessToken:r,expirationTime:o}=t,s=new Eg;return i&&(oe("string"==typeof i,"internal-error",{appName:e}),s.refreshToken=i),r&&(oe("string"==typeof r,"internal-error",{appName:e}),s.accessToken=r),o&&(oe("number"==typeof o,"internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Eg,this.toJSON())}_performRefresh(){return Ms("not implemented")}}function fc(n,e){oe("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class Nl{constructor(e){var{uid:t,auth:i,stsTokenManager:r}=e,o=Ky(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Qxe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new $8(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){var t=this;return _(function*(){const i=yield pa(t,t.stsTokenManager.getToken(t.auth,e));return oe(i,t.auth,"internal-error"),t.accessToken!==i&&(t.accessToken=i,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),i})()}getIdTokenResult(e){return function qxe(n){return lA.apply(this,arguments)}(this,e)}reload(){return function Yxe(n){return fA.apply(this,arguments)}(this)}_assign(e){this!==e&&(oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Nl(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var i=this;return _(function*(){let r=!1;e.idToken&&e.idToken!==i.stsTokenManager.accessToken&&(i.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield Cg(i)),yield i.auth._persistUserIfCurrent(i),r&&i.auth._notifyListenersIfCurrent(i)})()}delete(){var e=this;return _(function*(){const t=yield e.getIdToken();return yield pa(e,function Hxe(n,e){return sA.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,r,o,s,a,c,l,u;const d=null!==(i=t.displayName)&&void 0!==i?i:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,g=null!==(o=t.phoneNumber)&&void 0!==o?o:void 0,y=null!==(s=t.photoURL)&&void 0!==s?s:void 0,C=null!==(a=t.tenantId)&&void 0!==a?a:void 0,T=null!==(c=t._redirectEventId)&&void 0!==c?c:void 0,S=null!==(l=t.createdAt)&&void 0!==l?l:void 0,D=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:N,emailVerified:W,isAnonymous:re,providerData:ue,stsTokenManager:Re}=t;oe(N&&Re,e,"internal-error");const Qe=Eg.fromJSON(this.name,Re);oe("string"==typeof N,e,"internal-error"),fc(d,e.name),fc(h,e.name),oe("boolean"==typeof W,e,"internal-error"),oe("boolean"==typeof re,e,"internal-error"),fc(g,e.name),fc(y,e.name),fc(C,e.name),fc(T,e.name),fc(S,e.name),fc(D,e.name);const In=new Nl({uid:N,auth:e,email:h,emailVerified:W,displayName:d,isAnonymous:re,photoURL:y,phoneNumber:g,tenantId:C,stsTokenManager:Qe,createdAt:S,lastLoginAt:D});return ue&&Array.isArray(ue)&&(In.providerData=ue.map(Yi=>Object.assign({},Yi))),T&&(In._redirectEventId=T),In}static _fromIdTokenResponse(e,t,i=!1){return _(function*(){const r=new Eg;r.updateFromServerResponse(t);const o=new Nl({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return yield Cg(o),o})()}}const G8=new Map;function ga(n){hc(n instanceof Function,"Expected a class definition");let e=G8.get(n);return e?(hc(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,G8.set(n,e),e)}const q8=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(function*(){return!0})()}_set(t,i){var r=this;return _(function*(){r.storage[t]=i})()}_get(t){var i=this;return _(function*(){const r=i.storage[t];return void 0===r?null:r})()}_remove(t){var i=this;return _(function*(){delete i.storage[t]})()}_addListener(t,i){}_removeListener(t,i){}}return n.type="NONE",n})();function n0(n,e,t){return`firebase:${n}:${e}:${t}`}class ch{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:r,name:o}=this.auth;this.fullUserKey=n0(this.userKey,r.apiKey,o),this.fullPersistenceKey=n0("persistence",r.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return _(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?Nl._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return _(function*(){if(t.persistence===e)return;const i=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,i?t.setCurrentUser(i):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,i="authUser"){return _(function*(){if(!t.length)return new ch(ga(q8),e,i);const r=(yield Promise.all(t.map(function(){var l=_(function*(u){if(yield u._isAvailable())return u});return function(u){return l.apply(this,arguments)}}()))).filter(l=>l);let o=r[0]||ga(q8);const s=n0(i,e.config.apiKey,e.name);let a=null;for(const l of t)try{const u=yield l._get(s);if(u){const d=Nl._fromJSON(e,u);l!==o&&(a=d),o=l;break}}catch{}const c=r.filter(l=>l._shouldAllowMigration);return o._shouldAllowMigration&&c.length?(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(function(){var l=_(function*(u){if(u!==o)try{yield u._remove(s)}catch{}});return function(u){return l.apply(this,arguments)}}())),new ch(o,e,i)):new ch(o,e,i)})()}}function W8(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Y8(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(K8(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Z8(e))return"Blackberry";if(J8(e))return"Webos";if(gA(e))return"Safari";if((e.includes("chrome/")||Q8(e))&&!e.includes("edge/"))return"Chrome";if(X8(e))return"Android";{const i=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===i?.length)return i[1]}return"Other"}function K8(n=Zn()){return/firefox\//i.test(n)}function gA(n=Zn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Q8(n=Zn()){return/crios\//i.test(n)}function Y8(n=Zn()){return/iemobile/i.test(n)}function X8(n=Zn()){return/android/i.test(n)}function Z8(n=Zn()){return/blackberry/i.test(n)}function J8(n=Zn()){return/webos/i.test(n)}function r0(n=Zn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function eH(n=Zn()){return r0(n)||X8(n)||J8(n)||Z8(n)||/windows phone/i.test(n)||Y8(n)}function tH(n,e=[]){let t;switch(n){case"Browser":t=W8(Zn());break;case"Worker":t=`${W8(Zn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${la}/${i}`}function nH(n,e){return _A.apply(this,arguments)}function _A(){return(_A=_(function*(n,e){return jn(n,"GET","/v2/recaptchaConfig",An(n,e))})).apply(this,arguments)}function rH(n){return void 0!==n&&void 0!==n.enterprise}class oH{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(t=>"EMAIL_PASSWORD_PROVIDER"===t.provider&&"OFF"!==t.enforcementState)}}function bA(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=r=>{const o=Is("internal-error");o.customData=r,t(o)},i.type="text/javascript",i.charset="UTF-8",function rCe(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(i)})}function sH(n){return`__${n}${Math.floor(1e6*Math.random())}`}class aH{constructor(e){this.type="recaptcha-enterprise",this.auth=Ii(e)}verify(e="verify",t=!1){var i=this;return _(function*(){function o(){return o=_(function*(a){if(!t){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var c=_(function*(l,u){nH(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new oH(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,l(h.siteKey)}u(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{u(d)})});return function(l,u){return c.apply(this,arguments)}}())}),o.apply(this,arguments)}function s(a,c,l){const u=window.grecaptcha;rH(u)?u.enterprise.ready(()=>{u.enterprise.execute(a,{action:e}).then(d=>{c(d)}).catch(()=>{c("NO_RECAPTCHA")})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,c)=>{(function r(a){return o.apply(this,arguments)})(i.auth).then(l=>{if(!t&&rH(window.grecaptcha))s(l,a,c);else{if(typeof window>"u")return void c(new Error("RecaptchaVerifier is only supported in browser"));bA("https://www.google.com/recaptcha/enterprise.js?render="+l).then(()=>{s(l,a,c)}).catch(u=>{c(u)})}}).catch(l=>{c(l)})})})()}}function pc(n,e,t){return yA.apply(this,arguments)}function yA(){return(yA=_(function*(n,e,t,i=!1){const r=new aH(n);let o;try{o=yield r.verify(t)}catch{o=yield r.verify(t,!0)}const s=Object.assign({},e);return Object.assign(s,i?{captchaResp:o}:{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})).apply(this,arguments)}class cCe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=o=>new Promise((s,a)=>{try{s(e(o))}catch(c){a(c)}});i.onAbort=t,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return _(function*(){if(t.auth.currentUser===e)return;const i=[];try{for(const r of t.queue)yield r(e),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const o of i)try{o()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})()}}class lCe{constructor(e,t,i,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cH(this),this.idTokenSubscription=new cH(this),this.beforeStateQueue=new cCe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=V8,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){var i=this;return t&&(this._popupRedirectResolver=ga(t)),this._initializationPromise=this.queue(_(function*(){var r,o;if(!i._deleted&&(i.persistenceManager=yield ch.create(i,e),!i._deleted)){if(null!==(r=i._popupRedirectResolver)&&void 0!==r&&r._shouldInitProactively)try{yield i._popupRedirectResolver._initialize(i)}catch{}yield i.initializeCurrentUser(t),i.lastNotifiedUid=(null===(o=i.currentUser)||void 0===o?void 0:o.uid)||null,!i._deleted&&(i._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return _(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return _(function*(){var i;const r=yield t.assertedPersistence.getCurrentUser();let o=r,s=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const a=null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId,c=o?._redirectEventId,l=yield t.tryRedirectSignIn(e);(!a||a===c)&&l?.user&&(o=l.user,s=!0)}if(!o)return t.directlySetCurrentUser(null);if(!o._redirectEventId){if(s)try{yield t.beforeStateQueue.runMiddleware(o)}catch(a){o=r,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(a))}return o?t.reloadAndSetCurrentUserOrClear(o):t.directlySetCurrentUser(null)}return oe(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===o._redirectEventId?t.directlySetCurrentUser(o):t.reloadAndSetCurrentUserOrClear(o)})()}tryRedirectSignIn(e){var t=this;return _(function*(){let i=null;try{i=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return i})()}reloadAndSetCurrentUserOrClear(e){var t=this;return _(function*(){try{yield Cg(e)}catch(i){if("auth/network-request-failed"!==i?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Bxe(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return _(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return _(function*(){const i=e?kt(e):null;return i&&oe(i.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(i&&i._clone(t))})()}_updateCurrentUser(e,t=!1){var i=this;return _(function*(){if(!i._deleted)return e&&oe(i.tenantId===e.tenantId,i,"tenant-id-mismatch"),t||(yield i.beforeStateQueue.runMiddleware(e)),i.queue(_(function*(){yield i.directlySetCurrentUser(e),i.notifyAuthListeners()}))})()}signOut(){var e=this;return _(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue(_(function*(){yield t.assertedPersistence.setPersistence(ga(e))}))}initializeRecaptchaConfig(){var e=this;return _(function*(){const t=yield nH(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),i=new oH(t);null==e.tenantId?e._agentRecaptchaConfig=i:e._tenantRecaptchaConfigs[e.tenantId]=i,i.emailPasswordEnabled&&new aH(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new xs("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var i=this;return _(function*(){const r=yield i.getOrInitRedirectPersistenceManager(t);return null===e?r.removeCurrentUser():r.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return _(function*(){if(!t.redirectPersistenceManager){const i=e&&ga(e)||t._popupRedirectResolver;oe(i,t,"argument-error"),t.redirectPersistenceManager=yield ch.create(t,[ga(i._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return _(function*(){var i,r;return t._isInitialized&&(yield t.queue(_(function*(){}))),(null===(i=t._currentUser)||void 0===i?void 0:i._redirectEventId)===e?t._currentUser:(null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return _(function*(){if(e===t.currentUser)return t.queue(_(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};const o="function"==typeof t?t:t.next.bind(t),s=this._isInitialized?Promise.resolve():this._initializationPromise;return oe(s,this,"internal-error"),s.then(()=>o(this.currentUser)),"function"==typeof t?e.addObserver(t,i,r):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return _(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=tH(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return _(function*(){var t;const i={"X-Client-Version":e.clientVersion};e.app.options.appId&&(i["X-Firebase-gmpid"]=e.app.options.appId);const r=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();r&&(i["X-Firebase-Client"]=r);const o=yield e._getAppCheckToken();return o&&(i["X-Firebase-AppCheck"]=o),i})()}_getAppCheckToken(){var e=this;return _(function*(){var t;const i=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return i?.error&&function Lxe(n,...e){Jv.logLevel<=mt.WARN&&Jv.warn(`Auth (${la}): ${n}`,...e)}(`Error while retrieving App Check token: ${i.error}`),i?.token})()}}function Ii(n){return kt(n)}class cH{constructor(e){this.auth=e,this.observer=null,this.addObserver=function gbe(n,e){const t=new mbe(n,e);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function lH(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function uH(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}class Tg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ms("not implemented")}_getIdTokenResponse(e){return Ms("not implemented")}_linkToIdToken(e,t){return Ms("not implemented")}_getReauthenticationResolver(e){return Ms("not implemented")}}function hH(n,e){return wA.apply(this,arguments)}function wA(){return(wA=_(function*(n,e){return jn(n,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function CA(n,e){return EA.apply(this,arguments)}function EA(){return(EA=_(function*(n,e){return fa(n,"POST","/v1/accounts:signInWithPassword",An(n,e))})).apply(this,arguments)}function OA(){return(OA=_(function*(n,e){return fa(n,"POST","/v1/accounts:signInWithEmailLink",An(n,e))})).apply(this,arguments)}function PA(){return(PA=_(function*(n,e){return fa(n,"POST","/v1/accounts:signInWithEmailLink",An(n,e))})).apply(this,arguments)}class Ig extends Tg{constructor(e,t,i,r=null){super("password",i),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Ig(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Ig(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if(t?.email&&t?.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){var t=this;return _(function*(){var i;switch(t.signInMethod){case"password":const r={returnSecureToken:!0,email:t._email,password:t._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(i=e._getRecaptchaConfig())&&void 0!==i&&i.emailPasswordEnabled){const o=yield pc(e,r,"signInWithPassword");return CA(e,o)}return CA(e,r).catch(function(){var o=_(function*(s){if("auth/missing-recaptcha-token"===s.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const a=yield pc(e,r,"signInWithPassword");return CA(e,a)}return Promise.reject(s)});return function(s){return o.apply(this,arguments)}}());case"emailLink":return function bCe(n,e){return OA.apply(this,arguments)}(e,{email:t._email,oobCode:t._password});default:jr(e,"internal-error")}})()}_linkToIdToken(e,t){var i=this;return _(function*(){switch(i.signInMethod){case"password":return hH(e,{idToken:t,returnSecureToken:!0,email:i._email,password:i._password});case"emailLink":return function yCe(n,e){return PA.apply(this,arguments)}(e,{idToken:t,email:i._email,oobCode:i._password});default:jr(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function ma(n,e){return RA.apply(this,arguments)}function RA(){return(RA=_(function*(n,e){return fa(n,"POST","/v1/accounts:signInWithIdp",An(n,e))})).apply(this,arguments)}class Sg{constructor(e){var t,i,r,o,s,a;const c=og(sg(e)),l=null!==(t=c.apiKey)&&void 0!==t?t:null,u=null!==(i=c.oobCode)&&void 0!==i?i:null,d=function ICe(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=c.mode)&&void 0!==r?r:null);oe(l&&u&&d,"argument-error"),this.apiKey=l,this.operation=d,this.code=u,this.continueUrl=null!==(o=c.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(s=c.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=c.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function MCe(n){const e=og(sg(n)).link,t=e?og(sg(e)).deep_link_id:null,i=og(sg(n)).deep_link_id;return(i?og(sg(i)).link:null)||i||t||e||n}(e);try{return new Sg(t)}catch{return null}}}let fH=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,i){return Ig._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){const r=Sg.parseLink(i);return oe(r,"argument-error"),Ig._fromEmailAndCode(t,r.code,r.tenantId)}}return n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink",n})();class _a{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class DCe extends _a{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}function a0(n,e){return UA.apply(this,arguments)}function UA(){return(UA=_(function*(n,e){return fa(n,"POST","/v1/accounts:signUp",An(n,e))})).apply(this,arguments)}class wo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,i,r=!1){return _(function*(){const o=yield Nl._fromIdTokenResponse(e,i,r),s=pH(i);return new wo({user:o,providerId:s,_tokenResponse:i,operationType:t})})()}static _forOperation(e,t,i){return _(function*(){yield e._updateTokensIfNecessary(i,!0);const r=pH(i);return new wo({user:e,providerId:r,_tokenResponse:i,operationType:t})})()}}function pH(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class c0 extends Ur{constructor(e,t,i,r){var o;super(t.code,t.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,c0.prototype),this.customData={appName:e.name,tenantId:null!==(o=e.tenantId)&&void 0!==o?o:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,r){return new c0(e,t,i,r)}}function gH(n,e,t,i){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw"auth/multi-factor-auth-required"===o.code?c0._fromErrorAndOperation(n,o,e,i):o})}function $A(){return($A=_(function*(n,e,t=!1){const i=yield pa(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return wo._forOperation(n,"link",i)})).apply(this,arguments)}function qA(){return(qA=_(function*(n,e,t=!1){const{auth:i}=n,r="reauthenticate";try{const o=yield pa(n,gH(i,r,e,n),t);oe(o.idToken,i,"internal-error");const s=t0(o.idToken);oe(s,i,"internal-error");const{sub:a}=s;return oe(n.uid===a,i,"user-mismatch"),wo._forOperation(n,r,o)}catch(o){throw"auth/user-not-found"===o?.code&&jr(i,"user-mismatch"),o}})).apply(this,arguments)}function bH(n,e){return WA.apply(this,arguments)}function WA(){return(WA=_(function*(n,e,t=!1){const i="signIn",r=yield gH(n,i,e),o=yield wo._fromIdTokenResponse(n,i,r);return t||(yield n._updateCurrentUser(o.user)),o})).apply(this,arguments)}function QA(){return(QA=_(function*(n,e){return bH(Ii(n),e)})).apply(this,arguments)}function NCe(n,e,t){return ak.apply(this,arguments)}function ak(){return ak=_(function*(n,e,t){var i;const r=Ii(n),o={returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"};let s;if(null!==(i=r._getRecaptchaConfig())&&void 0!==i&&i.emailPasswordEnabled){const l=yield pc(r,o,"signUpPassword");s=a0(r,l)}else s=a0(r,o).catch(function(){var l=_(function*(u){if("auth/missing-recaptcha-token"===u.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const d=yield pc(r,o,"signUpPassword");return a0(r,d)}return Promise.reject(u)});return function(u){return l.apply(this,arguments)}}());const a=yield s.catch(l=>Promise.reject(l)),c=yield wo._fromIdTokenResponse(r,"signIn",a);return yield r._updateCurrentUser(c.user),c}),ak.apply(this,arguments)}function FCe(n,e,t){return function KA(n,e){return QA.apply(this,arguments)}(kt(n),fH.credential(e,t))}function qCe(n,e,t,i){return kt(n).onAuthStateChanged(e,t,i)}function WCe(n){return kt(n).signOut()}const u0="__sak";class wH{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(u0,"1"),this.storage.removeItem(u0),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const tEe=(()=>{class n extends wH{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ZCe(){const n=Zn();return gA(n)||r0(n)}()&&function nCe(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=eH(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),o=this.localCache[i];r!==o&&t(i,o,r)}}onStorageEvent(t,i=!1){if(!t.key)return void this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});const r=t.key;if(i?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(r);if(t.newValue!==a)null!==t.newValue?this.storage.setItem(r,t.newValue):this.storage.removeItem(r);else if(this.localCache[r]===t.newValue&&!i)return}const o=()=>{const a=this.storage.getItem(r);!i&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);!function tCe(){return function abe(){const n=Zn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}()&&10===document.documentMode}()||s===t.newValue||t.newValue===t.oldValue?o():setTimeout(o,10)}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,i){var r=()=>super._set,o=this;return _(function*(){yield r().call(o,t,i),o.localCache[t]=JSON.stringify(i)})()}_get(t){var i=()=>super._get,r=this;return _(function*(){const o=yield i().call(r,t);return r.localCache[t]=JSON.stringify(o),o})()}_remove(t){var i=()=>super._remove,r=this;return _(function*(){yield i().call(r,t),delete r.localCache[t]})()}}return n.type="LOCAL",n})(),xH=(()=>{class n extends wH{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}return n.type="SESSION",n})();let iEe=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;const r=new n(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}handleEvent(t){var i=this;return _(function*(){const r=t,{eventId:o,eventType:s,data:a}=r.data,c=i.handlersMap[s];if(!c?.size)return;r.ports[0].postMessage({status:"ack",eventId:o,eventType:s});const l=Array.from(c).map(function(){var d=_(function*(h){return h(r.origin,a)});return function(h){return d.apply(this,arguments)}}()),u=yield function nEe(n){return Promise.all(n.map(function(){var e=_(function*(t){try{return{fulfilled:!0,value:yield t}}catch(i){return{fulfilled:!1,reason:i}}});return function(t){return e.apply(this,arguments)}}()))}(l);r.ports[0].postMessage({status:"done",eventId:o,eventType:s,response:u})})()}_subscribe(t,i){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function wk(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(10*Math.random());return n+t}class rEe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,i=50){var r=this;return _(function*(){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let s,a;return new Promise((c,l)=>{const u=wk("",20);o.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},i);a={messageChannel:o,onMessage(h){const g=h;if(g.data.eventId===u)switch(g.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(g.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"))}}},r.handlers.add(a),o.port1.addEventListener("message",a.onMessage),r.target.postMessage({eventType:e,eventId:u,data:t},[o.port2])}).finally(()=>{a&&r.removeMessageHandler(a)})})()}}function oi(){return window}function xk(){return typeof oi().WorkerGlobalScope<"u"&&"function"==typeof oi().importScripts}function Ck(){return(Ck=_(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const CH="firebaseLocalStorageDb",d0="firebaseLocalStorage",EH="fbase_key";class Og{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function h0(n,e){return n.transaction([d0],e?"readwrite":"readonly").objectStore(d0)}function Ek(){const n=indexedDB.open(CH,1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(d0,{keyPath:EH})}catch(r){t(r)}}),n.addEventListener("success",_(function*(){const i=n.result;i.objectStoreNames.contains(d0)?e(i):(i.close(),yield function uEe(){const n=indexedDB.deleteDatabase(CH);return new Og(n).toPromise()}(),e(yield Ek()))}))})}function TH(n,e,t){return Tk.apply(this,arguments)}function Tk(){return(Tk=_(function*(n,e,t){const i=h0(n,!0).put({[EH]:e,value:t});return new Og(i).toPromise()})).apply(this,arguments)}function Ik(){return(Ik=_(function*(n,e){const t=h0(n,!1).get(e),i=yield new Og(t).toPromise();return void 0===i?null:i.value})).apply(this,arguments)}function IH(n,e){const t=h0(n,!0).delete(e);return new Og(t).toPromise()}const pEe=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return _(function*(){return t.db||(t.db=yield Ek()),t.db})()}_withRetries(t){var i=this;return _(function*(){let r=0;for(;;)try{const o=yield i._openDb();return yield t(o)}catch(o){if(r++>3)throw o;i.db&&(i.db.close(),i.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return _(function*(){return xk()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return _(function*(){t.receiver=iEe._getInstance(function cEe(){return xk()?self:null}()),t.receiver._subscribe("keyChanged",function(){var i=_(function*(r,o){return{keyProcessed:(yield t._poll()).includes(o.key)}});return function(r,o){return i.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var i=_(function*(r,o){return["keyChanged"]});return function(r,o){return i.apply(this,arguments)}}())})()}initializeSender(){var t=this;return _(function*(){var i,r;if(t.activeServiceWorker=yield function sEe(){return Ck.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new rEe(t.activeServiceWorker);const o=yield t.sender._send("ping",{},800);o&&null!==(i=o[0])&&void 0!==i&&i.fulfilled&&null!==(r=o[0])&&void 0!==r&&r.value.includes("keyChanged")&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var i=this;return _(function*(){if(i.sender&&i.activeServiceWorker&&function aEe(){var n;return(null===(n=navigator?.serviceWorker)||void 0===n?void 0:n.controller)||null}()===i.activeServiceWorker)try{yield i.sender._send("keyChanged",{key:t},i.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return _(function*(){try{if(!indexedDB)return!1;const t=yield Ek();return yield TH(t,u0,"1"),yield IH(t,u0),!0}catch{}return!1})()}_withPendingWrite(t){var i=this;return _(function*(){i.pendingWrites++;try{yield t()}finally{i.pendingWrites--}})()}_set(t,i){var r=this;return _(function*(){return r._withPendingWrite(_(function*(){return yield r._withRetries(o=>TH(o,t,i)),r.localCache[t]=i,r.notifyServiceWorker(t)}))})()}_get(t){var i=this;return _(function*(){const r=yield i._withRetries(o=>function dEe(n,e){return Ik.apply(this,arguments)}(o,t));return i.localCache[t]=r,r})()}_remove(t){var i=this;return _(function*(){return i._withPendingWrite(_(function*(){return yield i._withRetries(r=>IH(r,t)),delete i.localCache[t],i.notifyServiceWorker(t)}))})()}_poll(){var t=this;return _(function*(){const i=yield t._withRetries(s=>{const a=h0(s,!1).getAll();return new Og(a).toPromise()});if(!i)return[];if(0!==t.pendingWrites)return[];const r=[],o=new Set;for(const{fbase_key:s,value:a}of i)o.add(s),JSON.stringify(t.localCache[s])!==JSON.stringify(a)&&(t.notifyListeners(s,a),r.push(s));for(const s of Object.keys(t.localCache))t.localCache[s]&&!o.has(s)&&(t.notifyListeners(s,null),r.push(s));return r})()}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(i)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval(_(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();sH("rcb"),new vg(3e4,6e4);class Nk extends Tg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ma(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ma(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ma(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function AEe(n){return bH(n.auth,new Nk(n),n.bypassAuthState)}function kEe(n){const{auth:e,user:t}=n;return oe(t,e,"internal-error"),function _H(n,e){return qA.apply(this,arguments)}(t,new Nk(n),n.bypassAuthState)}function OEe(n){return Fk.apply(this,arguments)}function Fk(){return(Fk=_(function*(n){const{auth:e,user:t}=n;return oe(t,e,"internal-error"),function HA(n,e){return $A.apply(this,arguments)}(t,new Nk(n),n.bypassAuthState)})).apply(this,arguments)}class PEe{constructor(e,t,i,r,o=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=_(function*(i,r){e.pendingPromise={resolve:i,reject:r};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(o){e.reject(o)}});return function(i,r){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return _(function*(){const{urlResponse:i,sessionId:r,postBody:o,tenantId:s,error:a,type:c}=e;if(a)return void t.reject(a);const l={auth:t.auth,requestUri:i,sessionId:r,tenantId:s||void 0,postBody:o||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(c)(l))}catch(u){t.reject(u)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return AEe;case"linkViaPopup":case"linkViaRedirect":return OEe;case"reauthViaPopup":case"reauthViaRedirect":return kEe;default:jr(this.auth,"internal-error")}}resolve(e){hc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){hc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new vg(2e3,1e4);const REe="pendingRedirect",Pg=new Map;class NEe extends PEe{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}execute(){var e=()=>super.execute,t=this;return _(function*(){let i=Pg.get(t.auth._key());if(!i){try{const o=(yield function FEe(n,e){return zk.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;i=()=>Promise.resolve(o)}catch(r){i=()=>Promise.reject(r)}Pg.set(t.auth._key(),i)}return t.bypassAuthState||Pg.set(t.auth._key(),()=>Promise.resolve(null)),i()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,i=this;return _(function*(){if("signInViaRedirect"===e.type)return t().call(i,e);if("unknown"!==e.type){if(e.eventId){const r=yield i.auth._redirectUserForId(e.eventId);if(r)return i.user=r,t().call(i,e);i.resolve(null)}}else i.resolve(null)})()}onExecution(){return _(function*(){})()}cleanUp(){}}function zk(){return(zk=_(function*(n,e){const t=function SH(n){return n0(REe,n.config.apiKey,n.name)}(e),i=function DH(n){return ga(n._redirectPersistence)}(n);if(!(yield i._isAvailable()))return!1;const r="true"===(yield i._get(t));return yield i._remove(t),r})).apply(this,arguments)}function LEe(n,e){Pg.set(n._key(),e)}function AH(n,e){return Kk.apply(this,arguments)}function Kk(){return(Kk=_(function*(n,e,t=!1){const i=Ii(n),r=function Ll(n,e){return e?ga(e):(oe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}(i,e),s=yield new NEe(i,r,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield i._persistUserIfCurrent(s.user),yield i._setRedirectUser(null,e)),s})).apply(this,arguments)}class jEe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function HEe(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return PH(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!PH(e)){const r=(null===(i=e.error.code)||void 0===i?void 0:i.split("auth/")[1])||"internal-error";t.onError(Is(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(OH(e))}saveEventToCache(e){this.cachedEventUids.add(OH(e)),this.lastProcessedEventTime=Date.now()}}function OH(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function PH({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===e?.code}function Yk(){return(Yk=_(function*(n,e={}){return jn(n,"GET","/v1/projects",e)})).apply(this,arguments)}const GEe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qEe=/^https?/;function Xk(){return Xk=_(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield function $Ee(n){return Yk.apply(this,arguments)}(n);for(const t of e)try{if(KEe(t))return}catch{}jr(n,"unauthorized-domain")}),Xk.apply(this,arguments)}function KEe(n){const e=yg(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const s=new URL(n);return""===s.hostname&&""===i?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&s.hostname===i}if(!qEe.test(t))return!1;if(GEe.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}const QEe=new vg(3e4,6e4);function RH(){const n=oi().___jsl;if(n?.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let p0=null;const ZEe=new vg(5e3,15e3),JEe="__/auth/iframe",e1e="emulator/auth/iframe",t1e={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},n1e=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function i1e(n){const e=n.config;oe(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?nA(e,e1e):`https://${n.config.authDomain}/${JEe}`,i={apiKey:e.apiKey,appName:n.name,v:la},r=n1e.get(n.config.apiHost);r&&(i.eid=r);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${t}?${eh(i).slice(1)}`}function Zk(){return Zk=_(function*(n){const e=yield function XEe(n){return p0=p0||function YEe(n){return new Promise((e,t)=>{var i,r,o;function s(){RH(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{RH(),t(Is(n,"network-request-failed"))},timeout:QEe.get()})}if(null!==(r=null===(i=oi().gapi)||void 0===i?void 0:i.iframes)&&void 0!==r&&r.Iframe)e(gapi.iframes.getContext());else{if(null===(o=oi().gapi)||void 0===o||!o.load){const a=sH("iframefcb");return oi()[a]=()=>{gapi.load?s():t(Is(n,"network-request-failed"))},bA(`https://apis.google.com/js/api.js?onload=${a}`).catch(c=>t(c))}s()}}).catch(e=>{throw p0=null,e})}(n),p0}(n),t=oi().gapi;return oe(t,n,"internal-error"),e.open({where:document.body,url:i1e(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:t1e,dontclear:!0},i=>new Promise(function(){var r=_(function*(o,s){yield i.restyle({setHideOnLeave:!1});const a=Is(n,"network-request-failed"),c=oi().setTimeout(()=>{s(a)},ZEe.get());function l(){oi().clearTimeout(c),o(i)}i.ping(l).then(l,()=>{s(a)})});return function(o,s){return r.apply(this,arguments)}}()))}),Zk.apply(this,arguments)}const o1e={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class NH{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const h1e="__/auth/handler",f1e="emulator/auth/handler",p1e=encodeURIComponent("fac");function FH(n,e,t,i,r,o){return Jk.apply(this,arguments)}function Jk(){return(Jk=_(function*(n,e,t,i,r,o){oe(n.config.authDomain,n,"auth-domain-config-required"),oe(n.config.apiKey,n,"invalid-api-key");const s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:la,eventId:r};if(e instanceof _a){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",wM(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries(o||{}))s[u]=d}if(e instanceof DCe){const u=e.getScopes().filter(d=>""!==d);u.length>0&&(s.scopes=u.join(","))}n.tenantId&&(s.tid=n.tenantId);const a=s;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const c=yield n._getAppCheckToken(),l=c?`#${p1e}=${encodeURIComponent(c)}`:"";return`${function g1e({config:n}){return n.emulator?nA(n,f1e):`https://${n.authDomain}/${h1e}`}(n)}?${eh(a).slice(1)}${l}`})).apply(this,arguments)}const eO="webStorageSupport",_1e=class m1e{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xH,this._completeRedirectFn=AH,this._overrideRedirectResult=LEe}_openPopup(e,t,i,r){var o=this;return _(function*(){var s;hc(null===(s=o.eventManagers[e._key()])||void 0===s?void 0:s.manager,"_initialize() not called before _openPopup()");const a=yield FH(e,t,i,yg(),r);return function u1e(n,e,t,i=500,r=600){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),s=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const c=Object.assign(Object.assign({},o1e),{width:i.toString(),height:r.toString(),top:o,left:s}),l=Zn().toLowerCase();t&&(a=Q8(l)?"_blank":t),K8(l)&&(e=e||"http://localhost",c.scrollbars="yes");const u=Object.entries(c).reduce((h,[g,y])=>`${h}${g}=${y},`,"");if(function eCe(n=Zn()){var e;return r0(n)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(l)&&"_self"!==a)return function d1e(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}(e||"",a),new NH(null);const d=window.open(e||"",a,u);oe(d,n,"popup-blocked");try{d.focus()}catch{}return new NH(d)}(e,a,wk())})()}_openRedirect(e,t,i,r){var o=this;return _(function*(){return yield o._originValidation(e),function oEe(n){oi().location.href=n}(yield FH(e,t,i,yg(),r)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:r,promise:o}=this.eventManagers[t];return r?Promise.resolve(r):(hc(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}initAndGetManager(e){var t=this;return _(function*(){const i=yield function r1e(n){return Zk.apply(this,arguments)}(e),r=new jEe(e);return i.register("authEvent",o=>(oe(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:r},t.iframes[e._key()]=i,r})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(eO,{type:eO},r=>{var o;const s=null===(o=r?.[0])||void 0===o?void 0:o[eO];void 0!==s&&t(!!s),jr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function WEe(n){return Xk.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return eH()||gA()||r0()}};var UH="@firebase/auth";class b1e{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return _(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const x1e=q9("authIdTokenMaxAge")||300;let jH=null;const C1e=n=>function(){var e=_(function*(t){const i=t&&(yield t.getIdTokenResult()),r=i&&((new Date).getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>x1e)return;const o=i?.token;jH!==o&&(jH=o,yield fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))});return function(t){return e.apply(this,arguments)}}();function E1e(n=th()){const e=aa(n,"auth");if(e.isInitialized())return e.getImmediate();const t=function uCe(n,e){const t=aa(n,"auth");if(t.isInitialized()){const r=t.getImmediate();if(Pv(t.getOptions(),e??{}))return r;jr(r,"already-initialized")}return t.initialize({options:e})}(n,{popupRedirectResolver:_1e,persistence:[pEe,tEe,xH]}),i=q9("authTokenSyncURL");if(i){const o=C1e(i);(function GCe(n,e,t){kt(n).beforeAuthStateChanged(e,t)})(t,o,()=>o(t.currentUser)),function $Ce(n,e,t,i){kt(n).onIdTokenChanged(e,t,i)}(t,s=>o(s))}const r=$9("auth");return r&&function hCe(n,e,t){const i=Ii(n);oe(i._canInitEmulator,i,"emulator-config-failed"),oe(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!!t?.disableWarnings,o=lH(e),{host:s,port:a}=function fCe(n){const e=lH(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const o=r[1];return{host:o,port:uH(i.substr(o.length+1))}}{const[o,s]=i.split(":");return{host:o,port:uH(s)}}}(e);i.config.emulator={url:`${o}//${s}${null===a?"":`:${a}`}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||function pCe(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(t,`http://${r}`),t}!function v1e(n){Ci(new bi("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=i.options;oe(s&&!s.includes(":"),"invalid-api-key",{appName:i.name});const c={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tH(n)},l=new lCe(i,r,o,c);return function dCe(n,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(ga);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Ci(new bi("auth-internal",e=>{const t=Ii(e.getProvider("auth").getImmediate());return new b1e(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Pt(UH,"0.23.2",function y1e(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),Pt(UH,"0.23.2","esm2017")}("Browser");class Be{constructor(e){return e}}class m0{constructor(){return fg("auth")}}const nO=new X("angularfire2.auth-instances");function I1e(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new Be(i)}}const M1e={provide:m0,deps:[[new en,nO]]},D1e={provide:Be,useFactory:function T1e(n,e){const t=hg("auth",n,e);return t&&new Be(t)},deps:[[new en,nO],dc]};let S1e=(()=>{class n{constructor(){Pt("angularfire",rh.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=et({type:n}),n.\u0275inj=Je({providers:[D1e,M1e]}),n})();function A1e(n,...e){return{ngModule:S1e,providers:[{provide:nO,useFactory:I1e(n),multi:!0,deps:[Me,Gt,pg,gg,[new en,bg],...e]}]}}const $H=Ti(NCe,!0),Ho=Ti(E1e,!0),Ds=Ti(qCe,!0),iO=Ti(FCe,!0),si=Ti(WCe,!0);let GH=(()=>{class n{constructor(t,i){this.auth=t,this.router=i,this.title="gestion-muestras"}Login(){this.router.navigate(["/auth/login"])}handleSignOut(){si(this.auth).then(()=>{}).catch(t=>{console.log("here")})}Home(){this.router.navigate(["auth/select"])}static{this.\u0275fac=function(i){return new(i||n)(E(Be),E(Se))}}static{this.\u0275cmp=xe({type:n,selectors:[["app-auth"]],decls:15,vars:0,consts:[[1,"navbar"],[1,"tituloBox"],[1,"tituloText"],[1,"tituloSubText"],[1,"logoAgro"],[1,"logoUcv"],[1,"homeBox",3,"click"],[1,"UserLogo"],[1,"homeText"],[1,"homeLogo"]],template:function(i,r){1&i&&(p(0,"div",0)(1,"div",1)(2,"span",2),m(3,"Clinica de Plantas "),f(),Y(4,"br"),p(5,"span",3),m(6,"Gesti\xf3n de Muestras"),f()(),Y(7,"div",4)(8,"div",5),p(9,"div",6),Q("click",function(){return r.Login()}),Y(10,"div",7),p(11,"span",8),m(12,"Ingresar"),f(),Y(13,"div",9),f()(),Y(14,"router-outlet"))},dependencies:[El],styles:[".navbar[_ngcontent-%COMP%]{background-color:#0a9217;width:100%;height:6.75em;position:absolute;left:0%;top:0%}.tituloBox[_ngcontent-%COMP%]{width:100%;height:6.75em;position:absolute;left:0%;top:0%;display:flex;flex-direction:column;justify-content:center;align-items:center}.tituloText[_ngcontent-%COMP%]{color:#fff;display:block;line-height:.5em;font-family:Verdana;font-weight:700;font-size:40px;letter-spacing:0}.tituloSubText[_ngcontent-%COMP%]{color:#fff;display:block;line-height:1.2em;font-family:Verdana;font-weight:700;font-size:20px;letter-spacing:0}.logoAgro[_ngcontent-%COMP%]{width:100px;height:69px;position:absolute;left:140px;top:1em;background-image:url(Logo-Agronomia2.2ed90bcafa53fa56.png);background-repeat:no-repeat;background-size:cover}.logoUcv[_ngcontent-%COMP%]{width:69px;height:69px;position:absolute;left:30px;top:1em;background-image:url(logo_ucv_bg2_1.32a61806277cba42.png);background-repeat:no-repeat;background-size:cover}.homeBox[_ngcontent-%COMP%]{width:25%;height:10%;position:absolute;cursor:pointer;left:75%;top:0%;text-align:center}.homeText[_ngcontent-%COMP%]{color:#fff;display:inline-block;vertical-align:middle;line-height:2.8em;font-family:Verdana;font-size:32px;letter-spacing:0;position:absolute;right:.75em;top:30%}.UserLogo[_ngcontent-%COMP%]{position:absolute;top:1.85em;right:10.94em;width:36px;height:36px;text-align:center;background-image:url(userWhite.1acab0fe6d96dff4.png);background-repeat:no-repeat;background-size:cover}@media only screen and (max-width: 768px){.homeBox[_ngcontent-%COMP%]{border-right:4px solid white;width:20%;height:6.75em;position:absolute;left:0;top:0%}.homeText[_ngcontent-%COMP%]{display:none}.UserLogo[_ngcontent-%COMP%]{position:absolute;top:2.2em;left:25%;width:36px;height:36px;text-align:center;background-image:url(userWhite.1acab0fe6d96dff4.png);background-repeat:no-repeat;background-size:cover}.logoAgro[_ngcontent-%COMP%]{width:45px;height:35px;position:absolute;left:87%;top:4em;background-image:url(Logo-Agronomia2.2ed90bcafa53fa56.png);background-repeat:no-repeat;background-size:cover}.logoUcv[_ngcontent-%COMP%]{width:35px;height:35px;position:absolute;left:23%;top:4em;background-image:url(logo_ucv_bg2_1.32a61806277cba42.png);background-repeat:no-repeat;background-size:cover}.tituloBox[_ngcontent-%COMP%]{width:80%;height:6.75em;position:absolute;left:20%;top:0%;text-align:center}.tituloText[_ngcontent-%COMP%]{color:#fff;line-height:1.6;display:inline-block;vertical-align:middle;font-family:Verdana;font-size:32px;letter-spacing:0px}.homeLogo[_ngcontent-%COMP%]{display:none}}"]})}}return n})();var he,k1e=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},$o={},rO=rO||{},$e=k1e||self;function _0(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Rg(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var oO="closure_uid_"+(1e9*Math.random()>>>0),P1e=0;function R1e(n,e,t){return n.call.apply(n.bind,arguments)}function N1e(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function or(n,e,t){return(or=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?R1e:N1e).apply(null,arguments)}function b0(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Mi(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(i,r,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[r].apply(i,s)}}function gc(){this.s=this.s,this.o=this.o}gc.prototype.s=!1,gc.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function O1e(n){Object.prototype.hasOwnProperty.call(n,oO)&&n[oO]||(n[oO]=++P1e)}(this)},gc.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const qH=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function sO(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function WH(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(_0(i)){const r=n.length||0,o=i.length||0;n.length=r+o;for(let s=0;s<o;s++)n[r+s]=i[s]}else n.push(i)}}function sr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}sr.prototype.h=function(){this.defaultPrevented=!0};var L1e=function(){if(!$e.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{$e.addEventListener("test",()=>{},e),$e.removeEventListener("test",()=>{},e)}catch{}return n}();function Ng(n){return/^[\s\xa0]*$/.test(n)}function y0(){var n=$e.navigator;return n&&(n=n.userAgent)?n:""}function Ss(n){return-1!=y0().indexOf(n)}function aO(n){return aO[" "](n),n}aO[" "]=function(){};var lO,n,B1e=Ss("Opera"),dh=Ss("Trident")||Ss("MSIE"),KH=Ss("Edge"),cO=KH||dh,QH=Ss("Gecko")&&!(-1!=y0().toLowerCase().indexOf("webkit")&&!Ss("Edge"))&&!(Ss("Trident")||Ss("MSIE"))&&!Ss("Edge"),U1e=-1!=y0().toLowerCase().indexOf("webkit")&&!Ss("Edge");function YH(){var n=$e.document;return n?n.documentMode:void 0}e:{var uO="",dO=(n=y0(),QH?/rv:([^\);]+)(\)|;)/.exec(n):KH?/Edge\/([\d\.]+)/.exec(n):dh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):U1e?/WebKit\/(\S+)/.exec(n):B1e?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(dO&&(uO=dO?dO[1]:""),dh){var hO=YH();if(null!=hO&&hO>parseFloat(uO)){lO=String(hO);break e}}lO=uO}var z1e=$e.document&&dh&&(YH()||parseInt(lO,10))||void 0;function Fg(n,e){if(sr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(QH){e:{try{aO(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:j1e[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Fg.$.h.call(this)}}Mi(Fg,sr);var j1e={2:"touch",3:"pen",4:"mouse"};Fg.prototype.h=function(){Fg.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Lg="closure_listenable_"+(1e6*Math.random()|0),H1e=0;function $1e(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.la=r,this.key=++H1e,this.fa=this.ia=!1}function v0(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function pO(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function ZH(n){const e={};for(const t in n)e[t]=n[t];return e}const JH="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function e$(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let o=0;o<JH.length;o++)t=JH[o],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function w0(n){this.src=n,this.g={},this.h=0}function gO(n,e){var t=e.type;if(t in n.g){var o,i=n.g[t],r=qH(i,e);(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(v0(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function mO(n,e,t,i){for(var r=0;r<n.length;++r){var o=n[r];if(!o.fa&&o.listener==e&&o.capture==!!t&&o.la==i)return r}return-1}w0.prototype.add=function(n,e,t,i,r){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var s=mO(n,e,i,r);return-1<s?(e=n[s],t||(e.ia=!1)):((e=new $1e(e,this.src,o,!!i,r)).ia=t,n.push(e)),e};var _O="closure_lm_"+(1e6*Math.random()|0),bO={};function t$(n,e,t,i,r){if(i&&i.once)return i$(n,e,t,i,r);if(Array.isArray(e)){for(var o=0;o<e.length;o++)t$(n,e[o],t,i,r);return null}return t=xO(t),n&&n[Lg]?n.O(e,t,Rg(i)?!!i.capture:!!i,r):n$(n,e,t,!1,i,r)}function n$(n,e,t,i,r,o){if(!e)throw Error("Invalid event type");var s=Rg(r)?!!r.capture:!!r,a=vO(n);if(a||(n[_O]=a=new w0(n)),(t=a.add(e,t,i,s,o)).proxy)return t;if(i=function q1e(){const e=W1e;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)L1e||(r=s),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(o$(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function i$(n,e,t,i,r){if(Array.isArray(e)){for(var o=0;o<e.length;o++)i$(n,e[o],t,i,r);return null}return t=xO(t),n&&n[Lg]?n.P(e,t,Rg(i)?!!i.capture:!!i,r):n$(n,e,t,!0,i,r)}function r$(n,e,t,i,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)r$(n,e[o],t,i,r);else i=Rg(i)?!!i.capture:!!i,t=xO(t),n&&n[Lg]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=mO(o=n.g[e],t,i,r))&&(v0(o[t]),Array.prototype.splice.call(o,t,1),0==o.length&&(delete n.g[e],n.h--))):n&&(n=vO(n))&&(e=n.g[e.toString()],n=-1,e&&(n=mO(e,t,i,r)),(t=-1<n?e[n]:null)&&yO(t))}function yO(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Lg])gO(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(o$(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=vO(e))?(gO(t,n),0==t.h&&(t.src=null,e[_O]=null)):v0(n)}}}function o$(n){return n in bO?bO[n]:bO[n]="on"+n}function W1e(n,e){if(n.fa)n=!0;else{e=new Fg(e,this);var t=n.listener,i=n.la||n.src;n.ia&&yO(n),n=t.call(i,e)}return n}function vO(n){return(n=n[_O])instanceof w0?n:null}var wO="__closure_events_fn_"+(1e9*Math.random()>>>0);function xO(n){return"function"==typeof n?n:(n[wO]||(n[wO]=function(e){return n.handleEvent(e)}),n[wO])}function Di(){gc.call(this),this.i=new w0(this),this.S=this,this.J=null}function $i(n,e){var t,i=n.J;if(i)for(t=[];i;i=i.J)t.push(i);if(n=n.S,i=e.type||e,"string"==typeof e)e=new sr(e,n);else if(e instanceof sr)e.target=e.target||n;else{var r=e;e$(e=new sr(i,n),r)}if(r=!0,t)for(var o=t.length-1;0<=o;o--){var s=e.g=t[o];r=x0(s,i,!0,e)&&r}if(r=x0(s=e.g=n,i,!0,e)&&r,r=x0(s,i,!1,e)&&r,t)for(o=0;o<t.length;o++)r=x0(s=e.g=t[o],i,!1,e)&&r}function x0(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==t){var a=s.listener,c=s.la||s.src;s.ia&&gO(n.i,s),r=!1!==a.call(c,i)&&r}}return r&&!i.defaultPrevented}Mi(Di,gc),Di.prototype[Lg]=!0,Di.prototype.removeEventListener=function(n,e,t,i){r$(this,n,e,t,i)},Di.prototype.N=function(){if(Di.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)v0(t[i]);delete n.g[e],n.h--}}this.J=null},Di.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},Di.prototype.P=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var CO=$e.JSON.stringify;function Q1e(){var n=EO;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var s$=new class K1e{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new X1e,n=>n.reset());class X1e{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Z1e(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function J1e(n){$e.setTimeout(()=>{throw n},0)}let Vg,Bg=!1,EO=new class Y1e{constructor(){this.h=this.g=null}add(e,t){const i=s$.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}},a$=()=>{const n=$e.Promise.resolve(void 0);Vg=()=>{n.then(eTe)}};var eTe=()=>{for(var n;n=Q1e();){try{n.h.call(n.g)}catch(t){J1e(t)}var e=s$;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Bg=!1};function C0(n,e){Di.call(this),this.h=n||1,this.g=e||$e,this.j=or(this.qb,this),this.l=Date.now()}function TO(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function IO(n,e,t){if("function"==typeof n)t&&(n=or(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=or(n.handleEvent,n)}return 2147483647<Number(e)?-1:$e.setTimeout(n,e||0)}function c$(n){n.g=IO(()=>{n.g=null,n.i&&(n.i=!1,c$(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Mi(C0,Di),(he=C0.prototype).ga=!1,he.T=null,he.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),$i(this,"tick"),this.ga&&(TO(this),this.start()))}},he.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},he.N=function(){C0.$.N.call(this),TO(this),delete this.g};class tTe extends gc{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:c$(this)}N(){super.N(),this.g&&($e.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ug(n){gc.call(this),this.h=n,this.g={}}Mi(Ug,gc);var l$=[];function u$(n,e,t,i){Array.isArray(t)||(t&&(l$[0]=t.toString()),t=l$);for(var r=0;r<t.length;r++){var o=t$(e,t[r],i||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function d$(n){pO(n.g,function(e,t){this.g.hasOwnProperty(t)&&yO(e)},n),n.g={}}function E0(){this.g=!0}function hh(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function oTe(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<r.length;s++)r[s]=""}}}return CO(t)}catch{return e}}(n,t)+(i?" "+i:"")})}Ug.prototype.N=function(){Ug.$.N.call(this),d$(this)},Ug.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},E0.prototype.Ea=function(){this.g=!1},E0.prototype.info=function(){};var Vl={},h$=null;function T0(){return h$=h$||new Di}function f$(n){sr.call(this,Vl.Ta,n)}function zg(n){const e=T0();$i(e,new f$(e))}function p$(n,e){sr.call(this,Vl.STAT_EVENT,n),this.stat=e}function xr(n){const e=T0();$i(e,new p$(e,n))}function g$(n,e){sr.call(this,Vl.Ua,n),this.size=e}function jg(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return $e.setTimeout(function(){n()},e)}Vl.Ta="serverreachability",Mi(f$,sr),Vl.STAT_EVENT="statevent",Mi(p$,sr),Vl.Ua="timingevent",Mi(g$,sr);var I0={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},m$={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function MO(){}function b$(){}MO.prototype.h=null;var AO,Hg={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function DO(){sr.call(this,"d")}function SO(){sr.call(this,"c")}function M0(){}function $g(n,e,t,i){this.l=n,this.j=e,this.m=t,this.W=i||1,this.U=new Ug(this),this.P=sTe,this.V=new C0(n=cO?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new y$}function y$(){this.i=null,this.g="",this.h=!1}Mi(DO,sr),Mi(SO,sr),Mi(M0,MO),M0.prototype.g=function(){return new XMLHttpRequest},M0.prototype.i=function(){return{}},AO=new M0;var sTe=45e3,kO={},D0={};function OO(n,e,t){n.L=1,n.v=O0(ba(e)),n.s=t,n.S=!0,v$(n,null)}function v$(n,e){n.G=Date.now(),Gg(n),n.A=ba(n.v);var t=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),A$(t.i,"t",i),n.C=0,t=n.l.J,n.h=new y$,n.g=eG(n.l,t?e:null,!n.s),0<n.O&&(n.M=new tTe(or(n.Pa,n,n.g),n.O)),u$(n.U,n.g,"readystatechange",n.nb),e=n.I?ZH(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),zg(),function nTe(n,e,t,i,r,o){n.info(function(){if(n.g)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var d=u.split("_");s=2<=d.length&&"type"==d[1]?s+(u+"=")+l+"&":s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+s})}(n.j,n.u,n.A,n.m,n.W,n.s)}function w$(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function x$(n,e,t){let r,i=!0;for(;!n.J&&n.C<t.length;){if(r=aTe(n,t),r==D0){4==e&&(n.o=4,xr(14),i=!1),hh(n.j,n.m,null,"[Incomplete Response]");break}if(r==kO){n.o=4,xr(15),hh(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}hh(n.j,n.m,r,null),PO(n,r)}w$(n)&&r!=D0&&r!=kO&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,xr(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),UO(e),e.M=!0,xr(11))):(hh(n.j,n.m,t,"[Invalid Chunked Response]"),Bl(n),qg(n))}function aTe(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?D0:(t=Number(e.substring(t,i)),isNaN(t)?kO:(i+=1)+t>e.length?D0:(e=e.slice(i,i+t),n.C=i+t,e))}function Gg(n){n.Y=Date.now()+n.P,C$(n,n.P)}function C$(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=jg(or(n.lb,n),e)}function S0(n){n.B&&($e.clearTimeout(n.B),n.B=null)}function qg(n){0==n.l.H||n.J||Y$(n.l,n)}function Bl(n){S0(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,TO(n.V),d$(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function PO(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||RO(t.i,n)))if(!n.K&&RO(t.i,n)&&3==t.H){try{var i=t.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;V0(t),F0(t)}BO(t),xr(18)}}else t.Fa=r[1],0<t.Fa-t.V&&37500>r[2]&&t.G&&0==t.A&&!t.v&&(t.v=jg(or(t.ib,t),6e3));if(1>=P$(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else zl(t,11)}else if((n.K||t.g==n)&&V0(t),!Ng(e))for(r=t.Ja.g.parse(e),e=0;e<r.length;e++){let l=r[e];if(t.V=l[0],l=l[1],2==t.H)if("c"==l[0]){t.K=l[1],t.pa=l[2];const u=l[3];null!=u&&(t.ra=u,t.l.info("VER="+t.ra));const d=l[4];null!=d&&(t.Ga=d,t.l.info("SVER="+t.Ga));const h=l[5];null!=h&&"number"==typeof h&&0<h&&(t.L=i=1.5*h,t.l.info("backChannelRequestTimeoutMs_="+i)),i=t;const g=n.g;if(g){const y=g.g?g.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(y){var o=i.i;o.g||-1==y.indexOf("spdy")&&-1==y.indexOf("quic")&&-1==y.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(NO(o,o.h),o.h=null))}if(i.F){const C=g.g?g.g.getResponseHeader("X-HTTP-Session-Id"):null;C&&(i.Da=C,dn(i.I,i.F,C))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var s=n;if((i=t).wa=J$(i,i.J?i.pa:null,i.Y),s.K){R$(i.i,s);var a=s,c=i.L;c&&a.setTimeout(c),a.B&&(S0(a),Gg(a)),i.g=s}else K$(i);0<t.j.length&&L0(t)}else"stop"!=l[0]&&"close"!=l[0]||zl(t,7);else 3==t.H&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?zl(t,7):VO(t):"noop"!=l[0]&&t.h&&t.h.Aa(l),t.A=0)}zg()}catch{}}function E$(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(_0(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function lTe(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(_0(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function cTe(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(_0(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length,o=0;o<r;o++)e.call(void 0,i[o],t&&t[o],n)}(he=$g.prototype).setTimeout=function(n){this.P=n},he.nb=function(n){n=n.target;const e=this.M;e&&3==As(n)?e.l():this.Pa(n)},he.Pa=function(n){try{if(n==this.g)e:{const u=As(this.g);var e=this.g.Ia();if(this.g.da(),!(3>u)&&(3!=u||cO||this.g&&(this.h.h||this.g.ja()||j$(this.g)))){this.J||4!=u||7==e||zg(),S0(this);var t=this.g.da();this.ca=t;t:if(w$(this)){var i=j$(this.g);n="";var r=i.length,o=4==As(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Bl(this),qg(this);var s="";break t}this.h.i=new $e.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:o&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==t,function iTe(n,e,t,i,r,o,s){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+o+" "+s})}(this.j,this.u,this.A,this.m,this.W,u,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ng(a)){var l=a;break t}}l=null}if(!(t=l)){this.i=!1,this.o=3,xr(12),Bl(this),qg(this);break e}hh(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,PO(this,t)}this.S?(x$(this,u,s),cO&&this.i&&3==u&&(u$(this.U,this.V,"tick",this.mb),this.V.start())):(hh(this.j,this.m,s,null),PO(this,s)),4==u&&Bl(this),this.i&&!this.J&&(4==u?Y$(this.l,this):(this.i=!1,Gg(this)))}else(function MTe(n){const e={};n=(n.g&&2<=As(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(Ng(n[i]))continue;var t=Z1e(n[i]);const r=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const o=e[r]||[];e[r]=o,o.push(t)}!function G1e(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(i){return i.join(", ")})})(this.g),400==t&&0<s.indexOf("Unknown SID")?(this.o=3,xr(12)):(this.o=0,xr(13)),Bl(this),qg(this)}}}catch{}},he.mb=function(){if(this.g){var n=As(this.g),e=this.g.ja();this.C<e.length&&(S0(this),x$(this,n,e),this.i&&4!=n&&Gg(this))}},he.cancel=function(){this.J=!0,Bl(this)},he.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function rTe(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(zg(),xr(17)),Bl(this),this.o=2,qg(this)):C$(this,this.Y-n)};var T$=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ul(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Ul){this.h=n.h,A0(this,n.j),this.s=n.s,this.g=n.g,k0(this,n.m),this.l=n.l;var e=n.i,t=new Qg;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),I$(this,t),this.o=n.o}else n&&(e=String(n).match(T$))?(this.h=!1,A0(this,e[1]||"",!0),this.s=Wg(e[2]||""),this.g=Wg(e[3]||"",!0),k0(this,e[4]),this.l=Wg(e[5]||"",!0),I$(this,e[6]||"",!0),this.o=Wg(e[7]||"")):(this.h=!1,this.i=new Qg(null,this.h))}function ba(n){return new Ul(n)}function A0(n,e,t){n.j=t?Wg(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function k0(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function I$(n,e,t){e instanceof Qg?(n.i=e,function mTe(n,e){e&&!n.j&&(mc(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(D$(this,i),A$(this,r,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Kg(e,pTe)),n.i=new Qg(e,n.h))}function dn(n,e,t){n.i.set(e,t)}function O0(n){return dn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Wg(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Kg(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,dTe),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function dTe(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Ul.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Kg(e,M$,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Kg(e,M$,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Kg(t,"/"==t.charAt(0)?fTe:hTe,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Kg(t,gTe)),n.join("")};var M$=/[#\/\?@]/g,hTe=/[#\?:]/g,fTe=/[#\?]/g,pTe=/[#\?@]/g,gTe=/#/g;function Qg(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function mc(n){n.g||(n.g=new Map,n.h=0,n.i&&function uTe(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var o=n[t].substring(0,i);r=n[t].substring(i+1)}else o=n[t];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function D$(n,e){mc(n),e=fh(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function S$(n,e){return mc(n),e=fh(n,e),n.g.has(e)}function A$(n,e,t){D$(n,e),0<t.length&&(n.i=null,n.g.set(fh(n,e),sO(t)),n.h+=t.length)}function fh(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}(he=Qg.prototype).add=function(n,e){mc(this),this.i=null,n=fh(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},he.forEach=function(n,e){mc(this),this.g.forEach(function(t,i){t.forEach(function(r){n.call(e,r,i,this)},this)},this)},he.ta=function(){mc(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const r=n[i];for(let o=0;o<r.length;o++)t.push(e[i])}return t},he.Z=function(n){mc(this);let e=[];if("string"==typeof n)S$(this,n)&&(e=e.concat(this.g.get(fh(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},he.set=function(n,e){return mc(this),this.i=null,S$(this,n=fh(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},he.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},he.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const o=encodeURIComponent(String(i)),s=this.Z(i);for(i=0;i<s.length;i++){var r=o;""!==s[i]&&(r+="="+encodeURIComponent(String(s[i]))),n.push(r)}}return this.i=n.join("&")};var _Te=class{constructor(n,e){this.g=n,this.map=e}};function k$(n){this.l=n||bTe,n=$e.PerformanceNavigationTiming?0<(n=$e.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!($e.g&&$e.g.Ka&&$e.g.Ka()&&$e.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var bTe=10;function O$(n){return!!n.h||!!n.g&&n.g.size>=n.j}function P$(n){return n.h?1:n.g?n.g.size:0}function RO(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function NO(n,e){n.g?n.g.add(e):n.h=e}function R$(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function N$(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return sO(n.i)}k$.prototype.cancel=function(){if(this.i=N$(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var yTe=class{stringify(n){return $e.JSON.stringify(n,void 0)}parse(n){return $e.JSON.parse(n,void 0)}};function vTe(){this.g=new yTe}function wTe(n,e,t){const i=t||"";try{E$(n,function(r,o){let s=r;Rg(r)&&(s=CO(r)),e.push(i+o+"="+encodeURIComponent(s))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function P0(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function Yg(n){this.l=n.fc||null,this.j=n.ob||!1}function R0(n,e){Di.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=FO,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Mi(Yg,MO),Yg.prototype.g=function(){return new R0(this.l,this.j)},Yg.prototype.i=function(n){return function(){return n}}({}),Mi(R0,Di);var FO=0;function F$(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Xg(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Zg(n)}function Zg(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(he=R0.prototype).open=function(n,e){if(this.readyState!=FO)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Zg(this)},he.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||$e).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},he.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Xg(this)),this.readyState=FO},he.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Zg(this)),this.g&&(this.readyState=3,Zg(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof $e.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;F$(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},he.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Xg(this):Zg(this),3==this.readyState&&F$(this)}},he.Za=function(n){this.g&&(this.response=this.responseText=n,Xg(this))},he.Ya=function(n){this.g&&(this.response=n,Xg(this))},he.ka=function(){this.g&&Xg(this)},he.setRequestHeader=function(n,e){this.v.append(n,e)},he.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},he.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(R0.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var CTe=$e.JSON.parse;function Hn(n){Di.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=L$,this.L=this.M=!1}Mi(Hn,Di);var L$="",ETe=/^https?$/i,TTe=["POST","PUT"];function V$(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,B$(n),N0(n)}function B$(n){n.F||(n.F=!0,$i(n,"complete"),$i(n,"error"))}function U$(n){if(n.h&&typeof rO<"u"&&(!n.C[1]||4!=As(n)||2!=n.da()))if(n.v&&4==As(n))IO(n.La,0,n);else if($i(n,"readystatechange"),4==As(n)){n.h=!1;try{const s=n.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===s){var r=String(n.I).match(T$)[1]||null;!r&&$e.self&&$e.self.location&&(r=$e.self.location.protocol.slice(0,-1)),i=!ETe.test(r?r.toLowerCase():"")}t=i}if(t)$i(n,"complete"),$i(n,"success");else{n.m=6;try{var o=2<As(n)?n.g.statusText:""}catch{o=""}n.j=o+" ["+n.da()+"]",B$(n)}}finally{N0(n)}}}function N0(n,e){if(n.g){z$(n);const t=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||$i(n,"ready");try{t.onreadystatechange=i}catch{}}}function z$(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&($e.clearTimeout(n.A),n.A=null)}function As(n){return n.g?n.g.readyState:0}function j$(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case L$:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function H$(n){let e="";return pO(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function LO(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=H$(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):dn(n,e,t))}function Jg(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function $$(n){this.Ga=0,this.j=[],this.l=new E0,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Jg("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Jg("baseRetryDelayMs",5e3,n),this.hb=Jg("retryDelaySeedMs",1e4,n),this.eb=Jg("forwardChannelMaxRetries",2,n),this.xa=Jg("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new k$(n&&n.concurrentRequestLimit),this.Ja=new vTe,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function VO(n){if(G$(n),3==n.H){var e=n.W++,t=ba(n.I);if(dn(t,"SID",n.K),dn(t,"RID",e),dn(t,"TYPE","terminate"),em(n,t),(e=new $g(n,n.l,e)).L=2,e.v=O0(ba(t)),t=!1,$e.navigator&&$e.navigator.sendBeacon)try{t=$e.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&$e.Image&&((new Image).src=e.v,t=!0),t||(e.g=eG(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Gg(e)}Z$(n)}function F0(n){n.g&&(UO(n),n.g.cancel(),n.g=null)}function G$(n){F0(n),n.u&&($e.clearTimeout(n.u),n.u=null),V0(n),n.i.cancel(),n.m&&("number"==typeof n.m&&$e.clearTimeout(n.m),n.m=null)}function L0(n){if(!O$(n.i)&&!n.m){n.m=!0;var e=n.Na;Vg||a$(),Bg||(Vg(),Bg=!0),EO.add(e,n),n.C=0}}function q$(n,e){var t;t=e?e.m:n.W++;const i=ba(n.I);dn(i,"SID",n.K),dn(i,"RID",t),dn(i,"AID",n.V),em(n,i),n.o&&n.s&&LO(i,n.o,n.s),t=new $g(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=W$(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),NO(n.i,t),OO(t,i,e)}function em(n,e){n.na&&pO(n.na,function(t,i){dn(e,i,t)}),n.h&&E$({},function(t,i){dn(e,i,t)})}function W$(n,e,t){t=Math.min(n.j.length,t);var i=n.h?or(n.h.Va,n.h,n):null;e:{var r=n.j;let o=-1;for(;;){const s=["count="+t];-1==o?0<t?(o=r[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let c=0;c<t;c++){let l=r[c].g;const u=r[c].map;if(l-=o,0>l)o=Math.max(0,r[c].g-100),a=!1;else try{wTe(u,s,"req"+l+"_")}catch{i&&i(u)}}if(a){i=s.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,i}function K$(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Vg||a$(),Bg||(Vg(),Bg=!0),EO.add(e,n),n.A=0}}function BO(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=jg(or(n.Ma,n),X$(n,n.A)),n.A++,0))}function UO(n){null!=n.B&&($e.clearTimeout(n.B),n.B=null)}function Q$(n){n.g=new $g(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=ba(n.wa);dn(e,"RID","rpc"),dn(e,"SID",n.K),dn(e,"AID",n.V),dn(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&dn(e,"TO",n.qa),dn(e,"TYPE","xmlhttp"),em(n,e),n.o&&n.s&&LO(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=O0(ba(e)),t.s=null,t.S=!0,v$(t,n)}function V0(n){null!=n.v&&($e.clearTimeout(n.v),n.v=null)}function Y$(n,e){var t=null;if(n.g==e){V0(n),UO(n),n.g=null;var i=2}else{if(!RO(n.i,e))return;t=e.F,R$(n.i,e),i=1}if(0!=n.H)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.G;var r=n.C;$i(i=T0(),new g$(i,t)),L0(n)}else K$(n);else if(3==(r=e.o)||0==r&&0<e.ca||!(1==i&&function DTe(n,e){return!(P$(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=jg(or(n.Na,n,e),X$(n,n.C)),n.C++,0)))}(n,e)||2==i&&BO(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),r){case 1:zl(n,5);break;case 4:zl(n,10);break;case 3:zl(n,6);break;default:zl(n,2)}}function X$(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function zl(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var i=or(n.pb,n);t||(t=new Ul("//www.google.com/images/cleardot.gif"),$e.location&&"http"==$e.location.protocol||A0(t,"https"),O0(t)),function xTe(n,e){const t=new E0;if($e.Image){const i=new Image;i.onload=b0(P0,t,i,"TestLoadImage: loaded",!0,e),i.onerror=b0(P0,t,i,"TestLoadImage: error",!1,e),i.onabort=b0(P0,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=b0(P0,t,i,"TestLoadImage: timeout",!1,e),$e.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else xr(2);n.H=0,n.h&&n.h.za(e),Z$(n),G$(n)}function Z$(n){if(n.H=0,n.ma=[],n.h){const e=N$(n.i);(0!=e.length||0!=n.j.length)&&(WH(n.ma,e),WH(n.ma,n.j),n.i.i.length=0,sO(n.j),n.j.length=0),n.h.ya()}}function J$(n,e,t){var i=t instanceof Ul?ba(t):new Ul(t);if(""!=i.g)e&&(i.g=e+"."+i.g),k0(i,i.m);else{var r=$e.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var o=new Ul(null);i&&A0(o,i),e&&(o.g=e),r&&k0(o,r),t&&(o.l=t),i=o}return e=n.Da,(t=n.F)&&e&&dn(i,t,e),dn(i,"VER",n.ra),em(n,i),i}function eG(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Hn(t&&n.Ha&&!n.va?new Yg({ob:!0}):n.va)).Oa(n.J),e}function tG(){}function B0(){if(dh&&!(10<=Number(z1e)))throw Error("Environmental error: no available transport.")}function no(n,e){Di.call(this),this.g=new $$(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Ng(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ng(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new ph(this)}function nG(n){DO.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function iG(){SO.call(this),this.status=1}function ph(n){this.g=n}function Go(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function zO(n,e,t){t||(t=0);var i=Array(16);if("string"==typeof e)for(var r=0;16>r;++r)i[r]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(r=0;16>r;++r)i[r]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var o=n.g[3],s=(e=n.g[0])+(o^(t=n.g[1])&((r=n.g[2])^o))+i[0]+3614090360&4294967295;s=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=t+(s<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(r^o))+i[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(r^o))+i[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(r^o))+i[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=e+(r^o&(t^r))+i[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=e+(r^o&(t^r))+i[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=e+(r^o&(t^r))+i[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=e+(r^o&(t^r))+i[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=e+(t^r^o)+i[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^r^o)+i[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^r^o)+i[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^r^o)+i[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=e+(r^(t|~o))+i[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=r+(e^(o|~t))+i[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(r|~e))+i[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=e+(r^(t|~o))+i[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=r+(e^(o|~t))+i[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(r|~e))+i[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=e+(r^(t|~o))+i[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=r+(e^(o|~t))+i[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(r|~e))+i[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(e=t+((s=e+(r^(t|~o))+i[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((r=o+((s=r+(e^(o|~t))+i[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~e))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(r+(s<<21&4294967295|s>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+o&4294967295}function Vt(n,e){this.h=e;for(var t=[],i=!0,r=n.length-1;0<=r;r--){var o=0|n[r];i&&o==e||(t[r]=o,i=!1)}this.g=t}(he=Hn.prototype).Oa=function(n){this.M=n},he.ha=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():AO.g(),this.C=function _$(n){return n.h||(n.h=n.i())}(this.u?this.u:AO),this.g.onreadystatechange=or(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(o){return void V$(this,o)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)t.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const o of i.keys())t.set(o,i.get(o))}i=Array.from(t.keys()).find(o=>"content-type"==o.toLowerCase()),r=$e.FormData&&n instanceof $e.FormData,!(0<=qH(TTe,e))||i||r||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of t)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{z$(this),0<this.B&&((this.L=function ITe(n){return dh&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=or(this.ua,this)):this.A=IO(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){V$(this,o)}},he.ua=function(){typeof rO<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,$i(this,"timeout"),this.abort(8))},he.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,$i(this,"complete"),$i(this,"abort"),N0(this))},he.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),N0(this,!0)),Hn.$.N.call(this)},he.La=function(){this.s||(this.G||this.v||this.l?U$(this):this.kb())},he.kb=function(){U$(this)},he.isActive=function(){return!!this.g},he.da=function(){try{return 2<As(this)?this.g.status:-1}catch{return-1}},he.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},he.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),CTe(e)}},he.Ia=function(){return this.m},he.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(he=$$.prototype).ra=8,he.H=1,he.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new $g(this,this.l,n);let o=this.s;if(this.U&&(o?(o=ZH(o),e$(o,this.U)):o=this.U),null!==this.o||this.O||(r.I=o,o=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var i=this.j[t];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=W$(this,r,e),dn(t=ba(this.I),"RID",n),dn(t,"CVER",22),this.F&&dn(t,"X-HTTP-Session-Id",this.F),em(this,t),o&&(this.O?e="headers="+encodeURIComponent(String(H$(o)))+"&"+e:this.o&&LO(t,this.o,o)),NO(this.i,r),this.bb&&dn(t,"TYPE","init"),this.P?(dn(t,"$req",e),dn(t,"SID","null"),r.aa=!0,OO(r,t,null)):OO(r,t,e),this.H=2}}else 3==this.H&&(n?q$(this,n):0==this.j.length||O$(this.i)||q$(this))},he.Ma=function(){if(this.u=null,Q$(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=jg(or(this.jb,this),n)}},he.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,xr(10),F0(this),Q$(this))},he.ib=function(){null!=this.v&&(this.v=null,F0(this),BO(this),xr(19))},he.pb=function(n){n?(this.l.info("Successfully pinged google.com"),xr(2)):(this.l.info("Failed to ping google.com"),xr(1))},he.isActive=function(){return!!this.h&&this.h.isActive(this)},(he=tG.prototype).Ba=function(){},he.Aa=function(){},he.za=function(){},he.ya=function(){},he.isActive=function(){return!0},he.Va=function(){},B0.prototype.g=function(n,e){return new no(n,e)},Mi(no,Di),no.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;xr(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=J$(n,null,n.Y),L0(n)},no.prototype.close=function(){VO(this.g)},no.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=CO(n),n=t);e.j.push(new _Te(e.fb++,n)),3==e.H&&L0(e)},no.prototype.N=function(){this.g.h=null,delete this.j,VO(this.g),delete this.g,no.$.N.call(this)},Mi(nG,DO),Mi(iG,SO),Mi(ph,tG),ph.prototype.Ba=function(){$i(this.g,"a")},ph.prototype.Aa=function(n){$i(this.g,new nG(n))},ph.prototype.za=function(n){$i(this.g,new iG)},ph.prototype.ya=function(){$i(this.g,"b")},Mi(Go,function STe(){this.blockSize=-1}),Go.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Go.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,i=this.m,r=this.h,o=0;o<e;){if(0==r)for(;o<=t;)zO(this,n,o),o+=this.blockSize;if("string"==typeof n){for(;o<e;)if(i[r++]=n.charCodeAt(o++),r==this.blockSize){zO(this,i),r=0;break}}else for(;o<e;)if(i[r++]=n[o++],r==this.blockSize){zO(this,i),r=0;break}}this.h=r,this.i+=e},Go.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var i=0;32>i;i+=8)n[t++]=this.g[e]>>>i&255;return n};var ATe={};function jO(n){return-128<=n&&128>n?function V1e(n,e){var t=ATe;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Vt([0|e],0>e?-1:0)}):new Vt([0|n],0>n?-1:0)}function ks(n){if(isNaN(n)||!isFinite(n))return gh;if(0>n)return Gi(ks(-n));for(var e=[],t=1,i=0;n>=t;i++)e[i]=n/t|0,t*=HO;return new Vt(e,0)}var HO=4294967296,gh=jO(0),$O=jO(1),oG=jO(16777216);function ya(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function xo(n){return-1==n.h}function Gi(n){for(var e=n.g.length,t=[],i=0;i<e;i++)t[i]=~n.g[i];return new Vt(t,~n.h).add($O)}function U0(n,e){return n.add(Gi(e))}function z0(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function tm(n,e){this.g=n,this.h=e}function j0(n,e){if(ya(e))throw Error("division by zero");if(ya(n))return new tm(gh,gh);if(xo(n))return e=j0(Gi(n),e),new tm(Gi(e.g),Gi(e.h));if(xo(e))return e=j0(n,Gi(e)),new tm(Gi(e.g),e.h);if(30<n.g.length){if(xo(n)||xo(e))throw Error("slowDivide_ only works with positive integers.");for(var t=$O,i=e;0>=i.X(n);)t=sG(t),i=sG(i);var r=mh(t,1),o=mh(i,1);for(i=mh(i,2),t=mh(t,2);!ya(i);){var s=o.add(i);0>=s.X(n)&&(r=r.add(t),o=s),i=mh(i,1),t=mh(t,1)}return e=U0(n,r.R(e)),new tm(r,e)}for(r=gh;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),i=48>=(i=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,i-48),s=(o=ks(t)).R(e);xo(s)||0<s.X(n);)s=(o=ks(t-=i)).R(e);ya(o)&&(o=$O),r=r.add(o),n=U0(n,s)}return new tm(r,n)}function sG(n){for(var e=n.g.length+1,t=[],i=0;i<e;i++)t[i]=n.D(i)<<1|n.D(i-1)>>>31;return new Vt(t,n.h)}function mh(n,e){var t=e>>5;e%=32;for(var i=n.g.length-t,r=[],o=0;o<i;o++)r[o]=0<e?n.D(o+t)>>>e|n.D(o+t+1)<<32-e:n.D(o+t);return new Vt(r,n.h)}(he=Vt.prototype).ea=function(){if(xo(this))return-Gi(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var i=this.D(t);n+=(0<=i?i:HO+i)*e,e*=HO}return n},he.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(ya(this))return"0";if(xo(this))return"-"+Gi(this).toString(n);for(var e=ks(Math.pow(n,6)),t=this,i="";;){var r=j0(t,e).g,o=((0<(t=U0(t,r.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(ya(t=r))return o+i;for(;6>o.length;)o="0"+o;i=o+i}},he.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},he.X=function(n){return xo(n=U0(this,n))?-1:ya(n)?0:1},he.abs=function(){return xo(this)?Gi(this):this},he.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0,r=0;r<=e;r++){var o=i+(65535&this.D(r))+(65535&n.D(r)),s=(o>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=s>>>16,t[r]=(s&=65535)<<16|(o&=65535)}return new Vt(t,-2147483648&t[t.length-1]?-1:0)},he.R=function(n){if(ya(this)||ya(n))return gh;if(xo(this))return xo(n)?Gi(this).R(Gi(n)):Gi(Gi(this).R(n));if(xo(n))return Gi(this.R(Gi(n)));if(0>this.X(oG)&&0>n.X(oG))return ks(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],i=0;i<2*e;i++)t[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var o=this.D(i)>>>16,s=65535&this.D(i),a=n.D(r)>>>16,c=65535&n.D(r);t[2*i+2*r]+=s*c,z0(t,2*i+2*r),t[2*i+2*r+1]+=o*c,z0(t,2*i+2*r+1),t[2*i+2*r+1]+=s*a,z0(t,2*i+2*r+1),t[2*i+2*r+2]+=o*a,z0(t,2*i+2*r+2)}for(i=0;i<e;i++)t[i]=t[2*i+1]<<16|t[2*i];for(i=e;i<2*e;i++)t[i]=0;return new Vt(t,0)},he.gb=function(n){return j0(this,n).h},he.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)&n.D(i);return new Vt(t,this.h&n.h)},he.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)|n.D(i);return new Vt(t,this.h|n.h)},he.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)^n.D(i);return new Vt(t,this.h^n.h)},B0.prototype.createWebChannel=B0.prototype.g,no.prototype.send=no.prototype.u,no.prototype.open=no.prototype.m,no.prototype.close=no.prototype.close,I0.NO_ERROR=0,I0.TIMEOUT=8,I0.HTTP_ERROR=6,m$.COMPLETE="complete",b$.EventType=Hg,Hg.OPEN="a",Hg.CLOSE="b",Hg.ERROR="c",Hg.MESSAGE="d",Di.prototype.listen=Di.prototype.O,Hn.prototype.listenOnce=Hn.prototype.P,Hn.prototype.getLastError=Hn.prototype.Sa,Hn.prototype.getLastErrorCode=Hn.prototype.Ia,Hn.prototype.getStatus=Hn.prototype.da,Hn.prototype.getResponseJson=Hn.prototype.Wa,Hn.prototype.getResponseText=Hn.prototype.ja,Hn.prototype.send=Hn.prototype.ha,Hn.prototype.setWithCredentials=Hn.prototype.Oa,Go.prototype.digest=Go.prototype.l,Go.prototype.reset=Go.prototype.reset,Go.prototype.update=Go.prototype.j,Vt.prototype.add=Vt.prototype.add,Vt.prototype.multiply=Vt.prototype.R,Vt.prototype.modulo=Vt.prototype.gb,Vt.prototype.compare=Vt.prototype.X,Vt.prototype.toNumber=Vt.prototype.ea,Vt.prototype.toString=Vt.prototype.toString,Vt.prototype.getBits=Vt.prototype.D,Vt.fromNumber=ks,Vt.fromString=function rG(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Gi(rG(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=ks(Math.pow(e,8)),i=gh,r=0;r<n.length;r+=8){var o=Math.min(8,n.length-r),s=parseInt(n.substring(r,r+o),e);8>o?(o=ks(Math.pow(e,o)),i=i.R(o).add(ks(s))):i=(i=i.R(t)).add(ks(s))}return i};var kTe=$o.createWebChannelTransport=function(){return new B0},OTe=$o.getStatEventTarget=function(){return T0()},GO=$o.ErrorCode=I0,PTe=$o.EventType=m$,RTe=$o.Event=Vl,aG=$o.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},NTe=$o.FetchXmlHttpFactory=Yg,H0=$o.WebChannel=b$,FTe=$o.XhrIo=Hn,LTe=$o.Md5=Go,_h=$o.Integer=Vt;const cG="@firebase/firestore";class Si{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Si.UNAUTHENTICATED=new Si(null),Si.GOOGLE_CREDENTIALS=new Si("google-credentials-uid"),Si.FIRST_PARTY=new Si("first-party-uid"),Si.MOCK_USER=new Si("mock-user");let bh="9.23.0";const _c=new Il("@firebase/firestore");function qO(){return _c.logLevel}function te(n,...e){if(_c.logLevel<=mt.DEBUG){const t=e.map(WO);_c.debug(`Firestore (${bh}): ${n}`,...t)}}function Jn(n,...e){if(_c.logLevel<=mt.ERROR){const t=e.map(WO);_c.error(`Firestore (${bh}): ${n}`,...t)}}function qo(n,...e){if(_c.logLevel<=mt.WARN){const t=e.map(WO);_c.warn(`Firestore (${bh}): ${n}`,...t)}}function WO(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function pe(n="Unexpected state"){const e=`FIRESTORE (${bh}) INTERNAL ASSERTION FAILED: `+n;throw Jn(e),new Error(e)}function ye(n,e){n||pe()}function le(n,e){return n}const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Z extends Ur{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class yi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class lG{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class VTe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Si.UNAUTHENTICATED))}shutdown(){}}class BTe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class UTe{constructor(e){this.t=e,this.currentUser=Si.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const o=l=>this.i!==r?(r=this.i,t(l)):Promise.resolve();let s=new yi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new yi,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const l=s;e.enqueueRetryable(_(function*(){yield l.promise,yield o(i.currentUser)}))},c=l=>{te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>c(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?c(l):(te("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new yi)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ye("string"==typeof i.accessToken),new lG(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ye(null===e||"string"==typeof e),new Si(e)}}class zTe{constructor(e,t,i){this.h=e,this.l=t,this.m=i,this.type="FirstParty",this.user=Si.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class jTe{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new zTe(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Si.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class uG{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class HTe{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const i=o=>{null!=o.error&&te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.T;return this.T=o.token,te("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};const r=o=>{te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.I.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.I.getImmediate({optional:!0});o?r(o):te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ye("string"==typeof t.token),this.T=t.token,new uG(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function $Te(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class dG{static A(){const t=62*Math.floor(256/62);let i="";for(;i.length<20;){const r=$Te(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<t&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[o]%62))}return i}}function ze(n,e){return n<e?-1:n>e?1:0}function yh(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function hG(n){return n+"\0"}class kn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Z(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Z(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Z(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Z(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return kn.fromMillis(Date.now())}static fromDate(e){return kn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new kn(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ve{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ve(e)}static min(){return new ve(new kn(0,0))}static max(){return new ve(new kn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class nm{constructor(e,t,i){void 0===t?t=0:t>e.length&&pe(),void 0===i?i=e.length-t:i>e.length-t&&pe(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===nm.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof nm?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const o=e.get(r),s=t.get(r);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class xt extends nm{construct(e,t,i){return new xt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Z(B.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new xt(t)}static emptyPath(){return new xt([])}}const GTe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ei extends nm{construct(e,t,i){return new ei(e,t,i)}static isValidIdentifier(e){return GTe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ei.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ei(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const o=()=>{if(0===i.length)throw new Z(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let s=!1;for(;r<e.length;){const a=e[r];if("\\"===a){if(r+1===e.length)throw new Z(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[r+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new Z(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=c,r+=2}else"`"===a?(s=!s,r++):"."!==a||s?(i+=a,r++):(o(),r++)}if(o(),s)throw new Z(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ei(t)}static emptyPath(){return new ei([])}}class ae{constructor(e){this.path=e}static fromPath(e){return new ae(xt.fromString(e))}static fromName(e){return new ae(xt.fromString(e).popFirst(5))}static empty(){return new ae(xt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===xt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return xt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ae(new xt(e.slice()))}}class $0{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function KO(n){return n.fields.find(e=>2===e.kind)}function jl(n){return n.fields.filter(e=>2!==e.kind)}$0.UNKNOWN_ID=-1;class G0{constructor(e,t){this.fieldPath=e,this.kind=t}}class im{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new im(0,io.min())}}function pG(n){return new io(n.readTime,n.key,-1)}class io{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new io(ve.min(),ae.empty(),-1)}static max(){return new io(ve.max(),ae.empty(),-1)}}function QO(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=ae.comparator(n.documentKey,e.documentKey),0!==t?t:ze(n.largestBatchId,e.largestBatchId))}const gG="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mG{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function bc(n){return YO.apply(this,arguments)}function YO(){return YO=_(function*(n){if(n.code!==B.FAILED_PRECONDITION||n.message!==gG)throw n;te("LocalStore","Unexpectedly lost primary lease")}),YO.apply(this,arguments)}class L{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&pe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new L((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(t,o).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof L?t:L.resolve(t)}catch(t){return L.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):L.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):L.reject(t)}static resolve(e){return new L((t,i)=>{t(e)})}static reject(e){return new L((t,i)=>{i(e)})}static waitFor(e){return new L((t,i)=>{let r=0,o=0,s=!1;e.forEach(a=>{++r,a.next(()=>{++o,s&&o===r&&t()},c=>i(c))}),s=!0,o===r&&t()})}static or(e){let t=L.resolve(!1);for(const i of e)t=t.next(r=>r?L.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,o)=>{i.push(t.call(this,r,o))}),this.waitFor(i)}static mapArray(e,t){return new L((i,r)=>{const o=e.length,s=new Array(o);let a=0;for(let c=0;c<o;c++){const l=c;t(e[l]).next(u=>{s[l]=u,++a,a===o&&i(s)},u=>r(u))}})}static doWhile(e,t){return new L((i,r)=>{const o=()=>{!0===e()?t().next(()=>{o()},r):i()};o()})}}class q0{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new yi,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new rm(e,t.error)):this.v.resolve()},this.transaction.onerror=i=>{const r=XO(i.target.error);this.v.reject(new rm(e,r))}}static open(e,t,i,r){try{return new q0(t,e.transaction(r,i))}catch(o){throw new rm(t,o)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(te("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new QTe(t)}}class Wo{constructor(e,t,i){this.name=e,this.version=t,this.V=i,12.2===Wo.S(Zn())&&Jn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return te("SimpleDb","Removing database:",e),Hl(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!cc())return!1;if(Wo.C())return!0;const e=Zn(),t=Wo.S(e),i=0<t&&t<10,r=Wo.N(e),o=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||o)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static N(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}$(e){var t=this;return _(function*(){return t.db||(te("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const o=indexedDB.open(t.name,t.version);o.onsuccess=s=>{i(s.target.result)},o.onblocked=()=>{r(new rm(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=s=>{const a=s.target.error;r("VersionError"===a.name?new Z(B.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===a.name?new Z(B.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a):new rm(e,a))},o.onupgradeneeded=s=>{te("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',s.oldVersion),t.V.O(s.target.result,o.transaction,s.oldVersion,t.version).next(()=>{te("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=i=>t.F(i)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var o=this;return _(function*(){const s="readonly"===t;let a=0;for(;;){++a;try{o.db=yield o.$(e);const c=q0.open(o.db,e,s?"readonly":"readwrite",i),l=r(c).next(u=>(c.P(),u)).catch(u=>(c.abort(u),L.reject(u))).toPromise();return l.catch(()=>{}),yield c.R,l}catch(c){const l=c,u="FirebaseError"!==l.name&&a<3;if(te("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),o.close(),!u)return Promise.reject(l)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class KTe{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Hl(this.L.delete())}}class rm extends Z{constructor(e,t){super(B.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function yc(n){return"IndexedDbTransactionError"===n.name}class QTe{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(te("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(te("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),Hl(i)}add(e){return te("SimpleDb","ADD",this.store.name,e,e),Hl(this.store.add(e))}get(e){return Hl(this.store.get(e)).next(t=>(void 0===t&&(t=null),te("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return te("SimpleDb","DELETE",this.store.name,e),Hl(this.store.delete(e))}count(){return te("SimpleDb","COUNT",this.store.name),Hl(this.store.count())}j(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),o=[];return this.W(r,(s,a)=>{o.push(a)}).next(()=>o)}{const r=this.store.getAll(i.range);return new L((o,s)=>{r.onerror=a=>{s(a.target.error)},r.onsuccess=a=>{o(a.target.result)}})}}H(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new L((r,o)=>{i.onerror=s=>{o(s.target.error)},i.onsuccess=s=>{r(s.target.result)}})}J(e,t){te("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.Y=!1;const r=this.cursor(i);return this.W(r,(o,s,a)=>a.delete())}X(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.W(r,t)}Z(e){const t=this.cursor({});return new L((i,r)=>{t.onerror=o=>{const s=XO(o.target.error);r(s)},t.onsuccess=o=>{const s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():i()}):i()}})}W(e,t){const i=[];return new L((r,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{const a=s.target.result;if(!a)return void r();const c=new KTe(a),l=t(a.primaryKey,a.value,c);if(l instanceof L){const u=l.catch(d=>(c.done(),L.reject(d)));i.push(u)}c.isDone?r():null===c.K?a.continue():a.continue(c.K)}}).next(()=>L.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.Y?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Hl(n){return new L((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=XO(i.target.error);t(r)}})}let _G=!1;function XO(n){const e=Wo.S(Zn());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new Z("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return _G||(_G=!0,setTimeout(()=>{throw i},0)),i}}return n}class YTe{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;te("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,_(function*(){t.task=null;try{te("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(i){yc(i)?te("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield bc(i)}yield t.et(6e4)}))}}class XTe{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return _(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.st(i,e))})()}st(e,t){const i=new Set;let r=t,o=!0;return L.doWhile(()=>!0===o&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(s=>{if(null!==s&&!i.has(s))return te("IndexBackiller",`Processing collection: ${s}`),this.it(e,s,r).next(a=>{r-=a,i.add(s)});o=!1})).next(()=>t-r)}it(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(o=>{const s=o.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next(()=>this.rt(r,o)).next(a=>(te("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,t,a))).next(()=>s.size)}))}rt(e,t){let i=e;return t.changes.forEach((r,o)=>{const s=pG(o);QO(s,i)>0&&(i=s)}),new io(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}let ro=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>i.writeSequenceNumber(r))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function om(n){return null==n}function sm(n){return 0===n&&1/n==-1/0}function ar(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=yG(e)),e=ZTe(n.get(t),e);return yG(e)}function ZTe(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=o}}return t}function yG(n){return n+"\x01\x01"}function Os(n){const e=n.length;if(ye(e>=2),2===e)return ye("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),xt.emptyPath();const t=e-2,i=[];let r="";for(let o=0;o<e;){const s=n.indexOf("\x01",o);switch((s<0||s>t)&&pe(),n.charAt(s+1)){case"\x01":const a=n.substring(o,s);let c;0===r.length?c=a:(r+=a,c=r,r=""),i.push(c);break;case"\x10":r+=n.substring(o,s),r+="\0";break;case"\x11":r+=n.substring(o,s+1);break;default:pe()}o=s+2}return new xt(i)}const vG=["userId","batchId"];function W0(n,e){return[n,ar(e)]}function wG(n,e,t){return[n,ar(e),t]}const JTe={},eIe=["prefixPath","collectionGroup","readTime","documentId"],tIe=["prefixPath","collectionGroup","documentId"],nIe=["collectionGroup","readTime","prefixPath","documentId"],iIe=["canonicalId","targetId"],rIe=["targetId","path"],oIe=["path","targetId"],sIe=["collectionId","parent"],aIe=["indexId","uid"],cIe=["uid","sequenceNumber"],lIe=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],uIe=["indexId","uid","orderedDocumentKey"],dIe=["userId","collectionPath","documentId"],hIe=["userId","collectionPath","largestBatchId"],fIe=["userId","collectionGroup","largestBatchId"],xG=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],pIe=[...xG,"documentOverlays"],CG=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],EG=CG,gIe=[...EG,"indexConfiguration","indexState","indexEntries"];class ZO extends mG{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function Ai(n,e){const t=le(n);return Wo.M(t.ht,e)}function TG(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function vc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function IG(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class on{constructor(e,t){this.comparator=e,this.root=t||qi.EMPTY}insert(e,t){return new on(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,qi.BLACK,null,null))}remove(e){return new on(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new K0(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new K0(this.root,e,this.comparator,!1)}getReverseIterator(){return new K0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new K0(this.root,e,this.comparator,!0)}}class K0{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?i(e.key,t):1,t&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qi{constructor(e,t,i,r,o){this.key=e,this.value=t,this.color=i??qi.RED,this.left=r??qi.EMPTY,this.right=o??qi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,o){return new qi(e??this.key,t??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===o?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return qi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return qi.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw pe();const e=this.left.check();if(e!==this.right.check())throw pe();return e+(this.isRed()?0:1)}}qi.EMPTY=null,qi.RED=!0,qi.BLACK=!1,qi.EMPTY=new class{constructor(){this.size=0}get key(){throw pe()}get value(){throw pe()}get color(){throw pe()}get left(){throw pe()}get right(){throw pe()}copy(n,e,t,i,r){return this}insert(n,e,t){return new qi(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class hn{constructor(e){this.comparator=e,this.data=new on(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new MG(this.data.getIterator())}getIteratorFrom(e){return new MG(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof hn)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new hn(this.comparator);return t.data=e,t}}class MG{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function vh(n){return n.hasNext()?n.getNext():void 0}class Hr{constructor(e){this.fields=e,e.sort(ei.comparator)}static empty(){return new Hr([])}unionWith(e){let t=new hn(ei.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Hr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return yh(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class DG extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class vi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new DG("Invalid base64 string: "+r):r}}(e);return new vi(t)}static fromUint8Array(e){const t=function(i){let r="";for(let o=0;o<i.length;++o)r+=String.fromCharCode(i[o]);return r}(e);return new vi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vi.EMPTY_BYTE_STRING=new vi("");const mIe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wc(n){if(ye(!!n),"string"==typeof n){let e=0;const t=mIe.exec(n);if(ye(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:$n(n.seconds),nanos:$n(n.nanos)}}function $n(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function va(n){return"string"==typeof n?vi.fromBase64String(n):vi.fromUint8Array(n)}function Q0(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Y0(n){const e=n.mapValue.fields.__previous_value__;return Q0(e)?Y0(e):e}function am(n){const e=wc(n.mapValue.fields.__local_write_time__.timestampValue);return new kn(e.seconds,e.nanos)}class _Ie{constructor(e,t,i,r,o,s,a,c,l){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}}class $l{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new $l("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof $l&&e.projectId===this.projectId&&e.database===this.database}}const xc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},X0={nullValue:"NULL_VALUE"};function Cc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Q0(n)?4:OG(n)?9007199254740991:10:pe()}function Ps(n,e){if(n===e)return!0;const t=Cc(n);if(t!==Cc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return am(n).isEqual(am(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const o=wc(i.timestampValue),s=wc(r.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,va(n.bytesValue).isEqual(va(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return $n(i.geoPointValue.latitude)===$n(r.geoPointValue.latitude)&&$n(i.geoPointValue.longitude)===$n(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return $n(i.integerValue)===$n(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const o=$n(i.doubleValue),s=$n(r.doubleValue);return o===s?sm(o)===sm(s):isNaN(o)&&isNaN(s)}return!1}(n,e);case 9:return yh(n.arrayValue.values||[],e.arrayValue.values||[],Ps);case 10:return function(i,r){const o=i.mapValue.fields||{},s=r.mapValue.fields||{};if(TG(o)!==TG(s))return!1;for(const a in o)if(o.hasOwnProperty(a)&&(void 0===s[a]||!Ps(o[a],s[a])))return!1;return!0}(n,e);default:return pe()}var r}function cm(n,e){return void 0!==(n.values||[]).find(t=>Ps(t,e))}function Ec(n,e){if(n===e)return 0;const t=Cc(n),i=Cc(e);if(t!==i)return ze(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return ze(n.booleanValue,e.booleanValue);case 2:return function(r,o){const s=$n(r.integerValue||r.doubleValue),a=$n(o.integerValue||o.doubleValue);return s<a?-1:s>a?1:s===a?0:isNaN(s)?isNaN(a)?0:-1:1}(n,e);case 3:return SG(n.timestampValue,e.timestampValue);case 4:return SG(am(n),am(e));case 5:return ze(n.stringValue,e.stringValue);case 6:return function(r,o){const s=va(r),a=va(o);return s.compareTo(a)}(n.bytesValue,e.bytesValue);case 7:return function(r,o){const s=r.split("/"),a=o.split("/");for(let c=0;c<s.length&&c<a.length;c++){const l=ze(s[c],a[c]);if(0!==l)return l}return ze(s.length,a.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,o){const s=ze($n(r.latitude),$n(o.latitude));return 0!==s?s:ze($n(r.longitude),$n(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,o){const s=r.values||[],a=o.values||[];for(let c=0;c<s.length&&c<a.length;++c){const l=Ec(s[c],a[c]);if(l)return l}return ze(s.length,a.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,o){if(r===xc.mapValue&&o===xc.mapValue)return 0;if(r===xc.mapValue)return 1;if(o===xc.mapValue)return-1;const s=r.fields||{},a=Object.keys(s),c=o.fields||{},l=Object.keys(c);a.sort(),l.sort();for(let u=0;u<a.length&&u<l.length;++u){const d=ze(a[u],l[u]);if(0!==d)return d;const h=Ec(s[a[u]],c[l[u]]);if(0!==h)return h}return ze(a.length,l.length)}(n.mapValue,e.mapValue);default:throw pe()}}function SG(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return ze(n,e);const t=wc(n),i=wc(e),r=ze(t.seconds,i.seconds);return 0!==r?r:ze(t.nanos,i.nanos)}function wh(n){return JO(n)}function JO(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=wc(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?va(n.bytesValue).toBase64():"referenceValue"in n?ae.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",o=!0;for(const s of i.values||[])o?o=!1:r+=",",r+=JO(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let o="{",s=!0;for(const a of r)s?s=!1:o+=",",o+=`${a}:${JO(i.fields[a])}`;return o+"}"}(n.mapValue):pe();var e}function Gl(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function eP(n){return!!n&&"integerValue"in n}function lm(n){return!!n&&"arrayValue"in n}function AG(n){return!!n&&"nullValue"in n}function kG(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function J0(n){return!!n&&"mapValue"in n}function um(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return vc(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=um(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=um(n.arrayValue.values[t]);return e}return Object.assign({},n)}function OG(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function bIe(n){return"nullValue"in n?X0:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Gl($l.empty(),ae.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:pe()}function yIe(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Gl($l.empty(),ae.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?xc:pe()}function PG(n,e){const t=Ec(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function RG(n,e){const t=Ec(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Wi{constructor(e){this.value=e}static empty(){return new Wi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!J0(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=um(t)}setAll(e){let t=ei.emptyPath(),i={},r=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){const c=this.getFieldsMap(t);this.applyChanges(c,i,r),i={},r=[],t=a.popLast()}s?i[a.lastSegment()]=um(s):r.push(a.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,i,r)}delete(e){const t=this.field(e.popLast());J0(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ps(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];J0(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){vc(t,(r,o)=>e[r]=o);for(const r of i)delete e[r]}clone(){return new Wi(um(this.value))}}function NG(n){const e=[];return vc(n.fields,(t,i)=>{const r=new ei([t]);if(J0(i)){const o=NG(i.mapValue).fields;if(0===o.length)e.push(r);else for(const s of o)e.push(r.child(s))}else e.push(r)}),new Hr(e)}class fn{constructor(e,t,i,r,o,s,a){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new fn(e,0,ve.min(),ve.min(),ve.min(),Wi.empty(),0)}static newFoundDocument(e,t,i,r){return new fn(e,1,t,ve.min(),i,r,0)}static newNoDocument(e,t){return new fn(e,2,t,ve.min(),ve.min(),Wi.empty(),0)}static newUnknownDocument(e,t){return new fn(e,3,t,ve.min(),ve.min(),Wi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ve.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Tc{constructor(e,t){this.position=e,this.inclusive=t}}function FG(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const o=e[r],s=n.position[r];if(i=o.field.isKeyField()?ae.comparator(ae.fromName(s.referenceValue),t.key):Ec(s,t.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function LG(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ps(n.position[t],e.position[t]))return!1;return!0}class xh{constructor(e,t="asc"){this.field=e,this.dir=t}}function vIe(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class VG{}class pt extends VG{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new wIe(e,t,i):"array-contains"===t?new EIe(e,i):"in"===t?new $G(e,i):"not-in"===t?new TIe(e,i):"array-contains-any"===t?new IIe(e,i):new pt(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new xIe(e,i):new CIe(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Ec(t,this.value)):null!==t&&Cc(this.value)===Cc(t)&&this.matchesComparison(Ec(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return pe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Bt extends VG{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Bt(e,t)}matches(e){return Ch(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Ch(n){return"and"===n.op}function tP(n){return"or"===n.op}function nP(n){return BG(n)&&Ch(n)}function BG(n){for(const e of n.filters)if(e instanceof Bt)return!1;return!0}function iP(n){if(n instanceof pt)return n.field.canonicalString()+n.op.toString()+wh(n.value);if(nP(n))return n.filters.map(e=>iP(e)).join(",");{const e=n.filters.map(t=>iP(t)).join(",");return`${n.op}(${e})`}}function UG(n,e){return n instanceof pt?(t=n,(i=e)instanceof pt&&t.op===i.op&&t.field.isEqual(i.field)&&Ps(t.value,i.value)):n instanceof Bt?function(t,i){return i instanceof Bt&&t.op===i.op&&t.filters.length===i.filters.length&&t.filters.reduce((r,o,s)=>r&&UG(o,i.filters[s]),!0)}(n,e):void pe();var t,i}function zG(n,e){const t=n.filters.concat(e);return Bt.create(t,n.op)}function jG(n){return n instanceof pt?`${(e=n).field.canonicalString()} ${e.op} ${wh(e.value)}`:n instanceof Bt?function(e){return e.op.toString()+" {"+e.getFilters().map(jG).join(" ,")+"}"}(n):"Filter";var e}class wIe extends pt{constructor(e,t,i){super(e,t,i),this.key=ae.fromName(i.referenceValue)}matches(e){const t=ae.comparator(e.key,this.key);return this.matchesComparison(t)}}class xIe extends pt{constructor(e,t){super(e,"in",t),this.keys=HG(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class CIe extends pt{constructor(e,t){super(e,"not-in",t),this.keys=HG(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function HG(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>ae.fromName(i.referenceValue))}class EIe extends pt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return lm(t)&&cm(t.arrayValue,this.value)}}class $G extends pt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&cm(this.value.arrayValue,t)}}class TIe extends pt{constructor(e,t){super(e,"not-in",t)}matches(e){if(cm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!cm(this.value.arrayValue,t)}}class IIe extends pt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!lm(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>cm(this.value.arrayValue,i))}}class MIe{constructor(e,t=null,i=[],r=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=s,this.endAt=a,this.dt=null}}function rP(n,e=null,t=[],i=[],r=null,o=null,s=null){return new MIe(n,e,t,i,r,o,s)}function ql(n){const e=le(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>iP(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),om(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>wh(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>wh(i)).join(",")),e.dt=t}return e.dt}function dm(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!vIe(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!UG(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!LG(n.startAt,e.startAt)&&LG(n.endAt,e.endAt)}function ew(n){return ae.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function tw(n,e){return n.filters.filter(t=>t instanceof pt&&t.field.isEqual(e))}function GG(n,e,t){let i=X0,r=!0;for(const o of tw(n,e)){let s=X0,a=!0;switch(o.op){case"<":case"<=":s=bIe(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=X0}PG({value:i,inclusive:r},{value:s,inclusive:a})<0&&(i=s,r=a)}if(null!==t)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const s=t.position[o];PG({value:i,inclusive:r},{value:s,inclusive:t.inclusive})<0&&(i=s,r=t.inclusive);break}return{value:i,inclusive:r}}function qG(n,e,t){let i=xc,r=!0;for(const o of tw(n,e)){let s=xc,a=!0;switch(o.op){case">=":case">":s=yIe(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=xc}RG({value:i,inclusive:r},{value:s,inclusive:a})>0&&(i=s,r=a)}if(null!==t)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const s=t.position[o];RG({value:i,inclusive:r},{value:s,inclusive:t.inclusive})>0&&(i=s,r=t.inclusive);break}return{value:i,inclusive:r}}class wa{constructor(e,t=null,i=[],r=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.wt=null,this._t=null}}function Eh(n){return new wa(n)}function KG(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function oP(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function nw(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function sP(n){return null!==n.collectionGroup}function Wl(n){const e=le(n);if(null===e.wt){e.wt=[];const t=nw(e),i=oP(e);if(null!==t&&null===i)t.isKeyField()||e.wt.push(new xh(t)),e.wt.push(new xh(ei.keyField(),"asc"));else{let r=!1;for(const o of e.explicitOrderBy)e.wt.push(o),o.field.isKeyField()&&(r=!0);if(!r){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new xh(ei.keyField(),o))}}}return e.wt}function Cr(n){const e=le(n);if(!e._t)if("F"===e.limitType)e._t=rP(e.path,e.collectionGroup,Wl(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const o of Wl(e))t.push(new xh(o.field,"desc"===o.dir?"asc":"desc"));const i=e.endAt?new Tc(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Tc(e.startAt.position,e.startAt.inclusive):null;e._t=rP(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e._t}function aP(n,e){e.getFirstInequalityField(),nw(n);const t=n.filters.concat([e]);return new wa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function iw(n,e,t){return new wa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function hm(n,e){return dm(Cr(n),Cr(e))&&n.limitType===e.limitType}function QG(n){return`${ql(Cr(n))}|lt:${n.limitType}`}function cP(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(i=>jG(i)).join(", ")}]`),om(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>wh(i)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>wh(i)).join(",")),`Target(${t})`}(Cr(n))}; limitType=${n.limitType})`}function fm(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):ae.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of Wl(t))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,o,s){const a=FG(r,o,s);return r.inclusive?a<=0:a<0}(t.startAt,Wl(t),i)||t.endAt&&!function(r,o,s){const a=FG(r,o,s);return r.inclusive?a>=0:a>0}(t.endAt,Wl(t),i)));var t,i}function XG(n){return(e,t)=>{let i=!1;for(const r of Wl(n)){const o=DIe(r,e,t);if(0!==o)return o;i=i||r.field.isKeyField()}return 0}}function DIe(n,e,t){const i=n.field.isKeyField()?ae.comparator(e.key,t.key):function(r,o,s){const a=o.data.field(r),c=s.data.field(r);return null!==a&&null!==c?Ec(a,c):pe()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return pe()}}class xa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,o]of i)if(this.equalsFn(r,e))return o}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){vc(this.inner,(t,i)=>{for(const[r,o]of i)e(r,o)})}isEmpty(){return IG(this.inner)}size(){return this.innerSize}}const SIe=new on(ae.comparator);function $r(){return SIe}const ZG=new on(ae.comparator);function pm(...n){let e=ZG;for(const t of n)e=e.insert(t.key,t);return e}function JG(n){let e=ZG;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Rs(){return gm()}function eq(){return gm()}function gm(){return new xa(n=>n.toString(),(n,e)=>n.isEqual(e))}const AIe=new on(ae.comparator),kIe=new hn(ae.comparator);function Ke(...n){let e=kIe;for(const t of n)e=e.add(t);return e}const OIe=new hn(ze);function tq(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sm(e)?"-0":e}}function nq(n){return{integerValue:""+n}}function iq(n,e){return function bG(n){return"number"==typeof n&&Number.isInteger(n)&&!sm(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?nq(e):tq(n,e)}class rw{constructor(){this._=void 0}}function PIe(n,e,t){return n instanceof Th?function(i,r){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&Q0(r)&&(r=Y0(r)),r&&(o.fields.__previous_value__=r),{mapValue:o}}(t,e):n instanceof Kl?oq(n,e):n instanceof Ql?sq(n,e):function(i,r){const o=rq(i,r),s=aq(o)+aq(i.gt);return eP(o)&&eP(i.gt)?nq(s):tq(i.serializer,s)}(n,e)}function RIe(n,e,t){return n instanceof Kl?oq(n,e):n instanceof Ql?sq(n,e):t}function rq(n,e){return n instanceof Ih?eP(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class Th extends rw{}class Kl extends rw{constructor(e){super(),this.elements=e}}function oq(n,e){const t=cq(e);for(const i of n.elements)t.some(r=>Ps(r,i))||t.push(i);return{arrayValue:{values:t}}}class Ql extends rw{constructor(e){super(),this.elements=e}}function sq(n,e){let t=cq(e);for(const i of n.elements)t=t.filter(r=>!Ps(r,i));return{arrayValue:{values:t}}}class Ih extends rw{constructor(e,t){super(),this.serializer=e,this.gt=t}}function aq(n){return $n(n.integerValue||n.doubleValue)}function cq(n){return lm(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class mm{constructor(e,t){this.field=e,this.transform=t}}class FIe{constructor(e,t){this.version=e,this.transformResults=t}}class Cn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Cn}static exists(e){return new Cn(void 0,e)}static updateTime(e){return new Cn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ow(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class sw{}function lq(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Dh(n.key,Cn.none()):new Mh(n.key,n.data,Cn.none());{const t=n.data,i=Wi.empty();let r=new hn(ei.comparator);for(let o of e.fields)if(!r.has(o)){let s=t.field(o);null===s&&o.length>1&&(o=o.popLast(),s=t.field(o)),null===s?i.delete(o):i.set(o,s),r=r.add(o)}return new Ca(n.key,i,new Hr(r.toArray()),Cn.none())}}function LIe(n,e,t){n instanceof Mh?function(i,r,o){const s=i.value.clone(),a=hq(i.fieldTransforms,r,o.transformResults);s.setAll(a),r.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(n,e,t):n instanceof Ca?function(i,r,o){if(!ow(i.precondition,r))return void r.convertToUnknownDocument(o.version);const s=hq(i.fieldTransforms,r,o.transformResults),a=r.data;a.setAll(dq(i)),a.setAll(s),r.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function _m(n,e,t,i){return n instanceof Mh?function(r,o,s,a){if(!ow(r.precondition,o))return s;const c=r.value.clone(),l=fq(r.fieldTransforms,a,o);return c.setAll(l),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(n,e,t,i):n instanceof Ca?function(r,o,s,a){if(!ow(r.precondition,o))return s;const c=fq(r.fieldTransforms,a,o),l=o.data;return l.setAll(dq(r)),l.setAll(c),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null===s?null:s.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(u=>u.field))}(n,e,t,i):(s=t,ow(n.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s);var o,s}function VIe(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),o=rq(i.transform,r||null);null!=o&&(null===t&&(t=Wi.empty()),t.set(i.field,o))}return t||null}function uq(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&yh(t,i,(r,o)=>function NIe(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof Kl&&i instanceof Kl||t instanceof Ql&&i instanceof Ql?yh(t.elements,i.elements,Ps):t instanceof Ih&&i instanceof Ih?Ps(t.gt,i.gt):t instanceof Th&&i instanceof Th);var t,i}(r,o))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class Mh extends sw{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Ca extends sw{constructor(e,t,i,r,o=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function dq(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function hq(n,e,t){const i=new Map;ye(n.length===t.length);for(let r=0;r<t.length;r++){const o=n[r],s=o.transform,a=e.data.field(o.field);i.set(o.field,RIe(s,a,t[r]))}return i}function fq(n,e,t){const i=new Map;for(const r of n){const o=r.transform,s=t.data.field(r.field);i.set(r.field,PIe(o,s,e))}return i}class Dh extends sw{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class uP extends sw{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class dP{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(e.key)&&LIe(o,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=_m(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=_m(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=eq();return this.mutations.forEach(r=>{const o=e.get(r.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=t.has(r.key)?null:a;const c=lq(s,a);null!==c&&i.set(r.key,c),s.isValidDocument()||s.convertToNoDocument(ve.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ke())}isEqual(e){return this.batchId===e.batchId&&yh(this.mutations,e.mutations,(t,i)=>uq(t,i))&&yh(this.baseMutations,e.baseMutations,(t,i)=>uq(t,i))}}class hP{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){ye(e.mutations.length===i.length);let r=AIe;const o=e.mutations;for(let s=0;s<o.length;s++)r=r.insert(o[s].key,i[s].version);return new hP(e,t,i,r)}}class fP{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class UIe{constructor(e,t){this.count=e,this.unchangedNames=t}}var ai,Ct;function gq(n){if(void 0===n)return Jn("GRPC error has no .code"),B.UNKNOWN;switch(n){case ai.OK:return B.OK;case ai.CANCELLED:return B.CANCELLED;case ai.UNKNOWN:return B.UNKNOWN;case ai.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case ai.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case ai.INTERNAL:return B.INTERNAL;case ai.UNAVAILABLE:return B.UNAVAILABLE;case ai.UNAUTHENTICATED:return B.UNAUTHENTICATED;case ai.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case ai.NOT_FOUND:return B.NOT_FOUND;case ai.ALREADY_EXISTS:return B.ALREADY_EXISTS;case ai.PERMISSION_DENIED:return B.PERMISSION_DENIED;case ai.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case ai.ABORTED:return B.ABORTED;case ai.OUT_OF_RANGE:return B.OUT_OF_RANGE;case ai.UNIMPLEMENTED:return B.UNIMPLEMENTED;case ai.DATA_LOSS:return B.DATA_LOSS;default:return pe()}}(Ct=ai||(ai={}))[Ct.OK=0]="OK",Ct[Ct.CANCELLED=1]="CANCELLED",Ct[Ct.UNKNOWN=2]="UNKNOWN",Ct[Ct.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ct[Ct.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ct[Ct.NOT_FOUND=5]="NOT_FOUND",Ct[Ct.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ct[Ct.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ct[Ct.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ct[Ct.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ct[Ct.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ct[Ct.ABORTED=10]="ABORTED",Ct[Ct.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ct[Ct.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ct[Ct.INTERNAL=13]="INTERNAL",Ct[Ct.UNAVAILABLE=14]="UNAVAILABLE",Ct[Ct.DATA_LOSS=15]="DATA_LOSS";class pP{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return aw}static getOrCreateInstance(){return null===aw&&(aw=new pP),aw}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let aw=null;const zIe=new _h([4294967295,4294967295],0);function _q(n){const e=function mq(){return new TextEncoder}().encode(n),t=new LTe;return t.update(e),new Uint8Array(t.digest())}function bq(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new _h([t,i],0),new _h([r,o],0)]}class gP{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new bm(`Invalid padding: ${t}`);if(i<0)throw new bm(`Invalid hash count: ${i}`);if(e.length>0&&0===this.hashCount)throw new bm(`Invalid hash count: ${i}`);if(0===e.length&&0!==t)throw new bm(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=_h.fromNumber(this.It)}Et(e,t,i){let r=e.add(t.multiply(_h.fromNumber(i)));return 1===r.compare(zIe)&&(r=new _h([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=_q(e),[i,r]=bq(t);for(let o=0;o<this.hashCount;o++){const s=this.Et(i,r,o);if(!this.At(s))return!1}return!0}static create(e,t,i){const r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new gP(o,r,t);return i.forEach(a=>s.insert(a)),s}insert(e){if(0===this.It)return;const t=_q(e),[i,r]=bq(t);for(let o=0;o<this.hashCount;o++){const s=this.Et(i,r,o);this.Rt(s)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class bm extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ym{constructor(e,t,i,r,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,vm.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new ym(ve.min(),r,new on(ze),$r(),Ke())}}class vm{constructor(e,t,i,r,o){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new vm(i,t,Ke(),Ke(),Ke())}}class cw{constructor(e,t,i,r){this.Pt=e,this.removedTargetIds=t,this.key=i,this.bt=r}}class yq{constructor(e,t){this.targetId=e,this.Vt=t}}class vq{constructor(e,t,i=vi.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class wq{constructor(){this.St=0,this.Dt=Cq(),this.Ct=vi.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Ke(),t=Ke(),i=Ke();return this.Dt.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:pe()}}),new vm(this.Ct,this.xt,e,t,i)}Ft(){this.Nt=!1,this.Dt=Cq()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class jIe{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=$r(),this.zt=xq(),this.Wt=new on(ze)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const i=this.Zt(t);switch(e.state){case 0:this.te(t)&&i.$t(e.resumeToken);break;case 1:i.Ut(),i.kt||i.Ft(),i.$t(e.resumeToken);break;case 2:i.Ut(),i.kt||this.removeTarget(t);break;case 3:this.te(t)&&(i.Kt(),i.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),i.$t(e.resumeToken));break;default:pe()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((i,r)=>{this.te(r)&&t(r)})}ne(e){var t;const i=e.targetId,r=e.Vt.count,o=this.se(i);if(o){const s=o.target;if(ew(s))if(0===r){const a=new ae(s.path);this.Yt(i,a,fn.newNoDocument(a,ve.min()))}else ye(1===r);else{const a=this.ie(i);if(a!==r){const c=this.re(e,a);0!==c&&(this.ee(i),this.Wt=this.Wt.insert(i,2===c?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=pP.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(l,u,d){var h,g,y,C,T,S;const D={localCacheCount:u,existenceFilterCount:d.count},N=d.unchangedNames;return N&&(D.bloomFilter={applied:0===l,hashCount:null!==(h=N?.hashCount)&&void 0!==h?h:0,bitmapLength:null!==(C=null===(y=null===(g=N?.bits)||void 0===g?void 0:g.bitmap)||void 0===y?void 0:y.length)&&void 0!==C?C:0,padding:null!==(S=null===(T=N?.bits)||void 0===T?void 0:T.padding)&&void 0!==S?S:0}),D}(c,a,e.Vt))}}}}re(e,t){const{unchangedNames:i,count:r}=e.Vt;if(!i||!i.bits)return 1;const{bits:{bitmap:o="",padding:s=0},hashCount:a=0}=i;let c,l;try{c=va(o).toUint8Array()}catch(u){if(u instanceof DG)return qo("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw u}try{l=new gP(c,s,a)}catch(u){return qo(u instanceof bm?"BloomFilter error: ":"Applying bloom filter failed: ",u),1}return 0===l.It?1:r!==t-this.oe(e.targetId,l)?2:0}oe(e,t){const i=this.Gt.getRemoteKeysForTarget(e);let r=0;return i.forEach(o=>{const s=this.Gt.ue(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;t.vt(a)||(this.Yt(e,o,null),r++)}),r}ce(e){const t=new Map;this.Qt.forEach((o,s)=>{const a=this.se(s);if(a){if(o.current&&ew(a.target)){const c=new ae(a.target.path);null!==this.jt.get(c)||this.ae(s,c)||this.Yt(s,c,fn.newNoDocument(c,e))}o.Mt&&(t.set(s,o.Ot()),o.Ft())}});let i=Ke();this.zt.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{const l=this.se(c);return!l||"TargetPurposeLimboResolution"===l.purpose||(a=!1,!1)}),a&&(i=i.add(o))}),this.jt.forEach((o,s)=>s.setReadTime(e));const r=new ym(e,t,this.Wt,this.jt,i);return this.jt=$r(),this.zt=xq(),this.Wt=new on(ze),r}Jt(e,t){if(!this.te(e))return;const i=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,i),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,i){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),i&&(this.jt=this.jt.insert(t,i))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new wq,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new hn(ze),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||te("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new wq),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function xq(){return new on(ae.comparator)}function Cq(){return new on(ae.comparator)}const HIe={asc:"ASCENDING",desc:"DESCENDING"},$Ie={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},GIe={and:"AND",or:"OR"};class qIe{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function mP(n,e){return n.useProto3Json||om(e)?e:{value:e}}function Sh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Eq(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function WIe(n,e){return Sh(n,e.toTimestamp())}function ti(n){return ye(!!n),ve.fromTimestamp(function(e){const t=wc(e);return new kn(t.seconds,t.nanos)}(n))}function _P(n,e){return(t=n,new xt(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Tq(n){const e=xt.fromString(n);return ye(Rq(e)),e}function wm(n,e){return _P(n.databaseId,e.path)}function Ns(n,e){const t=Tq(e);if(t.get(1)!==n.databaseId.projectId)throw new Z(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Z(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ae(Mq(t))}function bP(n,e){return _P(n.databaseId,e)}function Iq(n){const e=Tq(n);return 4===e.length?xt.emptyPath():Mq(e)}function xm(n){return new xt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Mq(n){return ye(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Dq(n,e,t){return{name:wm(n,e),fields:t.value.mapValue.fields}}function Cm(n,e){let t;if(e instanceof Mh)t={update:Dq(n,e.key,e.value)};else if(e instanceof Dh)t={delete:wm(n,e.key)};else if(e instanceof Ca)t={update:Dq(n,e.key,e.data),updateMask:tMe(e.fieldMask)};else{if(!(e instanceof uP))return pe();t={verify:wm(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,o){const s=o.transform;if(s instanceof Th)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof Kl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof Ql)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof Ih)return{fieldPath:o.field.canonicalString(),increment:s.gt};throw pe()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:WIe(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:pe()),t;var r}function yP(n,e){const t=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?Cn.updateTime(ti(r.updateTime)):void 0!==r.exists?Cn.exists(r.exists):Cn.none():Cn.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(o,s){let a=null;"setToServerValue"in s?(ye("REQUEST_TIME"===s.setToServerValue),a=new Th):"appendMissingElements"in s?a=new Kl(s.appendMissingElements.values||[]):"removeAllFromArray"in s?a=new Ql(s.removeAllFromArray.values||[]):"increment"in s?a=new Ih(o,s.increment):pe();const c=ei.fromServerFormat(s.fieldPath);return new mm(c,a)}(n,r)):[];var r;if(e.update){const r=Ns(n,e.update.name),o=new Wi({mapValue:{fields:e.update.fields}});if(e.updateMask){const s=new Hr((e.updateMask.fieldPaths||[]).map(l=>ei.fromServerFormat(l)));return new Ca(r,o,s,t,i)}return new Mh(r,o,t,i)}if(e.delete){const r=Ns(n,e.delete);return new Dh(r,t)}if(e.verify){const r=Ns(n,e.verify);return new uP(r,t)}return pe()}function Aq(n,e){return{documents:[bP(n,e.path)]}}function vP(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=bP(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=bP(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(c){if(0!==c.length)return Pq(Bt.create(c,"and"))}(e.filters);r&&(t.structuredQuery.where=r);const o=function(c){if(0!==c.length)return c.map(l=>{return{field:Ic((u=l).field),direction:ZIe(u.dir)};var u})}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const s=mP(n,e.limit);var a,c;return null!==s&&(t.structuredQuery.limit=s),e.startAt&&(t.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(t.structuredQuery.endAt={before:!(c=e.endAt).inclusive,values:c.position}),t}function kq(n){let e=Iq(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){ye(1===i);const u=t.from[0];u.allDescendants?r=u.collectionId:e=e.child(u.collectionId)}let o=[];t.where&&(o=function(u){const d=Oq(u);return d instanceof Bt&&nP(d)?d.getFilters():[d]}(t.where));let s=[];t.orderBy&&(s=t.orderBy.map(u=>{return new xh(Ah((d=u).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;t.limit&&(a=function(u){let d;return d="object"==typeof u?u.value:u,om(d)?null:d}(t.limit));let c=null;var u;t.startAt&&(c=new Tc((u=t.startAt).values||[],!!u.before));let l=null;return t.endAt&&(l=function(u){return new Tc(u.values||[],!u.before)}(t.endAt)),function WG(n,e,t,i,r,o,s,a){return new wa(n,e,t,i,r,o,s,a)}(e,r,s,o,a,"F",c,l)}function Oq(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Ah(e.unaryFilter.field);return pt.create(t,"==",{doubleValue:NaN});case"IS_NULL":const i=Ah(e.unaryFilter.field);return pt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Ah(e.unaryFilter.field);return pt.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ah(e.unaryFilter.field);return pt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return pe()}}(n):void 0!==n.fieldFilter?pt.create(Ah((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return pe()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Bt.create(e.compositeFilter.filters.map(t=>Oq(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return pe()}}(e.compositeFilter.op))}(n):pe();var e}function ZIe(n){return HIe[n]}function JIe(n){return $Ie[n]}function eMe(n){return GIe[n]}function Ic(n){return{fieldPath:n.canonicalString()}}function Ah(n){return ei.fromServerFormat(n.fieldPath)}function Pq(n){return n instanceof pt?function(e){if("=="===e.op){if(kG(e.value))return{unaryFilter:{field:Ic(e.field),op:"IS_NAN"}};if(AG(e.value))return{unaryFilter:{field:Ic(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(kG(e.value))return{unaryFilter:{field:Ic(e.field),op:"IS_NOT_NAN"}};if(AG(e.value))return{unaryFilter:{field:Ic(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ic(e.field),op:JIe(e.op),value:e.value}}}(n):n instanceof Bt?function(e){const t=e.getFilters().map(i=>Pq(i));return 1===t.length?t[0]:{compositeFilter:{op:eMe(e.op),filters:t}}}(n):pe()}function tMe(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Rq(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Ea{constructor(e,t,i,r,o=ve.min(),s=ve.min(),a=vi.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new Ea(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ea(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ea(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ea(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Nq{constructor(e){this.fe=e}}function Fq(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:lw(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:wm(r=n.fe,(o=e).key),fields:o.data.value.mapValue.fields,updateTime:Sh(r,o.version.toTimestamp()),createTime:Sh(r,o.createTime.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:Yl(e.version)};else{if(!e.isUnknownDocument())return pe();i.unknownDocument={path:t.path.toArray(),version:Yl(e.version)}}var r,o;return i}function lw(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Yl(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Xl(n){const e=new kn(n.seconds,n.nanoseconds);return ve.fromTimestamp(e)}function Zl(n,e){const t=(e.baseMutations||[]).map(o=>yP(n.fe,o));for(let o=0;o<e.mutations.length-1;++o)o+1<e.mutations.length&&void 0!==e.mutations[o+1].transform&&(e.mutations[o].updateTransforms=e.mutations[o+1].transform.fieldTransforms,e.mutations.splice(o+1,1),++o);const i=e.mutations.map(o=>yP(n.fe,o)),r=kn.fromMillis(e.localWriteTimeMs);return new dP(e.batchId,r,t,i)}function Em(n){const e=Xl(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Xl(n.lastLimboFreeSnapshotVersion):ve.min();let i;var r;return void 0!==n.query.documents?(ye(1===(r=n.query).documents.length),i=Cr(Eh(Iq(r.documents[0])))):i=Cr(kq(n.query)),new Ea(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,vi.fromBase64String(n.resumeToken))}function Lq(n,e){const t=Yl(e.snapshotVersion),i=Yl(e.lastLimboFreeSnapshotVersion);let r;r=ew(e.target)?Aq(n.fe,e.target):vP(n.fe,e.target);const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:ql(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function wP(n){const e=kq({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?iw(e,e.limit,"L"):e}function xP(n,e){return new fP(e.largestBatchId,yP(n.fe,e.overlayMutation))}function Vq(n,e){const t=e.path.lastSegment();return[n,ar(e.path.popLast()),t]}function Bq(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Yl(i.readTime),documentKey:ar(i.documentKey.path),largestBatchId:i.largestBatchId}}class iMe{getBundleMetadata(e,t){return Uq(e).get(t).next(i=>{if(i)return{id:(r=i).bundleId,createTime:Xl(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return Uq(e).put({bundleId:(i=t).id,createTime:Yl(ti(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return zq(e).get(t).next(i=>{if(i)return{name:(r=i).name,query:wP(r.bundledQuery),readTime:Xl(r.readTime)};var r})}saveNamedQuery(e,t){return zq(e).put({name:(i=t).name,readTime:Yl(ti(i.readTime)),bundledQuery:i.bundledQuery});var i}}function Uq(n){return Ai(n,"bundles")}function zq(n){return Ai(n,"namedQueries")}class uw{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new uw(e,t.uid||"")}getOverlay(e,t){return Tm(e).get(Vq(this.userId,t)).next(i=>i?xP(this.serializer,i):null)}getOverlays(e,t){const i=Rs();return L.forEach(t,r=>this.getOverlay(e,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(e,t,i){const r=[];return i.forEach((o,s)=>{const a=new fP(t,s);r.push(this.we(e,a))}),L.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(s=>r.add(ar(s.getCollectionPath())));const o=[];return r.forEach(s=>{const a=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,i+1],!1,!0);o.push(Tm(e).J("collectionPathOverlayIndex",a))}),L.waitFor(o)}getOverlaysForCollection(e,t,i){const r=Rs(),o=ar(t),s=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Tm(e).j("collectionPathOverlayIndex",s).next(a=>{for(const c of a){const l=xP(this.serializer,c);r.set(l.getKey(),l)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const o=Rs();let s;const a=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Tm(e).X({index:"collectionGroupOverlayIndex",range:a},(c,l,u)=>{const d=xP(this.serializer,l);o.size()<r||d.largestBatchId===s?(o.set(d.getKey(),d),s=d.largestBatchId):u.done()}).next(()=>o)}we(e,t){return Tm(e).put(function(i,r,o){const[s,a,c]=Vq(r,o.mutation.key);return{userId:r,collectionPath:a,documentId:c,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:Cm(i.fe,o.mutation)}}(this.serializer,this.userId,t))}}function Tm(n){return Ai(n,"documentOverlays")}class Jl{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe($n(e.integerValue));else if("doubleValue"in e){const i=$n(e.doubleValue);isNaN(i)?this.ye(t,13):(this.ye(t,15),sm(i)?t.pe(0):t.pe(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ye(t,20),"string"==typeof i?t.Ie(i):(t.Ie(`${i.seconds||""}`),t.pe(i.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(va(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.ye(t,45),t.pe(i.latitude||0),t.pe(i.longitude||0)}else"mapValue"in e?OG(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):pe()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const i=e.fields||{};this.ye(t,55);for(const r of Object.keys(i))this.Te(r,t),this.me(i[r],t)}Pe(e,t){const i=e.values||[];this.ye(t,50);for(const r of i)this.me(r,t)}ve(e,t){this.ye(t,37),ae.fromName(e).path.forEach(i=>{this.ye(t,60),this.be(i,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function rMe(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function jq(n){const e=64-function(t){let i=0;for(let r=0;r<8;++r){const o=rMe(255&t[r]);if(i+=o,8!==o)break}return i}(n);return Math.ceil(e/8)}Jl.Ve=new Jl;class oMe{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.De(i.value),i=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ne(i.value),i=t.next();this.ke()}Me(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.De(i);else if(i<2048)this.De(960|i>>>6),this.De(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.De(480|i>>>12),this.De(128|63&i>>>6),this.De(128|63&i);else{const r=t.codePointAt(0);this.De(240|r>>>18),this.De(128|63&r>>>12),this.De(128|63&r>>>6),this.De(128|63&r)}}this.Ce()}$e(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ne(i);else if(i<2048)this.Ne(960|i>>>6),this.Ne(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i);else{const r=t.codePointAt(0);this.Ne(240|r>>>18),this.Ne(128|63&r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r)}}this.ke()}Oe(e){const t=this.Fe(e),i=jq(t);this.Be(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Le(e){const t=this.Fe(e),i=jq(t);this.Be(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(r){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,r,!1),new Uint8Array(o.buffer)}(e),i=!!(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class sMe{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class aMe{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class Im{constructor(){this.je=new oMe,this.ze=new sMe(this.je),this.We=new aMe(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class eu{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new eu(this.indexId,this.documentKey,this.arrayValue,i)}}function Mc(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=Hq(n.arrayValue,e.arrayValue),0!==t?t:(t=Hq(n.directionalValue,e.directionalValue),0!==t?t:ae.comparator(n.documentKey,e.documentKey)))}function Hq(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class cMe{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const i=t;i.isInequality()?this.Ze=i:this.Xe.push(i)}}tn(e){ye(e.collectionGroup===this.collectionId);const t=KO(e);if(void 0!==t&&!this.en(t))return!1;const i=jl(e);let r=new Set,o=0,s=0;for(;o<i.length&&this.en(i[o]);++o)r=r.add(i[o].fieldPath.canonicalString());if(o===i.length)return!0;if(void 0!==this.Ze){if(!r.has(this.Ze.field.canonicalString())){const a=i[o];if(!this.nn(this.Ze,a)||!this.sn(this.Ye[s++],a))return!1}++o}for(;o<i.length;++o)if(s>=this.Ye.length||!this.sn(this.Ye[s++],i[o]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function $q(n){var e,t;if(ye(n instanceof pt||n instanceof Bt),n instanceof pt){if(n instanceof $G){const r=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(o=>pt.create(n.field,"==",o)))||[];return Bt.create(r,"or")}return n}const i=n.filters.map(r=>$q(r));return Bt.create(i,n.op)}function lMe(n){if(0===n.getFilters().length)return[];const e=TP($q(n));return ye(Gq(e)),CP(e)||EP(e)?[e]:e.getFilters()}function CP(n){return n instanceof pt}function EP(n){return n instanceof Bt&&nP(n)}function Gq(n){return CP(n)||EP(n)||function(e){if(e instanceof Bt&&tP(e)){for(const t of e.getFilters())if(!CP(t)&&!EP(t))return!1;return!0}return!1}(n)}function TP(n){if(ye(n instanceof pt||n instanceof Bt),n instanceof pt)return n;if(1===n.filters.length)return TP(n.filters[0]);const e=n.filters.map(i=>TP(i));let t=Bt.create(e,n.op);return t=dw(t),Gq(t)?t:(ye(t instanceof Bt),ye(Ch(t)),ye(t.filters.length>1),t.filters.reduce((i,r)=>IP(i,r)))}function IP(n,e){let t;return ye(n instanceof pt||n instanceof Bt),ye(e instanceof pt||e instanceof Bt),t=n instanceof pt?e instanceof pt?Bt.create([n,e],"and"):qq(n,e):e instanceof pt?qq(e,n):function(i,r){if(ye(i.filters.length>0&&r.filters.length>0),Ch(i)&&Ch(r))return zG(i,r.getFilters());const o=tP(i)?i:r,s=tP(i)?r:i,a=o.filters.map(c=>IP(c,s));return Bt.create(a,"or")}(n,e),dw(t)}function qq(n,e){if(Ch(e))return zG(e,n.getFilters());{const t=e.filters.map(i=>IP(n,i));return Bt.create(t,"or")}}function dw(n){if(ye(n instanceof pt||n instanceof Bt),n instanceof pt)return n;const e=n.getFilters();if(1===e.length)return dw(e[0]);if(BG(n))return n;const t=e.map(r=>dw(r)),i=[];return t.forEach(r=>{r instanceof pt?i.push(r):r instanceof Bt&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:Bt.create(i,n.op)}class uMe{constructor(){this.rn=new MP}addToCollectionParentIndex(e,t){return this.rn.add(t),L.resolve()}getCollectionParents(e,t){return L.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return L.resolve()}deleteFieldIndex(e,t){return L.resolve()}getDocumentsMatchingTarget(e,t){return L.resolve(null)}getIndexType(e,t){return L.resolve(0)}getFieldIndexes(e,t){return L.resolve([])}getNextCollectionGroupToUpdate(e){return L.resolve(null)}getMinOffset(e,t){return L.resolve(io.min())}getMinOffsetFromCollectionGroup(e,t){return L.resolve(io.min())}updateCollectionGroup(e,t,i){return L.resolve()}updateIndexEntries(e,t){return L.resolve()}}class MP{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new hn(xt.comparator),o=!r.has(i);return this.index[t]=r.add(i),o}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new hn(xt.comparator)).toArray()}}const hw=new Uint8Array(0);class dMe{constructor(e,t){this.user=e,this.databaseId=t,this.on=new MP,this.un=new xa(i=>ql(i),(i,r)=>dm(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const o={collectionId:i,parent:ar(r)};return Wq(e).put(o)}return L.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[hG(t),""],!1,!0);return Wq(e).j(r).next(o=>{for(const s of o){if(s.collectionId!==t)break;i.push(Os(s.parent))}return i})}addFieldIndex(e,t){const i=fw(e),r={indexId:(s=t).indexId,collectionGroup:s.collectionGroup,fields:s.fields.map(a=>[a.fieldPath.canonicalString(),a.kind])};var s;delete r.indexId;const o=i.add(r);if(t.indexState){const s=Dm(e);return o.next(a=>{s.put(Bq(a,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return o.next()}deleteFieldIndex(e,t){const i=fw(e),r=Dm(e),o=Mm(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=Mm(e);let r=!0;const o=new Map;return L.forEach(this.cn(t),s=>this.an(e,s).next(a=>{r&&(r=!!a),o.set(s,a)})).next(()=>{if(r){let s=Ke();const a=[];return L.forEach(o,(c,l)=>{var u;te("IndexedDbIndexManager",`Using index ${u=c,`id=${u.indexId}|cg=${u.collectionGroup}|f=${u.fields.map(N=>`${N.fieldPath}:${N.kind}`).join(",")}`} to execute ${ql(t)}`);const d=function(N,W){const re=KO(W);if(void 0===re)return null;for(const ue of tw(N,re.fieldPath))switch(ue.op){case"array-contains-any":return ue.value.arrayValue.values||[];case"array-contains":return[ue.value]}return null}(l,c),h=function(N,W){const re=new Map;for(const ue of jl(W))for(const Re of tw(N,ue.fieldPath))switch(Re.op){case"==":case"in":re.set(ue.fieldPath.canonicalString(),Re.value);break;case"not-in":case"!=":return re.set(ue.fieldPath.canonicalString(),Re.value),Array.from(re.values())}return null}(l,c),g=function(N,W){const re=[];let ue=!0;for(const Re of jl(W)){const Qe=0===Re.kind?GG(N,Re.fieldPath,N.startAt):qG(N,Re.fieldPath,N.startAt);re.push(Qe.value),ue&&(ue=Qe.inclusive)}return new Tc(re,ue)}(l,c),y=function(N,W){const re=[];let ue=!0;for(const Re of jl(W)){const Qe=0===Re.kind?qG(N,Re.fieldPath,N.endAt):GG(N,Re.fieldPath,N.endAt);re.push(Qe.value),ue&&(ue=Qe.inclusive)}return new Tc(re,ue)}(l,c),C=this.hn(c,l,g),T=this.hn(c,l,y),S=this.ln(c,l,h),D=this.fn(c.indexId,d,C,g.inclusive,T,y.inclusive,S);return L.forEach(D,N=>i.H(N,t.limit).next(W=>{W.forEach(re=>{const ue=ae.fromSegments(re.documentKey);s.has(ue)||(s=s.add(ue),a.push(ue))})}))}).next(()=>a)}return L.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:lMe(Bt.create(e.filters,"and")).map(i=>rP(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,i,r,o,s,a){const c=(null!=t?t.length:1)*Math.max(i.length,o.length),l=c/(null!=t?t.length:1),u=[];for(let d=0;d<c;++d){const h=t?this.dn(t[d/l]):hw,g=this.wn(e,h,i[d%l],r),y=this._n(e,h,o[d%l],s),C=a.map(T=>this.wn(e,h,T,!0));u.push(...this.createRange(g,y,C))}return u}wn(e,t,i,r){const o=new eu(e,ae.empty(),t,i);return r?o:o.Je()}_n(e,t,i,r){const o=new eu(e,ae.empty(),t,i);return r?o.Je():o}an(e,t){const i=new cMe(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(o=>{let s=null;for(const a of o)i.tn(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(e,t){let i=2;const r=this.cn(t);return L.forEach(r,o=>this.an(e,o).next(s=>{s?0!==i&&s.fields.length<function(a){let c=new hn(ei.comparator),l=!1;for(const u of a.filters)for(const d of u.getFlattenedFilters())d.field.isKeyField()||("array-contains"===d.op||"array-contains-any"===d.op?l=!0:c=c.add(d.field));for(const u of a.orderBy)u.field.isKeyField()||(c=c.add(u.field));return c.size+(l?1:0)}(o)&&(i=1):i=0})).next(()=>null!==t.limit&&r.length>1&&2===i?1:i)}mn(e,t){const i=new Im;for(const r of jl(e)){const o=t.data.field(r.fieldPath);if(null==o)return null;const s=i.He(r.kind);Jl.Ve._e(o,s)}return i.Qe()}dn(e){const t=new Im;return Jl.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const i=new Im;return Jl.Ve._e(Gl(this.databaseId,t),i.He(function(r){const o=jl(r);return 0===o.length?0:o[o.length-1].kind}(e))),i.Qe()}ln(e,t,i){if(null===i)return[];let r=[];r.push(new Im);let o=0;for(const s of jl(e)){const a=i[o++];for(const c of r)if(this.yn(t,s.fieldPath)&&lm(a))r=this.pn(r,s,a);else{const l=c.He(s.kind);Jl.Ve._e(a,l)}}return this.In(r)}hn(e,t,i){return this.ln(e,t,i.position)}In(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].Qe();return t}pn(e,t,i){const r=[...e],o=[];for(const s of i.arrayValue.values||[])for(const a of r){const c=new Im;c.seed(a.Qe()),Jl.Ve._e(s,c.He(t.kind)),o.push(c)}return o}yn(e,t){return!!e.filters.find(i=>i instanceof pt&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=fw(e),r=Dm(e);return(t?i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.j()).next(o=>{const s=[];return L.forEach(o,a=>r.get([a.indexId,this.uid]).next(c=>{s.push(function(l,u){const d=u?new im(u.sequenceNumber,new io(Xl(u.readTime),new ae(Os(u.documentKey)),u.largestBatchId)):im.empty(),h=l.fields.map(([g,y])=>new G0(ei.fromServerFormat(g),y));return new $0(l.indexId,l.collectionGroup,h,d)}(a,c))})).next(()=>s)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const o=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==o?o:ze(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=fw(e),o=Dm(e);return this.Tn(e).next(s=>r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(a=>L.forEach(a,c=>o.put(Bq(c.indexId,this.user,s,i)))))}updateIndexEntries(e,t){const i=new Map;return L.forEach(t,(r,o)=>{const s=i.get(r.collectionGroup);return(s?L.resolve(s):this.getFieldIndexes(e,r.collectionGroup)).next(a=>(i.set(r.collectionGroup,a),L.forEach(a,c=>this.En(e,r,c).next(l=>{const u=this.An(o,c);return l.isEqual(u)?L.resolve():this.vn(e,o,c,l,u)}))))})}Rn(e,t,i,r){return Mm(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.gn(i,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,i,r){return Mm(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.gn(i,t.key),t.key.path.toArray()])}En(e,t,i){const r=Mm(e);let o=new hn(Mc);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.gn(i,t)])},(s,a)=>{o=o.add(new eu(i.indexId,t,a.arrayValue,a.directionalValue))}).next(()=>o)}An(e,t){let i=new hn(Mc);const r=this.mn(t,e);if(null==r)return i;const o=KO(t);if(null!=o){const s=e.data.field(o.fieldPath);if(lm(s))for(const a of s.arrayValue.values||[])i=i.add(new eu(t.indexId,e.key,this.dn(a),r))}else i=i.add(new eu(t.indexId,e.key,hw,r));return i}vn(e,t,i,r,o){te("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const s=[];return function(a,c,l,u,d){const h=a.getIterator(),g=c.getIterator();let y=vh(h),C=vh(g);for(;y||C;){let T=!1,S=!1;if(y&&C){const D=l(y,C);D<0?S=!0:D>0&&(T=!0)}else null!=y?S=!0:T=!0;T?(u(C),C=vh(g)):S?(d(y),y=vh(h)):(y=vh(h),C=vh(g))}}(r,o,Mc,a=>{s.push(this.Rn(e,t,i,a))},a=>{s.push(this.Pn(e,t,i,a))}),L.waitFor(s)}Tn(e){let t=1;return Dm(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,o)=>{o.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((s,a)=>Mc(s,a)).filter((s,a,c)=>!a||0!==Mc(s,c[a-1]));const r=[];r.push(e);for(const s of i){const a=Mc(s,e),c=Mc(s,t);if(0===a)r[0]=e.Je();else if(a>0&&c<0)r.push(s),r.push(s.Je());else if(c>0)break}r.push(t);const o=[];for(let s=0;s<r.length;s+=2){if(this.bn(r[s],r[s+1]))return[];o.push(IDBKeyRange.bound([r[s].indexId,this.uid,r[s].arrayValue,r[s].directionalValue,hw,[]],[r[s+1].indexId,this.uid,r[s+1].arrayValue,r[s+1].directionalValue,hw,[]]))}return o}bn(e,t){return Mc(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Kq)}getMinOffset(e,t){return L.mapArray(this.cn(t),i=>this.an(e,i).next(r=>r||pe())).next(Kq)}}function Wq(n){return Ai(n,"collectionParents")}function Mm(n){return Ai(n,"indexEntries")}function fw(n){return Ai(n,"indexConfiguration")}function Dm(n){return Ai(n,"indexState")}function Kq(n){ye(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;QO(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new io(e.readTime,e.documentKey,t)}const Qq={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class cr{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new cr(e,cr.DEFAULT_COLLECTION_PERCENTILE,cr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Yq(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),o=[],s=IDBKeyRange.only(t.batchId);let a=0;const c=i.X({range:s},(u,d,h)=>(a++,h.delete()));o.push(c.next(()=>{ye(1===a)}));const l=[];for(const u of t.mutations){const d=wG(e,u.key.path,t.batchId);o.push(r.delete(d)),l.push(u.key)}return L.waitFor(o).next(()=>l)}function pw(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw pe();e=n.noDocument}return JSON.stringify(e).length}cr.DEFAULT_COLLECTION_PERCENTILE=10,cr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cr.DEFAULT=new cr(41943040,cr.DEFAULT_COLLECTION_PERCENTILE,cr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cr.DISABLED=new cr(-1,0,0);class gw{constructor(e,t,i,r){this.userId=e,this.serializer=t,this.indexManager=i,this.referenceDelegate=r,this.Vn={}}static de(e,t,i,r){ye(""!==e.uid);const o=e.isAuthenticated()?e.uid:"";return new gw(o,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Dc(e).X({index:"userMutationsIndex",range:i},(r,o,s)=>{t=!1,s.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const o=kh(e),s=Dc(e);return s.add({}).next(a=>{ye("number"==typeof a);const c=new dP(a,t,i,r),l=function(h,g,y){const C=y.baseMutations.map(S=>Cm(h.fe,S)),T=y.mutations.map(S=>Cm(h.fe,S));return{userId:g,batchId:y.batchId,localWriteTimeMs:y.localWriteTime.toMillis(),baseMutations:C,mutations:T}}(this.serializer,this.userId,c),u=[];let d=new hn((h,g)=>ze(h.canonicalString(),g.canonicalString()));for(const h of r){const g=wG(this.userId,h.key.path,a);d=d.add(h.key.path.popLast()),u.push(s.put(l)),u.push(o.put(g,JTe))}return d.forEach(h=>{u.push(this.indexManager.addToCollectionParentIndex(e,h))}),e.addOnCommittedListener(()=>{this.Vn[a]=c.keys()}),L.waitFor(u).next(()=>c)})}lookupMutationBatch(e,t){return Dc(e).get(t).next(i=>i?(ye(i.userId===this.userId),Zl(this.serializer,i)):null)}Sn(e,t){return this.Vn[t]?L.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.Vn[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return Dc(e).X({index:"userMutationsIndex",range:r},(s,a,c)=>{a.userId===this.userId&&(ye(a.batchId>=i),o=Zl(this.serializer,a)),c.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Dc(e).X({index:"userMutationsIndex",range:t,reverse:!0},(r,o,s)=>{i=o.batchId,s.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Dc(e).j("userMutationsIndex",t).next(i=>i.map(r=>Zl(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=W0(this.userId,t.path),r=IDBKeyRange.lowerBound(i),o=[];return kh(e).X({range:r},(s,a,c)=>{const[l,u,d]=s,h=Os(u);if(l===this.userId&&t.path.isEqual(h))return Dc(e).get(d).next(g=>{if(!g)throw pe();ye(g.userId===this.userId),o.push(Zl(this.serializer,g))});c.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new hn(ze);const r=[];return t.forEach(o=>{const s=W0(this.userId,o.path),a=IDBKeyRange.lowerBound(s),c=kh(e).X({range:a},(l,u,d)=>{const[h,g,y]=l,C=Os(g);h===this.userId&&o.path.isEqual(C)?i=i.add(y):d.done()});r.push(c)}),L.waitFor(r).next(()=>this.Dn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,o=W0(this.userId,i),s=IDBKeyRange.lowerBound(o);let a=new hn(ze);return kh(e).X({range:s},(c,l,u)=>{const[d,h,g]=c,y=Os(h);d===this.userId&&i.isPrefixOf(y)?y.length===r&&(a=a.add(g)):u.done()}).next(()=>this.Dn(e,a))}Dn(e,t){const i=[],r=[];return t.forEach(o=>{r.push(Dc(e).get(o).next(s=>{if(null===s)throw pe();ye(s.userId===this.userId),i.push(Zl(this.serializer,s))}))}),L.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return Yq(e.ht,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),L.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return L.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return kh(e).X({range:i},(o,s,a)=>{if(o[0]===this.userId){const c=Os(o[1]);r.push(c)}else a.done()}).next(()=>{ye(0===r.length)})})}containsKey(e,t){return Xq(e,this.userId,t)}xn(e){return Zq(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Xq(n,e,t){const i=W0(e,t.path),r=i[1],o=IDBKeyRange.lowerBound(i);let s=!1;return kh(n).X({range:o,Y:!0},(a,c,l)=>{const[u,d,h]=a;u===e&&d===r&&(s=!0),l.done()}).next(()=>s)}function Dc(n){return Ai(n,"mutations")}function kh(n){return Ai(n,"documentMutations")}function Zq(n){return Ai(n,"mutationQueues")}class tu{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new tu(0)}static Mn(){return new tu(-1)}}class hMe{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const i=new tu(t.highestTargetId);return t.highestTargetId=i.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>ve.fromTimestamp(new kn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.$n(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.On(e,r)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(i=>(i.targetCount+=1,this.Bn(t,i),this.On(e,i))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Oh(e).delete(t.targetId)).next(()=>this.$n(e)).next(i=>(ye(i.targetCount>0),i.targetCount-=1,this.On(e,i)))}removeTargets(e,t,i){let r=0;const o=[];return Oh(e).X((s,a)=>{const c=Em(a);c.sequenceNumber<=t&&null===i.get(c.targetId)&&(r++,o.push(this.removeTargetData(e,c)))}).next(()=>L.waitFor(o)).next(()=>r)}forEachTarget(e,t){return Oh(e).X((i,r)=>{const o=Em(r);t(o)})}$n(e){return Jq(e).get("targetGlobalKey").next(t=>(ye(null!==t),t))}On(e,t){return Jq(e).put("targetGlobalKey",t)}Fn(e,t){return Oh(e).put(Lq(this.serializer,t))}Bn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const i=ql(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return Oh(e).X({range:r,index:"queryTargetsIndex"},(s,a,c)=>{const l=Em(a);dm(t,l.target)&&(o=l,c.done())}).next(()=>o)}addMatchingKeys(e,t,i){const r=[],o=Sc(e);return t.forEach(s=>{const a=ar(s.path);r.push(o.put({targetId:i,path:a})),r.push(this.referenceDelegate.addReference(e,i,s))}),L.waitFor(r)}removeMatchingKeys(e,t,i){const r=Sc(e);return L.forEach(t,o=>{const s=ar(o.path);return L.waitFor([r.delete([i,s]),this.referenceDelegate.removeReference(e,i,o)])})}removeMatchingKeysForTargetId(e,t){const i=Sc(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=Sc(e);let o=Ke();return r.X({range:i,Y:!0},(s,a,c)=>{const l=Os(s[1]),u=new ae(l);o=o.add(u)}).next(()=>o)}containsKey(e,t){const i=ar(t.path),r=IDBKeyRange.bound([i],[hG(i)],!1,!0);let o=0;return Sc(e).X({index:"documentTargetsIndex",Y:!0,range:r},([s,a],c,l)=>{0!==s&&(o++,l.done())}).next(()=>o>0)}le(e,t){return Oh(e).get(t).next(i=>i?Em(i):null)}}function Oh(n){return Ai(n,"targets")}function Jq(n){return Ai(n,"targetGlobal")}function Sc(n){return Ai(n,"targetDocuments")}function eW([n,e],[t,i]){const r=ze(n,t);return 0===r?ze(e,i):r}class fMe{constructor(e){this.Ln=e,this.buffer=new hn(eW),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();eW(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class tW{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;te("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,_(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){yc(i)?te("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield bc(i)}yield t.Qn(3e5)}))}}class pMe{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return L.resolve(ro.ct);const i=new fMe(t);return this.jn.forEachTarget(e,r=>i.Kn(r.sequenceNumber)).next(()=>this.jn.Wn(e,r=>i.Kn(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.jn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(te("LruGarbageCollector","Garbage collection skipped; disabled"),L.resolve(Qq)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(te("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Qq):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let i,r,o,s,a,c,l;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),r=this.params.maximumSequenceNumbersToCollect):r=d,s=Date.now(),this.nthSequenceNumber(e,r))).next(d=>(i=d,a=Date.now(),this.removeTargets(e,i,t))).next(d=>(o=d,c=Date.now(),this.removeOrphanedDocuments(e,i))).next(d=>(l=Date.now(),qO()<=mt.DEBUG&&te("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-u}ms\n\tDetermined least recently used ${r} in `+(a-s)+`ms\n\tRemoved ${o} targets in `+(c-a)+`ms\n\tRemoved ${d} documents in `+(l-c)+`ms\nTotal Duration: ${l-u}ms`),L.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:d})))}}class gMe{constructor(e,t){this.db=e,this.garbageCollector=function nW(n,e){return new pMe(n,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}Jn(e){let t=0;return this.Wn(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(i,r)=>t(r))}addReference(e,t,i){return mw(e,i)}removeReference(e,t,i){return mw(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return mw(e,t)}Xn(e,t){return function(i,r){let o=!1;return Zq(i).Z(s=>Xq(i,s,r).next(a=>(a&&(o=!0),L.resolve(!a)))).next(()=>o)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let o=0;return this.Yn(e,(s,a)=>{if(a<=t){const c=this.Xn(e,s).next(l=>{if(!l)return o++,i.getEntry(e,s).next(()=>(i.removeEntry(s,ve.min()),Sc(e).delete([0,ar(s.path)])))});r.push(c)}}).next(()=>L.waitFor(r)).next(()=>i.apply(e)).next(()=>o)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return mw(e,t)}Yn(e,t){const i=Sc(e);let r,o=ro.ct;return i.X({index:"documentTargetsIndex"},([s,a],{path:c,sequenceNumber:l})=>{0===s?(o!==ro.ct&&t(new ae(Os(r)),o),o=l,r=c):o=ro.ct}).next(()=>{o!==ro.ct&&t(new ae(Os(r)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function mw(n,e){return Sc(n).put((i=n.currentSequenceNumber,{targetId:0,path:ar(e.path),sequenceNumber:i}));var i}class iW{constructor(){this.changes=new xa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,fn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?L.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class mMe{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return nu(e).put(i)}removeEntry(e,t,i){return nu(e).delete(function(r,o){const s=r.path.toArray();return[s.slice(0,s.length-2),s[s.length-2],lw(o),s[s.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.Zn(e,i)))}getEntry(e,t){let i=fn.newInvalidDocument(t);return nu(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Sm(t))},(r,o)=>{i=this.ts(t,o)}).next(()=>i)}es(e,t){let i={size:0,document:fn.newInvalidDocument(t)};return nu(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Sm(t))},(r,o)=>{i={document:this.ts(t,o),size:pw(o)}}).next(()=>i)}getEntries(e,t){let i=$r();return this.ns(e,t,(r,o)=>{const s=this.ts(r,o);i=i.insert(r,s)}).next(()=>i)}ss(e,t){let i=$r(),r=new on(ae.comparator);return this.ns(e,t,(o,s)=>{const a=this.ts(o,s);i=i.insert(o,a),r=r.insert(o,pw(s))}).next(()=>({documents:i,rs:r}))}ns(e,t,i){if(t.isEmpty())return L.resolve();let r=new hn(aW);t.forEach(c=>r=r.add(c));const o=IDBKeyRange.bound(Sm(r.first()),Sm(r.last())),s=r.getIterator();let a=s.getNext();return nu(e).X({index:"documentKeyIndex",range:o},(c,l,u)=>{const d=ae.fromSegments([...l.prefixPath,l.collectionGroup,l.documentId]);for(;a&&aW(a,d)<0;)i(a,null),a=s.getNext();a&&a.isEqual(d)&&(i(a,l),a=s.hasNext()?s.getNext():null),a?u.G(Sm(a)):u.done()}).next(()=>{for(;a;)i(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,t,i,r){const o=t.path,s=[o.popLast().toArray(),o.lastSegment(),lw(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],a=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return nu(e).j(IDBKeyRange.bound(s,a,!0)).next(c=>{let l=$r();for(const u of c){const d=this.ts(ae.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);d.isFoundDocument()&&(fm(t,d)||r.has(d.key))&&(l=l.insert(d.key,d))}return l})}getAllFromCollectionGroup(e,t,i,r){let o=$r();const s=sW(t,i),a=sW(t,io.max());return nu(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},(c,l,u)=>{const d=this.ts(ae.fromSegments(l.prefixPath.concat(l.collectionGroup,l.documentId)),l);o=o.insert(d.key,d),o.size===r&&u.done()}).next(()=>o)}newChangeBuffer(e){return new _Me(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return oW(e).get("remoteDocumentGlobalKey").next(t=>(ye(!!t),t))}Zn(e,t){return oW(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const i=function nMe(n,e){let t;if(e.document)t=function Sq(n,e,t){const i=Ns(n,e.name),r=ti(e.updateTime),o=e.createTime?ti(e.createTime):ve.min(),s=new Wi({mapValue:{fields:e.fields}}),a=fn.newFoundDocument(i,r,o,s);return t&&a.setHasCommittedMutations(),t?a.setHasCommittedMutations():a}(n.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=ae.fromSegments(e.noDocument.path),r=Xl(e.noDocument.readTime);t=fn.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return pe();{const i=ae.fromSegments(e.unknownDocument.path),r=Xl(e.unknownDocument.version);t=fn.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(i){const r=new kn(i[0],i[1]);return ve.fromTimestamp(r)}(e.readTime)),t}(this.serializer,t);if(!i.isNoDocument()||!i.version.isEqual(ve.min()))return i}return fn.newInvalidDocument(e)}}function rW(n){return new mMe(n)}class _Me extends iW{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new xa(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new hn((o,s)=>ze(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{const a=this.us.get(o);if(t.push(this.os.removeEntry(e,o,a.readTime)),s.isValidDocument()){const c=Fq(this.os.serializer,s);r=r.add(o.path.popLast());const l=pw(c);i+=l-a.size,t.push(this.os.addEntry(e,o,c))}else if(i-=a.size,this.trackRemovals){const c=Fq(this.os.serializer,s.convertToNoDocument(ve.min()));t.push(this.os.addEntry(e,o,c))}}),r.forEach(o=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,o))}),t.push(this.os.updateMetadata(e,i)),L.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(i=>(this.us.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:i,rs:r})=>(r.forEach((o,s)=>{this.us.set(o,{size:s,readTime:i.get(o).readTime})}),i))}}function oW(n){return Ai(n,"remoteDocumentGlobal")}function nu(n){return Ai(n,"remoteDocumentsV14")}function Sm(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function sW(n,e){const t=e.documentKey.path.toArray();return[n,lw(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function aW(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let o=0;o<t.length-2&&o<i.length-2;++o)if(r=ze(t[o],i[o]),r)return r;return r=ze(t.length,i.length),r||(r=ze(t[t.length-2],i[i.length-2]),r||ze(t[t.length-1],i[i.length-1]))}class bMe{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class cW{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(null!==i&&_m(i.mutation,r,Hr.empty(),kn.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Ke()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Ke()){const r=Rs();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(o=>{let s=pm();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){const i=Rs();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Ke()))}populateOverlays(e,t,i){const r=[];return i.forEach(o=>{t.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,i,r){let o=$r();const s=gm(),a=gm();return t.forEach((c,l)=>{const u=i.get(l.key);r.has(l.key)&&(void 0===u||u.mutation instanceof Ca)?o=o.insert(l.key,l):void 0!==u?(s.set(l.key,u.mutation.getFieldMask()),_m(u.mutation,l,u.mutation.getFieldMask(),kn.now())):s.set(l.key,Hr.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((l,u)=>s.set(l,u)),t.forEach((l,u)=>{var d;return a.set(l,new bMe(u,null!==(d=s.get(l))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,t){const i=gm();let r=new on((s,a)=>s-a),o=Ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(const a of s)a.keys().forEach(c=>{const l=t.get(c);if(null===l)return;let u=i.get(c)||Hr.empty();u=a.applyToLocalView(l,u),i.set(c,u);const d=(r.get(a.batchId)||Ke()).add(c);r=r.insert(a.batchId,d)})}).next(()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),l=c.key,u=c.value,d=eq();u.forEach(h=>{if(!o.has(h)){const g=lq(t.get(h),i.get(h));null!==g&&d.set(h,g),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,d))}return L.waitFor(s)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return ae.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):sP(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var r}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(o=>{const s=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-o.size):L.resolve(Rs());let a=-1,c=o;return s.next(l=>L.forEach(l,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(u)?L.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{c=c.insert(u,h)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,c,l,Ke())).next(u=>({batchId:a,changes:JG(u)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ae(t)).next(i=>{let r=pm();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const r=t.collectionGroup;let o=pm();return this.indexManager.getCollectionParents(e,r).next(s=>L.forEach(s,a=>{const c=(l=t,u=a.child(r),new wa(u,null,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt));var l,u;return this.getDocumentsMatchingCollectionQuery(e,c,i).next(l=>{l.forEach((u,d)=>{o=o.insert(u,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,i){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(o=>(r=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,r))).next(o=>{r.forEach((a,c)=>{const l=c.getKey();null===o.get(l)&&(o=o.insert(l,fn.newInvalidDocument(l)))});let s=pm();return o.forEach((a,c)=>{const l=r.get(a);void 0!==l&&_m(l.mutation,c,Hr.empty(),kn.now()),fm(t,c)&&(s=s.insert(a,c))}),s})}}class yMe{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return L.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var i;return this.cs.set(t.id,{id:(i=t).id,version:i.version,createTime:ti(i.createTime)}),L.resolve()}getNamedQuery(e,t){return L.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(i=t).name,query:wP(i.bundledQuery),readTime:ti(i.readTime)}),L.resolve();var i}}class vMe{constructor(){this.overlays=new on(ae.comparator),this.ls=new Map}getOverlay(e,t){return L.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Rs();return L.forEach(t,r=>this.getOverlay(e,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,o)=>{this.we(e,t,o)}),L.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.ls.get(i);return void 0!==r&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.ls.delete(i)),L.resolve()}getOverlaysForCollection(e,t,i){const r=Rs(),o=t.length+1,s=new ae(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const c=a.getNext().value,l=c.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&c.largestBatchId>i&&r.set(c.getKey(),c)}return L.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let o=new on((l,u)=>l-u);const s=this.overlays.getIterator();for(;s.hasNext();){const l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>i){let u=o.get(l.largestBatchId);null===u&&(u=Rs(),o=o.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}const a=Rs(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,u)=>a.set(l,u)),!(a.size()>=r)););return L.resolve(a)}we(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const s=this.ls.get(r.largestBatchId).delete(i.key);this.ls.set(r.largestBatchId,s)}this.overlays=this.overlays.insert(i.key,new fP(t,i));let o=this.ls.get(t);void 0===o&&(o=Ke(),this.ls.set(t,o)),this.ls.set(t,o.add(i.key))}}class DP{constructor(){this.fs=new hn(ki.ds),this.ws=new hn(ki._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const i=new ki(e,t);this.fs=this.fs.add(i),this.ws=this.ws.add(i)}gs(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.ys(new ki(e,t))}ps(e,t){e.forEach(i=>this.removeReference(i,t))}Is(e){const t=new ae(new xt([])),i=new ki(t,e),r=new ki(t,e+1),o=[];return this.ws.forEachInRange([i,r],s=>{this.ys(s),o.push(s.key)}),o}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new ae(new xt([])),i=new ki(t,e),r=new ki(t,e+1);let o=Ke();return this.ws.forEachInRange([i,r],s=>{o=o.add(s.key)}),o}containsKey(e){const t=new ki(e,0),i=this.fs.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class ki{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return ae.comparator(e.key,t.key)||ze(e.As,t.As)}static _s(e,t){return ze(e.As,t.As)||ae.comparator(e.key,t.key)}}class wMe{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new hn(ki.ds)}checkEmpty(e){return L.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const o=this.vs;this.vs++;const s=new dP(o,t,i,r);this.mutationQueue.push(s);for(const a of r)this.Rs=this.Rs.add(new ki(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return L.resolve(s)}lookupMutationBatch(e,t){return L.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.bs(t+1),o=r<0?0:r;return L.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new ki(t,0),r=new ki(t,Number.POSITIVE_INFINITY),o=[];return this.Rs.forEachInRange([i,r],s=>{const a=this.Ps(s.As);o.push(a)}),L.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new hn(ze);return t.forEach(r=>{const o=new ki(r,0),s=new ki(r,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([o,s],a=>{i=i.add(a.As)})}),L.resolve(this.Vs(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let o=i;ae.isDocumentKey(o)||(o=o.child(""));const s=new ki(new ae(o),0);let a=new hn(ze);return this.Rs.forEachWhile(c=>{const l=c.key.path;return!!i.isPrefixOf(l)&&(l.length===r&&(a=a.add(c.As)),!0)},s),L.resolve(this.Vs(a))}Vs(e){const t=[];return e.forEach(i=>{const r=this.Ps(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){ye(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let i=this.Rs;return L.forEach(t.mutations,r=>{const o=new ki(r.key,t.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Rs=i})}Cn(e){}containsKey(e,t){const i=new ki(t,0),r=this.Rs.firstAfterOrEqual(i);return L.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return L.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class xMe{constructor(e){this.Ds=e,this.docs=new on(ae.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),o=r?r.size:0,s=this.Ds(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return L.resolve(i?i.document.mutableCopy():fn.newInvalidDocument(t))}getEntries(e,t){let i=$r();return t.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():fn.newInvalidDocument(r))}),L.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let o=$r();const s=t.path,a=new ae(s.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:l,value:{document:u}}=c.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||QO(pG(u),i)<=0||(r.has(u.key)||fm(t,u))&&(o=o.insert(u.key,u.mutableCopy()))}return L.resolve(o)}getAllFromCollectionGroup(e,t,i,r){pe()}Cs(e,t){return L.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new CMe(this)}getSize(e){return L.resolve(this.size)}}class CMe extends iW{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.os.addEntry(e,r)):this.os.removeEntry(i)}),L.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class EMe{constructor(e){this.persistence=e,this.xs=new xa(t=>ql(t),dm),this.lastRemoteSnapshotVersion=ve.min(),this.highestTargetId=0,this.Ns=0,this.ks=new DP,this.targetCount=0,this.Ms=tu.kn()}forEachTarget(e,t){return this.xs.forEach((i,r)=>t(r)),L.resolve()}getLastRemoteSnapshotVersion(e){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Ns&&(this.Ns=t),L.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new tu(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,L.resolve()}updateTargetData(e,t){return this.Fn(t),L.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,L.resolve()}removeTargets(e,t,i){let r=0;const o=[];return this.xs.forEach((s,a)=>{a.sequenceNumber<=t&&null===i.get(a.targetId)&&(this.xs.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),L.waitFor(o).next(()=>r)}getTargetCount(e){return L.resolve(this.targetCount)}getTargetData(e,t){const i=this.xs.get(t)||null;return L.resolve(i)}addMatchingKeys(e,t,i){return this.ks.gs(t,i),L.resolve()}removeMatchingKeys(e,t,i){this.ks.ps(t,i);const r=this.persistence.referenceDelegate,o=[];return r&&t.forEach(s=>{o.push(r.markPotentiallyOrphaned(e,s))}),L.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),L.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ks.Es(t);return L.resolve(i)}containsKey(e,t){return L.resolve(this.ks.containsKey(t))}}class SP{constructor(e,t){this.$s={},this.overlays={},this.Os=new ro(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new EMe(this),this.indexManager=new uMe,this.remoteDocumentCache=new xMe(i=>this.referenceDelegate.Ls(i)),this.serializer=new Nq(t),this.qs=new yMe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new vMe,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.$s[e.toKey()];return i||(i=new wMe(t,this.referenceDelegate),this.$s[e.toKey()]=i),i}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,i){te("MemoryPersistence","Starting transaction:",e);const r=new TMe(this.Os.next());return this.referenceDelegate.Us(),i(r).next(o=>this.referenceDelegate.Ks(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Gs(e,t){return L.or(Object.values(this.$s).map(i=>()=>i.containsKey(e,t)))}}class TMe extends mG{constructor(e){super(),this.currentSequenceNumber=e}}class _w{constructor(e){this.persistence=e,this.Qs=new DP,this.js=null}static zs(e){return new _w(e)}get Ws(){if(this.js)return this.js;throw pe()}addReference(e,t,i){return this.Qs.addReference(i,t),this.Ws.delete(i.toString()),L.resolve()}removeReference(e,t,i){return this.Qs.removeReference(i,t),this.Ws.add(i.toString()),L.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),L.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(r=>this.Ws.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(o=>this.Ws.add(o.toString()))}).next(()=>i.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.Ws,i=>{const r=ae.fromPath(i);return this.Hs(e,r).next(o=>{o||t.removeEntry(r,ve.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(i=>{i?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return L.or([()=>L.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class IMe{constructor(e){this.serializer=e}O(e,t,i,r){const o=new q0("createOrUpgrade",t);var a;i<1&&r>=1&&(e.createObjectStore("owner"),(a=e).createObjectStore("mutationQueues",{keyPath:"userId"}),a.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",vG,{unique:!0}),a.createObjectStore("documentMutations"),lW(e),function(a){a.createObjectStore("remoteDocuments")}(e));let s=L.resolve();return i<3&&r>=3&&(0!==i&&(function(a){a.deleteObjectStore("targetDocuments"),a.deleteObjectStore("targets"),a.deleteObjectStore("targetGlobal")}(e),lW(e)),s=s.next(()=>function(a){const c=a.store("targetGlobal"),l={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ve.min().toTimestamp(),targetCount:0};return c.put("targetGlobalKey",l)}(o))),i<4&&r>=4&&(0!==i&&(s=s.next(()=>function(a,c){return c.store("mutations").j().next(l=>{a.deleteObjectStore("mutations"),a.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",vG,{unique:!0});const u=c.store("mutations"),d=l.map(h=>u.put(h));return L.waitFor(d)})}(e,o))),s=s.next(()=>{!function(a){a.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(s=s.next(()=>this.Ys(o))),i<6&&r>=6&&(s=s.next(()=>(function(a){a.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(o)))),i<7&&r>=7&&(s=s.next(()=>this.Zs(o))),i<8&&r>=8&&(s=s.next(()=>this.ti(e,o))),i<9&&r>=9&&(s=s.next(()=>{!function(a){a.objectStoreNames.contains("remoteDocumentChanges")&&a.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(s=s.next(()=>this.ei(o))),i<11&&r>=11&&(s=s.next(()=>{(function(a){a.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(a){a.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(s=s.next(()=>{!function(a){const c=a.createObjectStore("documentOverlays",{keyPath:dIe});c.createIndex("collectionPathOverlayIndex",hIe,{unique:!1}),c.createIndex("collectionGroupOverlayIndex",fIe,{unique:!1})}(e)})),i<13&&r>=13&&(s=s.next(()=>function(a){const c=a.createObjectStore("remoteDocumentsV14",{keyPath:eIe});c.createIndex("documentKeyIndex",tIe),c.createIndex("collectionGroupIndex",nIe)}(e)).next(()=>this.ni(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(s=s.next(()=>this.si(e,o))),i<15&&r>=15&&(s=s.next(()=>function(a){a.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),a.createObjectStore("indexState",{keyPath:aIe}).createIndex("sequenceNumberIndex",cIe,{unique:!1}),a.createObjectStore("indexEntries",{keyPath:lIe}).createIndex("documentKeyIndex",uIe,{unique:!1})}(e))),s}Xs(e){let t=0;return e.store("remoteDocuments").X((i,r)=>{t+=pw(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Ys(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.j().next(r=>L.forEach(r,o=>{const s=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.j("userMutationsIndex",s).next(a=>L.forEach(a,c=>{ye(c.userId===o.userId);const l=Zl(this.serializer,c);return Yq(e,o.userId,l).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const o=[];return i.X((s,a)=>{const c=new xt(s),l=[0,ar(c)];o.push(t.get(l).next(u=>u?L.resolve():t.put({targetId:0,path:ar(c),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>L.waitFor(o))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:sIe});const i=t.store("collectionParents"),r=new MP,o=s=>{if(r.add(s)){const a=s.lastSegment(),c=s.popLast();return i.put({collectionId:a,parent:ar(c)})}};return t.store("remoteDocuments").X({Y:!0},(s,a)=>{const c=new xt(s);return o(c.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([s,a,c],l)=>{const u=Os(a);return o(u.popLast())}))}ei(e){const t=e.store("targets");return t.X((i,r)=>{const o=Em(r),s=Lq(this.serializer,o);return t.put(s)})}ni(e,t){const i=t.store("remoteDocuments"),r=[];return i.X((o,s)=>{const a=t.store("remoteDocumentsV14"),c=(l=s,l.document?new ae(xt.fromString(l.document.name).popFirst(5)):l.noDocument?ae.fromSegments(l.noDocument.path):l.unknownDocument?ae.fromSegments(l.unknownDocument.path):pe()).path.toArray();var l;const u={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};r.push(a.put(u))}).next(()=>L.waitFor(r))}si(e,t){const i=t.store("mutations"),r=rW(this.serializer),o=new SP(_w.zs,this.serializer.fe);return i.j().next(s=>{const a=new Map;return s.forEach(c=>{var l;let u=null!==(l=a.get(c.userId))&&void 0!==l?l:Ke();Zl(this.serializer,c).keys().forEach(d=>u=u.add(d)),a.set(c.userId,u)}),L.forEach(a,(c,l)=>{const u=new Si(l),d=uw.de(this.serializer,u),h=o.getIndexManager(u),g=gw.de(u,this.serializer,h,o.referenceDelegate);return new cW(r,g,d,h).recalculateAndSaveOverlaysForDocumentKeys(new ZO(t,ro.ct),c).next()})})}}function lW(n){n.createObjectStore("targetDocuments",{keyPath:rIe}).createIndex("documentTargetsIndex",oIe,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",iIe,{unique:!0}),n.createObjectStore("targetGlobal")}const AP="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class kP{constructor(e,t,i,r,o,s,a,c,l,u,d=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.ii=o,this.window=s,this.document=a,this.ri=l,this.oi=u,this.ui=d,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=h=>Promise.resolve(),!kP.D())throw new Z(B.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new gMe(this,r),this.di=t+"main",this.serializer=new Nq(c),this.wi=new Wo(this.di,this.ui,new IMe(this.serializer)),this.Bs=new hMe(this.referenceDelegate,this.serializer),this.remoteDocumentCache=rW(this.serializer),this.qs=new iMe,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===u&&Jn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Z(B.FAILED_PRECONDITION,AP);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new ro(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var i=_(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=_(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget(_(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>yw(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(yc(e))return te("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return te("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return Am(e).get("owner").next(t=>L.resolve(this.Ri(t)))}Pi(e){return yw(e).delete(this.clientId)}bi(){var e=this;return _(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Ai(i,"clientMetadata");return r.j().next(o=>{const s=e.Si(o,18e5),a=o.filter(c=>-1===s.indexOf(c));return L.forEach(a,c=>r.delete(c.clientId)).next(()=>a)})}).catch(()=>[]);if(e._i)for(const i of t)e._i.removeItem(e.Di(i.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?L.resolve(!0):Am(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new Z(B.FAILED_PRECONDITION,AP);return!1}}return!(!this.networkEnabled||!this.inForeground)||yw(e).j().next(i=>void 0===this.Si(i,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(t=>(this.isPrimary!==t&&te("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return _(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new ZO(t,ro.ct);return e.Ai(i).next(()=>e.Pi(i))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(i=>this.Vi(i.updateTimeMs,t)&&!this.Ci(i.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>yw(e).j().next(t=>this.Si(t,18e5).map(i=>i.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return gw.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new dMe(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return uw.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,i){te("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",o=15===(s=this.ui)?gIe:14===s?EG:13===s?CG:12===s?pIe:11===s?xG:void pe();var s;let a;return this.wi.runTransaction(e,r,o,c=>(a=new ZO(c,this.Os?this.Os.next():ro.ct),"readwrite-primary"===t?this.Ti(a).next(l=>!!l||this.Ei(a)).next(l=>{if(!l)throw Jn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new Z(B.FAILED_PRECONDITION,gG);return i(a)}).next(l=>this.vi(a).next(()=>l)):this.Oi(a).next(()=>i(a)))).then(c=>(a.raiseOnCommittedEvent(),c))}Oi(e){return Am(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Z(B.FAILED_PRECONDITION,AP)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Am(e).put("owner",t)}static D(){return Wo.D()}Ai(e){const t=Am(e);return t.get("owner").next(i=>this.Ri(i)?(te("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):L.resolve())}Vi(e,t){const i=Date.now();return!(e<i-t||e>i&&(Jn(`Detected an update time that is in the future: ${e} > ${i}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(function cbe(){return!W9()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")})()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const i=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return te("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Jn("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){Jn("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Am(n){return Ai(n,"owner")}function yw(n){return Ai(n,"clientMetadata")}class PP{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Fi=i,this.Bi=r}static Li(e,t){let i=Ke(),r=Ke();for(const o of t.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new PP(e,t.fromCache,i,r)}}class uW{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,i,r){return this.Ki(e,t).next(o=>o||this.Gi(e,t,r,i)).next(o=>o||this.Qi(e,t))}Ki(e,t){if(KG(t))return L.resolve(null);let i=Cr(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=iw(t,null,"F"),i=Cr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{const s=Ke(...o);return this.Ui.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,i).next(c=>{const l=this.ji(t,a);return this.zi(t,l,s,c.readTime)?this.Ki(e,iw(t,null,"F")):this.Wi(e,l,t,c)}))})))}Gi(e,t,i,r){return KG(t)||r.isEqual(ve.min())?this.Qi(e,t):this.Ui.getDocuments(e,i).next(o=>{const s=this.ji(t,o);return this.zi(t,s,i,r)?this.Qi(e,t):(qO()<=mt.DEBUG&&te("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),cP(t)),this.Wi(e,s,t,function fG(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=ve.fromTimestamp(1e9===i?new kn(t+1,0):new kn(t,i));return new io(r,ae.empty(),e)}(r,-1)))})}ji(e,t){let i=new hn(XG(e));return t.forEach((r,o)=>{fm(e,o)&&(i=i.add(o))}),i}zi(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const o="F"===e.limitType?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Qi(e,t){return qO()<=mt.DEBUG&&te("QueryEngine","Using full collection scan to execute query:",cP(t)),this.Ui.getDocumentsMatchingQuery(e,t,io.min())}Wi(e,t,i,r){return this.Ui.getDocumentsMatchingQuery(e,i,r).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}}class MMe{constructor(e,t,i,r){this.persistence=e,this.Hi=t,this.serializer=r,this.Ji=new on(ze),this.Yi=new xa(o=>ql(o),dm),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(i)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new cW(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function dW(n,e,t,i){return new MMe(n,e,t,i)}function hW(n,e){return RP.apply(this,arguments)}function RP(){return RP=_(function*(n,e){const t=le(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,t.tr(e),t.mutationQueue.getAllMutationBatches(i))).next(o=>{const s=[],a=[];let c=Ke();for(const l of r){s.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}for(const l of o){a.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}return t.localDocuments.getDocuments(i,c).next(l=>({er:l,removedBatchIds:s,addedBatchIds:a}))})})}),RP.apply(this,arguments)}function fW(n){const e=le(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function AMe(n,e){const t=le(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Rh(n,e,t){return NP.apply(this,arguments)}function NP(){return NP=_(function*(n,e,t){const i=le(n),r=i.Ji.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",o,s=>i.persistence.referenceDelegate.removeTarget(s,r)))}catch(s){if(!yc(s))throw s;te("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}i.Ji=i.Ji.remove(e),i.Yi.delete(r.target)}),NP.apply(this,arguments)}function vw(n,e,t){const i=le(n);let r=ve.min(),o=Ke();return i.persistence.runTransaction("Execute query","readonly",s=>function(a,c,l){const u=le(a),d=u.Yi.get(l);return void 0!==d?L.resolve(u.Ji.get(d)):u.Bs.getTargetData(c,l)}(i,s,Cr(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.Bs.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>i.Hi.getDocumentsMatchingQuery(s,e,t?r:ve.min(),t?o:Ke())).next(a=>(function _W(n,e,t){let i=n.Xi.get(e)||ve.min();t.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.Xi.set(e,i)}(i,function YG(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),a),{documents:a,ir:o})))}class UP{constructor(){this.activeTargetIds=function lP(){return OIe}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class vW{constructor(){this.Hr=new UP,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,i){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new UP,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class PMe{Yr(e){}shutdown(){}}class wW{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){te("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){te("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Cw=null;function jP(){return null===Cw?Cw=268435456+Math.round(2147483648*Math.random()):Cw++,"0x"+Cw.toString(16)}const RMe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class NMe{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const lr="WebChannelConnection";class FMe extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,i,r,o){const s=jP(),a=this.To(e,t);te("RestConnection",`Sending RPC '${e}' ${s}:`,a,i);const c={};return this.Eo(c,r,o),this.Ao(e,a,c,i).then(l=>(te("RestConnection",`Received RPC '${e}' ${s}: `,l),l),l=>{throw qo("RestConnection",`RPC '${e}' ${s} failed with error: `,l,"url: ",a,"request:",i),l})}vo(e,t,i,r,o,s){return this.Io(e,t,i,r,o)}Eo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+bh,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,o)=>e[o]=r),i&&i.headers.forEach((r,o)=>e[o]=r)}To(e,t){return`${this.mo}/v1/${t}:${RMe[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,i,r){const o=jP();return new Promise((s,a)=>{const c=new FTe;c.setWithCredentials(!0),c.listenOnce(PTe.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case GO.NO_ERROR:const u=c.getResponseJson();te(lr,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(u)),s(u);break;case GO.TIMEOUT:te(lr,`RPC '${e}' ${o} timed out`),a(new Z(B.DEADLINE_EXCEEDED,"Request time out"));break;case GO.HTTP_ERROR:const d=c.getStatus();if(te(lr,`RPC '${e}' ${o} failed with status:`,d,"response text:",c.getResponseText()),d>0){let h=c.getResponseJson();Array.isArray(h)&&(h=h[0]);const g=h?.error;if(g&&g.status&&g.message){const y=function(C){const T=C.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(T)>=0?T:B.UNKNOWN}(g.status);a(new Z(y,g.message))}else a(new Z(B.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new Z(B.UNAVAILABLE,"Connection failed."));break;default:pe()}}finally{te(lr,`RPC '${e}' ${o} completed.`)}});const l=JSON.stringify(r);te(lr,`RPC '${e}' ${o} sending request:`,r),c.send(t,"POST",l,i,15)})}Ro(e,t,i){const r=jP(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=kTe(),a=OTe(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.xmlHttpFactory=new NTe({})),this.Eo(c.initMessageHeaders,t,i),c.encodeInitMessageHeaders=!0;const u=o.join("");te(lr,`Creating RPC '${e}' stream ${r}: ${u}`,c);const d=s.createWebChannel(u,c);let h=!1,g=!1;const y=new NMe({ro:T=>{g?te(lr,`Not sending because RPC '${e}' stream ${r} is closed:`,T):(h||(te(lr,`Opening RPC '${e}' stream ${r} transport.`),d.open(),h=!0),te(lr,`RPC '${e}' stream ${r} sending:`,T),d.send(T))},oo:()=>d.close()}),C=(T,S,D)=>{T.listen(S,N=>{try{D(N)}catch(W){setTimeout(()=>{throw W},0)}})};return C(d,H0.EventType.OPEN,()=>{g||te(lr,`RPC '${e}' stream ${r} transport opened.`)}),C(d,H0.EventType.CLOSE,()=>{g||(g=!0,te(lr,`RPC '${e}' stream ${r} transport closed`),y.wo())}),C(d,H0.EventType.ERROR,T=>{g||(g=!0,qo(lr,`RPC '${e}' stream ${r} transport errored:`,T),y.wo(new Z(B.UNAVAILABLE,"The operation could not be completed")))}),C(d,H0.EventType.MESSAGE,T=>{var S;if(!g){const D=T.data[0];ye(!!D);const W=D.error||(null===(S=D[0])||void 0===S?void 0:S.error);if(W){te(lr,`RPC '${e}' stream ${r} received error:`,W);const re=W.status;let ue=function(Qe){const In=ai[Qe];if(void 0!==In)return gq(In)}(re),Re=W.message;void 0===ue&&(ue=B.INTERNAL,Re="Unknown error status: "+re+" with message "+W.message),g=!0,y.wo(new Z(ue,Re)),d.close()}else te(lr,`RPC '${e}' stream ${r} received:`,D),y._o(D)}}),C(a,RTe.STAT_EVENT,T=>{T.stat===aG.PROXY?te(lr,`RPC '${e}' stream ${r} detected buffering proxy`):T.stat===aG.NOPROXY&&te(lr,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{y.fo()},0),y}}function Ew(){return typeof document<"u"?document:null}function Om(n){return new qIe(n,!0)}class HP{constructor(e,t,i=1e3,r=1.5,o=6e4){this.ii=e,this.timerId=t,this.Po=i,this.bo=r,this.Vo=o,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),i=Math.max(0,Date.now()-this.Co),r=Math.max(0,t-i);r>0&&te("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class CW{constructor(e,t,i,r,o,s,a,c){this.ii=e,this.$o=i,this.Oo=r,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new HP(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return _(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return _(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var i=this;return _(function*(){i.Ho(),i.Jo(),i.qo.cancel(),i.Fo++,4!==e?i.qo.reset():t&&t.code===B.RESOURCE_EXHAUSTED?(Jn(t.toString()),Jn("Using maximum backoff delay to prevent overloading the backend."),i.qo.xo()):t&&t.code===B.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Yo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Fo===t&&this.Zo(i,r)},i=>{e(()=>{const r=new Z(B.UNKNOWN,"Fetching auth token failed: "+i.message);return this.tu(r)})})}Zo(e,t){const i=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{i(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(r=>{i(()=>this.tu(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Go(){var e=this;this.state=5,this.qo.No(_(function*(){e.state=0,e.start()}))}tu(e){return te("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(te("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class LMe extends CW{constructor(e,t,i,r,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,s),this.serializer=o}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function QIe(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(c=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:pe(),r=e.targetChange.targetIds||[],o=function(c,l){return c.useProto3Json?(ye(void 0===l||"string"==typeof l),vi.fromBase64String(l||"")):(ye(void 0===l||l instanceof Uint8Array),vi.fromUint8Array(l||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){const l=void 0===c.code?B.UNKNOWN:gq(c.code);return new Z(l,c.message||"")}(s);t=new vq(i,r,o,a||null)}else if("documentChange"in e){const i=e.documentChange,r=Ns(n,i.document.name),o=ti(i.document.updateTime),s=i.document.createTime?ti(i.document.createTime):ve.min(),a=new Wi({mapValue:{fields:i.document.fields}}),c=fn.newFoundDocument(r,o,s,a);t=new cw(i.targetIds||[],i.removedTargetIds||[],c.key,c)}else if("documentDelete"in e){const i=e.documentDelete,r=Ns(n,i.document),o=i.readTime?ti(i.readTime):ve.min(),s=fn.newNoDocument(r,o);t=new cw([],i.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const i=e.documentRemove,r=Ns(n,i.document);t=new cw([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return pe();{const i=e.filter,{count:r=0,unchangedNames:o}=i,s=new UIe(r,o);t=new yq(i.targetId,s)}}var c;return t}(this.serializer,e),i=function(r){if(!("targetChange"in r))return ve.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?ve.min():o.readTime?ti(o.readTime):ve.min()}(e);return this.listener.nu(t,i)}su(e){const t={};t.database=xm(this.serializer),t.addTarget=function(r,o){let s;const a=o.target;if(s=ew(a)?{documents:Aq(r,a)}:{query:vP(r,a)},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){s.resumeToken=Eq(r,o.resumeToken);const c=mP(r,o.expectedCount);null!==c&&(s.expectedCount=c)}else if(o.snapshotVersion.compareTo(ve.min())>0){s.readTime=Sh(r,o.snapshotVersion.toTimestamp());const c=mP(r,o.expectedCount);null!==c&&(s.expectedCount=c)}return s}(this.serializer,e);const i=function XIe(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pe()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Wo(t)}iu(e){const t={};t.database=xm(this.serializer),t.removeTarget=e,this.Wo(t)}}class VMe extends CW{constructor(e,t,i,r,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,s),this.serializer=o,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(ye(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function YIe(n,e){return n&&n.length>0?(ye(void 0!==e),n.map(t=>function(i,r){let o=ti(i.updateTime?i.updateTime:r);return o.isEqual(ve.min())&&(o=ti(r)),new FIe(o,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=ti(e.commitTime);return this.listener.cu(i,t)}return ye(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=xm(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>Cm(this.serializer,i))};this.Wo(t)}}class BMe extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new Z(B.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.Io(e,t,i,r,o)).catch(r=>{throw"FirebaseError"===r.name?(r.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Z(B.UNKNOWN,r.toString())})}vo(e,t,i,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.vo(e,t,i,o,s,r)).catch(o=>{throw"FirebaseError"===o.name?(o.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Z(B.UNKNOWN,o.toString())})}terminate(){this.lu=!0}}class zMe{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Jn(t),this.mu=!1):te("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class jMe{constructor(e,t,i,r,o){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=o,this.Pu.Yr(a=>{i.enqueueAndForget(_(function*(){var c;Ac(s)&&(te("RemoteStore","Restarting streams for network reachability change."),yield(c=_(function*(l){const u=le(l);u.vu.add(4),yield Nh(u),u.bu.set("Unknown"),u.vu.delete(4),yield Pm(u)}),function(l){return c.apply(this,arguments)})(s))}))}),this.bu=new zMe(i,r)}}function Pm(n){return GP.apply(this,arguments)}function GP(){return GP=_(function*(n){if(Ac(n))for(const e of n.Ru)yield e(!0)}),GP.apply(this,arguments)}function Nh(n){return qP.apply(this,arguments)}function qP(){return qP=_(function*(n){for(const e of n.Ru)yield e(!1)}),qP.apply(this,arguments)}function Tw(n,e){const t=le(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),QP(t)?KP(t):Lh(t).Ko()&&WP(t,e))}function Rm(n,e){const t=le(n),i=Lh(t);t.Au.delete(e),i.Ko()&&EW(t,e),0===t.Au.size&&(i.Ko()?i.jo():Ac(t)&&t.bu.set("Unknown"))}function WP(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ve.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Lh(n).su(e)}function EW(n,e){n.Vu.qt(e),Lh(n).iu(e)}function KP(n){n.Vu=new jIe({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),Lh(n).start(),n.bu.gu()}function QP(n){return Ac(n)&&!Lh(n).Uo()&&n.Au.size>0}function Ac(n){return 0===le(n).vu.size}function TW(n){n.Vu=void 0}function HMe(n){return YP.apply(this,arguments)}function YP(){return YP=_(function*(n){n.Au.forEach((e,t)=>{WP(n,e)})}),YP.apply(this,arguments)}function $Me(n,e){return XP.apply(this,arguments)}function XP(){return XP=_(function*(n,e){TW(n),QP(n)?(n.bu.Iu(e),KP(n)):n.bu.set("Unknown")}),XP.apply(this,arguments)}function GMe(n,e,t){return ZP.apply(this,arguments)}function ZP(){return ZP=_(function*(n,e,t){if(n.bu.set("Online"),e instanceof vq&&2===e.state&&e.cause)try{yield(i=_(function*(r,o){const s=o.cause;for(const a of o.targetIds)r.Au.has(a)&&(yield r.remoteSyncer.rejectListen(a,s),r.Au.delete(a),r.Vu.removeTarget(a))}),function(r,o){return i.apply(this,arguments)})(n,e)}catch(i){te("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield Iw(n,i)}else if(e instanceof cw?n.Vu.Ht(e):e instanceof yq?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(ve.min()))try{const i=yield fW(n.localStore);t.compareTo(i)>=0&&(yield function(r,o){const s=r.Vu.ce(o);return s.targetChanges.forEach((a,c)=>{if(a.resumeToken.approximateByteSize()>0){const l=r.Au.get(c);l&&r.Au.set(c,l.withResumeToken(a.resumeToken,o))}}),s.targetMismatches.forEach((a,c)=>{const l=r.Au.get(a);if(!l)return;r.Au.set(a,l.withResumeToken(vi.EMPTY_BYTE_STRING,l.snapshotVersion)),EW(r,a);const u=new Ea(l.target,a,c,l.sequenceNumber);WP(r,u)}),r.remoteSyncer.applyRemoteEvent(s)}(n,t))}catch(i){te("RemoteStore","Failed to raise snapshot:",i),yield Iw(n,i)}var i}),ZP.apply(this,arguments)}function Iw(n,e,t){return JP.apply(this,arguments)}function JP(){return JP=_(function*(n,e,t){if(!yc(e))throw e;n.vu.add(1),yield Nh(n),n.bu.set("Offline"),t||(t=()=>fW(n.localStore)),n.asyncQueue.enqueueRetryable(_(function*(){te("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield Pm(n)}))}),JP.apply(this,arguments)}function IW(n,e){return e().catch(t=>Iw(n,t,e))}function Fh(n){return eR.apply(this,arguments)}function eR(){return eR=_(function*(n){const e=le(n),t=kc(e);let i=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;qMe(e);)try{const r=yield AMe(e.localStore,i);if(null===r){0===e.Eu.length&&t.jo();break}i=r.batchId,WMe(e,r)}catch(r){yield Iw(e,r)}MW(e)&&DW(e)}),eR.apply(this,arguments)}function qMe(n){return Ac(n)&&n.Eu.length<10}function WMe(n,e){n.Eu.push(e);const t=kc(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function MW(n){return Ac(n)&&!kc(n).Uo()&&n.Eu.length>0}function DW(n){kc(n).start()}function KMe(n){return tR.apply(this,arguments)}function tR(){return tR=_(function*(n){kc(n).hu()}),tR.apply(this,arguments)}function QMe(n){return nR.apply(this,arguments)}function nR(){return nR=_(function*(n){const e=kc(n);for(const t of n.Eu)e.uu(t.mutations)}),nR.apply(this,arguments)}function YMe(n,e,t){return iR.apply(this,arguments)}function iR(){return iR=_(function*(n,e,t){const i=n.Eu.shift(),r=hP.from(i,e,t);yield IW(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Fh(n)}),iR.apply(this,arguments)}function XMe(n,e){return rR.apply(this,arguments)}function rR(){return rR=_(function*(n,e){var t;e&&kc(n).ou&&(yield(t=_(function*(i,r){if(function pq(n){switch(n){default:return pe();case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0}}(o=r.code)&&o!==B.ABORTED){const s=i.Eu.shift();kc(i).Qo(),yield IW(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),yield Fh(i)}var o}),function(i,r){return t.apply(this,arguments)})(n,e)),MW(n)&&DW(n)}),rR.apply(this,arguments)}function SW(n,e){return oR.apply(this,arguments)}function oR(){return oR=_(function*(n,e){const t=le(n);t.asyncQueue.verifyOperationInProgress(),te("RemoteStore","RemoteStore received new credentials");const i=Ac(t);t.vu.add(3),yield Nh(t),i&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield Pm(t)}),oR.apply(this,arguments)}function aR(){return aR=_(function*(n,e){const t=le(n);e?(t.vu.delete(2),yield Pm(t)):e||(t.vu.add(2),yield Nh(t),t.bu.set("Unknown"))}),aR.apply(this,arguments)}function Lh(n){return n.Su||(n.Su=function(e,t,i){const r=le(e);return r.fu(),new LMe(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:HMe.bind(null,n),ao:$Me.bind(null,n),nu:GMe.bind(null,n)}),n.Ru.push(function(){var e=_(function*(t){t?(n.Su.Qo(),QP(n)?KP(n):n.bu.set("Unknown")):(yield n.Su.stop(),TW(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function kc(n){return n.Du||(n.Du=function(e,t,i){const r=le(e);return r.fu(),new VMe(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:KMe.bind(null,n),ao:XMe.bind(null,n),au:QMe.bind(null,n),cu:YMe.bind(null,n)}),n.Ru.push(function(){var e=_(function*(t){t?(n.Du.Qo(),yield Fh(n)):(yield n.Du.stop(),n.Eu.length>0&&(te("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class cR{constructor(e,t,i,r,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new yi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}static createAndSchedule(e,t,i,r,o){const s=Date.now()+i,a=new cR(e,t,s,r,o);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Z(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vh(n,e){if(Jn("AsyncQueue",`${e}: ${n}`),yc(n))return new Z(B.UNAVAILABLE,`${e}: ${n}`);throw n}class Bh{constructor(e){this.comparator=e?(t,i)=>e(t,i)||ae.comparator(t.key,i.key):(t,i)=>ae.comparator(t.key,i.key),this.keyedMap=pm(),this.sortedSet=new on(this.comparator)}static emptySet(e){return new Bh(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Bh)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new Bh;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class AW{constructor(){this.Cu=new on(ae.comparator)}track(e){const t=e.doc.key,i=this.Cu.get(t);i?0!==e.type&&3===i.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==i.type?this.Cu=this.Cu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Cu=this.Cu.remove(t):1===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):pe():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,i)=>{e.push(i)}),e}}class Uh{constructor(e,t,i,r,o,s,a,c,l){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,t,i,r,o){const s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new Uh(e,t,Bh.emptySet(t),s,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class ZMe{constructor(){this.Nu=void 0,this.listeners=[]}}class JMe{constructor(){this.queries=new xa(e=>QG(e),hm),this.onlineState="Unknown",this.ku=new Set}}function uR(){return uR=_(function*(n,e){const t=le(n),i=e.query;let r=!1,o=t.queries.get(i);if(o||(r=!0,o=new ZMe),r)try{o.Nu=yield t.onListen(i)}catch(s){const a=Vh(s,`Initialization of query '${cP(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.listeners.push(e),e.Mu(t.onlineState),o.Nu&&e.$u(o.Nu)&&fR(t)}),uR.apply(this,arguments)}function hR(){return hR=_(function*(n,e){const t=le(n),i=e.query;let r=!1;const o=t.queries.get(i);if(o){const s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),r=0===o.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),hR.apply(this,arguments)}function eDe(n,e){const t=le(n);let i=!1;for(const r of e){const s=t.queries.get(r.query);if(s){for(const a of s.listeners)a.$u(r)&&(i=!0);s.Nu=r}}i&&fR(t)}function tDe(n,e,t){const i=le(n),r=i.queries.get(e);if(r)for(const o of r.listeners)o.onError(t);i.queries.delete(e)}function fR(n){n.ku.forEach(e=>{e.next()})}class pR{constructor(e,t,i){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=i||{}}$u(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new Uh(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Uh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class PW{constructor(e){this.key=e}}class RW{constructor(e){this.key=e}}class NW{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Ke(),this.mutatedKeys=Ke(),this.tc=XG(e),this.ec=new Bh(this.tc)}get nc(){return this.Yu}sc(e,t){const i=t?t.ic:new AW,r=t?t.ec:this.ec;let o=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const c="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((u,d)=>{const h=r.get(u),g=fm(this.query,d)?d:null,y=!!h&&this.mutatedKeys.has(h.key),C=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let T=!1;h&&g?h.data.isEqual(g.data)?y!==C&&(i.track({type:3,doc:g}),T=!0):this.rc(h,g)||(i.track({type:2,doc:g}),T=!0,(c&&this.tc(g,c)>0||l&&this.tc(g,l)<0)&&(a=!0)):!h&&g?(i.track({type:0,doc:g}),T=!0):h&&!g&&(i.track({type:1,doc:h}),T=!0,(c||l)&&(a=!0)),T&&(g?(s=s.add(g),o=C?o.add(u):o.delete(u)):(s=s.delete(u),o=o.delete(u)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const u="F"===this.query.limitType?s.last():s.first();s=s.delete(u.key),o=o.delete(u.key),i.track({type:1,doc:u})}return{ec:s,ic:i,zi:a,mutatedKeys:o}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const o=e.ic.xu();o.sort((l,u)=>function(d,h){const g=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pe()}};return g(d)-g(h)}(l.type,u.type)||this.tc(l.doc,u.doc)),this.oc(i);const s=t?this.uc():[],a=0===this.Zu.size&&this.current?1:0,c=a!==this.Xu;return this.Xu=a,0!==o.length||c?{snapshot:new Uh(this.query,e.ec,r,o,e.mutatedKeys,0===a,c,!1,!!i&&i.resumeToken.approximateByteSize()>0),cc:s}:{cc:s}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new AW,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Ke(),this.ec.forEach(i=>{this.ac(i.key)&&(this.Zu=this.Zu.add(i.key))});const t=[];return e.forEach(i=>{this.Zu.has(i)||t.push(new RW(i))}),this.Zu.forEach(i=>{e.has(i)||t.push(new PW(i))}),t}hc(e){this.Yu=e.ir,this.Zu=Ke();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return Uh.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class rDe{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class oDe{constructor(e){this.key=e,this.fc=!1}}class sDe{constructor(e,t,i,r,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.dc={},this.wc=new xa(a=>QG(a),hm),this._c=new Map,this.mc=new Set,this.gc=new on(ae.comparator),this.yc=new Map,this.Ic=new DP,this.Tc={},this.Ec=new Map,this.Ac=tu.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function aDe(n,e){return gR.apply(this,arguments)}function gR(){return gR=_(function*(n,e){const t=function VR(n){const e=le(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=FW.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=mDe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=uDe.bind(null,e),e.dc.nu=eDe.bind(null,e.eventManager),e.dc.Pc=tDe.bind(null,e.eventManager),e}(n);let i,r;const o=t.wc.get(e);if(o)i=o.targetId,t.sharedClientState.addLocalQueryTarget(i),r=o.view.lc();else{const s=yield function Ph(n,e){const t=le(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Bs.getTargetData(i,e).next(o=>o?(r=o,L.resolve(r)):t.Bs.allocateTargetId(i).next(s=>(r=new Ea(e,s,"TargetPurposeListen",i.currentSequenceNumber),t.Bs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.Ji.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(i.targetId,i),t.Yi.set(e,i.targetId)),i})}(t.localStore,Cr(e)),a=t.sharedClientState.addLocalQueryTarget(s.targetId);i=s.targetId,r=yield function mR(n,e,t,i,r){return _R.apply(this,arguments)}(t,e,i,"current"===a,s.resumeToken),t.isPrimaryClient&&Tw(t.remoteStore,s)}return r}),gR.apply(this,arguments)}function _R(){return _R=_(function*(n,e,t,i,r){n.Rc=(d,h,g)=>{return(y=_(function*(C,T,S,D){let N=T.view.sc(S);N.zi&&(N=yield vw(C.localStore,T.query,!1).then(({documents:ue})=>T.view.sc(ue,N)));const W=D&&D.targetChanges.get(T.targetId),re=T.view.applyChanges(N,C.isPrimaryClient,W);return MR(C,T.targetId,re.cc),re.snapshot}),function(C,T,S,D){return y.apply(this,arguments)})(n,d,h,g);var y};const o=yield vw(n.localStore,e,!0),s=new NW(e,o.ir),a=s.sc(o.documents),c=vm.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,r),l=s.applyChanges(a,n.isPrimaryClient,c);MR(n,t,l.cc);const u=new rDe(e,t,s);return n.wc.set(e,u),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),l.snapshot}),_R.apply(this,arguments)}function cDe(n,e){return bR.apply(this,arguments)}function bR(){return bR=_(function*(n,e){const t=le(n),i=t.wc.get(e),r=t._c.get(i.targetId);if(r.length>1)return t._c.set(i.targetId,r.filter(o=>!hm(o,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Rh(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),Rm(t.remoteStore,i.targetId),zh(t,i.targetId)}).catch(bc))):(zh(t,i.targetId),yield Rh(t.localStore,i.targetId,!0))}),bR.apply(this,arguments)}function yR(){return yR=_(function*(n,e,t){const i=BR(n);try{const r=yield function(o,s){const a=le(o),c=kn.now(),l=s.reduce((h,g)=>h.add(g.key),Ke());let u,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let g=$r(),y=Ke();return a.Zi.getEntries(h,l).next(C=>{g=C,g.forEach((T,S)=>{S.isValidDocument()||(y=y.add(T))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,g)).next(C=>{u=C;const T=[];for(const S of s){const D=VIe(S,u.get(S.key).overlayedDocument);null!=D&&T.push(new Ca(S.key,D,NG(D.value.mapValue),Cn.exists(!0)))}return a.mutationQueue.addMutationBatch(h,c,T,s)}).next(C=>{d=C;const T=C.applyToLocalDocumentSet(u,y);return a.documentOverlayCache.saveOverlays(h,C.batchId,T)})}).then(()=>({batchId:d.batchId,changes:JG(u)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(o,s,a){let c=o.Tc[o.currentUser.toKey()];c||(c=new on(ze)),c=c.insert(s,a),o.Tc[o.currentUser.toKey()]=c}(i,r.batchId,t),yield Ta(i,r.changes),yield Fh(i.remoteStore)}catch(r){const o=Vh(r,"Failed to persist write");t.reject(o)}}),yR.apply(this,arguments)}function FW(n,e){return vR.apply(this,arguments)}function vR(){return vR=_(function*(n,e){const t=le(n);try{const i=yield function SMe(n,e){const t=le(n),i=e.snapshotVersion;let r=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=t.Zi.newChangeBuffer({trackRemovals:!0});r=t.Ji;const a=[];e.targetChanges.forEach((u,d)=>{const h=r.get(d);if(!h)return;a.push(t.Bs.removeMatchingKeys(o,u.removedDocuments,d).next(()=>t.Bs.addMatchingKeys(o,u.addedDocuments,d)));let g=h.withSequenceNumber(o.currentSequenceNumber);var y,C,T;null!==e.targetMismatches.get(d)?g=g.withResumeToken(vi.EMPTY_BYTE_STRING,ve.min()).withLastLimboFreeSnapshotVersion(ve.min()):u.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(u.resumeToken,i)),r=r.insert(d,g),C=g,T=u,(0===(y=h).resumeToken.approximateByteSize()||C.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8||T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0)&&a.push(t.Bs.updateTargetData(o,g))});let c=$r(),l=Ke();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,u))}),a.push(function pW(n,e,t){let i=Ke(),r=Ke();return t.forEach(o=>i=i.add(o)),e.getEntries(n,i).next(o=>{let s=$r();return t.forEach((a,c)=>{const l=o.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(r=r.add(a)),c.isNoDocument()&&c.version.isEqual(ve.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||0===c.version.compareTo(l.version)&&l.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):te("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{nr:s,sr:r}})}(o,s,e.documentUpdates).next(u=>{c=u.nr,l=u.sr})),!i.isEqual(ve.min())){const u=t.Bs.getLastRemoteSnapshotVersion(o).next(d=>t.Bs.setTargetsMetadata(o,o.currentSequenceNumber,i));a.push(u)}return L.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,c,l)).next(()=>c)}).then(o=>(t.Ji=r,o))}(t.localStore,e);e.targetChanges.forEach((r,o)=>{const s=t.yc.get(o);s&&(ye(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?s.fc=!0:r.modifiedDocuments.size>0?ye(s.fc):r.removedDocuments.size>0&&(ye(s.fc),s.fc=!1))}),yield Ta(t,i,e)}catch(i){yield bc(i)}}),vR.apply(this,arguments)}function LW(n,e,t){const i=le(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.wc.forEach((o,s)=>{const a=s.view.Mu(e);a.snapshot&&r.push(a.snapshot)}),function(o,s){const a=le(o);a.onlineState=s;let c=!1;a.queries.forEach((l,u)=>{for(const d of u.listeners)d.Mu(s)&&(c=!0)}),c&&fR(a)}(i.eventManager,e),r.length&&i.dc.nu(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function uDe(n,e,t){return wR.apply(this,arguments)}function wR(){return wR=_(function*(n,e,t){const i=le(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.yc.get(e),o=r&&r.key;if(o){let s=new on(ae.comparator);s=s.insert(o,fn.newNoDocument(o,ve.min()));const a=Ke().add(o),c=new ym(ve.min(),new Map,new on(ze),s,a);yield FW(i,c),i.gc=i.gc.remove(o),i.yc.delete(e),DR(i)}else yield Rh(i.localStore,e,!1).then(()=>zh(i,e,t)).catch(bc)}),wR.apply(this,arguments)}function dDe(n,e){return xR.apply(this,arguments)}function xR(){return xR=_(function*(n,e){const t=le(n),i=e.batch.batchId;try{const r=yield function DMe(n,e){const t=le(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),o=t.Zi.newChangeBuffer({trackRemovals:!0});return function(s,a,c,l){const u=c.batch,d=u.keys();let h=L.resolve();return d.forEach(g=>{h=h.next(()=>l.getEntry(a,g)).next(y=>{const C=c.docVersions.get(g);ye(null!==C),y.version.compareTo(C)<0&&(u.applyToRemoteDocument(y,c),y.isValidDocument()&&(y.setReadTime(c.commitVersion),l.addEntry(y)))})}),h.next(()=>s.mutationQueue.removeMutationBatch(a,u))}(t,i,e,o).next(()=>o.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(s){let a=Ke();for(let c=0;c<s.mutationResults.length;++c)s.mutationResults[c].transformResults.length>0&&(a=a.add(s.batch.mutations[c].key));return a}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}(t.localStore,e);IR(t,i,null),TR(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield Ta(t,r)}catch(r){yield bc(r)}}),xR.apply(this,arguments)}function hDe(n,e,t){return CR.apply(this,arguments)}function CR(){return CR=_(function*(n,e,t){const i=le(n);try{const r=yield function(o,s){const a=le(o);return a.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let l;return a.mutationQueue.lookupMutationBatch(c,s).next(u=>(ye(null!==u),l=u.keys(),a.mutationQueue.removeMutationBatch(c,u))).next(()=>a.mutationQueue.performConsistencyCheck(c)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(c,l,s)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,l)).next(()=>a.localDocuments.getDocuments(c,l))})}(i.localStore,e);IR(i,e,t),TR(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield Ta(i,r)}catch(r){yield bc(r)}}),CR.apply(this,arguments)}function TR(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function IR(n,e,t){const i=le(n);let r=i.Tc[i.currentUser.toKey()];if(r){const o=r.get(e);o&&(t?o.reject(t):o.resolve(),r=r.remove(e)),i.Tc[i.currentUser.toKey()]=r}}function zh(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n._c.get(e))n.wc.delete(i),t&&n.dc.Pc(i,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(i=>{n.Ic.containsKey(i)||VW(n,i)})}function VW(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(Rm(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),DR(n))}function MR(n,e,t){for(const i of t)i instanceof PW?(n.Ic.addReference(i.key,e),pDe(n,i)):i instanceof RW?(te("SyncEngine","Document no longer in limbo: "+i.key),n.Ic.removeReference(i.key,e),n.Ic.containsKey(i.key)||VW(n,i.key)):pe()}function pDe(n,e){const t=e.key,i=t.path.canonicalString();n.gc.get(t)||n.mc.has(i)||(te("SyncEngine","New document in limbo: "+t),n.mc.add(i),DR(n))}function DR(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new ae(xt.fromString(e)),i=n.Ac.next();n.yc.set(i,new oDe(t)),n.gc=n.gc.insert(t,i),Tw(n.remoteStore,new Ea(Cr(Eh(t.path)),i,"TargetPurposeLimboResolution",ro.ct))}}function Ta(n,e,t){return SR.apply(this,arguments)}function SR(){return SR=_(function*(n,e,t){const i=le(n),r=[],o=[],s=[];var a;i.wc.isEmpty()||(i.wc.forEach((a,c)=>{s.push(i.Rc(c,e,t).then(l=>{if((l||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(c.targetId,l?.fromCache?"not-current":"current"),l){r.push(l);const u=PP.Li(c.targetId,l);o.push(u)}}))}),yield Promise.all(s),i.dc.nu(r),yield(a=_(function*(c,l){const u=le(c);try{yield u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>L.forEach(l,h=>L.forEach(h.Fi,g=>u.persistence.referenceDelegate.addReference(d,h.targetId,g)).next(()=>L.forEach(h.Bi,g=>u.persistence.referenceDelegate.removeReference(d,h.targetId,g)))))}catch(d){if(!yc(d))throw d;te("LocalStore","Failed to update sequence numbers: "+d)}for(const d of l){const h=d.targetId;if(!d.fromCache){const g=u.Ji.get(h),C=g.withLastLimboFreeSnapshotVersion(g.snapshotVersion);u.Ji=u.Ji.insert(h,C)}}}),function(c,l){return a.apply(this,arguments)})(i.localStore,o))}),SR.apply(this,arguments)}function gDe(n,e){return AR.apply(this,arguments)}function AR(){return AR=_(function*(n,e){const t=le(n);if(!t.currentUser.isEqual(e)){te("SyncEngine","User change. New user:",e.toKey());const i=yield hW(t.localStore,e);t.currentUser=e,(r=t).Ec.forEach(s=>{s.forEach(a=>{a.reject(new Z(B.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.Ec.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Ta(t,i.er)}var r}),AR.apply(this,arguments)}function mDe(n,e){const t=le(n),i=t.yc.get(e);if(i&&i.fc)return Ke().add(i.key);{let r=Ke();const o=t._c.get(e);if(!o)return r;for(const s of o){const a=t.wc.get(s);r=r.unionWith(a.view.nc)}return r}}function BR(n){const e=le(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=dDe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=hDe.bind(null,e),e}class jh{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return _(function*(){t.serializer=Om(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return dW(this.persistence,new uW,e.initialUser,this.serializer)}createPersistence(e){return new SP(_w.zs,this.serializer)}createSharedClientState(e){return new vW}terminate(){var e=this;return _(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class UR extends jh{constructor(e,t,i){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return _(function*(){yield t().call(i,e),yield i.Vc.initialize(i,e),yield BR(i.Vc.syncEngine),yield Fh(i.Vc.remoteStore),yield i.persistence.Ii(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return dW(this.persistence,new uW,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new tW(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const i=new XTe(t,this.persistence);return new YTe(e.asyncQueue,i)}createPersistence(e){const t=function OP(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?cr.withCacheSize(this.cacheSizeBytes):cr.DEFAULT;return new kP(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,function xW(){return typeof window<"u"?window:null}(),Ew(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new vW}}class Hh{initialize(e,t){var i=this;return _(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>LW(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=gDe.bind(null,i.syncEngine),yield function sR(n,e){return aR.apply(this,arguments)}(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new JMe}createDatastore(e){const t=Om(e.databaseInfo.databaseId),i=new FMe(e.databaseInfo);return new BMe(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,o=a=>LW(this.syncEngine,a,0),s=wW.D()?new wW:new PMe,new jMe(t,i,r,o,s);var t,i,r,o,s}createSyncEngine(e,t){return function(i,r,o,s,a,c,l){const u=new sDe(i,r,o,s,a,c);return l&&(u.vc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=_(function*(t){const i=le(t);te("RemoteStore","RemoteStore shutting down."),i.vu.add(5),yield Nh(i),i.Pu.shutdown(),i.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class Mw{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Jn("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class SDe{constructor(e,t,i,r){var o=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=Si.UNAUTHENTICATED,this.clientId=dG.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var s=_(function*(a){te("FirestoreClient","Received user=",a.uid),yield o.authCredentialListener(a),o.user=a});return function(a){return s.apply(this,arguments)}}()),this.appCheckCredentials.start(i,s=>(te("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}getConfiguration(){var e=this;return _(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Z(B.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new yi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(_(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=Vh(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function Dw(n,e){return zR.apply(this,arguments)}function zR(){return zR=_(function*(n,e){n.asyncQueue.verifyOperationInProgress(),te("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=_(function*(o){i.isEqual(o)||(yield hW(e.localStore,o),i=o)});return function(o){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),zR.apply(this,arguments)}function jR(n,e){return HR.apply(this,arguments)}function HR(){return HR=_(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function $R(n){return GR.apply(this,arguments)}(n);te("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>SW(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>SW(e.remoteStore,o)),n._onlineComponents=e}),HR.apply(this,arguments)}function HW(n){return"FirebaseError"===n.name?n.code===B.FAILED_PRECONDITION||n.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function GR(){return GR=_(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){te("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Dw(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!HW(t))throw t;qo("Error using user provided cache. Falling back to memory cache: "+t),yield Dw(n,new jh)}}else te("FirestoreClient","Using default OfflineComponentProvider"),yield Dw(n,new jh);return n._offlineComponents}),GR.apply(this,arguments)}function Sw(n){return qR.apply(this,arguments)}function qR(){return qR=_(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(te("FirestoreClient","Using user provided OnlineComponentProvider"),yield jR(n,n._uninitializedComponentsProvider._online)):(te("FirestoreClient","Using default OnlineComponentProvider"),yield jR(n,new Hh))),n._onlineComponents}),qR.apply(this,arguments)}function KR(){return KR=_(function*(n){const e=yield Sw(n),t=e.eventManager;return t.onListen=aDe.bind(null,e.syncEngine),t.onUnlisten=cDe.bind(null,e.syncEngine),t}),KR.apply(this,arguments)}function KW(n,e,t={}){const i=new yi;return n.asyncQueue.enqueueAndForget(_(function*(){return function(r,o,s,a,c){const l=new Mw({next:d=>{o.enqueueAndForget(()=>function dR(n,e){return hR.apply(this,arguments)}(r,u)),d.fromCache&&"server"===a.source?c.reject(new Z(B.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(d)},error:d=>c.reject(d)}),u=new pR(s,l,{includeMetadataChanges:!0,Ku:!0});return function lR(n,e){return uR.apply(this,arguments)}(r,u)}(yield function $h(n){return KR.apply(this,arguments)}(n),n.asyncQueue,e,t,i)})),i.promise}function QW(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const YW=new Map;function QR(n,e,t){if(!t)throw new Z(B.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function XW(n){if(!ae.isDocumentKey(n))throw new Z(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function ZW(n){if(ae.isDocumentKey(n))throw new Z(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function kw(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":pe()}function _t(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Z(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=kw(n);throw new Z(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class eK{constructor(e){var t,i;if(void 0===e.host){if(void 0!==e.ssl)throw new Z(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Z(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function VDe(n,e,t,i){if(!0===e&&!0===i)throw new Z(B.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=QW(null!==(i=e.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(r){if(void 0!==r.timeoutSeconds){if(isNaN(r.timeoutSeconds))throw new Z(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Z(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Z(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Nm{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new eK({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Z(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Z(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new eK(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new VTe;switch(t.type){case"firstParty":return new jTe(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Z(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=YW.get(e);t&&(te("ComponentProvider","Removing Datastore"),YW.delete(e),t.terminate())}(this),Promise.resolve()}}class ni{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ni(this.firestore,e,this._key)}}class Ki{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Ki(this.firestore,e,this._query)}}class Fs extends Ki{constructor(e,t,i){super(e,t,Eh(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ni(this.firestore,null,new ae(e))}withConverter(e){return new Fs(this.firestore,e,this._path)}}function UDe(n,e,...t){if(n=kt(n),QR("collection","path",e),n instanceof Nm){const i=xt.fromString(e,...t);return ZW(i),new Fs(n,null,i)}{if(!(n instanceof ni||n instanceof Fs))throw new Z(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(xt.fromString(e,...t));return ZW(i),new Fs(n.firestore,null,i)}}function tK(n,e,...t){if(n=kt(n),1===arguments.length&&(e=dG.A()),QR("doc","path",e),n instanceof Nm){const i=xt.fromString(e,...t);return XW(i),new ni(n,null,new ae(i))}{if(!(n instanceof ni||n instanceof Fs))throw new Z(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(xt.fromString(e,...t));return XW(i),new ni(n.firestore,n instanceof Fs?n.converter:null,new ae(i))}}class zDe{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new HP(this,"async_queue_retry"),this.Xc=()=>{const t=Ew();t&&te("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=Ew();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=Ew();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new yi;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return _(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!yc(t))throw t;te("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(i=>{throw this.Wc=i,this.Hc=!1,Jn("INTERNAL UNHANDLED ERROR: ",function(o){let s=o.message||"";return o.stack&&(s=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),s}(i)),i}).then(i=>(this.Hc=!1,i))));return this.Gc=t,t}enqueueAfterDelay(e,t,i){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const r=cR.createAndSchedule(this,e,t,i,o=>this.na(o));return this.zc.push(r),r}Zc(){this.Wc&&pe()}verifyOperationInProgress(){}sa(){var e=this;return _(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}class pn extends Nm{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new zDe,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||iK(this),this._firestoreClient.terminate()}}function HDe(n,e){const i="string"==typeof n?n:e||"(default)",r=aa("object"==typeof n?n:th(),"firestore").getImmediate({identifier:i});if(!r._initialized){const o=Av("firestore");o&&function BDe(n,e,t,i={}){var r;const o=(n=_t(n,Nm))._getSettings(),s=`${e}:${t}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&qo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),i.mockUserToken){let a,c;if("string"==typeof i.mockUserToken)a=i.mockUserToken,c=Si.MOCK_USER;else{a=_M(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const l=i.mockUserToken.sub||i.mockUserToken.user_id;if(!l)throw new Z(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Si(l)}n._authCredentials=new BTe(new lG(a,c))}}(r,...o)}return r}function ci(n){return n._firestoreClient||iK(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function iK(n){var e,t,i;const r=n._freezeSettings(),o=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new _Ie(n._databaseId,a,n._persistenceKey,(l=r).host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,QW(l.experimentalLongPollingOptions),l.useFetchStreams));var a,l;n._firestoreClient=new SDe(n._authCredentials,n._appCheckCredentials,n._queue,o),null!==(t=r.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(i=r.cache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}function $De(n,e){!function oK(n){if(n._initialized||n._terminated)throw new Z(B.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}(n=_t(n,pn));const t=ci(n);if(t._uninitializedComponentsProvider)throw new Z(B.FAILED_PRECONDITION,"SDK cache is already specified.");qo("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),r=new Hh;return function rK(n,e,t){const i=new yi;return n.asyncQueue.enqueue(_(function*(){try{yield Dw(n,t),yield jR(n,e),i.resolve()}catch(r){const o=r;if(!HW(o))throw o;qo("Error enabling indexeddb cache. Falling back to memory cache: "+o),i.reject(o)}})).then(()=>i.promise)}(t,r,new UR(r,i.cacheSizeBytes,e?.forceOwnership))}class iu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new iu(vi.fromBase64String(e))}catch(t){throw new Z(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new iu(vi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ru{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Z(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ei(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Gh{constructor(e){this._methodName=e}}class XR{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Z(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Z(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}}const qDe=/^__.*__$/;class WDe{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new Ca(e,this.data,this.fieldMask,t,this.fieldTransforms):new Mh(e,this.data,t,this.fieldTransforms)}}class sK{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Ca(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function aK(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pe()}}class Ow{constructor(e,t,i,r,o,s){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===o&&this.ua(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Ow(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:i,la:!1});return r.fa(e),r}da(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:i,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Nw(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(aK(this.ca)&&qDe.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class KDe{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Om(e)}ya(e,t,i,r=!1){return new Ow({ca:e,methodName:t,ga:i,path:ei.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ou(n){const e=n._freezeSettings(),t=Om(n._databaseId);return new KDe(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Pw(n,e,t,i,r,o={}){const s=n.ya(o.merge||o.mergeFields?2:0,e,t,r);tN("Data must be an object, but it was:",s,i);const a=uK(i,s);let c,l;if(o.merge)c=new Hr(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){const u=[];for(const d of o.mergeFields){const h=Vm(e,d,t);if(!s.contains(h))throw new Z(B.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);hK(u,h)||u.push(h)}c=new Hr(u),l=s.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,l=s.fieldTransforms;return new WDe(new Wi(a),c,l)}class Lm extends Gh{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Lm}}function su(n,e){if(dK(n=kt(n)))return tN("Unsupported field value:",e,n),uK(n,e);if(n instanceof Gh)return function(t,i){if(!aK(i.ca))throw i._a(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i._a(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,i){const r=[];let o=0;for(const s of t){let a=su(s,i.wa(o));null==a&&(a={nullValue:"NULL_VALUE"}),r.push(a),o++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=kt(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return iq(i.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=kn.fromDate(t);return{timestampValue:Sh(i.serializer,r)}}if(t instanceof kn){const r=new kn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Sh(i.serializer,r)}}if(t instanceof XR)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof iu)return{bytesValue:Eq(i.serializer,t._byteString)};if(t instanceof ni){const r=i.databaseId,o=t.firestore._databaseId;if(!o.isEqual(r))throw i._a(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:_P(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i._a(`Unsupported field value: ${kw(t)}`)}(n,e)}function uK(n,e){const t={};return IG(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vc(n,(i,r)=>{const o=su(r,e.ha(i));null!=o&&(t[i]=o)}),{mapValue:{fields:t}}}function dK(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof kn||n instanceof XR||n instanceof iu||n instanceof ni||n instanceof Gh)}function tN(n,e,t){if(!dK(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=kw(t);throw e._a("an object"===i?n+" a custom object":n+" "+i)}var i}function Vm(n,e,t){if((e=kt(e))instanceof ru)return e._internalPath;if("string"==typeof e)return Rw(n,e);throw Nw("Field path arguments must be of type string or ",n,!1,void 0,t)}const ZDe=new RegExp("[~\\*/\\[\\]]");function Rw(n,e,t){if(e.search(ZDe)>=0)throw Nw(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ru(...e.split("."))._internalPath}catch{throw Nw(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Nw(n,e,t,i,r){const o=i&&!i.isEmpty(),s=void 0!==r;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${i}`),s&&(c+=` in document ${r}`),c+=")"),new Z(B.INVALID_ARGUMENT,a+n+c)}function hK(n,e){return n.some(t=>t.isEqual(e))}class Bm{constructor(e,t,i,r,o){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ni(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new JDe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Fw("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class JDe extends Bm{data(){return super.data()}}function Fw(n,e){return"string"==typeof e?Rw(n,e):e instanceof ru?e._internalPath:e._delegate._internalPath}class nN{}class Um extends nN{}function eSe(n,e,...t){let i=[];e instanceof nN&&i.push(e),i=i.concat(t),function(r){const o=r.filter(a=>a instanceof qh).length,s=r.filter(a=>a instanceof zm).length;if(o>1||o>0&&s>0)throw new Z(B.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class zm extends Um{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new zm(e,t,i)}_apply(e){const t=this._parse(e);return _K(e._query,t),new Ki(e.firestore,e.converter,aP(e._query,t))}_parse(e){const t=ou(e.firestore);return function(r,o,s,a,c,l,u){let d;if(c.isKeyField()){if("array-contains"===l||"array-contains-any"===l)throw new Z(B.INVALID_ARGUMENT,`Invalid Query. You can't perform '${l}' queries on documentId().`);if("in"===l||"not-in"===l){mK(u,l);const h=[];for(const g of u)h.push(gK(a,r,g));d={arrayValue:{values:h}}}else d=gK(a,r,u)}else"in"!==l&&"not-in"!==l&&"array-contains-any"!==l||mK(u,l),d=function lK(n,e,t,i=!1){return su(t,n.ya(i?4:3,e))}(s,"where",u,"in"===l||"not-in"===l);return pt.create(c,l,d)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}function tSe(n,e,t){const i=e,r=Fw("where",n);return zm._create(r,i,t)}class qh extends nN{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new qh(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:Bt.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,r){let o=i;const s=r.getFlattenedFilters();for(const a of s)_K(o,a),o=aP(o,a)}(e._query,t),new Ki(e.firestore,e.converter,aP(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function gK(n,e,t){if("string"==typeof(t=kt(t))){if(""===t)throw new Z(B.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!sP(e)&&-1!==t.indexOf("/"))throw new Z(B.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(xt.fromString(t));if(!ae.isDocumentKey(i))throw new Z(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Gl(n,new ae(i))}if(t instanceof ni)return Gl(n,t._key);throw new Z(B.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${kw(t)}.`)}function mK(n,e){if(!Array.isArray(n)||0===n.length)throw new Z(B.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function _K(n,e){if(e.isInequality()){const i=nw(n),r=e.field;if(null!==i&&!i.isEqual(r))throw new Z(B.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const o=oP(n);null!==o&&function bK(n,e,t){if(!t.isEqual(e))throw new Z(B.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}(0,r,o)}const t=function(i,r){for(const o of i)for(const s of o.getFlattenedFilters())if(r.indexOf(s.op)>=0)return s.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Z(B.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class vK{convertValue(e,t="none"){switch(Cc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return $n(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(va(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw pe()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return vc(e,(r,o)=>{i[r]=this.convertValue(o,t)}),i}convertGeoPoint(e){return new XR($n(e.latitude),$n(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Y0(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(am(e));default:return null}}convertTimestamp(e){const t=wc(e);return new kn(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=xt.fromString(e);ye(Rq(i));const r=new $l(i.get(1),i.get(3)),o=new ae(i.popFirst(5));return r.isEqual(t)||Jn(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}class au{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Wh extends Bm{constructor(e,t,i,r,o,s){super(e,t,i,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new zw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Fw("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class zw extends Wh{data(e={}){return super.data(e)}}class Kh{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new au(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new zw(this._firestore,this._userDataWriter,i.key,i,new au(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Z(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(s=>({type:"added",doc:new zw(i._firestore,i._userDataWriter,s.doc.key,s.doc,new au(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(s=>r||3!==s.type).map(s=>{const a=new zw(i._firestore,i._userDataWriter,s.doc.key,s.doc,new au(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,l=-1;return 0!==s.type&&(c=o.indexOf(s.doc.key),o=o.delete(s.doc.key)),1!==s.type&&(o=o.add(s.doc),l=o.indexOf(s.doc.key)),{type:rSe(s.type),doc:a,oldIndex:c,newIndex:l}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function rSe(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pe()}}class Oc extends vK{constructor(e){super(),this.firestore=e}convertBytes(e){return new iu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ni(this.firestore,null,t)}}function oSe(n){n=_t(n,Ki);const e=_t(n.firestore,pn),t=ci(e),i=new Oc(e);return function fK(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Z(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query),KW(t,n._query).then(r=>new Kh(e,i,n,r))}function sSe(n,e,t){n=_t(n,ni);const i=_t(n.firestore,pn),r=function Uw(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}(n.converter,e,t);return jm(i,[Pw(ou(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,Cn.none())])}function aSe(n,e,t,...i){n=_t(n,ni);const r=_t(n.firestore,pn),o=ou(r);let s;return s="string"==typeof(e=kt(e))||e instanceof ru?function eN(n,e,t,i,r,o){const s=n.ya(1,e,t),a=[Vm(e,i,t)],c=[r];if(o.length%2!=0)throw new Z(B.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)a.push(Vm(e,o[h])),c.push(o[h+1]);const l=[],u=Wi.empty();for(let h=a.length-1;h>=0;--h)if(!hK(l,a[h])){const g=a[h];let y=c[h];y=kt(y);const C=s.da(g);if(y instanceof Lm)l.push(g);else{const T=su(y,C);null!=T&&(l.push(g),u.set(g,T))}}const d=new Hr(l);return new sK(u,d,s.fieldTransforms)}(o,"updateDoc",n._key,e,t,i):function JR(n,e,t,i){const r=n.ya(1,e,t);tN("Data must be an object, but it was:",r,i);const o=[],s=Wi.empty();vc(i,(c,l)=>{const u=Rw(e,c,t);l=kt(l);const d=r.da(u);if(l instanceof Lm)o.push(u);else{const h=su(l,d);null!=h&&(o.push(u),s.set(u,h))}});const a=new Hr(o);return new sK(s,a,r.fieldTransforms)}(o,"updateDoc",n._key,e),jm(r,[s.toMutation(n._key,Cn.exists(!0))])}function cSe(n){return jm(_t(n.firestore,pn),[new Dh(n._key,Cn.none())])}function jm(n,e){return function(t,i){const r=new yi;return t.asyncQueue.enqueueAndForget(_(function*(){return function lDe(n,e,t){return yR.apply(this,arguments)}(yield function WR(n){return Sw(n).then(e=>e.syncEngine)}(t),i,r)})),r.promise}(ci(n),e)}!function(n,e=!0){bh=la,Ci(new bi("firestore",(t,{instanceIdentifier:i,options:r})=>{const o=t.getProvider("app").getImmediate(),s=new pn(new UTe(t.getProvider("auth-internal")),new HTe(t.getProvider("app-check-internal")),function(a,c){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new Z(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $l(a.options.projectId,c)}(o,i),o);return r=Object.assign({useFetchStreams:e},r),s._setSettings(r),s},"PUBLIC").setMultipleInstances(!0)),Pt(cG,"3.13.0",n),Pt(cG,"3.13.0","esm2017")}();class Ze{constructor(e){return e}}const xK="firestore",oN=new X("angularfire2.firestore-instances");function xSe(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new Ze(i)}}const CSe={provide:class vSe{constructor(){return fg(xK)}},deps:[[new en,oN]]},ESe={provide:Ze,useFactory:function wSe(n,e){const t=hg(xK,n,e);return t&&new Ze(t)},deps:[[new en,oN],dc]};let TSe=(()=>{class n{constructor(){Pt("angularfire",rh.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=et({type:n}),n.\u0275inj=Je({providers:[ESe,CSe]}),n})();function ISe(n,...e){return{ngModule:TSe,providers:[{provide:oN,useFactory:xSe(n),multi:!0,deps:[Me,Gt,pg,gg,[new en,m0],[new en,bg],...e]}]}}const me=Ti(UDe,!0),gn=Ti(cSe,!0),Ce=Ti(tK,!0),MSe=Ti($De,!0),de=Ti(oSe,!0),DSe=Ti(HDe,!0),Ut=Ti(eSe,!0),Er=Ti(sSe,!0),Qi=Ti(aSe,!0),zt=Ti(tSe,!0);let sN,SSe=(()=>{class n{constructor(t,i,r){this.auth=t,this.router=i,this.firestore=r,this.data=[],this.nid=1,this.getData()}getData(){const t=me(this.firestore,"users");de(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}Signup(){this.router.navigate(["/auth/signup"])}Salir(){si(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}handleLogin(t){var i=this;return _(function*(){let r;iO(i.auth,t.email,t.password).then(function(){var o=_(function*(s){i.current=s.user.email,r=s.user.email;const a=Ut(me(i.firestore,"users"),zt("email","==",r));(yield de(a)).forEach(l=>{let u=l.data();"Adminitrador"==u.role?i.router.navigate(["/admin/users"]):"Investigador"==u.role?i.router.navigate(["/user/unidad-produccion-all"]):"Cliente"==u.role&&i.router.navigate(["/client/unidad-produccion-all"])})});return function(s){return o.apply(this,arguments)}}()).catch(o=>{alert(o.message)})})()}static{this.\u0275fac=function(i){return new(i||n)(E(Be),E(Se),E(Ze))}}static{this.\u0275cmp=xe({type:n,selectors:[["app-login"]],decls:18,vars:0,consts:[[1,"salir",3,"click"],[1,"loginBox"],[1,"loginTile"],[1,"lineBlack"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"userText"],["name","email","ngModel","","placeholder","Email","id","email","type","email",1,"input-field"],[1,"claveText"],["name","password","ngModel","","placeholder","Password","id","password","type","password",1,"input-field"],[1,"boton"]],template:function(i,r){if(1&i){const o=ft();p(0,"button",0),Q("click",function(){return r.Salir()}),f(),Y(1,"div",1),p(2,"span",2),m(3,"Iniciar Sesi\xf3n"),f(),Y(4,"div",3),p(5,"form",4,5),Q("ngSubmit",function(){Ae(o);const a=un(6);return ke(r.handleLogin(a.value))}),p(7,"div",6)(8,"div",7)(9,"span",8),m(10,"Email: "),f(),Y(11,"input",9),f(),p(12,"div",7)(13,"span",10),m(14,"Clave: "),f(),Y(15,"input",11),f(),p(16,"button",12),m(17,"Log In"),f()()()}},dependencies:[Vn,Ui,vr,Ln,rr,xn],styles:[".input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.main[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;width:450px;height:250px;position:absolute;top:38%;left:50%;transform:translate(-50%)}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:450px;height:250px;position:absolute;top:38%;left:50%;transform:translate(-50%)}.loginTile[_ngcontent-%COMP%]{color:#000;width:450px;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;top:39.5%;left:50%;transform:translate(-50%)}.lineBlack[_ngcontent-%COMP%]{width:448px;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);top:45%;left:50%;transform:translate(-50%)}#email[_ngcontent-%COMP%]{width:300px;height:26px;margin-left:5px}.userText[_ngcontent-%COMP%]{color:#000;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0}#password[_ngcontent-%COMP%]{width:300px;height:26px;margin-left:5px}.claveText[_ngcontent-%COMP%]{color:#000;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;width:80px;height:35px;border-width:0;border-radius:30px;font-size:16px;position:absolute;left:72%;top:75%}.botonText[_ngcontent-%COMP%]{color:#fff;width:80px;height:35px;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;position:absolute;left:72%;top:75%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.main[_ngcontent-%COMP%]{display:flex;width:100vw;height:100vh;justify-content:center;align-items:center;flex-direction:column}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:40%;transform:none;position:absolute;left:15%;top:35%}.loginTile[_ngcontent-%COMP%]{color:#000;width:75%;height:20%;transform:none;position:absolute;font-family:Arial;text-align:center;font-size:24px;letter-spacing:0;left:15%;top:37%}.lineBlack[_ngcontent-%COMP%]{width:75%;height:0px;transform:none;position:absolute;border:1px solid rgba(0,0,0,1);left:15%;top:43%}#email[_ngcontent-%COMP%]{width:60%;height:3%;position:absolute;left:18%;top:11%}.userText[_ngcontent-%COMP%]{color:#000;width:10%;height:5%;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;position:absolute;left:20%;top:7%}#password[_ngcontent-%COMP%]{width:60%;height:3%;position:absolute;transform:none;left:18%;top:21%}.claveText[_ngcontent-%COMP%]{color:#000;width:10%;height:3%;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;transform:none;position:absolute;left:20%;top:17%}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;border-width:0;border-radius:30px;font-size:16px;transform:none;position:absolute;left:60%;top:27%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:14px;letter-spacing:0;left:60%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:15%;left:0%;top:0%}}"]})}}return n})(),ASe=(()=>{class n{constructor(t,i,r){this.auth=t,this.firestore=i,this.router=r,this.title="gestion-de-muestras-de-campo",this.data=[],this.getData()}Login(){this.router.navigate(["/auth/login"])}handleRegister(t){$H(this.auth,t.email,t.password).then(i=>{console.log(i.user)}).catch(i=>{alert(i.message)}),this.addData(t),this.Login()}addData(t){const i=Ce(this.firestore,"users",t.email);t.password==t.confirmpassword?"Invetigador"==t.role||"Cliente"==t.role?Er(i,{email:t.email,role:t.role,password:t.password}).then(()=>{alert("Data Sent")}).catch(r=>{alert(r.message)}):alert("Rol no reconocido"):alert("Claves No Iguales")}getData(){const t=me(this.firestore,"users");de(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}Salir(){si(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}static{this.\u0275fac=function(i){return new(i||n)(E(Be),E(Ze),E(Se))}}static{this.\u0275cmp=xe({type:n,selectors:[["app-signup"]],decls:29,vars:0,consts:[[1,"loginBox"],[1,"loginTile"],[1,"lineBlack"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"userText"],["name","email","ngModel","","placeholder","Email","id","email","type","email",1,"input-field"],[1,"roleText"],["list","roles","name","role","ngModel","","placeholder","Roles","id","role","type","role",1,"input-field"],["id","roles"],["value","Investigador"],["value","Cliente"],[1,"claveText"],["name","password","ngModel","","placeholder","Clave","id","password","type","password",1,"input-field"],[1,"clave2Text"],["name","confirmpassword","ngModel","","placeholder","Confirmar Clave","id","confirmpassword","type","password",1,"input-field"],[1,"boton"],[1,"salir",3,"click"]],template:function(i,r){if(1&i){const o=ft();Y(0,"div",0),p(1,"span",1),m(2,"Registrar"),f(),Y(3,"div",2),p(4,"form",3,4),Q("ngSubmit",function(){Ae(o);const a=un(5);return ke(r.handleRegister(a.value))}),p(6,"div",5)(7,"div",6)(8,"span",7),m(9,"Email:"),f(),Y(10,"input",8),f(),p(11,"div",6)(12,"span",9),m(13,"Roles:"),f(),Y(14,"input",10),p(15,"datalist",11),Y(16,"option",12)(17,"option",13),f()(),p(18,"div",6)(19,"span",14),m(20,"Clave:"),f(),Y(21,"input",15),f(),p(22,"div",6)(23,"span",16),m(24,"Confirmar Clave:"),f(),Y(25,"input",17),f(),p(26,"button",18),m(27,"Sign Up"),f()()(),p(28,"button",19),Q("click",function(){return r.Salir()}),f()}},dependencies:[Vn,oc,sc,Ui,vr,Ln,rr,xn],styles:[".input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}.main[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;width:600px;height:400px;position:absolute;top:37%;left:50%;transform:translate(-50%)}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:600px;height:400px;position:absolute;top:37%;left:50%;transform:translate(-50%)}.loginTile[_ngcontent-%COMP%]{color:#000;width:600px;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;top:39.5%;left:50%;transform:translate(-50%)}.lineBlack[_ngcontent-%COMP%]{width:600px;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);top:45%;left:50%;transform:translate(-50%)}#email[_ngcontent-%COMP%]{width:300px;height:26px;margin-left:5px}.userText[_ngcontent-%COMP%]{color:#000;margin-left:93px;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0}#password[_ngcontent-%COMP%]{width:300px;height:26px;margin-left:5px}.claveText[_ngcontent-%COMP%]{color:#000;margin-left:93px;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0}#role[_ngcontent-%COMP%]{width:300px;height:26px;margin-left:5px}.roleText[_ngcontent-%COMP%]{color:#000;margin-left:93px;width:150px;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0}#confirmpassword[_ngcontent-%COMP%]{width:300px;height:26px;margin-left:5px}.clave2Text[_ngcontent-%COMP%]{color:#000;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;width:80px;height:35px;border-width:0;border-radius:30px;font-size:16px;position:absolute;left:72%;top:75%}.botonText[_ngcontent-%COMP%]{color:#fff;width:80px;height:35px;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;position:absolute;left:72%;top:75%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.main[_ngcontent-%COMP%]{display:flex;width:100vw;height:100vh;justify-content:center;align-items:center;flex-direction:column;top:0%}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:65%;transform:none;position:absolute;left:15%;top:25%}.loginTile[_ngcontent-%COMP%]{color:#000;width:75%;height:20%;transform:none;position:absolute;font-family:Arial;text-align:center;font-size:24px;letter-spacing:0;left:16%;top:26%}.lineBlack[_ngcontent-%COMP%]{width:75%;height:0px;transform:none;position:absolute;border:1px solid rgba(0,0,0,1);left:15%;top:32%}#email[_ngcontent-%COMP%]{width:60%;height:3%;position:absolute;left:20%;top:40%}.userText[_ngcontent-%COMP%]{color:#000;width:10%;height:5%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:0%;top:35%}#role[_ngcontent-%COMP%]{width:30%;height:3%;position:absolute;left:20%;top:60%}.roleText[_ngcontent-%COMP%]{color:#000;width:15%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:0%;top:55%}#password[_ngcontent-%COMP%]{width:60%;height:3%;position:absolute;left:20%;top:50%}.claveText[_ngcontent-%COMP%]{color:#000;width:10%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:0%;top:45%}#confirmpassword[_ngcontent-%COMP%]{width:60%;height:3%;position:absolute;left:20%;top:70%}.clave2Text[_ngcontent-%COMP%]{color:#000;width:60%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:20%;top:65%}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:60%;top:74}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:14px;letter-spacing:0;left:60%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:15%;left:0%;top:0%}}"]})}}return n})();try{sN=typeof Intl<"u"&&Intl.v8BreakIterator}catch{sN=!1}let Hm,cu,aN,Oi=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?Gy(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!sN)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(i){return new(i||n)(H(ho))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function $m(n){return function kSe(){if(null==Hm&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Hm=!0}))}finally{Hm=Hm||!1}return Hm}()?n:!!n.capture}function OSe(){if(null==cu){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return cu=!1,cu;if("scrollBehavior"in document.documentElement.style)cu=!0;else{const n=Element.prototype.scrollTo;cu=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return cu}function cN(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function Rc(n){return n.composedPath?n.composedPath()[0]:n.target}function lN(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}const NSe=[{path:"auth",component:GH,children:[{path:"login",component:SSe},{path:"signup",component:ASe},{path:"select",component:(()=>{class n{constructor(t,i,r){this.auth=t,this.router=i,this.platform=r,this.hidInstText=!0,this.hidInstBut=!0,this.platform.IOS&&(this.hidInstText=!1,this.hidInstBut=!0),this.platform.ANDROID&&(this.hidInstText=!0,this.hidInstBut=!1),window.addEventListener("appinstalled",()=>{this.disableInAppInstallPrompt(),this.hidInstBut=!0}),window.addEventListener("beforeinstallprompt",o=>{o.preventDefault(),this.promptEvent=o})}disableInAppInstallPrompt(){this.hidInstBut=!0}Credits(){this.router.navigate(["/auth/credits"])}Login(){this.router.navigate(["/auth/login"])}Signup(){this.router.navigate(["/auth/signup"])}installPwa(){this.promptEvent.prompt()}static{this.\u0275fac=function(i){return new(i||n)(E(Be),E(Se),E(Oi))}}static{this.\u0275cmp=xe({type:n,selectors:[["app-select"]],decls:23,vars:2,consts:[[1,"creditBox",3,"click"],[1,"creditText"],[1,"creditLogo"],[1,"base"],[1,"installButton",3,"hidden","click"],[1,"install",3,"hidden"],["id","share","src","../../../../assets/share.png","alt","share"],[1,"infoText"],[1,"footer"],[1,"footerText"],[1,"Orange",3,"click"],[1,"logoCiens"]],template:function(i,r){1&i&&(p(0,"div",0),Q("click",function(){return r.Credits()}),p(1,"span",1),m(2,"Creditos"),f(),Y(3,"div",2),f(),p(4,"div",3)(5,"div")(6,"button",4),Q("click",function(){return r.installPwa()}),m(7,"Instalar"),f()(),p(8,"div",5)(9,"span"),m(10,"Para instalar en tu dispositivo m\xf3vil, pulsa el boton de inicio \u201cCompartir\u201d "),Y(11,"img",6),m(12," y selecionar \u201cAgregar a Inicio\u201d"),f()(),p(13,"div",7)(14,"span"),m(15," El sistema de Gesti\xf3n de Muestras de Campo es un proyecto que tiene como objetivo desarrollar una Aplicaci\xf3n Web Progresiva para la gesti\xf3n de muestras de campo de la Cl\xednica de Enfermedades de Plantas de la Universidad Central de Venezuela "),f()(),p(16,"div",8)(17,"div",9)(18,"span"),m(19,"Universidad Central de Venezuela (UCV) \xb7 Facultad Ciencias \xb7 "),f(),p(20,"span",10),Q("click",function(){return r.Credits()}),m(21,"Cr\xe9ditos"),f()(),Y(22,"div",11),f()()),2&i&&(V(6),Lt("hidden",r.hidInstBut),V(2),Lt("hidden",r.hidInstText))},styles:[".main[_ngcontent-%COMP%]{display:flex;height:100vh;justify-content:center;align-items:center;flex-direction:column}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#login[_ngcontent-%COMP%]{top:20%;position:absolute}#signup[_ngcontent-%COMP%]{top:40%;position:absolute}.Orange[_ngcontent-%COMP%]{cursor:pointer}.Orange[_ngcontent-%COMP%]:hover{text-decoration:underline;color:orange}#login[_ngcontent-%COMP%]{background-color:#3ec28f;box-shadow:2px 2px 5px #000;width:600px;height:150px;position:absolute;top:25%;left:50%;transform:translate(-50%);border-radius:30px;border-width:0;color:#fff;font-family:Arial;text-align:center;font-size:64px;letter-spacing:0}#signup[_ngcontent-%COMP%]{background-color:#3ec28f;box-shadow:2px 2px 5px #000;width:600px;height:150px;position:absolute;top:50%;left:50%;transform:translate(-50%);border-radius:30px;border-width:0;color:#fff;font-family:Arial;text-align:center;font-size:64px;letter-spacing:0}.installButton[_ngcontent-%COMP%]{border:none;background-color:#3eb3c2;box-shadow:2px 2px 5px #000;color:#fff;position:absolute;left:46%;top:76%;transform:translate(-50%);padding-bottom:5px;padding-top:5px;width:200px;height:60px;text-align:center;text-decoration:none;font-size:40px;font-weight:700;cursor:pointer;border-radius:30px}.install[_ngcontent-%COMP%]{color:#000;width:375px;position:absolute;top:77%;left:50%;transform:translate(-50%);font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;font-weight:700}.line[_ngcontent-%COMP%]{display:inline}#menu[_ngcontent-%COMP%]{width:16px;height:21.647058486938477px;background-repeat:no-repeat;background-size:cover;border-radius:5px}#share[_ngcontent-%COMP%]{width:20px;height:23.636362075805664px;background-repeat:no-repeat;background-size:cover;border-radius:5px}p[_ngcontent-%COMP%]{line-height:.5}.creditBox[_ngcontent-%COMP%]{background-color:#0a9217;border-right:4px solid white;width:20%;height:10%;position:absolute;cursor:pointer;left:0;top:0%;text-align:center;display:none}.creditText[_ngcontent-%COMP%]{color:#fff;display:inline-block;vertical-align:middle;line-height:250%;font-family:Verdana;font-size:36px;letter-spacing:0;display:none}.infoBox[_ngcontent-%COMP%]{background-color:#0a9217;width:20%;height:10%;position:absolute;cursor:pointer;left:0;top:0%;display:none}.infoText[_ngcontent-%COMP%]{color:#000;width:700px;position:absolute;top:45%;left:50%;transform:translate(-50%,-50%);font-family:Arial;text-align:center;font-size:24px;letter-spacing:0;font-weight:700}.footer[_ngcontent-%COMP%]{width:700px;position:absolute;bottom:50px;left:50%;transform:translate(-50%);text-align:center}.footerText[_ngcontent-%COMP%]{color:#000;position:relative;display:inline-block;left:30px;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0}.logoCiens[_ngcontent-%COMP%]{width:69px;height:69px;display:inline-block;position:relative;left:90px;top:30px;background-image:url(image_7.2e20c6c16e8ce206.png);background-repeat:no-repeat;background-size:cover}@media only screen and (max-width: 768px){.main[_ngcontent-%COMP%]{display:flex;height:100vh;justify-content:center;align-items:center;flex-direction:column}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;cursor:pointer}#login[_ngcontent-%COMP%]{top:20%;position:absolute}#signup[_ngcontent-%COMP%]{top:40%;position:absolute}#login[_ngcontent-%COMP%]{background-color:#3ec28f;width:70%;height:15%;margin:0;transform:none;position:absolute;left:15%;top:25%;border-radius:30px;border-width:0;color:#fff;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0}#signup[_ngcontent-%COMP%]{background-color:#3ec28f;width:70%;height:15%;margin:0;transform:none;position:absolute;left:15%;top:50%;border-radius:30px;border-width:0;color:#fff;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0}.installButton[_ngcontent-%COMP%]{border:none;background-color:#3eb3c2;box-shadow:2px 2px 5px #000;color:#fff;position:absolute;left:46%;top:76%;padding-bottom:5px;padding-top:5px;width:120px;height:50px;text-align:center;text-decoration:none;font-size:20px;font-weight:700;cursor:pointer;border-radius:30px}.install[_ngcontent-%COMP%]{color:#646464;width:75%;height:10%;transform:none;position:absolute;left:15%;top:70%;font-family:Arial;text-align:center;font-size:14px;letter-spacing:0;font-weight:700;letter-spacing:0px;line-height:20pt}.line[_ngcontent-%COMP%]{display:inline}#menu[_ngcontent-%COMP%]{width:10px;height:12px;background-repeat:no-repeat;background-size:cover;border-radius:5px}#share[_ngcontent-%COMP%]{width:20px;height:20px;padding-top:0;position:relative;top:5px;background-repeat:no-repeat;background-size:cover;border-radius:5px}p[_ngcontent-%COMP%]{line-height:.5}.creditLogo[_ngcontent-%COMP%]{position:relative;top:45%;left:25%;width:36px;height:36px;cursor:pointer;background-size:contain;background-repeat:no-repeat;background-image:url(info.f631e6664ac6fa77.png)}.creditText[_ngcontent-%COMP%]{display:none}.infoBox[_ngcontent-%COMP%]{background-color:#0a9217;width:20%;height:10%;position:absolute;cursor:pointer;left:0;top:0%;text-align:center;display:none}.infoText[_ngcontent-%COMP%]{color:#000;width:90%;position:absolute;top:35%;left:50%;transform:translate(-50%,-50%);font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;font-weight:700}.footer[_ngcontent-%COMP%]{width:100%;position:absolute;bottom:70px;text-align:center}.footerText[_ngcontent-%COMP%]{color:#000;width:100%;position:absolute;left:50%;transform:translate(-50%,-50%);font-family:Arial;text-align:center;font-size:12px;letter-spacing:0}.logoCiens[_ngcontent-%COMP%]{width:31px;height:31px;position:absolute;bottom:40px;left:50%;transform:translate(-50%);background-image:url(image_7.2e20c6c16e8ce206.png);background-repeat:no-repeat;background-size:cover}}"]})}}return n})()},{path:"credits",component:(()=>{class n{constructor(t,i){this.auth=t,this.router=i}Login(){this.router.navigate(["/auth/login"])}Signup(){this.router.navigate(["/auth/signup"])}static{this.\u0275fac=function(i){return new(i||n)(E(Be),E(Se))}}static{this.\u0275cmp=xe({type:n,selectors:[["app-credits"]],decls:29,vars:0,consts:[[1,"base"],[1,"install"],[1,"logoCiens"]],template:function(i,r){1&i&&(p(0,"p"),m(1,"credits works!"),f(),p(2,"div",0)(3,"div",1)(4,"h2")(5,"b"),m(6,"Creditos:"),f()(),p(7,"p")(8,"b"),m(9,"Autor: "),f(),p(10,"span"),m(11,"Ioannis Morakis - m.yannis22@gmail.com"),f()(),p(12,"p")(13,"b"),m(14,"Tutora: "),f(),p(15,"span"),m(16,"Profa. Yosly Hern\xe1ndez Bieliukas"),f()(),Y(17,"br"),p(18,"h2")(19,"b"),m(20,"Objetivo:"),f()(),p(21,"p")(22,"span"),m(23," Desarrollar una Aplicaci\xf3n Web para la gesti\xf3n de muestras de campo de la Cl\xednica de Enfermedades de Plantas de la Universidad Central de Venezuela"),f()(),Y(24,"br")(25,"br"),p(26,"p"),m(27," Universidad Central de Venezuela - Escuela de Computaci\xf3n "),f(),Y(28,"div",2),f()())},styles:[".main[_ngcontent-%COMP%]{display:flex;height:100vh;justify-content:center;align-items:center;flex-direction:column}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}.install[_ngcontent-%COMP%]{color:#000;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0}.line[_ngcontent-%COMP%]{display:inline}.base[_ngcontent-%COMP%]{width:600px;height:500px;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}.logoUcv[_ngcontent-%COMP%]{width:69px;height:69px;float:left;background-image:url(logo_ucv_bg2_1.32a61806277cba42.png);background-repeat:no-repeat;background-size:cover}.logoCiens[_ngcontent-%COMP%]{width:69px;height:69px;display:inline-block;background-image:url(image_7.2e20c6c16e8ce206.png);background-repeat:no-repeat;background-size:cover}@media only screen and (max-width: 768px){.main[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}.install[_ngcontent-%COMP%]{color:#000;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0}.line[_ngcontent-%COMP%]{display:inline}.base[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:70%}.logoUcv[_ngcontent-%COMP%]{width:69px;height:69px;float:left;background-image:url(logo_ucv_bg2_1.32a61806277cba42.png);background-repeat:no-repeat;background-size:cover}.logoCiens[_ngcontent-%COMP%]{width:45px;height:45px;display:inline-block;background-image:url(image_7.2e20c6c16e8ce206.png);background-repeat:no-repeat;background-size:cover}}"]})}}return n})()}]}];let FSe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=et({type:n})}static{this.\u0275inj=Je({imports:[Br.forChild(NSe),Br]})}}return n})(),LSe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=et({type:n})}static{this.\u0275inj=Je({imports:[Ja,jp,Br,FSe]})}}return n})(),VSe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=xe({type:n,selectors:[["app-home"]],decls:2,vars:0,template:function(i,r){1&i&&(p(0,"p"),m(1,"home works!"),f())}})}}return n})(),EK=(()=>{class n{constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.data=[],this.getData()}ngOnInit(){}Users(){this.router.navigate(["/admin/users"])}getData(){const t=me(this.firestore,"users");de(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}updateData(t){const i=Ce(this.firestore,"users",t);Qi(i,{}).then(()=>{alert("Data updated"),this.getData()}).catch(r=>{alert(r.message)})}deleteData(t){const i=Ce(this.firestore,"users",t);gn(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}handleSignOut(){si(this.auth).then(()=>{}).catch(t=>{console.log("here")}),this.router.navigate(["auth/select"])}Home(){this.router.navigate(["admin"])}Projectos(){this.router.navigate(["admin"])}Muestras(){this.router.navigate(["admin"])}static{this.\u0275fac=function(i){return new(i||n)(E(Se),E(nt),E(Be),E(Ze))}}static{this.\u0275cmp=xe({type:n,selectors:[["app-admin"]],decls:24,vars:0,consts:[[1,"navbar2"],[1,"navbar2Box"],["id","cerrarText",1,"navbar2Text",3,"click"],["src","../../assets/logout-2.png","alt","Out","width","50","height","50"],["id","ClientesText",1,"navbar2Text",3,"click"],["src","../../assets/Users.png","alt","Users","width","50","height","50"],[1,"navbar"],[1,"tituloBox"],[1,"tituloText"],[1,"logoAgro"],[1,"logoUcv"],[1,"homeBox"],[1,"UserLogo"],[1,"homeText"],[1,"homeLogo"]],template:function(i,r){1&i&&(p(0,"p"),m(1,"admin works!"),f(),p(2,"div",0),Y(3,"div",1),p(4,"div",2),Q("click",function(){return r.handleSignOut()}),Y(5,"img",3)(6,"br"),m(7," Cerrar Sesi\xf3n "),f(),p(8,"div",4),Q("click",function(){return r.Users()}),Y(9,"img",5)(10,"br"),m(11," Usuarios "),f()(),p(12,"div",6)(13,"div",7)(14,"span",8),m(15,"Gestion de Muestras"),f()(),Y(16,"div",9)(17,"div",10),p(18,"div",11),Y(19,"div",12),p(20,"span",13),m(21,"Usuario"),f(),Y(22,"div",14),f()(),Y(23,"router-outlet"))},dependencies:[El],styles:[".list[_ngcontent-%COMP%]{position:absolute;left:33%;top:35%}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}button[_ngcontent-%COMP%]{border:none;background-color:#3eb3c2;color:#fff;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px;width:100px;height:40px;margin:10px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;width:70%;height:10%;vertical-align:middle;line-height:250%;font-family:Verdana;text-align:center;font-size:48px;letter-spacing:0;left:20%;top:15%}.main[_ngcontent-%COMP%]{display:flex;height:100vh;justify-content:center;align-items:center;flex-direction:column}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}.navbar[_ngcontent-%COMP%]{background-color:#0a9217;width:100%;height:6.75em;position:absolute;left:0%;top:0%}.tituloBox[_ngcontent-%COMP%]{width:100%;height:6.75em;position:absolute;left:0%;top:0%;text-align:center}.tituloText[_ngcontent-%COMP%]{color:#fff;display:inline-block;vertical-align:middle;line-height:2.4em;font-family:Verdana;font-weight:700;font-size:40px;letter-spacing:0;cursor:pointer}.logoAgro[_ngcontent-%COMP%]{width:100px;height:69px;position:absolute;left:140px;top:1em;background-image:url(Logo-Agronomia2.2ed90bcafa53fa56.png);background-repeat:no-repeat;background-size:cover}.logoUcv[_ngcontent-%COMP%]{width:69px;height:69px;position:absolute;left:30px;top:1em;background-image:url(logo_ucv_bg2_1.32a61806277cba42.png);background-repeat:no-repeat;background-size:cover}.homeBox[_ngcontent-%COMP%]{width:25%;height:10%;position:absolute;cursor:pointer;left:75%;top:0%;text-align:center}.homeText[_ngcontent-%COMP%]{color:#fff;display:inline-block;vertical-align:middle;line-height:2.8em;font-family:Verdana;font-size:32px;letter-spacing:0;position:absolute;right:.75em;top:30%}.UserLogo[_ngcontent-%COMP%]{position:absolute;top:1.85em;right:10.94em;width:36px;height:36px;text-align:center;background-image:url(userWhite.1acab0fe6d96dff4.png);background-repeat:no-repeat;background-size:cover}.navbar2Box[_ngcontent-%COMP%]{width:320px;height:90%;background:#fff;box-shadow:0 0 6px 10px #00000040;position:absolute;left:0%;top:10%}.navbar2Text[_ngcontent-%COMP%]{height:4.5%;color:#000;font-size:16px;font-family:Verdana;font-weight:600;word-wrap:break-word;display:inline-block;vertical-align:middle;line-height:240%;padding-top:5px;padding-left:20px}#ProyectosText[_ngcontent-%COMP%]{visibility:hidden;cursor:pointer;width:17%;position:absolute;left:20%;top:10%;border-right:4px solid white}#UnidadText[_ngcontent-%COMP%]{cursor:pointer;width:300;position:absolute;left:0%;top:12%}#MuestrasText[_ngcontent-%COMP%]{cursor:pointer;width:300;position:absolute;left:0%;top:22%}#ClientesText[_ngcontent-%COMP%]{cursor:pointer;width:300;position:absolute;left:0%;top:12%}#CodigoText[_ngcontent-%COMP%]{cursor:pointer;width:300;position:absolute;left:0%;top:42%}#cerrarText[_ngcontent-%COMP%]{cursor:pointer;width:300;position:absolute;left:0%;top:22%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}img[_ngcontent-%COMP%]{position:relative;top:20px}br[_ngcontent-%COMP%]{display:none}@media only screen and (max-width: 768px){.homeBox[_ngcontent-%COMP%]{background-color:#0a9217;border-right:4px solid white;width:20%;height:15%;position:absolute;left:0;top:0%}.homeText[_ngcontent-%COMP%], .homeLogo[_ngcontent-%COMP%]{display:none}.tituloBox[_ngcontent-%COMP%]{background-color:#0a9217;width:80%;height:15%;position:absolute;left:20%;top:0%;text-align:center}.tituloText[_ngcontent-%COMP%]{color:#fff;line-height:1.6;display:inline-block;vertical-align:middle;font-family:Verdana;font-size:32px;letter-spacing:0px}.logoCiens[_ngcontent-%COMP%]{width:45px;height:35px;position:absolute;left:85%;top:5%;background-image:url(Logo-Agronomia2.2ed90bcafa53fa56.png);background-repeat:no-repeat;background-size:cover}.logoUcv[_ngcontent-%COMP%]{width:35px;height:35px;position:absolute;left:22%;top:5%;background-image:url(logo_ucv_bg2_1.32a61806277cba42.png);background-repeat:no-repeat;background-size:cover}.navbar2Box[_ngcontent-%COMP%]{width:100%;height:66px;background:#fff;box-shadow:0 0 6px 10px #00000040;position:absolute;left:0%;top:15%}.navbar2Text[_ngcontent-%COMP%]{height:28px;color:#000;font-size:8px;font-family:Verdana;font-weight:600;word-wrap:break-word;text-align:center;display:inline-block;vertical-align:middle;line-height:1.6;padding-top:7px;padding-left:0}.center[_ngcontent-%COMP%]{position:relative;top:18%}#cerrarText[_ngcontent-%COMP%]{cursor:pointer;width:15%;position:absolute;left:0%;top:15%;padding-left:3%;border-right:2px solid white}#ProyectosText[_ngcontent-%COMP%]{visibility:hidden;cursor:pointer;width:20%;position:absolute;left:15%;top:15%;border-right:2px solid white}#UnidadText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:20%;top:15%;border-right:2px solid white}#MuestrasText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:40%;top:15%;border-right:2px solid white}#ClientesText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:79%;top:15%;border-right:2px solid white;display:none}#CodigoText[_ngcontent-%COMP%]{cursor:pointer;width:15%;position:absolute;left:80%;top:15%;padding-left:3%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:15%;left:0%;top:0%}.UserLogo[_ngcontent-%COMP%]{position:absolute;top:30%;left:25%;width:36px;height:36px;text-align:center;background-image:url(userWhite.1acab0fe6d96dff4.png);background-repeat:no-repeat;background-size:cover}.logoAgro[_ngcontent-%COMP%]{width:45px;height:35px;position:absolute;left:84%;top:5%;background-image:url(Logo-Agronomia2.2ed90bcafa53fa56.png);background-repeat:no-repeat;background-size:cover}img[_ngcontent-%COMP%]{position:relative;top:0;width:20px;height:20px}br[_ngcontent-%COMP%]{display:inline}.list[_ngcontent-%COMP%]{position:absolute;left:5%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}button[_ngcontent-%COMP%]{border:none;background-color:#3eb3c2;color:#fff;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;height:10%;padding:10px;margin:5px;border-radius:30px}}"]})}}return n})(),BSe=(()=>{class n{constructor(t,i){this.auth=t,this.router=i}canActivate(t,i){return this.checkLogin(i.url)}checkLogin(t){return!!this.auth.currentUser||(this.router.navigate(["/"]),!1)}static{this.\u0275fac=function(i){return new(i||n)(H(Be),H(Se))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),TK=(()=>{class n{constructor(t,i){this.auth=t,this.router=i,this.title="gestion-muestras"}handleSignOut(){si(this.auth).then(()=>{}).catch(t=>{console.log("here")}),this.router.navigate(["auth/select"])}Home(){this.router.navigate(["user/projects"])}Projectos(){this.router.navigate(["user/projects"])}Muestras(){this.router.navigate(["user/muestras-all"])}Resultados(){this.router.navigate(["user/resultados"])}Clientes(){this.router.navigate(["user/clients"])}Unidades(){this.router.navigate(["user/unidad-produccion-all"])}Codigo(){this.router.navigate(["user/barcode-new"])}Scan(){this.router.navigate(["user/scan"])}static{this.\u0275fac=function(i){return new(i||n)(E(Be),E(Se))}}static{this.\u0275cmp=xe({type:n,selectors:[["app-user"]],decls:38,vars:0,consts:[[1,"navbar2Box"],[1,"navbar2"],["id","UnidadText",1,"navbar2Text",3,"click"],["src","../../assets/shovelResize.png","alt","Shovel","width","50","height","50"],["id","MuestrasText",1,"navbar2Text",3,"click"],["src","../../assets/prueba-de-sangre-Resize.png","alt","Shovel","width","50","height","50"],["id","ResultText",1,"navbar2Text",3,"click"],["src","../../assets/ResultadosResize.png","alt","Shovel","width","50","height","50"],["id","ClientesText",1,"navbar2Text",3,"click"],["src","../../assets/ClientesResize.png","alt","Shovel","width","50","height","50"],["id","CodigoText",1,"navbar2Text",3,"click"],["src","../../assets/BarcodeAddResize.png","alt","Shovel","width","50","height","50"],["id","ScanText",1,"navbar2Text",3,"click"],["src","../../assets/ScanResize.png","alt","Shovel","width","50","height","50"],["id","cerrarText",1,"navbar2Text",3,"click"],["src","../../assets/logout-Resize.png","alt","Out","width","50","height","50"],[1,"navbar"],[1,"tituloBox"],[1,"tituloText"],[1,"tituloSubText"],[1,"logoAgro"],[1,"logoUcv"],[1,"homeBox"],[1,"UserLogo"],[1,"homeText"],[1,"homeLogo"]],template:function(i,r){1&i&&(Y(0,"div",0),p(1,"div",1)(2,"div",2),Q("click",function(){return r.Unidades()}),Y(3,"img",3),m(4," Unidades de Producci\xf3n "),f(),p(5,"div",4),Q("click",function(){return r.Muestras()}),Y(6,"img",5),m(7," Muestras "),f(),p(8,"div",6),Q("click",function(){return r.Resultados()}),Y(9,"img",7),m(10," Resultados "),f(),p(11,"div",8),Q("click",function(){return r.Clientes()}),Y(12,"img",9),m(13," Clientes "),f(),p(14,"div",10),Q("click",function(){return r.Codigo()}),Y(15,"img",11),m(16," Generar Codigo "),f(),p(17,"div",12),Q("click",function(){return r.Scan()}),Y(18,"img",13),m(19," Escanear "),f(),p(20,"div",14),Q("click",function(){return r.handleSignOut()}),Y(21,"img",15),m(22," Cerrar Sesi\xf3n "),f()(),p(23,"div",16)(24,"div",17)(25,"span",18),m(26,"Clinica de Plantas"),f(),Y(27,"br"),p(28,"span",19),m(29,"Gesti\xf3n de Muestras"),f()(),Y(30,"div",20)(31,"div",21),p(32,"div",22),Y(33,"div",23),p(34,"span",24),m(35,"Investigador"),f(),Y(36,"div",25),f()(),Y(37,"router-outlet"))},dependencies:[El],styles:[".main[_ngcontent-%COMP%]{display:flex;height:100vh;justify-content:center;align-items:center;flex-direction:column}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}.navbar[_ngcontent-%COMP%]{background-color:#0a9217;width:100%;height:6.75em;position:absolute;left:0%;top:0%}.tituloBox[_ngcontent-%COMP%]{width:100%;height:6.75em;position:absolute;left:0%;top:0%;display:flex;flex-direction:column;justify-content:center;align-items:center}.tituloText[_ngcontent-%COMP%]{color:#fff;display:block;line-height:.5em;font-family:Verdana;font-weight:700;font-size:40px;letter-spacing:0}.tituloSubText[_ngcontent-%COMP%]{color:#fff;display:block;line-height:1.2em;font-family:Verdana;font-weight:700;font-size:20px;letter-spacing:0}.logoAgro[_ngcontent-%COMP%]{width:100px;height:69px;position:absolute;left:140px;top:1em;background-image:url(Logo-Agronomia2.2ed90bcafa53fa56.png);background-repeat:no-repeat;background-size:cover}.logoUcv[_ngcontent-%COMP%]{width:69px;height:69px;position:absolute;left:30px;top:1em;background-image:url(logo_ucv_bg2_1.32a61806277cba42.png);background-repeat:no-repeat;background-size:cover}.homeBox[_ngcontent-%COMP%]{width:25%;height:10%;position:absolute;cursor:pointer;left:75%;top:0%;text-align:center}.homeText[_ngcontent-%COMP%]{color:#fff;display:inline-block;vertical-align:middle;line-height:2.8em;font-family:Verdana;font-size:32px;letter-spacing:0;position:absolute;right:.75em;top:30%}.UserLogo[_ngcontent-%COMP%]{position:absolute;top:1.85em;right:15em;width:36px;height:36px;text-align:center;background-image:url(userWhite.1acab0fe6d96dff4.png);background-repeat:no-repeat;background-size:cover}.navbar2[_ngcontent-%COMP%]{height:100vh;width:320px;position:absolute;top:0;left:0}.navbar2Box[_ngcontent-%COMP%]{background:#fff;box-shadow:0 0 6px 10px #00000040;height:100vh;width:320px;position:fixed;top:0;left:0;display:flex;flex-direction:column;justify-content:flex-start;align-items:center;padding-top:15em;z-index:-10}.navbar2Text[_ngcontent-%COMP%]{height:4.5%;color:#000;font-size:16px;font-family:Verdana;font-weight:600;word-wrap:break-word;text-align:center;padding-top:5px;padding-left:20px}#UnidadText[_ngcontent-%COMP%]{cursor:pointer;width:300;position:absolute;left:0%;top:7em}#MuestrasText[_ngcontent-%COMP%]{cursor:pointer;width:300;position:absolute;left:0%;top:12em}#ResultText[_ngcontent-%COMP%]{cursor:pointer;width:300;position:absolute;left:0%;top:16em}#ClientesText[_ngcontent-%COMP%]{cursor:pointer;width:300;position:absolute;left:0%;top:20em}#CodigoText[_ngcontent-%COMP%]{cursor:pointer;width:300;position:absolute;left:0%;top:24em}#ScanText[_ngcontent-%COMP%]{cursor:pointer;width:300;position:absolute;left:0%;top:28em}#cerrarText[_ngcontent-%COMP%]{cursor:pointer;width:300;position:absolute;left:0%;top:32em}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}img[_ngcontent-%COMP%]{position:relative;top:20px}@media only screen and (max-width: 768px){.homeBox[_ngcontent-%COMP%]{border-right:4px solid white;width:20%;height:6.75em;position:absolute;left:0;top:0%}.homeText[_ngcontent-%COMP%]{display:none}.UserLogo[_ngcontent-%COMP%]{position:absolute;top:2.2em;left:25%;width:36px;height:36px;text-align:center;background-image:url(userWhite.1acab0fe6d96dff4.png);background-repeat:no-repeat;background-size:cover}.logoAgro[_ngcontent-%COMP%]{width:45px;height:35px;position:absolute;left:88%;top:3.7em;background-image:url(Logo-Agronomia2.2ed90bcafa53fa56.png);background-repeat:no-repeat;background-size:cover}.logoUcv[_ngcontent-%COMP%]{width:35px;height:35px;position:absolute;left:23%;top:3.7em;background-image:url(logo_ucv_bg2_1.32a61806277cba42.png);background-repeat:no-repeat;background-size:cover}.tituloBox[_ngcontent-%COMP%]{width:80%;height:6.75em;position:absolute;left:20%;top:0%;display:flex;flex-direction:column;justify-content:center;align-items:center}.tituloText[_ngcontent-%COMP%]{color:#fff;font-family:Verdana;font-size:32px;letter-spacing:0px;line-height:normal;display:block;text-align:center}.tituloSubText[_ngcontent-%COMP%]{color:#fff;font-family:Verdana;font-size:20px;letter-spacing:0px;line-height:normal;display:block;text-align:center}.homeLogo[_ngcontent-%COMP%]{display:none}.navbar2[_ngcontent-%COMP%]{width:100%}.navbar2Box[_ngcontent-%COMP%]{width:100%;height:66px;background:#fff;box-shadow:0 0 6px 10px #00000040;position:absolute;left:0%;top:6.75em;padding-top:0}.navbar2Text[_ngcontent-%COMP%]{height:28px;color:#000;font-size:8px;font-family:Verdana;font-weight:600;word-wrap:break-word;text-align:center;display:inline-block;vertical-align:middle;line-height:1.6;padding-top:7px;padding-left:0}.center[_ngcontent-%COMP%]{position:relative;top:18%}#cerrarText[_ngcontent-%COMP%]{cursor:pointer;width:10%;position:absolute;left:0%;top:13.5em;padding-left:3%;border-right:2px solid white}#UnidadText[_ngcontent-%COMP%]{cursor:pointer;width:15%;position:absolute;left:15%;top:13.5em;border-right:2px solid white}#MuestrasText[_ngcontent-%COMP%]{cursor:pointer;width:15%;position:absolute;left:30%;top:13.5em;border-right:2px solid white}#ResultText[_ngcontent-%COMP%]{cursor:pointer;width:12%;position:absolute;left:45%;top:13.5em}#ClientesText[_ngcontent-%COMP%]{cursor:pointer;width:13%;position:absolute;left:58%;top:13.5em;border-right:2px solid white}#CodigoText[_ngcontent-%COMP%]{cursor:pointer;width:10%;position:absolute;left:70%;top:13.5em;padding-left:3%}#ScanText[_ngcontent-%COMP%]{cursor:pointer;width:10%;position:absolute;left:87%;top:13.5em}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:15%;left:0%;top:0%}img[_ngcontent-%COMP%]{position:relative;top:0;width:20px;height:20px}br[_ngcontent-%COMP%]{display:inline}}"]})}}return n})();var Hw=F(1874);let USe=(()=>{class n{constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o}ngOnInit(){var t=this;return _(function*(){t.route.params.subscribe(i=>{t.item=i,console.log(i),t.generateBarcode(i)}),yield t.sleep(500),window.print()})()}sleep(t){return _(function*(){return new Promise(i=>setTimeout(i,t))})()}generateBarcode(t){var i=t.id;let r=t.num;for(let o=1;o<=r;o++){let s="#barcode"+o;console.log(s),Hw(s,i,{format:"CODE128"})}}static{this.\u0275fac=function(i){return new(i||n)(E(Se),E(nt),E(Be),E(Ze))}}static{this.\u0275cmp=xe({type:n,selectors:[["app-print"]],decls:6,vars:0,consts:[[1,"print-page"],["id","barcode1"],["id","barcode2"],["id","barcode3"],["id","barcode4"],["id","barcode5"]],template:function(i,r){1&i&&(Y(0,"div",0),Q_(),Y(1,"svg",1)(2,"svg",2)(3,"svg",3)(4,"svg",4)(5,"svg",5))},styles:[".print-page[_ngcontent-%COMP%]{width:100vw;min-height:100vh;background:#fff}#barcode1[_ngcontent-%COMP%]{position:absolute;top:50px;left:200px}#barcode2[_ngcontent-%COMP%]{position:absolute;top:220px;left:200px}#barcode3[_ngcontent-%COMP%]{position:absolute;top:390px;left:200px}#barcode4[_ngcontent-%COMP%]{position:absolute;top:560px;left:200px}#barcode5[_ngcontent-%COMP%]{position:absolute;top:730px;left:200px}"]})}}return n})(),IK=(()=>{class n{constructor(t,i){this.auth=t,this.router=i,this.title="gestion-muestras"}handleSignOut(){si(this.auth).then(()=>{}).catch(t=>{console.log("here")}),this.router.navigate(["auth/select"])}Home(){this.router.navigate(["client/projects"])}Projectos(){this.router.navigate(["client/projects"])}Perfil(){this.router.navigate(["client/perfil"])}Muestras(){this.router.navigate(["client/muestras-all"])}Unidad(){this.router.navigate(["client/unidad-produccion-all"])}static{this.\u0275fac=function(i){return new(i||n)(E(Be),E(Se))}}static{this.\u0275cmp=xe({type:n,selectors:[["app-client"]],decls:28,vars:0,consts:[[1,"navbar2"],[1,"navbar2Box"],["id","cerrarText",1,"navbar2Text",3,"click"],["src","../../assets/logout-2.png","alt","Out","width","50","height","50"],["id","UnidadText",1,"navbar2Text",3,"click"],["src","../../assets/shovel2.png","alt","Shovel","width","50","height","50"],["id","MuestrasText",1,"navbar2Text",3,"click"],["src","../../assets/prueba-de-sangre.png","alt","Shovel","width","50","height","50"],[1,"navbar"],[1,"tituloBox"],[1,"tituloText"],[1,"logoAgro"],[1,"logoUcv"],[1,"homeBox",3,"click"],[1,"UserLogo"],[1,"homeText"],[1,"homeLogo"]],template:function(i,r){1&i&&(p(0,"p"),m(1,"client works!"),f(),p(2,"div",0),Y(3,"div",1),p(4,"div",2),Q("click",function(){return r.handleSignOut()}),Y(5,"img",3)(6,"br"),m(7," Cerrar Sesi\xf3n "),f(),p(8,"div",4),Q("click",function(){return r.Unidad()}),Y(9,"img",5)(10,"br"),m(11," Unidades de Producci\xf3n "),f(),p(12,"div",6),Q("click",function(){return r.Muestras()}),Y(13,"img",7)(14,"br"),m(15," Muestras "),f()(),p(16,"div",8)(17,"div",9)(18,"span",10),m(19,"Gesti\xf3n de Muestras"),f()(),Y(20,"div",11)(21,"div",12),p(22,"div",13),Q("click",function(){return r.Perfil()}),Y(23,"div",14),p(24,"span",15),m(25,"Usuario "),f(),Y(26,"div",16),f()(),Y(27,"router-outlet"))},dependencies:[El],styles:[".main[_ngcontent-%COMP%]{display:flex;height:100vh;justify-content:center;align-items:center;flex-direction:column}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}.navbar[_ngcontent-%COMP%]{background-color:#0a9217;width:100%;height:6.75em;position:absolute;left:0%;top:0%}.tituloBox[_ngcontent-%COMP%]{width:100%;height:6.75em;position:absolute;left:0%;top:0%;text-align:center}.tituloText[_ngcontent-%COMP%]{color:#fff;display:inline-block;vertical-align:middle;line-height:2.4em;font-family:Verdana;font-weight:700;font-size:40px;letter-spacing:0;cursor:pointer}.logoAgro[_ngcontent-%COMP%]{width:100px;height:69px;position:absolute;left:140px;top:1em;background-image:url(Logo-Agronomia2.2ed90bcafa53fa56.png);background-repeat:no-repeat;background-size:cover}.logoUcv[_ngcontent-%COMP%]{width:69px;height:69px;position:absolute;left:30px;top:1em;background-image:url(logo_ucv_bg2_1.32a61806277cba42.png);background-repeat:no-repeat;background-size:cover}.homeBox[_ngcontent-%COMP%]{width:25%;height:10%;position:absolute;cursor:pointer;left:75%;top:0%;text-align:center}.homeText[_ngcontent-%COMP%]{color:#fff;display:inline-block;vertical-align:middle;line-height:2.8em;font-family:Verdana;font-size:32px;letter-spacing:0;position:absolute;right:.75em;top:30%}.UserLogo[_ngcontent-%COMP%]{position:absolute;top:1.85em;right:10.94em;width:36px;height:36px;text-align:center;background-image:url(userWhite.1acab0fe6d96dff4.png);background-repeat:no-repeat;background-size:cover}.navbar2Box[_ngcontent-%COMP%]{width:320px;height:100%;background:#fff;box-shadow:0 0 6px 10px #00000040;position:absolute;left:0%;top:0%}.navbar2Text[_ngcontent-%COMP%]{height:4.5%;color:#000;font-size:16px;font-family:Verdana;font-weight:600;word-wrap:break-word;display:inline-block;vertical-align:middle;line-height:240%;padding-top:5px;padding-left:20px}#UnidadText[_ngcontent-%COMP%]{cursor:pointer;width:300;position:absolute;left:0%;top:7em}#MuestrasText[_ngcontent-%COMP%]{cursor:pointer;width:300;position:absolute;left:0%;top:12em}#cerrarText[_ngcontent-%COMP%]{cursor:pointer;width:300;position:absolute;left:0%;top:17em}#ClientesText[_ngcontent-%COMP%]{cursor:pointer;width:300;position:absolute;left:0%;top:32%}#CodigoText[_ngcontent-%COMP%]{cursor:pointer;width:300;position:absolute;left:0%;top:42%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}img[_ngcontent-%COMP%]{position:relative;top:20px}br[_ngcontent-%COMP%]{display:none}@media only screen and (max-width: 768px){.homeBox[_ngcontent-%COMP%]{border-right:4px solid white;width:20%;height:6.75em;position:absolute;left:0;top:0%}.homeText[_ngcontent-%COMP%]{display:none}.UserLogo[_ngcontent-%COMP%]{position:absolute;top:2.2em;left:25%;width:36px;height:36px;text-align:center;background-image:url(userWhite.1acab0fe6d96dff4.png);background-repeat:no-repeat;background-size:cover}.logoAgro[_ngcontent-%COMP%]{width:45px;height:35px;position:absolute;left:84%;top:2.2em;background-image:url(Logo-Agronomia2.2ed90bcafa53fa56.png);background-repeat:no-repeat;background-size:cover}.logoUcv[_ngcontent-%COMP%]{width:35px;height:35px;position:absolute;left:24%;top:2.2em;background-image:url(logo_ucv_bg2_1.32a61806277cba42.png);background-repeat:no-repeat;background-size:cover}.tituloBox[_ngcontent-%COMP%]{width:80%;height:6.75em;position:absolute;left:20%;top:0%;text-align:center}.tituloText[_ngcontent-%COMP%]{color:#fff;line-height:1.6;display:inline-block;vertical-align:middle;font-family:Verdana;font-size:32px;letter-spacing:0px}.homeLogo[_ngcontent-%COMP%]{display:none}.navbar2Box[_ngcontent-%COMP%]{width:100%;height:66px;background:#fff;box-shadow:0 0 6px 10px #00000040;position:absolute;left:0%;top:6.75em}.navbar2Text[_ngcontent-%COMP%]{height:28px;color:#000;font-size:8px;font-family:Verdana;font-weight:600;word-wrap:break-word;text-align:center;display:inline-block;vertical-align:middle;line-height:1.6;padding-top:7px;padding-left:0}.center[_ngcontent-%COMP%]{position:relative;top:18%}#cerrarText[_ngcontent-%COMP%]{cursor:pointer;width:15%;position:absolute;left:0%;top:13.5em;padding-left:3%;border-right:2px solid white}#ProyectosText[_ngcontent-%COMP%]{visibility:hidden;cursor:pointer;width:20%;position:absolute;left:15%;top:13.5em;border-right:2px solid white}#UnidadText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:40%;top:13.5em;border-right:2px solid white}#MuestrasText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:79%;top:13.5em;border-right:2px solid white}#ClientesText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:60%;top:15%;border-right:2px solid white}#CodigoText[_ngcontent-%COMP%]{cursor:pointer;width:15%;position:absolute;left:80%;top:15%;padding-left:3%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:15%;left:0%;top:0%}img[_ngcontent-%COMP%]{position:relative;top:0;width:20px;height:20px}br[_ngcontent-%COMP%]{display:inline}}"]})}}return n})();const zSe=[{path:"",redirectTo:"auth/select",pathMatch:"full"},{path:"home",component:VSe},{path:"admin",component:EK,canActivate:[BSe]},{path:"auth",component:GH},{path:"user",component:TK},{path:"client",component:IK},{path:"print/:id/:num",component:USe}];let uN=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=et({type:n})}static{this.\u0275inj=Je({imports:[Br.forRoot(zSe),Br]})}}return n})(),jSe=(()=>{class n{constructor(t,i,r){this.auth=t,this.router=i,this.title="gestion-muestras"}handleSignOut(){si(this.auth).then(()=>{}).catch(t=>{})}static{this.\u0275fac=function(i){return new(i||n)(E(Be),E(Se),E(Ze))}}static{this.\u0275cmp=xe({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(i,r){1&i&&Y(0,"router-outlet")},dependencies:[El],styles:[".base[_ngcontent-%COMP%]{margin:0;width:100%;height:100%;top:0;left:0;background-repeat:repeat;background-image:url(CaptureLeafRepeatOpacity10.38bc5159f70f7053.png)}"]})}}return n})();const HSe_firebase={projectId:"gestion-de-muestras-de-c-fabe0",appId:"1:881625861704:web:1da279954953bf7e3ad27d",databaseURL:"https://gestion-de-muestras-de-c-fabe0-default-rtdb.firebaseio.com",storageBucket:"gestion-de-muestras-de-c-fabe0.appspot.com",apiKey:"AIzaSyD0Py3MA2BD1yEsMg4wM9RDhbNgmEAxZPk",authDomain:"gestion-de-muestras-de-c-fabe0.firebaseapp.com",messagingSenderId:"881625861704",measurementId:"G-PTHV8B640J"},MK="@firebase/database";let dN="";class GSe{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),zi(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:rg(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class qSe{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return Cs(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const SK=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new GSe(e)}}catch{}return new qSe},lu=SK("localStorage"),hN=SK("sessionStorage"),Yh=new Il("@firebase/database"),AK=function(){let n=1;return function(){return n++}}(),kK=function(n){const e=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);if(r>=55296&&r<=56319){const o=r-55296;i++,se(i<n.length,"Surrogate pair missing trail surrogate."),r=65536+(o<<10)+(n.charCodeAt(i)-56320)}r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=63&r|128):r<65536?(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=63&r|128):(e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=63&r|128)}return e}(n),t=new pbe;t.update(e);const i=t.digest();return Iv.encodeByteArray(i)},qm=function(...n){let e="";for(let t=0;t<n.length;t++){const i=n[t];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?e+=qm.apply(null,i):e+="object"==typeof i?zi(i):i,e+=" "}return e};let uu=null,OK=!0;const Pi=function(...n){if(!0===OK&&(OK=!1,null===uu&&!0===hN.get("logging_enabled")&&function(n,e){se(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Yh.logLevel=mt.VERBOSE,uu=Yh.log.bind(Yh),e&&hN.set("logging_enabled",!0)):"function"==typeof n?uu=n:(uu=null,hN.remove("logging_enabled"))}(!0)),uu){const e=qm.apply(null,n);uu(e)}},Wm=function(n){return function(...e){Pi(n,...e)}},fN=function(...n){const e="FIREBASE INTERNAL ERROR: "+qm(...n);Yh.error(e)},Ls=function(...n){const e=`FIREBASE FATAL ERROR: ${qm(...n)}`;throw Yh.error(e),new Error(e)},ur=function(...n){const e="FIREBASE WARNING: "+qm(...n);Yh.warn(e)},$w=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Nc="[MIN_NAME]",Ia="[MAX_NAME]",du=function(n,e){if(n===e)return 0;if(n===Nc||e===Ia)return-1;if(e===Nc||n===Ia)return 1;{const t=FK(n),i=FK(e);return null!==t?null!==i?t-i==0?n.length-e.length:t-i:-1:null!==i?1:n<e?-1:1}},QSe=function(n,e){return n===e?0:n<e?-1:1},Km=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+zi(e))},pN=function(n){if("object"!=typeof n||null===n)return zi(n);const e=[];for(const i in n)e.push(i);e.sort();let t="{";for(let i=0;i<e.length;i++)0!==i&&(t+=","),t+=zi(e[i]),t+=":",t+=pN(n[e[i]]);return t+="}",t},RK=function(n,e){const t=n.length;if(t<=e)return[n];const i=[];for(let r=0;r<t;r+=e)i.push(n.substring(r,r+e>t?t:r+e));return i};function Ri(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const NK=function(n){se(!$w(n),"Invalid JSON number");const i=1023;let r,o,s,a,c;0===n?(o=0,s=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(a=Math.min(Math.floor(Math.log(n)/Math.LN2),i),o=a+i,s=Math.round(n*Math.pow(2,52-a)-Math.pow(2,52))):(o=0,s=Math.round(n/Math.pow(2,-1074))));const l=[];for(c=52;c;c-=1)l.push(s%2?1:0),s=Math.floor(s/2);for(c=11;c;c-=1)l.push(o%2?1:0),o=Math.floor(o/2);l.push(r?1:0),l.reverse();const u=l.join("");let d="";for(c=0;c<64;c+=8){let h=parseInt(u.substr(c,8),2).toString(16);1===h.length&&(h="0"+h),d+=h}return d.toLowerCase()},JSe=new RegExp("^-?(0*)\\d{1,10}$"),FK=function(n){if(JSe.test(n)){const e=Number(n);if(e>=-2147483648&&e<=2147483647)return e}return null},Xh=function(n){try{n()}catch(e){setTimeout(()=>{throw ur("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},Qm=function(n,e){const t=setTimeout(n,e);return"number"==typeof t&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):"object"==typeof t&&t.unref&&t.unref(),t};class iAe{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){ur(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class rAe{constructor(e,t,i){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(Pi("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ur(e)}}let Ym=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const zK=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,$K="websocket",GK="long_polling";class mN{constructor(e,t,i,r,o=!1,s="",a=!1,c=!1){this.secure=t,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=lu.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&lu.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function qK(n,e,t){let i;if(se("string"==typeof e,"typeof type must == string"),se("object"==typeof t,"typeof params must == object"),e===$K)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==GK)throw new Error("Unknown connection type: "+e);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function oAe(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const r=[];return Ri(t,(o,s)=>{r.push(o+"="+s)}),i+r.join("&")}class sAe{constructor(){this.counters_={}}incrementCounter(e,t=1){Cs(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return tbe(this.counters_)}}const _N={},bN={};function yN(n){const e=n.toString();return _N[e]||(_N[e]=new sAe),_N[e]}class cAe{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&Xh(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Fc{constructor(e,t,i,r,o,s,a){this.connId=e,this.repoInfo=t,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Wm(e),this.stats_=yN(t),this.urlFn=c=>(this.appCheckToken&&(c.ac=this.appCheckToken),qK(t,GK,c))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new cAe(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if("complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new vN((...o)=>{const[s,a,c,l,u]=o;if(this.incrementIncomingBytes_(o),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===s)this.id=a,this.password=c;else{if("close"!==s)throw new Error("Unrecognized command received: "+s);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...o)=>{const[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&zK.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Fc.forceAllow_=!0}static forceDisallow(){Fc.forceDisallow_=!0}static isAvailable(){return!(!Fc.forceAllow_&&(Fc.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=zi(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=j9(t),r=RK(i,1840);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=e,i.pw=t,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=zi(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class vN{constructor(e,t,i,r){this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=AK(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=vN.createIFrame_();let o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(o='<script>document.domain="'+document.domain+'";<\/script>');const s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){Pi("frame writing exception"),a.stack&&Pi(a.stack),Pi(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Pi("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const s=this.pendingSegs.shift();i=i+"&seg"+r+"="+s.seg+"&ts"+r+"="+s.ts+"&d"+r+"="+s.d,r++}return t+=i,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,i){this.pendingSegs.push({seg:e,ts:t,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const i=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(r),i()})}addTag(e,t){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=()=>{Pi("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let qw=null;typeof MozWebSocket<"u"?qw=MozWebSocket:typeof WebSocket<"u"&&(qw=WebSocket);let Zh=(()=>{class n{constructor(t,i,r,o,s,a,c){this.connId=t,this.applicationId=r,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Wm(this.connId),this.stats_=yN(i),this.connURL=n.connectionURL_(i,a,c,o,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,r,o,s){const a={v:"5"};return typeof location<"u"&&location.hostname&&zK.test(location.hostname)&&(a.r="f"),i&&(a.s=i),r&&(a.ls=r),o&&(a.ac=o),s&&(a.p=s),qK(t,$K,a)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,lu.set("previous_websocket_failure",!0);try{let r;0,this.mySock=new qw(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;return o&&this.log_(o),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&null!==qw&&!n.forceDisallow_}static previouslyFailed(){return lu.isInMemoryStorage||!0===lu.get("previous_websocket_failure")}markConnectionHealthy(){lu.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=rg(i);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(se(null===this.frames,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const i=zi(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=RK(i,16384);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),JK=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[Fc,Zh]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const i=Zh&&Zh.isAvailable();let r=i&&!Zh.previouslyFailed();if(t.webSocketOnly&&(i||ur("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Zh];else{const o=this.transports_=[];for(const s of n.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class sQ{constructor(e,t,i,r,o,s,a,c,l,u){this.id=e,this.repoInfo_=t,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=c,this.onKill_=l,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Wm("c:"+this.id+":"),this.transportManager_=new JK(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,i)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=Qm(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Km("t",e),i=Km("d",e);if("c"===t)this.onSecondaryControl_(i);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Km("t",e),i=Km("d",e);"c"===t?this.onControl_(i):"d"===t&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Km("t",e);if("d"in e){const i=e.d;if("h"===t){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(i):"r"===t?this.onReset_(i):"e"===t?fN("Server Error: "+i):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):fN("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==i&&ur("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,i),Qm(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Qm(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(lu.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class aQ{put(e,t,i,r){}merge(e,t,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,i){}onDisconnectMerge(e,t,i){}onDisconnectCancel(e,t){}reportStats(e){}}class cQ{constructor(e){this.allowedEvents_=e,this.listeners_={},se(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,t)}}on(e,t,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:i});const r=this.getInitialEvent(e);r&&t.apply(i,r)}off(e,t,i){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let o=0;o<r.length;o++)if(r[o].callback===t&&(!i||i===r[o].context))return void r.splice(o,1)}validateEventType_(e){se(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class Ww extends cQ{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!bM()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Ww}getInitialEvent(e){return se("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class Rt{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function It(){return new Rt("")}function it(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Lc(n){return n.pieces_.length-n.pieceNum_}function Wt(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new Rt(n.pieces_,e)}function xN(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function Xm(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function dQ(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new Rt(e,0)}function En(n,e){const t=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)t.push(n.pieces_[i]);if(e instanceof Rt)for(let i=e.pieceNum_;i<e.pieces_.length;i++)t.push(e.pieces_[i]);else{const i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&t.push(i[r])}return new Rt(t,0)}function rt(n){return n.pieceNum_>=n.pieces_.length}function Tr(n,e){const t=it(n),i=it(e);if(null===t)return e;if(t===i)return Tr(Wt(n),Wt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function CN(n,e){if(Lc(n)!==Lc(e))return!1;for(let t=n.pieceNum_,i=e.pieceNum_;t<=n.pieces_.length;t++,i++)if(n.pieces_[t]!==e.pieces_[i])return!1;return!0}function Co(n,e){let t=n.pieceNum_,i=e.pieceNum_;if(Lc(n)>Lc(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[i])return!1;++t,++i}return!0}class kAe{constructor(e,t){this.errorPrefix_=t,this.parts_=Xm(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=Rv(this.parts_[i]);hQ(this)}}function hQ(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+hu(n))}function hu(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class EN extends cQ{constructor(){let e,t;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new EN}getInitialEvent(e){return se("visible"===e,"Unknown event type: "+e),[this.visible_]}}const Zm=1e3;let Qw,fu=(()=>{class n extends aQ{constructor(t,i,r,o,s,a,c,l){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=l,this.id=n.nextPersistentConnectionId_++,this.log_=Wm("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Zm,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");EN.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&Ww.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,r){const o=++this.requestNumber_,s={r:o,a:t,b:i};this.log_(zi(s)),se(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[o]=r)}get(t){this.initConnection_();const i=new Zd,o={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:a=>{const c=a.d;"ok"===a.s?i.resolve(c):i.reject(c)}};return this.outstandingGets_.push(o),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(t,i,r,o){this.initConnection_();const s=t._queryIdentifier,a=t._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),se(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),se(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");const c={onComplete:o,hashFn:i,query:t,tag:r};this.listens.get(a).set(s,c),this.connected_&&this.sendListen_(c)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(t){const i=t.query,r=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+r+" for "+o);const s={p:r};t.tag&&(s.q=i._queryObject,s.t=t.tag),s.h=t.hashFn(),this.sendRequest("q",s,c=>{const l=c.d,u=c.s;n.warnOnListenWarnings_(l,i),(this.listens.get(r)&&this.listens.get(r).get(o))===t&&(this.log_("listen response",c),"ok"!==u&&this.removeListen_(r,o),t.onComplete&&t.onComplete(u,l))})}static warnOnListenWarnings_(t,i){if(t&&"object"==typeof t&&Cs(t,"w")){const r=Jd(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',s=i._path.toString();ur(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||function(n){const e=kv(n).claims;return"object"==typeof e&&!0===e.admin}(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=function(n){const t=kv(n).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,o=>{const s=o.s,a=o.d||"error";this.authToken_===t&&("ok"===s?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,r=t.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(t,i){const r=t._path.toString(),o=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),se(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,t._queryObject,i)}sendUnlisten_(t,i,r,o){this.log_("Unlisten on "+t+" for "+i);const s={p:t};o&&(s.q=r,s.t=o),this.sendRequest("n",s)}onDisconnectPut(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:r})}onDisconnectMerge(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:r})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,r,o){const s={p:i,d:r};this.log_("onDisconnect "+t,s),this.sendRequest(t,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(t,i,r,o){this.putInternal("p",t,i,r,o)}merge(t,i,r,o){this.putInternal("m",t,i,r,o)}putInternal(t,i,r,o,s){this.initConnection_();const a={p:i,d:r};void 0!==s&&(a.h=s),this.outstandingPuts_.push({action:t,request:a,onComplete:o}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,o=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,r,s=>{this.log_(i+" response",s),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+zi(t));const i=t.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),"d"===t?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===t?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===t?this.onListenRevoked_(i.p,i.q):"ac"===t?this.onAuthRevoked_(i.s,i.d):"apc"===t?this.onAppCheckRevoked_(i.s,i.d):"sd"===t?this.onSecurityDebugPacket_(i):fN("Unrecognized action received from server: "+zi(t)+"\nAre you using the latest client?")}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){se(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Zm,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Zm,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Zm),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return _(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const i=t.onDataMessage_.bind(t),r=t.onReady_.bind(t),o=t.onRealtimeDisconnect_.bind(t),s=t.id+":"+n.nextConnectionId_++,a=t.lastSessionId;let c=!1,l=null;const u=function(){l?l.close():(c=!0,o())};t.realtime_={close:u,sendRequest:function(g){se(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(g)}};const h=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[g,y]=yield Promise.all([t.authTokenProvider_.getToken(h),t.appCheckTokenProvider_.getToken(h)]);c?Pi("getToken() completed but was canceled"):(Pi("getToken() completed. Creating connection."),t.authToken_=g&&g.accessToken,t.appCheckToken_=y&&y.token,l=new sQ(s,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,i,r,o,C=>{ur(C+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},a))}catch(g){t.log_("Failed to get token: "+g),c||(t.repoInfo_.nodeAdmin&&ur(g),u())}}})()}interrupt(t){Pi("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Pi("Resuming connection for reason: "+t),delete this.interruptReasons_[t],wM(this.interruptReasons_)&&(this.reconnectDelay_=Zm,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let r;r=i?i.map(s=>pN(s)).join("$"):"default";const o=this.removeListen_(t,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(t,i){const r=new Rt(t).toString();let o;if(this.listens.has(r)){const s=this.listens.get(r);o=s.get(i),s.delete(i),0===s.size&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(t,i){Pi("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){Pi("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";t["sdk."+i+"."+dN.replace(/\./g,"-")]=1,bM()?t["framework.cordova"]=1:K9()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Ww.getInstance().currentlyOnline();return wM(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class at{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new at(e,t)}}class Kw{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const i=new at(Nc,e),r=new at(Nc,t);return 0!==this.compare(i,r)}minPost(){return at.MIN}}class gQ extends Kw{static get __EMPTY_NODE(){return Qw}static set __EMPTY_NODE(e){Qw=e}compare(e,t){return du(e.name,t.name)}isDefinedOn(e){throw Xd("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return at.MIN}maxPost(){return new at(Ia,Qw)}makePost(e,t){return se("string"==typeof e,"KeyIndex indexValue must always be a string."),new at(e,Qw)}toString(){return".key"}}const Vs=new gQ;class Yw{constructor(e,t,i,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(s=t?i(e.key,t):1,r&&(s*=-1),s<0)e=this.isReverse_?e.left:e.right;else{if(0===s){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let IN,Ko=(()=>{class n{constructor(t,i,r,o,s){this.key=t,this.value=i,this.color=r??n.RED,this.left=o??Gr.EMPTY_NODE,this.right=s??Gr.EMPTY_NODE}copy(t,i,r,o,s){return new n(t??this.key,i??this.value,r??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let o=this;const s=r(t,o.key);return o=s<0?o.copy(null,null,null,o.left.insert(t,i,r),null):0===s?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Gr.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let r,o;if(r=this,i(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(t,r.key)){if(r.right.isEmpty())return Gr.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Gr{constructor(e,t=Gr.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Gr(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Ko.BLACK,null,null))}remove(e){return new Gr(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ko.BLACK,null,null))}get(e){let t,i=this.root_;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t)return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}getPredecessorKey(e){let t,i=this.root_,r=null;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}t<0?i=i.left:t>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Yw(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new Yw(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new Yw(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new Yw(this.root_,null,this.comparator_,!0,e)}}function BAe(n,e){return du(n.name,e.name)}function TN(n,e){return du(n,e)}Gr.EMPTY_NODE=new class VAe{copy(e,t,i,r,o){return this}insert(e,t,i){return new Ko(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const mQ=function(n){return"number"==typeof n?"number:"+NK(n):"string:"+n},_Q=function(n){if(n.isLeafNode()){const e=n.val();se("string"==typeof e||"number"==typeof e||"object"==typeof e&&Cs(e,".sv"),"Priority must be a string or number.")}else se(n===IN||n.isEmpty(),"priority of unexpected type.");se(n===IN||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let bQ,yQ,vQ,Jh=(()=>{class n{constructor(t,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,se(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),_Q(this.priorityNode_)}static set __childrenNodeConstructor(t){bQ=t}static get __childrenNodeConstructor(){return bQ}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return rt(t)?this:".priority"===it(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return".priority"===t?this.updatePriority(i):i.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const r=it(t);return null===r?i:i.isEmpty()&&".priority"!==r?this:(se(".priority"!==r||1===Lc(t),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Wt(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+mQ(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",t+="number"===i?NK(this.value_):this.value_,this.lazyHash_=kK(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:(se(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,r=typeof this.value_,o=n.VALUE_TYPE_ORDER.indexOf(i),s=n.VALUE_TYPE_ORDER.indexOf(r);return se(o>=0,"Unknown leaf type: "+i),se(s>=0,"Unknown leaf type: "+r),o===s?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(t){return t===this||!!t.isLeafNode()&&(this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const sn=new class HAe extends Kw{compare(e,t){const i=e.node.getPriority(),r=t.node.getPriority(),o=i.compareTo(r);return 0===o?du(e.name,t.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return at.MIN}maxPost(){return new at(Ia,new Jh("[PRIORITY-POST]",vQ))}makePost(e,t){const i=yQ(e);return new at(t,new Jh("[PRIORITY-POST]",i))}toString(){return".priority"}},$Ae=Math.log(2);class GAe{constructor(e){this.count=parseInt(Math.log(e+1)/$Ae,10),this.current_=this.count-1;const r=(o=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Xw=function(n,e,t,i){n.sort(e);const r=function(c,l){const u=l-c;let d,h;if(0===u)return null;if(1===u)return d=n[c],h=t?t(d):d,new Ko(h,d.node,Ko.BLACK,null,null);{const g=parseInt(u/2,10)+c,y=r(c,g),C=r(g+1,l);return d=n[g],h=t?t(d):d,new Ko(h,d.node,Ko.BLACK,y,C)}},a=function(c){let l=null,u=null,d=n.length;const h=function(y,C){const T=d-y,S=d;d-=y;const D=r(T+1,S),N=n[T],W=t?t(N):N;g(new Ko(W,N.node,C,null,D))},g=function(y){l?(l.left=y,l=y):(u=y,l=y)};for(let y=0;y<c.count;++y){const C=c.nextBitIsOne(),T=Math.pow(2,c.count-(y+1));C?h(T,Ko.BLACK):(h(T,Ko.BLACK),h(T,Ko.RED))}return u}(new GAe(n.length));return new Gr(i||e,a)};let MN;const ef={};class Ma{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return se(ef&&sn,"ChildrenNode.ts has not been loaded"),MN=MN||new Ma({".priority":ef},{".priority":sn}),MN}get(e){const t=Jd(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Gr?t:null}hasIndex(e){return Cs(this.indexSet_,e.toString())}addIndex(e,t){se(e!==Vs,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const o=t.getIterator(at.Wrap);let a,s=o.getNext();for(;s;)r=r||e.isDefinedOn(s.node),i.push(s),s=o.getNext();a=r?Xw(i,e.getCompare()):ef;const c=e.toString(),l=Object.assign({},this.indexSet_);l[c]=e;const u=Object.assign({},this.indexes_);return u[c]=a,new Ma(u,l)}addToIndexes(e,t){const i=Ov(this.indexes_,(r,o)=>{const s=Jd(this.indexSet_,o);if(se(s,"Missing index implementation for "+o),r===ef){if(s.isDefinedOn(e.node)){const a=[],c=t.getIterator(at.Wrap);let l=c.getNext();for(;l;)l.name!==e.name&&a.push(l),l=c.getNext();return a.push(e),Xw(a,s.getCompare())}return ef}{const a=t.get(e.name);let c=r;return a&&(c=c.remove(new at(e.name,a))),c.insert(e,e.node)}});return new Ma(i,this.indexSet_)}removeFromIndexes(e,t){const i=Ov(this.indexes_,r=>{if(r===ef)return r;{const o=t.get(e.name);return o?r.remove(new at(e.name,o)):r}});return new Ma(i,this.indexSet_)}}let Jm,qe=(()=>{class n{constructor(t,i,r){this.children_=t,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&_Q(this.priorityNode_),this.children_.isEmpty()&&se(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Jm||(Jm=new n(new Gr(TN),null,Ma.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Jm}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const i=this.children_.get(t);return null===i?Jm:i}}getChild(t){const i=it(t);return null===i?this:this.getImmediateChild(i).getChild(Wt(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,i){if(se(i,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(i);{const r=new at(t,i);let o,s;i.isEmpty()?(o=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(t,i),s=this.indexMap_.addToIndexes(r,this.children_));const a=o.isEmpty()?Jm:this.priorityNode_;return new n(o,a,s)}}updateChild(t,i){const r=it(t);if(null===r)return i;{se(".priority"!==it(t)||1===Lc(t),".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild(Wt(t),i);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let r=0,o=0,s=!0;if(this.forEachChild(sn,(a,c)=>{i[a]=c.val(t),r++,s&&n.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!t&&s&&o<2*r){const a=[];for(const c in i)a[c]=i[c];return a}return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+mQ(this.getPriority().val())+":"),this.forEachChild(sn,(i,r)=>{const o=r.hash();""!==o&&(t+=":"+i+":"+o)}),this.lazyHash_=""===t?"":kK(t)}return this.lazyHash_}getPredecessorChildName(t,i,r){const o=this.resolveIndex_(r);if(o){const s=o.getPredecessorKey(new at(t,i));return s?s.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new at(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new at(i,this.children_.get(i)):null}forEachChild(t,i){const r=this.resolveIndex_(t);return r?r.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(t,o=>o);{const o=this.children_.getIteratorFrom(t.name,at.Wrap);let s=o.peek();for(;null!=s&&i.compare(s,t)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(t,o=>o);{const o=this.children_.getReverseIteratorFrom(t.name,at.Wrap);let s=o.peek();for(;null!=s&&i.compare(s,t)>0;)o.getNext(),s=o.peek();return o}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===e_?-1:0}withIndex(t){if(t===Vs||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===Vs||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(sn),o=i.getIterator(sn);let s=r.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=r.getNext(),a=o.getNext()}return null===s&&null===a}return!1}return!1}}resolveIndex_(t){return t===Vs?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const e_=new class qAe extends qe{constructor(){super(new Gr(TN),qe.EMPTY_NODE,Ma.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return qe.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(at,{MIN:{value:new at(Nc,qe.EMPTY_NODE)},MAX:{value:new at(Ia,e_)}}),gQ.__EMPTY_NODE=qe.EMPTY_NODE,Jh.__childrenNodeConstructor=qe,function UAe(n){IN=n}(e_),function jAe(n){vQ=n}(e_);const WAe=!0;function On(n,e=null){if(null===n)return qe.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),se(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Jh(n,On(e));if(n instanceof Array||!WAe){let t=qe.EMPTY_NODE;return Ri(n,(i,r)=>{if(Cs(n,i)&&"."!==i.substring(0,1)){const o=On(r);(o.isLeafNode()||!o.isEmpty())&&(t=t.updateImmediateChild(i,o))}}),t.updatePriority(On(e))}{const t=[];let i=!1;if(Ri(n,(s,a)=>{if("."!==s.substring(0,1)){const c=On(a);c.isEmpty()||(i=i||!c.getPriority().isEmpty(),t.push(new at(s,c)))}}),0===t.length)return qe.EMPTY_NODE;const o=Xw(t,BAe,s=>s.name,TN);if(i){const s=Xw(t,sn.getCompare());return new qe(o,On(e),new Ma({".priority":s},{".priority":sn}))}return new qe(o,On(e),Ma.Default)}}!function zAe(n){yQ=n}(On);class DN extends Kw{constructor(e){super(),this.indexPath_=e,se(!rt(e)&&".priority"!==it(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const i=this.extractChild(e.node),r=this.extractChild(t.node),o=i.compareTo(r);return 0===o?du(e.name,t.name):o}makePost(e,t){const i=On(e),r=qe.EMPTY_NODE.updateChild(this.indexPath_,i);return new at(t,r)}maxPost(){const e=qe.EMPTY_NODE.updateChild(this.indexPath_,e_);return new at(Ia,e)}toString(){return Xm(this.indexPath_,0).join("/")}}const SN=new class KAe extends Kw{compare(e,t){const i=e.node.compareTo(t.node);return 0===i?du(e.name,t.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return at.MIN}maxPost(){return at.MAX}makePost(e,t){const i=On(e);return new at(t,i)}toString(){return".value"}};function n_(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class kN{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=sn}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return se(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return se(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Nc}hasEnd(){return this.endSet_}getIndexEndValue(){return se(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return se(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ia}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return se(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===sn}copy(){const e=new kN;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function xQ(n){const e={};if(n.isDefault())return e;let t;if(n.index_===sn?t="$priority":n.index_===SN?t="$value":n.index_===Vs?t="$key":(se(n.index_ instanceof DN,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=zi(t),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";e[i]=zi(n.indexStartValue_),n.startNameSet_&&(e[i]+=","+zi(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";e[i]=zi(n.indexEndValue_),n.endNameSet_&&(e[i]+=","+zi(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function CQ(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==sn&&(e.i=n.index_.toString()),e}class Jw extends aQ{constructor(e,t,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=Wm("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(se(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,i,r){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const s=Jw.getListenId_(e,i),a={};this.listens_[s]=a;const c=xQ(e._queryParams);this.restRequest_(o+".json",c,(l,u)=>{let d=u;if(404===l&&(d=null,l=null),null===l&&this.onDataUpdate_(o,d,!1,i),Jd(this.listens_,s)===a){let h;h=l?401===l?"permission_denied":"rest_error:"+l:"ok",r(h,null)}})}unlisten(e,t){const i=Jw.getListenId_(e,t);delete this.listens_[i]}get(e){const t=xQ(e._queryParams),i=e._path.toString(),r=new Zd;return this.restRequest_(i+".json",t,(o,s)=>{let a=s;404===o&&(a=null,o=null),null===o?(this.onDataUpdate_(i,a,!1,null),r.resolve(a)):r.reject(new Error(a))}),r.promise}refreshAuthToken(e){}restRequest_(e,t={},i){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,o])=>{r&&r.accessToken&&(t.auth=r.accessToken),o&&o.token&&(t.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+eh(t);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(i&&4===a.readyState){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=rg(a.responseText)}catch{ur("Failed to parse JSON response for "+s+": "+a.responseText)}i(null,c)}else 401!==a.status&&404!==a.status&&ur("Got unsuccessful REST response for "+s+" Status: "+a.status),i(a.status);i=null}},a.open("GET",s,!0),a.send()})}}class nke{constructor(){this.rootNode_=qe.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function ex(){return{value:null,children:new Map}}function nf(n,e,t){if(rt(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const i=it(e);n.children.has(i)||n.children.set(i,ex()),nf(n.children.get(i),e=Wt(e),t)}}function NN(n,e,t){null!==n.value?t(e,n.value):function ike(n,e){n.children.forEach((t,i)=>{e(i,t)})}(n,(i,r)=>{NN(r,new Rt(e.toString()+"/"+i),t)})}class rke{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Ri(this.last_,(i,r)=>{t[i]=t[i]-r}),this.last_=e,t}}class ake{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new rke(e);const i=1e4+2e4*Math.random();Qm(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),t={};let i=!1;Ri(e,(r,o)=>{o>0&&Cs(this.statsToReport_,r)&&(t[r]=o,i=!0)}),i&&this.server_.reportStats(t),Qm(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Bs=function(n){return n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",n}(Bs||{});function VN(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class tx{constructor(e,t,i){this.path=e,this.affectedTree=t,this.revert=i,this.type=Bs.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(rt(this.path)){if(null!=this.affectedTree.value)return se(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Rt(e));return new tx(It(),t,this.revert)}}return se(it(this.path)===e,"operationForChild called for unrelated child."),new tx(Wt(this.path),this.affectedTree,this.revert)}}class pu{constructor(e,t,i){this.source=e,this.path=t,this.snap=i,this.type=Bs.OVERWRITE}operationForChild(e){return rt(this.path)?new pu(this.source,It(),this.snap.getImmediateChild(e)):new pu(this.source,Wt(this.path),this.snap)}}class rf{constructor(e,t,i){this.source=e,this.path=t,this.children=i,this.type=Bs.MERGE}operationForChild(e){if(rt(this.path)){const t=this.children.subtree(new Rt(e));return t.isEmpty()?null:t.value?new pu(this.source,It(),t.value):new rf(this.source,It(),t)}return se(it(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new rf(this.source,Wt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Vc{constructor(e,t,i){this.node_=e,this.fullyInitialized_=t,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(rt(e))return this.isFullyInitialized()&&!this.filtered_;const t=it(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function o_(n,e,t,i,r,o){const s=i.filter(a=>a.type===t);s.sort((a,c)=>function dke(n,e,t){if(null==e.childName||null==t.childName)throw Xd("Should only compare child_ events.");const i=new at(e.childName,e.snapshotNode),r=new at(t.childName,t.snapshotNode);return n.index_.compare(i,r)}(n,a,c)),s.forEach(a=>{const c=function uke(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,a,o);r.forEach(l=>{l.respondsTo(a.type)&&e.push(l.createEvent(c,n.query_))})})}function nx(n,e){return{eventCache:n,serverCache:e}}function s_(n,e,t,i){return nx(new Vc(e,t,i),n.serverCache)}function TQ(n,e,t,i){return nx(n.eventCache,new Vc(e,t,i))}function ix(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function gu(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let BN;class an{constructor(e,t=(()=>(BN||(BN=new Gr(QSe)),BN))()){this.value=e,this.children=t}static fromObject(e){let t=new an(null);return Ri(e,(i,r)=>{t=t.set(new Rt(i),r)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:It(),value:this.value};if(rt(e))return null;{const i=it(e),r=this.children.get(i);if(null!==r){const o=r.findRootMostMatchingPathAndValue(Wt(e),t);return null!=o?{path:En(new Rt(i),o.path),value:o.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(rt(e))return this;{const t=it(e),i=this.children.get(t);return null!==i?i.subtree(Wt(e)):new an(null)}}set(e,t){if(rt(e))return new an(t,this.children);{const i=it(e),o=(this.children.get(i)||new an(null)).set(Wt(e),t),s=this.children.insert(i,o);return new an(this.value,s)}}remove(e){if(rt(e))return this.children.isEmpty()?new an(null):new an(null,this.children);{const t=it(e),i=this.children.get(t);if(i){const r=i.remove(Wt(e));let o;return o=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&o.isEmpty()?new an(null):new an(this.value,o)}return this}}get(e){if(rt(e))return this.value;{const t=it(e),i=this.children.get(t);return i?i.get(Wt(e)):null}}setTree(e,t){if(rt(e))return t;{const i=it(e),o=(this.children.get(i)||new an(null)).setTree(Wt(e),t);let s;return s=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new an(this.value,s)}}fold(e){return this.fold_(It(),e)}fold_(e,t){const i={};return this.children.inorderTraversal((r,o)=>{i[r]=o.fold_(En(e,r),t)}),t(e,this.value,i)}findOnPath(e,t){return this.findOnPath_(e,It(),t)}findOnPath_(e,t,i){const r=!!this.value&&i(t,this.value);if(r)return r;if(rt(e))return null;{const o=it(e),s=this.children.get(o);return s?s.findOnPath_(Wt(e),En(t,o),i):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,It(),t)}foreachOnPath_(e,t,i){if(rt(e))return this;{this.value&&i(t,this.value);const r=it(e),o=this.children.get(r);return o?o.foreachOnPath_(Wt(e),En(t,r),i):new an(null)}}foreach(e){this.foreach_(It(),e)}foreach_(e,t){this.children.inorderTraversal((i,r)=>{r.foreach_(En(e,i),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,i)=>{i.value&&e(t,i.value)})}}class Qo{constructor(e){this.writeTree_=e}static empty(){return new Qo(new an(null))}}function a_(n,e,t){if(rt(e))return new Qo(new an(t));{const i=n.writeTree_.findRootMostValueAndPath(e);if(null!=i){const r=i.path;let o=i.value;const s=Tr(r,e);return o=o.updateChild(s,t),new Qo(n.writeTree_.set(r,o))}{const r=new an(t),o=n.writeTree_.setTree(e,r);return new Qo(o)}}}function UN(n,e,t){let i=n;return Ri(t,(r,o)=>{i=a_(i,En(e,r),o)}),i}function IQ(n,e){if(rt(e))return Qo.empty();{const t=n.writeTree_.setTree(e,new an(null));return new Qo(t)}}function zN(n,e){return null!=mu(n,e)}function mu(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(Tr(t.path,e)):null}function MQ(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(sn,(i,r)=>{e.push(new at(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&e.push(new at(i,r.value))}),e}function Bc(n,e){if(rt(e))return n;{const t=mu(n,e);return new Qo(null!=t?new an(t):n.writeTree_.subtree(e))}}function jN(n){return n.writeTree_.isEmpty()}function sf(n,e){return DQ(It(),n.writeTree_,e)}function DQ(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let i=null;return e.children.inorderTraversal((r,o)=>{".priority"===r?(se(null!==o.value,"Priority writes must always be leaf nodes"),i=o.value):t=DQ(En(n,r),o,t)}),!t.getChild(n).isEmpty()&&null!==i&&(t=t.updateChild(En(n,".priority"),i)),t}}function rx(n,e){return PQ(e,n)}function _ke(n,e){if(n.snap)return Co(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&Co(En(n.path,t),e))return!0;return!1}function yke(n){return n.visible}function SQ(n,e,t){let i=Qo.empty();for(let r=0;r<n.length;++r){const o=n[r];if(e(o)){const s=o.path;let a;if(o.snap)Co(t,s)?(a=Tr(t,s),i=a_(i,a,o.snap)):Co(s,t)&&(a=Tr(s,t),i=a_(i,It(),o.snap.getChild(a)));else{if(!o.children)throw Xd("WriteRecord should have .snap or .children");if(Co(t,s))a=Tr(t,s),i=UN(i,a,o.children);else if(Co(s,t))if(a=Tr(s,t),rt(a))i=UN(i,It(),o.children);else{const c=Jd(o.children,it(a));if(c){const l=c.getChild(Wt(a));i=a_(i,It(),l)}}}}}return i}function AQ(n,e,t,i,r){if(i||r){const o=Bc(n.visibleWrites,e);return!r&&jN(o)?t:r||null!=t||zN(o,It())?sf(SQ(n.allWrites,function(l){return(l.visible||r)&&(!i||!~i.indexOf(l.writeId))&&(Co(l.path,e)||Co(e,l.path))},e),t||qe.EMPTY_NODE):null}{const o=mu(n.visibleWrites,e);if(null!=o)return o;{const s=Bc(n.visibleWrites,e);return jN(s)?t:null!=t||zN(s,It())?sf(s,t||qe.EMPTY_NODE):null}}}function ox(n,e,t,i){return AQ(n.writeTree,n.treePath,e,t,i)}function HN(n,e){return function vke(n,e,t){let i=qe.EMPTY_NODE;const r=mu(n.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(sn,(o,s)=>{i=i.updateImmediateChild(o,s)}),i;if(t){const o=Bc(n.visibleWrites,e);return t.forEachChild(sn,(s,a)=>{const c=sf(Bc(o,new Rt(s)),a);i=i.updateImmediateChild(s,c)}),MQ(o).forEach(s=>{i=i.updateImmediateChild(s.name,s.node)}),i}return MQ(Bc(n.visibleWrites,e)).forEach(s=>{i=i.updateImmediateChild(s.name,s.node)}),i}(n.writeTree,n.treePath,e)}function kQ(n,e,t,i){return function wke(n,e,t,i,r){se(i||r,"Either existingEventSnap or existingServerSnap must exist");const o=En(e,t);if(zN(n.visibleWrites,o))return null;{const s=Bc(n.visibleWrites,o);return jN(s)?r.getChild(t):sf(s,r.getChild(t))}}(n.writeTree,n.treePath,e,t,i)}function sx(n,e){return function Cke(n,e){return mu(n.visibleWrites,e)}(n.writeTree,En(n.treePath,e))}function $N(n,e,t){return function xke(n,e,t,i){const r=En(e,t),o=mu(n.visibleWrites,r);return null!=o?o:i.isCompleteForChild(t)?sf(Bc(n.visibleWrites,r),i.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function OQ(n,e){return PQ(En(n.treePath,e),n.writeTree)}function PQ(n,e){return{treePath:n,writeTree:e}}class Mke{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,i=e.childName;se("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),se(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const o=r.type;if("child_added"===t&&"child_removed"===o)this.changeMap.set(i,n_(i,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===o)this.changeMap.delete(i);else if("child_removed"===t&&"child_changed"===o)this.changeMap.set(i,function t_(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}(i,r.oldSnap));else if("child_changed"===t&&"child_added"===o)this.changeMap.set(i,function tf(n,e){return{type:"child_added",snapshotNode:e,childName:n}}(i,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==o)throw Xd("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(i,n_(i,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}const RQ=new class Dke{getCompleteChild(e){return null}getChildAfterChild(e,t,i){return null}};class GN{constructor(e,t,i=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=i}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const i=null!=this.optCompleteServerCache_?new Vc(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return $N(this.writes_,e,i)}}getChildAfterChild(e,t,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:gu(this.viewCache_),o=function Ike(n,e,t,i,r,o){return function Eke(n,e,t,i,r,o,s){let a;const c=Bc(n.visibleWrites,e),l=mu(c,It());if(null!=l)a=l;else{if(null==t)return[];a=sf(c,t)}if(a=a.withIndex(s),a.isEmpty()||a.isLeafNode())return[];{const u=[],d=s.getCompare(),h=o?a.getReverseIteratorFrom(i,s):a.getIteratorFrom(i,s);let g=h.getNext();for(;g&&u.length<r;)0!==d(g,i)&&u.push(g),g=h.getNext();return u}}(n.writeTree,n.treePath,e,t,i,r,o)}(this.writes_,r,t,1,i,e);return 0===o.length?null:o[0]}}function NQ(n,e,t,i,r,o){const s=e.eventCache;if(null!=sx(i,t))return e;{let a,c;if(rt(t))if(se(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const l=gu(e),d=HN(i,l instanceof qe?l:qe.EMPTY_NODE);a=n.filter.updateFullNode(e.eventCache.getNode(),d,o)}else{const l=ox(i,gu(e));a=n.filter.updateFullNode(e.eventCache.getNode(),l,o)}else{const l=it(t);if(".priority"===l){se(1===Lc(t),"Can't have a priority with additional path components");const u=s.getNode();c=e.serverCache.getNode();const d=kQ(i,t,u,c);a=null!=d?n.filter.updatePriority(u,d):s.getNode()}else{const u=Wt(t);let d;if(s.isCompleteForChild(l)){c=e.serverCache.getNode();const h=kQ(i,t,s.getNode(),c);d=null!=h?s.getNode().getImmediateChild(l).updateChild(u,h):s.getNode().getImmediateChild(l)}else d=$N(i,l,e.serverCache);a=null!=d?n.filter.updateChild(s.getNode(),l,d,u,r,o):s.getNode()}}return s_(e,a,s.isFullyInitialized()||rt(t),n.filter.filtersNodes())}}function ax(n,e,t,i,r,o,s,a){const c=e.serverCache;let l;const u=s?n.filter:n.filter.getIndexedFilter();if(rt(t))l=u.updateFullNode(c.getNode(),i,null);else if(u.filtersNodes()&&!c.isFiltered()){const g=c.getNode().updateChild(t,i);l=u.updateFullNode(c.getNode(),g,null)}else{const g=it(t);if(!c.isCompleteForPath(t)&&Lc(t)>1)return e;const y=Wt(t),T=c.getNode().getImmediateChild(g).updateChild(y,i);l=".priority"===g?u.updatePriority(c.getNode(),T):u.updateChild(c.getNode(),g,T,y,RQ,null)}const d=TQ(e,l,c.isFullyInitialized()||rt(t),u.filtersNodes());return NQ(n,d,t,r,new GN(r,d,o),a)}function qN(n,e,t,i,r,o,s){const a=e.eventCache;let c,l;const u=new GN(r,e,o);if(rt(t))l=n.filter.updateFullNode(e.eventCache.getNode(),i,s),c=s_(e,l,!0,n.filter.filtersNodes());else{const d=it(t);if(".priority"===d)l=n.filter.updatePriority(e.eventCache.getNode(),i),c=s_(e,l,a.isFullyInitialized(),a.isFiltered());else{const h=Wt(t),g=a.getNode().getImmediateChild(d);let y;if(rt(h))y=i;else{const C=u.getCompleteChild(d);y=null!=C?".priority"===xN(h)&&C.getChild(dQ(h)).isEmpty()?C:C.updateChild(h,i):qe.EMPTY_NODE}c=g.equals(y)?e:s_(e,n.filter.updateChild(a.getNode(),d,y,h,u,s),a.isFullyInitialized(),n.filter.filtersNodes())}}return c}function FQ(n,e){return n.eventCache.isCompleteForChild(e)}function LQ(n,e,t){return t.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function WN(n,e,t,i,r,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l,c=e;l=rt(t)?i:new an(null).setTree(t,i);const u=e.serverCache.getNode();return l.children.inorderTraversal((d,h)=>{if(u.hasChild(d)){const y=LQ(0,e.serverCache.getNode().getImmediateChild(d),h);c=ax(n,c,new Rt(d),y,r,o,s,a)}}),l.children.inorderTraversal((d,h)=>{const g=!e.serverCache.isCompleteForChild(d)&&null===h.value;if(!u.hasChild(d)&&!g){const C=LQ(0,e.serverCache.getNode().getImmediateChild(d),h);c=ax(n,c,new Rt(d),C,r,o,s,a)}}),c}function Uke(n,e){const t=gu(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!rt(e)&&!t.getImmediateChild(it(e)).isEmpty())?t.getChild(e):null}function UQ(n,e,t,i){e.type===Bs.MERGE&&null!==e.source.queryId&&(se(gu(n.viewCache_),"We should always have a full cache before handling merges"),se(ix(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,o=function kke(n,e,t,i,r){const o=new Mke;let s,a;if(t.type===Bs.OVERWRITE){const l=t;l.source.fromUser?s=qN(n,e,l.path,l.snap,i,r,o):(se(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered()&&!rt(l.path),s=ax(n,e,l.path,l.snap,i,r,a,o))}else if(t.type===Bs.MERGE){const l=t;l.source.fromUser?s=function Pke(n,e,t,i,r,o,s){let a=e;return i.foreach((c,l)=>{const u=En(t,c);FQ(e,it(u))&&(a=qN(n,a,u,l,r,o,s))}),i.foreach((c,l)=>{const u=En(t,c);FQ(e,it(u))||(a=qN(n,a,u,l,r,o,s))}),a}(n,e,l.path,l.children,i,r,o):(se(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered(),s=WN(n,e,l.path,l.children,i,r,a,o))}else if(t.type===Bs.ACK_USER_WRITE){const l=t;s=l.revert?function Fke(n,e,t,i,r,o){let s;if(null!=sx(i,t))return e;{const a=new GN(i,e,r),c=e.eventCache.getNode();let l;if(rt(t)||".priority"===it(t)){let u;if(e.serverCache.isFullyInitialized())u=ox(i,gu(e));else{const d=e.serverCache.getNode();se(d instanceof qe,"serverChildren would be complete if leaf node"),u=HN(i,d)}l=n.filter.updateFullNode(c,u,o)}else{const u=it(t);let d=$N(i,u,e.serverCache);null==d&&e.serverCache.isCompleteForChild(u)&&(d=c.getImmediateChild(u)),l=null!=d?n.filter.updateChild(c,u,d,Wt(t),a,o):e.eventCache.getNode().hasChild(u)?n.filter.updateChild(c,u,qe.EMPTY_NODE,Wt(t),a,o):c,l.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=ox(i,gu(e)),s.isLeafNode()&&(l=n.filter.updateFullNode(l,s,o)))}return s=e.serverCache.isFullyInitialized()||null!=sx(i,It()),s_(e,l,s,n.filter.filtersNodes())}}(n,e,l.path,i,r,o):function Rke(n,e,t,i,r,o,s){if(null!=sx(r,t))return e;const a=e.serverCache.isFiltered(),c=e.serverCache;if(null!=i.value){if(rt(t)&&c.isFullyInitialized()||c.isCompleteForPath(t))return ax(n,e,t,c.getNode().getChild(t),r,o,a,s);if(rt(t)){let l=new an(null);return c.getNode().forEachChild(Vs,(u,d)=>{l=l.set(new Rt(u),d)}),WN(n,e,t,l,r,o,a,s)}return e}{let l=new an(null);return i.foreach((u,d)=>{const h=En(t,u);c.isCompleteForPath(h)&&(l=l.set(u,c.getNode().getChild(h)))}),WN(n,e,t,l,r,o,a,s)}}(n,e,l.path,l.affectedTree,i,r,o)}else{if(t.type!==Bs.LISTEN_COMPLETE)throw Xd("Unknown operation type: "+t.type);s=function Nke(n,e,t,i,r){const o=e.serverCache;return NQ(n,TQ(e,o.getNode(),o.isFullyInitialized()||rt(t),o.isFiltered()),t,i,RQ,r)}(n,e,t.path,i,o)}const c=o.getChanges();return function Oke(n,e,t){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=ix(n);(t.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&t.push(function wQ(n){return{type:"value",snapshotNode:n}}(ix(e)))}}(e,s,c),{viewCache:s,changes:c}}(n.processor_,r,e,t,i);return function Ake(n,e){se(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),se(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,o.viewCache),se(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=o.viewCache,function zQ(n,e,t,i){return function lke(n,e,t,i){const r=[],o=[];return e.forEach(s=>{"child_changed"===s.type&&n.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(function QAe(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(s.childName,s.snapshotNode))}),o_(n,r,"child_removed",e,i,t),o_(n,r,"child_added",e,i,t),o_(n,r,"child_moved",o,i,t),o_(n,r,"child_changed",e,i,t),o_(n,r,"value",e,i,t),r}(n.eventGenerator_,e,t,i?[i]:n.eventRegistrations_)}(n,o.changes,o.viewCache.eventCache.getNode(),null)}let cx,ux;function KN(n,e,t,i){const r=e.source.queryId;if(null!==r){const o=n.views.get(r);return se(null!=o,"SyncTree gave us an op for an invalid query."),UQ(o,e,t,i)}{let o=[];for(const s of n.views.values())o=o.concat(UQ(s,e,t,i));return o}}function Uc(n,e){let t=null;for(const i of n.views.values())t=t||Uke(i,e);return t}class WQ{constructor(e){this.listenProvider_=e,this.syncPointTree_=new an(null),this.pendingWriteTree_=function Tke(){return{visibleWrites:Qo.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function QN(n,e,t,i,r){return function fke(n,e,t,i,r){se(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:e,snap:t,writeId:i,visible:r}),r&&(n.visibleWrites=a_(n.visibleWrites,e,t)),n.lastWriteId=i}(n.pendingWriteTree_,e,t,i,r),r?af(n,new pu({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function jc(n,e,t=!1){const i=function gke(n,e){for(let t=0;t<n.allWrites.length;t++){const i=n.allWrites[t];if(i.writeId===e)return i}return null}(n.pendingWriteTree_,e);if(function mke(n,e){const t=n.allWrites.findIndex(a=>a.writeId===e);se(t>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[t];n.allWrites.splice(t,1);let r=i.visible,o=!1,s=n.allWrites.length-1;for(;r&&s>=0;){const a=n.allWrites[s];a.visible&&(s>=t&&_ke(a,i.path)?r=!1:Co(i.path,a.path)&&(o=!0)),s--}return!!r&&(o?(function bke(n){n.visibleWrites=SQ(n.allWrites,yke,It()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=IQ(n.visibleWrites,i.path):Ri(i.children,c=>{n.visibleWrites=IQ(n.visibleWrites,En(i.path,c))}),!0))}(n.pendingWriteTree_,e)){let o=new an(null);return null!=i.snap?o=o.set(It(),!0):Ri(i.children,s=>{o=o.set(new Rt(s),!0)}),af(n,new tx(i.path,o,t))}return[]}function c_(n,e,t){return af(n,new pu({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function hx(n,e,t){const r=n.pendingWriteTree_,o=n.syncPointTree_.findOnPath(e,(s,a)=>{const l=Uc(a,Tr(s,e));if(l)return l});return AQ(r,e,o,t,!0)}function af(n,e){return QQ(e,n.syncPointTree_,null,rx(n.pendingWriteTree_,It()))}function QQ(n,e,t,i){if(rt(n.path))return YQ(n,e,t,i);{const r=e.get(It());null==t&&null!=r&&(t=Uc(r,It()));let o=[];const s=it(n.path),a=n.operationForChild(s),c=e.children.get(s);if(c&&a){const l=t?t.getImmediateChild(s):null,u=OQ(i,s);o=o.concat(QQ(a,c,l,u))}return r&&(o=o.concat(KN(r,n,i,t))),o}}function YQ(n,e,t,i){const r=e.get(It());null==t&&null!=r&&(t=Uc(r,It()));let o=[];return e.children.inorderTraversal((s,a)=>{const c=t?t.getImmediateChild(s):null,l=OQ(i,s),u=n.operationForChild(s);u&&(o=o.concat(YQ(u,a,c,l)))}),r&&(o=o.concat(KN(r,n,i,t))),o}function XN(n,e){return n.tagToQueryMap.get(e)}function ZN(n){const e=n.indexOf("$");return se(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new Rt(n.substr(0,e))}}function JN(n,e,t){const i=n.syncPointTree_.get(e);return se(i,"Missing sync point for query tag that we're tracking"),KN(i,t,rx(n.pendingWriteTree_,e),null)}class e2{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new e2(t)}node(){return this.node_}}class t2{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=En(this.path_,e);return new t2(this.syncTree_,t)}node(){return hx(this.syncTree_,this.path_)}}const aOe=function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n},ZQ=function(n,e,t){return n&&"object"==typeof n?(se(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?cOe(n[".sv"],e,t):"object"==typeof n[".sv"]?lOe(n[".sv"],e):void se(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},cOe=function(n,e,t){if("timestamp"===n)return t.timestamp;se(!1,"Unexpected server value: "+n)},lOe=function(n,e,t){n.hasOwnProperty("increment")||se(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&se(!1,"Unexpected increment value: "+i);const r=e.node();if(se(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const s=r.getValue();return"number"!=typeof s?i:s+i},JQ=function(n,e,t,i){return r2(e,new t2(t,n),i)},n2=function(n,e,t){return r2(n,new e2(e),t)};function r2(n,e,t){const i=n.getPriority().val(),r=ZQ(i,e.getImmediateChild(".priority"),t);let o;if(n.isLeafNode()){const s=n,a=ZQ(s.getValue(),e,t);return a!==s.getValue()||r!==s.getPriority().val()?new Jh(a,On(r)):n}{const s=n;return o=s,r!==s.getPriority().val()&&(o=o.updatePriority(new Jh(r))),s.forEachChild(sn,(a,c)=>{const l=r2(c,e.getImmediateChild(a),t);l!==c&&(o=o.updateImmediateChild(a,l))}),o}}class o2{constructor(e="",t=null,i={children:{},childCount:0}){this.name=e,this.parent=t,this.node=i}}function px(n,e){let t=e instanceof Rt?e:new Rt(e),i=n,r=it(t);for(;null!==r;){const o=Jd(i.node.children,r)||{children:{},childCount:0};i=new o2(r,i,o),t=Wt(t),r=it(t)}return i}function _u(n){return n.node.value}function s2(n,e){n.node.value=e,a2(n)}function eY(n){return n.node.childCount>0}function gx(n,e){Ri(n.node.children,(t,i)=>{e(new o2(t,n,i))})}function tY(n,e,t,i){t&&!i&&e(n),gx(n,r=>{tY(r,e,!0,i)}),t&&i&&e(n)}function d_(n){return new Rt(null===n.parent?n.name:d_(n.parent)+"/"+n.name)}function a2(n){null!==n.parent&&function hOe(n,e,t){const i=function uOe(n){return void 0===_u(n)&&!eY(n)}(t),r=Cs(n.node.children,e);i&&r?(delete n.node.children[e],n.node.childCount--,a2(n)):!i&&!r&&(n.node.children[e]=t.node,n.node.childCount++,a2(n))}(n.parent,n.name,n)}const fOe=/[\[\].#$\/\u0000-\u001F\u007F]/,pOe=/[\[\].#$\u0000-\u001F\u007F]/,c2=10485760,mx=function(n){return"string"==typeof n&&0!==n.length&&!fOe.test(n)},f_=function(n,e,t){const i=t instanceof Rt?new kAe(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+hu(i));if("function"==typeof e)throw new Error(n+"contains a function "+hu(i)+" with contents = "+e.toString());if($w(e))throw new Error(n+"contains "+e.toString()+" "+hu(i));if("string"==typeof e&&e.length>c2/3&&Rv(e)>c2)throw new Error(n+"contains a string greater than "+c2+" utf8 bytes "+hu(i)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let r=!1,o=!1;if(Ri(e,(s,a)=>{if(".value"===s)r=!0;else if(".priority"!==s&&".sv"!==s&&(o=!0,!mx(s)))throw new Error(n+" contains an invalid key ("+s+") "+hu(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function OAe(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=Rv(e),hQ(n)})(i,s),f_(n,a,i),function PAe(n){const e=n.parts_.pop();n.byteLength_-=Rv(e),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&o)throw new Error(n+' contains ".value" child '+hu(i)+" in addition to actual children.")}},rY=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!mx(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),function(n){return"string"==typeof n&&0!==n.length&&!pOe.test(n)}(n)}(t))throw new Error(function ag(n,e){return`${n} failed: ${e} argument `}(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class bOe{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function oo(n,e,t){(function _x(n,e){let t=null;for(let i=0;i<e.length;i++){const r=e[i],o=r.getPath();null!==t&&!CN(o,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:o}),t.events.push(r)}t&&n.eventLists_.push(t)})(n,t),function sY(n,e){n.recursionDepth_++;let t=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(e(r.path)?(yOe(n.eventLists_[i]),n.eventLists_[i]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}(n,i=>Co(i,e)||Co(e,i))}function yOe(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const i=t.getEventRunner();uu&&Pi("event: "+t.toString()),Xh(i)}}}const vOe=25;class wOe{constructor(e,t,i,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new bOe,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ex(),this.transactionQueueTree_=new o2,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function cY(n){const t=n.infoData_.getNode(new Rt(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function g_(n){return aOe({timestamp:cY(n)})}function lY(n,e,t,i,r){n.dataUpdateCount++;const o=new Rt(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let s=[];if(r)if(i){const c=Ov(t,l=>On(l));s=function tOe(n,e,t,i){const r=XN(n,i);if(r){const o=ZN(r),s=o.path,a=o.queryId,c=Tr(s,e),l=an.fromObject(t);return JN(n,s,new rf(VN(a),c,l))}return[]}(n.serverSyncTree_,o,c,r)}else{const c=On(t);s=function KQ(n,e,t,i){const r=XN(n,i);if(null!=r){const o=ZN(r),s=o.path,a=o.queryId,c=Tr(s,e);return JN(n,s,new pu(VN(a),c,t))}return[]}(n.serverSyncTree_,o,c,r)}else if(i){const c=Ov(t,l=>On(l));s=function Zke(n,e,t){const i=an.fromObject(t);return af(n,new rf({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,i))}(n.serverSyncTree_,o,c)}else{const c=On(t);s=c_(n.serverSyncTree_,o,c)}let a=o;s.length>0&&(a=lf(n,o)),oo(n.eventQueue_,a,s)}function uY(n,e){d2(n,"connected",e),!1===e&&function IOe(n){cf(n,"onDisconnectEvents");const e=g_(n),t=ex();NN(n.onDisconnect_,It(),(r,o)=>{const s=JQ(r,o,n.serverSyncTree_,e);nf(t,r,s)});let i=[];NN(t,It(),(r,o)=>{i=i.concat(c_(n.serverSyncTree_,r,o));const s=function g2(n,e){const t=d_(fY(n,e)),i=px(n.transactionQueueTree_,e);return function dOe(n,e,t){let i=t?n:n.parent;for(;null!==i;){if(e(i))return!0;i=i.parent}}(i,r=>{m2(n,r)}),m2(n,i),tY(i,r=>{m2(n,r)}),t}(n,r);lf(n,s)}),n.onDisconnect_=ex(),oo(n.eventQueue_,It(),i)}(n)}function d2(n,e,t){const i=new Rt("/.info/"+e),r=On(t);n.infoData_.updateSnapshot(i,r);const o=c_(n.infoSyncTree_,i,r);oo(n.eventQueue_,i,o)}function bx(n){return n.nextWriteId_++}function cf(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),Pi(t,...e)}function p2(n,e,t){return hx(n.serverSyncTree_,e,t)||qe.EMPTY_NODE}function yx(n,e=n.transactionQueueTree_){if(e||vx(n,e),_u(e)){const t=pY(n,e);se(t.length>0,"Sending zero length transaction queue"),t.every(r=>0===r.status)&&function POe(n,e,t){const i=t.map(l=>l.currentWriteId),r=p2(n,e,i);let o=r;const s=r.hash();for(let l=0;l<t.length;l++){const u=t[l];se(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=Tr(e,u.path);o=o.updateChild(d,u.currentOutputSnapshotRaw)}const a=o.val(!0),c=e;n.server_.put(c.toString(),a,l=>{cf(n,"transaction put response",{path:c.toString(),status:l});let u=[];if("ok"===l){const d=[];for(let h=0;h<t.length;h++)t[h].status=2,u=u.concat(jc(n.serverSyncTree_,t[h].currentWriteId)),t[h].onComplete&&d.push(()=>t[h].onComplete(null,!0,t[h].currentOutputSnapshotResolved)),t[h].unwatcher();vx(n,px(n.transactionQueueTree_,e)),yx(n,n.transactionQueueTree_),oo(n.eventQueue_,e,u);for(let h=0;h<d.length;h++)Xh(d[h])}else{if("datastale"===l)for(let d=0;d<t.length;d++)t[d].status=3===t[d].status?4:0;else{ur("transaction at "+c.toString()+" failed: "+l);for(let d=0;d<t.length;d++)t[d].status=4,t[d].abortReason=l}lf(n,e)}},s)}(n,d_(e),t)}else eY(e)&&gx(e,t=>{yx(n,t)})}function lf(n,e){const t=fY(n,e),i=d_(t);return function ROe(n,e,t){if(0===e.length)return;const i=[];let r=[];const s=e.filter(a=>0===a.status).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const c=e[a],l=Tr(t,c.path);let d,u=!1;if(se(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===c.status)u=!0,d=c.abortReason,r=r.concat(jc(n.serverSyncTree_,c.currentWriteId,!0));else if(0===c.status)if(c.retryCount>=vOe)u=!0,d="maxretry",r=r.concat(jc(n.serverSyncTree_,c.currentWriteId,!0));else{const h=p2(n,c.path,s);c.currentInputSnapshot=h;const g=e[a].update(h.val());if(void 0!==g){f_("transaction failed: Data returned ",g,c.path);let y=On(g);"object"==typeof g&&null!=g&&Cs(g,".priority")||(y=y.updatePriority(h.getPriority()));const T=c.currentWriteId,S=g_(n),D=n2(y,h,S);c.currentOutputSnapshotRaw=y,c.currentOutputSnapshotResolved=D,c.currentWriteId=bx(n),s.splice(s.indexOf(T),1),r=r.concat(QN(n.serverSyncTree_,c.path,D,c.currentWriteId,c.applyLocally)),r=r.concat(jc(n.serverSyncTree_,T,!0))}else u=!0,d="nodata",r=r.concat(jc(n.serverSyncTree_,c.currentWriteId,!0))}oo(n.eventQueue_,t,r),r=[],u&&(e[a].status=2,setTimeout(e[a].unwatcher,Math.floor(0)),e[a].onComplete&&i.push("nodata"===d?()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot):()=>e[a].onComplete(new Error(d),!1,null)))}vx(n,n.transactionQueueTree_);for(let a=0;a<i.length;a++)Xh(i[a]);yx(n,n.transactionQueueTree_)}(n,pY(n,t),i),i}function fY(n,e){let t,i=n.transactionQueueTree_;for(t=it(e);null!==t&&void 0===_u(i);)i=px(i,t),t=it(e=Wt(e));return i}function pY(n,e){const t=[];return gY(n,e,t),t.sort((i,r)=>i.order-r.order),t}function gY(n,e,t){const i=_u(e);if(i)for(let r=0;r<i.length;r++)t.push(i[r]);gx(e,r=>{gY(n,r,t)})}function vx(n,e){const t=_u(e);if(t){let i=0;for(let r=0;r<t.length;r++)2!==t[r].status&&(t[i]=t[r],i++);t.length=i,s2(e,t.length>0?t:void 0)}gx(e,i=>{vx(n,i)})}function m2(n,e){const t=_u(e);if(t){const i=[];let r=[],o=-1;for(let s=0;s<t.length;s++)3===t[s].status||(1===t[s].status?(se(o===s-1,"All SENT items should be at beginning of queue."),o=s,t[s].status=3,t[s].abortReason="set"):(se(0===t[s].status,"Unexpected transaction status in abort"),t[s].unwatcher(),r=r.concat(jc(n.serverSyncTree_,t[s].currentWriteId,!0)),t[s].onComplete&&i.push(t[s].onComplete.bind(null,new Error("set"),!1,null))));-1===o?s2(e,void 0):t.length=o+1,oo(n.eventQueue_,d_(e),r);for(let s=0;s<i.length;s++)Xh(i[s])}}const _2=function(n,e){const t=LOe(n),i=t.namespace;return"firebase.com"===t.domain&&Ls(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==t.domain&&Ls("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&ur("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new mN(t.host,t.secure,i,"ws"===t.scheme||"wss"===t.scheme,e,"",i!==t.subdomain),path:new Rt(t.pathString)}},LOe=function(n){let e="",t="",i="",r="",o="",s=!0,a="https",c=443;if("string"==typeof n){let l=n.indexOf("//");l>=0&&(a=n.substring(0,l-1),n=n.substring(l+2));let u=n.indexOf("/");-1===u&&(u=n.length);let d=n.indexOf("?");-1===d&&(d=n.length),e=n.substring(0,Math.min(u,d)),u<d&&(r=function NOe(n){let e="";const t=n.split("/");for(let i=0;i<t.length;i++)if(t[i].length>0){let r=t[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}(n.substring(u,d)));const h=function FOe(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const i=t.split("=");2===i.length?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):ur(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,d)));l=e.indexOf(":"),l>=0?(s="https"===a||"wss"===a,c=parseInt(e.substring(l+1),10)):l=e.length;const g=e.slice(0,l);if("localhost"===g.toLowerCase())t="localhost";else if(g.split(".").length<=2)t=g;else{const y=e.indexOf(".");i=e.substring(0,y).toLowerCase(),t=e.substring(y+1),o=i}"ns"in h&&(o=h.ns)}return{host:e,port:c,domain:t,subdomain:i,secure:s,scheme:a,pathString:r,namespace:o}};class so{constructor(e,t,i,r){this._repo=e,this._path=t,this._queryParams=i,this._orderByCalled=r}get key(){return rt(this._path)?null:xN(this._path)}get ref(){return new Yo(this._repo,this._path)}get _queryIdentifier(){const e=CQ(this._queryParams),t=pN(e);return"{}"===t?"default":t}get _queryObject(){return CQ(this._queryParams)}isEqual(e){if(!((e=kt(e))instanceof so))return!1;const t=this._repo===e._repo,i=CN(this._path,e._path);return t&&i&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function SAe(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}class Yo extends so{constructor(e,t){super(e,t,new kN,!1)}get parent(){const e=dQ(this._path);return null===e?null:new Yo(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}(function Hke(n){se(!cx,"__referenceConstructor has already been defined"),cx=n})(Yo),function Kke(n){se(!ux,"__referenceConstructor has already been defined"),ux=n}(Yo);const y2={};class iPe{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function xOe(n,e,t){if(n.stats_=yN(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new Jw(n.repoInfo_,(i,r,o,s)=>{lY(n,i,r,o,s)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>uY(n,!0),0);else{if(typeof t<"u"&&null!==t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{zi(t)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new fu(n.repoInfo_,e,(i,r,o,s)=>{lY(n,i,r,o,s)},i=>{uY(n,i)},i=>{!function COe(n,e){Ri(e,(t,i)=>{d2(n,t,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function aAe(n,e){const t=n.toString();return bN[t]||(bN[t]=e()),bN[t]}(n.repoInfo_,()=>new ake(n.stats_,n.server_)),n.infoData_=new nke,n.infoSyncTree_=new WQ({startListening:(i,r,o,s)=>{let a=[];const c=n.infoData_.getNode(i._path);return c.isEmpty()||(a=c_(n.infoSyncTree_,i._path,c),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),d2(n,"connected",!1),n.serverSyncTree_=new WQ({startListening:(i,r,o,s)=>(n.server_.listen(i,o,r,(a,c)=>{const l=s(a,c);oo(n.eventQueue_,i._path,l)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Yo(this._repo,It())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function ePe(n,e){const t=y2[e];(!t||t[n.key]!==n)&&Ls(`Database ${e}(${n.repoInfo_}) has already been deleted.`),function hY(n){n.persistentConnection_&&n.persistentConnection_.interrupt("repo_interrupt")}(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Ls("Cannot call "+e+" on a deleted database.")}}function rPe(n=th(),e){const t=aa(n,"database").getImmediate({identifier:e});if(!t._instanceStarted){const i=Av("database");i&&function oPe(n,e,t,i={}){(n=kt(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Ls("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let o;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&Ls('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Ym(Ym.OWNER);else if(i.mockUserToken){const s="string"==typeof i.mockUserToken?i.mockUserToken:_M(i.mockUserToken,n.app.options.projectId);o=new Ym(s)}!function ZOe(n,e,t,i){n.repoInfo_=new mN(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),i&&(n.authTokenProvider_=i)}(r,e,t,o)}(t,...i)}return t}fu.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},fu.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function sPe(n){(function $Se(n){dN=n})(la),Ci(new bi("database",(e,{instanceIdentifier:t})=>function JOe(n,e,t,i,r){let o=i||n.options.databaseURL;void 0===o&&(n.options.projectId||Ls("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Pi("Using default host for project ",n.options.projectId),o=`${n.options.projectId}-default-rtdb.firebaseio.com`);let c,l,s=_2(o,r),a=s.repoInfo;typeof process<"u"&&process.env&&(l=process.env.FIREBASE_DATABASE_EMULATOR_HOST),l?(c=!0,o=`http://${l}?ns=${a.namespace}`,s=_2(o,r),a=s.repoInfo):c=!s.repoInfo.secure;const u=r&&c?new Ym(Ym.OWNER):new rAe(n.name,n.options,e);rY("Invalid Firebase Database URL",s),rt(s.path)||Ls("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function tPe(n,e,t,i){let r=y2[e.name];r||(r={},y2[e.name]=r);let o=r[n.toURLString()];return o&&Ls("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new wOe(n,!1,t,i),r[n.toURLString()]=o,o}(a,n,u,new iAe(n.name,t));return new iPe(d,n)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),Pt(MK,"0.14.4",n),Pt(MK,"0.14.4","esm2017")}();class v2{constructor(e){return e}}const EY="database",w2=new X("angularfire2.database-instances");function dPe(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new v2(i)}}const hPe={provide:class lPe{constructor(){return fg(EY)}},deps:[[new en,w2]]},fPe={provide:v2,useFactory:function uPe(n,e){const t=hg(EY,n,e);return t&&new v2(t)},deps:[[new en,w2],dc]};let pPe=(()=>{class n{constructor(){Pt("angularfire",rh.full,"rtdb")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=et({type:n}),n.\u0275inj=Je({providers:[fPe,hPe]}),n})();function gPe(n,...e){return{ngModule:pPe,providers:[{provide:w2,useFactory:dPe(n),multi:!0,deps:[Me,Gt,pg,gg,[new en,m0],[new en,bg],...e]}]}}const mPe=Ti(rPe,!0),C2="functions";class wPe{constructor(e,t,i){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then(r=>this.auth=r,()=>{}),this.messaging||t.get().then(r=>this.messaging=r,()=>{}),this.appCheck||i.get().then(r=>this.appCheck=r,()=>{})}getAuthToken(){var e=this;return _(function*(){if(e.auth)try{const t=yield e.auth.getToken();return t?.accessToken}catch{return}})()}getMessagingToken(){var e=this;return _(function*(){if(e.messaging&&"Notification"in self&&"granted"===Notification.permission)try{return yield e.messaging.getToken()}catch{return}})()}getAppCheckToken(e){var t=this;return _(function*(){if(t.appCheck){const i=e?yield t.appCheck.getLimitedUseToken():yield t.appCheck.getToken();return i.error?null:i.token}return null})()}getContext(e){var t=this;return _(function*(){return{authToken:yield t.getAuthToken(),messagingToken:yield t.getMessagingToken(),appCheckToken:yield t.getAppCheckToken(e)}})()}}const E2="us-central1";class CPe{constructor(e,t,i,r,o=E2,s){this.app=e,this.fetchImpl=s,this.emulatorOrigin=null,this.contextProvider=new wPe(t,i,r),this.cancelAllRequests=new Promise(a=>{this.deleteService=()=>Promise.resolve(a())});try{const a=new URL(o);this.customDomain=a.origin,this.region=E2}catch{this.customDomain=null,this.region=o}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;return null!==this.emulatorOrigin?`${this.emulatorOrigin}/${t}/${this.region}/${e}`:null!==this.customDomain?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}}const DY="@firebase/functions";function PPe(n=th(),e=E2){const i=aa(kt(n),C2).getImmediate({identifier:e}),r=Av("functions");return r&&function RPe(n,e,t){!function EPe(n,e,t){n.emulatorOrigin=`http://${e}:${t}`}(kt(n),e,t)}(i,...r),i}!function OPe(n,e){Ci(new bi(C2,(i,{instanceIdentifier:r})=>{const o=i.getProvider("app").getImmediate(),s=i.getProvider("auth-internal"),a=i.getProvider("messaging-internal"),c=i.getProvider("app-check-internal");return new CPe(o,s,a,c,r,n)},"PUBLIC").setMultipleInstances(!0)),Pt(DY,"0.10.0",e),Pt(DY,"0.10.0","esm2017")}(fetch.bind(self));class M2{constructor(e){return e}}const AY="functions",D2=new X("angularfire2.functions-instances");function LPe(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new M2(i)}}const VPe={provide:class NPe{constructor(){return fg(AY)}},deps:[[new en,D2]]},BPe={provide:M2,useFactory:function FPe(n,e){const t=hg(AY,n,e);return t&&new M2(t)},deps:[[new en,D2],dc]};let UPe=(()=>{class n{constructor(){Pt("angularfire",rh.full,"fn")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=et({type:n}),n.\u0275inj=Je({providers:[BPe,VPe]}),n})();function zPe(n,...e){return{ngModule:UPe,providers:[{provide:D2,useFactory:LPe(n),multi:!0,deps:[Me,Gt,pg,gg,[new en,m0],[new en,bg],...e]}]}}const jPe=Ti(PPe,!0);function HPe(n,e){if(1&n){const t=ft();p(0,"tr")(1,"td"),m(2),f(),p(3,"td"),m(4),f(),p(5,"td",5),m(6),f(),p(7,"td"),m(8),f(),p(9,"td")(10,"button",8),Q("click",function(){const o=Ae(t).$implicit;return ke(Tt().Unidades(o.name))}),f(),p(11,"button",9),Q("click",function(){const o=Ae(t).$implicit;return ke(Tt().infoProject(o.name))}),f(),p(12,"button",10),Q("click",function(){const o=Ae(t).$implicit;return ke(Tt().editProyecto(o.name))}),f()()()}if(2&n){const t=e.$implicit;V(2),Ve(t.name),V(2),Ve(t.owner),V(2),Ve(t.integrantes),V(2),Ve(t.cliente)}}let $Pe=(()=>{class n{constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.data=[],this.list=[],this.email="",this.MyQuery()}getData(){const t=Ho();Ds(t,r=>{r&&r.email&&(this.email=r.email)});const i=me(this.firestore,"projects");de(i).then(r=>{this.data=[...r.docs.map(o=>({...o.data(),id:o.id}))]})}updateData(t){const i=Ce(this.firestore,"projects",t);Qi(i,{}).then(()=>{alert("Data updated"),this.getData()}).catch(r=>{alert(r.message)})}deleteData(t){const i=Ce(this.firestore,"projects",t);gn(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}infoProject(t){this.router.navigate(["user/project-info/"+t])}newProject(){this.router.navigate(["user/project-new"])}EditProject(){this.router.navigate(["user/project-new"])}Unidades(t){this.router.navigate(["user/unidad-produccion/"+t])}Muestras(t){this.router.navigate(["user/muestras/"+t])}editProyecto(t){this.router.navigate(["user/project-edit/"+t])}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["user/projects"])}logOut(){si(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}MyQuery(){var t=this;return _(function*(){const i=Ho();let r;r="",console.log(i),Ds(i,function(){var o=_(function*(s){if(s&&(console.log(s.email),s.email)){r=s.email;const a=Ut(me(t.firestore,"projects"),zt("owner","==",r));de(a).then(c=>{t.data=[...c.docs.map(l=>({...l.data(),id:l.id}))]})}});return function(s){return o.apply(this,arguments)}}()),console.log("done")})()}static{this.\u0275fac=function(i){return new(i||n)(E(Se),E(nt),E(Be),E(Ze))}}static{this.\u0275cmp=xe({type:n,selectors:[["app-projects"]],decls:23,vars:1,consts:[[1,"center"],[1,"subTituloText"],[1,"scanbutton"],[1,"scantext",3,"click"],[1,"list"],[1,"integrantes"],[4,"ngFor","ngForOf"],["id","agregar",1,"boton",3,"click"],[1,"muestras",3,"click"],[1,"detalles",3,"click"],[1,"edit",3,"click"]],template:function(i,r){1&i&&(p(0,"p"),m(1,"projects works!"),f(),p(2,"div",0)(3,"h1",1),m(4,"Proyectos"),f(),p(5,"div",2)(6,"div",3),Q("click",function(){return r.Scan()}),m(7,"SCAN"),f()(),p(8,"div",4)(9,"table")(10,"tr")(11,"th"),m(12," Nombre "),f(),p(13,"th"),m(14," Due\xf1o "),f(),p(15,"th",5),m(16," Integrantes"),f(),p(17,"th"),m(18," Clientes "),f(),Y(19,"th"),f(),Sn(20,HPe,13,4,"tr",6),f(),p(21,"button",7),Q("click",function(){return r.newProject()}),m(22," Agregar "),f()()()),2&i&&(V(20),Lt("ngForOf",r.data))},dependencies:[Lr],styles:[".center[_ngcontent-%COMP%]{display:block}.list[_ngcontent-%COMP%]{position:absolute;margin:10px;left:15%;top:38%}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{cursor:pointer;width:153px;height:36px;left:45%;top:30%;position:absolute;background:#4c9eff;border-radius:30px;box-shadow:2px 2px 5px #000}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:56px;letter-spacing:0;text-shadow:2px 2px 5px black;left:40%;top:20%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}@media only screen and (max-width: 768px){.list[_ngcontent-%COMP%]{position:absolute;margin:0;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.boton[_ngcontent-%COMP%]{position:absolute;left:80%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;text-shadow:2px 2px 5px black;left:30%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}.scanbutton[_ngcontent-%COMP%]{cursor:pointer;width:153px;height:36px;left:30%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}}@media only screen and (min-width: 1536px){.center[_ngcontent-%COMP%]{display:block;width:1200px;position:absolute;left:50%;top:50%;transform:translate(-50%,-60%)}.scanbutton[_ngcontent-%COMP%]{position:relative;width:153px;height:36px;left:49%;top:22%;position:absolute;background:#4c9eff;border-radius:30px;box-shadow:2px 2px 5px #000}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:relative;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:relative;margin:0;width:400px;height:64px;font-family:Verdana;font-size:56px;letter-spacing:0;text-shadow:2px 2px 5px black;left:500px;top:0%}.list[_ngcontent-%COMP%]{position:relative;width:1000px;margin:10px;left:200px;top:100px}}"]})}}return n})();function GPe(n,e){if(1&n){const t=ft();p(0,"tr")(1,"td"),m(2),f(),p(3,"td"),m(4),f(),p(5,"td"),m(6),f(),p(7,"td"),m(8),f(),p(9,"td")(10,"button",5),Q("click",function(){const o=Ae(t).$implicit;return ke(Tt().infoMuestra(o.codigo))}),p(11,"div",6),m(12,"Informaci\xf3n"),f()(),p(13,"button",7),Q("click",function(){const o=Ae(t).$implicit;return ke(Tt().editMuestra(o.codigo))}),p(14,"div",8),m(15,"Editar"),f()(),p(16,"button",9),Q("click",function(){const o=Ae(t).$implicit;return ke(Tt().Barcode(o.codigo))}),p(17,"div",10),m(18,"Imprimir"),f()()()()}if(2&n){const t=e.$implicit;V(2),Ve(t.codigo),V(2),Ve(t.fecha),V(2),Ve(t.cultivo),V(2),Ve(t.coordenadas)}}let qPe=(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.location=s,this.data=[]}ngOnInit(){this.route.params.subscribe(t=>{this.up=t.up}),this.MyQuery()}getData(){const t=me(this.firestore,"muestras");de(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}updateData(t){const i=Ce(this.firestore,"muestras",t);Qi(i,{}).then(()=>{alert("Data updated"),this.getData()}).catch(r=>{alert(r.message)})}deleteData(t){const i=Ce(this.firestore,"muestras",t);gn(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["user/projects"])}logOut(){si(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}newMuestra(t){this.router.navigate(["user/muestras-new/"+t])}editMuestra(t){this.router.navigate(["user/muestras-edit/"+t])}infoUnidad(t){this.router.navigate(["user/unidad-produccion-info/"+t])}infoMuestra(t){this.router.navigate(["user/muestras-info/"+t])}Barcode(t){this.router.navigate(["user/barcode/"+t])}backPage(){this.location.back()}MyQuery(){var t=this;return _(function*(){let i=t.up;const r=Ut(me(t.firestore,"muestras"),zt("unidad","==",i));de(r).then(s=>{t.data=[...s.docs.map(a=>({...a.data(),id:a.id}))]}),(yield de(r)).forEach(s=>{})})()}static{this.\u0275fac=function(i){return new(i||n)(E(Se),E(nt),E(Be),E(Ze),E(ii))}}static{this.\u0275cmp=xe({type:n,selectors:[["app-muestras"]],decls:20,vars:1,consts:[[1,"subTituloText"],[1,"list"],[4,"ngFor","ngForOf"],["id","agregar",1,"boton",3,"click"],["id","volver",1,"boton",3,"click"],[1,"detalles",3,"click"],[1,"detalles-tip"],[1,"edit",3,"click"],[1,"edit-tip"],[1,"imprimir",3,"click"],[1,"imprimir-tip"]],template:function(i,r){1&i&&(p(0,"p"),m(1,"muestras works!"),f(),p(2,"h1",0),m(3,"Muestras"),f(),p(4,"div",1)(5,"table")(6,"tr")(7,"th"),m(8," Codigo "),f(),p(9,"th"),m(10," Fecha "),f(),p(11,"th"),m(12," Cultivo"),f(),p(13,"th"),m(14," Coordenadas "),f(),Y(15,"th"),f(),Sn(16,GPe,19,4,"tr",2),f(),p(17,"button",3),Q("click",function(){return r.newMuestra(r.up)}),m(18," Agregar "),f(),p(19,"button",4),Q("click",function(){return r.backPage()}),f()()),2&i&&(V(16),Lt("ngForOf",r.data))},dependencies:[Lr],styles:[".list[_ngcontent-%COMP%]{position:absolute;left:38%;top:30%}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.projectBlock[_ngcontent-%COMP%]{width:60%;height:35px;background:#3ec28f;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:20px;font-weight:700;letter-spacing:0;cursor:pointer}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{cursor:pointer;width:153px;height:36px;left:49%;top:30%;position:absolute;background:#4c9eff;border-radius:30px;box-shadow:2px 2px 5px #000}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}#volver[_ngcontent-%COMP%]{position:absolute;left:0%;border:none;width:50px;height:50px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(back-button-Edit4.8567daeed3ab1418.png)}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;text-shadow:2px 2px 5px black;left:45%;top:20%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.edit[_ngcontent-%COMP%]:hover   .edit-tip[_ngcontent-%COMP%]{display:block;opacity:1;transition:.5s}.edit-tip[_ngcontent-%COMP%]{display:none;position:relative;background-color:#2f3033;color:#fff;padding:5px;width:-moz-fit-content;width:fit-content;margin:5px;top:100%;left:0;opacity:0;transition:.5s;z-index:100;border-radius:3px;font-weight:700;font-family:Trebuchet MS,sans-serif}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.detalles[_ngcontent-%COMP%]:hover   .detalles-tip[_ngcontent-%COMP%]{display:block;opacity:1;transition:.5s}.detalles-tip[_ngcontent-%COMP%]{display:none;position:relative;background-color:#2f3033;color:#fff;padding:5px;width:-moz-fit-content;width:fit-content;margin:5px;top:100%;left:0;opacity:0;transition:.5s;z-index:100;border-radius:3px;font-weight:700;font-family:Trebuchet MS,sans-serif}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.imprimir[_ngcontent-%COMP%]:hover   .imprimir-tip[_ngcontent-%COMP%]{display:block;opacity:1;transition:.5s}.imprimir-tip[_ngcontent-%COMP%]{display:none;position:relative;background-color:#2f3033;color:#fff;padding:5px;width:-moz-fit-content;width:fit-content;margin:5px;top:100%;left:0;opacity:0;transition:.5s;z-index:100;border-radius:3px;font-weight:700;font-family:Trebuchet MS,sans-serif}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.projectBlock[_ngcontent-%COMP%]{width:60%;height:25px;background:#3ec28f;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:14px;font-weight:700;letter-spacing:0;cursor:pointer}.list[_ngcontent-%COMP%]{position:absolute;left:5%;top:45%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:153px;height:36px;left:30%;top:35%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:80%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}#volver[_ngcontent-%COMP%]{position:absolute;left:0%;width:30px;height:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;left:30%;top:27%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}}return n})(),WPe=(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.location=s,this.data=[],this.num=1}ngOnInit(){let t;this.route.params.subscribe(i=>{this.item=i.id,t=i.id,console.log(i),this.generateBarcode(t)})}handleRegister(t){console.log(t.cantidad),this.toPrint(t.cantidad)}generateBarcode(t){var r=t;this.res=r,Hw("#barcode",r,{format:"CODE128"})}generateSVG(t,i){for(let r=0;r<t;r++){const o=document.createElement("div"),s=document.createElement("svg");o.setAttribute("class","subcode"),s.setAttribute("id","barcode"+r),document.getElementById("codes")?.appendChild(s)}}toPrint(t){window.open("#/print/"+this.res+"/"+t,"_blank")}sleep(t){return _(function*(){return new Promise(i=>setTimeout(i,t))})()}backPage(){this.location.back()}static{this.\u0275fac=function(i){return new(i||n)(E(Se),E(nt),E(Be),E(Ze),E(ii))}}static{this.\u0275cmp=xe({type:n,selectors:[["app-barcode"]],decls:13,vars:1,consts:[["id","barcode"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],["name","cantidad","ngModel","","placeholder","N\xb0","id","cantidad","type","number","min","1","max","5",1,"input-field",3,"ngModel","ngModelChange"],[1,"print"],["id","volver",3,"click"]],template:function(i,r){if(1&i){const o=ft();p(0,"p"),m(1,"barcode works!"),f(),Q_(),Y(2,"svg",0),jC(),p(3,"form",1,2),Q("ngSubmit",function(){Ae(o);const a=un(4);return ke(r.handleRegister(a.value))}),p(5,"div",3)(6,"div",4)(7,"span",5),m(8,"Cantidad: "),f(),p(9,"input",6),st("ngModelChange",function(a){return dt(r.num,a)||(r.num=a),a}),f()(),p(10,"button",7),m(11,"Imprimir"),f()()(),p(12,"button",8),Q("click",function(){return r.backPage()}),f()}2&i&&(V(9),ot("ngModel",r.num))},dependencies:[Vn,Ui,OI,vr,Ln,VI,LI,rr,xn],styles:[".main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:40%;top:50%}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:56px;letter-spacing:0;text-shadow:2px 2px 5px black;left:45%;top:20%}.input-fields[_ngcontent-%COMP%]{position:inherit;width:180px;top:25px}.Text[_ngcontent-%COMP%]{display:inline;font-family:Arial;text-align:center;font-size:24px;font-weight:700}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{height:20px;width:40px;font-size:16px}.print[_ngcontent-%COMP%]{position:inherit;left:200px}svg[_ngcontent-%COMP%]{position:absolute;left:44%;top:32%}button[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:24px;font-weight:700;cursor:pointer;border-radius:30px}#volver[_ngcontent-%COMP%]{font-size:16px;position:absolute;left:35%;top:20%;border:none;width:50px;height:50px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(back-button-Edit4.8567daeed3ab1418.png)}#barcode[_ngcontent-%COMP%]{display:inline;border:2px solid rgb(0,0,0);box-shadow:2px 2px 5px #000}@media only screen and (max-width: 768px){.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:60%;height:20%;left:36%;top:60%}.input-fields[_ngcontent-%COMP%]{position:inherit;width:130px;top:25px}.Text[_ngcontent-%COMP%]{display:inline;font-family:Arial;text-align:center;font-size:20px}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{height:20px;width:20px;font-size:16px}.print[_ngcontent-%COMP%]{position:absolute;left:33%;top:45%;font-size:16px}#test[_ngcontent-%COMP%]{position:absolute;left:30%;top:60%;display:none}#codes[_ngcontent-%COMP%]{position:absolute;left:30%;top:35%}svg[_ngcontent-%COMP%]{position:absolute;left:25%;top:30%;margin:15px 0}.space[_ngcontent-%COMP%]{height:200px}#barcode[_ngcontent-%COMP%]{display:inline;border:2px solid rgb(0,0,0);box-shadow:2px 2px 5px #000}button[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:20px;font-weight:700;cursor:pointer;border-radius:30px}#volver[_ngcontent-%COMP%]{font-size:16px;position:absolute;left:28%;top:70%;border:none;width:36px;height:36px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(back-button-Edit4.8567daeed3ab1418.png)}}"]})}}return n})();const KPe=["div"];let QPe=(()=>{class n{constructor(t,i,r){this.auth=t,this.firestore=i,this.renderer=r,this.title="gestion-de-muestras-de-campo",this.data=[],this.getData(),this.index=1}randomCode(){let t="";for(let o=0;o<20;o++)t+="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".charAt(Math.floor(62*Math.random()));return t}handleRegister(t){this.addData(t)}addData(t){var i=this;return _(function*(){i.randomCode();let s=t.integrantes.split(/[\s,]+/);const a=Ce(i.firestore,"projects",t.name);Er(a,{name:t.name,cliente:t.cliente,owner:t.owner,integrantes:s}).then(()=>{alert("Data Sent")}).catch(c=>{alert(c.message)})})()}getData(){const t=me(this.firestore,"projects");de(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}static{this.\u0275fac=function(i){return new(i||n)(E(Be),E(Ze),E(Lo))}}static{this.\u0275cmp=xe({type:n,selectors:[["app-project-new"]],viewQuery:function(i,r){if(1&i&&Fn(KPe,5),2&i){let o;yn(o=vn())&&(r.div=o.first)}},decls:26,vars:0,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],["name","name","ngModel","","placeholder","Name","id","name","type","name",1,"input-field"],["name","owner","ngModel","","placeholder","Owner","id","owner","type","owner",1,"input-field"],["name","integrantes","ngModel","","placeholder","Integrantes","id","integrantes","type","integrantes",1,"input-field"],["name","cliente","ngModel","","placeholder","Cliente","id","cliente","type","cliente",1,"input-field"],[1,"boton"]],template:function(i,r){if(1&i){const o=ft();p(0,"p"),m(1,"project-new works!"),f(),p(2,"h1",0),m(3,"Nuevo Proyecto"),f(),p(4,"div",1)(5,"form",2,3),Q("ngSubmit",function(){Ae(o);const a=un(6);return ke(r.handleRegister(a.value))}),p(7,"div",4)(8,"div",5)(9,"span",6),m(10,"Name:"),f(),Y(11,"input",7),f(),p(12,"div",5)(13,"span",6),m(14,"Owner:"),f(),Y(15,"input",8),f(),p(16,"div",5)(17,"span",6),m(18,"Integrantes:"),f(),Y(19,"input",9),f(),p(20,"div",5)(21,"span",6),m(22,"Cliente:"),f(),Y(23,"input",10),f(),p(24,"button",11),m(25,"Crear Proyecto"),f()()()()}},dependencies:[Vn,Ui,vr,Ln,rr,xn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:45%;flex-shrink:0;position:absolute;left:15%;top:30%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:3%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:85%;height:20px;left:92px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:35%;top:20%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:85%;top:110%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:85%;height:50%;flex-shrink:0;position:absolute;left:7%;top:30%}.input-field[_ngcontent-%COMP%]{margin:10px 10px 10px 20px;width:85%;height:20px;left:92px}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:20px;font-family:Arial;font-size:16px;letter-spacing:0}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:3%;top:3%}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:75%;top:110%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}@media only screen and (min-width: 1536px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:1000px;height:400px;flex-shrink:0;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}.boton[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(310px)}.subTituloText[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%)}}"]})}}return n})();const kY="firebasestorage.googleapis.com",OY="storageBucket";class Pn extends Ur{constructor(e,t,i=0){super(S2(e),`Firebase Storage: ${t} (${S2(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Pn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return S2(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Tn=function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n}(Tn||{});function S2(n){return"storage/"+n}function A2(){return new Pn(Tn.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function k2(n){return new Pn(Tn.INVALID_ARGUMENT,n)}function FY(){return new Pn(Tn.APP_DELETED,"The Firebase app was deleted.")}function b_(n,e){return new Pn(Tn.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function y_(n){throw new Pn(Tn.INTERNAL_ERROR,"Internal error: "+n)}class Ir{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=Ir.makeFromUrl(e,t)}catch{return new Ir(e,"")}if(""===i.path)return i;throw function oRe(n){return new Pn(Tn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let i=null;const r="([A-Za-z0-9.\\-_]+)",a=new RegExp("^gs://"+r+"(/(.*))?$","i");function l(W){W.path_=decodeURIComponent(W.path)}const d=t.replace(/[.]/g,"\\."),N=[{regex:a,indices:{bucket:1,path:3},postModify:function o(W){"/"===W.path.charAt(W.path.length-1)&&(W.path_=W.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${d}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:l},{regex:new RegExp(`^https?://${t===kY?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:l}];for(let W=0;W<N.length;W++){const re=N[W],ue=re.regex.exec(e);if(ue){let Qe=ue[re.indices.path];Qe||(Qe=""),i=new Ir(ue[re.indices.bucket],Qe),re.postModify(i);break}}if(null==i)throw function rRe(n){return new Pn(Tn.INVALID_URL,"Invalid URL '"+n+"'.")}(e);return i}}class dRe{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function Tx(n){return"string"==typeof n||n instanceof String}function LY(n){return O2()&&n instanceof Blob}function O2(){return typeof Blob<"u"&&!W9()}function P2(n,e,t,i){if(i<e)throw k2(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw k2(`Invalid value for '${n}'. Expected ${t} or less.`)}function Da(n,e,t){let i=e;return null==t&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function VY(n){const e=encodeURIComponent;let t="?";for(const i in n)n.hasOwnProperty(i)&&(t=t+(e(i)+"=")+e(n[i])+"&");return t=t.slice(0,-1),t}var hf=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}(hf||{});class _Re{constructor(e,t,i,r,o,s,a,c,l,u,d,h=!0){this.url_=e,this.method_=t,this.headers_=i,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=c,this.timeout_=l,this.progressCallback_=u,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,y)=>{this.resolve_=g,this.reject_=y,this.start_()})}start_(){const t=(i,r)=>{const o=this.resolve_,s=this.reject_,a=r.connection;if(r.wasSuccessCode)try{const c=this.callback_(a,a.getResponse());!function pRe(n){return void 0!==n}(c)?o():o(c)}catch(c){s(c)}else if(null!==a){const c=A2();c.serverResponse=a.getErrorText(),s(this.errorCallback_?this.errorCallback_(a,c):c)}else s(r.canceled?this.appDelete_?FY():function RY(){return new Pn(Tn.CANCELED,"User canceled the upload/download.")}():function PY(){return new Pn(Tn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())};this.canceled_?t(0,new Ix(!1,null,!0)):this.backoffId_=function hRe(n,e,t){let i=1,r=null,o=null,s=!1,a=0;function c(){return 2===a}let l=!1;function u(...T){l||(l=!0,e.apply(null,T))}function d(T){r=setTimeout(()=>{r=null,n(g,c())},T)}function h(){o&&clearTimeout(o)}function g(T,...S){if(l)return void h();if(T)return h(),void u.call(null,T,...S);if(c()||s)return h(),void u.call(null,T,...S);let N;i<64&&(i*=2),1===a?(a=2,N=0):N=1e3*(i+Math.random()),d(N)}let y=!1;function C(T){y||(y=!0,h(),!l&&(null!==r?(T||(a=2),clearTimeout(r),d(0)):T||(a=1)))}return d(0),o=setTimeout(()=>{s=!0,C(!0)},t),C}((i,r)=>{if(r)return void i(!1,new Ix(!1,null,!0));const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{null!==this.progressCallback_&&this.progressCallback_(a.loaded,a.lengthComputable?a.total:-1)};null!==this.progressCallback_&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===hf.NO_ERROR,c=o.getStatus();if(!a||function BY(n,e){const t=n>=500&&n<600,r=-1!==[408,429].indexOf(n),o=-1!==e.indexOf(n);return t||r||o}(c,this.additionalRetryCodes_)&&this.retry){const u=o.getErrorCode()===hf.ABORT;return void i(!1,new Ix(!1,null,u))}const l=-1!==this.successCodes_.indexOf(c);i(!0,new Ix(l,o))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function fRe(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Ix{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function ERe(...n){const e=function CRe(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}if(O2())return new Blob(n);throw new Pn(Tn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Xo={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class R2{constructor(e,t){this.data=e,this.contentType=t||null}}function zY(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);i<=127?e.push(i):i<=2047?e.push(192|i>>6,128|63&i):55296==(64512&i)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++t),e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):e.push(239,191,189):56320==(64512&i)?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(e)}function jY(n,e){switch(n){case Xo.BASE64:{const r=-1!==e.indexOf("-"),o=-1!==e.indexOf("_");if(r||o)throw b_(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case Xo.BASE64URL:{const r=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(r||o)throw b_(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function IRe(n){if(typeof atob>"u")throw function lRe(n){return new Pn(Tn.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(e)}catch(r){throw r.message.includes("polyfill")?r:b_(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}class HY{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw b_(Xo.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;null!=i&&(this.base64=function ARe(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}class Sa{constructor(e,t){let i=0,r="";LY(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(LY(this.data_)){const r=function TRe(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===r?null:new Sa(r)}{const i=new Uint8Array(this.data_.buffer,e,t-e);return new Sa(i,!0)}}static getBlob(...e){if(O2()){const t=e.map(i=>i instanceof Sa?i.data_:i);return new Sa(ERe.apply(null,t))}{const t=e.map(s=>Tx(s)?function UY(n,e){switch(n){case Xo.RAW:return new R2(zY(e));case Xo.BASE64:case Xo.BASE64URL:return new R2(jY(n,e));case Xo.DATA_URL:return new R2(function DRe(n){const e=new HY(n);return e.base64?jY(Xo.BASE64,e.rest):function MRe(n){let e;try{e=decodeURIComponent(n)}catch{throw b_(Xo.DATA_URL,"Malformed data URL.")}return zY(e)}(e.rest)}(e),function SRe(n){return new HY(n).contentType}(e))}throw A2()}(Xo.RAW,s).data:s.data_);let i=0;t.forEach(s=>{i+=s.byteLength});const r=new Uint8Array(i);let o=0;return t.forEach(s=>{for(let a=0;a<s.length;a++)r[o++]=s[a]}),new Sa(r,!0)}}uploadData(){return this.data_}}function N2(n){let e;try{e=JSON.parse(n)}catch{return null}return function mRe(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function $Y(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function PRe(n,e){return e}class Mr{constructor(e,t,i,r){this.server=e,this.local=t||e,this.writable=!!i,this.xform=r||PRe}}let Mx=null;function v_(){if(Mx)return Mx;const n=[];n.push(new Mr("bucket")),n.push(new Mr("generation")),n.push(new Mr("metageneration")),n.push(new Mr("name","fullPath",!0));const t=new Mr("name");t.xform=function e(o,s){return function RRe(n){return!Tx(n)||n.length<2?n:$Y(n)}(s)},n.push(t);const r=new Mr("size");return r.xform=function i(o,s){return void 0!==s?Number(s):s},n.push(r),n.push(new Mr("timeCreated")),n.push(new Mr("updated")),n.push(new Mr("md5Hash",null,!0)),n.push(new Mr("cacheControl",null,!0)),n.push(new Mr("contentDisposition",null,!0)),n.push(new Mr("contentEncoding",null,!0)),n.push(new Mr("contentLanguage",null,!0)),n.push(new Mr("contentType",null,!0)),n.push(new Mr("metadata","customMetadata",!0)),Mx=n,Mx}function GY(n,e,t){const i=N2(e);return null===i?null:function FRe(n,e,t){const i={type:"file"},r=t.length;for(let o=0;o<r;o++){const s=t[o];i[s.local]=s.xform(i,e[s.server])}return function NRe(n,e){Object.defineProperty(n,"ref",{get:function t(){const o=new Ir(n.bucket,n.fullPath);return e._makeStorageReference(o)}})}(i,n),i}(n,i,t)}class js{constructor(e,t,i,r){this.url=e,this.method=t,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Hs(n){if(!n)throw A2()}function ff(n){return function e(t,i){let r;return r=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function nRe(){return new Pn(Tn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function tRe(){return new Pn(Tn.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function eRe(n){return new Pn(Tn.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function iRe(n){return new Pn(Tn.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):i,r.status=t.getStatus(),r.serverResponse=i.serverResponse,r}}function XY(n,e,t,i,r){const o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},c=function a(){let N="";for(let W=0;W<2;W++)N+=Math.random().toString().slice(2);return N}();s["Content-Type"]="multipart/related; boundary="+c;const l=function YY(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=function qRe(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),i}(e,i,r),u=function F2(n,e){const t={},i=e.length;for(let r=0;r<i;r++){const o=e[r];o.writable&&(t[o.server]=n[o.local])}return JSON.stringify(t)}(l,t),g=Sa.getBlob("--"+c+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+u+"\r\n--"+c+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",i,"\r\n--"+c+"--");if(null===g)throw function NY(){return new Pn(Tn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}();const y={name:l.fullPath},C=Da(o,n.host,n._protocol),S=n.maxUploadRetryTime,D=new js(C,"POST",function Dx(n,e){return function t(i,r){const o=GY(n,r,e);return Hs(null!==o),o}}(n,t),S);return D.urlParams=y,D.headers=s,D.body=g.uploadData(),D.errorHandler=ff(e),D}let JY=null;class XRe{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=hf.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=hf.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=hf.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,r){if(this.sent_)throw y_("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const o in r)r.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,r[o].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw y_("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw y_("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw y_("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw y_("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class ZRe extends XRe{initXhr(){this.xhr_.responseType="text"}}function Zo(){return JY?JY():new ZRe}class yu{constructor(e,t){this._service=e,this._location=t instanceof Ir?t:Ir.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new yu(e,t)}get root(){const e=new Ir(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return $Y(this._location.path)}get storage(){return this._service}get parent(){const e=function kRe(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new Ir(this._location.bucket,e);return new yu(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function uRe(n){return new Pn(Tn.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function dNe(n){n._throwIfRoot("getDownloadURL");const e=function HRe(n,e,t){const r=Da(e.fullServerUrl(),n.host,n._protocol),s=n.maxOperationRetryTime,a=new js(r,"GET",function zRe(n,e){return function t(i,r){const o=GY(n,r,e);return Hs(null!==o),function LRe(n,e,t,i){const r=N2(e);if(null===r||!Tx(r.downloadTokens))return null;const o=r.downloadTokens;if(0===o.length)return null;const s=encodeURIComponent;return o.split(",").map(l=>{const d=n.fullPath;return Da("/b/"+s(n.bucket)+"/o/"+s(d),t,i)+VY({alt:"media",token:l})})[0]}(o,r,n.host,n._protocol)}}(n,t),s);return a.errorHandler=function w_(n){const e=ff(n);return function t(i,r){let o=e(i,r);return 404===i.getStatus()&&(o=function JPe(n){return new Pn(Tn.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),o.serverResponse=r.serverResponse,o}}(e),a}(n.storage,n._location,v_());return n.storage.makeRequestWithTokens(e,Zo).then(t=>{if(null===t)throw function cRe(){return new Pn(Tn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return t})}function rX(n,e){if(n instanceof U2){const t=n;if(null==t._bucket)throw function sRe(){return new Pn(Tn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+OY+"' property when initializing the app?")}();const i=new yu(t,t._bucket);return null!=e?rX(i,e):i}return void 0!==e?function iX(n,e){const t=function ORe(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),i=new Ir(n._location.bucket,t);return new yu(n.storage,i)}(n,e):n}function oX(n,e){const t=e?.[OY];return null==t?null:Ir.makeFromBucketSpec(t,n)}class U2{constructor(e,t,i,r,o){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=r,this._firebaseVersion=o,this._bucket=null,this._host=kY,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Ir.makeFromBucketSpec(r,this._host):oX(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Ir.makeFromBucketSpec(this._url,e):oX(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){P2("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){P2("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return _(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const i=yield t.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var e=this;return _(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new yu(this,e)}_makeRequest(e,t,i,r,o=!0){if(this._deleted)return new dRe(FY());{const s=function xRe(n,e,t,i,r,o,s=!0){const a=VY(n.urlParams),c=n.url+a,l=Object.assign({},n.headers);return function vRe(n,e){e&&(n["X-Firebase-GMPID"]=e)}(l,e),function bRe(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(l,t),function yRe(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(l,o),function wRe(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(l,i),new _Re(c,n.method,l,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,s)}(e,this._appId,i,r,t,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,t){var i=this;return _(function*(){const[r,o]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(e,t,r,o).getPromise()})()}}const sX="@firebase/storage",cX="storage";function lX(n,e,t){return function eX(n,e,t){n._throwIfRoot("uploadBytes");const i=XY(n.storage,n._location,v_(),new Sa(e,!0),t);return n.storage.makeRequestWithTokens(i,Zo).then(r=>({metadata:r,ref:n}))}(n=kt(n),e,t)}function uX(n){return dNe(n=kt(n))}function dX(n,e){return function gNe(n,e){if(e&&function fNe(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof U2)return function pNe(n,e){return new yu(n,e)}(n,e);throw k2("To use ref(service, url), the first argument must be a Storage instance.")}return rX(n,e)}(n=kt(n),e)}function hX(n=th(),e){const i=aa(n=kt(n),cX).getImmediate({identifier:e}),r=Av("storage");return r&&function _Ne(n,e,t,i={}){!function mNe(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:_M(r,n.app.options.projectId))}(n,e,t,i)}(i,...r),i}function bNe(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new U2(t,i,r,e,la)}!function yNe(){Ci(new bi(cX,bNe,"PUBLIC").setMultipleInstances(!0)),Pt(sX,"0.11.2",""),Pt(sX,"0.11.2","esm2017")}();const vNe=["geo"];let wNe=(()=>{class n{static{this.text=""}constructor(t,i,r,o,s){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.location=s,this.title="gestion-de-muestras-de-campo",this.data=[],this.res="",this.email="",this.fotoUrls={},this.somethingChange=new We}ngOnInit(){this.route.params.subscribe(t=>{this.pid=t.id})}onFileSelected(t,i){var r=this;return _(function*(){const o=t.target.files[0];if(o){const a=dX(hX(),`muestras/${r.res}/${i}/${o.name}`);try{const c=yield lX(a,o),l=yield uX(c.ref);r.fotoUrls[i]=l,alert(`Imagen de ${i} subida con \xe9xito.`)}catch(c){console.error("Error al subir la imagen:",c),alert("Ocurri\xf3 un error al guardar la imagen.")}}})()}handleRegister(t){this.addData({...t,fotos:this.fotoUrls}),this.Home()}addData(t){const i=Ce(this.firestore,"muestras",t.codigo);Er(i,{codigo:t.codigo,cliente:t.cliente,fecha:t.fecha,cultivo:t.cultivo,tipo:t.tipo,fitopatogeno:t.fitopatogeno,repeticion:t.repeticion,coordenadas:t.coordenadas,sintomas:t.sintomas,comentarios:t.comentarios,unidad:this.pid,lote:t.lote,fotos:t.fotos}).then(()=>{alert("Data Sent")}).catch(r=>{alert(r.message)})}getData(){const t=me(this.firestore,"muestras");de(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}Home(){this.router.navigate(["user/unidad-produccion-all"])}convertDecimalToDMS(t,i){const r=Math.floor(Math.abs(t)),o=60*(Math.abs(t)-r),s=Math.floor(o);let c="";return c=i?t>=0?"N":"S":t>=0?"E":"W",`${r}\xb0 ${s}' ${(60*(o-s)).toFixed(2)}'' ${c}`}showPosition(t){var r=t.coords.longitude,o=t.coords.latitude.toFixed(6),s=r.toFixed(6);n.text=o+", "+s}getLocation(){var t=this;return _(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{t.res=n.text,console.log(t.res)},1e3)})()}backPage(){this.location.back()}static{this.\u0275fac=function(i){return new(i||n)(E(Se),E(nt),E(Be),E(Ze),E(ii))}}static{this.\u0275cmp=xe({type:n,selectors:[["app-muestras-new"]],viewQuery:function(i,r){if(1&i&&Fn(vNe,5),2&i){let o;yn(o=vn())&&(r.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:88,vars:1,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],["name","codigo","ngModel","","placeholder","Codigo","id","codigo","type","codigo",1,"input-field"],["name","cliente","ngModel","","placeholder","Cliente","id","cliente","type","cliente",1,"input-field"],["name","fecha","ngModel","","placeholder","Fecha","id","fecha","type","date",1,"input-field"],["name","cultivo","ngModel","","placeholder","Cultivo","id","cultivo","type","cultivo",1,"input-field"],["list","tipos","name","tipo","ngModel","","placeholder","Tipo","id","tipo","type","tipo",1,"input-field"],["value","","disabled","","selected",""],["value","Hibrido"],["value","Variedad"],["value","Clone"],["list","fitopatogenos","name","fitopatogeno","ngModel","","placeholder","Fitopat\xf3geno","id","fitopatogeno","type","fitopatogeno",1,"input-field"],["value","Hongos"],["value","Bacterias"],["value","Virus"],["name","lote","ngModel","","placeholder","Lote","id","lote","type","lote",1,"input-field"],["name","repeticion","ngModel","","placeholder","Repeticion","id","repeticion","type","repeticion",1,"input-field"],["name","coordenadas","ngModel","","placeholder","Coordenadas","id","coordenadas","type","coordenadas",1,"input-field",3,"ngModel","ngModelChange"],[1,"bUbicacion",3,"click"],["src","../../../../assets/Ubicacion.png","alt","U"],[1,"subTituloSeccion"],["name","foto-inicial","type","file",1,"input-field-2",3,"change"],["name","foto-tipico","type","file",1,"input-field-2",3,"change"],["name","foto-tardios","type","file",1,"input-field-2",3,"change"],["name","sintomas","ngModel","","placeholder","S\xedntomas","id","sintomas","type","sintomas",1,"input-field"],["name","comentarios","ngModel","","placeholder","Comentarios","id","comentarios","type","comentarios",1,"input-field"],[1,"boton"],["id","volver",1,"boton",3,"click"],[1,"blank"]],template:function(i,r){if(1&i){const o=ft();p(0,"p"),m(1,"muestras-new works!"),f(),p(2,"h1",0),m(3,"Nueva Muestra"),f(),p(4,"div",1)(5,"form",2,3),Q("ngSubmit",function(){Ae(o);const a=un(6);return ke(r.handleRegister(a.value))}),p(7,"div",4)(8,"div",5)(9,"span",6),m(10,"Codigo:"),f(),Y(11,"input",7),f(),p(12,"div",5)(13,"span",6),m(14,"Cliente:"),f(),Y(15,"input",8),f(),p(16,"div",5)(17,"span",6),m(18,"Fecha:"),f(),Y(19,"input",9),f(),p(20,"div",5)(21,"span",6),m(22,"Cultivo:"),f(),Y(23,"input",10),f(),p(24,"div",5)(25,"span",6),m(26,"Tipo:"),f(),p(27,"select",11)(28,"option",12),m(29,"Seleccione un estado"),f(),p(30,"option",13),m(31," Hibrido "),f(),p(32,"option",14),m(33," Variedad "),f(),p(34,"option",15),m(35," Clone "),f()()(),p(36,"div",5)(37,"span",6),m(38,"Fitopat\xf3geno:"),f(),p(39,"select",16)(40,"option",12),m(41,"Seleccione un estado"),f(),p(42,"option",17),m(43," Hongos "),f(),p(44,"option",18),m(45," Bacterias "),f(),p(46,"option",19),m(47," Virus "),f()()(),p(48,"div",5)(49,"span",6),m(50,"Lote:"),f(),Y(51,"input",20),f(),p(52,"div",5)(53,"span",6),m(54,"Repetici\xf3n:"),f(),Y(55,"input",21),f(),p(56,"div",5)(57,"span",6),m(58,"Coordenadas:"),f(),p(59,"input",22),st("ngModelChange",function(a){return dt(r.res,a)||(r.res=a),a}),f(),p(60,"div",23),Q("click",function(){return r.getLocation()}),Y(61,"img",24),f()(),p(62,"h2",25),m(63,"Soporte Fotogr\xe1fico"),f(),p(64,"div",5)(65,"span",6),m(66,"Iniciales:"),f(),p(67,"input",26),Q("change",function(a){return r.onFileSelected(a,"inicial")}),f()(),p(68,"div",5)(69,"span",6),m(70,"T\xedpico:"),f(),p(71,"input",27),Q("change",function(a){return r.onFileSelected(a,"tipico")}),f()(),p(72,"div",5)(73,"span",6),m(74,"Tard\xedos:"),f(),p(75,"input",28),Q("change",function(a){return r.onFileSelected(a,"tardios")}),f()(),p(76,"div",5)(77,"span",6),m(78,"S\xedntomas:"),f(),Y(79,"input",29),f(),p(80,"div",5)(81,"span",6),m(82,"Comentarios:"),f(),Y(83,"input",30),f(),p(84,"button",31),m(85,"Crear Muestra"),f(),p(86,"button",32),Q("click",function(){return r.backPage()}),f()()()(),Y(87,"div",33)}2&i&&(V(59),ot("ngModel",r.res))},dependencies:[Vn,oc,sc,Ui,rc,vr,Ln,rr,xn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:65%;min-height:680px;position:absolute;left:50%;top:25%;transform:translate(-30%);margin:25px auto;padding:20px;display:flex;flex-shrink:0;flex-direction:column;justify-content:flex-start;align-items:center}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:3%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:85%;height:20px;position:relative;left:0}.input-field-2[_ngcontent-%COMP%]{margin:0;height:20px;position:relative;left:0}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:50%;top:17%;transform:translate(-50%)}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:143px;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}.subTituloSeccion[_ngcontent-%COMP%]{color:#000;font-family:Verdana;font-size:20px;text-align:left;margin-top:8px;margin-bottom:10px;left:0;width:100%}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;margin-left:5px;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:80%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}#volver[_ngcontent-%COMP%]{position:absolute;left:0%;border:none;width:50px;height:50px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(back-button-Edit4.8567daeed3ab1418.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}.blank[_ngcontent-%COMP%]{width:100%;height:16px;position:absolute;left:0%;top:110%}@media only screen and (max-width: 768px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:95%;height:68%;flex-shrink:0;position:absolute;left:2.5%;top:38%;transform:none}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.input-field[_ngcontent-%COMP%]{margin:10px 10px 10px 20px;height:20px;left:0}.blank[_ngcontent-%COMP%]{width:100%;height:16px;position:absolute;left:0%;top:110%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:20px;font-family:Arial;font-size:14px;letter-spacing:0}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:3%;top:3%}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:75%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:20px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:28%;transform:none}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}@media only screen and (min-width: 1536px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:850px;height:600px;flex-shrink:0;position:absolute;left:50%;top:50%;transform:translate(-50%,-35%)}.subTituloText[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%)}}"]})}}return n})();class Eo extends vt{constructor(){super(...arguments),this._value=null,this._hasValue=!1,this._isComplete=!1}_checkFinalizedStatuses(e){const{hasError:t,_hasValue:i,_value:r,thrownError:o,isStopped:s,_isComplete:a}=this;t?e.error(o):(s||a)&&(i&&e.next(r),e.complete())}next(e){this.isStopped||(this._value=e,this._hasValue=!0)}complete(){const{_hasValue:e,_value:t,_isComplete:i}=this;i||(this._isComplete=!0,e&&super.next(t),super.complete())}}const xNe=["video"],CNe=["canvas"],ENe=["resultsPanel"],z2="assets/wasm/index.js",x_="https://cdn.jsdelivr.net/npm/ngx-scanner-qrcode@1.6.4/wasm/index.js",fX={audio:!1,video:!0},j2={lineWidth:1,strokeStyle:"green",fillStyle:"#55f02880"},H2={font:"15px serif",strokeStyle:"#fff0",fillStyle:"#ff0000"},Aa={src:"",fps:30,vibrate:300,decode:"utf-8",isBeep:!0,constraints:fX,canvasStyles:[j2,H2]};var Ax=()=>"zbarWasm"in window;const Mt=(n,e,t)=>{t?n.error(t):n.next(e),n.complete()},$2=(n=!1)=>{if(!1===n)return;const e=new Audio("data:audio/mpeg;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU4LjI5LjEwMAAAAAAAAAAAAAAA/+M4wAAAAAAAAAAAAEluZm8AAAAPAAAABQAAAkAAgICAgICAgICAgICAgICAgICAgKCgoKCgoKCgoKCgoKCgoKCgoKCgwMDAwMDAwMDAwMDAwMDAwMDAwMDg4ODg4ODg4ODg4ODg4ODg4ODg4P//////////////////////////AAAAAExhdmM1OC41NAAAAAAAAAAAAAAAACQEUQAAAAAAAAJAk0uXRQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/+MYxAANQAbGeUEQAAHZYZ3fASqD4P5TKBgocg+Bw/8+CAYBA4XB9/4EBAEP4nB9+UOf/6gfUCAIKyjgQ/Kf//wfswAAAwQA/+MYxAYOqrbdkZGQAMA7DJLCsQxNOij///////////+tv///3RWiZGBEhsf/FO/+LoCSFs1dFVS/g8f/4Mhv0nhqAieHleLy/+MYxAYOOrbMAY2gABf/////////////////usPJ66R0wI4boY9/8jQYg//g2SPx1M0N3Z0kVJLIs///Uw4aMyvHJJYmPBYG/+MYxAgPMALBucAQAoGgaBoFQVBUFQWDv6gZBUFQVBUGgaBr5YSgqCoKhIGg7+IQVBUFQVBoGga//SsFSoKnf/iVTEFNRTMu/+MYxAYAAANIAAAAADEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV");e.oncanplaythrough=()=>{const t=e.play();t&&t.catch(i=>{})}},pX=(n,e,t,i)=>{let r,o,s=e.width,a=e.height,c=s/a,l=parseInt(getComputedStyle(e).width),u=parseInt(getComputedStyle(e).height),d=l/u;t.innerHTML="",c>d?(r=l/s,o=l/c/a):(o=u/a,r=u*c/s);for(let h=0;h<n.length;h++){const g=n[h];let y=document.createElement("canvas"),C=y.getContext("2d",{willReadFrequently:!0}),T={},S=[],D=[],N=0,W=0,re=2===i.length&&i[1]?.font?.replace(/[^0-9]/g,"");re&&/[0-9]/g.test(re)&&(N=parseFloat(re),W=(r||1)*N,Number.isNaN(W)&&(W=N));const ue=g.points;for(let jt=0;jt<ue.length;jt++){const Du=ue?.[jt]?.x??0,Su=ue?.[jt]?.y??0;T[`x${jt+1}`]=Du,T[`y${jt+1}`]=Su,S.push(Du),D.push(Su)}let Re=Math.max(...S),Qe=Math.min(...S),In=Math.max(...D),Yi=Math.min(...D);y.setAttribute("class","qrcode-polygon"),c>d?(y.style.top=Yi*o+.5*(u-l/c)+"px",y.style.left=Qe*r+"px",y.width=(Re-Qe)*r,y.height=(In-Yi)*r):(y.style.top=Yi*o+"px",y.style.left=Qe*r+.5*(l-u*c)+"px",y.width=(Re-Qe)*o,y.height=(In-Yi)*o);for(const jt in i[0])C[jt]=i[0][jt];const wf=[];for(let jt=0;jt<S.length;jt++)wf.push((T[`x${jt+1}`]-Qe)*o),wf.push((T[`y${jt+1}`]-Yi)*r);const lo=wf.slice(0);for(C.beginPath(),C.moveTo(lo.shift(),lo.shift());lo.length;)C.lineTo(lo.shift(),lo.shift());if(C.closePath(),C.fill(),C.stroke(),N){const jt=document.createElement("div");jt.setAttribute("class","qrcode-tooltip-temp"),jt.innerText=g.value,jt.style.maxWidth=(s>window.innerWidth?.9*window.innerWidth:s)+"px",jt.style.borderRadius=`clamp(1px, ${r*N-10}px, 3px)`,jt.style.paddingBlock=`clamp(1px, ${r*N-10}px, 3px)`,jt.style.paddingInline=`clamp(2.5px, ${r*N-6}px, 10px)`;const Du=`<svg xmlns="http://www.w3.org/2000/svg" width="${W}" height="${W}" viewBox="0 0 512 512"><rect x="128" y="128" width="336" height="336" rx="57" ry="57"></rect><path d="M383.5,128l.5-24a56.16,56.16,0,0,0-56-56H112a64.19,64.19,0,0,0-64,64V328a56.16,56.16,0,0,0,56,56h24"></path></svg>`,Su=(new DOMParser).parseFromString(Du,"application/xml"),ge=jt.ownerDocument.importNode(Su.documentElement,!0);ge.style.marginLeft=`clamp(1px, ${r*N-10}px, 3px)`,jt.appendChild(ge),ge.addEventListener("click",()=>window.navigator.clipboard.writeText(g.value)),jt.addEventListener("click",()=>window.navigator.clipboard.writeText(g.value));const be=document.createElement("div");be.setAttribute("class","qrcode-tooltip"),be.appendChild(jt),o=u/a,r=u*c/s,be.style.fontSize=r*N+"px",be.style.top=Yi*o+"px",be.style.left=Qe*r+.5*(l-u*c)+"px",be.style.width=(Re-Qe)*o+"px",be.style.height=(In-Yi)*o+"px";const Ee=document.createElement("span");Ee.innerText=g.value,Ee.style.top=Yi*o+-20*o+"px",Ee.style.left=Qe*r+.5*(l-u*c)+"px";const bt=i[1]?.font?.split(" ")?.[1];Ee.style.fontFamily=bt,Ee.style.fontSize=r*N+"px",Ee.style.color=i?.[1]?.fillStyle,t?.appendChild(be),t?.appendChild(Ee)}t?.appendChild(y)}},gX=(n,e)=>new Promise((t,i)=>n.toBlob(r=>t(r),e)),mX=(n=[],e,t,i,r=new Eo)=>(_X(n,t,i).then(o=>{Promise.all(Object.assign([],n).map(s=>((n,e)=>{let t=e?.decode??Aa.decode,i=2===e?.canvasStyles?.length?e?.canvasStyles:[j2,H2],r=e?.isBeep??Aa.isBeep;return new Promise((o,s)=>{const a=new FileReader;a.onload=()=>{const c={name:n.name,file:n,url:URL.createObjectURL(n)},l=new Image;l.setAttribute("crossOrigin","anonymous"),l.onload=_(function*(){const u=document.createElement("canvas");u.width=l.naturalWidth||l.width,u.height=l.naturalHeight||l.height;const d=u.getContext("2d");d.drawImage(l,0,0,u.width,u.height);const h=d.getImageData(0,0,u.width,u.height);if(Ax()){const g=yield zbarWasm.scanImageData(h);if(g?.length){g.forEach(S=>S.value=S.decode(t?.toLocaleLowerCase())),((n,e,t)=>{let i=e.getContext("2d",{willReadFrequently:!0});for(let r=0;r<n.length;r++){const o=n[r];let s={},a=[],c=[],l=0,d=t[1]?.font?.split(" ")?.[0]?.replace(/[^0-9]/g,"");d&&/[0-9]/g.test(d)&&(l=parseFloat(d));const h=o.points;for(let D=0;D<h.length;D++){const N=h?.[D]?.x??0,W=h?.[D]?.y??0;s[`x${D+1}`]=N,s[`y${D+1}`]=W,a.push(N),c.push(W)}let g=Math.min(...a),y=Math.min(...c);const C=()=>{for(const W in t[0])i[W]=t[0][W];const D=[];for(let W=0;W<a.length;W++)D.push(s[`x${W+1}`]),D.push(s[`y${W+1}`]);const N=D.slice(0);for(i.beginPath(),i.moveTo(N.shift(),N.shift());N.length;)i.lineTo(N.shift(),N.shift());i.closePath(),i.fill(),i.stroke()};let T=document.createElement("canvas");const S=()=>{const D=t[1]?.font?.split(" ")?.[1];T.height=e.height,T.width=e.width;let N=T.getContext("2d",{willReadFrequently:!0});N.font=l+"px "+D;for(const W in t[1])N[W]=t[1][W];kNe(N,o.value,g,y-5)};C(),S(),i.drawImage(T,0,0)}})(g,u,i);const y=yield gX(u),C=URL.createObjectURL(y);o(Object.assign({},c,{data:g,url:C,canvas:u,file:(S=y,D=c.name,new File([S],D,{lastModified:(new Date).getTime(),type:S.type}))})),$2(r)}else o(Object.assign({},c,{data:g,canvas:u}))}var S,D}),l.src=c.url},a.onerror=c=>s(c),a.readAsDataURL(n)})})(s,e))).then(s=>{Mt(r,s)}).catch(s=>Mt(r,null,s))}),r),kNe=(n,e,t,i)=>{let r=1.2*n.measureText("M").width,o=e.split("\n");for(var s=0;s<o.length;++s)n.fillText(o[s],t,i),n.strokeText(o[s],t,i),i+=r},_X=function(){var n=_(function*(e=[],t=.5,i="image/jpeg"){if(!e.length||1===t)return e;const r=function(){var s=_(function*(a){const c=yield createImageBitmap(a),l=document.createElement("canvas");l.width=c.width,l.height=c.height,l.getContext("2d").drawImage(c,0,0);const d=yield new Promise(h=>l.toBlob(h,i,t));return new File([d],a.name,{type:d.type})});return function(c){return s.apply(this,arguments)}}(),o=new DataTransfer;return yield _(function*(){for(const s of e){if(!s.type.startsWith("image")){o.items.add(s);continue}const a=yield r(s);o.items.add(a)}})(),o.files});return function(){return n.apply(this,arguments)}}(),bX=n=>{Object.assign([],n.childNodes).forEach(e=>n.removeChild(e))},G2=(n,e)=>{n.style.width=e.offsetWidth+"px",n.style.height=e.offsetHeight+"px"},yX=(n=300)=>{n&&PNe()&&window?.navigator?.vibrate(n)},PNe=()=>{const n=navigator.userAgent||navigator.vendor||window.opera;return!(!/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(n)&&!/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(n.substr(0,4))||/^((?!chrome|android).)*safari/i.test(n))};let vX=(()=>{class n{loadFiles(t=[],i,r){const o=new Eo;return _X(t,i,r).then(s=>{Promise.all(Object.assign([],t).map(a=>this.readAsDataURL(a))).then(a=>Mt(o,a)).catch(a=>Mt(o,null,a))}),o}loadFilesToScan(t=[],i,r,o){return mX(t,i,r,o)}readAsDataURL(t){return new Promise((i,r)=>{const o=new FileReader;o.onload=()=>{const s={name:t.name,file:t,url:URL.createObjectURL(t)};i(s)},o.onerror=s=>r(s),o.readAsDataURL(t)})}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),NNe=(()=>{class n{constructor(t,i){this.renderer=t,this.elementRef=i,this.event=new We,this.src=Aa.src,this.fps=Aa.fps,this.vibrate=Aa.vibrate,this.decode=Aa.decode,this.isBeep=Aa.isBeep,this.config=Aa,this.constraints=Aa.constraints,this.canvasStyles=[j2,H2],this.isStart=!1,this.isPause=!1,this.isLoading=!1,this.isTorch=!1,this.data=new fr([]),this.devices=new fr([]),this.deviceIndexActive=0,this.dataForResize=[],this.ready=new Eo,this.STATUS={startON:()=>this.isStart=!0,pauseON:()=>this.isPause=!0,loadingON:()=>this.isLoading=!0,startOFF:()=>this.isStart=!1,pauseOFF:()=>this.isPause=!1,loadingOFF:()=>this.isLoading=!1,torchOFF:()=>this.isTorch=!1}}ngOnInit(){this.overrideConfig(),((n=new Eo,e)=>{let t=0;const i=(r=!1)=>{const o=()=>{let c;try{const l=()=>{clearTimeout(c),Ax()?setTimeout(()=>Mt(n,!0)):c=setTimeout(()=>l())};setTimeout(()=>l()),setTimeout(()=>clearTimeout(c),3e3)}catch{clearTimeout(c)}},s=document.querySelectorAll(`script[src="${x_}"]`),a=document.querySelectorAll('script[src="https://cdn.jsdelivr.net/npm/ngx-scanner-qrcode@latest/wasm/index.js"]');if(s.length||a.length)o();else{const c=document.querySelectorAll(`script[src="${z2}"]`);if(1===c.length)o();else if(c.forEach(l=>l.remove()),e){const l=e.createElement("script");e.setAttribute(l,"src",r?x_:z2),e.setAttribute(l,"type","text/javascript"),e.setAttribute(l,"async",""),e.appendChild(document.head,l),l.onload=()=>o(),l.onerror=()=>{t<2?(document.head.removeChild(l),i(!0)):Mt(n,!1,x_)},t+=1}else{const l=document.createElement("script");l.setAttribute("src",r?x_:z2),l.setAttribute("type","text/javascript"),l.setAttribute("async",""),document.head.appendChild(l),l.onload=()=>o(),l.onerror=()=>{t<2?(document.head.removeChild(l),i(!0)):Mt(n,!1,x_)},t+=1}}};return i(),n})(this.ready,this.renderer).subscribe(()=>{this.src&&this.loadImage(this.src),this.resize()})}start(t){const i=new Eo;return this.isStart?Mt(i,!1):this.safariWebRTC(i,t),i}stop(){this.STATUS.pauseOFF(),this.STATUS.startOFF(),this.STATUS.torchOFF(),this.STATUS.loadingOFF();const t=new Eo;try{clearTimeout(this.rAF_ID),this.video.nativeElement.srcObject.getTracks().forEach(i=>{i.stop(),Mt(t,!0)}),this.dataForResize=[],(n=>{n.getContext("2d",{willReadFrequently:!0}).clearRect(0,0,n.width,n.height)})(this.canvas.nativeElement),bX(this.resultsPanel.nativeElement)}catch(i){Mt(t,!1,i)}return t}play(){const t=new Eo;return this.isPause?(this.video.nativeElement.play(),this.STATUS.pauseOFF(),this.requestAnimationFrame(),Mt(t,!0)):Mt(t,!1),t}pause(){const t=new Eo;return this.isStart?(clearTimeout(this.rAF_ID),this.video.nativeElement.pause(),this.STATUS.pauseON(),Mt(t,!0)):Mt(t,!1),t}playDevice(t,i=new Eo){const r=this.getConstraints();switch(!0){case"null"===t||"undefined"===t||!t:stop(),this.stop(),Mt(i,!1);break;case t&&(!this.isStart||!r||r.deviceId!==t):stop(),this.stop(),this.STATUS.loadingON(),this.deviceIndexActive=this.devices.value.findIndex(a=>a.deviceId===t);const s={...this.constraints,audio:!1,video:{deviceId:t,...this.constraints.video}};navigator.mediaDevices.getUserMedia(s).then(a=>{this.video.nativeElement.srcObject=a,this.video.nativeElement.onloadedmetadata=()=>{this.video.nativeElement.play(),this.requestAnimationFrame(),Mt(i,!0),this.STATUS.startON(),this.STATUS.loadingOFF()}}).catch(a=>{this.eventEmit(!1),Mt(i,!1,a),this.STATUS.startOFF(),this.STATUS.loadingOFF()});break;default:Mt(i,!1),this.STATUS.loadingOFF()}return i}loadImage(t){const i=new Eo;this.STATUS.startOFF(),this.STATUS.loadingON();const r=new Image;return r.setAttribute("crossOrigin","anonymous"),r.onload=()=>{Ax()&&this.drawImage(r,o=>{Mt(i,o),this.STATUS.startOFF(),this.STATUS.loadingOFF()})},r.src=t,i}torcher(){const t=this.applyConstraints({advanced:[{torch:this.isTorch}]});return t.subscribe(()=>!1,()=>this.isTorch=!this.isTorch),t}applyConstraints(t,i=0){var r=this;const o=new Eo;if(this.isStart){const s=this.video.nativeElement.srcObject;if(null===i&&void 0===i&&Number.isNaN(i))Mt(o,!1,"Please check again deviceIndex");else{const a=s.getVideoTracks()[i];new window.ImageCapture(a).getPhotoCapabilities().then(_(function*(){yield a.applyConstraints(t),G2(r.video.nativeElement,r.canvas.nativeElement),Mt(o,!0)})).catch(l=>{switch(l?.name){case"NotFoundError":case"DevicesNotFoundError":Mt(o,!1,"Required track is missing");break;case"NotReadableError":case"TrackStartError":Mt(o,!1,"Webcam or mic are already in use");break;case"OverconstrainedError":case"ConstraintNotSatisfiedError":Mt(o,!1,"Constraints can not be satisfied by avb. devices");break;case"NotAllowedError":case"PermissionDeniedError":Mt(o,!1,"Permission denied in browser");break;case"TypeError":Mt(o,!1,"Empty constraints object");break;default:Mt(o,!1,l)}})}}else Mt(o,!1,"Please start the scanner");return o}getConstraints(t=0){return this.video.nativeElement.srcObject?.getVideoTracks()[t]?.getConstraints()}download(t=`ngx_scanner_qrcode_${Date.now()}.png`,i,r){var o=this;const s=new Eo;return _(function*(){const c=((n,e)=>new File([n],e,{lastModified:(new Date).getTime(),type:n.type}))(yield gX(o.canvas.nativeElement),t);mX([c],o.config,i,r,s).subscribe(l=>{l.forEach(u=>{if(u?.data?.length){const d=document.createElement("a");d.href=u.url,d.download=u.name,d.click(),d.remove()}})})})(),s}resize(){window.addEventListener("resize",()=>{pX(this.dataForResize,this.canvas.nativeElement,this.resultsPanel.nativeElement,this.canvasStyles),G2(this.video.nativeElement,this.canvas.nativeElement)})}overrideConfig(){"src"in this.config&&(this.src=this.config.src),"fps"in this.config&&(this.fps=this.config.fps),"vibrate"in this.config&&(this.vibrate=this.config.vibrate),"decode"in this.config&&(this.decode=this.config.decode),"isBeep"in this.config&&(this.isBeep=this.config.isBeep),"constraints"in this.config&&(this.constraints=((n,e,t)=>{if(e&&Object.keys(e[n]).length){for(const i in t){const r=JSON.parse(JSON.stringify({...e[n],[i]:t[i]}));e[n]=e[n].hasOwnProperty(i)?e[n]:r}return e[n]}return t})("constraints",this.config,fX)),"canvasStyles"in this.config&&2===this.config?.canvasStyles?.length&&(this.canvasStyles=this.config.canvasStyles)}safariWebRTC(t,i){this.STATUS.startOFF(),this.STATUS.loadingON(),navigator.mediaDevices.getUserMedia(this.constraints).then(r=>{r.getTracks().forEach(o=>o.stop()),this.loadAllDevices(t,i)}).catch(r=>{Mt(t,!1,r),this.STATUS.startOFF(),this.STATUS.loadingOFF()})}loadAllDevices(t,i){navigator.mediaDevices.enumerateDevices().then(r=>{let o=r.filter(s=>"videoinput"==s.kind);this.devices.next(o),o?.length>0?(Mt(t,o),i?i(o):this.playDevice(o[0].deviceId)):(Mt(t,!1,"No camera detected."),this.STATUS.startOFF(),this.STATUS.loadingOFF())}).catch(r=>{Mt(t,!1,r),this.STATUS.startOFF(),this.STATUS.loadingOFF()})}drawImage(t,i=(()=>{})){var r=this;return _(function*(){const o=r.canvas.nativeElement,s=o.getContext("2d",{willReadFrequently:!0});t instanceof HTMLImageElement&&(o.width=t.naturalWidth,o.height=t.naturalHeight,t.style.visibility="",r.video.nativeElement.style.visibility="hidden",r.renderer.setStyle(r.elementRef.nativeElement,"width",o.width+"px"),r.renderer.setStyle(r.elementRef.nativeElement,"maxWidth","100%"),r.renderer.setStyle(r.elementRef.nativeElement,"display","inline-block")),t instanceof HTMLVideoElement&&(o.width=t.videoWidth,o.height=t.videoHeight,t.style.visibility="",r.canvas.nativeElement.style.visibility="hidden"),G2(r.video.nativeElement,o),s.clearRect(0,0,o.width,o.height),s.drawImage(t,0,0,o.width,o.height);const a=s.getImageData(0,0,o.width,o.height),c=yield zbarWasm.scanImageData(a);if(c?.length){c.forEach(u=>u.value=u.decode(r.decode?.toLocaleLowerCase())),pX(c,Object.freeze(r.canvas.nativeElement),r.resultsPanel.nativeElement,r.canvasStyles);const l=()=>{r.eventEmit(c),r.dataForResize=c};t instanceof HTMLImageElement&&(i(!0),l(),yX(r.vibrate),$2(r.isBeep)),t instanceof HTMLVideoElement&&(l(),yX(r.vibrate),$2(r.isBeep))}else i(!1),bX(r.resultsPanel.nativeElement),r.dataForResize=[]})()}eventEmit(t=!1){!1!==t&&this.data.next(t||[]),!1!==t&&this.event.emit(t||[])}requestAnimationFrame(t=100){try{clearTimeout(this.rAF_ID),this.rAF_ID=setTimeout(()=>{this.video.nativeElement.readyState===this.video.nativeElement.HAVE_ENOUGH_DATA&&(t=0,Ax()&&this.drawImage(this.video.nativeElement),this.isStart&&!this.isPause&&this.requestAnimationFrame(t))},t||this.fps)}catch{clearTimeout(this.rAF_ID)}}get isReady(){return this.ready}ngOnDestroy(){this.pause()}static{this.\u0275fac=function(i){return new(i||n)(E(Lo),E(ln))}}static{this.\u0275cmp=xe({type:n,selectors:[["ngx-scanner-qrcode"]],viewQuery:function(i,r){if(1&i&&(Fn(xNe,5),Fn(CNe,5),Fn(ENe,5)),2&i){let o;yn(o=vn())&&(r.video=o.first),yn(o=vn())&&(r.canvas=o.first),yn(o=vn())&&(r.resultsPanel=o.first)}},hostAttrs:[1,"ngx-scanner-qrcode"],inputs:{src:"src",fps:"fps",vibrate:"vibrate",decode:"decode",isBeep:"isBeep",config:"config",constraints:"constraints",canvasStyles:"canvasStyles"},outputs:{event:"event"},exportAs:["scanner"],decls:6,vars:0,consts:[[1,"origin-overlay"],["resultsPanel",""],[1,"origin-canvas"],["canvas",""],["playsinline","",1,"origin-video"],["video",""]],template:function(i,r){1&i&&Y(0,"div",0,1)(2,"canvas",2,3)(4,"video",4,5)},styles:[".ngx-scanner-qrcode{display:block;position:relative}.origin-overlay{width:100%;position:absolute}.origin-overlay span{z-index:2;text-align:left;position:absolute}.origin-overlay .qrcode-polygon{z-index:1;position:absolute}.origin-canvas{width:100%;position:absolute}.origin-video{width:100%;background-color:#262626}.qrcode-tooltip{z-index:3;position:absolute}.qrcode-tooltip:hover .qrcode-tooltip-temp{display:block;position:absolute;cursor:copy}.qrcode-tooltip:hover .qrcode-tooltip-temp:active{color:#afafaf}.qrcode-tooltip .qrcode-tooltip-temp{bottom:0;left:50%;color:#fff;text-align:left;display:none;width:max-content;word-wrap:break-word;transform:translate(-50%);transform-style:preserve-3d;background-color:#000000d0;box-shadow:1px 1px 20px #000000e0}.qrcode-tooltip .qrcode-tooltip-temp svg{cursor:pointer}.qrcode-tooltip .qrcode-tooltip-temp svg rect{fill:none;stroke:#fff;stroke-linejoin:round;stroke-width:32px}.qrcode-tooltip .qrcode-tooltip-temp svg path{fill:none;stroke:#fff;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px}.qrcode-tooltip .qrcode-tooltip-temp svg:active rect{stroke:#afafaf}.qrcode-tooltip .qrcode-tooltip-temp svg:active path{stroke:#afafaf}\n"],encapsulation:2})}}return n})(),kx=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=et({type:n})}static{this.\u0275inj=Je({providers:[vX]})}}return n})();const BNe=["action"];function UNe(n,e){1&n&&(p(0,"p"),m(1,"\u231b Loading..."),f())}let zNe=(()=>{class n{constructor(t,i,r,o,s){this.qrcode=t,this.router=i,this.route=r,this.auth=o,this.firestore=s,this.data=[],this.config={constraints:{video:{width:window.innerWidth}}},this.qrCodeResult=[],this.qrCodeResult2=[],this.getData()}ngAfterViewInit(){this.action.isReady.subscribe(t=>{})}onEvent(t,i){console.log(t[0].value),this.item=t[0].value,this.MyQuery()}handle(t,i){"start"===i?t[i](o=>{const s=o.find(a=>/back|rear|environment/gi.test(a.label));t.playDevice(s?s.deviceId:o[0].deviceId)}).subscribe(o=>console.log(i,o),alert):t[i]().subscribe(o=>console.log(i,o),alert)}onDowload(t){t.download().subscribe(console.log,alert)}onSelects(t){this.qrcode.loadFiles(t,.5).subscribe(i=>{this.qrCodeResult=i})}onSelects2(t){this.qrcode.loadFilesToScan(t,this.config,.5).subscribe(i=>{console.log(i),this.qrCodeResult2=i})}getData(){const t=me(this.firestore,"muestras");de(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}MyQuery(){var t=this;return _(function*(){let i=t.item;console.log(i);const r=Ut(me(t.firestore,"muestras"),zt("codigo","==",i));de(r).then(o=>{t.data=[...o.docs.map(s=>({...s.data(),id:s.id}))],0!=t.data.length&&(t.handle(t.action,"stop"),t.router.navigate(["user/muestras-info/"+i]))})})()}static{this.\u0275fac=function(i){return new(i||n)(E(vX),E(Se),E(nt),E(Be),E(Ze))}}static{this.\u0275cmp=xe({type:n,selectors:[["app-scan"]],viewQuery:function(i,r){if(1&i&&Fn(BNe,5),2&i){let o;yn(o=vn())&&(r.action=o.first)}},decls:6,vars:8,consts:[[1,"container"],[1,"screen",3,"config","event"],["action","scanner"],[4,"ngIf"],[1,"btn",3,"disabled","click"],["width","30px",3,"src"]],template:function(i,r){if(1&i){const o=ft();p(0,"div",0)(1,"ngx-scanner-qrcode",1,2),Q("event",function(a){Ae(o);const c=un(2);return ke(r.onEvent(a,c))}),f(),Sn(3,UNe,2,0,"p",3),p(4,"button",4),Q("click",function(){Ae(o);const a=un(2);return ke(r.handle(a,a.isStart?"stop":"start"))}),Y(5,"img",5),f()()}if(2&i){const o=un(2);V(),Lt("config",r.config),V(2),Lt("ngIf",o.isLoading),V(),mo("btn-info",!o.isStart)("btn-warning",o.isStart),Lt("disabled",o.isLoading),V(),Lt("src",o.isStart?"https://id1945.github.io/images/svg/camera-off.svg":"https://id1945.github.io/images/svg/camera-on.svg",nd)}},dependencies:[$y,NNe],styles:["h1[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{font-weight:600;word-break:break-all;font-family:Courier New,Courier,monospace}div[_ngcontent-%COMP%]{text-align:center}div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:50%;height:60px;width:60px;margin:4px}div[_ngcontent-%COMP%]   buttondisabled[_ngcontent-%COMP%]{cursor:no-drop}div[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]{background:#faebd7;border-radius:5px}.origin-overlay[_ngcontent-%COMP%]   .qrcode-tooltip[_ngcontent-%COMP%]   .qrcode-tooltip-temp[_ngcontent-%COMP%]{padding:5px!important}.screen[_ngcontent-%COMP%]{display:block;height:55%;width:55%;margin-left:auto;margin-right:auto}.container[_ngcontent-%COMP%]{top:25%;width:85%;position:absolute;left:15%}@media only screen and (max-width: 768px){h1[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{font-weight:600;word-break:break-all;font-family:Courier New,Courier,monospace}div[_ngcontent-%COMP%]{text-align:center}div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:50%;height:60px;width:60px;margin:10px 4px 4px}div[_ngcontent-%COMP%]   buttondisabled[_ngcontent-%COMP%]{cursor:no-drop}div[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]{background:#faebd7;border-radius:5px}.origin-overlay[_ngcontent-%COMP%]   .qrcode-tooltip[_ngcontent-%COMP%]   .qrcode-tooltip-temp[_ngcontent-%COMP%]{padding:5px!important}.screen[_ngcontent-%COMP%]{display:block;height:80%;width:80%;margin-left:auto;margin-right:auto}.container[_ngcontent-%COMP%]{top:28%;width:100%;position:absolute;left:0%}}@media only screen and (min-width: 1536px){.screen[_ngcontent-%COMP%]{display:block;height:40%;width:40%;margin-left:auto;margin-right:auto}}"]})}}return n})();const jNe=["geo"];let HNe=(()=>{class n{static{this.text=""}constructor(t,i,r,o,s,a){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.location=s,this.datePipe=a,this.title="gestion-de-muestras-de-campo",this.data=[],this.res="",this.fotoUrls={},this.somethingChange=new We}ngOnInit(){this.route.params.subscribe(t=>{this.x=t.id}),this.getData(),this.MyQuery()}onFileSelected(t,i){var r=this;return _(function*(){const o=t.target.files[0];if(console.log(i),console.log(o),o){const a=dX(hX(),`muestras/${i}/${o.name}`);try{const c=yield lX(a,o),l=yield uX(c.ref);r.fotoUrls[i]=l,alert(`Imagen de ${i} subida con \xe9xito.`)}catch(c){console.error("Error al subir la imagen:",c),alert("Ocurri\xf3 un error al guardar la imagen.")}}})()}handleRegister(t){this.addData({...t,fotos:this.fotoUrls}),this.Home()}addData(t){var i=this;return _(function*(){const r=Ce(i.firestore,"muestras",t.codigo);t.fecha=i.datePipe.transform(t.fecha,"dd/MM/yyyy"),Qi(r,{codigo:t.codigo,cliente:t.cliente,fecha:t.fecha,cultivo:t.cultivo,tipo:t.tipo,fitopatogeno:t.fitopatogeno,repeticion:t.repeticion,coordenadas:t.coordenadas,sintomas:t.sintomas,comentarios:t.comentarios,lote:t.lote,fotos:t.fotos}).then(()=>{alert("Data Sent")}).catch(o=>{alert(o.message)})})()}getData(){const t=me(this.firestore,"muestras");de(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}convertDecimalToDMS(t,i){const r=Math.floor(Math.abs(t)),o=60*(Math.abs(t)-r),s=Math.floor(o);let c="";return c=i?t>=0?"N":"S":t>=0?"E":"W",`${r}\xb0 ${s}' ${(60*(o-s)).toFixed(2)}'' ${c}`}showPosition(t){var r=t.coords.longitude,o=t.coords.latitude.toFixed(6),s=r.toFixed(6);n.text=o+", "+s}getLocation(){var t=this;return _(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{t.res=n.text},1e3)})()}MyQuery(){var t=this;return _(function*(){let i=t.x;const r=Ut(me(t.firestore,"muestras"),zt("codigo","==",i)),o=yield de(r);o.empty||o.forEach(s=>{t.item=s.data(),t.res=t.item.coordenadas,t.pid=t.item.project})})()}backPage(){this.location.back()}deleteData(t){if(1==confirm("Seguro que desea eliminar esta Muestra?")){const o=Ce(this.firestore,"muestras",this.x);gn(o).then(()=>{alert("Data Deleted"),this.Home()}).catch(s=>{alert(s.message)})}}Home(){this.router.navigate(["user/unidad-produccion-all"])}static{this.\u0275fac=function(i){return new(i||n)(E(Se),E(nt),E(Be),E(Ze),E(ii),E(JT))}}static{this.\u0275cmp=xe({type:n,selectors:[["app-muestras-edit"]],viewQuery:function(i,r){if(1&i&&Fn(jNe,5),2&i){let o;yn(o=vn())&&(r.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:90,vars:11,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],["name","codigo","ngModel","","placeholder","codigo","id","codigo","type","codigo",1,"input-field",3,"ngModel","ngModelChange"],["name","cliente","ngModel","","placeholder","Cliente","id","cliente","type","cliente",1,"input-field",3,"ngModel","ngModelChange"],["name","fecha","ngModel","","placeholder","Fecha","id","fecha","type","date",1,"input-field",3,"ngModel","ngModelChange"],["name","cultivo","ngModel","","placeholder","Cultivo","id","cultivo","type","cultivo",1,"input-field",3,"ngModel","ngModelChange"],["list","tipos","name","tipo","ngModel","","placeholder","Tipo","id","tipo","type","tipo",1,"input-field",3,"ngModel","ngModelChange"],["value","","disabled","","selected",""],["value","Hibrido"],["value","Variedad"],["value","Clone"],["list","fitopatogenos","name","fitopatogeno","ngModel","","placeholder","Fitopat\xf3geno","id","fitopatogeno","type","fitopatogeno",1,"input-field",3,"ngModel","ngModelChange"],["value","Hongos"],["value","Bacterias"],["value","Virus"],["name","lote","ngModel","","placeholder","Lote","id","lote","type","lote",1,"input-field",3,"ngModel","ngModelChange"],["name","repeticion","ngModel","","placeholder","Repeticion","id","repeticion","type","repeticion",1,"input-field",3,"ngModel","ngModelChange"],["name","coordenadas","ngModel","","placeholder","Coordenadas","id","coordenadas","type","coordenadas",1,"input-field",3,"ngModel","ngModelChange"],[1,"bUbicacion",3,"click"],["src","../../../../assets/Ubicacion.png","alt","U"],[1,"subTituloSeccion"],["name","foto-inicial","type","file",1,"input-field-2",3,"change"],["name","foto-tipico","type","file",1,"input-field-2",3,"change"],["name","foto-tardios","type","file",1,"input-field-2",3,"change"],["name","sintomas","ngModel","","placeholder","S\xedntomas","id","sintomas","type","sintomas",1,"input-field",3,"ngModel","ngModelChange"],["name","comentarios","ngModel","","placeholder","Comentarios","id","comentarios","type","comentarios",1,"input-field",3,"ngModel","ngModelChange"],[1,"boton"],["type","button","id","volver",1,"boton",3,"click"],["type","button",1,"botonrojo",3,"click"],[1,"blank"]],template:function(i,r){if(1&i){const o=ft();p(0,"p"),m(1,"muestras-edit works!"),f(),p(2,"h1",0),m(3,"Editar Muestra"),f(),p(4,"div",1)(5,"form",2,3),Q("ngSubmit",function(){Ae(o);const a=un(6);return ke(r.handleRegister(a.value))}),p(7,"div",4)(8,"div",5)(9,"span",6),m(10,"Codigo:"),f(),p(11,"input",7),st("ngModelChange",function(a){return dt(r.item.codigo,a)||(r.item.codigo=a),a}),f()(),p(12,"div",5)(13,"span",6),m(14,"Cliente:"),f(),p(15,"input",8),st("ngModelChange",function(a){return dt(r.item.cliente,a)||(r.item.cliente=a),a}),f()(),p(16,"div",5)(17,"span",6),m(18,"Fecha:"),f(),p(19,"input",9),st("ngModelChange",function(a){return dt(r.item.fecha,a)||(r.item.fecha=a),a}),f()(),p(20,"div",5)(21,"span",6),m(22,"Cultivo:"),f(),p(23,"input",10),st("ngModelChange",function(a){return dt(r.item.cultivo,a)||(r.item.cultivo=a),a}),f()(),p(24,"div",5)(25,"span",6),m(26,"Tipo de Cultivo:"),f(),p(27,"select",11),st("ngModelChange",function(a){return dt(r.item.tipo,a)||(r.item.tipo=a),a}),p(28,"option",12),m(29,"Seleccione un tipo de cultivo"),f(),p(30,"option",13),m(31," Hibrido "),f(),p(32,"option",14),m(33," Variedad "),f(),p(34,"option",15),m(35," Clone "),f()()(),p(36,"div",5)(37,"span",6),m(38,"Fitopat\xf3geno:"),f(),p(39,"select",16),st("ngModelChange",function(a){return dt(r.item.fitopatogeno,a)||(r.item.fitopatogeno=a),a}),p(40,"option",12),m(41,"Seleccione un fitopat\xf3geno"),f(),p(42,"option",17),m(43," Hongos "),f(),p(44,"option",18),m(45," Bacterias "),f(),p(46,"option",19),m(47," Virus "),f()()(),p(48,"div",5)(49,"span",6),m(50,"Lote:"),f(),p(51,"input",20),st("ngModelChange",function(a){return dt(r.item.lote,a)||(r.item.lote=a),a}),f()(),p(52,"div",5)(53,"span",6),m(54,"Repetici\xf3n:"),f(),p(55,"input",21),st("ngModelChange",function(a){return dt(r.item.repeticion,a)||(r.item.repeticion=a),a}),f()(),p(56,"div",5)(57,"span",6),m(58,"Coordenadas:"),f(),p(59,"input",22),st("ngModelChange",function(a){return dt(r.res,a)||(r.res=a),a}),f(),p(60,"div",23),Q("click",function(){return r.getLocation()}),Y(61,"img",24),f()(),p(62,"h2",25),m(63,"Soporte Fotogr\xe1fico"),f(),p(64,"div",5)(65,"span",6),m(66,"Iniciales:"),f(),p(67,"input",26),Q("change",function(a){return r.onFileSelected(a,"inicial")}),f()(),p(68,"div",5)(69,"span",6),m(70,"T\xedpico:"),f(),p(71,"input",27),Q("change",function(a){return r.onFileSelected(a,"tipico")}),f()(),p(72,"div",5)(73,"span",6),m(74,"Tard\xedos:"),f(),p(75,"input",28),Q("change",function(a){return r.onFileSelected(a,"tardios")}),f()(),p(76,"div",5)(77,"span",6),m(78,"S\xedntomas:"),f(),p(79,"input",29),st("ngModelChange",function(a){return dt(r.item.sintomas,a)||(r.item.sintomas=a),a}),f()(),p(80,"div",5)(81,"span",6),m(82,"Comentarios:"),f(),p(83,"input",30),st("ngModelChange",function(a){return dt(r.item.comentarios,a)||(r.item.comentarios=a),a}),f()(),p(84,"button",31),m(85,"Guardar"),f(),p(86,"button",32),Q("click",function(){return r.backPage()}),f(),p(87,"button",33),Q("click",function(){return r.deleteData(r.item.id)}),m(88," Eliminar "),f()(),Y(89,"div",34),f()()}2&i&&(V(11),ot("ngModel",r.item.codigo),V(4),ot("ngModel",r.item.cliente),V(4),ot("ngModel",r.item.fecha),V(4),ot("ngModel",r.item.cultivo),V(4),ot("ngModel",r.item.tipo),V(12),ot("ngModel",r.item.fitopatogeno),V(12),ot("ngModel",r.item.lote),V(4),ot("ngModel",r.item.repeticion),V(4),ot("ngModel",r.res),V(20),ot("ngModel",r.item.sintomas),V(4),ot("ngModel",r.item.comentarios))},dependencies:[Vn,oc,sc,Ui,rc,vr,Ln,rr,xn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:65%;min-height:680px;position:absolute;left:50%;top:24%;transform:translate(-30%);margin:25px auto;padding:20px;display:flex;flex-shrink:0;flex-direction:column;justify-content:flex-start;align-items:center}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;padding-top:12px;width:90%;left:5%;top:0%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:85%;height:20px;left:92px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:39%;top:16%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}.subTituloSeccion[_ngcontent-%COMP%]{color:#000;font-family:Verdana;font-size:20px;text-align:left;margin-top:8px;margin-bottom:10px;left:0;width:100%}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{margin:2%;background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:85%;top:100%}.botonrojo[_ngcontent-%COMP%]{margin:2%;background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:70%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}#volver[_ngcontent-%COMP%]{position:absolute;left:0%;border:none;width:50px;height:50px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(back-button-Edit4.8567daeed3ab1418.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}.blank[_ngcontent-%COMP%]{width:100%;height:16px;position:absolute;left:0%;top:110%}@media only screen and (max-width: 768px){.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.input-field[_ngcontent-%COMP%]{margin:6px 6px 6px 24px;height:20px;left:92px;color:#000;font-family:Arial;font-size:16px;letter-spacing:0;text-overflow:ellipsis}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:6px 6px 6px 22px;font-family:Arial;width:85%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:3%;top:2%}.Text[_ngcontent-%COMP%]{color:#000;height:20px;font-family:Arial;font-size:16px;letter-spacing:0}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:95%;height:75%;flex-shrink:0;position:absolute;left:2.5%;top:35%;transform:none;padding-bottom:20px}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:67%;top:105%;border:none;float:right;background-color:#3eb3c2;color:#fff;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:12px;left:0%;top:105%}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:27%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}.blank[_ngcontent-%COMP%]{width:100%;height:16px;position:absolute;left:0%;top:110%}}@media only screen and (min-width: 1536px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:850px;height:600px;flex-shrink:0;position:absolute;left:50%;top:50%;transform:translate(-50%,-36%)}.subTituloText[_ngcontent-%COMP%]{position:absolute;left:52%;transform:translate(-50%)}}"]})}}return n})();const $Ne=["geo"];function GNe(n,e){if(1&n&&(p(0,"div",5)(1,"span",6),m(2,"Inicial:"),f(),Y(3,"img",11),f()),2&n){const t=Tt();V(3),Lt("src",t.fotoUrls.inicial,nd)}}function qNe(n,e){if(1&n&&(p(0,"div",5)(1,"span",6),m(2,"T\xedpico:"),f(),Y(3,"img",12),f()),2&n){const t=Tt();V(3),Lt("src",t.fotoUrls.tipico,nd)}}function WNe(n,e){if(1&n&&(p(0,"div",5)(1,"span",6),m(2,"Tard\xedos:"),f(),Y(3,"img",13),f()),2&n){const t=Tt();V(3),Lt("src",t.fotoUrls.tardios,nd)}}let KNe=(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.location=s,this.title="gestion-de-muestras-de-campo",this.data=[],this.fotoUrls={},this.somethingChange=new We,this.getData(),this.MyQuery()}ngOnInit(){this.route.params.subscribe(t=>{this.text=t.id,console.log(t),console.log(t.id)}),this.getData(),this.MyQuery()}handleRegister(t){this.addData(t)}addData(t){const i=Ce(this.firestore,"muestras",t.codigo);Er(i,t).then(()=>{alert("Data Sent")}).catch(r=>{alert(r.message)}),console.log(t.comentarios)}getData(){const t=me(this.firestore,"muestras");de(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude)}getLocation(){var t=this;return _(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{console.log(t.res)},1e3)})()}MyQuery(){var t=this;return _(function*(){let i=t.text;const r=Ut(me(t.firestore,"muestras"),zt("codigo","==",i)),o=yield de(r);o.empty||o.forEach(s=>{t.item=s.data(),t.fotoUrls={inicial:t.item.fotoInicial,tipico:t.item.fotoTipico,tardios:t.item.fotoTardios}})})()}editMuestra(){this.router.navigate(["user/muestras-edit/"+this.text])}deleteData(t){const i=Ce(this.firestore,"users",t);gn(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}backPage(){this.location.back()}static{this.\u0275fac=function(i){return new(i||n)(E(Se),E(nt),E(Be),E(Ze),E(ii))}}static{this.\u0275cmp=xe({type:n,selectors:[["app-muestras-info"]],viewQuery:function(i,r){if(1&i&&Fn($Ne,5),2&i){let o;yn(o=vn())&&(r.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:67,vars:13,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],[1,"input-field"],["class","input-fields",4,"ngIf"],[1,"boton",3,"click"],["id","volver",3,"click"],["alt","Foto Inicial",2,"width","200px","height","auto",3,"src"],["alt","Foto T\xedpica",2,"width","200px","height","auto",3,"src"],["alt","Foto Tard\xeda",2,"width","200px","height","auto",3,"src"]],template:function(i,r){if(1&i){const o=ft();p(0,"p"),m(1,"muestras-info works!"),f(),p(2,"h1",0),m(3,"Datos de la Muestra"),f(),p(4,"div",1)(5,"form",2,3),Q("ngSubmit",function(){Ae(o);const a=un(6);return ke(r.handleRegister(a.value))}),p(7,"div",4)(8,"div",5)(9,"span",6),m(10,"Codigo:"),f(),p(11,"span",7),m(12),f()(),p(13,"div",5)(14,"span",6),m(15,"Cliente:"),f(),p(16,"span",7),m(17),f()(),p(18,"div",5)(19,"span",6),m(20,"Fecha:"),f(),p(21,"span",7),m(22),f()(),p(23,"div",5)(24,"span",6),m(25,"Cultivo:"),f(),p(26,"span",7),m(27),f()(),p(28,"div",5)(29,"span",6),m(30,"Tipo:"),f(),p(31,"span",7),m(32),f()(),p(33,"div",5)(34,"span",6),m(35,"Fitopat\xf3geno:"),f(),p(36,"span",7),m(37),f()(),p(38,"div",5)(39,"span",6),m(40,"Lote:"),f(),p(41,"span",7),m(42),f()(),p(43,"div",5)(44,"span",6),m(45,"Repetici\xf3n:"),f(),p(46,"span",7),m(47),f()(),p(48,"div",5)(49,"span",6),m(50,"Fotos:"),f()(),Sn(51,GNe,4,1,"div",8)(52,qNe,4,1,"div",8)(53,WNe,4,1,"div",8),p(54,"div",5)(55,"span",6),m(56,"S\xedntomas:"),f(),p(57,"span",7),m(58),f()(),p(59,"div",5)(60,"span",6),m(61,"Comentarios:"),f(),p(62,"span",7),m(63),f()()()(),p(64,"button",9),Q("click",function(){return r.editMuestra()}),m(65,"Editar Muestra"),f(),p(66,"button",10),Q("click",function(){return r.backPage()}),f()()}2&i&&(V(12),De(" ",r.item.codigo,""),V(5),De(" ",r.item.cliente,""),V(5),De(" ",r.item.fecha,""),V(5),De(" ",r.item.cultivo,""),V(5),De(" ",r.item.tipo,""),V(5),De(" ",r.item.fitopatogeno,""),V(5),De(" ",r.item.lote,""),V(5),De(" ",r.item.repeticion,""),V(4),Lt("ngIf",r.fotoUrls.inicial),V(),Lt("ngIf",r.fotoUrls.tipico),V(),Lt("ngIf",r.fotoUrls.tardios),V(5),De(" ",r.item.sintomas,""),V(5),De(" ",r.item.comentarios,""))},dependencies:[$y,Vn,Ln,xn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:65%;min-height:540px;flex-shrink:0;position:absolute;left:55%;top:28%;transform:translate(-30%)}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:10%;top:2%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:12px 12px 12px 25px;height:20px;left:92px;color:#000;font-family:Arial;font-size:20px;letter-spacing:0}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:40%;top:20%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;height:25px;font-family:Arial;font-size:20px;font-weight:700;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:80%;top:87%}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:0%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}#volver[_ngcontent-%COMP%]{font-size:16px;position:absolute;left:5%;top:86%;background:none;border:none;width:50px;height:50px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(back-button-Edit4.8567daeed3ab1418.png)}@media only screen and (max-width: 768px){.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.input-field[_ngcontent-%COMP%]{margin:6px 6px 6px 10px;height:20px;left:92px;color:#000;font-family:Arial;font-size:16px;letter-spacing:0;text-overflow:ellipsis}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:5%;top:2%}.Text[_ngcontent-%COMP%]{color:#000;height:20px;font-family:Arial;font-size:16px;letter-spacing:0}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:90%;height:37%;flex-shrink:0;position:absolute;left:5%;top:37%;transform:none}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:67%;top:75%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:12px;left:0%;top:110%}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:28%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}#volver[_ngcontent-%COMP%]{position:absolute;left:5%;top:75%;width:35px;height:35px}}@media only screen and (min-width: 1536px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:850px;height:500px;flex-shrink:0;position:absolute;left:50%;top:50%;transform:translate(-50%,-35%)}.subTituloText[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%)}.boton[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(310px)}}"]})}}return n})();const QNe=["geo"];let YNe=(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.location=s,this.title="gestion-de-muestras-de-campo",this.data=[],this.somethingChange=new We}ngOnInit(){this.route.params.subscribe(t=>{this.text=t.id,console.log(t),console.log(t.id)}),this.getData(),this.MyQuery()}handleRegister(t){this.addData(t),this.Home()}randomCode(){let t="";for(let o=0;o<20;o++)t+="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".charAt(Math.floor(62*Math.random()));return t}addData(t){let i=t.integrantes.split(/[\s,]+/);const r=Ce(this.firestore,"projects",this.pid);Er(r,{name:t.name,cliente:t.cliente,owner:t.owner,integrantes:i}).then(()=>{alert("Data Sent")}).catch(o=>{alert(o.message)}),console.log(t.comentarios)}getData(){const t=me(this.firestore,"projects");de(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude)}getLocation(){var t=this;return _(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{console.log(t.res)},1e3)})()}MyQuery(){var t=this;return _(function*(){let i=t.text;const r=Ut(me(t.firestore,"projects"),zt("name","==",i));(yield de(r)).forEach(s=>{t.item=s.data(),t.pid=s.id,console.log(s.id," => ",s.data())})})()}deleteData(t){const i=Ce(this.firestore,"projects",t);gn(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}Home(){this.router.navigate(["user/projects"])}backPage(){this.location.back()}static{this.\u0275fac=function(i){return new(i||n)(E(Se),E(nt),E(Be),E(Ze),E(ii))}}static{this.\u0275cmp=xe({type:n,selectors:[["app-project-edit"]],viewQuery:function(i,r){if(1&i&&Fn(QNe,5),2&i){let o;yn(o=vn())&&(r.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:28,vars:4,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],["name","name","ngModel","","placeholder","Name","id","name","type","name",1,"input-field",3,"ngModel","ngModelChange"],["name","owner","ngModel","","placeholder","Owner","id","owner","type","owner",1,"input-field",3,"ngModel","ngModelChange"],["name","integrantes","ngModel","","placeholder","Integrantes","id","integrantes","type","integrantes",1,"input-field",3,"ngModel","ngModelChange"],["name","cliente","ngModel","","placeholder","Cliente","id","cliente","type","cliente",1,"input-field",3,"ngModel","ngModelChange"],[1,"boton"],[1,"botonrojo",3,"click"]],template:function(i,r){if(1&i){const o=ft();p(0,"p"),m(1,"project-edit works!"),f(),p(2,"h1",0),m(3,"Editar Projecto"),f(),p(4,"div",1)(5,"form",2,3),Q("ngSubmit",function(){Ae(o);const a=un(6);return ke(r.handleRegister(a.value))}),p(7,"div",4)(8,"div",5)(9,"span",6),m(10,"Nombre:"),f(),p(11,"input",7),st("ngModelChange",function(a){return dt(r.item.name,a)||(r.item.name=a),a}),f()(),p(12,"div",5)(13,"span",6),m(14,"Owner:"),f(),p(15,"input",8),st("ngModelChange",function(a){return dt(r.item.owner,a)||(r.item.owner=a),a}),f()(),p(16,"div",5)(17,"span",6),m(18,"Integrantes:"),f(),p(19,"input",9),st("ngModelChange",function(a){return dt(r.item.integrantes,a)||(r.item.integrantes=a),a}),f()(),p(20,"div",5)(21,"span",6),m(22,"Cliente:"),f(),p(23,"input",10),st("ngModelChange",function(a){return dt(r.item.cliente,a)||(r.item.cliente=a),a}),f()(),p(24,"button",11),m(25,"Editar Projecto"),f(),p(26,"button",12),Q("click",function(){return r.deleteData(r.pid)}),m(27," Delete "),f()()()()}2&i&&(V(11),ot("ngModel",r.item.name),V(4),ot("ngModel",r.item.owner),V(4),ot("ngModel",r.item.integrantes),V(4),ot("ngModel",r.item.cliente))},dependencies:[Vn,Ui,vr,Ln,rr,xn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:35%;flex-shrink:0;position:absolute;left:15%;top:30%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:5%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:85%;height:20px;left:92px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:35%;top:20%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:85%;top:110%}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:0%;top:110%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.input-field[_ngcontent-%COMP%]{margin:6px 6px 6px 20px;height:20px;width:50%;left:92px;color:#000;font-family:Arial;font-size:16px;letter-spacing:0;text-overflow:ellipsis}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:20px;font-family:Arial;font-size:16px;letter-spacing:0}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:90%;height:25%;flex-shrink:0;position:absolute;left:5%;top:45%}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:70%;top:110%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:12px;left:0%;top:110%}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:30%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}@media only screen and (min-width: 1536px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:900px;height:280px;flex-shrink:0;position:absolute;left:50%;top:45%;transform:translate(-50%,-50%)}.boton[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(310px)}.subTituloText[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%)}}"]})}}return n})();function XNe(n,e){if(1&n){const t=ft();p(0,"tr")(1,"td"),m(2),f(),p(3,"td"),m(4),f(),p(5,"td"),m(6),f(),p(7,"td"),m(8),f(),p(9,"td")(10,"button",3),Q("click",function(){const o=Ae(t).$implicit;return ke(Tt().infoMuestra(o.codigo))}),p(11,"div",4),m(12,"Informaci\xf3n"),f()(),p(13,"button",5),Q("click",function(){const o=Ae(t).$implicit;return ke(Tt().editMuestra(o.codigo))}),p(14,"div",6),m(15,"Editar"),f()(),p(16,"button",7),Q("click",function(){const o=Ae(t).$implicit;return ke(Tt().Barcode(o.codigo))}),p(17,"div",8),m(18,"Imprimir"),f()()()()}if(2&n){const t=e.$implicit;V(2),Ve(t.codigo),V(2),Ve(t.fecha),V(2),Ve(t.cultivo),V(2),Ve(t.coordenadas)}}let ZNe=(()=>{class n{constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.data=[],this.getData()}ngOnInit(){this.route.params.subscribe(t=>{this.item=t.id,console.log(t),console.log(t.id)})}getData(){const t=me(this.firestore,"muestras");de(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}updateData(t){const i=Ce(this.firestore,"muestras",t);Qi(i,{}).then(()=>{alert("Data updated"),this.getData()}).catch(r=>{alert(r.message)})}deleteData(t){const i=Ce(this.firestore,"muestras",t);gn(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["user/projects"])}logOut(){si(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}newMuestra(){this.router.navigate(["user/muestras-new"])}editMuestra(t){this.router.navigate(["user/muestras-edit/"+t])}infoProject(t){this.router.navigate(["user/project-edit/"+t])}infoMuestra(t){this.router.navigate(["user/muestras-info/"+t])}Barcode(t){this.router.navigate(["user/barcode/"+t])}MyQuery(){var t=this;return _(function*(){let i=t.item;t.pid=i,console.log(i);const r=Ut(me(t.firestore,"muestras"),zt("project","==",i));de(r).then(s=>{t.data=[...s.docs.map(a=>({...a.data(),id:a.id}))]}),(yield de(r)).forEach(s=>{console.log(s.id," => ",s.data())})})()}static{this.\u0275fac=function(i){return new(i||n)(E(Se),E(nt),E(Be),E(Ze))}}static{this.\u0275cmp=xe({type:n,selectors:[["app-muestras-all"]],decls:15,vars:1,consts:[[1,"subTituloText"],[1,"list"],[4,"ngFor","ngForOf"],[1,"detalles",3,"click"],[1,"detalles-tip"],[1,"edit",3,"click"],[1,"edit-tip"],[1,"imprimir",3,"click"],[1,"imprimir-tip"]],template:function(i,r){1&i&&(p(0,"h1",0),m(1,"Muestras"),f(),p(2,"div",1)(3,"table")(4,"tr")(5,"th"),m(6," Codigo "),f(),p(7,"th"),m(8," Fecha "),f(),p(9,"th"),m(10," Cultivo"),f(),p(11,"th"),m(12," Coordenadas "),f(),Y(13,"th"),f(),Sn(14,XNe,19,4,"tr",2),f()()),2&i&&(V(14),Lt("ngForOf",r.data))},dependencies:[Lr],styles:[".list[_ngcontent-%COMP%]{position:absolute;top:30%;left:55%;transform:translate(-40%)}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.projectBlock[_ngcontent-%COMP%]{width:auto;height:35px;background:#3ec28f;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:20px;font-weight:700;letter-spacing:0;cursor:pointer}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{cursor:pointer;width:153px;height:36px;top:30%;left:50%;transform:translate(-40%);position:absolute;background:#4c9eff;box-shadow:2px 2px 5px #000;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;top:20%;left:55%;transform:translate(-40%)}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.edit[_ngcontent-%COMP%]:hover   .edit-tip[_ngcontent-%COMP%]{display:block;opacity:1;transition:.5s}.edit-tip[_ngcontent-%COMP%]{display:none;position:relative;background-color:#2f3033;color:#fff;padding:5px;width:-moz-fit-content;width:fit-content;margin:5px;top:100%;left:0;opacity:0;transition:.5s;z-index:100;border-radius:3px;font-weight:700;font-family:Trebuchet MS,sans-serif}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.detalles[_ngcontent-%COMP%]:hover   .detalles-tip[_ngcontent-%COMP%]{display:block;opacity:1;transition:.5s}.detalles-tip[_ngcontent-%COMP%]{display:none;position:relative;background-color:#2f3033;color:#fff;padding:5px;width:-moz-fit-content;width:fit-content;margin:5px;top:100%;left:0;opacity:0;transition:.5s;z-index:100;border-radius:3px;font-weight:700;font-family:Trebuchet MS,sans-serif}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;margin-left:2px;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.imprimir[_ngcontent-%COMP%]:hover   .imprimir-tip[_ngcontent-%COMP%]{display:block;opacity:1;transition:.5s}.imprimir-tip[_ngcontent-%COMP%]{display:none;position:relative;background-color:#2f3033;color:#fff;padding:5px;width:-moz-fit-content;width:fit-content;margin:5px;top:100%;left:0;opacity:0;transition:.5s;z-index:100;border-radius:3px;font-weight:700;font-family:Trebuchet MS,sans-serif}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.list[_ngcontent-%COMP%]{position:absolute;left:5%;top:48%;text-overflow:ellipsis;transform:none}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{transform:none;width:153px;height:36px;left:30%;top:38%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{transform:none;cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:80%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;transform:none;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;left:30%;top:28%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}}return n})();const JNe=["geo"];let e2e=(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.location=s,this.title="gestion-de-muestras-de-campo",this.data=[],this.somethingChange=new We}ngOnInit(){this.route.params.subscribe(t=>{this.text=t.id,console.log(t),console.log(t.id)}),this.getData(),this.MyQuery()}handleRegister(t){this.addData(t)}randomCode(){let t="";for(let o=0;o<20;o++)t+="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".charAt(Math.floor(62*Math.random()));return t}addData(t){let i=t.integrantes.split(/[\s,]+/);const r=Ce(this.firestore,"projects",this.pid);Er(r,{name:t.name,cliente:t.cliente,owner:t.owner,integrantes:i}).then(()=>{alert("Data Sent")}).catch(o=>{alert(o.message)}),console.log(t.comentarios)}getData(){const t=me(this.firestore,"projects");de(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude)}getLocation(){var t=this;return _(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{console.log(t.res)},1e3)})()}MyQuery(){var t=this;return _(function*(){let i=t.text;const r=Ut(me(t.firestore,"projects"),zt("name","==",i));(yield de(r)).forEach(s=>{t.item=s.data(),t.pid=s.id,console.log(s.id," => ",s.data())})})()}deleteData(t){const i=Ce(this.firestore,"projects",t);gn(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}editProyecto(){this.router.navigate(["user/project-edit/"+this.text])}backPage(){this.location.back()}static{this.\u0275fac=function(i){return new(i||n)(E(Se),E(nt),E(Be),E(Ze),E(ii))}}static{this.\u0275cmp=xe({type:n,selectors:[["app-project-info"]],viewQuery:function(i,r){if(1&i&&Fn(JNe,5),2&i){let o;yn(o=vn())&&(r.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:30,vars:4,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],[1,"input-field"],[1,"boton",3,"click"]],template:function(i,r){if(1&i){const o=ft();p(0,"p"),m(1,"project-info works!"),f(),p(2,"h1",0),m(3,"Datos del Projecto"),f(),p(4,"div",1)(5,"form",2,3),Q("ngSubmit",function(){Ae(o);const a=un(6);return ke(r.handleRegister(a.value))}),p(7,"div",4)(8,"div",5)(9,"span",6),m(10,"Nombre:"),f(),p(11,"span",7),m(12),f()(),p(13,"div",5)(14,"span",6),m(15,"Owner:"),f(),p(16,"span",7),m(17),f()(),p(18,"div",5)(19,"span",6),m(20,"Integrantes:"),f(),p(21,"span",7),m(22),f()(),p(23,"div",5)(24,"span",6),m(25,"Cliente:"),f(),p(26,"span",7),m(27),f()()()()(),p(28,"button",8),Q("click",function(){return r.editProyecto()}),m(29,"Editar Proyecto"),f()}2&i&&(V(12),De(" ",r.item.name,""),V(5),De(" ",r.item.owner,""),V(5),De(" ",r.item.integrantes,""),V(5),De(" ",r.item.cliente,""))},dependencies:[Vn,Ln,xn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:25%;flex-shrink:0;position:absolute;left:15%;top:30%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:5%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:12px 12px 12px 25px;height:20px;left:92px;color:#000;font-family:Arial;font-size:20px;letter-spacing:0}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:35%;top:20%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:80%;top:60%}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:0%;top:110%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.input-field[_ngcontent-%COMP%]{margin:6px 6px 6px 20px;height:20px;width:50%;left:92px;color:#000;font-family:Arial;font-size:16px;letter-spacing:0;text-overflow:ellipsis}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:20px;font-family:Arial;font-size:16px;letter-spacing:0}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:90%;height:25%;flex-shrink:0;position:absolute;left:5%;top:45%}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:70%;top:75%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:30%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}@media only screen and (min-width: 1536px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:900px;height:260px;flex-shrink:0;position:absolute;left:50%;top:45%;transform:translate(-50%,-50%)}.boton[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(310px)}.subTituloText[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%)}}"]})}}return n})();function t2e(n,e){if(1&n){const t=ft();p(0,"tr")(1,"td"),m(2),f(),p(3,"td"),m(4),f(),p(5,"td"),m(6),f(),p(7,"td"),m(8),f(),p(9,"td")(10,"button",8),Q("click",function(){const o=Ae(t).$implicit,s=Tt();return ke(s.Muestras(s.pid,o.codigo))}),f(),p(11,"button",9),Q("click",function(){const o=Ae(t).$implicit;return ke(Tt().infoUnidad(o.codigo))}),f(),p(12,"button",10),Q("click",function(){const o=Ae(t).$implicit;return ke(Tt().editUnidad(o.codigo))}),f()()()}if(2&n){const t=e.$implicit;V(2),Ve(t.codigo),V(2),Ve(t.cliente),V(2),Ve(t.altitud),V(2),Ve(t.coordenadas)}}let n2e=(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.location=s,this.data=[]}ngOnInit(){this.route.params.subscribe(t=>{this.pid=t.id,console.log(t),console.log(t.id)}),this.MyQuery()}getData(){const t=me(this.firestore,"unidad-produccion");de(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}updateData(t){const i=Ce(this.firestore,"unidad-produccion",t);Qi(i,{}).then(()=>{alert("Data updated"),this.getData()}).catch(r=>{alert(r.message)})}deleteData(t){const i=Ce(this.firestore,"unidad-produccion",t);gn(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["user/projects"])}Muestras(t,i){this.router.navigate(["user/muestras/"+t+"/"+i])}logOut(){si(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}newUnidad(t){this.router.navigate(["user/unidad-produccion-new/"+t])}editUnidad(t){this.router.navigate(["user/unidad-produccion-edit/"+t])}infoProject(t){this.router.navigate(["user/project-info/"+t])}infoUnidad(t){this.router.navigate(["user/unidad-produccion-info/"+t])}MyQuery(){var t=this;return _(function*(){let i=t.pid;console.log(i);const r=Ut(me(t.firestore,"unidad-produccion"),zt("project","==",i));de(r).then(s=>{t.data=[...s.docs.map(a=>({...a.data(),id:a.id}))]}),(yield de(r)).forEach(s=>{console.log(s.id," => ",s.data())})})()}backPage(){this.location.back()}static{this.\u0275fac=function(i){return new(i||n)(E(Se),E(nt),E(Be),E(Ze),E(ii))}}static{this.\u0275cmp=xe({type:n,selectors:[["app-unidad-produccion"]],decls:25,vars:1,consts:[[1,"subTituloText"],[1,"scanbutton"],[1,"scantext",3,"click"],[1,"list"],[1,"projectBlock"],[4,"ngFor","ngForOf"],["id","agregar",1,"boton",3,"click"],["id","volver",1,"boton",3,"click"],[1,"muestras",3,"click"],[1,"detalles",3,"click"],[1,"edit",3,"click"]],template:function(i,r){1&i&&(p(0,"p"),m(1,"unidad-produccion works!"),f(),p(2,"h1",0),m(3,"Unidades "),f(),p(4,"div",1)(5,"div",2),Q("click",function(){return r.Scan()}),m(6,"SCAN"),f()(),p(7,"div",3)(8,"div",4),m(9,"Proyecto"),f(),p(10,"table")(11,"tr")(12,"th"),m(13," Codigo "),f(),p(14,"th"),m(15," Cliente "),f(),p(16,"th"),m(17," Altitud"),f(),p(18,"th"),m(19," Coordenadas "),f(),Y(20,"th"),f(),Sn(21,t2e,13,4,"tr",5),f(),p(22,"button",6),Q("click",function(){return r.newUnidad(r.pid)}),m(23," Agregar "),f(),p(24,"button",7),Q("click",function(){return r.backPage()}),f()()),2&i&&(V(21),Lt("ngForOf",r.data))},dependencies:[Lr],styles:[".list[_ngcontent-%COMP%]{position:absolute;left:38%;top:38%}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.projectBlock[_ngcontent-%COMP%]{width:60%;height:35px;background:#3ec28f;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:20px;font-weight:700;letter-spacing:0;cursor:pointer}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:153px;height:36px;left:49%;top:30%;position:absolute;background:#4c9eff;border-radius:30px;box-shadow:2px 2px 5px #000}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}#volver[_ngcontent-%COMP%]{position:absolute;left:0%;border:none;width:50px;height:50px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(back-button-Edit4.8567daeed3ab1418.png)}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;text-shadow:2px 2px 5px black;left:45%;top:20%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.projectBlock[_ngcontent-%COMP%]{width:40%;height:25px;background:#3ec28f;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:14px;font-weight:700;letter-spacing:0;cursor:pointer}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:153px;height:36px;left:30%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:80%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}#volver[_ngcontent-%COMP%]{position:absolute;left:0%}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;left:30%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}}return n})();const i2e=["geo"];let r2e=(()=>{class n{static{this.text=""}constructor(t,i,r,o,s){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.location=s,this.title="gestion-de-muestras-de-campo",this.data=[],this.res="",this.somethingChange=new We,this.email=""}ngOnInit(){this.route.params.subscribe(t=>{this.pid=t.id})}handleRegister(t){console.log(t),this.addData(t),this.Home()}addData(t){const i=Ce(this.firestore,"unidad-produccion",t.codigo),r=Ho();Ds(r,o=>{o&&o.email&&(this.email=o.email)}),Er(i,{codigo:t.codigo,cliente:t.cliente,localidad:t.localidad,estado:t.estado,altitud:t.altitud,coordenadas:t.coordenadas,tempmax:t.tempmax,tempmin:t.tempmin,precipitacion:t.precipitacion}).then(()=>{alert("Data Sent")}).catch(o=>{alert(o.message)}),console.log(t.comentarios)}getData(){const t=me(this.firestore,"unidad-produccion");de(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude),n.text=t.coords.latitude+", "+t.coords.longitude,console.log(n.text)}getLocation(){var t=this;return _(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{t.res=n.text,console.log(t.res)},1e3)})()}Home(){this.router.navigate(["user/unidad-produccion-all"])}backPage(){this.location.back()}static{this.\u0275fac=function(i){return new(i||n)(E(Se),E(nt),E(Be),E(Ze),E(ii))}}static{this.\u0275cmp=xe({type:n,selectors:[["app-unidad-produccion-new"]],viewQuery:function(i,r){if(1&i&&Fn(i2e,5),2&i){let o;yn(o=vn())&&(r.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:105,vars:1,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],["name","codigo","ngModel","","placeholder","codigo","id","codigo","type","codigo",1,"input-field"],["name","cliente","ngModel","","placeholder","Cliente","id","cliente","type","cliente",1,"input-field"],["name","coordenadas","ngModel","","placeholder","Coordenadas","id","coordenadas","type","coordenadas",1,"input-field",3,"ngModel","ngModelChange"],[1,"bUbicacion",3,"click"],["src","../../../../assets/Ubicacion.png","alt","U"],["name","localidad","ngModel","","placeholder","Localidad","id","localidad","type","localidad",1,"input-field"],["name","municipio","ngModel","","placeholder","Municipio","id","municipio","type","municipio",1,"input-field"],["name","estado","ngModel","","placeholder","Estado","id","estado",1,"input-field"],["value","","disabled","","selected",""],["value","Amazonas"],["value","Anzo\xe1tegui"],["value","Apure"],["value","Aragua"],["value","Barinas"],["value","Bol\xedvar"],["value","Carabobo"],["value","Cojedes"],["value","Delta Amacuro"],["value","Dependencias Federales"],["value","Distrito Capital"],["value","Falc\xf3n"],["value","Gu\xe1rico"],["value","La Guaira"],["value","Lara"],["value","M\xe9rida"],["value","Miranda"],["value","Monagas"],["value","Nueva Esparta"],["value","Portuguesa"],["value","Sucre"],["value","T\xe1chira"],["value","Trujillo"],["value","Yaracuy"],["value","Zulia"],["name","altitud","ngModel","","placeholder","Altitud","id","altitud","type","altitud",1,"input-field"],["name","tempmax","ngModel","","placeholder","Temperaturas M\xe1ximas","id","tempmax","type","tempmax",1,"input-field"],["name","tempmin","ngModel","","placeholder","Temperaturas M\xednimas","id","tempmin","type","tempmin",1,"input-field"],["name","precipitacion","ngModel","","placeholder","Precipitaci\xf3n","id","precipitacion","type","precipitacion",1,"input-field"],[1,"boton"],["id","volver",3,"click"]],template:function(i,r){if(1&i){const o=ft();p(0,"p"),m(1,"unidad-produccion-new works!"),f(),p(2,"h1",0),m(3,"Nueva Unidad"),f(),p(4,"div",1)(5,"form",2,3),Q("ngSubmit",function(){Ae(o);const a=un(6);return ke(r.handleRegister(a.value))}),p(7,"div",4)(8,"div",5)(9,"span",6),m(10,"Nombre:"),f(),Y(11,"input",7),f(),p(12,"div",5)(13,"span",6),m(14,"Cliente:"),f(),Y(15,"input",8),f(),p(16,"div",5)(17,"span",6),m(18,"Coordenadas:"),f(),p(19,"input",9),st("ngModelChange",function(a){return dt(r.res,a)||(r.res=a),a}),f(),p(20,"div",10),Q("click",function(){return r.getLocation()}),Y(21,"img",11),f()(),p(22,"div",5)(23,"span",6),m(24,"Localidad:"),f(),Y(25,"input",12),f(),p(26,"div",5)(27,"span",6),m(28,"Municipio:"),f(),Y(29,"input",13),f(),p(30,"div",5)(31,"span",6),m(32,"Estado:"),f(),p(33,"select",14)(34,"option",15),m(35,"Seleccione un estado"),f(),p(36,"option",16),m(37,"Amazonas"),f(),p(38,"option",17),m(39,"Anzo\xe1tegui"),f(),p(40,"option",18),m(41,"Apure"),f(),p(42,"option",19),m(43,"Aragua"),f(),p(44,"option",20),m(45,"Barinas"),f(),p(46,"option",21),m(47,"Bol\xedvar"),f(),p(48,"option",22),m(49,"Carabobo"),f(),p(50,"option",23),m(51,"Cojedes"),f(),p(52,"option",24),m(53,"Delta Amacuro"),f(),p(54,"option",25),m(55,"Dependencias Federales"),f(),p(56,"option",26),m(57,"Distrito Capital"),f(),p(58,"option",27),m(59,"Falc\xf3n"),f(),p(60,"option",28),m(61,"Gu\xe1rico"),f(),p(62,"option",29),m(63,"La Guaira"),f(),p(64,"option",30),m(65,"Lara"),f(),p(66,"option",31),m(67,"M\xe9rida"),f(),p(68,"option",32),m(69,"Miranda"),f(),p(70,"option",33),m(71,"Monagas"),f(),p(72,"option",34),m(73,"Nueva Esparta"),f(),p(74,"option",35),m(75,"Portuguesa"),f(),p(76,"option",36),m(77,"Sucre"),f(),p(78,"option",37),m(79,"T\xe1chira"),f(),p(80,"option",38),m(81,"Trujillo"),f(),p(82,"option",39),m(83,"Yaracuy"),f(),p(84,"option",40),m(85,"Zulia"),f()()(),p(86,"div",5)(87,"span",6),m(88,"Altitud:"),f(),Y(89,"input",41),f(),p(90,"div",5)(91,"span",6),m(92,"Temperaturas M\xe1ximas:"),f(),Y(93,"input",42),f(),p(94,"div",5)(95,"span",6),m(96,"Temperaturas M\xednimas:"),f(),Y(97,"input",43),f(),p(98,"div",5)(99,"span",6),m(100,"Precipitaci\xf3n:"),f(),Y(101,"input",44),f(),p(102,"button",45),m(103,"Crear Unidad"),f(),p(104,"button",46),Q("click",function(){return r.backPage()}),f()()()()}2&i&&(V(19),ot("ngModel",r.res))},dependencies:[Vn,oc,sc,Ui,rc,vr,Ln,rr,xn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:65%;height:60%;flex-shrink:0;position:absolute;left:50%;top:30%;transform:translate(-30%)}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:3%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:70%;height:20px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:50%;top:19%;transform:translate(-50%)}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:88%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}#volver[_ngcontent-%COMP%]{font-size:16px;position:absolute;left:0%;top:100%;background:#d9d9d9;border:none;width:50px;height:50px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(back-button-Edit4.8567daeed3ab1418.png)}@media only screen and (max-width: 768px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:95%;height:60%;flex-shrink:0;position:absolute;left:2.5%;top:38%;transform:none}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.input-field[_ngcontent-%COMP%]{margin:10px 10px 10px 20px;height:20px;left:0}.blank[_ngcontent-%COMP%]{width:100%;height:16px;position:absolute;left:0%;top:110%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:20px;font-family:Arial;font-size:14px;letter-spacing:0}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:3%;top:3%}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:75%;top:98%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:20px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:28%;transform:none}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}#volver[_ngcontent-%COMP%]{font-size:16px;position:absolute;left:0%;top:100%;background:#d9d9d9;border:none;width:35px;height:35px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(back-button-Edit4.8567daeed3ab1418.png)}}@media only screen and (min-width: 1536px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:1100px;height:550px;flex-shrink:0;position:absolute;left:60%;top:50%;transform:translate(-50%,-35%)}.subTituloText[_ngcontent-%COMP%]{position:absolute;left:52%;transform:translate(-50%)}}"]})}}return n})();const o2e=["geo"];let s2e=(()=>{class n{static{this.text=""}constructor(t,i,r,o,s){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.location=s,this.title="gestion-de-muestras-de-campo",this.data=[],this.res="",this.somethingChange=new We}ngOnInit(){this.route.params.subscribe(t=>{this.x=t.id}),this.getData(),this.MyQuery()}handleRegister(t){this.addData(t),this.Home()}addData(t){var i=this;return _(function*(){console.log(t);const r=Ce(i.firestore,"unidad-produccion",t.codigo);Qi(r,{codigo:t.codigo,cliente:t.cliente,localidad:t.localidad,estado:t.estado,altitud:t.altitud,coordenadas:t.coordenadas,tempmax:t.tempmax,tempmin:t.tempmin,precipitacion:t.precipitacion}).then(()=>{alert("Data Sent")}).catch(o=>{alert(o.message)})})()}getData(){const t=me(this.firestore,"unidad-produccion");de(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}showPosition(t){n.text=t.coords.latitude+", "+t.coords.longitude}getLocation(){var t=this;return _(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{t.res=n.text},1e3)})()}MyQuery(){var t=this;return _(function*(){let i=t.x;const r=Ut(me(t.firestore,"unidad-produccion"),zt("codigo","==",i)),o=yield de(r);o.empty||o.forEach(s=>{t.item=s.data(),t.res=t.item.coordenadas})})()}deleteData(t){if(1==confirm("Seguro que desea eliminar esta Unidad de Producci\xf3n?")){const o=Ce(this.firestore,"unidad-produccion",this.x);gn(o).then(()=>{alert("Data Deleted"),this.router.navigate(["user/unidad-produccion-all"])}).catch(s=>{alert(s.message)})}}Home(){this.router.navigate(["user/unidad-produccion-all"])}backPage(){this.location.back()}static{this.\u0275fac=function(i){return new(i||n)(E(Se),E(nt),E(Be),E(Ze),E(ii))}}static{this.\u0275cmp=xe({type:n,selectors:[["app-unidad-produccion-edit"]],viewQuery:function(i,r){if(1&i&&Fn(o2e,5),2&i){let o;yn(o=vn())&&(r.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:108,vars:10,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],["name","codigo","ngModel","","placeholder","codigo","id","codigo","type","codigo",1,"input-field",3,"ngModel","ngModelChange"],["name","cliente","ngModel","","placeholder","Cliente","id","cliente","type","cliente",1,"input-field",3,"ngModel","ngModelChange"],["name","coordenadas","ngModel","","placeholder","Coordenadas","id","coordenadas","type","coordenadas",1,"input-field",3,"ngModel","ngModelChange"],[1,"bUbicacion",3,"click"],["src","../../../../assets/Ubicacion.png","alt","U"],["name","localidad","ngModel","","placeholder","Localidad","id","localidad","type","localidad",1,"input-field",3,"ngModel","ngModelChange"],["name","municipio","ngModel","","placeholder","Municipio","id","municipio","type","municipio",1,"input-field",3,"ngModel","ngModelChange"],["name","estado","ngModel","","placeholder","Estado","id","estado",1,"input-field",3,"ngModel","ngModelChange"],["value","","disabled","","selected",""],["value","Amazonas"],["value","Anzo\xe1tegui"],["value","Apure"],["value","Aragua"],["value","Barinas"],["value","Bol\xedvar"],["value","Carabobo"],["value","Cojedes"],["value","Delta Amacuro"],["value","Dependencias Federales"],["value","Distrito Capital"],["value","Falc\xf3n"],["value","Gu\xe1rico"],["value","La Guaira"],["value","Lara"],["value","M\xe9rida"],["value","Miranda"],["value","Monagas"],["value","Nueva Esparta"],["value","Portuguesa"],["value","Sucre"],["value","T\xe1chira"],["value","Trujillo"],["value","Yaracuy"],["value","Zulia"],["name","altitud","ngModel","","placeholder","Altitud","id","altitud","type","altitud",1,"input-field",3,"ngModel","ngModelChange"],["name","tempmax","ngModel","","placeholder","Temperaturas M\xe1ximas","id","tempmax","type","tempmax",1,"input-field",3,"ngModel","ngModelChange"],["name","tempmin","ngModel","","placeholder","Temperaturas M\xednimas","id","tempmin","type","tempmin",1,"input-field",3,"ngModel","ngModelChange"],["name","precipitacion","ngModel","","placeholder","Precipitaci\xf3n","id","precipitacion","type","precipitacion",1,"input-field",3,"ngModel","ngModelChange"],[1,"boton"],["type","button",1,"botonrojo",3,"click"],["type","button","id","volver",3,"click"],[1,"blank"]],template:function(i,r){if(1&i){const o=ft();p(0,"p"),m(1,"unidad-produccion-edit works!"),f(),p(2,"h1",0),m(3,"Editar Unidad"),f(),p(4,"div",1)(5,"form",2,3),Q("ngSubmit",function(){Ae(o);const a=un(6);return ke(r.handleRegister(a.value))}),p(7,"div",4)(8,"div",5)(9,"span",6),m(10,"Nombre:"),f(),p(11,"input",7),st("ngModelChange",function(a){return dt(r.item.codigo,a)||(r.item.codigo=a),a}),f()(),p(12,"div",5)(13,"span",6),m(14,"Cliente:"),f(),p(15,"input",8),st("ngModelChange",function(a){return dt(r.item.cliente,a)||(r.item.cliente=a),a}),f()(),p(16,"div",5)(17,"span",6),m(18,"Coordenadas:"),f(),p(19,"input",9),st("ngModelChange",function(a){return dt(r.res,a)||(r.res=a),a}),f(),p(20,"div",10),Q("click",function(){return r.getLocation()}),Y(21,"img",11),f()(),p(22,"div",5)(23,"span",6),m(24,"Localidad:"),f(),p(25,"input",12),st("ngModelChange",function(a){return dt(r.item.localidad,a)||(r.item.localidad=a),a}),f()(),p(26,"div",5)(27,"span",6),m(28,"Municipio:"),f(),p(29,"input",13),st("ngModelChange",function(a){return dt(r.item.municipio,a)||(r.item.municipio=a),a}),f()(),p(30,"div",5)(31,"span",6),m(32,"Estado:"),f(),p(33,"select",14),st("ngModelChange",function(a){return dt(r.item.estado,a)||(r.item.estado=a),a}),p(34,"option",15),m(35,"Seleccione un estado"),f(),p(36,"option",16),m(37,"Amazonas"),f(),p(38,"option",17),m(39,"Anzo\xe1tegui"),f(),p(40,"option",18),m(41,"Apure"),f(),p(42,"option",19),m(43,"Aragua"),f(),p(44,"option",20),m(45,"Barinas"),f(),p(46,"option",21),m(47,"Bol\xedvar"),f(),p(48,"option",22),m(49,"Carabobo"),f(),p(50,"option",23),m(51,"Cojedes"),f(),p(52,"option",24),m(53,"Delta Amacuro"),f(),p(54,"option",25),m(55,"Dependencias Federales"),f(),p(56,"option",26),m(57,"Distrito Capital"),f(),p(58,"option",27),m(59,"Falc\xf3n"),f(),p(60,"option",28),m(61,"Gu\xe1rico"),f(),p(62,"option",29),m(63,"La Guaira"),f(),p(64,"option",30),m(65,"Lara"),f(),p(66,"option",31),m(67,"M\xe9rida"),f(),p(68,"option",32),m(69,"Miranda"),f(),p(70,"option",33),m(71,"Monagas"),f(),p(72,"option",34),m(73,"Nueva Esparta"),f(),p(74,"option",35),m(75,"Portuguesa"),f(),p(76,"option",36),m(77,"Sucre"),f(),p(78,"option",37),m(79,"T\xe1chira"),f(),p(80,"option",38),m(81,"Trujillo"),f(),p(82,"option",39),m(83,"Yaracuy"),f(),p(84,"option",40),m(85,"Zulia"),f()()(),p(86,"div",5)(87,"span",6),m(88,"Altitud:"),f(),p(89,"input",41),st("ngModelChange",function(a){return dt(r.item.altitud,a)||(r.item.altitud=a),a}),f()(),p(90,"div",5)(91,"span",6),m(92,"Temperaturas M\xe1ximas:"),f(),p(93,"input",42),st("ngModelChange",function(a){return dt(r.item.tempmax,a)||(r.item.tempmax=a),a}),f()(),p(94,"div",5)(95,"span",6),m(96,"Temperaturas M\xednimas:"),f(),p(97,"input",43),st("ngModelChange",function(a){return dt(r.item.tempmin,a)||(r.item.tempmin=a),a}),f()(),p(98,"div",5)(99,"span",6),m(100,"Precipitaci\xf3n:"),f(),p(101,"input",44),st("ngModelChange",function(a){return dt(r.item.precipitacion,a)||(r.item.precipitacion=a),a}),f()(),p(102,"button",45),m(103,"Guardar"),f(),p(104,"button",46),Q("click",function(){return r.deleteData(r.item.id)}),m(105," Eliminar "),f(),p(106,"button",47),Q("click",function(){return r.backPage()}),f()(),Y(107,"div",48),f()()}2&i&&(V(11),ot("ngModel",r.item.codigo),V(4),ot("ngModel",r.item.cliente),V(4),ot("ngModel",r.res),V(6),ot("ngModel",r.item.localidad),V(4),ot("ngModel",r.item.municipio),V(4),ot("ngModel",r.item.estado),V(56),ot("ngModel",r.item.altitud),V(4),ot("ngModel",r.item.tempmax),V(4),ot("ngModel",r.item.tempmin),V(4),ot("ngModel",r.item.precipitacion))},dependencies:[Vn,oc,sc,Ui,rc,vr,Ln,rr,xn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:65%;min-height:550px;flex-shrink:0;position:absolute;left:30%;top:25%;transform:translate(0)}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:3%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:85%;height:20px;left:92px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:55%;top:17%;transform:translate(-50%)}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:85%;top:100%}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:70%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}#volver[_ngcontent-%COMP%]{font-size:16px;position:absolute;left:0%;top:100%;background:none;border:none;width:50px;height:50px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(back-button-Edit4.8567daeed3ab1418.png)}@media only screen and (max-width: 768px){.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.input-field[_ngcontent-%COMP%]{margin:6px 6px 6px 24px;height:20px;left:92px;color:#000;font-family:Arial;font-size:16px;letter-spacing:0;text-overflow:ellipsis}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:6px 6px 6px 22px;font-family:Arial;width:85%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:3%;top:2%}.Text[_ngcontent-%COMP%]{color:#000;height:-moz-fit-content;height:fit-content;font-family:Arial;font-size:16px;letter-spacing:0;margin-top:5px;margin-bottom:10px}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:95%;height:550px;flex-shrink:0;position:absolute;left:2.5%;top:35%}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:73%;top:110%;border:none;float:right;background-color:#3eb3c2;color:#fff;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;width:70px;border-width:0;border-radius:30px;font-size:12px;left:50%;top:110%}.blank[_ngcontent-%COMP%]{width:100%;height:16px;position:absolute;left:0%;top:110%}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:27%;transform:none}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}#volver[_ngcontent-%COMP%]{position:absolute;left:0%;top:110%;width:35px;height:35px}}@media only screen and (min-width: 1536px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:850px;min-height:560px;flex-shrink:0;position:absolute;left:30%;top:25%;transform:translate(0)}.subTituloText[_ngcontent-%COMP%]{position:absolute;left:45%;transform:translate(-50%)}.boton[_ngcontent-%COMP%]{position:absolute;left:45%;transform:translate(310px,15px)}.botonrojo[_ngcontent-%COMP%]{position:absolute;transform:translateY(15px)}}"]})}}return n})();const a2e=["geo"];let c2e=(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.location=s,this.title="gestion-de-muestras-de-campo",this.data=[],this.somethingChange=new We,this.getData(),this.MyQuery()}ngOnInit(){this.route.params.subscribe(t=>{this.text=t.id,console.log(t),console.log(t.id)}),this.getData(),this.MyQuery()}handleRegister(t){this.addData(t)}addData(t){const i=Ce(this.firestore,"unidad-produccion",t.codigo);Er(i,t).then(()=>{alert("Data Sent")}).catch(r=>{alert(r.message)}),console.log(t.comentarios)}getData(){const t=me(this.firestore,"unidad-produccion");de(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude)}getLocation(){var t=this;return _(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{console.log(t.res)},1e3)})()}MyQuery(){var t=this;return _(function*(){let i=t.text;const r=Ut(me(t.firestore,"unidad-produccion"),zt("codigo","==",i)),o=yield de(r);o.empty||o.forEach(s=>{t.item=s.data(),console.log(s.id," => ",s.data())})})()}editMuestra(){this.router.navigate(["user/unidad-produccion-edit/"+this.text])}deleteData(t){const i=Ce(this.firestore,"users",t);gn(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}backPage(){this.location.back()}static{this.\u0275fac=function(i){return new(i||n)(E(Se),E(nt),E(Be),E(Ze),E(ii))}}static{this.\u0275cmp=xe({type:n,selectors:[["app-unidad-produccion-info"]],viewQuery:function(i,r){if(1&i&&Fn(a2e,5),2&i){let o;yn(o=vn())&&(r.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:61,vars:10,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],[1,"input-field"],["type","button",1,"boton",3,"click"],["type","button","id","volver",3,"click"]],template:function(i,r){if(1&i){const o=ft();p(0,"p"),m(1,"unidad-produccion-info works!"),f(),p(2,"h1",0),m(3,"Datos de la Unidad"),f(),p(4,"div",1)(5,"form",2,3),Q("ngSubmit",function(){Ae(o);const a=un(6);return ke(r.handleRegister(a.value))}),p(7,"div",4)(8,"div",5)(9,"span",6),m(10,"Nombre:"),f(),p(11,"span",7),m(12),f()(),p(13,"div",5)(14,"span",6),m(15,"Cliente:"),f(),p(16,"span",7),m(17),f()(),p(18,"div",5)(19,"span",6),m(20,"Coordenadas:"),f(),p(21,"span",7),m(22),f()(),p(23,"div",5)(24,"span",6),m(25,"Localidad:"),f(),p(26,"span",7),m(27),f()(),p(28,"div",5)(29,"span",6),m(30,"Municipio:"),f(),p(31,"span",7),m(32),f()(),p(33,"div",5)(34,"span",6),m(35,"Estado:"),f(),p(36,"span",7),m(37),f()(),p(38,"div",5)(39,"span",6),m(40,"Altitud:"),f(),p(41,"span",7),m(42),f()(),p(43,"div",5)(44,"span",6),m(45,"Temperaturas M\xe1ximas:"),f(),p(46,"span",7),m(47),f()(),p(48,"div",5)(49,"span",6),m(50,"Temperaturas M\xednimas:"),f(),p(51,"span",7),m(52),f()(),p(53,"div",5)(54,"span",6),m(55,"Precipitaci\xf3n:"),f(),p(56,"span",7),m(57),f()()()(),p(58,"button",8),Q("click",function(){return r.editMuestra()}),m(59,"Guardar"),f(),p(60,"button",9),Q("click",function(){return r.backPage()}),f()()}2&i&&(V(12),De(" ",r.item.codigo,""),V(5),De(" ",r.item.cliente,""),V(5),De(" ",r.item.coordenadas,""),V(5),De(" ",r.item.localidad,""),V(5),De(" ",r.item.municipio,""),V(5),De(" ",r.item.cliente,""),V(5),De(" ",r.item.altitud,""),V(5),De(" ",r.item.tempmax,""),V(5),De(" ",r.item.tempmin,""),V(5),De(" ",r.item.precipitacion,""))},dependencies:[Vn,Ln,xn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;min-width:600px;min-height:550px;flex-shrink:0;position:absolute;left:55%;top:30%;transform:translate(-30%)}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:10%;top:7%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:12px 12px 12px 25px;height:20px;left:92px;color:#000;font-family:Arial;font-size:20px;letter-spacing:0}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:40%;top:20%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;height:25px;font-family:Arial;font-size:20px;font-weight:700;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:80%;top:86%}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:0%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}#volver[_ngcontent-%COMP%]{font-size:16px;position:absolute;left:5%;top:86%;background:none;border:none;width:50px;height:50px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(back-button-Edit4.8567daeed3ab1418.png)}@media only screen and (max-width: 768px){.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.input-field[_ngcontent-%COMP%]{margin:6px 6px 6px 15px;height:20px;left:92px;color:#000;font-family:Arial;font-size:16px;letter-spacing:0;text-overflow:ellipsis}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:5%;top:3%}.Text[_ngcontent-%COMP%]{color:#000;height:20px;font-family:Arial;font-size:16px;letter-spacing:0}.loginBox[_ngcontent-%COMP%]{margin:3px;padding:auto;box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:90%;height:35%;flex-shrink:0;position:absolute;left:5%;top:35%;transform:none}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:67%;top:72%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:12px;left:0%;top:110%}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:27%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}#volver[_ngcontent-%COMP%]{position:absolute;left:5%;top:72%;width:35px;height:35px}}@media only screen and (min-width: 1536px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:700px;height:500px;flex-shrink:0;position:absolute;left:50%;top:50%;transform:translate(-50%,-40%)}.subTituloText[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%)}.boton[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(235px)}}"]})}}return n})();function l2e(n,e){if(1&n){const t=ft();p(0,"tr")(1,"td"),m(2),f(),p(3,"td"),m(4),f(),p(5,"td"),m(6),f(),p(7,"td"),m(8),f(),p(9,"td")(10,"button",4),Q("click",function(){const o=Ae(t).$implicit;return ke(Tt().infoClients(o.email))}),f(),p(11,"button",5),Q("click",function(){const o=Ae(t).$implicit;return ke(Tt().editClients(o.email))}),f()()()}if(2&n){const t=e.$implicit;V(2),Ve(t.email),V(2),Ve(t.nombre),V(2),Ve(t.telefono),V(2),Ve(t.direccion)}}let u2e=(()=>{class n{constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.data=[],this.getData()}ngOnInit(){this.route.params.subscribe(t=>{this.item=t.id,console.log(t),console.log(t.id)})}getData(){const t=me(this.firestore,"clientes");de(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}updateData(t){const i=Ce(this.firestore,"muestras",t);Qi(i,{}).then(()=>{alert("Data updated"),this.getData()}).catch(r=>{alert(r.message)})}deleteData(t){const i=Ce(this.firestore,"muestras",t);gn(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["user/projects"])}logOut(){si(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}newClients(){this.router.navigate(["user/clients-new"])}editClients(t){this.router.navigate(["user/clients-edit/"+t])}infoClients(t){this.router.navigate(["user/clients-info/"+t])}infoMuestra(t){this.router.navigate(["user/muestras-info/"+t])}MyQuery(){var t=this;return _(function*(){let i=t.item;t.pid=i,console.log(i);const r=Ut(me(t.firestore,"muestras"),zt("project","==",i));de(r).then(s=>{t.data=[...s.docs.map(a=>({...a.data(),id:a.id}))]}),(yield de(r)).forEach(s=>{console.log(s.id," => ",s.data())})})()}static{this.\u0275fac=function(i){return new(i||n)(E(Se),E(nt),E(Be),E(Ze))}}static{this.\u0275cmp=xe({type:n,selectors:[["app-clients"]],decls:19,vars:1,consts:[[1,"subTituloText"],[1,"list"],[4,"ngFor","ngForOf"],["id","agregar",1,"boton",3,"click"],[1,"detalles",3,"click"],[1,"edit",3,"click"]],template:function(i,r){1&i&&(p(0,"p"),m(1,"clients works!"),f(),p(2,"h1",0),m(3,"Clientes"),f(),p(4,"div",1)(5,"table")(6,"tr")(7,"th"),m(8," Email "),f(),p(9,"th"),m(10," Nombre "),f(),p(11,"th"),m(12," Telefono"),f(),p(13,"th"),m(14," Direccion "),f(),Y(15,"th"),f(),Sn(16,l2e,12,4,"tr",2),f(),p(17,"button",3),Q("click",function(){return r.newClients()}),m(18," Agregar "),f()()),2&i&&(V(16),Lt("ngForOf",r.data))},dependencies:[Lr],styles:[".list[_ngcontent-%COMP%]{position:absolute;top:32%;left:50%;transform:translate(-25%)}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.projectBlock[_ngcontent-%COMP%]{width:auto;height:35px;background:#3ec28f;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:20px;font-weight:700;letter-spacing:0;cursor:pointer}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:153px;height:36px;top:30%;left:50%;transform:translate(-50%);position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:126px;height:16px;left:50%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;width:300px;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;top:20%;left:55%;transform:translate(-50%)}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;margin-left:2px;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.list[_ngcontent-%COMP%]{transform:none;position:absolute;left:2%;width:94%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{transform:none;width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{transform:none;width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{transform:none;position:absolute;left:80%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{transform:none;color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;left:30%;top:30%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}}return n})();const d2e=["geo"];let h2e=(()=>{class n{static{this.text=""}constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.title="gestion-de-muestras-de-campo",this.data=[],this.res="",this.somethingChange=new We}ngOnInit(){this.route.params.subscribe(t=>{this.pid=t.id})}handleRegister(t){this.addData(t)}addData(t){const i=Ce(this.firestore,"clientes",t.email);Er(i,{email:t.email,nombre:t.nombre,fecha:t.fecha,telefono:t.telefono,direccion:t.direccion}).then(()=>{alert("Data Sent")}).catch(r=>{alert(r.message)}),console.log(t.comentarios)}getData(){const t=me(this.firestore,"muestras");de(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude),n.text=t.coords.latitude+", "+t.coords.longitude,console.log(n.text)}getLocation(){var t=this;return _(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{t.res=n.text,console.log(t.res)},1e3)})()}static{this.\u0275fac=function(i){return new(i||n)(E(Se),E(nt),E(Be),E(Ze))}}static{this.\u0275cmp=xe({type:n,selectors:[["app-clients-new"]],viewQuery:function(i,r){if(1&i&&Fn(d2e,5),2&i){let o;yn(o=vn())&&(r.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:26,vars:0,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],["name","email","ngModel","","placeholder","Email","id","emai","type","email",1,"input-field"],["name","nombre","ngModel","","placeholder","Nombre","id","nombre","type","nombre",1,"input-field"],["name","telefono","ngModel","","placeholder","Telefono","id","telefono","type","telefono",1,"input-field"],["name","direccion","ngModel","","placeholder","Direccion","id","direccion","type","direccion",1,"input-field"],[1,"boton"]],template:function(i,r){if(1&i){const o=ft();p(0,"p"),m(1,"clients-new works!"),f(),p(2,"h1",0),m(3,"Nuevo Cliente"),f(),p(4,"div",1)(5,"form",2,3),Q("ngSubmit",function(){Ae(o);const a=un(6);return ke(r.handleRegister(a.value))}),p(7,"div",4)(8,"div",5)(9,"span",6),m(10,"Email:"),f(),Y(11,"input",7),f(),p(12,"div",5)(13,"span",6),m(14,"Nombre:"),f(),Y(15,"input",8),f(),p(16,"div",5)(17,"span",6),m(18,"Telefono:"),f(),Y(19,"input",9),f(),p(20,"div",5)(21,"span",6),m(22,"Direccion:"),f(),Y(23,"input",10),f(),p(24,"button",11),m(25,"Crear Cliente"),f()()()()}},dependencies:[Vn,Ui,vr,Ln,rr,xn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:65%;height:30%;flex-shrink:0;position:absolute;left:50%;top:25%;transform:translate(-30%)}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:3%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:85%;height:20px;position:relative;left:0}.input-field-2[_ngcontent-%COMP%]{margin:0;height:20px;position:relative;left:0}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:50%;top:17%;transform:translate(-50%)}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:143px;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;margin-left:5px;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:80%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:95%;height:30%;flex-shrink:0;position:absolute;left:2.5%;top:38%;transform:none}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.input-field[_ngcontent-%COMP%]{margin:10px 10px 10px 20px;height:20px;left:0}.blank[_ngcontent-%COMP%]{width:100%;height:16px;position:absolute;left:0%;top:110%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:20px;font-family:Arial;font-size:14px;letter-spacing:0}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:3%;top:3%}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:75%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:20px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:28%;transform:none}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}@media only screen and (min-width: 1536px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:850px;height:600px;flex-shrink:0;position:absolute;left:50%;top:50%;transform:translate(-50%,-35%)}.subTituloText[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%)}}"]})}}return n})();function f2e(n,e){if(1&n){const t=ft();p(0,"tr")(1,"td"),m(2),f(),p(3,"td"),m(4),f(),p(5,"td"),m(6),f(),p(7,"td"),m(8),f(),p(9,"td")(10,"button",4),Q("click",function(){const o=Ae(t).$implicit;return ke(Tt().Muestras(o.project,o.codigo))}),p(11,"div",5),m(12,"Listar Muestras"),f()(),p(13,"button",6),Q("click",function(){const o=Ae(t).$implicit;return ke(Tt().infoUnidad(o.codigo))}),p(14,"div",7),m(15,"Informaci\xf3n"),f()(),p(16,"button",8),Q("click",function(){const o=Ae(t).$implicit;return ke(Tt().editUnidad(o.codigo))}),p(17,"div",9),m(18,"Editar"),f()()()()}if(2&n){const t=e.$implicit;V(2),Ve(t.codigo),V(2),Ve(t.cliente),V(2),Ve(t.altitud),V(2),Ve(t.coordenadas)}}let p2e=(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.elem=s,this.data=[],this.getData()}ngOnInit(){this.route.params.subscribe(t=>{this.pid=t.id})}getData(){const t=me(this.firestore,"unidad-produccion");de(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}updateData(t){const i=Ce(this.firestore,"unidad-produccion",t);Qi(i,{}).then(()=>{alert("Data updated"),this.getData()}).catch(r=>{alert(r.message)})}deleteData(t){const i=Ce(this.firestore,"unidad-produccion",t);gn(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["user/projects"])}Muestras(t,i){this.router.navigate(["user/muestras/"+i])}logOut(){si(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}newUnidad(t){this.router.navigate(["user/unidad-produccion-new"])}editUnidad(t){this.router.navigate(["user/unidad-produccion-edit/"+t])}infoProject(t){this.router.navigate(["user/project-info/"+t])}infoUnidad(t){this.router.navigate(["user/unidad-produccion-info/"+t])}MyQuery(){var t=this;return _(function*(){let i=t.pid;const r=Ut(me(t.firestore,"unidad-produccion"),zt("project","==",i));de(r).then(s=>{t.data=[...s.docs.map(a=>({...a.data(),id:a.id}))]}),(yield de(r)).forEach(s=>{})})()}static{this.\u0275fac=function(i){return new(i||n)(E(Se),E(nt),E(Be),E(Ze),E(ln))}}static{this.\u0275cmp=xe({type:n,selectors:[["app-unidad-produccion-all"]],decls:17,vars:1,consts:[[1,"subTituloText"],[1,"list"],[4,"ngFor","ngForOf"],["id","agregar",1,"boton",3,"click"],[1,"muestras",3,"click"],[1,"muestras-tip"],[1,"detalles",3,"click"],[1,"detalles-tip"],[1,"edit",3,"click"],[1,"edit-tip"]],template:function(i,r){1&i&&(p(0,"h1",0),m(1,"Unidades de Producci\xf3n "),f(),p(2,"div",1)(3,"table")(4,"tr")(5,"th"),m(6," Nombre "),f(),p(7,"th"),m(8," Cliente "),f(),p(9,"th"),m(10," Altitud"),f(),p(11,"th"),m(12," Coordenadas "),f(),Y(13,"th"),f(),Sn(14,f2e,19,4,"tr",2),f(),p(15,"button",3),Q("click",function(){return r.newUnidad(r.pid)}),m(16," Agregar "),f()()),2&i&&(V(14),Lt("ngForOf",r.data))},dependencies:[Lr],styles:[".list[_ngcontent-%COMP%]{position:absolute;left:55%;top:30%;transform:translate(-30%)}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.projectBlock[_ngcontent-%COMP%]{width:auto;height:35px;background:#3ec28f;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:20px;font-weight:700;letter-spacing:0;cursor:pointer}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{cursor:pointer;width:153px;height:36px;left:50%;top:30%;transform:translate(0);position:absolute;background:#4c9eff;box-shadow:2px 2px 5px #000;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;width:650px;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;left:56%;top:20%;transform:translate(-35%)}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.edit[_ngcontent-%COMP%]:hover   .edit-tip[_ngcontent-%COMP%]{display:block;opacity:1;transition:.5s}.edit-tip[_ngcontent-%COMP%]{display:none;position:relative;background-color:#2f3033;color:#fff;padding:5px;width:-moz-fit-content;width:fit-content;margin:5px;top:100%;left:0;opacity:0;transition:.5s;z-index:100;border-radius:3px;font-weight:700;font-family:Trebuchet MS,sans-serif}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.muestras[_ngcontent-%COMP%]:hover   .muestras-tip[_ngcontent-%COMP%]{display:block;opacity:1;transition:.5s}.muestras-tip[_ngcontent-%COMP%]{display:none;position:relative;background-color:#2f3033;color:#fff;padding:5px;width:max-content;margin:5px;top:100%;left:0;opacity:0;transition:.5s;z-index:100;border-radius:3px;font-weight:700;font-family:Trebuchet MS,sans-serif}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.detalles[_ngcontent-%COMP%]:hover   .detalles-tip[_ngcontent-%COMP%]{display:block;opacity:1;transition:.5s}.detalles-tip[_ngcontent-%COMP%]{display:none;position:relative;background-color:#2f3033;color:#fff;padding:5px;width:-moz-fit-content;width:fit-content;margin:5px;top:100%;left:0;opacity:0;transition:.5s;z-index:100;border-radius:3px;font-weight:700;font-family:Trebuchet MS,sans-serif}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.list[_ngcontent-%COMP%]{transform:none;position:absolute;left:2%;top:50%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:153px;height:36px;transform:none;left:35%;top:40%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;transform:none;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:80%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;margin:0;width:200px;height:100px;font-family:Verdana;font-size:28px;letter-spacing:0;transform:none;position:absolute;left:30%;top:28%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}.muestras-tip[_ngcontent-%COMP%]{margin:5px;position:relative;top:-28px;left:-45px;font-size:10px}.detalles-tip[_ngcontent-%COMP%]{font-size:10px;position:relative;top:-28px;left:-48px}.edit-tip[_ngcontent-%COMP%]{font-size:10px;position:relative;top:-28px;left:-33px}}"]})}}return n})();const g2e=["geo"];let m2e=(()=>{class n{static{this.text=""}constructor(t,i,r,o,s){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.location=s,this.title="gestion-de-muestras-de-campo",this.data=[],this.res="",this.somethingChange=new We}ngOnInit(){this.route.params.subscribe(t=>{this.x=t.id,console.log(t),console.log(t.id)}),this.getData(),this.MyQuery()}handleRegister(t){this.addData(t),this.Home()}addData(t){var i=this;return _(function*(){console.log(t);const r=Ce(i.firestore,"clientes",t.email);Qi(r,{email:t.email,nombre:t.nombre,fecha:t.fecha,telefono:t.telefono,direccion:t.direccion}).then(()=>{alert("Data Sent")}).catch(o=>{alert(o.message)}),console.log(i.pid)})()}getData(){const t=me(this.firestore,"clientes");de(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude),n.text=t.coords.latitude+", "+t.coords.longitude}getLocation(){var t=this;return _(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{t.res=n.text,console.log(t.res)},1e3)})()}MyQuery(){var t=this;return _(function*(){let i=t.x;const r=Ut(me(t.firestore,"clientes"),zt("email","==",i)),o=yield de(r);o.empty||o.forEach(s=>{t.item=s.data(),console.log(s.id," => ",s.data()),t.res=t.item.coordenadas,t.pid=t.item.project})})()}deleteData(t){const r=Ce(this.firestore,"clientes",this.x);gn(r).then(()=>{alert("Data Deleted"),this.router.navigate(["user/muestras/"+this.pid])}).catch(o=>{alert(o.message)})}Home(){this.router.navigate(["user/projects"])}backPage(){this.location.back()}static{this.\u0275fac=function(i){return new(i||n)(E(Se),E(nt),E(Be),E(Ze),E(ii))}}static{this.\u0275cmp=xe({type:n,selectors:[["app-clients-edit"]],viewQuery:function(i,r){if(1&i&&Fn(g2e,5),2&i){let o;yn(o=vn())&&(r.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:26,vars:4,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],["name","email","ngModel","","placeholder","Email","id","emai","type","email",1,"input-field",3,"ngModel","ngModelChange"],["name","nombre","ngModel","","placeholder","Nombre","id","nombre","type","nombre",1,"input-field",3,"ngModel","ngModelChange"],["name","telefono","ngModel","","placeholder","Telefono","id","telefono","type","telefono",1,"input-field",3,"ngModel","ngModelChange"],["name","direccion","ngModel","","placeholder","Direccion","id","direccion","type","direccion",1,"input-field",3,"ngModel","ngModelChange"],[1,"boton"]],template:function(i,r){if(1&i){const o=ft();p(0,"p"),m(1,"clients-edit works!"),f(),p(2,"h1",0),m(3,"Nuevo Cliente"),f(),p(4,"div",1)(5,"form",2,3),Q("ngSubmit",function(){Ae(o);const a=un(6);return ke(r.handleRegister(a.value))}),p(7,"div",4)(8,"div",5)(9,"span",6),m(10,"Email:"),f(),p(11,"input",7),st("ngModelChange",function(a){return dt(r.item.email,a)||(r.item.email=a),a}),f()(),p(12,"div",5)(13,"span",6),m(14,"Nombre:"),f(),p(15,"input",8),st("ngModelChange",function(a){return dt(r.item.nombre,a)||(r.item.nombre=a),a}),f()(),p(16,"div",5)(17,"span",6),m(18,"Telefono:"),f(),p(19,"input",9),st("ngModelChange",function(a){return dt(r.item.telefono,a)||(r.item.telefono=a),a}),f()(),p(20,"div",5)(21,"span",6),m(22,"Direccion:"),f(),p(23,"input",10),st("ngModelChange",function(a){return dt(r.item.direccion,a)||(r.item.direccion=a),a}),f()(),p(24,"button",11),m(25,"Editar Cliente"),f()()()()}2&i&&(V(11),ot("ngModel",r.item.email),V(4),ot("ngModel",r.item.nombre),V(4),ot("ngModel",r.item.telefono),V(4),ot("ngModel",r.item.direccion))},dependencies:[Vn,Ui,vr,Ln,rr,xn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:30%;flex-shrink:0;position:absolute;left:15%;top:30%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:3%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:85%;height:20px;left:92px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:35%;top:20%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:80%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:40%;flex-shrink:0;transform:none;position:absolute;top:40%;left:50%;transform:translate(-50%)}.input-fields[_ngcontent-%COMP%]{font-size:12px}.main[_ngcontent-%COMP%]{width:75%;flex-shrink:0;margin-left:5px;position:absolute;top:0%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:14px;letter-spacing:0}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:75%;top:110%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;transform:none;position:absolute;top:30%;left:50%;transform:translate(-50%)}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}}return n})();const _2e=["geo"];let b2e=(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.location=s,this.title="gestion-de-muestras-de-campo",this.data=[],this.somethingChange=new We,this.getData(),this.MyQuery()}ngOnInit(){this.route.params.subscribe(t=>{this.text=t.id,console.log(t),console.log(t.id)}),this.getData(),this.MyQuery()}handleRegister(t){this.addData(t)}addData(t){const i=Ce(this.firestore,"clientes",t.codigo);Er(i,t).then(()=>{alert("Data Sent")}).catch(r=>{alert(r.message)}),console.log(t.comentarios)}getData(){const t=me(this.firestore,"clientes");de(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude)}getLocation(){var t=this;return _(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{console.log(t.res)},1e3)})()}MyQuery(){var t=this;return _(function*(){let i=t.text;const r=Ut(me(t.firestore,"clientes"),zt("email","==",i)),o=yield de(r);o.empty||o.forEach(s=>{t.item=s.data(),console.log(s.id," => ",s.data())})})()}editClients(){this.router.navigate(["user/clientes-edit/"+this.text])}deleteData(t){const i=Ce(this.firestore,"clientes",t);gn(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}backPage(){this.location.back()}static{this.\u0275fac=function(i){return new(i||n)(E(Se),E(nt),E(Be),E(Ze),E(ii))}}static{this.\u0275cmp=xe({type:n,selectors:[["app-clients-info"]],viewQuery:function(i,r){if(1&i&&Fn(_2e,5),2&i){let o;yn(o=vn())&&(r.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:30,vars:4,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],[1,"input-field"],[1,"boton",3,"click"]],template:function(i,r){if(1&i){const o=ft();p(0,"p"),m(1,"clients-info works!"),f(),p(2,"h1",0),m(3,"Informacion del Cliente"),f(),p(4,"div",1)(5,"form",2,3),Q("ngSubmit",function(){Ae(o);const a=un(6);return ke(r.handleRegister(a.value))}),p(7,"div",4)(8,"div",5)(9,"span",6),m(10,"Email:"),f(),p(11,"span",7),m(12),f()(),p(13,"div",5)(14,"span",6),m(15,"Nombre:"),f(),p(16,"span",7),m(17),f()(),p(18,"div",5)(19,"span",6),m(20,"Telefono:"),f(),p(21,"span",7),m(22),f()(),p(23,"div",5)(24,"span",6),m(25,"Direccion:"),f(),p(26,"span",7),m(27),f()()()()(),p(28,"button",8),Q("click",function(){return r.editClients()}),m(29,"Editar Cliente"),f()}2&i&&(V(12),De(" ",r.item.email,""),V(5),De(" ",r.item.nombre,""),V(5),De(" ",r.item.telefono,""),V(5),De(" ",r.item.direccion,""))},dependencies:[Vn,Ln,xn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:25%;flex-shrink:0;position:absolute;left:15%;top:30%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:3%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:85%;height:20px;left:92px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:35%;top:20%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:80%;top:58%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:35%;flex-shrink:0;position:absolute;top:45%}.input-fields[_ngcontent-%COMP%]{font-size:12px}.main[_ngcontent-%COMP%]{width:75%;height:35%;flex-shrink:0;margin-left:5px;position:absolute;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:14px;letter-spacing:0}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:75%;top:110%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:35%;top:30%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}}return n})(),y2e=(()=>{class n{constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.data=[]}ngOnInit(){let t;this.route.params.subscribe(i=>{this.item=i.id,t=i.id,console.log(i),console.log(i.id),this.generateBarcode(t)})}generateBarcode(t){var i=t;console.log(t),console.log(i),this.res=i,Hw("#barcode",i,{format:"CODE128"})}toPrint(){window.open("/print/"+this.res,"_blank")}static{this.\u0275fac=function(i){return new(i||n)(E(Se),E(nt),E(Be),E(Ze))}}static{this.\u0275cmp=xe({type:n,selectors:[["app-barcode-cantidad"]],standalone:!0,features:[_o],decls:5,vars:0,consts:[["onclick","window.print(this)","id","barcode"],[1,"print",3,"click"]],template:function(i,r){1&i&&(p(0,"p"),m(1,"barcode-cantidad works!"),f(),Q_(),Y(2,"svg",0),jC(),p(3,"button",1),Q("click",function(){return r.toPrint()}),m(4,"Print"),f())},styles:[".main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:100%;left:5%;top:20%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.print[_ngcontent-%COMP%]{position:absolute;width:10%;left:45%;top:20%}svg[_ngcontent-%COMP%]{position:absolute;left:44%;top:35%}button[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:24px;font-weight:700;cursor:pointer;border-radius:30px}@media only screen and (max-width: 768px){.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:100%;left:5%;top:20%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.print[_ngcontent-%COMP%]{position:absolute;width:30%;left:40%;top:20%}svg[_ngcontent-%COMP%]{position:absolute;left:30%;top:35%}button[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:24px;font-weight:700;cursor:pointer;border-radius:30px}}"]})}}return n})();function v2e(n,e){if(1&n&&(p(0,"option",16),m(1),f()),2&n){const t=e.$implicit;Lt("value",t),V(),Ve(t)}}let w2e=(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.location=s,this.unidadProduccionNombres=[],this.data=[],this.num=1,this.getUnidadesProduccion()}ngOnInit(){let t;this.route.params.subscribe(i=>{this.item=i.id,t=i.id,this.generateBarcode(t)})}handleRegister(t){this.addData(t),this.Barcode(t.codigo)}generateBarcode(t){var r=t;this.res=r,Hw("#barcode",r,{format:"CODE128"})}getUnidadesProduccion(){var t=this;return _(function*(){(yield de(me(t.firestore,"unidad-produccion"))).forEach(r=>{t.unidadProduccionNombres.push(r.data().codigo)})})()}generateSVG(t,i){for(let r=0;r<t;r++){const o=document.createElement("div"),s=document.createElement("svg");o.setAttribute("class","subcode"),s.setAttribute("id","barcode"+r),document.getElementById("codes")?.appendChild(s)}}addData(t){let i=Ce(this.firestore,"muestras",t.codigo);Er(i,{codigo:t.codigo,unidad:t.ud})}toPrint(t){this.router.navigate(["/print/"+this.res+"/"+t])}sleep(t){return _(function*(){return new Promise(i=>setTimeout(i,t))})()}backPage(){this.location.back()}Barcode(t){this.router.navigate(["user/barcode/"+t])}static{this.\u0275fac=function(i){return new(i||n)(E(Se),E(nt),E(Be),E(Ze),E(ii))}}static{this.\u0275cmp=xe({type:n,selectors:[["app-barcode-new"]],decls:23,vars:1,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"group1"],[1,"input-fields"],[1,"Text"],["list","Unidad","name","ud","ngModel","","placeholder","Unidad de Producci\xf3n","id","ud","type","ud",1,"input-field"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],[1,"group2"],["name","codigo","ngModel","","placeholder","Codigo","id","codigo","type","codigo",1,"input-field"],[1,"red"],[1,"print"],["type","button","id","volver",3,"click"],[3,"value"]],template:function(i,r){if(1&i){const o=ft();p(0,"h1",0),m(1,"Generar Codigo"),f(),p(2,"div",1)(3,"form",2,3),Q("ngSubmit",function(){Ae(o);const a=un(4);return ke(r.handleRegister(a.value))}),p(5,"div",4)(6,"div",5)(7,"div",6)(8,"span",7),m(9,"Unidad de Producci\xf3n: "),f(),p(10,"select",8),Y(11,"option",9),Sn(12,v2e,2,2,"option",10),f()()(),p(13,"div",11)(14,"div",6)(15,"span",7),m(16," Codigo: "),f(),Y(17,"input",12),p(18,"span",13),m(19," * (obligatorio) "),f()()(),p(20,"button",14),m(21,"Generar"),f(),p(22,"button",15),Q("click",function(){return r.backPage()}),f()()()()}2&i&&(V(12),Lt("ngForOf",r.unidadProduccionNombres))},dependencies:[Lr,Vn,oc,sc,Ui,rc,vr,Ln,rr,xn],styles:[".main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;margin:10px;height:95%;width:95%}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;height:64px;width:625px;font-family:Verdana;font-size:56px;letter-spacing:0;text-shadow:2px 2px 5px black;left:65%;top:20%;transform:translate(-40%)}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:625px;height:225px;flex-shrink:0;position:absolute;top:55%;left:65%;transform:translate(-50%,-50%)}.group2[_ngcontent-%COMP%]{display:inline}.input-fields[_ngcontent-%COMP%]{position:inherit;margin:25px 10px;top:25px}.Text[_ngcontent-%COMP%]{display:inline;font-family:Arial;text-align:center;font-size:24px;font-weight:700}.Opcional[_ngcontent-%COMP%]{display:inline;font-family:Arial;text-align:center;font-size:16px}.red[_ngcontent-%COMP%]{display:inline;font-family:Arial;text-align:center;font-size:16px;color:red}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{height:20px;width:35%;font-size:16px}.print[_ngcontent-%COMP%]{position:absolute;top:60%;left:75%}svg[_ngcontent-%COMP%]{position:absolute;left:44%;top:32%}button[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:24px;font-weight:700;cursor:pointer;border-radius:30px}#volver[_ngcontent-%COMP%]{font-size:16px;position:absolute;left:5%;top:60%;border:none;width:50px;height:50px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(back-button-Edit4.8567daeed3ab1418.png)}#barcode[_ngcontent-%COMP%]{display:inline;border:2px solid rgb(0,0,0);box-shadow:2px 2px 5px #000}@media only screen and (max-width: 768px){.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:100%;height:100%;left:0%;top:0%;transform:none}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;margin:0;width:100%;height:30px;font-family:Verdana;font-size:28px;text-align:center;letter-spacing:0;transform:none;position:absolute;left:0%;top:30%}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:35%;transform:none;position:absolute;left:10%;top:40%}.input-fields[_ngcontent-%COMP%]{position:inherit;width:100%;top:25px}.Text[_ngcontent-%COMP%]{display:inline;font-family:Arial;font-size:20px}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:10px;height:20px;width:80%;font-size:16px}.print[_ngcontent-%COMP%]{position:absolute;left:57%;top:73%;font-size:16px}#test[_ngcontent-%COMP%]{position:absolute;left:30%;top:60%;display:none}#codes[_ngcontent-%COMP%]{position:absolute;left:30%;top:35%}svg[_ngcontent-%COMP%]{position:absolute;left:25%;top:30%;margin:15px 0}.space[_ngcontent-%COMP%]{height:200px}#barcode[_ngcontent-%COMP%]{display:inline;border:2px solid rgb(0,0,0);box-shadow:2px 2px 5px #000}.red[_ngcontent-%COMP%]{display:block;font-family:Arial;text-align:left;font-size:16px;color:red}button[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:20px;font-weight:700;cursor:pointer;border-radius:30px}#volver[_ngcontent-%COMP%]{font-size:16px;transform:none;position:absolute;left:10%;top:75%;border:none;width:36px;height:36px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(back-button-Edit4.8567daeed3ab1418.png)}}"]})}}return n})();function x2e(n,e){if(1&n){const t=ft();p(0,"tr")(1,"td"),m(2),f(),p(3,"td"),m(4),f(),p(5,"td"),m(6),f(),p(7,"td"),m(8),f(),p(9,"td")(10,"button",3),Q("click",function(){const o=Ae(t).$implicit;return ke(Tt().infoMuestra(o.codigo))}),p(11,"div",4),m(12,"Informaci\xf3n"),f()(),p(13,"button",5),Q("click",function(){const o=Ae(t).$implicit;return ke(Tt().editMuestra(o.codigo))}),p(14,"div",6),m(15,"Editar"),f()(),p(16,"button",7),Q("click",function(){const o=Ae(t).$implicit;return ke(Tt().Barcode(o.codigo))}),p(17,"div",8),m(18,"Imprimir"),f()()()()}if(2&n){const t=e.$implicit;V(2),Ve(t.codigo),V(2),Ve(t.fecha),V(2),Ve(t.cultivo),V(2),Ve(t.estadoDiag)}}const C2e=[{path:"user",component:TK,children:[{path:"projects",component:$Pe},{path:"project-new",component:QPe},{path:"project-edit/:id",component:YNe},{path:"project-info/:id",component:e2e},{path:"barcode/:id",component:WPe},{path:"barcode-cantidad/:id",component:y2e},{path:"barcode-new",component:w2e},{path:"muestras/:up",component:qPe},{path:"muestras-new/:id",component:wNe},{path:"muestras-edit/:id",component:HNe},{path:"muestras-info/:id",component:KNe},{path:"muestras-all",component:ZNe},{path:"unidad-produccion/:id",component:n2e},{path:"unidad-produccion-new",component:r2e},{path:"unidad-produccion-edit/:id",component:s2e},{path:"unidad-produccion-info/:id",component:c2e},{path:"unidad-produccion-all",component:p2e},{path:"clients",component:u2e},{path:"clients-new",component:h2e},{path:"clients-edit/:id",component:m2e},{path:"clients-info/:id",component:b2e},{path:"resultados",component:(()=>{class n{constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.data=[],this.getData()}ngOnInit(){this.route.params.subscribe(t=>{this.item=t.id,console.log(t),console.log(t.id)})}getData(){const t=me(this.firestore,"muestras");de(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}updateData(t){const i=Ce(this.firestore,"muestras",t);Qi(i,{}).then(()=>{alert("Data updated"),this.getData()}).catch(r=>{alert(r.message)})}deleteData(t){const i=Ce(this.firestore,"muestras",t);gn(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["user/projects"])}logOut(){si(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}newMuestra(){this.router.navigate(["user/muestras-new"])}editMuestra(t){this.router.navigate(["user/muestras-edit/"+t])}infoProject(t){this.router.navigate(["user/project-edit/"+t])}infoMuestra(t){this.router.navigate(["user/muestras-info/"+t])}Barcode(t){this.router.navigate(["user/barcode/"+t])}MyQuery(){var t=this;return _(function*(){let i=t.item;t.pid=i,console.log(i);const r=Ut(me(t.firestore,"muestras"),zt("project","==",i));de(r).then(s=>{t.data=[...s.docs.map(a=>({...a.data(),id:a.id}))]}),(yield de(r)).forEach(s=>{console.log(s.id," => ",s.data())})})()}static{this.\u0275fac=function(i){return new(i||n)(E(Se),E(nt),E(Be),E(Ze))}}static{this.\u0275cmp=xe({type:n,selectors:[["app-resultados"]],decls:15,vars:1,consts:[[1,"subTituloText"],[1,"list"],[4,"ngFor","ngForOf"],[1,"detalles",3,"click"],[1,"detalles-tip"],[1,"edit",3,"click"],[1,"edit-tip"],[1,"imprimir",3,"click"],[1,"imprimir-tip"]],template:function(i,r){1&i&&(p(0,"h1",0),m(1,"Resultados"),f(),p(2,"div",1)(3,"table")(4,"tr")(5,"th"),m(6," Codigo "),f(),p(7,"th"),m(8," Fecha "),f(),p(9,"th"),m(10," Cultivo "),f(),p(11,"th"),m(12," Estado "),f(),Y(13,"th"),f(),Sn(14,x2e,19,4,"tr",2),f()()),2&i&&(V(14),Lt("ngForOf",r.data))},dependencies:[Lr],styles:[".list[_ngcontent-%COMP%]{position:absolute;top:30%;left:55%;transform:translate(-40%)}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.projectBlock[_ngcontent-%COMP%]{width:auto;height:35px;background:#3ec28f;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:20px;font-weight:700;letter-spacing:0;cursor:pointer}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{cursor:pointer;width:153px;height:36px;top:30%;left:50%;transform:translate(-40%);position:absolute;background:#4c9eff;box-shadow:2px 2px 5px #000;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;top:20%;left:55%;transform:translate(-40%)}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.edit[_ngcontent-%COMP%]:hover   .edit-tip[_ngcontent-%COMP%]{display:block;opacity:1;transition:.5s}.edit-tip[_ngcontent-%COMP%]{display:none;position:relative;background-color:#2f3033;color:#fff;padding:5px;width:-moz-fit-content;width:fit-content;margin:5px;top:100%;left:0;opacity:0;transition:.5s;z-index:100;border-radius:3px;font-weight:700;font-family:Trebuchet MS,sans-serif}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.detalles[_ngcontent-%COMP%]:hover   .detalles-tip[_ngcontent-%COMP%]{display:block;opacity:1;transition:.5s}.detalles-tip[_ngcontent-%COMP%]{display:none;position:relative;background-color:#2f3033;color:#fff;padding:5px;width:-moz-fit-content;width:fit-content;margin:5px;top:100%;left:0;opacity:0;transition:.5s;z-index:100;border-radius:3px;font-weight:700;font-family:Trebuchet MS,sans-serif}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;margin-left:2px;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.imprimir[_ngcontent-%COMP%]:hover   .imprimir-tip[_ngcontent-%COMP%]{display:block;opacity:1;transition:.5s}.imprimir-tip[_ngcontent-%COMP%]{display:none;position:relative;background-color:#2f3033;color:#fff;padding:5px;width:-moz-fit-content;width:fit-content;margin:5px;top:100%;left:0;opacity:0;transition:.5s;z-index:100;border-radius:3px;font-weight:700;font-family:Trebuchet MS,sans-serif}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.list[_ngcontent-%COMP%]{position:absolute;left:5%;top:48%;text-overflow:ellipsis;transform:none}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{transform:none;width:153px;height:36px;left:30%;top:38%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{transform:none;cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:80%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;transform:none;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;left:30%;top:28%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}}return n})()},{path:"scan",component:zNe}]}];let E2e=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=et({type:n})}static{this.\u0275inj=Je({imports:[Br.forChild(C2e),Br]})}}return n})();function W2(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function TX(n){return Bn((e,t)=>n<=t)}function $2e(n,e){return n===e}let G2e=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),q2e=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=et({type:n})}static{this.\u0275inj=Je({providers:[G2e]})}}return n})();function Ox(n){return Array.isArray(n)?n:[n]}function li(n){return null==n?"":"string"==typeof n?n:`${n}px`}function gf(n){return n instanceof ln?n.nativeElement:n}const IX=new Set;let vu,K2e=(()=>{class n{constructor(t,i){this._platform=t,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Y2e}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function Q2e(n,e){if(!IX.has(n))try{vu||(vu=document.createElement("style"),e&&(vu.nonce=e),vu.setAttribute("type","text/css"),document.head.appendChild(vu)),vu.sheet&&(vu.sheet.insertRule(`@media ${n} {body{ }}`,0),IX.add(n))}catch(t){console.error(t)}}(t,this._nonce),this._matchMedia(t)}static{this.\u0275fac=function(i){return new(i||n)(H(Oi),H(WC,8))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Y2e(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let MX=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new vt}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return DX(Ox(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let o=av(DX(Ox(t)).map(s=>this._registerQuery(s).observable));return o=Fd(o.pipe(Xn(1)),o.pipe(TX(1),function EX(n,e=dg){return Mn((t,i)=>{let r=null,o=null,s=null;const a=()=>{if(r){r.unsubscribe(),r=null;const l=o;o=null,i.next(l)}};function c(){const l=s+n,u=e.now();if(u<l)return r=this.schedule(void 0,l-u),void i.add(r);a()}t.subscribe(_n(i,l=>{o=l,s=e.now(),r||(r=e.schedule(c,n),i.add(r))},()=>{a(),i.complete()},void 0,()=>{o=r=null}))})}(0))),o.pipe(Le(s=>{const a={matches:!1,breakpoints:{}};return s.forEach(({matches:c,query:l})=>{a.matches=a.matches||c,a.breakpoints[l]=c}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),o={observable:new Yt(s=>{const a=c=>this._zone.run(()=>s.next(c));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(jI(i),Le(({matches:s})=>({query:t,matches:s})),dv(this._destroySubject)),mql:i};return this._queries.set(t,o),o}static{this.\u0275fac=function(i){return new(i||n)(H(K2e),H(Me))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function DX(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}const mf_Medium="(min-width: 960px) and (max-width: 1279.98px)",mf_Large="(min-width: 1280px) and (max-width: 1919.98px)";let K2=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function tFe(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const i=function eFe(n){try{return n.frameElement}catch{return null}}(function lFe(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(i&&(-1===OX(i)||!this.isVisible(i)))return!1;let r=t.nodeName.toLowerCase(),o=OX(t);return t.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function aFe(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,i){return function cFe(n){return!function iFe(n){return function oFe(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function nFe(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function rFe(n){return function sFe(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||kX(n))}(t)&&!this.isDisabled(t)&&(i?.ignoreVisibility||this.isVisible(t))}static{this.\u0275fac=function(i){return new(i||n)(H(Oi))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function kX(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function OX(n){if(!kX(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class PX{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,t,i,r,o=!1){this._element=e,this._checker=t,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const i=this._getFirstTabbableElement(t);return i?.focus(e),!!i}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=0;i<t.length;i++){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[i]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=t.length-1;i>=0;i--){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[i]):null;if(r)return r}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(Xn(1)).subscribe(e)}}let RX=(()=>{class n{constructor(t,i,r){this._checker=t,this._ngZone=i,this._document=r}create(t,i=!1){return new PX(t,this._checker,this._ngZone,this._document,i)}static{this.\u0275fac=function(i){return new(i||n)(H(K2),H(Me),H(ht))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function NX(n){return 0===n.buttons||0===n.detail}function FX(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const uFe=new X("cdk-input-modality-detector-options"),dFe={ignoreKeys:[18,17,224,91,16]},_f=$m({passive:!0,capture:!0});let hFe=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,i,r,o){this._platform=t,this._mostRecentTarget=null,this._modality=new fr(null),this._lastTouchMs=0,this._onKeydown=s=>{this._options?.ignoreKeys?.some(a=>a===s.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Rc(s))},this._onMousedown=s=>{Date.now()-this._lastTouchMs<650||(this._modality.next(NX(s)?"keyboard":"mouse"),this._mostRecentTarget=Rc(s))},this._onTouchstart=s=>{FX(s)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Rc(s))},this._options={...dFe,...o},this.modalityDetected=this._modality.pipe(TX(1)),this.modalityChanged=this.modalityDetected.pipe(function H2e(n,e=Fa){return n=n??$2e,Mn((t,i)=>{let r,o=!0;t.subscribe(_n(i,s=>{const a=e(s);(o||!n(r,a))&&(o=!1,r=a,i.next(s))}))})}()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,_f),r.addEventListener("mousedown",this._onMousedown,_f),r.addEventListener("touchstart",this._onTouchstart,_f)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,_f),document.removeEventListener("mousedown",this._onMousedown,_f),document.removeEventListener("touchstart",this._onTouchstart,_f))}static{this.\u0275fac=function(i){return new(i||n)(H(Oi),H(Me),H(ht),H(uFe,8))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Px=function(n){return n[n.IMMEDIATE=0]="IMMEDIATE",n[n.EVENTUAL=1]="EVENTUAL",n}(Px||{});const pFe=new X("cdk-focus-monitor-default-options"),Rx=$m({passive:!0,capture:!0});let Q2=(()=>{class n{constructor(t,i,r,o,s){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new vt,this._rootNodeFocusAndBlurListener=a=>{for(let l=Rc(a);l;l=l.parentElement)"focus"===a.type?this._onFocus(a,l):this._onBlur(a,l)},this._document=o,this._detectionMode=s?.detectionMode||Px.IMMEDIATE}monitor(t,i=!1){const r=gf(t);if(!this._platform.isBrowser||1!==r.nodeType)return we();const o=function RSe(n){if(function PSe(){if(null==aN){const n=typeof document<"u"?document.head:null;aN=!(!n||!n.createShadowRoot&&!n.attachShadow)}return aN}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),s=this._elementInfo.get(r);if(s)return i&&(s.checkChildren=!0),s.subject;const a={checkChildren:i,subject:new vt,rootNode:o};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){const i=gf(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const o=gf(t);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([a,c])=>this._originChanged(a,i,c)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return this._detectionMode===Px.EVENTUAL||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,this._detectionMode===Px.IMMEDIATE&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),o=Rc(t);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,Rx),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,Rx)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(dv(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Rx),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Rx),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,o)=>{(o===t||r.checkChildren&&o.contains(t))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const o=t.labels;if(o)for(let s=0;s<o.length;s++)if(o[s].contains(i))return!0;return!1}static{this.\u0275fac=function(i){return new(i||n)(H(Me),H(Oi),H(hFe),H(ht,8),H(pFe,8))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var wu=function(n){return n[n.NONE=0]="NONE",n[n.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",n[n.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",n}(wu||{});const VX="cdk-high-contrast-black-on-white",BX="cdk-high-contrast-white-on-black",Y2="cdk-high-contrast-active";let UX=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=J(MX).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return wu.NONE;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return wu.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return wu.BLACK_ON_WHITE}return wu.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(Y2,VX,BX),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();i===wu.BLACK_ON_WHITE?t.add(Y2,VX):i===wu.WHITE_ON_BLACK&&t.add(Y2,BX)}}static{this.\u0275fac=function(i){return new(i||n)(H(Oi),H(ht))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),gFe=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}static{this.\u0275fac=function(i){return new(i||n)(H(UX))}}static{this.\u0275mod=et({type:n})}static{this.\u0275inj=Je({imports:[q2e]})}}return n})();const mFe=["addListener","removeListener"],_Fe=["addEventListener","removeEventListener"],bFe=["on","off"];function C_(n,e,t,i){if(yt(t)&&(i=t,t=void 0),i)return C_(n,e,t).pipe(bI(i));const[r,o]=function wFe(n){return yt(n.addEventListener)&&yt(n.removeEventListener)}(n)?_Fe.map(s=>a=>n[s](e,a,t)):function yFe(n){return yt(n.addListener)&&yt(n.removeListener)}(n)?mFe.map(zX(n,e)):function vFe(n){return yt(n.on)&&yt(n.off)}(n)?bFe.map(zX(n,e)):[];if(!r&&mI(n))return xi(s=>C_(s,e,t))(Bi(n));if(!r)throw new TypeError("Invalid event target");return new Yt(s=>{const a=(...c)=>s.next(1<c.length?c:c[0]);return r(a),()=>o(a)})}function zX(n,e){return t=>i=>n[t](e,i)}const E_={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=E_;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(o=>{t=void 0,n(o)});return new ui(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=E_;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=E_;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class CFe extends Gv{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class xFe extends $v{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=E_.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:o}=e;null!=t&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==t&&(E_.cancelAnimationFrame(t),e._scheduled=void 0)}});let X2,TFe=1;const Nx={};function jX(n){return n in Nx&&(delete Nx[n],!0)}const IFe={setImmediate(n){const e=TFe++;return Nx[e]=!0,X2||(X2=Promise.resolve()),X2.then(()=>jX(e)&&n()),e},clearImmediate(n){jX(n)}},{setImmediate:MFe,clearImmediate:DFe}=IFe,Fx={setImmediate(...n){const{delegate:e}=Fx;return(e?.setImmediate||MFe)(...n)},clearImmediate(n){const{delegate:e}=Fx;return(e?.clearImmediate||DFe)(n)},delegate:void 0};new class AFe extends Gv{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class SFe extends $v{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=Fx.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:o}=e;null!=t&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==t&&(Fx.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}});function Z2(n=0,e,t=Nwe){let i=-1;return null!=e&&(L6(e)?t=e:i=e),new Yt(r=>{let o=function PFe(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function HX(n,e=dg){return function OFe(n){return Mn((e,t)=>{let i=!1,r=null,o=null,s=!1;const a=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const l=r;r=null,t.next(l)}s&&t.complete()},c=()=>{o=null,s&&t.complete()};e.subscribe(_n(t,l=>{i=!0,r=l,o||Bi(n(l)).subscribe(o=_n(t,a,c))},()=>{s=!0,(!i||!o||o.closed)&&t.complete()}))})}(()=>Z2(n,e))}const RFe=new X("cdk-dir-doc",{providedIn:"root",factory:function NFe(){return J(ht)}}),FFe=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let J2=(()=>{class n{constructor(t){this.value="ltr",this.change=new We,t&&(this.value=function LFe(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?FFe.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static{this.\u0275fac=function(i){return new(i||n)(H(RFe,8))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),T_=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=et({type:n})}static{this.\u0275inj=Je({})}}return n})(),BFe=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new vt,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Yt(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(HX(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):we()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(Bn(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,t)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=gf(i),o=t.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>C_(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static{this.\u0275fac=function(i){return new(i||n)(H(Me),H(Oi),H(ht,8))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),$X=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new vt,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,o=r.getBoundingClientRect();return{top:-o.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(HX(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static{this.\u0275fac=function(i){return new(i||n)(H(Oi),H(Me),H(ht,8))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),eF=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=et({type:n})}static{this.\u0275inj=Je({})}}return n})(),GX=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=et({type:n})}static{this.\u0275inj=Je({imports:[T_,eF,T_,eF]})}}return n})();class tF{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class nF extends tF{constructor(e,t,i,r,o){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=o}}class qX extends tF{constructor(e,t,i,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class zFe extends tF{constructor(e){super(),this.element=e instanceof ln?e.nativeElement:e}}class iF{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof nF?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof qX?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof zFe?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class jFe extends iF{constructor(e,t,i,r,o){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=s=>{const a=s.element,c=this._document.createComment("dom-portal");a.parentNode.insertBefore(c,a),this.outletElement.appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(a,c)})},this._document=o}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||Gt.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let rF=(()=>{class n extends iF{constructor(t,i,r){super(),this._componentFactoryResolver=t,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new We,this.attachDomPortal=o=>{const s=o.element,a=this._document.createComment("dom-portal");o.setAttachedHost(this),s.parentNode.insertBefore(a,s),this._getRootNode().appendChild(s),this._attachedPortal=o,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(s,a)})},this._document=r}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);const i=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,o=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),s=i.createComponent(o,i.length,t.injector||i.injector,t.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(s.hostView.rootNodes[0]),super.setDisposeFn(()=>s.destroy()),this._attachedPortal=t,this._attachedRef=s,this.attached.emit(s),s}attachTemplatePortal(t){t.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}static{this.\u0275fac=function(i){return new(i||n)(E(cd),E(po),E(ht))}}static{this.\u0275dir=_e({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[lt.None,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[wt]})}}return n})(),HFe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=et({type:n})}static{this.\u0275inj=Je({})}}return n})();function Lx(...n){const e=Lp(n),t=function Dpe(n,e){return"number"==typeof _I(n)?n.pop():e}(n,1/0),i=n;return i.length?1===i.length?Bi(i[0]):Nd(t)(_i(i,e)):_s}const WX=OSe();class $Fe{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=li(-this._previousScrollPosition.left),e.style.top=li(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,o=i.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),WX&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),WX&&(i.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class GFe{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0).pipe(Bn(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class KX{enable(){}disable(){}attach(){}}function oF(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function QX(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class qFe{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();oF(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let WFe=(()=>{class n{constructor(t,i,r,o){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new KX,this.close=s=>new GFe(this._scrollDispatcher,this._ngZone,this._viewportRuler,s),this.block=()=>new $Fe(this._viewportRuler,this._document),this.reposition=s=>new qFe(this._scrollDispatcher,this._viewportRuler,this._ngZone,s),this._document=o}static{this.\u0275fac=function(i){return new(i||n)(H(BFe),H($X),H(Me),H(ht))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class YX{constructor(e){if(this.scrollStrategy=new KX,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class KFe{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let XX=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}static{this.\u0275fac=function(i){return new(i||n)(H(ht))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),QFe=(()=>{class n extends XX{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const o=this._attachedOverlays;for(let s=o.length-1;s>-1;s--)if(o[s]._keydownEvents.observers.length>0){const a=o[s]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(r)):a.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static{this.\u0275fac=function(i){return new(i||n)(H(ht),H(Me,8))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),YFe=(()=>{class n extends XX{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=Rc(o)},this._clickListener=o=>{const s=Rc(o),a="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const c=this._attachedOverlays.slice();for(let l=c.length-1;l>-1;l--){const u=c[l];if(u._outsidePointerEvents.observers.length<1||!u.hasAttached())continue;if(u.overlayElement.contains(s)||u.overlayElement.contains(a))break;const d=u._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>d.next(o)):d.next(o)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}static{this.\u0275fac=function(i){return new(i||n)(H(ht),H(Oi),H(Me,8))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),sF=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||lN()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(t),lN()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}static{this.\u0275fac=function(i){return new(i||n)(H(ht),H(Oi))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class Vx{constructor(e,t,i,r,o,s,a,c,l,u=!1){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=c,this._outsideClickDispatcher=l,this._animationsDisabled=u,this._backdropElement=null,this._backdropClick=new vt,this._attachments=new vt,this._detachments=new vt,this._locationChanges=ui.EMPTY,this._backdropClickHandler=d=>this._backdropClick.next(d),this._backdropTransitionendHandler=d=>{this._disposeBackdrop(d.target)},this._keydownEvents=new vt,this._outsidePointerEvents=new vt,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Xn(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=li(this._config.width),e.height=li(this._config.height),e.minWidth=li(this._config.minWidth),e.minHeight=li(this._config.minHeight),e.maxWidth=li(this._config.maxWidth),e.maxHeight=li(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,i){const r=Ox(t||[]).filter(o=>!!o);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(dv(Lx(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const ZX="cdk-overlay-connected-position-bounding-box",XFe=/([A-Za-z%]+)$/;class ZFe{get positions(){return this._preferredPositions}constructor(e,t,i,r,o){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new vt,this._resizeSubscription=ui.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(ZX),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let s;for(let a of this._preferredPositions){let c=this._getOriginPoint(e,r,a),l=this._getOverlayPoint(c,t,a),u=this._getOverlayFit(l,t,i,a);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,c);this._canFitWithFlexibleDimensions(u,l,i)?o.push({position:a,origin:c,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(c,a)}):(!s||s.overlayFit.visibleArea<u.visibleArea)&&(s={overlayFit:u,overlayPoint:l,originPoint:c,position:a,overlayRect:t})}if(o.length){let a=null,c=-1;for(const l of o){const u=l.boundingBoxRect.width*l.boundingBoxRect.height*(l.position.weight||1);u>c&&(c=u,a=l)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&xu(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(ZX),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,o;if("center"==i.originX)r=e.left+e.width/2;else{const s=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;r="start"==i.originX?s:a}return t.left<0&&(r-=t.left),o="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(o-=t.top),{x:r,y:o}}_getOverlayPoint(e,t,i){let r,o;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,o="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+o}}_getOverlayFit(e,t,i,r){const o=eZ(t);let{x:s,y:a}=e,c=this._getOffset(r,"x"),l=this._getOffset(r,"y");c&&(s+=c),l&&(a+=l);let h=0-a,g=a+o.height-i.height,y=this._subtractOverflows(o.width,0-s,s+o.width-i.width),C=this._subtractOverflows(o.height,h,g),T=y*C;return{visibleArea:T,isCompletelyWithinViewport:o.width*o.height===T,fitsInViewportVertically:C===o.height,fitsInViewportHorizontally:y==o.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,o=i.right-t.x,s=JX(this._overlayRef.getConfig().minHeight),a=JX(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=s&&s<=r)&&(e.fitsInViewportHorizontally||null!=a&&a<=o)}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=eZ(t),o=this._viewportRect,s=Math.max(e.x+r.width-o.width,0),a=Math.max(e.y+r.height-o.height,0),c=Math.max(o.top-i.top-e.y,0),l=Math.max(o.left-i.left-e.x,0);let u=0,d=0;return u=r.width<=o.width?l||-s:e.x<this._viewportMargin?o.left-i.left-e.x:0,d=r.height<=o.height?c||-a:e.y<this._viewportMargin?o.top-i.top-e.y:0,this._previousPushAmount={x:u,y:d},{x:e.x+u,y:e.y+d}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._positionChanges.observers.length){const i=this._getScrollVisibility();if(e!==this._lastPosition||!this._lastScrollVisibility||!function JFe(n,e){return n===e||n.isOriginClipped===e.isOriginClipped&&n.isOriginOutsideView===e.isOriginOutsideView&&n.isOverlayClipped===e.isOverlayClipped&&n.isOverlayOutsideView===e.isOverlayOutsideView}(this._lastScrollVisibility,i)){const r=new KFe(e,i);this._positionChanges.next(r)}this._lastScrollVisibility=i}this._lastPosition=e,this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let o=0;o<t.length;o++)t[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let o,s,a,u,d,h;if("top"===t.overlayY)s=e.y,o=i.height-s+this._viewportMargin;else if("bottom"===t.overlayY)a=i.height-e.y+2*this._viewportMargin,o=i.height-a+this._viewportMargin;else{const g=Math.min(i.bottom-e.y+i.top,e.y),y=this._lastBoundingBoxSize.height;o=2*g,s=e.y-g,o>y&&!this._isInitialRender&&!this._growAfterOpen&&(s=e.y-y/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)h=i.width-e.x+2*this._viewportMargin,u=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)d=e.x,u=i.right-e.x;else{const g=Math.min(i.right-e.x+i.left,e.x),y=this._lastBoundingBoxSize.width;u=2*g,d=e.x-g,u>y&&!this._isInitialRender&&!this._growAfterOpen&&(d=e.x-y/2)}return{top:s,left:d,bottom:a,right:h,width:u,height:o}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=li(i.height),r.top=li(i.top),r.bottom=li(i.bottom),r.width=li(i.width),r.left=li(i.left),r.right=li(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=li(o)),s&&(r.maxWidth=li(s))}this._lastBoundingBoxSize=i,xu(this._boundingBox.style,r)}_resetBoundingBoxStyles(){xu(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){xu(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){const u=this._viewportRuler.getViewportScrollPosition();xu(i,this._getExactOverlayY(t,e,u)),xu(i,this._getExactOverlayX(t,e,u))}else i.position="static";let a="",c=this._getOffset(t,"x"),l=this._getOffset(t,"y");c&&(a+=`translateX(${c}px) `),l&&(a+=`translateY(${l}px)`),i.transform=a.trim(),s.maxHeight&&(r?i.maxHeight=li(s.maxHeight):o&&(i.maxHeight="")),s.maxWidth&&(r?i.maxWidth=li(s.maxWidth):o&&(i.maxWidth="")),xu(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=li(o.y),r}_getExactOverlayX(e,t,i){let s,r={left:"",right:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),s=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===s?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=li(o.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:QX(e,i),isOriginOutsideView:oF(e,i),isOverlayClipped:QX(t,i),isOverlayOutsideView:oF(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&Ox(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof ln)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function xu(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function JX(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(XFe);return t&&"px"!==t?null:parseFloat(e)}return n||null}function eZ(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const tZ="cdk-global-overlay-wrapper";class eLe{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(tZ),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:a}=i,c=!("100%"!==r&&"100vw"!==r||s&&"100%"!==s&&"100vw"!==s),l=!("100%"!==o&&"100vh"!==o||a&&"100%"!==a&&"100vh"!==a),u=this._xPosition,d=this._xOffset,h="rtl"===this._overlayRef.getConfig().direction;let g="",y="",C="";c?C="flex-start":"center"===u?(C="center",h?y=d:g=d):h?"left"===u||"end"===u?(C="flex-end",g=d):("right"===u||"start"===u)&&(C="flex-start",y=d):"left"===u||"start"===u?(C="flex-start",g=d):("right"===u||"end"===u)&&(C="flex-end",y=d),e.position=this._cssPosition,e.marginLeft=c?"0":g,e.marginTop=l?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=c?"0":y,t.justifyContent=C,t.alignItems=l?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(tZ),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let tLe=(()=>{class n{constructor(t,i,r,o){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new eLe}flexibleConnectedTo(t){return new ZFe(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static{this.\u0275fac=function(i){return new(i||n)(H($X),H(ht),H(Oi),H(sF))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),nLe=0,ka=(()=>{class n{constructor(t,i,r,o,s,a,c,l,u,d,h,g){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=s,this._injector=a,this._ngZone=c,this._document=l,this._directionality=u,this._location=d,this._outsideClickDispatcher=h,this._animationsModuleType=g}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),s=new YX(t);return s.direction=s.direction||this._directionality.value,new Vx(o,i,r,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+nLe++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(fs)),new jFe(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static{this.\u0275fac=function(i){return new(i||n)(H(WFe),H(sF),H(cd),H(tLe),H(QFe),H(Gt),H(Me),H(ht),H(J2),H(ii),H(YFe),H(il,8))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const iLe=new X("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{const n=J(ka);return()=>n.scrollStrategies.reposition()}}),oLe={provide:iLe,deps:[ka],useFactory:function rLe(n){return()=>n.scrollStrategies.reposition()}};let sLe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=et({type:n})}static{this.\u0275inj=Je({providers:[ka,oLe],imports:[T_,HFe,GX,GX]})}}return n})();var Fe=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(Fe||{});const Oa="*";function nZ(n,e){return{type:Fe.Trigger,name:n,definitions:e,options:{}}}function Bx(n,e=null){return{type:Fe.Animate,styles:e,timings:n}}function iZ(n,e=null){return{type:Fe.Group,steps:n,options:e}}function bf(n){return{type:Fe.Style,styles:n,offset:null}}function Ux(n,e,t){return{type:Fe.State,name:n,styles:e,options:t}}function zx(n,e,t=null){return{type:Fe.Transition,expr:n,animation:e,options:t}}function rZ(n=null){return{type:Fe.AnimateChild,options:n}}function oZ(n,e,t=null){return{type:Fe.Query,selector:n,animation:e,options:t}}class I_{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class sZ{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const o=this.players.length;0==o?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}let lZ=(()=>{class n{static{this.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)"}static{this.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)"}static{this.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)"}static{this.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)"}}return n})(),uZ=(()=>{class n{static{this.COMPLEX="375ms"}static{this.ENTERING="225ms"}static{this.EXITING="195ms"}}return n})();const fLe=new X("mat-sanity-checks",{providedIn:"root",factory:function hLe(){return!0}});let To=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!lN()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}static{this.\u0275fac=function(i){return new(i||n)(H(UX),H(fLe,8),H(ht))}}static{this.\u0275mod=et({type:n})}static{this.\u0275inj=Je({imports:[T_,T_]})}}return n})();const dZ=new X("MAT_DATE_LOCALE",{providedIn:"root",factory:function gLe(){return J(ps)}});class hZ{constructor(){this._localeChanges=new vt,this.localeChanges=this._localeChanges}getValidDateOrNull(e){return this.isDateInstance(e)&&this.isValid(e)?e:null}deserialize(e){return null==e||this.isDateInstance(e)&&this.isValid(e)?e:this.invalid()}setLocale(e){this.locale=e,this._localeChanges.next()}compareDate(e,t){return this.getYear(e)-this.getYear(t)||this.getMonth(e)-this.getMonth(t)||this.getDate(e)-this.getDate(t)}sameDate(e,t){if(e&&t){let i=this.isValid(e),r=this.isValid(t);return i&&r?!this.compareDate(e,t):i==r}return e==t}clampDate(e,t,i){return t&&this.compareDate(e,t)<0?t:i&&this.compareDate(e,i)>0?i:e}}const mLe=new X("mat-date-formats"),_Le=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function cF(n,e){const t=Array(n);for(let i=0;i<n;i++)t[i]=e(i);return t}let bLe=(()=>{class n extends hZ{constructor(t){super(),this.useUtcForDisplay=!1,this._matDateLocale=J(dZ,{optional:!0}),void 0!==t&&(this._matDateLocale=t),super.setLocale(this._matDateLocale)}getYear(t){return t.getFullYear()}getMonth(t){return t.getMonth()}getDate(t){return t.getDate()}getDayOfWeek(t){return t.getDay()}getMonthNames(t){const i=new Intl.DateTimeFormat(this.locale,{month:t,timeZone:"utc"});return cF(12,r=>this._format(i,new Date(2017,r,1)))}getDateNames(){const t=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return cF(31,i=>this._format(t,new Date(2017,0,i+1)))}getDayOfWeekNames(t){const i=new Intl.DateTimeFormat(this.locale,{weekday:t,timeZone:"utc"});return cF(7,r=>this._format(i,new Date(2017,0,r+1)))}getYearName(t){const i=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(i,t)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(t){return this.getDate(this._createDateWithOverflow(this.getYear(t),this.getMonth(t)+1,0))}clone(t){return new Date(t.getTime())}createDate(t,i,r){let o=this._createDateWithOverflow(t,i,r);return o.getMonth(),o}today(){return new Date}parse(t,i){return"number"==typeof t?new Date(t):t?new Date(Date.parse(t)):null}format(t,i){if(!this.isValid(t))throw Error("NativeDateAdapter: Cannot format invalid date.");const r=new Intl.DateTimeFormat(this.locale,{...i,timeZone:"utc"});return this._format(r,t)}addCalendarYears(t,i){return this.addCalendarMonths(t,12*i)}addCalendarMonths(t,i){let r=this._createDateWithOverflow(this.getYear(t),this.getMonth(t)+i,this.getDate(t));return this.getMonth(r)!=((this.getMonth(t)+i)%12+12)%12&&(r=this._createDateWithOverflow(this.getYear(r),this.getMonth(r),0)),r}addCalendarDays(t,i){return this._createDateWithOverflow(this.getYear(t),this.getMonth(t),this.getDate(t)+i)}toIso8601(t){return[t.getUTCFullYear(),this._2digit(t.getUTCMonth()+1),this._2digit(t.getUTCDate())].join("-")}deserialize(t){if("string"==typeof t){if(!t)return null;if(_Le.test(t)){let i=new Date(t);if(this.isValid(i))return i}}return super.deserialize(t)}isDateInstance(t){return t instanceof Date}isValid(t){return!isNaN(t.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(t,i,r){const o=new Date;return o.setFullYear(t,i,r),o.setHours(0,0,0,0),o}_2digit(t){return("00"+t).slice(-2)}_format(t,i){const r=new Date;return r.setUTCFullYear(i.getFullYear(),i.getMonth(),i.getDate()),r.setUTCHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),t.format(r)}static{this.\u0275fac=function(i){return new(i||n)(H(dZ,8))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac})}}return n})();const yLe={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};function vLe(n=yLe){return[{provide:hZ,useClass:bLe},{provide:mLe,useValue:n}]}var Io=function(n){return n[n.FADING_IN=0]="FADING_IN",n[n.VISIBLE=1]="VISIBLE",n[n.FADING_OUT=2]="FADING_OUT",n[n.HIDDEN=3]="HIDDEN",n}(Io||{});class wLe{constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=Io.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}}const fZ=$m({passive:!0,capture:!0});class xLe{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=Rc(e);t&&this._events.get(e.type)?.forEach((i,r)=>{(r===t||r.contains(t))&&i.forEach(o=>o.handleEvent(e))})}}addHandler(e,t,i,r){const o=this._events.get(t);if(o){const s=o.get(i);s?s.add(r):o.set(i,new Set([r]))}else this._events.set(t,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,fZ)})}removeHandler(e,t,i){const r=this._events.get(e);if(!r)return;const o=r.get(t);o&&(o.delete(i),0===o.size&&r.delete(t),0===r.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,fZ)))}}const pZ={enterDuration:225,exitDuration:150},gZ=$m({passive:!0,capture:!0}),mZ=["mousedown","touchstart"],_Z=["mouseup","mouseleave","touchend","touchcancel"];class jx{static{this._eventManager=new xLe}constructor(e,t,i,r){this._target=e,this._ngZone=t,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=gf(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...pZ,...i.animation};i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const s=i.radius||function ELe(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),a=e-r.left,c=t-r.top,l=o.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=a-s+"px",u.style.top=c-s+"px",u.style.height=2*s+"px",u.style.width=2*s+"px",null!=i.color&&(u.style.backgroundColor=i.color),u.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(u);const d=window.getComputedStyle(u),g=d.transitionDuration,y="none"===d.transitionProperty||"0s"===g||"0s, 0s"===g||0===r.width&&0===r.height,C=new wLe(this,u,i,y);u.style.transform="scale3d(1, 1, 1)",C.state=Io.FADING_IN,i.persistent||(this._mostRecentTransientRipple=C);let T=null;return!y&&(l||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const S=()=>this._finishRippleTransition(C),D=()=>this._destroyRipple(C);u.addEventListener("transitionend",S),u.addEventListener("transitioncancel",D),T={onTransitionEnd:S,onTransitionCancel:D}}),this._activeRipples.set(C,T),(y||!l)&&this._finishRippleTransition(C),C}fadeOutRipple(e){if(e.state===Io.FADING_OUT||e.state===Io.HIDDEN)return;const t=e.element,i={...pZ,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=Io.FADING_OUT,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=gf(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,mZ.forEach(i=>{jx._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{_Z.forEach(t=>{this._triggerElement.addEventListener(t,this,gZ)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===Io.FADING_IN?this._startFadeOutTransition(e):e.state===Io.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=Io.VISIBLE,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=Io.HIDDEN,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=NX(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!FX(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;if(t)for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(e.state===Io.VISIBLE||e.config.terminateOnPointerUp&&e.state===Io.FADING_IN)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(mZ.forEach(t=>jx._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&_Z.forEach(t=>e.removeEventListener(t,this,gZ)))}}const bZ=new X("mat-ripple-global-options");let TLe=(()=>{class n{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,i,r,o,s){this._elementRef=t,this._animationMode=s,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new jx(this,i,t,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}static{this.\u0275fac=function(i){return new(i||n)(E(ln),E(Me),E(Oi),E(bZ,8),E(il,8))}}static{this.\u0275dir=_e({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,r){2&i&&mo("mat-ripple-unbounded",r.unbounded)},inputs:{color:[lt.None,"matRippleColor","color"],unbounded:[lt.None,"matRippleUnbounded","unbounded"],centered:[lt.None,"matRippleCentered","centered"],radius:[lt.None,"matRippleRadius","radius"],animation:[lt.None,"matRippleAnimation","animation"],disabled:[lt.None,"matRippleDisabled","disabled"],trigger:[lt.None,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0})}}return n})(),ILe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=et({type:n})}static{this.\u0275inj=Je({imports:[To,To]})}}return n})();const yZ={capture:!0},vZ=["focus","click","mouseenter","touchstart"],lF="mat-ripple-loader-uninitialized",uF="mat-ripple-loader-class-name",wZ="mat-ripple-loader-centered",Hx="mat-ripple-loader-disabled";let MLe=(()=>{class n{constructor(){this._document=J(ht,{optional:!0}),this._animationMode=J(il,{optional:!0}),this._globalRippleOptions=J(bZ,{optional:!0}),this._platform=J(Oi),this._ngZone=J(Me),this._hosts=new Map,this._onInteraction=t=>{if(!(t.target instanceof HTMLElement))return;const r=t.target.closest(`[${lF}]`);r&&this._createRipple(r)},this._ngZone.runOutsideAngular(()=>{for(const t of vZ)this._document?.addEventListener(t,this._onInteraction,yZ)})}ngOnDestroy(){const t=this._hosts.keys();for(const i of t)this.destroyRipple(i);for(const i of vZ)this._document?.removeEventListener(i,this._onInteraction,yZ)}configureRipple(t,i){t.setAttribute(lF,""),(i.className||!t.hasAttribute(uF))&&t.setAttribute(uF,i.className||""),i.centered&&t.setAttribute(wZ,""),i.disabled&&t.setAttribute(Hx,"")}getRipple(t){return this._hosts.get(t)||this._createRipple(t)}setDisabled(t,i){const r=this._hosts.get(t);r?r.disabled=i:i?t.setAttribute(Hx,""):t.removeAttribute(Hx)}_createRipple(t){if(!this._document)return;const i=this._hosts.get(t);if(i)return i;t.querySelector(".mat-ripple")?.remove();const r=this._document.createElement("span");r.classList.add("mat-ripple",t.getAttribute(uF)),t.append(r);const o=new TLe(new ln(r),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return o._isInitialized=!0,o.trigger=t,o.centered=t.hasAttribute(wZ),o.disabled=t.hasAttribute(Hx),this.attachRipple(t,o),o}attachRipple(t,i){t.removeAttribute(lF),this._hosts.set(t,i)}destroyRipple(t){const i=this._hosts.get(t);i&&(i.ngOnDestroy(),this._hosts.delete(t))}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const DLe=new X("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{const n=J(ka);return()=>n.scrollStrategies.reposition({scrollThrottle:20})}}),ALe={provide:DLe,deps:[ka],useFactory:function SLe(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}};let OLe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=et({type:n})}static{this.\u0275inj=Je({providers:[ALe],imports:[gFe,Ja,sLe,To,To,eF]})}}return n})(),PLe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=et({type:n})}static{this.\u0275inj=Je({providers:[vLe(),JT],imports:[Ja,E2e,jp,kx,OLe]})}}return n})(),RLe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=xe({type:n,selectors:[["app-muestras"]],standalone:!0,features:[_o],decls:2,vars:0,template:function(i,r){1&i&&(p(0,"p"),m(1,"muestras works!"),f())}})}}return n})();function NLe(n,e){if(1&n){const t=ft();p(0,"tr")(1,"td",4),m(2),f(),p(3,"td",4),m(4),f(),p(5,"td")(6,"button",5),Q("click",function(){const o=Ae(t).$implicit;return ke(Tt().updateData(o.id))}),m(7," Actualizar "),f(),p(8,"button",6),Q("click",function(){const o=Ae(t).$implicit;return ke(Tt().deleteData(o.id))}),m(9," Eliminar "),f()()()}if(2&n){const t=e.$implicit;V(2),Ve(t.email),V(2),Ve(t.role)}}const FLe=[{path:"admin",component:EK,children:[{path:"users",component:(()=>{class n{constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.data=[],this.getData()}ngOnInit(){}NewUser(){this.router.navigate(["/admin/user-new"])}getData(){const t=me(this.firestore,"users");de(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}updateData(t){const i=Ce(this.firestore,"users",t);Qi(i,{}).then(()=>{alert("Data updated"),this.getData()}).catch(r=>{alert(r.message)})}deleteData(t){if(1==confirm("Seguro que desea eliminar este usuario?")){const r=Ce(this.firestore,"users",t);gn(r).then(()=>{alert("Data Deleted"),this.getData()}).catch(o=>{alert(o.message)})}}handleSignOut(){si(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}Home(){this.router.navigate(["admin"])}Projectos(){this.router.navigate(["admin"])}Muestras(){this.router.navigate(["admin"])}handleLogin(t){var i=this;return _(function*(){let r=t;const o=Ut(me(i.firestore,"users"),zt("email","==",r));(yield de(o)).forEach(a=>{a.data(),iO(i.auth,r,t.pass).then(function(){var u=_(function*(d){});return function(d){return u.apply(this,arguments)}}())})})()}deleteMyUser(t){var i=this;return _(function*(){let r,o=i.auth.currentUser?.email;console.log(i.auth.currentUser),r=" ",null==o&&(r=o),i.current=o;const s=Ut(me(i.firestore,"users"),zt("email","==",o));(yield de(s)).forEach(c=>{let u=c.data().password;i.key=u,i.handleLogin(t),console.log(i.auth.currentUser),iO(i.auth,r,u),console.log(i.auth.currentUser)})})()}getUserData(){var t=this;return _(function*(){let i=t.auth.currentUser?.email;t.current=i;const r=Ut(me(t.firestore,"users"),zt("email","==",t.current));(yield de(r)).forEach(s=>{let c=s.data().password;t.key=c})})()}static{this.\u0275fac=function(i){return new(i||n)(E(Se),E(nt),E(Be),E(Ze))}}static{this.\u0275cmp=xe({type:n,selectors:[["app-users"]],decls:15,vars:1,consts:[[1,"subTituloText"],[1,"list"],[4,"ngFor","ngForOf"],[1,"NewUser",3,"click"],["contenteditable","true"],[3,"click"],[1,"red",3,"click"]],template:function(i,r){1&i&&(p(0,"p"),m(1,"users works!"),f(),p(2,"h1",0),m(3,"Usuarios"),f(),p(4,"div",1)(5,"table")(6,"tr")(7,"th"),m(8," Email "),f(),p(9,"th"),m(10," Role "),f(),Y(11,"th"),f(),Sn(12,NLe,10,2,"tr",2),f(),p(13,"button",3),Q("click",function(){return r.NewUser()}),m(14," Crear Usuario "),f()()),2&i&&(V(12),Lt("ngForOf",r.data))},dependencies:[Lr],styles:[".list[_ngcontent-%COMP%]{position:absolute;left:50%;top:18em;transform:translate(-40%)}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}button[_ngcontent-%COMP%]{border:none;background-color:#3eb3c2;color:#fff;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px;width:100px;height:40px;margin:10px}.red[_ngcontent-%COMP%]{background-color:#c23e3e}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;width:70%;height:10%;vertical-align:middle;line-height:250%;font-family:Verdana;text-align:center;font-size:48px;letter-spacing:0;left:50%;top:3em;transform:translate(-50%)}.NewUser[_ngcontent-%COMP%]{width:140px;position:absolute;right:0}@media only screen and (max-width: 768px){.homeBox[_ngcontent-%COMP%]{background-color:#0a9217;border-right:4px solid white;width:20%;height:15%;position:absolute;left:0;top:0%}.homeText[_ngcontent-%COMP%], .homeLogo[_ngcontent-%COMP%]{display:none}.tituloBox[_ngcontent-%COMP%]{background-color:#0a9217;width:80%;height:15%;position:absolute;left:20%;top:0%;text-align:center}.tituloText[_ngcontent-%COMP%]{color:#fff;line-height:1.6;display:inline-block;vertical-align:middle;font-family:Verdana;font-size:32px;letter-spacing:0px}.navbar2Box[_ngcontent-%COMP%]{width:100%;height:66px;background:#fff;box-shadow:0 0 6px 10px #00000040;position:absolute;left:0%;top:15%}.navbar2Text[_ngcontent-%COMP%]{height:28px;color:#000;font-size:8px;font-family:Verdana;font-weight:600;word-wrap:break-word;text-align:center;display:inline-block;vertical-align:middle;line-height:1.6;padding-top:7px;padding-left:0}.center[_ngcontent-%COMP%]{position:relative;top:18%}#cerrarText[_ngcontent-%COMP%]{cursor:pointer;width:15%;position:absolute;left:0%;top:15%;padding-left:3%;border-right:2px solid white}#ProyectosText[_ngcontent-%COMP%]{visibility:hidden;cursor:pointer;width:20%;position:absolute;left:15%;top:15%;border-right:2px solid white}#UnidadText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:20%;top:15%;border-right:2px solid white}#MuestrasText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:40%;top:15%;border-right:2px solid white}#ClientesText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:80%;top:15%;border-right:2px solid white}#CodigoText[_ngcontent-%COMP%]{cursor:pointer;width:15%;position:absolute;left:80%;top:15%;padding-left:3%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:15%;left:0%;top:0%}img[_ngcontent-%COMP%]{position:relative;top:0;width:20px;height:20px}br[_ngcontent-%COMP%]{display:inline}.list[_ngcontent-%COMP%]{position:absolute;left:5%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;left:15%;top:28%}button[_ngcontent-%COMP%]{border:none;background-color:#3eb3c2;color:#fff;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;height:10%;padding:10px;margin:5px;border-radius:30px}}"]})}}return n})()},{path:"user-new",component:(()=>{class n{constructor(t,i,r){this.auth=t,this.firestore=i,this.router=r,this.title="gestion-de-muestras-de-campo",this.data=[],this.getData()}Login(){this.router.navigate(["/auth/login"])}Users(){this.router.navigate(["/admin/users"])}handleRegister(t){$H(this.auth,t.email,t.password).then(i=>{console.log(i.user)}).catch(i=>{alert("Email no valido")}),this.addData(t),this.Users()}addData(t){const i=Ce(this.firestore,"users",t.email);t.password==t.confirmpassword?"Investigador"==t.role||"Cliente"==t.role?Er(i,{email:t.email,role:t.role,password:t.password}).then(()=>{alert("Data Sent")}).catch(r=>{alert(r.message)}):alert("Rol no reconocido"):alert("Claves No Iguales")}getData(){const t=me(this.firestore,"users");de(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}Salir(){si(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}static{this.\u0275fac=function(i){return new(i||n)(E(Be),E(Ze),E(Se))}}static{this.\u0275cmp=xe({type:n,selectors:[["app-user-new"]],decls:31,vars:0,consts:[[1,"loginBox"],[1,"loginTile"],[1,"lineBlack"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"userText"],["name","email","ngModel","","placeholder","Email","id","email","type","email",1,"input-field"],[1,"roleText"],["list","roles","name","role","ngModel","","placeholder","Roles","id","role","type","role",1,"input-field"],["id","roles"],["value","Investigador"],["value","Cliente"],[1,"claveText"],["name","password","ngModel","","placeholder","Clave","id","password","type","password",1,"input-field"],[1,"clave2Text"],["name","confirmpassword","ngModel","","placeholder","Confirmar Clave","id","confirmpassword","type","password",1,"input-field"],[1,"boton"],[1,"salir",3,"click"]],template:function(i,r){if(1&i){const o=ft();p(0,"p"),m(1,"user-new works!"),f(),Y(2,"div",0),p(3,"span",1),m(4,"Registrar"),f(),Y(5,"div",2),p(6,"form",3,4),Q("ngSubmit",function(){Ae(o);const a=un(7);return ke(r.handleRegister(a.value))}),p(8,"div",5)(9,"div",6)(10,"span",7),m(11,"Email:"),f(),Y(12,"input",8),f(),p(13,"div",6)(14,"span",9),m(15,"Roles:"),f(),Y(16,"input",10),p(17,"datalist",11),Y(18,"option",12)(19,"option",13),f()(),p(20,"div",6)(21,"span",14),m(22,"Clave:"),f(),Y(23,"input",15),f(),p(24,"div",6)(25,"span",16),m(26,"Confirmar Clave:"),f(),Y(27,"input",17),f(),p(28,"button",18),m(29,"Sign Up"),f()()(),p(30,"button",19),Q("click",function(){return r.Salir()}),f()}},dependencies:[Vn,oc,sc,Ui,vr,Ln,rr,xn],styles:[".input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}.main[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;width:600px;height:400px;position:absolute;top:37%;left:50%;transform:translate(-40%)}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:600px;height:400px;position:absolute;top:37%;left:50%;transform:translate(-40%)}.loginTile[_ngcontent-%COMP%]{color:#000;width:600px;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;top:39.5%;left:50%;transform:translate(-50%)}.lineBlack[_ngcontent-%COMP%]{width:600px;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);top:45%;left:50%;transform:translate(-40%)}#email[_ngcontent-%COMP%]{width:300px;height:26px;margin-left:5px}.userText[_ngcontent-%COMP%]{color:#000;margin-left:93px;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0}#password[_ngcontent-%COMP%]{width:300px;height:26px;margin-left:5px}.claveText[_ngcontent-%COMP%]{color:#000;margin-left:93px;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0}#role[_ngcontent-%COMP%]{width:300px;height:26px;margin-left:5px}.roleText[_ngcontent-%COMP%]{color:#000;margin-left:93px;width:150px;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0}#confirmpassword[_ngcontent-%COMP%]{width:300px;height:26px;margin-left:5px}.clave2Text[_ngcontent-%COMP%]{color:#000;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;width:80px;height:35px;border-width:0;border-radius:30px;font-size:16px;position:absolute;left:72%;top:75%}.botonText[_ngcontent-%COMP%]{color:#fff;width:80px;height:35px;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;position:absolute;left:72%;top:75%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.main[_ngcontent-%COMP%]{display:flex;width:100vw;height:100vh;justify-content:center;align-items:center;flex-direction:column;top:0%}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:65%;transform:none;position:absolute;left:15%;top:25%}.loginTile[_ngcontent-%COMP%]{color:#000;width:75%;height:20%;transform:none;position:absolute;font-family:Arial;text-align:center;font-size:24px;letter-spacing:0;left:16%;top:26%}.lineBlack[_ngcontent-%COMP%]{width:75%;height:0px;transform:none;position:absolute;border:1px solid rgba(0,0,0,1);left:15%;top:32%}#email[_ngcontent-%COMP%]{width:60%;height:3%;position:absolute;left:20%;top:40%}.userText[_ngcontent-%COMP%]{color:#000;width:10%;height:5%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:0%;top:35%}#role[_ngcontent-%COMP%]{width:30%;height:3%;position:absolute;left:20%;top:60%}.roleText[_ngcontent-%COMP%]{color:#000;width:15%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:0%;top:55%}#password[_ngcontent-%COMP%]{width:60%;height:3%;position:absolute;left:20%;top:50%}.claveText[_ngcontent-%COMP%]{color:#000;width:10%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:0%;top:45%}#confirmpassword[_ngcontent-%COMP%]{width:60%;height:3%;position:absolute;left:20%;top:70%}.clave2Text[_ngcontent-%COMP%]{color:#000;width:60%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:20%;top:65%}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:60%;top:74}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:14px;letter-spacing:0;left:60%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:15%;left:0%;top:0%}}"]})}}return n})()},{path:"muestras",component:RLe}]}];let LLe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=et({type:n})}static{this.\u0275inj=Je({imports:[Br.forChild(FLe),Br]})}}return n})(),VLe=(()=>{class n{Hello(){console.log("hello")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=et({type:n})}static{this.\u0275inj=Je({imports:[LLe,uN,Ja,jp,kx,Br]})}}return n})();const yf=new Yt(xf),ULe={connector:()=>new vt};function CZ(n,e=ULe){const{connector:t}=e;return Mn((i,r)=>{const o=t();Bi(n(function BLe(n){return new Yt(e=>n.subscribe(e))}(o))).subscribe(r),r.add(i.subscribe(o))})}function EZ(n,e){return e?t=>Fd(e.pipe(Xn(1),function HLe(){return Mn((n,e)=>{n.subscribe(_n(e,xf))})}()),t.pipe(EZ(n))):xi((t,i)=>Bi(n(t,i)).pipe(Xn(1),zj(t)))}const D_="Service workers are disabled or not supported by this browser";class $x{constructor(e){if(this.serviceWorker=e,e){const i=C_(e,"controllerchange").pipe(Le(()=>e.controller)),o=Fd(Hp(()=>we(e.controller)),i);this.worker=o.pipe(Bn(u=>!!u)),this.registration=this.worker.pipe(Vr(()=>e.getRegistration()));const l=C_(e,"message").pipe(Le(u=>u.data)).pipe(Bn(u=>u&&u.type)).pipe(function jLe(n){return n?e=>CZ(n)(e):e=>function zLe(n,e){const t=yt(n)?n:()=>n;return yt(e)?CZ(e,{connector:t}):i=>new zI(i,t)}(new vt)(e)}());l.connect(),this.events=l}else this.worker=this.events=this.registration=function GLe(n){return Hp(()=>Ld(new Error(n)))}(D_)}postMessage(e,t){return this.worker.pipe(Xn(1),Un(i=>{i.postMessage({action:e,...t})})).toPromise().then(()=>{})}postMessageWithOperation(e,t,i){const r=this.waitForOperationCompleted(i),o=this.postMessage(e,t);return Promise.all([o,r]).then(([,s])=>s)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(e){let t;return t="string"==typeof e?i=>i.type===e:i=>e.includes(i.type),this.events.pipe(Bn(t))}nextEventOfType(e){return this.eventsOfType(e).pipe(Xn(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(Bn(t=>t.nonce===e),Xn(1),Le(t=>{if(void 0!==t.result)return t.result;throw new Error(t.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let TZ=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,this.pushManager=null,this.subscriptionChanges=new vt,!t.isEnabled)return this.messages=yf,this.notificationClicks=yf,void(this.subscription=yf);this.messages=this.sw.eventsOfType("PUSH").pipe(Le(r=>r.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(Le(r=>r.data)),this.pushManager=this.sw.registration.pipe(Le(r=>r.pushManager));const i=this.pushManager.pipe(Vr(r=>r.getSubscription()));this.subscription=Lx(i,this.subscriptionChanges)}requestSubscription(t){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(D_));const i={userVisibleOnly:!0};let r=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),o=new Uint8Array(new ArrayBuffer(r.length));for(let s=0;s<r.length;s++)o[s]=r.charCodeAt(s);return i.applicationServerKey=o,this.pushManager.pipe(Vr(s=>s.subscribe(i)),Xn(1)).toPromise().then(s=>(this.subscriptionChanges.next(s),s))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(Xn(1),Vr(i=>{if(null===i)throw new Error("Not subscribed to push notifications.");return i.unsubscribe().then(r=>{if(!r)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(D_))}decodeBase64(t){return atob(t)}static{this.\u0275fac=function(i){return new(i||n)(H($x))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac})}}return n})(),IZ=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,!t.isEnabled)return this.versionUpdates=yf,void(this.unrecoverable=yf);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(D_));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(D_));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}static{this.\u0275fac=function(i){return new(i||n)(H($x))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac})}}return n})();const MZ=new X("");function qLe(n,e,t,i){return()=>{if(!Gy(i)||!("serviceWorker"in navigator)||!1===t.enabled)return;let r;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof t.registrationStrategy)r=t.registrationStrategy();else{const[s,...a]=(t.registrationStrategy||"registerWhenStable:30000").split(":");switch(s){case"registerImmediately":r=we(null);break;case"registerWithDelay":r=DZ(+a[0]||0);break;case"registerWhenStable":r=a[0]?Lx(SZ(n),DZ(+a[0])):SZ(n);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${t.registrationStrategy}`)}}n.get(Me).runOutsideAngular(()=>r.pipe(Xn(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:t.scope}).catch(s=>console.error("Service worker registration failed with:",s))))}}function DZ(n){return we(null).pipe(function $Le(n,e=dg){const t=Z2(n,e);return EZ(()=>t)}(n))}function SZ(n){return n.get(fs).isStable.pipe(Bn(t=>t))}function WLe(n,e){return new $x(Gy(e)&&!1!==n.enabled?navigator.serviceWorker:void 0)}class dF{}function KLe(n,e={}){return function pb(n){return{\u0275providers:n}}([TZ,IZ,{provide:MZ,useValue:n},{provide:dF,useValue:e},{provide:$x,useFactory:WLe,deps:[dF,ho]},{provide:Sp,useFactory:qLe,deps:[Gt,MZ,dF,ho],multi:!0}])}let QLe=(()=>{class n{static register(t,i={}){return{ngModule:n,providers:[KLe(t,i)]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=et({type:n})}static{this.\u0275inj=Je({providers:[TZ,IZ]})}}return n})();function YLe(n,e){if(1&n){const t=ft();p(0,"tr")(1,"td"),m(2),f(),p(3,"td"),m(4),f(),p(5,"td"),m(6),f(),p(7,"td")(8,"button",3),Q("click",function(){const o=Ae(t).$implicit;return ke(Tt().Muestras(o.name))}),f()()()}if(2&n){const t=e.$implicit;V(2),Ve(t.name),V(2),Ve(t.owner),V(2),Ve(t.integrantes)}}let XLe=(()=>{class n{constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.data=[],this.list=[],this.email="",this.getData(),this.MyQuery()}getData(){const t=Ho();Ds(t,r=>{r&&(console.log(r.email),r.email&&(this.email=r.email))});const i=me(this.firestore,"projects");de(i).then(r=>{this.data=[...r.docs.map(o=>({...o.data(),id:o.id}))]})}updateData(t){const i=Ce(this.firestore,"projects",t);Qi(i,{}).then(()=>{alert("Data updated"),this.getData()}).catch(r=>{alert(r.message)})}deleteData(t){const i=Ce(this.firestore,"projects",t);gn(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}newProject(){this.router.navigate(["user/project-new"])}EditProject(){this.router.navigate(["user/project-new"])}Muestras(t){this.router.navigate(["client/muestras/"+t])}editProyecto(t){this.router.navigate(["user/project-edit/"+t])}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["user/projects"])}logOut(){si(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}MyQuery(){var t=this;return _(function*(){const i=Ho();let r;r="",console.log(i),Ds(i,function(){var o=_(function*(s){if(s&&(console.log(s.email),s.email)){r=s.email;const a=Ut(me(t.firestore,"projects"),zt("cliente","==",r));de(a).then(l=>{t.data=[...l.docs.map(u=>({...u.data(),id:u.id}))]});const c=yield de(a);console.log(c),c.forEach(l=>{console.log(l.id," => ",l.data()),console.log("here2")}),console.log(t.data.length),console.log(t.data),console.log(t.data[0].cliente)}});return function(s){return o.apply(this,arguments)}}())})()}static{this.\u0275fac=function(i){return new(i||n)(E(Se),E(nt),E(Be),E(Ze))}}static{this.\u0275cmp=xe({type:n,selectors:[["app-projects"]],decls:15,vars:1,consts:[[1,"subTituloText"],[1,"list"],[4,"ngFor","ngForOf"],[1,"muestras",3,"click"]],template:function(i,r){1&i&&(p(0,"p"),m(1,"projects works!"),f(),p(2,"h1",0),m(3,"Proyectos"),f(),p(4,"div",1)(5,"table")(6,"tr")(7,"th"),m(8," Nombre "),f(),p(9,"th"),m(10," Due\xf1o "),f(),p(11,"th"),m(12," Integrantes"),f(),Y(13,"th"),f(),Sn(14,YLe,9,3,"tr",2),f()()),2&i&&(V(14),Lt("ngForOf",r.data))},dependencies:[Lr],styles:[".list[_ngcontent-%COMP%]{position:absolute;left:25%;top:38%}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:153px;height:36px;left:49%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:126px;height:16px;left:50%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:300px;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;left:45%;top:20%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.list[_ngcontent-%COMP%]{position:absolute;margin:0;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.boton[_ngcontent-%COMP%]{position:absolute;left:80%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;left:30%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}.scanbutton[_ngcontent-%COMP%]{cursor:pointer;width:153px;height:36px;left:30%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}}"]})}}return n})();function ZLe(n,e){if(1&n){const t=ft();p(0,"tr")(1,"td"),m(2),f(),p(3,"td"),m(4),f(),p(5,"td"),m(6),f(),p(7,"td"),m(8),f(),p(9,"td")(10,"button",3),Q("click",function(){const o=Ae(t).$implicit;return ke(Tt().infoMuestra(o.codigo))}),f()()()}if(2&n){const t=e.$implicit;V(2),Ve(t.codigo),V(2),Ve(t.fecha),V(2),Ve(t.cultivo),V(2),Ve(t.coordenadas)}}let JLe=(()=>{class n{constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.data=[],this.arr=[]}ngOnInit(){this.route.params.subscribe(t=>{this.up=t.up}),this.getData(),this.MyQuery()}getData(){const t=me(this.firestore,"muestras");de(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}updateData(t){const i=Ce(this.firestore,"muestras",t);Qi(i,{}).then(()=>{alert("Data updated"),this.getData()}).catch(r=>{alert(r.message)})}deleteData(t){const i=Ce(this.firestore,"muestras",t);gn(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["user/projects"])}logOut(){si(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}newMuestra(){this.router.navigate(["user/muestras-new"])}editMuestra(t){this.router.navigate(["user/muestras-edit/"+t])}infoProject(t){this.router.navigate(["user/project-edit/"+t])}infoMuestra(t){this.router.navigate(["client/muestras-info/"+t])}MyQuery(){var t=this;return _(function*(){let i=t.up;const r=Ut(me(t.firestore,"muestras"),zt("unidad","==",i));de(r).then(s=>{t.data=[...s.docs.map(a=>({...a.data(),id:a.id}))]}),(yield de(r)).forEach(s=>{console.log(s.id," => ",s.data())})})()}static{this.\u0275fac=function(i){return new(i||n)(E(Se),E(nt),E(Be),E(Ze))}}static{this.\u0275cmp=xe({type:n,selectors:[["app-muestras"]],decls:17,vars:1,consts:[[1,"subTituloText"],[1,"list"],[4,"ngFor","ngForOf"],[1,"detalles",3,"click"]],template:function(i,r){1&i&&(p(0,"p"),m(1,"muestras works!"),f(),p(2,"h1",0),m(3,"Muestras"),f(),p(4,"div",1)(5,"table")(6,"tr")(7,"th"),m(8," Codigo "),f(),p(9,"th"),m(10," Fecha "),f(),p(11,"th"),m(12," Cultivo"),f(),p(13,"th"),m(14," Coordenadas "),f(),Y(15,"th"),f(),Sn(16,ZLe,11,4,"tr",2),f()()),2&i&&(V(16),Lt("ngForOf",r.data))},dependencies:[Lr],styles:[".list[_ngcontent-%COMP%]{position:absolute;left:38%;top:38%}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.projectBlock[_ngcontent-%COMP%]{width:auto;height:35px;background:#3ec28f;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:20px;font-weight:700;letter-spacing:0;cursor:pointer}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:153px;height:36px;left:49%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:126px;height:16px;left:50%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;width:300px;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;left:45%;top:20%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;margin-left:2px;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.list[_ngcontent-%COMP%]{position:absolute;left:5%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:80%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;left:25%;top:30%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}}return n})();function e3e(n,e){if(1&n){const t=ft();p(0,"tr")(1,"td"),m(2),f(),p(3,"td"),m(4),f(),p(5,"td"),m(6),f(),p(7,"td"),m(8),f(),p(9,"td")(10,"button",3),Q("click",function(){const o=Ae(t).$implicit;return ke(Tt().infoMuestra(o.codigo))}),f()()()}if(2&n){const t=e.$implicit;V(2),Ve(t.codigo),V(2),Ve(t.fecha),V(2),Ve(t.cultivo),V(2),Ve(t.coordenadas)}}let t3e=(()=>{class n{constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.data=[],this.arr=[]}ngOnInit(){this.route.params.subscribe(t=>{this.item=t.id}),this.getData(),this.MyQuery()}getData(){const t=me(this.firestore,"muestras");de(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}updateData(t){const i=Ce(this.firestore,"muestras",t);Qi(i,{}).then(()=>{alert("Data updated"),this.getData()}).catch(r=>{alert(r.message)})}deleteData(t){const i=Ce(this.firestore,"muestras",t);gn(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["user/projects"])}logOut(){si(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}newMuestra(){this.router.navigate(["user/muestras-new"])}editMuestra(t){this.router.navigate(["user/muestras-edit/"+t])}infoProject(t){this.router.navigate(["user/project-edit/"+t])}infoMuestra(t){this.router.navigate(["client/muestras-info/"+t])}MyQuery(){var t=this;return _(function*(){const i=Ho();let r,o=[];r="",console.log(i),Ds(i,function(){var s=_(function*(a){if(a&&(console.log(a.email),a.email)){r=a.email;const d=Ut(me(t.firestore,"projects"),zt("cliente","==",r));de(d).then(y=>{t.dataTem=[...y.docs.map(C=>({...C.data(),id:C.id}))]}),(yield de(d)).forEach(y=>{}),console.log(t.dataTem.length),console.log(t.dataTem[0].name);let g=t.dataTem.length;console.log(g);for(let y=0;y<g;y++)console.log(t.dataTem[y].name),o.push(t.dataTem[y].name);console.log(o)}console.log("next"),console.log(o),t.pid=t.item;const l=Ut(me(t.firestore,"muestras"),zt("project","in",o));de(l).then(d=>{t.data=[...d.docs.map(h=>({...h.data(),id:h.id}))]}),(yield de(l)).forEach(d=>{console.log(d.id," => ",d.data())})});return function(a){return s.apply(this,arguments)}}())})()}static{this.\u0275fac=function(i){return new(i||n)(E(Se),E(nt),E(Be),E(Ze))}}static{this.\u0275cmp=xe({type:n,selectors:[["app-muestras-all"]],decls:17,vars:1,consts:[[1,"subTituloText"],[1,"list"],[4,"ngFor","ngForOf"],[1,"detalles",3,"click"]],template:function(i,r){1&i&&(p(0,"p"),m(1,"muestras-all works!"),f(),p(2,"h1",0),m(3,"Muestras"),f(),p(4,"div",1)(5,"table")(6,"tr")(7,"th"),m(8," Codigo "),f(),p(9,"th"),m(10," Fecha "),f(),p(11,"th"),m(12," Cultivo"),f(),p(13,"th"),m(14," Coordenadas "),f(),Y(15,"th"),f(),Sn(16,e3e,11,4,"tr",2),f()()),2&i&&(V(16),Lt("ngForOf",r.data))},dependencies:[Lr],styles:[".list[_ngcontent-%COMP%]{position:absolute;left:38%;top:38%}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.projectBlock[_ngcontent-%COMP%]{width:auto;height:35px;background:#3ec28f;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:20px;font-weight:700;letter-spacing:0;cursor:pointer}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:153px;height:36px;left:49%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:126px;height:16px;left:50%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;width:300px;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;left:45%;top:20%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;margin-left:2px;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.list[_ngcontent-%COMP%]{position:absolute;left:5%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:80%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;left:25%;top:30%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}}return n})();function n3e(n,e){if(1&n){const t=ft();p(0,"tr")(1,"td"),m(2),f(),p(3,"td"),m(4),f(),p(5,"td"),m(6),f(),p(7,"td")(8,"button",3),Q("click",function(){const o=Ae(t).$implicit;return ke(Tt().Muestras(o.project,o.codigo))}),p(9,"div",4),m(10,"Listar Muestras"),f()(),p(11,"button",5),Q("click",function(){const o=Ae(t).$implicit;return ke(Tt().infoUnidad(o.codigo))}),p(12,"div",6),m(13,"Informaci\xf3n"),f()()()()}if(2&n){const t=e.$implicit;V(2),Ve(t.codigo),V(2),Ve(t.altitud),V(2),Ve(t.coordenadas)}}let i3e=(()=>{class n{constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.data=[],this.arr=[]}ngOnInit(){this.route.params.subscribe(t=>{this.item=t.id,console.log(t),console.log(t.id)}),this.getData(),this.MyQuery()}getData(){const t=me(this.firestore,"unidad-produccion");de(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}updateData(t){const i=Ce(this.firestore,"unidad-produccion",t);Qi(i,{}).then(()=>{alert("Data updated"),this.getData()}).catch(r=>{alert(r.message)})}deleteData(t){const i=Ce(this.firestore,"unidad-produccion",t);gn(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["user/projects"])}logOut(){si(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}newMuestra(){this.router.navigate(["user/muestras-new"])}editMuestra(t){this.router.navigate(["user/muestras-edit/"+t])}infoProject(t){this.router.navigate(["user/project-edit/"+t])}infoUnidad(t){this.router.navigate(["client/unidad-produccion-info/"+t])}Muestras(t,i){this.router.navigate(["client/muestras/"+i])}MyQuery(){var t=this;return _(function*(){const i=Ho();let r,o=[];r="",Ds(i,function(){var s=_(function*(a){if(a&&(console.log(a.email),a.email)){r=a.email;const c=Ut(me(t.firestore,"unidad-produccion"),zt("cliente","==",r));de(c).then(d=>{t.data=[...d.docs.map(h=>({...h.data(),id:h.id}))]}),(yield de(c)).forEach(d=>{}),console.log(t.dataTem.length),console.log(t.data),console.log(t.dataTem[0].name);let u=t.dataTem.length;console.log(u);for(let d=0;d<u;d++)console.log(t.dataTem[d].name),o.push(t.dataTem[d].name);console.log(o)}});return function(a){return s.apply(this,arguments)}}())})()}static{this.\u0275fac=function(i){return new(i||n)(E(Se),E(nt),E(Be),E(Ze))}}static{this.\u0275cmp=xe({type:n,selectors:[["app-unidad-produccion-all"]],decls:15,vars:1,consts:[[1,"subTituloText"],[1,"list"],[4,"ngFor","ngForOf"],[1,"muestras",3,"click"],[1,"muestras-tip"],[1,"detalles",3,"click"],[1,"detalles-tip"]],template:function(i,r){1&i&&(p(0,"p"),m(1,"unidad-produccion-all works!"),f(),p(2,"h1",0),m(3,"Unidades"),f(),p(4,"div",1)(5,"table")(6,"tr")(7,"th"),m(8," Codigo "),f(),p(9,"th"),m(10," Altitud"),f(),p(11,"th"),m(12," Coordenadas "),f(),Y(13,"th"),f(),Sn(14,n3e,14,3,"tr",2),f()()),2&i&&(V(14),Lt("ngForOf",r.data))},dependencies:[Lr],styles:[".list[_ngcontent-%COMP%]{position:absolute;left:38%;top:38%}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.projectBlock[_ngcontent-%COMP%]{width:auto;height:35px;background:#3ec28f;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:20px;font-weight:700;letter-spacing:0;cursor:pointer}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:153px;height:36px;left:49%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:126px;height:16px;left:50%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;left:45%;top:20%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.muestras[_ngcontent-%COMP%]:hover   .muestras-tip[_ngcontent-%COMP%]{display:block;opacity:1;transition:.5s}.muestras-tip[_ngcontent-%COMP%]{display:none;position:relative;background-color:#2f3033;color:#fff;padding:5px;width:max-content;margin:5px;top:100%;left:0;opacity:0;transition:.5s;z-index:100;border-radius:3px;font-weight:700;font-family:Trebuchet MS,sans-serif}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;margin-left:2px;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.detalles[_ngcontent-%COMP%]:hover   .detalles-tip[_ngcontent-%COMP%]{display:block;opacity:1;transition:.5s}.detalles-tip[_ngcontent-%COMP%]{display:none;position:relative;background-color:#2f3033;color:#fff;padding:5px;width:-moz-fit-content;width:fit-content;margin:5px;top:100%;left:0;opacity:0;transition:.5s;z-index:100;border-radius:3px;font-weight:700;font-family:Trebuchet MS,sans-serif}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.list[_ngcontent-%COMP%]{position:absolute;left:2%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:80%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;left:22%;top:30%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}}return n})();const r3e=["geo"];let o3e=(()=>{class n{constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.title="gestion-de-muestras-de-campo",this.data=[],this.somethingChange=new We}ngOnInit(){this.route.params.subscribe(t=>{this.text=t.id,console.log(t),console.log(t.id)}),this.MyQuery()}handleRegister(t){this.addData(t)}addData(t){const i=Ce(this.firestore,"unidad-produccion",t.codigo);Er(i,t).then(()=>{alert("Data Sent")}).catch(r=>{alert(r.message)}),console.log(t.comentarios)}getData(){const t=me(this.firestore,"unidad-produccion");de(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude)}getLocation(){var t=this;return _(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{console.log(t.res)},1e3)})()}MyQuery(){var t=this;return _(function*(){let i=t.text;const r=Ut(me(t.firestore,"unidad-produccion"),zt("codigo","==",i)),o=yield de(r);o.empty||o.forEach(s=>{t.item=s.data(),console.log(s.id," => ",s.data())})})()}editMuestra(){this.router.navigate(["user/unidad-produccion-edit/"+this.text])}deleteData(t){const i=Ce(this.firestore,"users",t);gn(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}static{this.\u0275fac=function(i){return new(i||n)(E(Se),E(nt),E(Be),E(Ze))}}static{this.\u0275cmp=xe({type:n,selectors:[["app-unidad-produccion-info"]],viewQuery:function(i,r){if(1&i&&Fn(r3e,5),2&i){let o;yn(o=vn())&&(r.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:58,vars:10,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],[1,"input-field"]],template:function(i,r){if(1&i){const o=ft();p(0,"p"),m(1,"unidad-produccion-info works!"),f(),p(2,"h1",0),m(3,"Datos de la Unidad"),f(),p(4,"div",1)(5,"form",2,3),Q("ngSubmit",function(){Ae(o);const a=un(6);return ke(r.handleRegister(a.value))}),p(7,"div",4)(8,"div",5)(9,"span",6),m(10,"Codigo:"),f(),p(11,"span",7),m(12),f()(),p(13,"div",5)(14,"span",6),m(15,"Cliente:"),f(),p(16,"span",7),m(17),f()(),p(18,"div",5)(19,"span",6),m(20,"Coordenadas:"),f(),p(21,"span",7),m(22),f()(),p(23,"div",5)(24,"span",6),m(25,"Localidad:"),f(),p(26,"span",7),m(27),f()(),p(28,"div",5)(29,"span",6),m(30,"Municipio:"),f(),p(31,"span",7),m(32),f()(),p(33,"div",5)(34,"span",6),m(35,"Estado:"),f(),p(36,"span",7),m(37),f()(),p(38,"div",5)(39,"span",6),m(40,"Altitud:"),f(),p(41,"span",7),m(42),f()(),p(43,"div",5)(44,"span",6),m(45,"Temperaturas M\xe1ximas:"),f(),p(46,"span",7),m(47),f()(),p(48,"div",5)(49,"span",6),m(50,"Temperaturas M\xednimas:"),f(),p(51,"span",7),m(52),f()(),p(53,"div",5)(54,"span",6),m(55,"Precipitaci\xf3n:"),f(),p(56,"span",7),m(57),f()()()()()}2&i&&(V(12),De(" ",r.item.codigo,""),V(5),De(" ",r.item.cliente,""),V(5),De(" ",r.item.coordenadas,""),V(5),De(" ",r.item.localidad,""),V(5),De(" ",r.item.municipio,""),V(5),De(" ",r.item.estado,""),V(5),De(" ",r.item.altitud,""),V(5),De(" ",r.item.tempmax,""),V(5),De(" ",r.item.tempmin,""),V(5),De(" ",r.item.precipitacion,""))},dependencies:[Vn,Ln,xn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:65%;height:55%;flex-shrink:0;position:absolute;left:50%;top:30%;transform:translate(-30%)}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:10%;top:7%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:12px 12px 12px 25px;height:20px;left:92px;color:#000;font-family:Arial;font-size:20px;letter-spacing:0}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:40%;top:20%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;height:25px;font-family:Arial;font-size:20px;font-weight:700;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:80%;top:88%}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:0%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.input-field[_ngcontent-%COMP%]{margin:6px 6px 6px 15px;height:20px;left:92px;color:#000;font-family:Arial;font-size:16px;letter-spacing:0;text-overflow:ellipsis}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:5%;top:3%}.Text[_ngcontent-%COMP%]{color:#000;height:20px;font-family:Arial;font-size:16px;letter-spacing:0}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:90%;height:45%;flex-shrink:0;position:absolute;left:5%;top:35%;transform:none}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:67%;top:90%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:12px;left:0%;top:110%}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:25%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}@media only screen and (min-width: 1536px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:700px;height:500px;flex-shrink:0;position:absolute;left:50%;top:50%;transform:translate(-50%,-40%)}.subTituloText[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%)}.boton[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(235px)}}"]})}}return n})();const s3e=["geo"];let a3e=(()=>{class n{static{this.text=""}constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.title="gestion-de-muestras-de-campo",this.data=[],this.res="",this.email="",this.somethingChange=new We}ngOnInit(){this.route.params.subscribe(t=>{this.x=t.id,console.log(t),console.log(t.id)}),this.getData(),this.MyQuery()}handleRegister(t){this.addData(t)}addData(t){var i=this;return _(function*(){const r=Ce(i.firestore,"clientes",t.codigo);Er(r,t).then(()=>{alert("Data Sent")}).catch(o=>{alert(o.message)}),console.log(i.pid)})()}getData(){const t=Ho();Ds(t,r=>{r&&r.email&&(this.email=r.email)});const i=me(this.firestore,"clientes");de(i).then(r=>{this.data=[...r.docs.map(o=>({...o.data(),id:o.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude),n.text=t.coords.latitude+", "+t.coords.longitude}getLocation(){var t=this;return _(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{t.res=n.text,console.log(t.res)},1e3)})()}MyQuery(){var t=this;return _(function*(){const i=Ho();let r;r="",console.log(i),Ds(i,function(){var o=_(function*(s){if(s&&(console.log(s.email),s.email)){r=s.email;const a=Ut(me(t.firestore,"clientes"),zt("email","==",r));de(a).then(l=>{t.data=[...l.docs.map(u=>({...u.data(),id:u.id}))]});const c=yield de(a);console.log(c),c.forEach(l=>{t.item=l.data(),t.pid=l.id,console.log(l.id," => ",l.data()),console.log("here2")}),console.log(t.data.length),console.log(t.data),console.log(t.data[0].email)}});return function(s){return o.apply(this,arguments)}}())})()}editClients(){this.router.navigate(["client/perfil-edit"])}deleteData(t){const r=Ce(this.firestore,"clientes",this.x);gn(r).then(()=>{alert("Data Deleted"),this.router.navigate(["user/muestras/"+this.pid])}).catch(o=>{alert(o.message)})}static{this.\u0275fac=function(i){return new(i||n)(E(Se),E(nt),E(Be),E(Ze))}}static{this.\u0275cmp=xe({type:n,selectors:[["app-perfil"]],viewQuery:function(i,r){if(1&i&&Fn(s3e,5),2&i){let o;yn(o=vn())&&(r.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:32,vars:4,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],[1,"input-field"],[1,"boton",3,"click"]],template:function(i,r){if(1&i){const o=ft();p(0,"p"),m(1,"perfil works!"),f(),p(2,"p"),m(3,"clients-info works!"),f(),p(4,"h1",0),m(5,"Informacion del Cliente"),f(),Y(6,"div",1),p(7,"form",2,3),Q("ngSubmit",function(){Ae(o);const a=un(8);return ke(r.handleRegister(a.value))}),p(9,"div",4)(10,"div",5)(11,"span",6),m(12,"Email:"),f(),p(13,"span",7),m(14),f()(),p(15,"div",5)(16,"span",6),m(17,"Nombre:"),f(),p(18,"span",7),m(19),f()(),p(20,"div",5)(21,"span",6),m(22,"Telefono:"),f(),p(23,"span",7),m(24),f()(),p(25,"div",5)(26,"span",6),m(27,"Direccion:"),f(),p(28,"span",7),m(29),f()(),p(30,"button",8),Q("click",function(){return r.editClients()}),m(31,"Editar Cliente"),f()()()}2&i&&(V(14),De(" ",r.item.email,""),V(5),De(" ",r.item.nombre,""),V(5),De(" ",r.item.telefono,""),V(5),De(" ",r.item.direccion,""))},dependencies:[Vn,Ln,xn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:500px;height:250px;position:absolute;top:38%;left:53%;transform:translate(-50%)}.main[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;width:450px;height:250px;position:absolute;top:38%;left:54%;transform:translate(-50%)}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:85%;height:20px;left:92px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;top:20%;left:50%;transform:translate(-35%)}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;width:80px;height:45px;border-width:0;border-radius:30px;font-size:16px;position:absolute;left:81%;top:105%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:35%;flex-shrink:0;position:absolute;top:45%}.input-fields[_ngcontent-%COMP%]{font-size:12px}.main[_ngcontent-%COMP%]{width:75%;height:35%;flex-shrink:0;margin-left:5px;position:absolute;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:14px;letter-spacing:0}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:75%;top:110%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:35%;top:30%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}}return n})();const c3e=["geo"];let l3e=(()=>{class n{static{this.text=""}constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.title="gestion-de-muestras-de-campo",this.data=[],this.res="",this.email="",this.somethingChange=new We,this.getData(),this.MyQuery()}handleRegister(t){this.addData(t)}addData(t){var i=this;return _(function*(){console.log(t);const r=Ce(i.firestore,"clientes",t.email);Qi(r,{email:t.email,nombre:t.nombre,fecha:t.fecha,telefono:t.telefono,direccion:t.direccion}).then(()=>{alert("Data Sent")}).catch(o=>{alert(o.message)}),console.log(i.pid)})()}getData(){const t=me(this.firestore,"clientes");de(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude),n.text=t.coords.latitude+", "+t.coords.longitude}getLocation(){var t=this;return _(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{t.res=n.text,console.log(t.res)},1e3)})()}MyQuery(){var t=this;return _(function*(){const i=Ho();let r;r="",console.log(i),Ds(i,function(){var o=_(function*(s){if(s&&(console.log(s.email),s.email)){r=s.email;const a=Ut(me(t.firestore,"clientes"),zt("email","==",r));de(a).then(l=>{t.data=[...l.docs.map(u=>({...u.data(),id:u.id}))]});const c=yield de(a);console.log(c),c.forEach(l=>{t.item=l.data(),t.pid=l.id,console.log(l.id," => ",l.data()),console.log("here2")}),console.log(t.data.length),console.log(t.data),console.log(t.data[0].email)}});return function(s){return o.apply(this,arguments)}}())})()}deleteData(t){const r=Ce(this.firestore,"clientes",this.x);gn(r).then(()=>{alert("Data Deleted"),this.router.navigate(["user/muestras/"+this.pid])}).catch(o=>{alert(o.message)})}static{this.\u0275fac=function(i){return new(i||n)(E(Se),E(nt),E(Be),E(Ze))}}static{this.\u0275cmp=xe({type:n,selectors:[["app-perfil-edit"]],viewQuery:function(i,r){if(1&i&&Fn(c3e,5),2&i){let o;yn(o=vn())&&(r.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:26,vars:4,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],["name","email","ngModel","","placeholder","Email","id","emai","type","email",1,"input-field",3,"ngModel","ngModelChange"],["name","nombre","ngModel","","placeholder","Nombre","id","nombre","type","nombre",1,"input-field",3,"ngModel","ngModelChange"],["name","telefono","ngModel","","placeholder","Telefono","id","telefono","type","telefono",1,"input-field",3,"ngModel","ngModelChange"],["name","direccion","ngModel","","placeholder","Direccion","id","direccion","type","direccion",1,"input-field",3,"ngModel","ngModelChange"],[1,"boton"]],template:function(i,r){if(1&i){const o=ft();p(0,"p"),m(1,"perfil-edit works!"),f(),p(2,"h1",0),m(3," Editar Perfil"),f(),p(4,"div",1)(5,"form",2,3),Q("ngSubmit",function(){Ae(o);const a=un(6);return ke(r.handleRegister(a.value))}),p(7,"div",4)(8,"div",5)(9,"span",6),m(10,"Email:"),f(),p(11,"input",7),st("ngModelChange",function(a){return dt(r.item.email,a)||(r.item.email=a),a}),f()(),p(12,"div",5)(13,"span",6),m(14,"Nombre:"),f(),p(15,"input",8),st("ngModelChange",function(a){return dt(r.item.nombre,a)||(r.item.nombre=a),a}),f()(),p(16,"div",5)(17,"span",6),m(18,"Telefono:"),f(),p(19,"input",9),st("ngModelChange",function(a){return dt(r.item.telefono,a)||(r.item.telefono=a),a}),f()(),p(20,"div",5)(21,"span",6),m(22,"Direccion:"),f(),p(23,"input",10),st("ngModelChange",function(a){return dt(r.item.direccion,a)||(r.item.direccion=a),a}),f()(),p(24,"button",11),m(25,"Editar Cliente"),f()()()()}2&i&&(V(11),ot("ngModel",r.item.email),V(4),ot("ngModel",r.item.nombre),V(4),ot("ngModel",r.item.telefono),V(4),ot("ngModel",r.item.direccion))},dependencies:[Vn,Ui,vr,Ln,rr,xn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:520px;height:250px;position:absolute;top:38%;left:60%;transform:translate(-50%)}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:3%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:85%;height:20px;left:92px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;top:20%;left:60%;transform:translate(-50%)}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:80%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:40%;flex-shrink:0;transform:none;position:absolute;top:40%;left:50%;transform:translate(-50%)}.input-fields[_ngcontent-%COMP%]{font-size:12px}.main[_ngcontent-%COMP%]{width:75%;flex-shrink:0;margin-left:5px;position:absolute;top:0%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:14px;letter-spacing:0}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:75%;top:110%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;transform:none;position:absolute;top:30%;left:50%;transform:translate(-50%)}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}@media only screen and (min-width: 1536px){.loginBox[_ngcontent-%COMP%]{position:absolute;top:38%;left:50%;transform:translate(-50%,-36%)}.subTituloText[_ngcontent-%COMP%]{position:absolute;top:20%;left:50%;transform:translate(-50%)}}"]})}}return n})();const u3e=["geo"],d3e=[{path:"client",component:IK,children:[{path:"projects",component:XLe},{path:"muestras-all",component:t3e},{path:"muestras/:id",component:JLe},{path:"unidad-produccion-all",component:i3e},{path:"muestras-info/:id",component:(()=>{class n{constructor(t,i,r,o){this.router=t,this.route=i,this.auth=r,this.firestore=o,this.title="gestion-de-muestras-de-campo",this.data=[],this.somethingChange=new We,this.getData(),this.MyQuery()}ngOnInit(){this.route.params.subscribe(t=>{this.text=t.id,console.log(t),console.log(t.id)}),this.getData(),this.MyQuery()}handleRegister(t){this.addData(t)}addData(t){const i=Ce(this.firestore,"muestras",t.codigo);Er(i,t).then(()=>{alert("Data Sent")}).catch(r=>{alert(r.message)}),console.log(t.comentarios)}getData(){const t=me(this.firestore,"muestras");de(t).then(i=>{this.data=[...i.docs.map(r=>({...r.data(),id:r.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude)}getLocation(){var t=this;return _(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{console.log(t.res)},1e3)})()}MyQuery(){var t=this;return _(function*(){let i=t.text;const r=Ut(me(t.firestore,"muestras"),zt("codigo","==",i));(yield de(r)).forEach(s=>{t.item=s.data(),console.log(s.id," => ",s.data())})})()}deleteData(t){const i=Ce(this.firestore,"users",t);gn(i).then(()=>{alert("Data Deleted"),this.getData()}).catch(r=>{alert(r.message)})}static{this.\u0275fac=function(i){return new(i||n)(E(Se),E(nt),E(Be),E(Ze))}}static{this.\u0275cmp=xe({type:n,selectors:[["app-muestras-info"]],viewQuery:function(i,r){if(1&i&&Fn(u3e,5),2&i){let o;yn(o=vn())&&(r.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:53,vars:9,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],[1,"input-field"]],template:function(i,r){if(1&i){const o=ft();p(0,"p"),m(1,"muestras-info works!"),f(),p(2,"h1",0),m(3,"Datos de la Muestra"),f(),p(4,"div",1)(5,"form",2,3),Q("ngSubmit",function(){Ae(o);const a=un(6);return ke(r.handleRegister(a.value))}),p(7,"div",4)(8,"div",5)(9,"span",6),m(10,"Codigo:"),f(),p(11,"span",7),m(12),f()(),p(13,"div",5)(14,"span",6),m(15,"Cliente:"),f(),p(16,"span",7),m(17),f()(),p(18,"div",5)(19,"span",6),m(20,"Fecha:"),f(),p(21,"span",7),m(22),f()(),p(23,"div",5)(24,"span",6),m(25,"Cultivo:"),f(),p(26,"span",7),m(27),f()(),p(28,"div",5)(29,"span",6),m(30,"Tipo:"),f(),p(31,"span",7),m(32),f()(),p(33,"div",5)(34,"span",6),m(35,"Fitopat\xf3geno:"),f(),p(36,"span",7),m(37),f()(),p(38,"div",5)(39,"span",6),m(40,"Coordenadas:"),f(),p(41,"span",7),m(42),f()(),p(43,"div",5)(44,"span",6),m(45,"S\xedntomas:"),f(),p(46,"span",7),m(47),f()(),p(48,"div",5)(49,"span",6),m(50,"Comentarios:"),f(),p(51,"span",7),m(52),f()()()()()}2&i&&(V(12),De(" ",r.item.codigo,""),V(5),De(" ",r.item.cliente,""),V(5),De(" ",r.item.fecha,""),V(5),De(" ",r.item.cultivo,""),V(5),De(" ",r.item.tipo,""),V(5),De(" ",r.item.fitopatogeno,""),V(5),De(" ",r.item.coordenadas,""),V(5),De(" ",r.item.sintomas,""),V(5),De(" ",r.item.comentarios,""))},dependencies:[Vn,Ln,xn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:65%;height:57%;flex-shrink:0;position:absolute;left:50%;top:28%;transform:translate(-30%)}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:10%;top:2%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:12px 12px 12px 25px;height:20px;left:92px;color:#000;font-family:Arial;font-size:20px;letter-spacing:0}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;text-shadow:2px 2px 5px black;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:40%;top:20%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;height:25px;font-family:Arial;font-size:20px;font-weight:700;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:80%;top:87%}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:0%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.input-field[_ngcontent-%COMP%]{margin:6px 6px 6px 10px;height:20px;left:92px;color:#000;font-family:Arial;font-size:16px;letter-spacing:0;text-overflow:ellipsis}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:5%;top:2%}.Text[_ngcontent-%COMP%]{color:#000;height:20px;font-family:Arial;font-size:16px;letter-spacing:0}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:90%;height:40%;flex-shrink:0;position:absolute;left:5%;top:40%;transform:none}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:67%;top:85%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:12px;left:0%;top:110%}.subTituloText[_ngcontent-%COMP%]{color:#0a9217;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:28%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}@media only screen and (min-width: 1536px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:850px;height:500px;flex-shrink:0;position:absolute;left:50%;top:50%;transform:translate(-50%,-35%)}.subTituloText[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%)}.boton[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(310px)}}"]})}}return n})()},{path:"unidad-produccion-info/:id",component:o3e},{path:"perfil",component:a3e},{path:"perfil-edit",component:l3e}]}];let h3e=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=et({type:n})}static{this.\u0275inj=Je({imports:[Br.forChild(d3e),Br]})}}return n})(),f3e=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=et({type:n})}static{this.\u0275inj=Je({imports:[h3e,uN,Ja,jp,kx,Br]})}}return n})();function p3e(n,e){}class Gx{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let AZ=(()=>{class n extends iF{constructor(t,i,r,o,s,a,c,l){super(),this._elementRef=t,this._focusTrapFactory=i,this._config=o,this._interactivityChecker=s,this._ngZone=a,this._overlayRef=c,this._focusMonitor=l,this._platform=J(Oi),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=J(ld),this.attachDomPortal=u=>{this._portalOutlet.hasAttached();const d=this._portalOutlet.attachDomPortal(u);return this._contentAttached(),d},this._document=r,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(t){this._ariaLabelledByQueue.push(t),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(t){const i=this._ariaLabelledByQueue.indexOf(t);i>-1&&(this._ariaLabelledByQueue.splice(i,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(t){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(t);return this._contentAttached(),i}attachTemplatePortal(t){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(t);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{t.removeEventListener("blur",r),t.removeEventListener("mousedown",r),t.removeAttribute("tabindex")};t.addEventListener("blur",r),t.addEventListener("mousedown",r)})),t.focus(i)}_focusByCssSelector(t,i){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,i)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._config.restoreFocus;let i=null;if("string"==typeof t?i=this._document.querySelector(t):"boolean"==typeof t?i=t?this._elementFocusedBeforeDialogWasOpened:null:t&&(i=t),this._config.restoreFocus&&i&&"function"==typeof i.focus){const r=cN(),o=this._elementRef.nativeElement;(!r||r===this._document.body||r===o||o.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,i=cN();return t===i||t.contains(i)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=cN()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static{this.\u0275fac=function(i){return new(i||n)(E(ln),E(RX),E(ht,8),E(Gx),E(K2),E(Me),E(Vx),E(Q2))}}static{this.\u0275cmp=xe({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(i,r){if(1&i&&Fn(rF,7),2&i){let o;yn(o=vn())&&(r._portalOutlet=o.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(i,r){2&i&&Rr("id",r._config.id||null)("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null)},standalone:!0,features:[wt,_o],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(i,r){1&i&&Sn(0,p3e,0,0,"ng-template",0)},dependencies:[rF],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}}return n})();class hF{constructor(e,t){this.overlayRef=e,this.config=t,this.closed=new vt,this.disableClose=t.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=t.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!W2(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=e.detachments().subscribe(()=>{!1!==t.closeOnOverlayDetachments&&this.close()})}close(e,t){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=t?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),i.next(e),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",t=""){return this.overlayRef.updateSize({width:e,height:t}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}}const kZ=new X("DialogScrollStrategy",{providedIn:"root",factory:()=>{const n=J(ka);return()=>n.scrollStrategies.block()}}),g3e=new X("DialogData"),m3e=new X("DefaultDialogConfig");let b3e=0,y3e=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(t,i,r,o,s,a){this._overlay=t,this._injector=i,this._defaultOptions=r,this._parentDialog=o,this._overlayContainer=s,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new vt,this._afterOpenedAtThisLevel=new vt,this._ariaHiddenElements=new Map,this.afterAllClosed=Hp(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(jI(void 0))),this._scrollStrategy=a}open(t,i){(i={...this._defaultOptions||new Gx,...i}).id=i.id||"cdk-dialog-"+b3e++,i.id&&this.getDialogById(i.id);const o=this._getOverlayConfig(i),s=this._overlay.create(o),a=new hF(s,i),c=this._attachContainer(s,a,i);return a.containerInstance=c,this._attachDialogContent(t,a,c,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(a),a.closed.subscribe(()=>this._removeOpenDialog(a,!0)),this.afterOpened.next(a),a}closeAll(){fF(this.openDialogs,t=>t.close())}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){fF(this._openDialogsAtThisLevel,t=>{!1===t.config.closeOnDestroy&&this._removeOpenDialog(t,!1)}),fF(this._openDialogsAtThisLevel,t=>t.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(t){const i=new YX({positionStrategy:t.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,width:t.width,height:t.height,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(i.backdropClass=t.backdropClass),i}_attachContainer(t,i,r){const o=r.injector||r.viewContainerRef?.injector,s=[{provide:Gx,useValue:r},{provide:hF,useValue:i},{provide:Vx,useValue:t}];let a;r.container?"function"==typeof r.container?a=r.container:(a=r.container.type,s.push(...r.container.providers(r))):a=AZ;const c=new nF(a,r.viewContainerRef,Gt.create({parent:o||this._injector,providers:s}),r.componentFactoryResolver);return t.attach(c).instance}_attachDialogContent(t,i,r,o){if(t instanceof cs){const s=this._createInjector(o,i,r,void 0);let a={$implicit:o.data,dialogRef:i};o.templateContext&&(a={...a,..."function"==typeof o.templateContext?o.templateContext():o.templateContext}),r.attachTemplatePortal(new qX(t,null,a,s))}else{const s=this._createInjector(o,i,r,this._injector),a=r.attachComponentPortal(new nF(t,o.viewContainerRef,s,o.componentFactoryResolver));i.componentRef=a,i.componentInstance=a.instance}}_createInjector(t,i,r,o){const s=t.injector||t.viewContainerRef?.injector,a=[{provide:g3e,useValue:t.data},{provide:hF,useValue:i}];return t.providers&&("function"==typeof t.providers?a.push(...t.providers(i,t,r)):a.push(...t.providers)),t.direction&&(!s||!s.get(J2,null,{optional:!0}))&&a.push({provide:J2,useValue:{value:t.direction,change:we()}}),Gt.create({parent:s||o,providers:a})}_removeOpenDialog(t,i){const r=this.openDialogs.indexOf(t);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,s)=>{o?s.setAttribute("aria-hidden",o):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const i=t.parentElement.children;for(let r=i.length-1;r>-1;r--){const o=i[r];o!==t&&"SCRIPT"!==o.nodeName&&"STYLE"!==o.nodeName&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}static{this.\u0275fac=function(i){return new(i||n)(H(ka),H(Gt),H(m3e,8),H(n,12),H(sF),H(kZ))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function fF(n,e){let t=n.length;for(;t--;)e(n[t])}function v3e(n,e){}const w3e={bottomSheetState:nZ("state",[Ux("void, hidden",bf({transform:"translateY(100%)"})),Ux("visible",bf({transform:"translateY(0%)"})),zx("visible => void, visible => hidden",iZ([Bx(`${uZ.COMPLEX} ${lZ.ACCELERATION_CURVE}`),oZ("@*",rZ(),{optional:!0})])),zx("void => visible",iZ([Bx(`${uZ.EXITING} ${lZ.DECELERATION_CURVE}`),oZ("@*",rZ(),{optional:!0})]))])};let x3e=(()=>{class n extends AZ{constructor(t,i,r,o,s,a,c,l,u){super(t,i,r,o,s,a,c,u),this._animationState="void",this._animationStateChanged=new We,this._breakpointSubscription=l.observe([mf_Medium,mf_Large,"(min-width: 1920px)"]).subscribe(()=>{this._toggleClass("mat-bottom-sheet-container-medium",l.isMatched(mf_Medium)),this._toggleClass("mat-bottom-sheet-container-large",l.isMatched(mf_Large)),this._toggleClass("mat-bottom-sheet-container-xlarge",l.isMatched("(min-width: 1920px)"))})}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges())}exit(){this._destroyed||(this._animationState="hidden",this._changeDetectorRef.markForCheck())}ngOnDestroy(){super.ngOnDestroy(),this._breakpointSubscription.unsubscribe(),this._destroyed=!0}_onAnimationDone(t){"visible"===t.toState&&this._trapFocus(),this._animationStateChanged.emit(t)}_onAnimationStart(t){this._animationStateChanged.emit(t)}_captureInitialFocus(){}_toggleClass(t,i){this._elementRef.nativeElement.classList.toggle(t,i)}static{this.\u0275fac=function(i){return new(i||n)(E(ln),E(RX),E(ht,8),E(Gx),E(K2),E(Me),E(Vx),E(MX),E(Q2))}}static{this.\u0275cmp=xe({type:n,selectors:[["mat-bottom-sheet-container"]],hostAttrs:["tabindex","-1",1,"mat-bottom-sheet-container"],hostVars:4,hostBindings:function(i,r){1&i&&dT("@state.start",function(s){return r._onAnimationStart(s)})("@state.done",function(s){return r._onAnimationDone(s)}),2&i&&(Rr("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-label",r._config.ariaLabel),cT("@state",r._animationState))},standalone:!0,features:[wt,_o],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(i,r){1&i&&Sn(0,v3e,0,0,"ng-template",0)},dependencies:[rF],styles:[".mat-bottom-sheet-container{box-shadow:0px 8px 10px -5px rgba(0, 0, 0, 0.2), 0px 16px 24px 2px rgba(0, 0, 0, 0.14), 0px 6px 30px 5px rgba(0, 0, 0, 0.12);padding:8px 16px;min-width:100vw;box-sizing:border-box;display:block;outline:0;max-height:80vh;overflow:auto;background:var(--mat-bottom-sheet-container-background-color);color:var(--mat-bottom-sheet-container-text-color);font-family:var(--mat-bottom-sheet-container-text-font);font-size:var(--mat-bottom-sheet-container-text-size);line-height:var(--mat-bottom-sheet-container-text-line-height);font-weight:var(--mat-bottom-sheet-container-text-weight);letter-spacing:var(--mat-bottom-sheet-container-text-tracking)}.cdk-high-contrast-active .mat-bottom-sheet-container{outline:1px solid}.mat-bottom-sheet-container-xlarge,.mat-bottom-sheet-container-large,.mat-bottom-sheet-container-medium{border-top-left-radius:var(--mat-bottom-sheet-container-shape);border-top-right-radius:var(--mat-bottom-sheet-container-shape)}.mat-bottom-sheet-container-medium{min-width:384px;max-width:calc(100vw - 128px)}.mat-bottom-sheet-container-large{min-width:512px;max-width:calc(100vw - 256px)}.mat-bottom-sheet-container-xlarge{min-width:576px;max-width:calc(100vw - 384px)}"],encapsulation:2,data:{animation:[w3e.bottomSheetState]}})}}return n})();const OZ=new X("MatBottomSheetData");class C3e{constructor(){this.data=null,this.hasBackdrop=!0,this.disableClose=!1,this.ariaLabel=null,this.ariaModal=!0,this.closeOnNavigation=!0,this.autoFocus="dialog",this.restoreFocus=!0}}class pF{get instance(){return this._ref.componentInstance}get componentRef(){return this._ref.componentRef}constructor(e,t,i){this._ref=e,this._afterOpened=new vt,this.containerInstance=i,this.disableClose=t.disableClose,i._animationStateChanged.pipe(Bn(r=>"done"===r.phaseName&&"visible"===r.toState),Xn(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(Bn(r=>"done"===r.phaseName&&"hidden"===r.toState),Xn(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._ref.close(this._result)}),e.overlayRef.detachments().subscribe(()=>{this._ref.close(this._result)}),Lx(this.backdropClick(),this.keydownEvents().pipe(Bn(r=>27===r.keyCode))).subscribe(r=>{!this.disableClose&&("keydown"!==r.type||!W2(r))&&(r.preventDefault(),this.dismiss())})}dismiss(e){this.containerInstance&&(this.containerInstance._animationStateChanged.pipe(Bn(t=>"start"===t.phaseName),Xn(1)).subscribe(t=>{this._closeFallbackTimeout=setTimeout(()=>{this._ref.close(this._result)},t.totalTime+100),this._ref.overlayRef.detachBackdrop()}),this._result=e,this.containerInstance.exit(),this.containerInstance=null)}afterDismissed(){return this._ref.closed}afterOpened(){return this._afterOpened}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}}const E3e=new X("mat-bottom-sheet-default-options");let T3e=(()=>{class n{get _openedBottomSheetRef(){const t=this._parentBottomSheet;return t?t._openedBottomSheetRef:this._bottomSheetRefAtThisLevel}set _openedBottomSheetRef(t){this._parentBottomSheet?this._parentBottomSheet._openedBottomSheetRef=t:this._bottomSheetRefAtThisLevel=t}constructor(t,i,r,o){this._overlay=t,this._parentBottomSheet=r,this._defaultOptions=o,this._bottomSheetRefAtThisLevel=null,this._dialog=i.get(y3e)}open(t,i){const r={...this._defaultOptions||new C3e,...i};let o;return this._dialog.open(t,{...r,disableClose:!0,closeOnOverlayDetachments:!1,maxWidth:"100%",container:x3e,scrollStrategy:r.scrollStrategy||this._overlay.scrollStrategies.block(),positionStrategy:this._overlay.position().global().centerHorizontally().bottom("0"),templateContext:()=>({bottomSheetRef:o}),providers:(s,a,c)=>(o=new pF(s,r,c),[{provide:pF,useValue:o},{provide:OZ,useValue:r.data}])}),o.afterDismissed().subscribe(()=>{this._openedBottomSheetRef===o&&(this._openedBottomSheetRef=null)}),this._openedBottomSheetRef?(this._openedBottomSheetRef.afterDismissed().subscribe(()=>o.containerInstance?.enter()),this._openedBottomSheetRef.dismiss()):o.containerInstance.enter(),this._openedBottomSheetRef=o,o}dismiss(t){this._openedBottomSheetRef&&this._openedBottomSheetRef.dismiss(t)}ngOnDestroy(){this._bottomSheetRefAtThisLevel&&this._bottomSheetRefAtThisLevel.dismiss()}static{this.\u0275fac=function(i){return new(i||n)(H(ka),H(Gt),H(n,12),H(E3e,8))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const I3e=["*",[["mat-toolbar-row"]]],M3e=["*","mat-toolbar-row"];let D3e=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=_e({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"],standalone:!0})}}return n})(),S3e=(()=>{class n{constructor(t,i,r){this._elementRef=t,this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}static{this.\u0275fac=function(i){return new(i||n)(E(ln),E(Oi),E(ht))}}static{this.\u0275cmp=xe({type:n,selectors:[["mat-toolbar"]],contentQueries:function(i,r,o){if(1&i&&pT(o,D3e,5),2&i){let s;yn(s=vn())&&(r._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(i,r){2&i&&(py(r.color?"mat-"+r.color:""),mo("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length))},inputs:{color:"color"},exportAs:["matToolbar"],standalone:!0,features:[_o],ngContentSelectors:M3e,decls:2,vars:0,template:function(i,r){1&i&&(_l(I3e),Fr(0),Fr(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color:var(--mat-toolbar-container-text-color);--mdc-outlined-button-label-text-color:var(--mat-toolbar-container-text-color)}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0})}}return n})(),A3e=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=et({type:n})}static{this.\u0275inj=Je({imports:[To,To]})}}return n})();const k3e=["mat-button",""],O3e=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],P3e=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],N3e=["mat-icon-button",""],F3e=["*"],L3e=new X("MAT_BUTTON_CONFIG"),V3e=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}];let PZ=(()=>{class n{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(t){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,t)}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=t,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._updateRippleDisabled()}constructor(t,i,r,o){this._elementRef=t,this._platform=i,this._ngZone=r,this._animationMode=o,this._focusMonitor=J(Q2),this._rippleLoader=J(MLe),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;const s=J(L3e,{optional:!0}),a=t.nativeElement,c=a.classList;this.disabledInteractive=s?.disabledInteractive??!1,this._rippleLoader?.configureRipple(a,{className:"mat-mdc-button-ripple"});for(const{attribute:l,mdcClasses:u}of V3e)a.hasAttribute(l)&&c.add(...u)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(t="program",i){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,i):this._elementRef.nativeElement.focus(i)}_getAriaDisabled(){return null!=this.ariaDisabled?this.ariaDisabled:!(!this.disabled||!this.disabledInteractive)||null}_getDisabledAttribute(){return!(this.disabledInteractive||!this.disabled)||null}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static{this.\u0275fac=function(i){JE()}}static{this.\u0275dir=_e({type:n,inputs:{color:"color",disableRipple:[lt.HasDecoratorInputTransform,"disableRipple","disableRipple",gs],disabled:[lt.HasDecoratorInputTransform,"disabled","disabled",gs],ariaDisabled:[lt.HasDecoratorInputTransform,"aria-disabled","ariaDisabled",gs],disabledInteractive:[lt.HasDecoratorInputTransform,"disabledInteractive","disabledInteractive",gs]},features:[B1]})}}return n})(),B3e=(()=>{class n extends PZ{constructor(t,i,r,o){super(t,i,r,o)}static{this.\u0275fac=function(i){return new(i||n)(E(ln),E(Oi),E(Me),E(il,8))}}static{this.\u0275cmp=xe({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(i,r){2&i&&(Rr("disabled",r._getDisabledAttribute())("aria-disabled",r._getAriaDisabled()),py(r.color?"mat-"+r.color:""),mo("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[wt,_o],attrs:k3e,ngContentSelectors:P3e,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(_l(O3e),Y(0,"span",0),Fr(1),p(2,"span",1),Fr(3,1),f(),Fr(4,2),Y(5,"span",2)(6,"span",3)),2&i&&mo("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px);display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);font-weight:var(--mdc-text-button-label-text-weight);text-transform:var(--mdc-text-button-label-text-transform);height:var(--mdc-text-button-container-height);border-radius:var(--mdc-text-button-container-shape);padding:0 var(--mat-text-button-horizontal-padding, 8px)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);font-weight:var(--mdc-filled-button-label-text-weight);text-transform:var(--mdc-filled-button-label-text-transform);height:var(--mdc-filled-button-container-height);border-radius:var(--mdc-filled-button-container-shape);padding:0 var(--mat-filled-button-horizontal-padding, 16px)}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color)}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);font-weight:var(--mdc-protected-button-label-text-weight);text-transform:var(--mdc-protected-button-label-text-transform);height:var(--mdc-protected-button-container-height);border-radius:var(--mdc-protected-button-container-shape);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow)}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color)}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);font-weight:var(--mdc-outlined-button-label-text-weight);text-transform:var(--mdc-outlined-button-label-text-transform);height:var(--mdc-outlined-button-container-height);border-radius:var(--mdc-outlined-button-container-shape);padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width);padding:0 var(--mat-outlined-button-horizontal-padding, 15px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color)}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape)}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width))}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button-base{text-decoration:none}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}}return n})(),z3e=(()=>{class n extends PZ{constructor(t,i,r,o){super(t,i,r,o),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static{this.\u0275fac=function(i){return new(i||n)(E(ln),E(Oi),E(Me),E(il,8))}}static{this.\u0275cmp=xe({type:n,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(i,r){2&i&&(Rr("disabled",r._getDisabledAttribute())("aria-disabled",r._getAriaDisabled()),py(r.color?"mat-"+r.color:""),mo("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[wt,_o],attrs:N3e,ngContentSelectors:F3e,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(_l(),Y(0,"span",0),Fr(1),Y(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{color:var(--mdc-icon-button-icon-color)}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 48px);height:var(--mdc-icon-button-state-layer-size, 48px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 48px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size);-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color)}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color)}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color)}.mat-mdc-icon-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity)}.mat-mdc-icon-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity)}.mat-mdc-icon-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity)}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}}return n})(),j3e=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=et({type:n})}static{this.\u0275inj=Je({imports:[To,ILe,To]})}}return n})();function H3e(n,e){if(1&n){const t=ft();p(0,"mat-toolbar",1)(1,"button",2),Q("click",function(){return Ae(t),ke(Tt().installPwa())}),m(2," Agregar a Inicio "),f(),p(3,"button",3),Q("click",function(){return Ae(t),ke(Tt().close())}),m(4," Cerrar "),f()()}}let $3e=(()=>{class n{constructor(t,i){this.data=t,this.bottomSheetRef=i}installPwa(){this.data.promptEvent.prompt(),this.close()}close(){this.bottomSheetRef.dismiss()}static{this.\u0275fac=function(i){return new(i||n)(E(OZ),E(pF))}}static{this.\u0275cmp=xe({type:n,selectors:[["app-prompt"]],decls:1,vars:1,consts:[["color","primary","class","android-prompt",4,"ngIf"],["color","primary",1,"android-prompt"],["mat-button","",1,"install",3,"click"],["mat-icon-button","",1,"close",3,"click"]],template:function(i,r){1&i&&Sn(0,H3e,5,0,"mat-toolbar",0),2&i&&Lt("ngIf","android"===r.data.mobileType)},dependencies:[S3e,B3e,z3e,$y],styles:[".mat-bottom-sheet-container{--mat-bottom-sheet-container-background-color: white!important;--mat-bottom-sheet-container-text-color: rgba(0, 0, 0, .87) !important;padding:3vh 2px!important;min-width:95vw!important;min-height:15vh!important;margin:0 auto;box-sizing:border-box!important;display:block!important}.android-prompt[_ngcontent-%COMP%]{position:inherit;padding:1vh 2px!important;display:flex;justify-content:space-between;align-items:center}.android-prompt[_ngcontent-%COMP%]   .install[_ngcontent-%COMP%]{background-color:#4c8bf5;color:#fff;border-radius:5px;margin:5px;padding:5px 10px;font-family:Arial;text-align:center;font-size:18px}.android-prompt[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{background-color:#fff;color:#4c8bf5;border-radius:5px;border:5px;margin:5px;padding:5px 10px;font-family:Arial;text-align:center;font-size:18px;min-width:75px}.ios-prompt[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;align-items:center}.ios-prompt[_ngcontent-%COMP%]   .close-ios-inv[_ngcontent-%COMP%]{position:absolute;right:0;top:0}.ios-prompt[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{text-align:center;padding:10px 25px 0}.ios-prompt[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{position:relative;top:-7px}.ios-prompt[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:inline}"]})}}return n})(),G3e=(()=>{class n{constructor(t,i){this.bottomSheet=t,this.platform=i}initPwaPrompt(){this.platform.ANDROID&&(console.log("android"),window.addEventListener("beforeinstallprompt",t=>{t.preventDefault(),this.promptEvent=t,this.openPromptComponent("android")}))}openPromptComponent(t){Z2(1e3).pipe(Xn(1)).subscribe(()=>this.bottomSheet.open($3e,{data:{mobileType:t,promptEvent:this.promptEvent}}))}static{this.\u0275fac=function(i){return new(i||n)(H(T3e),H(Oi))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),iJ=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=et({type:n})}static{this.\u0275inj=Je({imports:[To,To]})}}return n})(),O4e=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=et({type:n})}static{this.\u0275inj=Je({imports:[To,Ja,To]})}}return n})();function rJ(n){return new z(3e3,!1)}function Kc(n){switch(n.length){case 0:return new I_;case 1:return n[0];default:return new sZ(n)}}function oJ(n,e,t=new Map,i=new Map){const r=[],o=[];let s=-1,a=null;if(e.forEach(c=>{const l=c.get("offset"),u=l==s,d=u&&a||new Map;c.forEach((h,g)=>{let y=g,C=h;if("offset"!==g)switch(y=n.normalizePropertyName(y,r),C){case"!":C=t.get(g);break;case Oa:C=i.get(g);break;default:C=n.normalizeStyleValue(g,y,C,r)}d.set(y,C)}),u||o.push(d),a=d,s=l}),r.length)throw function t5e(n){return new z(3502,!1)}();return o}function TF(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&IF(t,"start",n)));break;case"done":n.onDone(()=>i(t&&IF(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&IF(t,"destroy",n)))}}function IF(n,e,t){const o=MF(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),s=n._data;return null!=s&&(o._data=s),o}function MF(n,e,t,i,r="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function ao(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function sJ(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}const f5e=typeof document>"u"?null:document.documentElement;function DF(n){const e=n.parentNode||n.host||null;return e===f5e?null:e}let Tu=null,aJ=!1;function cJ(n,e){for(;e;){if(e===n)return!0;e=DF(e)}return!1}function lJ(n,e,t){if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]}let SF=(()=>{class n{validateStyleProperty(t){return function g5e(n){Tu||(Tu=function m5e(){return typeof document<"u"?document.body:null}()||{},aJ=!!Tu.style&&"WebkitAppearance"in Tu.style);let e=!0;return Tu.style&&!function p5e(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Tu.style,!e&&aJ&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Tu.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return cJ(t,i)}getParentElement(t){return DF(t)}query(t,i,r){return lJ(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,o,s,a=[],c){return new I_(r,o)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac})}}return n})();class AF{static{this.NOOP=new SF}}class kF{}const b5e=1e3,OF="ng-enter",Xx="ng-leave",Zx="ng-trigger",Jx=".ng-trigger",dJ="ng-animating",PF=".ng-animating";function Ra(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:RF(parseFloat(e[1]),e[2])}function RF(n,e){return"s"===e?n*b5e:n}function eC(n,e,t){return n.hasOwnProperty("duration")?n:function v5e(n,e,t){let r,o=0,s="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(rJ()),{duration:0,delay:0,easing:""};r=RF(parseFloat(a[1]),a[2]);const c=a[3];null!=c&&(o=RF(parseFloat(c),a[4]));const l=a[5];l&&(s=l)}else r=n;if(!t){let a=!1,c=e.length;r<0&&(e.push(function P4e(){return new z(3100,!1)}()),a=!0),o<0&&(e.push(function R4e(){return new z(3101,!1)}()),a=!0),a&&e.splice(c,0,rJ())}return{duration:r,delay:o,easing:s}}(n,e,t)}function $s(n,e,t){e.forEach((i,r)=>{const o=FF(r);t&&!t.has(r)&&t.set(r,n.style[o]),n.style[o]=i})}function Iu(n,e){e.forEach((t,i)=>{const r=FF(i);n.style[r]=""})}function O_(n){return Array.isArray(n)?1==n.length?n[0]:function aLe(n,e=null){return{type:Fe.Sequence,steps:n,options:e}}(n):n}const NF=new RegExp("{{\\s*(.+?)\\s*}}","g");function fJ(n){let e=[];if("string"==typeof n){let t;for(;t=NF.exec(n);)e.push(t[1]);NF.lastIndex=0}return e}function P_(n,e,t){const i=`${n}`,r=i.replace(NF,(o,s)=>{let a=e[s];return null==a&&(t.push(function F4e(n){return new z(3003,!1)}()),a=""),a.toString()});return r==i?n:r}const C5e=/-+([a-z0-9])/g;function FF(n){return n.replace(C5e,(...e)=>e[1].toUpperCase())}function co(n,e,t){switch(e.type){case Fe.Trigger:return n.visitTrigger(e,t);case Fe.State:return n.visitState(e,t);case Fe.Transition:return n.visitTransition(e,t);case Fe.Sequence:return n.visitSequence(e,t);case Fe.Group:return n.visitGroup(e,t);case Fe.Animate:return n.visitAnimate(e,t);case Fe.Keyframes:return n.visitKeyframes(e,t);case Fe.Style:return n.visitStyle(e,t);case Fe.Reference:return n.visitReference(e,t);case Fe.AnimateChild:return n.visitAnimateChild(e,t);case Fe.AnimateRef:return n.visitAnimateRef(e,t);case Fe.Query:return n.visitQuery(e,t);case Fe.Stagger:return n.visitStagger(e,t);default:throw function L4e(n){return new z(3004,!1)}()}}function LF(n,e){return window.getComputedStyle(n)[e]}const I5e=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class pJ extends kF{normalizePropertyName(e,t){return FF(e)}normalizeStyleValue(e,t,i,r){let o="";const s=i.toString().trim();if(I5e.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function V4e(n,e){return new z(3005,!1)}())}return s+o}}const tC="*";const nC=new Set(["true","1"]),iC=new Set(["false","0"]);function gJ(n,e){const t=nC.has(n)||iC.has(n),i=nC.has(e)||iC.has(e);return(r,o)=>{let s=n==tC||n==r,a=e==tC||e==o;return!s&&t&&"boolean"==typeof r&&(s=r?nC.has(n):iC.has(n)),!a&&i&&"boolean"==typeof o&&(a=o?nC.has(e):iC.has(e)),s&&a}}const A5e=new RegExp("s*:selfs*,?","g");function VF(n,e,t,i){return new k5e(n).build(e,t,i)}class k5e{constructor(e){this._driver=e}build(e,t,i){const r=new R5e(t);return this._resetContextStyleTimingState(r),co(this,O_(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const o=[],s=[];return"@"==e.name.charAt(0)&&t.errors.push(function B4e(){return new z(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==Fe.State){const c=a,l=c.name;l.toString().split(/\s*,\s*/).forEach(u=>{c.name=u,o.push(this.visitState(c,t))}),c.name=l}else if(a.type==Fe.Transition){const c=this.visitTransition(a,t);i+=c.queryCount,r+=c.depCount,s.push(c)}else t.errors.push(function U4e(){return new z(3007,!1)}())}),{type:Fe.Trigger,name:e.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const o=new Set,s=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{fJ(c).forEach(l=>{s.hasOwnProperty(l)||o.add(l)})})}),o.size&&t.errors.push(function z4e(n,e){return new z(3008,!1)}(0,o.values()))}return{type:Fe.State,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=co(this,O_(e.animation),t),r=function M5e(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function D5e(n,e,t){if(":"==n[0]){const c=function S5e(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function X4e(n){return new z(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof c)return void e.push(c);n=c}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function Y4e(n){return new z(3015,!1)}()),e;const r=i[1],o=i[2],s=i[3];e.push(gJ(r,s)),"<"==o[0]&&(r!=tC||s!=tC)&&e.push(gJ(s,r))}(i,t,e)):t.push(n),t}(e.expr,t.errors);return{type:Fe.Transition,matchers:r,animation:i,queryCount:t.queryCount,depCount:t.depCount,options:Mu(e.options)}}visitSequence(e,t){return{type:Fe.Sequence,steps:e.steps.map(i=>co(this,i,t)),options:Mu(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const o=e.steps.map(s=>{t.currentTime=i;const a=co(this,s,t);return r=Math.max(r,t.currentTime),a});return t.currentTime=r,{type:Fe.Group,steps:o,options:Mu(e.options)}}visitAnimate(e,t){const i=function F5e(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return BF(eC(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=BF(0,0,"");return o.dynamic=!0,o.strValue=t,o}const r=eC(t,e);return BF(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,o=e.styles?e.styles:bf({});if(o.type==Fe.Keyframes)r=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;const l={};i.easing&&(l.easing=i.easing),s=bf(l)}t.currentTime+=i.duration+i.delay;const c=this.visitStyle(s,t);c.isEmptyStep=a,r=c}return t.currentAnimateTimings=null,{type:Fe.Animate,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of r)"string"==typeof a?a===Oa?i.push(a):t.errors.push(new z(3002,!1)):i.push(new Map(Object.entries(a)));let o=!1,s=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o))for(let c of a.values())if(c.toString().indexOf("{{")>=0){o=!0;break}}),{type:Fe.Style,styles:i,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,o=t.currentTime;i&&o>0&&(o-=i.duration+i.delay),e.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,c)=>{const l=t.collectedStyles.get(t.currentQuerySelector),u=l.get(c);let d=!0;u&&(o!=r&&o>=u.startTime&&r<=u.endTime&&(t.errors.push(function H4e(n,e,t,i,r){return new z(3010,!1)}()),d=!1),o=u.startTime),d&&l.set(c,{startTime:o,endTime:r}),t.options&&function x5e(n,e,t){const i=e.params||{},r=fJ(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||t.push(function N4e(n){return new z(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:Fe.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function $4e(){return new z(3011,!1)}()),i;let o=0;const s=[];let a=!1,c=!1,l=0;const u=e.steps.map(S=>{const D=this._makeStyleAst(S,t);let N=null!=D.offset?D.offset:function N5e(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(D.styles),W=0;return null!=N&&(o++,W=D.offset=N),c=c||W<0||W>1,a=a||W<l,l=W,s.push(W),D});c&&t.errors.push(function G4e(){return new z(3012,!1)}()),a&&t.errors.push(function q4e(){return new z(3200,!1)}());const d=e.steps.length;let h=0;o>0&&o<d?t.errors.push(function W4e(){return new z(3202,!1)}()):0==o&&(h=1/(d-1));const g=d-1,y=t.currentTime,C=t.currentAnimateTimings,T=C.duration;return u.forEach((S,D)=>{const N=h>0?D==g?1:h*D:s[D],W=N*T;t.currentTime=y+C.delay+W,C.duration=W,this._validateStyleAst(S,t),S.offset=N,i.styles.push(S)}),i}visitReference(e,t){return{type:Fe.Reference,animation:co(this,O_(e.animation),t),options:Mu(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:Fe.AnimateChild,options:Mu(e.options)}}visitAnimateRef(e,t){return{type:Fe.AnimateRef,animation:this.visitReference(e.animation,t),options:Mu(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[o,s]=function O5e(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(A5e,"")),n=n.replace(/@\*/g,Jx).replace(/@\w+/g,t=>Jx+"-"+t.slice(1)).replace(/:animating/g,PF),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+o:o,ao(t.collectedStyles,t.currentQuerySelector,new Map);const a=co(this,O_(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:Fe.Query,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:Mu(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function K4e(){return new z(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:eC(e.timings,t.errors,!0);return{type:Fe.Stagger,animation:co(this,O_(e.animation),t),timings:i,options:null}}}class R5e{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Mu(n){return n?(n={...n}).params&&(n.params=function P5e(n){return n?{...n}:null}(n.params)):n={},n}function BF(n,e,t){return{duration:n,delay:e,easing:t}}function UF(n,e,t,i,r,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}class rC{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const B5e=new RegExp(":enter","g"),z5e=new RegExp(":leave","g");function zF(n,e,t,i,r,o=new Map,s=new Map,a,c,l=[]){return(new j5e).buildKeyframes(n,e,t,i,r,o,s,a,c,l)}class j5e{buildKeyframes(e,t,i,r,o,s,a,c,l,u=[]){l=l||new rC;const d=new jF(e,t,l,r,o,u,[]);d.options=c;const h=c.delay?Ra(c.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([s],null,d.errors,c),co(this,i,d);const g=d.timelines.filter(y=>y.containsAnimation());if(g.length&&a.size){let y;for(let C=g.length-1;C>=0;C--){const T=g[C];if(T.element===t){y=T;break}}y&&!y.allowOnlyTimelineStyles()&&y.setStyles([a],null,d.errors,c)}return g.length?g.map(y=>y.buildKeyframes()):[UF(t,[],[],[],0,h,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const o=r?.delay;if(o){const s="number"==typeof o?o:Ra(P_(o,r?.params??{},t.errors));i.delayNextStep(s)}}}_visitSubInstructions(e,t,i){let o=t.currentTimeline.currentTime;const s=null!=i.duration?Ra(i.duration):null,a=null!=i.delay?Ra(i.delay):null;return 0!==s&&e.forEach(c=>{const l=t.appendInstructionToTimeline(c,s,a);o=Math.max(o,l.duration+l.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),co(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const o=e.options;if(o&&(o.params||o.delay)&&(r=t.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){r.previousNode.type==Fe.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=oC);const s=Ra(o.delay);r.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>co(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const o=e.options&&e.options.delay?Ra(e.options.delay):0;e.steps.forEach(s=>{const a=t.createSubContext(e.options);o&&a.delayNextStep(o),co(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return eC(t.params?P_(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const o=e.style;o.type==Fe.Keyframes?this.visitKeyframes(o,t):(t.incrementTime(i.duration),this.visitStyle(o,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(o):i.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,o=i.duration,a=t.createSubContext().currentTimeline;a.easing=i.easing,e.styles.forEach(c=>{a.forwardTime((c.offset||0)*o),a.setStyles(c.styles,c.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(r+o),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},o=r.delay?Ra(r.delay):0;o&&(t.previousNode.type===Fe.Style||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=oC);let s=i;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=a.length;let c=null;a.forEach((l,u)=>{t.currentQueryIndex=u;const d=t.createSubContext(e.options,l);o&&d.delayNextStep(o),l===t.element&&(c=d.currentTimeline),co(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,d.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),c&&(t.currentTimeline.mergeTimelineCollectedStyles(c),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1);let c=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=i.currentStaggerTime}const u=t.currentTimeline;c&&u.delayNextStep(c);const d=u.currentTime;co(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-d+(r.startTime-i.currentTimeline.startTime)}}const oC={};class jF{constructor(e,t,i,r,o,s,a,c){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=oC,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new sC(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=Ra(i.duration)),null!=i.delay&&(r.delay=Ra(i.delay));const o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=P_(o[a],s,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,o=new jF(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=oC,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},o=new H5e(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,o,s){let a=[];if(r&&a.push(this.element),e.length>0){e=(e=e.replace(B5e,"."+this._enterClassName)).replace(z5e,"."+this._leaveClassName);let l=this._driver.query(this.element,e,1!=i);0!==i&&(l=i<0?l.slice(l.length+i,l.length):l.slice(0,i)),a.push(...l)}return!o&&0==a.length&&s.push(function Q4e(n){return new z(3014,!1)}()),a}}class sC{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new sC(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||Oa),this._currentKeyframe.set(t,Oa);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const o=r&&r.params||{},s=function $5e(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i??=e.keys();for(let o of i)t.set(o,Oa)}else for(let[o,s]of r)t.set(o,s)}),t}(e,this._globalTimelineStyles);for(let[a,c]of s){const l=P_(c,o,i);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Oa),this._updateStyle(a,l)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,c)=>{const l=new Map([...this._backFill,...a]);l.forEach((u,d)=>{"!"===u?e.add(d):u===Oa&&t.add(d)}),i||l.set("offset",c/this.duration),r.push(l)});const o=[...e.values()],s=[...t.values()];if(i){const a=r[0],c=new Map(a);a.set("offset",0),c.set("offset",1),r=[a,c]}return UF(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}}class H5e extends sC{constructor(e,t,i,r,o,s,a=!1){super(e,t,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const o=[],s=i+t,a=t/s,c=new Map(e[0]);c.set("offset",0),o.push(c);const l=new Map(e[0]);l.set("offset",bJ(a)),o.push(l);const u=e.length-1;for(let d=1;d<=u;d++){let h=new Map(e[d]);const g=h.get("offset");h.set("offset",bJ((t+g*i)/s)),o.push(h)}i=s,t=0,r="",e=o}return UF(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function bJ(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}function yJ(n,e,t,i,r,o,s,a,c,l,u,d,h){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:u,totalTime:d,errors:h}}const HF={};class vJ{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function G5e(n,e,t,i,r){return n.some(o=>o(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,o,s,a,c,l,u){const d=[],h=this.ast.options&&this.ast.options.params||HF,y=this.buildStyles(i,a&&a.params||HF,d),C=c&&c.params||HF,T=this.buildStyles(r,C,d),S=new Set,D=new Map,N=new Map,W="void"===r,re={params:wJ(C,h),delay:this.ast.options?.delay},ue=u?[]:zF(e,t,this.ast.animation,o,s,y,T,re,l,d);let Re=0;return ue.forEach(Qe=>{Re=Math.max(Qe.duration+Qe.delay,Re)}),d.length?yJ(t,this._triggerName,i,r,W,y,T,[],[],D,N,Re,d):(ue.forEach(Qe=>{const In=Qe.element,Yi=ao(D,In,new Set);Qe.preStyleProps.forEach(lo=>Yi.add(lo));const wf=ao(N,In,new Set);Qe.postStyleProps.forEach(lo=>wf.add(lo)),In!==t&&S.add(In)}),yJ(t,this._triggerName,i,r,W,y,T,ue,[...S.values()],D,N,Re))}}function wJ(n,e){const t={...e};return Object.entries(n).forEach(([i,r])=>{null!=r&&(t[i]=r)}),t}class q5e{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=wJ(e,this.defaultParams);return this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,a)=>{s&&(s=P_(s,r,t));const c=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,c,s,t),i.set(a,s)})}),i}}class K5e{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new q5e(r.style,r.options&&r.options.params||{},i))}),xJ(this.states,"true","1"),xJ(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new vJ(e,r,this.states))}),this.fallbackTransition=function Q5e(n,e,t){return new vJ(n,{type:Fe.Transition,animation:{type:Fe.Sequence,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(s=>s.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function xJ(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const Y5e=new rC;class X5e{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],o=VF(this._driver,t,i,[]);if(i.length)throw function n5e(n){return new z(3503,!1)}();this._animations.set(e,o)}_buildPlayer(e,t,i){const r=e.element,o=oJ(this._normalizer,e.keyframes,t,i);return this._driver.animate(r,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],o=this._animations.get(e);let s;const a=new Map;if(o?(s=zF(this._driver,t,o,OF,Xx,new Map,new Map,i,Y5e,r),s.forEach(u=>{const d=ao(a,u.element,new Map);u.postStyleProps.forEach(h=>d.set(h,null))})):(r.push(function i5e(){return new z(3300,!1)}()),s=[]),r.length)throw function r5e(n){return new z(3504,!1)}();a.forEach((u,d)=>{u.forEach((h,g)=>{u.set(g,this._driver.computeStyle(d,g,Oa))})});const l=Kc(s.map(u=>{const d=a.get(u.element);return this._buildPlayer(u,new Map,d)}));return this._playersById.set(e,l),l.onDestroy(()=>this.destroy(e)),this.players.push(l),l}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function o5e(n){return new z(3301,!1)}();return t}listen(e,t,i,r){const o=MF(t,"","","");return TF(this._getPlayer(e),i,o,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const o=this._getPlayer(e);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const CJ="ng-animate-queued",$F="ng-animate-disabled",nVe=[],EJ={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},iVe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Jo="__ng_removed";class GF{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function aVe(n){return n??null}(i?e.value:e),i){const{value:o,...s}=e;this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const R_="void",qF=new GF(R_);class rVe{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Mo(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function s5e(n,e){return new z(3302,!1)}();if(null==i||0==i.length)throw function a5e(n){return new z(3303,!1)}();if(!function cVe(n){return"start"==n||"done"==n}(i))throw function c5e(n,e){return new z(3400,!1)}();const o=ao(this._elementListeners,e,[]),s={name:t,phase:i,callback:r};o.push(s);const a=ao(this._engine.statesByElement,e,new Map);return a.has(t)||(Mo(e,Zx),Mo(e,Zx+"-"+t),a.set(t,qF)),()=>{this._engine.afterFlush(()=>{const c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function l5e(n){return new z(3401,!1)}();return t}trigger(e,t,i,r=!0){const o=this._getTrigger(t),s=new WF(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(Mo(e,Zx),Mo(e,Zx+"-"+t),this._engine.statesByElement.set(e,a=new Map));let c=a.get(t);const l=new GF(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&c&&l.absorbOptions(c.options),a.set(t,l),c||(c=qF),l.value!==R_&&c.value===l.value){if(!function dVe(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const o=t[r];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}(c.params,l.params)){const C=[],T=o.matchStyles(c.value,c.params,C),S=o.matchStyles(l.value,l.params,C);C.length?this._engine.reportError(C):this._engine.afterFlush(()=>{Iu(e,T),$s(e,S)})}return}const h=ao(this._engine.playersByElement,e,[]);h.forEach(C=>{C.namespaceId==this.id&&C.triggerName==t&&C.queued&&C.destroy()});let g=o.matchTransition(c.value,l.value,e,l.params),y=!1;if(!g){if(!r)return;g=o.fallbackTransition,y=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:g,fromState:c,toState:l,player:s,isFallbackTransition:y}),y||(Mo(e,CJ),s.onStart(()=>{vf(e,CJ)})),s.onDone(()=>{let C=this.players.indexOf(s);C>=0&&this.players.splice(C,1);const T=this._engine.playersByElement.get(e);if(T){let S=T.indexOf(s);S>=0&&T.splice(S,1)}}),this.players.push(s),h.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,Jx,!0);i.forEach(r=>{if(r[Jo])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const o=this._engine.statesByElement.get(e),s=new Map;if(o){const a=[];if(o.forEach((c,l)=>{if(s.set(l,c.value),this._triggers.has(l)){const u=this.trigger(e,l,R_,r);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),i&&Kc(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(o=>{const s=o.name;if(r.has(s))return;r.add(s);const c=this._triggers.get(s).fallbackTransition,l=i.get(s)||qF,u=new GF(R_),d=new WF(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:c,fromState:l,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(e):[];if(o&&o.length)r=!0;else{let s=e;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const o=e[Jo];(!o||o===EJ)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){Mo(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==i.triggerName){const c=MF(o,i.triggerName,i.fromState.value,i.toState.value);c._data=e,TF(i.player,a.phase,c,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const o=i.transition.ast.depCount,s=r.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class oVe{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i,r){this.bodyNode=e,this.driver=t,this._normalizer=i,this.scheduler=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new rVe(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){const c=r.get(a);if(c){const l=i.indexOf(c);i.splice(l+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&t.add(o)}return t}trigger(e,t,i,r){if(aC(t)){const o=this._fetchNamespace(e);if(o)return o.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!aC(t))return;const o=t[Jo];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){const s=this._fetchNamespace(e);s&&s.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Mo(e,$F)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),vf(e,$F))}removeNode(e,t,i){if(aC(t)){this.scheduler?.notify();const r=e?this._fetchNamespace(e):null;r?r.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i);const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,i)}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,i,r,o){this.collectedLeaveElements.push(t),t[Jo]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,i,r,o){return aC(t)?this._fetchNamespace(e).listen(t,i,r,o):()=>{}}_buildInstruction(e,t,i,r,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,Jx,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,PF,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Kc(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Jo];if(t&&t.setForRemoval){if(e[Jo]=EJ,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains($F)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Mo(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?Kc(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function u5e(n){return new z(3402,!1)}()}_flushAnimations(e,t){const i=new rC,r=[],o=new Map,s=[],a=new Map,c=new Map,l=new Map,u=new Set;this.disabledNodes.forEach(ge=>{u.add(ge);const be=this.driver.query(ge,".ng-animate-queued",!0);for(let Ee=0;Ee<be.length;Ee++)u.add(be[Ee])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),g=MJ(h,this.collectedEnterElements),y=new Map;let C=0;g.forEach((ge,be)=>{const Ee=OF+C++;y.set(be,Ee),ge.forEach(bt=>Mo(bt,Ee))});const T=[],S=new Set,D=new Set;for(let ge=0;ge<this.collectedLeaveElements.length;ge++){const be=this.collectedLeaveElements[ge],Ee=be[Jo];Ee&&Ee.setForRemoval&&(T.push(be),S.add(be),Ee.hasAnimation?this.driver.query(be,".ng-star-inserted",!0).forEach(bt=>S.add(bt)):D.add(be))}const N=new Map,W=MJ(h,Array.from(S));W.forEach((ge,be)=>{const Ee=Xx+C++;N.set(be,Ee),ge.forEach(bt=>Mo(bt,Ee))}),e.push(()=>{g.forEach((ge,be)=>{const Ee=y.get(be);ge.forEach(bt=>vf(bt,Ee))}),W.forEach((ge,be)=>{const Ee=N.get(be);ge.forEach(bt=>vf(bt,Ee))}),T.forEach(ge=>{this.processLeaveNode(ge)})});const re=[],ue=[];for(let ge=this._namespaceList.length-1;ge>=0;ge--)this._namespaceList[ge].drainQueuedTransitions(t).forEach(Ee=>{const bt=Ee.player,Ni=Ee.element;if(re.push(bt),this.collectedEnterElements.length){const dr=Ni[Jo];if(dr&&dr.setForMove){if(dr.previousTriggersValues&&dr.previousTriggersValues.has(Ee.triggerName)){const Au=dr.previousTriggersValues.get(Ee.triggerName),Do=this.statesByElement.get(Ee.element);if(Do&&Do.has(Ee.triggerName)){const lC=Do.get(Ee.triggerName);lC.value=Au,Do.set(Ee.triggerName,lC)}}return void bt.destroy()}}const Gs=!d||!this.driver.containsElement(d,Ni),uo=N.get(Ni),Qc=y.get(Ni),Rn=this._buildInstruction(Ee,i,Qc,uo,Gs);if(Rn.errors&&Rn.errors.length)return void ue.push(Rn);if(Gs)return bt.onStart(()=>Iu(Ni,Rn.fromStyles)),bt.onDestroy(()=>$s(Ni,Rn.toStyles)),void r.push(bt);if(Ee.isFallbackTransition)return bt.onStart(()=>Iu(Ni,Rn.fromStyles)),bt.onDestroy(()=>$s(Ni,Rn.toStyles)),void r.push(bt);const FJ=[];Rn.timelines.forEach(dr=>{dr.stretchStartingKeyframe=!0,this.disabledNodes.has(dr.element)||FJ.push(dr)}),Rn.timelines=FJ,i.append(Ni,Rn.timelines),s.push({instruction:Rn,player:bt,element:Ni}),Rn.queriedElements.forEach(dr=>ao(a,dr,[]).push(bt)),Rn.preStyleProps.forEach((dr,Au)=>{if(dr.size){let Do=c.get(Au);Do||c.set(Au,Do=new Set),dr.forEach((lC,YF)=>Do.add(YF))}}),Rn.postStyleProps.forEach((dr,Au)=>{let Do=l.get(Au);Do||l.set(Au,Do=new Set),dr.forEach((lC,YF)=>Do.add(YF))})});if(ue.length){const ge=[];ue.forEach(be=>{ge.push(function d5e(n,e){return new z(3505,!1)}())}),re.forEach(be=>be.destroy()),this.reportError(ge)}const Re=new Map,Qe=new Map;s.forEach(ge=>{const be=ge.element;i.has(be)&&(Qe.set(be,be),this._beforeAnimationBuild(ge.player.namespaceId,ge.instruction,Re))}),r.forEach(ge=>{const be=ge.element;this._getPreviousPlayers(be,!1,ge.namespaceId,ge.triggerName,null).forEach(bt=>{ao(Re,be,[]).push(bt),bt.destroy()})});const In=T.filter(ge=>SJ(ge,c,l)),Yi=new Map;IJ(Yi,this.driver,D,l,Oa).forEach(ge=>{SJ(ge,c,l)&&In.push(ge)});const lo=new Map;g.forEach((ge,be)=>{IJ(lo,this.driver,new Set(ge),c,"!")}),In.forEach(ge=>{const be=Yi.get(ge),Ee=lo.get(ge);Yi.set(ge,new Map([...be?.entries()??[],...Ee?.entries()??[]]))});const jt=[],Du=[],Su={};s.forEach(ge=>{const{element:be,player:Ee,instruction:bt}=ge;if(i.has(be)){if(u.has(be))return Ee.onDestroy(()=>$s(be,bt.toStyles)),Ee.disabled=!0,Ee.overrideTotalTime(bt.totalTime),void r.push(Ee);let Ni=Su;if(Qe.size>1){let uo=be;const Qc=[];for(;uo=uo.parentNode;){const Rn=Qe.get(uo);if(Rn){Ni=Rn;break}Qc.push(uo)}Qc.forEach(Rn=>Qe.set(Rn,Ni))}const Gs=this._buildAnimation(Ee.namespaceId,bt,Re,o,lo,Yi);if(Ee.setRealPlayer(Gs),Ni===Su)jt.push(Ee);else{const uo=this.playersByElement.get(Ni);uo&&uo.length&&(Ee.parentPlayer=Kc(uo)),r.push(Ee)}}else Iu(be,bt.fromStyles),Ee.onDestroy(()=>$s(be,bt.toStyles)),Du.push(Ee),u.has(be)&&r.push(Ee)}),Du.forEach(ge=>{const be=o.get(ge.element);if(be&&be.length){const Ee=Kc(be);ge.setRealPlayer(Ee)}}),r.forEach(ge=>{ge.parentPlayer?ge.syncPlayerEvents(ge.parentPlayer):ge.destroy()});for(let ge=0;ge<T.length;ge++){const be=T[ge],Ee=be[Jo];if(vf(be,Xx),Ee&&Ee.hasAnimation)continue;let bt=[];if(a.size){let Gs=a.get(be);Gs&&Gs.length&&bt.push(...Gs);let uo=this.driver.query(be,PF,!0);for(let Qc=0;Qc<uo.length;Qc++){let Rn=a.get(uo[Qc]);Rn&&Rn.length&&bt.push(...Rn)}}const Ni=bt.filter(Gs=>!Gs.destroyed);Ni.length?lVe(this,be,Ni):this.processLeaveNode(be)}return T.length=0,jt.forEach(ge=>{this.players.push(ge),ge.onDone(()=>{ge.destroy();const be=this.players.indexOf(ge);this.players.splice(be,1)}),ge.play()}),jt}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,o){let s=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(s=a)}else{const a=this.playersByElement.get(e);if(a){const c=!o||o==R_;a.forEach(l=>{l.queued||!c&&l.triggerName!=r||s.push(l)})}}return(i||r)&&(s=s.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(e,t,i){const o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const c of t.timelines){const l=c.element,u=l!==o,d=ao(i,l,[]);this._getPreviousPlayers(l,u,s,a,t.toState).forEach(g=>{const y=g.getRealPlayer();y.beforeDestroy&&y.beforeDestroy(),g.destroy(),d.push(g)})}Iu(o,t.fromStyles)}_buildAnimation(e,t,i,r,o,s){const a=t.triggerName,c=t.element,l=[],u=new Set,d=new Set,h=t.timelines.map(y=>{const C=y.element;u.add(C);const T=C[Jo];if(T&&T.removedBeforeQueried)return new I_(y.duration,y.delay);const S=C!==c,D=function uVe(n){const e=[];return DJ(n,e),e}((i.get(C)||nVe).map(Re=>Re.getRealPlayer())).filter(Re=>!!Re.element&&Re.element===C),N=o.get(C),W=s.get(C),re=oJ(this._normalizer,y.keyframes,N,W),ue=this._buildPlayer(y,re,D);if(y.subTimeline&&r&&d.add(C),S){const Re=new WF(e,a,C);Re.setRealPlayer(ue),l.push(Re)}return ue});l.forEach(y=>{ao(this.playersByQueriedElement,y.element,[]).push(y),y.onDone(()=>function sVe(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,y.element,y))}),u.forEach(y=>Mo(y,dJ));const g=Kc(h);return g.onDestroy(()=>{u.forEach(y=>vf(y,dJ)),$s(c,t.toStyles)}),d.forEach(y=>{ao(r,y,[]).push(g)}),g}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new I_(e.duration,e.delay)}}class WF{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new I_,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>TF(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){ao(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function aC(n){return n&&1===n.nodeType}function TJ(n,e){const t=n.style.display;return n.style.display=e??"none",t}function IJ(n,e,t,i,r){const o=[];t.forEach(c=>o.push(TJ(c)));const s=[];i.forEach((c,l)=>{const u=new Map;c.forEach(d=>{const h=e.computeStyle(l,d,r);u.set(d,h),(!h||0==h.length)&&(l[Jo]=iVe,s.push(l))}),n.set(l,u)});let a=0;return t.forEach(c=>TJ(c,o[a++])),s}function MJ(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const r=new Set(e),o=new Map;function s(a){if(!a)return 1;let c=o.get(a);if(c)return c;const l=a.parentNode;return c=t.has(l)?l:r.has(l)?1:s(l),o.set(a,c),c}return e.forEach(a=>{const c=s(a);1!==c&&t.get(c).push(a)}),t}function Mo(n,e){n.classList?.add(e)}function vf(n,e){n.classList?.remove(e)}function lVe(n,e,t){Kc(t).onDone(()=>n.processLeaveNode(e))}function DJ(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof sZ?DJ(i.players,e):e.push(i)}}function SJ(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(o=>r.add(o)):e.set(n,i),t.delete(n),!0}class N_{constructor(e,t,i,r){this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(o,s)=>{},this._transitionEngine=new oVe(e.body,t,i,r),this._timelineEngine=new X5e(e.body,t,i),this._transitionEngine.onRemovalComplete=(o,s)=>this.onRemovalComplete(o,s)}registerTrigger(e,t,i,r,o){const s=e+"-"+r;let a=this._triggerCache[s];if(!a){const c=[],u=VF(this._driver,o,c,[]);if(c.length)throw function e5e(n,e){return new z(3404,!1)}();a=function W5e(n,e,t){return new K5e(n,e,t)}(r,u,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,r,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i){this._transitionEngine.removeNode(e,t,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[o,s]=sJ(i);this._timelineEngine.command(o,t,s,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,o){if("@"==i.charAt(0)){const[s,a]=sJ(i);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,i,r,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}class F_{static{this.initialStylesByElement=new WeakMap}constructor(e,t,i){this._element=e,this._startStyles=t,this._endStyles=i,this._state=0;let r=F_.initialStylesByElement.get(e);r||F_.initialStylesByElement.set(e,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&$s(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&($s(this._element,this._initialStyles),this._endStyles&&($s(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(F_.initialStylesByElement.delete(this._element),this._startStyles&&(Iu(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Iu(this._element,this._endStyles),this._endStyles=null),$s(this._element,this._initialStyles),this._state=3)}}function KF(n){let e=null;return n.forEach((t,i)=>{(function fVe(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class AJ{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;const t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:LF(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class kJ{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return cJ(e,t)}getParentElement(e){return DF(e)}query(e,t,i){return lJ(e,t,i)}computeStyle(e,t,i){return LF(e,t)}animate(e,t,i,r,o,s=[]){const c={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(c.easing=o);const l=new Map,u=s.filter(g=>g instanceof AJ);(function E5e(n,e){return 0===n||0===e})(i,r)&&u.forEach(g=>{g.currentSnapshot.forEach((y,C)=>l.set(C,y))});let d=function w5e(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}(t).map(g=>new Map(g));d=function T5e(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((o,s)=>{i.has(s)||r.push(s),i.set(s,o)}),r.length)for(let o=1;o<e.length;o++){let s=e[o];r.forEach(a=>s.set(a,LF(n,a)))}}return e}(e,d,l);const h=function hVe(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=KF(e[0]),e.length>1&&(i=KF(e[e.length-1]))):e instanceof Map&&(t=KF(e)),t||i?new F_(n,t,i):null}(e,d);return new AJ(e,d,c,h)}}const OJ="@.disabled";class PJ{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==OJ?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class pVe extends PJ{constructor(e,t,i,r,o){super(t,i,r,o),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==OJ?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function gVe(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let o=t.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function mVe(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(o)),this.engine.listen(this.namespaceId,r,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(e,t,i)}}class _Ve{constructor(e,t,i){this.delegate=e,this.engine=t,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,t.onRemovalComplete=(r,o)=>{const s=o?.parentNode(r);s&&o.removeChild(s,r)}}createRenderer(e,t){const r=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){const l=this._rendererCache;let u=l.get(r);return u||(u=new PJ("",r,this.engine,()=>l.delete(r)),l.set(r,u)),u}const o=t.id,s=t.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);const a=l=>{Array.isArray(l)?l.forEach(a):this.engine.registerTrigger(o,s,e,l.name,l)};return t.data.animation.forEach(a),new pVe(this,s,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,i){if(e>=0&&e<this._microtaskId)return void this._zone.run(()=>t(i));const r=this._animationCallbacksBuffer;0==r.length&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),r.push([t,i])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}let bVe=(()=>{class n extends N_{constructor(t,i,r){super(t,i,r,J(y1,{optional:!0}))}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(i){return new(i||n)(H(ht),H(AF),H(kF))}}static{this.\u0275prov=ne({token:n,factory:n.\u0275fac})}}return n})();const RJ=[{provide:kF,useFactory:function yVe(){return new pJ}},{provide:N_,useClass:bVe},{provide:v1,useFactory:function vVe(n,e,t){return new _Ve(n,e,t)},deps:[cI,N_,Me]}],QF=[{provide:AF,useFactory:()=>new kJ},{provide:il,useValue:"BrowserAnimations"},...RJ],NJ=[{provide:AF,useClass:SF},{provide:il,useValue:"NoopAnimations"},...RJ];let wVe=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?NJ:QF}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=et({type:n})}static{this.\u0275inj=Je({providers:QF,imports:[b6]})}}return n})();const xVe=n=>()=>n.initPwaPrompt();let CVe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=et({type:n,bootstrap:[jSe]})}static{this.\u0275inj=Je({providers:[{provide:Za,useClass:Rz},{provide:Sp,useFactory:xVe,deps:[G3e],multi:!0}],imports:[A3e,iJ,O4e,iJ,j3e,wVe,Ja,Br,b6,uN,jp,LSe,qwe(()=>Wwe(HSe_firebase)),A1e(()=>Ho()),gPe(()=>mPe()),ISe(()=>{const t=DSe();return MSe(t),t}),zPe(()=>jPe()),PLe,VLe,f3e,kx,QLe.register("ngsw-worker.js",{enabled:!0,registrationStrategy:"registerWhenStable:30000"})]})}}return n})();Lfe().bootstrapModule(CVe).catch(n=>console.error(n))},1874:(Ie,A,F)=>{var _=ce(F(3209)),R=ce(F(3931)),K=ce(F(9246)),U=ce(F(8084)),b=ce(F(2042)),x=ce(F(1951)),I=ce(F(650)),k=F(1498),ee=ce(F(5482));function ce(Ye){return Ye&&Ye.__esModule?Ye:{default:Ye}}var fe=function(){},Kt=function(Qt,Nn,cn){var mn=new fe;if(typeof Qt>"u")throw Error("No element to render on was provided.");return mn._renderProperties=(0,b.default)(Qt),mn._encodings=[],mn._options=ee.default,mn._errorHandler=new I.default(mn),typeof Nn<"u"&&((cn=cn||{}).format||(cn.format=Yc()),mn.options(cn)[cn.format](Nn,cn).render()),mn};for(var hr in Kt.getModule=function(Ye){return _.default[Ye]},_.default)_.default.hasOwnProperty(hr)&&So(_.default,hr);function So(Ye,Qt){fe.prototype[Qt]=fe.prototype[Qt.toUpperCase()]=fe.prototype[Qt.toLowerCase()]=function(Nn,cn){var mn=this;return mn._errorHandler.wrapBarcodeCall(function(){cn.text=typeof cn.text>"u"?void 0:""+cn.text;var Dr=(0,R.default)(mn._options,cn);Dr=(0,x.default)(Dr);var XF=Na(Nn,Ye[Qt],Dr);return mn._encodings.push(XF),mn})}}function Na(Ye,Qt,Nn){var cn=new Qt(Ye=""+Ye,Nn);if(!cn.valid())throw new k.InvalidInputException(cn.constructor.name,Ye);var mn=cn.encode();mn=(0,K.default)(mn);for(var Dr=0;Dr<mn.length;Dr++)mn[Dr].options=(0,R.default)(Nn,mn[Dr].options);return mn}function Yc(){return _.default.CODE128?"CODE128":Object.keys(_.default)[0]}function qs(Ye,Qt,Nn){Qt=(0,K.default)(Qt);for(var cn=0;cn<Qt.length;cn++)Qt[cn].options=(0,R.default)(Nn,Qt[cn].options),(0,U.default)(Qt[cn].options);(0,U.default)(Nn),new(0,Ye.renderer)(Ye.element,Qt,Nn).render(),Ye.afterRender&&Ye.afterRender()}fe.prototype.options=function(Ye){return this._options=(0,R.default)(this._options,Ye),this},fe.prototype.blank=function(Ye){var Qt=new Array(Ye+1).join("0");return this._encodings.push({data:Qt}),this},fe.prototype.init=function(){var Ye;if(this._renderProperties)for(var Qt in Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]),this._renderProperties){var Nn=(0,R.default)(this._options,(Ye=this._renderProperties[Qt]).options);"auto"==Nn.format&&(Nn.format=Yc()),this._errorHandler.wrapBarcodeCall(function(){var Dr=Na(Nn.value,_.default[Nn.format.toUpperCase()],Nn);qs(Ye,Dr,Nn)})}},fe.prototype.render=function(){if(!this._renderProperties)throw new k.NoElementException;if(Array.isArray(this._renderProperties))for(var Ye=0;Ye<this._renderProperties.length;Ye++)qs(this._renderProperties[Ye],this._encodings,this._options);else qs(this._renderProperties,this._encodings,this._options);return this},fe.prototype._defaults=ee.default,typeof window<"u"&&(window.JsBarcode=Kt),typeof jQuery<"u"&&(jQuery.fn.JsBarcode=function(Ye,Qt){var Nn=[];return jQuery(this).each(function(){Nn.push(this)}),Kt(Nn,Ye,Qt)}),Ie.exports=Kt},2933:(Ie,A)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.default=function _(j,R){(function F(_,j){if(!(_ instanceof j))throw new TypeError("Cannot call a class as a function")})(this,_),this.data=j,this.text=R.text||j,this.options=R}},3166:(Ie,A,F)=>{Object.defineProperty(A,"__esModule",{value:!0});var $=function(){function b(v,x){for(var w=0;w<x.length;w++){var I=x[w];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(v,I.key,I)}}return function(v,x,w){return x&&b(v.prototype,x),w&&b(v,w),v}}(),j=function G(b){return b&&b.__esModule?b:{default:b}}(F(2933)),R=F(9973),M=function(b){function v(x,w){!function K(b,v){if(!(b instanceof v))throw new TypeError("Cannot call a class as a function")}(this,v);var I=function P(b,v){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||"object"!=typeof v&&"function"!=typeof v?b:v}(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,x.substring(1),w));return I.bytes=x.split("").map(function(k){return k.charCodeAt(0)}),I}return function U(b,v){if("function"!=typeof v&&null!==v)throw new TypeError("Super expression must either be null or a function, not "+typeof v);b.prototype=Object.create(v&&v.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(b,v):b.__proto__=v)}(v,b),$(v,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var w=this.bytes,I=w.shift()-105,k=R.SET_BY_CODE[I];if(void 0===k)throw new RangeError("The encoding does not start with a start character.");!0===this.shouldEncodeAsEan128()&&w.unshift(R.FNC1);var O=v.next(w,1,k);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:v.getBar(I)+O.result+v.getBar((O.checksum+I)%R.MODULO)+v.getBar(R.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var w=this.options.ean128||!1;return"string"==typeof w&&(w="true"===w.toLowerCase()),w}}],[{key:"getBar",value:function(w){return R.BARS[w]?R.BARS[w].toString():""}},{key:"correctIndex",value:function(w,I){if(I===R.SET_A){var k=w.shift();return k<32?k+64:k-32}return I===R.SET_B?w.shift()-32:10*(w.shift()-48)+w.shift()-48}},{key:"next",value:function(w,I,k){if(!w.length)return{result:"",checksum:0};var O=void 0,ee=void 0;if(w[0]>=200){ee=w.shift()-105;var ce=R.SWAP[ee];void 0!==ce?O=v.next(w,I+1,ce):((k===R.SET_A||k===R.SET_B)&&ee===R.SHIFT&&(w[0]=k===R.SET_A?w[0]>95?w[0]-96:w[0]:w[0]<32?w[0]+96:w[0]),O=v.next(w,I+1,k))}else ee=v.correctIndex(w,k),O=v.next(w,I+1,k);return{result:v.getBar(ee)+O.result,checksum:ee*I+O.checksum}}}]),v}(j.default);A.default=M},4675:(Ie,A,F)=>{Object.defineProperty(A,"__esModule",{value:!0});var $=function(){function b(v,x){for(var w=0;w<x.length;w++){var I=x[w];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(v,I.key,I)}}return function(v,x,w){return x&&b(v.prototype,x),w&&b(v,w),v}}(),j=function G(b){return b&&b.__esModule?b:{default:b}}(F(3166)),R=F(9973),M=function(b){function v(x,w){return function K(b,v){if(!(b instanceof v))throw new TypeError("Cannot call a class as a function")}(this,v),function P(b,v){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||"object"!=typeof v&&"function"!=typeof v?b:v}(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,R.A_START_CHAR+x,w))}return function U(b,v){if("function"!=typeof v&&null!==v)throw new TypeError("Super expression must either be null or a function, not "+typeof v);b.prototype=Object.create(v&&v.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(b,v):b.__proto__=v)}(v,b),$(v,[{key:"valid",value:function(){return new RegExp("^"+R.A_CHARS+"+$").test(this.data)}}]),v}(j.default);A.default=M},4502:(Ie,A,F)=>{Object.defineProperty(A,"__esModule",{value:!0});var $=function(){function b(v,x){for(var w=0;w<x.length;w++){var I=x[w];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(v,I.key,I)}}return function(v,x,w){return x&&b(v.prototype,x),w&&b(v,w),v}}(),j=function G(b){return b&&b.__esModule?b:{default:b}}(F(3166)),R=F(9973),M=function(b){function v(x,w){return function K(b,v){if(!(b instanceof v))throw new TypeError("Cannot call a class as a function")}(this,v),function P(b,v){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||"object"!=typeof v&&"function"!=typeof v?b:v}(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,R.B_START_CHAR+x,w))}return function U(b,v){if("function"!=typeof v&&null!==v)throw new TypeError("Super expression must either be null or a function, not "+typeof v);b.prototype=Object.create(v&&v.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(b,v):b.__proto__=v)}(v,b),$(v,[{key:"valid",value:function(){return new RegExp("^"+R.B_CHARS+"+$").test(this.data)}}]),v}(j.default);A.default=M},2693:(Ie,A,F)=>{Object.defineProperty(A,"__esModule",{value:!0});var $=function(){function b(v,x){for(var w=0;w<x.length;w++){var I=x[w];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(v,I.key,I)}}return function(v,x,w){return x&&b(v.prototype,x),w&&b(v,w),v}}(),j=function G(b){return b&&b.__esModule?b:{default:b}}(F(3166)),R=F(9973),M=function(b){function v(x,w){return function K(b,v){if(!(b instanceof v))throw new TypeError("Cannot call a class as a function")}(this,v),function P(b,v){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||"object"!=typeof v&&"function"!=typeof v?b:v}(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,R.C_START_CHAR+x,w))}return function U(b,v){if("function"!=typeof v&&null!==v)throw new TypeError("Super expression must either be null or a function, not "+typeof v);b.prototype=Object.create(v&&v.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(b,v):b.__proto__=v)}(v,b),$(v,[{key:"valid",value:function(){return new RegExp("^"+R.C_CHARS+"+$").test(this.data)}}]),v}(j.default);A.default=M},714:(Ie,A,F)=>{Object.defineProperty(A,"__esModule",{value:!0});var _=G(F(3166)),R=G(F(5113));function G(b){return b&&b.__esModule?b:{default:b}}function P(b,v){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||"object"!=typeof v&&"function"!=typeof v?b:v}var M=function(b){function v(x,w){if(function K(b,v){if(!(b instanceof v))throw new TypeError("Cannot call a class as a function")}(this,v),/^[\x00-\x7F\xC8-\xD3]+$/.test(x))var I=P(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,(0,R.default)(x),w));else I=P(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,x,w));return P(I)}return function U(b,v){if("function"!=typeof v&&null!==v)throw new TypeError("Super expression must either be null or a function, not "+typeof v);b.prototype=Object.create(v&&v.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(b,v):b.__proto__=v)}(v,b),v}(_.default);A.default=M},5113:(Ie,A,F)=>{Object.defineProperty(A,"__esModule",{value:!0});var $=F(9973),_=function(U){return U.match(new RegExp("^"+$.A_CHARS+"*"))[0].length},j=function(U){return U.match(new RegExp("^"+$.B_CHARS+"*"))[0].length},R=function(U){return U.match(new RegExp("^"+$.C_CHARS+"*"))[0]};function G(P,U){var M=U?$.A_CHARS:$.B_CHARS,b=P.match(new RegExp("^("+M+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(b)return b[1]+"\xcc"+K(P.substring(b[1].length));var v=P.match(new RegExp("^"+M+"+"))[0];return v.length===P.length?P:v+String.fromCharCode(U?205:206)+G(P.substring(v.length),!U)}function K(P){var U=R(P),M=U.length;if(M===P.length)return P;P=P.substring(M);var b=_(P)>=j(P);return U+String.fromCharCode(b?206:205)+G(P,b)}A.default=function(P){var U=void 0;if(R(P).length>=2)U=$.C_START_CHAR+K(P);else{var b=_(P)>j(P);U=(b?$.A_START_CHAR:$.B_START_CHAR)+G(P,b)}return U.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,function(v,x){return"\xcb"+x})}},9973:(Ie,A)=>{var F;function $(hr,So,Na){return So in hr?Object.defineProperty(hr,So,{value:Na,enumerable:!0,configurable:!0,writable:!0}):hr[So]=Na,hr}Object.defineProperty(A,"__esModule",{value:!0});var _=A.SET_A=0,j=A.SET_B=1,R=A.SET_C=2,K=(A.SHIFT=98,A.START_A=103),P=A.START_B=104,U=A.START_C=105;A.MODULO=103,A.STOP=106,A.FNC1=207,A.SET_BY_CODE=($(F={},K,_),$(F,P,j),$(F,U,R),F),A.SWAP={101:_,100:j,99:R},A.A_START_CHAR="\xd0",A.B_START_CHAR="\xd1",A.C_START_CHAR="\xd2",A.A_CHARS="[\0-_\xc8-\xcf]",A.B_CHARS="[ -\x7f\xc8-\xcf]",A.C_CHARS="(\xcf*[0-9]{2}\xcf*)",A.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011]},9152:(Ie,A,F)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.CODE128C=A.CODE128B=A.CODE128A=A.CODE128=void 0;var _=M(F(714)),R=M(F(4675)),K=M(F(4502)),U=M(F(2693));function M(b){return b&&b.__esModule?b:{default:b}}A.CODE128=_.default,A.CODE128A=R.default,A.CODE128B=K.default,A.CODE128C=U.default},3803:(Ie,A,F)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.CODE39=void 0;var $=function(){function O(ee,ce){for(var fe=0;fe<ce.length;fe++){var Kt=ce[fe];Kt.enumerable=Kt.enumerable||!1,Kt.configurable=!0,"value"in Kt&&(Kt.writable=!0),Object.defineProperty(ee,Kt.key,Kt)}}return function(ee,ce,fe){return ce&&O(ee.prototype,ce),fe&&O(ee,fe),ee}}(),U=function(O){function ee(ce,fe){return function G(O,ee){if(!(O instanceof ee))throw new TypeError("Cannot call a class as a function")}(this,ee),ce=ce.toUpperCase(),fe.mod43&&(ce+=function w(O){return M[O]}(function k(O){for(var ee=0,ce=0;ce<O.length;ce++)ee+=I(O[ce]);return ee%=43}(ce))),function K(O,ee){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!ee||"object"!=typeof ee&&"function"!=typeof ee?O:ee}(this,(ee.__proto__||Object.getPrototypeOf(ee)).call(this,ce,fe))}return function P(O,ee){if("function"!=typeof ee&&null!==ee)throw new TypeError("Super expression must either be null or a function, not "+typeof ee);O.prototype=Object.create(ee&&ee.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),ee&&(Object.setPrototypeOf?Object.setPrototypeOf(O,ee):O.__proto__=ee)}(ee,O),$(ee,[{key:"encode",value:function(){for(var fe=v("*"),Kt=0;Kt<this.data.length;Kt++)fe+=v(this.data[Kt])+"0";return{data:fe+=v("*"),text:this.text}}},{key:"valid",value:function(){return-1!==this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)}}]),ee}(function R(O){return O&&O.__esModule?O:{default:O}}(F(2933)).default),M=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],b=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function v(O){return function x(O){return b[O].toString(2)}(I(O))}function I(O){return M.indexOf(O)}A.CODE39=U},7331:(Ie,A,F)=>{Object.defineProperty(A,"__esModule",{value:!0});var $=function(){function x(w,I){for(var k=0;k<I.length;k++){var O=I[k];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(w,O.key,O)}}return function(w,I,k){return I&&x(w.prototype,I),k&&x(w,k),w}}(),_=F(2846),R=P(F(2143));function P(x){return x&&x.__esModule?x:{default:x}}var v=function(x){function w(I,k){!function U(x,w){if(!(x instanceof w))throw new TypeError("Cannot call a class as a function")}(this,w);var O=function M(x,w){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!w||"object"!=typeof w&&"function"!=typeof w?x:w}(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,I,k));return O.fontSize=!k.flat&&k.fontSize>10*k.width?10*k.width:k.fontSize,O.guardHeight=k.height+O.fontSize/2+k.textMargin,O}return function b(x,w){if("function"!=typeof w&&null!==w)throw new TypeError("Super expression must either be null or a function, not "+typeof w);x.prototype=Object.create(w&&w.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(x,w):x.__proto__=w)}(w,x),$(w,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(k,O){return this.text.substr(k,O)}},{key:"leftEncode",value:function(k,O){return(0,R.default)(k,O)}},{key:"rightText",value:function(k,O){return this.text.substr(k,O)}},{key:"rightEncode",value:function(k,O){return(0,R.default)(k,O)}},{key:"encodeGuarded",value:function(){var k={fontSize:this.fontSize},O={height:this.guardHeight};return[{data:_.SIDE_BIN,options:O},{data:this.leftEncode(),text:this.leftText(),options:k},{data:_.MIDDLE_BIN,options:O},{data:this.rightEncode(),text:this.rightText(),options:k},{data:_.SIDE_BIN,options:O}]}},{key:"encodeFlat",value:function(){return{data:[_.SIDE_BIN,this.leftEncode(),_.MIDDLE_BIN,this.rightEncode(),_.SIDE_BIN].join(""),text:this.text}}}]),w}(P(F(2933)).default);A.default=v},7779:(Ie,A,F)=>{Object.defineProperty(A,"__esModule",{value:!0});var $=function(){function x(w,I){for(var k=0;k<I.length;k++){var O=I[k];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(w,O.key,O)}}return function(w,I,k){return I&&x(w.prototype,I),k&&x(w,k),w}}(),_=function x(w,I,k){null===w&&(w=Function.prototype);var O=Object.getOwnPropertyDescriptor(w,I);if(void 0===O){var ee=Object.getPrototypeOf(w);return null===ee?void 0:x(ee,I,k)}if("value"in O)return O.value;var ce=O.get;return void 0===ce?void 0:ce.call(k)},j=F(2846),G=function K(x){return x&&x.__esModule?x:{default:x}}(F(7331)),b=function(w){return(10-w.substr(0,12).split("").map(function(k){return+k}).reduce(function(k,O,ee){return ee%2?k+3*O:k+O},0)%10)%10},v=function(x){function w(I,k){(function P(x,w){if(!(x instanceof w))throw new TypeError("Cannot call a class as a function")})(this,w),-1!==I.search(/^[0-9]{12}$/)&&(I+=b(I));var O=function U(x,w){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!w||"object"!=typeof w&&"function"!=typeof w?x:w}(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,I,k));return O.lastChar=k.lastChar,O}return function M(x,w){if("function"!=typeof w&&null!==w)throw new TypeError("Super expression must either be null or a function, not "+typeof w);x.prototype=Object.create(w&&w.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(x,w):x.__proto__=w)}(w,x),$(w,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{13}$/)&&+this.data[12]===b(this.data)}},{key:"leftText",value:function(){return _(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var k=this.data.substr(1,6),O=j.EAN13_STRUCTURE[this.data[0]];return _(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"leftEncode",this).call(this,k,O)}},{key:"rightText",value:function(){return _(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var k=this.data.substr(7,6);return _(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"rightEncode",this).call(this,k,"RRRRRR")}},{key:"encodeGuarded",value:function(){var k=_(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(k.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(k.push({data:"00"}),k.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),k}}]),w}(G.default);A.default=v},197:(Ie,A,F)=>{Object.defineProperty(A,"__esModule",{value:!0});var $=function(){function x(w,I){for(var k=0;k<I.length;k++){var O=I[k];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(w,O.key,O)}}return function(w,I,k){return I&&x(w.prototype,I),k&&x(w,k),w}}(),_=F(2846),R=P(F(2143));function P(x){return x&&x.__esModule?x:{default:x}}var v=function(x){function w(I,k){return function U(x,w){if(!(x instanceof w))throw new TypeError("Cannot call a class as a function")}(this,w),function M(x,w){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!w||"object"!=typeof w&&"function"!=typeof w?x:w}(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,I,k))}return function b(x,w){if("function"!=typeof w&&null!==w)throw new TypeError("Super expression must either be null or a function, not "+typeof w);x.prototype=Object.create(w&&w.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(x,w):x.__proto__=w)}(w,x),$(w,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{2}$/)}},{key:"encode",value:function(){var k=_.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,R.default)(this.data,k,"01"),text:this.text}}}]),w}(P(F(2933)).default);A.default=v},6400:(Ie,A,F)=>{Object.defineProperty(A,"__esModule",{value:!0});var $=function(){function w(I,k){for(var O=0;O<k.length;O++){var ee=k[O];ee.enumerable=ee.enumerable||!1,ee.configurable=!0,"value"in ee&&(ee.writable=!0),Object.defineProperty(I,ee.key,ee)}}return function(I,k,O){return k&&w(I.prototype,k),O&&w(I,O),I}}(),_=F(2846),R=P(F(2143));function P(w){return w&&w.__esModule?w:{default:w}}var x=function(w){function I(k,O){return function U(w,I){if(!(w instanceof I))throw new TypeError("Cannot call a class as a function")}(this,I),function M(w,I){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!I||"object"!=typeof I&&"function"!=typeof I?w:I}(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,k,O))}return function b(w,I){if("function"!=typeof I&&null!==I)throw new TypeError("Super expression must either be null or a function, not "+typeof I);w.prototype=Object.create(I&&I.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(w,I):w.__proto__=I)}(I,w),$(I,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{5}$/)}},{key:"encode",value:function(){var O=_.EAN5_STRUCTURE[function(I){return I.split("").map(function(O){return+O}).reduce(function(O,ee,ce){return ce%2?O+9*ee:O+3*ee},0)%10}(this.data)];return{data:"1011"+(0,R.default)(this.data,O,"01"),text:this.text}}}]),I}(P(F(2933)).default);A.default=x},2587:(Ie,A,F)=>{Object.defineProperty(A,"__esModule",{value:!0});var $=function(){function v(x,w){for(var I=0;I<w.length;I++){var k=w[I];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(x,k.key,k)}}return function(x,w,I){return w&&v(x.prototype,w),I&&v(x,I),x}}(),_=function v(x,w,I){null===x&&(x=Function.prototype);var k=Object.getOwnPropertyDescriptor(x,w);if(void 0===k){var O=Object.getPrototypeOf(x);return null===O?void 0:v(O,w,I)}if("value"in k)return k.value;var ee=k.get;return void 0===ee?void 0:ee.call(I)},R=function G(v){return v&&v.__esModule?v:{default:v}}(F(7331)),M=function(x){return(10-x.substr(0,7).split("").map(function(I){return+I}).reduce(function(I,k,O){return O%2?I+k:I+3*k},0)%10)%10},b=function(v){function x(w,I){return function K(v,x){if(!(v instanceof x))throw new TypeError("Cannot call a class as a function")}(this,x),-1!==w.search(/^[0-9]{7}$/)&&(w+=M(w)),function P(v,x){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!x||"object"!=typeof x&&"function"!=typeof x?v:x}(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,w,I))}return function U(v,x){if("function"!=typeof x&&null!==x)throw new TypeError("Super expression must either be null or a function, not "+typeof x);v.prototype=Object.create(x&&x.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(v,x):v.__proto__=x)}(x,v),$(x,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{8}$/)&&+this.data[7]===M(this.data)}},{key:"leftText",value:function(){return _(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var I=this.data.substr(0,4);return _(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"leftEncode",this).call(this,I,"LLLL")}},{key:"rightText",value:function(){return _(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var I=this.data.substr(4,4);return _(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"rightEncode",this).call(this,I,"RRRR")}}]),x}(R.default);A.default=b},1541:(Ie,A,F)=>{Object.defineProperty(A,"__esModule",{value:!0});var $=function(){function x(w,I){for(var k=0;k<I.length;k++){var O=I[k];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(w,O.key,O)}}return function(w,I,k){return I&&x(w.prototype,I),k&&x(w,k),w}}();A.checksum=v;var j=K(F(2143));function K(x){return x&&x.__esModule?x:{default:x}}var b=function(x){function w(I,k){(function P(x,w){if(!(x instanceof w))throw new TypeError("Cannot call a class as a function")})(this,w),-1!==I.search(/^[0-9]{11}$/)&&(I+=v(I));var O=function U(x,w){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!w||"object"!=typeof w&&"function"!=typeof w?x:w}(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,I,k));return O.displayValue=k.displayValue,O.fontSize=k.fontSize>10*k.width?10*k.width:k.fontSize,O.guardHeight=k.height+O.fontSize/2+k.textMargin,O}return function M(x,w){if("function"!=typeof w&&null!==w)throw new TypeError("Super expression must either be null or a function, not "+typeof w);x.prototype=Object.create(w&&w.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(x,w):x.__proto__=w)}(w,x),$(w,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{12}$/)&&this.data[11]==v(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var k="";return k+="101",k+=(0,j.default)(this.data.substr(0,6),"LLLLLL"),k+="01010",k+=(0,j.default)(this.data.substr(6,6),"RRRRRR"),{data:k+="101",text:this.text}}},{key:"guardedEncoding",value:function(){var k=[];return this.displayValue&&k.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),k.push({data:"101"+(0,j.default)(this.data[0],"L"),options:{height:this.guardHeight}}),k.push({data:(0,j.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),k.push({data:"01010",options:{height:this.guardHeight}}),k.push({data:(0,j.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),k.push({data:(0,j.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&k.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),k}}]),w}(K(F(2933)).default);function v(x){var I,w=0;for(I=1;I<11;I+=2)w+=parseInt(x[I]);for(I=0;I<11;I+=2)w+=3*parseInt(x[I]);return(10-w%10)%10}A.default=b},7638:(Ie,A,F)=>{Object.defineProperty(A,"__esModule",{value:!0});var $=function(){function k(O,ee){for(var ce=0;ce<ee.length;ce++){var fe=ee[ce];fe.enumerable=fe.enumerable||!1,fe.configurable=!0,"value"in fe&&(fe.writable=!0),Object.defineProperty(O,fe.key,fe)}}return function(O,ee,ce){return ee&&k(O.prototype,ee),ce&&k(O,ce),O}}(),j=P(F(2143)),G=P(F(2933)),K=F(1541);function P(k){return k&&k.__esModule?k:{default:k}}function M(k,O){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!O||"object"!=typeof O&&"function"!=typeof O?k:O}var v=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],x=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],w=function(k){function O(ee,ce){!function U(k,O){if(!(k instanceof O))throw new TypeError("Cannot call a class as a function")}(this,O);var fe=M(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,ee,ce));if(fe.isValid=!1,-1!==ee.search(/^[0-9]{6}$/))fe.middleDigits=ee,fe.upcA=I(ee,"0"),fe.text=ce.text||""+fe.upcA[0]+ee+fe.upcA[fe.upcA.length-1],fe.isValid=!0;else{if(-1===ee.search(/^[01][0-9]{7}$/))return M(fe);if(fe.middleDigits=ee.substring(1,ee.length-1),fe.upcA=I(fe.middleDigits,ee[0]),fe.upcA[fe.upcA.length-1]!==ee[ee.length-1])return M(fe);fe.isValid=!0}return fe.displayValue=ce.displayValue,fe.fontSize=ce.fontSize>10*ce.width?10*ce.width:ce.fontSize,fe.guardHeight=ce.height+fe.fontSize/2+ce.textMargin,fe}return function b(k,O){if("function"!=typeof O&&null!==O)throw new TypeError("Super expression must either be null or a function, not "+typeof O);k.prototype=Object.create(O&&O.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(k,O):k.__proto__=O)}(O,k),$(O,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var ce="";return ce+="101",ce+=this.encodeMiddleDigits(),{data:ce+="010101",text:this.text}}},{key:"guardedEncoding",value:function(){var ce=[];return this.displayValue&&ce.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),ce.push({data:"101",options:{height:this.guardHeight}}),ce.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),ce.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&ce.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),ce}},{key:"encodeMiddleDigits",value:function(){var ce=this.upcA[0],Kt=x[parseInt(this.upcA[this.upcA.length-1])][parseInt(ce)];return(0,j.default)(this.middleDigits,Kt)}}]),O}(G.default);function I(k,O){for(var ee=parseInt(k[k.length-1]),ce=v[ee],fe="",Kt=0,hr=0;hr<ce.length;hr++){var So=ce[hr];fe+="X"===So?k[Kt++]:So}return(fe=""+O+fe)+(0,K.checksum)(fe)}A.default=w},2846:(Ie,A)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.SIDE_BIN="101",A.MIDDLE_BIN="01010",A.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]},A.EAN2_STRUCTURE=["LL","LG","GL","GG"],A.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"],A.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"]},2143:(Ie,A,F)=>{Object.defineProperty(A,"__esModule",{value:!0});var $=F(2846);A.default=function(R,G,K){var P=R.split("").map(function(M,b){return $.BINARIES[G[b]]}).map(function(M,b){return M?M[R[b]]:""});if(K){var U=R.length-1;P=P.map(function(M,b){return b<U?M+K:M})}return P.join("")}},9995:(Ie,A,F)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.UPCE=A.UPC=A.EAN2=A.EAN5=A.EAN8=A.EAN13=void 0;var _=w(F(7779)),R=w(F(2587)),K=w(F(6400)),U=w(F(197)),b=w(F(1541)),x=w(F(7638));function w(I){return I&&I.__esModule?I:{default:I}}A.EAN13=_.default,A.EAN8=R.default,A.EAN5=K.default,A.EAN2=U.default,A.UPC=b.default,A.UPCE=x.default},9257:(Ie,A,F)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.GenericBarcode=void 0;var $=function(){function M(b,v){for(var x=0;x<v.length;x++){var w=v[x];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(b,w.key,w)}}return function(b,v,x){return v&&M(b.prototype,v),x&&M(b,x),b}}(),U=function(M){function b(v,x){return function G(M,b){if(!(M instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b),function K(M,b){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?M:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,v,x))}return function P(M,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);M.prototype=Object.create(b&&b.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(M,b):M.__proto__=b)}(b,M),$(b,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),b}(function R(M){return M&&M.__esModule?M:{default:M}}(F(2933)).default);A.GenericBarcode=U},3534:(Ie,A,F)=>{Object.defineProperty(A,"__esModule",{value:!0});var $=function(){function b(v,x){for(var w=0;w<x.length;w++){var I=x[w];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(v,I.key,I)}}return function(v,x,w){return x&&b(v.prototype,x),w&&b(v,w),v}}(),_=F(2218),M=function(b){function v(){return function K(b,v){if(!(b instanceof v))throw new TypeError("Cannot call a class as a function")}(this,v),function P(b,v){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||"object"!=typeof v&&"function"!=typeof v?b:v}(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return function U(b,v){if("function"!=typeof v&&null!==v)throw new TypeError("Super expression must either be null or a function, not "+typeof v);b.prototype=Object.create(v&&v.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(b,v):b.__proto__=v)}(v,b),$(v,[{key:"valid",value:function(){return-1!==this.data.search(/^([0-9]{2})+$/)}},{key:"encode",value:function(){var w=this,I=this.data.match(/.{2}/g).map(function(k){return w.encodePair(k)}).join("");return{data:_.START_BIN+I+_.END_BIN,text:this.text}}},{key:"encodePair",value:function(w){var I=_.BINARIES[w[1]];return _.BINARIES[w[0]].split("").map(function(k,O){return("1"===k?"111":"1")+("1"===I[O]?"000":"0")}).join("")}}]),v}(function G(b){return b&&b.__esModule?b:{default:b}}(F(2933)).default);A.default=M},6023:(Ie,A,F)=>{Object.defineProperty(A,"__esModule",{value:!0});var $=function(){function b(v,x){for(var w=0;w<x.length;w++){var I=x[w];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(v,I.key,I)}}return function(v,x,w){return x&&b(v.prototype,x),w&&b(v,w),v}}(),j=function R(b){return b&&b.__esModule?b:{default:b}}(F(3534)),U=function(v){var x=v.substr(0,13).split("").map(function(w){return parseInt(w,10)}).reduce(function(w,I,k){return w+I*(3-k%2*2)},0);return 10*Math.ceil(x/10)-x},M=function(b){function v(x,w){return function G(b,v){if(!(b instanceof v))throw new TypeError("Cannot call a class as a function")}(this,v),-1!==x.search(/^[0-9]{13}$/)&&(x+=U(x)),function K(b,v){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||"object"!=typeof v&&"function"!=typeof v?b:v}(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,x,w))}return function P(b,v){if("function"!=typeof v&&null!==v)throw new TypeError("Super expression must either be null or a function, not "+typeof v);b.prototype=Object.create(v&&v.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(b,v):b.__proto__=v)}(v,b),$(v,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{14}$/)&&+this.data[13]===U(this.data)}}]),v}(j.default);A.default=M},2218:(Ie,A)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.START_BIN="1010",A.END_BIN="11101",A.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"]},9319:(Ie,A,F)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.ITF14=A.ITF=void 0;var _=G(F(3534)),R=G(F(6023));function G(K){return K&&K.__esModule?K:{default:K}}A.ITF=_.default,A.ITF14=R.default},8778:(Ie,A,F)=>{Object.defineProperty(A,"__esModule",{value:!0});var $=function(){function b(v,x){for(var w=0;w<x.length;w++){var I=x[w];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(v,I.key,I)}}return function(v,x,w){return x&&b(v.prototype,x),w&&b(v,w),v}}(),U=function(b){function v(x,w){return function G(b,v){if(!(b instanceof v))throw new TypeError("Cannot call a class as a function")}(this,v),function K(b,v){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||"object"!=typeof v&&"function"!=typeof v?b:v}(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,x,w))}return function P(b,v){if("function"!=typeof v&&null!==v)throw new TypeError("Super expression must either be null or a function, not "+typeof v);b.prototype=Object.create(v&&v.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(b,v):b.__proto__=v)}(v,b),$(v,[{key:"encode",value:function(){for(var w="110",I=0;I<this.data.length;I++){var O=parseInt(this.data[I]).toString(2);O=M(O,4-O.length);for(var ee=0;ee<O.length;ee++)w+="0"==O[ee]?"100":"110"}return{data:w+="1001",text:this.text}}},{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]+$/)}}]),v}(function R(b){return b&&b.__esModule?b:{default:b}}(F(2933)).default);function M(b,v){for(var x=0;x<v;x++)b="0"+b;return b}A.default=U},3167:(Ie,A,F)=>{Object.defineProperty(A,"__esModule",{value:!0});var _=function R(M){return M&&M.__esModule?M:{default:M}}(F(8778)),j=F(2821),U=function(M){function b(v,x){return function G(M,b){if(!(M instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b),function K(M,b){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?M:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,v+(0,j.mod10)(v),x))}return function P(M,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);M.prototype=Object.create(b&&b.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(M,b):M.__proto__=b)}(b,M),b}(_.default);A.default=U},1522:(Ie,A,F)=>{Object.defineProperty(A,"__esModule",{value:!0});var _=function R(M){return M&&M.__esModule?M:{default:M}}(F(8778)),j=F(2821),U=function(M){function b(v,x){return function G(M,b){if(!(M instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b),v+=(0,j.mod10)(v),v+=(0,j.mod10)(v),function K(M,b){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?M:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,v,x))}return function P(M,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);M.prototype=Object.create(b&&b.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(M,b):M.__proto__=b)}(b,M),b}(_.default);A.default=U},8552:(Ie,A,F)=>{Object.defineProperty(A,"__esModule",{value:!0});var _=function R(M){return M&&M.__esModule?M:{default:M}}(F(8778)),j=F(2821),U=function(M){function b(v,x){return function G(M,b){if(!(M instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b),function K(M,b){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?M:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,v+(0,j.mod11)(v),x))}return function P(M,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);M.prototype=Object.create(b&&b.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(M,b):M.__proto__=b)}(b,M),b}(_.default);A.default=U},677:(Ie,A,F)=>{Object.defineProperty(A,"__esModule",{value:!0});var _=function R(M){return M&&M.__esModule?M:{default:M}}(F(8778)),j=F(2821),U=function(M){function b(v,x){return function G(M,b){if(!(M instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b),v+=(0,j.mod11)(v),v+=(0,j.mod10)(v),function K(M,b){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?M:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,v,x))}return function P(M,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);M.prototype=Object.create(b&&b.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(M,b):M.__proto__=b)}(b,M),b}(_.default);A.default=U},2821:(Ie,A)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.mod10=function F(_){for(var j=0,R=0;R<_.length;R++){var G=parseInt(_[R]);j+=(R+_.length)%2==0?G:2*G%10+Math.floor(2*G/10)}return(10-j%10)%10},A.mod11=function $(_){for(var j=0,R=[2,3,4,5,6,7],G=0;G<_.length;G++){var K=parseInt(_[_.length-1-G]);j+=R[G%R.length]*K}return(11-j%11)%11}},3641:(Ie,A,F)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.MSI1110=A.MSI1010=A.MSI11=A.MSI10=A.MSI=void 0;var _=v(F(8778)),R=v(F(3167)),K=v(F(8552)),U=v(F(1522)),b=v(F(677));function v(x){return x&&x.__esModule?x:{default:x}}A.MSI=_.default,A.MSI10=R.default,A.MSI11=K.default,A.MSI1010=U.default,A.MSI1110=b.default},9468:(Ie,A,F)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.codabar=void 0;var $=function(){function M(b,v){for(var x=0;x<v.length;x++){var w=v[x];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(b,w.key,w)}}return function(b,v,x){return v&&M(b.prototype,v),x&&M(b,x),b}}(),U=function(M){function b(v,x){(function G(M,b){if(!(M instanceof b))throw new TypeError("Cannot call a class as a function")})(this,b),0===v.search(/^[0-9\-\$\:\.\+\/]+$/)&&(v="A"+v+"A");var w=function K(M,b){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?M:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,v.toUpperCase(),x));return w.text=w.options.text||w.text.replace(/[A-D]/g,""),w}return function P(M,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);M.prototype=Object.create(b&&b.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(M,b):M.__proto__=b)}(b,M),$(b,[{key:"valid",value:function(){return-1!==this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)}},{key:"encode",value:function(){for(var x=[],w=this.getEncodings(),I=0;I<this.data.length;I++)x.push(w[this.data.charAt(I)]),I!==this.data.length-1&&x.push("0");return{text:this.text,data:x.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"1011011011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),b}(function R(M){return M&&M.__esModule?M:{default:M}}(F(2933)).default);A.codabar=U},3209:(Ie,A,F)=>{Object.defineProperty(A,"__esModule",{value:!0});var $=F(3803),_=F(9152),j=F(9995),R=F(9319),G=F(3641),K=F(4322),P=F(9468),U=F(9257);A.default={CODE39:$.CODE39,CODE128:_.CODE128,CODE128A:_.CODE128A,CODE128B:_.CODE128B,CODE128C:_.CODE128C,EAN13:j.EAN13,EAN8:j.EAN8,EAN5:j.EAN5,EAN2:j.EAN2,UPC:j.UPC,UPCE:j.UPCE,ITF14:R.ITF14,ITF:R.ITF,MSI:G.MSI,MSI10:G.MSI10,MSI11:G.MSI11,MSI1010:G.MSI1010,MSI1110:G.MSI1110,pharmacode:K.pharmacode,codabar:P.codabar,GenericBarcode:U.GenericBarcode}},4322:(Ie,A,F)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.pharmacode=void 0;var $=function(){function M(b,v){for(var x=0;x<v.length;x++){var w=v[x];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(b,w.key,w)}}return function(b,v,x){return v&&M(b.prototype,v),x&&M(b,x),b}}(),U=function(M){function b(v,x){!function G(M,b){if(!(M instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var w=function K(M,b){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?M:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,v,x));return w.number=parseInt(v,10),w}return function P(M,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);M.prototype=Object.create(b&&b.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(M,b):M.__proto__=b)}(b,M),$(b,[{key:"encode",value:function(){for(var x=this.number,w="";!isNaN(x)&&0!=x;)x%2==0?(w="11100"+w,x=(x-2)/2):(w="100"+w,x=(x-1)/2);return{data:w=w.slice(0,-2),text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),b}(function R(M){return M&&M.__esModule?M:{default:M}}(F(2933)).default);A.pharmacode=U},650:(Ie,A)=>{Object.defineProperty(A,"__esModule",{value:!0});var F=function(){function j(R,G){for(var K=0;K<G.length;K++){var P=G[K];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(R,P.key,P)}}return function(R,G,K){return G&&j(R.prototype,G),K&&j(R,K),R}}(),_=function(){function j(R){(function $(j,R){if(!(j instanceof R))throw new TypeError("Cannot call a class as a function")})(this,j),this.api=R}return F(j,[{key:"handleCatch",value:function(G){if("InvalidInputException"!==G.name)throw G;if(this.api._options.valid===this.api._defaults.valid)throw G.message;this.api._options.valid(!1),this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(G){try{var K=G.apply(void 0,arguments);return this.api._options.valid(!0),K}catch(P){return this.handleCatch(P),this.api}}}]),j}();A.default=_},1498:(Ie,A)=>{function F(K,P){if(!(K instanceof P))throw new TypeError("Cannot call a class as a function")}function $(K,P){if(!K)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!P||"object"!=typeof P&&"function"!=typeof P?K:P}function _(K,P){if("function"!=typeof P&&null!==P)throw new TypeError("Super expression must either be null or a function, not "+typeof P);K.prototype=Object.create(P&&P.prototype,{constructor:{value:K,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(K,P):K.__proto__=P)}Object.defineProperty(A,"__esModule",{value:!0});var j=function(K){function P(U,M){F(this,P);var b=$(this,(P.__proto__||Object.getPrototypeOf(P)).call(this));return b.name="InvalidInputException",b.symbology=U,b.input=M,b.message='"'+b.input+'" is not a valid input for '+b.symbology,b}return _(P,Error),P}(),R=function(K){function P(){F(this,P);var U=$(this,(P.__proto__||Object.getPrototypeOf(P)).call(this));return U.name="InvalidElementException",U.message="Not supported type to render on",U}return _(P,Error),P}(),G=function(K){function P(){F(this,P);var U=$(this,(P.__proto__||Object.getPrototypeOf(P)).call(this));return U.name="NoElementException",U.message="No element to render on.",U}return _(P,Error),P}();A.InvalidInputException=j,A.InvalidElementException=R,A.NoElementException=G},8084:(Ie,A)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.default=function F($){return $.marginTop=$.marginTop||$.margin,$.marginBottom=$.marginBottom||$.margin,$.marginRight=$.marginRight||$.margin,$.marginLeft=$.marginLeft||$.margin,$}},329:(Ie,A,F)=>{Object.defineProperty(A,"__esModule",{value:!0});var _=G(F(1951)),R=G(F(5482));function G(P){return P&&P.__esModule?P:{default:P}}A.default=function K(P){var U={};for(var M in R.default)R.default.hasOwnProperty(M)&&(P.hasAttribute("jsbarcode-"+M.toLowerCase())&&(U[M]=P.getAttribute("jsbarcode-"+M.toLowerCase())),P.hasAttribute("data-"+M.toLowerCase())&&(U[M]=P.getAttribute("data-"+M.toLowerCase())));return U.value=P.getAttribute("jsbarcode-value")||P.getAttribute("data-value"),(0,_.default)(U)}},2042:(Ie,A,F)=>{Object.defineProperty(A,"__esModule",{value:!0});var $="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(v){return typeof v}:function(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},j=P(F(329)),G=P(F(2368)),K=F(1498);function P(v){return v&&v.__esModule?v:{default:v}}A.default=function U(v){if("string"==typeof v)return function M(v){var x=document.querySelectorAll(v);if(0!==x.length){for(var w=[],I=0;I<x.length;I++)w.push(U(x[I]));return w}}(v);if(Array.isArray(v)){for(var x=[],w=0;w<v.length;w++)x.push(U(v[w]));return x}if(typeof HTMLCanvasElement<"u"&&v instanceof HTMLImageElement)return function b(v){var x=document.createElement("canvas");return{element:x,options:(0,j.default)(v),renderer:G.default.CanvasRenderer,afterRender:function(){v.setAttribute("src",x.toDataURL())}}}(v);if(v&&v.nodeName&&"svg"===v.nodeName.toLowerCase()||typeof SVGElement<"u"&&v instanceof SVGElement)return{element:v,options:(0,j.default)(v),renderer:G.default.SVGRenderer};if(typeof HTMLCanvasElement<"u"&&v instanceof HTMLCanvasElement)return{element:v,options:(0,j.default)(v),renderer:G.default.CanvasRenderer};if(v&&v.getContext)return{element:v,renderer:G.default.CanvasRenderer};if(v&&"object"===(typeof v>"u"?"undefined":$(v))&&!v.nodeName)return{element:v,renderer:G.default.ObjectRenderer};throw new K.InvalidElementException}},9246:(Ie,A)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.default=function F($){var _=[];return function j(R){if(Array.isArray(R))for(var G=0;G<R.length;G++)j(R[G]);else R.text=R.text||"",R.data=R.data||"",_.push(R)}($),_}},3931:(Ie,A)=>{Object.defineProperty(A,"__esModule",{value:!0});var F=Object.assign||function($){for(var _=1;_<arguments.length;_++){var j=arguments[_];for(var R in j)Object.prototype.hasOwnProperty.call(j,R)&&($[R]=j[R])}return $};A.default=function($,_){return F({},$,_)}},1951:(Ie,A)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.default=function F($){var _=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var j in _)_.hasOwnProperty(j)&&"string"==typeof $[j=_[j]]&&($[j]=parseInt($[j],10));return"string"==typeof $.displayValue&&($.displayValue="false"!=$.displayValue),$}},5482:(Ie,A)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.default={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}}},8682:(Ie,A,F)=>{Object.defineProperty(A,"__esModule",{value:!0});var $=function(){function U(M,b){for(var v=0;v<b.length;v++){var x=b[v];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(M,x.key,x)}}return function(M,b,v){return b&&U(M.prototype,b),v&&U(M,v),M}}(),j=function G(U){return U&&U.__esModule?U:{default:U}}(F(3931)),R=F(2283),P=function(){function U(M,b,v){(function K(U,M){if(!(U instanceof M))throw new TypeError("Cannot call a class as a function")})(this,U),this.canvas=M,this.encodings=b,this.options=v}return $(U,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var b=0;b<this.encodings.length;b++){var v=(0,j.default)(this.options,this.encodings[b].options);this.drawCanvasBarcode(v,this.encodings[b]),this.drawCanvasText(v,this.encodings[b]),this.moveCanvasDrawing(this.encodings[b])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var b=this.canvas.getContext("2d");b.save(),(0,R.calculateEncodingAttributes)(this.encodings,this.options,b);var v=(0,R.getTotalWidthOfEncodings)(this.encodings),x=(0,R.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=v+this.options.marginLeft+this.options.marginRight,this.canvas.height=x,b.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(b.fillStyle=this.options.background,b.fillRect(0,0,this.canvas.width,this.canvas.height)),b.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(b,v){var I,x=this.canvas.getContext("2d"),w=v.data;I="top"==b.textPosition?b.marginTop+b.fontSize+b.textMargin:b.marginTop,x.fillStyle=b.lineColor;for(var k=0;k<w.length;k++){var O=k*b.width+v.barcodePadding;"1"===w[k]?x.fillRect(O,I,b.width,b.height):w[k]&&x.fillRect(O,I,b.width,b.height*w[k])}}},{key:"drawCanvasText",value:function(b,v){var I,k,x=this.canvas.getContext("2d");b.displayValue&&(k="top"==b.textPosition?b.marginTop+b.fontSize-b.textMargin:b.height+b.textMargin+b.marginTop+b.fontSize,x.font=b.fontOptions+" "+b.fontSize+"px "+b.font,"left"==b.textAlign||v.barcodePadding>0?(I=0,x.textAlign="left"):"right"==b.textAlign?(I=v.width-1,x.textAlign="right"):(I=v.width/2,x.textAlign="center"),x.fillText(v.text,I,k))}},{key:"moveCanvasDrawing",value:function(b){this.canvas.getContext("2d").translate(b.width,0)}},{key:"restoreCanvas",value:function(){this.canvas.getContext("2d").restore()}}]),U}();A.default=P},2368:(Ie,A,F)=>{Object.defineProperty(A,"__esModule",{value:!0});var _=P(F(8682)),R=P(F(1538)),K=P(F(1045));function P(U){return U&&U.__esModule?U:{default:U}}A.default={CanvasRenderer:_.default,SVGRenderer:R.default,ObjectRenderer:K.default}},1045:(Ie,A)=>{Object.defineProperty(A,"__esModule",{value:!0});var F=function(){function j(R,G){for(var K=0;K<G.length;K++){var P=G[K];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(R,P.key,P)}}return function(R,G,K){return G&&j(R.prototype,G),K&&j(R,K),R}}(),_=function(){function j(R,G,K){(function $(j,R){if(!(j instanceof R))throw new TypeError("Cannot call a class as a function")})(this,j),this.object=R,this.encodings=G,this.options=K}return F(j,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),j}();A.default=_},2283:(Ie,A,F)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.getTotalWidthOfEncodings=A.calculateEncodingAttributes=A.getBarcodePadding=A.getEncodingHeight=A.getMaximumHeightOfEncodings=void 0;var _=function j(b){return b&&b.__esModule?b:{default:b}}(F(3931));function R(b,v){return v.height+(v.displayValue&&b.text.length>0?v.fontSize+v.textMargin:0)+v.marginTop+v.marginBottom}function G(b,v,x){if(x.displayValue&&v<b){if("center"==x.textAlign)return Math.floor((b-v)/2);if("left"==x.textAlign)return 0;if("right"==x.textAlign)return Math.floor(b-v)}return 0}function M(b,v,x){var w;if(x)w=x;else{if(!(typeof document<"u"))return 0;w=document.createElement("canvas").getContext("2d")}w.font=v.fontOptions+" "+v.fontSize+"px "+v.font;var I=w.measureText(b);return I?I.width:0}A.getMaximumHeightOfEncodings=function U(b){for(var v=0,x=0;x<b.length;x++)b[x].height>v&&(v=b[x].height);return v},A.getEncodingHeight=R,A.getBarcodePadding=G,A.calculateEncodingAttributes=function K(b,v,x){for(var w=0;w<b.length;w++){var O,I=b[w],k=(0,_.default)(v,I.options);O=k.displayValue?M(I.text,k,x):0;var ee=I.data.length*k.width;I.width=Math.ceil(Math.max(O,ee)),I.height=R(I,k),I.barcodePadding=G(O,ee,k)}},A.getTotalWidthOfEncodings=function P(b){for(var v=0,x=0;x<b.length;x++)v+=b[x].width;return v}},1538:(Ie,A,F)=>{Object.defineProperty(A,"__esModule",{value:!0});var $=function(){function M(b,v){for(var x=0;x<v.length;x++){var w=v[x];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(b,w.key,w)}}return function(b,v,x){return v&&M(b.prototype,v),x&&M(b,x),b}}(),j=function G(M){return M&&M.__esModule?M:{default:M}}(F(3931)),R=F(2283),P="http://www.w3.org/2000/svg",U=function(){function M(b,v,x){(function K(M,b){if(!(M instanceof b))throw new TypeError("Cannot call a class as a function")})(this,M),this.svg=b,this.encodings=v,this.options=x,this.document=x.xmlDocument||document}return $(M,[{key:"render",value:function(){var v=this.options.marginLeft;this.prepareSVG();for(var x=0;x<this.encodings.length;x++){var w=this.encodings[x],I=(0,j.default)(this.options,w.options),k=this.createGroup(v,I.marginTop,this.svg);this.setGroupOptions(k,I),this.drawSvgBarcode(k,I,w),this.drawSVGText(k,I,w),v+=w.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,R.calculateEncodingAttributes)(this.encodings,this.options);var v=(0,R.getTotalWidthOfEncodings)(this.encodings),x=(0,R.getMaximumHeightOfEncodings)(this.encodings),w=v+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(w,x),this.options.background&&this.drawRect(0,0,w,x,this.svg).setAttribute("style","fill:"+this.options.background+";")}},{key:"drawSvgBarcode",value:function(v,x,w){var k,I=w.data;k="top"==x.textPosition?x.fontSize+x.textMargin:0;for(var O=0,ee=0,ce=0;ce<I.length;ce++)ee=ce*x.width+w.barcodePadding,"1"===I[ce]?O++:O>0&&(this.drawRect(ee-x.width*O,k,x.width*O,x.height,v),O=0);O>0&&this.drawRect(ee-x.width*(O-1),k,x.width*O,x.height,v)}},{key:"drawSVGText",value:function(v,x,w){var k,O,I=this.document.createElementNS(P,"text");x.displayValue&&(I.setAttribute("style","font:"+x.fontOptions+" "+x.fontSize+"px "+x.font),O="top"==x.textPosition?x.fontSize-x.textMargin:x.height+x.textMargin+x.fontSize,"left"==x.textAlign||w.barcodePadding>0?(k=0,I.setAttribute("text-anchor","start")):"right"==x.textAlign?(k=w.width-1,I.setAttribute("text-anchor","end")):(k=w.width/2,I.setAttribute("text-anchor","middle")),I.setAttribute("x",k),I.setAttribute("y",O),I.appendChild(this.document.createTextNode(w.text)),v.appendChild(I))}},{key:"setSvgAttributes",value:function(v,x){var w=this.svg;w.setAttribute("width",v+"px"),w.setAttribute("height",x+"px"),w.setAttribute("x","0px"),w.setAttribute("y","0px"),w.setAttribute("viewBox","0 0 "+v+" "+x),w.setAttribute("xmlns",P),w.setAttribute("version","1.1"),w.setAttribute("style","transform: translate(0,0)")}},{key:"createGroup",value:function(v,x,w){var I=this.document.createElementNS(P,"g");return I.setAttribute("transform","translate("+v+", "+x+")"),w.appendChild(I),I}},{key:"setGroupOptions",value:function(v,x){v.setAttribute("style","fill:"+x.lineColor+";")}},{key:"drawRect",value:function(v,x,w,I,k){var O=this.document.createElementNS(P,"rect");return O.setAttribute("x",v),O.setAttribute("y",x),O.setAttribute("width",w),O.setAttribute("height",I),k.appendChild(O),O}}]),M}();A.default=U}},Ie=>{Ie(Ie.s=3757)}]);