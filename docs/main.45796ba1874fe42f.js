"use strict";(self.webpackChunkgestion_muestras=self.webpackChunkgestion_muestras||[]).push([[590],{6476:(_e,M,R)=>{function j(t,e,n,r,i,o,s){try{var a=t[o](s),c=a.value}catch(l){return void n(l)}a.done?e(c):Promise.resolve(c).then(r,i)}function m(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function s(c){j(o,r,i,s,a,"next",c)}function a(c){j(o,r,i,s,a,"throw",c)}s(void 0)})}}let N=null,G=1;const O=Symbol("SIGNAL");function V(t){const e=N;return N=t,e}function S(t){if((!is(t)||t.dirty)&&(t.dirty||t.lastCleanEpoch!==G)){if(!t.producerMustRecompute(t)&&!jr(t))return t.dirty=!1,void(t.lastCleanEpoch=G);t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=G}}function jr(t){Ue(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(S(n),r!==n.version))return!0}return!1}function Ja(t,e){if(function Ot(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Ue(t),1===t.liveConsumerNode.length)for(let r=0;r<t.producerNode.length;r++)Ja(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Ue(i),i.producerIndexOfThis[r]=e}}function is(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Ue(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let tN=null;function st(t){return"function"==typeof t}function Lb(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Vb=Lb(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Qg(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class zr{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const o of n)o.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(st(r))try{r()}catch(o){e=o instanceof Vb?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{sN(o)}catch(s){e=e??[],s instanceof Vb?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Vb(e)}}add(e){var n;if(e&&e!==this)if(this.closed)sN(e);else{if(e instanceof zr){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Qg(n,e)}remove(e){const{_finalizers:n}=this;n&&Qg(n,e),e instanceof zr&&e._removeParent(this)}}zr.EMPTY=(()=>{const t=new zr;return t.closed=!0,t})();const iN=zr.EMPTY;function oN(t){return t instanceof zr||t&&"closed"in t&&st(t.remove)&&st(t.add)&&st(t.unsubscribe)}function sN(t){st(t)?t():t.unsubscribe()}const Za={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Yg={setTimeout(t,e,...n){const{delegate:r}=Yg;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=Yg;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function aN(t){Yg.setTimeout(()=>{const{onUnhandledError:e}=Za;if(!e)throw t;e(t)})}function Kd(){}const hW=Ub("C",void 0,void 0);function Ub(t,e,n){return{kind:t,value:e,error:n}}let ec=null;function Xg(t){if(Za.useDeprecatedSynchronousErrorHandling){const e=!ec;if(e&&(ec={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=ec;if(ec=null,n)throw r}}else t()}class Bb extends zr{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,oN(e)&&e.add(this)):this.destination=vW}static create(e,n,r){return new zb(e,n,r)}next(e){this.isStopped?$b(function pW(t){return Ub("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?$b(function fW(t){return Ub("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?$b(hW,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const mW=Function.prototype.bind;function jb(t,e){return mW.call(t,e)}class _W{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Jg(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Jg(r)}else Jg(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Jg(n)}}}class zb extends Bb{constructor(e,n,r){let i;if(super(),st(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Za.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&jb(e.next,o),error:e.error&&jb(e.error,o),complete:e.complete&&jb(e.complete,o)}):i=e}this.destination=new _W(i)}}function Jg(t){Za.useDeprecatedSynchronousErrorHandling?function gW(t){Za.useDeprecatedSynchronousErrorHandling&&ec&&(ec.errorThrown=!0,ec.error=t)}(t):aN(t)}function $b(t,e){const{onStoppedNotification:n}=Za;n&&Yg.setTimeout(()=>n(t,e))}const vW={closed:!0,next:Kd,error:function yW(t){throw t},complete:Kd},Hb="function"==typeof Symbol&&Symbol.observable||"@@observable";function tc(t){return t}function cN(t){return 0===t.length?tc:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let Jt=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const o=function CW(t){return t&&t instanceof Bb||function wW(t){return t&&st(t.next)&&st(t.error)&&st(t.complete)}(t)&&oN(t)}(n)?n:new zb(n,r,i);return Xg(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=lN(r))((i,o)=>{const s=new zb({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Hb](){return this}pipe(...n){return cN(n)(this)}toPromise(n){return new(n=lN(n))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function lN(t){var e;return null!==(e=t??Za.Promise)&&void 0!==e?e:Promise}const xW=Lb(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let ni=(()=>{class t extends Jt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new uN(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new xW}next(n){Xg(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Xg(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Xg(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:o}=this;return r||i?iN:(this.currentObservers=null,o.push(n),new zr(()=>{this.currentObservers=null,Qg(o,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){const n=new Jt;return n.source=this,n}}return t.create=(e,n)=>new uN(e,n),t})();class uN extends ni{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:iN}}class ri extends ni{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function dN(t){return st(t?.lift)}function jn(t){return e=>{if(dN(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Nn(t,e,n,r,i){return new EW(t,e,n,r,i)}class EW extends Bb{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function tt(t,e){return jn((n,r)=>{let i=0;n.subscribe(Nn(r,o=>{r.next(t.call(e,o,i++))}))})}const hN="https://g.co/ng/security#xss";class q extends Error{constructor(e,n){super(function _l(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function Gb(t){return e=>{setTimeout(t,void 0,e)}}const qe=class IW extends ni{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&"object"==typeof e){const c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=Gb(o),i&&(i=Gb(i)),s&&(s=Gb(s)));const a=super.subscribe({next:i,error:o,complete:s});return e instanceof zr&&e.add(a),a}};var Ye=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Ye||{});function zn(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(zn).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function qb(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}var em=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(em||{}),Yi=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Yi||{});function os(t){return{toString:t}.toString()}const _t=globalThis,vo={},ut=[];function vt(t){for(let e in t)if(t[e]===vt)return e;throw Error("Could not find renamed property on target object.")}function SW(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}const Qd=vt({\u0275cmp:vt}),Wb=vt({\u0275dir:vt}),Kb=vt({\u0275pipe:vt}),gN=vt({\u0275mod:vt}),ss=vt({\u0275fac:vt}),Yd=vt({__NG_ELEMENT_ID__:vt}),mN=vt({__NG_ENV_ID__:vt});var Ht=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Ht||{});function _N(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function Qb(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{const o=i,s=n[++r];vN(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function yN(t){return 3===t||4===t||6===t}function vN(t){return 64===t.charCodeAt(0)}function Xd(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||bN(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function bN(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const a=t[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<t.length;){const a=t[o];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}const wN="ng-template";function AW(t,e,n){let r=0,i=!0;for(;r<t.length;){let o=t[r++];if("string"==typeof o&&i){const s=t[r++];if(n&&"class"===o&&-1!==_N(s.toLowerCase(),e,0))return!0}else{if(1===o){for(;r<t.length&&"string"==typeof(o=t[r++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function CN(t){return 4===t.type&&t.value!==wN}function kW(t,e,n){return e===(4!==t.type||n?t.value:wN)}function OW(t,e,n){let r=4;const i=t.attrs||[],o=function RW(t){for(let e=0;e<t.length;e++)if(yN(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!s)if(4&r){if(r=2|1&r,""!==c&&!kW(t,c,n)||""===c&&1===e.length){if(Xi(r))return!1;s=!0}}else{const l=8&r?c:e[++a];if(8&r&&null!==t.attrs){if(!AW(t.attrs,l,n)){if(Xi(r))return!1;s=!0}continue}const d=PW(8&r?"class":c,i,CN(t),n);if(-1===d){if(Xi(r))return!1;s=!0;continue}if(""!==l){let h;h=d>o?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==_N(f,l,0)||2&r&&l!==h){if(Xi(r))return!1;s=!0}}}}else{if(!s&&!Xi(r)&&!Xi(c))return!1;if(s&&Xi(c))continue;s=!1,r=c|1&r}}return Xi(r)||s}function Xi(t){return 0==(1&t)}function PW(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){const s=e[i];if(s===t)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function FW(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function xN(t,e,n=!1){for(let r=0;r<e.length;r++)if(OW(t,e[r],n))return!0;return!1}function EN(t,e){return t?":not("+e.trim()+")":e}function VW(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!Xi(s)&&(e+=EN(o,i),i=""),r=s,o=o||!Xi(r);n++}return""!==i&&(e+=EN(o,i)),e}function je(t){return os(()=>{const e=TN(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===em.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Yi.Emulated,styles:t.styles||ut,_:null,schemas:t.schemas||null,tView:null,id:""};DN(n);const r=t.dependencies;return n.directiveDefs=tm(r,!1),n.pipeDefs=tm(r,!0),n.id=function HW(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function jW(t){return $e(t)||$n(t)}function zW(t){return null!==t}function on(t){return os(()=>({type:t.type,bootstrap:t.bootstrap||ut,declarations:t.declarations||ut,imports:t.imports||ut,exports:t.exports||ut,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function IN(t,e){if(null==t)return vo;const n={};for(const r in t)if(t.hasOwnProperty(r)){const i=t[r];let o,s,a=Ht.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==Ht.None?[r,a]:r,e[o]=s):n[o]=r}return n}function Ie(t){return os(()=>{const e=TN(t);return DN(e),e})}function $e(t){return t[Qd]||null}function $n(t){return t[Wb]||null}function fr(t){return t[Kb]||null}function Dr(t,e){const n=t[gN]||null;if(!n&&!0===e)throw new Error(`Type ${zn(t)} does not have '\u0275mod' property.`);return n}function TN(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||vo,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||ut,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:IN(t.inputs,e),outputs:IN(t.outputs),debugInfo:null}}function DN(t){t.features?.forEach(e=>e(t))}function tm(t,e){if(!t)return null;const n=e?fr:jW;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(zW)}const Zt=0,J=1,ge=2,vn=3,Ji=4,Mr=5,Zi=6,yl=7,Pt=8,pr=9,as=10,De=11,Jd=12,MN=13,vl=14,sn=15,Zd=16,bl=17,cs=18,eh=19,SN=20,Ws=21,nm=22,nc=23,Se=25,Yb=1,bo=7,wl=9,bn=10;var Xb=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Xb||{});function Sr(t){return Array.isArray(t)&&"object"==typeof t[Yb]}function Ar(t){return Array.isArray(t)&&!0===t[Yb]}function Jb(t){return 0!=(4&t.flags)}function rc(t){return t.componentOffset>-1}function im(t){return 1==(1&t.flags)}function eo(t){return!!t.template}function Zb(t){return 0!=(512&t[ge])}let RN=!1;function Et(t){for(;Array.isArray(t);)t=t[Zt];return t}function nh(t,e){return Et(e[t])}function $r(t,e){return Et(e[t.index])}function rh(t,e){return t.data[e]}function Ci(t,e){const n=e[t];return Sr(n)?n:n[Zt]}function rw(t){return 128==(128&t[ge])}function wo(t,e){return null==e?null:t[e]}function FN(t){t[bl]=0}function JW(t){1024&t[ge]||(t[ge]|=1024,rw(t)&&ih(t))}function iw(t){return!!(9216&t[ge]||t[nc]?.dirty)}function ow(t){iw(t)?ih(t):64&t[ge]&&(function KW(){return RN}()?(t[ge]|=1024,ih(t)):t[as].changeDetectionScheduler?.notify())}function ih(t){t[as].changeDetectionScheduler?.notify();let e=ic(t);for(;null!==e&&!(8192&e[ge])&&(e[ge]|=8192,rw(e));)e=ic(e)}function om(t,e){if(256==(256&t[ge]))throw new q(911,!1);null===t[Ws]&&(t[Ws]=[]),t[Ws].push(e)}function ic(t){const e=t[vn];return Ar(e)?e[vn]:e}const Ee={lFrame:qN(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function UN(){return Ee.bindingsEnabled}function $(){return Ee.lFrame.lView}function Xe(){return Ee.lFrame.tView}function Ne(t){return Ee.lFrame.contextLView=t,t[Pt]}function Re(t){return Ee.lFrame.contextLView=null,t}function bt(){let t=BN();for(;null!==t&&64===t.type;)t=t.parent;return t}function BN(){return Ee.lFrame.currentTNode}function Co(t,e){const n=Ee.lFrame;n.currentTNode=t,n.isParent=e}function aw(){return Ee.lFrame.isParent}function to(){return Ee.lFrame.bindingIndex++}function lK(t,e){const n=Ee.lFrame;n.bindingIndex=n.bindingRootIndex=t,lw(e)}function lw(t){Ee.lFrame.currentDirectiveIndex=t}function dw(){return Ee.lFrame.currentQueryIndex}function sm(t){Ee.lFrame.currentQueryIndex=t}function dK(t){const e=t[J];return 2===e.type?e.declTNode:1===e.type?t[Mr]:null}function HN(t,e,n){if(n&Ye.SkipSelf){let i=e,o=t;for(;!(i=i.parent,null!==i||n&Ye.Host||(i=dK(o),null===i||(o=o[vl],10&i.type))););if(null===i)return!1;e=i,t=o}const r=Ee.lFrame=GN();return r.currentTNode=e,r.lView=t,!0}function hw(t){const e=GN(),n=t[J];Ee.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function GN(){const t=Ee.lFrame,e=null===t?null:t.child;return null===e?qN(t):e}function qN(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function WN(){const t=Ee.lFrame;return Ee.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const KN=WN;function fw(){const t=WN();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function kr(){return Ee.lFrame.selectedIndex}function oc(t){Ee.lFrame.selectedIndex=t}function Nt(){const t=Ee.lFrame;return rh(t.tView,t.selectedIndex)}function pw(){Ee.lFrame.currentNamespace="svg"}let XN=!0;function am(){return XN}function Ks(t){XN=t}function gK(){return El(bt(),$())}function El(t,e){return new oi($r(t,e))}let yw,oi=(()=>{class t{constructor(n){this.nativeElement=n}static#e=this.__NG_ELEMENT_ID__=gK}return t})();function JN(t){return t instanceof oi?t.nativeElement:t}function Il(t,e){t.forEach(n=>Array.isArray(n)?Il(n,e):e(n))}function ZN(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function cm(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function xi(t,e,n){let r=Tl(t,e);return r>=0?t[1|r]=n:(r=~r,function eR(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function mw(t,e){const n=Tl(t,e);if(n>=0)return t[1|n]}function Tl(t,e){return function tR(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}(t,e,1)}function _K(){return this._results[Symbol.iterator]()}class _w{static#e=Symbol.iterator;get changes(){return this._changes??=new qe}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const n=_w.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=_K)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;const r=function si(t){return t.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function mK(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function um(t){return 128==(128&t.flags)}function he(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function en(t){return{providers:t.providers||[],imports:t.imports||[]}}function hm(t){return iR(t,pm)||iR(t,oR)}function iR(t,e){return t.hasOwnProperty(e)?t[e]:null}function fm(t){return t&&(t.hasOwnProperty(vw)||t.hasOwnProperty(CK))?t[vw]:null}const pm=vt({\u0275prov:vt}),vw=vt({\u0275inj:vt}),oR=vt({ngInjectableDef:vt}),CK=vt({ngInjectorDef:vt});class ae{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=he({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const gm=new ae("",{providedIn:"root",factory:()=>xK}),xK="ng",sR=new ae(""),no=new ae("",{providedIn:"platform",factory:()=>"unknown"}),aR=new ae("",{providedIn:"root",factory:()=>function Qs(){if(void 0!==yw)return yw;if(typeof document<"u")return document;throw new q(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),TK=vt({__forward_ref__:vt});function Rt(t){return t.__forward_ref__=Rt,t.toString=function(){return zn(this())},t}function we(t){return mm(t)?t():t}function mm(t){return"function"==typeof t&&t.hasOwnProperty(TK)&&t.__forward_ref__===Rt}function Ew(t){return t&&!!t.\u0275providers}function Ae(t){return"string"==typeof t?t:null==t?"":String(t)}function Iw(t,e){throw new q(-201,!1)}let Tw;function lR(){return Tw}function ai(t){const e=Tw;return Tw=t,e}function uR(t,e,n){const r=hm(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&Ye.Optional?null:void 0!==e?e:void Iw()}const ah={},Dw="__NG_DI_FLAG__",_m="ngTempTokenPath",OK=/\n/gm,dR="__source";let Dl;function Ys(t){const e=Dl;return Dl=t,e}function RK(t,e=Ye.Default){if(void 0===Dl)throw new q(-203,!1);return null===Dl?uR(t,void 0,e):Dl.get(t,e&Ye.Optional?null:void 0,e)}function ye(t,e=Ye.Default){return(lR()||RK)(we(t),e)}function Z(t,e=Ye.Default){return ye(t,ym(e))}function ym(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Mw(t){const e=[];for(let n=0;n<t.length;n++){const r=we(t[n]);if(Array.isArray(r)){if(0===r.length)throw new q(900,!1);let i,o=Ye.Default;for(let s=0;s<r.length;s++){const a=r[s],c=FK(a);"number"==typeof c?-1===c?i=a.token:o|=c:i=a}e.push(ye(i,o))}else e.push(ye(r))}return e}function ch(t,e){return t[Dw]=e,t.prototype[Dw]=e,t}function FK(t){return t[Dw]}let fR=()=>null;function Fw(t,e,n=!1){return fR(t,e,n)}const Ol="__parameters__";function Nl(t,e,n){return os(()=>{const r=function Bw(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(c,l,u){const d=c.hasOwnProperty(Ol)?c[Ol]:Object.defineProperty(c,Ol,{value:[]})[Ol];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}const an=ch(Nl("Optional"),8),Em=ch(Nl("SkipSelf"),4);function sc(t,e){return t.hasOwnProperty(ss)?t[ss]:null}const ac=new ae(""),vR=new ae("",-1),jw=new ae("");class Im{get(e,n=ah){if(n===ah){const r=new Error(`NullInjectorError: No provider for ${zn(e)}!`);throw r.name="NullInjectorError",r}return n}}function YK(...t){return{\u0275providers:zw(0,t),\u0275fromNgModule:!0}}function zw(t,...e){const n=[],r=new Set;let i;const o=s=>{n.push(s)};return Il(e,s=>{const a=s;Dm(a,o,[],r)&&(i||=[],i.push(a))}),void 0!==i&&bR(i,o),n}function bR(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];$w(i,o=>{e(o,r)})}}function Dm(t,e,n,r){if(!(t=we(t)))return!1;let i=null,o=fm(t);const s=!o&&$e(t);if(o||s){if(s&&!s.standalone)return!1;i=t}else{const c=t.ngModule;if(o=fm(c),!o)return!1;i=c}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const l of c)Dm(l,e,n,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let l;r.add(i);try{Il(o.imports,u=>{Dm(u,e,n,r)&&(l||=[],l.push(u))})}finally{}void 0!==l&&bR(l,e)}if(!a){const l=sc(i)||(()=>new i);e({provide:i,useFactory:l,deps:ut},i),e({provide:jw,useValue:i,multi:!0},i),e({provide:ac,useValue:()=>ye(i),multi:!0},i)}const c=o.providers;if(null!=c&&!a){const l=t;$w(c,u=>{e(u,l)})}}}return i!==t&&void 0!==t.providers}function $w(t,e){for(let n of t)Ew(n)&&(n=n.\u0275providers),Array.isArray(n)?$w(n,e):e(n)}const XK=vt({provide:String,useValue:vt});function Hw(t){return null!==t&&"object"==typeof t&&XK in t}function cc(t){return"function"==typeof t}const Gw=new ae(""),Mm={},ZK={};let qw;function Sm(){return void 0===qw&&(qw=new Im),qw}class Ei{}class Rl extends Ei{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Kw(e,s=>this.processProvider(s)),this.records.set(vR,Fl(void 0,this)),i.has("environment")&&this.records.set(Ei,Fl(void 0,this));const o=this.records.get(Gw);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(jw,ut,Ye.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=Ys(this),r=ai(void 0);try{return e()}finally{Ys(n),ai(r)}}get(e,n=ah,r=Ye.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(mN))return e[mN](this);r=ym(r);const o=Ys(this),s=ai(void 0);try{if(!(r&Ye.SkipSelf)){let c=this.records.get(e);if(void 0===c){const l=function iQ(t){return"function"==typeof t||"object"==typeof t&&t instanceof ae}(e)&&hm(e);c=l&&this.injectableDefInScope(l)?Fl(Ww(e),Mm):null,this.records.set(e,c)}if(null!=c)return this.hydrate(e,c)}return(r&Ye.Self?Sm():this.parent).get(e,n=r&Ye.Optional&&n===ah?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[_m]=a[_m]||[]).unshift(zn(e)),o)throw a;return function LK(t,e,n,r){const i=t[_m];throw e[dR]&&i.unshift(e[dR]),t.message=function VK(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=zn(e);if(Array.isArray(e))i=e.map(zn).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):zn(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(OK,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[_m]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{ai(s),Ys(o)}}resolveInjectorInitializers(){const e=Ys(this),n=ai(void 0);try{const i=this.get(ac,ut,Ye.Self);for(const o of i)o()}finally{Ys(e),ai(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(zn(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new q(205,!1)}processProvider(e){let n=cc(e=we(e))?e:we(e&&e.provide);const r=function tQ(t){return Hw(t)?Fl(void 0,t.useValue):Fl(xR(t),Mm)}(e);if(!cc(e)&&!0===e.multi){let i=this.records.get(n);i||(i=Fl(void 0,Mm,!0),i.factory=()=>Mw(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===Mm&&(n.value=ZK,n.value=n.factory()),"object"==typeof n.value&&n.value&&function rQ(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=we(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function Ww(t){const e=hm(t),n=null!==e?e.factory:sc(t);if(null!==n)return n;if(t instanceof ae)throw new q(204,!1);if(t instanceof Function)return function eQ(t){if(t.length>0)throw new q(204,!1);const n=function wK(t){return t&&(t[pm]||t[oR])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new q(204,!1)}function xR(t,e,n){let r;if(cc(t)){const i=we(t);return sc(i)||Ww(i)}if(Hw(t))r=()=>we(t.useValue);else if(function CR(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...Mw(t.deps||[]));else if(function wR(t){return!(!t||!t.useExisting)}(t))r=()=>ye(we(t.useExisting));else{const i=we(t&&(t.useClass||t.provide));if(!function nQ(t){return!!t.deps}(t))return sc(i)||Ww(i);r=()=>new i(...Mw(t.deps))}return r}function Fl(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Kw(t,e){for(const n of t)Array.isArray(n)?Kw(n,e):n&&Ew(n)?Kw(n.\u0275providers,e):e(n)}function lc(t,e){t instanceof Rl&&t.assertNotDestroyed();const r=Ys(t),i=ai(void 0);try{return e()}finally{Ys(r),ai(i)}}class pQ{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function IR(t,e,n,r){null!==e?e.applyValueToInputSignal(e,r):t[n]=r}function Fi(){return TR}function TR(t){return t.type.prototype.ngOnChanges&&(t.setInput=mQ),gQ}function gQ(){const t=MR(this),e=t?.current;if(e){const n=t.previous;if(n===vo)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function mQ(t,e,n,r,i){const o=this.declaredInputs[r],s=MR(t)||function _Q(t,e){return t[DR]=e}(t,{previous:vo,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new pQ(l&&l.currentValue,n,c===vo),IR(t,e,i,n)}Fi.ngInherit=!0;const DR="__ngSimpleChanges__";function MR(t){return t[DR]||null}const xo=function(t,e,n){};function Om(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),null!=u&&(t.destroyHooks??=[]).push(n,u)}}function Pm(t,e,n){SR(t,e,3,n)}function Nm(t,e,n,r){(3&t[ge])===n&&SR(t,e,n,r)}function Xw(t,e){let n=t[ge];(3&n)===e&&(n&=16383,n+=1,t[ge]=n)}function SR(t,e,n,r){const o=r??-1,s=e.length-1;let a=0;for(let c=void 0!==r?65535&t[bl]:0;c<s;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=r&&a>=r)break}else e[c]<0&&(t[bl]+=65536),(a<o||-1==o)&&(bQ(t,n,e,c),t[bl]=(4294901760&t[bl])+c+2),c++}function AR(t,e){xo(4,t,e);const n=V(null);try{e.call(t)}finally{V(n),xo(5,t,e)}}function bQ(t,e,n,r){const i=n[r]<0,o=n[r+1],a=t[i?-n[r]:n[r]];i?t[ge]>>14<t[bl]>>16&&(3&t[ge])===e&&(t[ge]+=16384,AR(a,o)):AR(a,o)}const Vl=-1;class fh{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Zw(t){return t!==Vl}function ph(t){return 32767&t}function gh(t,e){let n=function IQ(t){return t>>16}(t),r=e;for(;n>0;)r=r[vl],n--;return r}let eC=!0;function Rm(t){const e=eC;return eC=t,e}const kR=255,OR=5;let TQ=0;const Eo={};function Fm(t,e){const n=PR(t,e);if(-1!==n)return n;const r=e[J];r.firstCreatePass&&(t.injectorIndex=e.length,tC(r.data,t),tC(e,null),tC(r.blueprint,null));const i=Lm(t,e),o=t.injectorIndex;if(Zw(i)){const s=ph(i),a=gh(i,e),c=a[J].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function tC(t,e){t.push(0,0,0,0,0,0,0,0,e)}function PR(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Lm(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=BR(i),null===r)return Vl;if(n++,i=i[vl],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Vl}function nC(t,e,n){!function DQ(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Yd)&&(r=n[Yd]),null==r&&(r=n[Yd]=TQ++);const i=r&kR;e.data[t+(i>>OR)]|=1<<i}(t,e,n)}function NR(t,e,n){if(n&Ye.Optional||void 0!==t)return t;Iw()}function RR(t,e,n,r){if(n&Ye.Optional&&void 0===r&&(r=null),!(n&(Ye.Self|Ye.Host))){const i=t[pr],o=ai(void 0);try{return i?i.get(e,r,n&Ye.Optional):uR(e,r,n&Ye.Optional)}finally{ai(o)}}return NR(r,0,n)}function FR(t,e,n,r=Ye.Default,i){if(null!==t){if(2048&e[ge]&&!(r&Ye.Self)){const s=function OQ(t,e,n,r,i){let o=t,s=e;for(;null!==o&&null!==s&&2048&s[ge]&&!(512&s[ge]);){const a=LR(o,s,n,r|Ye.Self,Eo);if(a!==Eo)return a;let c=o.parent;if(!c){const l=s[SN];if(l){const u=l.get(n,Eo,r);if(u!==Eo)return u}c=BR(s),s=s[vl]}o=c}return i}(t,e,n,r,Eo);if(s!==Eo)return s}const o=LR(t,e,n,r,Eo);if(o!==Eo)return o}return RR(e,n,r,i)}function LR(t,e,n,r,i){const o=function AQ(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Yd)?t[Yd]:void 0;return"number"==typeof e?e>=0?e&kR:kQ:e}(n);if("function"==typeof o){if(!HN(e,t,r))return r&Ye.Host?NR(i,0,r):RR(e,n,r,i);try{let s;if(s=o(r),null!=s||r&Ye.Optional)return s;Iw()}finally{KN()}}else if("number"==typeof o){let s=null,a=PR(t,e),c=Vl,l=r&Ye.Host?e[sn][Mr]:null;for((-1===a||r&Ye.SkipSelf)&&(c=-1===a?Lm(t,e):e[a+8],c!==Vl&&UR(r,!1)?(s=e[J],a=ph(c),e=gh(c,e)):a=-1);-1!==a;){const u=e[J];if(VR(o,a,u.data)){const d=SQ(a,e,n,s,r,l);if(d!==Eo)return d}c=e[a+8],c!==Vl&&UR(r,e[J].data[a+8]===l)&&VR(o,a,e)?(s=u,a=ph(c),e=gh(c,e)):a=-1}}return i}function SQ(t,e,n,r,i,o){const s=e[J],a=s.data[t+8],u=Vm(a,s,n,null==r?rc(a)&&eC:r!=s&&0!=(3&a.type),i&Ye.Host&&o===a);return null!==u?uc(e,s,u,a):Eo}function Vm(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,c=t.directiveStart,u=o>>20,h=i?a+u:t.directiveEnd;for(let f=r?a:a+u;f<h;f++){const b=s[f];if(f<c&&n===b||f>=c&&b.type===n)return f}if(i){const f=s[c];if(f&&eo(f)&&f.type===n)return c}return null}function uc(t,e,n,r){let i=t[n];const o=e.data;if(function wQ(t){return t instanceof fh}(i)){const s=i;s.resolving&&function SK(t,e){throw e&&e.join(" > "),new q(-200,t)}(function ft(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Ae(t)}(o[n]));const a=Rm(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?ai(s.injectImpl):null;HN(t,r,Ye.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function vQ(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const s=TR(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}(n,o[n],e)}finally{null!==l&&ai(l),Rm(a),s.resolving=!1,KN()}}return i}function VR(t,e,n){return!!(n[e+(t>>OR)]&1<<t)}function UR(t,e){return!(t&Ye.Self||t&Ye.Host&&e)}class Gn{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return FR(this._tNode,this._lView,e,ym(r),n)}}function kQ(){return new Gn(bt(),$())}function er(t){return os(()=>{const e=t.prototype.constructor,n=e[ss]||rC(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const o=i[ss]||rC(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function rC(t){return mm(t)?()=>{const e=rC(we(t));return e&&e()}:sc(t)}function BR(t){const e=t[J],n=e.type;return 2===n?e.declTNode:1===n?t[Mr]:null}function GR(t,e=null,n=null,r){const i=qR(t,e,n,r);return i.resolveInjectorInitializers(),i}function qR(t,e=null,n=null,r,i=new Set){const o=[n||ut,YK(t)];return r=r||("object"==typeof t?void 0:zn(t)),new Rl(o,e||Sm(),r||null,i)}let wn=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=ah;static#t=this.NULL=new Im;static create(n,r){if(Array.isArray(n))return GR({name:""},r,n,"");{const i=n.name??"";return GR({name:i},n.parent,n.providers,i)}}static#n=this.\u0275prov=he({token:t,providedIn:"any",factory:()=>ye(vR)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function oC(t){return t.ngOriginalError}class ds{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&oC(e);for(;n&&oC(n);)n=oC(n);return n||null}}const KR=new ae("",{providedIn:"root",factory:()=>Z(ds).handleError.bind(void 0)}),YR=new ae("",{providedIn:"root",factory:()=>!1});class e2{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${hN})`}}function Xs(t){return t instanceof e2?t.changingThisBreaksApplicationSecurity:t}const XQ=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var zl=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(zl||{});function hC(t){const e=function yh(){const t=$();return t&&t[as].sanitizer}();return e?e.sanitize(zl.URL,t)||"":function mh(t,e){const n=function WQ(t){return t instanceof e2&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${hN})`)}return n===e}(t,"URL")?Xs(t):function cC(t){return(t=String(t)).match(XQ)?t:"unsafe:"+t}(Ae(t))}const fC=new Map;let _Y=0;const gC="__ngContext__";function Or(t,e){Sr(e)?(t[gC]=e[eh],function vY(t){fC.set(t[eh],t)}(e)):t[gC]=e}function Ii(t){return t instanceof Function?t():t}var Zs=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Zs||{});let vC;function bC(t,e){return vC(t,e)}function Hl(t,e,n,r,i){if(null!=r){let o,s=!1;Ar(r)?o=r:Sr(r)&&(s=!0,r=r[Zt]);const a=Et(r);0===t&&null!==n?null==i?D2(e,n,a):dc(e,n,a,i||null,!0):1===t&&null!==n?dc(e,n,a,i||null,!0):2===t?function Jm(t,e,n){const r=Ym(t,e);r&&function jY(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function HY(t,e,n,r,i){const o=n[bo];o!==Et(n)&&Hl(e,t,r,o,i);for(let a=bn;a<n.length;a++){const c=n[a];Zm(c[J],c,t,e,r,o)}}(e,t,o,n,i)}}function Km(t,e,n){return t.createElement(e,n)}function E2(t,e){Zm(t,e,e[De],2,null,null)}function I2(t,e){const n=t[wl],r=n.indexOf(e);n.splice(r,1)}function bh(t,e){if(t.length<=bn)return;const n=bn+e,r=t[n];if(r){const i=r[Zd];null!==i&&i!==t&&I2(i,r),e>0&&(t[n-1][Ji]=r[Ji]);const o=cm(t,bn+e);!function NY(t,e){E2(t,e),e[Zt]=null,e[Mr]=null}(r[J],r);const s=o[cs];null!==s&&s.detachView(o[J]),r[vn]=null,r[Ji]=null,r[ge]&=-129}return r}function Qm(t,e){if(!(256&e[ge])){const n=e[De];n.destroyNode&&Zm(t,e,n,3,null,null),function FY(t){let e=t[Jd];if(!e)return CC(t[J],t);for(;e;){let n=null;if(Sr(e))n=e[Jd];else{const r=e[bn];r&&(n=r)}if(!n){for(;e&&!e[Ji]&&e!==t;)Sr(e)&&CC(e[J],e),e=e[vn];null===e&&(e=t),Sr(e)&&CC(e[J],e),n=e&&e[Ji]}e=n}}(e)}}function CC(t,e){if(!(256&e[ge])){e[ge]&=-129,e[ge]|=256,e[nc]&&function Qi(t){if(Ue(t),is(t))for(let e=0;e<t.producerNode.length;e++)Ja(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}(e[nc]),function BY(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof fh)){const o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],c=o[s+1];xo(4,a,c);try{c.call(a)}finally{xo(5,a,c)}}else{xo(4,i,o);try{o.call(i)}finally{xo(5,i,o)}}}}}(t,e),function UY(t,e){const n=t.cleanup,r=e[yl];if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else n[o].call(r[n[o+1]]);null!==r&&(e[yl]=null);const i=e[Ws];if(null!==i){e[Ws]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(t,e),1===e[J].type&&e[De].destroy();const n=e[Zd];if(null!==n&&Ar(e[vn])){n!==e[vn]&&I2(n,e);const r=e[cs];null!==r&&r.detachView(t)}!function bY(t){fC.delete(t[eh])}(e)}}function xC(t,e,n){return function T2(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[Zt];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=t.data[r.directiveStart+i];if(o===Yi.None||o===Yi.Emulated)return null}return $r(r,n)}}(t,e.parent,n)}function dc(t,e,n,r,i){t.insertBefore(e,n,r,i)}function D2(t,e,n){t.appendChild(e,n)}function M2(t,e,n,r,i){null!==r?dc(t,e,n,r,i):D2(t,e,n)}function Ym(t,e){return t.parentNode(e)}let EC,k2=function A2(t,e,n){return 40&t.type?$r(t,n):null};function Xm(t,e,n,r){const i=xC(t,r,e),o=e[De],a=function S2(t,e,n){return k2(t,e,n)}(r.parent||e[Mr],r,e);if(null!=i)if(Array.isArray(n))for(let c=0;c<n.length;c++)M2(o,i,n[c],a,!1);else M2(o,i,n,a,!1);void 0!==EC&&EC(o,r,e,n,i)}function wh(t,e){if(null!==e){const n=e.type;if(3&n)return $r(e,t);if(4&n)return IC(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return wh(t,r);{const i=t[e.index];return Ar(i)?IC(-1,i):Et(i)}}if(32&n)return bC(e,t)()||Et(t[e.index]);{const r=P2(t,e);return null!==r?Array.isArray(r)?r[0]:wh(ic(t[sn]),r):wh(t,e.next)}}return null}function P2(t,e){return null!==e?t[sn][Mr].projection[e.projection]:null}function IC(t,e){const n=bn+t+1;if(n<e.length){const r=e[n],i=r[J].firstChild;if(null!==i)return wh(r,i)}return e[bo]}function TC(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],c=n.type;if(s&&0===e&&(a&&Or(Et(a),r),n.flags|=2),32!=(32&n.flags))if(8&c)TC(t,e,n.child,r,i,o,!1),Hl(e,t,i,a,o);else if(32&c){const l=bC(n,r);let u;for(;u=l();)Hl(e,t,i,u,o);Hl(e,t,i,a,o)}else 16&c?R2(t,e,r,n,i,o):Hl(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Zm(t,e,n,r,i,o){TC(n,r,t.firstChild,e,i,o,!1)}function R2(t,e,n,r,i,o){const s=n[sn],c=s[Mr].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)Hl(e,t,i,c[l],o);else{let l=c;const u=s[vn];um(r)&&(l.flags|=128),TC(t,e,l,u,i,o,!0)}}function F2(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function L2(t,e,n){const{mergedAttrs:r,classes:i,styles:o}=n;null!==r&&Qb(t,e,r),null!==i&&F2(t,e,i),null!==o&&function qY(t,e,n){t.setAttribute(e,"style",n)}(t,e,o)}const Pe={};function B(t=1){V2(Xe(),$(),kr()+t,!1)}function V2(t,e,n,r){if(!r)if(3==(3&e[ge])){const o=t.preOrderCheckHooks;null!==o&&Pm(e,o,n)}else{const o=t.preOrderHooks;null!==o&&Nm(e,o,0,n)}oc(n)}function I(t,e=Ye.Default){const n=$();return null===n?ye(t,e):FR(bt(),n,we(t),e)}function B2(t,e,n,r,i,o){const s=V(null);try{let a=null;i&Ht.SignalBased&&(a=e[r][O]),null!==a&&void 0!==a.transformFn&&(o=a.transformFn(o)),i&Ht.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),null!==t.setInput?t.setInput(e,a,o,n,r):IR(e,a,r,o)}finally{V(s)}}function e_(t,e,n,r,i,o,s,a,c,l,u){const d=e.blueprint.slice();return d[Zt]=i,d[ge]=204|r,(null!==l||t&&2048&t[ge])&&(d[ge]|=2048),FN(d),d[vn]=d[vl]=t,d[Pt]=n,d[as]=s||t&&t[as],d[De]=a||t&&t[De],d[pr]=c||t&&t[pr]||null,d[Mr]=o,d[eh]=function yY(){return _Y++}(),d[Zi]=u,d[SN]=l,d[sn]=2==e.type?t[sn]:d,d}function Gl(t,e,n,r,i){let o=t.data[e];if(null===o)o=function DC(t,e,n,r,i){const o=BN(),s=aw(),c=t.data[e]=function eX(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return function xl(){return null!==Ee.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=c),null!==o&&(s?null==o.child&&null!==c.parent&&(o.child=c):null===o.next&&(o.next=c,c.prev=o)),c}(t,e,n,r,i),function cK(){return Ee.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const s=function oh(){const t=Ee.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Co(o,!0),o}function Ch(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function j2(t,e,n,r,i){const o=kr(),s=2&r;try{oc(-1),s&&e.length>Se&&V2(t,e,Se,!1),xo(s?2:0,i),n(r,i)}finally{oc(o),xo(s?3:1,i)}}function MC(t,e,n){if(Jb(e)){const r=V(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=t.data[s];a.contentQueries&&a.contentQueries(1,n[s],s)}}finally{V(r)}}}function SC(t,e,n){UN()&&(function aX(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;rc(n)&&function pX(t,e,n){const r=$r(e,t),i=z2(n);let s=16;n.signals?s=4096:n.onPush&&(s=64);const a=t_(t,e_(t,i,null,s,r,e,null,t[as].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Fm(n,e),Or(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const c=t.data[a],l=uc(e,t,a,n);Or(l,e),null!==s&&gX(0,a-i,l,c,0,s),eo(c)&&(Ci(n.index,e)[Pt]=uc(e,t,a,n))}}(t,e,n,$r(n,e)),64==(64&n.flags)&&W2(t,e,n))}function AC(t,e,n=$r){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function z2(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=kC(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function kC(t,e,n,r,i,o,s,a,c,l,u){const d=Se+r,h=d+i,f=function KY(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Pe);return n}(d,h),b="function"==typeof l?l():l;return f[J]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:b,incompleteFirstPass:!1,ssrId:u}}let $2=()=>null;function H2(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;const s=e[o];if(void 0===s)continue;r??={};let a,c=Ht.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let l=o;if(null!==i){if(!i.hasOwnProperty(o))continue;l=i[o]}0===t?G2(r,n,l,a,c):G2(r,n,l,a)}return r}function G2(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],void 0!==i&&o.push(i)}function li(t,e,n,r,i,o,s,a){const c=$r(e,n);let u,l=e.inputs;!a&&null!=l&&(u=l[r])?(FC(t,n,u,r,i),rc(e)&&function rX(t,e){const n=Ci(e,t);16&n[ge]||(n[ge]|=64)}(n,e.index)):3&e.type&&(r=function nX(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.value||"",r):i,o.setProperty(c,r,i))}function OC(t,e,n,r){if(UN()){const i=null===r?null:{"":-1},o=function lX(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let o=0;o<n.length;o++){const s=n[o];if(xN(e,s.selectors,!1))if(r||(r=[]),eo(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),PC(t,e,a.length)}else r.unshift(s),PC(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(t,n);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&q2(t,e,n,s,i,a),i&&function uX(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const o=n[e[i+1]];if(null==o)throw new q(-301,!1);r.push(e[i],o)}}}(n,r,i)}n.mergedAttrs=Xd(n.mergedAttrs,n.attrs)}function q2(t,e,n,r,i,o){for(let l=0;l<r.length;l++)nC(Fm(n,e),t,r[l].type);!function hX(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let l=0;l<r.length;l++){const u=r[l];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,c=Ch(t,e,r.length,null);for(let l=0;l<r.length;l++){const u=r[l];n.mergedAttrs=Xd(n.mergedAttrs,u.hostAttrs),fX(t,n,e,c,u),dX(c,u,i),null!==u.contentQueries&&(n.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(n.flags|=64);const d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}!function tX(t,e,n){const i=e.directiveEnd,o=t.data,s=e.attrs,a=[];let c=null,l=null;for(let u=e.directiveStart;u<i;u++){const d=o[u],h=n?n.get(d):null,b=h?h.outputs:null;c=H2(0,d.inputs,u,c,h?h.inputs:null),l=H2(1,d.outputs,u,l,b);const x=null===c||null===s||CN(e)?null:mX(c,u,s);a.push(x)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}(t,n,o)}function W2(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=function uK(){return Ee.lFrame.currentDirectiveIndex}();try{oc(o);for(let a=r;a<i;a++){const c=t.data[a],l=e[a];lw(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&cX(c,l)}}finally{oc(-1),lw(s)}}function cX(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function PC(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function dX(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;eo(e)&&(n[""]=t)}}function fX(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=sc(i.type)),s=new fh(o,eo(i),I);t.blueprint[r]=s,n[r]=s,function oX(t,e,n,r,i){const o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);const a=~e.index;(function sX(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(s)!=a&&s.push(a),s.push(n,r,o)}}(t,e,r,Ch(t,n,i.hostVars,Pe),i)}function Io(t,e,n,r,i,o){const s=$r(t,e);!function NC(t,e,n,r,i,o,s){if(null==o)t.removeAttribute(e,i,n);else{const a=null==s?Ae(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}(e[De],s,o,t.value,n,r,i)}function gX(t,e,n,r,i,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;)B2(r,n,s[a++],s[a++],s[a++],s[a++])}function mX(t,e,n){let r=null,i=0;for(;i<n.length;){const o=n[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(t.hasOwnProperty(o)){null===r&&(r=[]);const s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function K2(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function Q2(t,e){const n=t.contentQueries;if(null!==n){const r=V(null);try{for(let i=0;i<n.length;i+=2){const s=n[i+1];if(-1!==s){const a=t.data[s];sm(n[i]),a.contentQueries(2,e[s],s)}}}finally{V(r)}}}function t_(t,e){return t[Jd]?t[MN][Ji]=e:t[Jd]=e,t[MN]=e,e}function RC(t,e,n){sm(0);const r=V(null);try{e(t,n)}finally{V(r)}}function Y2(t){return t[yl]||(t[yl]=[])}function X2(t){return t.cleanup||(t.cleanup=[])}function n_(t,e){const n=t[pr],r=n?n.get(ds,null):null;r&&r.handleError(e)}function FC(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],c=n[o++];B2(t.data[s],e[s],r,a,c,i)}}function _X(t,e){const n=Ci(e,t),r=n[J];!function yX(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[Zt];null!==i&&null===n[Zi]&&(n[Zi]=Fw(i,n[pr])),LC(r,n,n[Pt])}function LC(t,e,n){hw(e);try{const r=t.viewQuery;null!==r&&RC(1,r,n);const i=t.template;null!==i&&j2(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[cs]?.finishViewCreation(t),t.staticContentQueries&&Q2(t,e),t.staticViewQueries&&RC(2,t.viewQuery,n);const o=t.components;null!==o&&function vX(t,e){for(let n=0;n<e.length;n++)_X(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[ge]&=-5,fw()}}function ql(t,e){return!e||null===e.firstChild||um(t)}function Eh(t,e,n,r=!0){const i=e[J];if(function LY(t,e,n,r){const i=bn+r,o=n.length;r>0&&(n[i-1][Ji]=e),r<o-bn?(e[Ji]=n[i],ZN(n,bn+r,e)):(n.push(e),e[Ji]=null),e[vn]=n;const s=e[Zd];null!==s&&n!==s&&function VY(t,e){const n=t[wl];e[sn]!==e[vn][vn][sn]&&(t[ge]|=Xb.HasTransplantedViews),null===n?t[wl]=[e]:n.push(e)}(s,e);const a=e[cs];null!==a&&a.insertView(t),ow(e),e[ge]|=128}(i,e,t,n),r){const s=IC(n,t),a=e[De],c=Ym(a,t[bo]);null!==c&&function RY(t,e,n,r,i,o){r[Zt]=i,r[Mr]=e,Zm(t,r,n,1,i,o)}(i,t[Mr],a,e,c,s)}const o=e[Zi];null!==o&&null!==o.firstChild&&(o.firstChild=null)}function Ih(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];null!==o&&r.push(Et(o)),Ar(o)&&eF(o,r);const s=n.type;if(8&s)Ih(t,e,n.child,r);else if(32&s){const a=bC(n,e);let c;for(;c=a();)r.push(c)}else if(16&s){const a=P2(e,n);if(Array.isArray(a))r.push(...a);else{const c=ic(e[sn]);Ih(c[J],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function eF(t,e){for(let n=bn;n<t.length;n++){const r=t[n],i=r[J].firstChild;null!==i&&Ih(r[J],r,i,e)}t[bo]!==t[Zt]&&e.push(t[bo])}let tF=[];const xX={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{ih(t.lView)},consumerOnSignalRead(){this.lView[nc]=this}};function nF(t){return iF(t[Jd])}function rF(t){return iF(t[Ji])}function iF(t){for(;null!==t&&!Ar(t);)t=t[Ji];return t}function r_(t,e=!0,n=0){const r=t[as],i=r.rendererFactory;i.begin?.();try{!function TX(t,e){UC(t,e);let n=0;for(;iw(t);){if(100===n)throw new q(103,!1);n++,UC(t,1)}}(t,n)}catch(s){throw e&&n_(t,s),s}finally{i.end?.(),r.inlineEffectRunner?.flush()}}function DX(t,e,n,r){const i=e[ge];if(256==(256&i))return;e[as].inlineEffectRunner?.flush(),hw(e);let s=null,a=null;(function MX(t){return 2!==t.type})(t)&&(a=function bX(t){return t[nc]??function wX(t){const e=tF.pop()??Object.create(xX);return e.lView=t,e}(t)}(e),s=function le(t){return t&&(t.nextProducerIndex=0),V(t)}(a));try{FN(e),function zN(t){return Ee.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&j2(t,e,n,2,r);const c=3==(3&i);if(c){const d=t.preOrderCheckHooks;null!==d&&Pm(e,d,null)}else{const d=t.preOrderHooks;null!==d&&Nm(e,d,0,null),Xw(e,0)}if(function SX(t){for(let e=nF(t);null!==e;e=rF(e)){if(!(e[ge]&Xb.HasTransplantedViews))continue;const n=e[wl];for(let r=0;r<n.length;r++){JW(n[r])}}}(e),sF(e,0),null!==t.contentQueries&&Q2(t,e),c){const d=t.contentCheckHooks;null!==d&&Pm(e,d)}else{const d=t.contentHooks;null!==d&&Nm(e,d,1),Xw(e,1)}!function WY(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)oc(~i);else{const o=i,s=n[++r],a=n[++r];lK(s,o),a(2,e[o])}}}finally{oc(-1)}}(t,e);const l=t.components;null!==l&&cF(e,l,0);const u=t.viewQuery;if(null!==u&&RC(2,u,r),c){const d=t.viewCheckHooks;null!==d&&Pm(e,d)}else{const d=t.viewHooks;null!==d&&Nm(e,d,2),Xw(e,2)}if(!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[nm]){for(const d of e[nm])d();e[nm]=null}e[ge]&=-73}catch(c){throw ih(e),c}finally{null!==a&&(function kt(t,e){if(V(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(is(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Ja(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}(a,s),function CX(t){t.lView[nc]!==t&&(t.lView=null,tF.push(t))}(a)),fw()}}function sF(t,e){for(let n=nF(t);null!==n;n=rF(n))for(let r=bn;r<n.length;r++)aF(n[r],e)}function AX(t,e,n){aF(Ci(e,t),n)}function aF(t,e){rw(t)&&UC(t,e)}function UC(t,e){const r=t[J],i=t[ge],o=t[nc];let s=!!(0===e&&16&i);if(s||=!!(64&i&&0===e),s||=!!(1024&i),s||=!(!o?.dirty||!jr(o)),o&&(o.dirty=!1),t[ge]&=-9217,s)DX(r,t,r.template,t[Pt]);else if(8192&i){sF(t,1);const a=r.components;null!==a&&cF(t,a,1)}}function cF(t,e,n){for(let r=0;r<e.length;r++)AX(t,e[r],n)}function Th(t){for(t[as].changeDetectionScheduler?.notify();t;){t[ge]|=64;const e=ic(t);if(Zb(t)&&!e)return t;t=e}return null}class Dh{get rootNodes(){const e=this._lView,n=e[J];return Ih(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Pt]}set context(e){this._lView[Pt]=e}get destroyed(){return 256==(256&this._lView[ge])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[vn];if(Ar(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(bh(e,r),cm(n,r))}this._attachedToViewContainer=!1}Qm(this._lView[J],this._lView)}onDestroy(e){om(this._lView,e)}markForCheck(){Th(this._cdRefInjectingView||this._lView)}detach(){this._lView[ge]&=-129}reattach(){ow(this._lView),this._lView[ge]|=128}detectChanges(){this._lView[ge]|=1024,r_(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new q(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,E2(this._lView[J],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new q(902,!1);this._appRef=e,ow(this._lView)}}let ps=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=PX}return t})();const kX=ps,OX=class extends kX{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function xh(t,e,n,r){const i=e.tView,a=e_(t,i,n,4096&t[ge]?4096:16,null,e,null,null,null,r?.injector??null,r?.dehydratedView??null);a[Zd]=t[e.index];const l=t[cs];return null!==l&&(a[cs]=l.createEmbeddedView(i)),LC(i,a,n),a}(this._declarationLView,this._declarationTContainer,e,{injector:n,dehydratedView:r});return new Dh(i)}};function PX(){return i_(bt(),$())}function i_(t,e){return 4&t.type?new OX(e,t,El(t,e)):null}class gF{}class tJ{}class mF{}class rJ{resolveComponentFactory(e){throw function nJ(t){const e=Error(`No component factory found for ${zn(t)}.`);return e.ngComponent=t,e}(e)}}let l_=(()=>{class t{static#e=this.NULL=new rJ}return t})();class yF{}let ro=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function iJ(){const t=$(),n=Ci(bt().index,t);return(Sr(n)?n:t)[De]}()}return t})(),oJ=(()=>{class t{static#e=this.\u0275prov=he({token:t,providedIn:"root",factory:()=>null})}return t})();const GC={};const bF=new Set;function To(t){bF.has(t)||(bF.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function wF(t){return function vF(t){return"function"==typeof t&&void 0!==t[O]}(t)&&"function"==typeof t.set}function u_(t){return!!function qC(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}class xF{constructor(){}supports(e){return u_(e)}create(e){return new dJ(e)}}const uJ=(t,e)=>e;class dJ{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||uJ}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){const s=!r||n&&n.currentIndex<IF(r,i,o)?n:r,a=IF(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,null==s.previousIndex)i++;else{o||(o=[]);const l=a-i,u=c-i;if(l!=u){for(let h=0;h<l;h++){const f=h<o.length?o[h]:o[h]=0,b=f+h;u<=b&&b<l&&(o[h]=f+1)}o[s.previousIndex]=u-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!u_(e))throw new q(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,s,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)):(n=this._mismatch(n,o,s,a),r=!0),n=n._next}else i=0,function lJ(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,s,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new hJ(n,r),o,i),e}_verifyReinsertion(e,n,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new EF),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new EF),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class hJ{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class fJ{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class EF{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new fJ,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function IF(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function DF(){return new WC([new xF])}let WC=(()=>{class t{static#e=this.\u0275prov=he({token:t,providedIn:"root",factory:DF});constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||DF()),deps:[[t,new Em,new an]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new q(901,!1)}}return t})(),Oh=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=_J}return t})();function _J(t){return function yJ(t,e,n){if(rc(t)&&!n){const r=Ci(t.index,e);return new Dh(r,r)}return 47&t.type?new Dh(e[sn],e):null}(bt(),$(),16==(16&t))}let h_=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=CJ;static#t=this.__NG_ENV_ID__=n=>n}return t})();class wJ extends h_{constructor(e){super(),this._lView=e}onDestroy(e){return om(this._lView,e),()=>function sw(t,e){if(null===t[Ws])return;const n=t[Ws].indexOf(e);-1!==n&&t[Ws].splice(n,1)}(this._lView,e)}}function CJ(){return new wJ($())}function SF(...t){}class Je{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new qe(!1),this.onMicrotaskEmpty=new qe(!1),this.onStable=new qe(!1),this.onError=new qe(!1),typeof Zone>"u")throw new q(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function MJ(){const t="function"==typeof _t.requestAnimationFrame;let e=_t[t?"requestAnimationFrame":"setTimeout"],n=_t[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function kJ(t){const e=()=>{!function AJ(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(_t,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,QC(t),t.isCheckStableRunning=!0,KC(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),QC(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(function OJ(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,o,s,a);try{return AF(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),kF(t)}},onInvoke:(n,r,i,o,s,a,c)=>{try{return AF(t),n.invoke(i,o,s,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),kF(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&("microTask"==o.change?(t._hasPendingMicrotasks=o.microTask,QC(t),KC(t)):"macroTask"==o.change&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Je.isInAngularZone())throw new q(909,!1)}static assertNotInAngularZone(){if(Je.isInAngularZone())throw new q(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,SJ,SF,SF);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const SJ={};function KC(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function QC(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function AF(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function kF(t){t._nesting--,KC(t)}class OF{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new qe,this.onMicrotaskEmpty=new qe,this.onStable=new qe,this.onError=new qe}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}var hc=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(hc||{});const PF={destroy(){}};function NF(t,e){!e&&function Am(t){if(!lR()&&!function NK(){return Dl}())throw new q(-203,!1)}();const n=e?.injector??Z(wn);if(!function Js(t){return"browser"===(t??Z(wn)).get(no)}(n))return PF;To("NgAfterNextRender");const r=n.get(Ph),i=r.handler??=new FF,o=e?.phase??hc.MixedReadWrite,s=()=>{i.unregister(c),a()},a=n.get(h_).onDestroy(s),c=new RF(n,o,()=>{s(),t()});return i.register(c),{destroy:s}}class RF{constructor(e,n,r){this.phase=n,this.callbackFn=r,this.zone=e.get(Je),this.errorHandler=e.get(ds,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}}class FF{constructor(){this.executingCallbacks=!1,this.buckets={[hc.EarlyRead]:new Set,[hc.Write]:new Set,[hc.MixedReadWrite]:new Set,[hc.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(const e of Object.values(this.buckets))for(const n of e)n.invoke();this.executingCallbacks=!1;for(const e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(const e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}}let Ph=(()=>{class t{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const n=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const r of n)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=he({token:t,providedIn:"root",factory:()=>new t})}return t})();function p_(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=qb(i,a):2==o&&(r=qb(r,a+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}class UF extends l_{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=$e(e);return new Fh(n,this.ngModule)}}function BF(t){const e=[];for(const n in t){if(!t.hasOwnProperty(n))continue;const r=t[n];void 0!==r&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}class VJ{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=ym(r);const i=this.injector.get(e,GC,r);return i!==GC||n===GC?i:this.parentInjector.get(e,n,r)}}class Fh extends mF{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=BF(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return BF(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function UW(t){return t.map(VW).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=(i=i||this.ngModule)instanceof Ei?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new VJ(e,o):e,a=s.get(yF,null);if(null===a)throw new q(407,!1);const d={rendererFactory:a,sanitizer:s.get(oJ,null),inlineEffectRunner:null,afterRenderEventManager:s.get(Ph,null),changeDetectionScheduler:s.get(gF,null)},h=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",b=r?function QY(t,e,n,r){const o=r.get(YR,!1)||n===Yi.ShadowDom,s=t.selectRootElement(e,o);return function YY(t){$2(t)}(s),s}(h,r,this.componentDef.encapsulation,s):Km(h,f,function LJ(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(f));let x=512;this.componentDef.signals?x|=4096:this.componentDef.onPush||(x|=16);let T=null;null!==b&&(T=Fw(b,s,!0));const P=kC(0,null,null,1,0,null,null,null,null,null,null),k=e_(null,P,null,x,null,null,d,h,s,null,T);let H,X;hw(k);try{const ce=this.componentDef;let me,Dt=null;ce.findHostDirectiveDefs?(me=[],Dt=new Map,ce.findHostDirectiveDefs(ce,me,Dt),me.push(ce)):me=[ce];const Bn=function BJ(t,e){const n=t[J],r=Se;return t[r]=e,Gl(n,r,2,"#host",null)}(k,b),Ki=function jJ(t,e,n,r,i,o,s){const a=i[J];!function zJ(t,e,n,r){for(const i of t)e.mergedAttrs=Xd(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(p_(e,e.mergedAttrs,!0),null!==n&&L2(r,n,e))}(r,t,e,s);let c=null;null!==e&&(c=Fw(e,i[pr]));const l=o.rendererFactory.createRenderer(e,n);let u=16;n.signals?u=4096:n.onPush&&(u=64);const d=e_(i,z2(n),null,u,i[t.index],t,o,l,null,null,c);return a.firstCreatePass&&PC(a,t,r.length-1),t_(i,d),i[t.index]=d}(Bn,b,ce,me,k,d,h);X=rh(P,Se),b&&function HJ(t,e,n,r){if(r)Qb(t,n,["ng-version","17.2.3"]);else{const{attrs:i,classes:o}=function BW(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!Xi(i))break;i=o}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&Qb(t,n,i),o&&o.length>0&&F2(t,n,o.join(" "))}}(h,ce,b,r),void 0!==n&&function GJ(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const o=n[i];r.push(null!=o?Array.from(o):null)}}(X,this.ngContentSelectors,n),H=function $J(t,e,n,r,i,o){const s=bt(),a=i[J],c=$r(s,i);q2(a,i,s,n,null,r);for(let u=0;u<n.length;u++)Or(uc(i,a,s.directiveStart+u,s),i);W2(a,i,s),c&&Or(c,i);const l=uc(i,a,s.directiveStart+s.componentOffset,s);if(t[Pt]=i[Pt]=l,null!==o)for(const u of o)u(l,e);return MC(a,s,i),l}(Ki,ce,me,Dt,k,[qJ]),LC(P,k,null)}finally{fw()}return new UJ(this.componentType,H,El(X,k),k,X)}}class UJ extends tJ{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Dh(i,void 0,!1),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const o=this._rootLView;FC(o[J],o,i,e,n),this.previousInputValues.set(e,n),Th(Ci(this._tNode.index,o))}}get injector(){return new Gn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function qJ(){const t=bt();Om($()[J],t)}let io=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=WJ}return t})();function WJ(){return $F(bt(),$())}const KJ=io,jF=class extends KJ{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return El(this._hostTNode,this._hostLView)}get injector(){return new Gn(this._hostTNode,this._hostLView)}get parentInjector(){const e=Lm(this._hostTNode,this._hostLView);if(Zw(e)){const n=gh(e,this._hostLView),r=ph(e);return new Gn(n[J].data[r+8],n)}return new Gn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=zF(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-bn}createEmbeddedView(e,n,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const a=e.createEmbeddedViewImpl(n||{},o,null);return this.insertImpl(a,i,ql(this._hostTNode,null)),a}createComponent(e,n,r,i,o){const s=e&&!function hh(t){return"function"==typeof t}(e);let a;if(s)a=n;else{const b=n||{};a=b.index,r=b.injector,i=b.projectableNodes,o=b.environmentInjector||b.ngModuleRef}const c=s?e:new Fh($e(e)),l=r||this.parentInjector;if(!o&&null==c.ngModule){const x=(s?l:this.parentInjector).get(Ei,null);x&&(o=x)}$e(c.componentType??{});const f=c.create(l,i,null,o);return this.insertImpl(f.hostView,a,ql(this._hostTNode,null)),f}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){const i=e._lView;if(function XW(t){return Ar(t[vn])}(i)){const a=this.indexOf(e);if(-1!==a)this.detach(a);else{const c=i[vn],l=new jF(c,c[Mr],c[vn]);l.detach(l.indexOf(e))}}const o=this._adjustIndex(n),s=this._lContainer;return Eh(s,i,o,r),e.attachToViewContainerRef(),ZN(ZC(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=zF(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=bh(this._lContainer,n);r&&(cm(ZC(this._lContainer),n),Qm(r[J],r))}detach(e){const n=this._adjustIndex(e,-1),r=bh(this._lContainer,n);return r&&null!=cm(ZC(this._lContainer),n)?new Dh(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function zF(t){return t[8]}function ZC(t){return t[8]||(t[8]=[])}function $F(t,e){let n;const r=e[t.index];return Ar(r)?n=r:(n=K2(r,e,null,t),e[t.index]=n,t_(e,n)),HF(n,e,t,r),new jF(n,t,e)}let HF=function qF(t,e,n,r){if(t[bo])return;let i;i=8&n.type?Et(r):function QJ(t,e){const n=t[De],r=n.createComment(""),i=$r(e,t);return dc(n,Ym(n,i),r,function zY(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[bo]=i},e1=()=>!1;class t1{constructor(e){this.queryList=e,this.matches=null}clone(){return new t1(this.queryList)}setDirty(){this.queryList.setDirty()}}class n1{constructor(e=[]){this.queries=e}createEmbeddedView(e){const n=e.queries;if(null!==n){const r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){const s=n.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new n1(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)null!==a1(e,n).matches&&this.queries[n].setDirty()}}class WF{constructor(e,n,r=null){this.flags=n,this.read=r,this.predicate="string"==typeof e?function rZ(t){return t.split(",").map(e=>e.trim())}(e):e}}class r1{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new r1(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class i1{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new i1(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(e,n,ZJ(n,o)),this.matchTNodeWithReadOption(e,n,Vm(n,e,o,!1,!1))}else r===ps?4&n.type&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Vm(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===oi||i===io||i===ps&&4&n.type)this.addMatch(n.index,-2);else{const o=Vm(n,e,i,!1,!1);null!==o&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){null===this.matches?this.matches=[e,n]:this.matches.push(e,n)}}function ZJ(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function tZ(t,e,n,r){return-1===n?function eZ(t,e){return 11&t.type?El(t,e):4&t.type?i_(t,e):null}(e,t):-2===n?function nZ(t,e,n){return n===oi?El(e,t):n===ps?i_(e,t):n===io?$F(e,t):void 0}(t,e,r):uc(t,t[J],n,e)}function KF(t,e,n,r){const i=e[cs].queries[r];if(null===i.matches){const o=t.data,s=n.matches,a=[];for(let c=0;null!==s&&c<s.length;c+=2){const l=s[c];a.push(l<0?null:tZ(e,o[l],s[c+1],n.metadata.read))}i.matches=a}return i.matches}function o1(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=KF(t,e,i,n);for(let a=0;a<o.length;a+=2){const c=o[a];if(c>0)r.push(s[a/2]);else{const l=o[a+1],u=e[-c];for(let d=bn;d<u.length;d++){const h=u[d];h[Zd]===h[vn]&&o1(h[J],h,l,r)}if(null!==u[wl]){const d=u[wl];for(let h=0;h<d.length;h++){const f=d[h];o1(f[J],f,l,r)}}}}}return r}function YF(t,e,n){const r=Xe();return r.firstCreatePass&&(function JF(t,e,n){null===t.queries&&(t.queries=new r1),t.queries.track(new i1(e,n))}(r,new WF(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),function QF(t,e,n){const r=new _w(4==(4&n));return function ZY(t,e,n,r){const i=Y2(e);i.push(n),t.firstCreatePass&&X2(t).push(r,i.length-1)}(t,e,r,r.destroy),(e[cs]??=new n1).queries.push(new t1(r))-1}(r,$(),e)}function a1(t,e){return t.queries.getByIndex(e)}function ZF(t,e){const n=t[J],r=a1(n,e);return r.crossesNgTemplate?o1(n,t,e,[]):KF(n,t,r,e)}function wt(t){let e=function uL(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(eo(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new q(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const s=t;s.inputs=m_(t.inputs),s.inputTransforms=m_(t.inputTransforms),s.declaredInputs=m_(t.declaredInputs),s.outputs=m_(t.outputs);const a=i.hostBindings;a&&yZ(t,a);const c=i.viewQuery,l=i.contentQueries;if(c&&mZ(t,c),l&&_Z(t,l),pZ(t,i),SW(t.outputs,i.outputs),eo(i)&&i.data.animation){const u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(t),a===wt&&(n=!1)}}e=Object.getPrototypeOf(e)}!function gZ(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Xd(i.hostAttrs,n=Xd(n,i.hostAttrs))}}(r)}function pZ(t,e){for(const n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;const r=e.inputs[n];if(void 0!==r&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],null!==e.inputTransforms)){const i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function m_(t){return t===vo?{}:t===ut?[]:t}function mZ(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function _Z(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,o)=>{e(r,i,o),n(r,i,o)}:e}function yZ(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}class fc{}class gL{}class l1 extends fc{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new UF(this);const i=Dr(e);this._bootstrapComponents=Ii(i.bootstrap),this._r3Injector=qR(e,n,[{provide:fc,useValue:this},{provide:l_,useValue:this.componentFactoryResolver},...r],zn(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class u1 extends gL{constructor(e){super(),this.moduleType=e}create(e){return new l1(this.moduleType,e,[])}}class mL extends fc{constructor(e){super(),this.componentFactoryResolver=new UF(this),this.instance=null;const n=new Rl([...e.providers,{provide:fc,useValue:this},{provide:l_,useValue:this.componentFactoryResolver}],e.parent||Sm(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function __(t,e,n=null){return new mL({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let Vh=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ri(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=he({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Cn(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function gr(t,e,n,r,i,o,s,a){const c=$(),l=Xe(),u=t+Se,d=l.firstCreatePass?function MZ(t,e,n,r,i,o,s,a,c){const l=e.consts,u=Gl(e,t,4,s||null,wo(l,a));OC(e,n,u,wo(l,c)),Om(e,u);const d=u.tView=kC(2,u,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,l,c,e,n,r,i,o,s):l.data[u];Co(d,!1);const h=_L(l,c,d,t);am()&&Xm(l,c,h,d),Or(h,c);const f=K2(h,c,h,d);return c[u]=f,t_(c,f),function GF(t,e,n){return e1(t,e,n)}(f,d,c),im(d)&&SC(l,c,d),null!=s&&AC(c,d,a),gr}let _L=function yL(t,e,n,r){return Ks(!0),e[De].createComment("")};function Mo(t,e,n,r){const i=$();return Cn(i,to(),e)&&(Xe(),Io(Nt(),i,t,e,n,r)),Mo}function I_(t,e){return t<<17|e<<2}function ra(t){return t>>17&32767}function b1(t){return 2|t}function mc(t){return(131068&t)>>2}function w1(t,e){return-131069&t|e<<2}function C1(t){return 1|t}function QL(t,e,n,r){const i=t[n+1],o=null===e;let s=r?ra(i):mc(i),a=!1;for(;0!==s&&(!1===a||o);){const l=t[s+1];hee(t[s],e)&&(a=!0,t[s+1]=r?C1(l):b1(l)),s=r?ra(l):mc(l)}a&&(t[n+1]=r?b1(i):C1(i))}function hee(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Tl(t,e)>=0}function mr(t,e,n){const r=$();return Cn(r,to(),e)&&li(Xe(),Nt(),r,t,e,r[De],n,!1),mr}function x1(t,e,n,r,i){const s=i?"class":"style";FC(t,n,e.inputs[s],s,r)}function $h(t,e){return function oo(t,e,n,r){const i=$(),o=Xe(),s=function us(t){const e=Ee.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);o.firstUpdatePass&&function i3(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[kr()],s=function r3(t,e){return e>=t.expandoStartIndex}(t,n);(function c3(t,e){return 0!=(t.flags&(e?8:16))})(o,r)&&null===e&&!s&&(e=!1),e=function wee(t,e,n,r){const i=function uw(t){const e=Ee.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Hh(n=E1(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=E1(i,t,e,n,r),null===o){let c=function Cee(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==mc(r))return t[ra(r)]}(t,e,r);void 0!==c&&Array.isArray(c)&&(c=E1(null,t,e,c[1],r),c=Hh(c,e.attrs,r),function xee(t,e,n,r){t[ra(n?e.classBindings:e.styleBindings)]=r}(t,e,r,c))}else o=function Eee(t,e,n){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=Hh(r,t[o].hostAttrs,n);return Hh(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function uee(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=ra(s),c=mc(s);t[r]=n;let u,l=!1;if(Array.isArray(n)?(u=n[1],(null===u||Tl(n,u)>0)&&(l=!0)):u=n,i)if(0!==c){const h=ra(t[a+1]);t[r+1]=I_(h,a),0!==h&&(t[h+1]=w1(t[h+1],r)),t[a+1]=function cee(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=I_(a,0),0!==a&&(t[a+1]=w1(t[a+1],r)),a=r;else t[r+1]=I_(c,0),0===a?a=r:t[c+1]=w1(t[c+1],r),c=r;l&&(t[r+1]=b1(t[r+1])),QL(t,u,r,!0),QL(t,u,r,!1),function dee(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&Tl(o,e)>=0&&(n[r+1]=C1(n[r+1]))}(e,u,t,r,o),s=I_(a,c),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}(o,t,s,r),e!==Pe&&Cn(i,s,e)&&function s3(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const c=t.data,l=c[a+1],u=function lee(t){return 1==(1&t)}(l)?a3(c,e,n,i,mc(l),s):void 0;T_(u)||(T_(o)||function aee(t){return 2==(2&t)}(l)&&(o=a3(c,null,n,i,a,s)),function GY(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=-1===r.indexOf("-")?void 0:Zs.DashCase;null==i?t.removeStyle(n,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Zs.Important),t.setStyle(n,r,i,o))}}(r,s,nh(kr(),n),i,o))}(o,o.data[kr()],i,i[De],t,i[s+1]=function Mee(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=zn(Xs(t)))),t}(e,n),r,s)}(t,e,null,!0),$h}function E1(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=Hh(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Hh(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),xi(t,s,!!n||e[++o]))}return void 0===t?null:t}function a3(t,e,n,r,i,o){const s=null===e;let a;for(;i>0;){const c=t[i],l=Array.isArray(c),u=l?c[1]:c,d=null===u;let h=n[i+1];h===Pe&&(h=d?ut:void 0);let f=d?mw(h,r):u===r?h:void 0;if(l&&!T_(f)&&(f=mw(c,r)),T_(f)&&(a=f,s))return a;const b=t[i+1];i=s?ra(b):mc(b)}if(null!==e){let c=o?e.residualClasses:e.residualStyles;null!=c&&(a=mw(c,r))}return a}function T_(t){return void 0!==t}function y(t,e,n,r){const i=$(),o=Xe(),s=Se+t,a=i[De],c=o.firstCreatePass?function Xee(t,e,n,r,i,o){const s=e.consts,c=Gl(e,t,2,r,wo(s,i));return OC(e,n,c,wo(s,o)),null!==c.attrs&&p_(c,c.attrs,!1),null!==c.mergedAttrs&&p_(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(s,o,i,e,n,r):o.data[s],l=h3(o,i,c,a,e,t);i[s]=l;const u=im(c);return Co(c,!0),L2(a,l,c),32!=(32&c.flags)&&am()&&Xm(o,i,l,c),0===function ZW(){return Ee.lFrame.elementDepthCount}()&&Or(l,i),function eK(){Ee.lFrame.elementDepthCount++}(),u&&(SC(o,i,c),MC(o,c,i)),null!==r&&AC(i,c),y}function p(){let t=bt();aw()?function cw(){Ee.lFrame.isParent=!1}():(t=t.parent,Co(t,!1));const e=t;(function nK(t){return Ee.skipHydrationRootTNode===t})(e)&&function sK(){Ee.skipHydrationRootTNode=null}(),function tK(){Ee.lFrame.elementDepthCount--}();const n=Xe();return n.firstCreatePass&&(Om(n,t),Jb(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function xQ(t){return 0!=(8&t.flags)}(e)&&x1(n,e,$(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function EQ(t){return 0!=(16&t.flags)}(e)&&x1(n,e,$(),e.stylesWithoutHost,!1),p}function ee(t,e,n,r){return y(t,e,n,r),p(),ee}let h3=(t,e,n,r,i,o)=>(Ks(!0),Km(r,i,function YN(){return Ee.lFrame.currentNamespace}()));function pt(){return $()}const hu="en-US";let v3=hu;function Y(t,e,n,r){const i=$(),o=Xe(),s=bt();return P1(o,i,i[De],s,t,e,r),Y}function P1(t,e,n,r,i,o,s){const a=im(r),l=t.firstCreatePass&&X2(t),u=e[Pt],d=Y2(e);let h=!0;if(3&r.type||s){const x=$r(r,e),T=s?s(x):x,P=d.length,k=s?X=>s(Et(X[r.index])):r.index;let H=null;if(!s&&a&&(H=function Zte(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===n&&i[o+1]===r){const a=e[yl],c=i[o+2];return a.length>c?a[c]:null}"string"==typeof s&&(o+=2)}return null}(t,e,i,r.index)),null!==H)(H.__ngLastListenerFn__||H).__ngNextListenerFn__=o,H.__ngLastListenerFn__=o,h=!1;else{o=q3(r,e,u,o,!1);const X=n.listen(T,i,o);d.push(o,X),l&&l.push(i,k,P,P+1)}}else o=q3(r,e,u,o,!1);const f=r.outputs;let b;if(h&&null!==f&&(b=f[i])){const x=b.length;if(x)for(let T=0;T<x;T+=2){const ce=e[b[T]][b[T+1]].subscribe(o),me=d.length;d.push(o,ce),l&&l.push(i,r.index,me,"function"==typeof ce?me+1:-(me+1))}}}function G3(t,e,n,r){try{return xo(6,e,n),!1!==n(r)}catch(i){return n_(t,i),!1}finally{xo(7,e,n)}}function q3(t,e,n,r,i){return function o(s){if(s===Function)return r;Th(t.componentOffset>-1?Ci(t.index,e):e);let c=G3(e,n,r,s),l=o.__ngNextListenerFn__;for(;l;)c=G3(e,n,l,s)&&c,l=l.__ngNextListenerFn__;return i&&!1===c&&s.preventDefault(),c}}function cn(t=1){return function hK(t){return(Ee.lFrame.contextLView=function LN(t,e){for(;t>0;)e=e[vl],t--;return e}(t,Ee.lFrame.contextLView))[Pt]}(t)}function Rn(t,e,n){YF(t,e,n)}function In(t){const e=$(),n=Xe(),r=dw();sm(r+1);const i=a1(n,r);if(t.dirty&&function YW(t){return 4==(4&t[ge])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const o=ZF(e,r);t.reset(o,JN),t.notifyOnChanges()}return!0}return!1}function Tn(){return function s1(t,e){return t[cs].queries[e].queryList}($(),dw())}function fn(t){return function Cl(t,e){return t[e]}(function aK(){return Ee.lFrame.contextLView}(),Se+t)}function C(t,e=""){const n=$(),r=Xe(),i=t+Se,o=r.firstCreatePass?Gl(r,i,1,e,null):r.data[i],s=h4(r,n,o,e,t);n[i]=s,am()&&Xm(r,n,s,o),Co(o,!1)}let h4=(t,e,n,r,i)=>(Ks(!0),function Wm(t,e){return t.createText(e)}(e[De],r));function Fe(t){return ke("",t,""),Fe}function ke(t,e,n){const r=$(),i=function nu(t,e,n,r){return Cn(t,to(),n)?e+Ae(n)+r:Pe}(r,t,e,n);return i!==Pe&&function fs(t,e,n){const r=nh(e,t);!function x2(t,e,n){t.setValue(e,n)}(t[De],r,n)}(r,kr(),i),ke}function We(t,e,n){wF(e)&&(e=e());const r=$();return Cn(r,to(),e)&&li(Xe(),Nt(),r,t,e,r[De],n,!1),We}function Ze(t,e){const n=wF(t);return n&&t.set(e),n}function Ke(t,e){const n=$(),r=Xe(),i=bt();return P1(r,n,n[De],i,t,e),Ke}function R1(t,e,n,r,i){if(t=we(t),Array.isArray(t))for(let o=0;o<t.length;o++)R1(t[o],e,n,r,i);else{const o=Xe(),s=$(),a=bt();let c=cc(t)?t:we(t.provide);const l=xR(t),u=1048575&a.providerIndexes,d=a.directiveStart,h=a.providerIndexes>>20;if(cc(t)||!t.multi){const f=new fh(l,i,I),b=L1(c,e,i?u:u+h,d);-1===b?(nC(Fm(a,s),o,c),F1(o,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),s.push(f)):(n[b]=f,s[b]=f)}else{const f=L1(c,e,u+h,d),b=L1(c,e,u,u+h),T=b>=0&&n[b];if(i&&!T||!i&&!(f>=0&&n[f])){nC(Fm(a,s),o,c);const P=function wne(t,e,n,r,i){const o=new fh(t,n,I);return o.multi=[],o.index=e,o.componentProviders=0,w4(o,i,r&&!n),o}(i?bne:vne,n.length,i,r,l);!i&&T&&(n[b].providerFactory=P),F1(o,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(P),s.push(P)}else F1(o,t,f>-1?f:b,w4(n[i?b:f],l,!i&&r));!i&&r&&T&&n[b].componentProviders++}}}function F1(t,e,n,r){const i=cc(e),o=function JK(t){return!!t.useClass}(e);if(i||o){const c=(o?we(e.useClass):e).prototype.ngOnDestroy;if(c){const l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const u=l.indexOf(n);-1===u?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function w4(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function L1(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function vne(t,e,n,r){return V1(this.multi,[])}function bne(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=uc(n,n[J],this.providerFactory.index,r);o=a.slice(0,s),V1(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],V1(i,o);return o}function V1(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function tn(t,e=[]){return n=>{n.providersResolver=(r,i)=>function yne(t,e,n){const r=Xe();if(r.firstCreatePass){const i=eo(t);R1(n,r.data,r.blueprint,i,!0),R1(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}let Cne=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=zw(0,n.type),i=r.length>0?__([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=he({token:t,providedIn:"environment",factory:()=>new t(ye(Ei))})}return t})();function C4(t){To("NgStandalone"),t.getStandaloneInjector=e=>e.get(Cne).getOrCreateStandaloneInjector(t)}class gu{constructor(e){this.full=e;const n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}}const _re=new gu("17.2.3");let X4=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=he({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const nV=new ae(""),N_=new ae("");let W1,G1=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,W1||(function $re(t){W1=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Je.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb()}});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),n()},r)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||t)(ye(Je),ye(q1),ye(N_))};static#t=this.\u0275prov=he({token:t,factory:t.\u0275fac})}return t})(),q1=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return W1?.findTestabilityInTree(this,n,r)??null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=he({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function ef(t){return!!t&&"function"==typeof t.then}function rV(t){return!!t&&"function"==typeof t.subscribe}const R_=new ae("");let K1=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=Z(R_,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const o=i();if(ef(o))n.push(o);else if(rV(o)){const s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});n.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=he({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Q1=new ae("");function sV(t,e){return Array.isArray(e)?e.reduce(sV,t):{...t,...e}}let gs=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Z(KR),this.afterRenderEffectManager=Z(Ph),this.componentTypes=[],this.components=[],this.isStable=Z(Vh).hasPendingTasks.pipe(tt(n=>!n)),this._injector=Z(Ei)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof mF;if(!this._injector.get(K1).done)throw!i&&function qs(t){const e=$e(t)||$n(t)||fr(t);return null!==e&&e.standalone}(n),new q(405,!1);let s;s=i?n:this._injector.get(l_).resolveComponentFactory(n),this.componentTypes.push(s.componentType);const a=function Hre(t){return t.isBoundToModule}(s)?void 0:this._injector.get(fc),l=s.create(wn.NULL,[],r||s.selector,a),u=l.location.nativeElement,d=l.injector.get(nV,null);return d?.registerApplication(u),l.onDestroy(()=>{this.detachView(l.hostView),F_(this.components,l),d?.unregisterApplication(u)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new q(101,!1);try{this._runningTick=!0,this.detectChangesInAttachedViews()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}detectChangesInAttachedViews(){let n=0;const r=this.afterRenderEffectManager;for(;;){if(100===n)throw new q(103,!1);const i=0===n;for(let{_lView:o,notifyErrorHandler:s}of this._views)!i&&!Y1(o)||this.detectChangesInView(o,s,i);if(n++,r.executeInternalCallbacks(),!this._views.some(({_lView:o})=>Y1(o))&&(r.execute(),!this._views.some(({_lView:o})=>Y1(o))))break}}detectChangesInView(n,r,i){let o;i?(o=0,n[ge]|=1024):o=64&n[ge]?0:1,r_(n,r,o)}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;F_(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(Q1,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>F_(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new q(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=he({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function F_(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function Y1(t){return iw(t)}class qre{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let aV=(()=>{class t{compileModuleSync(n){return new u1(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),o=Ii(Dr(n).declarations).reduce((s,a)=>{const c=$e(a);return c&&s.push(new Fh(c)),s},[]);return new qre(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=he({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Qre=(()=>{class t{constructor(){this.zone=Z(Je),this.applicationRef=Z(gs)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=he({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Yre(){const t=Z(Je),e=Z(ds);return n=>t.runOutsideAngular(()=>e.handleError(n))}let Jre=(()=>{class t{constructor(){this.subscription=new zr,this.initialized=!1,this.zone=Z(Je),this.pendingTasks=Z(Vh)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Je.assertNotInAngularZone(),queueMicrotask(()=>{null!==n&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Je.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=he({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const ms=new ae("",{providedIn:"root",factory:()=>Z(ms,Ye.Optional|Ye.SkipSelf)||function Zre(){return typeof $localize<"u"&&$localize.locale||hu}()}),X1=new ae("");let dV=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function PJ(t="zone.js",e){return"noop"===t?new OF:"zone.js"===t?new Je(e):t}(r?.ngZone,function uV(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const o=function IZ(t,e,n){return new l1(t,e,n)}(n.moduleType,this.injector,function lV(t){return[{provide:Je,useFactory:t},{provide:ac,multi:!0,useFactory:()=>{const e=Z(Qre,{optional:!0});return()=>e.initialize()}},{provide:ac,multi:!0,useFactory:()=>{const e=Z(Jre);return()=>{e.initialize()}}},{provide:KR,useFactory:Yre}]}(()=>i)),s=o.injector.get(ds,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:c=>{s.handleError(c)}});o.onDestroy(()=>{F_(this._modules,o),a.unsubscribe()})}),function oV(t,e,n){try{const r=n();return ef(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,i,()=>{const a=o.injector.get(K1);return a.runInitializers(),a.donePromise.then(()=>(function b3(t){"string"==typeof t&&(v3=t.toLowerCase().replace(/_/g,"-"))}(o.injector.get(ms,hu)||hu),this._moduleDoBootstrap(o),o))})})}bootstrapModule(n,r=[]){const i=sV({},r);return function Kre(t,e,n){const r=new u1(n);return Promise.resolve(r)}(0,0,n).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(n){const r=n.injector.get(gs);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new q(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new q(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(X1,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||t)(ye(wn))};static#t=this.\u0275prov=he({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),ia=null;const hV=new ae("");function fV(t,e,n=[]){const r=`Platform: ${e}`,i=new ae(r);return(o=[])=>{let s=J1();if(!s||s.injector.get(hV,!1)){const a=[...n,...o,{provide:i,useValue:!0}];t?t(a):function nie(t){if(ia&&!ia.get(hV,!1))throw new q(400,!1);(function iV(){!function aW(t){tN=t}(()=>{throw new q(600,!1)})})(),ia=t;const e=t.get(dV);(function gV(t){t.get(sR,null)?.forEach(n=>n())})(t)}(function pV(t=[],e){return wn.create({name:e,providers:[{provide:Gw,useValue:"platform"},{provide:X1,useValue:new Set([()=>ia=null])},...t]})}(a,r))}return function rie(t){const e=J1();if(!e)throw new q(401,!1);return e}()}}function J1(){return ia?.get(dV)??null}const lie=fV(null,"core",[]);let uie=(()=>{class t{constructor(n){}static#e=this.\u0275fac=function(r){return new(r||t)(ye(gs))};static#t=this.\u0275mod=on({type:t});static#n=this.\u0275inj=en({})}return t})();let BV=null;function oa(){return BV}class jie{}const Vi=new ae("");let ox=(()=>{class t{historyGo(n){throw new Error("")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=he({token:t,factory:()=>Z($ie),providedIn:"platform"})}return t})();const zie=new ae("");let $ie=(()=>{class t extends ox{constructor(){super(),this._doc=Z(Vi),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return oa().getBaseHref(this._doc)}onPopState(n){const r=oa().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=oa().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=he({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function sx(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function jV(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function _s(t){return t&&"?"!==t[0]?"?"+t:t}let sa=(()=>{class t{historyGo(n){throw new Error("")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=he({token:t,factory:()=>Z($V),providedIn:"root"})}return t})();const zV=new ae("");let $V=(()=>{class t extends sa{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??Z(Vi).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return sx(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+_s(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){const s=this.prepareExternalUrl(i+_s(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){const s=this.prepareExternalUrl(i+_s(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||t)(ye(ox),ye(zV,8))};static#t=this.\u0275prov=he({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),HV=(()=>{class t extends sa{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){const r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=sx(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+_s(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+_s(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||t)(ye(ox),ye(zV,8))};static#t=this.\u0275prov=he({token:t,factory:t.\u0275fac})}return t})(),Pr=(()=>{class t{constructor(n){this._subject=new qe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function qie(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(jV(GV(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+_s(r))}normalize(n){return t.stripTrailingSlash(function Gie(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,GV(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+_s(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+_s(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static#e=this.normalizeQueryParams=_s;static#t=this.joinWithSlash=sx;static#n=this.stripTrailingSlash=jV;static#r=this.\u0275fac=function(r){return new(r||t)(ye(sa))};static#i=this.\u0275prov=he({token:t,factory:()=>function Hie(){return new Pr(ye(sa))}(),providedIn:"root"})}return t})();function GV(t){return t.replace(/\/index.html$/,"")}class Poe{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ji=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Poe(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),n5(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{n5(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||t)(I(io),I(ps),I(WC))};static#t=this.\u0275dir=Ie({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return t})();function n5(t,e){t.context.$implicit=e.item}let r5=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new Noe,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){i5("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){i5("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||t)(I(io),I(ps))};static#t=this.\u0275dir=Ie({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return t})();class Noe{constructor(){this.$implicit=null,this.ngIf=null}}function i5(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${zn(e)}'.`)}let sf=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=on({type:t});static#n=this.\u0275inj=en({})}return t})();const a5="browser";function wx(t){return t===a5}function c5(t){return"server"===t}let lse=(()=>{class t{static#e=this.\u0275prov=he({token:t,providedIn:"root",factory:()=>wx(Z(no))?new use(Z(Vi),window):new hse})}return t})();class use{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){const n=function dse(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}}class hse{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}}class jse extends jie{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class xx extends jse{static makeCurrent(){!function Bie(t){BV??=t}(new xx)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function zse(){return lf=lf||document.querySelector("base"),lf?lf.getAttribute("href"):null}();return null==n?null:function $se(t){return new URL(t,document.baseURI).pathname}(n)}resetBaseElement(){lf=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Aoe(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,e)}}let lf=null,Gse=(()=>{class t{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=he({token:t,factory:t.\u0275fac})}return t})();const Ex=new ae("");let _5=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new q(5101,!1);return this._eventNameToPlugin.set(n,r),r}static#e=this.\u0275fac=function(r){return new(r||t)(ye(Ex),ye(Je))};static#t=this.\u0275prov=he({token:t,factory:t.\u0275fac})}return t})();class y5{constructor(e){this._doc=e}}const Ix="ng-app-id";let v5=(()=>{class t{constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=c5(o),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${Ix}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const o=i.get(n);return o.usage+=r,o.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===n)return i.delete(r),o.removeAttribute(Ix),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(Ix,this.appId),n.appendChild(s),s}}addStyleToHost(n,r){const i=this.getStyleElement(n,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||t)(ye(Vi),ye(gm),ye(aR,8),ye(no))};static#t=this.\u0275prov=he({token:t,factory:t.\u0275fac})}return t})();const Tx={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Dx=/%COMP%/g,Qse=new ae("",{providedIn:"root",factory:()=>!0});function w5(t,e){return e.map(n=>n.replace(Dx,t))}let C5=(()=>{class t{constructor(n,r,i,o,s,a,c,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=c5(a),this.defaultRenderer=new Mx(n,s,c,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Yi.ShadowDom&&(r={...r,encapsulation:Yi.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof E5?i.applyToHost(n):i instanceof Sx&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case Yi.Emulated:o=new E5(c,l,r,this.appId,u,s,a,d);break;case Yi.ShadowDom:return new Zse(c,l,n,r,s,a,this.nonce,d);default:o=new Sx(c,l,r,u,s,a,d)}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||t)(ye(_5),ye(v5),ye(gm),ye(Qse),ye(Vi),ye(no),ye(Je),ye(aR))};static#t=this.\u0275prov=he({token:t,factory:t.\u0275fac})}return t})();class Mx{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Tx[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(x5(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(x5(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new q(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const o=Tx[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=Tx[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Zs.DashCase|Zs.Important)?e.style.setProperty(n,r,i&Zs.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Zs.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){null!=e&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=oa().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function x5(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class Zse extends Mx{constructor(e,n,r,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=w5(i.id,i.styles);for(const u of l){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Sx extends Mx{constructor(e,n,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?w5(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class E5 extends Sx{constructor(e,n,r,i,o,s,a,c){const l=i+"-"+r.id;super(e,n,r,o,s,a,c,l),this.contentAttr=function Yse(t){return"_ngcontent-%COMP%".replace(Dx,t)}(l),this.hostAttr=function Xse(t){return"_nghost-%COMP%".replace(Dx,t)}(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let eae=(()=>{class t extends y5{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||t)(ye(Vi))};static#t=this.\u0275prov=he({token:t,factory:t.\u0275fac})}return t})();const I5=["alt","control","meta","shift"],tae={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},nae={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let rae=(()=>{class t extends y5{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const o=t.parseEventName(r),s=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>oa().onAndCancel(n,o.domEventName,s))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=t._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),I5.forEach(l=>{const u=r.indexOf(l);u>-1&&(r.splice(u,1),s+=l+".")}),s+=o,0!=r.length||0===o.length)return null;const c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let i=tae[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),I5.forEach(s=>{s!==i&&(0,nae[s])(n)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return"esc"===n?"escape":n}static#e=this.\u0275fac=function(r){return new(r||t)(ye(Vi))};static#t=this.\u0275prov=he({token:t,factory:t.\u0275fac})}return t})();const D5=[{provide:no,useValue:a5},{provide:sR,useValue:function iae(){xx.makeCurrent()},multi:!0},{provide:Vi,useFactory:function sae(){return function vK(t){yw=t}(document),document},deps:[]}],aae=fV(lie,"browser",D5),cae=new ae(""),M5=[{provide:N_,useClass:class Hse{addToWindow(e){_t.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new q(5103,!1);return o},_t.getAllAngularTestabilities=()=>e.getAllTestabilities(),_t.getAllAngularRootElements=()=>e.getAllRootElements(),_t.frameworkStabilizers||(_t.frameworkStabilizers=[]),_t.frameworkStabilizers.push(r=>{const i=_t.getAllAngularTestabilities();let o=i.length;const s=function(){o--,0==o&&r()};i.forEach(a=>{a.whenStable(s)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?oa().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:nV,useClass:G1,deps:[Je,q1,N_]},{provide:G1,useClass:G1,deps:[Je,q1,N_]}],S5=[{provide:Gw,useValue:"root"},{provide:ds,useFactory:function oae(){return new ds},deps:[]},{provide:Ex,useClass:eae,multi:!0,deps:[Vi,Je,no]},{provide:Ex,useClass:rae,multi:!0,deps:[Vi]},C5,v5,_5,{provide:yF,useExisting:C5},{provide:class fse{},useClass:Gse,deps:[]},[]];let lae=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:gm,useValue:n.appId}]}}static#e=this.\u0275fac=function(r){return new(r||t)(ye(cae,12))};static#t=this.\u0275mod=on({type:t});static#n=this.\u0275inj=en({providers:[...S5,...M5],imports:[sf,uie]})}return t})(),uae=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static#e=this.\u0275fac=function(r){return new(r||t)(ye(Vi))};static#t=this.\u0275prov=he({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function iy(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function aa(t){return this instanceof aa?(this.v=t,this):new aa(t)}function F5(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function Px(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,c){!function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}(a,c,(s=t[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Nx=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function L5(t){return st(t?.then)}function V5(t){return st(t[Hb])}function U5(t){return Symbol.asyncIterator&&st(t?.[Symbol.asyncIterator])}function B5(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const j5=function Nae(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function z5(t){return st(t?.[j5])}function $5(t){return function R5(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(h){r[h]&&(i[h]=function(f){return new Promise(function(b,x){o.push([h,f,b,x])>1||a(h,f)})})}function a(h,f){try{!function c(h){h.value instanceof aa?Promise.resolve(h.value.v).then(l,u):d(o[0][2],h)}(r[h](f))}catch(b){d(o[0][3],b)}}function l(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),o.shift(),o.length&&a(o[0][0],o[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield aa(n.read());if(i)return yield aa(void 0);yield yield aa(r)}}finally{n.releaseLock()}})}function H5(t){return st(t?.getReader)}function di(t){if(t instanceof Jt)return t;if(null!=t){if(V5(t))return function Rae(t){return new Jt(e=>{const n=t[Hb]();if(st(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(Nx(t))return function Fae(t){return new Jt(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(L5(t))return function Lae(t){return new Jt(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,aN)})}(t);if(U5(t))return G5(t);if(z5(t))return function Vae(t){return new Jt(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(H5(t))return function Uae(t){return G5($5(t))}(t)}throw B5(t)}function G5(t){return new Jt(e=>{(function Bae(t,e){var n,r,i,o;return function P5(t,e,n,r){return new(n||(n=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):function i(o){return o instanceof n?o:new n(function(s){s(o)})}(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=F5(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function bs(t,e,n,r=0,i=!1){const o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function oy(t,e=0){return jn((n,r)=>{n.subscribe(Nn(r,i=>bs(r,t,()=>r.next(i),e),()=>bs(r,t,()=>r.complete(),e),i=>bs(r,t,()=>r.error(i),e)))})}function sy(t,e=0){return jn((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function q5(t,e){if(!t)throw new Error("Iterable cannot be null");return new Jt(n=>{bs(n,e,()=>{const r=t[Symbol.asyncIterator]();bs(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Kn(t,e){return e?function qae(t,e){if(null!=t){if(V5(t))return function jae(t,e){return di(t).pipe(sy(e),oy(e))}(t,e);if(Nx(t))return function $ae(t,e){return new Jt(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(L5(t))return function zae(t,e){return di(t).pipe(sy(e),oy(e))}(t,e);if(U5(t))return q5(t,e);if(z5(t))return function Hae(t,e){return new Jt(n=>{let r;return bs(n,e,()=>{r=t[j5](),bs(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void n.error(s)}o?n.complete():n.next(i)},0,!0)}),()=>st(r?.return)&&r.return()})}(t,e);if(H5(t))return function Gae(t,e){return q5($5(t),e)}(t,e)}throw B5(t)}(t,e):di(t)}const{isArray:Wae}=Array,{getPrototypeOf:Kae,prototype:Qae,keys:Yae}=Object;function W5(t){if(1===t.length){const e=t[0];if(Wae(e))return{args:e,keys:null};if(function Xae(t){return t&&"object"==typeof t&&Kae(t)===Qae}(e)){const n=Yae(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function K5(t){return t&&st(t.schedule)}function Rx(t){return t[t.length-1]}function Q5(t){return st(Rx(t))?t.pop():void 0}function df(t){return K5(Rx(t))?t.pop():void 0}const{isArray:Zae}=Array;function Fx(t){return tt(e=>function ece(t,e){return Zae(e)?t(...e):t(e)}(t,e))}function Y5(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}let X5=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static#e=this.\u0275fac=function(r){return new(r||t)(I(ro),I(oi))};static#t=this.\u0275dir=Ie({type:t})}return t})(),vc=(()=>{class t extends X5{static#e=this.\u0275fac=(()=>{let n;return function(i){return(n||(n=er(t)))(i||t)}})();static#t=this.\u0275dir=Ie({type:t,features:[wt]})}return t})();const ko=new ae(""),rce={provide:ko,useExisting:Rt(()=>Kr),multi:!0},oce=new ae("");let Kr=(()=>{class t extends X5{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ice(){const t=oa()?oa().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static#e=this.\u0275fac=function(r){return new(r||t)(I(ro),I(oi),I(oce,8))};static#t=this.\u0275dir=Ie({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&Y("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[tn([rce]),wt]})}return t})();function ca(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}const Nr=new ae(""),la=new ae("");function ay(t){return null}function cU(t){return null!=t}function lU(t){return ef(t)?Kn(t):t}function uU(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function dU(t,e){return e.map(n=>n(t))}function hU(t){return t.map(e=>function ace(t){return!t.validate}(e)?e:n=>e.validate(n))}function Lx(t){return null!=t?function fU(t){if(!t)return null;const e=t.filter(cU);return 0==e.length?null:function(n){return uU(dU(n,e))}}(hU(t)):null}function Vx(t){return null!=t?function pU(t){if(!t)return null;const e=t.filter(cU);return 0==e.length?null:function(n){return function tce(...t){const e=Q5(t),{args:n,keys:r}=W5(t),i=new Jt(o=>{const{length:s}=n;if(!s)return void o.complete();const a=new Array(s);let c=s,l=s;for(let u=0;u<s;u++){let d=!1;di(n[u]).subscribe(Nn(o,h=>{d||(d=!0,l--),a[u]=h},()=>c--,void 0,()=>{(!c||!d)&&(l||o.next(r?Y5(r,a):a),o.complete())}))}});return e?i.pipe(Fx(e)):i}(dU(n,e).map(lU)).pipe(tt(uU))}}(hU(t)):null}function gU(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Ux(t){return t?Array.isArray(t)?t:[t]:[]}function cy(t,e){return Array.isArray(t)?t.includes(e):t===e}function yU(t,e){const n=Ux(e);return Ux(t).forEach(i=>{cy(n,i)||n.push(i)}),n}function vU(t,e){return Ux(e).filter(n=>!cy(t,n))}class bU{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Lx(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Vx(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class Qr extends bU{get formDirective(){return null}get path(){return null}}class ua extends bU{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class wU{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Mi=(()=>{class t extends wU{constructor(n){super(n)}static#e=this.\u0275fac=function(r){return new(r||t)(I(ua,2))};static#t=this.\u0275dir=Ie({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&$h("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[wt]})}return t})(),Qn=(()=>{class t extends wU{constructor(n){super(n)}static#e=this.\u0275fac=function(r){return new(r||t)(I(Qr,10))};static#t=this.\u0275dir=Ie({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&$h("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[wt]})}return t})();const hf="VALID",uy="INVALID",vu="PENDING",ff="DISABLED";function zx(t){return(dy(t)?t.validators:t)||null}function $x(t,e){return(dy(e)?e.asyncValidators:t)||null}function dy(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class Hx{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===hf}get invalid(){return this.status===uy}get pending(){return this.status==vu}get disabled(){return this.status===ff}get enabled(){return this.status!==ff}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(yU(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(yU(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(vU(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(vU(e,this._rawAsyncValidators))}hasValidator(e){return cy(this._rawValidators,e)}hasAsyncValidator(e){return cy(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=vu,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=ff,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=hf,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===hf||this.status===vu)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ff:hf}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=vu,this._hasOwnPendingAsyncValidator=!0;const n=lU(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new qe,this.statusChanges=new qe}_calculateStatus(){return this._allControlsDisabled()?ff:this.errors?uy:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(vu)?vu:this._anyControlsHaveStatus(uy)?uy:hf}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){dy(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function dce(t){return Array.isArray(t)?Lx(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function hce(t){return Array.isArray(t)?Vx(t):t||null}(this._rawAsyncValidators)}}class Gx extends Hx{constructor(e,n,r){super(zx(n),$x(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){(function EU(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new q(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function xU(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new q(1e3,"");if(!r[n])throw new q(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const bu=new ae("CallSetDisabledState",{providedIn:"root",factory:()=>hy}),hy="always";function pf(t,e,n=hy){qx(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function gce(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&IU(t,e)})}(t,e),function _ce(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function mce(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&IU(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function pce(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function gy(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function qx(t,e){const n=function mU(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(gU(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function _U(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(gU(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();gy(e._rawValidators,i),gy(e._rawAsyncValidators,i)}function IU(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}const Cce={provide:Qr,useExisting:Rt(()=>Mn)},gf=Promise.resolve();let Mn=(()=>{class t extends Qr{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new qe,this.form=new Gx({},Lx(n),Vx(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){gf.then(()=>{const r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),pf(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){gf.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){gf.then(()=>{const r=this._findContainer(n.path),i=new Gx({});(function TU(t,e){qx(t,e)})(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){gf.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){gf.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submitted=!0,function DU(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static#e=this.\u0275fac=function(r){return new(r||t)(I(Nr,10),I(la,10),I(bu,8))};static#t=this.\u0275dir=Ie({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&Y("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[Ht.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[tn([Cce]),wt]})}return t})();function MU(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function SU(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const AU=class extends Hx{constructor(e=null,n,r){super(zx(n),$x(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),dy(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=SU(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){MU(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){MU(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){SU(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Ice={provide:ua,useExisting:Rt(()=>hi)},PU=Promise.resolve();let hi=(()=>{class t extends ua{constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new AU,this._registered=!1,this.name="",this.update=new qe,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function Qx(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===Kr?n=o:function bce(t){return Object.getPrototypeOf(t.constructor)===vc}(o)?r=o:i=o}),i||r||n||null}(0,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),function Kx(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){pf(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){PU.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const r=n.isDisabled.currentValue,i=0!==r&&function _u(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}(r);PU.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?function fy(t,e){return[...e.path,t]}(n,this._parent):[n]}static#e=this.\u0275fac=function(r){return new(r||t)(I(Qr,9),I(Nr,10),I(la,10),I(ko,10),I(Oh,8),I(bu,8))};static#t=this.\u0275dir=Ie({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[Ht.None,"disabled","isDisabled"],model:[Ht.None,"ngModel","model"],options:[Ht.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[tn([Ice]),wt,Fi]})}return t})(),Yn=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=Ie({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return t})();const Tce={provide:ko,useExisting:Rt(()=>Yx),multi:!0};let Yx=(()=>{class t extends vc{writeValue(n){this.setProperty("value",n??"")}registerOnChange(n){this.onChange=r=>{n(""==r?null:parseFloat(r))}}static#e=this.\u0275fac=(()=>{let n;return function(i){return(n||(n=er(t)))(i||t)}})();static#t=this.\u0275dir=Ie({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){1&r&&Y("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[tn([Tce]),wt]})}return t})();const Rce={provide:ko,useExisting:Rt(()=>eE),multi:!0};function BU(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let eE=(()=>{class t extends vc{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;const i=BU(this._getOptionId(n),n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){const r=function Fce(t){return t.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static#e=this.\u0275fac=(()=>{let n;return function(i){return(n||(n=er(t)))(i||t)}})();static#t=this.\u0275dir=Ie({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){1&r&&Y("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[tn([Rce]),wt]})}return t})(),mf=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){null!=this._select&&(this._select._optionMap.set(this.id,n),this._setElementValue(BU(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(r){return new(r||t)(I(oi),I(ro),I(eE,9))};static#t=this.\u0275dir=Ie({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return t})();const Lce={provide:ko,useExisting:Rt(()=>tE),multi:!0};function jU(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let tE=(()=>{class t extends vc{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){let r;if(this.value=n,Array.isArray(n)){const i=n.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{const i=[],o=r.selectedOptions;if(void 0!==o){const s=o;for(let a=0;a<s.length;a++){const l=this._getOptionValue(s[a].value);i.push(l)}}else{const s=r.options;for(let a=0;a<s.length;a++){const c=s[a];if(c.selected){const l=this._getOptionValue(c.value);i.push(l)}}}this.value=i,n(i)}}_registerOption(n){const r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){const r=function Vce(t){return t.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static#e=this.\u0275fac=(()=>{let n;return function(i){return(n||(n=er(t)))(i||t)}})();static#t=this.\u0275dir=Ie({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){1&r&&Y("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[tn([Lce]),wt]})}return t})(),_f=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){null!=this._select&&(this._value=n,this._setElementValue(jU(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(jU(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(r){return new(r||t)(I(oi),I(ro),I(tE,9))};static#t=this.\u0275dir=Ie({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return t})();function $U(t){return"number"==typeof t?t:parseFloat(t)}let bc=(()=>{class t{constructor(){this._validator=ay}ngOnChanges(n){if(this.inputName in n){const r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):ay,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return null!=n}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=Ie({type:t,features:[Fi]})}return t})();const Uce={provide:Nr,useExisting:Rt(()=>nE),multi:!0};let nE=(()=>{class t extends bc{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=n=>$U(n),this.createValidator=n=>function tU(t){return e=>{if(ca(e.value)||ca(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(n)}static#e=this.\u0275fac=(()=>{let n;return function(i){return(n||(n=er(t)))(i||t)}})();static#t=this.\u0275dir=Ie({type:t,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,i){2&r&&Mo("max",i._enabled?i.max:null)},inputs:{max:"max"},features:[tn([Uce]),wt]})}return t})();const Bce={provide:Nr,useExisting:Rt(()=>rE),multi:!0};let rE=(()=>{class t extends bc{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=n=>$U(n),this.createValidator=n=>function eU(t){return e=>{if(ca(e.value)||ca(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(n)}static#e=this.\u0275fac=(()=>{let n;return function(i){return(n||(n=er(t)))(i||t)}})();static#t=this.\u0275dir=Ie({type:t,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){2&r&&Mo("min",i._enabled?i.min:null)},inputs:{min:"min"},features:[tn([Bce]),wt]})}return t})(),Wce=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=on({type:t});static#n=this.\u0275inj=en({})}return t})(),_y=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:bu,useValue:n.callSetDisabledState??hy}]}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=on({type:t});static#n=this.\u0275inj=en({imports:[Wce]})}return t})();function Ce(...t){return Kn(t,df(t))}function oE(...t){const e=df(t),n=Q5(t),{args:r,keys:i}=W5(t);if(0===r.length)return Kn([],e);const o=new Jt(function Yce(t,e,n=tc){return r=>{QU(e,()=>{const{length:i}=t,o=new Array(i);let s=i,a=i;for(let c=0;c<i;c++)QU(e,()=>{const l=Kn(t[c],e);let u=!1;l.subscribe(Nn(r,d=>{o[c]=d,u||(u=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,i?s=>Y5(i,s):tc));return n?o.pipe(Fx(n)):o}function QU(t,e,n){t?bs(n,t,e):e()}const yy=Lb(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function tr(t,e,n=1/0){return st(e)?tr((r,i)=>tt((o,s)=>e(r,o,i,s))(di(t(r,i))),n):("number"==typeof e&&(n=e),jn((r,i)=>function Xce(t,e,n,r,i,o,s,a){const c=[];let l=0,u=0,d=!1;const h=()=>{d&&!c.length&&!l&&e.complete()},f=x=>l<r?b(x):c.push(x),b=x=>{o&&e.next(x),l++;let T=!1;di(n(x,u++)).subscribe(Nn(e,P=>{i?.(P),o?f(P):e.next(P)},()=>{T=!0},void 0,()=>{if(T)try{for(l--;c.length&&l<r;){const P=c.shift();s?bs(e,s,()=>b(P)):b(P)}h()}catch(P){e.error(P)}}))};return t.subscribe(Nn(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function wu(t=1/0){return tr(tc,t)}function yf(...t){return function Jce(){return wu(1)}()(Kn(t,df(t)))}function vy(t){return new Jt(e=>{di(t()).subscribe(e)})}function vf(t,e){const n=st(t)?t:()=>t,r=i=>i.error(n());return new Jt(e?i=>e.schedule(r,0,i):r)}const Oo=new Jt(t=>t.complete());function sE(){return jn((t,e)=>{let n=null;t._refCount++;const r=Nn(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class aE extends Jt{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,dN(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new zr;const n=this.getSubject();e.add(this.source.subscribe(Nn(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=zr.EMPTY)}return e}refCount(){return sE()(this)}}function fi(t,e){return jn((n,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();n.subscribe(Nn(r,c=>{i?.unsubscribe();let l=0;const u=o++;di(t(c,u)).subscribe(i=Nn(r,d=>r.next(e?e(c,d,u,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function pi(t){return t<=0?()=>Oo:jn((e,n)=>{let r=0;e.subscribe(Nn(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Si(t,e){return jn((n,r)=>{let i=0;n.subscribe(Nn(r,o=>t.call(e,o,i++)&&r.next(o)))})}function by(t){return jn((e,n)=>{let r=!1;e.subscribe(Nn(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function YU(t=tle){return jn((e,n)=>{let r=!1;e.subscribe(Nn(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function tle(){return new yy}function wc(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Si((i,o)=>t(i,o,r)):tc,pi(1),n?by(e):YU(()=>new yy))}function bf(t,e){return st(e)?tr(t,e,1):tr(t,1)}function nr(t,e,n){const r=st(t)||e||n?{next:t,error:e,complete:n}:t;return r?jn((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(Nn(o,c=>{var l;null===(l=r.next)||void 0===l||l.call(r,c),o.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),o.complete()},c=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,c),o.error(c)},()=>{var c,l;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):tc}function Cu(t){return jn((e,n)=>{let o,r=null,i=!1;r=e.subscribe(Nn(n,void 0,void 0,s=>{o=di(t(s,Cu(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function cE(t){return t<=0?()=>Oo:jn((e,n)=>{let r=[];e.subscribe(Nn(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function XU(t){return tt(()=>t)}function lE(t){return jn((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const Be="primary",wf=Symbol("RouteTitle");class sle{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function xu(t){return new sle(t)}function ale(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Po(t,e){const n=t?uE(t):void 0,r=e?uE(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!JU(t[i],e[i]))return!1;return!0}function uE(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function JU(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}return t===e}function ZU(t){return t.length>0?t[t.length-1]:null}function da(t){return function Qce(t){return!!t&&(t instanceof Jt||st(t.lift)&&st(t.subscribe))}(t)?t:ef(t)?Kn(Promise.resolve(t)):Ce(t)}const lle={exact:function n9(t,e,n){if(!Cc(t.segments,e.segments)||!wy(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!n9(t.children[r],e.children[r],n))return!1;return!0},subset:r9},e9={exact:function ule(t,e){return Po(t,e)},subset:function dle(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>JU(t[n],e[n]))},ignored:()=>!0};function t9(t,e,n){return lle[n.paths](t.root,e.root,n.matrixParams)&&e9[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function r9(t,e,n){return i9(t,e,e.segments,n)}function i9(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!Cc(i,n)||e.hasChildren()||!wy(i,n,r))}if(t.segments.length===n.length){if(!Cc(t.segments,n)||!wy(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!r9(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!(Cc(t.segments,i)&&wy(t.segments,i,r)&&t.children[Be])&&i9(t.children[Be],e,o,r)}}function wy(t,e,n){return e.every((r,i)=>e9[n](t[i].parameters,r.parameters))}class Eu{constructor(e=new It([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=xu(this.queryParams),this._queryParamMap}toString(){return ple.serialize(this)}}class It{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Cy(this)}}class Cf{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=xu(this.parameters),this._parameterMap}toString(){return a9(this)}}function Cc(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let Iu=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=he({token:t,factory:()=>new dE,providedIn:"root"})}return t})();class dE{parse(e){const n=new Ile(e);return new Eu(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${xf(e.root,!0)}`,r=function _le(t){const e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${xy(n)}=${xy(i)}`).join("&"):`${xy(n)}=${xy(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function gle(t){return encodeURI(t)}(e.fragment)}`:""}`}}const ple=new dE;function Cy(t){return t.segments.map(e=>a9(e)).join("/")}function xf(t,e){if(!t.hasChildren())return Cy(t);if(e){const n=t.children[Be]?xf(t.children[Be],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==Be&&r.push(`${i}:${xf(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function fle(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===Be&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==Be&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===Be?[xf(t.children[Be],!1)]:[`${i}:${xf(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[Be]?`${Cy(t)}/${n[0]}`:`${Cy(t)}/(${n.join("//")})`}}function o9(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function xy(t){return o9(t).replace(/%3B/gi,";")}function hE(t){return o9(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ey(t){return decodeURIComponent(t)}function s9(t){return Ey(t.replace(/\+/g,"%20"))}function a9(t){return`${hE(t.path)}${function mle(t){return Object.entries(t).map(([e,n])=>`;${hE(e)}=${hE(n)}`).join("")}(t.parameters)}`}const yle=/^[^\/()?;#]+/;function fE(t){const e=t.match(yle);return e?e[0]:""}const vle=/^[^\/()?;=#]+/,wle=/^[^=?&#]+/,xle=/^[^&#]+/;class Ile{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new It([],{}):new It([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[Be]=new It(e,n)),r}parseSegment(){const e=fE(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new q(4009,!1);return this.capture(e),new Cf(Ey(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function ble(t){const e=t.match(vle);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=fE(this.remaining);i&&(r=i,this.capture(r))}e[Ey(n)]=Ey(r)}parseQueryParam(e){const n=function Cle(t){const e=t.match(wle);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const s=function Ele(t){const e=t.match(xle);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=s9(n),o=s9(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=fE(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new q(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Be);const s=this.parseChildren();n[o]=1===Object.keys(s).length?s[Be]:new It([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new q(4011,!1)}}function c9(t){return t.segments.length>0?new It([],{[Be]:t}):t}function l9(t){const e={};for(const[r,i]of Object.entries(t.children)){const o=l9(i);if(r===Be&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function Tle(t){if(1===t.numberOfChildren&&t.children[Be]){const e=t.children[Be];return new It(t.segments.concat(e.segments),e.children)}return t}(new It(t.segments,e))}function Tu(t){return t instanceof Eu}function u9(t){let e;const i=c9(function n(o){const s={};for(const c of o.children){const l=n(c);s[c.outlet]=l}const a=new It(o.url,s);return o===t&&(e=a),a}(t.root));return e??i}function d9(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return pE(i,i,i,n,r);const o=function Mle(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new f9(!0,0,t);let e=0,n=!1;const r=t.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new f9(n,e,r)}(e);if(o.toRoot())return pE(i,i,new It([],{}),n,r);const s=function Sle(t,e,n){if(t.isAbsolute)return new Ty(e,!0,0);if(!n)return new Ty(e,!1,NaN);if(null===n.parent)return new Ty(n,!0,0);const r=Iy(t.commands[0])?0:1;return function Ale(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new q(4005,!1);i=r.segments.length}return new Ty(r,!1,i-o)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(o,i,t),a=s.processChildren?If(s.segmentGroup,s.index,o.commands):p9(s.segmentGroup,s.index,o.commands);return pE(i,s.segmentGroup,a,n,r)}function Iy(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Ef(t){return"object"==typeof t&&null!=t&&t.outlets}function pE(t,e,n,r,i){let s,o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`}),s=t===e?n:h9(t,e,n);const a=c9(l9(s));return new Eu(a,o,i)}function h9(t,e,n){const r={};return Object.entries(t.children).forEach(([i,o])=>{r[i]=o===e?n:h9(o,e,n)}),new It(t.segments,r)}class f9{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Iy(r[0]))throw new q(4003,!1);const i=r.find(Ef);if(i&&i!==ZU(r))throw new q(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ty{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function p9(t,e,n){if(t??=new It([],{}),0===t.segments.length&&t.hasChildren())return If(t,e,n);const r=function Ole(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const s=t.segments[i],a=n[r];if(Ef(a))break;const c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&void 0===c)break;if(c&&l&&"object"==typeof l&&void 0===l.outlets){if(!m9(c,l,s))return o;r+=2}else{if(!m9(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const o=new It(t.segments.slice(0,r.pathIndex),{});return o.children[Be]=new It(t.segments.slice(r.pathIndex),t.children),If(o,0,i)}return r.match&&0===i.length?new It(t.segments,{}):r.match&&!t.hasChildren()?gE(t,e,n):r.match?If(t,0,i):gE(t,e,n)}function If(t,e,n){if(0===n.length)return new It(t.segments,{});{const r=function kle(t){return Ef(t[0])?t[0].outlets:{[Be]:t}}(n),i={};if(Object.keys(r).some(o=>o!==Be)&&t.children[Be]&&1===t.numberOfChildren&&0===t.children[Be].segments.length){const o=If(t.children[Be],e,n);return new It(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=p9(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new It(t.segments,i)}}function gE(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(Ef(o)){const c=Ple(o.outlets);return new It(r,c)}if(0===i&&Iy(n[0])){r.push(new Cf(t.segments[e].path,g9(n[0]))),i++;continue}const s=Ef(o)?o.outlets[Be]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Iy(a)?(r.push(new Cf(s,g9(a))),i+=2):(r.push(new Cf(s,{})),i++)}return new It(r,{})}function Ple(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=gE(new It([],{}),0,r))}),e}function g9(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function m9(t,e,n){return t==n.path&&Po(e,n.parameters)}const Tf="imperative";var nt=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(nt||{});class No{constructor(e,n){this.id=e,this.url=n}}class Dy extends No{constructor(e,n,r="imperative",i=null){super(e,n),this.type=nt.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ws extends No{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=nt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var zi=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(zi||{}),My=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(My||{});class Du extends No{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=nt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Mu extends No{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=nt.NavigationSkipped}}class Sy extends No{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=nt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class _9 extends No{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=nt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Nle extends No{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=nt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Rle extends No{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=nt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Fle extends No{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=nt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Lle extends No{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=nt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vle{constructor(e){this.route=e,this.type=nt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ule{constructor(e){this.route=e,this.type=nt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ble{constructor(e){this.snapshot=e,this.type=nt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jle{constructor(e){this.snapshot=e,this.type=nt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zle{constructor(e){this.snapshot=e,this.type=nt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $le{constructor(e){this.snapshot=e,this.type=nt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class y9{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=nt.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class mE{}class _E{constructor(e){this.url=e}}class Hle{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Df,this.attachRef=null}}let Df=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Hle,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=he({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class v9{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=yE(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=yE(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=vE(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return vE(e,this._root).map(n=>n.value)}}function yE(t,e){if(t===e.value)return e;for(const n of e.children){const r=yE(t,n);if(r)return r}return null}function vE(t,e){if(t===e.value)return[e];for(const n of e.children){const r=vE(t,n);if(r.length)return r.unshift(e),r}return[]}class lo{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Su(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class b9 extends v9{constructor(e,n){super(e),this.snapshot=n,CE(this,e)}toString(){return this.snapshot.toString()}}function w9(t){const e=function Gle(t){const o=new wE([],{},{},"",{},Be,t,null,{});return new C9("",new lo(o,[]))}(t),n=new ri([new Cf("",{})]),r=new ri({}),i=new ri({}),o=new ri({}),s=new ri(""),a=new at(n,r,o,s,i,Be,t,e.root);return a.snapshot=e.root,new b9(new lo(a,[]),e)}class at{constructor(e,n,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(tt(l=>l[wf]))??Ce(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(tt(e=>xu(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(tt(e=>xu(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function bE(t,e,n="emptyOnly"){let r;const{routeConfig:i}=t;return r=null===e||"always"!==n&&""!==i?.path&&(e.component||e.routeConfig?.loadComponent)?{params:{...t.params},data:{...t.data},resolve:{...t.data,...t._resolvedData??{}}}:{params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.data,...i?.data,...t._resolvedData}},i&&E9(i)&&(r.resolve[wf]=i.title),r}class wE{get title(){return this.data?.[wf]}constructor(e,n,r,i,o,s,a,c,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=xu(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=xu(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class C9 extends v9{constructor(e,n){super(n),this.url=e,CE(this,n)}toString(){return x9(this._root)}}function CE(t,e){e.value._routerState=t,e.children.forEach(n=>CE(t,n))}function x9(t){const e=t.children.length>0?` { ${t.children.map(x9).join(", ")} } `:"";return`${t.value}${e}`}function xE(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Po(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Po(e.params,n.params)||t.paramsSubject.next(n.params),function cle(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Po(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),Po(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function EE(t,e){const n=Po(t.params,e.params)&&function hle(t,e){return Cc(t,e)&&t.every((n,r)=>Po(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||EE(t.parent,e.parent))}function E9(t){return"string"==typeof t.title||null===t.title}let Au=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=Be,this.activateEvents=new qe,this.deactivateEvents=new qe,this.attachEvents=new qe,this.detachEvents=new qe,this.parentContexts=Z(Df),this.location=Z(io),this.changeDetector=Z(Oh),this.environmentInjector=Z(Ei),this.inputBinder=Z(Ay,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new q(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new q(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new q(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new q(4013,!1);this._activatedRoute=n;const i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new qle(n,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=Ie({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Fi]})}return t})();class qle{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===at?this.route:e===Df?this.childContexts:this.parent.get(e,n)}}const Ay=new ae("");let I9=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=oE([r.queryParams,r.params,r.data]).pipe(fi(([o,s,a],c)=>(a={...o,...s,...a},0===c?Ce(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const s=function Uie(t){const e=$e(t);if(!e)return null;const n=new Fh(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(s)for(const{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=he({token:t,factory:t.\u0275fac})}return t})();function Mf(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function Kle(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Mf(t,r,i);return Mf(t,r)})}(t,e,n);return new lo(r,i)}{if(t.shouldAttach(e.value)){const o=t.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Mf(t,a)),s}}const r=function Qle(t){return new at(new ri(t.url),new ri(t.params),new ri(t.queryParams),new ri(t.fragment),new ri(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(o=>Mf(t,o));return new lo(r,i)}}const T9="ngNavigationCancelingError";function D9(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=Tu(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=M9(!1,zi.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function M9(t,e){const n=new Error(`NavigationCancelingError: ${t||""}`);return n[T9]=!0,n.cancellationCode=e,n}function S9(t){return!!t&&t[T9]}let A9=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=je({type:t,selectors:[["ng-component"]],standalone:!0,features:[C4],decls:1,vars:0,template:function(r,i){1&r&&ee(0,"router-outlet")},dependencies:[Au],encapsulation:2})}return t})();function IE(t){const e=t.children&&t.children.map(IE),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Be&&(n.component=A9),n}function Ro(t){return t.outlet||Be}function Sf(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class rue{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),xE(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=Su(n);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Su(e);for(const s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Su(e);for(const s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=Su(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new $le(o.value.snapshot))}),e.children.length&&this.forwardEvent(new jle(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(xE(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),xE(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=Sf(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}}class k9{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class ky{constructor(e,n){this.component=e,this.route=n}}function iue(t,e,n){const r=t._root;return Af(r,e?e._root:null,n,[r.value])}function ku(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function bK(t){return null!==hm(t)}(t)?e.get(t):t:r}function Af(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Su(e);return t.children.forEach(s=>{(function sue(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const c=function aue(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Cc(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Cc(t.url,e.url)||!Po(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!EE(t,e)||!Po(t.queryParams,e.queryParams);default:return!EE(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new k9(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Af(t,e,o.component?a?a.children:null:n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ky(a.outlet.component,s))}else s&&kf(e,a,i),i.canActivateChecks.push(new k9(r)),Af(t,null,o.component?a?a.children:null:n,r,i)})(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>kf(a,n.getContext(s),i)),i}function kf(t,e,n){const r=Su(t),i=t.value;Object.entries(r).forEach(([o,s])=>{kf(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new ky(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Of(t){return"function"==typeof t}function O9(t){return t instanceof yy||"EmptyError"===t?.name}const Oy=Symbol("INITIAL_VALUE");function Ou(){return fi(t=>oE(t.map(e=>e.pipe(pi(1),function ele(...t){const e=df(t);return jn((n,r)=>{(e?yf(t,n,e):yf(t,n)).subscribe(r)})}(Oy)))).pipe(tt(e=>{for(const n of e)if(!0!==n){if(n===Oy)return Oy;if(!1===n||n instanceof Eu)return n}return!0}),Si(e=>e!==Oy),pi(1)))}function P9(t){return function bW(...t){return cN(t)}(nr(e=>{if(Tu(e))throw D9(0,e)}),tt(e=>!0===e))}class TE{constructor(e){this.segmentGroup=e||null}}class DE extends Error{constructor(e){super(),this.urlTree=e}}function Pu(t){return vf(new TE(t))}class Tue{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Ce(r);if(i.numberOfChildren>1||!i.children[Be])return vf(new q(4e3,!1));i=i.children[Be]}}applyRedirectCommands(e,n,r){const i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new DE(i);return i}applyRedirectCreateUrlTree(e,n,r,i){const o=this.createSegmentGroup(e,n.root,r,i);return new Eu(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){const o=this.createSegments(e,n.segments,r,i);let s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new It(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new q(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const ME={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Due(t,e,n,r,i){const o=SE(t,e,n);return o.matched?(r=function Xle(t,e){return t.providers&&!t._injector&&(t._injector=__(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function xue(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?Ce(i.map(s=>{const a=ku(s,t);return da(function fue(t){return t&&Of(t.canMatch)}(a)?a.canMatch(e,n):lc(t,()=>a(e,n)))})).pipe(Ou(),P9()):Ce(!0)}(r,e,n).pipe(tt(s=>!0===s?o:{...ME}))):Ce(o)}function SE(t,e,n){if("**"===e.path)return function Mue(t){return{matched:!0,parameters:t.length>0?ZU(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}(n);if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...ME}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||ale)(n,t,e);if(!i)return{...ME};const o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function N9(t,e,n,r){return n.length>0&&function kue(t,e,n){return n.some(r=>Py(t,e,r)&&Ro(r)!==Be)}(t,n,r)?{segmentGroup:new It(e,Aue(r,new It(n,t.children))),slicedSegments:[]}:0===n.length&&function Oue(t,e,n){return n.some(r=>Py(t,e,r))}(t,n,r)?{segmentGroup:new It(t.segments,Sue(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new It(t.segments,t.children),slicedSegments:n}}function Sue(t,e,n,r){const i={};for(const o of n)if(Py(t,e,o)&&!r[Ro(o)]){const s=new It([],{});i[Ro(o)]=s}return{...r,...i}}function Aue(t,e){const n={};n[Be]=e;for(const r of t)if(""===r.path&&Ro(r)!==Be){const i=new It([],{});n[Ro(r)]=i}return n}function Py(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class Rue{}class Vue{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Tue(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new q(4002,`'${e.segmentGroup}'`)}recognize(){const e=N9(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(tt(n=>{const r=new wE([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Be,this.rootComponentType,null,{}),i=new lo(r,n),o=new C9("",i),s=function Dle(t,e,n=null,r=null){return d9(u9(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,Be).pipe(Cu(r=>{if(r instanceof DE)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof TE?this.noMatchError(r):r}))}inheritParamsAndData(e,n){const r=e.value,i=bE(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(o=>this.inheritParamsAndData(o,r))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(tt(o=>o instanceof lo?[o]:[]))}processChildren(e,n,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return Kn(i).pipe(bf(o=>{const s=r.children[o],a=function tue(t,e){const n=t.filter(r=>Ro(r)===e);return n.push(...t.filter(r=>Ro(r)!==e)),n}(n,o);return this.processSegmentGroup(e,a,s,o)}),function rle(t,e){return jn(function nle(t,e,n,r,i){return(o,s)=>{let a=n,c=e,l=0;o.subscribe(Nn(s,u=>{const d=l++;c=a?t(c,u,d):(a=!0,u),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}(t,e,arguments.length>=2,!0))}((o,s)=>(o.push(...s),o)),by(null),function ile(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Si((i,o)=>t(i,o,r)):tc,cE(1),n?by(e):YU(()=>new yy))}(),tr(o=>{if(null===o)return Pu(r);const s=R9(o);return function Uue(t){t.sort((e,n)=>e.value.outlet===Be?-1:n.value.outlet===Be?1:e.value.outlet.localeCompare(n.value.outlet))}(s),Ce(s)}))}processSegment(e,n,r,i,o,s){return Kn(n).pipe(bf(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,o,s).pipe(Cu(c=>{if(c instanceof TE)return Ce(null);throw c}))),wc(a=>!!a),Cu(a=>{if(O9(a))return function Nue(t,e,n){return 0===e.length&&!t.children[n]}(r,i,o)?Ce(new Rue):Pu(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,o,s,a){return function Pue(t,e,n,r){return!!(Ro(t)===r||r!==Be&&Py(e,n,t))&&SE(e,t,n).matched}(r,i,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):Pu(i):Pu(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){const{matched:a,consumedSegments:c,positionalParamSegments:l,remainingSegments:u}=SE(n,i,o);if(!a)return Pu(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,l);return this.applyRedirects.lineralizeSegments(i,d).pipe(tr(h=>this.processSegment(e,r,n,h.concat(u),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o){const s=Due(n,r,i,e);return"**"===r.path&&(n.children={}),s.pipe(fi(a=>a.matched?this.getChildConfig(e=r._injector??e,r,i).pipe(fi(({routes:c})=>{const l=r._loadedInjector??e,{consumedSegments:u,remainingSegments:d,parameters:h}=a,f=new wE(u,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function jue(t){return t.data||{}}(r),Ro(r),r.component??r._loadedComponent??null,r,function zue(t){return t.resolve||{}}(r)),{segmentGroup:b,slicedSegments:x}=N9(n,u,d,c);if(0===x.length&&b.hasChildren())return this.processChildren(l,c,b).pipe(tt(P=>null===P?null:new lo(f,P)));if(0===c.length&&0===x.length)return Ce(new lo(f,[]));const T=Ro(r)===o;return this.processSegment(l,c,b,x,T?Be:o,!0).pipe(tt(P=>new lo(f,P instanceof lo?[P]:[])))})):Pu(n)))}getChildConfig(e,n,r){return n.children?Ce({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?Ce({routes:n._loadedRoutes,injector:n._loadedInjector}):function Cue(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?Ce(!0):Ce(i.map(s=>{const a=ku(s,t);return da(function lue(t){return t&&Of(t.canLoad)}(a)?a.canLoad(e,n):lc(t,()=>a(e,n)))})).pipe(Ou(),P9())}(e,n,r).pipe(tr(i=>i?this.configLoader.loadChildren(e,n).pipe(nr(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):function Iue(t){return vf(M9(!1,zi.GuardRejected))}())):Ce({routes:[],injector:e})}}function Bue(t){const e=t.value.routeConfig;return e&&""===e.path}function R9(t){const e=[],n=new Set;for(const r of t){if(!Bue(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=R9(r.children);e.push(new lo(r.value,i))}return e.filter(r=>!n.has(r))}function F9(t){const e=t.children.map(n=>F9(n)).flat();return[t,...e]}function AE(t){return fi(e=>{const n=t(e);return n?Kn(n).pipe(tt(()=>e)):Ce(e)})}let L9=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Be);return r}getResolvedTitleForRoute(n){return n.data[wf]}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=he({token:t,factory:()=>Z(Kue),providedIn:"root"})}return t})(),Kue=(()=>{class t extends L9{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||t)(ye(uae))};static#t=this.\u0275prov=he({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Nu=new ae("",{providedIn:"root",factory:()=>({})}),Ru=new ae("");let kE=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Z(aV)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Ce(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=da(n.loadComponent()).pipe(tt(V9),nr(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),lE(()=>{this.componentLoaders.delete(n)})),i=new aE(r,()=>new ni).pipe(sE());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Ce({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=function Que(t,e,n,r){return da(t.loadChildren()).pipe(tt(V9),tr(i=>i instanceof gL||Array.isArray(i)?Ce(i):Kn(e.compileModuleAsync(i))),tt(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,!0):(o=i.create(n).injector,s=o.get(Ru,[],{optional:!0,self:!0}).flat()),{routes:s.map(IE),injector:o}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(lE(()=>{this.childrenLoaders.delete(r)})),s=new aE(o,()=>new ni).pipe(sE());return this.childrenLoaders.set(r,s),s}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=he({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function V9(t){return function Yue(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let OE=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=he({token:t,factory:()=>Z(Xue),providedIn:"root"})}return t})(),Xue=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=he({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const U9=new ae(""),B9=new ae("");function Jue(t,e,n){const r=t.get(B9),i=t.get(Vi);return t.get(Je).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,Promise.resolve();let o;const s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),function Zue(t){return new Promise(e=>{NF(e,{injector:t})})}(t))),{onViewTransitionCreated:c}=r;return c&&lc(t,()=>c({transition:a,from:e,to:n})),s})}let Ny=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ni,this.transitionAbortSubject=new ni,this.configLoader=Z(kE),this.environmentInjector=Z(Ei),this.urlSerializer=Z(Iu),this.rootContexts=Z(Df),this.location=Z(Pr),this.inputBindingEnabled=null!==Z(Ay,{optional:!0}),this.titleStrategy=Z(L9),this.options=Z(Nu,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=Z(OE),this.createViewTransition=Z(U9,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Ce(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new Ule(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new Vle(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n,r,i){return this.transitions=new ri({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Tf,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Si(o=>0!==o.id),tt(o=>({...o,extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),fi(o=>{this.currentTransition=o;let s=!1,a=!1;return Ce(o).pipe(nr(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),fi(c=>{const l=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!l&&"reload"!==(c.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const d="";return this.events.next(new Mu(c.id,this.urlSerializer.serialize(c.rawUrl),d,My.IgnoredSameUrlNavigation)),c.resolve(null),Oo}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return Ce(c).pipe(fi(d=>{const h=this.transitions?.getValue();return this.events.next(new Dy(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions?.getValue()?Oo:Promise.resolve(d)}),function $ue(t,e,n,r,i,o){return tr(s=>function Fue(t,e,n,r,i,o,s="emptyOnly"){return new Vue(t,e,n,r,i,s,o).recognize()}(t,e,n,r,s.extractedUrl,i,o).pipe(tt(({state:a,tree:c})=>({...s,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),nr(d=>{o.targetSnapshot=d.targetSnapshot,o.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:d.urlAfterRedirects};const h=new _9(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:d,extractedUrl:h,source:f,restoredState:b,extras:x}=c,T=new Dy(d,this.urlSerializer.serialize(h),f,b);this.events.next(T);const P=w9(this.rootComponentType).snapshot;return this.currentTransition=o={...c,targetSnapshot:P,urlAfterRedirects:h,extras:{...x,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=h,Ce(o)}{const d="";return this.events.next(new Mu(c.id,this.urlSerializer.serialize(c.extractedUrl),d,My.IgnoredByUrlHandlingStrategy)),c.resolve(null),Oo}}),nr(c=>{const l=new Nle(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),tt(c=>(this.currentTransition=o={...c,guards:iue(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},o)),function pue(t,e){return tr(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Ce({...n,guardsResult:!0}):function gue(t,e,n,r){return Kn(t).pipe(tr(i=>function wue(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?Ce(o.map(a=>{const c=Sf(e)??i,l=ku(a,c);return da(function hue(t){return t&&Of(t.canDeactivate)}(l)?l.canDeactivate(t,e,n,r):lc(c,()=>l(t,e,n,r))).pipe(wc())})).pipe(Ou()):Ce(!0)}(i.component,i.route,n,e,r)),wc(i=>!0!==i,!0))}(s,r,i,t).pipe(tr(a=>a&&function cue(t){return"boolean"==typeof t}(a)?function mue(t,e,n,r){return Kn(e).pipe(bf(i=>yf(function yue(t,e){return null!==t&&e&&e(new Ble(t)),Ce(!0)}(i.route.parent,r),function _ue(t,e){return null!==t&&e&&e(new zle(t)),Ce(!0)}(i.route,r),function bue(t,e,n){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function oue(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(s)).filter(s=>null!==s).map(s=>vy(()=>Ce(s.guards.map(c=>{const l=Sf(s.node)??n,u=ku(c,l);return da(function due(t){return t&&Of(t.canActivateChild)}(u)?u.canActivateChild(r,t):lc(l,()=>u(r,t))).pipe(wc())})).pipe(Ou())));return Ce(o).pipe(Ou())}(t,i.path,n),function vue(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Ce(!0);const i=r.map(o=>vy(()=>{const s=Sf(e)??n,a=ku(o,s);return da(function uue(t){return t&&Of(t.canActivate)}(a)?a.canActivate(e,t):lc(s,()=>a(e,t))).pipe(wc())}));return Ce(i).pipe(Ou())}(t,i.route,n))),wc(i=>!0!==i,!0))}(r,o,t,e):Ce(a)),tt(a=>({...n,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),nr(c=>{if(o.guardsResult=c.guardsResult,Tu(c.guardsResult))throw D9(0,c.guardsResult);const l=new Rle(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),Si(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",zi.GuardRejected),!1)),AE(c=>{if(c.guards.canActivateChecks.length)return Ce(c).pipe(nr(l=>{const u=new Fle(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),fi(l=>{let u=!1;return Ce(l).pipe(function Hue(t,e){return tr(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Ce(n);const o=new Set(i.map(c=>c.route)),s=new Set;for(const c of o)if(!s.has(c))for(const l of F9(c))s.add(l);let a=0;return Kn(s).pipe(bf(c=>o.has(c)?function Gue(t,e,n,r){const i=t.routeConfig,o=t._resolve;return void 0!==i?.title&&!E9(i)&&(o[wf]=i.title),function que(t,e,n,r){const i=uE(t);if(0===i.length)return Ce({});const o={};return Kn(i).pipe(tr(s=>function Wue(t,e,n,r){const i=Sf(e)??r,o=ku(t,i);return da(o.resolve?o.resolve(e,n):lc(i,()=>o(e,n)))}(t[s],e,n,r).pipe(wc(),nr(a=>{o[s]=a}))),cE(1),XU(o),Cu(s=>O9(s)?Oo:vf(s)))}(o,t,e,r).pipe(tt(s=>(t._resolvedData=s,t.data=bE(t,t.parent,n).resolve,null)))}(c,r,t,e):(c.data=bE(c,c.parent,t).resolve,Ce(void 0))),nr(()=>a++),cE(1),tr(c=>a===s.size?Ce(n):Oo))})}(this.paramsInheritanceStrategy,this.environmentInjector),nr({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(l,"",zi.NoDataFromResolver)}}))}),nr(l=>{const u=new Lle(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}))}),AE(c=>{const l=u=>{const d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(nr(h=>{u.component=h}),tt(()=>{})));for(const h of u.children)d.push(...l(h));return d};return oE(l(c.targetSnapshot.root)).pipe(by(null),pi(1))}),AE(()=>this.afterPreactivation()),fi(()=>{const{currentSnapshot:c,targetSnapshot:l}=o,u=this.createViewTransition?.(this.environmentInjector,c.root,l.root);return u?Kn(u).pipe(tt(()=>o)):Ce(o)}),tt(c=>{const l=function Wle(t,e,n){const r=Mf(t,e._root,n?n._root:void 0);return new b9(r,e)}(n.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o={...c,targetRouterState:l},this.currentNavigation.targetRouterState=l,o}),nr(()=>{this.events.next(new mE)}),((t,e,n,r)=>tt(i=>(new rue(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,n.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),pi(1),nr({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ws(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),function ole(t){return jn((e,n)=>{di(t).subscribe(Nn(n,()=>n.complete(),Kd)),!n.closed&&e.subscribe(n)})}(this.transitionAbortSubject.pipe(nr(c=>{throw c}))),lE(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",zi.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Cu(c=>{if(a=!0,S9(c))this.events.next(new Du(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),function Yle(t){return S9(t)&&Tu(t.url)}(c)?this.events.next(new _E(c.url)):o.resolve(!1);else{this.events.next(new Sy(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(n.errorHandler(c))}catch(l){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(l)}}return Oo}))}))}cancelNavigationTransition(n,r,i){const o=new Du(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=he({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ede(t){return t!==Tf}let tde=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=he({token:t,factory:()=>Z(rde),providedIn:"root"})}return t})();class nde{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let rde=(()=>{class t extends nde{static#e=this.\u0275fac=(()=>{let n;return function(i){return(n||(n=er(t)))(i||t)}})();static#t=this.\u0275prov=he({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),j9=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=he({token:t,factory:()=>Z(ide),providedIn:"root"})}return t})(),ide=(()=>{class t extends j9{constructor(){super(...arguments),this.location=Z(Pr),this.urlSerializer=Z(Iu),this.options=Z(Nu,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=Z(OE),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Eu,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=w9(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{"popstate"===r.type&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof Dy)this.stateMemento=this.createStateMemento();else if(n instanceof Mu)this.rawUrlTree=r.initialUrl;else if(n instanceof _9){if("eager"===this.urlUpdateStrategy&&!r.extras.skipLocationChange){const i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(i,r)}}else n instanceof mE?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):n instanceof Du&&(n.code===zi.GuardRejected||n.code===zi.NoDataFromResolver)?this.restoreHistory(r):n instanceof Sy?this.restoreHistory(r,!0):n instanceof ws&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",s)}else{const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",o)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===n.finalUrl&&0===o&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static#e=this.\u0275fac=(()=>{let n;return function(i){return(n||(n=er(t)))(i||t)}})();static#t=this.\u0275prov=he({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Pf=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Pf||{});function z9(t,e){t.events.pipe(Si(n=>n instanceof ws||n instanceof Du||n instanceof Sy||n instanceof Mu),tt(n=>n instanceof ws||n instanceof Mu?Pf.COMPLETE:n instanceof Du&&(n.code===zi.Redirect||n.code===zi.SupersededByNewNavigation)?Pf.REDIRECTING:Pf.FAILED),Si(n=>n!==Pf.REDIRECTING),pi(1)).subscribe(()=>{e()})}function ode(t){throw t}const sde={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ade={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Te=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=Z(X4),this.stateManager=Z(j9),this.options=Z(Nu,{optional:!0})||{},this.pendingTasks=Z(Vh),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=Z(Ny),this.urlSerializer=Z(Iu),this.location=Z(Pr),this.urlHandlingStrategy=Z(OE),this._events=new ni,this.errorHandler=this.options.errorHandler||ode,this.navigated=!1,this.routeReuseStrategy=Z(tde),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=Z(Ru,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!Z(Ay,{optional:!0}),this.eventsSubscription=new zr,this.isNgZoneEnabled=Z(Je)instanceof Je&&Je.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(null!==i&&null!==o)if(this.stateManager.handleRouterEvent(r,o),r instanceof Du&&r.code!==zi.Redirect&&r.code!==zi.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof ws)this.navigated=!0;else if(r instanceof _E){const s=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),a={info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||ede(i.source)};this.scheduleNavigation(s,Tf,null,a,{resolve:i.resolve,reject:i.reject,promise:i.promise})}(function lde(t){return!(t instanceof mE||t instanceof _E)})(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Tf,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){const o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){const c={...i};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(o.state=c)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(IE),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s;let d,u=null;switch(a){case"merge":u={...this.currentUrlTree.queryParams,...o};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}null!==u&&(u=this.removeEmptyProps(u));try{d=u9(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),d=this.currentUrlTree.root}return d9(d,n,u,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=Tu(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Tf,null,r)}navigate(n,r={skipLocationChange:!1}){return function cde(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new q(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(i=!0===r?{...sde}:!1===r?{...ade}:r,Tu(n))return t9(this.currentUrlTree,n,i);const o=this.parseUrl(n);return t9(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(null!=o&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((d,h)=>{a=d,c=h});const u=this.pendingTasks.add();return z9(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=he({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class $9{}let hde=(()=>{class t{constructor(n,r,i,o,s){this.router=n,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Si(n=>n instanceof ws),bf(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=__(o.providers,n,`Route: ${o.path}`));const s=o._injector??n,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Kn(i).pipe(wu())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):Ce(null);const o=i.pipe(tr(s=>null===s?Ce(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));return r.loadComponent&&!r._loadedComponent?Kn([o,this.loader.loadComponent(r)]).pipe(wu()):o})}static#e=this.\u0275fac=function(r){return new(r||t)(ye(Te),ye(aV),ye(Ei),ye($9),ye(kE))};static#t=this.\u0275prov=he({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const NE=new ae("");let H9=(()=>{class t{constructor(n,r,i,o,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Dy?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof ws?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Mu&&n.code===My.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof y9&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new y9(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){!function U2(){throw new Error("invalid")}()};static#t=this.\u0275prov=he({token:t,factory:t.\u0275fac})}return t})();function Fo(t,e){return{\u0275kind:t,\u0275providers:e}}function q9(){const t=Z(wn);return e=>{const n=t.get(gs);if(e!==n.components[0])return;const r=t.get(Te),i=t.get(W9);1===t.get(RE)&&r.initialNavigation(),t.get(K9,null,Ye.Optional)?.setUpPreloading(),t.get(NE,null,Ye.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const W9=new ae("",{factory:()=>new ni}),RE=new ae("",{providedIn:"root",factory:()=>1}),K9=new ae("");function mde(t){return Fo(0,[{provide:K9,useExisting:hde},{provide:$9,useExisting:t}])}function yde(t){return Fo(9,[{provide:U9,useValue:Jue},{provide:B9,useValue:{skipNextTransition:!!t?.skipInitialTransition,...t}}])}const Q9=new ae("ROUTER_FORROOT_GUARD"),vde=[Pr,{provide:Iu,useClass:dE},Te,Df,{provide:at,useFactory:function G9(t){return t.routerState.root},deps:[Te]},kE,[]];let uo=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[vde,[],{provide:Ru,multi:!0,useValue:n},{provide:Q9,useFactory:xde,deps:[[Te,new an,new Em]]},{provide:Nu,useValue:r||{}},r?.useHash?{provide:sa,useClass:HV}:{provide:sa,useClass:$V},{provide:NE,useFactory:()=>{const t=Z(lse),e=Z(Je),n=Z(Nu),r=Z(Ny),i=Z(Iu);return n.scrollOffset&&t.setOffset(n.scrollOffset),new H9(i,r,t,e,n)}},r?.preloadingStrategy?mde(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?Ede(r):[],r?.bindToComponentInputs?Fo(8,[I9,{provide:Ay,useExisting:I9}]).\u0275providers:[],r?.enableViewTransitions?yde().\u0275providers:[],[{provide:Y9,useFactory:q9},{provide:Q1,multi:!0,useExisting:Y9}]]}}static forChild(n){return{ngModule:t,providers:[{provide:Ru,multi:!0,useValue:n}]}}static#e=this.\u0275fac=function(r){return new(r||t)(ye(Q9,8))};static#t=this.\u0275mod=on({type:t});static#n=this.\u0275inj=en({})}return t})();function xde(t){return"guarded"}function Ede(t){return["disabled"===t.initialNavigation?Fo(3,[{provide:R_,multi:!0,useFactory:()=>{const e=Z(Te);return()=>{e.setUpLocationChangeListener()}}},{provide:RE,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?Fo(2,[{provide:RE,useValue:0},{provide:R_,multi:!0,deps:[wn],useFactory:e=>{const n=e.get(zie,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(Te),o=e.get(W9);z9(i,()=>{r(!0)}),e.get(Ny).afterPreactivation=()=>(r(!0),o.closed?Ce(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const Y9=new ae(""),ne=function(t,e){if(!t)throw Fu(e)},Fu=function(t){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+t)},X9=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},Ry={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,c=i+2<t.length,l=c?t[i+2]:0;let h=(15&a)<<2|l>>6,f=63&l;c||(f=64,s||(h=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(X9(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const c=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(1023&c))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const l=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==l||null==d)throw new Dde;r.push(o<<2|a>>4),64!==l&&(r.push(a<<4&240|l>>2),64!==d&&r.push(l<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Dde extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const J9=function(t){const e=X9(t);return Ry.encodeByteArray(e,!0)},Fy=function(t){return J9(t).replace(/\./g,"")},Ly=function(t){try{return Ry.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Mde(t){return Z9(void 0,t)}function Z9(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!Sde(n)||(t[n]=Z9(t[n],e[n]));return t}function Sde(t){return"__proto__"!==t}const Vy=()=>{try{return function Ade(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Ly(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},eB=t=>{var e,n;return null===(n=null===(e=Vy())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},LE=t=>{const e=eB(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]},tB=()=>{var t;return null===(t=Vy())||void 0===t?void 0:t.config},nB=t=>{var e;return null===(e=Vy())||void 0===e?void 0:e[`_${t}`]};class Lu{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function rB(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Fy(JSON.stringify({alg:"none",type:"JWT"})),Fy(JSON.stringify(s)),""].join(".")}function Sn(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function VE(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Sn())}function UE(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function iB(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ha(){try{return"object"==typeof indexedDB}catch{return!1}}function Nf(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e((null===(o=i.error)||void 0===o?void 0:o.message)||"")}}catch(n){e(n)}})}function BE(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ai extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Ai.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Lo.prototype.create)}}class Lo{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?function Vde(t,e){return t.replace(Ude,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(o,r):"Error";return new Ai(i,`${this.serviceName}: ${s} (${i}).`,r)}}const Ude=/\{\$([^}]+)}/g;function Rf(t){return JSON.parse(t)}function _r(t){return JSON.stringify(t)}const Uy=function(t){let e={},n={},r={},i="";try{const o=t.split(".");e=Rf(Ly(o[0])||""),n=Rf(Ly(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}};function Vo(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Vu(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function jE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function By(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function jy(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(oB(o)&&oB(s)){if(!jy(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function oB(t){return null!==t&&"object"==typeof t}function Uu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ff(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Lf(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}class zde{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if("string"==typeof e)for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=4294967295&(h<<1|h>>>31)}let l,u,i=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],c=this.chain_[4];for(let d=0;d<80;d++){d<40?d<20?(l=a^o&(s^a),u=1518500249):(l=o^s^a,u=1859775393):d<60?(l=o&s|a&(o|s),u=2400959708):(l=o^s^a,u=3395469782);const h=(i<<5|i>>>27)+l+c+u+r[d]&4294967295;c=a,a=s,s=4294967295&(o<<30|o>>>2),o=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,n){if(null==e)return;void 0===n&&(n=e.length);const r=n-this.blockSize;let i=0;const o=this.buf_;let s=this.inbuf_;for(;i<n;){if(0===s)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if("string"==typeof e){for(;i<n;)if(o[s]=e.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}else for(;i<n;)if(o[s]=e[i],++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){const e=[];let n=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=255&n,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)e[r]=this.chain_[i]>>o&255,++r;return e}}class Hde{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function Gde(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=zE),void 0===i.error&&(i.error=zE),void 0===i.complete&&(i.complete=zE);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zE(){}const zy=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},Wde=1e3,Kde=2,Qde=144e5,Yde=.5;function $E(t,e=Wde,n=Kde){const r=e*Math.pow(n,t),i=Math.round(Yde*r*(Math.random()-.5)*2);return Math.min(Qde,r+i)}function St(t){return t&&t._delegate?t._delegate:t}class rr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const xc="[DEFAULT]";class Jde{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Lu;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function ehe(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:xc})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=xc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return m(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=xc){return this.instances.has(e)}getOptions(e=xc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(o)&&s.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===xc?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=xc){return this.component?this.component.multipleInstances?e:xc:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class the{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Jde(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const HE=[];var rt=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(rt||{});const sB={debug:rt.DEBUG,verbose:rt.VERBOSE,info:rt.INFO,warn:rt.WARN,error:rt.ERROR,silent:rt.SILENT},nhe=rt.INFO,rhe={[rt.DEBUG]:"log",[rt.VERBOSE]:"log",[rt.INFO]:"info",[rt.WARN]:"warn",[rt.ERROR]:"error"},ihe=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=rhe[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class Ec{constructor(e){this.name=e,this._logLevel=nhe,this._logHandler=ihe,this._userLogHandler=null,HE.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in rt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?sB[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,rt.DEBUG,...e),this._logHandler(this,rt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,rt.VERBOSE,...e),this._logHandler(this,rt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,rt.INFO,...e),this._logHandler(this,rt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,rt.WARN,...e),this._logHandler(this,rt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,rt.ERROR,...e),this._logHandler(this,rt.ERROR,...e)}}const ohe=(t,e)=>e.some(n=>t instanceof n);let aB,cB;const lB=new WeakMap,GE=new WeakMap,uB=new WeakMap,qE=new WeakMap,WE=new WeakMap;let KE={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return GE.get(t);if("objectStoreNames"===e)return t.objectStoreNames||uB.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return fa(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function hhe(t){return"function"==typeof t?function dhe(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ahe(){return cB||(cB=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(QE(this),e),fa(lB.get(this))}:function(...e){return fa(t.apply(QE(this),e))}:function(e,...n){const r=t.call(QE(this),e,...n);return uB.set(r,e.sort?e.sort():[e]),fa(r)}}(t):(t instanceof IDBTransaction&&function lhe(t){if(GE.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});GE.set(t,e)}(t),ohe(t,function she(){return aB||(aB=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,KE):t)}function fa(t){if(t instanceof IDBRequest)return function che(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(fa(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&lB.set(n,t)}).catch(()=>{}),WE.set(e,t),e}(t);if(qE.has(t))return qE.get(t);const e=hhe(t);return e!==t&&(qE.set(t,e),WE.set(e,t)),e}const QE=t=>WE.get(t),phe=["get","getKey","getAll","getAllKeys","count"],ghe=["put","add","delete","clear"],YE=new Map;function dB(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(YE.get(e))return YE.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=ghe.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!phe.includes(n))return;const o=function(){var s=m(function*(a,...c){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(c.shift())),(yield Promise.all([u[n](...c),i&&l.done]))[0]});return function(c){return s.apply(this,arguments)}}();return YE.set(e,o),o}!function uhe(t){KE=t(KE)}(t=>({...t,get:(e,n,r)=>dB(e,n)||t.get(e,n,r),has:(e,n)=>!!dB(e,n)||t.has(e,n)}));class mhe{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function _he(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const XE="@firebase/app",Ic=new Ec("@firebase/app"),$y="[DEFAULT]",$he={[XE]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Tc=new Map,Hy=new Map;function Hhe(t,e){try{t.container.addComponent(e)}catch(n){Ic.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function yr(t){const e=t.name;if(Hy.has(e))return Ic.debug(`There were multiple attempts to register component ${e}.`),!1;Hy.set(e,t);for(const n of Tc.values())Hhe(n,t);return!0}function pa(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const xs=new Lo("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class qhe{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new rr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xs.create("app-deleted",{appName:this._name})}}const ga="9.23.0";function fB(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:$y,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw xs.create("bad-app-name",{appName:String(i)});if(n||(n=tB()),!n)throw xs.create("no-options");const o=Tc.get(i);if(o){if(jy(n,o.options)&&jy(r,o.config))return o;throw xs.create("duplicate-app",{appName:i})}const s=new the(i);for(const c of Hy.values())s.addComponent(c);const a=new qhe(n,r,s);return Tc.set(i,a),a}function Uf(t=$y){const e=Tc.get(t);if(!e&&t===$y&&tB())return fB();if(!e)throw xs.create("no-app",{appName:t});return e}function pB(){return Array.from(Tc.values())}function Tt(t,e,n){var r;let i=null!==(r=$he[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];return o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Ic.warn(a.join(" "))}yr(new rr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const Whe="firebase-heartbeat-database",Khe=1,Bf="firebase-heartbeat-store";let ZE=null;function gB(){return ZE||(ZE=function fhe(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=fa(s);return r&&s.addEventListener("upgradeneeded",c=>{r(fa(s.result),c.oldVersion,c.newVersion,fa(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}(Whe,Khe,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Bf)}}).catch(t=>{throw xs.create("idb-open",{originalErrorMessage:t.message})})),ZE}function eI(){return(eI=m(function*(t){try{return yield(yield gB()).transaction(Bf).objectStore(Bf).get(_B(t))}catch(e){if(e instanceof Ai)Ic.warn(e.message);else{const n=xs.create("idb-get",{originalErrorMessage:e?.message});Ic.warn(n.message)}}})).apply(this,arguments)}function mB(t,e){return tI.apply(this,arguments)}function tI(){return(tI=m(function*(t,e){try{const r=(yield gB()).transaction(Bf,"readwrite");yield r.objectStore(Bf).put(e,_B(t)),yield r.done}catch(n){if(n instanceof Ai)Ic.warn(n.message);else{const r=xs.create("idb-set",{originalErrorMessage:n?.message});Ic.warn(r.message)}}})).apply(this,arguments)}function _B(t){return`${t.name}!${t.options.appId}`}class Jhe{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new efe(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return m(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=yB();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(o=>o.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(o=>{const s=new Date(o.date).valueOf();return Date.now()-s<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return m(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=yB(),{heartbeatsToSend:r,unsentEntries:i}=function Zhe(t,e=1024){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),vB(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),vB(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),o=Fy(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),o})()}}function yB(){return(new Date).toISOString().substring(0,10)}class efe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return m(function*(){return!!ha()&&Nf().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return m(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function Qhe(t){return eI.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return m(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return mB(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return m(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return mB(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}})()}}function vB(t){return Fy(JSON.stringify({version:2,heartbeats:t})).length}!function tfe(t){yr(new rr("platform-logger",e=>new mhe(e),"PRIVATE")),yr(new rr("heartbeat",e=>new Jhe(e),"PRIVATE")),Tt(XE,"0.9.13",t),Tt(XE,"0.9.13","esm2017"),Tt("fire-js","")}(""),Tt("firebase","9.23.0","app");const ife=(t,e)=>e.some(n=>t instanceof n);let bB,wB;const CB=new WeakMap,nI=new WeakMap,xB=new WeakMap,rI=new WeakMap,iI=new WeakMap;let oI={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return nI.get(t);if("objectStoreNames"===e)return t.objectStoreNames||xB.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ma(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function dfe(t){return"function"==typeof t?function ufe(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function sfe(){return wB||(wB=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(sI(this),e),ma(CB.get(this))}:function(...e){return ma(t.apply(sI(this),e))}:function(e,...n){const r=t.call(sI(this),e,...n);return xB.set(r,e.sort?e.sort():[e]),ma(r)}}(t):(t instanceof IDBTransaction&&function cfe(t){if(nI.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});nI.set(t,e)}(t),ife(t,function ofe(){return bB||(bB=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,oI):t)}function ma(t){if(t instanceof IDBRequest)return function afe(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(ma(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&CB.set(n,t)}).catch(()=>{}),iI.set(e,t),e}(t);if(rI.has(t))return rI.get(t);const e=dfe(t);return e!==t&&(rI.set(t,e),iI.set(e,t)),e}const sI=t=>iI.get(t),ffe=["get","getKey","getAll","getAllKeys","count"],pfe=["put","add","delete","clear"],aI=new Map;function EB(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(aI.get(e))return aI.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=pfe.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!ffe.includes(n))return;const o=function(){var s=m(function*(a,...c){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(c.shift())),(yield Promise.all([u[n](...c),i&&l.done]))[0]});return function(c){return s.apply(this,arguments)}}();return aI.set(e,o),o}!function lfe(t){oI=t(oI)}(t=>({...t,get:(e,n,r)=>EB(e,n)||t.get(e,n,r),has:(e,n)=>!!EB(e,n)||t.has(e,n)}));const IB="@firebase/installations",cI="0.6.4",TB=1e4,DB=`w:${cI}`,MB="FIS_v2",gfe="https://firebaseinstallations.googleapis.com/v1",mfe=36e5,Es=new Lo("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function SB(t){return t instanceof Ai&&t.code.includes("request-failed")}function lI({projectId:t}){return`${gfe}/projects/${t}/installations`}function AB(t){return{token:t.token,requestStatus:2,expiresIn:bfe(t.expiresIn),creationTime:Date.now()}}function uI(t,e){return dI.apply(this,arguments)}function dI(){return(dI=m(function*(t,e){const r=(yield e.json()).error;return Es.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function kB({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function hI(t){return fI.apply(this,arguments)}function fI(){return(fI=m(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function bfe(t){return Number(t.replace("s","000"))}function pI(){return(pI=m(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=lI(t),i=kB(t),o=e.getImmediate({optional:!0});if(o){const l=yield o.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:MB,appId:t.appId,sdkVersion:DB})},c=yield hI(()=>fetch(r,a));if(c.ok){const l=yield c.json();return{fid:l.fid||n,registrationStatus:2,refreshToken:l.refreshToken,authToken:AB(l.authToken)}}throw yield uI("Create Installation",c)})).apply(this,arguments)}function PB(t){return new Promise(e=>{setTimeout(e,t)})}const Efe=/^[cdef][\w-]{21}$/,gI="";function Ife(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function Tfe(t){return function xfe(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return Efe.test(n)?n:gI}catch{return gI}}function Bu(t){return`${t.appName}!${t.appId}`}const ju=new Map;function NB(t,e){const n=Bu(t);RB(n,e),function Sfe(t,e){const n=function FB(){return!Dc&&"BroadcastChannel"in self&&(Dc=new BroadcastChannel("[Firebase] FID Change"),Dc.onmessage=t=>{RB(t.data.key,t.data.fid)}),Dc}();n&&n.postMessage({key:t,fid:e}),function LB(){0===ju.size&&Dc&&(Dc.close(),Dc=null)}()}(n,e)}function RB(t,e){const n=ju.get(t);if(n)for(const r of n)r(e)}let Dc=null;const Afe="firebase-installations-database",kfe=1,Mc="firebase-installations-store";let mI=null;function _I(){return mI||(mI=function hfe(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=ma(s);return r&&s.addEventListener("upgradeneeded",c=>{r(ma(s.result),c.oldVersion,c.newVersion,ma(s.transaction))}),n&&s.addEventListener("blocked",()=>n()),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(Afe,kfe,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Mc)}})),mI}function Gy(t,e){return yI.apply(this,arguments)}function yI(){return(yI=m(function*(t,e){const n=Bu(t),i=(yield _I()).transaction(Mc,"readwrite"),o=i.objectStore(Mc),s=yield o.get(n);return yield o.put(e,n),yield i.done,(!s||s.fid!==e.fid)&&NB(t,e.fid),e})).apply(this,arguments)}function vI(t){return bI.apply(this,arguments)}function bI(){return(bI=m(function*(t){const e=Bu(t),r=(yield _I()).transaction(Mc,"readwrite");yield r.objectStore(Mc).delete(e),yield r.done})).apply(this,arguments)}function jf(t,e){return wI.apply(this,arguments)}function wI(){return(wI=m(function*(t,e){const n=Bu(t),i=(yield _I()).transaction(Mc,"readwrite"),o=i.objectStore(Mc),s=yield o.get(n),a=e(s);return void 0===a?yield o.delete(n):yield o.put(a,n),yield i.done,a&&(!s||s.fid!==a.fid)&&NB(t,a.fid),a})).apply(this,arguments)}function CI(t){return xI.apply(this,arguments)}function xI(){return xI=m(function*(t){let e;const n=yield jf(t.appConfig,r=>{const i=function Ofe(t){return UB(t||{fid:Ife(),registrationStatus:0})}(r),o=function Pfe(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Es.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function Nfe(t,e){return EI.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Rfe(t)}:{installationEntry:e}}(t,i);return e=o.registrationPromise,o.installationEntry});return n.fid===gI?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),xI.apply(this,arguments)}function EI(){return EI=m(function*(t,e){try{const n=yield function Cfe(t,e){return pI.apply(this,arguments)}(t,e);return Gy(t.appConfig,n)}catch(n){throw SB(n)&&409===n.customData.serverCode?yield vI(t.appConfig):yield Gy(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),EI.apply(this,arguments)}function Rfe(t){return II.apply(this,arguments)}function II(){return(II=m(function*(t){let e=yield VB(t.appConfig);for(;1===e.registrationStatus;)yield PB(100),e=yield VB(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield CI(t);return r||n}return e})).apply(this,arguments)}function VB(t){return jf(t,e=>{if(!e)throw Es.create("installation-not-found");return UB(e)})}function UB(t){return function Ffe(t){return 1===t.registrationStatus&&t.registrationTime+TB<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function TI(){return(TI=m(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function Vfe(t,{fid:e}){return`${lI(t)}/${e}/authTokens:generate`}(t,n),i=function OB(t,{refreshToken:e}){const n=kB(t);return n.append("Authorization",function wfe(t){return`${MB} ${t}`}(e)),n}(t,n),o=e.getImmediate({optional:!0});if(o){const l=yield o.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:DB,appId:t.appId}})},c=yield hI(()=>fetch(r,a));if(c.ok)return AB(yield c.json());throw yield uI("Generate Auth Token",c)})).apply(this,arguments)}function DI(t){return MI.apply(this,arguments)}function MI(){return MI=m(function*(t,e=!1){let n;const r=yield jf(t.appConfig,o=>{if(!jB(o))throw Es.create("not-registered");const s=o.authToken;if(!e&&function jfe(t){return 2===t.requestStatus&&!function zfe(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+mfe}(t)}(s))return o;if(1===s.requestStatus)return n=function Ufe(t,e){return SI.apply(this,arguments)}(t,e),o;{if(!navigator.onLine)throw Es.create("app-offline");const a=function $fe(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(o);return n=function Bfe(t,e){return AI.apply(this,arguments)}(t,a),a}});return n?yield n:r.authToken}),MI.apply(this,arguments)}function SI(){return(SI=m(function*(t,e){let n=yield BB(t.appConfig);for(;1===n.authToken.requestStatus;)yield PB(100),n=yield BB(t.appConfig);const r=n.authToken;return 0===r.requestStatus?DI(t,e):r})).apply(this,arguments)}function BB(t){return jf(t,e=>{if(!jB(e))throw Es.create("not-registered");return function Hfe(t){return 1===t.requestStatus&&t.requestTime+TB<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function AI(){return AI=m(function*(t,e){try{const n=yield function Lfe(t,e){return TI.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield Gy(t.appConfig,r),n}catch(n){if(!SB(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Gy(t.appConfig,r)}else yield vI(t.appConfig);throw n}}),AI.apply(this,arguments)}function jB(t){return void 0!==t&&2===t.registrationStatus}function kI(){return(kI=m(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield CI(e);return r?r.catch(console.error):DI(e).catch(console.error),n.fid})).apply(this,arguments)}function OI(){return OI=m(function*(t,e=!1){const n=t;return yield function Wfe(t){return PI.apply(this,arguments)}(n),(yield DI(n,e)).token}),OI.apply(this,arguments)}function PI(){return(PI=m(function*(t){const{registrationPromise:e}=yield CI(t);e&&(yield e)})).apply(this,arguments)}function FI(t){return Es.create("missing-app-config-values",{valueName:t})}const zB="installations",Jfe=t=>{const e=t.getProvider("app").getImmediate(),n=function Yfe(t){if(!t||!t.options)throw FI("App Configuration");if(!t.name)throw FI("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw FI(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:pa(e,"heartbeat"),_delete:()=>Promise.resolve()}},Zfe=t=>{const n=pa(t.getProvider("app").getImmediate(),zB).getImmediate();return{getId:()=>function Gfe(t){return kI.apply(this,arguments)}(n),getToken:i=>function qfe(t){return OI.apply(this,arguments)}(n,i)}};(function epe(){yr(new rr(zB,Jfe,"PUBLIC")),yr(new rr("installations-internal",Zfe,"PRIVATE"))})(),Tt(IB,cI),Tt(IB,cI,"esm2017");const LI="@firebase/remote-config",gi=new Lo("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class dpe{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return m(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const o=yield n.client.fetch(e),s=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===o.status&&s.push(n.storage.setLastSuccessfulFetchResponse(o)),yield Promise.all(s),o})()}}function hpe(t=navigator){return t.languages&&t.languages[0]||t.language}class fpe{constructor(e,n,r,i,o,s){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=o,this.appId=s}fetch(e){var n=this;return m(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),s=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},c={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:hpe()},l={method:"POST",headers:a,body:JSON.stringify(c)},u=fetch(s,l),d=new Promise((P,k)=>{e.signal.addEventListener(()=>{const H=new Error("The operation was aborted.");H.name="AbortError",k(H)})});let h;try{yield Promise.race([u,d]),h=yield u}catch(P){let k="fetch-client-network";throw"AbortError"===P?.name&&(k="fetch-timeout"),gi.create(k,{originalErrorMessage:P?.message})}let f=h.status;const b=h.headers.get("ETag")||void 0;let x,T;if(200===h.status){let P;try{P=yield h.json()}catch(k){throw gi.create("fetch-client-parse",{originalErrorMessage:k?.message})}x=P.entries,T=P.state}if("INSTANCE_STATE_UNSPECIFIED"===T?f=500:"NO_CHANGE"===T?f=304:("NO_TEMPLATE"===T||"EMPTY_CONFIG"===T)&&(x={}),304!==f&&200!==f)throw gi.create("fetch-status",{httpStatus:f});return{status:f,eTag:b,config:x}})()}}class mpe{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return m(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return m(function*(){yield function ppe(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(o),r(gi.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const o=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),o}catch(o){if(!function gpe(t){if(!(t instanceof Ai&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(o))throw o;const s={throttleEndTimeMillis:Date.now()+$E(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(s),i.attemptFetch(e,s)}})()}}class vpe{constructor(e,n,r,i,o){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=o,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Wy(t,e){const n=t.target.error||void 0;return gi.create(e,{originalErrorMessage:n&&n?.message})}const Sc="app_namespace_store";class xpe{constructor(e,n,r,i=function Cpe(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(Wy(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Sc,{keyPath:"compositeKey"})}}catch(n){e(gi.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return m(function*(){const r=yield n.openDbPromise;return new Promise((i,o)=>{const a=r.transaction([Sc],"readonly").objectStore(Sc),c=n.createCompositeKey(e);try{const l=a.get(c);l.onerror=u=>{o(Wy(u,"storage-get"))},l.onsuccess=u=>{const d=u.target.result;i(d?d.value:void 0)}}catch(l){o(gi.create("storage-get",{originalErrorMessage:l?.message}))}})})()}set(e,n){var r=this;return m(function*(){const i=yield r.openDbPromise;return new Promise((o,s)=>{const c=i.transaction([Sc],"readwrite").objectStore(Sc),l=r.createCompositeKey(e);try{const u=c.put({compositeKey:l,value:n});u.onerror=d=>{s(Wy(d,"storage-set"))},u.onsuccess=()=>{o()}}catch(u){s(gi.create("storage-set",{originalErrorMessage:u?.message}))}})})()}delete(e){var n=this;return m(function*(){const r=yield n.openDbPromise;return new Promise((i,o)=>{const a=r.transaction([Sc],"readwrite").objectStore(Sc),c=n.createCompositeKey(e);try{const l=a.delete(c);l.onerror=u=>{o(Wy(u,"storage-delete"))},l.onsuccess=()=>{i()}}catch(l){o(gi.create("storage-delete",{originalErrorMessage:l?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class Epe{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return m(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),o=yield n;o&&(e.lastFetchStatus=o);const s=yield r;s&&(e.lastSuccessfulFetchTimestampMillis=s);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function Tpe(){return zI.apply(this,arguments)}function zI(){return(zI=m(function*(){if(!ha())return!1;try{return yield Nf()}catch{return!1}})).apply(this,arguments)}!function Ipe(){yr(new rr("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw gi.create("registration-window");if(!ha())throw gi.create("indexed-db-unavailable");const{projectId:o,apiKey:s,appId:a}=r.options;if(!o)throw gi.create("registration-project-id");if(!s)throw gi.create("registration-api-key");if(!a)throw gi.create("registration-app-id");const c=new xpe(a,r.name,n=n||"firebase"),l=new Epe(c),u=new Ec(LI);u.logLevel=rt.ERROR;const d=new fpe(i,ga,n,o,s,a),h=new mpe(d,c),f=new dpe(h,c,l,u),b=new vpe(r,f,l,c,u);return function cpe(t){const e=St(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(b),b},"PUBLIC").setMultipleInstances(!0)),Tt(LI,"0.4.4"),Tt(LI,"0.4.4","esm2017")}();const Dpe=(t,e)=>e.some(n=>t instanceof n);let qB,WB;const KB=new WeakMap,$I=new WeakMap,QB=new WeakMap,HI=new WeakMap,GI=new WeakMap;let qI={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return $I.get(t);if("objectStoreNames"===e)return t.objectStoreNames||QB.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Is(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Npe(t){return"function"==typeof t?function Ppe(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Spe(){return WB||(WB=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(WI(this),e),Is(KB.get(this))}:function(...e){return Is(t.apply(WI(this),e))}:function(e,...n){const r=t.call(WI(this),e,...n);return QB.set(r,e.sort?e.sort():[e]),Is(r)}}(t):(t instanceof IDBTransaction&&function kpe(t){if($I.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});$I.set(t,e)}(t),Dpe(t,function Mpe(){return qB||(qB=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,qI):t)}function Is(t){if(t instanceof IDBRequest)return function Ape(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Is(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&KB.set(n,t)}).catch(()=>{}),GI.set(e,t),e}(t);if(HI.has(t))return HI.get(t);const e=Npe(t);return e!==t&&(HI.set(t,e),GI.set(e,t)),e}const WI=t=>GI.get(t);function YB(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Is(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Is(s.result),c.oldVersion,c.newVersion,Is(s.transaction))}),n&&s.addEventListener("blocked",()=>n()),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function KI(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),Is(n).then(()=>{})}const Rpe=["get","getKey","getAll","getAllKeys","count"],Fpe=["put","add","delete","clear"],QI=new Map;function XB(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(QI.get(e))return QI.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Fpe.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Rpe.includes(n))return;const o=function(){var s=m(function*(a,...c){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(c.shift())),(yield Promise.all([u[n](...c),i&&l.done]))[0]});return function(c){return s.apply(this,arguments)}}();return QI.set(e,o),o}!function Ope(t){qI=t(qI)}(t=>({...t,get:(e,n,r)=>XB(e,n)||t.get(e,n,r),has:(e,n)=>!!XB(e,n)||t.has(e,n)}));const Lpe="/firebase-messaging-sw.js",Vpe="/firebase-cloud-messaging-push-scope",JB="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Upe="https://fcmregistrations.googleapis.com/v1",ZB="google.c.a.c_id",Bpe="google.c.a.c_l",jpe="google.c.a.ts";var Ky=function(t){return t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",t}(Ky||{});function Ts(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Hpe(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let o=0;o<r.length;++o)i[o]=r.charCodeAt(o);return i}const YI="fcm_token_details_db",Gpe=5,e6="fcm_token_object_Store";function XI(){return XI=m(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(o=>o.name).includes(YI))return null;let e=null;return(yield YB(YI,Gpe,{upgrade:(r=m(function*(i,o,s,a){var c;if(o<2||!i.objectStoreNames.contains(e6))return;const l=a.objectStore(e6),u=yield l.index("fcmSenderId").get(t);if(yield l.clear(),u)if(2===o){const d=u;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(c=d.createTime)&&void 0!==c?c:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:Ts(d.vapidKey)}}}else if(3===o){const d=u;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Ts(d.auth),p256dh:Ts(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Ts(d.vapidKey)}}}else if(4===o){const d=u;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Ts(d.auth),p256dh:Ts(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Ts(d.vapidKey)}}}}),function(o,s,a,c){return r.apply(this,arguments)})})).close(),yield KI(YI),yield KI("fcm_vapid_details_db"),yield KI("undefined"),function Wpe(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),XI.apply(this,arguments)}const Kpe="firebase-messaging-database",Qpe=1,Ac="firebase-messaging-store";let JI=null;function ZI(){return JI||(JI=YB(Kpe,Qpe,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Ac)}})),JI}function t6(t){return eT.apply(this,arguments)}function eT(){return eT=m(function*(t){const e=iT(t),r=yield(yield ZI()).transaction(Ac).objectStore(Ac).get(e);if(r)return r;{const i=yield function qpe(t){return XI.apply(this,arguments)}(t.appConfig.senderId);if(i)return yield tT(t,i),i}}),eT.apply(this,arguments)}function tT(t,e){return nT.apply(this,arguments)}function nT(){return(nT=m(function*(t,e){const n=iT(t),i=(yield ZI()).transaction(Ac,"readwrite");return yield i.objectStore(Ac).put(e,n),yield i.done,e})).apply(this,arguments)}function rT(){return(rT=m(function*(t){const e=iT(t),r=(yield ZI()).transaction(Ac,"readwrite");yield r.objectStore(Ac).delete(e),yield r.done})).apply(this,arguments)}function iT({appConfig:t}){return t.appId}const vr=new Lo("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Jpe(t,e){return oT.apply(this,arguments)}function oT(){return(oT=m(function*(t,e){const n=yield lT(t),r=r6(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let o;try{o=yield(yield fetch(cT(t.appConfig),i)).json()}catch(s){throw vr.create("token-subscribe-failed",{errorInfo:s?.toString()})}if(o.error)throw vr.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw vr.create("token-subscribe-no-token");return o.token})).apply(this,arguments)}function sT(){return(sT=m(function*(t,e){const n=yield lT(t),r=r6(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let o;try{o=yield(yield fetch(`${cT(t.appConfig)}/${e.token}`,i)).json()}catch(s){throw vr.create("token-update-failed",{errorInfo:s?.toString()})}if(o.error)throw vr.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw vr.create("token-update-no-token");return o.token})).apply(this,arguments)}function n6(t,e){return aT.apply(this,arguments)}function aT(){return(aT=m(function*(t,e){const r={method:"DELETE",headers:yield lT(t)};try{const o=yield(yield fetch(`${cT(t.appConfig)}/${e}`,r)).json();if(o.error)throw vr.create("token-unsubscribe-failed",{errorInfo:o.error.message})}catch(i){throw vr.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function cT({projectId:t}){return`${Upe}/projects/${t}/registrations`}function lT(t){return uT.apply(this,arguments)}function uT(){return(uT=m(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function r6({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==JB&&(i.web.applicationPubKey=r),i}const ege=6048e5;function dT(){return dT=m(function*(t){const e=yield function rge(t,e){return gT.apply(this,arguments)}(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Ts(e.getKey("auth")),p256dh:Ts(e.getKey("p256dh"))},r=yield t6(t.firebaseDependencies);if(r){if(function ige(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}(r.subscriptionOptions,n))return Date.now()>=r.createTime+ege?function nge(t,e){return fT.apply(this,arguments)}(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield n6(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return o6(t.firebaseDependencies,n)}return o6(t.firebaseDependencies,n)}),dT.apply(this,arguments)}function hT(){return hT=m(function*(t){const e=yield t6(t.firebaseDependencies);e&&(yield n6(t.firebaseDependencies,e.token),yield function Ype(t){return rT.apply(this,arguments)}(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}),hT.apply(this,arguments)}function fT(){return fT=m(function*(t,e){try{const n=yield function Zpe(t,e){return sT.apply(this,arguments)}(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield tT(t.firebaseDependencies,r),n}catch(n){throw yield function i6(t){return hT.apply(this,arguments)}(t),n}}),fT.apply(this,arguments)}function o6(t,e){return pT.apply(this,arguments)}function pT(){return(pT=m(function*(t,e){const r={token:yield Jpe(t,e),createTime:Date.now(),subscriptionOptions:e};return yield tT(t,r),r.token})).apply(this,arguments)}function gT(){return(gT=m(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Hpe(e)})})).apply(this,arguments)}function s6(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function oge(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const o=e.notification.icon;o&&(t.notification.icon=o)}(e,t),function sge(t,e){e.data&&(t.data=e.data)}(e,t),function age(t,e){var n,r,i,o,s;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(o=e.notification)||void 0===o?void 0:o.click_action;a&&(t.fcmOptions.link=a);const c=null===(s=e.fcmOptions)||void 0===s?void 0:s.analytics_label;c&&(t.fcmOptions.analyticsLabel=c)}(e,t),e}function a6(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function mT(t){return vr.create("missing-app-config-values",{valueName:t})}a6("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),a6("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class uge{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function lge(t){if(!t||!t.options)throw mT("App Configuration Object");if(!t.name)throw mT("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw mT(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function _T(){return(_T=m(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(Lpe,{scope:Vpe}),t.swRegistration.update().catch(()=>{})}catch(e){throw vr.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function yT(){return(yT=m(function*(t,e){if(!e&&!t.swRegistration&&(yield function c6(t){return _T.apply(this,arguments)}(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw vr.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function vT(){return(vT=m(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=JB)})).apply(this,arguments)}function bT(){return bT=m(function*(t,e){if(!navigator)throw vr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw vr.create("permission-blocked");return yield function hge(t,e){return vT.apply(this,arguments)}(t,e?.vapidKey),yield function dge(t,e){return yT.apply(this,arguments)}(t,e?.serviceWorkerRegistration),function tge(t){return dT.apply(this,arguments)}(t)}),bT.apply(this,arguments)}function wT(){return(wT=m(function*(t,e,n){const r=function pge(t){switch(t){case Ky.NOTIFICATION_CLICKED:return"notification_open";case Ky.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[ZB],message_name:n[Bpe],message_time:n[jpe],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function CT(){return CT=m(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===Ky.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(s6(n)):t.onMessageHandler.next(s6(n)));const r=n.data;(function cge(t){return"object"==typeof t&&!!t&&ZB in t})(r)&&"1"===r["google.c.a.e"]&&(yield function fge(t,e,n){return wT.apply(this,arguments)}(t,n.messageType,r))}),CT.apply(this,arguments)}const u6="@firebase/messaging",mge=t=>{const e=new uge(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function gge(t,e){return CT.apply(this,arguments)}(e,n)),e},_ge=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function l6(t,e){return bT.apply(this,arguments)}(e,r)}};function h6(){return xT.apply(this,arguments)}function xT(){return(xT=m(function*(){try{yield Nf()}catch{return!1}return typeof window<"u"&&ha()&&BE()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function yge(){yr(new rr("messaging",mge,"PUBLIC")),yr(new rr("messaging-internal",_ge,"PRIVATE")),Tt(u6,"0.12.4"),Tt(u6,"0.12.4","esm2017")}();const Qy="analytics",wge="firebase_id",Cge="origin",xge=6e4,Ege="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",TT="https://www.googletagmanager.com/gtag/js",ir=new Ec("@firebase/analytics"),Yr=new Lo("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Tge(t){if(!t.startsWith(TT)){const e=Yr.create("invalid-gtag-resource",{gtagURL:t});return ir.warn(e.message),""}return t}function f6(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function DT(){return(DT=m(function*(t,e,n,r,i,o){const s=r[i];try{if(s)yield e[s];else{const c=(yield f6(n)).find(l=>l.measurementId===i);c&&(yield e[c.appId])}}catch(a){ir.error(a)}t("config",i,o)})).apply(this,arguments)}function MT(){return(MT=m(function*(t,e,n,r,i){try{let o=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);const a=yield f6(n);for(const c of s){const l=a.find(d=>d.measurementId===c),u=l&&e[l.appId];if(!u){o=[];break}o.push(u)}}0===o.length&&(o=Object.values(e)),yield Promise.all(o),t("event",r,i||{})}catch(o){ir.error(o)}})).apply(this,arguments)}const Rge=30,p6=new class Lge{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Vge(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function ST(){return(ST=m(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:Vge(r)},o=Ege.replace("{app-id}",n),s=yield fetch(o,i);if(200!==s.status&&304!==s.status){let a="";try{const c=yield s.json();null!==(e=c.error)&&void 0!==e&&e.message&&(a=c.error.message)}catch{}throw Yr.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a})}return s.json()})).apply(this,arguments)}function AT(){return(AT=m(function*(t,e=p6,n){const{appId:r,apiKey:i,measurementId:o}=t.options;if(!r)throw Yr.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw Yr.create("no-api-key")}const s=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new $ge;return setTimeout(m(function*(){a.abort()}),void 0!==n?n:xge),g6({appId:r,apiKey:i,measurementId:o},s,a,e)})).apply(this,arguments)}function g6(t,e,n){return kT.apply(this,arguments)}function kT(){return kT=m(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=p6){var o;const{appId:s,measurementId:a}=t;try{yield function jge(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(o),r(Yr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(c){if(a)return ir.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:s,measurementId:a};throw c}try{const c=yield function Uge(t){return ST.apply(this,arguments)}(t);return i.deleteThrottleMetadata(s),c}catch(c){const l=c;if(!function zge(t){if(!(t instanceof Ai&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(l)){if(i.deleteThrottleMetadata(s),a)return ir.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l?.message}]`),{appId:s,measurementId:a};throw c}const u=503===Number(null===(o=l?.customData)||void 0===o?void 0:o.httpStatus)?$E(n,i.intervalMillis,Rge):$E(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return i.setThrottleMetadata(s,d),ir.debug(`Calling attemptFetch again in ${u} millis`),g6(t,d,r,i)}}),kT.apply(this,arguments)}class $ge{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let OT,UT;function PT(){return(PT=m(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const o=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:o}))}})).apply(this,arguments)}function BT(){return(BT=m(function*(){if(!ha())return ir.warn(Yr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield Nf()}catch(t){return ir.warn(Yr.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}function jT(){return jT=m(function*(t,e,n,r,i,o,s){var a;const c=function Bge(t){return AT.apply(this,arguments)}(t);c.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&ir.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>ir.error(f)),e.push(c);const l=function Yge(){return BT.apply(this,arguments)}().then(f=>{if(f)return r.getId()}),[u,d]=yield Promise.all([c,l]);(function Nge(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(TT)&&n.src.includes(t))return n;return null})(o)||function Mge(t,e){const n=function Dge(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:Tge}),r=document.createElement("script"),i=`${TT}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(o,u.measurementId),UT&&(i("consent","default",UT),function m6(t){UT=t}(void 0)),i("js",new Date);const h=null!==(a=s?.config)&&void 0!==a?a:{};return h[Cge]="firebase",h.update=!0,null!=d&&(h[wge]=d),i("config",u.measurementId,h),OT&&(i("set",OT),function _6(t){OT=t}(void 0)),u.measurementId}),jT.apply(this,arguments)}class Jge{constructor(e){this.app=e}_delete(){return delete Uo[this.app.options.appId],Promise.resolve()}}let Uo={},y6=[];const v6={};let w6,Bo,Yy="dataLayer",zT=!1;function eme(t,e,n){!function Zge(){const t=[];if(UE()&&t.push("This is a browser extension environment."),BE()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Yr.create("invalid-analytics-context",{errorInfo:e});ir.warn(n.message)}}();const r=t.options.appId;if(!r)throw Yr.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw Yr.create("no-api-key");ir.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Uo[r])throw Yr.create("already-exists",{id:r});if(!zT){!function Sge(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(Yy);const{wrappedGtag:o,gtagCore:s}=function Pge(t,e,n,r,i){let o=function(...s){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=function Oge(t,e,n,r){function o(){return o=m(function*(s,...a){try{if("event"===s){const[c,l]=a;yield function kge(t,e,n,r,i){return MT.apply(this,arguments)}(t,e,n,c,l)}else if("config"===s){const[c,l]=a;yield function Age(t,e,n,r,i,o){return DT.apply(this,arguments)}(t,e,n,r,c,l)}else if("consent"===s){const[c]=a;t("consent","update",c)}else if("get"===s){const[c,l,u]=a;t("get",c,l,u)}else if("set"===s){const[c]=a;t("set",c)}else t(s,...a)}catch(c){ir.error(c)}}),o.apply(this,arguments)}return function i(s){return o.apply(this,arguments)}}(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}(Uo,y6,v6,Yy,"gtag");Bo=o,w6=s,zT=!0}return Uo[r]=function Xge(t,e,n,r,i,o,s){return jT.apply(this,arguments)}(t,y6,v6,e,w6,Yy,n),new Jge(t)}function nme(){return $T.apply(this,arguments)}function $T(){return($T=m(function*(){if(UE()||!BE()||!ha())return!1;try{return yield Nf()}catch{return!1}})).apply(this,arguments)}const C6="@firebase/analytics";!function ime(){yr(new rr(Qy,(e,{options:n})=>eme(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),yr(new rr("analytics-internal",function t(e){try{const n=e.getProvider(Qy).getImmediate();return{logEvent:(r,i,o)=>function rme(t,e,n,r){t=St(t),function Hge(t,e,n,r,i){return PT.apply(this,arguments)}(Bo,Uo[t.app.options.appId],e,n,r).catch(i=>ir.error(i))}(n,r,i,o)}}catch(n){throw Yr.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),Tt(C6,"0.10.0"),Tt(C6,"0.10.0","esm2017")}();class ome extends zr{constructor(e,n){super()}schedule(e,n=0){return this}}const Xy={setInterval(t,e,...n){const{delegate:r}=Xy;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=Xy;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class E6 extends ome{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return Xy.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&Xy.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Qg(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const I6={now:()=>(I6.delegate||Date).now(),delegate:void 0};class zf{constructor(e,n=zf.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}zf.now=I6.now;class T6 extends zf{constructor(e,n=zf.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const cme=new class ame extends T6{}(class sme extends E6{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),GT=new T6(E6),lme=GT,zu=new gu("7.6.1"),qT="__angularfire_symbol__analyticsIsSupportedValue",WT="__angularfire_symbol__analyticsIsSupported",KT="__angularfire_symbol__remoteConfigIsSupportedValue",QT="__angularfire_symbol__remoteConfigIsSupported",YT="__angularfire_symbol__messagingIsSupportedValue",XT="__angularfire_symbol__messagingIsSupported";function $f(t,e,n){if(e){if(1===e.length)return e[0];const o=e.filter(s=>s.app===n);if(1===o.length)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}globalThis[WT]||(globalThis[WT]=nme().then(t=>globalThis[qT]=t).catch(()=>globalThis[qT]=!1)),globalThis[XT]||(globalThis[XT]=h6().then(t=>globalThis[YT]=t).catch(()=>globalThis[YT]=!1)),globalThis[QT]||(globalThis[QT]=Tpe().then(t=>globalThis[KT]=t).catch(()=>globalThis[KT]=!1));const Hf=(t,e)=>{const n=e?[e]:pB(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r};function $u(){}class D6{constructor(e,n=cme){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(s){i.runGuarded(()=>{e.apply(this,[s])})},n,r)}}class ume{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",$u,{},$u,$u)),n.pipe(nr({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Gf=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new D6(Zone.current)),this.insideAngular=n.run(()=>new D6(Zone.current,GT)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(ye(Je))},t.\u0275prov=he({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function kc(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function Oc(t){return kc().ngZone.run(()=>t())}function hme(t){return kc(),function fme(t){return function(n){return(n=n.lift(new ume(t.ngZone))).pipe(sy(t.outsideAngular),oy(t.insideAngular))}}(kc())(t)}const pme=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Oc(()=>t.apply(void 0,r))},Xn=(t,e)=>function(){let n;const r=arguments;for(let o=0;o<arguments.length;o++)"function"==typeof r[o]&&(e&&(n||(n=Oc(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",$u,{},$u,$u)))),r[o]=pme(r[o],n));const i=function dme(t){return kc().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof Jt){const o=kc();return i.pipe(sy(o.outsideAngular),oy(o.insideAngular))}return Oc(()=>i)}return i instanceof Jt?i.pipe(hme):i instanceof Promise?Oc(()=>new Promise((o,s)=>i.then(a=>Oc(()=>o(a)),a=>Oc(()=>s(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:Oc(()=>i)};class _a{constructor(e){return e}}class qf{constructor(){return pB()}}const ZT=new ae("angularfire2._apps"),mme={provide:_a,useFactory:function gme(t){return t&&1===t.length?t[0]:new _a(Uf())},deps:[[new an,ZT]]},_me={provide:qf,deps:[[new an,ZT]]};function yme(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new _a(r)}}let vme=(()=>{class t{constructor(n){Tt("angularfire",zu.full,"core"),Tt("angularfire",zu.full,"app"),Tt("angular",_re.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(ye(no))},t.\u0275mod=on({type:t}),t.\u0275inj=en({providers:[mme,_me]}),t})();function bme(t,...e){return{ngModule:vme,providers:[{provide:ZT,useFactory:yme(t),multi:!0,deps:[Je,wn,Gf,...e]}]}}const wme=Xn(fB,!0),eD=new Map,M6={activated:!1,tokenObservers:[]},Cme={initialized:!1,enabled:!1};function pn(t){return eD.get(t)||Object.assign({},M6)}function Jy(){return Cme}const tD="https://content-firebaseappcheck.googleapis.com/v1",Tme="exchangeDebugToken",S6={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Mme{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return m(function*(){n.stop();try{n.pending=new Lu,yield function Sme(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new Lu,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const br=new Lo("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function nD(t){if(!pn(t).activated)throw br.create("use-before-activation",{appName:t.name})}function tv(t,e){return iD.apply(this,arguments)}function iD(){return(iD=m(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const o={method:"POST",body:JSON.stringify(e),headers:r};let s,a;try{s=yield fetch(t,o)}catch(d){throw br.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==s.status)throw br.create("fetch-status-error",{httpStatus:s.status});try{a=yield s.json()}catch(d){throw br.create("fetch-parse-error",{originalErrorMessage:d?.message})}const c=a.ttl.match(/^([\d.]+)(s)$/);if(!c||!c[2]||isNaN(Number(c[1])))throw br.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const l=1e3*Number(c[1]),u=Date.now();return{token:a.token,expireTimeMillis:u+l,issuedAtTimeMillis:u}})).apply(this,arguments)}function A6(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${tD}/projects/${n}/apps/${r}:${Tme}?key=${i}`,body:{debug_token:e}}}const Pme="firebase-app-check-database",Nme=1,Wf="firebase-app-check-store";let nv=null;function oD(){return(oD=m(function*(t,e){const r=(yield function O6(){return nv||(nv=new Promise((t,e)=>{try{const n=indexedDB.open(Pme,Nme);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(br.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Wf,{keyPath:"compositeKey"})}}catch(n){e(br.create("storage-open",{originalErrorMessage:n?.message}))}}),nv)}()).transaction(Wf,"readwrite"),o=r.objectStore(Wf).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=c=>{s()},r.onerror=c=>{var l;a(br.create("storage-set",{originalErrorMessage:null===(l=c.target.error)||void 0===l?void 0:l.message}))}})})).apply(this,arguments)}const Kf=new Ec("@firebase/app-check");function cD(t,e){return ha()?function Fme(t,e){return function P6(t,e){return oD.apply(this,arguments)}(function R6(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{Kf.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function uD(){return Jy().enabled}function dD(){return hD.apply(this,arguments)}function hD(){return(hD=m(function*(){const t=Jy();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const zme={error:"UNKNOWN_ERROR"};function $me(t){return Ry.encodeString(JSON.stringify(t),!1)}function rv(t){return fD.apply(this,arguments)}function fD(){return(fD=m(function*(t,e=!1){const n=t.app;nD(n);const r=pn(n);let o,i=r.token;if(i&&!Hu(i)&&(r.token=void 0,i=void 0),!i){const c=yield r.cachedTokenPromise;c&&(Hu(c)?i=c:yield cD(n,void 0))}if(!e&&i&&Hu(i))return{token:i.token};let a,s=!1;if(uD()){r.exchangeTokenPromise||(r.exchangeTokenPromise=tv(A6(n,yield dD()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),s=!0);const c=yield r.exchangeTokenPromise;return yield cD(n,c),r.token=c,{token:c.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),s=!0),i=yield pn(n).exchangeTokenPromise}catch(c){"appCheck/throttled"===c.code?Kf.warn(c.message):Kf.error(c),o=c}return i?o?a=Hu(i)?{token:i.token,internalError:o}:U6(o):(a={token:i.token},r.token=i,yield cD(n,i)):a=U6(o),s&&function V6(t,e){const n=pn(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(n,a),a})).apply(this,arguments)}function F6(t){return pD.apply(this,arguments)}function pD(){return(pD=m(function*(t){const e=t.app;nD(e);const{provider:n}=pn(e);if(uD()){const r=yield dD(),{token:i}=yield tv(A6(e,r),t.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield n.getToken();return{token:r}}})).apply(this,arguments)}function mD(t,e){const n=pn(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function L6(t){const{app:e}=t,n=pn(e);let r=n.tokenRefresher;r||(r=function Hme(t){const{app:e}=t;return new Mme(m(function*(){let r;if(r=pn(e).token?yield rv(t,!0):yield rv(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=pn(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},S6.RETRIAL_MIN_WAIT,S6.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function Hu(t){return t.expireTimeMillis-Date.now()>0}function U6(t){return{token:$me(zme),error:t}}class Gme{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=pn(this.app);for(const n of e)mD(this.app,n.next);return Promise.resolve()}}const W6="app-check-internal";!function o_e(){yr(new rr("app-check",t=>function qme(t,e){return new Gme(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(W6).initialize()})),yr(new rr(W6,t=>function Wme(t){return{getToken:e=>rv(t,e),getLimitedUseToken:()=>F6(t),addTokenListener:e=>function gD(t,e,n,r){const{app:i}=t,o=pn(i);if(o.tokenObservers=[...o.tokenObservers,{next:n,error:r,type:e}],o.token&&Hu(o.token)){const a=o.token;Promise.resolve().then(()=>{n({token:a.token}),L6(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>L6(t))}(t,"INTERNAL",e),removeTokenListener:e=>mD(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),Tt("@firebase/app-check","0.8.0")}();class Qf{constructor(){return Hf("app-check")}}typeof window<"u"&&window;const u_e=function Q6(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Y6=new Lo("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ov=new Ec("@firebase/auth");function sv(t,...e){ov.logLevel<=rt.ERROR&&ov.error(`Auth (${ga}): ${t}`,...e)}function mi(t,...e){throw wD(t,...e)}function jo(t,...e){return wD(t,...e)}function wD(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Y6.create(t,...e)}function te(t,e,...n){if(!t)throw wD(e,...n)}function zo(t){const e="INTERNAL ASSERTION FAILED: "+t;throw sv(e),new Error(e)}function ya(t,e){t||zo(e)}function Yf(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function J6(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class Xf{constructor(e,n){this.shortDelay=e,this.longDelay=n,ya(n>e,"Short delay should be less than long delay!"),this.isMobile=VE()||iB()}get(){return function h_e(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function CD(){return"http:"===J6()||"https:"===J6()}()||UE()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function xD(t,e){ya(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class Z6{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void zo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void zo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void zo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const p_e={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},g_e=new Xf(3e4,6e4);function ln(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function gn(t,e,n,r){return ED.apply(this,arguments)}function ED(){return(ED=m(function*(t,e,n,r,i={}){return ej(t,i,m(function*(){let o={},s={};r&&("GET"===e?s=r:o={body:JSON.stringify(r)});const a=Uu(Object.assign({key:t.config.apiKey},s)).slice(1),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),Z6.fetch()(tj(t,t.config.apiHost,n,a),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},o))}))})).apply(this,arguments)}function ej(t,e,n){return ID.apply(this,arguments)}function ID(){return(ID=m(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},p_e),e);try{const i=new m_e(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=yield o.json();if("needConfirmation"in s)throw Jf(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[c,l]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===c)throw Jf(t,"credential-already-in-use",s);if("EMAIL_EXISTS"===c)throw Jf(t,"email-already-in-use",s);if("USER_DISABLED"===c)throw Jf(t,"user-disabled",s);const u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw function X6(t,e,n){const r=Object.assign(Object.assign({},u_e()),{[e]:n});return new Lo("auth","Firebase",r).create(e,{appName:t.name})}(t,u,l);mi(t,u)}}catch(i){if(i instanceof Ai)throw i;mi(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function Ds(t,e,n,r){return TD.apply(this,arguments)}function TD(){return(TD=m(function*(t,e,n,r,i={}){const o=yield gn(t,e,n,r,i);return"mfaPendingCredential"in o&&mi(t,"multi-factor-auth-required",{_serverResponse:o}),o})).apply(this,arguments)}function tj(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?xD(t.config,i):`${t.config.apiScheme}://${i}`}class m_e{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(jo(this.auth,"network-request-failed")),g_e.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Jf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=jo(t,e,r);return i.customData._tokenResponse=n,i}function DD(){return(DD=m(function*(t,e){return gn(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function SD(){return(SD=m(function*(t,e){return gn(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Zf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function AD(){return(AD=m(function*(t,e=!1){const n=St(t),r=yield n.getIdToken(e),i=av(r);te(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Zf(kD(i.auth_time)),issuedAtTime:Zf(kD(i.iat)),expirationTime:Zf(kD(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})).apply(this,arguments)}function kD(t){return 1e3*Number(t)}function av(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return sv("JWT malformed, contained fewer than 3 sections"),null;try{const i=Ly(n);return i?JSON.parse(i):(sv("Failed to decode base64 JWT payload"),null)}catch(i){return sv("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Ms(t,e){return OD.apply(this,arguments)}function OD(){return(OD=m(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof Ai&&function C_e({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class x_e{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(m(function*(){yield n.iteration()}),r)}iteration(){var e=this;return m(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class nj{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zf(this.lastLoginAt),this.creationTime=Zf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ep(t){return PD.apply(this,arguments)}function PD(){return PD=m(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield Ms(t,function v_e(t,e){return SD.apply(this,arguments)}(n,{idToken:r}));te(i?.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=null!==(e=o.providerUserInfo)&&void 0!==e&&e.length?function T_e(t){return t.map(e=>{var{providerId:n}=e,r=iy(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(o.providerUserInfo):[],a=function I_e(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,s),u=!!t.isAnonymous&&!(t.email&&o.passwordHash||a?.length),d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new nj(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(t,d)}),PD.apply(this,arguments)}function ND(){return(ND=m(function*(t){const e=St(t);yield ep(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function RD(){return(RD=m(function*(t,e){const n=yield ej(t,{},m(function*(){const r=Uu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=tj(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Z6.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class tp{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){te(e.idToken,"internal-error"),te(typeof e.idToken<"u","internal-error"),te(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function w_e(t){const e=av(t);return te(e,"internal-error"),te(typeof e.exp<"u","internal-error"),te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return m(function*(){return te(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return m(function*(){const{accessToken:i,refreshToken:o,expiresIn:s}=yield function D_e(t,e){return RD.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,o,Number(s))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new tp;return r&&(te("string"==typeof r,"internal-error",{appName:e}),s.refreshToken=r),i&&(te("string"==typeof i,"internal-error",{appName:e}),s.accessToken=i),o&&(te("number"==typeof o,"internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new tp,this.toJSON())}_performRefresh(){return zo("not implemented")}}function va(t,e){te("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class Pc{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=iy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new x_e(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new nj(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){var n=this;return m(function*(){const r=yield Ms(n,n.stsTokenManager.getToken(n.auth,e));return te(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function b_e(t){return AD.apply(this,arguments)}(this,e)}reload(){return function E_e(t){return ND.apply(this,arguments)}(this)}_assign(e){this!==e&&(te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Pc(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return m(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield ep(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return m(function*(){const n=yield e.getIdToken();return yield Ms(e,function __e(t,e){return DD.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,c,l,u;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(o=n.phoneNumber)&&void 0!==o?o:void 0,b=null!==(s=n.photoURL)&&void 0!==s?s:void 0,x=null!==(a=n.tenantId)&&void 0!==a?a:void 0,T=null!==(c=n._redirectEventId)&&void 0!==c?c:void 0,P=null!==(l=n.createdAt)&&void 0!==l?l:void 0,k=null!==(u=n.lastLoginAt)&&void 0!==u?u:void 0,{uid:H,emailVerified:X,isAnonymous:ce,providerData:me,stsTokenManager:Dt}=n;te(H&&Dt,e,"internal-error");const Bn=tp.fromJSON(this.name,Dt);te("string"==typeof H,e,"internal-error"),va(d,e.name),va(h,e.name),te("boolean"==typeof X,e,"internal-error"),te("boolean"==typeof ce,e,"internal-error"),va(f,e.name),va(b,e.name),va(x,e.name),va(T,e.name),va(P,e.name),va(k,e.name);const Ki=new Pc({uid:H,auth:e,email:h,emailVerified:X,displayName:d,isAnonymous:ce,photoURL:b,phoneNumber:f,tenantId:x,stsTokenManager:Bn,createdAt:P,lastLoginAt:k});return me&&Array.isArray(me)&&(Ki.providerData=me.map(rs=>Object.assign({},rs))),T&&(Ki._redirectEventId=T),Ki}static _fromIdTokenResponse(e,n,r=!1){return m(function*(){const i=new tp;i.updateFromServerResponse(n);const o=new Pc({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield ep(o),o})()}}const rj=new Map;function Ss(t){ya(t instanceof Function,"Expected a class definition");let e=rj.get(t);return e?(ya(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,rj.set(t,e),e)}const ij=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return m(function*(){return!0})()}_set(n,r){var i=this;return m(function*(){i.storage[n]=r})()}_get(n){var r=this;return m(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return m(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function cv(t,e,n){return`firebase:${t}:${e}:${n}`}class qu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=cv(this.userKey,i.apiKey,o),this.fullPersistenceKey=cv("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return m(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?Pc._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return m(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return m(function*(){if(!n.length)return new qu(Ss(ij),e,r);const i=(yield Promise.all(n.map(function(){var l=m(function*(u){if(yield u._isAvailable())return u});return function(u){return l.apply(this,arguments)}}()))).filter(l=>l);let o=i[0]||Ss(ij);const s=cv(r,e.config.apiKey,e.name);let a=null;for(const l of n)try{const u=yield l._get(s);if(u){const d=Pc._fromJSON(e,u);l!==o&&(a=d),o=l;break}}catch{}const c=i.filter(l=>l._shouldAllowMigration);return o._shouldAllowMigration&&c.length?(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(function(){var l=m(function*(u){if(u!==o)try{yield u._remove(s)}catch{}});return function(u){return l.apply(this,arguments)}}())),new qu(o,e,r)):new qu(o,e,r)})()}}function oj(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(cj(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(sj(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(uj(e))return"Blackberry";if(dj(e))return"Webos";if(FD(e))return"Safari";if((e.includes("chrome/")||aj(e))&&!e.includes("edge/"))return"Chrome";if(lj(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function sj(t=Sn()){return/firefox\//i.test(t)}function FD(t=Sn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function aj(t=Sn()){return/crios\//i.test(t)}function cj(t=Sn()){return/iemobile/i.test(t)}function lj(t=Sn()){return/android/i.test(t)}function uj(t=Sn()){return/blackberry/i.test(t)}function dj(t=Sn()){return/webos/i.test(t)}function lv(t=Sn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function hj(t=Sn()){return lv(t)||lj(t)||dj(t)||uj(t)||/windows phone/i.test(t)||cj(t)}function fj(t,e=[]){let n;switch(t){case"Browser":n=oj(Sn());break;case"Worker":n=`${oj(Sn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ga}/${r}`}function pj(t,e){return VD.apply(this,arguments)}function VD(){return(VD=m(function*(t,e){return gn(t,"GET","/v2/recaptchaConfig",ln(t,e))})).apply(this,arguments)}function mj(t){return void 0!==t&&void 0!==t.enterprise}class _j{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>"EMAIL_PASSWORD_PROVIDER"===n.provider&&"OFF"!==n.enforcementState)}}function UD(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=jo("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",function O_e(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})}function yj(t){return`__${t}${Math.floor(1e6*Math.random())}`}class vj{constructor(e){this.type="recaptcha-enterprise",this.auth=or(e)}verify(e="verify",n=!1){var r=this;return m(function*(){function o(){return o=m(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var c=m(function*(l,u){pj(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new _j(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,l(h.siteKey)}u(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{u(d)})});return function(l,u){return c.apply(this,arguments)}}())}),o.apply(this,arguments)}function s(a,c,l){const u=window.grecaptcha;mj(u)?u.enterprise.ready(()=>{u.enterprise.execute(a,{action:e}).then(d=>{c(d)}).catch(()=>{c("NO_RECAPTCHA")})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,c)=>{(function i(a){return o.apply(this,arguments)})(r.auth).then(l=>{if(!n&&mj(window.grecaptcha))s(l,a,c);else{if(typeof window>"u")return void c(new Error("RecaptchaVerifier is only supported in browser"));UD("https://www.google.com/recaptcha/enterprise.js?render="+l).then(()=>{s(l,a,c)}).catch(u=>{c(u)})}}).catch(l=>{c(l)})})})()}}function ba(t,e,n){return BD.apply(this,arguments)}function BD(){return(BD=m(function*(t,e,n,r=!1){const i=new vj(t);let o;try{o=yield i.verify(n)}catch{o=yield i.verify(n,!0)}const s=Object.assign({},e);return Object.assign(s,r?{captchaResp:o}:{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})).apply(this,arguments)}class F_e{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{s(e(o))}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return m(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const o of r)try{o()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class L_e{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new bj(this),this.idTokenSubscription=new bj(this),this.beforeStateQueue=new F_e(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Y6,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=Ss(n)),this._initializationPromise=this.queue(m(function*(){var i,o;if(!r._deleted&&(r.persistenceManager=yield qu.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(o=r.currentUser)||void 0===o?void 0:o.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return m(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return m(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let o=i,s=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,c=o?._redirectEventId,l=yield n.tryRedirectSignIn(e);(!a||a===c)&&l?.user&&(o=l.user,s=!0)}if(!o)return n.directlySetCurrentUser(null);if(!o._redirectEventId){if(s)try{yield n.beforeStateQueue.runMiddleware(o)}catch(a){o=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return o?n.reloadAndSetCurrentUserOrClear(o):n.directlySetCurrentUser(null)}return te(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===o._redirectEventId?n.directlySetCurrentUser(o):n.reloadAndSetCurrentUserOrClear(o)})()}tryRedirectSignIn(e){var n=this;return m(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return m(function*(){try{yield ep(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function f_e(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return m(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return m(function*(){const r=e?St(e):null;return r&&te(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return m(function*(){if(!r._deleted)return e&&te(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(m(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return m(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(m(function*(){yield n.assertedPersistence.setPersistence(Ss(e))}))}initializeRecaptchaConfig(){var e=this;return m(function*(){const n=yield pj(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new _j(n);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new vj(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Lo("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return m(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return m(function*(){if(!n.redirectPersistenceManager){const r=e&&Ss(e)||n._popupRedirectResolver;te(r,n,"argument-error"),n.redirectPersistenceManager=yield qu.create(n,[Ss(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return m(function*(){var r,i;return n._isInitialized&&(yield n.queue(m(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return m(function*(){if(e===n.currentUser)return n.queue(m(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o="function"==typeof n?n:n.next.bind(n),s=this._isInitialized?Promise.resolve():this._initializationPromise;return te(s,this,"internal-error"),s.then(()=>o(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return m(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fj(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return m(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const o=yield e._getAppCheckToken();return o&&(r["X-Firebase-AppCheck"]=o),r})()}_getAppCheckToken(){var e=this;return m(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function d_e(t,...e){ov.logLevel<=rt.WARN&&ov.warn(`Auth (${ga}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function or(t){return St(t)}class bj{constructor(e){this.auth=e,this.observer=null,this.addObserver=function $de(t,e){const n=new Hde(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function wj(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Cj(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class np{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return zo("not implemented")}_getIdTokenResponse(e){return zo("not implemented")}_linkToIdToken(e,n){return zo("not implemented")}_getReauthenticationResolver(e){return zo("not implemented")}}function Ej(t,e){return zD.apply(this,arguments)}function zD(){return(zD=m(function*(t,e){return gn(t,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function HD(t,e){return GD.apply(this,arguments)}function GD(){return(GD=m(function*(t,e){return Ds(t,"POST","/v1/accounts:signInWithPassword",ln(t,e))})).apply(this,arguments)}function ZD(){return(ZD=m(function*(t,e){return Ds(t,"POST","/v1/accounts:signInWithEmailLink",ln(t,e))})).apply(this,arguments)}function eM(){return(eM=m(function*(t,e){return Ds(t,"POST","/v1/accounts:signInWithEmailLink",ln(t,e))})).apply(this,arguments)}class rp extends np{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new rp(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new rp(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e;if(n?.email&&n?.password){if("password"===n.signInMethod)return this._fromEmailAndPassword(n.email,n.password);if("emailLink"===n.signInMethod)return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){var n=this;return m(function*(){var r;switch(n.signInMethod){case"password":const i={returnSecureToken:!0,email:n._email,password:n._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(r=e._getRecaptchaConfig())&&void 0!==r&&r.emailPasswordEnabled){const o=yield ba(e,i,"signInWithPassword");return HD(e,o)}return HD(e,i).catch(function(){var o=m(function*(s){if("auth/missing-recaptcha-token"===s.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const a=yield ba(e,i,"signInWithPassword");return HD(e,a)}return Promise.reject(s)});return function(s){return o.apply(this,arguments)}}());case"emailLink":return function q_e(t,e){return ZD.apply(this,arguments)}(e,{email:n._email,oobCode:n._password});default:mi(e,"internal-error")}})()}_linkToIdToken(e,n){var r=this;return m(function*(){switch(r.signInMethod){case"password":return Ej(e,{idToken:n,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function W_e(t,e){return eM.apply(this,arguments)}(e,{idToken:n,email:r._email,oobCode:r._password});default:mi(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function As(t,e){return tM.apply(this,arguments)}function tM(){return(tM=m(function*(t,e){return Ds(t,"POST","/v1/accounts:signInWithIdp",ln(t,e))})).apply(this,arguments)}class sp{constructor(e){var n,r,i,o,s,a;const c=Ff(Lf(e)),l=null!==(n=c.apiKey)&&void 0!==n?n:null,u=null!==(r=c.oobCode)&&void 0!==r?r:null,d=function eye(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=c.mode)&&void 0!==i?i:null);te(l&&u&&d,"argument-error"),this.apiKey=l,this.operation=d,this.code=u,this.continueUrl=null!==(o=c.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(s=c.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=c.tenantId)&&void 0!==a?a:null}static parseLink(e){const n=function tye(t){const e=Ff(Lf(t)).link,n=e?Ff(Lf(e)).deep_link_id:null,r=Ff(Lf(t)).deep_link_id;return(r?Ff(Lf(r)).link:null)||r||n||e||t}(e);try{return new sp(n)}catch{return null}}}let Ij=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return rp._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){const i=sp.parseLink(r);return te(i,"argument-error"),rp._fromEmailAndCode(n,i.code,i.tenantId)}}return t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink",t})();class ks{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class nye extends ks{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}function hv(t,e){return aM.apply(this,arguments)}function aM(){return(aM=m(function*(t,e){return Ds(t,"POST","/v1/accounts:signUp",ln(t,e))})).apply(this,arguments)}class $i{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return m(function*(){const o=yield Pc._fromIdTokenResponse(e,r,i),s=Tj(r);return new $i({user:o,providerId:s,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return m(function*(){yield e._updateTokensIfNecessary(r,!0);const i=Tj(r);return new $i({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function Tj(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class fv extends Ai{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,fv.prototype),this.customData={appName:e.name,tenantId:null!==(o=e.tenantId)&&void 0!==o?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new fv(e,n,r,i)}}function Dj(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw"auth/multi-factor-auth-required"===o.code?fv._fromErrorAndOperation(t,o,e,r):o})}function dM(){return(dM=m(function*(t,e,n=!1){const r=yield Ms(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return $i._forOperation(t,"link",r)})).apply(this,arguments)}function fM(){return(fM=m(function*(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const o=yield Ms(t,Dj(r,i,e,t),n);te(o.idToken,r,"internal-error");const s=av(o.idToken);te(s,r,"internal-error");const{sub:a}=s;return te(t.uid===a,r,"user-mismatch"),$i._forOperation(t,i,o)}catch(o){throw"auth/user-not-found"===o?.code&&mi(r,"user-mismatch"),o}})).apply(this,arguments)}function Aj(t,e){return pM.apply(this,arguments)}function pM(){return(pM=m(function*(t,e,n=!1){const r="signIn",i=yield Dj(t,r,e),o=yield $i._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})).apply(this,arguments)}function mM(){return(mM=m(function*(t,e){return Aj(or(t),e)})).apply(this,arguments)}function lye(t,e,n){return MM.apply(this,arguments)}function MM(){return MM=m(function*(t,e,n){var r;const i=or(t),o={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let s;if(null!==(r=i._getRecaptchaConfig())&&void 0!==r&&r.emailPasswordEnabled){const l=yield ba(i,o,"signUpPassword");s=hv(i,l)}else s=hv(i,o).catch(function(){var l=m(function*(u){if("auth/missing-recaptcha-token"===u.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const d=yield ba(i,o,"signUpPassword");return hv(i,d)}return Promise.reject(u)});return function(u){return l.apply(this,arguments)}}());const a=yield s.catch(l=>Promise.reject(l)),c=yield $i._fromIdTokenResponse(i,"signIn",a);return yield i._updateCurrentUser(c.user),c}),MM.apply(this,arguments)}function uye(t,e,n){return function gM(t,e){return mM.apply(this,arguments)}(St(t),Ij.credential(e,n))}function bye(t,e,n,r){return St(t).onAuthStateChanged(e,n,r)}function wye(t){return St(t).signOut()}const gv="__sak";class Pj{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(gv,"1"),this.storage.removeItem(gv),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Sye=(()=>{class t extends Pj{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Tye(){const t=Sn();return FD(t)||lv(t)}()&&function A_e(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=hj(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const o=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);!function S_e(){return function Rde(){const t=Sn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()&&10===document.documentMode}()||s===n.newValue||n.newValue===n.oldValue?o():setTimeout(o,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,o=this;return m(function*(){yield i().call(o,n,r),o.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return m(function*(){const o=yield r().call(i,n);return i.localCache[n]=JSON.stringify(o),o})()}_remove(n){var r=()=>super._remove,i=this;return m(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),Nj=(()=>{class t extends Pj{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let kye=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return m(function*(){const i=n,{eventId:o,eventType:s,data:a}=i.data,c=r.handlersMap[s];if(!c?.size)return;i.ports[0].postMessage({status:"ack",eventId:o,eventType:s});const l=Array.from(c).map(function(){var d=m(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),u=yield function Aye(t){return Promise.all(t.map(function(){var e=m(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(l);i.ports[0].postMessage({status:"done",eventId:o,eventType:s,response:u})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function zM(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class Oye{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return m(function*(){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let s,a;return new Promise((c,l)=>{const u=zM("",20);o.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:o,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(f.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"))}}},i.handlers.add(a),o.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:u,data:n},[o.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function Ln(){return window}function $M(){return typeof Ln().WorkerGlobalScope<"u"&&"function"==typeof Ln().importScripts}function HM(){return(HM=m(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Rj="firebaseLocalStorageDb",mv="firebaseLocalStorage",Fj="fbase_key";class lp{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function _v(t,e){return t.transaction([mv],e?"readwrite":"readonly").objectStore(mv)}function GM(){const t=indexedDB.open(Rj,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(mv,{keyPath:Fj})}catch(i){n(i)}}),t.addEventListener("success",m(function*(){const r=t.result;r.objectStoreNames.contains(mv)?e(r):(r.close(),yield function Vye(){const t=indexedDB.deleteDatabase(Rj);return new lp(t).toPromise()}(),e(yield GM()))}))})}function Lj(t,e,n){return qM.apply(this,arguments)}function qM(){return(qM=m(function*(t,e,n){const r=_v(t,!0).put({[Fj]:e,value:n});return new lp(r).toPromise()})).apply(this,arguments)}function WM(){return(WM=m(function*(t,e){const n=_v(t,!1).get(e),r=yield new lp(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function Vj(t,e){const n=_v(t,!0).delete(e);return new lp(n).toPromise()}const zye=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return m(function*(){return n.db||(n.db=yield GM()),n.db})()}_withRetries(n){var r=this;return m(function*(){let i=0;for(;;)try{const o=yield r._openDb();return yield n(o)}catch(o){if(i++>3)throw o;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return m(function*(){return $M()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return m(function*(){n.receiver=kye._getInstance(function Fye(){return $M()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=m(function*(i,o){return{keyProcessed:(yield n._poll()).includes(o.key)}});return function(i,o){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=m(function*(i,o){return["keyChanged"]});return function(i,o){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return m(function*(){var r,i;if(n.activeServiceWorker=yield function Nye(){return HM.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new Oye(n.activeServiceWorker);const o=yield n.sender._send("ping",{},800);o&&null!==(r=o[0])&&void 0!==r&&r.fulfilled&&null!==(i=o[0])&&void 0!==i&&i.value.includes("keyChanged")&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return m(function*(){if(r.sender&&r.activeServiceWorker&&function Rye(){var t;return(null===(t=navigator?.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return m(function*(){try{if(!indexedDB)return!1;const n=yield GM();return yield Lj(n,gv,"1"),yield Vj(n,gv),!0}catch{}return!1})()}_withPendingWrite(n){var r=this;return m(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return m(function*(){return i._withPendingWrite(m(function*(){return yield i._withRetries(o=>Lj(o,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return m(function*(){const i=yield r._withRetries(o=>function Uye(t,e){return WM.apply(this,arguments)}(o,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return m(function*(){return r._withPendingWrite(m(function*(){return yield r._withRetries(i=>Vj(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return m(function*(){const r=yield n._withRetries(s=>{const a=_v(s,!1).getAll();return new lp(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],o=new Set;for(const{fbase_key:s,value:a}of r)o.add(s),JSON.stringify(n.localCache[s])!==JSON.stringify(a)&&(n.notifyListeners(s,a),i.push(s));for(const s of Object.keys(n.localCache))n.localCache[s]&&!o.has(s)&&(n.notifyListeners(s,null),i.push(s));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const o of Array.from(i))o(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(m(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();yj("rcb"),new Xf(3e4,6e4);class nS extends np{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return As(e,this._buildIdpRequest())}_linkToIdToken(e,n){return As(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return As(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function ive(t){return Aj(t.auth,new nS(t),t.bypassAuthState)}function ove(t){const{auth:e,user:n}=t;return te(n,e,"internal-error"),function Sj(t,e){return fM.apply(this,arguments)}(n,new nS(t),t.bypassAuthState)}function sve(t){return rS.apply(this,arguments)}function rS(){return(rS=m(function*(t){const{auth:e,user:n}=t;return te(n,e,"internal-error"),function uM(t,e){return dM.apply(this,arguments)}(n,new nS(t),t.bypassAuthState)})).apply(this,arguments)}class ave{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=m(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(o){e.reject(o)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return m(function*(){const{urlResponse:r,sessionId:i,postBody:o,tenantId:s,error:a,type:c}=e;if(a)return void n.reject(a);const l={auth:n.auth,requestUri:r,sessionId:i,tenantId:s||void 0,postBody:o||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(c)(l))}catch(u){n.reject(u)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ive;case"linkViaPopup":case"linkViaRedirect":return sve;case"reauthViaPopup":case"reauthViaRedirect":return ove;default:mi(this.auth,"internal-error")}}resolve(e){ya(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ya(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new Xf(2e3,1e4);const cve="pendingRedirect",up=new Map;class lve extends ave{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return m(function*(){let r=up.get(n.auth._key());if(!r){try{const o=(yield function uve(t,e){return cS.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(o)}catch(i){r=()=>Promise.reject(i)}up.set(n.auth._key(),r)}return n.bypassAuthState||up.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return m(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return m(function*(){})()}cleanUp(){}}function cS(){return(cS=m(function*(t,e){const n=function jj(t){return cv(cve,t.config.apiKey,t.name)}(e),r=function Bj(t){return Ss(t._redirectPersistence)}(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function dve(t,e){up.set(t._key(),e)}function zj(t,e){return gS.apply(this,arguments)}function gS(){return(gS=m(function*(t,e,n=!1){const r=or(t),i=function Rc(t,e){return e?Ss(e):(te(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}(r,e),s=yield new lve(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})).apply(this,arguments)}class mve{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function _ve(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Gj(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Gj(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(jo(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Hj(e))}saveEventToCache(e){this.cachedEventUids.add(Hj(e)),this.lastProcessedEventTime=Date.now()}}function Hj(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Gj({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===e?.code}function _S(){return(_S=m(function*(t,e={}){return gn(t,"GET","/v1/projects",e)})).apply(this,arguments)}const vve=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bve=/^https?/;function yS(){return yS=m(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield function yve(t){return _S.apply(this,arguments)}(t);for(const n of e)try{if(Cve(n))return}catch{}mi(t,"unauthorized-domain")}),yS.apply(this,arguments)}function Cve(t){const e=Yf(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return""===s.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&s.hostname===r}if(!bve.test(n))return!1;if(vve.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const xve=new Xf(3e4,6e4);function qj(){const t=Ln().___jsl;if(t?.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let vv=null;const Tve=new Xf(5e3,15e3),Dve="__/auth/iframe",Mve="emulator/auth/iframe",Sve={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ave=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kve(t){const e=t.config;te(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?xD(e,Mve):`https://${t.config.authDomain}/${Dve}`,r={apiKey:e.apiKey,appName:t.name,v:ga},i=Ave.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Uu(r).slice(1)}`}function vS(){return vS=m(function*(t){const e=yield function Ive(t){return vv=vv||function Eve(t){return new Promise((e,n)=>{var r,i,o;function s(){qj(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{qj(),n(jo(t,"network-request-failed"))},timeout:xve.get()})}if(null!==(i=null===(r=Ln().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(o=Ln().gapi)||void 0===o||!o.load){const a=yj("iframefcb");return Ln()[a]=()=>{gapi.load?s():n(jo(t,"network-request-failed"))},UD(`https://apis.google.com/js/api.js?onload=${a}`).catch(c=>n(c))}s()}}).catch(e=>{throw vv=null,e})}(t),vv}(t),n=Ln().gapi;return te(n,t,"internal-error"),e.open({where:document.body,url:kve(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Sve,dontclear:!0},r=>new Promise(function(){var i=m(function*(o,s){yield r.restyle({setHideOnLeave:!1});const a=jo(t,"network-request-failed"),c=Ln().setTimeout(()=>{s(a)},Tve.get());function l(){Ln().clearTimeout(c),o(r)}r.ping(l).then(l,()=>{s(a)})});return function(o,s){return i.apply(this,arguments)}}()))}),vS.apply(this,arguments)}const Pve={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Wj{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Bve="__/auth/handler",jve="emulator/auth/handler",zve=encodeURIComponent("fac");function Kj(t,e,n,r,i,o){return bS.apply(this,arguments)}function bS(){return(bS=m(function*(t,e,n,r,i,o){te(t.config.authDomain,t,"auth-domain-config-required"),te(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ga,eventId:i};if(e instanceof ks){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",jE(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries(o||{}))s[u]=d}if(e instanceof nye){const u=e.getScopes().filter(d=>""!==d);u.length>0&&(s.scopes=u.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const c=yield t._getAppCheckToken(),l=c?`#${zve}=${encodeURIComponent(c)}`:"";return`${function $ve({config:t}){return t.emulator?xD(t,jve):`https://${t.authDomain}/${Bve}`}(t)}?${Uu(a).slice(1)}${l}`})).apply(this,arguments)}const wS="webStorageSupport",Gve=class Hve{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Nj,this._completeRedirectFn=zj,this._overrideRedirectResult=dve}_openPopup(e,n,r,i){var o=this;return m(function*(){var s;ya(null===(s=o.eventManagers[e._key()])||void 0===s?void 0:s.manager,"_initialize() not called before _openPopup()");const a=yield Kj(e,n,r,Yf(),i);return function Vve(t,e,n,r=500,i=600){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},Pve),{width:r.toString(),height:i.toString(),top:o,left:s}),l=Sn().toLowerCase();n&&(a=aj(l)?"_blank":n),sj(l)&&(e=e||"http://localhost",c.scrollbars="yes");const u=Object.entries(c).reduce((h,[f,b])=>`${h}${f}=${b},`,"");if(function M_e(t=Sn()){var e;return lv(t)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(l)&&"_self"!==a)return function Uve(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new Wj(null);const d=window.open(e||"",a,u);te(d,t,"popup-blocked");try{d.focus()}catch{}return new Wj(d)}(e,a,zM())})()}_openRedirect(e,n,r,i){var o=this;return m(function*(){return yield o._originValidation(e),function Pye(t){Ln().location.href=t}(yield Kj(e,n,r,Yf(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(ya(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){var n=this;return m(function*(){const r=yield function Ove(t){return vS.apply(this,arguments)}(e),i=new mve(e);return r.register("authEvent",o=>(te(o?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(wS,{type:wS},i=>{var o;const s=null===(o=i?.[0])||void 0===o?void 0:o[wS];void 0!==s&&n(!!s),mi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function wve(t){return yS.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return hj()||FD()||lv()}};var Jj="@firebase/auth";class qve{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return m(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Yve=nB("authIdTokenMaxAge")||300;let ez=null;const Xve=t=>function(){var e=m(function*(n){const r=n&&(yield n.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>Yve)return;const o=r?.token;ez!==o&&(ez=o,yield fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))});return function(n){return e.apply(this,arguments)}}();function Jve(t=Uf()){const e=pa(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function V_e(t,e){const n=pa(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(jy(n.getOptions(),e??{}))return i;mi(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:Gve,persistence:[zye,Sye,Nj]}),r=nB("authTokenSyncURL");if(r){const o=Xve(r);(function vye(t,e,n){St(t).beforeAuthStateChanged(e,n)})(n,o,()=>o(n.currentUser)),function yye(t,e,n,r){St(t).onIdTokenChanged(e,n,r)}(n,s=>o(s))}const i=eB("auth");return i&&function B_e(t,e,n){const r=or(t);te(r._canInitEmulator,r,"emulator-config-failed"),te(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,o=wj(e),{host:s,port:a}=function j_e(t){const e=wj(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:Cj(r.substr(o.length+1))}}{const[o,s]=r.split(":");return{host:o,port:Cj(s)}}}(e);r.config.emulator={url:`${o}//${s}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function z_e(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}(n,`http://${i}`),n}!function Kve(t){yr(new rr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;te(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fj(t)},l=new L_e(r,i,o,c);return function U_e(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Ss);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),yr(new rr("auth-internal",e=>{const n=or(e.getProvider("auth").getImmediate());return new qve(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Tt(Jj,"0.23.2",function Wve(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),Tt(Jj,"0.23.2","esm2017")}("Browser");class ze{constructor(e){return e}}class wv{constructor(){return Hf("auth")}}const xS=new ae("angularfire2.auth-instances");function e0e(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new ze(r)}}const t0e={provide:wv,deps:[[new an,xS]]},n0e={provide:ze,useFactory:function Zve(t,e){const n=$f("auth",t,e);return n&&new ze(n)},deps:[[new an,xS],_a]};let r0e=(()=>{class t{constructor(){Tt("angularfire",zu.full,"auth")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=on({type:t}),t.\u0275inj=en({providers:[n0e,t0e]}),t})();function i0e(t,...e){return{ngModule:r0e,providers:[{provide:xS,useFactory:e0e(t),multi:!0,deps:[Je,wn,Gf,qf,[new an,Qf],...e]}]}}const o0e=Xn(lye,!0),$o=Xn(Jve,!0),Os=Xn(bye,!0),s0e=Xn(uye,!0),wr=Xn(wye,!0);let nz=(()=>{class t{constructor(n,r){this.auth=n,this.router=r,this.title="gestion-muestras"}Login(){this.router.navigate(["/auth/login"])}handleSignOut(){wr(this.auth).then(()=>{}).catch(n=>{console.log("here")})}Home(){this.router.navigate(["auth/select"])}static#e=this.\u0275fac=function(r){return new(r||t)(I(ze),I(Te))};static#t=this.\u0275cmp=je({type:t,selectors:[["app-auth"]],decls:11,vars:0,consts:[[1,"navbar"],[1,"tituloBox"],[1,"tituloText"],[1,"logoCiens"],[1,"logoUcv"],[1,"homeBox",3,"click"],[1,"homeText"],[1,"homeLogo"]],template:function(r,i){1&r&&(y(0,"div",0)(1,"div",1)(2,"span",2),C(3,"Gestion de Muestras"),p()(),ee(4,"div",3)(5,"div",4),y(6,"div",5),Y("click",function(){return i.Home()}),y(7,"span",6),C(8,"Home"),p(),ee(9,"div",7),p()(),ee(10,"router-outlet"))},dependencies:[Au],styles:[".main[_ngcontent-%COMP%]{display:flex;height:100vh;justify-content:center;align-items:center;flex-direction:column}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}.homeBox[_ngcontent-%COMP%]{background-color:#3ec28f;border-right:4px solid white;width:20%;height:10%;position:absolute;cursor:pointer;left:0;top:0%;text-align:center}.homeText[_ngcontent-%COMP%]{color:#fff;display:inline-block;vertical-align:middle;line-height:250%;font-family:Verdana;font-size:40px;letter-spacing:0}.tituloBox[_ngcontent-%COMP%]{background-color:#3ec28f;width:80%;height:10%;position:absolute;left:20%;top:0%;text-align:center}.tituloText[_ngcontent-%COMP%]{color:#fff;display:inline-block;vertical-align:middle;line-height:250%;font-family:Verdana;font-size:40px;letter-spacing:0}.logoCiens[_ngcontent-%COMP%]{width:100px;height:69px;position:absolute;left:90%;top:1.5%;background-image:url(Logo-Agronomia2.2ed90bcafa53fa56.png);background-repeat:no-repeat;background-size:cover}.logoUcv[_ngcontent-%COMP%]{width:69px;height:69px;position:absolute;left:22%;top:1.5%;background-image:url(logo_ucv_bg2_1.32a61806277cba42.png);background-repeat:no-repeat;background-size:cover}@media only screen and (max-width: 768px){.homeBox[_ngcontent-%COMP%]{background-color:#3ec28f;border-right:4px solid white;width:20%;height:15%;position:absolute;left:0;top:0%}.homeText[_ngcontent-%COMP%]{display:none}.homeLogo[_ngcontent-%COMP%]{position:relative;top:30%;left:25%;width:36px;height:36px;text-align:center;background-image:url(home.a5ce65d54c28e165.png);background-repeat:no-repeat;background-size:cover}.tituloBox[_ngcontent-%COMP%]{background-color:#3ec28f;width:80%;height:15%;position:absolute;left:20%;top:0%;text-align:center}.tituloText[_ngcontent-%COMP%]{color:#fff;line-height:1.6;font-family:Verdana;font-size:32px;letter-spacing:0px}.logoCiens[_ngcontent-%COMP%]{width:45px;height:35px;position:absolute;left:85%;top:1.5%;background-image:url(Logo-Agronomia2.2ed90bcafa53fa56.png);background-repeat:no-repeat;background-size:cover}.logoUcv[_ngcontent-%COMP%]{width:35px;height:35px;position:absolute;left:22%;top:1.5%;background-image:url(logo_ucv_bg2_1.32a61806277cba42.png);background-repeat:no-repeat;background-size:cover}}"]})}return t})();var se,a0e=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ho={},ES=ES||{},Oe=a0e||self;function Cv(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function dp(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var IS="closure_uid_"+(1e9*Math.random()>>>0),l0e=0;function u0e(t,e,n){return t.call.apply(t.bind,arguments)}function d0e(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Rr(t,e,n){return(Rr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?u0e:d0e).apply(null,arguments)}function xv(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function sr(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function wa(){this.s=this.s,this.o=this.o}wa.prototype.s=!1,wa.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function c0e(t){Object.prototype.hasOwnProperty.call(t,IS)&&t[IS]||(t[IS]=++l0e)}(this)},wa.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const rz=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function TS(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function iz(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Cv(r)){const i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function Fr(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Fr.prototype.h=function(){this.defaultPrevented=!0};var f0e=function(){if(!Oe.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Oe.addEventListener("test",()=>{},e),Oe.removeEventListener("test",()=>{},e)}catch{}return t}();function hp(t){return/^[\s\xa0]*$/.test(t)}function Ev(){var t=Oe.navigator;return t&&(t=t.userAgent)?t:""}function Ho(t){return-1!=Ev().indexOf(t)}function DS(t){return DS[" "](t),t}DS[" "]=function(){};var SS,t,g0e=Ho("Opera"),Qu=Ho("Trident")||Ho("MSIE"),oz=Ho("Edge"),MS=oz||Qu,sz=Ho("Gecko")&&!(-1!=Ev().toLowerCase().indexOf("webkit")&&!Ho("Edge"))&&!(Ho("Trident")||Ho("MSIE"))&&!Ho("Edge"),m0e=-1!=Ev().toLowerCase().indexOf("webkit")&&!Ho("Edge");function az(){var t=Oe.document;return t?t.documentMode:void 0}e:{var AS="",kS=(t=Ev(),sz?/rv:([^\);]+)(\)|;)/.exec(t):oz?/Edge\/([\d\.]+)/.exec(t):Qu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):m0e?/WebKit\/(\S+)/.exec(t):g0e?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(kS&&(AS=kS?kS[1]:""),Qu){var OS=az();if(null!=OS&&OS>parseFloat(AS)){SS=String(OS);break e}}SS=AS}var _0e=Oe.document&&Qu&&(az()||parseInt(SS,10))||void 0;function fp(t,e){if(Fr.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(sz){e:{try{DS(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:y0e[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&fp.$.h.call(this)}}sr(fp,Fr);var y0e={2:"touch",3:"pen",4:"mouse"};fp.prototype.h=function(){fp.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var pp="closure_listenable_"+(1e6*Math.random()|0),v0e=0;function b0e(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++v0e,this.fa=this.ia=!1}function Iv(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function NS(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function lz(t){const e={};for(const n in t)e[n]=t[n];return e}const uz="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function dz(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let o=0;o<uz.length;o++)n=uz[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Tv(t){this.src=t,this.g={},this.h=0}function RS(t,e){var n=e.type;if(n in t.g){var o,r=t.g[n],i=rz(r,e);(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(Iv(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function FS(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}Tv.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.g[o])||(t=this.g[o]=[],this.h++);var s=FS(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):((e=new b0e(e,this.src,o,!!r,i)).ia=n,t.push(e)),e};var LS="closure_lm_"+(1e6*Math.random()|0),VS={};function hz(t,e,n,r,i){if(r&&r.once)return pz(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)hz(t,e[o],n,r,i);return null}return n=zS(n),t&&t[pp]?t.O(e,n,dp(r)?!!r.capture:!!r,i):fz(t,e,n,!1,r,i)}function fz(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=dp(i)?!!i.capture:!!i,a=BS(t);if(a||(t[LS]=a=new Tv(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function C0e(){const e=x0e;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)f0e||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(mz(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function pz(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)pz(t,e[o],n,r,i);return null}return n=zS(n),t&&t[pp]?t.P(e,n,dp(r)?!!r.capture:!!r,i):fz(t,e,n,!0,r,i)}function gz(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)gz(t,e[o],n,r,i);else r=dp(r)?!!r.capture:!!r,n=zS(n),t&&t[pp]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=FS(o=t.g[e],n,r,i))&&(Iv(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.g[e],t.h--))):t&&(t=BS(t))&&(e=t.g[e.toString()],t=-1,e&&(t=FS(e,n,r,i)),(n=-1<t?e[t]:null)&&US(n))}function US(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[pp])RS(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(mz(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=BS(e))?(RS(n,t),0==n.h&&(n.src=null,e[LS]=null)):Iv(t)}}}function mz(t){return t in VS?VS[t]:VS[t]="on"+t}function x0e(t,e){if(t.fa)t=!0;else{e=new fp(e,this);var n=t.listener,r=t.la||t.src;t.ia&&US(t),t=n.call(r,e)}return t}function BS(t){return(t=t[LS])instanceof Tv?t:null}var jS="__closure_events_fn_"+(1e9*Math.random()>>>0);function zS(t){return"function"==typeof t?t:(t[jS]||(t[jS]=function(e){return t.handleEvent(e)}),t[jS])}function ar(){wa.call(this),this.i=new Tv(this),this.S=this,this.J=null}function Cr(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new Fr(e,t);else if(e instanceof Fr)e.target=e.target||t;else{var i=e;dz(e=new Fr(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=Dv(s,r,!0,e)&&i}if(i=Dv(s=e.g=t,r,!0,e)&&i,i=Dv(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=Dv(s=e.g=n[o],r,!1,e)&&i}function Dv(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,c=s.la||s.src;s.ia&&RS(t.i,s),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}sr(ar,wa),ar.prototype[pp]=!0,ar.prototype.removeEventListener=function(t,e,n,r){gz(this,t,e,n,r)},ar.prototype.N=function(){if(ar.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Iv(n[r]);delete t.g[e],t.h--}}this.J=null},ar.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},ar.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var $S=Oe.JSON.stringify;function I0e(){var t=HS;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var _z=new class E0e{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new D0e,t=>t.reset());class D0e{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function M0e(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function S0e(t){Oe.setTimeout(()=>{throw t},0)}let gp,mp=!1,HS=new class T0e{constructor(){this.h=this.g=null}add(e,n){const r=_z.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},yz=()=>{const t=Oe.Promise.resolve(void 0);gp=()=>{t.then(A0e)}};var A0e=()=>{for(var t;t=I0e();){try{t.h.call(t.g)}catch(n){S0e(n)}var e=_z;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}mp=!1};function Mv(t,e){ar.call(this),this.h=t||1,this.g=e||Oe,this.j=Rr(this.qb,this),this.l=Date.now()}function GS(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function qS(t,e,n){if("function"==typeof t)n&&(t=Rr(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Rr(t.handleEvent,t)}return 2147483647<Number(e)?-1:Oe.setTimeout(t,e||0)}function vz(t){t.g=qS(()=>{t.g=null,t.i&&(t.i=!1,vz(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}sr(Mv,ar),(se=Mv.prototype).ga=!1,se.T=null,se.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Cr(this,"tick"),this.ga&&(GS(this),this.start()))}},se.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},se.N=function(){Mv.$.N.call(this),GS(this),delete this.g};class k0e extends wa{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:vz(this)}N(){super.N(),this.g&&(Oe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _p(t){wa.call(this),this.h=t,this.g={}}sr(_p,wa);var bz=[];function wz(t,e,n,r){Array.isArray(n)||(n&&(bz[0]=n.toString()),n=bz);for(var i=0;i<n.length;i++){var o=hz(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function Cz(t){NS(t.g,function(e,n){this.g.hasOwnProperty(n)&&US(e)},t),t.g={}}function Sv(){this.g=!0}function Yu(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function R0e(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return $S(n)}catch{return e}}(t,n)+(r?" "+r:"")})}_p.prototype.N=function(){_p.$.N.call(this),Cz(this)},_p.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Sv.prototype.Ea=function(){this.g=!1},Sv.prototype.info=function(){};var Fc={},xz=null;function Av(){return xz=xz||new ar}function Ez(t){Fr.call(this,Fc.Ta,t)}function yp(t){const e=Av();Cr(e,new Ez(e))}function Iz(t,e){Fr.call(this,Fc.STAT_EVENT,t),this.stat=e}function Xr(t){const e=Av();Cr(e,new Iz(e,t))}function Tz(t,e){Fr.call(this,Fc.Ua,t),this.size=e}function vp(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Oe.setTimeout(function(){t()},e)}Fc.Ta="serverreachability",sr(Ez,Fr),Fc.STAT_EVENT="statevent",sr(Iz,Fr),Fc.Ua="timingevent",sr(Tz,Fr);var kv={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Dz={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function WS(){}function Sz(){}WS.prototype.h=null;var YS,bp={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function KS(){Fr.call(this,"d")}function QS(){Fr.call(this,"c")}function Ov(){}function wp(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new _p(this),this.P=F0e,this.V=new Mv(t=MS?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Az}function Az(){this.i=null,this.g="",this.h=!1}sr(KS,Fr),sr(QS,Fr),sr(Ov,WS),Ov.prototype.g=function(){return new XMLHttpRequest},Ov.prototype.i=function(){return{}},YS=new Ov;var F0e=45e3,XS={},Pv={};function JS(t,e,n){t.L=1,t.v=Lv(Ps(e)),t.s=n,t.S=!0,kz(t,null)}function kz(t,e){t.G=Date.now(),Cp(t),t.A=Ps(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),jz(n.i,"t",r),t.C=0,n=t.l.J,t.h=new Az,t.g=d$(t.l,n?e:null,!t.s),0<t.O&&(t.M=new k0e(Rr(t.Pa,t,t.g),t.O)),wz(t.U,t.g,"readystatechange",t.nb),e=t.I?lz(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),yp(),function O0e(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var d=u.split("_");s=2<=d.length&&"type"==d[1]?s+(u+"=")+l+"&":s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.j,t.u,t.A,t.m,t.W,t.s)}function Oz(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function Pz(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=L0e(t,n),i==Pv){4==e&&(t.o=4,Xr(14),r=!1),Yu(t.j,t.m,null,"[Incomplete Response]");break}if(i==XS){t.o=4,Xr(15),Yu(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Yu(t.j,t.m,i,null),ZS(t,i)}Oz(t)&&i!=Pv&&i!=XS&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Xr(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),sA(e),e.M=!0,Xr(11))):(Yu(t.j,t.m,n,"[Invalid Chunked Response]"),Lc(t),xp(t))}function L0e(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Pv:(n=Number(e.substring(n,r)),isNaN(n)?XS:(r+=1)+n>e.length?Pv:(e=e.slice(r,r+n),t.C=r+n,e))}function Cp(t){t.Y=Date.now()+t.P,Nz(t,t.P)}function Nz(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=vp(Rr(t.lb,t),e)}function Nv(t){t.B&&(Oe.clearTimeout(t.B),t.B=null)}function xp(t){0==t.l.H||t.J||a$(t.l,t)}function Lc(t){Nv(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,GS(t.V),Cz(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function ZS(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||eA(n.i,t)))if(!t.K&&eA(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;$v(n),jv(n)}oA(n),Xr(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=vp(Rr(n.ib,n),6e3));if(1>=Hz(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Uc(n,11)}else if((t.K||n.g==t)&&$v(n),!hp(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(n.V=l[0],l=l[1],2==n.H)if("c"==l[0]){n.K=l[1],n.pa=l[2];const u=l[3];null!=u&&(n.ra=u,n.l.info("VER="+n.ra));const d=l[4];null!=d&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=l[5];null!=h&&"number"==typeof h&&0<h&&(n.L=r=1.5*h,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const b=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(b){var o=r.i;o.g||-1==b.indexOf("spdy")&&-1==b.indexOf("quic")&&-1==b.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(tA(o,o.h),o.h=null))}if(r.F){const x=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;x&&(r.Da=x,Gt(r.I,r.F,x))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var s=t;if((r=n).wa=u$(r,r.J?r.pa:null,r.Y),s.K){Gz(r.i,s);var a=s,c=r.L;c&&a.setTimeout(c),a.B&&(Nv(a),Cp(a)),r.g=s}else o$(r);0<n.j.length&&zv(n)}else"stop"!=l[0]&&"close"!=l[0]||Uc(n,7);else 3==n.H&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?Uc(n,7):iA(n):"noop"!=l[0]&&n.h&&n.h.Aa(l),n.A=0)}yp()}catch{}}function Rz(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Cv(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function U0e(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Cv(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function V0e(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(Cv(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(se=wp.prototype).setTimeout=function(t){this.P=t},se.nb=function(t){t=t.target;const e=this.M;e&&3==Go(t)?e.l():this.Pa(t)},se.Pa=function(t){try{if(t==this.g)e:{const u=Go(this.g);var e=this.g.Ia();if(this.g.da(),!(3>u)&&(3!=u||MS||this.g&&(this.h.h||this.g.ja()||Zz(this.g)))){this.J||4!=u||7==e||yp(),Nv(this);var n=this.g.da();this.ca=n;t:if(Oz(this)){var r=Zz(this.g);t="";var i=r.length,o=4==Go(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Lc(this),xp(this);var s="";break t}this.h.i=new Oe.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==n,function P0e(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!hp(a)){var l=a;break t}}l=null}if(!(n=l)){this.i=!1,this.o=3,Xr(12),Lc(this),xp(this);break e}Yu(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ZS(this,n)}this.S?(Pz(this,u,s),MS&&this.i&&3==u&&(wz(this.U,this.V,"tick",this.mb),this.V.start())):(Yu(this.j,this.m,s,null),ZS(this,s)),4==u&&Lc(this),this.i&&!this.J&&(4==u?a$(this.l,this):(this.i=!1,Cp(this)))}else(function rbe(t){const e={};t=(t.g&&2<=Go(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(hp(t[r]))continue;var n=M0e(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const o=e[i]||[];e[i]=o,o.push(n)}!function w0e(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.o=3,Xr(12)):(this.o=0,Xr(13)),Lc(this),xp(this)}}}catch{}},se.mb=function(){if(this.g){var t=Go(this.g),e=this.g.ja();this.C<e.length&&(Nv(this),Pz(this,t,e),this.i&&4!=t&&Cp(this))}},se.cancel=function(){this.J=!0,Lc(this)},se.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function N0e(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(yp(),Xr(17)),Lc(this),this.o=2,xp(this)):Nz(this,this.Y-t)};var Fz=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Vc(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Vc){this.h=t.h,Rv(this,t.j),this.s=t.s,this.g=t.g,Fv(this,t.m),this.l=t.l;var e=t.i,n=new Tp;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Lz(this,n),this.o=t.o}else t&&(e=String(t).match(Fz))?(this.h=!1,Rv(this,e[1]||"",!0),this.s=Ep(e[2]||""),this.g=Ep(e[3]||"",!0),Fv(this,e[4]),this.l=Ep(e[5]||"",!0),Lz(this,e[6]||"",!0),this.o=Ep(e[7]||"")):(this.h=!1,this.i=new Tp(null,this.h))}function Ps(t){return new Vc(t)}function Rv(t,e,n){t.j=n?Ep(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Fv(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Lz(t,e,n){e instanceof Tp?(t.i=e,function q0e(t,e){e&&!t.j&&(Ca(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(Uz(this,r),jz(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=Ip(e,H0e)),t.i=new Tp(e,t.h))}function Gt(t,e,n){t.i.set(e,n)}function Lv(t){return Gt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Ep(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ip(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,j0e),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function j0e(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Vc.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ip(e,Vz,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Ip(e,Vz,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(Ip(n,"/"==n.charAt(0)?$0e:z0e,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Ip(n,G0e)),t.join("")};var Vz=/[#\/\?@]/g,z0e=/[#\?:]/g,$0e=/[#\?]/g,H0e=/[#\?@]/g,G0e=/#/g;function Tp(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Ca(t){t.g||(t.g=new Map,t.h=0,t.i&&function B0e(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Uz(t,e){Ca(t),e=Xu(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function Bz(t,e){return Ca(t),e=Xu(t,e),t.g.has(e)}function jz(t,e,n){Uz(t,e),0<n.length&&(t.i=null,t.g.set(Xu(t,e),TS(n)),t.h+=n.length)}function Xu(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}(se=Tp.prototype).add=function(t,e){Ca(this),this.i=null,t=Xu(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},se.forEach=function(t,e){Ca(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},se.ta=function(){Ca(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n},se.Z=function(t){Ca(this);let e=[];if("string"==typeof t)Bz(this,t)&&(e=e.concat(this.g.get(Xu(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},se.set=function(t,e){return Ca(this),this.i=null,Bz(this,t=Xu(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},se.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},se.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};var W0e=class{constructor(t,e){this.g=t,this.map=e}};function zz(t){this.l=t||K0e,t=Oe.PerformanceNavigationTiming?0<(t=Oe.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Oe.g&&Oe.g.Ka&&Oe.g.Ka()&&Oe.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var K0e=10;function $z(t){return!!t.h||!!t.g&&t.g.size>=t.j}function Hz(t){return t.h?1:t.g?t.g.size:0}function eA(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function tA(t,e){t.g?t.g.add(e):t.h=e}function Gz(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function qz(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return TS(t.i)}zz.prototype.cancel=function(){if(this.i=qz(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var Q0e=class{stringify(t){return Oe.JSON.stringify(t,void 0)}parse(t){return Oe.JSON.parse(t,void 0)}};function Y0e(){this.g=new Q0e}function X0e(t,e,n){const r=n||"";try{Rz(t,function(i,o){let s=i;dp(i)&&(s=$S(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Vv(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Dp(t){this.l=t.fc||null,this.j=t.ob||!1}function Uv(t,e){ar.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=nA,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}sr(Dp,WS),Dp.prototype.g=function(){return new Uv(this.l,this.j)},Dp.prototype.i=function(t){return function(){return t}}({}),sr(Uv,ar);var nA=0;function Wz(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function Mp(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Sp(t)}function Sp(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(se=Uv.prototype).open=function(t,e){if(this.readyState!=nA)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Sp(this)},se.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Oe).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},se.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Mp(this)),this.readyState=nA},se.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Sp(this)),this.g&&(this.readyState=3,Sp(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Oe.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Wz(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},se.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Mp(this):Sp(this),3==this.readyState&&Wz(this)}},se.Za=function(t){this.g&&(this.response=this.responseText=t,Mp(this))},se.Ya=function(t){this.g&&(this.response=t,Mp(this))},se.ka=function(){this.g&&Mp(this)},se.setRequestHeader=function(t,e){this.v.append(t,e)},se.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},se.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Uv.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Z0e=Oe.JSON.parse;function mn(t){ar.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Kz,this.L=this.M=!1}sr(mn,ar);var Kz="",ebe=/^https?$/i,tbe=["POST","PUT"];function Qz(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Yz(t),Bv(t)}function Yz(t){t.F||(t.F=!0,Cr(t,"complete"),Cr(t,"error"))}function Xz(t){if(t.h&&typeof ES<"u"&&(!t.C[1]||4!=Go(t)||2!=t.da()))if(t.v&&4==Go(t))qS(t.La,0,t);else if(Cr(t,"readystatechange"),4==Go(t)){t.h=!1;try{const s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===s){var i=String(t.I).match(Fz)[1]||null;!i&&Oe.self&&Oe.self.location&&(i=Oe.self.location.protocol.slice(0,-1)),r=!ebe.test(i?i.toLowerCase():"")}n=r}if(n)Cr(t,"complete"),Cr(t,"success");else{t.m=6;try{var o=2<Go(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",Yz(t)}}finally{Bv(t)}}}function Bv(t,e){if(t.g){Jz(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Cr(t,"ready");try{n.onreadystatechange=r}catch{}}}function Jz(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Oe.clearTimeout(t.A),t.A=null)}function Go(t){return t.g?t.g.readyState:0}function Zz(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case Kz:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function e$(t){let e="";return NS(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function rA(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=e$(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Gt(t,e,n))}function Ap(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function t$(t){this.Ga=0,this.j=[],this.l=new Sv,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ap("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ap("baseRetryDelayMs",5e3,t),this.hb=Ap("retryDelaySeedMs",1e4,t),this.eb=Ap("forwardChannelMaxRetries",2,t),this.xa=Ap("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new zz(t&&t.concurrentRequestLimit),this.Ja=new Y0e,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function iA(t){if(n$(t),3==t.H){var e=t.W++,n=Ps(t.I);if(Gt(n,"SID",t.K),Gt(n,"RID",e),Gt(n,"TYPE","terminate"),kp(t,n),(e=new wp(t,t.l,e)).L=2,e.v=Lv(Ps(n)),n=!1,Oe.navigator&&Oe.navigator.sendBeacon)try{n=Oe.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&Oe.Image&&((new Image).src=e.v,n=!0),n||(e.g=d$(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Cp(e)}l$(t)}function jv(t){t.g&&(sA(t),t.g.cancel(),t.g=null)}function n$(t){jv(t),t.u&&(Oe.clearTimeout(t.u),t.u=null),$v(t),t.i.cancel(),t.m&&("number"==typeof t.m&&Oe.clearTimeout(t.m),t.m=null)}function zv(t){if(!$z(t.i)&&!t.m){t.m=!0;var e=t.Na;gp||yz(),mp||(gp(),mp=!0),HS.add(e,t),t.C=0}}function r$(t,e){var n;n=e?e.m:t.W++;const r=Ps(t.I);Gt(r,"SID",t.K),Gt(r,"RID",n),Gt(r,"AID",t.V),kp(t,r),t.o&&t.s&&rA(r,t.o,t.s),n=new wp(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=i$(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),tA(t.i,n),JS(n,r,e)}function kp(t,e){t.na&&NS(t.na,function(n,r){Gt(e,r,n)}),t.h&&Rz({},function(n,r){Gt(e,r,n)})}function i$(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Rr(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){const s=["count="+n];-1==o?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let c=0;c<n;c++){let l=i[c].g;const u=i[c].map;if(l-=o,0>l)o=Math.max(0,i[c].g-100),a=!1;else try{X0e(u,s,"req"+l+"_")}catch{r&&r(u)}}if(a){r=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function o$(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;gp||yz(),mp||(gp(),mp=!0),HS.add(e,t),t.A=0}}function oA(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=vp(Rr(t.Ma,t),c$(t,t.A)),t.A++,0))}function sA(t){null!=t.B&&(Oe.clearTimeout(t.B),t.B=null)}function s$(t){t.g=new wp(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=Ps(t.wa);Gt(e,"RID","rpc"),Gt(e,"SID",t.K),Gt(e,"AID",t.V),Gt(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Gt(e,"TO",t.qa),Gt(e,"TYPE","xmlhttp"),kp(t,e),t.o&&t.s&&rA(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Lv(Ps(e)),n.s=null,n.S=!0,kz(n,t)}function $v(t){null!=t.v&&(Oe.clearTimeout(t.v),t.v=null)}function a$(t,e){var n=null;if(t.g==e){$v(t),sA(t),t.g=null;var r=2}else{if(!eA(t.i,e))return;n=e.F,Gz(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;Cr(r=Av(),new Tz(r,n)),zv(t)}else o$(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function ibe(t,e){return!(Hz(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=vp(Rr(t.Na,t,e),c$(t,t.C)),t.C++,0)))}(t,e)||2==r&&oA(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Uc(t,5);break;case 4:Uc(t,10);break;case 3:Uc(t,6);break;default:Uc(t,2)}}function c$(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Uc(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=Rr(t.pb,t);n||(n=new Vc("//www.google.com/images/cleardot.gif"),Oe.location&&"http"==Oe.location.protocol||Rv(n,"https"),Lv(n)),function J0e(t,e){const n=new Sv;if(Oe.Image){const r=new Image;r.onload=xv(Vv,n,r,"TestLoadImage: loaded",!0,e),r.onerror=xv(Vv,n,r,"TestLoadImage: error",!1,e),r.onabort=xv(Vv,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=xv(Vv,n,r,"TestLoadImage: timeout",!1,e),Oe.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Xr(2);t.H=0,t.h&&t.h.za(e),l$(t),n$(t)}function l$(t){if(t.H=0,t.ma=[],t.h){const e=qz(t.i);(0!=e.length||0!=t.j.length)&&(iz(t.ma,e),iz(t.ma,t.j),t.i.i.length=0,TS(t.j),t.j.length=0),t.h.ya()}}function u$(t,e,n){var r=n instanceof Vc?Ps(n):new Vc(n);if(""!=r.g)e&&(r.g=e+"."+r.g),Fv(r,r.m);else{var i=Oe.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new Vc(null);r&&Rv(o,r),e&&(o.g=e),i&&Fv(o,i),n&&(o.l=n),r=o}return e=t.Da,(n=t.F)&&e&&Gt(r,n,e),Gt(r,"VER",t.ra),kp(t,r),r}function d$(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new mn(n&&t.Ha&&!t.va?new Dp({ob:!0}):t.va)).Oa(t.J),e}function h$(){}function Hv(){if(Qu&&!(10<=Number(_0e)))throw Error("Environmental error: no available transport.")}function ki(t,e){ar.call(this),this.g=new t$(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!hp(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!hp(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Ju(this)}function f$(t){KS.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function p$(){QS.call(this),this.status=1}function Ju(t){this.g=t}function fo(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function aA(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var o=t.g[3],s=(e=t.g[0])+(o^(n=t.g[1])&((i=t.g[2])^o))+r[0]+3614090360&4294967295;s=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=n+(s<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=e+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=e+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=e+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=e+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=e+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(e=n+((s=e+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(e^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}function Ct(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=0|t[i];r&&o==e||(n[i]=o,r=!1)}this.g=n}(se=mn.prototype).Oa=function(t){this.M=t},se.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():YS.g(),this.C=function Mz(t){return t.h||(t.h=t.i())}(this.u?this.u:YS),this.g.onreadystatechange=Rr(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){return void Qz(this,o)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const o of r.keys())n.set(o,r.get(o))}r=Array.from(n.keys()).find(o=>"content-type"==o.toLowerCase()),i=Oe.FormData&&t instanceof Oe.FormData,!(0<=rz(tbe,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Jz(this),0<this.B&&((this.L=function nbe(t){return Qu&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Rr(this.ua,this)):this.A=qS(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){Qz(this,o)}},se.ua=function(){typeof ES<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Cr(this,"timeout"),this.abort(8))},se.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Cr(this,"complete"),Cr(this,"abort"),Bv(this))},se.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Bv(this,!0)),mn.$.N.call(this)},se.La=function(){this.s||(this.G||this.v||this.l?Xz(this):this.kb())},se.kb=function(){Xz(this)},se.isActive=function(){return!!this.g},se.da=function(){try{return 2<Go(this)?this.g.status:-1}catch{return-1}},se.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},se.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Z0e(e)}},se.Ia=function(){return this.m},se.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(se=t$.prototype).ra=8,se.H=1,se.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new wp(this,this.l,t);let o=this.s;if(this.U&&(o?(o=lz(o),dz(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=i$(this,i,e),Gt(n=Ps(this.I),"RID",t),Gt(n,"CVER",22),this.F&&Gt(n,"X-HTTP-Session-Id",this.F),kp(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(e$(o)))+"&"+e:this.o&&rA(n,this.o,o)),tA(this.i,i),this.bb&&Gt(n,"TYPE","init"),this.P?(Gt(n,"$req",e),Gt(n,"SID","null"),i.aa=!0,JS(i,n,null)):JS(i,n,e),this.H=2}}else 3==this.H&&(t?r$(this,t):0==this.j.length||$z(this.i)||r$(this))},se.Ma=function(){if(this.u=null,s$(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=vp(Rr(this.jb,this),t)}},se.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Xr(10),jv(this),s$(this))},se.ib=function(){null!=this.v&&(this.v=null,jv(this),oA(this),Xr(19))},se.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Xr(2)):(this.l.info("Failed to ping google.com"),Xr(1))},se.isActive=function(){return!!this.h&&this.h.isActive(this)},(se=h$.prototype).Ba=function(){},se.Aa=function(){},se.za=function(){},se.ya=function(){},se.isActive=function(){return!0},se.Va=function(){},Hv.prototype.g=function(t,e){return new ki(t,e)},sr(ki,ar),ki.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Xr(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=u$(t,null,t.Y),zv(t)},ki.prototype.close=function(){iA(this.g)},ki.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=$S(t),t=n);e.j.push(new W0e(e.fb++,t)),3==e.H&&zv(e)},ki.prototype.N=function(){this.g.h=null,delete this.j,iA(this.g),delete this.g,ki.$.N.call(this)},sr(f$,KS),sr(p$,QS),sr(Ju,h$),Ju.prototype.Ba=function(){Cr(this.g,"a")},Ju.prototype.Aa=function(t){Cr(this.g,new f$(t))},Ju.prototype.za=function(t){Cr(this.g,new p$)},Ju.prototype.ya=function(){Cr(this.g,"b")},sr(fo,function obe(){this.blockSize=-1}),fo.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},fo.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(0==i)for(;o<=n;)aA(this,t,o),o+=this.blockSize;if("string"==typeof t){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){aA(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){aA(this,r),i=0;break}}this.h=i,this.i+=e},fo.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var sbe={};function cA(t){return-128<=t&&128>t?function p0e(t,e){var n=sbe;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new Ct([0|e],0>e?-1:0)}):new Ct([0|t],0>t?-1:0)}function qo(t){if(isNaN(t)||!isFinite(t))return Zu;if(0>t)return xr(qo(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=lA;return new Ct(e,0)}var lA=4294967296,Zu=cA(0),uA=cA(1),m$=cA(16777216);function Ns(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function Hi(t){return-1==t.h}function xr(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ct(n,~t.h).add(uA)}function Gv(t,e){return t.add(xr(e))}function qv(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Op(t,e){this.g=t,this.h=e}function Wv(t,e){if(Ns(e))throw Error("division by zero");if(Ns(t))return new Op(Zu,Zu);if(Hi(t))return e=Wv(xr(t),e),new Op(xr(e.g),xr(e.h));if(Hi(e))return e=Wv(t,xr(e)),new Op(xr(e.g),e.h);if(30<t.g.length){if(Hi(t)||Hi(e))throw Error("slowDivide_ only works with positive integers.");for(var n=uA,r=e;0>=r.X(t);)n=_$(n),r=_$(r);var i=ed(n,1),o=ed(r,1);for(r=ed(r,2),n=ed(n,2);!Ns(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=ed(r,1),n=ed(n,1)}return e=Gv(t,i.R(e)),new Op(i,e)}for(i=Zu;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),s=(o=qo(n)).R(e);Hi(s)||0<s.X(t);)s=(o=qo(n-=r)).R(e);Ns(o)&&(o=uA),i=i.add(o),t=Gv(t,s)}return new Op(i,t)}function _$(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ct(n,t.h)}function ed(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new Ct(i,t.h)}(se=Ct.prototype).ea=function(){if(Hi(this))return-xr(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:lA+r)*e,e*=lA}return t},se.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(Ns(this))return"0";if(Hi(this))return"-"+xr(this).toString(t);for(var e=qo(Math.pow(t,6)),n=this,r="";;){var i=Wv(n,e).g,o=((0<(n=Gv(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(Ns(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},se.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},se.X=function(t){return Hi(t=Gv(this,t))?-1:Ns(t)?0:1},se.abs=function(){return Hi(this)?xr(this):this},se.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(65535&this.D(i))+(65535&t.D(i)),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,n[i]=(s&=65535)<<16|(o&=65535)}return new Ct(n,-2147483648&n[n.length-1]?-1:0)},se.R=function(t){if(Ns(this)||Ns(t))return Zu;if(Hi(this))return Hi(t)?xr(this).R(xr(t)):xr(xr(this).R(t));if(Hi(t))return xr(this.R(xr(t)));if(0>this.X(m$)&&0>t.X(m$))return qo(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=65535&this.D(r),a=t.D(i)>>>16,c=65535&t.D(i);n[2*r+2*i]+=s*c,qv(n,2*r+2*i),n[2*r+2*i+1]+=o*c,qv(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,qv(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,qv(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ct(n,0)},se.gb=function(t){return Wv(this,t).h},se.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ct(n,this.h&t.h)},se.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ct(n,this.h|t.h)},se.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ct(n,this.h^t.h)},Hv.prototype.createWebChannel=Hv.prototype.g,ki.prototype.send=ki.prototype.u,ki.prototype.open=ki.prototype.m,ki.prototype.close=ki.prototype.close,kv.NO_ERROR=0,kv.TIMEOUT=8,kv.HTTP_ERROR=6,Dz.COMPLETE="complete",Sz.EventType=bp,bp.OPEN="a",bp.CLOSE="b",bp.ERROR="c",bp.MESSAGE="d",ar.prototype.listen=ar.prototype.O,mn.prototype.listenOnce=mn.prototype.P,mn.prototype.getLastError=mn.prototype.Sa,mn.prototype.getLastErrorCode=mn.prototype.Ia,mn.prototype.getStatus=mn.prototype.da,mn.prototype.getResponseJson=mn.prototype.Wa,mn.prototype.getResponseText=mn.prototype.ja,mn.prototype.send=mn.prototype.ha,mn.prototype.setWithCredentials=mn.prototype.Oa,fo.prototype.digest=fo.prototype.l,fo.prototype.reset=fo.prototype.reset,fo.prototype.update=fo.prototype.j,Ct.prototype.add=Ct.prototype.add,Ct.prototype.multiply=Ct.prototype.R,Ct.prototype.modulo=Ct.prototype.gb,Ct.prototype.compare=Ct.prototype.X,Ct.prototype.toNumber=Ct.prototype.ea,Ct.prototype.toString=Ct.prototype.toString,Ct.prototype.getBits=Ct.prototype.D,Ct.fromNumber=qo,Ct.fromString=function g$(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return xr(g$(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=qo(Math.pow(e,8)),r=Zu,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=qo(Math.pow(e,o)),r=r.R(o).add(qo(s))):r=(r=r.R(n)).add(qo(s))}return r};var abe=ho.createWebChannelTransport=function(){return new Hv},cbe=ho.getStatEventTarget=function(){return Av()},dA=ho.ErrorCode=kv,lbe=ho.EventType=Dz,ube=ho.Event=Fc,y$=ho.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},dbe=ho.FetchXmlHttpFactory=Dp,Kv=ho.WebChannel=Sz,hbe=ho.XhrIo=mn,fbe=ho.Md5=fo,td=ho.Integer=Ct;const v$="@firebase/firestore";class cr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}cr.UNAUTHENTICATED=new cr(null),cr.GOOGLE_CREDENTIALS=new cr("google-credentials-uid"),cr.FIRST_PARTY=new cr("first-party-uid"),cr.MOCK_USER=new cr("mock-user");let nd="9.23.0";const xa=new Ec("@firebase/firestore");function hA(){return xa.logLevel}function Q(t,...e){if(xa.logLevel<=rt.DEBUG){const n=e.map(fA);xa.debug(`Firestore (${nd}): ${t}`,...n)}}function An(t,...e){if(xa.logLevel<=rt.ERROR){const n=e.map(fA);xa.error(`Firestore (${nd}): ${t}`,...n)}}function po(t,...e){if(xa.logLevel<=rt.WARN){const n=e.map(fA);xa.warn(`Firestore (${nd}): ${t}`,...n)}}function fA(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function ue(t="Unexpected state"){const e=`FIRESTORE (${nd}) INTERNAL ASSERTION FAILED: `+t;throw An(e),new Error(e)}function fe(t,e){t||ue()}function oe(t,e){return t}const L={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class W extends Ai{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Jn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class b${constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class pbe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(cr.UNAUTHENTICATED))}shutdown(){}}class gbe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class mbe{constructor(e){this.t=e,this.currentUser=cr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const o=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let s=new Jn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Jn,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const l=s;e.enqueueRetryable(m(function*(){yield l.promise,yield o(r.currentUser)}))},c=l=>{Q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>c(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?c(l):(Q("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Jn)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(fe("string"==typeof r.accessToken),new b$(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return fe(null===e||"string"==typeof e),new cr(e)}}class _be{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=cr.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class ybe{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new _be(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(cr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class w${constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vbe{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=o=>{null!=o.error&&Q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.T;return this.T=o.token,Q("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{Q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.I.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.I.getImmediate({optional:!0});o?i(o):Q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(fe("string"==typeof n.token),this.T=n.token,new w$(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function bbe(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class C${static A(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=bbe(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[o]%62))}return r}}function Me(t,e){return t<e?-1:t>e?1:0}function rd(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function x$(t){return t+"\0"}class un{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new W(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new W(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new W(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new W(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return un.fromMillis(Date.now())}static fromDate(e){return un.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new un(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class pe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new pe(e)}static min(){return new pe(new un(0,0))}static max(){return new pe(new un(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Pp{constructor(e,n,r){void 0===n?n=0:n>e.length&&ue(),void 0===r?r=e.length-n:r>e.length-n&&ue(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===Pp.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Pp?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ct extends Pp{construct(e,n,r){return new ct(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new W(L.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ct(n)}static emptyPath(){return new ct([])}}const wbe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class kn extends Pp{construct(e,n,r){return new kn(e,n,r)}static isValidIdentifier(e){return wbe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),kn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new kn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(0===r.length)throw new W(L.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new W(L.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new W(L.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new W(L.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new kn(n)}static emptyPath(){return new kn([])}}class re{constructor(e){this.path=e}static fromPath(e){return new re(ct.fromString(e))}static fromName(e){return new re(ct.fromString(e).popFirst(5))}static empty(){return new re(ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ct.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return ct.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new re(new ct(e.slice()))}}class Qv{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function pA(t){return t.fields.find(e=>2===e.kind)}function Bc(t){return t.fields.filter(e=>2!==e.kind)}Qv.UNKNOWN_ID=-1;class Yv{constructor(e,n){this.fieldPath=e,this.kind=n}}class Np{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Np(0,Oi.min())}}function I$(t){return new Oi(t.readTime,t.key,-1)}class Oi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Oi(pe.min(),re.empty(),-1)}static max(){return new Oi(pe.max(),re.empty(),-1)}}function gA(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=re.comparator(t.documentKey,e.documentKey),0!==n?n:Me(t.largestBatchId,e.largestBatchId))}const T$="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class D${constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ea(t){return mA.apply(this,arguments)}function mA(){return mA=m(function*(t){if(t.code!==L.FAILED_PRECONDITION||t.message!==T$)throw t;Q("LocalStore","Unexpectedly lost primary lease")}),mA.apply(this,arguments)}class F{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ue(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new F((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof F?n:F.resolve(n)}catch(n){return F.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):F.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):F.reject(n)}static resolve(e){return new F((n,r)=>{n(e)})}static reject(e){return new F((n,r)=>{r(e)})}static waitFor(e){return new F((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},c=>r(c))}),s=!0,o===i&&n()})}static or(e){let n=F.resolve(!1);for(const r of e)n=n.next(i=>i?F.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new F((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let c=0;c<o;c++){const l=c;n(e[l]).next(u=>{s[l]=u,++a,a===o&&r(s)},u=>i(u))}})}static doWhile(e,n){return new F((r,i)=>{const o=()=>{!0===e()?n().next(()=>{o()},i):r()};o()})}}class Xv{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.v=new Jn,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{n.error?this.v.reject(new Rp(e,n.error)):this.v.resolve()},this.transaction.onerror=r=>{const i=_A(r.target.error);this.v.reject(new Rp(e,i))}}static open(e,n,r,i){try{return new Xv(n,e.transaction(i,r))}catch(o){throw new Rp(n,o)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(Q("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const n=this.transaction.objectStore(e);return new Ibe(n)}}class go{constructor(e,n,r){this.name=e,this.version=n,this.V=r,12.2===go.S(Sn())&&An("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Q("SimpleDb","Removing database:",e),jc(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!ha())return!1;if(go.C())return!0;const e=Sn(),n=go.S(e),r=0<n&&n<10,i=go.N(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static N(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}$(e){var n=this;return m(function*(){return n.db||(Q("SimpleDb","Opening database:",n.name),n.db=yield new Promise((r,i)=>{const o=indexedDB.open(n.name,n.version);o.onsuccess=s=>{r(s.target.result)},o.onblocked=()=>{i(new Rp(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=s=>{const a=s.target.error;i("VersionError"===a.name?new W(L.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===a.name?new W(L.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a):new Rp(e,a))},o.onupgradeneeded=s=>{Q("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',s.oldVersion),n.V.O(s.target.result,o.transaction,s.oldVersion,n.version).next(()=>{Q("SimpleDb","Database upgrade to version "+n.version+" complete")})}})),n.F&&(n.db.onversionchange=r=>n.F(r)),n.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,r,i){var o=this;return m(function*(){const s="readonly"===n;let a=0;for(;;){++a;try{o.db=yield o.$(e);const c=Xv.open(o.db,e,s?"readonly":"readwrite",r),l=i(c).next(u=>(c.P(),u)).catch(u=>(c.abort(u),F.reject(u))).toPromise();return l.catch(()=>{}),yield c.R,l}catch(c){const l=c,u="FirebaseError"!==l.name&&a<3;if(Q("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),o.close(),!u)return Promise.reject(l)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Ebe{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return jc(this.L.delete())}}class Rp extends W{constructor(e,n){super(L.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Ia(t){return"IndexedDbTransactionError"===t.name}class Ibe{constructor(e){this.store=e}put(e,n){let r;return void 0!==n?(Q("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(Q("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),jc(r)}add(e){return Q("SimpleDb","ADD",this.store.name,e,e),jc(this.store.add(e))}get(e){return jc(this.store.get(e)).next(n=>(void 0===n&&(n=null),Q("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return Q("SimpleDb","DELETE",this.store.name,e),jc(this.store.delete(e))}count(){return Q("SimpleDb","COUNT",this.store.name),jc(this.store.count())}j(e,n){const r=this.options(e,n);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),o=[];return this.W(i,(s,a)=>{o.push(a)}).next(()=>o)}{const i=this.store.getAll(r.range);return new F((o,s)=>{i.onerror=a=>{s(a.target.error)},i.onsuccess=a=>{o(a.target.result)}})}}H(e,n){const r=this.store.getAll(e,null===n?void 0:n);return new F((i,o)=>{r.onerror=s=>{o(s.target.error)},r.onsuccess=s=>{i(s.target.result)}})}J(e,n){Q("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.Y=!1;const i=this.cursor(r);return this.W(i,(o,s,a)=>a.delete())}X(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.W(i,n)}Z(e){const n=this.cursor({});return new F((r,i)=>{n.onerror=o=>{const s=_A(o.target.error);i(s)},n.onsuccess=o=>{const s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():r()}):r()}})}W(e,n){const r=[];return new F((i,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{const a=s.target.result;if(!a)return void i();const c=new Ebe(a),l=n(a.primaryKey,a.value,c);if(l instanceof F){const u=l.catch(d=>(c.done(),F.reject(d)));r.push(u)}c.isDone?i():null===c.K?a.continue():a.continue(c.K)}}).next(()=>F.waitFor(r))}options(e,n){let r;return void 0!==e&&("string"==typeof e?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function jc(t){return new F((e,n)=>{t.onsuccess=r=>{e(r.target.result)},t.onerror=r=>{const i=_A(r.target.error);n(i)}})}let M$=!1;function _A(t){const e=go.S(Sn());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new W("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return M$||(M$=!0,setTimeout(()=>{throw r},0)),r}}return t}class Tbe{constructor(e,n){this.asyncQueue=e,this.tt=n,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var n=this;Q("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,m(function*(){n.task=null;try{Q("IndexBackiller",`Documents written: ${yield n.tt.nt()}`)}catch(r){Ia(r)?Q("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield Ea(r)}yield n.et(6e4)}))}}class Dbe{constructor(e,n){this.localStore=e,this.persistence=n}nt(e=50){var n=this;return m(function*(){return n.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>n.st(r,e))})()}st(e,n){const r=new Set;let i=n,o=!0;return F.doWhile(()=>!0===o&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(s=>{if(null!==s&&!r.has(s))return Q("IndexBackiller",`Processing collection: ${s}`),this.it(e,s,i).next(a=>{i-=a,r.add(s)});o=!1})).next(()=>n-i)}it(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(o=>{const s=o.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next(()=>this.rt(i,o)).next(a=>(Q("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>s.size)}))}rt(e,n){let r=e;return n.changes.forEach((i,o)=>{const s=I$(o);gA(s,r)>0&&(r=s)}),new Oi(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}let Pi=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return t.ct=-1,t})();function Fp(t){return null==t}function Lp(t){return 0===t&&1/t==-1/0}function Lr(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=A$(e)),e=Mbe(t.get(n),e);return A$(e)}function Mbe(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function A$(t){return t+"\x01\x01"}function Wo(t){const e=t.length;if(fe(e>=2),2===e)return fe("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),ct.emptyPath();const n=e-2,r=[];let i="";for(let o=0;o<e;){const s=t.indexOf("\x01",o);switch((s<0||s>n)&&ue(),t.charAt(s+1)){case"\x01":const a=t.substring(o,s);let c;0===i.length?c=a:(i+=a,c=i,i=""),r.push(c);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:ue()}o=s+2}return new ct(r)}const k$=["userId","batchId"];function Jv(t,e){return[t,Lr(e)]}function O$(t,e,n){return[t,Lr(e),n]}const Sbe={},Abe=["prefixPath","collectionGroup","readTime","documentId"],kbe=["prefixPath","collectionGroup","documentId"],Obe=["collectionGroup","readTime","prefixPath","documentId"],Pbe=["canonicalId","targetId"],Nbe=["targetId","path"],Rbe=["path","targetId"],Fbe=["collectionId","parent"],Lbe=["indexId","uid"],Vbe=["uid","sequenceNumber"],Ube=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Bbe=["indexId","uid","orderedDocumentKey"],jbe=["userId","collectionPath","documentId"],zbe=["userId","collectionPath","largestBatchId"],$be=["userId","collectionGroup","largestBatchId"],P$=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Hbe=[...P$,"documentOverlays"],N$=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],R$=N$,Gbe=[...R$,"indexConfiguration","indexState","indexEntries"];class yA extends D${constructor(e,n){super(),this.ht=e,this.currentSequenceNumber=n}}function lr(t,e){const n=oe(t);return go.M(n.ht,e)}function F$(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ta(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function L$(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Ut{constructor(e,n){this.comparator=e,this.root=n||Er.EMPTY}insert(e,n){return new Ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Er.BLACK,null,null))}remove(e){return new Ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Er.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zv(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zv(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zv(this.root,e,this.comparator,!0)}}class Zv{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Er{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Er.RED,this.left=i??Er.EMPTY,this.right=o??Er.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Er(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===o?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Er.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return Er.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Er.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Er.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ue();const e=this.left.check();if(e!==this.right.check())throw ue();return e+(this.isRed()?0:1)}}Er.EMPTY=null,Er.RED=!0,Er.BLACK=!1,Er.EMPTY=new class{constructor(){this.size=0}get key(){throw ue()}get value(){throw ue()}get color(){throw ue()}get left(){throw ue()}get right(){throw ue()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Er(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class qt{constructor(e){this.comparator=e,this.data=new Ut(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new V$(this.data.getIterator())}getIteratorFrom(e){return new V$(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof qt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new qt(this.comparator);return n.data=e,n}}class V${constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function id(t){return t.hasNext()?t.getNext():void 0}class _i{constructor(e){this.fields=e,e.sort(kn.comparator)}static empty(){return new _i([])}unionWith(e){let n=new qt(kn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new _i(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return rd(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class U$ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Zn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new U$("Invalid base64 string: "+i):i}}(e);return new Zn(n)}static fromUint8Array(e){const n=function(r){let i="";for(let o=0;o<r.length;++o)i+=String.fromCharCode(r[o]);return i}(e);return new Zn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zn.EMPTY_BYTE_STRING=new Zn("");const qbe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Da(t){if(fe(!!t),"string"==typeof t){let e=0;const n=qbe.exec(t);if(fe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:_n(t.seconds),nanos:_n(t.nanos)}}function _n(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Rs(t){return"string"==typeof t?Zn.fromBase64String(t):Zn.fromUint8Array(t)}function e0(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function t0(t){const e=t.mapValue.fields.__previous_value__;return e0(e)?t0(e):e}function Vp(t){const e=Da(t.mapValue.fields.__local_write_time__.timestampValue);return new un(e.seconds,e.nanos)}class Wbe{constructor(e,n,r,i,o,s,a,c,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}}class zc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new zc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof zc&&e.projectId===this.projectId&&e.database===this.database}}const Ma={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},n0={nullValue:"NULL_VALUE"};function Sa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?e0(t)?4:$$(t)?9007199254740991:10:ue()}function Ko(t,e){if(t===e)return!0;const n=Sa(t);if(n!==Sa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Vp(t).isEqual(Vp(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const o=Da(r.timestampValue),s=Da(i.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,Rs(t.bytesValue).isEqual(Rs(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return _n(r.geoPointValue.latitude)===_n(i.geoPointValue.latitude)&&_n(r.geoPointValue.longitude)===_n(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return _n(r.integerValue)===_n(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const o=_n(r.doubleValue),s=_n(i.doubleValue);return o===s?Lp(o)===Lp(s):isNaN(o)&&isNaN(s)}return!1}(t,e);case 9:return rd(t.arrayValue.values||[],e.arrayValue.values||[],Ko);case 10:return function(r,i){const o=r.mapValue.fields||{},s=i.mapValue.fields||{};if(F$(o)!==F$(s))return!1;for(const a in o)if(o.hasOwnProperty(a)&&(void 0===s[a]||!Ko(o[a],s[a])))return!1;return!0}(t,e);default:return ue()}var i}function Up(t,e){return void 0!==(t.values||[]).find(n=>Ko(n,e))}function Aa(t,e){if(t===e)return 0;const n=Sa(t),r=Sa(e);if(n!==r)return Me(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Me(t.booleanValue,e.booleanValue);case 2:return function(i,o){const s=_n(i.integerValue||i.doubleValue),a=_n(o.integerValue||o.doubleValue);return s<a?-1:s>a?1:s===a?0:isNaN(s)?isNaN(a)?0:-1:1}(t,e);case 3:return B$(t.timestampValue,e.timestampValue);case 4:return B$(Vp(t),Vp(e));case 5:return Me(t.stringValue,e.stringValue);case 6:return function(i,o){const s=Rs(i),a=Rs(o);return s.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const s=i.split("/"),a=o.split("/");for(let c=0;c<s.length&&c<a.length;c++){const l=Me(s[c],a[c]);if(0!==l)return l}return Me(s.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const s=Me(_n(i.latitude),_n(o.latitude));return 0!==s?s:Me(_n(i.longitude),_n(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,o){const s=i.values||[],a=o.values||[];for(let c=0;c<s.length&&c<a.length;++c){const l=Aa(s[c],a[c]);if(l)return l}return Me(s.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,o){if(i===Ma.mapValue&&o===Ma.mapValue)return 0;if(i===Ma.mapValue)return 1;if(o===Ma.mapValue)return-1;const s=i.fields||{},a=Object.keys(s),c=o.fields||{},l=Object.keys(c);a.sort(),l.sort();for(let u=0;u<a.length&&u<l.length;++u){const d=Me(a[u],l[u]);if(0!==d)return d;const h=Aa(s[a[u]],c[l[u]]);if(0!==h)return h}return Me(a.length,l.length)}(t.mapValue,e.mapValue);default:throw ue()}}function B$(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Me(t,e);const n=Da(t),r=Da(e),i=Me(n.seconds,r.seconds);return 0!==i?i:Me(n.nanos,r.nanos)}function od(t){return vA(t)}function vA(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Da(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Rs(t.bytesValue).toBase64():"referenceValue"in t?re.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",o=!0;for(const s of r.values||[])o?o=!1:i+=",",i+=vA(s);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let o="{",s=!0;for(const a of i)s?s=!1:o+=",",o+=`${a}:${vA(r.fields[a])}`;return o+"}"}(t.mapValue):ue();var e}function $c(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function bA(t){return!!t&&"integerValue"in t}function Bp(t){return!!t&&"arrayValue"in t}function j$(t){return!!t&&"nullValue"in t}function z$(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function o0(t){return!!t&&"mapValue"in t}function jp(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ta(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=jp(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=jp(t.arrayValue.values[n]);return e}return Object.assign({},t)}function $$(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}function Kbe(t){return"nullValue"in t?n0:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?$c(zc.empty(),re.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:ue()}function Qbe(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?$c(zc.empty(),re.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?Ma:ue()}function H$(t,e){const n=Aa(t.value,e.value);return 0!==n?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function G$(t,e){const n=Aa(t.value,e.value);return 0!==n?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}class Ir{constructor(e){this.value=e}static empty(){return new Ir({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!o0(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=jp(n)}setAll(e){let n=kn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=jp(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());o0(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ko(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];o0(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ta(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Ir(jp(this.value))}}function q$(t){const e=[];return Ta(t.fields,(n,r)=>{const i=new kn([n]);if(o0(r)){const o=q$(r.mapValue).fields;if(0===o.length)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new _i(e)}class Wt{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Wt(e,0,pe.min(),pe.min(),pe.min(),Ir.empty(),0)}static newFoundDocument(e,n,r,i){return new Wt(e,1,n,pe.min(),r,i,0)}static newNoDocument(e,n){return new Wt(e,2,n,pe.min(),pe.min(),Ir.empty(),0)}static newUnknownDocument(e,n){return new Wt(e,3,n,pe.min(),pe.min(),Ir.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(pe.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ir.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ir.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ka{constructor(e,n){this.position=e,this.inclusive=n}}function W$(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(r=o.field.isKeyField()?re.comparator(re.fromName(s.referenceValue),n.key):Aa(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function K$(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ko(t.position[n],e.position[n]))return!1;return!0}class sd{constructor(e,n="asc"){this.field=e,this.dir=n}}function Ybe(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class Q${}class et extends Q${constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new Xbe(e,n,r):"array-contains"===n?new ewe(e,r):"in"===n?new t7(e,r):"not-in"===n?new twe(e,r):"array-contains-any"===n?new nwe(e,r):new et(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new Jbe(e,r):new Zbe(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Aa(n,this.value)):null!==n&&Sa(this.value)===Sa(n)&&this.matchesComparison(Aa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ue()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class xt extends Q${constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new xt(e,n)}matches(e){return ad(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function ad(t){return"and"===t.op}function wA(t){return"or"===t.op}function CA(t){return Y$(t)&&ad(t)}function Y$(t){for(const e of t.filters)if(e instanceof xt)return!1;return!0}function xA(t){if(t instanceof et)return t.field.canonicalString()+t.op.toString()+od(t.value);if(CA(t))return t.filters.map(e=>xA(e)).join(",");{const e=t.filters.map(n=>xA(n)).join(",");return`${t.op}(${e})`}}function X$(t,e){return t instanceof et?(n=t,(r=e)instanceof et&&n.op===r.op&&n.field.isEqual(r.field)&&Ko(n.value,r.value)):t instanceof xt?function(n,r){return r instanceof xt&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((i,o,s)=>i&&X$(o,r.filters[s]),!0)}(t,e):void ue();var n,r}function J$(t,e){const n=t.filters.concat(e);return xt.create(n,t.op)}function Z$(t){return t instanceof et?`${(e=t).field.canonicalString()} ${e.op} ${od(e.value)}`:t instanceof xt?function(e){return e.op.toString()+" {"+e.getFilters().map(Z$).join(" ,")+"}"}(t):"Filter";var e}class Xbe extends et{constructor(e,n,r){super(e,n,r),this.key=re.fromName(r.referenceValue)}matches(e){const n=re.comparator(e.key,this.key);return this.matchesComparison(n)}}class Jbe extends et{constructor(e,n){super(e,"in",n),this.keys=e7(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Zbe extends et{constructor(e,n){super(e,"not-in",n),this.keys=e7(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function e7(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>re.fromName(r.referenceValue))}class ewe extends et{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Bp(n)&&Up(n.arrayValue,this.value)}}class t7 extends et{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Up(this.value.arrayValue,n)}}class twe extends et{constructor(e,n){super(e,"not-in",n)}matches(e){if(Up(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Up(this.value.arrayValue,n)}}class nwe extends et{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Bp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Up(this.value.arrayValue,r))}}class rwe{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.dt=null}}function EA(t,e=null,n=[],r=[],i=null,o=null,s=null){return new rwe(t,e,n,r,i,o,s)}function Hc(t){const e=oe(t);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>xA(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Fp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>od(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>od(r)).join(",")),e.dt=n}return e.dt}function zp(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Ybe(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!X$(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!K$(t.startAt,e.startAt)&&K$(t.endAt,e.endAt)}function s0(t){return re.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}function a0(t,e){return t.filters.filter(n=>n instanceof et&&n.field.isEqual(e))}function n7(t,e,n){let r=n0,i=!0;for(const o of a0(t,e)){let s=n0,a=!0;switch(o.op){case"<":case"<=":s=Kbe(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=n0}H$({value:r,inclusive:i},{value:s,inclusive:a})<0&&(r=s,i=a)}if(null!==n)for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const s=n.position[o];H$({value:r,inclusive:i},{value:s,inclusive:n.inclusive})<0&&(r=s,i=n.inclusive);break}return{value:r,inclusive:i}}function r7(t,e,n){let r=Ma,i=!0;for(const o of a0(t,e)){let s=Ma,a=!0;switch(o.op){case">=":case">":s=Qbe(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=Ma}G$({value:r,inclusive:i},{value:s,inclusive:a})>0&&(r=s,i=a)}if(null!==n)for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const s=n.position[o];G$({value:r,inclusive:i},{value:s,inclusive:n.inclusive})>0&&(r=s,i=n.inclusive);break}return{value:r,inclusive:i}}class Fs{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.wt=null,this._t=null}}function cd(t){return new Fs(t)}function o7(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function IA(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function c0(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}function TA(t){return null!==t.collectionGroup}function Gc(t){const e=oe(t);if(null===e.wt){e.wt=[];const n=c0(e),r=IA(e);if(null!==n&&null===r)n.isKeyField()||e.wt.push(new sd(n)),e.wt.push(new sd(kn.keyField(),"asc"));else{let i=!1;for(const o of e.explicitOrderBy)e.wt.push(o),o.field.isKeyField()&&(i=!0);if(!i){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new sd(kn.keyField(),o))}}}return e.wt}function Jr(t){const e=oe(t);if(!e._t)if("F"===e.limitType)e._t=EA(e.path,e.collectionGroup,Gc(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const o of Gc(e))n.push(new sd(o.field,"desc"===o.dir?"asc":"desc"));const r=e.endAt?new ka(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new ka(e.startAt.position,e.startAt.inclusive):null;e._t=EA(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function DA(t,e){e.getFirstInequalityField(),c0(t);const n=t.filters.concat([e]);return new Fs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function l0(t,e,n){return new Fs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function $p(t,e){return zp(Jr(t),Jr(e))&&t.limitType===e.limitType}function s7(t){return`${Hc(Jr(t))}|lt:${t.limitType}`}function MA(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>Z$(r)).join(", ")}]`),Fp(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>od(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>od(r)).join(",")),`Target(${n})`}(Jr(t))}; limitType=${t.limitType})`}function Hp(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):re.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of Gc(n))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,o,s){const a=W$(i,o,s);return i.inclusive?a<=0:a<0}(n.startAt,Gc(n),r)||n.endAt&&!function(i,o,s){const a=W$(i,o,s);return i.inclusive?a>=0:a>0}(n.endAt,Gc(n),r)));var n,r}function c7(t){return(e,n)=>{let r=!1;for(const i of Gc(t)){const o=iwe(i,e,n);if(0!==o)return o;r=r||i.field.isKeyField()}return 0}}function iwe(t,e,n){const r=t.field.isKeyField()?re.comparator(e.key,n.key):function(i,o,s){const a=o.data.field(i),c=s.data.field(i);return null!==a&&null!==c?Aa(a,c):ue()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ue()}}class Ls{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,o]of r)if(this.equalsFn(i,e))return o}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ta(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return L$(this.inner)}size(){return this.innerSize}}const owe=new Ut(re.comparator);function yi(){return owe}const l7=new Ut(re.comparator);function Gp(...t){let e=l7;for(const n of t)e=e.insert(n.key,n);return e}function u7(t){let e=l7;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Qo(){return qp()}function d7(){return qp()}function qp(){return new Ls(t=>t.toString(),(t,e)=>t.isEqual(e))}const swe=new Ut(re.comparator),awe=new qt(re.comparator);function Ve(...t){let e=awe;for(const n of t)e=e.add(n);return e}const cwe=new qt(Me);function h7(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lp(e)?"-0":e}}function f7(t){return{integerValue:""+t}}function p7(t,e){return function S$(t){return"number"==typeof t&&Number.isInteger(t)&&!Lp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?f7(e):h7(t,e)}class u0{constructor(){this._=void 0}}function lwe(t,e,n){return t instanceof ld?function(r,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&e0(i)&&(i=t0(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof qc?m7(t,e):t instanceof Wc?_7(t,e):function(r,i){const o=g7(r,i),s=y7(o)+y7(r.gt);return bA(o)&&bA(r.gt)?f7(s):h7(r.serializer,s)}(t,e)}function uwe(t,e,n){return t instanceof qc?m7(t,e):t instanceof Wc?_7(t,e):n}function g7(t,e){return t instanceof ud?bA(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class ld extends u0{}class qc extends u0{constructor(e){super(),this.elements=e}}function m7(t,e){const n=v7(e);for(const r of t.elements)n.some(i=>Ko(i,r))||n.push(r);return{arrayValue:{values:n}}}class Wc extends u0{constructor(e){super(),this.elements=e}}function _7(t,e){let n=v7(e);for(const r of t.elements)n=n.filter(i=>!Ko(i,r));return{arrayValue:{values:n}}}class ud extends u0{constructor(e,n){super(),this.serializer=e,this.gt=n}}function y7(t){return _n(t.integerValue||t.doubleValue)}function v7(t){return Bp(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Wp{constructor(e,n){this.field=e,this.transform=n}}class hwe{constructor(e,n){this.version=e,this.transformResults=n}}class nn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new nn}static exists(e){return new nn(void 0,e)}static updateTime(e){return new nn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function d0(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class h0{}function b7(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new hd(t.key,nn.none()):new dd(t.key,t.data,nn.none());{const n=t.data,r=Ir.empty();let i=new qt(kn.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);null===s&&o.length>1&&(o=o.popLast(),s=n.field(o)),null===s?r.delete(o):r.set(o,s),i=i.add(o)}return new Vs(t.key,r,new _i(i.toArray()),nn.none())}}function fwe(t,e,n){t instanceof dd?function(r,i,o){const s=r.value.clone(),a=x7(r.fieldTransforms,i,o.transformResults);s.setAll(a),i.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(t,e,n):t instanceof Vs?function(r,i,o){if(!d0(r.precondition,i))return void i.convertToUnknownDocument(o.version);const s=x7(r.fieldTransforms,i,o.transformResults),a=i.data;a.setAll(C7(r)),a.setAll(s),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Kp(t,e,n,r){return t instanceof dd?function(i,o,s,a){if(!d0(i.precondition,o))return s;const c=i.value.clone(),l=E7(i.fieldTransforms,a,o);return c.setAll(l),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Vs?function(i,o,s,a){if(!d0(i.precondition,o))return s;const c=E7(i.fieldTransforms,a,o),l=o.data;return l.setAll(C7(i)),l.setAll(c),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null===s?null:s.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(u=>u.field))}(t,e,n,r):(s=n,d0(t.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s);var o,s}function pwe(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=g7(r.transform,i||null);null!=o&&(null===n&&(n=Ir.empty()),n.set(r.field,o))}return n||null}function w7(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&rd(n,r,(i,o)=>function dwe(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof qc&&r instanceof qc||n instanceof Wc&&r instanceof Wc?rd(n.elements,r.elements,Ko):n instanceof ud&&r instanceof ud?Ko(n.gt,r.gt):n instanceof ld&&r instanceof ld);var n,r}(i,o))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class dd extends h0{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Vs extends h0{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function C7(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function x7(t,e,n){const r=new Map;fe(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,uwe(s,a,n[i]))}return r}function E7(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,lwe(o,s,e))}return r}class hd extends h0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class AA extends h0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class kA{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&fwe(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Kp(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Kp(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=d7();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const c=b7(s,a);null!==c&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(pe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ve())}isEqual(e){return this.batchId===e.batchId&&rd(this.mutations,e.mutations,(n,r)=>w7(n,r))&&rd(this.baseMutations,e.baseMutations,(n,r)=>w7(n,r))}}class OA{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){fe(e.mutations.length===r.length);let i=swe;const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new OA(e,n,r,i)}}class PA{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class mwe{constructor(e,n){this.count=e,this.unchangedNames=n}}var Vn,lt;function T7(t){if(void 0===t)return An("GRPC error has no .code"),L.UNKNOWN;switch(t){case Vn.OK:return L.OK;case Vn.CANCELLED:return L.CANCELLED;case Vn.UNKNOWN:return L.UNKNOWN;case Vn.DEADLINE_EXCEEDED:return L.DEADLINE_EXCEEDED;case Vn.RESOURCE_EXHAUSTED:return L.RESOURCE_EXHAUSTED;case Vn.INTERNAL:return L.INTERNAL;case Vn.UNAVAILABLE:return L.UNAVAILABLE;case Vn.UNAUTHENTICATED:return L.UNAUTHENTICATED;case Vn.INVALID_ARGUMENT:return L.INVALID_ARGUMENT;case Vn.NOT_FOUND:return L.NOT_FOUND;case Vn.ALREADY_EXISTS:return L.ALREADY_EXISTS;case Vn.PERMISSION_DENIED:return L.PERMISSION_DENIED;case Vn.FAILED_PRECONDITION:return L.FAILED_PRECONDITION;case Vn.ABORTED:return L.ABORTED;case Vn.OUT_OF_RANGE:return L.OUT_OF_RANGE;case Vn.UNIMPLEMENTED:return L.UNIMPLEMENTED;case Vn.DATA_LOSS:return L.DATA_LOSS;default:return ue()}}(lt=Vn||(Vn={}))[lt.OK=0]="OK",lt[lt.CANCELLED=1]="CANCELLED",lt[lt.UNKNOWN=2]="UNKNOWN",lt[lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",lt[lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",lt[lt.NOT_FOUND=5]="NOT_FOUND",lt[lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",lt[lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",lt[lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",lt[lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",lt[lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",lt[lt.ABORTED=10]="ABORTED",lt[lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",lt[lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",lt[lt.INTERNAL=13]="INTERNAL",lt[lt.UNAVAILABLE=14]="UNAVAILABLE",lt[lt.DATA_LOSS=15]="DATA_LOSS";class NA{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return f0}static getOrCreateInstance(){return null===f0&&(f0=new NA),f0}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let f0=null;const _we=new td([4294967295,4294967295],0);function M7(t){const e=function D7(){return new TextEncoder}().encode(t),n=new fbe;return n.update(e),new Uint8Array(n.digest())}function S7(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new td([n,r],0),new td([i,o],0)]}class RA{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Qp(`Invalid padding: ${n}`);if(r<0)throw new Qp(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Qp(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new Qp(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=td.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(td.fromNumber(r)));return 1===i.compare(_we)&&(i=new td([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=M7(e),[r,i]=S7(n);for(let o=0;o<this.hashCount;o++){const s=this.Et(r,i,o);if(!this.At(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new RA(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(0===this.It)return;const n=M7(e),[r,i]=S7(n);for(let o=0;o<this.hashCount;o++){const s=this.Et(r,i,o);this.Rt(s)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class Qp extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Yp{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Xp.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Yp(pe.min(),i,new Ut(Me),yi(),Ve())}}class Xp{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Xp(r,n,Ve(),Ve(),Ve())}}class p0{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class A7{constructor(e,n){this.targetId=e,this.Vt=n}}class k7{constructor(e,n,r=Zn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class O7{constructor(){this.St=0,this.Dt=N7(),this.Ct=Zn.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Ve(),n=Ve(),r=Ve();return this.Dt.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ue()}}),new Xp(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=N7()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class ywe{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=yi(),this.zt=P7(),this.Wt=new Ut(Me)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:ue()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,o=this.se(r);if(o){const s=o.target;if(s0(s))if(0===i){const a=new re(s.path);this.Yt(r,a,Wt.newNoDocument(a,pe.min()))}else fe(1===i);else{const a=this.ie(r);if(a!==i){const c=this.re(e,a);0!==c&&(this.ee(r),this.Wt=this.Wt.insert(r,2===c?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=NA.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(l,u,d){var h,f,b,x,T,P;const k={localCacheCount:u,existenceFilterCount:d.count},H=d.unchangedNames;return H&&(k.bloomFilter={applied:0===l,hashCount:null!==(h=H?.hashCount)&&void 0!==h?h:0,bitmapLength:null!==(x=null===(b=null===(f=H?.bits)||void 0===f?void 0:f.bitmap)||void 0===b?void 0:b.length)&&void 0!==x?x:0,padding:null!==(P=null===(T=H?.bits)||void 0===T?void 0:T.padding)&&void 0!==P?P:0}),k}(c,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:o="",padding:s=0},hashCount:a=0}=r;let c,l;try{c=Rs(o).toUint8Array()}catch(u){if(u instanceof U$)return po("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw u}try{l=new RA(c,s,a)}catch(u){return po(u instanceof Qp?"BloomFilter error: ":"Applying bloom filter failed: ",u),1}return 0===l.It?1:i!==n-this.oe(e.targetId,l)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(o=>{const s=this.Gt.ue(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;n.vt(a)||(this.Yt(e,o,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((o,s)=>{const a=this.se(s);if(a){if(o.current&&s0(a.target)){const c=new re(a.target.path);null!==this.jt.get(c)||this.ae(s,c)||this.Yt(s,c,Wt.newNoDocument(c,e))}o.Mt&&(n.set(s,o.Ot()),o.Ft())}});let r=Ve();this.zt.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{const l=this.se(c);return!l||"TargetPurposeLimboResolution"===l.purpose||(a=!1,!1)}),a&&(r=r.add(o))}),this.jt.forEach((o,s)=>s.setReadTime(e));const i=new Yp(e,n,this.Wt,this.jt,r);return this.jt=yi(),this.zt=P7(),this.Wt=new Ut(Me),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new O7,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new qt(Me),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||Q("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new O7),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function P7(){return new Ut(re.comparator)}function N7(){return new Ut(re.comparator)}const vwe={asc:"ASCENDING",desc:"DESCENDING"},bwe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},wwe={and:"AND",or:"OR"};class Cwe{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function FA(t,e){return t.useProto3Json||Fp(e)?e:{value:e}}function fd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function R7(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function xwe(t,e){return fd(t,e.toTimestamp())}function On(t){return fe(!!t),pe.fromTimestamp(function(e){const n=Da(e);return new un(n.seconds,n.nanos)}(t))}function LA(t,e){return(n=t,new ct(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function F7(t){const e=ct.fromString(t);return fe(G7(e)),e}function Jp(t,e){return LA(t.databaseId,e.path)}function Yo(t,e){const n=F7(e);if(n.get(1)!==t.databaseId.projectId)throw new W(L.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new W(L.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new re(V7(n))}function VA(t,e){return LA(t.databaseId,e)}function L7(t){const e=F7(t);return 4===e.length?ct.emptyPath():V7(e)}function Zp(t){return new ct(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function V7(t){return fe(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function U7(t,e,n){return{name:Jp(t,e),fields:n.value.mapValue.fields}}function eg(t,e){let n;if(e instanceof dd)n={update:U7(t,e.key,e.value)};else if(e instanceof hd)n={delete:Jp(t,e.key)};else if(e instanceof Vs)n={update:U7(t,e.key,e.data),updateMask:kwe(e.fieldMask)};else{if(!(e instanceof AA))return ue();n={verify:Jp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const s=o.transform;if(s instanceof ld)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof qc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof Wc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof ud)return{fieldPath:o.field.canonicalString(),increment:s.gt};throw ue()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:xwe(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:ue()),n;var i}function UA(t,e){const n=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?nn.updateTime(On(i.updateTime)):void 0!==i.exists?nn.exists(i.exists):nn.none():nn.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,s){let a=null;"setToServerValue"in s?(fe("REQUEST_TIME"===s.setToServerValue),a=new ld):"appendMissingElements"in s?a=new qc(s.appendMissingElements.values||[]):"removeAllFromArray"in s?a=new Wc(s.removeAllFromArray.values||[]):"increment"in s?a=new ud(o,s.increment):ue();const c=kn.fromServerFormat(s.fieldPath);return new Wp(c,a)}(t,i)):[];var i;if(e.update){const i=Yo(t,e.update.name),o=new Ir({mapValue:{fields:e.update.fields}});if(e.updateMask){const s=new _i((e.updateMask.fieldPaths||[]).map(l=>kn.fromServerFormat(l)));return new Vs(i,o,s,n,r)}return new dd(i,o,n,r)}if(e.delete){const i=Yo(t,e.delete);return new hd(i,n)}if(e.verify){const i=Yo(t,e.verify);return new AA(i,n)}return ue()}function j7(t,e){return{documents:[VA(t,e.path)]}}function BA(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=VA(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=VA(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(c){if(0!==c.length)return H7(xt.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(0!==c.length)return c.map(l=>{return{field:Oa((u=l).field),direction:Mwe(u.dir)};var u})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const s=FA(t,e.limit);var a,c;return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt={before:!(c=e.endAt).inclusive,values:c.position}),n}function z7(t){let e=L7(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){fe(1===r);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let o=[];n.where&&(o=function(u){const d=$7(u);return d instanceof xt&&CA(d)?d.getFilters():[d]}(n.where));let s=[];n.orderBy&&(s=n.orderBy.map(u=>{return new sd(pd((d=u).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(u){let d;return d="object"==typeof u?u.value:u,Fp(d)?null:d}(n.limit));let c=null;var u;n.startAt&&(c=new ka((u=n.startAt).values||[],!!u.before));let l=null;return n.endAt&&(l=function(u){return new ka(u.values||[],!u.before)}(n.endAt)),function i7(t,e,n,r,i,o,s,a){return new Fs(t,e,n,r,i,o,s,a)}(e,i,s,o,a,"F",c,l)}function $7(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=pd(e.unaryFilter.field);return et.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=pd(e.unaryFilter.field);return et.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=pd(e.unaryFilter.field);return et.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=pd(e.unaryFilter.field);return et.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ue()}}(t):void 0!==t.fieldFilter?et.create(pd((e=t).fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ue()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==t.compositeFilter?function(e){return xt.create(e.compositeFilter.filters.map(n=>$7(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return ue()}}(e.compositeFilter.op))}(t):ue();var e}function Mwe(t){return vwe[t]}function Swe(t){return bwe[t]}function Awe(t){return wwe[t]}function Oa(t){return{fieldPath:t.canonicalString()}}function pd(t){return kn.fromServerFormat(t.fieldPath)}function H7(t){return t instanceof et?function(e){if("=="===e.op){if(z$(e.value))return{unaryFilter:{field:Oa(e.field),op:"IS_NAN"}};if(j$(e.value))return{unaryFilter:{field:Oa(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(z$(e.value))return{unaryFilter:{field:Oa(e.field),op:"IS_NOT_NAN"}};if(j$(e.value))return{unaryFilter:{field:Oa(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Oa(e.field),op:Swe(e.op),value:e.value}}}(t):t instanceof xt?function(e){const n=e.getFilters().map(r=>H7(r));return 1===n.length?n[0]:{compositeFilter:{op:Awe(e.op),filters:n}}}(t):ue()}function kwe(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function G7(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class Us{constructor(e,n,r,i,o=pe.min(),s=pe.min(),a=Zn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new Us(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Us(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Us(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Us(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class q7{constructor(e){this.fe=e}}function W7(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:g0(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Jp(i=t.fe,(o=e).key),fields:o.data.value.mapValue.fields,updateTime:fd(i,o.version.toTimestamp()),createTime:fd(i,o.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Kc(e.version)};else{if(!e.isUnknownDocument())return ue();r.unknownDocument={path:n.path.toArray(),version:Kc(e.version)}}var i,o;return r}function g0(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Kc(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Qc(t){const e=new un(t.seconds,t.nanoseconds);return pe.fromTimestamp(e)}function Yc(t,e){const n=(e.baseMutations||[]).map(o=>UA(t.fe,o));for(let o=0;o<e.mutations.length-1;++o)o+1<e.mutations.length&&void 0!==e.mutations[o+1].transform&&(e.mutations[o].updateTransforms=e.mutations[o+1].transform.fieldTransforms,e.mutations.splice(o+1,1),++o);const r=e.mutations.map(o=>UA(t.fe,o)),i=un.fromMillis(e.localWriteTimeMs);return new kA(e.batchId,i,n,r)}function tg(t){const e=Qc(t.readTime),n=void 0!==t.lastLimboFreeSnapshotVersion?Qc(t.lastLimboFreeSnapshotVersion):pe.min();let r;var i;return void 0!==t.query.documents?(fe(1===(i=t.query).documents.length),r=Jr(cd(L7(i.documents[0])))):r=Jr(z7(t.query)),new Us(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Zn.fromBase64String(t.resumeToken))}function K7(t,e){const n=Kc(e.snapshotVersion),r=Kc(e.lastLimboFreeSnapshotVersion);let i;i=s0(e.target)?j7(t.fe,e.target):BA(t.fe,e.target);const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Hc(e.target),readTime:n,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function jA(t){const e=z7({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?l0(e,e.limit,"L"):e}function zA(t,e){return new PA(e.largestBatchId,UA(t.fe,e.overlayMutation))}function Q7(t,e){const n=e.path.lastSegment();return[t,Lr(e.path.popLast()),n]}function Y7(t,e,n,r){return{indexId:t,uid:e.uid||"",sequenceNumber:n,readTime:Kc(r.readTime),documentKey:Lr(r.documentKey.path),largestBatchId:r.largestBatchId}}class Pwe{getBundleMetadata(e,n){return X7(e).get(n).next(r=>{if(r)return{id:(i=r).bundleId,createTime:Qc(i.createTime),version:i.version};var i})}saveBundleMetadata(e,n){return X7(e).put({bundleId:(r=n).id,createTime:Kc(On(r.createTime)),version:r.version});var r}getNamedQuery(e,n){return J7(e).get(n).next(r=>{if(r)return{name:(i=r).name,query:jA(i.bundledQuery),readTime:Qc(i.readTime)};var i})}saveNamedQuery(e,n){return J7(e).put({name:(r=n).name,readTime:Kc(On(r.readTime)),bundledQuery:r.bundledQuery});var r}}function X7(t){return lr(t,"bundles")}function J7(t){return lr(t,"namedQueries")}class m0{constructor(e,n){this.serializer=e,this.userId=n}static de(e,n){return new m0(e,n.uid||"")}getOverlay(e,n){return ng(e).get(Q7(this.userId,n)).next(r=>r?zA(this.serializer,r):null)}getOverlays(e,n){const r=Qo();return F.forEach(n,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((o,s)=>{const a=new PA(n,s);i.push(this.we(e,a))}),F.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(s=>i.add(Lr(s.getCollectionPath())));const o=[];return i.forEach(s=>{const a=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,r+1],!1,!0);o.push(ng(e).J("collectionPathOverlayIndex",a))}),F.waitFor(o)}getOverlaysForCollection(e,n,r){const i=Qo(),o=Lr(n),s=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return ng(e).j("collectionPathOverlayIndex",s).next(a=>{for(const c of a){const l=zA(this.serializer,c);i.set(l.getKey(),l)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const o=Qo();let s;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return ng(e).X({index:"collectionGroupOverlayIndex",range:a},(c,l,u)=>{const d=zA(this.serializer,l);o.size()<i||d.largestBatchId===s?(o.set(d.getKey(),d),s=d.largestBatchId):u.done()}).next(()=>o)}we(e,n){return ng(e).put(function(r,i,o){const[s,a,c]=Q7(i,o.mutation.key);return{userId:i,collectionPath:a,documentId:c,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:eg(r.fe,o.mutation)}}(this.serializer,this.userId,n))}}function ng(t){return lr(t,"documentOverlays")}class Xc{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(_n(e.integerValue));else if("doubleValue"in e){const r=_n(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),Lp(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(n,20),"string"==typeof r?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(Rs(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?$$(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):ue()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const r=e.fields||{};this.ye(n,55);for(const i of Object.keys(r))this.Te(i,n),this.me(r[i],n)}Pe(e,n){const r=e.values||[];this.ye(n,50);for(const i of r)this.me(i,n)}ve(e,n){this.ye(n,37),re.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}function Nwe(t){if(0===t)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function Z7(t){const e=64-function(n){let r=0;for(let i=0;i<8;++i){const o=Nwe(255&n[i]);if(r+=o,8!==o)break}return r}(t);return Math.ceil(e/8)}Xc.Ve=new Xc;class Rwe{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.De(r.value),r=n.next();this.Ce()}xe(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ne(r.value),r=n.next();this.ke()}Me(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.De(r);else if(r<2048)this.De(960|r>>>6),this.De(128|63&r);else if(n<"\ud800"||"\udbff"<n)this.De(480|r>>>12),this.De(128|63&r>>>6),this.De(128|63&r);else{const i=n.codePointAt(0);this.De(240|i>>>18),this.De(128|63&i>>>12),this.De(128|63&i>>>6),this.De(128|63&i)}}this.Ce()}$e(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ne(r);else if(r<2048)this.Ne(960|r>>>6),this.Ne(128|63&r);else if(n<"\ud800"||"\udbff"<n)this.Ne(480|r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r);else{const i=n.codePointAt(0);this.Ne(240|i>>>18),this.Ne(128|63&i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i)}}this.ke()}Oe(e){const n=this.Fe(e),r=Z7(n);this.Be(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}Le(e){const n=this.Fe(e),r=Z7(n);this.Be(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const n=function(i){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,i,!1),new Uint8Array(o.buffer)}(e),r=0!=(128&n[0]);n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}De(e){const n=255&e;0===n?(this.Ue(0),this.Ue(255)):255===n?(this.Ue(255),this.Ue(0)):this.Ue(n)}Ne(e){const n=255&e;0===n?(this.Ge(0),this.Ge(255)):255===n?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class Fwe{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class Lwe{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class rg{constructor(){this.je=new Rwe,this.ze=new Fwe(this.je),this.We=new Lwe(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class Jc{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Je(){const e=this.directionalValue.length,n=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Jc(this.indexId,this.documentKey,this.arrayValue,r)}}function Pa(t,e){let n=t.indexId-e.indexId;return 0!==n?n:(n=e8(t.arrayValue,e.arrayValue),0!==n?n:(n=e8(t.directionalValue,e.directionalValue),0!==n?n:re.comparator(t.documentKey,e.documentKey)))}function e8(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(0!==r)return r}return t.length-e.length}class Vwe{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const n of e.filters){const r=n;r.isInequality()?this.Ze=r:this.Xe.push(r)}}tn(e){fe(e.collectionGroup===this.collectionId);const n=pA(e);if(void 0!==n&&!this.en(n))return!1;const r=Bc(e);let i=new Set,o=0,s=0;for(;o<r.length&&this.en(r[o]);++o)i=i.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(void 0!==this.Ze){if(!i.has(this.Ze.field.canonicalString())){const a=r[o];if(!this.nn(this.Ze,a)||!this.sn(this.Ye[s++],a))return!1}++o}for(;o<r.length;++o)if(s>=this.Ye.length||!this.sn(this.Ye[s++],r[o]))return!1;return!0}en(e){for(const n of this.Xe)if(this.nn(n,e))return!0;return!1}nn(e,n){return!(void 0===e||!e.field.isEqual(n.fieldPath))&&2===n.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,n){return!!e.field.isEqual(n.fieldPath)&&(0===n.kind&&"asc"===e.dir||1===n.kind&&"desc"===e.dir)}}function t8(t){var e,n;if(fe(t instanceof et||t instanceof xt),t instanceof et){if(t instanceof t7){const i=(null===(n=null===(e=t.value.arrayValue)||void 0===e?void 0:e.values)||void 0===n?void 0:n.map(o=>et.create(t.field,"==",o)))||[];return xt.create(i,"or")}return t}const r=t.filters.map(i=>t8(i));return xt.create(r,t.op)}function Uwe(t){if(0===t.getFilters().length)return[];const e=GA(t8(t));return fe(n8(e)),$A(e)||HA(e)?[e]:e.getFilters()}function $A(t){return t instanceof et}function HA(t){return t instanceof xt&&CA(t)}function n8(t){return $A(t)||HA(t)||function(e){if(e instanceof xt&&wA(e)){for(const n of e.getFilters())if(!$A(n)&&!HA(n))return!1;return!0}return!1}(t)}function GA(t){if(fe(t instanceof et||t instanceof xt),t instanceof et)return t;if(1===t.filters.length)return GA(t.filters[0]);const e=t.filters.map(r=>GA(r));let n=xt.create(e,t.op);return n=_0(n),n8(n)?n:(fe(n instanceof xt),fe(ad(n)),fe(n.filters.length>1),n.filters.reduce((r,i)=>qA(r,i)))}function qA(t,e){let n;return fe(t instanceof et||t instanceof xt),fe(e instanceof et||e instanceof xt),n=t instanceof et?e instanceof et?xt.create([t,e],"and"):r8(t,e):e instanceof et?r8(e,t):function(r,i){if(fe(r.filters.length>0&&i.filters.length>0),ad(r)&&ad(i))return J$(r,i.getFilters());const o=wA(r)?r:i,s=wA(r)?i:r,a=o.filters.map(c=>qA(c,s));return xt.create(a,"or")}(t,e),_0(n)}function r8(t,e){if(ad(e))return J$(e,t.getFilters());{const n=e.filters.map(r=>qA(t,r));return xt.create(n,"or")}}function _0(t){if(fe(t instanceof et||t instanceof xt),t instanceof et)return t;const e=t.getFilters();if(1===e.length)return _0(e[0]);if(Y$(t))return t;const n=e.map(i=>_0(i)),r=[];return n.forEach(i=>{i instanceof et?r.push(i):i instanceof xt&&(i.op===t.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:xt.create(r,t.op)}class Bwe{constructor(){this.rn=new WA}addToCollectionParentIndex(e,n){return this.rn.add(n),F.resolve()}getCollectionParents(e,n){return F.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return F.resolve()}deleteFieldIndex(e,n){return F.resolve()}getDocumentsMatchingTarget(e,n){return F.resolve(null)}getIndexType(e,n){return F.resolve(0)}getFieldIndexes(e,n){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,n){return F.resolve(Oi.min())}getMinOffsetFromCollectionGroup(e,n){return F.resolve(Oi.min())}updateCollectionGroup(e,n,r){return F.resolve()}updateIndexEntries(e,n){return F.resolve()}}class WA{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new qt(ct.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new qt(ct.comparator)).toArray()}}const y0=new Uint8Array(0);class jwe{constructor(e,n){this.user=e,this.databaseId=n,this.on=new WA,this.un=new Ls(r=>Hc(r),(r,i)=>zp(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.on.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.on.add(n)});const o={collectionId:r,parent:Lr(i)};return i8(e).put(o)}return F.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[x$(n),""],!1,!0);return i8(e).j(i).next(o=>{for(const s of o){if(s.collectionId!==n)break;r.push(Wo(s.parent))}return r})}addFieldIndex(e,n){const r=v0(e),i={indexId:(s=n).indexId,collectionGroup:s.collectionGroup,fields:s.fields.map(a=>[a.fieldPath.canonicalString(),a.kind])};var s;delete i.indexId;const o=r.add(i);if(n.indexState){const s=og(e);return o.next(a=>{s.put(Y7(a,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return o.next()}deleteFieldIndex(e,n){const r=v0(e),i=og(e),o=ig(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,n){const r=ig(e);let i=!0;const o=new Map;return F.forEach(this.cn(n),s=>this.an(e,s).next(a=>{i&&(i=!!a),o.set(s,a)})).next(()=>{if(i){let s=Ve();const a=[];return F.forEach(o,(c,l)=>{var u;Q("IndexedDbIndexManager",`Using index ${u=c,`id=${u.indexId}|cg=${u.collectionGroup}|f=${u.fields.map(H=>`${H.fieldPath}:${H.kind}`).join(",")}`} to execute ${Hc(n)}`);const d=function(H,X){const ce=pA(X);if(void 0===ce)return null;for(const me of a0(H,ce.fieldPath))switch(me.op){case"array-contains-any":return me.value.arrayValue.values||[];case"array-contains":return[me.value]}return null}(l,c),h=function(H,X){const ce=new Map;for(const me of Bc(X))for(const Dt of a0(H,me.fieldPath))switch(Dt.op){case"==":case"in":ce.set(me.fieldPath.canonicalString(),Dt.value);break;case"not-in":case"!=":return ce.set(me.fieldPath.canonicalString(),Dt.value),Array.from(ce.values())}return null}(l,c),f=function(H,X){const ce=[];let me=!0;for(const Dt of Bc(X)){const Bn=0===Dt.kind?n7(H,Dt.fieldPath,H.startAt):r7(H,Dt.fieldPath,H.startAt);ce.push(Bn.value),me&&(me=Bn.inclusive)}return new ka(ce,me)}(l,c),b=function(H,X){const ce=[];let me=!0;for(const Dt of Bc(X)){const Bn=0===Dt.kind?r7(H,Dt.fieldPath,H.endAt):n7(H,Dt.fieldPath,H.endAt);ce.push(Bn.value),me&&(me=Bn.inclusive)}return new ka(ce,me)}(l,c),x=this.hn(c,l,f),T=this.hn(c,l,b),P=this.ln(c,l,h),k=this.fn(c.indexId,d,x,f.inclusive,T,b.inclusive,P);return F.forEach(k,H=>r.H(H,n.limit).next(X=>{X.forEach(ce=>{const me=re.fromSegments(ce.documentKey);s.has(me)||(s=s.add(me),a.push(me))})}))}).next(()=>a)}return F.resolve(null)})}cn(e){let n=this.un.get(e);return n||(n=0===e.filters.length?[e]:Uwe(xt.create(e.filters,"and")).map(r=>EA(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,n),n)}fn(e,n,r,i,o,s,a){const c=(null!=n?n.length:1)*Math.max(r.length,o.length),l=c/(null!=n?n.length:1),u=[];for(let d=0;d<c;++d){const h=n?this.dn(n[d/l]):y0,f=this.wn(e,h,r[d%l],i),b=this._n(e,h,o[d%l],s),x=a.map(T=>this.wn(e,h,T,!0));u.push(...this.createRange(f,b,x))}return u}wn(e,n,r,i){const o=new Jc(e,re.empty(),n,r);return i?o:o.Je()}_n(e,n,r,i){const o=new Jc(e,re.empty(),n,r);return i?o.Je():o}an(e,n){const r=new Vwe(n),i=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(o=>{let s=null;for(const a of o)r.tn(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(e,n){let r=2;const i=this.cn(n);return F.forEach(i,o=>this.an(e,o).next(s=>{s?0!==r&&s.fields.length<function(a){let c=new qt(kn.comparator),l=!1;for(const u of a.filters)for(const d of u.getFlattenedFilters())d.field.isKeyField()||("array-contains"===d.op||"array-contains-any"===d.op?l=!0:c=c.add(d.field));for(const u of a.orderBy)u.field.isKeyField()||(c=c.add(u.field));return c.size+(l?1:0)}(o)&&(r=1):r=0})).next(()=>null!==n.limit&&i.length>1&&2===r?1:r)}mn(e,n){const r=new rg;for(const i of Bc(e)){const o=n.data.field(i.fieldPath);if(null==o)return null;const s=r.He(i.kind);Xc.Ve._e(o,s)}return r.Qe()}dn(e){const n=new rg;return Xc.Ve._e(e,n.He(0)),n.Qe()}gn(e,n){const r=new rg;return Xc.Ve._e($c(this.databaseId,n),r.He(function(i){const o=Bc(i);return 0===o.length?0:o[o.length-1].kind}(e))),r.Qe()}ln(e,n,r){if(null===r)return[];let i=[];i.push(new rg);let o=0;for(const s of Bc(e)){const a=r[o++];for(const c of i)if(this.yn(n,s.fieldPath)&&Bp(a))i=this.pn(i,s,a);else{const l=c.He(s.kind);Xc.Ve._e(a,l)}}return this.In(i)}hn(e,n,r){return this.ln(e,n,r.position)}In(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Qe();return n}pn(e,n,r){const i=[...e],o=[];for(const s of r.arrayValue.values||[])for(const a of i){const c=new rg;c.seed(a.Qe()),Xc.Ve._e(s,c.He(n.kind)),o.push(c)}return o}yn(e,n){return!!e.filters.find(r=>r instanceof et&&r.field.isEqual(n)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,n){const r=v0(e),i=og(e);return(n?r.j("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.j()).next(o=>{const s=[];return F.forEach(o,a=>i.get([a.indexId,this.uid]).next(c=>{s.push(function(l,u){const d=u?new Np(u.sequenceNumber,new Oi(Qc(u.readTime),new re(Wo(u.documentKey)),u.largestBatchId)):Np.empty(),h=l.fields.map(([f,b])=>new Yv(kn.fromServerFormat(f),b));return new Qv(l.indexId,l.collectionGroup,h,d)}(a,c))})).next(()=>s)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>0===n.length?null:(n.sort((r,i)=>{const o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==o?o:Me(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=v0(e),o=og(e);return this.Tn(e).next(s=>i.j("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>F.forEach(a,c=>o.put(Y7(c.indexId,this.user,s,r)))))}updateIndexEntries(e,n){const r=new Map;return F.forEach(n,(i,o)=>{const s=r.get(i.collectionGroup);return(s?F.resolve(s):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),F.forEach(a,c=>this.En(e,i,c).next(l=>{const u=this.An(o,c);return l.isEqual(u)?F.resolve():this.vn(e,o,c,l,u)}))))})}Rn(e,n,r,i){return ig(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.gn(r,n.key),documentKey:n.key.path.toArray()})}Pn(e,n,r,i){return ig(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.gn(r,n.key),n.key.path.toArray()])}En(e,n,r){const i=ig(e);let o=new qt(Pa);return i.X({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.gn(r,n)])},(s,a)=>{o=o.add(new Jc(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>o)}An(e,n){let r=new qt(Pa);const i=this.mn(n,e);if(null==i)return r;const o=pA(n);if(null!=o){const s=e.data.field(o.fieldPath);if(Bp(s))for(const a of s.arrayValue.values||[])r=r.add(new Jc(n.indexId,e.key,this.dn(a),i))}else r=r.add(new Jc(n.indexId,e.key,y0,i));return r}vn(e,n,r,i,o){Q("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const s=[];return function(a,c,l,u,d){const h=a.getIterator(),f=c.getIterator();let b=id(h),x=id(f);for(;b||x;){let T=!1,P=!1;if(b&&x){const k=l(b,x);k<0?P=!0:k>0&&(T=!0)}else null!=b?P=!0:T=!0;T?(u(x),x=id(f)):P?(d(b),b=id(h)):(b=id(h),x=id(f))}}(i,o,Pa,a=>{s.push(this.Rn(e,n,r,a))},a=>{s.push(this.Pn(e,n,r,a))}),F.waitFor(s)}Tn(e){let n=1;return og(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,o)=>{o.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((s,a)=>Pa(s,a)).filter((s,a,c)=>!a||0!==Pa(s,c[a-1]));const i=[];i.push(e);for(const s of r){const a=Pa(s,e),c=Pa(s,n);if(0===a)i[0]=e.Je();else if(a>0&&c<0)i.push(s),i.push(s.Je());else if(c>0)break}i.push(n);const o=[];for(let s=0;s<i.length;s+=2){if(this.bn(i[s],i[s+1]))return[];o.push(IDBKeyRange.bound([i[s].indexId,this.uid,i[s].arrayValue,i[s].directionalValue,y0,[]],[i[s+1].indexId,this.uid,i[s+1].arrayValue,i[s+1].directionalValue,y0,[]]))}return o}bn(e,n){return Pa(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(o8)}getMinOffset(e,n){return F.mapArray(this.cn(n),r=>this.an(e,r).next(i=>i||ue())).next(o8)}}function i8(t){return lr(t,"collectionParents")}function ig(t){return lr(t,"indexEntries")}function v0(t){return lr(t,"indexConfiguration")}function og(t){return lr(t,"indexState")}function o8(t){fe(0!==t.length);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;gA(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Oi(e.readTime,e.documentKey,n)}const s8={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Vr{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Vr(e,Vr.DEFAULT_COLLECTION_PERCENTILE,Vr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function a8(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),o=[],s=IDBKeyRange.only(n.batchId);let a=0;const c=r.X({range:s},(u,d,h)=>(a++,h.delete()));o.push(c.next(()=>{fe(1===a)}));const l=[];for(const u of n.mutations){const d=O$(e,u.key.path,n.batchId);o.push(i.delete(d)),l.push(u.key)}return F.waitFor(o).next(()=>l)}function b0(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw ue();e=t.noDocument}return JSON.stringify(e).length}Vr.DEFAULT_COLLECTION_PERCENTILE=10,Vr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vr.DEFAULT=new Vr(41943040,Vr.DEFAULT_COLLECTION_PERCENTILE,Vr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vr.DISABLED=new Vr(-1,0,0);class w0{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Vn={}}static de(e,n,r,i){fe(""!==e.uid);const o=e.isAuthenticated()?e.uid:"";return new w0(o,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Na(e).X({index:"userMutationsIndex",range:r},(i,o,s)=>{n=!1,s.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const o=gd(e),s=Na(e);return s.add({}).next(a=>{fe("number"==typeof a);const c=new kA(a,n,r,i),l=function(h,f,b){const x=b.baseMutations.map(P=>eg(h.fe,P)),T=b.mutations.map(P=>eg(h.fe,P));return{userId:f,batchId:b.batchId,localWriteTimeMs:b.localWriteTime.toMillis(),baseMutations:x,mutations:T}}(this.serializer,this.userId,c),u=[];let d=new qt((h,f)=>Me(h.canonicalString(),f.canonicalString()));for(const h of i){const f=O$(this.userId,h.key.path,a);d=d.add(h.key.path.popLast()),u.push(s.put(l)),u.push(o.put(f,Sbe))}return d.forEach(h=>{u.push(this.indexManager.addToCollectionParentIndex(e,h))}),e.addOnCommittedListener(()=>{this.Vn[a]=c.keys()}),F.waitFor(u).next(()=>c)})}lookupMutationBatch(e,n){return Na(e).get(n).next(r=>r?(fe(r.userId===this.userId),Yc(this.serializer,r)):null)}Sn(e,n){return this.Vn[n]?F.resolve(this.Vn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.Vn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return Na(e).X({index:"userMutationsIndex",range:i},(s,a,c)=>{a.userId===this.userId&&(fe(a.batchId>=r),o=Yc(this.serializer,a)),c.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Na(e).X({index:"userMutationsIndex",range:n,reverse:!0},(i,o,s)=>{r=o.batchId,s.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Na(e).j("userMutationsIndex",n).next(r=>r.map(i=>Yc(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=Jv(this.userId,n.path),i=IDBKeyRange.lowerBound(r),o=[];return gd(e).X({range:i},(s,a,c)=>{const[l,u,d]=s,h=Wo(u);if(l===this.userId&&n.path.isEqual(h))return Na(e).get(d).next(f=>{if(!f)throw ue();fe(f.userId===this.userId),o.push(Yc(this.serializer,f))});c.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new qt(Me);const i=[];return n.forEach(o=>{const s=Jv(this.userId,o.path),a=IDBKeyRange.lowerBound(s),c=gd(e).X({range:a},(l,u,d)=>{const[h,f,b]=l,x=Wo(f);h===this.userId&&o.path.isEqual(x)?r=r.add(b):d.done()});i.push(c)}),F.waitFor(i).next(()=>this.Dn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,o=Jv(this.userId,r),s=IDBKeyRange.lowerBound(o);let a=new qt(Me);return gd(e).X({range:s},(c,l,u)=>{const[d,h,f]=c,b=Wo(h);d===this.userId&&r.isPrefixOf(b)?b.length===i&&(a=a.add(f)):u.done()}).next(()=>this.Dn(e,a))}Dn(e,n){const r=[],i=[];return n.forEach(o=>{i.push(Na(e).get(o).next(s=>{if(null===s)throw ue();fe(s.userId===this.userId),r.push(Yc(this.serializer,s))}))}),F.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return a8(e.ht,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.Cn(n.batchId)}),F.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return F.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return gd(e).X({range:r},(o,s,a)=>{if(o[0]===this.userId){const c=Wo(o[1]);i.push(c)}else a.done()}).next(()=>{fe(0===i.length)})})}containsKey(e,n){return c8(e,this.userId,n)}xn(e){return l8(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function c8(t,e,n){const r=Jv(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r);let s=!1;return gd(t).X({range:o,Y:!0},(a,c,l)=>{const[u,d,h]=a;u===e&&d===i&&(s=!0),l.done()}).next(()=>s)}function Na(t){return lr(t,"mutations")}function gd(t){return lr(t,"documentMutations")}function l8(t){return lr(t,"mutationQueues")}class Zc{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Zc(0)}static Mn(){return new Zc(-1)}}class zwe{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.$n(e).next(n=>{const r=new Zc(n.highestTargetId);return n.highestTargetId=r.next(),this.On(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(n=>pe.fromTimestamp(new un(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.$n(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.On(e,i)))}addTargetData(e,n){return this.Fn(e,n).next(()=>this.$n(e).next(r=>(r.targetCount+=1,this.Bn(n,r),this.On(e,r))))}updateTargetData(e,n){return this.Fn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>md(e).delete(n.targetId)).next(()=>this.$n(e)).next(r=>(fe(r.targetCount>0),r.targetCount-=1,this.On(e,r)))}removeTargets(e,n,r){let i=0;const o=[];return md(e).X((s,a)=>{const c=tg(a);c.sequenceNumber<=n&&null===r.get(c.targetId)&&(i++,o.push(this.removeTargetData(e,c)))}).next(()=>F.waitFor(o)).next(()=>i)}forEachTarget(e,n){return md(e).X((r,i)=>{const o=tg(i);n(o)})}$n(e){return u8(e).get("targetGlobalKey").next(n=>(fe(null!==n),n))}On(e,n){return u8(e).put("targetGlobalKey",n)}Fn(e,n){return md(e).put(K7(this.serializer,n))}Bn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.$n(e).next(n=>n.targetCount)}getTargetData(e,n){const r=Hc(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return md(e).X({range:i,index:"queryTargetsIndex"},(s,a,c)=>{const l=tg(a);zp(n,l.target)&&(o=l,c.done())}).next(()=>o)}addMatchingKeys(e,n,r){const i=[],o=Ra(e);return n.forEach(s=>{const a=Lr(s.path);i.push(o.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,s))}),F.waitFor(i)}removeMatchingKeys(e,n,r){const i=Ra(e);return F.forEach(n,o=>{const s=Lr(o.path);return F.waitFor([i.delete([r,s]),this.referenceDelegate.removeReference(e,r,o)])})}removeMatchingKeysForTargetId(e,n){const r=Ra(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Ra(e);let o=Ve();return i.X({range:r,Y:!0},(s,a,c)=>{const l=Wo(s[1]),u=new re(l);o=o.add(u)}).next(()=>o)}containsKey(e,n){const r=Lr(n.path),i=IDBKeyRange.bound([r],[x$(r)],!1,!0);let o=0;return Ra(e).X({index:"documentTargetsIndex",Y:!0,range:i},([s,a],c,l)=>{0!==s&&(o++,l.done())}).next(()=>o>0)}le(e,n){return md(e).get(n).next(r=>r?tg(r):null)}}function md(t){return lr(t,"targets")}function u8(t){return lr(t,"targetGlobal")}function Ra(t){return lr(t,"targetDocuments")}function d8([t,e],[n,r]){const i=Me(t,n);return 0===i?Me(e,r):i}class $we{constructor(e){this.Ln=e,this.buffer=new qt(d8),this.qn=0}Un(){return++this.qn}Kn(e){const n=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();d8(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class h8{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var n=this;Q("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,m(function*(){n.Gn=null;try{yield n.localStore.collectGarbage(n.garbageCollector)}catch(r){Ia(r)?Q("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Ea(r)}yield n.Qn(3e5)}))}}class Hwe{constructor(e,n){this.jn=e,this.params=n}calculateTargetCount(e,n){return this.jn.zn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(0===n)return F.resolve(Pi.ct);const r=new $we(n);return this.jn.forEachTarget(e,i=>r.Kn(i.sequenceNumber)).next(()=>this.jn.Wn(e,i=>r.Kn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.jn.removeOrphanedDocuments(e,n)}collect(e,n){return-1===this.params.cacheSizeCollectionThreshold?(Q("LruGarbageCollector","Garbage collection skipped; disabled"),F.resolve(s8)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Q("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),s8):this.Hn(e,n))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,n){let r,i,o,s,a,c,l;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(Q("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,s=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,a=Date.now(),this.removeTargets(e,r,n))).next(d=>(o=d,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(l=Date.now(),hA()<=rt.DEBUG&&Q("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-u}ms\n\tDetermined least recently used ${i} in `+(a-s)+`ms\n\tRemoved ${o} targets in `+(c-a)+`ms\n\tRemoved ${d} documents in `+(l-c)+`ms\nTotal Duration: ${l-u}ms`),F.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:d})))}}class Gwe{constructor(e,n){this.db=e,this.garbageCollector=function f8(t,e){return new Hwe(t,e)}(this,n)}zn(e){const n=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Jn(e){let n=0;return this.Wn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Wn(e,n){return this.Yn(e,(r,i)=>n(i))}addReference(e,n,r){return C0(e,r)}removeReference(e,n,r){return C0(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return C0(e,n)}Xn(e,n){return function(r,i){let o=!1;return l8(r).Z(s=>c8(r,s,i).next(a=>(a&&(o=!0),F.resolve(!a)))).next(()=>o)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let o=0;return this.Yn(e,(s,a)=>{if(a<=n){const c=this.Xn(e,s).next(l=>{if(!l)return o++,r.getEntry(e,s).next(()=>(r.removeEntry(s,pe.min()),Ra(e).delete([0,Lr(s.path)])))});i.push(c)}}).next(()=>F.waitFor(i)).next(()=>r.apply(e)).next(()=>o)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return C0(e,n)}Yn(e,n){const r=Ra(e);let i,o=Pi.ct;return r.X({index:"documentTargetsIndex"},([s,a],{path:c,sequenceNumber:l})=>{0===s?(o!==Pi.ct&&n(new re(Wo(i)),o),o=l,i=c):o=Pi.ct}).next(()=>{o!==Pi.ct&&n(new re(Wo(i)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function C0(t,e){return Ra(t).put((r=t.currentSequenceNumber,{targetId:0,path:Lr(e.path),sequenceNumber:r}));var r}class p8{constructor(){this.changes=new Ls(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?F.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class qwe{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return el(e).put(r)}removeEntry(e,n,r){return el(e).delete(function(i,o){const s=i.path.toArray();return[s.slice(0,s.length-2),s[s.length-2],g0(o),s[s.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.Zn(e,r)))}getEntry(e,n){let r=Wt.newInvalidDocument(n);return el(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(sg(n))},(i,o)=>{r=this.ts(n,o)}).next(()=>r)}es(e,n){let r={size:0,document:Wt.newInvalidDocument(n)};return el(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(sg(n))},(i,o)=>{r={document:this.ts(n,o),size:b0(o)}}).next(()=>r)}getEntries(e,n){let r=yi();return this.ns(e,n,(i,o)=>{const s=this.ts(i,o);r=r.insert(i,s)}).next(()=>r)}ss(e,n){let r=yi(),i=new Ut(re.comparator);return this.ns(e,n,(o,s)=>{const a=this.ts(o,s);r=r.insert(o,a),i=i.insert(o,b0(s))}).next(()=>({documents:r,rs:i}))}ns(e,n,r){if(n.isEmpty())return F.resolve();let i=new qt(y8);n.forEach(c=>i=i.add(c));const o=IDBKeyRange.bound(sg(i.first()),sg(i.last())),s=i.getIterator();let a=s.getNext();return el(e).X({index:"documentKeyIndex",range:o},(c,l,u)=>{const d=re.fromSegments([...l.prefixPath,l.collectionGroup,l.documentId]);for(;a&&y8(a,d)<0;)r(a,null),a=s.getNext();a&&a.isEqual(d)&&(r(a,l),a=s.hasNext()?s.getNext():null),a?u.G(sg(a)):u.done()}).next(()=>{for(;a;)r(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,n,r,i){const o=n.path,s=[o.popLast().toArray(),o.lastSegment(),g0(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],a=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return el(e).j(IDBKeyRange.bound(s,a,!0)).next(c=>{let l=yi();for(const u of c){const d=this.ts(re.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);d.isFoundDocument()&&(Hp(n,d)||i.has(d.key))&&(l=l.insert(d.key,d))}return l})}getAllFromCollectionGroup(e,n,r,i){let o=yi();const s=_8(n,r),a=_8(n,Oi.max());return el(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},(c,l,u)=>{const d=this.ts(re.fromSegments(l.prefixPath.concat(l.collectionGroup,l.documentId)),l);o=o.insert(d.key,d),o.size===i&&u.done()}).next(()=>o)}newChangeBuffer(e){return new Wwe(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return m8(e).get("remoteDocumentGlobalKey").next(n=>(fe(!!n),n))}Zn(e,n){return m8(e).put("remoteDocumentGlobalKey",n)}ts(e,n){if(n){const r=function Owe(t,e){let n;if(e.document)n=function B7(t,e,n){const r=Yo(t,e.name),i=On(e.updateTime),o=e.createTime?On(e.createTime):pe.min(),s=new Ir({mapValue:{fields:e.fields}}),a=Wt.newFoundDocument(r,i,o,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}(t.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=re.fromSegments(e.noDocument.path),i=Qc(e.noDocument.readTime);n=Wt.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return ue();{const r=re.fromSegments(e.unknownDocument.path),i=Qc(e.unknownDocument.version);n=Wt.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(r){const i=new un(r[0],r[1]);return pe.fromTimestamp(i)}(e.readTime)),n}(this.serializer,n);if(!r.isNoDocument()||!r.version.isEqual(pe.min()))return r}return Wt.newInvalidDocument(e)}}function g8(t){return new qwe(t)}class Wwe extends p8{constructor(e,n){super(),this.os=e,this.trackRemovals=n,this.us=new Ls(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new qt((o,s)=>Me(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{const a=this.us.get(o);if(n.push(this.os.removeEntry(e,o,a.readTime)),s.isValidDocument()){const c=W7(this.os.serializer,s);i=i.add(o.path.popLast());const l=b0(c);r+=l-a.size,n.push(this.os.addEntry(e,o,c))}else if(r-=a.size,this.trackRemovals){const c=W7(this.os.serializer,s.convertToNoDocument(pe.min()));n.push(this.os.addEntry(e,o,c))}}),i.forEach(o=>{n.push(this.os.indexManager.addToCollectionParentIndex(e,o))}),n.push(this.os.updateMetadata(e,r)),F.waitFor(n)}getFromCache(e,n){return this.os.es(e,n).next(r=>(this.us.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.os.ss(e,n).next(({documents:r,rs:i})=>(i.forEach((o,s)=>{this.us.set(o,{size:s,readTime:r.get(o).readTime})}),r))}}function m8(t){return lr(t,"remoteDocumentGlobal")}function el(t){return lr(t,"remoteDocumentsV14")}function sg(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function _8(t,e){const n=e.documentKey.path.toArray();return[t,g0(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function y8(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(i=Me(n[o],r[o]),i)return i;return i=Me(n.length,r.length),i||(i=Me(n[n.length-2],r[r.length-2]),i||Me(n[n.length-1],r[r.length-1]))}class Kwe{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class v8{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&Kp(r.mutation,i,_i.empty(),un.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ve()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ve()){const i=Qo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Gp();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Qo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ve()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=yi();const s=qp(),a=qp();return n.forEach((c,l)=>{const u=r.get(l.key);i.has(l.key)&&(void 0===u||u.mutation instanceof Vs)?o=o.insert(l.key,l):void 0!==u?(s.set(l.key,u.mutation.getFieldMask()),Kp(u.mutation,l,u.mutation.getFieldMask(),un.now())):s.set(l.key,_i.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((l,u)=>s.set(l,u)),n.forEach((l,u)=>{var d;return a.set(l,new Kwe(u,null!==(d=s.get(l))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=qp();let i=new Ut((s,a)=>s-a),o=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(c=>{const l=n.get(c);if(null===l)return;let u=r.get(c)||_i.empty();u=a.applyToLocalView(l,u),r.set(c,u);const d=(i.get(a.batchId)||Ve()).add(c);i=i.insert(a.batchId,d)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),l=c.key,u=c.value,d=d7();u.forEach(h=>{if(!o.has(h)){const f=b7(n.get(h),r.get(h));null!==f&&d.set(h,f),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,d))}return F.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return re.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):TA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var i}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):F.resolve(Qo());let a=-1,c=o;return s.next(l=>F.forEach(l,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(u)?F.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{c=c.insert(u,h)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,c,l,Ve())).next(u=>({batchId:a,changes:u7(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new re(n)).next(r=>{let i=Gp();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let o=Gp();return this.indexManager.getCollectionParents(e,i).next(s=>F.forEach(s,a=>{const c=(l=n,u=a.child(i),new Fs(u,null,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt));var l,u;return this.getDocumentsMatchingCollectionQuery(e,c,r).next(l=>{l.forEach((u,d)=>{o=o.insert(u,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(o=>{i.forEach((a,c)=>{const l=c.getKey();null===o.get(l)&&(o=o.insert(l,Wt.newInvalidDocument(l)))});let s=Gp();return o.forEach((a,c)=>{const l=i.get(a);void 0!==l&&Kp(l.mutation,c,_i.empty(),un.now()),Hp(n,c)&&(s=s.insert(a,c))}),s})}}class Qwe{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return F.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:On(r.createTime)}),F.resolve()}getNamedQuery(e,n){return F.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(r=n).name,query:jA(r.bundledQuery),readTime:On(r.readTime)}),F.resolve();var r}}class Ywe{constructor(){this.overlays=new Ut(re.comparator),this.ls=new Map}getOverlay(e,n){return F.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Qo();return F.forEach(n,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.we(e,n,o)}),F.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.ls.delete(r)),F.resolve()}getOverlaysForCollection(e,n,r){const i=Qo(),o=n.length+1,s=new re(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const c=a.getNext().value,l=c.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return F.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Ut((l,u)=>l-u);const s=this.overlays.getIterator();for(;s.hasNext();){const l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let u=o.get(l.largestBatchId);null===u&&(u=Qo(),o=o.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}const a=Qo(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,u)=>a.set(l,u)),!(a.size()>=i)););return F.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const s=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new PA(n,r));let o=this.ls.get(n);void 0===o&&(o=Ve(),this.ls.set(n,o)),this.ls.set(n,o.add(r.key))}}class KA{constructor(){this.fs=new qt(ur.ds),this.ws=new qt(ur._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new ur(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new ur(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new re(new ct([])),r=new ur(n,e),i=new ur(n,e+1),o=[];return this.ws.forEachInRange([r,i],s=>{this.ys(s),o.push(s.key)}),o}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new re(new ct([])),r=new ur(n,e),i=new ur(n,e+1);let o=Ve();return this.ws.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new ur(e,0),r=this.fs.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class ur{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return re.comparator(e.key,n.key)||Me(e.As,n.As)}static _s(e,n){return Me(e.As,n.As)||re.comparator(e.key,n.key)}}class Xwe{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new qt(ur.ds)}checkEmpty(e){return F.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const o=this.vs;this.vs++;const s=new kA(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.Rs=this.Rs.add(new ur(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return F.resolve(s)}lookupMutationBatch(e,n){return F.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.bs(n+1),o=i<0?0:i;return F.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ur(n,0),i=new ur(n,Number.POSITIVE_INFINITY),o=[];return this.Rs.forEachInRange([r,i],s=>{const a=this.Ps(s.As);o.push(a)}),F.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new qt(Me);return n.forEach(i=>{const o=new ur(i,0),s=new ur(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([o,s],a=>{r=r.add(a.As)})}),F.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;re.isDocumentKey(o)||(o=o.child(""));const s=new ur(new re(o),0);let a=new qt(Me);return this.Rs.forEachWhile(c=>{const l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(c.As)),!0)},s),F.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){fe(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return F.forEach(n.mutations,i=>{const o=new ur(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new ur(n,0),i=this.Rs.firstAfterOrEqual(r);return F.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return F.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Jwe{constructor(e){this.Ds=e,this.docs=new Ut(re.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return F.resolve(r?r.document.mutableCopy():Wt.newInvalidDocument(n))}getEntries(e,n){let r=yi();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Wt.newInvalidDocument(i))}),F.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=yi();const s=n.path,a=new re(s.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:l,value:{document:u}}=c.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||gA(I$(u),r)<=0||(i.has(u.key)||Hp(n,u))&&(o=o.insert(u.key,u.mutableCopy()))}return F.resolve(o)}getAllFromCollectionGroup(e,n,r,i){ue()}Cs(e,n){return F.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Zwe(this)}getSize(e){return F.resolve(this.size)}}class Zwe extends p8{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),F.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class eCe{constructor(e){this.persistence=e,this.xs=new Ls(n=>Hc(n),zp),this.lastRemoteSnapshotVersion=pe.min(),this.highestTargetId=0,this.Ns=0,this.ks=new KA,this.targetCount=0,this.Ms=Zc.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),F.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new Zc(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,F.resolve()}updateTargetData(e,n){return this.Fn(n),F.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.xs.forEach((s,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.xs.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),F.waitFor(o).next(()=>i)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return F.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),F.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),F.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),F.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return F.resolve(r)}containsKey(e,n){return F.resolve(this.ks.containsKey(n))}}class QA{constructor(e,n){this.$s={},this.overlays={},this.Os=new Pi(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new eCe(this),this.indexManager=new Bwe,this.remoteDocumentCache=new Jwe(r=>this.referenceDelegate.Ls(r)),this.serializer=new q7(n),this.qs=new Qwe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Ywe,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new Xwe(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){Q("MemoryPersistence","Starting transaction:",e);const i=new tCe(this.Os.next());return this.referenceDelegate.Us(),r(i).next(o=>this.referenceDelegate.Ks(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gs(e,n){return F.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class tCe extends D${constructor(e){super(),this.currentSequenceNumber=e}}class x0{constructor(e){this.persistence=e,this.Qs=new KA,this.js=null}static zs(e){return new x0(e)}get Ws(){if(this.js)return this.js;throw ue()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),F.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),F.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),F.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Ws.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.Ws,r=>{const i=re.fromPath(r);return this.Hs(e,i).next(o=>{o||n.removeEntry(i,pe.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return F.or([()=>F.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class nCe{constructor(e){this.serializer=e}O(e,n,r,i){const o=new Xv("createOrUpgrade",n);var a;r<1&&i>=1&&(e.createObjectStore("owner"),(a=e).createObjectStore("mutationQueues",{keyPath:"userId"}),a.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",k$,{unique:!0}),a.createObjectStore("documentMutations"),b8(e),function(a){a.createObjectStore("remoteDocuments")}(e));let s=F.resolve();return r<3&&i>=3&&(0!==r&&(function(a){a.deleteObjectStore("targetDocuments"),a.deleteObjectStore("targets"),a.deleteObjectStore("targetGlobal")}(e),b8(e)),s=s.next(()=>function(a){const c=a.store("targetGlobal"),l={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:pe.min().toTimestamp(),targetCount:0};return c.put("targetGlobalKey",l)}(o))),r<4&&i>=4&&(0!==r&&(s=s.next(()=>function(a,c){return c.store("mutations").j().next(l=>{a.deleteObjectStore("mutations"),a.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",k$,{unique:!0});const u=c.store("mutations"),d=l.map(h=>u.put(h));return F.waitFor(d)})}(e,o))),s=s.next(()=>{!function(a){a.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(s=s.next(()=>this.Ys(o))),r<6&&i>=6&&(s=s.next(()=>(function(a){a.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(o)))),r<7&&i>=7&&(s=s.next(()=>this.Zs(o))),r<8&&i>=8&&(s=s.next(()=>this.ti(e,o))),r<9&&i>=9&&(s=s.next(()=>{!function(a){a.objectStoreNames.contains("remoteDocumentChanges")&&a.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(s=s.next(()=>this.ei(o))),r<11&&i>=11&&(s=s.next(()=>{(function(a){a.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(a){a.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(s=s.next(()=>{!function(a){const c=a.createObjectStore("documentOverlays",{keyPath:jbe});c.createIndex("collectionPathOverlayIndex",zbe,{unique:!1}),c.createIndex("collectionGroupOverlayIndex",$be,{unique:!1})}(e)})),r<13&&i>=13&&(s=s.next(()=>function(a){const c=a.createObjectStore("remoteDocumentsV14",{keyPath:Abe});c.createIndex("documentKeyIndex",kbe),c.createIndex("collectionGroupIndex",Obe)}(e)).next(()=>this.ni(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(s=s.next(()=>this.si(e,o))),r<15&&i>=15&&(s=s.next(()=>function(a){a.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),a.createObjectStore("indexState",{keyPath:Lbe}).createIndex("sequenceNumberIndex",Vbe,{unique:!1}),a.createObjectStore("indexEntries",{keyPath:Ube}).createIndex("documentKeyIndex",Bbe,{unique:!1})}(e))),s}Xs(e){let n=0;return e.store("remoteDocuments").X((r,i)=>{n+=b0(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Ys(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.j().next(i=>F.forEach(i,o=>{const s=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",s).next(a=>F.forEach(a,c=>{fe(c.userId===o.userId);const l=Yc(this.serializer,c);return a8(e,o.userId,l).next(()=>{})}))}))}Zs(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const o=[];return r.X((s,a)=>{const c=new ct(s),l=[0,Lr(c)];o.push(n.get(l).next(u=>u?F.resolve():n.put({targetId:0,path:Lr(c),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>F.waitFor(o))})}ti(e,n){e.createObjectStore("collectionParents",{keyPath:Fbe});const r=n.store("collectionParents"),i=new WA,o=s=>{if(i.add(s)){const a=s.lastSegment(),c=s.popLast();return r.put({collectionId:a,parent:Lr(c)})}};return n.store("remoteDocuments").X({Y:!0},(s,a)=>{const c=new ct(s);return o(c.popLast())}).next(()=>n.store("documentMutations").X({Y:!0},([s,a,c],l)=>{const u=Wo(a);return o(u.popLast())}))}ei(e){const n=e.store("targets");return n.X((r,i)=>{const o=tg(i),s=K7(this.serializer,o);return n.put(s)})}ni(e,n){const r=n.store("remoteDocuments"),i=[];return r.X((o,s)=>{const a=n.store("remoteDocumentsV14"),c=(l=s,l.document?new re(ct.fromString(l.document.name).popFirst(5)):l.noDocument?re.fromSegments(l.noDocument.path):l.unknownDocument?re.fromSegments(l.unknownDocument.path):ue()).path.toArray();var l;const u={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};i.push(a.put(u))}).next(()=>F.waitFor(i))}si(e,n){const r=n.store("mutations"),i=g8(this.serializer),o=new QA(x0.zs,this.serializer.fe);return r.j().next(s=>{const a=new Map;return s.forEach(c=>{var l;let u=null!==(l=a.get(c.userId))&&void 0!==l?l:Ve();Yc(this.serializer,c).keys().forEach(d=>u=u.add(d)),a.set(c.userId,u)}),F.forEach(a,(c,l)=>{const u=new cr(l),d=m0.de(this.serializer,u),h=o.getIndexManager(u),f=w0.de(u,this.serializer,h,o.referenceDelegate);return new v8(i,f,d,h).recalculateAndSaveOverlaysForDocumentKeys(new yA(n,Pi.ct),c).next()})})}}function b8(t){t.createObjectStore("targetDocuments",{keyPath:Nbe}).createIndex("documentTargetsIndex",Rbe,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Pbe,{unique:!0}),t.createObjectStore("targetGlobal")}const YA="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class XA{constructor(e,n,r,i,o,s,a,c,l,u,d=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.ii=o,this.window=s,this.document=a,this.ri=l,this.oi=u,this.ui=d,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=h=>Promise.resolve(),!XA.D())throw new W(L.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Gwe(this,i),this.di=n+"main",this.serializer=new q7(c),this.wi=new go(this.di,this.ui,new nCe(this.serializer)),this.Bs=new zwe(this.referenceDelegate,this.serializer),this.remoteDocumentCache=g8(this.serializer),this.qs=new Pwe,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===u&&An("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new W(L.FAILED_PRECONDITION,YA);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new Pi(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var n=this;return this.fi=function(){var r=m(function*(i){if(n.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var n=m(function*(r){null===r.newVersion&&(yield e())});return function(r){return n.apply(this,arguments)}}())}setNetworkEnabled(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget(m(function*(){n.started&&(yield n.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>I0(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(n=>{n||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(n=>this.isPrimary&&!n?this.Ai(e).next(()=>!1):!!n&&this.vi(e).next(()=>!0))).catch(e=>{if(Ia(e))return Q("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Q("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return ag(e).get("owner").next(n=>F.resolve(this.Ri(n)))}Pi(e){return I0(e).delete(this.clientId)}bi(){var e=this;return m(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const n=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=lr(r,"clientMetadata");return i.j().next(o=>{const s=e.Si(o,18e5),a=o.filter(c=>-1===s.indexOf(c));return F.forEach(a,c=>i.delete(c.clientId)).next(()=>a)})}).catch(()=>[]);if(e._i)for(const r of n)e._i.removeItem(e.Di(r.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?F.resolve(!0):ag(e).get("owner").next(n=>{if(null!==n&&this.Vi(n.leaseTimestampMs,5e3)&&!this.Ci(n.ownerId)){if(this.Ri(n)&&this.networkEnabled)return!0;if(!this.Ri(n)){if(!n.allowTabSynchronization)throw new W(L.FAILED_PRECONDITION,YA);return!1}}return!(!this.networkEnabled||!this.inForeground)||I0(e).j().next(r=>void 0===this.Si(r,5e3).find(i=>!(this.clientId===i.clientId||!(!this.networkEnabled&&i.networkEnabled||!this.inForeground&&i.inForeground&&this.networkEnabled===i.networkEnabled))))}).next(n=>(this.isPrimary!==n&&Q("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){var e=this;return m(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],n=>{const r=new yA(n,Pi.ct);return e.Ai(r).next(()=>e.Pi(r))}),e.wi.close(),e.Mi()})()}Si(e,n){return e.filter(r=>this.Vi(r.updateTimeMs,n)&&!this.Ci(r.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>I0(e).j().next(n=>this.Si(n,18e5).map(r=>r.clientId)))}get started(){return this.Fs}getMutationQueue(e,n){return w0.de(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new jwe(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return m0.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,n,r){Q("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===n?"readonly":"readwrite",o=15===(s=this.ui)?Gbe:14===s?R$:13===s?N$:12===s?Hbe:11===s?P$:void ue();var s;let a;return this.wi.runTransaction(e,i,o,c=>(a=new yA(c,this.Os?this.Os.next():Pi.ct),"readwrite-primary"===n?this.Ti(a).next(l=>!!l||this.Ei(a)).next(l=>{if(!l)throw An(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new W(L.FAILED_PRECONDITION,T$);return r(a)}).next(l=>this.vi(a).next(()=>l)):this.Oi(a).next(()=>r(a)))).then(c=>(a.raiseOnCommittedEvent(),c))}Oi(e){return ag(e).get("owner").next(n=>{if(null!==n&&this.Vi(n.leaseTimestampMs,5e3)&&!this.Ci(n.ownerId)&&!this.Ri(n)&&!(this.oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new W(L.FAILED_PRECONDITION,YA)})}vi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return ag(e).put("owner",n)}static D(){return go.D()}Ai(e){const n=ag(e);return n.get("owner").next(r=>this.Ri(r)?(Q("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):F.resolve())}Vi(e,n){const r=Date.now();return!(e<r-n||e>r&&(An(`Detected an update time that is in the future: ${e} > ${r}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const n=/(?:Version|Mobile)\/1[456]/;(function Fde(){return!function Nde(){var t;const e=null===(t=Vy())||void 0===t?void 0:t.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")})()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var n;try{const r=null!==(null===(n=this._i)||void 0===n?void 0:n.getItem(this.Di(e)));return Q("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return An("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){An("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function ag(t){return lr(t,"owner")}function I0(t){return lr(t,"clientMetadata")}class ZA{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=Ve(),i=Ve();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new ZA(e,n.fromCache,r,i)}}class w8{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(o=>o||this.Gi(e,n,i,r)).next(o=>o||this.Qi(e,n))}Ki(e,n){if(o7(n))return F.resolve(null);let r=Jr(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=l0(n,null,"F"),r=Jr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=Ve(...o);return this.Ui.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const l=this.ji(n,a);return this.zi(n,l,s,c.readTime)?this.Ki(e,l0(n,null,"F")):this.Wi(e,l,n,c)}))})))}Gi(e,n,r,i){return o7(n)||i.isEqual(pe.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(o=>{const s=this.ji(n,o);return this.zi(n,s,r,i)?this.Qi(e,n):(hA()<=rt.DEBUG&&Q("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),MA(n)),this.Wi(e,s,n,function E$(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=pe.fromTimestamp(1e9===r?new un(n+1,0):new un(n,r));return new Oi(i,re.empty(),e)}(i,-1)))})}ji(e,n){let r=new qt(c7(e));return n.forEach((i,o)=>{Hp(e,o)&&(r=r.add(o))}),r}zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const o="F"===e.limitType?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Qi(e,n){return hA()<=rt.DEBUG&&Q("QueryEngine","Using full collection scan to execute query:",MA(n)),this.Ui.getDocumentsMatchingQuery(e,n,Oi.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}class rCe{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new Ut(Me),this.Yi=new Ls(o=>Hc(o),zp),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new v8(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function C8(t,e,n,r){return new rCe(t,e,n,r)}function x8(t,e){return ek.apply(this,arguments)}function ek(){return ek=m(function*(t,e){const n=oe(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let c=Ve();for(const l of i){s.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}for(const l of o){a.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}return n.localDocuments.getDocuments(r,c).next(l=>({er:l,removedBatchIds:s,addedBatchIds:a}))})})}),ek.apply(this,arguments)}function E8(t){const e=oe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function sCe(t,e){const n=oe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function yd(t,e,n){return tk.apply(this,arguments)}function tk(){return tk=m(function*(t,e,n){const r=oe(t),i=r.Ji.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Ia(s))throw s;Q("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),tk.apply(this,arguments)}function T0(t,e,n){const r=oe(t);let i=pe.min(),o=Ve();return r.persistence.runTransaction("Execute query","readonly",s=>function(a,c,l){const u=oe(a),d=u.Yi.get(l);return void 0!==d?F.resolve(u.Ji.get(d)):u.Bs.getTargetData(c,l)}(r,s,Jr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>r.Hi.getDocumentsMatchingQuery(s,e,n?i:pe.min(),n?o:Ve())).next(a=>(function M8(t,e,n){let r=t.Xi.get(e)||pe.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Xi.set(e,r)}(r,function a7(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,ir:o})))}class sk{constructor(){this.activeTargetIds=function SA(){return cwe}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class k8{constructor(){this.Hr=new sk,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new sk,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class lCe{Yr(e){}shutdown(){}}class O8{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let S0=null;function ck(){return null===S0?S0=268435456+Math.round(2147483648*Math.random()):S0++,"0x"+S0.toString(16)}const uCe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class dCe{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Ur="WebChannelConnection";class hCe extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,o){const s=ck(),a=this.To(e,n);Q("RestConnection",`Sending RPC '${e}' ${s}:`,a,r);const c={};return this.Eo(c,i,o),this.Ao(e,a,c,r).then(l=>(Q("RestConnection",`Received RPC '${e}' ${s}: `,l),l),l=>{throw po("RestConnection",`RPC '${e}' ${s} failed with error: `,l,"url: ",a,"request:",r),l})}vo(e,n,r,i,o,s){return this.Io(e,n,r,i,o)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+nd,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}To(e,n){return`${this.mo}/v1/${n}:${uCe[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const o=ck();return new Promise((s,a)=>{const c=new hbe;c.setWithCredentials(!0),c.listenOnce(lbe.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case dA.NO_ERROR:const u=c.getResponseJson();Q(Ur,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(u)),s(u);break;case dA.TIMEOUT:Q(Ur,`RPC '${e}' ${o} timed out`),a(new W(L.DEADLINE_EXCEEDED,"Request time out"));break;case dA.HTTP_ERROR:const d=c.getStatus();if(Q(Ur,`RPC '${e}' ${o} failed with status:`,d,"response text:",c.getResponseText()),d>0){let h=c.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const b=function(x){const T=x.toLowerCase().replace(/_/g,"-");return Object.values(L).indexOf(T)>=0?T:L.UNKNOWN}(f.status);a(new W(b,f.message))}else a(new W(L.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new W(L.UNAVAILABLE,"Connection failed."));break;default:ue()}}finally{Q(Ur,`RPC '${e}' ${o} completed.`)}});const l=JSON.stringify(i);Q(Ur,`RPC '${e}' ${o} sending request:`,i),c.send(n,"POST",l,r,15)})}Ro(e,n,r){const i=ck(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=abe(),a=cbe(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.xmlHttpFactory=new dbe({})),this.Eo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const u=o.join("");Q(Ur,`Creating RPC '${e}' stream ${i}: ${u}`,c);const d=s.createWebChannel(u,c);let h=!1,f=!1;const b=new dCe({ro:T=>{f?Q(Ur,`Not sending because RPC '${e}' stream ${i} is closed:`,T):(h||(Q(Ur,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),Q(Ur,`RPC '${e}' stream ${i} sending:`,T),d.send(T))},oo:()=>d.close()}),x=(T,P,k)=>{T.listen(P,H=>{try{k(H)}catch(X){setTimeout(()=>{throw X},0)}})};return x(d,Kv.EventType.OPEN,()=>{f||Q(Ur,`RPC '${e}' stream ${i} transport opened.`)}),x(d,Kv.EventType.CLOSE,()=>{f||(f=!0,Q(Ur,`RPC '${e}' stream ${i} transport closed`),b.wo())}),x(d,Kv.EventType.ERROR,T=>{f||(f=!0,po(Ur,`RPC '${e}' stream ${i} transport errored:`,T),b.wo(new W(L.UNAVAILABLE,"The operation could not be completed")))}),x(d,Kv.EventType.MESSAGE,T=>{var P;if(!f){const k=T.data[0];fe(!!k);const X=k.error||(null===(P=k[0])||void 0===P?void 0:P.error);if(X){Q(Ur,`RPC '${e}' stream ${i} received error:`,X);const ce=X.status;let me=function(Bn){const Ki=Vn[Bn];if(void 0!==Ki)return T7(Ki)}(ce),Dt=X.message;void 0===me&&(me=L.INTERNAL,Dt="Unknown error status: "+ce+" with message "+X.message),f=!0,b.wo(new W(me,Dt)),d.close()}else Q(Ur,`RPC '${e}' stream ${i} received:`,k),b._o(k)}}),x(a,ube.STAT_EVENT,T=>{T.stat===y$.PROXY?Q(Ur,`RPC '${e}' stream ${i} detected buffering proxy`):T.stat===y$.NOPROXY&&Q(Ur,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{b.fo()},0),b}}function A0(){return typeof document<"u"?document:null}function lg(t){return new Cwe(t,!0)}class lk{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=o,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&Q("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class N8{constructor(e,n,r,i,o,s,a,c){this.ii=e,this.$o=r,this.Oo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new lk(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return m(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return m(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var r=this;return m(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():n&&n.code===L.RESOURCE_EXHAUSTED?(An(n.toString()),An("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):n&&n.code===L.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new W(L.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No(m(function*(){e.state=0,e.start()}))}tu(e){return Q("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(Q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class fCe extends N8{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function Iwe(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(c=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:ue(),i=e.targetChange.targetIds||[],o=function(c,l){return c.useProto3Json?(fe(void 0===l||"string"==typeof l),Zn.fromBase64String(l||"")):(fe(void 0===l||l instanceof Uint8Array),Zn.fromUint8Array(l||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){const l=void 0===c.code?L.UNKNOWN:T7(c.code);return new W(l,c.message||"")}(s);n=new k7(r,i,o,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Yo(t,r.document.name),o=On(r.document.updateTime),s=r.document.createTime?On(r.document.createTime):pe.min(),a=new Ir({mapValue:{fields:r.document.fields}}),c=Wt.newFoundDocument(i,o,s,a);n=new p0(r.targetIds||[],r.removedTargetIds||[],c.key,c)}else if("documentDelete"in e){const r=e.documentDelete,i=Yo(t,r.document),o=r.readTime?On(r.readTime):pe.min(),s=Wt.newNoDocument(i,o);n=new p0([],r.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const r=e.documentRemove,i=Yo(t,r.document);n=new p0([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return ue();{const r=e.filter,{count:i=0,unchangedNames:o}=r,s=new mwe(i,o);n=new A7(r.targetId,s)}}var c;return n}(this.serializer,e),r=function(i){if(!("targetChange"in i))return pe.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?pe.min():o.readTime?On(o.readTime):pe.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=Zp(this.serializer),n.addTarget=function(i,o){let s;const a=o.target;if(s=s0(a)?{documents:j7(i,a)}:{query:BA(i,a)},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){s.resumeToken=R7(i,o.resumeToken);const c=FA(i,o.expectedCount);null!==c&&(s.expectedCount=c)}else if(o.snapshotVersion.compareTo(pe.min())>0){s.readTime=fd(i,o.snapshotVersion.toTimestamp());const c=FA(i,o.expectedCount);null!==c&&(s.expectedCount=c)}return s}(this.serializer,e);const r=function Dwe(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ue()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=Zp(this.serializer),n.removeTarget=e,this.Wo(n)}}class pCe extends N8{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(fe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=function Twe(t,e){return t&&t.length>0?(fe(void 0!==e),t.map(n=>function(r,i){let o=On(r.updateTime?r.updateTime:i);return o.isEqual(pe.min())&&(o=On(i)),new hwe(o,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=On(e.commitTime);return this.listener.cu(r,n)}return fe(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Zp(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>eg(this.serializer,r))};this.Wo(n)}}class gCe extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new W(L.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Io(e,n,r,i,o)).catch(i=>{throw"FirebaseError"===i.name?(i.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new W(L.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.vo(e,n,r,o,s,i)).catch(o=>{throw"FirebaseError"===o.name?(o.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new W(L.UNKNOWN,o.toString())})}terminate(){this.lu=!0}}class _Ce{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(An(n),this.mu=!1):Q("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class yCe{constructor(e,n,r,i,o){var s=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=o,this.Pu.Yr(a=>{r.enqueueAndForget(m(function*(){var c;Fa(s)&&(Q("RemoteStore","Restarting streams for network reachability change."),yield(c=m(function*(l){const u=oe(l);u.vu.add(4),yield vd(u),u.bu.set("Unknown"),u.vu.delete(4),yield ug(u)}),function(l){return c.apply(this,arguments)})(s))}))}),this.bu=new _Ce(r,i)}}function ug(t){return dk.apply(this,arguments)}function dk(){return dk=m(function*(t){if(Fa(t))for(const e of t.Ru)yield e(!0)}),dk.apply(this,arguments)}function vd(t){return hk.apply(this,arguments)}function hk(){return hk=m(function*(t){for(const e of t.Ru)yield e(!1)}),hk.apply(this,arguments)}function k0(t,e){const n=oe(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),gk(n)?pk(n):wd(n).Ko()&&fk(n,e))}function dg(t,e){const n=oe(t),r=wd(n);n.Au.delete(e),r.Ko()&&R8(n,e),0===n.Au.size&&(r.Ko()?r.jo():Fa(n)&&n.bu.set("Unknown"))}function fk(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(pe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}wd(t).su(e)}function R8(t,e){t.Vu.qt(e),wd(t).iu(e)}function pk(t){t.Vu=new ywe({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),wd(t).start(),t.bu.gu()}function gk(t){return Fa(t)&&!wd(t).Uo()&&t.Au.size>0}function Fa(t){return 0===oe(t).vu.size}function F8(t){t.Vu=void 0}function vCe(t){return mk.apply(this,arguments)}function mk(){return mk=m(function*(t){t.Au.forEach((e,n)=>{fk(t,e)})}),mk.apply(this,arguments)}function bCe(t,e){return _k.apply(this,arguments)}function _k(){return _k=m(function*(t,e){F8(t),gk(t)?(t.bu.Iu(e),pk(t)):t.bu.set("Unknown")}),_k.apply(this,arguments)}function wCe(t,e,n){return yk.apply(this,arguments)}function yk(){return yk=m(function*(t,e,n){if(t.bu.set("Online"),e instanceof k7&&2===e.state&&e.cause)try{yield(r=m(function*(i,o){const s=o.cause;for(const a of o.targetIds)i.Au.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Au.delete(a),i.Vu.removeTarget(a))}),function(i,o){return r.apply(this,arguments)})(t,e)}catch(r){Q("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield O0(t,r)}else if(e instanceof p0?t.Vu.Ht(e):e instanceof A7?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(pe.min()))try{const r=yield E8(t.localStore);n.compareTo(r)>=0&&(yield function(i,o){const s=i.Vu.ce(o);return s.targetChanges.forEach((a,c)=>{if(a.resumeToken.approximateByteSize()>0){const l=i.Au.get(c);l&&i.Au.set(c,l.withResumeToken(a.resumeToken,o))}}),s.targetMismatches.forEach((a,c)=>{const l=i.Au.get(a);if(!l)return;i.Au.set(a,l.withResumeToken(Zn.EMPTY_BYTE_STRING,l.snapshotVersion)),R8(i,a);const u=new Us(l.target,a,c,l.sequenceNumber);fk(i,u)}),i.remoteSyncer.applyRemoteEvent(s)}(t,n))}catch(r){Q("RemoteStore","Failed to raise snapshot:",r),yield O0(t,r)}var r}),yk.apply(this,arguments)}function O0(t,e,n){return vk.apply(this,arguments)}function vk(){return vk=m(function*(t,e,n){if(!Ia(e))throw e;t.vu.add(1),yield vd(t),t.bu.set("Offline"),n||(n=()=>E8(t.localStore)),t.asyncQueue.enqueueRetryable(m(function*(){Q("RemoteStore","Retrying IndexedDB access"),yield n(),t.vu.delete(1),yield ug(t)}))}),vk.apply(this,arguments)}function L8(t,e){return e().catch(n=>O0(t,n,e))}function bd(t){return bk.apply(this,arguments)}function bk(){return bk=m(function*(t){const e=oe(t),n=La(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;CCe(e);)try{const i=yield sCe(e.localStore,r);if(null===i){0===e.Eu.length&&n.jo();break}r=i.batchId,xCe(e,i)}catch(i){yield O0(e,i)}V8(e)&&U8(e)}),bk.apply(this,arguments)}function CCe(t){return Fa(t)&&t.Eu.length<10}function xCe(t,e){t.Eu.push(e);const n=La(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function V8(t){return Fa(t)&&!La(t).Uo()&&t.Eu.length>0}function U8(t){La(t).start()}function ECe(t){return wk.apply(this,arguments)}function wk(){return wk=m(function*(t){La(t).hu()}),wk.apply(this,arguments)}function ICe(t){return Ck.apply(this,arguments)}function Ck(){return Ck=m(function*(t){const e=La(t);for(const n of t.Eu)e.uu(n.mutations)}),Ck.apply(this,arguments)}function TCe(t,e,n){return xk.apply(this,arguments)}function xk(){return xk=m(function*(t,e,n){const r=t.Eu.shift(),i=OA.from(r,e,n);yield L8(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield bd(t)}),xk.apply(this,arguments)}function DCe(t,e){return Ek.apply(this,arguments)}function Ek(){return Ek=m(function*(t,e){var n;e&&La(t).ou&&(yield(n=m(function*(r,i){if(function I7(t){switch(t){default:return ue();case L.CANCELLED:case L.UNKNOWN:case L.DEADLINE_EXCEEDED:case L.RESOURCE_EXHAUSTED:case L.INTERNAL:case L.UNAVAILABLE:case L.UNAUTHENTICATED:return!1;case L.INVALID_ARGUMENT:case L.NOT_FOUND:case L.ALREADY_EXISTS:case L.PERMISSION_DENIED:case L.FAILED_PRECONDITION:case L.ABORTED:case L.OUT_OF_RANGE:case L.UNIMPLEMENTED:case L.DATA_LOSS:return!0}}(o=i.code)&&o!==L.ABORTED){const s=r.Eu.shift();La(r).Qo(),yield L8(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield bd(r)}var o}),function(r,i){return n.apply(this,arguments)})(t,e)),V8(t)&&U8(t)}),Ek.apply(this,arguments)}function B8(t,e){return Ik.apply(this,arguments)}function Ik(){return Ik=m(function*(t,e){const n=oe(t);n.asyncQueue.verifyOperationInProgress(),Q("RemoteStore","RemoteStore received new credentials");const r=Fa(n);n.vu.add(3),yield vd(n),r&&n.bu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),yield ug(n)}),Ik.apply(this,arguments)}function Dk(){return Dk=m(function*(t,e){const n=oe(t);e?(n.vu.delete(2),yield ug(n)):e||(n.vu.add(2),yield vd(n),n.bu.set("Unknown"))}),Dk.apply(this,arguments)}function wd(t){return t.Su||(t.Su=function(e,n,r){const i=oe(e);return i.fu(),new fCe(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:vCe.bind(null,t),ao:bCe.bind(null,t),nu:wCe.bind(null,t)}),t.Ru.push(function(){var e=m(function*(n){n?(t.Su.Qo(),gk(t)?pk(t):t.bu.set("Unknown")):(yield t.Su.stop(),F8(t))});return function(n){return e.apply(this,arguments)}}())),t.Su}function La(t){return t.Du||(t.Du=function(e,n,r){const i=oe(e);return i.fu(),new pCe(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:ECe.bind(null,t),ao:DCe.bind(null,t),au:ICe.bind(null,t),cu:TCe.bind(null,t)}),t.Ru.push(function(){var e=m(function*(n){n?(t.Du.Qo(),yield bd(t)):(yield t.Du.stop(),t.Eu.length>0&&(Q("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))});return function(n){return e.apply(this,arguments)}}())),t.Du}class Mk{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Jn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new Mk(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new W(L.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cd(t,e){if(An("AsyncQueue",`${e}: ${t}`),Ia(t))return new W(L.UNAVAILABLE,`${e}: ${t}`);throw t}class xd{constructor(e){this.comparator=e?(n,r)=>e(n,r)||re.comparator(n.key,r.key):(n,r)=>re.comparator(n.key,r.key),this.keyedMap=Gp(),this.sortedSet=new Ut(this.comparator)}static emptySet(e){return new xd(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof xd)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new xd;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class j8{constructor(){this.Cu=new Ut(re.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(n):1===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):ue():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ed{constructor(e,n,r,i,o,s,a,c,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Ed(e,n,xd.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$p(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class MCe{constructor(){this.Nu=void 0,this.listeners=[]}}class SCe{constructor(){this.queries=new Ls(e=>s7(e),$p),this.onlineState="Unknown",this.ku=new Set}}function Sk(t,e){return Ak.apply(this,arguments)}function Ak(){return Ak=m(function*(t,e){const n=oe(t),r=e.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new MCe),i)try{o.Nu=yield n.onListen(r)}catch(s){const a=Cd(s,`Initialization of query '${MA(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,o),o.listeners.push(e),e.Mu(n.onlineState),o.Nu&&e.$u(o.Nu)&&Pk(n)}),Ak.apply(this,arguments)}function kk(t,e){return Ok.apply(this,arguments)}function Ok(){return Ok=m(function*(t,e){const n=oe(t),r=e.query;let i=!1;const o=n.queries.get(r);if(o){const s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),Ok.apply(this,arguments)}function ACe(t,e){const n=oe(t);let r=!1;for(const i of e){const s=n.queries.get(i.query);if(s){for(const a of s.listeners)a.$u(i)&&(r=!0);s.Nu=i}}r&&Pk(n)}function kCe(t,e,n){const r=oe(t),i=r.queries.get(e);if(i)for(const o of i.listeners)o.onError(n);r.queries.delete(e)}function Pk(t){t.ku.forEach(e=>{e.next()})}class Nk{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Ed(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Ed.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class H8{constructor(e){this.key=e}}class G8{constructor(e){this.key=e}}class q8{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Ve(),this.mutatedKeys=Ve(),this.tc=c7(e),this.ec=new xd(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new j8,i=n?n.ec:this.ec;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const c="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const h=i.get(u),f=Hp(this.query,d)?d:null,b=!!h&&this.mutatedKeys.has(h.key),x=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let T=!1;h&&f?h.data.isEqual(f.data)?b!==x&&(r.track({type:3,doc:f}),T=!0):this.rc(h,f)||(r.track({type:2,doc:f}),T=!0,(c&&this.tc(f,c)>0||l&&this.tc(f,l)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),T=!0):h&&!f&&(r.track({type:1,doc:h}),T=!0,(c||l)&&(a=!0)),T&&(f?(s=s.add(f),o=x?o.add(u):o.delete(u)):(s=s.delete(u),o=o.delete(u)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const u="F"===this.query.limitType?s.last():s.first();s=s.delete(u.key),o=o.delete(u.key),r.track({type:1,doc:u})}return{ec:s,ic:r,zi:a,mutatedKeys:o}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const o=e.ic.xu();o.sort((l,u)=>function(d,h){const f=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ue()}};return f(d)-f(h)}(l.type,u.type)||this.tc(l.doc,u.doc)),this.oc(r);const s=n?this.uc():[],a=0===this.Zu.size&&this.current?1:0,c=a!==this.Xu;return this.Xu=a,0!==o.length||c?{snapshot:new Ed(this.query,e.ec,i,o,e.mutatedKeys,0===a,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:s}:{cc:s}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new j8,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Ve(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new G8(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new H8(r))}),n}hc(e){this.Yu=e.ir,this.Zu=Ve();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return Ed.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class NCe{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class RCe{constructor(e){this.key=e,this.fc=!1}}class FCe{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.dc={},this.wc=new Ls(a=>s7(a),$p),this._c=new Map,this.mc=new Set,this.gc=new Ut(re.comparator),this.yc=new Map,this.Ic=new KA,this.Tc={},this.Ec=new Map,this.Ac=Zc.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function LCe(t,e){return Rk.apply(this,arguments)}function Rk(){return Rk=m(function*(t,e){const n=function iO(t){const e=oe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=W8.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qCe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=BCe.bind(null,e),e.dc.nu=ACe.bind(null,e.eventManager),e.dc.Pc=kCe.bind(null,e.eventManager),e}(t);let r,i;const o=n.wc.get(e);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.lc();else{const s=yield function _d(t,e){const n=oe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(o=>o?(i=o,F.resolve(i)):n.Bs.allocateTargetId(r).next(s=>(i=new Us(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}(n.localStore,Jr(e)),a=n.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,i=yield function Fk(t,e,n,r,i){return Lk.apply(this,arguments)}(n,e,r,"current"===a,s.resumeToken),n.isPrimaryClient&&k0(n.remoteStore,s)}return i}),Rk.apply(this,arguments)}function Lk(){return Lk=m(function*(t,e,n,r,i){t.Rc=(d,h,f)=>{return(b=m(function*(x,T,P,k){let H=T.view.sc(P);H.zi&&(H=yield T0(x.localStore,T.query,!1).then(({documents:me})=>T.view.sc(me,H)));const X=k&&k.targetChanges.get(T.targetId),ce=T.view.applyChanges(H,x.isPrimaryClient,X);return Wk(x,T.targetId,ce.cc),ce.snapshot}),function(x,T,P,k){return b.apply(this,arguments)})(t,d,h,f);var b};const o=yield T0(t.localStore,e,!0),s=new q8(e,o.ir),a=s.sc(o.documents),c=Xp.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),l=s.applyChanges(a,t.isPrimaryClient,c);Wk(t,n,l.cc);const u=new NCe(e,n,s);return t.wc.set(e,u),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),l.snapshot}),Lk.apply(this,arguments)}function VCe(t,e){return Vk.apply(this,arguments)}function Vk(){return Vk=m(function*(t,e){const n=oe(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(o=>!$p(o,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield yd(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),dg(n.remoteStore,r.targetId),Id(n,r.targetId)}).catch(Ea))):(Id(n,r.targetId),yield yd(n.localStore,r.targetId,!0))}),Vk.apply(this,arguments)}function Uk(){return Uk=m(function*(t,e,n){const r=oO(t);try{const i=yield function(o,s){const a=oe(o),c=un.now(),l=s.reduce((h,f)=>h.add(f.key),Ve());let u,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=yi(),b=Ve();return a.Zi.getEntries(h,l).next(x=>{f=x,f.forEach((T,P)=>{P.isValidDocument()||(b=b.add(T))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(x=>{u=x;const T=[];for(const P of s){const k=pwe(P,u.get(P.key).overlayedDocument);null!=k&&T.push(new Vs(P.key,k,q$(k.value.mapValue),nn.exists(!0)))}return a.mutationQueue.addMutationBatch(h,c,T,s)}).next(x=>{d=x;const T=x.applyToLocalDocumentSet(u,b);return a.documentOverlayCache.saveOverlays(h,x.batchId,T)})}).then(()=>({batchId:d.batchId,changes:u7(u)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,s,a){let c=o.Tc[o.currentUser.toKey()];c||(c=new Ut(Me)),c=c.insert(s,a),o.Tc[o.currentUser.toKey()]=c}(r,i.batchId,n),yield Bs(r,i.changes),yield bd(r.remoteStore)}catch(i){const o=Cd(i,"Failed to persist write");n.reject(o)}}),Uk.apply(this,arguments)}function W8(t,e){return Bk.apply(this,arguments)}function Bk(){return Bk=m(function*(t,e){const n=oe(t);try{const r=yield function oCe(t,e){const n=oe(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((u,d)=>{const h=i.get(d);if(!h)return;a.push(n.Bs.removeMatchingKeys(o,u.removedDocuments,d).next(()=>n.Bs.addMatchingKeys(o,u.addedDocuments,d)));let f=h.withSequenceNumber(o.currentSequenceNumber);var b,x,T;null!==e.targetMismatches.get(d)?f=f.withResumeToken(Zn.EMPTY_BYTE_STRING,pe.min()).withLastLimboFreeSnapshotVersion(pe.min()):u.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(u.resumeToken,r)),i=i.insert(d,f),x=f,T=u,(0===(b=h).resumeToken.approximateByteSize()||x.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8||T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0)&&a.push(n.Bs.updateTargetData(o,f))});let c=yi(),l=Ve();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,u))}),a.push(function I8(t,e,n){let r=Ve(),i=Ve();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=yi();return n.forEach((a,c)=>{const l=o.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(pe.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||0===c.version.compareTo(l.version)&&l.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):Q("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{nr:s,sr:i}})}(o,s,e.documentUpdates).next(u=>{c=u.nr,l=u.sr})),!r.isEqual(pe.min())){const u=n.Bs.getLastRemoteSnapshotVersion(o).next(d=>n.Bs.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(u)}return F.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,c,l)).next(()=>c)}).then(o=>(n.Ji=i,o))}(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.yc.get(o);s&&(fe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.fc=!0:i.modifiedDocuments.size>0?fe(s.fc):i.removedDocuments.size>0&&(fe(s.fc),s.fc=!1))}),yield Bs(n,r,e)}catch(r){yield Ea(r)}}),Bk.apply(this,arguments)}function K8(t,e,n){const r=oe(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.wc.forEach((o,s)=>{const a=s.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(o,s){const a=oe(o);a.onlineState=s;let c=!1;a.queries.forEach((l,u)=>{for(const d of u.listeners)d.Mu(s)&&(c=!0)}),c&&Pk(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function BCe(t,e,n){return jk.apply(this,arguments)}function jk(){return jk=m(function*(t,e,n){const r=oe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),o=i&&i.key;if(o){let s=new Ut(re.comparator);s=s.insert(o,Wt.newNoDocument(o,pe.min()));const a=Ve().add(o),c=new Yp(pe.min(),new Map,new Ut(Me),s,a);yield W8(r,c),r.gc=r.gc.remove(o),r.yc.delete(e),Kk(r)}else yield yd(r.localStore,e,!1).then(()=>Id(r,e,n)).catch(Ea)}),jk.apply(this,arguments)}function jCe(t,e){return zk.apply(this,arguments)}function zk(){return zk=m(function*(t,e){const n=oe(t),r=e.batch.batchId;try{const i=yield function iCe(t,e){const n=oe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.Zi.newChangeBuffer({trackRemovals:!0});return function(s,a,c,l){const u=c.batch,d=u.keys();let h=F.resolve();return d.forEach(f=>{h=h.next(()=>l.getEntry(a,f)).next(b=>{const x=c.docVersions.get(f);fe(null!==x),b.version.compareTo(x)<0&&(u.applyToRemoteDocument(b,c),b.isValidDocument()&&(b.setReadTime(c.commitVersion),l.addEntry(b)))})}),h.next(()=>s.mutationQueue.removeMutationBatch(a,u))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(s){let a=Ve();for(let c=0;c<s.mutationResults.length;++c)s.mutationResults[c].transformResults.length>0&&(a=a.add(s.batch.mutations[c].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);qk(n,r,null),Gk(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Bs(n,i)}catch(i){yield Ea(i)}}),zk.apply(this,arguments)}function zCe(t,e,n){return $k.apply(this,arguments)}function $k(){return $k=m(function*(t,e,n){const r=oe(t);try{const i=yield function(o,s){const a=oe(o);return a.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let l;return a.mutationQueue.lookupMutationBatch(c,s).next(u=>(fe(null!==u),l=u.keys(),a.mutationQueue.removeMutationBatch(c,u))).next(()=>a.mutationQueue.performConsistencyCheck(c)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(c,l,s)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,l)).next(()=>a.localDocuments.getDocuments(c,l))})}(r.localStore,e);qk(r,e,n),Gk(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Bs(r,i)}catch(i){yield Ea(i)}}),$k.apply(this,arguments)}function Gk(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function qk(t,e,n){const r=oe(t);let i=r.Tc[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function Id(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||Q8(t,r)})}function Q8(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);null!==n&&(dg(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),Kk(t))}function Wk(t,e,n){for(const r of n)r instanceof H8?(t.Ic.addReference(r.key,e),HCe(t,r)):r instanceof G8?(Q("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||Q8(t,r.key)):ue()}function HCe(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(Q("SyncEngine","New document in limbo: "+n),t.mc.add(r),Kk(t))}function Kk(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new re(ct.fromString(e)),r=t.Ac.next();t.yc.set(r,new RCe(n)),t.gc=t.gc.insert(n,r),k0(t.remoteStore,new Us(Jr(cd(n.path)),r,"TargetPurposeLimboResolution",Pi.ct))}}function Bs(t,e,n){return Qk.apply(this,arguments)}function Qk(){return Qk=m(function*(t,e,n){const r=oe(t),i=[],o=[],s=[];var a;r.wc.isEmpty()||(r.wc.forEach((a,c)=>{s.push(r.Rc(c,e,n).then(l=>{if((l||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,l?.fromCache?"not-current":"current"),l){i.push(l);const u=ZA.Li(c.targetId,l);o.push(u)}}))}),yield Promise.all(s),r.dc.nu(i),yield(a=m(function*(c,l){const u=oe(c);try{yield u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>F.forEach(l,h=>F.forEach(h.Fi,f=>u.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>F.forEach(h.Bi,f=>u.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Ia(d))throw d;Q("LocalStore","Failed to update sequence numbers: "+d)}for(const d of l){const h=d.targetId;if(!d.fromCache){const f=u.Ji.get(h),x=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);u.Ji=u.Ji.insert(h,x)}}}),function(c,l){return a.apply(this,arguments)})(r.localStore,o))}),Qk.apply(this,arguments)}function GCe(t,e){return Yk.apply(this,arguments)}function Yk(){return Yk=m(function*(t,e){const n=oe(t);if(!n.currentUser.isEqual(e)){Q("SyncEngine","User change. New user:",e.toKey());const r=yield x8(n.localStore,e);n.currentUser=e,(i=n).Ec.forEach(s=>{s.forEach(a=>{a.reject(new W(L.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Bs(n,r.er)}var i}),Yk.apply(this,arguments)}function qCe(t,e){const n=oe(t),r=n.yc.get(e);if(r&&r.fc)return Ve().add(r.key);{let i=Ve();const o=n._c.get(e);if(!o)return i;for(const s of o){const a=n.wc.get(s);i=i.unionWith(a.view.nc)}return i}}function oO(t){const e=oe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=jCe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=zCe.bind(null,e),e}class Td{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return m(function*(){n.serializer=lg(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return C8(this.persistence,new w8,e.initialUser,this.serializer)}createPersistence(e){return new QA(x0.zs,this.serializer)}createSharedClientState(e){return new k8}terminate(){var e=this;return m(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class sO extends Td{constructor(e,n,r){super(),this.Vc=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var n=()=>super.initialize,r=this;return m(function*(){yield n().call(r,e),yield r.Vc.initialize(r,e),yield oO(r.Vc.syncEngine),yield bd(r.Vc.remoteStore),yield r.persistence.Ii(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return C8(this.persistence,new w8,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){return new h8(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const r=new Dbe(n,this.persistence);return new Tbe(e.asyncQueue,r)}createPersistence(e){const n=function JA(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Vr.withCacheSize(this.cacheSizeBytes):Vr.DEFAULT;return new XA(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,function P8(){return typeof window<"u"?window:null}(),A0(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new k8}}class Dd{initialize(e,n){var r=this;return m(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>K8(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=GCe.bind(null,r.syncEngine),yield function Tk(t,e){return Dk.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new SCe}createDatastore(e){const n=lg(e.databaseInfo.databaseId),r=new hCe(e.databaseInfo);return new gCe(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,o=a=>K8(this.syncEngine,a,0),s=O8.D()?new O8:new lCe,new yCe(n,r,i,o,s);var n,r,i,o,s}createSyncEngine(e,n){return function(r,i,o,s,a,c,l){const u=new FCe(r,i,o,s,a,c);return l&&(u.vc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=m(function*(n){const r=oe(n);Q("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield vd(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}class P0{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):An("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class o1e{constructor(e,n,r,i){var o=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=cr.UNAUTHENTICATED,this.clientId=C$.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var s=m(function*(a){Q("FirestoreClient","Received user=",a.uid),yield o.authCredentialListener(a),o.user=a});return function(a){return s.apply(this,arguments)}}()),this.appCheckCredentials.start(r,s=>(Q("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}getConfiguration(){var e=this;return m(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new W(L.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Jn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(m(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=Cd(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function N0(t,e){return aO.apply(this,arguments)}function aO(){return aO=m(function*(t,e){t.asyncQueue.verifyOperationInProgress(),Q("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=m(function*(o){r.isEqual(o)||(yield x8(e.localStore,o),r=o)});return function(o){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),aO.apply(this,arguments)}function cO(t,e){return lO.apply(this,arguments)}function lO(){return lO=m(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function uO(t){return dO.apply(this,arguments)}(t);Q("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>B8(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,o)=>B8(e.remoteStore,o)),t._onlineComponents=e}),lO.apply(this,arguments)}function eH(t){return"FirebaseError"===t.name?t.code===L.FAILED_PRECONDITION||t.code===L.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}function dO(){return dO=m(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Q("FirestoreClient","Using user provided OfflineComponentProvider");try{yield N0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!eH(n))throw n;po("Error using user provided cache. Falling back to memory cache: "+n),yield N0(t,new Td)}}else Q("FirestoreClient","Using default OfflineComponentProvider"),yield N0(t,new Td);return t._offlineComponents}),dO.apply(this,arguments)}function R0(t){return hO.apply(this,arguments)}function hO(){return hO=m(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Q("FirestoreClient","Using user provided OnlineComponentProvider"),yield cO(t,t._uninitializedComponentsProvider._online)):(Q("FirestoreClient","Using default OnlineComponentProvider"),yield cO(t,new Dd))),t._onlineComponents}),hO.apply(this,arguments)}function Md(t){return pO.apply(this,arguments)}function pO(){return pO=m(function*(t){const e=yield R0(t),n=e.eventManager;return n.onListen=LCe.bind(null,e.syncEngine),n.onUnlisten=VCe.bind(null,e.syncEngine),n}),pO.apply(this,arguments)}function sH(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const aH=new Map;function gO(t,e,n){if(!n)throw new W(L.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function cH(t){if(!re.isDocumentKey(t))throw new W(L.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function lH(t){if(re.isDocumentKey(t))throw new W(L.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function L0(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":ue()}function it(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new W(L.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=L0(t);throw new W(L.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class dH{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new W(L.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new W(L.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function p1e(t,e,n,r){if(!0===e&&!0===r)throw new W(L.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=sH(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new W(L.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new W(L.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new W(L.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hg{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dH({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new W(L.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new W(L.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dH(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new pbe;switch(n.type){case"firstParty":return new ybe(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new W(L.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=aH.get(e);n&&(Q("ComponentProvider","Removing Datastore"),aH.delete(e),n.terminate())}(this),Promise.resolve()}}class Pn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pn(this.firestore,e,this._key)}}class Tr{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Tr(this.firestore,e,this._query)}}class Xo extends Tr{constructor(e,n,r){super(e,n,cd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pn(this.firestore,null,new re(e))}withConverter(e){return new Xo(this.firestore,e,this._path)}}function m1e(t,e,...n){if(t=St(t),gO("collection","path",e),t instanceof hg){const r=ct.fromString(e,...n);return lH(r),new Xo(t,null,r)}{if(!(t instanceof Pn||t instanceof Xo))throw new W(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ct.fromString(e,...n));return lH(r),new Xo(t.firestore,null,r)}}function hH(t,e,...n){if(t=St(t),1===arguments.length&&(e=C$.A()),gO("doc","path",e),t instanceof hg){const r=ct.fromString(e,...n);return cH(r),new Pn(t,null,new re(r))}{if(!(t instanceof Pn||t instanceof Xo))throw new W(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ct.fromString(e,...n));return cH(r),new Pn(t.firestore,t instanceof Xo?t.converter:null,new re(r))}}class _1e{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new lk(this,"async_queue_retry"),this.Xc=()=>{const n=A0();n&&Q("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=A0();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=A0();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new Jn;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return m(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!Ia(n))throw n;Q("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,An("INTERNAL UNHANDLED ERROR: ",function(o){let s=o.message||"";return o.stack&&(s=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),s}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=Mk.createAndSchedule(this,e,n,r,o=>this.na(o));return this.zc.push(i),i}Zc(){this.Wc&&ue()}verifyOperationInProgress(){}sa(){var e=this;return m(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}class Kt extends hg{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new _1e,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||pH(this),this._firestoreClient.terminate()}}function v1e(t,e){const r="string"==typeof t?t:e||"(default)",i=pa("object"==typeof t?t:Uf(),"firestore").getImmediate({identifier:r});if(!i._initialized){const o=LE("firestore");o&&function g1e(t,e,n,r={}){var i;const o=(t=it(t,hg))._getSettings(),s=`${e}:${n}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&po("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,c;if("string"==typeof r.mockUserToken)a=r.mockUserToken,c=cr.MOCK_USER;else{a=rB(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new W(L.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new cr(l)}t._authCredentials=new gbe(new b$(a,c))}}(i,...o)}return i}function Un(t){return t._firestoreClient||pH(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function pH(t){var e,n,r;const i=t._freezeSettings(),o=(a=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new Wbe(t._databaseId,a,t._persistenceKey,(l=i).host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,sH(l.experimentalLongPollingOptions),l.useFetchStreams));var a,l;t._firestoreClient=new o1e(t._authCredentials,t._appCheckCredentials,t._queue,o),null!==(n=i.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function b1e(t,e){!function mH(t){if(t._initialized||t._terminated)throw new W(L.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}(t=it(t,Kt));const n=Un(t);if(n._uninitializedComponentsProvider)throw new W(L.FAILED_PRECONDITION,"SDK cache is already specified.");po("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings(),i=new Dd;return function gH(t,e,n){const r=new Jn;return t.asyncQueue.enqueue(m(function*(){try{yield N0(t,n),yield cO(t,e),r.resolve()}catch(i){const o=i;if(!eH(o))throw o;po("Error enabling indexeddb cache. Falling back to memory cache: "+o),r.reject(o)}})).then(()=>r.promise)}(n,i,new sO(i,r.cacheSizeBytes,e?.forceOwnership))}class tl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new tl(Zn.fromBase64String(e))}catch(n){throw new W(L.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new tl(Zn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class nl{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new W(L.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Sd{constructor(e){this._methodName=e}}class _O{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new W(L.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new W(L.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}}const C1e=/^__.*__$/;class x1e{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new Vs(e,this.data,this.fieldMask,n,this.fieldTransforms):new dd(e,this.data,n,this.fieldTransforms)}}class _H{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Vs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function yH(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ue()}}class V0{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===o&&this.ua(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new V0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return j0(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(yH(this.ca)&&C1e.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class E1e{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||lg(e)}ya(e,n,r,i=!1){return new V0({ca:e,methodName:n,ga:r,path:kn.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function rl(t){const e=t._freezeSettings(),n=lg(t._databaseId);return new E1e(t._databaseId,!!e.ignoreUndefinedProperties,n)}function U0(t,e,n,r,i,o={}){const s=t.ya(o.merge||o.mergeFields?2:0,e,n,i);wO("Data must be an object, but it was:",s,r);const a=wH(r,s);let c,l;if(o.merge)c=new _i(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){const u=[];for(const d of o.mergeFields){const h=gg(e,d,n);if(!s.contains(h))throw new W(L.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);xH(u,h)||u.push(h)}c=new _i(u),l=s.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,l=s.fieldTransforms;return new x1e(new Ir(a),c,l)}class pg extends Sd{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof pg}}function il(t,e){if(CH(t=St(t)))return wO("Unsupported field value:",e,t),wH(t,e);if(t instanceof Sd)return function(n,r){if(!yH(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let o=0;for(const s of n){let a=il(s,r.wa(o));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),o++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=St(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return p7(r.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=un.fromDate(n);return{timestampValue:fd(r.serializer,i)}}if(n instanceof un){const i=new un(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:fd(r.serializer,i)}}if(n instanceof _O)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof tl)return{bytesValue:R7(r.serializer,n._byteString)};if(n instanceof Pn){const i=r.databaseId,o=n.firestore._databaseId;if(!o.isEqual(i))throw r._a(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:LA(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${L0(n)}`)}(t,e)}function wH(t,e){const n={};return L$(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ta(t,(r,i)=>{const o=il(i,e.ha(r));null!=o&&(n[r]=o)}),{mapValue:{fields:n}}}function CH(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof un||t instanceof _O||t instanceof tl||t instanceof Pn||t instanceof Sd)}function wO(t,e,n){if(!CH(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=L0(n);throw e._a("an object"===r?t+" a custom object":t+" "+r)}var r}function gg(t,e,n){if((e=St(e))instanceof nl)return e._internalPath;if("string"==typeof e)return B0(t,e);throw j0("Field path arguments must be of type string or ",t,!1,void 0,n)}const M1e=new RegExp("[~\\*/\\[\\]]");function B0(t,e,n){if(e.search(M1e)>=0)throw j0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new nl(...e.split("."))._internalPath}catch{throw j0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function j0(t,e,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new W(L.INVALID_ARGUMENT,a+t+c)}function xH(t,e){return t.some(n=>n.isEqual(e))}class mg{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Pn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new S1e(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(z0("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class S1e extends mg{data(){return super.data()}}function z0(t,e){return"string"==typeof e?B0(t,e):e instanceof nl?e._internalPath:e._delegate._internalPath}class CO{}class _g extends CO{}function A1e(t,e,...n){let r=[];e instanceof CO&&r.push(e),r=r.concat(n),function(i){const o=i.filter(a=>a instanceof Ad).length,s=i.filter(a=>a instanceof yg).length;if(o>1||o>0&&s>0)throw new W(L.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class yg extends _g{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new yg(e,n,r)}_apply(e){const n=this._parse(e);return MH(e._query,n),new Tr(e.firestore,e.converter,DA(e._query,n))}_parse(e){const n=rl(e.firestore);return function(i,o,s,a,c,l,u){let d;if(c.isKeyField()){if("array-contains"===l||"array-contains-any"===l)throw new W(L.INVALID_ARGUMENT,`Invalid Query. You can't perform '${l}' queries on documentId().`);if("in"===l||"not-in"===l){DH(u,l);const h=[];for(const f of u)h.push(TH(a,i,f));d={arrayValue:{values:h}}}else d=TH(a,i,u)}else"in"!==l&&"not-in"!==l&&"array-contains-any"!==l||DH(u,l),d=function bH(t,e,n,r=!1){return il(n,t.ya(r?4:3,e))}(s,"where",u,"in"===l||"not-in"===l);return et.create(c,l,d)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}function k1e(t,e,n){const r=e,i=z0("where",t);return yg._create(i,r,n)}class Ad extends CO{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Ad(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===n.length?n[0]:xt.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(r,i){let o=r;const s=i.getFlattenedFilters();for(const a of s)MH(o,a),o=DA(o,a)}(e._query,n),new Tr(e.firestore,e.converter,DA(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function TH(t,e,n){if("string"==typeof(n=St(n))){if(""===n)throw new W(L.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!TA(e)&&-1!==n.indexOf("/"))throw new W(L.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ct.fromString(n));if(!re.isDocumentKey(r))throw new W(L.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return $c(t,new re(r))}if(n instanceof Pn)return $c(t,n._key);throw new W(L.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${L0(n)}.`)}function DH(t,e){if(!Array.isArray(t)||0===t.length)throw new W(L.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function MH(t,e){if(e.isInequality()){const r=c0(t),i=e.field;if(null!==r&&!r.isEqual(i))throw new W(L.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const o=IA(t);null!==o&&function SH(t,e,n){if(!n.isEqual(e))throw new W(L.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}(0,i,o)}const n=function(r,i){for(const o of r)for(const s of o.getFlattenedFilters())if(i.indexOf(s.op)>=0)return s.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new W(L.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class kH{convertValue(e,n="none"){switch(Sa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _n(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Rs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ue()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ta(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new _O(_n(e.latitude),_n(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=t0(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Vp(e));default:return null}}convertTimestamp(e){const n=Da(e);return new un(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ct.fromString(e);fe(G7(r));const i=new zc(r.get(1),r.get(3)),o=new re(r.popFirst(5));return i.isEqual(n)||An(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}class ol{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class kd extends mg{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new W0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(z0("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class W0 extends kd{data(e={}){return super.data(e)}}class Od{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ol(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new W0(this._firestore,this._userDataWriter,r.key,r,new ol(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new W(L.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(s=>({type:"added",doc:new W0(r._firestore,r._userDataWriter,s.doc.key,s.doc,new ol(r._snapshot.mutatedKeys.has(s.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:o++}))}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(s=>i||3!==s.type).map(s=>{const a=new W0(r._firestore,r._userDataWriter,s.doc.key,s.doc,new ol(r._snapshot.mutatedKeys.has(s.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,l=-1;return 0!==s.type&&(c=o.indexOf(s.doc.key),o=o.delete(s.doc.key)),1!==s.type&&(o=o.add(s.doc),l=o.indexOf(s.doc.key)),{type:N1e(s.type),doc:a,oldIndex:c,newIndex:l}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function N1e(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ue()}}function R1e(t){t=it(t,Pn);const e=it(t.firestore,Kt);return function iH(t,e,n={}){const r=new Jn;return t.asyncQueue.enqueueAndForget(m(function*(){return function(i,o,s,a,c){const l=new P0({next:d=>{o.enqueueAndForget(()=>kk(i,u));const h=d.docs.has(s);!h&&d.fromCache?c.reject(new W(L.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&a&&"server"===a.source?c.reject(new W(L.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(d)},error:d=>c.reject(d)}),u=new Nk(cd(s.path),l,{includeMetadataChanges:!0,Ku:!0});return Sk(i,u)}(yield Md(t),t.asyncQueue,e,n,r)})),r.promise}(Un(e),t._key).then(n=>function EO(t,e,n){const r=n.docs.get(e._key),i=new Va(t);return new kd(t,i,e._key,r,new ol(n.hasPendingWrites,n.fromCache),e.converter)}(e,t,n))}class Va extends kH{constructor(e){super(),this.firestore=e}convertBytes(e){return new tl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Pn(this.firestore,null,n)}}function F1e(t){t=it(t,Tr);const e=it(t.firestore,Kt),n=Un(e),r=new Va(e);return function EH(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new W(L.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query),function oH(t,e,n={}){const r=new Jn;return t.asyncQueue.enqueueAndForget(m(function*(){return function(i,o,s,a,c){const l=new P0({next:d=>{o.enqueueAndForget(()=>kk(i,u)),d.fromCache&&"server"===a.source?c.reject(new W(L.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(d)},error:d=>c.reject(d)}),u=new Nk(s,l,{includeMetadataChanges:!0,Ku:!0});return Sk(i,u)}(yield Md(t),t.asyncQueue,e,n,r)})),r.promise}(n,t._query).then(i=>new Od(e,r,t,i))}function L1e(t,e,n){t=it(t,Pn);const r=it(t.firestore,Kt),i=function q0(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e,n);return vg(r,[U0(rl(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,nn.none())])}function V1e(t,e,n,...r){t=it(t,Pn);const i=it(t.firestore,Kt),o=rl(i);let s;return s="string"==typeof(e=St(e))||e instanceof nl?function bO(t,e,n,r,i,o){const s=t.ya(1,e,n),a=[gg(e,r,n)],c=[i];if(o.length%2!=0)throw new W(L.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)a.push(gg(e,o[h])),c.push(o[h+1]);const l=[],u=Ir.empty();for(let h=a.length-1;h>=0;--h)if(!xH(l,a[h])){const f=a[h];let b=c[h];b=St(b);const x=s.da(f);if(b instanceof pg)l.push(f);else{const T=il(b,x);null!=T&&(l.push(f),u.set(f,T))}}const d=new _i(l);return new _H(u,d,s.fieldTransforms)}(o,"updateDoc",t._key,e,n,r):function vO(t,e,n,r){const i=t.ya(1,e,n);wO("Data must be an object, but it was:",i,r);const o=[],s=Ir.empty();Ta(r,(c,l)=>{const u=B0(e,c,n);l=St(l);const d=i.da(u);if(l instanceof pg)o.push(u);else{const h=il(l,d);null!=h&&(o.push(u),s.set(u,h))}});const a=new _i(o);return new _H(s,a,i.fieldTransforms)}(o,"updateDoc",t._key,e),vg(i,[s.toMutation(t._key,nn.exists(!0))])}function U1e(t){return vg(it(t.firestore,Kt),[new hd(t._key,nn.none())])}function vg(t,e){return function(n,r){const i=new Jn;return n.asyncQueue.enqueueAndForget(m(function*(){return function UCe(t,e,n){return Uk.apply(this,arguments)}(yield function fO(t){return R0(t).then(e=>e.syncEngine)}(n),r,i)})),i.promise}(Un(t),e)}!function(t,e=!0){nd=ga,yr(new rr("firestore",(n,{instanceIdentifier:r,options:i})=>{const o=n.getProvider("app").getImmediate(),s=new Kt(new mbe(n.getProvider("auth-internal")),new vbe(n.getProvider("app-check-internal")),function(a,c){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new W(L.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zc(a.options.projectId,c)}(o,r),o);return i=Object.assign({useFetchStreams:e},i),s._setSettings(i),s},"PUBLIC").setMultipleInstances(!0)),Tt(v$,"3.13.0",t),Tt(v$,"3.13.0","esm2017")}();class ot{constructor(e){return e}}const PH="firestore",IO=new ae("angularfire2.firestore-instances");function Z1e(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new ot(r)}}const exe={provide:class X1e{constructor(){return Hf(PH)}},deps:[[new an,IO]]},txe={provide:ot,useFactory:function J1e(t,e){const n=$f(PH,t,e);return n&&new ot(n)},deps:[[new an,IO],_a]};let nxe=(()=>{class t{constructor(){Tt("angularfire",zu.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=on({type:t}),t.\u0275inj=en({providers:[txe,exe]}),t})();function rxe(t,...e){return{ngModule:nxe,providers:[{provide:IO,useFactory:Z1e(t),multi:!0,deps:[Je,wn,Gf,qf,[new an,wv],[new an,Qf],...e]}]}}const ve=Xn(m1e,!0),yn=Xn(U1e,!0),xe=Xn(hH,!0),ixe=Xn(b1e,!0),oxe=Xn(R1e,!0),de=Xn(F1e,!0),sxe=Xn(v1e,!0),Qt=Xn(A1e,!0),Gi=Xn(L1e,!0),Zr=Xn(V1e,!0),Bt=Xn(k1e,!0),axe=[{path:"auth",component:nz,children:[{path:"login",component:(()=>{class t{constructor(n,r,i){this.auth=n,this.router=r,this.firestore=i,this.data=[],this.nid=1,this.getData()}getData(){const n=ve(this.firestore,"users");de(n).then(r=>{this.data=[...r.docs.map(i=>({...i.data(),id:i.id}))]})}Signup(){this.router.navigate(["/auth/signup"])}Salir(){wr(this.auth).then(()=>{}).catch(n=>{}),this.router.navigate(["auth/select"])}handleLogin(n){var r=this;return m(function*(){let i;s0e(r.auth,n.email,n.password).then(function(){var o=m(function*(s){r.current=s.user.email,i=s.user.email;const a=Qt(ve(r.firestore,"users"),Bt("email","==",i));console.log(r.auth.currentUser?.email),(yield de(a)).forEach(l=>{console.log(l.id," => ",l.data());let u=l.data();console.log(u.role),"Adminitrador"==u.role?r.router.navigate(["/admin"]):"Investigador"==u.role?r.router.navigate(["/user/projects"]):"Cliente"==u.role&&r.router.navigate(["/client/projects"])})});return function(s){return o.apply(this,arguments)}}()).catch(o=>{alert(o.message)})})()}static#e=this.\u0275fac=function(r){return new(r||t)(I(ze),I(Te),I(ot))};static#t=this.\u0275cmp=je({type:t,selectors:[["app-login"]],decls:18,vars:0,consts:[[1,"salir",3,"click"],[1,"loginBox"],[1,"loginTile"],[1,"lineBlack"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"userText"],["name","email","ngModel","","placeholder","Email","id","email","type","email",1,"input-field"],[1,"claveText"],["name","password","ngModel","","placeholder","Password","id","password","type","password",1,"input-field"],[1,"boton"]],template:function(r,i){if(1&r){const o=pt();y(0,"button",0),Y("click",function(){return i.Salir()}),p(),ee(1,"div",1),y(2,"span",2),C(3,"Iniciar Sesi\xf3n"),p(),ee(4,"div",3),y(5,"form",4,5),Y("ngSubmit",function(){Ne(o);const a=fn(6);return Re(i.handleLogin(a.value))}),y(7,"div",6)(8,"div",7)(9,"span",8),C(10,"Email:"),p(),ee(11,"input",9),p(),y(12,"div",7)(13,"span",10),C(14,"Clave:"),p(),ee(15,"input",11),p(),y(16,"button",12),C(17,"Log In"),p()()()}},dependencies:[Yn,Kr,Mi,Qn,hi,Mn],styles:[".main[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:34%;height:27%;position:absolute;left:39.2%;top:38%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;width:10%;height:4%;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:59.5%;top:59%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.main[_ngcontent-%COMP%]{display:flex;height:100vh;justify-content:center;align-items:center;flex-direction:column}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:40%;position:absolute;left:15%;top:35%}.loginTile[_ngcontent-%COMP%]{color:#000;width:75%;height:20%;position:absolute;font-family:Arial;text-align:center;font-size:24px;letter-spacing:0;left:15%;top:37%}.lineBlack[_ngcontent-%COMP%]{width:75%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:15%;top:43%}#email[_ngcontent-%COMP%]{width:60%;height:3%;position:absolute;left:20%;top:50%}.userText[_ngcontent-%COMP%]{color:#000;width:10%;height:5%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:20%;top:45%}#password[_ngcontent-%COMP%]{width:60%;height:3%;position:absolute;left:20%;top:60%}.claveText[_ngcontent-%COMP%]{color:#000;width:10%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:20%;top:55%}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;width:20%;height:5%;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:60%;top:65%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:14px;letter-spacing:0;left:60%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:15%;left:0%;top:0%}}"]})}return t})()},{path:"signup",component:(()=>{class t{constructor(n,r,i){this.auth=n,this.firestore=r,this.router=i,this.title="gestion-de-muestras-de-campo",this.data=[],this.getData()}Login(){this.router.navigate(["/auth/login"])}handleRegister(n){o0e(this.auth,n.email,n.password).then(r=>{console.log(r.user)}).catch(r=>{alert(r.message)}),this.addData(n)}addData(n){const r=xe(this.firestore,"users",n.email);n.password==n.confirmpassword?"Invetigador"==n.role||"Cliente"==n.role?Gi(r,{email:n.email,role:n.role,password:n.password}).then(()=>{alert("Data Sent")}).catch(i=>{alert(i.message)}):alert("Rol no reconocido"):alert("Claves No Iguales")}getData(){const n=ve(this.firestore,"users");de(n).then(r=>{this.data=[...r.docs.map(i=>({...i.data(),id:i.id}))]})}Salir(){wr(this.auth).then(()=>{}).catch(n=>{}),this.router.navigate(["auth/select"])}static#e=this.\u0275fac=function(r){return new(r||t)(I(ze),I(ot),I(Te))};static#t=this.\u0275cmp=je({type:t,selectors:[["app-signup"]],decls:29,vars:0,consts:[[1,"salir",3,"click"],[1,"loginBox"],[1,"loginTile"],[1,"lineBlack"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"userText"],["name","email","ngModel","","placeholder","Email","id","email","type","email",1,"input-field"],[1,"roleText"],["list","roles","name","role","ngModel","","placeholder","Roles","id","role","type","role",1,"input-field"],["id","roles"],["value","Investigador"],["value","Cliente"],[1,"claveText"],["name","password","ngModel","","placeholder","Clave","id","password","type","password",1,"input-field"],[1,"clave2Text"],["name","confirmpassword","ngModel","","placeholder","Confirmar Clave","id","confirmpassword","type","password",1,"input-field"],[1,"boton"]],template:function(r,i){if(1&r){const o=pt();y(0,"button",0),Y("click",function(){return i.Salir()}),p(),ee(1,"div",1),y(2,"span",2),C(3,"Registrar"),p(),ee(4,"div",3),y(5,"form",4,5),Y("ngSubmit",function(){Ne(o);const a=fn(6);return Re(i.handleRegister(a.value))}),y(7,"div",6)(8,"div",7)(9,"span",8),C(10,"Email:"),p(),ee(11,"input",9),p(),y(12,"div",7)(13,"span",10),C(14,"Roles:"),p(),ee(15,"input",11),y(16,"datalist",12),ee(17,"option",13)(18,"option",14),p()(),y(19,"div",7)(20,"span",15),C(21,"Clave:"),p(),ee(22,"input",16),p(),y(23,"div",7)(24,"span",17),C(25,"Confirmar Clave:"),p(),ee(26,"input",18),p(),y(27,"button",19),C(28,"Sign Up"),p()()()}},dependencies:[Yn,mf,_f,Kr,Mi,Qn,hi,Mn],styles:[".main[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:39%;height:40%;position:absolute;left:33.5%;top:37%}.loginTile[_ngcontent-%COMP%]{color:#000;width:39%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:33.5%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:38.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:33.5%;top:45%}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#role[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.roleText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.5%;top:54%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:58.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:59%}#confirmpassword[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:63.5%}.clave2Text[_ngcontent-%COMP%]{color:#000;width:15%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:36.2%;top:64%}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;width:10%;height:4%;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:59.5%;top:69%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:69.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.main[_ngcontent-%COMP%]{display:flex;height:100vh;justify-content:center;align-items:center;flex-direction:column}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:60%;position:absolute;left:15%;top:25%}.loginTile[_ngcontent-%COMP%]{color:#000;width:75%;height:20%;position:absolute;font-family:Arial;text-align:center;font-size:24px;letter-spacing:0;left:15%;top:26%}.lineBlack[_ngcontent-%COMP%]{width:75%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:15%;top:32%}#email[_ngcontent-%COMP%]{width:60%;height:3%;position:absolute;left:20%;top:40%}.userText[_ngcontent-%COMP%]{color:#000;width:10%;height:5%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:20%;top:35%}#role[_ngcontent-%COMP%]{width:30%;height:3%;position:absolute;left:20%;top:60%}.roleText[_ngcontent-%COMP%]{color:#000;width:15%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:20%;top:55%}#password[_ngcontent-%COMP%]{width:60%;height:3%;position:absolute;left:20%;top:50%}.claveText[_ngcontent-%COMP%]{color:#000;width:10%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:20%;top:45%}#confirmpassword[_ngcontent-%COMP%]{width:60%;height:3%;position:absolute;left:20%;top:70%}.clave2Text[_ngcontent-%COMP%]{color:#000;width:60%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:20%;top:65%}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;width:20%;height:5%;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:60%;top:75%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:14px;letter-spacing:0;left:60%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:15%;left:0%;top:0%}}"]})}return t})()},{path:"select",component:(()=>{class t{constructor(n,r){this.auth=n,this.router=r}Login(){this.router.navigate(["/auth/login"])}Signup(){this.router.navigate(["/auth/signup"])}static#e=this.\u0275fac=function(r){return new(r||t)(I(ze),I(Te))};static#t=this.\u0275cmp=je({type:t,selectors:[["app-select"]],decls:15,vars:0,consts:[[1,"base"],["id","login",3,"click"],["id","signup",3,"click"],[1,"install"],["id","share","src","../../../../assets/share.png","alt","share"],["id","menu","src","../../../../assets/menu.png","alt","menu"]],template:function(r,i){1&r&&(y(0,"div",0)(1,"div")(2,"button",1),Y("click",function(){return i.Login()}),C(3,"Log In"),p()(),ee(4,"div"),y(5,"div")(6,"button",2),Y("click",function(){return i.Signup()}),C(7,"Sign Up"),p()(),y(8,"div",3)(9,"span"),C(10,"Para instalar en tu dispositivo m\xf3vil, pulsa el boton de inicio \u201cCompartir\u201d "),ee(11,"img",4),C(12," en IOS o el boton \u201cMen\xfa\u201d "),ee(13,"img",5),C(14," en Androi, y selecionar \u201cAgregar a inicio\u201d"),p()()())},styles:[".main[_ngcontent-%COMP%]{display:flex;height:100vh;justify-content:center;align-items:center;flex-direction:column}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#login[_ngcontent-%COMP%]{top:20%;position:absolute}#signup[_ngcontent-%COMP%]{top:40%;position:absolute}#login[_ngcontent-%COMP%]{background-color:#3ec28f;width:40%;height:15%;position:absolute;left:36%;top:25%;border-radius:30px;border-width:0;color:#fff;font-family:Arial;text-align:center;font-size:64px;letter-spacing:0}#signup[_ngcontent-%COMP%]{background-color:#3ec28f;width:40%;height:15%;position:absolute;left:36%;top:50%;border-radius:30px;border-width:0;color:#fff;font-family:Arial;text-align:center;font-size:64px;letter-spacing:0}.install[_ngcontent-%COMP%]{color:#000;width:30%;position:absolute;left:42%;top:77%;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;font-weight:700}.line[_ngcontent-%COMP%]{display:inline}#menu[_ngcontent-%COMP%]{width:16px;height:21.647058486938477px;background-repeat:no-repeat;background-size:cover;border-radius:5px}#share[_ngcontent-%COMP%]{width:20px;height:23.636362075805664px;background-repeat:no-repeat;background-size:cover;border-radius:5px}p[_ngcontent-%COMP%]{line-height:.5}@media only screen and (max-width: 768px){.main[_ngcontent-%COMP%]{display:flex;height:100vh;justify-content:center;align-items:center;flex-direction:column}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;cursor:pointer}#login[_ngcontent-%COMP%]{top:20%;position:absolute}#signup[_ngcontent-%COMP%]{top:40%;position:absolute}#login[_ngcontent-%COMP%]{background-color:#3ec28f;width:70%;height:15%;margin:0;position:absolute;left:15%;top:25%;border-radius:30px;border-width:0;color:#fff;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0}#signup[_ngcontent-%COMP%]{background-color:#3ec28f;width:70%;height:15%;margin:0;position:absolute;left:15%;top:50%;border-radius:30px;border-width:0;color:#fff;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0}.install[_ngcontent-%COMP%]{color:#000;width:70%;height:10%;position:absolute;left:15%;top:75%;font-family:Arial;text-align:center;font-size:12px;letter-spacing:0;font-weight:700}.line[_ngcontent-%COMP%]{display:inline}#menu[_ngcontent-%COMP%]{width:10px;height:12px;background-repeat:no-repeat;background-size:cover;border-radius:5px}#share[_ngcontent-%COMP%]{width:12px;height:14px;background-repeat:no-repeat;background-size:cover;border-radius:5px}p[_ngcontent-%COMP%]{line-height:.5}}"]})}return t})()}]}];let cxe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=on({type:t});static#n=this.\u0275inj=en({imports:[uo.forChild(axe),uo]})}return t})(),lxe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=on({type:t});static#n=this.\u0275inj=en({imports:[sf,_y,uo,cxe]})}return t})(),uxe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=je({type:t,selectors:[["app-home"]],decls:2,vars:0,template:function(r,i){1&r&&(y(0,"p"),C(1,"home works!"),p())}})}return t})();function dxe(t,e){if(1&t){const n=pt();y(0,"tr")(1,"td",14),C(2),p(),y(3,"td",14),C(4),p(),y(5,"td")(6,"button",15),Y("click",function(){const o=Ne(n).$implicit;return Re(cn().updateData(o.id))}),C(7," Update "),p()()()}if(2&t){const n=e.$implicit;B(2),Fe(n.email),B(2),Fe(n.role)}}let hxe=(()=>{class t{constructor(n,r,i,o){this.router=n,this.route=r,this.auth=i,this.firestore=o,this.data=[],this.getData()}ngOnInit(){}getData(){const n=ve(this.firestore,"users");de(n).then(r=>{this.data=[...r.docs.map(i=>({...i.data(),id:i.id}))]})}updateData(n){const r=xe(this.firestore,"users",n);Zr(r,{}).then(()=>{alert("Data updated"),this.getData()}).catch(i=>{alert(i.message)})}deleteData(n){const r=xe(this.firestore,"users",n);yn(r).then(()=>{alert("Data Deleted"),this.getData()}).catch(i=>{alert(i.message)})}handleSignOut(){wr(this.auth).then(()=>{}).catch(n=>{console.log("here")}),this.router.navigate(["auth/select"])}Home(){this.router.navigate(["admin"])}Projectos(){this.router.navigate(["admin"])}Muestras(){this.router.navigate(["admin"])}static#e=this.\u0275fac=function(r){return new(r||t)(I(Te),I(at),I(ze),I(ot))};static#t=this.\u0275cmp=je({type:t,selectors:[["app-admin"]],decls:27,vars:1,consts:[[1,"navbar"],[1,"tituloBox"],[1,"tituloText"],[1,"logoCiens"],[1,"logoUcv"],[1,"homeBox"],[1,"homeText"],[1,"salir",3,"click"],[1,"navbar2"],[1,"navbar2Box"],["id","cerrarText",1,"navbar2Text",3,"click"],[1,"subTituloText"],[1,"list"],[4,"ngFor","ngForOf"],["contenteditable","true"],[3,"click"]],template:function(r,i){1&r&&(y(0,"p"),C(1,"admin works!"),p(),y(2,"div",0)(3,"div",1)(4,"span",2),C(5,"Gestion de Muestras"),p()(),ee(6,"div",3)(7,"div",4),y(8,"div",5)(9,"span",6),C(10,"Home"),p()()(),y(11,"button",7),Y("click",function(){return i.Home()}),p(),y(12,"div",8),ee(13,"div",9),y(14,"div",10),Y("click",function(){return i.handleSignOut()}),C(15,"CERRAR SESI\xd3N"),p()(),y(16,"h1",11),C(17,"Usuarios"),p(),y(18,"div",12)(19,"table")(20,"tr")(21,"th"),C(22," Email "),p(),y(23,"th"),C(24," Role "),p(),ee(25,"th"),p(),gr(26,dxe,8,2,"tr",13),p()()),2&r&&(B(26),mr("ngForOf",i.data))},dependencies:[ji],styles:[".list[_ngcontent-%COMP%]{position:absolute;left:33%;top:35%}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}button[_ngcontent-%COMP%]{border:none;background-color:#3eb3c2;color:#fff;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;width:70%;height:10%;vertical-align:middle;line-height:250%;font-family:Verdana;text-align:center;font-size:48px;letter-spacing:0;left:20%;top:15%}.main[_ngcontent-%COMP%]{display:flex;height:100vh;justify-content:center;align-items:center;flex-direction:column}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}.homeBox[_ngcontent-%COMP%]{background-color:#3ec28f;border-right:4px solid white;width:20%;height:10%;position:absolute;left:0;top:0%;text-align:center}.homeText[_ngcontent-%COMP%]{color:#fff;display:inline-block;vertical-align:middle;line-height:250%;font-family:Verdana;font-size:40px;letter-spacing:0}.tituloBox[_ngcontent-%COMP%]{background-color:#3ec28f;width:80%;height:10%;position:absolute;left:20%;top:0%;text-align:center}.tituloText[_ngcontent-%COMP%]{color:#fff;display:inline-block;vertical-align:middle;line-height:250%;font-family:Verdana;font-size:40px;letter-spacing:0}.logoCiens[_ngcontent-%COMP%]{width:100px;height:69px;position:absolute;left:90%;top:1.5%;background-image:url(Logo-Agronomia2.2ed90bcafa53fa56.png);background-repeat:no-repeat;background-size:cover}.logoUcv[_ngcontent-%COMP%]{width:69px;height:69px;position:absolute;left:22%;top:1.5%;background-image:url(logo_ucv_bg2_1.32a61806277cba42.png);background-repeat:no-repeat;background-size:cover}.navbar2Box[_ngcontent-%COMP%]{width:100%;height:47px;background:#3ec28f;border-top:4px solid white;position:absolute;left:0%;top:10%}.navbar2Text[_ngcontent-%COMP%]{height:47px;color:#fff;font-size:20px;font-family:Verdana;font-weight:600;word-wrap:break-word;text-align:center;display:inline-block;vertical-align:middle;line-height:240%;border-top:4px solid white}#usernameText[_ngcontent-%COMP%]{width:20%;position:absolute;left:0%;top:10%;border-right:4px solid white}#ProyectosText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:20%;top:10%;border-right:4px solid white}#MuestrasText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:40%;top:10%;border-right:4px solid white}#ClientesText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:60%;top:10%;border-right:4px solid white}#cerrarText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:0%;top:10%;border-right:4px solid white}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.projectBlock[_ngcontent-%COMP%]{width:60%;height:25px;background:#3ec28f;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:14px;font-weight:700;letter-spacing:0;cursor:pointer}.list[_ngcontent-%COMP%]{position:absolute;left:5%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;left:30%;top:22%}.homeBox[_ngcontent-%COMP%]{background-color:#3ec28f;border-right:2px solid white;width:20%;height:15%;position:absolute;left:0;top:0%}.homeText[_ngcontent-%COMP%]{display:none}.homeLogo[_ngcontent-%COMP%]{position:relative;top:30%;left:25%;width:36px;height:36px;text-align:center;background-image:url(home.a5ce65d54c28e165.png);background-repeat:no-repeat;background-size:cover}.tituloBox[_ngcontent-%COMP%]{background-color:#3ec28f;width:80%;height:15%;position:absolute;left:20%;top:0%;text-align:center}.tituloText[_ngcontent-%COMP%]{color:#fff;line-height:1.6;display:inline-block;vertical-align:middle;font-family:Verdana;font-size:32px;letter-spacing:0px}.logoCiens[_ngcontent-%COMP%]{width:45px;height:35px;position:absolute;left:85%;top:1.5%;background-image:url(Logo-Agronomia2.2ed90bcafa53fa56.png);background-repeat:no-repeat;background-size:cover}.logoUcv[_ngcontent-%COMP%]{width:35px;height:35px;position:absolute;left:22%;top:1.5%;background-image:url(logo_ucv_bg2_1.32a61806277cba42.png);background-repeat:no-repeat;background-size:cover}.navbar2Box[_ngcontent-%COMP%]{width:100%;height:5%;background:#3ec28f;border-top:2px solid white;position:absolute;left:0%;top:15%}.navbar2Text[_ngcontent-%COMP%]{height:5%;color:#fff;font-size:10px;font-family:Verdana;font-weight:600;word-wrap:break-word;text-align:center;display:inline-block;vertical-align:middle;line-height:1.6;border-top:2px solid white}#UnidadText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:40%;top:15%;border-right:2px solid white;padding-top:7px}#ProyectosText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:20%;top:15%;border-right:2px solid white;padding-top:7px}#MuestrasText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:60%;top:15%;border-right:2px solid white;padding-top:7px}#ClientesText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:80%;top:15%;padding-top:7px}#cerrarText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:0%;top:15%;border-right:2px solid white}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}button[_ngcontent-%COMP%]{border:none;background-color:#3eb3c2;color:#fff;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;height:10%;padding:10px;margin:5px;border-radius:30px}}"]})}return t})(),fxe=(()=>{class t{constructor(n,r){this.auth=n,this.router=r}canActivate(n,r){return this.checkLogin(r.url)}checkLogin(n){return!!this.auth.currentUser||(this.router.navigate(["/"]),!1)}static#e=this.\u0275fac=function(r){return new(r||t)(ye(ze),ye(Te))};static#t=this.\u0275prov=he({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),NH=(()=>{class t{constructor(n,r){this.auth=n,this.router=r,this.title="gestion-muestras"}handleSignOut(){wr(this.auth).then(()=>{}).catch(n=>{console.log("here")}),this.router.navigate(["auth/select"])}Home(){this.router.navigate(["user/projects"])}Projectos(){this.router.navigate(["user/projects"])}Muestras(){this.router.navigate(["user/muestras-all"])}Clientes(){this.router.navigate(["user/clients"])}Unidades(){this.router.navigate(["user/unidad-produccion-all"])}static#e=this.\u0275fac=function(r){return new(r||t)(I(ze),I(Te))};static#t=this.\u0275cmp=je({type:t,selectors:[["app-user"]],decls:26,vars:0,consts:[[1,"navbar"],[1,"tituloBox"],[1,"tituloText"],[1,"logoCiens"],[1,"logoUcv"],[1,"homeBox"],[1,"homeText"],[1,"homeLogo"],[1,"salir",3,"click"],[1,"navbar2"],[1,"navbar2Box"],["id","cerrarText",1,"navbar2Text",3,"click"],["id","UnidadText",1,"navbar2Text",3,"click"],["id","ProyectosText",1,"navbar2Text",3,"click"],["id","MuestrasText",1,"navbar2Text",3,"click"],["id","ClientesText",1,"navbar2Text",3,"click"]],template:function(r,i){1&r&&(y(0,"p"),C(1,"user works!"),p(),y(2,"div",0)(3,"div",1)(4,"span",2),C(5,"Gestion de Muestras"),p()(),ee(6,"div",3)(7,"div",4),y(8,"div",5)(9,"span",6),C(10,"Home"),p(),ee(11,"div",7),p()(),y(12,"button",8),Y("click",function(){return i.Home()}),p(),y(13,"div",9),ee(14,"div",10),y(15,"div",11),Y("click",function(){return i.handleSignOut()}),C(16,"CERRAR SESI\xd3N"),p(),y(17,"div",12),Y("click",function(){return i.Unidades()}),C(18,"UNIDADES"),p(),y(19,"div",13),Y("click",function(){return i.Projectos()}),C(20,"PROYECTOS"),p(),y(21,"div",14),Y("click",function(){return i.Muestras()}),C(22,"MUESTRAS"),p(),y(23,"div",15),Y("click",function(){return i.Clientes()}),C(24,"CLIENTES"),p()(),ee(25,"router-outlet"))},dependencies:[Au],styles:[".main[_ngcontent-%COMP%]{display:flex;height:100vh;justify-content:center;align-items:center;flex-direction:column}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}.homeBox[_ngcontent-%COMP%]{background-color:#3ec28f;border-right:4px solid white;width:20%;height:10%;position:absolute;left:0;top:0%;text-align:center}.homeText[_ngcontent-%COMP%]{color:#fff;display:inline-block;vertical-align:middle;line-height:250%;font-family:Verdana;font-size:40px;letter-spacing:0}.tituloBox[_ngcontent-%COMP%]{background-color:#3ec28f;width:80%;height:10%;position:absolute;left:20%;top:0%;text-align:center}.tituloText[_ngcontent-%COMP%]{color:#fff;display:inline-block;vertical-align:middle;line-height:250%;font-family:Verdana;font-size:40px;letter-spacing:0}.logoCiens[_ngcontent-%COMP%]{width:100px;height:69px;position:absolute;left:90%;top:1.5%;background-image:url(Logo-Agronomia2.2ed90bcafa53fa56.png);background-repeat:no-repeat;background-size:cover}.logoUcv[_ngcontent-%COMP%]{width:69px;height:69px;position:absolute;left:22%;top:1.5%;background-image:url(logo_ucv_bg2_1.32a61806277cba42.png);background-repeat:no-repeat;background-size:cover}.navbar2Box[_ngcontent-%COMP%]{width:100%;height:5%;background:#3ec28f;border-top:4px solid white;position:absolute;left:0%;top:10%}.navbar2Text[_ngcontent-%COMP%]{height:5%;color:#fff;font-size:20px;font-family:Verdana;font-weight:600;word-wrap:break-word;text-align:center;display:inline-block;vertical-align:middle;line-height:240%;border-top:4px solid white}#UnidadText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:40%;top:10%;border-right:4px solid white}#ProyectosText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:20%;top:10%;border-right:4px solid white}#MuestrasText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:60%;top:10%;border-right:4px solid white}#ClientesText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:80%;top:10%}#cerrarText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:0%;top:10%;border-right:4px solid white}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.homeBox[_ngcontent-%COMP%]{background-color:#3ec28f;border-right:2px solid white;width:20%;height:15%;position:absolute;left:0;top:0%}.homeText[_ngcontent-%COMP%]{display:none}.homeLogo[_ngcontent-%COMP%]{position:relative;top:30%;left:25%;width:36px;height:36px;text-align:center;background-image:url(home.a5ce65d54c28e165.png);background-repeat:no-repeat;background-size:cover}.tituloBox[_ngcontent-%COMP%]{background-color:#3ec28f;width:80%;height:15%;position:absolute;left:20%;top:0%;text-align:center}.tituloText[_ngcontent-%COMP%]{color:#fff;line-height:1.6;display:inline-block;vertical-align:middle;font-family:Verdana;font-size:32px;letter-spacing:0px}.logoCiens[_ngcontent-%COMP%]{width:45px;height:35px;position:absolute;left:85%;top:1.5%;background-image:url(Logo-Agronomia2.2ed90bcafa53fa56.png);background-repeat:no-repeat;background-size:cover}.logoUcv[_ngcontent-%COMP%]{width:35px;height:35px;position:absolute;left:22%;top:1.5%;background-image:url(logo_ucv_bg2_1.32a61806277cba42.png);background-repeat:no-repeat;background-size:cover}.navbar2Box[_ngcontent-%COMP%]{width:100%;height:5%;background:#3ec28f;border-top:2px solid white;position:absolute;left:0%;top:15%}.navbar2Text[_ngcontent-%COMP%]{height:5%;color:#fff;font-size:10px;font-family:Verdana;font-weight:600;word-wrap:break-word;text-align:center;display:inline-block;vertical-align:middle;line-height:1.6;border-top:2px solid white}#UnidadText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:40%;top:15%;border-right:2px solid white;padding-top:7px}#ProyectosText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:20%;top:15%;border-right:2px solid white;padding-top:7px}#MuestrasText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:60%;top:15%;border-right:2px solid white;padding-top:7px}#ClientesText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:80%;top:15%;padding-top:7px}#cerrarText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:0%;top:15%;border-right:2px solid white}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:15%;left:0%;top:0%}}"]})}return t})();var TO=R(2448);let pxe=(()=>{class t{constructor(n,r,i,o){this.router=n,this.route=r,this.auth=i,this.firestore=o}ngOnInit(){this.route.params.subscribe(n=>{this.item=n,console.log(n),this.generateBarcode(n)})}generateBarcode(n){var r=n.id;let i=n.num;TO("#barcode",r,{format:"CODE128"});for(let o=1;o<i;o++){let s="#barcode"+o;console.log(s),TO(s,r,{format:"CODE128"})}window.print()}static#e=this.\u0275fac=function(r){return new(r||t)(I(Te),I(at),I(ze),I(ot))};static#t=this.\u0275cmp=je({type:t,selectors:[["app-print"]],decls:5,vars:0,consts:[["id","barcode"],["id","barcode1"],["id","barcode2"],["id","barcode3"],["id","barcode4"]],template:function(r,i){1&r&&(pw(),ee(0,"svg",0)(1,"svg",1)(2,"svg",2)(3,"svg",3)(4,"svg",4))},styles:["#barcode[_ngcontent-%COMP%]{position:absolute;top:50px;left:200px}#barcode1[_ngcontent-%COMP%]{position:absolute;top:220px;left:200px}#barcode2[_ngcontent-%COMP%]{position:absolute;top:390px;left:200px}#barcode3[_ngcontent-%COMP%]{position:absolute;top:560px;left:200px}#barcode4[_ngcontent-%COMP%]{position:absolute;top:730px;left:200px}"]})}return t})(),RH=(()=>{class t{constructor(n,r){this.auth=n,this.router=r,this.title="gestion-muestras"}handleSignOut(){wr(this.auth).then(()=>{}).catch(n=>{console.log("here")}),this.router.navigate(["auth/select"])}Home(){this.router.navigate(["client/projects"])}Projectos(){this.router.navigate(["client/projects"])}Perfil(){this.router.navigate(["client/perfil"])}Muestras(){this.router.navigate(["client/muestras-all"])}Unidad(){this.router.navigate(["client/unidad-produccion-all"])}static#e=this.\u0275fac=function(r){return new(r||t)(I(ze),I(Te))};static#t=this.\u0275cmp=je({type:t,selectors:[["app-client"]],decls:25,vars:0,consts:[[1,"navbar"],[1,"tituloBox"],[1,"tituloText"],[1,"logoCiens"],[1,"logoUcv"],[1,"homeBox"],[1,"homeText"],[1,"salir",3,"click"],[1,"navbar2"],[1,"navbar2Box"],["id","cerrarText",1,"navbar2Text",3,"click"],["id","usernameText",1,"navbar2Text",3,"click"],["id","ProyectosText",1,"navbar2Text",3,"click"],["id","MuestrasText",1,"navbar2Text",3,"click"],["id","UnidadText",1,"navbar2Text",3,"click"]],template:function(r,i){1&r&&(y(0,"p"),C(1,"client works!"),p(),y(2,"div",0)(3,"div",1)(4,"span",2),C(5,"Gestion de Muestras"),p()(),ee(6,"div",3)(7,"div",4),y(8,"div",5)(9,"span",6),C(10,"Home"),p()()(),y(11,"button",7),Y("click",function(){return i.Home()}),p(),y(12,"div",8),ee(13,"div",9),y(14,"div",10),Y("click",function(){return i.handleSignOut()}),C(15,"CERRAR SESI\xd3N"),p(),y(16,"div",11),Y("click",function(){return i.Perfil()}),C(17,"USUARIO"),p(),y(18,"div",12),Y("click",function(){return i.Projectos()}),C(19,"PROYECTOS"),p(),y(20,"div",13),Y("click",function(){return i.Muestras()}),C(21,"MUESTRAS"),p(),y(22,"div",14),Y("click",function(){return i.Unidad()}),C(23,"UNIDADES"),p()(),ee(24,"router-outlet"))},dependencies:[Au],styles:[".main[_ngcontent-%COMP%]{display:flex;height:100vh;justify-content:center;align-items:center;flex-direction:column}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}.homeBox[_ngcontent-%COMP%]{background-color:#3ec28f;border-right:4px solid white;width:20%;height:10%;position:absolute;left:0;top:0%;text-align:center}.homeText[_ngcontent-%COMP%]{color:#fff;display:inline-block;vertical-align:middle;line-height:250%;font-family:Verdana;font-size:40px;letter-spacing:0}.tituloBox[_ngcontent-%COMP%]{background-color:#3ec28f;width:80%;height:10%;position:absolute;left:20%;top:0%;text-align:center}.tituloText[_ngcontent-%COMP%]{color:#fff;display:inline-block;vertical-align:middle;line-height:250%;font-family:Verdana;font-size:40px;letter-spacing:0}.logoCiens[_ngcontent-%COMP%]{width:100px;height:69px;position:absolute;left:90%;top:1.5%;background-image:url(Logo-Agronomia2.2ed90bcafa53fa56.png);background-repeat:no-repeat;background-size:cover}.logoUcv[_ngcontent-%COMP%]{width:69px;height:69px;position:absolute;left:22%;top:1.5%;background-image:url(logo_ucv_bg2_1.32a61806277cba42.png);background-repeat:no-repeat;background-size:cover}.navbar2Box[_ngcontent-%COMP%]{width:100%;height:47px;background:#3ec28f;border-top:4px solid white;position:absolute;left:0%;top:10%}.navbar2Text[_ngcontent-%COMP%]{height:47px;color:#fff;font-size:20px;font-family:Verdana;font-weight:600;word-wrap:break-word;text-align:center;display:inline-block;vertical-align:middle;line-height:240%;border-top:4px solid white}#usernameText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:80%;top:10%}#ProyectosText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:20%;top:10%;border-right:4px solid white}#MuestrasText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:60%;top:10%;border-right:4px solid white}#UnidadText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:40%;top:10%;border-right:4px solid white}#cerrarText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:0%;top:10%;border-right:4px solid white}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.homeBox[_ngcontent-%COMP%]{background-color:#3ec28f;border-right:2px solid white;width:20%;height:15%;position:absolute;left:0;top:0%}.homeText[_ngcontent-%COMP%]{display:none}.homeLogo[_ngcontent-%COMP%]{position:relative;top:30%;left:25%;width:36px;height:36px;text-align:center;background-image:url(home.a5ce65d54c28e165.png);background-repeat:no-repeat;background-size:cover}.tituloBox[_ngcontent-%COMP%]{background-color:#3ec28f;width:80%;height:15%;position:absolute;left:20%;top:0%;text-align:center}.tituloText[_ngcontent-%COMP%]{color:#fff;line-height:1.6;display:inline-block;vertical-align:middle;font-family:Verdana;font-size:32px;letter-spacing:0px}.logoCiens[_ngcontent-%COMP%]{width:45px;height:35px;position:absolute;left:85%;top:1.5%;background-image:url(Logo-Agronomia2.2ed90bcafa53fa56.png);background-repeat:no-repeat;background-size:cover}.logoUcv[_ngcontent-%COMP%]{width:35px;height:35px;position:absolute;left:22%;top:1.5%;background-image:url(logo_ucv_bg2_1.32a61806277cba42.png);background-repeat:no-repeat;background-size:cover}.navbar2Box[_ngcontent-%COMP%]{width:100%;height:5%;background:#3ec28f;border-top:2px solid white;position:absolute;left:0%;top:15%}.navbar2Text[_ngcontent-%COMP%]{height:5%;color:#fff;font-size:10px;font-family:Verdana;font-weight:600;word-wrap:break-word;text-align:center;display:inline-block;vertical-align:middle;line-height:1.6;border-top:2px solid white}#usernameText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:80%;top:15%;padding-top:7px}#UnidadText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:40%;top:15%;border-right:2px solid white;padding-top:7px}#ProyectosText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:20%;top:15%;border-right:2px solid white;padding-top:7px}#MuestrasText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:60%;top:15%;border-right:2px solid white;padding-top:7px}#ClientesText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:80%;top:15%;padding-top:7px}#cerrarText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:0%;top:15%;border-right:2px solid white}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:15%;left:0%;top:0%}}"]})}return t})();const gxe=[{path:"",redirectTo:"auth/select",pathMatch:"full"},{path:"home",component:uxe},{path:"admin",component:hxe,canActivate:[fxe]},{path:"auth",component:nz},{path:"user",component:NH},{path:"client",component:RH},{path:"print/:id/:num",component:pxe}];let FH=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=on({type:t});static#n=this.\u0275inj=en({imports:[uo.forRoot(gxe),uo]})}return t})(),mxe=(()=>{class t{constructor(n,r,i){this.auth=n,this.router=r,this.title="gestion-muestras"}handleSignOut(){wr(this.auth).then(()=>{}).catch(n=>{console.log("here")})}static#e=this.\u0275fac=function(r){return new(r||t)(I(ze),I(Te),I(ot))};static#t=this.\u0275cmp=je({type:t,selectors:[["app-root"]],decls:2,vars:0,consts:[[1,"base"]],template:function(r,i){1&r&&ee(0,"div",0)(1,"router-outlet")},dependencies:[Au],styles:[".base[_ngcontent-%COMP%]{position:absolute;margin:0;width:100%;height:100%;top:0;left:0;background-repeat:repeat;background-image:url(CaptureLeafRepeat.9580363f86481f4f.png);opacity:.1}"]})}return t})();const _xe_firebase={projectId:"gestion-de-muestras-de-c-fabe0",appId:"1:881625861704:web:1da279954953bf7e3ad27d",databaseURL:"https://gestion-de-muestras-de-c-fabe0-default-rtdb.firebaseio.com",storageBucket:"gestion-de-muestras-de-c-fabe0.appspot.com",apiKey:"AIzaSyD0Py3MA2BD1yEsMg4wM9RDhbNgmEAxZPk",authDomain:"gestion-de-muestras-de-c-fabe0.firebaseapp.com",messagingSenderId:"881625861704",measurementId:"G-PTHV8B640J"},LH="@firebase/database";let DO="";class vxe{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){null==n?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),_r(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return null==n?null:Rf(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class bxe{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){null==n?delete this.cache_[e]:this.cache_[e]=n}get(e){return Vo(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const UH=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new vxe(e)}}catch{}return new bxe},sl=UH("localStorage"),MO=UH("sessionStorage"),Pd=new Ec("@firebase/database"),BH=function(){let t=1;return function(){return t++}}(),jH=function(t){const e=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const o=i-55296;r++,ne(r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(o<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}(t),n=new zde;n.update(e);const r=n.digest();return Ry.encodeByteArray(r)},bg=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=bg.apply(null,r):e+="object"==typeof r?_r(r):r,e+=" "}return e};let al=null,zH=!0;const dr=function(...t){if(!0===zH&&(zH=!1,null===al&&!0===MO.get("logging_enabled")&&function(t,e){ne(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(Pd.logLevel=rt.VERBOSE,al=Pd.log.bind(Pd),e&&MO.set("logging_enabled",!0)):"function"==typeof t?al=t:(al=null,MO.remove("logging_enabled"))}(!0)),al){const e=bg.apply(null,t);al(e)}},wg=function(t){return function(...e){dr(t,...e)}},SO=function(...t){const e="FIREBASE INTERNAL ERROR: "+bg(...t);Pd.error(e)},Jo=function(...t){const e=`FIREBASE FATAL ERROR: ${bg(...t)}`;throw Pd.error(e),new Error(e)},Br=function(...t){const e="FIREBASE WARNING: "+bg(...t);Pd.warn(e)},K0=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Ba="[MIN_NAME]",js="[MAX_NAME]",cl=function(t,e){if(t===e)return 0;if(t===Ba||e===js)return-1;if(e===Ba||t===js)return 1;{const n=qH(t),r=qH(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1}},xxe=function(t,e){return t===e?0:t<e?-1:1},Cg=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+_r(e))},AO=function(t){if("object"!=typeof t||null===t)return _r(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)0!==r&&(n+=","),n+=_r(e[r]),n+=":",n+=AO(t[e[r]]);return n+="}",n},HH=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)r.push(t.substring(i,i+e>n?n:i+e));return r};function hr(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const GH=function(t){ne(!K0(t),"Invalid JSON number");const r=1023;let i,o,s,a,c;0===t?(o=0,s=0,i=1/t==-1/0?1:0):(i=t<0,(t=Math.abs(t))>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=a+r,s=Math.round(t*Math.pow(2,52-a)-Math.pow(2,52))):(o=0,s=Math.round(t/Math.pow(2,-1074))));const l=[];for(c=52;c;c-=1)l.push(s%2?1:0),s=Math.floor(s/2);for(c=11;c;c-=1)l.push(o%2?1:0),o=Math.floor(o/2);l.push(i?1:0),l.reverse();const u=l.join("");let d="";for(c=0;c<64;c+=8){let h=parseInt(u.substr(c,8),2).toString(16);1===h.length&&(h="0"+h),d+=h}return d.toLowerCase()},Dxe=new RegExp("^-?(0*)\\d{1,10}$"),qH=function(t){if(Dxe.test(t)){const e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},Nd=function(t){try{t()}catch(e){setTimeout(()=>{throw Br("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},xg=function(t,e){const n=setTimeout(t,e);return"number"==typeof n&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):"object"==typeof n&&n.unref&&n.unref(),n};class kxe{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;null===(n=this.appCheckProvider)||void 0===n||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Br(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Oxe{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&"auth/token-not-initialized"===n.code?(dr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Br(e)}}let Eg=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}return t.OWNER="owner",t})();const XH=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,eG="websocket",tG="long_polling";class OO{constructor(e,n,r,i,o=!1,s="",a=!1,c=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=sl.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&sl.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function nG(t,e,n){let r;if(ne("string"==typeof e,"typeof type must == string"),ne("object"==typeof n,"typeof params must == object"),e===eG)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if(e!==tG)throw new Error("Unknown connection type: "+e);r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}(function Pxe(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams})(t)&&(n.ns=t.namespace);const i=[];return hr(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}class Nxe{constructor(){this.counters_={}}incrementCounter(e,n=1){Vo(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return Mde(this.counters_)}}const PO={},NO={};function RO(t){const e=t.toString();return PO[e]||(PO[e]=new Nxe),PO[e]}class Fxe{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Nd(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class ja{constructor(e,n,r,i,o,s,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=wg(e),this.stats_=RO(n),this.urlFn=c=>(this.appCheckToken&&(c.ac=this.appCheckToken),nG(n,tG,c))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Fxe(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(t){if("complete"===document.readyState)t();else{let e=!1;const n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new FO((...o)=>{const[s,a,c,l,u]=o;if(this.incrementIncomingBytes_(o),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===s)this.id=a,this.password=c;else{if("close"!==s)throw new Error("Unrecognized command received: "+s);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...o)=>{const[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&XH.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ja.forceAllow_=!0}static forceDisallow(){ja.forceDisallow_=!0}static isAvailable(){return!(!ja.forceAllow_&&(ja.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=_r(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=J9(n),i=HH(r,1840);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=_r(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class FO{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=BH(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=FO.createIFrame_();let o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(o='<script>document.domain="'+document.domain+'";<\/script>');const s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){dr("frame writing exception"),a.stack&&dr(a.stack),dr(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||dr("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const s=this.pendingSegs.shift();r=r+"&seg"+i+"="+s.seg+"&ts"+i+"="+s.ts+"&d"+i+"="+s.d,i++}return n+=r,this.addLongPollTag_(n,this.currentSerial),!0}return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(i),r()})}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{dr("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let Y0=null;typeof MozWebSocket<"u"?Y0=MozWebSocket:typeof WebSocket<"u"&&(Y0=WebSocket);let Rd=(()=>{class t{constructor(n,r,i,o,s,a,c){this.connId=n,this.applicationId=i,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=wg(this.connId),this.stats_=RO(r),this.connURL=t.connectionURL_(r,a,c,o,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,o,s){const a={v:"5"};return typeof location<"u"&&location.hostname&&XH.test(location.hostname)&&(a.r="f"),r&&(a.s=r),i&&(a.ls=i),o&&(a.ac=o),s&&(a.p=s),nG(n,eG,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,sl.set("previous_websocket_failure",!0);try{let i;0,this.mySock=new Y0(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const o=i.message||i.data;return o&&this.log_(o),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&null!==Y0&&!t.forceDisallow_}static previouslyFailed(){return sl.isInMemoryStorage||!0===sl.get("previous_websocket_failure")}markConnectionHealthy(){sl.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=Rf(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(ne(null===this.frames,"We already have a frame buffer"),n.length<=6){const r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(null===this.mySock)return;const r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();const r=_r(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=HH(r,16384);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t})(),lG=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[ja,Rd]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){const r=Rd&&Rd.isAvailable();let i=r&&!Rd.previouslyFailed();if(n.webSocketOnly&&(r||Br("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Rd];else{const o=this.transports_=[];for(const s of t.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return t.globalTransportInitialized_=!1,t})();class mG{constructor(e,n,r,i,o,s,a,c,l,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=c,this.onKill_=l,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=wg("c:"+this.id+":"),this.transportManager_=new lG(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=xg(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const n=e.t;"a"===n?this.upgradeIfSecondaryHealthy_():"r"===n?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===n&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Cg("t",e),r=Cg("d",e);if("c"===n)this.onSecondaryControl_(r);else{if("d"!==n)throw new Error("Unknown protocol layer: "+n);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Cg("t",e),r=Cg("d",e);"c"===n?this.onControl_(r):"d"===n&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Cg("t",e);if("d"in e){const r=e.d;if("h"===n){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if("n"===n){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===n?this.onConnectionShutdown_(r):"r"===n?this.onReset_(r):"e"===n?SO("Server Error: "+r):"o"===n?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):SO("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),"5"!==r&&Br("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),xg(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):xg(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(sl.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class _G{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}class yG{constructor(e){this.allowedEvents_=e,this.listeners_={},ne(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context))return void i.splice(o,1)}validateEventType_(e){ne(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}class X0 extends yG{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!VE()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new X0}getInitialEvent(e){return ne("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class yt{constructor(e,n){if(void 0===n){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)""!==this.pieces_[n]&&(e+="/"+this.pieces_[n]);return e||"/"}}function dt(){return new yt("")}function He(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function za(t){return t.pieces_.length-t.pieceNum_}function At(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new yt(t.pieces_,e)}function VO(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Ig(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function wG(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new yt(e,0)}function rn(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof yt)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new yt(n,0)}function Ge(t){return t.pieceNum_>=t.pieces_.length}function ei(t,e){const n=He(t),r=He(e);if(null===n)return e;if(n===r)return ei(At(t),At(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function UO(t,e){if(za(t)!==za(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function qi(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(za(t)>za(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class oEe{constructor(e,n){this.errorPrefix_=n,this.parts_=Ig(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=zy(this.parts_[r]);CG(this)}}function CG(t){if(t.byteLength_>768)throw new Error(t.errorPrefix_+"has a key path longer than 768 bytes ("+t.byteLength_+").");if(t.parts_.length>32)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+ll(t))}function ll(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}class BO extends yG{constructor(){let e,n;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new BO}getInitialEvent(e){return ne("visible"===e,"Unknown event type: "+e),[this.visible_]}}const Tg=1e3;let Z0,ul=(()=>{class t extends _G{constructor(n,r,i,o,s,a,c,l){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=l,this.id=t.nextPersistentConnectionId_++,this.log_=wg("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Tg,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");BO.getInstance().on("visible",this.onVisible_,this),-1===n.host.indexOf("fblocal")&&X0.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){const o=++this.requestNumber_,s={r:o,a:n,b:r};this.log_(_r(s)),ne(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[o]=i)}get(n){this.initConnection_();const r=new Lu,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{const c=a.d;"ok"===a.s?r.resolve(c):r.reject(c)}};return this.outstandingGets_.push(o),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(n,r,i,o){this.initConnection_();const s=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),ne(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ne(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");const c={onComplete:o,hashFn:r,query:n,tag:i};this.listens.get(a).set(s,c),this.connected_&&this.sendListen_(c)}sendGet_(n){const r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){const r=n.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);const s={p:i};n.tag&&(s.q=r._queryObject,s.t=n.tag),s.h=n.hashFn(),this.sendRequest("q",s,c=>{const l=c.d,u=c.s;t.warnOnListenWarnings_(l,r),(this.listens.get(i)&&this.listens.get(i).get(o))===n&&(this.log_("listen response",c),"ok"!==u&&this.removeListen_(i,o),n.onComplete&&n.onComplete(u,l))})}static warnOnListenWarnings_(n,r){if(n&&"object"==typeof n&&Vo(n,"w")){const i=Vu(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',s=r._path.toString();Br(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&40===n.length||function(t){const e=Uy(t).claims;return"object"==typeof e&&!0===e.admin}(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,r=function(t){const n=Uy(t).claims;return!!n&&"object"==typeof n&&n.hasOwnProperty("iat")}(n)?"auth":"gauth",i={cred:n};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,o=>{const s=o.s,a=o.d||"error";this.authToken_===n&&("ok"===s?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const r=n.s,i=n.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){const i=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),ne(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,n._queryObject,r)}sendUnlisten_(n,r,i,o){this.log_("Unlisten on "+n+" for "+r);const s={p:n};o&&(s.q=i,s.t=o),this.sendRequest("n",s)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,o){const s={p:r,d:i};this.log_("onDisconnect "+n,s),this.sendRequest(n,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(n,r,i,o){this.putInternal("p",n,r,i,o)}merge(n,r,i,o){this.putInternal("m",n,r,i,o)}putInternal(n,r,i,o,s){this.initConnection_();const a={p:r,d:i};void 0!==s&&(a.h=s),this.outstandingPuts_.push({action:n,request:a,onComplete:o}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(n){const r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,s=>{this.log_(r+" response",s),delete this.outstandingPuts_[n],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(n){if(this.connected_){const r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+_r(n));const r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),"d"===n?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===n?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===n?this.onListenRevoked_(r.p,r.q):"ac"===n?this.onAuthRevoked_(r.s,r.d):"apc"===n?this.onAppCheckRevoked_(r.s,r.d):"sd"===n?this.onSecurityDebugPacket_(r):SO("Unrecognized action received from server: "+_r(n)+"\nAre you using the latest client?")}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){ne(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Tg,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Tg,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Tg),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const n=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var n=this;return m(function*(){if(n.shouldReconnect_()){n.log_("Making a connection attempt"),n.lastConnectionAttemptTime_=(new Date).getTime(),n.lastConnectionEstablishedTime_=null;const r=n.onDataMessage_.bind(n),i=n.onReady_.bind(n),o=n.onRealtimeDisconnect_.bind(n),s=n.id+":"+t.nextConnectionId_++,a=n.lastSessionId;let c=!1,l=null;const u=function(){l?l.close():(c=!0,o())};n.realtime_={close:u,sendRequest:function(f){ne(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(f)}};const h=n.forceTokenRefresh_;n.forceTokenRefresh_=!1;try{const[f,b]=yield Promise.all([n.authTokenProvider_.getToken(h),n.appCheckTokenProvider_.getToken(h)]);c?dr("getToken() completed but was canceled"):(dr("getToken() completed. Creating connection."),n.authToken_=f&&f.accessToken,n.appCheckToken_=b&&b.token,l=new mG(s,n.repoInfo_,n.applicationId_,n.appCheckToken_,n.authToken_,r,i,o,x=>{Br(x+" ("+n.repoInfo_.toString()+")"),n.interrupt("server_kill")},a))}catch(f){n.log_("Failed to get token: "+f),c||(n.repoInfo_.nodeAdmin&&Br(f),u())}}})()}interrupt(n){dr("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){dr("Resuming connection for reason: "+n),delete this.interruptReasons_[n],jE(this.interruptReasons_)&&(this.reconnectDelay_=Tg,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const r=n-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;i=r?r.map(s=>AO(s)).join("$"):"default";const o=this.removeListen_(n,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,r){const i=new yt(n).toString();let o;if(this.listens.has(i)){const s=this.listens.get(i);o=s.get(r),s.delete(r),0===s.size&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(n,r){dr("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===n||"permission_denied"===n)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){dr("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===n||"permission_denied"===n)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let r="js";n["sdk."+r+"."+DO.replace(/\./g,"-")]=1,VE()?n["framework.cordova"]=1:iB()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=X0.getInstance().currentlyOnline();return jE(this.interruptReasons_)&&n}}return t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t})();class Qe{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Qe(e,n)}}class J0{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Qe(Ba,e),i=new Qe(Ba,n);return 0!==this.compare(r,i)}minPost(){return Qe.MIN}}class IG extends J0{static get __EMPTY_NODE(){return Z0}static set __EMPTY_NODE(e){Z0=e}compare(e,n){return cl(e.name,n.name)}isDefinedOn(e){throw Fu("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Qe.MIN}maxPost(){return new Qe(js,Z0)}makePost(e,n){return ne("string"==typeof e,"KeyIndex indexValue must always be a string."),new Qe(e,Z0)}toString(){return".key"}}const Zo=new IG;class eb{constructor(e,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,i&&(s*=-1),s<0)e=this.isReverse_?e.left:e.right;else{if(0===s){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let n,e=this.nodeStack_.pop();if(n=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let zO,mo=(()=>{class t{constructor(n,r,i,o,s){this.key=n,this.value=r,this.color=i??t.RED,this.left=o??vi.EMPTY_NODE,this.right=s??vi.EMPTY_NODE}copy(n,r,i,o,s){return new t(n??this.key,r??this.value,i??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let o=this;const s=i(n,o.key);return o=s<0?o.copy(null,null,null,o.left.insert(n,r,i),null):0===s?o.copy(null,r,null,null,null):o.copy(null,null,null,null,o.right.insert(n,r,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return vi.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,o;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(n,i.key)){if(i.right.isEmpty())return vi.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})();class vi{constructor(e,n=vi.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new vi(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,mo.BLACK,null,null))}remove(e){return new vi(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,mo.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),0===n)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),0===n){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}n<0?r=r.left:n>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new eb(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new eb(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new eb(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new eb(this.root_,null,this.comparator_,!0,e)}}function fEe(t,e){return cl(t.name,e.name)}function jO(t,e){return cl(t,e)}vi.EMPTY_NODE=new class hEe{copy(e,n,r,i,o){return this}insert(e,n,r){return new mo(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const TG=function(t){return"number"==typeof t?"number:"+GH(t):"string:"+t},DG=function(t){if(t.isLeafNode()){const e=t.val();ne("string"==typeof e||"number"==typeof e||"object"==typeof e&&Vo(e,".sv"),"Priority must be a string or number.")}else ne(t===zO||t.isEmpty(),"priority of unexpected type.");ne(t===zO||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let MG,SG,AG,Fd=(()=>{class t{constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,ne(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),DG(this.priorityNode_)}static set __childrenNodeConstructor(n){MG=n}static get __childrenNodeConstructor(){return MG}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return".priority"===n?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return Ge(n)?this:".priority"===He(n)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return".priority"===n?this.updatePriority(r):r.isEmpty()&&".priority"!==n?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){const i=He(n);return null===i?r:r.isEmpty()&&".priority"!==i?this:(ne(".priority"!==i||1===za(n),".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(At(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+TG(this.priorityNode_.val())+":");const r=typeof this.value_;n+=r+":",n+="number"===r?GH(this.value_):this.value_,this.lazyHash_=jH(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(ne(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const r=typeof n.value_,i=typeof this.value_,o=t.VALUE_TYPE_ORDER.indexOf(r),s=t.VALUE_TYPE_ORDER.indexOf(i);return ne(o>=0,"Unknown leaf type: "+r),ne(s>=0,"Unknown leaf type: "+i),o===s?"object"===i?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(n){return n===this||!!n.isLeafNode()&&(this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_))}}return t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t})();const jt=new class _Ee extends J0{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return 0===o?cl(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Qe.MIN}maxPost(){return new Qe(js,new Fd("[PRIORITY-POST]",AG))}makePost(e,n){const r=SG(e);return new Qe(n,new Fd("[PRIORITY-POST]",r))}toString(){return".priority"}},yEe=Math.log(2);class vEe{constructor(e){this.count=parseInt(Math.log(e+1)/yEe,10),this.current_=this.count-1;const i=(o=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const tb=function(t,e,n,r){t.sort(e);const i=function(c,l){const u=l-c;let d,h;if(0===u)return null;if(1===u)return d=t[c],h=n?n(d):d,new mo(h,d.node,mo.BLACK,null,null);{const f=parseInt(u/2,10)+c,b=i(c,f),x=i(f+1,l);return d=t[f],h=n?n(d):d,new mo(h,d.node,mo.BLACK,b,x)}},a=function(c){let l=null,u=null,d=t.length;const h=function(b,x){const T=d-b,P=d;d-=b;const k=i(T+1,P),H=t[T],X=n?n(H):H;f(new mo(X,H.node,x,null,k))},f=function(b){l?(l.left=b,l=b):(u=b,l=b)};for(let b=0;b<c.count;++b){const x=c.nextBitIsOne(),T=Math.pow(2,c.count-(b+1));x?h(T,mo.BLACK):(h(T,mo.BLACK),h(T,mo.RED))}return u}(new vEe(t.length));return new vi(r||e,a)};let $O;const Ld={};class zs{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return ne(Ld&&jt,"ChildrenNode.ts has not been loaded"),$O=$O||new zs({".priority":Ld},{".priority":jt}),$O}get(e){const n=Vu(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof vi?n:null}hasIndex(e){return Vo(this.indexSet_,e.toString())}addIndex(e,n){ne(e!==Zo,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const o=n.getIterator(Qe.Wrap);let a,s=o.getNext();for(;s;)i=i||e.isDefinedOn(s.node),r.push(s),s=o.getNext();a=i?tb(r,e.getCompare()):Ld;const c=e.toString(),l=Object.assign({},this.indexSet_);l[c]=e;const u=Object.assign({},this.indexes_);return u[c]=a,new zs(u,l)}addToIndexes(e,n){const r=By(this.indexes_,(i,o)=>{const s=Vu(this.indexSet_,o);if(ne(s,"Missing index implementation for "+o),i===Ld){if(s.isDefinedOn(e.node)){const a=[],c=n.getIterator(Qe.Wrap);let l=c.getNext();for(;l;)l.name!==e.name&&a.push(l),l=c.getNext();return a.push(e),tb(a,s.getCompare())}return Ld}{const a=n.get(e.name);let c=i;return a&&(c=c.remove(new Qe(e.name,a))),c.insert(e,e.node)}});return new zs(r,this.indexSet_)}removeFromIndexes(e,n){const r=By(this.indexes_,i=>{if(i===Ld)return i;{const o=n.get(e.name);return o?i.remove(new Qe(e.name,o)):i}});return new zs(r,this.indexSet_)}}let Dg,Le=(()=>{class t{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&DG(this.priorityNode_),this.children_.isEmpty()&&ne(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Dg||(Dg=new t(new vi(jO),null,zs.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Dg}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(".priority"===n)return this.getPriority();{const r=this.children_.get(n);return null===r?Dg:r}}getChild(n){const r=He(n);return null===r?this:this.getImmediateChild(r).getChild(At(n))}hasChild(n){return null!==this.children_.get(n)}updateImmediateChild(n,r){if(ne(r,"We should always be passing snapshot nodes"),".priority"===n)return this.updatePriority(r);{const i=new Qe(n,r);let o,s;r.isEmpty()?(o=this.children_.remove(n),s=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(n,r),s=this.indexMap_.addToIndexes(i,this.children_));const a=o.isEmpty()?Dg:this.priorityNode_;return new t(o,a,s)}}updateChild(n,r){const i=He(n);if(null===i)return r;{ne(".priority"!==He(n)||1===za(n),".priority must be the last token in a path");const o=this.getImmediateChild(i).updateChild(At(n),r);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const r={};let i=0,o=0,s=!0;if(this.forEachChild(jt,(a,c)=>{r[a]=c.val(n),i++,s&&t.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!n&&s&&o<2*i){const a=[];for(const c in r)a[c]=r[c];return a}return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let n="";this.getPriority().isEmpty()||(n+="priority:"+TG(this.getPriority().val())+":"),this.forEachChild(jt,(r,i)=>{const o=i.hash();""!==o&&(n+=":"+r+":"+o)}),this.lazyHash_=""===n?"":jH(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){const o=this.resolveIndex_(i);if(o){const s=o.getPredecessorKey(new Qe(n,r));return s?s.name:null}return this.children_.getPredecessorKey(n)}getFirstChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(n){const r=this.getFirstChildName(n);return r?new Qe(r,this.children_.get(r)):null}getLastChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(n){const r=this.getLastChildName(n);return r?new Qe(r,this.children_.get(r)):null}forEachChild(n,r){const i=this.resolveIndex_(n);return i?i.inorderTraversal(o=>r(o.name,o.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,o=>o);{const o=this.children_.getIteratorFrom(n.name,Qe.Wrap);let s=o.peek();for(;null!=s&&r.compare(s,n)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,o=>o);{const o=this.children_.getReverseIteratorFrom(n.name,Qe.Wrap);let s=o.peek();for(;null!=s&&r.compare(s,n)>0;)o.getNext(),s=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===Mg?-1:0}withIndex(n){if(n===Zo||this.indexMap_.hasIndex(n))return this;{const r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===Zo||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const r=n;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(jt),o=r.getIterator(jt);let s=i.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=i.getNext(),a=o.getNext()}return null===s&&null===a}return!1}return!1}}resolveIndex_(n){return n===Zo?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})();const Mg=new class bEe extends Le{constructor(){super(new vi(jO),Le.EMPTY_NODE,zs.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Le.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Qe,{MIN:{value:new Qe(Ba,Le.EMPTY_NODE)},MAX:{value:new Qe(js,Mg)}}),IG.__EMPTY_NODE=Le.EMPTY_NODE,Fd.__childrenNodeConstructor=Le,function pEe(t){zO=t}(Mg),function mEe(t){AG=t}(Mg);const wEe=!0;function dn(t,e=null){if(null===t)return Le.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),ne(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new Fd(t,dn(e));if(t instanceof Array||!wEe){let n=Le.EMPTY_NODE;return hr(t,(r,i)=>{if(Vo(t,r)&&"."!==r.substring(0,1)){const o=dn(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(dn(e))}{const n=[];let r=!1;if(hr(t,(s,a)=>{if("."!==s.substring(0,1)){const c=dn(a);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),n.push(new Qe(s,c)))}}),0===n.length)return Le.EMPTY_NODE;const o=tb(n,fEe,s=>s.name,jO);if(r){const s=tb(n,jt.getCompare());return new Le(o,dn(e),new zs({".priority":s},{".priority":jt}))}return new Le(o,dn(e),zs.Default)}}!function gEe(t){SG=t}(dn);class HO extends J0{constructor(e){super(),this.indexPath_=e,ne(!Ge(e)&&".priority"!==He(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),o=r.compareTo(i);return 0===o?cl(e.name,n.name):o}makePost(e,n){const r=dn(e),i=Le.EMPTY_NODE.updateChild(this.indexPath_,r);return new Qe(n,i)}maxPost(){const e=Le.EMPTY_NODE.updateChild(this.indexPath_,Mg);return new Qe(js,e)}toString(){return Ig(this.indexPath_,0).join("/")}}const GO=new class CEe extends J0{compare(e,n){const r=e.node.compareTo(n.node);return 0===r?cl(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Qe.MIN}maxPost(){return Qe.MAX}makePost(e,n){const r=dn(e);return new Qe(n,r)}toString(){return".value"}};function Ag(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}class WO{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=jt}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return ne(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ne(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ba}hasEnd(){return this.endSet_}getIndexEndValue(){return ne(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ne(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:js}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return ne(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===jt}copy(){const e=new WO;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function OG(t){const e={};if(t.isDefault())return e;let n;if(t.index_===jt?n="$priority":t.index_===GO?n="$value":t.index_===Zo?n="$key":(ne(t.index_ instanceof HO,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=_r(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=_r(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+_r(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=_r(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+_r(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function PG(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;""===n&&(n=t.isViewFromLeft()?"l":"r"),e.vf=n}return t.index_!==jt&&(e.i=t.index_.toString()),e}class rb extends _G{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=wg("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return void 0!==n?"tag$"+n:(ne(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const s=rb.getListenId_(e,r),a={};this.listens_[s]=a;const c=OG(e._queryParams);this.restRequest_(o+".json",c,(l,u)=>{let d=u;if(404===l&&(d=null,l=null),null===l&&this.onDataUpdate_(o,d,!1,r),Vu(this.listens_,s)===a){let h;h=l?401===l?"permission_denied":"rest_error:"+l:"ok",i(h,null)}})}unlisten(e,n){const r=rb.getListenId_(e,n);delete this.listens_[r]}get(e){const n=OG(e._queryParams),r=e._path.toString(),i=new Lu;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;404===o&&(a=null,o=null),null===o?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Uu(n);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&4===a.readyState){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=Rf(a.responseText)}catch{Br("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,c)}else 401!==a.status&&404!==a.status&&Br("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}}class AEe{constructor(){this.rootNode_=Le.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}function ib(){return{value:null,children:new Map}}function Ud(t,e,n){if(Ge(e))t.value=n,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(e,n);else{const r=He(e);t.children.has(r)||t.children.set(r,ib()),Ud(t.children.get(r),e=At(e),n)}}function XO(t,e,n){null!==t.value?n(e,t.value):function kEe(t,e){t.children.forEach((n,r)=>{e(r,n)})}(t,(r,i)=>{XO(i,new yt(e.toString()+"/"+r),n)})}class OEe{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&hr(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}class REe{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new OEe(e);const r=1e4+2e4*Math.random();xg(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;hr(e,(i,o)=>{o>0&&Vo(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),xg(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var es=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(es||{});function eP(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}class ob{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=es.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(Ge(this.path)){if(null!=this.affectedTree.value)return ne(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new yt(e));return new ob(dt(),n,this.revert)}}return ne(He(this.path)===e,"operationForChild called for unrelated child."),new ob(At(this.path),this.affectedTree,this.revert)}}class dl{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=es.OVERWRITE}operationForChild(e){return Ge(this.path)?new dl(this.source,dt(),this.snap.getImmediateChild(e)):new dl(this.source,At(this.path),this.snap)}}class Bd{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=es.MERGE}operationForChild(e){if(Ge(this.path)){const n=this.children.subtree(new yt(e));return n.isEmpty()?null:n.value?new dl(this.source,dt(),n.value):new Bd(this.source,dt(),n)}return ne(He(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Bd(this.source,At(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class $a{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Ge(e))return this.isFullyInitialized()&&!this.filtered_;const n=He(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function Pg(t,e,n,r,i,o){const s=r.filter(a=>a.type===n);s.sort((a,c)=>function UEe(t,e,n){if(null==e.childName||null==n.childName)throw Fu("Should only compare child_ events.");const r=new Qe(e.childName,e.snapshotNode),i=new Qe(n.childName,n.snapshotNode);return t.index_.compare(r,i)}(t,a,c)),s.forEach(a=>{const c=function VEe(t,e,n){return"value"===e.type||"child_removed"===e.type||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}(t,a,o);i.forEach(l=>{l.respondsTo(a.type)&&e.push(l.createEvent(c,t.query_))})})}function sb(t,e){return{eventCache:t,serverCache:e}}function Ng(t,e,n,r){return sb(new $a(e,n,r),t.serverCache)}function RG(t,e,n,r){return sb(t.eventCache,new $a(e,n,r))}function ab(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function hl(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}let tP;class zt{constructor(e,n=(()=>(tP||(tP=new vi(xxe)),tP))()){this.value=e,this.children=n}static fromObject(e){let n=new zt(null);return hr(e,(r,i)=>{n=n.set(new yt(r),i)}),n}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(null!=this.value&&n(this.value))return{path:dt(),value:this.value};if(Ge(e))return null;{const r=He(e),i=this.children.get(r);if(null!==i){const o=i.findRootMostMatchingPathAndValue(At(e),n);return null!=o?{path:rn(new yt(r),o.path),value:o.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Ge(e))return this;{const n=He(e),r=this.children.get(n);return null!==r?r.subtree(At(e)):new zt(null)}}set(e,n){if(Ge(e))return new zt(n,this.children);{const r=He(e),o=(this.children.get(r)||new zt(null)).set(At(e),n),s=this.children.insert(r,o);return new zt(this.value,s)}}remove(e){if(Ge(e))return this.children.isEmpty()?new zt(null):new zt(null,this.children);{const n=He(e),r=this.children.get(n);if(r){const i=r.remove(At(e));let o;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new zt(null):new zt(this.value,o)}return this}}get(e){if(Ge(e))return this.value;{const n=He(e),r=this.children.get(n);return r?r.get(At(e)):null}}setTree(e,n){if(Ge(e))return n;{const r=He(e),o=(this.children.get(r)||new zt(null)).setTree(At(e),n);let s;return s=o.isEmpty()?this.children.remove(r):this.children.insert(r,o),new zt(this.value,s)}}fold(e){return this.fold_(dt(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(rn(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,dt(),n)}findOnPath_(e,n,r){const i=!!this.value&&r(n,this.value);if(i)return i;if(Ge(e))return null;{const o=He(e),s=this.children.get(o);return s?s.findOnPath_(At(e),rn(n,o),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,dt(),n)}foreachOnPath_(e,n,r){if(Ge(e))return this;{this.value&&r(n,this.value);const i=He(e),o=this.children.get(i);return o?o.foreachOnPath_(At(e),rn(n,i),r):new zt(null)}}foreach(e){this.foreach_(dt(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(rn(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}class _o{constructor(e){this.writeTree_=e}static empty(){return new _o(new zt(null))}}function Rg(t,e,n){if(Ge(e))return new _o(new zt(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(null!=r){const i=r.path;let o=r.value;const s=ei(i,e);return o=o.updateChild(s,n),new _o(t.writeTree_.set(i,o))}{const i=new zt(n),o=t.writeTree_.setTree(e,i);return new _o(o)}}}function nP(t,e,n){let r=t;return hr(n,(i,o)=>{r=Rg(r,rn(e,i),o)}),r}function FG(t,e){if(Ge(e))return _o.empty();{const n=t.writeTree_.setTree(e,new zt(null));return new _o(n)}}function rP(t,e){return null!=fl(t,e)}function fl(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return null!=n?t.writeTree_.get(n.path).getChild(ei(n.path,e)):null}function LG(t){const e=[],n=t.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(jt,(r,i)=>{e.push(new Qe(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&e.push(new Qe(r,i.value))}),e}function Ha(t,e){if(Ge(e))return t;{const n=fl(t,e);return new _o(null!=n?new zt(n):t.writeTree_.subtree(e))}}function iP(t){return t.writeTree_.isEmpty()}function jd(t,e){return VG(dt(),t.writeTree_,e)}function VG(t,e,n){if(null!=e.value)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,o)=>{".priority"===i?(ne(null!==o.value,"Priority writes must always be leaf nodes"),r=o.value):n=VG(rn(t,i),o,n)}),!n.getChild(t).isEmpty()&&null!==r&&(n=n.updateChild(rn(t,".priority"),r)),n}}function cb(t,e){return $G(e,t)}function GEe(t,e){if(t.snap)return qi(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&qi(rn(t.path,n),e))return!0;return!1}function WEe(t){return t.visible}function UG(t,e,n){let r=_o.empty();for(let i=0;i<t.length;++i){const o=t[i];if(e(o)){const s=o.path;let a;if(o.snap)qi(n,s)?(a=ei(n,s),r=Rg(r,a,o.snap)):qi(s,n)&&(a=ei(s,n),r=Rg(r,dt(),o.snap.getChild(a)));else{if(!o.children)throw Fu("WriteRecord should have .snap or .children");if(qi(n,s))a=ei(n,s),r=nP(r,a,o.children);else if(qi(s,n))if(a=ei(s,n),Ge(a))r=nP(r,dt(),o.children);else{const c=Vu(o.children,He(a));if(c){const l=c.getChild(At(a));r=Rg(r,dt(),l)}}}}}return r}function BG(t,e,n,r,i){if(r||i){const o=Ha(t.visibleWrites,e);return!i&&iP(o)?n:i||null!=n||rP(o,dt())?jd(UG(t.allWrites,function(l){return(l.visible||i)&&(!r||!~r.indexOf(l.writeId))&&(qi(l.path,e)||qi(e,l.path))},e),n||Le.EMPTY_NODE):null}{const o=fl(t.visibleWrites,e);if(null!=o)return o;{const s=Ha(t.visibleWrites,e);return iP(s)?n:null!=n||rP(s,dt())?jd(s,n||Le.EMPTY_NODE):null}}}function lb(t,e,n,r){return BG(t.writeTree,t.treePath,e,n,r)}function oP(t,e){return function KEe(t,e,n){let r=Le.EMPTY_NODE;const i=fl(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(jt,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){const o=Ha(t.visibleWrites,e);return n.forEachChild(jt,(s,a)=>{const c=jd(Ha(o,new yt(s)),a);r=r.updateImmediateChild(s,c)}),LG(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}return LG(Ha(t.visibleWrites,e)).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}(t.writeTree,t.treePath,e)}function jG(t,e,n,r){return function QEe(t,e,n,r,i){ne(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=rn(e,n);if(rP(t.visibleWrites,o))return null;{const s=Ha(t.visibleWrites,o);return iP(s)?i.getChild(n):jd(s,i.getChild(n))}}(t.writeTree,t.treePath,e,n,r)}function ub(t,e){return function XEe(t,e){return fl(t.visibleWrites,e)}(t.writeTree,rn(t.treePath,e))}function sP(t,e,n){return function YEe(t,e,n,r){const i=rn(e,n),o=fl(t.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?jd(Ha(t.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(t.writeTree,t.treePath,e,n)}function zG(t,e){return $G(rn(t.treePath,e),t.writeTree)}function $G(t,e){return{treePath:t,writeTree:e}}class tIe{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;ne("child_added"===n||"child_changed"===n||"child_removed"===n,"Only child changes supported for tracking"),ne(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const o=i.type;if("child_added"===n&&"child_removed"===o)this.changeMap.set(r,Ag(r,e.snapshotNode,i.snapshotNode));else if("child_removed"===n&&"child_added"===o)this.changeMap.delete(r);else if("child_removed"===n&&"child_changed"===o)this.changeMap.set(r,function Sg(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}(r,i.oldSnap));else if("child_changed"===n&&"child_added"===o)this.changeMap.set(r,function Vd(t,e){return{type:"child_added",snapshotNode:e,childName:t}}(r,e.snapshotNode));else{if("child_changed"!==n||"child_changed"!==o)throw Fu("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(r,Ag(r,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}const HG=new class nIe{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}};class aP{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=null!=this.optCompleteServerCache_?new $a(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return sP(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:hl(this.viewCache_),o=function eIe(t,e,n,r,i,o){return function JEe(t,e,n,r,i,o,s){let a;const c=Ha(t.visibleWrites,e),l=fl(c,dt());if(null!=l)a=l;else{if(null==n)return[];a=jd(c,n)}if(a=a.withIndex(s),a.isEmpty()||a.isLeafNode())return[];{const u=[],d=s.getCompare(),h=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s);let f=h.getNext();for(;f&&u.length<i;)0!==d(f,r)&&u.push(f),f=h.getNext();return u}}(t.writeTree,t.treePath,e,n,r,i,o)}(this.writes_,i,n,1,r,e);return 0===o.length?null:o[0]}}function GG(t,e,n,r,i,o){const s=e.eventCache;if(null!=ub(r,n))return e;{let a,c;if(Ge(n))if(ne(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const l=hl(e),d=oP(r,l instanceof Le?l:Le.EMPTY_NODE);a=t.filter.updateFullNode(e.eventCache.getNode(),d,o)}else{const l=lb(r,hl(e));a=t.filter.updateFullNode(e.eventCache.getNode(),l,o)}else{const l=He(n);if(".priority"===l){ne(1===za(n),"Can't have a priority with additional path components");const u=s.getNode();c=e.serverCache.getNode();const d=jG(r,n,u,c);a=null!=d?t.filter.updatePriority(u,d):s.getNode()}else{const u=At(n);let d;if(s.isCompleteForChild(l)){c=e.serverCache.getNode();const h=jG(r,n,s.getNode(),c);d=null!=h?s.getNode().getImmediateChild(l).updateChild(u,h):s.getNode().getImmediateChild(l)}else d=sP(r,l,e.serverCache);a=null!=d?t.filter.updateChild(s.getNode(),l,d,u,i,o):s.getNode()}}return Ng(e,a,s.isFullyInitialized()||Ge(n),t.filter.filtersNodes())}}function db(t,e,n,r,i,o,s,a){const c=e.serverCache;let l;const u=s?t.filter:t.filter.getIndexedFilter();if(Ge(n))l=u.updateFullNode(c.getNode(),r,null);else if(u.filtersNodes()&&!c.isFiltered()){const f=c.getNode().updateChild(n,r);l=u.updateFullNode(c.getNode(),f,null)}else{const f=He(n);if(!c.isCompleteForPath(n)&&za(n)>1)return e;const b=At(n),T=c.getNode().getImmediateChild(f).updateChild(b,r);l=".priority"===f?u.updatePriority(c.getNode(),T):u.updateChild(c.getNode(),f,T,b,HG,null)}const d=RG(e,l,c.isFullyInitialized()||Ge(n),u.filtersNodes());return GG(t,d,n,i,new aP(i,d,o),a)}function cP(t,e,n,r,i,o,s){const a=e.eventCache;let c,l;const u=new aP(i,e,o);if(Ge(n))l=t.filter.updateFullNode(e.eventCache.getNode(),r,s),c=Ng(e,l,!0,t.filter.filtersNodes());else{const d=He(n);if(".priority"===d)l=t.filter.updatePriority(e.eventCache.getNode(),r),c=Ng(e,l,a.isFullyInitialized(),a.isFiltered());else{const h=At(n),f=a.getNode().getImmediateChild(d);let b;if(Ge(h))b=r;else{const x=u.getCompleteChild(d);b=null!=x?".priority"===VO(h)&&x.getChild(wG(h)).isEmpty()?x:x.updateChild(h,r):Le.EMPTY_NODE}c=f.equals(b)?e:Ng(e,t.filter.updateChild(a.getNode(),d,b,h,u,s),a.isFullyInitialized(),t.filter.filtersNodes())}}return c}function qG(t,e){return t.eventCache.isCompleteForChild(e)}function WG(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function lP(t,e,n,r,i,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l,c=e;l=Ge(n)?r:new zt(null).setTree(n,r);const u=e.serverCache.getNode();return l.children.inorderTraversal((d,h)=>{if(u.hasChild(d)){const b=WG(0,e.serverCache.getNode().getImmediateChild(d),h);c=db(t,c,new yt(d),b,i,o,s,a)}}),l.children.inorderTraversal((d,h)=>{const f=!e.serverCache.isCompleteForChild(d)&&null===h.value;if(!u.hasChild(d)&&!f){const x=WG(0,e.serverCache.getNode().getImmediateChild(d),h);c=db(t,c,new yt(d),x,i,o,s,a)}}),c}function pIe(t,e){const n=hl(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Ge(e)&&!n.getImmediateChild(He(e)).isEmpty())?n.getChild(e):null}function YG(t,e,n,r){e.type===es.MERGE&&null!==e.source.queryId&&(ne(hl(t.viewCache_),"We should always have a full cache before handling merges"),ne(ab(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,o=function oIe(t,e,n,r,i){const o=new tIe;let s,a;if(n.type===es.OVERWRITE){const l=n;l.source.fromUser?s=cP(t,e,l.path,l.snap,r,i,o):(ne(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered()&&!Ge(l.path),s=db(t,e,l.path,l.snap,r,i,a,o))}else if(n.type===es.MERGE){const l=n;l.source.fromUser?s=function aIe(t,e,n,r,i,o,s){let a=e;return r.foreach((c,l)=>{const u=rn(n,c);qG(e,He(u))&&(a=cP(t,a,u,l,i,o,s))}),r.foreach((c,l)=>{const u=rn(n,c);qG(e,He(u))||(a=cP(t,a,u,l,i,o,s))}),a}(t,e,l.path,l.children,r,i,o):(ne(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered(),s=lP(t,e,l.path,l.children,r,i,a,o))}else if(n.type===es.ACK_USER_WRITE){const l=n;s=l.revert?function uIe(t,e,n,r,i,o){let s;if(null!=ub(r,n))return e;{const a=new aP(r,e,i),c=e.eventCache.getNode();let l;if(Ge(n)||".priority"===He(n)){let u;if(e.serverCache.isFullyInitialized())u=lb(r,hl(e));else{const d=e.serverCache.getNode();ne(d instanceof Le,"serverChildren would be complete if leaf node"),u=oP(r,d)}l=t.filter.updateFullNode(c,u,o)}else{const u=He(n);let d=sP(r,u,e.serverCache);null==d&&e.serverCache.isCompleteForChild(u)&&(d=c.getImmediateChild(u)),l=null!=d?t.filter.updateChild(c,u,d,At(n),a,o):e.eventCache.getNode().hasChild(u)?t.filter.updateChild(c,u,Le.EMPTY_NODE,At(n),a,o):c,l.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=lb(r,hl(e)),s.isLeafNode()&&(l=t.filter.updateFullNode(l,s,o)))}return s=e.serverCache.isFullyInitialized()||null!=ub(r,dt()),Ng(e,l,s,t.filter.filtersNodes())}}(t,e,l.path,r,i,o):function cIe(t,e,n,r,i,o,s){if(null!=ub(i,n))return e;const a=e.serverCache.isFiltered(),c=e.serverCache;if(null!=r.value){if(Ge(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return db(t,e,n,c.getNode().getChild(n),i,o,a,s);if(Ge(n)){let l=new zt(null);return c.getNode().forEachChild(Zo,(u,d)=>{l=l.set(new yt(u),d)}),lP(t,e,n,l,i,o,a,s)}return e}{let l=new zt(null);return r.foreach((u,d)=>{const h=rn(n,u);c.isCompleteForPath(h)&&(l=l.set(u,c.getNode().getChild(h)))}),lP(t,e,n,l,i,o,a,s)}}(t,e,l.path,l.affectedTree,r,i,o)}else{if(n.type!==es.LISTEN_COMPLETE)throw Fu("Unknown operation type: "+n.type);s=function lIe(t,e,n,r,i){const o=e.serverCache;return GG(t,RG(e,o.getNode(),o.isFullyInitialized()||Ge(n),o.isFiltered()),n,r,HG,i)}(t,e,n.path,r,o)}const c=o.getChanges();return function sIe(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=ab(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(function kG(t){return{type:"value",snapshotNode:t}}(ab(e)))}}(e,s,c),{viewCache:s,changes:c}}(t.processor_,i,e,n,r);return function iIe(t,e){ne(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),ne(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}(t.processor_,o.viewCache),ne(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,function XG(t,e,n,r){return function LEe(t,e,n,r){const i=[],o=[];return e.forEach(s=>{"child_changed"===s.type&&t.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(function xEe(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}(s.childName,s.snapshotNode))}),Pg(t,i,"child_removed",e,r,n),Pg(t,i,"child_added",e,r,n),Pg(t,i,"child_moved",o,r,n),Pg(t,i,"child_changed",e,r,n),Pg(t,i,"value",e,r,n),i}(t.eventGenerator_,e,n,r?[r]:t.eventRegistrations_)}(t,o.changes,o.viewCache.eventCache.getNode(),null)}let hb,pb;function uP(t,e,n,r){const i=e.source.queryId;if(null!==i){const o=t.views.get(i);return ne(null!=o,"SyncTree gave us an op for an invalid query."),YG(o,e,n,r)}{let o=[];for(const s of t.views.values())o=o.concat(YG(s,e,n,r));return o}}function Ga(t,e){let n=null;for(const r of t.views.values())n=n||pIe(r,e);return n}class rq{constructor(e){this.listenProvider_=e,this.syncPointTree_=new zt(null),this.pendingWriteTree_=function ZEe(){return{visibleWrites:_o.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function dP(t,e,n,r,i){return function jEe(t,e,n,r,i){ne(r>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Rg(t.visibleWrites,e,n)),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r,i),i?zd(t,new dl({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,n)):[]}function Wa(t,e,n=!1){const r=function $Ee(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}(t.pendingWriteTree_,e);if(function HEe(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);ne(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,o=!1,s=t.allWrites.length-1;for(;i&&s>=0;){const a=t.allWrites[s];a.visible&&(s>=n&&GEe(a,r.path)?i=!1:qi(r.path,a.path)&&(o=!0)),s--}return!!i&&(o?(function qEe(t){t.visibleWrites=UG(t.allWrites,WEe,dt()),t.lastWriteId=t.allWrites.length>0?t.allWrites[t.allWrites.length-1].writeId:-1}(t),!0):(r.snap?t.visibleWrites=FG(t.visibleWrites,r.path):hr(r.children,c=>{t.visibleWrites=FG(t.visibleWrites,rn(r.path,c))}),!0))}(t.pendingWriteTree_,e)){let o=new zt(null);return null!=r.snap?o=o.set(dt(),!0):hr(r.children,s=>{o=o.set(new yt(s),!0)}),zd(t,new ob(r.path,o,n))}return[]}function Fg(t,e,n){return zd(t,new dl({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,n))}function mb(t,e,n){const i=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(s,a)=>{const l=Ga(a,ei(s,e));if(l)return l});return BG(i,e,o,n,!0)}function zd(t,e){return oq(e,t.syncPointTree_,null,cb(t.pendingWriteTree_,dt()))}function oq(t,e,n,r){if(Ge(t.path))return sq(t,e,n,r);{const i=e.get(dt());null==n&&null!=i&&(n=Ga(i,dt()));let o=[];const s=He(t.path),a=t.operationForChild(s),c=e.children.get(s);if(c&&a){const l=n?n.getImmediateChild(s):null,u=zG(r,s);o=o.concat(oq(a,c,l,u))}return i&&(o=o.concat(uP(i,t,r,n))),o}}function sq(t,e,n,r){const i=e.get(dt());null==n&&null!=i&&(n=Ga(i,dt()));let o=[];return e.children.inorderTraversal((s,a)=>{const c=n?n.getImmediateChild(s):null,l=zG(r,s),u=t.operationForChild(s);u&&(o=o.concat(sq(u,a,c,l)))}),i&&(o=o.concat(uP(i,t,r,n))),o}function fP(t,e){return t.tagToQueryMap.get(e)}function pP(t){const e=t.indexOf("$");return ne(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new yt(t.substr(0,e))}}function gP(t,e,n){const r=t.syncPointTree_.get(e);return ne(r,"Missing sync point for query tag that we're tracking"),uP(r,n,cb(t.pendingWriteTree_,e),null)}class mP{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new mP(n)}node(){return this.node_}}class _P{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=rn(this.path_,e);return new _P(this.syncTree_,n)}node(){return mb(this.syncTree_,this.path_)}}const RIe=function(t){return(t=t||{}).timestamp=t.timestamp||(new Date).getTime(),t},cq=function(t,e,n){return t&&"object"==typeof t?(ne(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?FIe(t[".sv"],e,n):"object"==typeof t[".sv"]?LIe(t[".sv"],e):void ne(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},FIe=function(t,e,n){if("timestamp"===t)return n.timestamp;ne(!1,"Unexpected server value: "+t)},LIe=function(t,e,n){t.hasOwnProperty("increment")||ne(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;"number"!=typeof r&&ne(!1,"Unexpected increment value: "+r);const i=e.node();if(ne(null!==i&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const s=i.getValue();return"number"!=typeof s?r:s+r},lq=function(t,e,n,r){return vP(e,new _P(n,t),r)},yP=function(t,e,n){return vP(t,new mP(e),n)};function vP(t,e,n){const r=t.getPriority().val(),i=cq(r,e.getImmediateChild(".priority"),n);let o;if(t.isLeafNode()){const s=t,a=cq(s.getValue(),e,n);return a!==s.getValue()||i!==s.getPriority().val()?new Fd(a,dn(i)):t}{const s=t;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new Fd(i))),s.forEachChild(jt,(a,c)=>{const l=vP(c,e.getImmediateChild(a),n);l!==c&&(o=o.updateImmediateChild(a,l))}),o}}class bP{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function yb(t,e){let n=e instanceof yt?e:new yt(e),r=t,i=He(n);for(;null!==i;){const o=Vu(r.node.children,i)||{children:{},childCount:0};r=new bP(i,r,o),n=At(n),i=He(n)}return r}function pl(t){return t.node.value}function wP(t,e){t.node.value=e,CP(t)}function uq(t){return t.node.childCount>0}function vb(t,e){hr(t.node.children,(n,r)=>{e(new bP(n,t,r))})}function dq(t,e,n,r){n&&!r&&e(t),vb(t,i=>{dq(i,e,!0,r)}),n&&r&&e(t)}function Ug(t){return new yt(null===t.parent?t.name:Ug(t.parent)+"/"+t.name)}function CP(t){null!==t.parent&&function BIe(t,e,n){const r=function VIe(t){return void 0===pl(t)&&!uq(t)}(n),i=Vo(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,CP(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,CP(t))}(t.parent,t.name,t)}const jIe=/[\[\].#$\/\u0000-\u001F\u007F]/,zIe=/[\[\].#$\u0000-\u001F\u007F]/,xP=10485760,bb=function(t){return"string"==typeof t&&0!==t.length&&!jIe.test(t)},jg=function(t,e,n){const r=n instanceof yt?new oEe(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+ll(r));if("function"==typeof e)throw new Error(t+"contains a function "+ll(r)+" with contents = "+e.toString());if(K0(e))throw new Error(t+"contains "+e.toString()+" "+ll(r));if("string"==typeof e&&e.length>xP/3&&zy(e)>xP)throw new Error(t+"contains a string greater than "+xP+" utf8 bytes "+ll(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let i=!1,o=!1;if(hr(e,(s,a)=>{if(".value"===s)i=!0;else if(".priority"!==s&&".sv"!==s&&(o=!0,!bb(s)))throw new Error(t+" contains an invalid key ("+s+") "+ll(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function sEe(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=zy(e),CG(t)})(r,s),jg(t,a,r),function aEe(t){const e=t.parts_.pop();t.byteLength_-=zy(e),t.parts_.length>0&&(t.byteLength_-=1)}(r)}),i&&o)throw new Error(t+' contains ".value" child '+ll(r)+" in addition to actual children.")}},pq=function(t,e){const n=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!bb(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==n.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),function(t){return"string"==typeof t&&0!==t.length&&!zIe.test(t)}(t)}(n))throw new Error(function Vf(t,e){return`${t} failed: ${e} argument `}(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class qIe{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Ni(t,e,n){(function wb(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],o=i.getPath();null!==n&&!UO(o,n.path)&&(t.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)})(t,n),function mq(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];i&&(e(i.path)?(WIe(t.eventLists_[r]),t.eventLists_[r]=null):n=!1)}n&&(t.eventLists_=[]),t.recursionDepth_--}(t,r=>qi(r,e)||qi(e,r))}function WIe(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(null!==n){t.events[e]=null;const r=n.getEventRunner();al&&dr("event: "+n.toString()),Nd(r)}}}const KIe=25;class QIe{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new qIe,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ib(),this.transactionQueueTree_=new bP,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function yq(t){const n=t.infoData_.getNode(new yt(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+n}function $g(t){return RIe({timestamp:yq(t)})}function vq(t,e,n,r,i){t.dataUpdateCount++;const o=new yt(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let s=[];if(i)if(r){const c=By(n,l=>dn(l));s=function SIe(t,e,n,r){const i=fP(t,r);if(i){const o=pP(i),s=o.path,a=o.queryId,c=ei(s,e),l=zt.fromObject(n);return gP(t,s,new Bd(eP(a),c,l))}return[]}(t.serverSyncTree_,o,c,i)}else{const c=dn(n);s=function iq(t,e,n,r){const i=fP(t,r);if(null!=i){const o=pP(i),s=o.path,a=o.queryId,c=ei(s,e);return gP(t,s,new dl(eP(a),c,n))}return[]}(t.serverSyncTree_,o,c,i)}else if(r){const c=By(n,l=>dn(l));s=function TIe(t,e,n){const r=zt.fromObject(n);return zd(t,new Bd({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(t.serverSyncTree_,o,c)}else{const c=dn(n);s=Fg(t.serverSyncTree_,o,c)}let a=o;s.length>0&&(a=Hd(t,o)),Ni(t.eventQueue_,a,s)}function bq(t,e){TP(t,"connected",e),!1===e&&function eTe(t){$d(t,"onDisconnectEvents");const e=$g(t),n=ib();XO(t.onDisconnect_,dt(),(i,o)=>{const s=lq(i,o,t.serverSyncTree_,e);Ud(n,i,s)});let r=[];XO(n,dt(),(i,o)=>{r=r.concat(Fg(t.serverSyncTree_,i,o));const s=function AP(t,e){const n=Ug(xq(t,e)),r=yb(t.transactionQueueTree_,e);return function UIe(t,e,n){let r=n?t:t.parent;for(;null!==r;){if(e(r))return!0;r=r.parent}}(r,i=>{kP(t,i)}),kP(t,r),dq(r,i=>{kP(t,i)}),n}(t,i);Hd(t,s)}),t.onDisconnect_=ib(),Ni(t.eventQueue_,dt(),r)}(t)}function TP(t,e,n){const r=new yt("/.info/"+e),i=dn(n);t.infoData_.updateSnapshot(r,i);const o=Fg(t.infoSyncTree_,r,i);Ni(t.eventQueue_,r,o)}function Cb(t){return t.nextWriteId_++}function $d(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),dr(n,...e)}function SP(t,e,n){return mb(t.serverSyncTree_,e,n)||Le.EMPTY_NODE}function xb(t,e=t.transactionQueueTree_){if(e||Eb(t,e),pl(e)){const n=Eq(t,e);ne(n.length>0,"Sending zero length transaction queue"),n.every(i=>0===i.status)&&function aTe(t,e,n){const r=n.map(l=>l.currentWriteId),i=SP(t,e,r);let o=i;const s=i.hash();for(let l=0;l<n.length;l++){const u=n[l];ne(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=ei(e,u.path);o=o.updateChild(d,u.currentOutputSnapshotRaw)}const a=o.val(!0),c=e;t.server_.put(c.toString(),a,l=>{$d(t,"transaction put response",{path:c.toString(),status:l});let u=[];if("ok"===l){const d=[];for(let h=0;h<n.length;h++)n[h].status=2,u=u.concat(Wa(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();Eb(t,yb(t.transactionQueueTree_,e)),xb(t,t.transactionQueueTree_),Ni(t.eventQueue_,e,u);for(let h=0;h<d.length;h++)Nd(d[h])}else{if("datastale"===l)for(let d=0;d<n.length;d++)n[d].status=3===n[d].status?4:0;else{Br("transaction at "+c.toString()+" failed: "+l);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=l}Hd(t,e)}},s)}(t,Ug(e),n)}else uq(e)&&vb(e,n=>{xb(t,n)})}function Hd(t,e){const n=xq(t,e),r=Ug(n);return function cTe(t,e,n){if(0===e.length)return;const r=[];let i=[];const s=e.filter(a=>0===a.status).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const c=e[a],l=ei(n,c.path);let d,u=!1;if(ne(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===c.status)u=!0,d=c.abortReason,i=i.concat(Wa(t.serverSyncTree_,c.currentWriteId,!0));else if(0===c.status)if(c.retryCount>=KIe)u=!0,d="maxretry",i=i.concat(Wa(t.serverSyncTree_,c.currentWriteId,!0));else{const h=SP(t,c.path,s);c.currentInputSnapshot=h;const f=e[a].update(h.val());if(void 0!==f){jg("transaction failed: Data returned ",f,c.path);let b=dn(f);"object"==typeof f&&null!=f&&Vo(f,".priority")||(b=b.updatePriority(h.getPriority()));const T=c.currentWriteId,P=$g(t),k=yP(b,h,P);c.currentOutputSnapshotRaw=b,c.currentOutputSnapshotResolved=k,c.currentWriteId=Cb(t),s.splice(s.indexOf(T),1),i=i.concat(dP(t.serverSyncTree_,c.path,k,c.currentWriteId,c.applyLocally)),i=i.concat(Wa(t.serverSyncTree_,T,!0))}else u=!0,d="nodata",i=i.concat(Wa(t.serverSyncTree_,c.currentWriteId,!0))}Ni(t.eventQueue_,n,i),i=[],u&&(e[a].status=2,setTimeout(e[a].unwatcher,Math.floor(0)),e[a].onComplete&&r.push("nodata"===d?()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot):()=>e[a].onComplete(new Error(d),!1,null)))}Eb(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Nd(r[a]);xb(t,t.transactionQueueTree_)}(t,Eq(t,n),r),r}function xq(t,e){let n,r=t.transactionQueueTree_;for(n=He(e);null!==n&&void 0===pl(r);)r=yb(r,n),n=He(e=At(e));return r}function Eq(t,e){const n=[];return Iq(t,e,n),n.sort((r,i)=>r.order-i.order),n}function Iq(t,e,n){const r=pl(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);vb(e,i=>{Iq(t,i,n)})}function Eb(t,e){const n=pl(e);if(n){let r=0;for(let i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,wP(e,n.length>0?n:void 0)}vb(e,r=>{Eb(t,r)})}function kP(t,e){const n=pl(e);if(n){const r=[];let i=[],o=-1;for(let s=0;s<n.length;s++)3===n[s].status||(1===n[s].status?(ne(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(ne(0===n[s].status,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(Wa(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));-1===o?wP(e,void 0):n.length=o+1,Ni(t.eventQueue_,Ug(e),i);for(let s=0;s<r.length;s++)Nd(r[s])}}const OP=function(t,e){const n=dTe(t),r=n.namespace;return"firebase.com"===n.domain&&Jo(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==n.domain&&Jo("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Br("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new OO(n.host,n.secure,r,"ws"===n.scheme||"wss"===n.scheme,e,"",r!==n.subdomain),path:new yt(n.pathString)}},dTe=function(t){let e="",n="",r="",i="",o="",s=!0,a="https",c=443;if("string"==typeof t){let l=t.indexOf("//");l>=0&&(a=t.substring(0,l-1),t=t.substring(l+2));let u=t.indexOf("/");-1===u&&(u=t.length);let d=t.indexOf("?");-1===d&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(i=function lTe(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}(t.substring(u,d)));const h=function uTe(t){const e={};"?"===t.charAt(0)&&(t=t.substring(1));for(const n of t.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Br(`Invalid query segment '${n}' in query '${t}'`)}return e}(t.substring(Math.min(t.length,d)));l=e.indexOf(":"),l>=0?(s="https"===a||"wss"===a,c=parseInt(e.substring(l+1),10)):l=e.length;const f=e.slice(0,l);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{const b=e.indexOf(".");r=e.substring(0,b).toLowerCase(),n=e.substring(b+1),o=r}"ns"in h&&(o=h.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};class Ri{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Ge(this._path)?null:VO(this._path)}get ref(){return new yo(this._repo,this._path)}get _queryIdentifier(){const e=PG(this._queryParams),n=AO(e);return"{}"===n?"default":n}get _queryObject(){return PG(this._queryParams)}isEqual(e){if(!((e=St(e))instanceof Ri))return!1;const n=this._repo===e._repo,r=UO(this._path,e._path);return n&&r&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function rEe(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)""!==t.pieces_[n]&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}(this._path)}}class yo extends Ri{constructor(e,n){super(e,n,new WO,!1)}get parent(){const e=wG(this._path);return null===e?null:new yo(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}(function _Ie(t){ne(!hb,"__referenceConstructor has already been defined"),hb=t})(yo),function CIe(t){ne(!pb,"__referenceConstructor has already been defined"),pb=t}(yo);const NP={};class kTe{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function YIe(t,e,n){if(t.stats_=RO(t.repoInfo_),t.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)t.server_=new rb(t.repoInfo_,(r,i,o,s)=>{vq(t,r,i,o,s)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>bq(t,!0),0);else{if(typeof n<"u"&&null!==n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{_r(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new ul(t.repoInfo_,e,(r,i,o,s)=>{vq(t,r,i,o,s)},r=>{bq(t,r)},r=>{!function XIe(t,e){hr(e,(n,r)=>{TP(t,n,r)})}(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=function Rxe(t,e){const n=t.toString();return NO[n]||(NO[n]=e()),NO[n]}(t.repoInfo_,()=>new REe(t.stats_,t.server_)),t.infoData_=new AEe,t.infoSyncTree_=new rq({startListening:(r,i,o,s)=>{let a=[];const c=t.infoData_.getNode(r._path);return c.isEmpty()||(a=Fg(t.infoSyncTree_,r._path,c),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),TP(t,"connected",!1),t.serverSyncTree_=new rq({startListening:(r,i,o,s)=>(t.server_.listen(r,o,i,(a,c)=>{const l=s(a,c);Ni(t.eventQueue_,r._path,l)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new yo(this._repo,dt())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function MTe(t,e){const n=NP[e];(!n||n[t.key]!==t)&&Jo(`Database ${e}(${t.repoInfo_}) has already been deleted.`),function Cq(t){t.persistentConnection_&&t.persistentConnection_.interrupt("repo_interrupt")}(t),delete n[t.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Jo("Cannot call "+e+" on a deleted database.")}}function OTe(t=Uf(),e){const n=pa(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=LE("database");r&&function PTe(t,e,n,r={}){(t=St(t))._checkNotDeleted("useEmulator"),t._instanceStarted&&Jo("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Jo('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Eg(Eg.OWNER);else if(r.mockUserToken){const s="string"==typeof r.mockUserToken?r.mockUserToken:rB(r.mockUserToken,t.app.options.projectId);o=new Eg(s)}!function TTe(t,e,n,r){t.repoInfo_=new OO(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}(i,e,n,o)}(n,...r)}return n}ul.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},ul.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)},function NTe(t){(function yxe(t){DO=t})(ga),yr(new rr("database",(e,{instanceIdentifier:n})=>function DTe(t,e,n,r,i){let o=r||t.options.databaseURL;void 0===o&&(t.options.projectId||Jo("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),dr("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let c,l,s=OP(o,i),a=s.repoInfo;typeof process<"u"&&process.env&&(l=process.env.FIREBASE_DATABASE_EMULATOR_HOST),l?(c=!0,o=`http://${l}?ns=${a.namespace}`,s=OP(o,i),a=s.repoInfo):c=!s.repoInfo.secure;const u=i&&c?new Eg(Eg.OWNER):new Oxe(t.name,t.options,e);pq("Invalid Firebase Database URL",s),Ge(s.path)||Jo("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function STe(t,e,n,r){let i=NP[e.name];i||(i={},NP[e.name]=i);let o=i[t.toURLString()];return o&&Jo("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new QIe(t,!1,n,r),i[t.toURLString()]=o,o}(a,t,u,new kxe(t.name,n));return new kTe(d,t)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n),"PUBLIC").setMultipleInstances(!0)),Tt(LH,"0.14.4",t),Tt(LH,"0.14.4","esm2017")}();class RP{constructor(e){return e}}const Nq="database",FP=new ae("angularfire2.database-instances");function UTe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new RP(r)}}const BTe={provide:class LTe{constructor(){return Hf(Nq)}},deps:[[new an,FP]]},jTe={provide:RP,useFactory:function VTe(t,e){const n=$f(Nq,t,e);return n&&new RP(n)},deps:[[new an,FP],_a]};let zTe=(()=>{class t{constructor(){Tt("angularfire",zu.full,"rtdb")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=on({type:t}),t.\u0275inj=en({providers:[jTe,BTe]}),t})();function $Te(t,...e){return{ngModule:zTe,providers:[{provide:FP,useFactory:UTe(t),multi:!0,deps:[Je,wn,Gf,qf,[new an,wv],[new an,Qf],...e]}]}}const HTe=Xn(OTe,!0),VP="functions";class QTe{constructor(e,n,r){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(i=>this.auth=i,()=>{}),this.messaging||n.get().then(i=>this.messaging=i,()=>{}),this.appCheck||r.get().then(i=>this.appCheck=i,()=>{})}getAuthToken(){var e=this;return m(function*(){if(e.auth)try{const n=yield e.auth.getToken();return n?.accessToken}catch{return}})()}getMessagingToken(){var e=this;return m(function*(){if(e.messaging&&"Notification"in self&&"granted"===Notification.permission)try{return yield e.messaging.getToken()}catch{return}})()}getAppCheckToken(e){var n=this;return m(function*(){if(n.appCheck){const r=e?yield n.appCheck.getLimitedUseToken():yield n.appCheck.getToken();return r.error?null:r.token}return null})()}getContext(e){var n=this;return m(function*(){return{authToken:yield n.getAuthToken(),messagingToken:yield n.getMessagingToken(),appCheckToken:yield n.getAppCheckToken(e)}})()}}const UP="us-central1";class XTe{constructor(e,n,r,i,o=UP,s){this.app=e,this.fetchImpl=s,this.emulatorOrigin=null,this.contextProvider=new QTe(n,r,i),this.cancelAllRequests=new Promise(a=>{this.deleteService=()=>Promise.resolve(a())});try{const a=new URL(o);this.customDomain=a.origin,this.region=UP}catch{this.customDomain=null,this.region=o}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return null!==this.emulatorOrigin?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:null!==this.customDomain?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}const Vq="@firebase/functions";function aDe(t=Uf(),e=UP){const r=pa(St(t),VP).getImmediate({identifier:e}),i=LE("functions");return i&&function cDe(t,e,n){!function JTe(t,e,n){t.emulatorOrigin=`http://${e}:${n}`}(St(t),e,n)}(r,...i),r}!function sDe(t,e){yr(new rr(VP,(r,{instanceIdentifier:i})=>{const o=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),a=r.getProvider("messaging-internal"),c=r.getProvider("app-check-internal");return new XTe(o,s,a,c,i,t)},"PUBLIC").setMultipleInstances(!0)),Tt(Vq,"0.10.0",e),Tt(Vq,"0.10.0","esm2017")}(fetch.bind(self));class zP{constructor(e){return e}}const Bq="functions",$P=new ae("angularfire2.functions-instances");function dDe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new zP(r)}}const hDe={provide:class lDe{constructor(){return Hf(Bq)}},deps:[[new an,$P]]},fDe={provide:zP,useFactory:function uDe(t,e){const n=$f(Bq,t,e);return n&&new zP(n)},deps:[[new an,$P],_a]};let pDe=(()=>{class t{constructor(){Tt("angularfire",zu.full,"fn")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=on({type:t}),t.\u0275inj=en({providers:[fDe,hDe]}),t})();function gDe(t,...e){return{ngModule:pDe,providers:[{provide:$P,useFactory:dDe(t),multi:!0,deps:[Je,wn,Gf,qf,[new an,wv],[new an,Qf],...e]}]}}const mDe=Xn(aDe,!0);function _De(t,e){if(1&t){const n=pt();y(0,"tr")(1,"td"),C(2),p(),y(3,"td"),C(4),p(),y(5,"td",4),C(6),p(),y(7,"td"),C(8),p(),y(9,"td")(10,"button",7),Y("click",function(){const o=Ne(n).$implicit;return Re(cn().Unidades(o.name))}),p(),y(11,"button",8),Y("click",function(){const o=Ne(n).$implicit;return Re(cn().infoProject(o.name))}),p(),y(12,"button",9),Y("click",function(){const o=Ne(n).$implicit;return Re(cn().editProyecto(o.name))}),p()()()}if(2&t){const n=e.$implicit;B(2),Fe(n.name),B(2),Fe(n.owner),B(2),Fe(n.integrantes),B(2),Fe(n.cliente)}}let yDe=(()=>{class t{constructor(n,r,i,o){this.router=n,this.route=r,this.auth=i,this.firestore=o,this.data=[],this.list=[],this.email="",this.MyQuery()}getData(){const n=$o();Os(n,i=>{i&&i.email&&(this.email=i.email)});const r=ve(this.firestore,"projects");de(r).then(i=>{this.data=[...i.docs.map(o=>({...o.data(),id:o.id}))]})}updateData(n){const r=xe(this.firestore,"projects",n);Zr(r,{}).then(()=>{alert("Data updated"),this.getData()}).catch(i=>{alert(i.message)})}deleteData(n){const r=xe(this.firestore,"projects",n);yn(r).then(()=>{alert("Data Deleted"),this.getData()}).catch(i=>{alert(i.message)})}infoProject(n){this.router.navigate(["user/project-info/"+n])}newProject(){this.router.navigate(["user/project-new"])}EditProject(){this.router.navigate(["user/project-new"])}Unidades(n){this.router.navigate(["user/unidad-produccion/"+n])}Muestras(n){this.router.navigate(["user/muestras/"+n])}editProyecto(n){this.router.navigate(["user/project-edit/"+n])}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["user/projects"])}logOut(){wr(this.auth).then(()=>{}).catch(n=>{}),this.router.navigate(["auth/select"])}MyQuery(){var n=this;return m(function*(){const r=$o();let i;i="",console.log(r),Os(r,function(){var o=m(function*(s){if(s&&(console.log(s.email),s.email)){i=s.email;const a=Qt(ve(n.firestore,"projects"),Bt("owner","==",i));de(a).then(c=>{n.data=[...c.docs.map(l=>({...l.data(),id:l.id}))]})}});return function(s){return o.apply(this,arguments)}}()),console.log("done")})()}static#e=this.\u0275fac=function(r){return new(r||t)(I(Te),I(at),I(ze),I(ot))};static#t=this.\u0275cmp=je({type:t,selectors:[["app-projects"]],decls:22,vars:1,consts:[[1,"scanbutton"],[1,"scantext",3,"click"],[1,"subTituloText"],[1,"list"],[1,"integrantes"],[4,"ngFor","ngForOf"],["id","agregar",1,"boton",3,"click"],[1,"muestras",3,"click"],[1,"detalles",3,"click"],[1,"edit",3,"click"]],template:function(r,i){1&r&&(y(0,"p"),C(1,"projects works!"),p(),y(2,"div",0)(3,"div",1),Y("click",function(){return i.Scan()}),C(4,"SCAN"),p()(),y(5,"h1",2),C(6,"Proyectos"),p(),y(7,"div",3)(8,"table")(9,"tr")(10,"th"),C(11," Nombre "),p(),y(12,"th"),C(13," Due\xf1o "),p(),y(14,"th",4),C(15," Integrantes"),p(),y(16,"th"),C(17," Clientes "),p(),ee(18,"th"),p(),gr(19,_De,13,4,"tr",5),p(),y(20,"button",6),Y("click",function(){return i.newProject()}),C(21," Agregar "),p()()),2&r&&(B(19),mr("ngForOf",i.data))},dependencies:[ji],styles:[".list[_ngcontent-%COMP%]{position:absolute;margin:10px;left:30%;top:38%}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{cursor:pointer;width:153px;height:36px;left:49%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;left:45%;top:20%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}@media only screen and (max-width: 768px){.list[_ngcontent-%COMP%]{position:absolute;margin:0;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.boton[_ngcontent-%COMP%]{position:absolute;left:80%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;left:30%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}.scanbutton[_ngcontent-%COMP%]{cursor:pointer;width:153px;height:36px;left:30%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}}"]})}return t})();function vDe(t,e){if(1&t){const n=pt();y(0,"tr")(1,"td"),C(2),p(),y(3,"td"),C(4),p(),y(5,"td"),C(6),p(),y(7,"td"),C(8),p(),y(9,"td")(10,"button",8),Y("click",function(){const o=Ne(n).$implicit;return Re(cn().infoMuestra(o.codigo))}),p(),y(11,"button",9),Y("click",function(){const o=Ne(n).$implicit;return Re(cn().editMuestra(o.codigo))}),p(),y(12,"button",10),Y("click",function(){const o=Ne(n).$implicit;return Re(cn().Barcode(o.codigo))}),p()()()}if(2&t){const n=e.$implicit;B(2),Fe(n.codigo),B(2),Fe(n.fecha),B(2),Fe(n.cultivo),B(2),Fe(n.coordenadas)}}let bDe=(()=>{class t{constructor(n,r,i,o,s){this.router=n,this.route=r,this.auth=i,this.firestore=o,this.location=s,this.data=[]}ngOnInit(){this.route.params.subscribe(n=>{this.item=n.id,this.up=n.up,console.log(n),console.log(n.id)}),this.MyQuery()}getData(){const n=ve(this.firestore,"muestras");de(n).then(r=>{this.data=[...r.docs.map(i=>({...i.data(),id:i.id}))]})}updateData(n){const r=xe(this.firestore,"muestras",n);Zr(r,{}).then(()=>{alert("Data updated"),this.getData()}).catch(i=>{alert(i.message)})}deleteData(n){const r=xe(this.firestore,"muestras",n);yn(r).then(()=>{alert("Data Deleted"),this.getData()}).catch(i=>{alert(i.message)})}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["user/projects"])}logOut(){wr(this.auth).then(()=>{}).catch(n=>{}),this.router.navigate(["auth/select"])}newMuestra(n){this.router.navigate(["user/muestras-new/"+n])}editMuestra(n){this.router.navigate(["user/muestras-edit/"+n])}infoUnidad(n){this.router.navigate(["user/unidad-produccion-info/"+n])}infoMuestra(n){this.router.navigate(["user/muestras-info/"+n])}Barcode(n){this.router.navigate(["user/barcode/"+n])}backPage(){this.location.back()}MyQuery(){var n=this;return m(function*(){let r=n.item;n.pid=r;let i=n.up;console.log(r);const o=Qt(ve(n.firestore,"muestras"),Bt("project","==",r),Bt("unidad","==",i));de(o).then(a=>{n.data=[...a.docs.map(c=>({...c.data(),id:c.id}))]}),(yield de(o)).forEach(a=>{console.log(a.id," => ",a.data())})})()}static#e=this.\u0275fac=function(r){return new(r||t)(I(Te),I(at),I(ze),I(ot),I(Pr))};static#t=this.\u0275cmp=je({type:t,selectors:[["app-muestras"]],decls:26,vars:1,consts:[[1,"subTituloText"],[1,"scanbutton"],[1,"scantext",3,"click"],[1,"list"],[1,"projectBlock",3,"click"],[4,"ngFor","ngForOf"],["id","agregar",1,"boton",3,"click"],["id","volver",1,"boton",3,"click"],[1,"detalles",3,"click"],[1,"edit",3,"click"],[1,"imprimir",3,"click"]],template:function(r,i){1&r&&(y(0,"p"),C(1,"muestras works!"),p(),y(2,"h1",0),C(3,"Muestras"),p(),y(4,"div",1)(5,"div",2),Y("click",function(){return i.Scan()}),C(6,"SCAN"),p()(),y(7,"div",3)(8,"div",4),Y("click",function(){return i.infoUnidad(i.up)}),C(9,"Unidad de Produccion"),p(),y(10,"table")(11,"tr")(12,"th"),C(13," Codigo "),p(),y(14,"th"),C(15," Fecha "),p(),y(16,"th"),C(17," Cultivo"),p(),y(18,"th"),C(19," Coordenadas "),p(),ee(20,"th"),p(),gr(21,vDe,13,4,"tr",5),p(),y(22,"button",6),Y("click",function(){return i.newMuestra(i.pid)}),C(23," Agregar "),p(),y(24,"button",7),Y("click",function(){return i.backPage()}),C(25," Volver "),p()()),2&r&&(B(21),mr("ngForOf",i.data))},dependencies:[ji],styles:[".list[_ngcontent-%COMP%]{position:absolute;left:38%;top:38%}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.projectBlock[_ngcontent-%COMP%]{width:60%;height:35px;background:#3ec28f;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:20px;font-weight:700;letter-spacing:0;cursor:pointer}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{cursor:pointer;width:153px;height:36px;left:49%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}#volver[_ngcontent-%COMP%]{position:absolute;left:0%}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;left:45%;top:20%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.projectBlock[_ngcontent-%COMP%]{width:60%;height:25px;background:#3ec28f;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:14px;font-weight:700;letter-spacing:0;cursor:pointer}.list[_ngcontent-%COMP%]{position:absolute;left:5%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:153px;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:80%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}#volver[_ngcontent-%COMP%]{position:absolute;left:0%}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;left:30%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}return t})(),wDe=(()=>{class t{constructor(n,r,i,o,s){this.router=n,this.route=r,this.auth=i,this.firestore=o,this.location=s,this.data=[],this.num=1}ngOnInit(){let n;this.route.params.subscribe(r=>{this.item=r.id,n=r.id,this.generateBarcode(n)})}handleRegister(n){console.log(n.cantidad),this.toPrint(n.cantidad)}generateBarcode(n){var i=n;this.res=i,TO("#barcode",i,{format:"CODE128"})}generateSVG(n,r){for(let i=0;i<n;i++){const o=document.createElement("div"),s=document.createElement("svg");o.setAttribute("class","subcode"),s.setAttribute("id","barcode"+i),document.getElementById("codes")?.appendChild(s)}}toPrint(n){this.router.navigate(["/print/"+this.res+"/"+n])}sleep(n){return m(function*(){return new Promise(r=>setTimeout(r,n))})()}backPage(){this.location.back()}static#e=this.\u0275fac=function(r){return new(r||t)(I(Te),I(at),I(ze),I(ot),I(Pr))};static#t=this.\u0275cmp=je({type:t,selectors:[["app-barcode"]],decls:13,vars:1,consts:[["id","barcode"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],["name","cantidad","ngModel","","placeholder","N\xb0","id","cantidad","type","number","min","1","max","5",1,"input-field",3,"ngModel","ngModelChange"],[1,"print"],["id","volver",3,"click"]],template:function(r,i){if(1&r){const o=pt();y(0,"p"),C(1,"barcode works!"),p(),pw(),ee(2,"svg",0),function QN(){!function pK(){Ee.lFrame.currentNamespace=null}()}(),y(3,"form",1,2),Y("ngSubmit",function(){Ne(o);const a=fn(4);return Re(i.handleRegister(a.value))}),y(5,"div",3)(6,"div",4)(7,"span",5),C(8,"Cantidad: "),p(),y(9,"input",6),Ke("ngModelChange",function(a){return Ze(i.num,a)||(i.num=a),a}),p()(),y(10,"button",7),C(11,"Imprimir"),p()()(),y(12,"button",8),Y("click",function(){return i.backPage()}),p()}2&r&&(B(9),We("ngModel",i.num))},dependencies:[Yn,Kr,Yx,Mi,Qn,rE,nE,hi,Mn],styles:[".main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:40%;top:50%}.input-fields[_ngcontent-%COMP%]{position:inherit;width:180px;top:25px}.Text[_ngcontent-%COMP%]{display:inline;font-family:Arial;text-align:center;font-size:24px;font-weight:700}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{height:20px;width:40px;font-size:16px}.print[_ngcontent-%COMP%]{position:inherit;left:200px}svg[_ngcontent-%COMP%]{position:absolute;left:44%;top:32%}button[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:24px;font-weight:700;cursor:pointer;border-radius:30px}#volver[_ngcontent-%COMP%]{font-size:16px;position:absolute;left:35%;top:20%;border:none;width:50px;height:50px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(back-button-Edit4.8567daeed3ab1418.png)}@media only screen and (max-width: 768px){.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:60%;height:20%;left:36%;top:60%}.input-fields[_ngcontent-%COMP%]{position:inherit;width:130px;top:25px}.Text[_ngcontent-%COMP%]{display:inline;font-family:Arial;text-align:center;font-size:20px}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{height:20px;width:20px;font-size:16px}.print[_ngcontent-%COMP%]{position:absolute;left:33%;top:45%;font-size:16px}#test[_ngcontent-%COMP%]{position:absolute;left:30%;top:60%;display:none}#codes[_ngcontent-%COMP%]{position:absolute;left:30%;top:35%}svg[_ngcontent-%COMP%]{position:absolute;left:25%;top:30%;margin:15px 0}.space[_ngcontent-%COMP%]{height:200px}#barcode[_ngcontent-%COMP%]{display:inline}button[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:20px;font-weight:700;cursor:pointer;border-radius:30px}#volver[_ngcontent-%COMP%]{font-size:16px;position:absolute;left:28%;top:70%;border:none;width:36px;height:36px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(back-button-Edit4.8567daeed3ab1418.png)}}"]})}return t})();const CDe=["div"];let xDe=(()=>{class t{constructor(n,r,i){this.auth=n,this.firestore=r,this.renderer=i,this.title="gestion-de-muestras-de-campo",this.data=[],this.getData(),this.index=1}randomCode(){let n="";for(let o=0;o<20;o++)n+="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".charAt(Math.floor(62*Math.random()));return n}handleRegister(n){this.addData(n)}addData(n){var r=this;return m(function*(){let o=r.randomCode(),s=n.integrantes.split(/[\s,]+/);const a=xe(r.firestore,"projects",o);(yield oxe(a))?alert("Needs a Unique Code"):Gi(a,{name:n.name,cliente:n.cliente,owner:n.owner,integrantes:s}).then(()=>{alert("Data Sent")}).catch(l=>{alert(l.message)})})()}getData(){const n=ve(this.firestore,"projects");de(n).then(r=>{this.data=[...r.docs.map(i=>({...i.data(),id:i.id}))]})}static#e=this.\u0275fac=function(r){return new(r||t)(I(ze),I(ot),I(ro))};static#t=this.\u0275cmp=je({type:t,selectors:[["app-project-new"]],viewQuery:function(r,i){if(1&r&&Rn(CDe,5),2&r){let o;In(o=Tn())&&(i.div=o.first)}},decls:32,vars:0,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[2,"color","red"],[1,"input-fields"],[1,"Text"],["name","id","ngModel","","placeholder","ID","id","id","type","id",1,"input-field"],["name","name","ngModel","","placeholder","Name","id","name","type","name",1,"input-field"],["name","owner","ngModel","","placeholder","Owner","id","owner","type","owner",1,"input-field"],["name","integrantes","ngModel","","placeholder","Integrantes","id","integrantes","type","integrantes",1,"input-field"],["name","cliente","ngModel","","placeholder","Cliente","id","cliente","type","cliente",1,"input-field"],[1,"boton"]],template:function(r,i){if(1&r){const o=pt();y(0,"p"),C(1,"project-new works!"),p(),y(2,"h1",0),C(3,"Nuevo Proyecto"),p(),y(4,"div",1)(5,"form",2,3),Y("ngSubmit",function(){Ne(o);const a=fn(6);return Re(i.handleRegister(a.value))}),y(7,"div",4)(8,"p",5),C(9," * Todo Projecto requiere un identificador \xfanico "),p(),y(10,"div",6)(11,"span",7),C(12,"ID:"),p(),ee(13,"input",8),p(),y(14,"div",6)(15,"span",7),C(16,"Name:"),p(),ee(17,"input",9),p(),y(18,"div",6)(19,"span",7),C(20,"Owner:"),p(),ee(21,"input",10),p(),y(22,"div",6)(23,"span",7),C(24,"Integrantes:"),p(),ee(25,"input",11),p(),y(26,"div",6)(27,"span",7),C(28,"Cliente:"),p(),ee(29,"input",12),p(),y(30,"button",13),C(31,"Crear Proyecto"),p()()()()}},dependencies:[Yn,Kr,Mi,Qn,hi,Mn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:45%;flex-shrink:0;position:absolute;left:15%;top:30%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:3%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:85%;height:20px;left:92px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:35%;top:20%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:85%;top:110%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:85%;height:50%;flex-shrink:0;position:absolute;left:7%;top:30%}.input-field[_ngcontent-%COMP%]{margin:10px 10px 10px 20px;width:85%;height:20px;left:92px}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:20px;font-family:Arial;font-size:16px;letter-spacing:0}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:3%;top:3%}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:75%;top:110%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}return t})();const EDe=["geo"];let IDe=(()=>{class t{static#e=this.text="";constructor(n,r,i,o){this.router=n,this.route=r,this.auth=i,this.firestore=o,this.title="gestion-de-muestras-de-campo",this.data=[],this.res="",this.somethingChange=new qe}ngOnInit(){this.route.params.subscribe(n=>{this.pid=n.id})}handleRegister(n){this.addData(n)}addData(n){const r=xe(this.firestore,"muestras",n.codigo);Gi(r,{codigo:n.codigo,cliente:n.cliente,fecha:n.fecha,cultivo:n.cultivo,tipo:n.tipo,fitopatogeno:n.fitopatogeno,repeticion:n.repeticion,coordenadas:n.coordenadas,sintomas:n.sintomas,comentarios:n.comentarios,project:this.pid}).then(()=>{alert("Data Sent")}).catch(i=>{alert(i.message)}),console.log(n.comentarios)}getData(){const n=ve(this.firestore,"muestras");de(n).then(r=>{this.data=[...r.docs.map(i=>({...i.data(),id:i.id}))]})}showPosition(n){console.log(n.coords.latitude),console.log(n.coords.longitude),t.text=n.coords.latitude+", "+n.coords.longitude,console.log(t.text)}getLocation(){var n=this;return m(function*(){n.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(n.showPosition):console.log("error"),setTimeout(()=>{n.res=t.text,console.log(n.res)},1e3)})()}static#t=this.\u0275fac=function(r){return new(r||t)(I(Te),I(at),I(ze),I(ot))};static#n=this.\u0275cmp=je({type:t,selectors:[["app-muestras-new"]],viewQuery:function(r,i){if(1&r&&Rn(EDe,5),2&r){let o;In(o=Tn())&&(i.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:69,vars:1,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],["name","codigo","ngModel","","placeholder","codigo","id","codigo","type","codigo",1,"input-field"],["name","cliente","ngModel","","placeholder","Cliente","id","cliente","type","cliente",1,"input-field"],["name","fecha","ngModel","","placeholder","Fecha","id","fecha","type","fecha",1,"input-field"],["name","cultivo","ngModel","","placeholder","Cultivo","id","cultivo","type","cultivo",1,"input-field"],["list","tipos","name","tipo","ngModel","","placeholder","Tipo","id","tipo","type","tipo",1,"input-field"],["id","tipos"],["value","Hibrido"],["value","Variedad"],["value","Clone"],["list","fitopatogenos","name","fitopatogeno","ngModel","","placeholder","Fitopatogeno","id","fitopatogeno","type","fitopatogeno",1,"input-field"],["id","fitopatogenos"],["value","Hongos"],["value","Bacterias"],["value","Virus"],["name","estado","ngModel","","placeholder","Estado","id","estado","type","estado",1,"input-field"],["name","lote","ngModel","","placeholder","Lote","id","lote","type","lote",1,"input-field"],["name","repeticion","ngModel","","placeholder","Repeticion","id","repeticion","type","repeticion",1,"input-field"],["name","coordenadas","ngModel","","placeholder","Coordenadas","id","coordenadas","type","coordenadas",1,"input-field",3,"ngModel","ngModelChange"],[1,"bUbicacion",3,"click"],["src","../../../../assets/Ubicacion.png","alt","U"],["name","sintomas","ngModel","","placeholder","Sintomas","id","sintomas","rows","4","cols","50"],["name","comentarios","ngModel","","placeholder","Comentarios","id","comentarios","rows","4","cols","50"],[1,"boton"]],template:function(r,i){if(1&r){const o=pt();y(0,"p"),C(1,"muestras-new works!"),p(),y(2,"h1",0),C(3,"Nueva Muestra"),p(),y(4,"div",1)(5,"form",2,3),Y("ngSubmit",function(){Ne(o);const a=fn(6);return Re(i.handleRegister(a.value))}),y(7,"div",4)(8,"div",5)(9,"span",6),C(10,"Codigo:"),p(),ee(11,"input",7),p(),y(12,"div",5)(13,"span",6),C(14,"Cliente:"),p(),ee(15,"input",8),p(),y(16,"div",5)(17,"span",6),C(18,"Fecha:"),p(),ee(19,"input",9),p(),y(20,"div",5)(21,"span",6),C(22,"Cultivo:"),p(),ee(23,"input",10),p(),y(24,"div",5)(25,"span",6),C(26,"Tipo:"),p(),ee(27,"input",11),y(28,"datalist",12),ee(29,"option",13)(30,"option",14)(31,"option",15),p()(),y(32,"div",5)(33,"span",6),C(34,"Fitopat\xf3geno:"),p(),ee(35,"input",16),y(36,"datalist",17),ee(37,"option",18)(38,"option",19)(39,"option",20),p()(),y(40,"div",5)(41,"span",6),C(42,"Estado:"),p(),ee(43,"input",21),p(),y(44,"div",5)(45,"span",6),C(46,"Lote:"),p(),ee(47,"input",22),p(),y(48,"div",5)(49,"span",6),C(50,"Repetici\xf3n:"),p(),ee(51,"input",23),p(),y(52,"div",5)(53,"span",6),C(54,"Coordenadas:"),p(),y(55,"input",24),Ke("ngModelChange",function(a){return Ze(i.res,a)||(i.res=a),a}),p(),y(56,"div",25),Y("click",function(){return i.getLocation()}),ee(57,"img",26),p()(),y(58,"div",5)(59,"span",6),C(60,"Sintomas:"),p(),ee(61,"textarea",27),p(),y(62,"div",5)(63,"span",6),C(64,"Comentarios:"),p(),y(65,"textarea",28),C(66," "),p()(),y(67,"button",29),C(68,"Crear Muestra"),p()()()()}2&r&&(B(55),We("ngModel",i.res))},dependencies:[Yn,mf,_f,Kr,Mi,Qn,hi,Mn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:70%;flex-shrink:0;position:absolute;left:15%;top:25%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:3%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:85%;height:20px;left:92px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:35%;top:15%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:80%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:95%;height:100%;flex-shrink:0;position:absolute;left:2.5%;top:30%}.input-field[_ngcontent-%COMP%]{margin:10px 10px 10px 20px;width:85%;height:20px;left:92px}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:20px;font-family:Arial;font-size:16px;letter-spacing:0}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:3%;top:3%}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:75%;top:110%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}return t})();class Wi extends ni{constructor(){super(...arguments),this._value=null,this._hasValue=!1,this._isComplete=!1}_checkFinalizedStatuses(e){const{hasError:n,_hasValue:r,_value:i,thrownError:o,isStopped:s,_isComplete:a}=this;n?e.error(o):(s||a)&&(r&&e.next(i),e.complete())}next(e){this.isStopped||(this._value=e,this._hasValue=!0)}complete(){const{_hasValue:e,_value:n,_isComplete:r}=this;r||(this._isComplete=!0,e&&super.next(n),super.complete())}}const TDe=["video"],DDe=["canvas"],MDe=["resultsPanel"],HP="assets/wasm/index.js",qg="https://cdn.jsdelivr.net/npm/ngx-scanner-qrcode@1.6.4/wasm/index.js",jq={audio:!1,video:!0},GP={lineWidth:1,strokeStyle:"green",fillStyle:"#55f02880"},qP={font:"15px serif",strokeStyle:"#fff0",fillStyle:"#ff0000"},$s={src:"",fps:30,vibrate:300,decode:"utf-8",isBeep:!0,constraints:jq,canvasStyles:[GP,qP]};var Sb=()=>"zbarWasm"in window;const ht=(t,e,n)=>{n?t.error(n):t.next(e),t.complete()},WP=(t=!1)=>{if(!1===t)return;const e=new Audio("data:audio/mpeg;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU4LjI5LjEwMAAAAAAAAAAAAAAA/+M4wAAAAAAAAAAAAEluZm8AAAAPAAAABQAAAkAAgICAgICAgICAgICAgICAgICAgKCgoKCgoKCgoKCgoKCgoKCgoKCgwMDAwMDAwMDAwMDAwMDAwMDAwMDg4ODg4ODg4ODg4ODg4ODg4ODg4P//////////////////////////AAAAAExhdmM1OC41NAAAAAAAAAAAAAAAACQEUQAAAAAAAAJAk0uXRQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/+MYxAANQAbGeUEQAAHZYZ3fASqD4P5TKBgocg+Bw/8+CAYBA4XB9/4EBAEP4nB9+UOf/6gfUCAIKyjgQ/Kf//wfswAAAwQA/+MYxAYOqrbdkZGQAMA7DJLCsQxNOij///////////+tv///3RWiZGBEhsf/FO/+LoCSFs1dFVS/g8f/4Mhv0nhqAieHleLy/+MYxAYOOrbMAY2gABf/////////////////usPJ66R0wI4boY9/8jQYg//g2SPx1M0N3Z0kVJLIs///Uw4aMyvHJJYmPBYG/+MYxAgPMALBucAQAoGgaBoFQVBUFQWDv6gZBUFQVBUGgaBr5YSgqCoKhIGg7+IQVBUFQVBoGga//SsFSoKnf/iVTEFNRTMu/+MYxAYAAANIAAAAADEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV");e.oncanplaythrough=()=>{const n=e.play();n&&n.catch(r=>{})}},zq=(t,e,n,r)=>{let i,o,s=e.width,a=e.height,c=s/a,l=parseInt(getComputedStyle(e).width),u=parseInt(getComputedStyle(e).height),d=l/u;n.innerHTML="",c>d?(i=l/s,o=l/c/a):(o=u/a,i=u*c/s);for(let h=0;h<t.length;h++){const f=t[h];let b=document.createElement("canvas"),x=b.getContext("2d",{willReadFrequently:!0}),T={},P=[],k=[],H=0,X=0,ce=2===r.length&&r[1]?.font?.replace(/[^0-9]/g,"");ce&&/[0-9]/g.test(ce)&&(H=parseFloat(ce),X=(i||1)*H,Number.isNaN(X)&&(X=H));const me=f.points;for(let Yt=0;Yt<me.length;Yt++){const Pb=me?.[Yt]?.x??0,Nb=me?.[Yt]?.y??0;T[`x${Yt+1}`]=Pb,T[`y${Yt+1}`]=Nb,P.push(Pb),k.push(Nb)}let Dt=Math.max(...P),Bn=Math.min(...P),Ki=Math.max(...k),rs=Math.min(...k);b.setAttribute("class","qrcode-polygon"),c>d?(b.style.top=rs*o+.5*(u-l/c)+"px",b.style.left=Bn*i+"px",b.width=(Dt-Bn)*i,b.height=(Ki-rs)*i):(b.style.top=rs*o+"px",b.style.left=Bn*i+.5*(l-u*c)+"px",b.width=(Dt-Bn)*o,b.height=(Ki-rs)*o);for(const Yt in r[0])x[Yt]=r[0][Yt];const JP=[];for(let Yt=0;Yt<P.length;Yt++)JP.push((T[`x${Yt+1}`]-Bn)*o),JP.push((T[`y${Yt+1}`]-rs)*i);const Kg=JP.slice(0);for(x.beginPath(),x.moveTo(Kg.shift(),Kg.shift());Kg.length;)x.lineTo(Kg.shift(),Kg.shift());if(x.closePath(),x.fill(),x.stroke(),H){const Yt=document.createElement("div");Yt.setAttribute("class","qrcode-tooltip-temp"),Yt.innerText=f.value,Yt.style.maxWidth=(s>window.innerWidth?.9*window.innerWidth:s)+"px",Yt.style.borderRadius=`clamp(1px, ${i*H-10}px, 3px)`,Yt.style.paddingBlock=`clamp(1px, ${i*H-10}px, 3px)`,Yt.style.paddingInline=`clamp(2.5px, ${i*H-6}px, 10px)`;const Pb=`<svg xmlns="http://www.w3.org/2000/svg" width="${X}" height="${X}" viewBox="0 0 512 512"><rect x="128" y="128" width="336" height="336" rx="57" ry="57"></rect><path d="M383.5,128l.5-24a56.16,56.16,0,0,0-56-56H112a64.19,64.19,0,0,0-64,64V328a56.16,56.16,0,0,0,56,56h24"></path></svg>`,Nb=(new DOMParser).parseFromString(Pb,"application/xml"),ZP=Yt.ownerDocument.importNode(Nb.documentElement,!0);ZP.style.marginLeft=`clamp(1px, ${i*H-10}px, 3px)`,Yt.appendChild(ZP),ZP.addEventListener("click",()=>window.navigator.clipboard.writeText(f.value)),Yt.addEventListener("click",()=>window.navigator.clipboard.writeText(f.value));const Xa=document.createElement("div");Xa.setAttribute("class","qrcode-tooltip"),Xa.appendChild(Yt),o=u/a,i=u*c/s,Xa.style.fontSize=i*H+"px",Xa.style.top=rs*o+"px",Xa.style.left=Bn*i+.5*(l-u*c)+"px",Xa.style.width=(Dt-Bn)*o+"px",Xa.style.height=(Ki-rs)*o+"px";const ml=document.createElement("span");ml.innerText=f.value,ml.style.top=rs*o+-20*o+"px",ml.style.left=Bn*i+.5*(l-u*c)+"px";const rSe=r[1]?.font?.split(" ")?.[1];ml.style.fontFamily=rSe,ml.style.fontSize=i*H+"px",ml.style.color=r?.[1]?.fillStyle,n?.appendChild(Xa),n?.appendChild(ml)}n?.appendChild(b)}},$q=(t,e)=>new Promise((n,r)=>t.toBlob(i=>n(i),e)),Hq=(t=[],e,n,r,i=new Wi)=>(Gq(t,n,r).then(o=>{Promise.all(Object.assign([],t).map(s=>((t,e)=>{let n=e?.decode??$s.decode,r=2===e?.canvasStyles?.length?e?.canvasStyles:[GP,qP],i=e?.isBeep??$s.isBeep;return new Promise((o,s)=>{const a=new FileReader;a.onload=()=>{const c={name:t.name,file:t,url:URL.createObjectURL(t)},l=new Image;l.setAttribute("crossOrigin","anonymous"),l.onload=m(function*(){const u=document.createElement("canvas");u.width=l.naturalWidth||l.width,u.height=l.naturalHeight||l.height;const d=u.getContext("2d");d.drawImage(l,0,0,u.width,u.height);const h=d.getImageData(0,0,u.width,u.height);if(Sb()){const f=yield zbarWasm.scanImageData(h);if(f?.length){f.forEach(P=>P.value=P.decode(n?.toLocaleLowerCase())),((t,e,n)=>{let r=e.getContext("2d",{willReadFrequently:!0});for(let i=0;i<t.length;i++){const o=t[i];let s={},a=[],c=[],l=0,d=n[1]?.font?.split(" ")?.[0]?.replace(/[^0-9]/g,"");d&&/[0-9]/g.test(d)&&(l=parseFloat(d));const h=o.points;for(let k=0;k<h.length;k++){const H=h?.[k]?.x??0,X=h?.[k]?.y??0;s[`x${k+1}`]=H,s[`y${k+1}`]=X,a.push(H),c.push(X)}let f=Math.min(...a),b=Math.min(...c);const x=()=>{for(const X in n[0])r[X]=n[0][X];const k=[];for(let X=0;X<a.length;X++)k.push(s[`x${X+1}`]),k.push(s[`y${X+1}`]);const H=k.slice(0);for(r.beginPath(),r.moveTo(H.shift(),H.shift());H.length;)r.lineTo(H.shift(),H.shift());r.closePath(),r.fill(),r.stroke()};let T=document.createElement("canvas");const P=()=>{const k=n[1]?.font?.split(" ")?.[1];T.height=e.height,T.width=e.width;let H=T.getContext("2d",{willReadFrequently:!0});H.font=l+"px "+k;for(const X in n[1])H[X]=n[1][X];RDe(H,o.value,f,b-5)};x(),P(),r.drawImage(T,0,0)}})(f,u,r);const b=yield $q(u),x=URL.createObjectURL(b);o(Object.assign({},c,{data:f,url:x,canvas:u,file:(P=b,k=c.name,new File([P],k,{lastModified:(new Date).getTime(),type:P.type}))})),WP(i)}else o(Object.assign({},c,{data:f,canvas:u}))}var P,k}),l.src=c.url},a.onerror=c=>s(c),a.readAsDataURL(t)})})(s,e))).then(s=>{ht(i,s)}).catch(s=>ht(i,null,s))}),i),RDe=(t,e,n,r)=>{let i=1.2*t.measureText("M").width,o=e.split("\n");for(var s=0;s<o.length;++s)t.fillText(o[s],n,r),t.strokeText(o[s],n,r),r+=i},Gq=function(){var t=m(function*(e=[],n=.5,r="image/jpeg"){if(!e.length||1===n)return e;const i=function(){var s=m(function*(a){const c=yield createImageBitmap(a),l=document.createElement("canvas");l.width=c.width,l.height=c.height,l.getContext("2d").drawImage(c,0,0);const d=yield new Promise(h=>l.toBlob(h,r,n));return new File([d],a.name,{type:d.type})});return function(c){return s.apply(this,arguments)}}(),o=new DataTransfer;return yield m(function*(){for(const s of e){if(!s.type.startsWith("image")){o.items.add(s);continue}const a=yield i(s);o.items.add(a)}})(),o.files});return function(){return t.apply(this,arguments)}}(),qq=t=>{Object.assign([],t.childNodes).forEach(e=>t.removeChild(e))},KP=(t,e)=>{t.style.width=e.offsetWidth+"px",t.style.height=e.offsetHeight+"px"},Wq=(t=300)=>{t&&LDe()&&window?.navigator?.vibrate(t)},LDe=()=>{const t=navigator.userAgent||navigator.vendor||window.opera;return!(!/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)&&!/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(t.substr(0,4))||/^((?!chrome|android).)*safari/i.test(t))};let Kq=(()=>{class t{loadFiles(n=[],r,i){const o=new Wi;return Gq(n,r,i).then(s=>{Promise.all(Object.assign([],n).map(a=>this.readAsDataURL(a))).then(a=>ht(o,a)).catch(a=>ht(o,null,a))}),o}loadFilesToScan(n=[],r,i,o){return Hq(n,r,i,o)}readAsDataURL(n){return new Promise((r,i)=>{const o=new FileReader;o.onload=()=>{const s={name:n.name,file:n,url:URL.createObjectURL(n)};r(s)},o.onerror=s=>i(s),o.readAsDataURL(n)})}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=he({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Ab=(t=new Wi,e)=>{let n=0;const r=(i=!1)=>{const o=()=>{let c;try{const l=()=>{clearTimeout(c),Sb()?setTimeout(()=>ht(t,!0)):c=setTimeout(()=>l())};setTimeout(()=>l()),setTimeout(()=>clearTimeout(c),3e3)}catch{clearTimeout(c)}},s=document.querySelectorAll(`script[src="${qg}"]`),a=document.querySelectorAll('script[src="https://cdn.jsdelivr.net/npm/ngx-scanner-qrcode@latest/wasm/index.js"]');if(s.length||a.length)o();else{const c=document.querySelectorAll(`script[src="${HP}"]`);if(1===c.length)o();else if(c.forEach(l=>l.remove()),e){const l=e.createElement("script");e.setAttribute(l,"src",i?qg:HP),e.setAttribute(l,"type","text/javascript"),e.setAttribute(l,"async",""),e.appendChild(document.head,l),l.onload=()=>o(),l.onerror=()=>{n<2?(document.head.removeChild(l),r(!0)):ht(t,!1,qg)},n+=1}else{const l=document.createElement("script");l.setAttribute("src",i?qg:HP),l.setAttribute("type","text/javascript"),l.setAttribute("async",""),document.head.appendChild(l),l.onload=()=>o(),l.onerror=()=>{n<2?(document.head.removeChild(l),r(!0)):ht(t,!1,qg)},n+=1}}};return r(),t};let VDe=(()=>{class t{constructor(n,r){this.renderer=n,this.elementRef=r,this.event=new qe,this.src=$s.src,this.fps=$s.fps,this.vibrate=$s.vibrate,this.decode=$s.decode,this.isBeep=$s.isBeep,this.config=$s,this.constraints=$s.constraints,this.canvasStyles=[GP,qP],this.isStart=!1,this.isPause=!1,this.isLoading=!1,this.isTorch=!1,this.data=new ri([]),this.devices=new ri([]),this.deviceIndexActive=0,this.dataForResize=[],this.ready=new Wi,this.STATUS={startON:()=>this.isStart=!0,pauseON:()=>this.isPause=!0,loadingON:()=>this.isLoading=!0,startOFF:()=>this.isStart=!1,pauseOFF:()=>this.isPause=!1,loadingOFF:()=>this.isLoading=!1,torchOFF:()=>this.isTorch=!1}}ngOnInit(){this.overrideConfig(),Ab(this.ready,this.renderer).subscribe(()=>{this.src&&this.loadImage(this.src),this.resize()})}start(n){const r=new Wi;return this.isStart?ht(r,!1):this.safariWebRTC(r,n),r}stop(){this.STATUS.pauseOFF(),this.STATUS.startOFF(),this.STATUS.torchOFF(),this.STATUS.loadingOFF();const n=new Wi;try{clearTimeout(this.rAF_ID),this.video.nativeElement.srcObject.getTracks().forEach(r=>{r.stop(),ht(n,!0)}),this.dataForResize=[],(t=>{t.getContext("2d",{willReadFrequently:!0}).clearRect(0,0,t.width,t.height)})(this.canvas.nativeElement),qq(this.resultsPanel.nativeElement)}catch(r){ht(n,!1,r)}return n}play(){const n=new Wi;return this.isPause?(this.video.nativeElement.play(),this.STATUS.pauseOFF(),this.requestAnimationFrame(),ht(n,!0)):ht(n,!1),n}pause(){const n=new Wi;return this.isStart?(clearTimeout(this.rAF_ID),this.video.nativeElement.pause(),this.STATUS.pauseON(),ht(n,!0)):ht(n,!1),n}playDevice(n,r=new Wi){const i=this.getConstraints();switch(!0){case"null"===n||"undefined"===n||!n:stop(),this.stop(),ht(r,!1);break;case n&&(!this.isStart||!i||i.deviceId!==n):stop(),this.stop(),this.STATUS.loadingON(),this.deviceIndexActive=this.devices.value.findIndex(a=>a.deviceId===n);const s={...this.constraints,audio:!1,video:{deviceId:n,...this.constraints.video}};navigator.mediaDevices.getUserMedia(s).then(a=>{this.video.nativeElement.srcObject=a,this.video.nativeElement.onloadedmetadata=()=>{this.video.nativeElement.play(),this.requestAnimationFrame(),ht(r,!0),this.STATUS.startON(),this.STATUS.loadingOFF()}}).catch(a=>{this.eventEmit(!1),ht(r,!1,a),this.STATUS.startOFF(),this.STATUS.loadingOFF()});break;default:ht(r,!1),this.STATUS.loadingOFF()}return r}loadImage(n){const r=new Wi;this.STATUS.startOFF(),this.STATUS.loadingON();const i=new Image;return i.setAttribute("crossOrigin","anonymous"),i.onload=()=>{Sb()&&this.drawImage(i,o=>{ht(r,o),this.STATUS.startOFF(),this.STATUS.loadingOFF()})},i.src=n,r}torcher(){const n=this.applyConstraints({advanced:[{torch:this.isTorch}]});return n.subscribe(()=>!1,()=>this.isTorch=!this.isTorch),n}applyConstraints(n,r=0){var i=this;const o=new Wi;if(this.isStart){const s=this.video.nativeElement.srcObject;if(null===r&&void 0===r&&Number.isNaN(r))ht(o,!1,"Please check again deviceIndex");else{const a=s.getVideoTracks()[r];new window.ImageCapture(a).getPhotoCapabilities().then(m(function*(){yield a.applyConstraints(n),KP(i.video.nativeElement,i.canvas.nativeElement),ht(o,!0)})).catch(l=>{switch(l?.name){case"NotFoundError":case"DevicesNotFoundError":ht(o,!1,"Required track is missing");break;case"NotReadableError":case"TrackStartError":ht(o,!1,"Webcam or mic are already in use");break;case"OverconstrainedError":case"ConstraintNotSatisfiedError":ht(o,!1,"Constraints can not be satisfied by avb. devices");break;case"NotAllowedError":case"PermissionDeniedError":ht(o,!1,"Permission denied in browser");break;case"TypeError":ht(o,!1,"Empty constraints object");break;default:ht(o,!1,l)}})}}else ht(o,!1,"Please start the scanner");return o}getConstraints(n=0){return this.video.nativeElement.srcObject?.getVideoTracks()[n]?.getConstraints()}download(n=`ngx_scanner_qrcode_${Date.now()}.png`,r,i){var o=this;const s=new Wi;return m(function*(){const c=((t,e)=>new File([t],e,{lastModified:(new Date).getTime(),type:t.type}))(yield $q(o.canvas.nativeElement),n);Hq([c],o.config,r,i,s).subscribe(l=>{l.forEach(u=>{if(u?.data?.length){const d=document.createElement("a");d.href=u.url,d.download=u.name,d.click(),d.remove()}})})})(),s}resize(){window.addEventListener("resize",()=>{zq(this.dataForResize,this.canvas.nativeElement,this.resultsPanel.nativeElement,this.canvasStyles),KP(this.video.nativeElement,this.canvas.nativeElement)})}overrideConfig(){"src"in this.config&&(this.src=this.config.src),"fps"in this.config&&(this.fps=this.config.fps),"vibrate"in this.config&&(this.vibrate=this.config.vibrate),"decode"in this.config&&(this.decode=this.config.decode),"isBeep"in this.config&&(this.isBeep=this.config.isBeep),"constraints"in this.config&&(this.constraints=((t,e,n)=>{if(e&&Object.keys(e[t]).length){for(const r in n){const i=JSON.parse(JSON.stringify({...e[t],[r]:n[r]}));e[t]=e[t].hasOwnProperty(r)?e[t]:i}return e[t]}return n})("constraints",this.config,jq)),"canvasStyles"in this.config&&2===this.config?.canvasStyles?.length&&(this.canvasStyles=this.config.canvasStyles)}safariWebRTC(n,r){this.STATUS.startOFF(),this.STATUS.loadingON(),navigator.mediaDevices.getUserMedia(this.constraints).then(i=>{i.getTracks().forEach(o=>o.stop()),this.loadAllDevices(n,r)}).catch(i=>{ht(n,!1,i),this.STATUS.startOFF(),this.STATUS.loadingOFF()})}loadAllDevices(n,r){navigator.mediaDevices.enumerateDevices().then(i=>{let o=i.filter(s=>"videoinput"==s.kind);this.devices.next(o),o?.length>0?(ht(n,o),r?r(o):this.playDevice(o[0].deviceId)):(ht(n,!1,"No camera detected."),this.STATUS.startOFF(),this.STATUS.loadingOFF())}).catch(i=>{ht(n,!1,i),this.STATUS.startOFF(),this.STATUS.loadingOFF()})}drawImage(n,r=(()=>{})){var i=this;return m(function*(){const o=i.canvas.nativeElement,s=o.getContext("2d",{willReadFrequently:!0});n instanceof HTMLImageElement&&(o.width=n.naturalWidth,o.height=n.naturalHeight,n.style.visibility="",i.video.nativeElement.style.visibility="hidden",i.renderer.setStyle(i.elementRef.nativeElement,"width",o.width+"px"),i.renderer.setStyle(i.elementRef.nativeElement,"maxWidth","100%"),i.renderer.setStyle(i.elementRef.nativeElement,"display","inline-block")),n instanceof HTMLVideoElement&&(o.width=n.videoWidth,o.height=n.videoHeight,n.style.visibility="",i.canvas.nativeElement.style.visibility="hidden"),KP(i.video.nativeElement,o),s.clearRect(0,0,o.width,o.height),s.drawImage(n,0,0,o.width,o.height);const a=s.getImageData(0,0,o.width,o.height),c=yield zbarWasm.scanImageData(a);if(c?.length){c.forEach(u=>u.value=u.decode(i.decode?.toLocaleLowerCase())),zq(c,Object.freeze(i.canvas.nativeElement),i.resultsPanel.nativeElement,i.canvasStyles);const l=()=>{i.eventEmit(c),i.dataForResize=c};n instanceof HTMLImageElement&&(r(!0),l(),Wq(i.vibrate),WP(i.isBeep)),n instanceof HTMLVideoElement&&(l(),Wq(i.vibrate),WP(i.isBeep))}else r(!1),qq(i.resultsPanel.nativeElement),i.dataForResize=[]})()}eventEmit(n=!1){!1!==n&&this.data.next(n||[]),!1!==n&&this.event.emit(n||[])}requestAnimationFrame(n=100){try{clearTimeout(this.rAF_ID),this.rAF_ID=setTimeout(()=>{this.video.nativeElement.readyState===this.video.nativeElement.HAVE_ENOUGH_DATA&&(n=0,Sb()&&this.drawImage(this.video.nativeElement),this.isStart&&!this.isPause&&this.requestAnimationFrame(n))},n||this.fps)}catch{clearTimeout(this.rAF_ID)}}get isReady(){return this.ready}ngOnDestroy(){this.pause()}static#e=this.\u0275fac=function(r){return new(r||t)(I(ro),I(oi))};static#t=this.\u0275cmp=je({type:t,selectors:[["ngx-scanner-qrcode"]],viewQuery:function(r,i){if(1&r&&(Rn(TDe,5),Rn(DDe,5),Rn(MDe,5)),2&r){let o;In(o=Tn())&&(i.video=o.first),In(o=Tn())&&(i.canvas=o.first),In(o=Tn())&&(i.resultsPanel=o.first)}},hostAttrs:[1,"ngx-scanner-qrcode"],inputs:{src:"src",fps:"fps",vibrate:"vibrate",decode:"decode",isBeep:"isBeep",config:"config",constraints:"constraints",canvasStyles:"canvasStyles"},outputs:{event:"event"},exportAs:["scanner"],decls:6,vars:0,consts:[[1,"origin-overlay"],["resultsPanel",""],[1,"origin-canvas"],["canvas",""],["playsinline","",1,"origin-video"],["video",""]],template:function(r,i){1&r&&ee(0,"div",0,1)(2,"canvas",2,3)(4,"video",4,5)},styles:[".ngx-scanner-qrcode{display:block;position:relative}.origin-overlay{width:100%;position:absolute}.origin-overlay span{z-index:2;text-align:left;position:absolute}.origin-overlay .qrcode-polygon{z-index:1;position:absolute}.origin-canvas{width:100%;position:absolute}.origin-video{width:100%;background-color:#262626}.qrcode-tooltip{z-index:3;position:absolute}.qrcode-tooltip:hover .qrcode-tooltip-temp{display:block;position:absolute;cursor:copy}.qrcode-tooltip:hover .qrcode-tooltip-temp:active{color:#afafaf}.qrcode-tooltip .qrcode-tooltip-temp{bottom:0;left:50%;color:#fff;text-align:left;display:none;width:max-content;word-wrap:break-word;transform:translate(-50%);transform-style:preserve-3d;background-color:#000000d0;box-shadow:1px 1px 20px #000000e0}.qrcode-tooltip .qrcode-tooltip-temp svg{cursor:pointer}.qrcode-tooltip .qrcode-tooltip-temp svg rect{fill:none;stroke:#fff;stroke-linejoin:round;stroke-width:32px}.qrcode-tooltip .qrcode-tooltip-temp svg path{fill:none;stroke:#fff;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px}.qrcode-tooltip .qrcode-tooltip-temp svg:active rect{stroke:#afafaf}.qrcode-tooltip .qrcode-tooltip-temp svg:active path{stroke:#afafaf}\n"],encapsulation:2})}return t})(),YP=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=on({type:t});static#n=this.\u0275inj=en({providers:[Kq]})}return t})();const zDe=["action"];function $De(t,e){1&t&&(y(0,"p"),C(1,"\u231b Loading..."),p())}let HDe=(()=>{class t{constructor(n,r,i,o,s){this.qrcode=n,this.router=r,this.route=i,this.auth=o,this.firestore=s,this.data=[],this.config={constraints:{video:{width:window.innerWidth}}},this.qrCodeResult=[],this.qrCodeResult2=[],this.getData()}ngAfterViewInit(){this.action.isReady.subscribe(n=>{})}onEvent(n,r){console.log(n[0].value),this.item=n[0].value,this.MyQuery()}handle(n,r){"start"===r?n[r](o=>{const s=o.find(a=>/back|rear|environment/gi.test(a.label));n.playDevice(s?s.deviceId:o[0].deviceId)}).subscribe(o=>console.log(r,o),alert):n[r]().subscribe(o=>console.log(r,o),alert)}onDowload(n){n.download().subscribe(console.log,alert)}onSelects(n){this.qrcode.loadFiles(n,.5).subscribe(r=>{this.qrCodeResult=r})}onSelects2(n){this.qrcode.loadFilesToScan(n,this.config,.5).subscribe(r=>{console.log(r),this.qrCodeResult2=r})}getData(){const n=ve(this.firestore,"muestras");de(n).then(r=>{this.data=[...r.docs.map(i=>({...i.data(),id:i.id}))]})}MyQuery(){var n=this;return m(function*(){let r=n.item;console.log(r);const i=Qt(ve(n.firestore,"muestras"),Bt("codigo","==",r));de(i).then(o=>{n.data=[...o.docs.map(s=>({...s.data(),id:s.id}))],0!=n.data.length&&(n.handle(n.action,"stop"),n.router.navigate(["user/muestras-info/"+r]))})})()}static#e=this.\u0275fac=function(r){return new(r||t)(I(Kq),I(Te),I(at),I(ze),I(ot))};static#t=this.\u0275cmp=je({type:t,selectors:[["app-scan"]],viewQuery:function(r,i){if(1&r&&Rn(zDe,5),2&r){let o;In(o=Tn())&&(i.action=o.first)}},decls:6,vars:8,consts:[[1,"container"],[1,"screen",3,"config","event"],["action","scanner"],[4,"ngIf"],[1,"btn",3,"disabled","click"],["width","30px",3,"src"]],template:function(r,i){if(1&r){const o=pt();y(0,"div",0)(1,"ngx-scanner-qrcode",1,2),Y("event",function(a){Ne(o);const c=fn(2);return Re(i.onEvent(a,c))}),p(),gr(3,$De,2,0,"p",3),y(4,"button",4),Y("click",function(){Ne(o);const a=fn(2);return Re(i.handle(a,a.isStart?"stop":"start"))}),ee(5,"img",5),p()()}if(2&r){const o=fn(2);B(),mr("config",i.config),B(2),mr("ngIf",o.isLoading),B(),$h("btn-info",!o.isStart)("btn-warning",o.isStart),mr("disabled",o.isLoading),B(),mr("src",o.isStart?"https://id1945.github.io/images/svg/camera-off.svg":"https://id1945.github.io/images/svg/camera-on.svg",hC)}},dependencies:[r5,VDe],styles:["h1[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{font-weight:600;word-break:break-all;font-family:Courier New,Courier,monospace}div[_ngcontent-%COMP%]{text-align:center}div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:50%;height:60px;width:60px;margin:4px}div[_ngcontent-%COMP%]   buttondisabled[_ngcontent-%COMP%]{cursor:no-drop}div[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]{background:#faebd7;border-radius:5px}.origin-overlay[_ngcontent-%COMP%]   .qrcode-tooltip[_ngcontent-%COMP%]   .qrcode-tooltip-temp[_ngcontent-%COMP%]{padding:5px!important}.screen[_ngcontent-%COMP%]{display:block;height:50%;width:50%;margin-left:auto;margin-right:auto}.container[_ngcontent-%COMP%]{top:25%;width:100%;position:absolute;left:0%}@media only screen and (max-width: 768px){h1[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{font-weight:600;word-break:break-all;font-family:Courier New,Courier,monospace}div[_ngcontent-%COMP%]{text-align:center}div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:50%;height:60px;width:60px;margin:10px 4px 4px}div[_ngcontent-%COMP%]   buttondisabled[_ngcontent-%COMP%]{cursor:no-drop}div[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]{background:#faebd7;border-radius:5px}.origin-overlay[_ngcontent-%COMP%]   .qrcode-tooltip[_ngcontent-%COMP%]   .qrcode-tooltip-temp[_ngcontent-%COMP%]{padding:5px!important}.screen[_ngcontent-%COMP%]{display:block;height:80%;width:80%;margin-left:auto;margin-right:auto}.container[_ngcontent-%COMP%]{top:25%;width:100%;position:absolute}}"]})}return t})();const GDe=["geo"];let qDe=(()=>{class t{static#e=this.text="";constructor(n,r,i,o,s){this.router=n,this.route=r,this.auth=i,this.firestore=o,this.location=s,this.title="gestion-de-muestras-de-campo",this.data=[],this.res="",this.somethingChange=new qe}ngOnInit(){this.route.params.subscribe(n=>{this.x=n.id,console.log(n),console.log(n.id)}),this.getData(),this.MyQuery()}handleRegister(n){this.addData(n),this.Home()}addData(n){var r=this;return m(function*(){console.log(n);const i=xe(r.firestore,"muestras",n.codigo);Zr(i,{codigo:n.codigo,cliente:n.cliente,fecha:n.fecha,cultivo:n.cultivo,tipo:n.tipo,fitopatogeno:n.fitopatogeno,repeticion:n.repeticion,coordenadas:n.coordenadas,sintomas:n.sintomas,comentarios:n.comentarios,project:r.pid}).then(()=>{alert("Data Sent")}).catch(o=>{alert(o.message)}),console.log(r.pid)})()}getData(){const n=ve(this.firestore,"muestras");de(n).then(r=>{this.data=[...r.docs.map(i=>({...i.data(),id:i.id}))]})}showPosition(n){console.log(n.coords.latitude),console.log(n.coords.longitude),t.text=n.coords.latitude+", "+n.coords.longitude}getLocation(){var n=this;return m(function*(){n.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(n.showPosition):console.log("error"),setTimeout(()=>{n.res=t.text,console.log(n.res)},1e3)})()}MyQuery(){var n=this;return m(function*(){let r=n.x;const i=Qt(ve(n.firestore,"muestras"),Bt("codigo","==",r)),o=yield de(i);o.empty||o.forEach(s=>{n.item=s.data(),console.log(s.id," => ",s.data()),n.res=n.item.coordenadas,n.pid=n.item.project})})()}deleteData(n){const i=xe(this.firestore,"muestras",this.x);yn(i).then(()=>{alert("Data Deleted"),this.router.navigate(["user/muestras/"+this.pid])}).catch(o=>{alert(o.message)})}Home(){this.router.navigate(["user/projects"])}static#t=this.\u0275fac=function(r){return new(r||t)(I(Te),I(at),I(ze),I(ot),I(Pr))};static#n=this.\u0275cmp=je({type:t,selectors:[["app-muestras-edit"]],viewQuery:function(r,i){if(1&r&&Rn(GDe,5),2&r){let o;In(o=Tn())&&(i.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:68,vars:11,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],["name","codigo","ngModel","","placeholder","codigo","id","codigo","type","codigo",1,"input-field",3,"ngModel","ngModelChange"],["name","cliente","ngModel","","placeholder","Cliente","id","cliente","type","cliente",1,"input-field",3,"ngModel","ngModelChange"],["name","fecha","ngModel","","placeholder","Fecha","id","fecha","type","fecha",1,"input-field",3,"ngModel","ngModelChange"],["name","cultivo","ngModel","","placeholder","Cultivo","id","cultivo","type","cultivo",1,"input-field",3,"ngModel","ngModelChange"],["list","tipos","name","tipo","ngModel","","placeholder","Tipo","id","tipo","type","tipo",1,"input-field",3,"ngModel","ngModelChange"],["id","tipos"],["value","Hibrido"],["value","Variedad"],["value","Clone"],["list","fitopatogenos","name","fitopatogeno","ngModel","","placeholder","Fitopat\xf3geno","id","fitopatogeno","type","fitopatogeno",1,"input-field",3,"ngModel","ngModelChange"],["id","fitopatogenos"],["value","Hongos"],["value","Bacterias"],["value","Virus"],["name","lote","ngModel","","placeholder","Lote","id","lote","type","lote",1,"input-field",3,"ngModel","ngModelChange"],["name","repeticion","ngModel","","placeholder","Repeticion","id","repeticion","type","repeticion",1,"input-field",3,"ngModel","ngModelChange"],["name","coordenadas","ngModel","","placeholder","Coordenadas","id","coordenadas","type","coordenadas",1,"input-field",3,"ngModel","ngModelChange"],[1,"bUbicacion",3,"click"],["src","../../../../assets/Ubicacion.png","alt","U"],["name","sintomas","ngModel","","placeholder","S\xedntomas","id","sintomas","rows","4","cols","50",3,"ngModel","ngModelChange"],["name","comentarios","ngModel","","placeholder","Comentarios","id","comentarios","rows","4","cols","50",3,"ngModel","ngModelChange"],[1,"boton"],[1,"botonrojo",3,"click"],[1,"blank"]],template:function(r,i){if(1&r){const o=pt();y(0,"p"),C(1,"muestras-edit works!"),p(),y(2,"h1",0),C(3,"Editar Muestra"),p(),y(4,"div",1)(5,"form",2,3),Y("ngSubmit",function(){Ne(o);const a=fn(6);return Re(i.handleRegister(a.value))}),y(7,"div",4)(8,"div",5)(9,"span",6),C(10,"Codigo:"),p(),y(11,"input",7),Ke("ngModelChange",function(a){return Ze(i.item.codigo,a)||(i.item.codigo=a),a}),p()(),y(12,"div",5)(13,"span",6),C(14,"Cliente:"),p(),y(15,"input",8),Ke("ngModelChange",function(a){return Ze(i.item.cliente,a)||(i.item.cliente=a),a}),p()(),y(16,"div",5)(17,"span",6),C(18,"Fecha:"),p(),y(19,"input",9),Ke("ngModelChange",function(a){return Ze(i.item.fecha,a)||(i.item.fecha=a),a}),p()(),y(20,"div",5)(21,"span",6),C(22,"Cultivo:"),p(),y(23,"input",10),Ke("ngModelChange",function(a){return Ze(i.item.cultivo,a)||(i.item.cultivo=a),a}),p()(),y(24,"div",5)(25,"span",6),C(26,"Tipo:"),p(),y(27,"input",11),Ke("ngModelChange",function(a){return Ze(i.item.tipo,a)||(i.item.tipo=a),a}),p(),y(28,"datalist",12),ee(29,"option",13)(30,"option",14)(31,"option",15),p()(),y(32,"div",5)(33,"span",6),C(34,"Fitopat\xf3geno:"),p(),y(35,"input",16),Ke("ngModelChange",function(a){return Ze(i.item.fitopatogeno,a)||(i.item.fitopatogeno=a),a}),p(),y(36,"datalist",17),ee(37,"option",18)(38,"option",19)(39,"option",20),p()(),y(40,"div",5)(41,"span",6),C(42,"Lote:"),p(),y(43,"input",21),Ke("ngModelChange",function(a){return Ze(i.item.lote,a)||(i.item.lote=a),a}),p()(),y(44,"div",5)(45,"span",6),C(46,"Repetici\xf3n:"),p(),y(47,"input",22),Ke("ngModelChange",function(a){return Ze(i.item.repeticion,a)||(i.item.repeticion=a),a}),p()(),y(48,"div",5)(49,"span",6),C(50,"Coordenadas:"),p(),y(51,"input",23),Ke("ngModelChange",function(a){return Ze(i.res,a)||(i.res=a),a}),p(),y(52,"div",24),Y("click",function(){return i.getLocation()}),ee(53,"img",25),p()(),y(54,"div",5)(55,"span",6),C(56,"S\xedntomas:"),p(),y(57,"textarea",26),Ke("ngModelChange",function(a){return Ze(i.item.sintomas,a)||(i.item.sintomas=a),a}),p()(),y(58,"div",5)(59,"span",6),C(60,"Comentarios:"),p(),y(61,"textarea",27),Ke("ngModelChange",function(a){return Ze(i.item.comentarios,a)||(i.item.comentarios=a),a}),C(62," "),p()(),y(63,"button",28),C(64,"Editar Muestra"),p(),y(65,"button",29),Y("click",function(){return i.deleteData(i.item.id)}),C(66," Delete "),p()(),ee(67,"div",30),p()()}2&r&&(B(11),We("ngModel",i.item.codigo),B(4),We("ngModel",i.item.cliente),B(4),We("ngModel",i.item.fecha),B(4),We("ngModel",i.item.cultivo),B(4),We("ngModel",i.item.tipo),B(8),We("ngModel",i.item.fitopatogeno),B(8),We("ngModel",i.item.lote),B(4),We("ngModel",i.item.repeticion),B(4),We("ngModel",i.res),B(6),We("ngModel",i.item.sintomas),B(4),We("ngModel",i.item.comentarios))},dependencies:[Yn,mf,_f,Kr,Mi,Qn,hi,Mn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:69%;flex-shrink:0;position:absolute;left:15%;top:24%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:0%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:85%;height:20px;left:92px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:39%;top:16%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{margin:2%;background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:90%;top:100%}.botonrojo[_ngcontent-%COMP%]{margin:2%;background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:0%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.input-field[_ngcontent-%COMP%]{margin:6px 6px 6px 24px;height:20px;left:92px;color:#000;font-family:Arial;font-size:16px;letter-spacing:0;text-overflow:ellipsis}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:6px 6px 6px 22px;font-family:Arial;width:85%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:3%;top:2%}.Text[_ngcontent-%COMP%]{color:#000;height:20px;font-family:Arial;font-size:16px;letter-spacing:0}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:95%;height:95%;flex-shrink:0;position:absolute;left:2.5%;top:30%}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:67%;top:105%;border:none;float:right;background-color:#3eb3c2;color:#fff;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:12px;left:0%;top:105%}.blank[_ngcontent-%COMP%]{width:100%;height:16px;position:absolute;left:0%;top:110%}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}return t})();const WDe=["geo"];let KDe=(()=>{class t{constructor(n,r,i,o,s){this.router=n,this.route=r,this.auth=i,this.firestore=o,this.location=s,this.title="gestion-de-muestras-de-campo",this.data=[],this.somethingChange=new qe,this.getData(),this.MyQuery()}ngOnInit(){this.route.params.subscribe(n=>{this.text=n.id,console.log(n),console.log(n.id)}),this.getData(),this.MyQuery()}handleRegister(n){this.addData(n)}addData(n){const r=xe(this.firestore,"muestras",n.codigo);Gi(r,n).then(()=>{alert("Data Sent")}).catch(i=>{alert(i.message)}),console.log(n.comentarios)}getData(){const n=ve(this.firestore,"muestras");de(n).then(r=>{this.data=[...r.docs.map(i=>({...i.data(),id:i.id}))]})}showPosition(n){console.log(n.coords.latitude),console.log(n.coords.longitude)}getLocation(){var n=this;return m(function*(){n.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(n.showPosition):console.log("error"),setTimeout(()=>{console.log(n.res)},1e3)})()}MyQuery(){var n=this;return m(function*(){let r=n.text;const i=Qt(ve(n.firestore,"muestras"),Bt("codigo","==",r)),o=yield de(i);o.empty||o.forEach(s=>{n.item=s.data(),console.log(s.id," => ",s.data())})})()}editMuestra(){this.router.navigate(["user/muestras-edit/"+this.text])}deleteData(n){const r=xe(this.firestore,"users",n);yn(r).then(()=>{alert("Data Deleted"),this.getData()}).catch(i=>{alert(i.message)})}backPage(){this.location.back()}static#e=this.\u0275fac=function(r){return new(r||t)(I(Te),I(at),I(ze),I(ot),I(Pr))};static#t=this.\u0275cmp=je({type:t,selectors:[["app-muestras-info"]],viewQuery:function(r,i){if(1&r&&Rn(WDe,5),2&r){let o;In(o=Tn())&&(i.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:60,vars:10,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],[1,"input-field"],[1,"boton",3,"click"]],template:function(r,i){if(1&r){const o=pt();y(0,"p"),C(1,"muestras-info works!"),p(),y(2,"h1",0),C(3,"Datos de la Muestra"),p(),y(4,"div",1)(5,"form",2,3),Y("ngSubmit",function(){Ne(o);const a=fn(6);return Re(i.handleRegister(a.value))}),y(7,"div",4)(8,"div",5)(9,"span",6),C(10,"Codigo:"),p(),y(11,"span",7),C(12),p()(),y(13,"div",5)(14,"span",6),C(15,"Cliente:"),p(),y(16,"span",7),C(17),p()(),y(18,"div",5)(19,"span",6),C(20,"Fecha:"),p(),y(21,"span",7),C(22),p()(),y(23,"div",5)(24,"span",6),C(25,"Cultivo:"),p(),y(26,"span",7),C(27),p()(),y(28,"div",5)(29,"span",6),C(30,"Tipo:"),p(),y(31,"span",7),C(32),p()(),y(33,"div",5)(34,"span",6),C(35,"Fitopat\xf3geno:"),p(),y(36,"span",7),C(37),p()(),y(38,"div",5)(39,"span",6),C(40,"Lote:"),p(),y(41,"span",7),C(42),p()(),y(43,"div",5)(44,"span",6),C(45,"Repetici\xf3n:"),p(),y(46,"span",7),C(47),p()(),y(48,"div",5)(49,"span",6),C(50,"S\xedntomas:"),p(),y(51,"span",7),C(52),p()(),y(53,"div",5)(54,"span",6),C(55,"Comentarios:"),p(),y(56,"span",7),C(57),p()()()()(),y(58,"button",8),Y("click",function(){return i.editMuestra()}),C(59,"Editar Muestra"),p()}2&r&&(B(12),ke(" ",i.item.codigo,""),B(5),ke(" ",i.item.cliente,""),B(5),ke(" ",i.item.fecha,""),B(5),ke(" ",i.item.cultivo,""),B(5),ke(" ",i.item.tipo,""),B(5),ke(" ",i.item.fitopatogeno,""),B(5),ke(" ",i.item.lote,""),B(5),ke(" ",i.item.repeticion,""),B(5),ke(" ",i.item.sintomas,""),B(5),ke(" ",i.item.comentarios,""))},dependencies:[Yn,Qn,Mn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:65%;height:62%;flex-shrink:0;position:absolute;left:25%;top:28%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:10%;top:2%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:12px 12px 12px 25px;height:20px;left:92px;color:#000;font-family:Arial;font-size:20px;letter-spacing:0}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:40%;top:20%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;height:25px;font-family:Arial;font-size:20px;font-weight:700;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:80%;top:92%}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:0%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.input-field[_ngcontent-%COMP%]{margin:6px 6px 6px 10px;height:20px;left:92px;color:#000;font-family:Arial;font-size:16px;letter-spacing:0;text-overflow:ellipsis}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:5%;top:2%}.Text[_ngcontent-%COMP%]{color:#000;height:20px;font-family:Arial;font-size:16px;letter-spacing:0}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:90%;height:55%;flex-shrink:0;position:absolute;left:5%;top:33%}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:67%;top:90%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:12px;left:0%;top:110%}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:25%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}return t})();const QDe=["geo"];let YDe=(()=>{class t{constructor(n,r,i,o,s){this.router=n,this.route=r,this.auth=i,this.firestore=o,this.location=s,this.title="gestion-de-muestras-de-campo",this.data=[],this.somethingChange=new qe}ngOnInit(){this.route.params.subscribe(n=>{this.text=n.id,console.log(n),console.log(n.id)}),this.getData(),this.MyQuery()}handleRegister(n){this.addData(n),this.Home()}randomCode(){let n="";for(let o=0;o<20;o++)n+="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".charAt(Math.floor(62*Math.random()));return n}addData(n){let r=n.integrantes.split(/[\s,]+/);const i=xe(this.firestore,"projects",this.pid);Gi(i,{name:n.name,cliente:n.cliente,owner:n.owner,integrantes:r}).then(()=>{alert("Data Sent")}).catch(o=>{alert(o.message)}),console.log(n.comentarios)}getData(){const n=ve(this.firestore,"projects");de(n).then(r=>{this.data=[...r.docs.map(i=>({...i.data(),id:i.id}))]})}showPosition(n){console.log(n.coords.latitude),console.log(n.coords.longitude)}getLocation(){var n=this;return m(function*(){n.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(n.showPosition):console.log("error"),setTimeout(()=>{console.log(n.res)},1e3)})()}MyQuery(){var n=this;return m(function*(){let r=n.text;const i=Qt(ve(n.firestore,"projects"),Bt("name","==",r));(yield de(i)).forEach(s=>{n.item=s.data(),n.pid=s.id,console.log(s.id," => ",s.data())})})()}deleteData(n){const r=xe(this.firestore,"projects",n);yn(r).then(()=>{alert("Data Deleted"),this.getData()}).catch(i=>{alert(i.message)})}Home(){this.router.navigate(["user/projects"])}backPage(){this.location.back()}static#e=this.\u0275fac=function(r){return new(r||t)(I(Te),I(at),I(ze),I(ot),I(Pr))};static#t=this.\u0275cmp=je({type:t,selectors:[["app-project-edit"]],viewQuery:function(r,i){if(1&r&&Rn(QDe,5),2&r){let o;In(o=Tn())&&(i.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:28,vars:4,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],["name","name","ngModel","","placeholder","Name","id","name","type","name",1,"input-field",3,"ngModel","ngModelChange"],["name","owner","ngModel","","placeholder","Owner","id","owner","type","owner",1,"input-field",3,"ngModel","ngModelChange"],["name","integrantes","ngModel","","placeholder","Integrantes","id","integrantes","type","integrantes",1,"input-field",3,"ngModel","ngModelChange"],["name","cliente","ngModel","","placeholder","Cliente","id","cliente","type","cliente",1,"input-field",3,"ngModel","ngModelChange"],[1,"boton"],[1,"botonrojo",3,"click"]],template:function(r,i){if(1&r){const o=pt();y(0,"p"),C(1,"project-edit works!"),p(),y(2,"h1",0),C(3,"Editar Projecto"),p(),y(4,"div",1)(5,"form",2,3),Y("ngSubmit",function(){Ne(o);const a=fn(6);return Re(i.handleRegister(a.value))}),y(7,"div",4)(8,"div",5)(9,"span",6),C(10,"Nombre:"),p(),y(11,"input",7),Ke("ngModelChange",function(a){return Ze(i.item.name,a)||(i.item.name=a),a}),p()(),y(12,"div",5)(13,"span",6),C(14,"Owner:"),p(),y(15,"input",8),Ke("ngModelChange",function(a){return Ze(i.item.owner,a)||(i.item.owner=a),a}),p()(),y(16,"div",5)(17,"span",6),C(18,"Integrantes:"),p(),y(19,"input",9),Ke("ngModelChange",function(a){return Ze(i.item.integrantes,a)||(i.item.integrantes=a),a}),p()(),y(20,"div",5)(21,"span",6),C(22,"Cliente:"),p(),y(23,"input",10),Ke("ngModelChange",function(a){return Ze(i.item.cliente,a)||(i.item.cliente=a),a}),p()(),y(24,"button",11),C(25,"Editar Projecto"),p(),y(26,"button",12),Y("click",function(){return i.deleteData(i.pid)}),C(27," Delete "),p()()()()}2&r&&(B(11),We("ngModel",i.item.name),B(4),We("ngModel",i.item.owner),B(4),We("ngModel",i.item.integrantes),B(4),We("ngModel",i.item.cliente))},dependencies:[Yn,Kr,Mi,Qn,hi,Mn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:35%;flex-shrink:0;position:absolute;left:15%;top:30%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:5%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:85%;height:20px;left:92px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:35%;top:20%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:85%;top:110%}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:0%;top:110%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.input-field[_ngcontent-%COMP%]{margin:6px 6px 6px 20px;height:20px;width:50%;left:92px;color:#000;font-family:Arial;font-size:16px;letter-spacing:0;text-overflow:ellipsis}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:20px;font-family:Arial;font-size:16px;letter-spacing:0}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:90%;height:25%;flex-shrink:0;position:absolute;left:5%;top:45%}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:70%;top:110%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:12px;left:0%;top:110%}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:30%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}return t})();function XDe(t,e){if(1&t){const n=pt();y(0,"tr")(1,"td"),C(2),p(),y(3,"td"),C(4),p(),y(5,"td"),C(6),p(),y(7,"td"),C(8),p(),y(9,"td")(10,"button",5),Y("click",function(){const o=Ne(n).$implicit;return Re(cn().infoMuestra(o.codigo))}),p(),y(11,"button",6),Y("click",function(){const o=Ne(n).$implicit;return Re(cn().editMuestra(o.codigo))}),p(),y(12,"button",7),Y("click",function(){const o=Ne(n).$implicit;return Re(cn().Barcode(o.codigo))}),p()()()}if(2&t){const n=e.$implicit;B(2),Fe(n.codigo),B(2),Fe(n.fecha),B(2),Fe(n.cultivo),B(2),Fe(n.coordenadas)}}let JDe=(()=>{class t{constructor(n,r,i,o){this.router=n,this.route=r,this.auth=i,this.firestore=o,this.data=[],this.getData()}ngOnInit(){this.route.params.subscribe(n=>{this.item=n.id,console.log(n),console.log(n.id)})}getData(){const n=ve(this.firestore,"muestras");de(n).then(r=>{this.data=[...r.docs.map(i=>({...i.data(),id:i.id}))]})}updateData(n){const r=xe(this.firestore,"muestras",n);Zr(r,{}).then(()=>{alert("Data updated"),this.getData()}).catch(i=>{alert(i.message)})}deleteData(n){const r=xe(this.firestore,"muestras",n);yn(r).then(()=>{alert("Data Deleted"),this.getData()}).catch(i=>{alert(i.message)})}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["user/projects"])}logOut(){wr(this.auth).then(()=>{}).catch(n=>{}),this.router.navigate(["auth/select"])}newMuestra(){this.router.navigate(["user/muestras-new"])}editMuestra(n){this.router.navigate(["user/muestras-edit/"+n])}infoProject(n){this.router.navigate(["user/project-edit/"+n])}infoMuestra(n){this.router.navigate(["user/muestras-info/"+n])}Barcode(n){this.router.navigate(["user/barcode/"+n])}MyQuery(){var n=this;return m(function*(){let r=n.item;n.pid=r,console.log(r);const i=Qt(ve(n.firestore,"muestras"),Bt("project","==",r));de(i).then(s=>{n.data=[...s.docs.map(a=>({...a.data(),id:a.id}))]}),(yield de(i)).forEach(s=>{console.log(s.id," => ",s.data())})})()}static#e=this.\u0275fac=function(r){return new(r||t)(I(Te),I(at),I(ze),I(ot))};static#t=this.\u0275cmp=je({type:t,selectors:[["app-muestras-all"]],decls:20,vars:1,consts:[[1,"subTituloText"],[1,"scanbutton"],[1,"scantext",3,"click"],[1,"list"],[4,"ngFor","ngForOf"],[1,"detalles",3,"click"],[1,"edit",3,"click"],[1,"imprimir",3,"click"]],template:function(r,i){1&r&&(y(0,"p"),C(1,"muestras-all works!"),p(),y(2,"h1",0),C(3,"Muestras"),p(),y(4,"div",1)(5,"div",2),Y("click",function(){return i.Scan()}),C(6,"SCAN"),p()(),y(7,"div",3)(8,"table")(9,"tr")(10,"th"),C(11," Codigo "),p(),y(12,"th"),C(13," Fecha "),p(),y(14,"th"),C(15," Cultivo"),p(),y(16,"th"),C(17," Coordenadas "),p(),ee(18,"th"),p(),gr(19,XDe,13,4,"tr",4),p()()),2&r&&(B(19),mr("ngForOf",i.data))},dependencies:[ji],styles:[".list[_ngcontent-%COMP%]{position:absolute;left:38%;top:38%}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.projectBlock[_ngcontent-%COMP%]{width:auto;height:35px;background:#3ec28f;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:20px;font-weight:700;letter-spacing:0;cursor:pointer}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{cursor:pointer;width:153px;height:36px;left:49%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;left:45%;top:20%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;margin-left:2px;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.list[_ngcontent-%COMP%]{position:absolute;left:5%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:153px;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:80%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;left:30%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}return t})();const ZDe=["geo"];let eMe=(()=>{class t{constructor(n,r,i,o,s){this.router=n,this.route=r,this.auth=i,this.firestore=o,this.location=s,this.title="gestion-de-muestras-de-campo",this.data=[],this.somethingChange=new qe}ngOnInit(){this.route.params.subscribe(n=>{this.text=n.id,console.log(n),console.log(n.id)}),this.getData(),this.MyQuery()}handleRegister(n){this.addData(n)}randomCode(){let n="";for(let o=0;o<20;o++)n+="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".charAt(Math.floor(62*Math.random()));return n}addData(n){let r=n.integrantes.split(/[\s,]+/);const i=xe(this.firestore,"projects",this.pid);Gi(i,{name:n.name,cliente:n.cliente,owner:n.owner,integrantes:r}).then(()=>{alert("Data Sent")}).catch(o=>{alert(o.message)}),console.log(n.comentarios)}getData(){const n=ve(this.firestore,"projects");de(n).then(r=>{this.data=[...r.docs.map(i=>({...i.data(),id:i.id}))]})}showPosition(n){console.log(n.coords.latitude),console.log(n.coords.longitude)}getLocation(){var n=this;return m(function*(){n.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(n.showPosition):console.log("error"),setTimeout(()=>{console.log(n.res)},1e3)})()}MyQuery(){var n=this;return m(function*(){let r=n.text;const i=Qt(ve(n.firestore,"projects"),Bt("name","==",r));(yield de(i)).forEach(s=>{n.item=s.data(),n.pid=s.id,console.log(s.id," => ",s.data())})})()}deleteData(n){const r=xe(this.firestore,"projects",n);yn(r).then(()=>{alert("Data Deleted"),this.getData()}).catch(i=>{alert(i.message)})}editProyecto(){this.router.navigate(["user/project-edit/"+this.text])}backPage(){this.location.back()}static#e=this.\u0275fac=function(r){return new(r||t)(I(Te),I(at),I(ze),I(ot),I(Pr))};static#t=this.\u0275cmp=je({type:t,selectors:[["app-project-info"]],viewQuery:function(r,i){if(1&r&&Rn(ZDe,5),2&r){let o;In(o=Tn())&&(i.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:30,vars:4,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],[1,"input-field"],[1,"boton",3,"click"]],template:function(r,i){if(1&r){const o=pt();y(0,"p"),C(1,"project-info works!"),p(),y(2,"h1",0),C(3,"Datos del Projecto"),p(),y(4,"div",1)(5,"form",2,3),Y("ngSubmit",function(){Ne(o);const a=fn(6);return Re(i.handleRegister(a.value))}),y(7,"div",4)(8,"div",5)(9,"span",6),C(10,"Nombre:"),p(),y(11,"span",7),C(12),p()(),y(13,"div",5)(14,"span",6),C(15,"Owner:"),p(),y(16,"span",7),C(17),p()(),y(18,"div",5)(19,"span",6),C(20,"Integrantes:"),p(),y(21,"span",7),C(22),p()(),y(23,"div",5)(24,"span",6),C(25,"Cliente:"),p(),y(26,"span",7),C(27),p()()()()(),y(28,"button",8),Y("click",function(){return i.editProyecto()}),C(29,"Editar Proyecto"),p()}2&r&&(B(12),ke(" ",i.item.name,""),B(5),ke(" ",i.item.owner,""),B(5),ke(" ",i.item.integrantes,""),B(5),ke(" ",i.item.cliente,""))},dependencies:[Yn,Qn,Mn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:25%;flex-shrink:0;position:absolute;left:15%;top:30%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:5%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:12px 12px 12px 25px;height:20px;left:92px;color:#000;font-family:Arial;font-size:20px;letter-spacing:0}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:35%;top:20%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:80%;top:60%}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:0%;top:110%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.input-field[_ngcontent-%COMP%]{margin:6px 6px 6px 20px;height:20px;width:50%;left:92px;color:#000;font-family:Arial;font-size:16px;letter-spacing:0;text-overflow:ellipsis}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:20px;font-family:Arial;font-size:16px;letter-spacing:0}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:90%;height:25%;flex-shrink:0;position:absolute;left:5%;top:45%}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:70%;top:75%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:30%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}return t})();function tMe(t,e){if(1&t){const n=pt();y(0,"tr")(1,"td"),C(2),p(),y(3,"td"),C(4),p(),y(5,"td"),C(6),p(),y(7,"td"),C(8),p(),y(9,"td")(10,"button",8),Y("click",function(){const o=Ne(n).$implicit,s=cn();return Re(s.Muestras(s.pid,o.codigo))}),p(),y(11,"button",9),Y("click",function(){const o=Ne(n).$implicit;return Re(cn().infoUnidad(o.codigo))}),p(),y(12,"button",10),Y("click",function(){const o=Ne(n).$implicit;return Re(cn().editUnidad(o.codigo))}),p()()()}if(2&t){const n=e.$implicit;B(2),Fe(n.codigo),B(2),Fe(n.cliente),B(2),Fe(n.altitud),B(2),Fe(n.coordenadas)}}let nMe=(()=>{class t{constructor(n,r,i,o,s){this.router=n,this.route=r,this.auth=i,this.firestore=o,this.location=s,this.data=[]}ngOnInit(){this.route.params.subscribe(n=>{this.pid=n.id,console.log(n),console.log(n.id)}),this.MyQuery()}getData(){const n=ve(this.firestore,"unidad-produccion");de(n).then(r=>{this.data=[...r.docs.map(i=>({...i.data(),id:i.id}))]})}updateData(n){const r=xe(this.firestore,"unidad-produccion",n);Zr(r,{}).then(()=>{alert("Data updated"),this.getData()}).catch(i=>{alert(i.message)})}deleteData(n){const r=xe(this.firestore,"unidad-produccion",n);yn(r).then(()=>{alert("Data Deleted"),this.getData()}).catch(i=>{alert(i.message)})}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["user/projects"])}Muestras(n,r){this.router.navigate(["user/muestras/"+n+"/"+r])}logOut(){wr(this.auth).then(()=>{}).catch(n=>{}),this.router.navigate(["auth/select"])}newUnidad(n){this.router.navigate(["user/unidad-produccion-new/"+n])}editUnidad(n){this.router.navigate(["user/unidad-produccion-edit/"+n])}infoProject(n){this.router.navigate(["user/project-info/"+n])}infoUnidad(n){this.router.navigate(["user/unidad-produccion-info/"+n])}MyQuery(){var n=this;return m(function*(){let r=n.pid;console.log(r);const i=Qt(ve(n.firestore,"unidad-produccion"),Bt("project","==",r));de(i).then(s=>{n.data=[...s.docs.map(a=>({...a.data(),id:a.id}))]}),(yield de(i)).forEach(s=>{console.log(s.id," => ",s.data())})})()}backPage(){this.location.back()}static#e=this.\u0275fac=function(r){return new(r||t)(I(Te),I(at),I(ze),I(ot),I(Pr))};static#t=this.\u0275cmp=je({type:t,selectors:[["app-unidad-produccion"]],decls:26,vars:1,consts:[[1,"subTituloText"],[1,"scanbutton"],[1,"scantext",3,"click"],[1,"list"],[1,"projectBlock"],[4,"ngFor","ngForOf"],["id","agregar",1,"boton",3,"click"],["id","volver",1,"boton",3,"click"],[1,"muestras",3,"click"],[1,"detalles",3,"click"],[1,"edit",3,"click"]],template:function(r,i){1&r&&(y(0,"p"),C(1,"unidad-produccion works!"),p(),y(2,"h1",0),C(3,"Unidades "),p(),y(4,"div",1)(5,"div",2),Y("click",function(){return i.Scan()}),C(6,"SCAN"),p()(),y(7,"div",3)(8,"div",4),C(9,"Proyecto"),p(),y(10,"table")(11,"tr")(12,"th"),C(13," Codigo "),p(),y(14,"th"),C(15," Cliente "),p(),y(16,"th"),C(17," Altitud"),p(),y(18,"th"),C(19," Coordenadas "),p(),ee(20,"th"),p(),gr(21,tMe,13,4,"tr",5),p(),y(22,"button",6),Y("click",function(){return i.newUnidad(i.pid)}),C(23," Agregar "),p(),y(24,"button",7),Y("click",function(){return i.backPage()}),C(25," Volver "),p()()),2&r&&(B(21),mr("ngForOf",i.data))},dependencies:[ji],styles:[".list[_ngcontent-%COMP%]{position:absolute;left:38%;top:38%}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.projectBlock[_ngcontent-%COMP%]{width:60%;height:35px;background:#3ec28f;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:20px;font-weight:700;letter-spacing:0;cursor:pointer}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:153px;height:36px;left:49%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}#volver[_ngcontent-%COMP%]{position:absolute;left:0%}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;left:45%;top:20%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.projectBlock[_ngcontent-%COMP%]{width:40%;height:25px;background:#3ec28f;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:14px;font-weight:700;letter-spacing:0;cursor:pointer}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:153px;height:36px;left:30%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:80%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}#volver[_ngcontent-%COMP%]{position:absolute;left:0%}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;left:30%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}return t})();const rMe=["geo"];let iMe=(()=>{class t{static#e=this.text="";constructor(n,r,i,o){this.router=n,this.route=r,this.auth=i,this.firestore=o,this.title="gestion-de-muestras-de-campo",this.data=[],this.res="",this.somethingChange=new qe}ngOnInit(){this.route.params.subscribe(n=>{this.pid=n.id})}handleRegister(n){this.addData(n)}addData(n){const r=xe(this.firestore,"unidad-produccion",n.codigo);Gi(r,{codigo:n.codigo,cliente:n.cliente,fecha:n.fecha,cultivo:n.cultivo,tipo:n.tipo,fitopatogeno:n.fitopatogeno,estado:n.estado,coordenadas:n.coordenadas,sintomas:n.sintomas,comentarios:n.comentarios,project:this.pid}).then(()=>{alert("Data Sent")}).catch(i=>{alert(i.message)}),console.log(n.comentarios)}getData(){const n=ve(this.firestore,"unidad-produccion");de(n).then(r=>{this.data=[...r.docs.map(i=>({...i.data(),id:i.id}))]})}showPosition(n){console.log(n.coords.latitude),console.log(n.coords.longitude),t.text=n.coords.latitude+", "+n.coords.longitude,console.log(t.text)}getLocation(){var n=this;return m(function*(){n.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(n.showPosition):console.log("error"),setTimeout(()=>{n.res=t.text,console.log(n.res)},1e3)})()}static#t=this.\u0275fac=function(r){return new(r||t)(I(Te),I(at),I(ze),I(ot))};static#n=this.\u0275cmp=je({type:t,selectors:[["app-unidad-produccion-new"]],viewQuery:function(r,i){if(1&r&&Rn(rMe,5),2&r){let o;In(o=Tn())&&(i.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:52,vars:1,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],["name","codigo","ngModel","","placeholder","codigo","id","codigo","type","codigo",1,"input-field"],["name","cliente","ngModel","","placeholder","Cliente","id","cliente","type","cliente",1,"input-field"],["name","coordenadas","ngModel","","placeholder","Coordenadas","id","coordenadas","type","coordenadas",1,"input-field",3,"ngModel","ngModelChange"],[1,"bUbicacion",3,"click"],["src","../../../../assets/Ubicacion.png","alt","U"],["name","localidad","ngModel","","placeholder","Localidad","id","localidad","type","localidad",1,"input-field"],["name","municipio","ngModel","","placeholder","Municipio","id","municipio","type","municipio",1,"input-field"],["name","estado","ngModel","","placeholder","Estado","id","estado","type","estado",1,"input-field"],["name","altitud","ngModel","","placeholder","Altitud","id","altitud","type","altitud",1,"input-field"],["name","tempmax","ngModel","","placeholder","Temperaturas M\xe1ximas","id","tempmax","type","tempmax",1,"input-field"],["name","tempmin","ngModel","","placeholder","Temperaturas M\xednimas","id","tempmin","type","tempmin",1,"input-field"],["name","precipitacion","ngModel","","placeholder","Precipitaci\xf3n","id","precipitacion","type","precipitacion",1,"input-field"],[1,"boton"]],template:function(r,i){if(1&r){const o=pt();y(0,"p"),C(1,"unidad-produccion-new works!"),p(),y(2,"h1",0),C(3,"Nueva Unidad"),p(),y(4,"div",1)(5,"form",2,3),Y("ngSubmit",function(){Ne(o);const a=fn(6);return Re(i.handleRegister(a.value))}),y(7,"div",4)(8,"div",5)(9,"span",6),C(10,"Codigo:"),p(),ee(11,"input",7),p(),y(12,"div",5)(13,"span",6),C(14,"Cliente:"),p(),ee(15,"input",8),p(),y(16,"div",5)(17,"span",6),C(18,"Coordenadas:"),p(),y(19,"input",9),Ke("ngModelChange",function(a){return Ze(i.res,a)||(i.res=a),a}),p(),y(20,"div",10),Y("click",function(){return i.getLocation()}),ee(21,"img",11),p()(),y(22,"div",5)(23,"span",6),C(24,"Localidad:"),p(),ee(25,"input",12),p(),y(26,"div",5)(27,"span",6),C(28,"Municipio:"),p(),ee(29,"input",13),p(),y(30,"div",5)(31,"span",6),C(32,"Estado:"),p(),ee(33,"input",14),p(),y(34,"div",5)(35,"span",6),C(36,"Altitud:"),p(),ee(37,"input",15),p(),y(38,"div",5)(39,"span",6),C(40,"Temperaturas M\xe1ximas:"),p(),ee(41,"input",16),p(),y(42,"div",5)(43,"span",6),C(44,"Temperaturas M\xednimas:"),p(),ee(45,"input",17),p(),y(46,"div",5)(47,"span",6),C(48,"Precipitaci\xf3n:"),p(),ee(49,"input",18),p(),y(50,"button",19),C(51,"Crear Unidad"),p()()()()}2&r&&(B(19),We("ngModel",i.res))},dependencies:[Yn,Kr,Mi,Qn,hi,Mn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:70%;flex-shrink:0;position:absolute;left:15%;top:25%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:3%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:85%;height:20px;left:92px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:35%;top:15%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:80%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:85%;height:50%;flex-shrink:0;position:absolute;left:7%;top:30%}.input-field[_ngcontent-%COMP%]{margin:10px 10px 10px 20px;width:85%;height:20px;left:92px}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:20px;font-family:Arial;font-size:16px;letter-spacing:0}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:3%;top:3%}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:75%;top:110%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}return t})();const oMe=["geo"];let sMe=(()=>{class t{static#e=this.text="";constructor(n,r,i,o,s){this.router=n,this.route=r,this.auth=i,this.firestore=o,this.location=s,this.title="gestion-de-muestras-de-campo",this.data=[],this.res="",this.somethingChange=new qe}ngOnInit(){this.route.params.subscribe(n=>{this.x=n.id,console.log(n),console.log(n.id)}),this.getData(),this.MyQuery()}handleRegister(n){this.addData(n),this.Home()}addData(n){var r=this;return m(function*(){console.log(n);const i=xe(r.firestore,"unidad-produccion",n.codigo);Zr(i,{codigo:n.codigo,cliente:n.cliente,fecha:n.fecha,cultivo:n.cultivo,tipo:n.tipo,fitopatogeno:n.fitopatogeno,estado:n.estado,coordenadas:n.coordenadas,sintomas:n.sintomas,comentarios:n.comentarios,project:r.pid}).then(()=>{alert("Data Sent")}).catch(o=>{alert(o.message)}),console.log(r.pid)})()}getData(){const n=ve(this.firestore,"unidad-produccion");de(n).then(r=>{this.data=[...r.docs.map(i=>({...i.data(),id:i.id}))]})}showPosition(n){console.log(n.coords.latitude),console.log(n.coords.longitude),t.text=n.coords.latitude+", "+n.coords.longitude}getLocation(){var n=this;return m(function*(){n.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(n.showPosition):console.log("error"),setTimeout(()=>{n.res=t.text,console.log(n.res)},1e3)})()}MyQuery(){var n=this;return m(function*(){let r=n.x;const i=Qt(ve(n.firestore,"unidad-produccion"),Bt("codigo","==",r)),o=yield de(i);o.empty||o.forEach(s=>{n.item=s.data(),console.log(s.id," => ",s.data()),n.res=n.item.coordenadas,n.pid=n.item.project})})()}deleteData(n){const i=xe(this.firestore,"unidad-produccion",this.x);yn(i).then(()=>{alert("Data Deleted"),this.router.navigate(["user/unidad-produccion/"+this.pid])}).catch(o=>{alert(o.message)})}Home(){this.router.navigate(["user/projects"])}backPage(){this.location.back()}static#t=this.\u0275fac=function(r){return new(r||t)(I(Te),I(at),I(ze),I(ot),I(Pr))};static#n=this.\u0275cmp=je({type:t,selectors:[["app-unidad-produccion-edit"]],viewQuery:function(r,i){if(1&r&&Rn(oMe,5),2&r){let o;In(o=Tn())&&(i.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:64,vars:10,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],["name","codigo","ngModel","","placeholder","codigo","id","codigo","type","codigo",1,"input-field",3,"ngModel","ngModelChange"],["name","cliente","ngModel","","placeholder","Cliente","id","cliente","type","cliente",1,"input-field",3,"ngModel","ngModelChange"],["name","fecha","ngModel","","placeholder","Fecha","id","fecha","type","fecha",1,"input-field",3,"ngModel","ngModelChange"],["name","cultivo","ngModel","","placeholder","Cultivo","id","cultivo","type","cultivo",1,"input-field",3,"ngModel","ngModelChange"],["list","tipos","name","tipo","ngModel","","placeholder","Tipo","id","tipo","type","tipo",1,"input-field",3,"ngModel","ngModelChange"],["id","tipos"],["value","Hibrido"],["value","Variedad"],["value","Clone"],["list","fitopatogenos","name","fitopatogeno","ngModel","","placeholder","Fitopat\xf3geno","id","fitopatogeno","type","fitopatogeno",1,"input-field",3,"ngModel","ngModelChange"],["id","fitopatogenos"],["value","Hongos"],["value","Bacterias"],["value","Virus"],["name","estado","ngModel","","placeholder","Estado","id","estado","type","estado",1,"input-field",3,"ngModel","ngModelChange"],["name","coordenadas","ngModel","","placeholder","Coordenadas","id","coordenadas","type","coordenadas",1,"input-field",3,"ngModel","ngModelChange"],[1,"bUbicacion",3,"click"],["src","../../../../assets/Ubicacion.png","alt","U"],["name","sintomas","ngModel","","placeholder","S\xedntomas","id","sintomas","rows","4","cols","50",3,"ngModel","ngModelChange"],["name","comentarios","ngModel","","placeholder","Comentarios","id","comentarios","rows","4","cols","50",3,"ngModel","ngModelChange"],[1,"boton"],[1,"botonrojo",3,"click"],[1,"blank"]],template:function(r,i){if(1&r){const o=pt();y(0,"p"),C(1,"unidad-produccion-edit works!"),p(),y(2,"h1",0),C(3,"Editar Unidad"),p(),y(4,"div",1)(5,"form",2,3),Y("ngSubmit",function(){Ne(o);const a=fn(6);return Re(i.handleRegister(a.value))}),y(7,"div",4)(8,"div",5)(9,"span",6),C(10,"Codigo:"),p(),y(11,"input",7),Ke("ngModelChange",function(a){return Ze(i.item.codigo,a)||(i.item.codigo=a),a}),p()(),y(12,"div",5)(13,"span",6),C(14,"Cliente:"),p(),y(15,"input",8),Ke("ngModelChange",function(a){return Ze(i.item.cliente,a)||(i.item.cliente=a),a}),p()(),y(16,"div",5)(17,"span",6),C(18,"Fecha:"),p(),y(19,"input",9),Ke("ngModelChange",function(a){return Ze(i.item.fecha,a)||(i.item.fecha=a),a}),p()(),y(20,"div",5)(21,"span",6),C(22,"Cultivo:"),p(),y(23,"input",10),Ke("ngModelChange",function(a){return Ze(i.item.cultivo,a)||(i.item.cultivo=a),a}),p()(),y(24,"div",5)(25,"span",6),C(26,"Tipo:"),p(),y(27,"input",11),Ke("ngModelChange",function(a){return Ze(i.item.tipo,a)||(i.item.tipo=a),a}),p(),y(28,"datalist",12),ee(29,"option",13)(30,"option",14)(31,"option",15),p()(),y(32,"div",5)(33,"span",6),C(34,"Fitopat\xf3geno:"),p(),y(35,"input",16),Ke("ngModelChange",function(a){return Ze(i.item.fitopatogeno,a)||(i.item.fitopatogeno=a),a}),p(),y(36,"datalist",17),ee(37,"option",18)(38,"option",19)(39,"option",20),p()(),y(40,"div",5)(41,"span",6),C(42,"Estado:"),p(),y(43,"input",21),Ke("ngModelChange",function(a){return Ze(i.item.estado,a)||(i.item.estado=a),a}),p()(),y(44,"div",5)(45,"span",6),C(46,"Coordenadas:"),p(),y(47,"input",22),Ke("ngModelChange",function(a){return Ze(i.res,a)||(i.res=a),a}),p(),y(48,"div",23),Y("click",function(){return i.getLocation()}),ee(49,"img",24),p()(),y(50,"div",5)(51,"span",6),C(52,"S\xedntomas:"),p(),y(53,"textarea",25),Ke("ngModelChange",function(a){return Ze(i.item.sintomas,a)||(i.item.sintomas=a),a}),p()(),y(54,"div",5)(55,"span",6),C(56,"Comentarios:"),p(),y(57,"textarea",26),Ke("ngModelChange",function(a){return Ze(i.item.comentarios,a)||(i.item.comentarios=a),a}),C(58," "),p()(),y(59,"button",27),C(60,"Editar Unidad"),p(),y(61,"button",28),Y("click",function(){return i.deleteData(i.item.id)}),C(62," Delete "),p()(),ee(63,"div",29),p()()}2&r&&(B(11),We("ngModel",i.item.codigo),B(4),We("ngModel",i.item.cliente),B(4),We("ngModel",i.item.fecha),B(4),We("ngModel",i.item.cultivo),B(4),We("ngModel",i.item.tipo),B(8),We("ngModel",i.item.fitopatogeno),B(8),We("ngModel",i.item.estado),B(4),We("ngModel",i.res),B(6),We("ngModel",i.item.sintomas),B(4),We("ngModel",i.item.comentarios))},dependencies:[Yn,mf,_f,Kr,Mi,Qn,hi,Mn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:70%;flex-shrink:0;position:absolute;left:15%;top:25%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:3%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:85%;height:20px;left:92px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:35%;top:17%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:90%;top:100%}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:0%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.input-field[_ngcontent-%COMP%]{margin:6px 6px 6px 24px;height:20px;left:92px;color:#000;font-family:Arial;font-size:16px;letter-spacing:0;text-overflow:ellipsis}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:6px 6px 6px 22px;font-family:Arial;width:85%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:3%;top:2%}.Text[_ngcontent-%COMP%]{color:#000;height:20px;font-family:Arial;font-size:16px;letter-spacing:0}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:95%;height:85%;flex-shrink:0;position:absolute;left:2.5%;top:30%}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:67%;top:105%;border:none;float:right;background-color:#3eb3c2;color:#fff;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:12px;left:0%;top:105%}.blank[_ngcontent-%COMP%]{width:100%;height:16px;position:absolute;left:0%;top:110%}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}return t})();const aMe=["geo"];let cMe=(()=>{class t{constructor(n,r,i,o,s){this.router=n,this.route=r,this.auth=i,this.firestore=o,this.location=s,this.title="gestion-de-muestras-de-campo",this.data=[],this.somethingChange=new qe,this.getData(),this.MyQuery()}ngOnInit(){this.route.params.subscribe(n=>{this.text=n.id,console.log(n),console.log(n.id)}),this.getData(),this.MyQuery()}handleRegister(n){this.addData(n)}addData(n){const r=xe(this.firestore,"unidad-produccion",n.codigo);Gi(r,n).then(()=>{alert("Data Sent")}).catch(i=>{alert(i.message)}),console.log(n.comentarios)}getData(){const n=ve(this.firestore,"unidad-produccion");de(n).then(r=>{this.data=[...r.docs.map(i=>({...i.data(),id:i.id}))]})}showPosition(n){console.log(n.coords.latitude),console.log(n.coords.longitude)}getLocation(){var n=this;return m(function*(){n.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(n.showPosition):console.log("error"),setTimeout(()=>{console.log(n.res)},1e3)})()}MyQuery(){var n=this;return m(function*(){let r=n.text;const i=Qt(ve(n.firestore,"unidad-produccion"),Bt("codigo","==",r)),o=yield de(i);o.empty||o.forEach(s=>{n.item=s.data(),console.log(s.id," => ",s.data())})})()}editMuestra(){this.router.navigate(["user/unidad-produccion-edit/"+this.text])}deleteData(n){const r=xe(this.firestore,"users",n);yn(r).then(()=>{alert("Data Deleted"),this.getData()}).catch(i=>{alert(i.message)})}backPage(){this.location.back()}static#e=this.\u0275fac=function(r){return new(r||t)(I(Te),I(at),I(ze),I(ot),I(Pr))};static#t=this.\u0275cmp=je({type:t,selectors:[["app-unidad-produccion-info"]],viewQuery:function(r,i){if(1&r&&Rn(aMe,5),2&r){let o;In(o=Tn())&&(i.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:60,vars:10,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],[1,"input-field"],[1,"boton",3,"click"]],template:function(r,i){if(1&r){const o=pt();y(0,"p"),C(1,"unidad-produccion-info works!"),p(),y(2,"h1",0),C(3,"Datos de la Muestra"),p(),y(4,"div",1)(5,"form",2,3),Y("ngSubmit",function(){Ne(o);const a=fn(6);return Re(i.handleRegister(a.value))}),y(7,"div",4)(8,"div",5)(9,"span",6),C(10,"Codigo:"),p(),y(11,"span",7),C(12),p()(),y(13,"div",5)(14,"span",6),C(15,"Cliente:"),p(),y(16,"span",7),C(17),p()(),y(18,"div",5)(19,"span",6),C(20,"Coordenadas:"),p(),y(21,"span",7),C(22),p()(),y(23,"div",5)(24,"span",6),C(25,"Localidad:"),p(),y(26,"span",7),C(27),p()(),y(28,"div",5)(29,"span",6),C(30,"Municipio:"),p(),y(31,"span",7),C(32),p()(),y(33,"div",5)(34,"span",6),C(35,"Estado:"),p(),y(36,"span",7),C(37),p()(),y(38,"div",5)(39,"span",6),C(40,"Altitud:"),p(),y(41,"span",7),C(42),p()(),y(43,"div",5)(44,"span",6),C(45,"Temperaturas M\xe1ximas:"),p(),y(46,"span",7),C(47),p()(),y(48,"div",5)(49,"span",6),C(50,"Temperaturas M\xednimas:"),p(),y(51,"span",7),C(52),p()(),y(53,"div",5)(54,"span",6),C(55,"Precipitaci\xf3n:"),p(),y(56,"span",7),C(57),p()()()()(),y(58,"button",8),Y("click",function(){return i.editMuestra()}),C(59,"Editar Unidad"),p()}2&r&&(B(12),ke(" ",i.item.codigo,""),B(5),ke(" ",i.item.cliente,""),B(5),ke(" ",i.item.coordenadas,""),B(5),ke(" ",i.item.localidad,""),B(5),ke(" ",i.item.municipio,""),B(5),ke(" ",i.item.cliente,""),B(5),ke(" ",i.item.altitud,""),B(5),ke(" ",i.item.tempmax,""),B(5),ke(" ",i.item.tempmin,""),B(5),ke(" ",i.item.precipitacion,""))},dependencies:[Yn,Qn,Mn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:65%;height:55%;flex-shrink:0;position:absolute;left:25%;top:30%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:10%;top:7%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:12px 12px 12px 25px;height:20px;left:92px;color:#000;font-family:Arial;font-size:20px;letter-spacing:0}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:40%;top:20%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;height:25px;font-family:Arial;font-size:20px;font-weight:700;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:80%;top:88%}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:0%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.input-field[_ngcontent-%COMP%]{margin:6px 6px 6px 15px;height:20px;left:92px;color:#000;font-family:Arial;font-size:16px;letter-spacing:0;text-overflow:ellipsis}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:5%;top:3%}.Text[_ngcontent-%COMP%]{color:#000;height:20px;font-family:Arial;font-size:16px;letter-spacing:0}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:90%;height:53%;flex-shrink:0;position:absolute;left:5%;top:35%}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:67%;top:90%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:12px;left:0%;top:110%}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:25%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}return t})();function lMe(t,e){if(1&t){const n=pt();y(0,"tr")(1,"td"),C(2),p(),y(3,"td"),C(4),p(),y(5,"td"),C(6),p(),y(7,"td"),C(8),p(),y(9,"td")(10,"button",4),Y("click",function(){const o=Ne(n).$implicit;return Re(cn().infoClients(o.email))}),p(),y(11,"button",5),Y("click",function(){const o=Ne(n).$implicit;return Re(cn().editClients(o.email))}),p()()()}if(2&t){const n=e.$implicit;B(2),Fe(n.email),B(2),Fe(n.nombre),B(2),Fe(n.telefono),B(2),Fe(n.direccion)}}let uMe=(()=>{class t{constructor(n,r,i,o){this.router=n,this.route=r,this.auth=i,this.firestore=o,this.data=[],this.getData()}ngOnInit(){this.route.params.subscribe(n=>{this.item=n.id,console.log(n),console.log(n.id)})}getData(){const n=ve(this.firestore,"clientes");de(n).then(r=>{this.data=[...r.docs.map(i=>({...i.data(),id:i.id}))]})}updateData(n){const r=xe(this.firestore,"muestras",n);Zr(r,{}).then(()=>{alert("Data updated"),this.getData()}).catch(i=>{alert(i.message)})}deleteData(n){const r=xe(this.firestore,"muestras",n);yn(r).then(()=>{alert("Data Deleted"),this.getData()}).catch(i=>{alert(i.message)})}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["user/projects"])}logOut(){wr(this.auth).then(()=>{}).catch(n=>{}),this.router.navigate(["auth/select"])}newClients(){this.router.navigate(["user/clients-new"])}editClients(n){this.router.navigate(["user/clients-edit/"+n])}infoClients(n){this.router.navigate(["user/clients-info/"+n])}infoMuestra(n){this.router.navigate(["user/muestras-info/"+n])}MyQuery(){var n=this;return m(function*(){let r=n.item;n.pid=r,console.log(r);const i=Qt(ve(n.firestore,"muestras"),Bt("project","==",r));de(i).then(s=>{n.data=[...s.docs.map(a=>({...a.data(),id:a.id}))]}),(yield de(i)).forEach(s=>{console.log(s.id," => ",s.data())})})()}static#e=this.\u0275fac=function(r){return new(r||t)(I(Te),I(at),I(ze),I(ot))};static#t=this.\u0275cmp=je({type:t,selectors:[["app-clients"]],decls:19,vars:1,consts:[[1,"subTituloText"],[1,"list"],[4,"ngFor","ngForOf"],["id","agregar",1,"boton",3,"click"],[1,"detalles",3,"click"],[1,"edit",3,"click"]],template:function(r,i){1&r&&(y(0,"p"),C(1,"clients works!"),p(),y(2,"h1",0),C(3,"Clientes"),p(),y(4,"div",1)(5,"table")(6,"tr")(7,"th"),C(8," Email "),p(),y(9,"th"),C(10," Nombre "),p(),y(11,"th"),C(12," Telefono"),p(),y(13,"th"),C(14," Direccion "),p(),ee(15,"th"),p(),gr(16,lMe,12,4,"tr",2),p(),y(17,"button",3),Y("click",function(){return i.newClients()}),C(18," Agregar "),p()()),2&r&&(B(16),mr("ngForOf",i.data))},dependencies:[ji],styles:[".list[_ngcontent-%COMP%]{position:absolute;left:38%;top:38%}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.projectBlock[_ngcontent-%COMP%]{width:auto;height:35px;background:#3ec28f;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:20px;font-weight:700;letter-spacing:0;cursor:pointer}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:153px;height:36px;left:49%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:126px;height:16px;left:50%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:300px;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;left:45%;top:20%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;margin-left:2px;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.list[_ngcontent-%COMP%]{position:absolute;left:2%;width:94%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:80%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;left:30%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}return t})();const dMe=["geo"];let hMe=(()=>{class t{static#e=this.text="";constructor(n,r,i,o){this.router=n,this.route=r,this.auth=i,this.firestore=o,this.title="gestion-de-muestras-de-campo",this.data=[],this.res="",this.somethingChange=new qe}ngOnInit(){this.route.params.subscribe(n=>{this.pid=n.id})}handleRegister(n){this.addData(n)}addData(n){const r=xe(this.firestore,"clientes",n.email);Gi(r,{email:n.email,nombre:n.nombre,fecha:n.fecha,telefono:n.telefono,direccion:n.direccion}).then(()=>{alert("Data Sent")}).catch(i=>{alert(i.message)}),console.log(n.comentarios)}getData(){const n=ve(this.firestore,"muestras");de(n).then(r=>{this.data=[...r.docs.map(i=>({...i.data(),id:i.id}))]})}showPosition(n){console.log(n.coords.latitude),console.log(n.coords.longitude),t.text=n.coords.latitude+", "+n.coords.longitude,console.log(t.text)}getLocation(){var n=this;return m(function*(){n.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(n.showPosition):console.log("error"),setTimeout(()=>{n.res=t.text,console.log(n.res)},1e3)})()}static#t=this.\u0275fac=function(r){return new(r||t)(I(Te),I(at),I(ze),I(ot))};static#n=this.\u0275cmp=je({type:t,selectors:[["app-clients-new"]],viewQuery:function(r,i){if(1&r&&Rn(dMe,5),2&r){let o;In(o=Tn())&&(i.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:26,vars:0,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],["name","email","ngModel","","placeholder","Email","id","emai","type","email",1,"input-field"],["name","nombre","ngModel","","placeholder","Nombre","id","nombre","type","nombre",1,"input-field"],["name","telefono","ngModel","","placeholder","Telefono","id","telefono","type","telefono",1,"input-field"],["name","direccion","ngModel","","placeholder","Direccion","id","direccion","type","direccion",1,"input-field"],[1,"boton"]],template:function(r,i){if(1&r){const o=pt();y(0,"p"),C(1,"clients-new works!"),p(),y(2,"h1",0),C(3,"Nuevo Cliente"),p(),y(4,"div",1)(5,"form",2,3),Y("ngSubmit",function(){Ne(o);const a=fn(6);return Re(i.handleRegister(a.value))}),y(7,"div",4)(8,"div",5)(9,"span",6),C(10,"Email:"),p(),ee(11,"input",7),p(),y(12,"div",5)(13,"span",6),C(14,"Nombre:"),p(),ee(15,"input",8),p(),y(16,"div",5)(17,"span",6),C(18,"Telefono:"),p(),ee(19,"input",9),p(),y(20,"div",5)(21,"span",6),C(22,"Direccion:"),p(),ee(23,"input",10),p(),y(24,"button",11),C(25,"Crear Cliente"),p()()()()}},dependencies:[Yn,Kr,Mi,Qn,hi,Mn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:30%;flex-shrink:0;position:absolute;left:15%;top:30%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:3%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:85%;height:20px;left:92px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:35%;top:20%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:80%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:85%;height:50%;flex-shrink:0;position:absolute;left:7%;top:30%}.input-field[_ngcontent-%COMP%]{margin:10px 10px 10px 20px;width:85%;height:20px;left:92px}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:20px;font-family:Arial;font-size:16px;letter-spacing:0}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:3%;top:3%}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:75%;top:110%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}return t})();function fMe(t,e){if(1&t){const n=pt();y(0,"tr")(1,"td"),C(2),p(),y(3,"td"),C(4),p(),y(5,"td"),C(6),p(),y(7,"td"),C(8),p(),y(9,"td")(10,"button",5),Y("click",function(){const o=Ne(n).$implicit,s=cn();return Re(s.Muestras(s.pid,o.codigo))}),p(),y(11,"button",6),Y("click",function(){const o=Ne(n).$implicit;return Re(cn().infoUnidad(o.codigo))}),p(),y(12,"button",7),Y("click",function(){const o=Ne(n).$implicit;return Re(cn().editUnidad(o.codigo))}),p()()()}if(2&t){const n=e.$implicit;B(2),Fe(n.codigo),B(2),Fe(n.cliente),B(2),Fe(n.altitud),B(2),Fe(n.coordenadas)}}let pMe=(()=>{class t{constructor(n,r,i,o){this.router=n,this.route=r,this.auth=i,this.firestore=o,this.data=[],this.getData()}ngOnInit(){this.route.params.subscribe(n=>{this.pid=n.id,console.log(n),console.log(n.id)})}getData(){const n=ve(this.firestore,"unidad-produccion");de(n).then(r=>{this.data=[...r.docs.map(i=>({...i.data(),id:i.id}))]})}updateData(n){const r=xe(this.firestore,"unidad-produccion",n);Zr(r,{}).then(()=>{alert("Data updated"),this.getData()}).catch(i=>{alert(i.message)})}deleteData(n){const r=xe(this.firestore,"unidad-produccion",n);yn(r).then(()=>{alert("Data Deleted"),this.getData()}).catch(i=>{alert(i.message)})}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["user/projects"])}Muestras(n,r){this.router.navigate(["user/muestras/"+n+"/"+r])}logOut(){wr(this.auth).then(()=>{}).catch(n=>{}),this.router.navigate(["auth/select"])}newUnidad(n){this.router.navigate(["user/unidad-produccion-new/"+n])}editUnidad(n){this.router.navigate(["user/unidad-produccion-edit/"+n])}infoProject(n){this.router.navigate(["user/project-info/"+n])}infoUnidad(n){this.router.navigate(["user/unidad-produccion-info/"+n])}MyQuery(){var n=this;return m(function*(){let r=n.pid;console.log(r);const i=Qt(ve(n.firestore,"unidad-produccion"),Bt("project","==",r));de(i).then(s=>{n.data=[...s.docs.map(a=>({...a.data(),id:a.id}))]}),(yield de(i)).forEach(s=>{console.log(s.id," => ",s.data())})})()}static#e=this.\u0275fac=function(r){return new(r||t)(I(Te),I(at),I(ze),I(ot))};static#t=this.\u0275cmp=je({type:t,selectors:[["app-unidad-produccion-all"]],decls:20,vars:1,consts:[[1,"subTituloText"],[1,"scanbutton"],[1,"scantext",3,"click"],[1,"list"],[4,"ngFor","ngForOf"],[1,"muestras",3,"click"],[1,"detalles",3,"click"],[1,"edit",3,"click"]],template:function(r,i){1&r&&(y(0,"p"),C(1,"unidad-produccion-all works!"),p(),y(2,"h1",0),C(3,"Unidades "),p(),y(4,"div",1)(5,"div",2),Y("click",function(){return i.Scan()}),C(6,"SCAN"),p()(),y(7,"div",3)(8,"table")(9,"tr")(10,"th"),C(11," Codigo "),p(),y(12,"th"),C(13," Cliente "),p(),y(14,"th"),C(15," Altitud"),p(),y(16,"th"),C(17," Coordenadas "),p(),ee(18,"th"),p(),gr(19,fMe,13,4,"tr",4),p()()),2&r&&(B(19),mr("ngForOf",i.data))},dependencies:[ji],styles:[".list[_ngcontent-%COMP%]{position:absolute;left:38%;top:38%}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.projectBlock[_ngcontent-%COMP%]{width:auto;height:35px;background:#3ec28f;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:20px;font-weight:700;letter-spacing:0;cursor:pointer}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{cursor:pointer;width:153px;height:36px;left:49%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;left:45%;top:20%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.list[_ngcontent-%COMP%]{position:absolute;left:2%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:153px;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:80%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;left:30%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}return t})();const gMe=["geo"];let mMe=(()=>{class t{static#e=this.text="";constructor(n,r,i,o,s){this.router=n,this.route=r,this.auth=i,this.firestore=o,this.location=s,this.title="gestion-de-muestras-de-campo",this.data=[],this.res="",this.somethingChange=new qe}ngOnInit(){this.route.params.subscribe(n=>{this.x=n.id,console.log(n),console.log(n.id)}),this.getData(),this.MyQuery()}handleRegister(n){this.addData(n),this.Home()}addData(n){var r=this;return m(function*(){console.log(n);const i=xe(r.firestore,"clientes",n.email);Zr(i,{email:n.email,nombre:n.nombre,fecha:n.fecha,telefono:n.telefono,direccion:n.direccion}).then(()=>{alert("Data Sent")}).catch(o=>{alert(o.message)}),console.log(r.pid)})()}getData(){const n=ve(this.firestore,"clientes");de(n).then(r=>{this.data=[...r.docs.map(i=>({...i.data(),id:i.id}))]})}showPosition(n){console.log(n.coords.latitude),console.log(n.coords.longitude),t.text=n.coords.latitude+", "+n.coords.longitude}getLocation(){var n=this;return m(function*(){n.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(n.showPosition):console.log("error"),setTimeout(()=>{n.res=t.text,console.log(n.res)},1e3)})()}MyQuery(){var n=this;return m(function*(){let r=n.x;const i=Qt(ve(n.firestore,"clientes"),Bt("email","==",r)),o=yield de(i);o.empty||o.forEach(s=>{n.item=s.data(),console.log(s.id," => ",s.data()),n.res=n.item.coordenadas,n.pid=n.item.project})})()}deleteData(n){const i=xe(this.firestore,"clientes",this.x);yn(i).then(()=>{alert("Data Deleted"),this.router.navigate(["user/muestras/"+this.pid])}).catch(o=>{alert(o.message)})}Home(){this.router.navigate(["user/projects"])}backPage(){this.location.back()}static#t=this.\u0275fac=function(r){return new(r||t)(I(Te),I(at),I(ze),I(ot),I(Pr))};static#n=this.\u0275cmp=je({type:t,selectors:[["app-clients-edit"]],viewQuery:function(r,i){if(1&r&&Rn(gMe,5),2&r){let o;In(o=Tn())&&(i.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:26,vars:4,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],["name","email","ngModel","","placeholder","Email","id","emai","type","email",1,"input-field",3,"ngModel","ngModelChange"],["name","nombre","ngModel","","placeholder","Nombre","id","nombre","type","nombre",1,"input-field",3,"ngModel","ngModelChange"],["name","telefono","ngModel","","placeholder","Telefono","id","telefono","type","telefono",1,"input-field",3,"ngModel","ngModelChange"],["name","direccion","ngModel","","placeholder","Direccion","id","direccion","type","direccion",1,"input-field",3,"ngModel","ngModelChange"],[1,"boton"]],template:function(r,i){if(1&r){const o=pt();y(0,"p"),C(1,"clients-edit works!"),p(),y(2,"h1",0),C(3,"Nuevo Cliente"),p(),y(4,"div",1)(5,"form",2,3),Y("ngSubmit",function(){Ne(o);const a=fn(6);return Re(i.handleRegister(a.value))}),y(7,"div",4)(8,"div",5)(9,"span",6),C(10,"Email:"),p(),y(11,"input",7),Ke("ngModelChange",function(a){return Ze(i.item.email,a)||(i.item.email=a),a}),p()(),y(12,"div",5)(13,"span",6),C(14,"Nombre:"),p(),y(15,"input",8),Ke("ngModelChange",function(a){return Ze(i.item.nombre,a)||(i.item.nombre=a),a}),p()(),y(16,"div",5)(17,"span",6),C(18,"Telefono:"),p(),y(19,"input",9),Ke("ngModelChange",function(a){return Ze(i.item.telefono,a)||(i.item.telefono=a),a}),p()(),y(20,"div",5)(21,"span",6),C(22,"Direccion:"),p(),y(23,"input",10),Ke("ngModelChange",function(a){return Ze(i.item.direccion,a)||(i.item.direccion=a),a}),p()(),y(24,"button",11),C(25,"Editar Cliente"),p()()()()}2&r&&(B(11),We("ngModel",i.item.email),B(4),We("ngModel",i.item.nombre),B(4),We("ngModel",i.item.telefono),B(4),We("ngModel",i.item.direccion))},dependencies:[Yn,Kr,Mi,Qn,hi,Mn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:30%;flex-shrink:0;position:absolute;left:15%;top:30%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:3%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:85%;height:20px;left:92px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:35%;top:20%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:80%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:50%;flex-shrink:0;position:absolute;left:15%;top:30%}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:75%;top:110%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}return t})();const _Me=["geo"],yMe=[{path:"user",component:NH,children:[{path:"projects",component:yDe},{path:"project-new",component:xDe},{path:"project-edit/:id",component:YDe},{path:"project-info/:id",component:eMe},{path:"barcode/:id",component:wDe},{path:"muestras/:id/:up",component:bDe},{path:"muestras-new/:id",component:IDe},{path:"muestras-edit/:id",component:qDe},{path:"muestras-info/:id",component:KDe},{path:"muestras-all",component:JDe},{path:"unidad-produccion/:id",component:nMe},{path:"unidad-produccion-new/:id",component:iMe},{path:"unidad-produccion-edit/:id",component:sMe},{path:"unidad-produccion-info/:id",component:cMe},{path:"unidad-produccion-all",component:pMe},{path:"clients",component:uMe},{path:"clients-new",component:hMe},{path:"clients-edit/:id",component:mMe},{path:"clients-info/:id",component:(()=>{class t{constructor(n,r,i,o,s){this.router=n,this.route=r,this.auth=i,this.firestore=o,this.location=s,this.title="gestion-de-muestras-de-campo",this.data=[],this.somethingChange=new qe,this.getData(),this.MyQuery()}ngOnInit(){this.route.params.subscribe(n=>{this.text=n.id,console.log(n),console.log(n.id)}),this.getData(),this.MyQuery()}handleRegister(n){this.addData(n)}addData(n){const r=xe(this.firestore,"clientes",n.codigo);Gi(r,n).then(()=>{alert("Data Sent")}).catch(i=>{alert(i.message)}),console.log(n.comentarios)}getData(){const n=ve(this.firestore,"clientes");de(n).then(r=>{this.data=[...r.docs.map(i=>({...i.data(),id:i.id}))]})}showPosition(n){console.log(n.coords.latitude),console.log(n.coords.longitude)}getLocation(){var n=this;return m(function*(){n.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(n.showPosition):console.log("error"),setTimeout(()=>{console.log(n.res)},1e3)})()}MyQuery(){var n=this;return m(function*(){let r=n.text;const i=Qt(ve(n.firestore,"clientes"),Bt("email","==",r)),o=yield de(i);o.empty||o.forEach(s=>{n.item=s.data(),console.log(s.id," => ",s.data())})})()}editClients(){this.router.navigate(["user/clientes-edit/"+this.text])}deleteData(n){const r=xe(this.firestore,"clientes",n);yn(r).then(()=>{alert("Data Deleted"),this.getData()}).catch(i=>{alert(i.message)})}backPage(){this.location.back()}static#e=this.\u0275fac=function(r){return new(r||t)(I(Te),I(at),I(ze),I(ot),I(Pr))};static#t=this.\u0275cmp=je({type:t,selectors:[["app-clients-info"]],viewQuery:function(r,i){if(1&r&&Rn(_Me,5),2&r){let o;In(o=Tn())&&(i.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:30,vars:4,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],[1,"input-field"],[1,"boton",3,"click"]],template:function(r,i){if(1&r){const o=pt();y(0,"p"),C(1,"clients-info works!"),p(),y(2,"h1",0),C(3,"Informacion del Cliente"),p(),y(4,"div",1)(5,"form",2,3),Y("ngSubmit",function(){Ne(o);const a=fn(6);return Re(i.handleRegister(a.value))}),y(7,"div",4)(8,"div",5)(9,"span",6),C(10,"Email:"),p(),y(11,"span",7),C(12),p()(),y(13,"div",5)(14,"span",6),C(15,"Nombre:"),p(),y(16,"span",7),C(17),p()(),y(18,"div",5)(19,"span",6),C(20,"Telefono:"),p(),y(21,"span",7),C(22),p()(),y(23,"div",5)(24,"span",6),C(25,"Direccion:"),p(),y(26,"span",7),C(27),p()()()()(),y(28,"button",8),Y("click",function(){return i.editClients()}),C(29,"Editar Cliente"),p()}2&r&&(B(12),ke(" ",i.item.email,""),B(5),ke(" ",i.item.nombre,""),B(5),ke(" ",i.item.telefono,""),B(5),ke(" ",i.item.direccion,""))},dependencies:[Yn,Qn,Mn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:25%;flex-shrink:0;position:absolute;left:15%;top:30%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:3%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:85%;height:20px;left:92px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:35%;top:20%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:80%;top:58%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:50%;flex-shrink:0;position:absolute;left:15%;top:30%}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:75%;top:110%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}return t})()},{path:"scan",component:HDe}]}];let vMe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=on({type:t});static#n=this.\u0275inj=en({imports:[uo.forChild(yMe),uo]})}return t})();Ab().subscribe(t=>console.log("LOAD_WASM",t));let bMe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=on({type:t});static#n=this.\u0275inj=en({imports:[sf,vMe,_y,YP]})}return t})(),wMe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=on({type:t});static#n=this.\u0275inj=en({imports:[sf]})}return t})();const CMe=["addListener","removeListener"],xMe=["addEventListener","removeEventListener"],EMe=["on","off"];function kb(t,e,n,r){if(st(n)&&(r=n,n=void 0),r)return kb(t,e,n).pipe(Fx(r));const[i,o]=function DMe(t){return st(t.addEventListener)&&st(t.removeEventListener)}(t)?xMe.map(s=>a=>t[s](e,a,n)):function IMe(t){return st(t.addListener)&&st(t.removeListener)}(t)?CMe.map(Xq(t,e)):function TMe(t){return st(t.on)&&st(t.off)}(t)?EMe.map(Xq(t,e)):[];if(!i&&Nx(t))return tr(s=>kb(s,e,n))(di(t));if(!i)throw new TypeError("Invalid event target");return new Jt(s=>{const a=(...c)=>s.next(1<c.length?c:c[0]);return i(a),()=>o(a)})}function Xq(t,e){return n=>r=>t[n](e,r)}const Wd=new Jt(Kd);function Jq(...t){const e=df(t),n=function Jae(t,e){return"number"==typeof Rx(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?di(r[0]):wu(n)(Kn(r,e)):Oo}const SMe={connector:()=>new ni};function Zq(t,e=SMe){const{connector:n}=e;return jn((r,i)=>{const o=n();di(t(function MMe(t){return new Jt(e=>t.subscribe(e))}(o))).subscribe(i),i.add(r.subscribe(o))})}function eW(t,e){return e?n=>yf(e.pipe(pi(1),function OMe(){return jn((t,e)=>{t.subscribe(Nn(e,Kd))})}()),n.pipe(eW(t))):tr((n,r)=>di(t(n,r)).pipe(pi(1),XU(n)))}const Wg="Service workers are disabled or not supported by this browser";class Ob{constructor(e){if(this.serviceWorker=e,e){const r=kb(e,"controllerchange").pipe(tt(()=>e.controller)),o=yf(vy(()=>Ce(e.controller)),r);this.worker=o.pipe(Si(u=>!!u)),this.registration=this.worker.pipe(fi(()=>e.getRegistration()));const l=kb(e,"message").pipe(tt(u=>u.data)).pipe(Si(u=>u&&u.type)).pipe(function kMe(t){return t?e=>Zq(t)(e):e=>function AMe(t,e){const n=st(t)?t:()=>t;return st(e)?Zq(e,{connector:n}):r=>new aE(r,n)}(new ni)(e)}());l.connect(),this.events=l}else this.worker=this.events=this.registration=function FMe(t){return vy(()=>vf(new Error(t)))}(Wg)}postMessage(e,n){return this.worker.pipe(pi(1),nr(r=>{r.postMessage({action:e,...n})})).toPromise().then(()=>{})}postMessageWithOperation(e,n,r){const i=this.waitForOperationCompleted(r),o=this.postMessage(e,n);return Promise.all([o,i]).then(([,s])=>s)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(e){let n;return n="string"==typeof e?r=>r.type===e:r=>e.includes(r.type),this.events.pipe(Si(n))}nextEventOfType(e){return this.eventsOfType(e).pipe(pi(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(Si(n=>n.nonce===e),pi(1),tt(n=>{if(void 0!==n.result)return n.result;throw new Error(n.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let tW=(()=>{class t{get isEnabled(){return this.sw.isEnabled}constructor(n){if(this.sw=n,this.pushManager=null,this.subscriptionChanges=new ni,!n.isEnabled)return this.messages=Wd,this.notificationClicks=Wd,void(this.subscription=Wd);this.messages=this.sw.eventsOfType("PUSH").pipe(tt(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(tt(i=>i.data)),this.pushManager=this.sw.registration.pipe(tt(i=>i.pushManager));const r=this.pushManager.pipe(fi(i=>i.getSubscription()));this.subscription=Jq(r,this.subscriptionChanges)}requestSubscription(n){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(Wg));const r={userVisibleOnly:!0};let i=this.decodeBase64(n.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),o=new Uint8Array(new ArrayBuffer(i.length));for(let s=0;s<i.length;s++)o[s]=i.charCodeAt(s);return r.applicationServerKey=o,this.pushManager.pipe(fi(s=>s.subscribe(r)),pi(1)).toPromise().then(s=>(this.subscriptionChanges.next(s),s))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(pi(1),fi(r=>{if(null===r)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(i=>{if(!i)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(Wg))}decodeBase64(n){return atob(n)}static#e=this.\u0275fac=function(r){return new(r||t)(ye(Ob))};static#t=this.\u0275prov=he({token:t,factory:t.\u0275fac})}return t})(),nW=(()=>{class t{get isEnabled(){return this.sw.isEnabled}constructor(n){if(this.sw=n,!n.isEnabled)return this.versionUpdates=Wd,void(this.unrecoverable=Wd);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Wg));const n=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:n},n)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Wg));const n=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:n},n)}static#e=this.\u0275fac=function(r){return new(r||t)(ye(Ob))};static#t=this.\u0275prov=he({token:t,factory:t.\u0275fac})}return t})();const rW=new ae("");function LMe(t,e,n,r){return()=>{if(!wx(r)||!("serviceWorker"in navigator)||!1===n.enabled)return;let i;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof n.registrationStrategy)i=n.registrationStrategy();else{const[s,...a]=(n.registrationStrategy||"registerWhenStable:30000").split(":");switch(s){case"registerImmediately":i=Ce(null);break;case"registerWithDelay":i=iW(+a[0]||0);break;case"registerWhenStable":i=a[0]?Jq(oW(t),iW(+a[0])):oW(t);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${n.registrationStrategy}`)}}t.get(Je).runOutsideAngular(()=>i.pipe(pi(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:n.scope}).catch(s=>console.error("Service worker registration failed with:",s))))}}function iW(t){return Ce(null).pipe(function RMe(t,e=GT){const n=function NMe(t=0,e,n=lme){let r=-1;return null!=e&&(K5(e)?n=e:r=e),new Jt(i=>{let o=function PMe(t){return t instanceof Date&&!isNaN(t)}(t)?+t-n.now():t;o<0&&(o=0);let s=0;return n.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}(t,e);return eW(()=>n)}(t))}function oW(t){return t.get(gs).isStable.pipe(Si(n=>n))}function VMe(t,e){return new Ob(wx(e)&&!1!==t.enabled?navigator.serviceWorker:void 0)}class XP{}function UMe(t,e={}){return function Tm(t){return{\u0275providers:t}}([tW,nW,{provide:rW,useValue:t},{provide:XP,useValue:e},{provide:Ob,useFactory:VMe,deps:[XP,no]},{provide:R_,useFactory:LMe,deps:[wn,rW,XP,no],multi:!0}])}let BMe=(()=>{class t{static register(n,r={}){return{ngModule:t,providers:[UMe(n,r)]}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=on({type:t});static#n=this.\u0275inj=en({providers:[tW,nW]})}return t})();function jMe(t,e){if(1&t){const n=pt();y(0,"tr")(1,"td"),C(2),p(),y(3,"td"),C(4),p(),y(5,"td"),C(6),p(),y(7,"td")(8,"button",3),Y("click",function(){const o=Ne(n).$implicit;return Re(cn().Muestras(o.name))}),p()()()}if(2&t){const n=e.$implicit;B(2),Fe(n.name),B(2),Fe(n.owner),B(2),Fe(n.integrantes)}}let zMe=(()=>{class t{constructor(n,r,i,o){this.router=n,this.route=r,this.auth=i,this.firestore=o,this.data=[],this.list=[],this.email="",this.getData(),this.MyQuery()}getData(){const n=$o();Os(n,i=>{i&&(console.log(i.email),i.email&&(this.email=i.email))});const r=ve(this.firestore,"projects");de(r).then(i=>{this.data=[...i.docs.map(o=>({...o.data(),id:o.id}))]})}updateData(n){const r=xe(this.firestore,"projects",n);Zr(r,{}).then(()=>{alert("Data updated"),this.getData()}).catch(i=>{alert(i.message)})}deleteData(n){const r=xe(this.firestore,"projects",n);yn(r).then(()=>{alert("Data Deleted"),this.getData()}).catch(i=>{alert(i.message)})}newProject(){this.router.navigate(["user/project-new"])}EditProject(){this.router.navigate(["user/project-new"])}Muestras(n){this.router.navigate(["client/muestras/"+n])}editProyecto(n){this.router.navigate(["user/project-edit/"+n])}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["user/projects"])}logOut(){wr(this.auth).then(()=>{}).catch(n=>{}),this.router.navigate(["auth/select"])}MyQuery(){var n=this;return m(function*(){const r=$o();let i;i="",console.log(r),Os(r,function(){var o=m(function*(s){if(s&&(console.log(s.email),s.email)){i=s.email;const a=Qt(ve(n.firestore,"projects"),Bt("cliente","==",i));de(a).then(l=>{n.data=[...l.docs.map(u=>({...u.data(),id:u.id}))]});const c=yield de(a);console.log(c),c.forEach(l=>{console.log(l.id," => ",l.data()),console.log("here2")}),console.log(n.data.length),console.log(n.data),console.log(n.data[0].cliente)}});return function(s){return o.apply(this,arguments)}}())})()}static#e=this.\u0275fac=function(r){return new(r||t)(I(Te),I(at),I(ze),I(ot))};static#t=this.\u0275cmp=je({type:t,selectors:[["app-projects"]],decls:15,vars:1,consts:[[1,"subTituloText"],[1,"list"],[4,"ngFor","ngForOf"],[1,"muestras",3,"click"]],template:function(r,i){1&r&&(y(0,"p"),C(1,"projects works!"),p(),y(2,"h1",0),C(3,"Proyectos"),p(),y(4,"div",1)(5,"table")(6,"tr")(7,"th"),C(8," Nombre "),p(),y(9,"th"),C(10," Due\xf1o "),p(),y(11,"th"),C(12," Integrantes"),p(),ee(13,"th"),p(),gr(14,jMe,9,3,"tr",2),p()()),2&r&&(B(14),mr("ngForOf",i.data))},dependencies:[ji],styles:[".list[_ngcontent-%COMP%]{position:absolute;left:25%;top:38%}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:153px;height:36px;left:49%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:126px;height:16px;left:50%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:300px;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;left:45%;top:20%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.list[_ngcontent-%COMP%]{position:absolute;margin:0;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.boton[_ngcontent-%COMP%]{position:absolute;left:80%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;left:30%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}.scanbutton[_ngcontent-%COMP%]{cursor:pointer;width:153px;height:36px;left:30%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}}"]})}return t})();function $Me(t,e){if(1&t){const n=pt();y(0,"tr")(1,"td"),C(2),p(),y(3,"td"),C(4),p(),y(5,"td"),C(6),p(),y(7,"td"),C(8),p(),y(9,"td")(10,"button",4),Y("click",function(){const o=Ne(n).$implicit;return Re(cn().infoMuestra(o.codigo))}),p()()()}if(2&t){const n=e.$implicit;B(2),Fe(n.codigo),B(2),Fe(n.fecha),B(2),Fe(n.cultivo),B(2),Fe(n.coordenadas)}}let sW=(()=>{class t{constructor(n,r,i,o){this.router=n,this.route=r,this.auth=i,this.firestore=o,this.data=[],this.MyQuery()}ngOnInit(){this.route.params.subscribe(n=>{this.item=n.id,console.log(n),console.log(n.id)}),this.MyQuery()}getData(){const n=ve(this.firestore,"muestras");de(n).then(r=>{this.data=[...r.docs.map(i=>({...i.data(),id:i.id}))]})}updateData(n){const r=xe(this.firestore,"muestras",n);Zr(r,{}).then(()=>{alert("Data updated"),this.getData()}).catch(i=>{alert(i.message)})}deleteData(n){const r=xe(this.firestore,"muestras",n);yn(r).then(()=>{alert("Data Deleted"),this.getData()}).catch(i=>{alert(i.message)})}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["client/projects"])}logOut(){wr(this.auth).then(()=>{}).catch(n=>{}),this.router.navigate(["auth/select"])}newMuestra(){this.router.navigate(["user/muestras-new"])}editMuestra(n){this.router.navigate(["user/muestras-edit/"+n])}infoProject(n){this.router.navigate(["user/project-edit/"+n])}infoMuestra(n){this.router.navigate(["client/muestras-info/"+n])}MyQuery(){var n=this;return m(function*(){let r=n.item;n.pid=r,console.log(r);const i=Qt(ve(n.firestore,"muestras"),Bt("project","==",r));de(i).then(s=>{n.data=[...s.docs.map(a=>({...a.data(),id:a.id}))]}),(yield de(i)).forEach(s=>{console.log(s.id," => ",s.data())})})()}static#e=this.\u0275fac=function(r){return new(r||t)(I(Te),I(at),I(ze),I(ot))};static#t=this.\u0275cmp=je({type:t,selectors:[["app-muestras"]],decls:19,vars:1,consts:[[1,"subTituloText"],[1,"list"],[1,"projectBlock",3,"click"],[4,"ngFor","ngForOf"],[1,"detalles",3,"click"]],template:function(r,i){1&r&&(y(0,"p"),C(1,"muestras works!"),p(),y(2,"h1",0),C(3,"Muestras"),p(),y(4,"div",1)(5,"div",2),Y("click",function(){return i.infoProject(i.pid)}),C(6,"Proyecto"),p(),y(7,"table")(8,"tr")(9,"th"),C(10," Codigo "),p(),y(11,"th"),C(12," Fecha "),p(),y(13,"th"),C(14," Cultivo"),p(),y(15,"th"),C(16," Coordenadas "),p(),ee(17,"th"),p(),gr(18,$Me,11,4,"tr",3),p()()),2&r&&(B(18),mr("ngForOf",i.data))},dependencies:[ji],styles:[".list[_ngcontent-%COMP%]{position:absolute;left:38%;top:38%}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.projectBlock[_ngcontent-%COMP%]{width:auto;height:35px;background:#3ec28f;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:20px;font-weight:700;letter-spacing:0;cursor:pointer}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:153px;height:36px;left:49%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:126px;height:16px;left:50%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:300px;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;left:45%;top:20%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.projectBlock[_ngcontent-%COMP%]{width:60%;height:25px;background:#3ec28f;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:14px;font-weight:700;letter-spacing:0;cursor:pointer}.list[_ngcontent-%COMP%]{position:absolute;left:5%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:80%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;left:30%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}return t})();function HMe(t,e){if(1&t){const n=pt();y(0,"tr")(1,"td"),C(2),p(),y(3,"td"),C(4),p(),y(5,"td"),C(6),p(),y(7,"td"),C(8),p(),y(9,"td")(10,"button",3),Y("click",function(){const o=Ne(n).$implicit;return Re(cn().infoMuestra(o.codigo))}),p()()()}if(2&t){const n=e.$implicit;B(2),Fe(n.codigo),B(2),Fe(n.fecha),B(2),Fe(n.cultivo),B(2),Fe(n.coordenadas)}}let GMe=(()=>{class t{constructor(n,r,i,o){this.router=n,this.route=r,this.auth=i,this.firestore=o,this.data=[],this.arr=[]}ngOnInit(){this.route.params.subscribe(n=>{this.item=n.id,console.log(n),console.log(n.id)}),this.getData(),this.MyQuery()}getData(){const n=ve(this.firestore,"muestras");de(n).then(r=>{this.data=[...r.docs.map(i=>({...i.data(),id:i.id}))]})}updateData(n){const r=xe(this.firestore,"muestras",n);Zr(r,{}).then(()=>{alert("Data updated"),this.getData()}).catch(i=>{alert(i.message)})}deleteData(n){const r=xe(this.firestore,"muestras",n);yn(r).then(()=>{alert("Data Deleted"),this.getData()}).catch(i=>{alert(i.message)})}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["user/projects"])}logOut(){wr(this.auth).then(()=>{}).catch(n=>{}),this.router.navigate(["auth/select"])}newMuestra(){this.router.navigate(["user/muestras-new"])}editMuestra(n){this.router.navigate(["user/muestras-edit/"+n])}infoProject(n){this.router.navigate(["user/project-edit/"+n])}infoMuestra(n){this.router.navigate(["user/muestras-info/"+n])}MyQuery(){var n=this;return m(function*(){const r=$o();let i,o=[];i="",console.log(r),Os(r,function(){var s=m(function*(a){if(a&&(console.log(a.email),a.email)){i=a.email;const d=Qt(ve(n.firestore,"projects"),Bt("cliente","==",i));de(d).then(b=>{n.dataTem=[...b.docs.map(x=>({...x.data(),id:x.id}))]}),(yield de(d)).forEach(b=>{}),console.log(n.dataTem.length),console.log(n.dataTem[0].name);let f=n.dataTem.length;console.log(f);for(let b=0;b<f;b++)console.log(n.dataTem[b].name),o.push(n.dataTem[b].name);console.log(o)}console.log("next"),console.log(o),n.pid=n.item;const l=Qt(ve(n.firestore,"muestras"),Bt("project","in",o));de(l).then(d=>{n.data=[...d.docs.map(h=>({...h.data(),id:h.id}))]}),(yield de(l)).forEach(d=>{console.log(d.id," => ",d.data())})});return function(a){return s.apply(this,arguments)}}())})()}static#e=this.\u0275fac=function(r){return new(r||t)(I(Te),I(at),I(ze),I(ot))};static#t=this.\u0275cmp=je({type:t,selectors:[["app-muestras-all"]],decls:17,vars:1,consts:[[1,"subTituloText"],[1,"list"],[4,"ngFor","ngForOf"],[1,"detalles",3,"click"]],template:function(r,i){1&r&&(y(0,"p"),C(1,"muestras-all works!"),p(),y(2,"h1",0),C(3,"Muestras"),p(),y(4,"div",1)(5,"table")(6,"tr")(7,"th"),C(8," Codigo "),p(),y(9,"th"),C(10," Fecha "),p(),y(11,"th"),C(12," Cultivo"),p(),y(13,"th"),C(14," Coordenadas "),p(),ee(15,"th"),p(),gr(16,HMe,11,4,"tr",2),p()()),2&r&&(B(16),mr("ngForOf",i.data))},dependencies:[ji],styles:[".list[_ngcontent-%COMP%]{position:absolute;left:38%;top:38%}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.projectBlock[_ngcontent-%COMP%]{width:auto;height:35px;background:#3ec28f;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:20px;font-weight:700;letter-spacing:0;cursor:pointer}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:153px;height:36px;left:49%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:126px;height:16px;left:50%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:300px;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;left:45%;top:20%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;margin-left:2px;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.list[_ngcontent-%COMP%]{position:absolute;left:5%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:80%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;left:30%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}return t})();function qMe(t,e){if(1&t){const n=pt();y(0,"tr")(1,"td"),C(2),p(),y(3,"td"),C(4),p(),y(5,"td"),C(6),p(),y(7,"td"),C(8),p(),y(9,"td")(10,"button",3),Y("click",function(){const o=Ne(n).$implicit;return Re(cn().infoUnidad(o.codigo))}),p()()()}if(2&t){const n=e.$implicit;B(2),Fe(n.codigo),B(2),Fe(n.project),B(2),Fe(n.altitud),B(2),Fe(n.coordenadas)}}let WMe=(()=>{class t{constructor(n,r,i,o){this.router=n,this.route=r,this.auth=i,this.firestore=o,this.data=[],this.arr=[]}ngOnInit(){this.route.params.subscribe(n=>{this.item=n.id,console.log(n),console.log(n.id)}),this.getData(),this.MyQuery()}getData(){const n=ve(this.firestore,"unidad-produccion");de(n).then(r=>{this.data=[...r.docs.map(i=>({...i.data(),id:i.id}))]})}updateData(n){const r=xe(this.firestore,"unidad-produccion",n);Zr(r,{}).then(()=>{alert("Data updated"),this.getData()}).catch(i=>{alert(i.message)})}deleteData(n){const r=xe(this.firestore,"unidad-produccion",n);yn(r).then(()=>{alert("Data Deleted"),this.getData()}).catch(i=>{alert(i.message)})}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["user/projects"])}logOut(){wr(this.auth).then(()=>{}).catch(n=>{}),this.router.navigate(["auth/select"])}newMuestra(){this.router.navigate(["user/muestras-new"])}editMuestra(n){this.router.navigate(["user/muestras-edit/"+n])}infoProject(n){this.router.navigate(["user/project-edit/"+n])}infoUnidad(n){this.router.navigate(["client/unidad-produccion-info/"+n])}MyQuery(){var n=this;return m(function*(){const r=$o();let i,o=[];i="",console.log(r),Os(r,function(){var s=m(function*(a){if(a&&(console.log(a.email),a.email)){i=a.email;const d=Qt(ve(n.firestore,"projects"),Bt("cliente","==",i));de(d).then(b=>{n.dataTem=[...b.docs.map(x=>({...x.data(),id:x.id}))]}),(yield de(d)).forEach(b=>{}),console.log(n.dataTem.length),console.log(n.dataTem[0].name);let f=n.dataTem.length;console.log(f);for(let b=0;b<f;b++)console.log(n.dataTem[b].name),o.push(n.dataTem[b].name);console.log(o)}console.log("next"),console.log(o),n.pid=n.item;const l=Qt(ve(n.firestore,"unidad-produccion"),Bt("project","in",o));de(l).then(d=>{n.data=[...d.docs.map(h=>({...h.data(),id:h.id}))]}),(yield de(l)).forEach(d=>{console.log(d.id," => ",d.data())})});return function(a){return s.apply(this,arguments)}}())})()}static#e=this.\u0275fac=function(r){return new(r||t)(I(Te),I(at),I(ze),I(ot))};static#t=this.\u0275cmp=je({type:t,selectors:[["app-unidad-produccion-all"]],decls:17,vars:1,consts:[[1,"subTituloText"],[1,"list"],[4,"ngFor","ngForOf"],[1,"detalles",3,"click"]],template:function(r,i){1&r&&(y(0,"p"),C(1,"unidad-produccion-all works!"),p(),y(2,"h1",0),C(3,"Unidades"),p(),y(4,"div",1)(5,"table")(6,"tr")(7,"th"),C(8," Codigo "),p(),y(9,"th"),C(10," Proyecto "),p(),y(11,"th"),C(12," Altitud"),p(),y(13,"th"),C(14," Coordenadas "),p(),ee(15,"th"),p(),gr(16,qMe,11,4,"tr",2),p()()),2&r&&(B(16),mr("ngForOf",i.data))},dependencies:[ji],styles:[".list[_ngcontent-%COMP%]{position:absolute;left:38%;top:38%}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.projectBlock[_ngcontent-%COMP%]{width:auto;height:35px;background:#3ec28f;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:20px;font-weight:700;letter-spacing:0;cursor:pointer}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:153px;height:36px;left:49%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:126px;height:16px;left:50%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:300px;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;left:45%;top:20%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;margin-left:2px;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.list[_ngcontent-%COMP%]{position:absolute;left:2%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:80%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;left:30%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}return t})();const KMe=["geo"];let QMe=(()=>{class t{constructor(n,r,i,o){this.router=n,this.route=r,this.auth=i,this.firestore=o,this.title="gestion-de-muestras-de-campo",this.data=[],this.somethingChange=new qe}ngOnInit(){this.route.params.subscribe(n=>{this.text=n.id,console.log(n),console.log(n.id)}),this.MyQuery()}handleRegister(n){this.addData(n)}addData(n){const r=xe(this.firestore,"unidad-produccion",n.codigo);Gi(r,n).then(()=>{alert("Data Sent")}).catch(i=>{alert(i.message)}),console.log(n.comentarios)}getData(){const n=ve(this.firestore,"unidad-produccion");de(n).then(r=>{this.data=[...r.docs.map(i=>({...i.data(),id:i.id}))]})}showPosition(n){console.log(n.coords.latitude),console.log(n.coords.longitude)}getLocation(){var n=this;return m(function*(){n.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(n.showPosition):console.log("error"),setTimeout(()=>{console.log(n.res)},1e3)})()}MyQuery(){var n=this;return m(function*(){let r=n.text;const i=Qt(ve(n.firestore,"unidad-produccion"),Bt("codigo","==",r)),o=yield de(i);o.empty||o.forEach(s=>{n.item=s.data(),console.log(s.id," => ",s.data())})})()}editMuestra(){this.router.navigate(["user/unidad-produccion-edit/"+this.text])}deleteData(n){const r=xe(this.firestore,"users",n);yn(r).then(()=>{alert("Data Deleted"),this.getData()}).catch(i=>{alert(i.message)})}static#e=this.\u0275fac=function(r){return new(r||t)(I(Te),I(at),I(ze),I(ot))};static#t=this.\u0275cmp=je({type:t,selectors:[["app-unidad-produccion-info"]],viewQuery:function(r,i){if(1&r&&Rn(KMe,5),2&r){let o;In(o=Tn())&&(i.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:58,vars:10,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],[1,"input-field"]],template:function(r,i){if(1&r){const o=pt();y(0,"p"),C(1,"unidad-produccion-info works!"),p(),y(2,"h1",0),C(3,"Datos de la Muestra"),p(),y(4,"div",1)(5,"form",2,3),Y("ngSubmit",function(){Ne(o);const a=fn(6);return Re(i.handleRegister(a.value))}),y(7,"div",4)(8,"div",5)(9,"span",6),C(10,"Codigo:"),p(),y(11,"span",7),C(12),p()(),y(13,"div",5)(14,"span",6),C(15,"Cliente:"),p(),y(16,"span",7),C(17),p()(),y(18,"div",5)(19,"span",6),C(20,"Coordenadas:"),p(),y(21,"span",7),C(22),p()(),y(23,"div",5)(24,"span",6),C(25,"Localidad:"),p(),y(26,"span",7),C(27),p()(),y(28,"div",5)(29,"span",6),C(30,"Municipio:"),p(),y(31,"span",7),C(32),p()(),y(33,"div",5)(34,"span",6),C(35,"Estado:"),p(),y(36,"span",7),C(37),p()(),y(38,"div",5)(39,"span",6),C(40,"Altitud:"),p(),y(41,"span",7),C(42),p()(),y(43,"div",5)(44,"span",6),C(45,"Temperaturas M\xe1ximas:"),p(),y(46,"span",7),C(47),p()(),y(48,"div",5)(49,"span",6),C(50,"Temperaturas M\xednimas:"),p(),y(51,"span",7),C(52),p()(),y(53,"div",5)(54,"span",6),C(55,"Precipitaci\xf3n:"),p(),y(56,"span",7),C(57),p()()()()()}2&r&&(B(12),ke(" ",i.item.codigo,""),B(5),ke(" ",i.item.cliente,""),B(5),ke(" ",i.item.coordenadas,""),B(5),ke(" ",i.item.localidad,""),B(5),ke(" ",i.item.municipio,""),B(5),ke(" ",i.item.cliente,""),B(5),ke(" ",i.item.altitud,""),B(5),ke(" ",i.item.tempmax,""),B(5),ke(" ",i.item.tempmin,""),B(5),ke(" ",i.item.precipitacion,""))},dependencies:[Yn,Qn,Mn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:65%;height:55%;flex-shrink:0;position:absolute;left:25%;top:30%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:10%;top:7%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:12px 12px 12px 25px;height:20px;left:92px;color:#000;font-family:Arial;font-size:20px;letter-spacing:0}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:40%;top:20%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;height:25px;font-family:Arial;font-size:20px;font-weight:700;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:80%;top:88%}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:0%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.input-field[_ngcontent-%COMP%]{margin:6px 6px 6px 15px;height:20px;left:92px;color:#000;font-family:Arial;font-size:16px;letter-spacing:0;text-overflow:ellipsis}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:5%;top:3%}.Text[_ngcontent-%COMP%]{color:#000;height:20px;font-family:Arial;font-size:16px;letter-spacing:0}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:90%;height:53%;flex-shrink:0;position:absolute;left:5%;top:35%}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:67%;top:90%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:12px;left:0%;top:110%}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:25%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}return t})();const YMe=["geo"];let XMe=(()=>{class t{static#e=this.text="";constructor(n,r,i,o){this.router=n,this.route=r,this.auth=i,this.firestore=o,this.title="gestion-de-muestras-de-campo",this.data=[],this.res="",this.email="",this.somethingChange=new qe}ngOnInit(){this.route.params.subscribe(n=>{this.x=n.id,console.log(n),console.log(n.id)}),this.getData(),this.MyQuery()}handleRegister(n){this.addData(n)}addData(n){var r=this;return m(function*(){const i=xe(r.firestore,"clientes",n.codigo);Gi(i,n).then(()=>{alert("Data Sent")}).catch(o=>{alert(o.message)}),console.log(r.pid)})()}getData(){const n=$o();Os(n,i=>{i&&i.email&&(this.email=i.email)});const r=ve(this.firestore,"clientes");de(r).then(i=>{this.data=[...i.docs.map(o=>({...o.data(),id:o.id}))]})}showPosition(n){console.log(n.coords.latitude),console.log(n.coords.longitude),t.text=n.coords.latitude+", "+n.coords.longitude}getLocation(){var n=this;return m(function*(){n.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(n.showPosition):console.log("error"),setTimeout(()=>{n.res=t.text,console.log(n.res)},1e3)})()}MyQuery(){var n=this;return m(function*(){const r=$o();let i;i="",console.log(r),Os(r,function(){var o=m(function*(s){if(s&&(console.log(s.email),s.email)){i=s.email;const a=Qt(ve(n.firestore,"clientes"),Bt("email","==",i));de(a).then(l=>{n.data=[...l.docs.map(u=>({...u.data(),id:u.id}))]});const c=yield de(a);console.log(c),c.forEach(l=>{n.item=l.data(),n.pid=l.id,console.log(l.id," => ",l.data()),console.log("here2")}),console.log(n.data.length),console.log(n.data),console.log(n.data[0].email)}});return function(s){return o.apply(this,arguments)}}())})()}editClients(){this.router.navigate(["client/perfil-edit"])}deleteData(n){const i=xe(this.firestore,"clientes",this.x);yn(i).then(()=>{alert("Data Deleted"),this.router.navigate(["user/muestras/"+this.pid])}).catch(o=>{alert(o.message)})}static#t=this.\u0275fac=function(r){return new(r||t)(I(Te),I(at),I(ze),I(ot))};static#n=this.\u0275cmp=je({type:t,selectors:[["app-perfil"]],viewQuery:function(r,i){if(1&r&&Rn(YMe,5),2&r){let o;In(o=Tn())&&(i.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:32,vars:4,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],[1,"input-field"],[1,"boton",3,"click"]],template:function(r,i){if(1&r){const o=pt();y(0,"p"),C(1,"perfil works!"),p(),y(2,"p"),C(3,"clients-info works!"),p(),y(4,"h1",0),C(5,"Informacion del Cliente"),p(),y(6,"div",1)(7,"form",2,3),Y("ngSubmit",function(){Ne(o);const a=fn(8);return Re(i.handleRegister(a.value))}),y(9,"div",4)(10,"div",5)(11,"span",6),C(12,"Email:"),p(),y(13,"span",7),C(14),p()(),y(15,"div",5)(16,"span",6),C(17,"Nombre:"),p(),y(18,"span",7),C(19),p()(),y(20,"div",5)(21,"span",6),C(22,"Telefono:"),p(),y(23,"span",7),C(24),p()(),y(25,"div",5)(26,"span",6),C(27,"Direccion:"),p(),y(28,"span",7),C(29),p()()()()(),y(30,"button",8),Y("click",function(){return i.editClients()}),C(31,"Editar Cliente"),p()}2&r&&(B(14),ke(" ",i.item.email,""),B(5),ke(" ",i.item.nombre,""),B(5),ke(" ",i.item.telefono,""),B(5),ke(" ",i.item.direccion,""))},dependencies:[Yn,Qn,Mn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:25%;flex-shrink:0;position:absolute;left:15%;top:30%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:3%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:85%;height:20px;left:92px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:35%;top:20%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:80%;top:58%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:50%;flex-shrink:0;position:absolute;left:15%;top:30%}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:75%;top:110%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}return t})();const JMe=["geo"],ZMe=[{path:"client",component:RH,children:[{path:"projects",component:zMe},{path:"muestras-all",component:GMe},{path:"muestras/:id",component:sW},{path:"unidad-produccion-all",component:WMe},{path:"muestras-info/:id",component:sW},{path:"unidad-produccion-info/:id",component:QMe},{path:"perfil",component:XMe},{path:"perfil-edit",component:(()=>{class t{static#e=this.text="";constructor(n,r,i,o){this.router=n,this.route=r,this.auth=i,this.firestore=o,this.title="gestion-de-muestras-de-campo",this.data=[],this.res="",this.email="",this.somethingChange=new qe,this.getData(),this.MyQuery()}handleRegister(n){this.addData(n)}addData(n){var r=this;return m(function*(){console.log(n);const i=xe(r.firestore,"clientes",n.email);Zr(i,{email:n.email,nombre:n.nombre,fecha:n.fecha,telefono:n.telefono,direccion:n.direccion}).then(()=>{alert("Data Sent")}).catch(o=>{alert(o.message)}),console.log(r.pid)})()}getData(){const n=ve(this.firestore,"clientes");de(n).then(r=>{this.data=[...r.docs.map(i=>({...i.data(),id:i.id}))]})}showPosition(n){console.log(n.coords.latitude),console.log(n.coords.longitude),t.text=n.coords.latitude+", "+n.coords.longitude}getLocation(){var n=this;return m(function*(){n.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(n.showPosition):console.log("error"),setTimeout(()=>{n.res=t.text,console.log(n.res)},1e3)})()}MyQuery(){var n=this;return m(function*(){const r=$o();let i;i="",console.log(r),Os(r,function(){var o=m(function*(s){if(s&&(console.log(s.email),s.email)){i=s.email;const a=Qt(ve(n.firestore,"clientes"),Bt("email","==",i));de(a).then(l=>{n.data=[...l.docs.map(u=>({...u.data(),id:u.id}))]});const c=yield de(a);console.log(c),c.forEach(l=>{n.item=l.data(),n.pid=l.id,console.log(l.id," => ",l.data()),console.log("here2")}),console.log(n.data.length),console.log(n.data),console.log(n.data[0].email)}});return function(s){return o.apply(this,arguments)}}())})()}deleteData(n){const i=xe(this.firestore,"clientes",this.x);yn(i).then(()=>{alert("Data Deleted"),this.router.navigate(["user/muestras/"+this.pid])}).catch(o=>{alert(o.message)})}static#t=this.\u0275fac=function(r){return new(r||t)(I(Te),I(at),I(ze),I(ot))};static#n=this.\u0275cmp=je({type:t,selectors:[["app-perfil-edit"]],viewQuery:function(r,i){if(1&r&&Rn(JMe,5),2&r){let o;In(o=Tn())&&(i.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:26,vars:4,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],["name","email","ngModel","","placeholder","Email","id","emai","type","email",1,"input-field",3,"ngModel","ngModelChange"],["name","nombre","ngModel","","placeholder","Nombre","id","nombre","type","nombre",1,"input-field",3,"ngModel","ngModelChange"],["name","telefono","ngModel","","placeholder","Telefono","id","telefono","type","telefono",1,"input-field",3,"ngModel","ngModelChange"],["name","direccion","ngModel","","placeholder","Direccion","id","direccion","type","direccion",1,"input-field",3,"ngModel","ngModelChange"],[1,"boton"]],template:function(r,i){if(1&r){const o=pt();y(0,"p"),C(1,"perfil-edit works!"),p(),y(2,"h1",0),C(3," Editar Perfil"),p(),y(4,"div",1)(5,"form",2,3),Y("ngSubmit",function(){Ne(o);const a=fn(6);return Re(i.handleRegister(a.value))}),y(7,"div",4)(8,"div",5)(9,"span",6),C(10,"Email:"),p(),y(11,"input",7),Ke("ngModelChange",function(a){return Ze(i.item.email,a)||(i.item.email=a),a}),p()(),y(12,"div",5)(13,"span",6),C(14,"Nombre:"),p(),y(15,"input",8),Ke("ngModelChange",function(a){return Ze(i.item.nombre,a)||(i.item.nombre=a),a}),p()(),y(16,"div",5)(17,"span",6),C(18,"Telefono:"),p(),y(19,"input",9),Ke("ngModelChange",function(a){return Ze(i.item.telefono,a)||(i.item.telefono=a),a}),p()(),y(20,"div",5)(21,"span",6),C(22,"Direccion:"),p(),y(23,"input",10),Ke("ngModelChange",function(a){return Ze(i.item.direccion,a)||(i.item.direccion=a),a}),p()(),y(24,"button",11),C(25,"Editar Cliente"),p()()()()}2&r&&(B(11),We("ngModel",i.item.email),B(4),We("ngModel",i.item.nombre),B(4),We("ngModel",i.item.telefono),B(4),We("ngModel",i.item.direccion))},dependencies:[Yn,Kr,Mi,Qn,hi,Mn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:30%;flex-shrink:0;position:absolute;left:15%;top:30%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:3%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:85%;height:20px;left:92px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:35%;top:20%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:80%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:50%;flex-shrink:0;position:absolute;left:15%;top:30%}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:75%;top:110%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}return t})()}]}];let eSe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=on({type:t});static#n=this.\u0275inj=en({imports:[uo.forChild(ZMe),uo]})}return t})();Ab().subscribe(t=>console.log("LOAD_WASM",t));let tSe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=on({type:t});static#n=this.\u0275inj=en({imports:[eSe,FH,sf,_y,YP,uo]})}return t})();Ab().subscribe(t=>console.log("LOAD_WASM",t));let nSe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=on({type:t,bootstrap:[mxe]});static#n=this.\u0275inj=en({providers:[{provide:sa,useClass:HV}],imports:[uo,lae,FH,_y,lxe,bme(()=>wme(_xe_firebase)),i0e(()=>$o()),$Te(()=>HTe()),rxe(()=>{const n=sxe();return ixe(n),n}),gDe(()=>mDe()),bMe,wMe,tSe,YP,BMe.register("ngsw-worker.js",{enabled:!0,registrationStrategy:"registerWhenStable:30000"})]})}return t})();aae().bootstrapModule(nSe).catch(t=>console.error(t))},2448:(_e,M,R)=>{var m=ie(R(4824)),N=ie(R(988)),G=ie(R(5948)),V=ie(R(6448)),g=ie(R(7740)),w=ie(R(8620)),E=ie(R(9916)),S=R(6900),K=ie(R(7312));function ie(Ue){return Ue&&Ue.__esModule?Ue:{default:Ue}}var le=function(){},kt=function(Ot,hn,$t){var Xt=new le;if(typeof Ot>"u")throw Error("No element to render on was provided.");return Xt._renderProperties=(0,g.default)(Ot),Xt._encodings=[],Xt._options=K.default,Xt._errorHandler=new E.default(Xt),typeof hn<"u"&&(($t=$t||{}).format||($t.format=Ja()),Xt.options($t)[$t.format](hn,$t).render()),Xt};for(var jr in kt.getModule=function(Ue){return m.default[Ue]},m.default)m.default.hasOwnProperty(jr)&&Qi(m.default,jr);function Qi(Ue,Ot){le.prototype[Ot]=le.prototype[Ot.toUpperCase()]=le.prototype[Ot.toLowerCase()]=function(hn,$t){var Xt=this;return Xt._errorHandler.wrapBarcodeCall(function(){$t.text=typeof $t.text>"u"?void 0:""+$t.text;var ti=(0,N.default)(Xt._options,$t);ti=(0,w.default)(ti);var eN=Hs(hn,Ue[Ot],ti);return Xt._encodings.push(eN),Xt})}}function Hs(Ue,Ot,hn){var $t=new Ot(Ue=""+Ue,hn);if(!$t.valid())throw new S.InvalidInputException($t.constructor.name,Ue);var Xt=$t.encode();Xt=(0,G.default)(Xt);for(var ti=0;ti<Xt.length;ti++)Xt[ti].options=(0,N.default)(hn,Xt[ti].options);return Xt}function Ja(){return m.default.CODE128?"CODE128":Object.keys(m.default)[0]}function is(Ue,Ot,hn){Ot=(0,G.default)(Ot);for(var $t=0;$t<Ot.length;$t++)Ot[$t].options=(0,N.default)(hn,Ot[$t].options),(0,V.default)(Ot[$t].options);(0,V.default)(hn),new(0,Ue.renderer)(Ue.element,Ot,hn).render(),Ue.afterRender&&Ue.afterRender()}le.prototype.options=function(Ue){return this._options=(0,N.default)(this._options,Ue),this},le.prototype.blank=function(Ue){var Ot=new Array(Ue+1).join("0");return this._encodings.push({data:Ot}),this},le.prototype.init=function(){var Ue;if(this._renderProperties)for(var Ot in Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]),this._renderProperties){var hn=(0,N.default)(this._options,(Ue=this._renderProperties[Ot]).options);"auto"==hn.format&&(hn.format=Ja()),this._errorHandler.wrapBarcodeCall(function(){var ti=Hs(hn.value,m.default[hn.format.toUpperCase()],hn);is(Ue,ti,hn)})}},le.prototype.render=function(){if(!this._renderProperties)throw new S.NoElementException;if(Array.isArray(this._renderProperties))for(var Ue=0;Ue<this._renderProperties.length;Ue++)is(this._renderProperties[Ue],this._encodings,this._options);else is(this._renderProperties,this._encodings,this._options);return this},le.prototype._defaults=K.default,typeof window<"u"&&(window.JsBarcode=kt),typeof jQuery<"u"&&(jQuery.fn.JsBarcode=function(Ue,Ot){var hn=[];return jQuery(this).each(function(){hn.push(this)}),kt(hn,Ue,Ot)}),_e.exports=kt},2660:(_e,M)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.default=function m(U,N){(function R(m,U){if(!(m instanceof U))throw new TypeError("Cannot call a class as a function")})(this,m),this.data=U,this.text=N.text||U,this.options=N}},6132:(_e,M,R)=>{Object.defineProperty(M,"__esModule",{value:!0});var j=function(){function g(_,w){for(var v=0;v<w.length;v++){var E=w[v];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(_,E.key,E)}}return function(_,w,v){return w&&g(_.prototype,w),v&&g(_,v),_}}(),U=function z(g){return g&&g.__esModule?g:{default:g}}(R(2660)),N=R(1880),D=function(g){function _(w,v){!function G(g,_){if(!(g instanceof _))throw new TypeError("Cannot call a class as a function")}(this,_);var E=function O(g,_){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!_||"object"!=typeof _&&"function"!=typeof _?g:_}(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,w.substring(1),v));return E.bytes=w.split("").map(function(S){return S.charCodeAt(0)}),E}return function V(g,_){if("function"!=typeof _&&null!==_)throw new TypeError("Super expression must either be null or a function, not "+typeof _);g.prototype=Object.create(_&&_.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(g,_):g.__proto__=_)}(_,g),j(_,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var v=this.bytes,E=v.shift()-105,S=N.SET_BY_CODE[E];if(void 0===S)throw new RangeError("The encoding does not start with a start character.");!0===this.shouldEncodeAsEan128()&&v.unshift(N.FNC1);var A=_.next(v,1,S);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:_.getBar(E)+A.result+_.getBar((A.checksum+E)%N.MODULO)+_.getBar(N.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var v=this.options.ean128||!1;return"string"==typeof v&&(v="true"===v.toLowerCase()),v}}],[{key:"getBar",value:function(v){return N.BARS[v]?N.BARS[v].toString():""}},{key:"correctIndex",value:function(v,E){if(E===N.SET_A){var S=v.shift();return S<32?S+64:S-32}return E===N.SET_B?v.shift()-32:10*(v.shift()-48)+v.shift()-48}},{key:"next",value:function(v,E,S){if(!v.length)return{result:"",checksum:0};var A=void 0,K=void 0;if(v[0]>=200){K=v.shift()-105;var ie=N.SWAP[K];void 0!==ie?A=_.next(v,E+1,ie):((S===N.SET_A||S===N.SET_B)&&K===N.SHIFT&&(v[0]=S===N.SET_A?v[0]>95?v[0]-96:v[0]:v[0]<32?v[0]+96:v[0]),A=_.next(v,E+1,S))}else K=_.correctIndex(v,S),A=_.next(v,E+1,S);return{result:_.getBar(K)+A.result,checksum:K*E+A.checksum}}}]),_}(U.default);M.default=D},1856:(_e,M,R)=>{Object.defineProperty(M,"__esModule",{value:!0});var j=function(){function g(_,w){for(var v=0;v<w.length;v++){var E=w[v];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(_,E.key,E)}}return function(_,w,v){return w&&g(_.prototype,w),v&&g(_,v),_}}(),U=function z(g){return g&&g.__esModule?g:{default:g}}(R(6132)),N=R(1880),D=function(g){function _(w,v){return function G(g,_){if(!(g instanceof _))throw new TypeError("Cannot call a class as a function")}(this,_),function O(g,_){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!_||"object"!=typeof _&&"function"!=typeof _?g:_}(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,N.A_START_CHAR+w,v))}return function V(g,_){if("function"!=typeof _&&null!==_)throw new TypeError("Super expression must either be null or a function, not "+typeof _);g.prototype=Object.create(_&&_.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(g,_):g.__proto__=_)}(_,g),j(_,[{key:"valid",value:function(){return new RegExp("^"+N.A_CHARS+"+$").test(this.data)}}]),_}(U.default);M.default=D},4640:(_e,M,R)=>{Object.defineProperty(M,"__esModule",{value:!0});var j=function(){function g(_,w){for(var v=0;v<w.length;v++){var E=w[v];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(_,E.key,E)}}return function(_,w,v){return w&&g(_.prototype,w),v&&g(_,v),_}}(),U=function z(g){return g&&g.__esModule?g:{default:g}}(R(6132)),N=R(1880),D=function(g){function _(w,v){return function G(g,_){if(!(g instanceof _))throw new TypeError("Cannot call a class as a function")}(this,_),function O(g,_){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!_||"object"!=typeof _&&"function"!=typeof _?g:_}(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,N.B_START_CHAR+w,v))}return function V(g,_){if("function"!=typeof _&&null!==_)throw new TypeError("Super expression must either be null or a function, not "+typeof _);g.prototype=Object.create(_&&_.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(g,_):g.__proto__=_)}(_,g),j(_,[{key:"valid",value:function(){return new RegExp("^"+N.B_CHARS+"+$").test(this.data)}}]),_}(U.default);M.default=D},9256:(_e,M,R)=>{Object.defineProperty(M,"__esModule",{value:!0});var j=function(){function g(_,w){for(var v=0;v<w.length;v++){var E=w[v];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(_,E.key,E)}}return function(_,w,v){return w&&g(_.prototype,w),v&&g(_,v),_}}(),U=function z(g){return g&&g.__esModule?g:{default:g}}(R(6132)),N=R(1880),D=function(g){function _(w,v){return function G(g,_){if(!(g instanceof _))throw new TypeError("Cannot call a class as a function")}(this,_),function O(g,_){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!_||"object"!=typeof _&&"function"!=typeof _?g:_}(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,N.C_START_CHAR+w,v))}return function V(g,_){if("function"!=typeof _&&null!==_)throw new TypeError("Super expression must either be null or a function, not "+typeof _);g.prototype=Object.create(_&&_.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(g,_):g.__proto__=_)}(_,g),j(_,[{key:"valid",value:function(){return new RegExp("^"+N.C_CHARS+"+$").test(this.data)}}]),_}(U.default);M.default=D},2016:(_e,M,R)=>{Object.defineProperty(M,"__esModule",{value:!0});var m=z(R(6132)),N=z(R(3136));function z(g){return g&&g.__esModule?g:{default:g}}function O(g,_){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!_||"object"!=typeof _&&"function"!=typeof _?g:_}var D=function(g){function _(w,v){if(function G(g,_){if(!(g instanceof _))throw new TypeError("Cannot call a class as a function")}(this,_),/^[\x00-\x7F\xC8-\xD3]+$/.test(w))var E=O(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,(0,N.default)(w),v));else E=O(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,w,v));return O(E)}return function V(g,_){if("function"!=typeof _&&null!==_)throw new TypeError("Super expression must either be null or a function, not "+typeof _);g.prototype=Object.create(_&&_.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(g,_):g.__proto__=_)}(_,g),_}(m.default);M.default=D},3136:(_e,M,R)=>{Object.defineProperty(M,"__esModule",{value:!0});var j=R(1880),m=function(V){return V.match(new RegExp("^"+j.A_CHARS+"*"))[0].length},U=function(V){return V.match(new RegExp("^"+j.B_CHARS+"*"))[0].length},N=function(V){return V.match(new RegExp("^"+j.C_CHARS+"*"))[0]};function z(O,V){var D=V?j.A_CHARS:j.B_CHARS,g=O.match(new RegExp("^("+D+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(g)return g[1]+"\xcc"+G(O.substring(g[1].length));var _=O.match(new RegExp("^"+D+"+"))[0];return _.length===O.length?O:_+String.fromCharCode(V?205:206)+z(O.substring(_.length),!V)}function G(O){var V=N(O),D=V.length;if(D===O.length)return O;O=O.substring(D);var g=m(O)>=U(O);return V+String.fromCharCode(g?206:205)+z(O,g)}M.default=function(O){var V=void 0;if(N(O).length>=2)V=j.C_START_CHAR+G(O);else{var g=m(O)>U(O);V=(g?j.A_START_CHAR:j.B_START_CHAR)+z(O,g)}return V.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,function(_,w){return"\xcb"+w})}},1880:(_e,M)=>{var R;function j(jr,Qi,Hs){return Qi in jr?Object.defineProperty(jr,Qi,{value:Hs,enumerable:!0,configurable:!0,writable:!0}):jr[Qi]=Hs,jr}Object.defineProperty(M,"__esModule",{value:!0});var m=M.SET_A=0,U=M.SET_B=1,N=M.SET_C=2,G=(M.SHIFT=98,M.START_A=103),O=M.START_B=104,V=M.START_C=105;M.MODULO=103,M.STOP=106,M.FNC1=207,M.SET_BY_CODE=(j(R={},G,m),j(R,O,U),j(R,V,N),R),M.SWAP={101:m,100:U,99:N},M.A_START_CHAR="\xd0",M.B_START_CHAR="\xd1",M.C_START_CHAR="\xd2",M.A_CHARS="[\0-_\xc8-\xcf]",M.B_CHARS="[ -\x7f\xc8-\xcf]",M.C_CHARS="(\xcf*[0-9]{2}\xcf*)",M.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011]},7224:(_e,M,R)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.CODE128C=M.CODE128B=M.CODE128A=M.CODE128=void 0;var m=D(R(2016)),N=D(R(1856)),G=D(R(4640)),V=D(R(9256));function D(g){return g&&g.__esModule?g:{default:g}}M.CODE128=m.default,M.CODE128A=N.default,M.CODE128B=G.default,M.CODE128C=V.default},5872:(_e,M,R)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.CODE39=void 0;var j=function(){function A(K,ie){for(var le=0;le<ie.length;le++){var kt=ie[le];kt.enumerable=kt.enumerable||!1,kt.configurable=!0,"value"in kt&&(kt.writable=!0),Object.defineProperty(K,kt.key,kt)}}return function(K,ie,le){return ie&&A(K.prototype,ie),le&&A(K,le),K}}(),V=function(A){function K(ie,le){return function z(A,K){if(!(A instanceof K))throw new TypeError("Cannot call a class as a function")}(this,K),ie=ie.toUpperCase(),le.mod43&&(ie+=function v(A){return D[A]}(function S(A){for(var K=0,ie=0;ie<A.length;ie++)K+=E(A[ie]);return K%=43}(ie))),function G(A,K){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!K||"object"!=typeof K&&"function"!=typeof K?A:K}(this,(K.__proto__||Object.getPrototypeOf(K)).call(this,ie,le))}return function O(A,K){if("function"!=typeof K&&null!==K)throw new TypeError("Super expression must either be null or a function, not "+typeof K);A.prototype=Object.create(K&&K.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),K&&(Object.setPrototypeOf?Object.setPrototypeOf(A,K):A.__proto__=K)}(K,A),j(K,[{key:"encode",value:function(){for(var le=_("*"),kt=0;kt<this.data.length;kt++)le+=_(this.data[kt])+"0";return{data:le+=_("*"),text:this.text}}},{key:"valid",value:function(){return-1!==this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)}}]),K}(function N(A){return A&&A.__esModule?A:{default:A}}(R(2660)).default),D=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],g=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function _(A){return function w(A){return g[A].toString(2)}(E(A))}function E(A){return D.indexOf(A)}M.CODE39=V},8512:(_e,M,R)=>{Object.defineProperty(M,"__esModule",{value:!0});var j=function(){function w(v,E){for(var S=0;S<E.length;S++){var A=E[S];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(v,A.key,A)}}return function(v,E,S){return E&&w(v.prototype,E),S&&w(v,S),v}}(),m=R(8600),N=O(R(1496));function O(w){return w&&w.__esModule?w:{default:w}}var _=function(w){function v(E,S){!function V(w,v){if(!(w instanceof v))throw new TypeError("Cannot call a class as a function")}(this,v);var A=function D(w,v){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||"object"!=typeof v&&"function"!=typeof v?w:v}(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,E,S));return A.fontSize=!S.flat&&S.fontSize>10*S.width?10*S.width:S.fontSize,A.guardHeight=S.height+A.fontSize/2+S.textMargin,A}return function g(w,v){if("function"!=typeof v&&null!==v)throw new TypeError("Super expression must either be null or a function, not "+typeof v);w.prototype=Object.create(v&&v.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(w,v):w.__proto__=v)}(v,w),j(v,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(S,A){return this.text.substr(S,A)}},{key:"leftEncode",value:function(S,A){return(0,N.default)(S,A)}},{key:"rightText",value:function(S,A){return this.text.substr(S,A)}},{key:"rightEncode",value:function(S,A){return(0,N.default)(S,A)}},{key:"encodeGuarded",value:function(){var S={fontSize:this.fontSize},A={height:this.guardHeight};return[{data:m.SIDE_BIN,options:A},{data:this.leftEncode(),text:this.leftText(),options:S},{data:m.MIDDLE_BIN,options:A},{data:this.rightEncode(),text:this.rightText(),options:S},{data:m.SIDE_BIN,options:A}]}},{key:"encodeFlat",value:function(){return{data:[m.SIDE_BIN,this.leftEncode(),m.MIDDLE_BIN,this.rightEncode(),m.SIDE_BIN].join(""),text:this.text}}}]),v}(O(R(2660)).default);M.default=_},2308:(_e,M,R)=>{Object.defineProperty(M,"__esModule",{value:!0});var j=function(){function w(v,E){for(var S=0;S<E.length;S++){var A=E[S];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(v,A.key,A)}}return function(v,E,S){return E&&w(v.prototype,E),S&&w(v,S),v}}(),m=function w(v,E,S){null===v&&(v=Function.prototype);var A=Object.getOwnPropertyDescriptor(v,E);if(void 0===A){var K=Object.getPrototypeOf(v);return null===K?void 0:w(K,E,S)}if("value"in A)return A.value;var ie=A.get;return void 0===ie?void 0:ie.call(S)},U=R(8600),z=function G(w){return w&&w.__esModule?w:{default:w}}(R(8512)),g=function(v){return(10-v.substr(0,12).split("").map(function(S){return+S}).reduce(function(S,A,K){return K%2?S+3*A:S+A},0)%10)%10},_=function(w){function v(E,S){(function O(w,v){if(!(w instanceof v))throw new TypeError("Cannot call a class as a function")})(this,v),-1!==E.search(/^[0-9]{12}$/)&&(E+=g(E));var A=function V(w,v){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||"object"!=typeof v&&"function"!=typeof v?w:v}(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,E,S));return A.lastChar=S.lastChar,A}return function D(w,v){if("function"!=typeof v&&null!==v)throw new TypeError("Super expression must either be null or a function, not "+typeof v);w.prototype=Object.create(v&&v.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(w,v):w.__proto__=v)}(v,w),j(v,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{13}$/)&&+this.data[12]===g(this.data)}},{key:"leftText",value:function(){return m(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var S=this.data.substr(1,6),A=U.EAN13_STRUCTURE[this.data[0]];return m(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"leftEncode",this).call(this,S,A)}},{key:"rightText",value:function(){return m(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var S=this.data.substr(7,6);return m(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"rightEncode",this).call(this,S,"RRRRRR")}},{key:"encodeGuarded",value:function(){var S=m(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(S.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(S.push({data:"00"}),S.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),S}}]),v}(z.default);M.default=_},580:(_e,M,R)=>{Object.defineProperty(M,"__esModule",{value:!0});var j=function(){function w(v,E){for(var S=0;S<E.length;S++){var A=E[S];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(v,A.key,A)}}return function(v,E,S){return E&&w(v.prototype,E),S&&w(v,S),v}}(),m=R(8600),N=O(R(1496));function O(w){return w&&w.__esModule?w:{default:w}}var _=function(w){function v(E,S){return function V(w,v){if(!(w instanceof v))throw new TypeError("Cannot call a class as a function")}(this,v),function D(w,v){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||"object"!=typeof v&&"function"!=typeof v?w:v}(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,E,S))}return function g(w,v){if("function"!=typeof v&&null!==v)throw new TypeError("Super expression must either be null or a function, not "+typeof v);w.prototype=Object.create(v&&v.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(w,v):w.__proto__=v)}(v,w),j(v,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{2}$/)}},{key:"encode",value:function(){var S=m.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,N.default)(this.data,S,"01"),text:this.text}}}]),v}(O(R(2660)).default);M.default=_},7168:(_e,M,R)=>{Object.defineProperty(M,"__esModule",{value:!0});var j=function(){function v(E,S){for(var A=0;A<S.length;A++){var K=S[A];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(E,K.key,K)}}return function(E,S,A){return S&&v(E.prototype,S),A&&v(E,A),E}}(),m=R(8600),N=O(R(1496));function O(v){return v&&v.__esModule?v:{default:v}}var w=function(v){function E(S,A){return function V(v,E){if(!(v instanceof E))throw new TypeError("Cannot call a class as a function")}(this,E),function D(v,E){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!E||"object"!=typeof E&&"function"!=typeof E?v:E}(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,S,A))}return function g(v,E){if("function"!=typeof E&&null!==E)throw new TypeError("Super expression must either be null or a function, not "+typeof E);v.prototype=Object.create(E&&E.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(v,E):v.__proto__=E)}(E,v),j(E,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{5}$/)}},{key:"encode",value:function(){var A=m.EAN5_STRUCTURE[function(E){return E.split("").map(function(A){return+A}).reduce(function(A,K,ie){return ie%2?A+9*K:A+3*K},0)%10}(this.data)];return{data:"1011"+(0,N.default)(this.data,A,"01"),text:this.text}}}]),E}(O(R(2660)).default);M.default=w},5240:(_e,M,R)=>{Object.defineProperty(M,"__esModule",{value:!0});var j=function(){function _(w,v){for(var E=0;E<v.length;E++){var S=v[E];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(w,S.key,S)}}return function(w,v,E){return v&&_(w.prototype,v),E&&_(w,E),w}}(),m=function _(w,v,E){null===w&&(w=Function.prototype);var S=Object.getOwnPropertyDescriptor(w,v);if(void 0===S){var A=Object.getPrototypeOf(w);return null===A?void 0:_(A,v,E)}if("value"in S)return S.value;var K=S.get;return void 0===K?void 0:K.call(E)},N=function z(_){return _&&_.__esModule?_:{default:_}}(R(8512)),D=function(w){return(10-w.substr(0,7).split("").map(function(E){return+E}).reduce(function(E,S,A){return A%2?E+S:E+3*S},0)%10)%10},g=function(_){function w(v,E){return function G(_,w){if(!(_ instanceof w))throw new TypeError("Cannot call a class as a function")}(this,w),-1!==v.search(/^[0-9]{7}$/)&&(v+=D(v)),function O(_,w){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!w||"object"!=typeof w&&"function"!=typeof w?_:w}(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,v,E))}return function V(_,w){if("function"!=typeof w&&null!==w)throw new TypeError("Super expression must either be null or a function, not "+typeof w);_.prototype=Object.create(w&&w.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(_,w):_.__proto__=w)}(w,_),j(w,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{8}$/)&&+this.data[7]===D(this.data)}},{key:"leftText",value:function(){return m(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var E=this.data.substr(0,4);return m(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"leftEncode",this).call(this,E,"LLLL")}},{key:"rightText",value:function(){return m(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var E=this.data.substr(4,4);return m(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"rightEncode",this).call(this,E,"RRRR")}}]),w}(N.default);M.default=g},7832:(_e,M,R)=>{Object.defineProperty(M,"__esModule",{value:!0});var j=function(){function w(v,E){for(var S=0;S<E.length;S++){var A=E[S];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(v,A.key,A)}}return function(v,E,S){return E&&w(v.prototype,E),S&&w(v,S),v}}();M.checksum=_;var U=G(R(1496));function G(w){return w&&w.__esModule?w:{default:w}}var g=function(w){function v(E,S){(function O(w,v){if(!(w instanceof v))throw new TypeError("Cannot call a class as a function")})(this,v),-1!==E.search(/^[0-9]{11}$/)&&(E+=_(E));var A=function V(w,v){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||"object"!=typeof v&&"function"!=typeof v?w:v}(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,E,S));return A.displayValue=S.displayValue,A.fontSize=S.fontSize>10*S.width?10*S.width:S.fontSize,A.guardHeight=S.height+A.fontSize/2+S.textMargin,A}return function D(w,v){if("function"!=typeof v&&null!==v)throw new TypeError("Super expression must either be null or a function, not "+typeof v);w.prototype=Object.create(v&&v.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(w,v):w.__proto__=v)}(v,w),j(v,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{12}$/)&&this.data[11]==_(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var S="";return S+="101",S+=(0,U.default)(this.data.substr(0,6),"LLLLLL"),S+="01010",S+=(0,U.default)(this.data.substr(6,6),"RRRRRR"),{data:S+="101",text:this.text}}},{key:"guardedEncoding",value:function(){var S=[];return this.displayValue&&S.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),S.push({data:"101"+(0,U.default)(this.data[0],"L"),options:{height:this.guardHeight}}),S.push({data:(0,U.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),S.push({data:"01010",options:{height:this.guardHeight}}),S.push({data:(0,U.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),S.push({data:(0,U.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&S.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),S}}]),v}(G(R(2660)).default);function _(w){var E,v=0;for(E=1;E<11;E+=2)v+=parseInt(w[E]);for(E=0;E<11;E+=2)v+=3*parseInt(w[E]);return(10-v%10)%10}M.default=g},3464:(_e,M,R)=>{Object.defineProperty(M,"__esModule",{value:!0});var j=function(){function S(A,K){for(var ie=0;ie<K.length;ie++){var le=K[ie];le.enumerable=le.enumerable||!1,le.configurable=!0,"value"in le&&(le.writable=!0),Object.defineProperty(A,le.key,le)}}return function(A,K,ie){return K&&S(A.prototype,K),ie&&S(A,ie),A}}(),U=O(R(1496)),z=O(R(2660)),G=R(7832);function O(S){return S&&S.__esModule?S:{default:S}}function D(S,A){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!A||"object"!=typeof A&&"function"!=typeof A?S:A}var _=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],w=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],v=function(S){function A(K,ie){!function V(S,A){if(!(S instanceof A))throw new TypeError("Cannot call a class as a function")}(this,A);var le=D(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,K,ie));if(le.isValid=!1,-1!==K.search(/^[0-9]{6}$/))le.middleDigits=K,le.upcA=E(K,"0"),le.text=ie.text||""+le.upcA[0]+K+le.upcA[le.upcA.length-1],le.isValid=!0;else{if(-1===K.search(/^[01][0-9]{7}$/))return D(le);if(le.middleDigits=K.substring(1,K.length-1),le.upcA=E(le.middleDigits,K[0]),le.upcA[le.upcA.length-1]!==K[K.length-1])return D(le);le.isValid=!0}return le.displayValue=ie.displayValue,le.fontSize=ie.fontSize>10*ie.width?10*ie.width:ie.fontSize,le.guardHeight=ie.height+le.fontSize/2+ie.textMargin,le}return function g(S,A){if("function"!=typeof A&&null!==A)throw new TypeError("Super expression must either be null or a function, not "+typeof A);S.prototype=Object.create(A&&A.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(S,A):S.__proto__=A)}(A,S),j(A,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var ie="";return ie+="101",ie+=this.encodeMiddleDigits(),{data:ie+="010101",text:this.text}}},{key:"guardedEncoding",value:function(){var ie=[];return this.displayValue&&ie.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),ie.push({data:"101",options:{height:this.guardHeight}}),ie.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),ie.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&ie.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),ie}},{key:"encodeMiddleDigits",value:function(){var ie=this.upcA[0],kt=w[parseInt(this.upcA[this.upcA.length-1])][parseInt(ie)];return(0,U.default)(this.middleDigits,kt)}}]),A}(z.default);function E(S,A){for(var K=parseInt(S[S.length-1]),ie=_[K],le="",kt=0,jr=0;jr<ie.length;jr++){var Qi=ie[jr];le+="X"===Qi?S[kt++]:Qi}return(le=""+A+le)+(0,G.checksum)(le)}M.default=v},8600:(_e,M)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.SIDE_BIN="101",M.MIDDLE_BIN="01010",M.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]},M.EAN2_STRUCTURE=["LL","LG","GL","GG"],M.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"],M.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"]},1496:(_e,M,R)=>{Object.defineProperty(M,"__esModule",{value:!0});var j=R(8600);M.default=function(N,z,G){var O=N.split("").map(function(D,g){return j.BINARIES[z[g]]}).map(function(D,g){return D?D[N[g]]:""});if(G){var V=N.length-1;O=O.map(function(D,g){return g<V?D+G:D})}return O.join("")}},5256:(_e,M,R)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.UPCE=M.UPC=M.EAN2=M.EAN5=M.EAN8=M.EAN13=void 0;var m=v(R(2308)),N=v(R(5240)),G=v(R(7168)),V=v(R(580)),g=v(R(7832)),w=v(R(3464));function v(E){return E&&E.__esModule?E:{default:E}}M.EAN13=m.default,M.EAN8=N.default,M.EAN5=G.default,M.EAN2=V.default,M.UPC=g.default,M.UPCE=w.default},5573:(_e,M,R)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.GenericBarcode=void 0;var j=function(){function D(g,_){for(var w=0;w<_.length;w++){var v=_[w];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(g,v.key,v)}}return function(g,_,w){return _&&D(g.prototype,_),w&&D(g,w),g}}(),V=function(D){function g(_,w){return function z(D,g){if(!(D instanceof g))throw new TypeError("Cannot call a class as a function")}(this,g),function G(D,g){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!g||"object"!=typeof g&&"function"!=typeof g?D:g}(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,_,w))}return function O(D,g){if("function"!=typeof g&&null!==g)throw new TypeError("Super expression must either be null or a function, not "+typeof g);D.prototype=Object.create(g&&g.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(D,g):D.__proto__=g)}(g,D),j(g,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),g}(function N(D){return D&&D.__esModule?D:{default:D}}(R(2660)).default);M.GenericBarcode=V},136:(_e,M,R)=>{Object.defineProperty(M,"__esModule",{value:!0});var j=function(){function g(_,w){for(var v=0;v<w.length;v++){var E=w[v];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(_,E.key,E)}}return function(_,w,v){return w&&g(_.prototype,w),v&&g(_,v),_}}(),m=R(3664),D=function(g){function _(){return function G(g,_){if(!(g instanceof _))throw new TypeError("Cannot call a class as a function")}(this,_),function O(g,_){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!_||"object"!=typeof _&&"function"!=typeof _?g:_}(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return function V(g,_){if("function"!=typeof _&&null!==_)throw new TypeError("Super expression must either be null or a function, not "+typeof _);g.prototype=Object.create(_&&_.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(g,_):g.__proto__=_)}(_,g),j(_,[{key:"valid",value:function(){return-1!==this.data.search(/^([0-9]{2})+$/)}},{key:"encode",value:function(){var v=this,E=this.data.match(/.{2}/g).map(function(S){return v.encodePair(S)}).join("");return{data:m.START_BIN+E+m.END_BIN,text:this.text}}},{key:"encodePair",value:function(v){var E=m.BINARIES[v[1]];return m.BINARIES[v[0]].split("").map(function(S,A){return("1"===S?"111":"1")+("1"===E[A]?"000":"0")}).join("")}}]),_}(function z(g){return g&&g.__esModule?g:{default:g}}(R(2660)).default);M.default=D},4690:(_e,M,R)=>{Object.defineProperty(M,"__esModule",{value:!0});var j=function(){function g(_,w){for(var v=0;v<w.length;v++){var E=w[v];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(_,E.key,E)}}return function(_,w,v){return w&&g(_.prototype,w),v&&g(_,v),_}}(),U=function N(g){return g&&g.__esModule?g:{default:g}}(R(136)),V=function(_){var w=_.substr(0,13).split("").map(function(v){return parseInt(v,10)}).reduce(function(v,E,S){return v+E*(3-S%2*2)},0);return 10*Math.ceil(w/10)-w},D=function(g){function _(w,v){return function z(g,_){if(!(g instanceof _))throw new TypeError("Cannot call a class as a function")}(this,_),-1!==w.search(/^[0-9]{13}$/)&&(w+=V(w)),function G(g,_){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!_||"object"!=typeof _&&"function"!=typeof _?g:_}(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,w,v))}return function O(g,_){if("function"!=typeof _&&null!==_)throw new TypeError("Super expression must either be null or a function, not "+typeof _);g.prototype=Object.create(_&&_.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(g,_):g.__proto__=_)}(_,g),j(_,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{14}$/)&&+this.data[13]===V(this.data)}}]),_}(U.default);M.default=D},3664:(_e,M)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.START_BIN="1010",M.END_BIN="11101",M.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"]},3108:(_e,M,R)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.ITF14=M.ITF=void 0;var m=z(R(136)),N=z(R(4690));function z(G){return G&&G.__esModule?G:{default:G}}M.ITF=m.default,M.ITF14=N.default},2132:(_e,M,R)=>{Object.defineProperty(M,"__esModule",{value:!0});var j=function(){function g(_,w){for(var v=0;v<w.length;v++){var E=w[v];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(_,E.key,E)}}return function(_,w,v){return w&&g(_.prototype,w),v&&g(_,v),_}}(),V=function(g){function _(w,v){return function z(g,_){if(!(g instanceof _))throw new TypeError("Cannot call a class as a function")}(this,_),function G(g,_){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!_||"object"!=typeof _&&"function"!=typeof _?g:_}(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,w,v))}return function O(g,_){if("function"!=typeof _&&null!==_)throw new TypeError("Super expression must either be null or a function, not "+typeof _);g.prototype=Object.create(_&&_.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(g,_):g.__proto__=_)}(_,g),j(_,[{key:"encode",value:function(){for(var v="110",E=0;E<this.data.length;E++){var A=parseInt(this.data[E]).toString(2);A=D(A,4-A.length);for(var K=0;K<A.length;K++)v+="0"==A[K]?"100":"110"}return{data:v+="1001",text:this.text}}},{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]+$/)}}]),_}(function N(g){return g&&g.__esModule?g:{default:g}}(R(2660)).default);function D(g,_){for(var w=0;w<_;w++)g="0"+g;return g}M.default=V},5128:(_e,M,R)=>{Object.defineProperty(M,"__esModule",{value:!0});var m=function N(D){return D&&D.__esModule?D:{default:D}}(R(2132)),U=R(6512),V=function(D){function g(_,w){return function z(D,g){if(!(D instanceof g))throw new TypeError("Cannot call a class as a function")}(this,g),function G(D,g){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!g||"object"!=typeof g&&"function"!=typeof g?D:g}(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,_+(0,U.mod10)(_),w))}return function O(D,g){if("function"!=typeof g&&null!==g)throw new TypeError("Super expression must either be null or a function, not "+typeof g);D.prototype=Object.create(g&&g.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(D,g):D.__proto__=g)}(g,D),g}(m.default);M.default=V},9324:(_e,M,R)=>{Object.defineProperty(M,"__esModule",{value:!0});var m=function N(D){return D&&D.__esModule?D:{default:D}}(R(2132)),U=R(6512),V=function(D){function g(_,w){return function z(D,g){if(!(D instanceof g))throw new TypeError("Cannot call a class as a function")}(this,g),_+=(0,U.mod10)(_),_+=(0,U.mod10)(_),function G(D,g){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!g||"object"!=typeof g&&"function"!=typeof g?D:g}(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,_,w))}return function O(D,g){if("function"!=typeof g&&null!==g)throw new TypeError("Super expression must either be null or a function, not "+typeof g);D.prototype=Object.create(g&&g.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(D,g):D.__proto__=g)}(g,D),g}(m.default);M.default=V},5672:(_e,M,R)=>{Object.defineProperty(M,"__esModule",{value:!0});var m=function N(D){return D&&D.__esModule?D:{default:D}}(R(2132)),U=R(6512),V=function(D){function g(_,w){return function z(D,g){if(!(D instanceof g))throw new TypeError("Cannot call a class as a function")}(this,g),function G(D,g){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!g||"object"!=typeof g&&"function"!=typeof g?D:g}(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,_+(0,U.mod11)(_),w))}return function O(D,g){if("function"!=typeof g&&null!==g)throw new TypeError("Super expression must either be null or a function, not "+typeof g);D.prototype=Object.create(g&&g.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(D,g):D.__proto__=g)}(g,D),g}(m.default);M.default=V},1640:(_e,M,R)=>{Object.defineProperty(M,"__esModule",{value:!0});var m=function N(D){return D&&D.__esModule?D:{default:D}}(R(2132)),U=R(6512),V=function(D){function g(_,w){return function z(D,g){if(!(D instanceof g))throw new TypeError("Cannot call a class as a function")}(this,g),_+=(0,U.mod11)(_),_+=(0,U.mod10)(_),function G(D,g){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!g||"object"!=typeof g&&"function"!=typeof g?D:g}(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,_,w))}return function O(D,g){if("function"!=typeof g&&null!==g)throw new TypeError("Super expression must either be null or a function, not "+typeof g);D.prototype=Object.create(g&&g.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(D,g):D.__proto__=g)}(g,D),g}(m.default);M.default=V},6512:(_e,M)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.mod10=function R(m){for(var U=0,N=0;N<m.length;N++){var z=parseInt(m[N]);U+=(N+m.length)%2==0?z:2*z%10+Math.floor(2*z/10)}return(10-U%10)%10},M.mod11=function j(m){for(var U=0,N=[2,3,4,5,6,7],z=0;z<m.length;z++){var G=parseInt(m[m.length-1-z]);U+=N[z%N.length]*G}return(11-U%11)%11}},4876:(_e,M,R)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.MSI1110=M.MSI1010=M.MSI11=M.MSI10=M.MSI=void 0;var m=_(R(2132)),N=_(R(5128)),G=_(R(5672)),V=_(R(9324)),g=_(R(1640));function _(w){return w&&w.__esModule?w:{default:w}}M.MSI=m.default,M.MSI10=N.default,M.MSI11=G.default,M.MSI1010=V.default,M.MSI1110=g.default},5756:(_e,M,R)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.codabar=void 0;var j=function(){function D(g,_){for(var w=0;w<_.length;w++){var v=_[w];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(g,v.key,v)}}return function(g,_,w){return _&&D(g.prototype,_),w&&D(g,w),g}}(),V=function(D){function g(_,w){(function z(D,g){if(!(D instanceof g))throw new TypeError("Cannot call a class as a function")})(this,g),0===_.search(/^[0-9\-\$\:\.\+\/]+$/)&&(_="A"+_+"A");var v=function G(D,g){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!g||"object"!=typeof g&&"function"!=typeof g?D:g}(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,_.toUpperCase(),w));return v.text=v.options.text||v.text.replace(/[A-D]/g,""),v}return function O(D,g){if("function"!=typeof g&&null!==g)throw new TypeError("Super expression must either be null or a function, not "+typeof g);D.prototype=Object.create(g&&g.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(D,g):D.__proto__=g)}(g,D),j(g,[{key:"valid",value:function(){return-1!==this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)}},{key:"encode",value:function(){for(var w=[],v=this.getEncodings(),E=0;E<this.data.length;E++)w.push(v[this.data.charAt(E)]),E!==this.data.length-1&&w.push("0");return{text:this.text,data:w.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"1011011011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),g}(function N(D){return D&&D.__esModule?D:{default:D}}(R(2660)).default);M.codabar=V},4824:(_e,M,R)=>{Object.defineProperty(M,"__esModule",{value:!0});var j=R(5872),m=R(7224),U=R(5256),N=R(3108),z=R(4876),G=R(316),O=R(5756),V=R(5573);M.default={CODE39:j.CODE39,CODE128:m.CODE128,CODE128A:m.CODE128A,CODE128B:m.CODE128B,CODE128C:m.CODE128C,EAN13:U.EAN13,EAN8:U.EAN8,EAN5:U.EAN5,EAN2:U.EAN2,UPC:U.UPC,UPCE:U.UPCE,ITF14:N.ITF14,ITF:N.ITF,MSI:z.MSI,MSI10:z.MSI10,MSI11:z.MSI11,MSI1010:z.MSI1010,MSI1110:z.MSI1110,pharmacode:G.pharmacode,codabar:O.codabar,GenericBarcode:V.GenericBarcode}},316:(_e,M,R)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.pharmacode=void 0;var j=function(){function D(g,_){for(var w=0;w<_.length;w++){var v=_[w];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(g,v.key,v)}}return function(g,_,w){return _&&D(g.prototype,_),w&&D(g,w),g}}(),V=function(D){function g(_,w){!function z(D,g){if(!(D instanceof g))throw new TypeError("Cannot call a class as a function")}(this,g);var v=function G(D,g){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!g||"object"!=typeof g&&"function"!=typeof g?D:g}(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,_,w));return v.number=parseInt(_,10),v}return function O(D,g){if("function"!=typeof g&&null!==g)throw new TypeError("Super expression must either be null or a function, not "+typeof g);D.prototype=Object.create(g&&g.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(D,g):D.__proto__=g)}(g,D),j(g,[{key:"encode",value:function(){for(var w=this.number,v="";!isNaN(w)&&0!=w;)w%2==0?(v="11100"+v,w=(w-2)/2):(v="100"+v,w=(w-1)/2);return{data:v=v.slice(0,-2),text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),g}(function N(D){return D&&D.__esModule?D:{default:D}}(R(2660)).default);M.pharmacode=V},9916:(_e,M)=>{Object.defineProperty(M,"__esModule",{value:!0});var R=function(){function U(N,z){for(var G=0;G<z.length;G++){var O=z[G];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(N,O.key,O)}}return function(N,z,G){return z&&U(N.prototype,z),G&&U(N,G),N}}(),m=function(){function U(N){(function j(U,N){if(!(U instanceof N))throw new TypeError("Cannot call a class as a function")})(this,U),this.api=N}return R(U,[{key:"handleCatch",value:function(z){if("InvalidInputException"!==z.name)throw z;if(this.api._options.valid===this.api._defaults.valid)throw z.message;this.api._options.valid(!1),this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(z){try{var G=z.apply(void 0,arguments);return this.api._options.valid(!0),G}catch(O){return this.handleCatch(O),this.api}}}]),U}();M.default=m},6900:(_e,M)=>{function R(G,O){if(!(G instanceof O))throw new TypeError("Cannot call a class as a function")}function j(G,O){if(!G)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!O||"object"!=typeof O&&"function"!=typeof O?G:O}function m(G,O){if("function"!=typeof O&&null!==O)throw new TypeError("Super expression must either be null or a function, not "+typeof O);G.prototype=Object.create(O&&O.prototype,{constructor:{value:G,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(G,O):G.__proto__=O)}Object.defineProperty(M,"__esModule",{value:!0});var U=function(G){function O(V,D){R(this,O);var g=j(this,(O.__proto__||Object.getPrototypeOf(O)).call(this));return g.name="InvalidInputException",g.symbology=V,g.input=D,g.message='"'+g.input+'" is not a valid input for '+g.symbology,g}return m(O,Error),O}(),N=function(G){function O(){R(this,O);var V=j(this,(O.__proto__||Object.getPrototypeOf(O)).call(this));return V.name="InvalidElementException",V.message="Not supported type to render on",V}return m(O,Error),O}(),z=function(G){function O(){R(this,O);var V=j(this,(O.__proto__||Object.getPrototypeOf(O)).call(this));return V.name="NoElementException",V.message="No element to render on.",V}return m(O,Error),O}();M.InvalidInputException=U,M.InvalidElementException=N,M.NoElementException=z},6448:(_e,M)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.default=function R(j){return j.marginTop=j.marginTop||j.margin,j.marginBottom=j.marginBottom||j.margin,j.marginRight=j.marginRight||j.margin,j.marginLeft=j.marginLeft||j.margin,j}},5084:(_e,M,R)=>{Object.defineProperty(M,"__esModule",{value:!0});var m=z(R(8620)),N=z(R(7312));function z(O){return O&&O.__esModule?O:{default:O}}M.default=function G(O){var V={};for(var D in N.default)N.default.hasOwnProperty(D)&&(O.hasAttribute("jsbarcode-"+D.toLowerCase())&&(V[D]=O.getAttribute("jsbarcode-"+D.toLowerCase())),O.hasAttribute("data-"+D.toLowerCase())&&(V[D]=O.getAttribute("data-"+D.toLowerCase())));return V.value=O.getAttribute("jsbarcode-value")||O.getAttribute("data-value"),(0,m.default)(V)}},7740:(_e,M,R)=>{Object.defineProperty(M,"__esModule",{value:!0});var j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(_){return typeof _}:function(_){return _&&"function"==typeof Symbol&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},U=O(R(5084)),z=O(R(9896)),G=R(6900);function O(_){return _&&_.__esModule?_:{default:_}}M.default=function V(_){if("string"==typeof _)return function D(_){var w=document.querySelectorAll(_);if(0!==w.length){for(var v=[],E=0;E<w.length;E++)v.push(V(w[E]));return v}}(_);if(Array.isArray(_)){for(var w=[],v=0;v<_.length;v++)w.push(V(_[v]));return w}if(typeof HTMLCanvasElement<"u"&&_ instanceof HTMLImageElement)return function g(_){var w=document.createElement("canvas");return{element:w,options:(0,U.default)(_),renderer:z.default.CanvasRenderer,afterRender:function(){_.setAttribute("src",w.toDataURL())}}}(_);if(_&&_.nodeName&&"svg"===_.nodeName.toLowerCase()||typeof SVGElement<"u"&&_ instanceof SVGElement)return{element:_,options:(0,U.default)(_),renderer:z.default.SVGRenderer};if(typeof HTMLCanvasElement<"u"&&_ instanceof HTMLCanvasElement)return{element:_,options:(0,U.default)(_),renderer:z.default.CanvasRenderer};if(_&&_.getContext)return{element:_,renderer:z.default.CanvasRenderer};if(_&&"object"===(typeof _>"u"?"undefined":j(_))&&!_.nodeName)return{element:_,renderer:z.default.ObjectRenderer};throw new G.InvalidElementException}},5948:(_e,M)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.default=function R(j){var m=[];return function U(N){if(Array.isArray(N))for(var z=0;z<N.length;z++)U(N[z]);else N.text=N.text||"",N.data=N.data||"",m.push(N)}(j),m}},988:(_e,M)=>{Object.defineProperty(M,"__esModule",{value:!0});var R=Object.assign||function(j){for(var m=1;m<arguments.length;m++){var U=arguments[m];for(var N in U)Object.prototype.hasOwnProperty.call(U,N)&&(j[N]=U[N])}return j};M.default=function(j,m){return R({},j,m)}},8620:(_e,M)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.default=function R(j){var m=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var U in m)m.hasOwnProperty(U)&&"string"==typeof j[U=m[U]]&&(j[U]=parseInt(j[U],10));return"string"==typeof j.displayValue&&(j.displayValue="false"!=j.displayValue),j}},7312:(_e,M)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.default={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}}},8560:(_e,M,R)=>{Object.defineProperty(M,"__esModule",{value:!0});var j=function(){function V(D,g){for(var _=0;_<g.length;_++){var w=g[_];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(D,w.key,w)}}return function(D,g,_){return g&&V(D.prototype,g),_&&V(D,_),D}}(),U=function z(V){return V&&V.__esModule?V:{default:V}}(R(988)),N=R(5152),O=function(){function V(D,g,_){(function G(V,D){if(!(V instanceof D))throw new TypeError("Cannot call a class as a function")})(this,V),this.canvas=D,this.encodings=g,this.options=_}return j(V,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var g=0;g<this.encodings.length;g++){var _=(0,U.default)(this.options,this.encodings[g].options);this.drawCanvasBarcode(_,this.encodings[g]),this.drawCanvasText(_,this.encodings[g]),this.moveCanvasDrawing(this.encodings[g])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var g=this.canvas.getContext("2d");g.save(),(0,N.calculateEncodingAttributes)(this.encodings,this.options,g);var _=(0,N.getTotalWidthOfEncodings)(this.encodings),w=(0,N.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=_+this.options.marginLeft+this.options.marginRight,this.canvas.height=w,g.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(g.fillStyle=this.options.background,g.fillRect(0,0,this.canvas.width,this.canvas.height)),g.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(g,_){var E,w=this.canvas.getContext("2d"),v=_.data;E="top"==g.textPosition?g.marginTop+g.fontSize+g.textMargin:g.marginTop,w.fillStyle=g.lineColor;for(var S=0;S<v.length;S++){var A=S*g.width+_.barcodePadding;"1"===v[S]?w.fillRect(A,E,g.width,g.height):v[S]&&w.fillRect(A,E,g.width,g.height*v[S])}}},{key:"drawCanvasText",value:function(g,_){var E,S,w=this.canvas.getContext("2d");g.displayValue&&(S="top"==g.textPosition?g.marginTop+g.fontSize-g.textMargin:g.height+g.textMargin+g.marginTop+g.fontSize,w.font=g.fontOptions+" "+g.fontSize+"px "+g.font,"left"==g.textAlign||_.barcodePadding>0?(E=0,w.textAlign="left"):"right"==g.textAlign?(E=_.width-1,w.textAlign="right"):(E=_.width/2,w.textAlign="center"),w.fillText(_.text,E,S))}},{key:"moveCanvasDrawing",value:function(g){this.canvas.getContext("2d").translate(g.width,0)}},{key:"restoreCanvas",value:function(){this.canvas.getContext("2d").restore()}}]),V}();M.default=O},9896:(_e,M,R)=>{Object.defineProperty(M,"__esModule",{value:!0});var m=O(R(8560)),N=O(R(2888)),G=O(R(56));function O(V){return V&&V.__esModule?V:{default:V}}M.default={CanvasRenderer:m.default,SVGRenderer:N.default,ObjectRenderer:G.default}},56:(_e,M)=>{Object.defineProperty(M,"__esModule",{value:!0});var R=function(){function U(N,z){for(var G=0;G<z.length;G++){var O=z[G];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(N,O.key,O)}}return function(N,z,G){return z&&U(N.prototype,z),G&&U(N,G),N}}(),m=function(){function U(N,z,G){(function j(U,N){if(!(U instanceof N))throw new TypeError("Cannot call a class as a function")})(this,U),this.object=N,this.encodings=z,this.options=G}return R(U,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),U}();M.default=m},5152:(_e,M,R)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.getTotalWidthOfEncodings=M.calculateEncodingAttributes=M.getBarcodePadding=M.getEncodingHeight=M.getMaximumHeightOfEncodings=void 0;var m=function U(g){return g&&g.__esModule?g:{default:g}}(R(988));function N(g,_){return _.height+(_.displayValue&&g.text.length>0?_.fontSize+_.textMargin:0)+_.marginTop+_.marginBottom}function z(g,_,w){if(w.displayValue&&_<g){if("center"==w.textAlign)return Math.floor((g-_)/2);if("left"==w.textAlign)return 0;if("right"==w.textAlign)return Math.floor(g-_)}return 0}function D(g,_,w){var v;if(w)v=w;else{if(!(typeof document<"u"))return 0;v=document.createElement("canvas").getContext("2d")}v.font=_.fontOptions+" "+_.fontSize+"px "+_.font;var E=v.measureText(g);return E?E.width:0}M.getMaximumHeightOfEncodings=function V(g){for(var _=0,w=0;w<g.length;w++)g[w].height>_&&(_=g[w].height);return _},M.getEncodingHeight=N,M.getBarcodePadding=z,M.calculateEncodingAttributes=function G(g,_,w){for(var v=0;v<g.length;v++){var A,E=g[v],S=(0,m.default)(_,E.options);A=S.displayValue?D(E.text,S,w):0;var K=E.data.length*S.width;E.width=Math.ceil(Math.max(A,K)),E.height=N(E,S),E.barcodePadding=z(A,K,S)}},M.getTotalWidthOfEncodings=function O(g){for(var _=0,w=0;w<g.length;w++)_+=g[w].width;return _}},2888:(_e,M,R)=>{Object.defineProperty(M,"__esModule",{value:!0});var j=function(){function D(g,_){for(var w=0;w<_.length;w++){var v=_[w];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(g,v.key,v)}}return function(g,_,w){return _&&D(g.prototype,_),w&&D(g,w),g}}(),U=function z(D){return D&&D.__esModule?D:{default:D}}(R(988)),N=R(5152),O="http://www.w3.org/2000/svg",V=function(){function D(g,_,w){(function G(D,g){if(!(D instanceof g))throw new TypeError("Cannot call a class as a function")})(this,D),this.svg=g,this.encodings=_,this.options=w,this.document=w.xmlDocument||document}return j(D,[{key:"render",value:function(){var _=this.options.marginLeft;this.prepareSVG();for(var w=0;w<this.encodings.length;w++){var v=this.encodings[w],E=(0,U.default)(this.options,v.options),S=this.createGroup(_,E.marginTop,this.svg);this.setGroupOptions(S,E),this.drawSvgBarcode(S,E,v),this.drawSVGText(S,E,v),_+=v.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,N.calculateEncodingAttributes)(this.encodings,this.options);var _=(0,N.getTotalWidthOfEncodings)(this.encodings),w=(0,N.getMaximumHeightOfEncodings)(this.encodings),v=_+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(v,w),this.options.background&&this.drawRect(0,0,v,w,this.svg).setAttribute("style","fill:"+this.options.background+";")}},{key:"drawSvgBarcode",value:function(_,w,v){var S,E=v.data;S="top"==w.textPosition?w.fontSize+w.textMargin:0;for(var A=0,K=0,ie=0;ie<E.length;ie++)K=ie*w.width+v.barcodePadding,"1"===E[ie]?A++:A>0&&(this.drawRect(K-w.width*A,S,w.width*A,w.height,_),A=0);A>0&&this.drawRect(K-w.width*(A-1),S,w.width*A,w.height,_)}},{key:"drawSVGText",value:function(_,w,v){var S,A,E=this.document.createElementNS(O,"text");w.displayValue&&(E.setAttribute("style","font:"+w.fontOptions+" "+w.fontSize+"px "+w.font),A="top"==w.textPosition?w.fontSize-w.textMargin:w.height+w.textMargin+w.fontSize,"left"==w.textAlign||v.barcodePadding>0?(S=0,E.setAttribute("text-anchor","start")):"right"==w.textAlign?(S=v.width-1,E.setAttribute("text-anchor","end")):(S=v.width/2,E.setAttribute("text-anchor","middle")),E.setAttribute("x",S),E.setAttribute("y",A),E.appendChild(this.document.createTextNode(v.text)),_.appendChild(E))}},{key:"setSvgAttributes",value:function(_,w){var v=this.svg;v.setAttribute("width",_+"px"),v.setAttribute("height",w+"px"),v.setAttribute("x","0px"),v.setAttribute("y","0px"),v.setAttribute("viewBox","0 0 "+_+" "+w),v.setAttribute("xmlns",O),v.setAttribute("version","1.1"),v.setAttribute("style","transform: translate(0,0)")}},{key:"createGroup",value:function(_,w,v){var E=this.document.createElementNS(O,"g");return E.setAttribute("transform","translate("+_+", "+w+")"),v.appendChild(E),E}},{key:"setGroupOptions",value:function(_,w){_.setAttribute("style","fill:"+w.lineColor+";")}},{key:"drawRect",value:function(_,w,v,E,S){var A=this.document.createElementNS(O,"rect");return A.setAttribute("x",_),A.setAttribute("y",w),A.setAttribute("width",v),A.setAttribute("height",E),S.appendChild(A),A}}]),D}();M.default=V}},_e=>{_e(_e.s=6476)}]);