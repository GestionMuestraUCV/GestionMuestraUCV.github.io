"use strict";(self.webpackChunkgestion_muestras=self.webpackChunkgestion_muestras||[]).push([[590],{9008:(Ee,S,N)=>{function H(n,e,t,r,i,o,s){try{var a=n[o](s),c=a.value}catch(l){return void t(l)}a.done?e(c):Promise.resolve(c).then(r,i)}function _(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var o=n.apply(e,t);function s(c){H(o,r,i,s,a,"next",c)}function a(c){H(o,r,i,s,a,"throw",c)}s(void 0)})}}let R=null,W=1;const P=Symbol("SIGNAL");function B(n){const e=R;return R=n,e}function A(n){if((!Ps(n)||n.dirty)&&(n.dirty||n.lastCleanEpoch!==W)){if(!n.producerMustRecompute(n)&&!ai(n))return n.dirty=!1,void(n.lastCleanEpoch=W);n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=W}}function ai(n){Ke(n);for(let e=0;e<n.producerNode.length;e++){const t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(A(t),r!==t.version))return!0}return!1}function Pc(n,e){if(function Gt(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),Ke(n),1===n.liveConsumerNode.length)for(let r=0;r<n.producerNode.length;r++)Pc(n.producerNode[r],n.producerIndexOfThis[r]);const t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){const r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];Ke(i),i.producerIndexOfThis[r]=e}}function Ps(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Ke(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let rF=null;function _t(n){return"function"==typeof n}function OC(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const PC=OC(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function p_(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class Yn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(_t(r))try{r()}catch(o){e=o instanceof PC?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{cF(o)}catch(s){e=e??[],s instanceof PC?e=[...e,...s.errors]:e.push(s)}}if(e)throw new PC(e)}}add(e){var t;if(e&&e!==this)if(this.closed)cF(e);else{if(e instanceof Yn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&p_(t,e)}remove(e){const{_finalizers:t}=this;t&&p_(t,e),e instanceof Yn&&e._removeParent(this)}}Yn.EMPTY=(()=>{const n=new Yn;return n.closed=!0,n})();const sF=Yn.EMPTY;function aF(n){return n instanceof Yn||n&&"closed"in n&&_t(n.remove)&&_t(n.add)&&_t(n.unsubscribe)}function cF(n){_t(n)?n():n.unsubscribe()}const Rc={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},g_={setTimeout(n,e,...t){const{delegate:r}=g_;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=g_;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function lF(n){g_.setTimeout(()=>{const{onUnhandledError:e}=Rc;if(!e)throw n;e(n)})}function Zh(){}const lZ=RC("C",void 0,void 0);function RC(n,e,t){return{kind:n,value:e,error:t}}let Nc=null;function m_(n){if(Rc.useDeprecatedSynchronousErrorHandling){const e=!Nc;if(e&&(Nc={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=Nc;if(Nc=null,t)throw r}}else n()}class NC extends Yn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,aF(e)&&e.add(this)):this.destination=mZ}static create(e,t,r){return new Jh(e,t,r)}next(e){this.isStopped?LC(function dZ(n){return RC("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?LC(function uZ(n){return RC("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?LC(lZ,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const fZ=Function.prototype.bind;function FC(n,e){return fZ.call(n,e)}class pZ{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){__(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){__(r)}else __(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){__(t)}}}class Jh extends NC{constructor(e,t,r){let i;if(super(),_t(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Rc.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&FC(e.next,o),error:e.error&&FC(e.error,o),complete:e.complete&&FC(e.complete,o)}):i=e}this.destination=new pZ(i)}}function __(n){Rc.useDeprecatedSynchronousErrorHandling?function hZ(n){Rc.useDeprecatedSynchronousErrorHandling&&Nc&&(Nc.errorThrown=!0,Nc.error=n)}(n):lF(n)}function LC(n,e){const{onStoppedNotification:t}=Rc;t&&g_.setTimeout(()=>t(n,e))}const mZ={closed:!0,next:Zh,error:function gZ(n){throw n},complete:Zh},VC="function"==typeof Symbol&&Symbol.observable||"@@observable";function ba(n){return n}function uF(n){return 0===n.length?ba:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let qt=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const o=function vZ(n){return n&&n instanceof NC||function yZ(n){return n&&_t(n.next)&&_t(n.error)&&_t(n.complete)}(n)&&aF(n)}(t)?t:new Jh(t,r,i);return m_(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=dF(r))((i,o)=>{const s=new Jh({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[VC](){return this}pipe(...t){return uF(t)(this)}toPromise(t){return new(t=dF(t))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function dF(n){var e;return null!==(e=n??Rc.Promise)&&void 0!==e?e:Promise}const bZ=OC(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let wt=(()=>{class n extends qt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new hF(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new bZ}next(t){m_(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){m_(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){m_(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:o}=this;return r||i?sF:(this.currentObservers=null,o.push(t),new Yn(()=>{this.currentObservers=null,p_(o,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){const t=new qt;return t.source=this,t}}return n.create=(e,t)=>new hF(e,t),n})();class hF extends wt{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:sF}}class ci extends wt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function fF(n){return _t(n?.lift)}function yn(n){return e=>{if(fF(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function fn(n,e,t,r,i){return new wZ(n,e,t,r,i)}class wZ extends NC{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Pe(n,e){return yn((t,r)=>{let i=0;t.subscribe(fn(r,o=>{r.next(n.call(e,o,i++))}))})}const pF="https://g.co/ng/security#xss";class U extends Error{constructor(e,t){super(function fu(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function BC(n){return e=>{setTimeout(n,void 0,e)}}const Qe=class CZ extends wt{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&"object"==typeof e){const c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=BC(o),i&&(i=BC(i)),s&&(s=BC(s)));const a=super.subscribe({next:i,error:o,complete:s});return e instanceof Yn&&e.add(a),a}};var it=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(it||{});function sr(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(sr).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function UC(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}var v_=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(v_||{}),wo=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(wo||{});function Rs(n){return{toString:n}.toString()}const St=globalThis,$o={},Ct=[];function kt(n){for(let e in n)if(n[e]===kt)return e;throw Error("Could not find renamed property on target object.")}function TZ(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}const ef=kt({\u0275cmp:kt}),jC=kt({\u0275dir:kt}),zC=kt({\u0275pipe:kt}),_F=kt({\u0275mod:kt}),Ns=kt({\u0275fac:kt}),tf=kt({__NG_ELEMENT_ID__:kt}),yF=kt({__NG_ENV_ID__:kt});var Bt=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Bt||{});function vF(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}function $C(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{const o=i,s=t[++r];wF(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function bF(n){return 3===n||4===n||6===n}function wF(n){return 64===n.charCodeAt(0)}function nf(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||CF(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function CF(n,e,t,r,i){let o=0,s=n.length;if(-1===e)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[o+1]=i));if(r===n[o+1])return void(n[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),null!==r&&n.splice(o++,0,r),null!==i&&n.splice(o++,0,i)}const EF="ng-template";function DZ(n,e,t){let r=0,i=!0;for(;r<n.length;){let o=n[r++];if("string"==typeof o&&i){const s=n[r++];if(t&&"class"===o&&-1!==vF(s.toLowerCase(),e,0))return!0}else{if(1===o){for(;r<n.length&&"string"==typeof(o=n[r++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function xF(n){return 4===n.type&&n.value!==EF}function MZ(n,e,t){return e===(4!==n.type||t?n.value:EF)}function SZ(n,e,t){let r=4;const i=n.attrs||[],o=function OZ(n){for(let e=0;e<n.length;e++)if(bF(n[e]))return e;return n.length}(i);let s=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!s)if(4&r){if(r=2|1&r,""!==c&&!MZ(n,c,t)||""===c&&1===e.length){if(Co(r))return!1;s=!0}}else{const l=8&r?c:e[++a];if(8&r&&null!==n.attrs){if(!DZ(n.attrs,l,t)){if(Co(r))return!1;s=!0}continue}const d=AZ(8&r?"class":c,i,xF(n),t);if(-1===d){if(Co(r))return!1;s=!0;continue}if(""!==l){let h;h=d>o?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==vF(f,l,0)||2&r&&l!==h){if(Co(r))return!1;s=!0}}}}else{if(!s&&!Co(r)&&!Co(c))return!1;if(s&&Co(c))continue;s=!1,r=c|1&r}}return Co(r)||s}function Co(n){return 0==(1&n)}function AZ(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){const s=e[i];if(s===n)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function PZ(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function IF(n,e,t=!1){for(let r=0;r<e.length;r++)if(SZ(n,e[r],t))return!0;return!1}function RZ(n,e){e:for(let t=0;t<e.length;t++){const r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function TF(n,e){return n?":not("+e.trim()+")":e}function NZ(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if("string"==typeof s)if(2&r){const a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!Co(s)&&(e+=TF(o,i),i=""),r=s,o=o||!Co(r);t++}return""!==i&&(e+=TF(o,i)),e}function Te(n){return Rs(()=>{const e=MF(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===v_.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||wo.Emulated,styles:n.styles||Ct,_:null,schemas:n.schemas||null,tView:null,id:""};SF(t);const r=n.dependencies;return t.directiveDefs=b_(r,!1),t.pipeDefs=b_(r,!0),t.id=function jZ(n){let e=0;const t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(t),t})}function VZ(n){return Xe(n)||ar(n)}function BZ(n){return null!==n}function ot(n){return Rs(()=>({type:n.type,bootstrap:n.bootstrap||Ct,declarations:n.declarations||Ct,imports:n.imports||Ct,exports:n.exports||Ct,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function DF(n,e){if(null==n)return $o;const t={};for(const r in n)if(n.hasOwnProperty(r)){const i=n[r];let o,s,a=Bt.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(t[o]=a!==Bt.None?[r,a]:r,e[o]=s):t[o]=r}return t}function _e(n){return Rs(()=>{const e=MF(n);return SF(e),e})}function Xe(n){return n[ef]||null}function ar(n){return n[jC]||null}function kr(n){return n[zC]||null}function qr(n,e){const t=n[_F]||null;if(!t&&!0===e)throw new Error(`Type ${sr(n)} does not have '\u0275mod' property.`);return t}function MF(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||$o,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||Ct,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:DF(n.inputs,e),outputs:DF(n.outputs),debugInfo:null}}function SF(n){n.features?.forEach(e=>e(n))}function b_(n,e){if(!n)return null;const t=e?kr:VZ;return()=>("function"==typeof n?n():n).map(r=>t(r)).filter(BZ)}const pn=0,re=1,Ce=2,Ln=3,Eo=4,Wr=5,xo=6,pu=7,Wt=8,Or=9,Fs=10,Fe=11,rf=12,AF=13,gu=14,vn=15,sf=16,mu=17,Ls=18,af=19,kF=20,Ea=21,w_=22,Fc=23,Ve=25,HC=1,Ho=7,_u=9,Vn=10;var GC=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(GC||{});function Kr(n){return Array.isArray(n)&&"object"==typeof n[HC]}function Qr(n){return Array.isArray(n)&&!0===n[HC]}function qC(n){return 0!=(4&n.flags)}function Lc(n){return n.componentOffset>-1}function E_(n){return 1==(1&n.flags)}function Io(n){return!!n.template}function WC(n){return 0!=(512&n[Ce])}let LF=!1;function Ft(n){for(;Array.isArray(n);)n=n[pn];return n}function lf(n,e){return Ft(e[n])}function li(n,e){return Ft(e[n.index])}function uf(n,e){return n.data[e]}function Vi(n,e){const t=e[n];return Kr(t)?t:t[pn]}function XC(n){return 128==(128&n[Ce])}function Go(n,e){return null==e?null:n[e]}function VF(n){n[mu]=0}function QZ(n){1024&n[Ce]||(n[Ce]|=1024,XC(n)&&df(n))}function ZC(n){return!!(9216&n[Ce]||n[Fc]?.dirty)}function JC(n){ZC(n)?df(n):64&n[Ce]&&(function GZ(){return LF}()?(n[Ce]|=1024,df(n)):n[Fs].changeDetectionScheduler?.notify())}function df(n){n[Fs].changeDetectionScheduler?.notify();let e=Vc(n);for(;null!==e&&!(8192&e[Ce])&&(e[Ce]|=8192,XC(e));)e=Vc(e)}function x_(n,e){if(256==(256&n[Ce]))throw new U(911,!1);null===n[Ea]&&(n[Ea]=[]),n[Ea].push(e)}function Vc(n){const e=n[Ln];return Qr(e)?e[Ln]:e}const ke={lFrame:KF(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function jF(){return ke.bindingsEnabled}function vu(){return null!==ke.skipHydrationRootTNode}function q(){return ke.lFrame.lView}function st(){return ke.lFrame.tView}function Re(n){return ke.lFrame.contextLView=n,n[Wt]}function Ne(n){return ke.lFrame.contextLView=null,n}function Ot(){let n=zF();for(;null!==n&&64===n.type;)n=n.parent;return n}function zF(){return ke.lFrame.currentTNode}function qo(n,e){const t=ke.lFrame;t.currentTNode=n,t.isParent=e}function tE(){return ke.lFrame.isParent}function nE(){ke.lFrame.isParent=!1}function To(){return ke.lFrame.bindingIndex++}function Bs(n){const e=ke.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function sJ(n,e){const t=ke.lFrame;t.bindingIndex=t.bindingRootIndex=n,rE(e)}function rE(n){ke.lFrame.currentDirectiveIndex=n}function iE(n){const e=ke.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}function oE(){return ke.lFrame.currentQueryIndex}function I_(n){ke.lFrame.currentQueryIndex=n}function cJ(n){const e=n[re];return 2===e.type?e.declTNode:1===e.type?n[Wr]:null}function qF(n,e,t){if(t&it.SkipSelf){let i=e,o=n;for(;!(i=i.parent,null!==i||t&it.Host||(i=cJ(o),null===i||(o=o[gu],10&i.type))););if(null===i)return!1;e=i,n=o}const r=ke.lFrame=WF();return r.currentTNode=e,r.lView=n,!0}function sE(n){const e=WF(),t=n[re];ke.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function WF(){const n=ke.lFrame,e=null===n?null:n.child;return null===e?KF(n):e}function KF(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function QF(){const n=ke.lFrame;return ke.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const YF=QF;function aE(){const n=QF();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Yr(){return ke.lFrame.selectedIndex}function Bc(n){ke.lFrame.selectedIndex=n}function Kt(){const n=ke.lFrame;return uf(n.tView,n.selectedIndex)}function T_(){ke.lFrame.currentNamespace="svg"}function cE(){!function dJ(){ke.lFrame.currentNamespace=null}()}let ZF=!0;function D_(){return ZF}function xa(n){ZF=n}function hJ(){return bu(Ot(),q())}function bu(n,e){return new Bn(li(n,e))}let dE,Bn=(()=>{class n{constructor(t){this.nativeElement=t}static#e=this.__NG_ELEMENT_ID__=hJ}return n})();function JF(n){return n instanceof Bn?n.nativeElement:n}function wu(n,e){n.forEach(t=>Array.isArray(t)?wu(t,e):e(t))}function eL(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function M_(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Bi(n,e,t){let r=Cu(n,e);return r>=0?n[1|r]=t:(r=~r,function tL(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function uE(n,e){const t=Cu(n,e);if(t>=0)return n[1|t]}function Cu(n,e){return function nL(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}(n,e,1)}function pJ(){return this._results[Symbol.iterator]()}class ff{static#e=Symbol.iterator;get changes(){return this._changes??=new Qe}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const t=ff.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=pJ)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;const r=function xi(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function fJ(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function A_(n){return 128==(128&n.flags)}function ne(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function et(n){return{providers:n.providers||[],imports:n.imports||[]}}function O_(n){return oL(n,R_)||oL(n,sL)}function oL(n,e){return n.hasOwnProperty(e)?n[e]:null}function P_(n){return n&&(n.hasOwnProperty(hE)||n.hasOwnProperty(vJ))?n[hE]:null}const R_=kt({\u0275prov:kt}),hE=kt({\u0275inj:kt}),sL=kt({ngInjectableDef:kt}),vJ=kt({ngInjectorDef:kt});class X{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=ne({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const N_=new X("",{providedIn:"root",factory:()=>bJ}),bJ="ng",aL=new X(""),ro=new X("",{providedIn:"platform",factory:()=>"unknown"}),fE=new X(""),pE=new X("",{providedIn:"root",factory:()=>function Ia(){if(void 0!==dE)return dE;if(typeof document<"u")return document;throw new U(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),EJ=kt({__forward_ref__:kt});function Qt(n){return n.__forward_ref__=Qt,n.toString=function(){return sr(this())},n}function Ae(n){return F_(n)?n():n}function F_(n){return"function"==typeof n&&n.hasOwnProperty(EJ)&&n.__forward_ref__===Qt}function vE(n){return n&&!!n.\u0275providers}function Be(n){return"string"==typeof n?n:null==n?"":String(n)}function bE(n,e){throw new U(-201,!1)}let wE;function lL(){return wE}function Ii(n){const e=wE;return wE=n,e}function uL(n,e,t){const r=O_(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&it.Optional?null:void 0!==e?e:void bE()}const gf={},CE="__NG_DI_FLAG__",L_="ngTempTokenPath",SJ=/\n/gm,dL="__source";let Eu;function Ta(n){const e=Eu;return Eu=n,e}function OJ(n,e=it.Default){if(void 0===Eu)throw new U(-203,!1);return null===Eu?uL(n,void 0,e):Eu.get(n,e&it.Optional?null:void 0,e)}function $(n,e=it.Default){return(lL()||OJ)(Ae(n),e)}function ee(n,e=it.Default){return $(n,V_(e))}function V_(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function EE(n){const e=[];for(let t=0;t<n.length;t++){const r=Ae(n[t]);if(Array.isArray(r)){if(0===r.length)throw new U(900,!1);let i,o=it.Default;for(let s=0;s<r.length;s++){const a=r[s],c=PJ(a);"number"==typeof c?-1===c?i=a.token:o|=c:i=a}e.push($(i,o))}else e.push($(r))}return e}function mf(n,e){return n[CE]=e,n.prototype[CE]=e,n}function PJ(n){return n[CE]}let fL=()=>null;function kE(n,e,t=!1){return fL(n,e,t)}const Mu="__parameters__";function Au(n,e,t){return Rs(()=>{const r=function NE(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(c,l,u){const d=c.hasOwnProperty(Mu)?c[Mu]:Object.defineProperty(c,Mu,{value:[]})[Mu];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}const Yt=mf(Au("Optional"),8),bf=mf(Au("SkipSelf"),4);function Uc(n,e){return n.hasOwnProperty(Ns)?n[Ns]:null}const jc=new X(""),vL=new X("",-1),FE=new X("");class H_{get(e,t=gf){if(t===gf){const r=new Error(`NullInjectorError: No provider for ${sr(e)}!`);throw r.name="NullInjectorError",r}return t}}function WJ(...n){return{\u0275providers:LE(0,n),\u0275fromNgModule:!0}}function LE(n,...e){const t=[],r=new Set;let i;const o=s=>{t.push(s)};return wu(e,s=>{const a=s;q_(a,o,[],r)&&(i||=[],i.push(a))}),void 0!==i&&bL(i,o),t}function bL(n,e){for(let t=0;t<n.length;t++){const{ngModule:r,providers:i}=n[t];VE(i,o=>{e(o,r)})}}function q_(n,e,t,r){if(!(n=Ae(n)))return!1;let i=null,o=P_(n);const s=!o&&Xe(n);if(o||s){if(s&&!s.standalone)return!1;i=n}else{const c=n.ngModule;if(o=P_(c),!o)return!1;i=c}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const l of c)q_(l,e,t,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let l;r.add(i);try{wu(o.imports,u=>{q_(u,e,t,r)&&(l||=[],l.push(u))})}finally{}void 0!==l&&bL(l,e)}if(!a){const l=Uc(i)||(()=>new i);e({provide:i,useFactory:l,deps:Ct},i),e({provide:FE,useValue:i,multi:!0},i),e({provide:jc,useValue:()=>$(i),multi:!0},i)}const c=o.providers;if(null!=c&&!a){const l=n;VE(c,u=>{e(u,l)})}}}return i!==n&&void 0!==n.providers}function VE(n,e){for(let t of n)vE(t)&&(t=t.\u0275providers),Array.isArray(t)?VE(t,e):e(t)}const KJ=kt({provide:String,useValue:kt});function BE(n){return null!==n&&"object"==typeof n&&KJ in n}function zc(n){return"function"==typeof n}const UE=new X(""),W_={},YJ={};let jE;function K_(){return void 0===jE&&(jE=new H_),jE}class Ui{}class ku extends Ui{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,$E(e,s=>this.processProvider(s)),this.records.set(vL,Ou(void 0,this)),i.has("environment")&&this.records.set(Ui,Ou(void 0,this));const o=this.records.get(UE);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(FE,Ct,it.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of e)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const t=Ta(this),r=Ii(void 0);try{return e()}finally{Ta(t),Ii(r)}}get(e,t=gf,r=it.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(yF))return e[yF](this);r=V_(r);const o=Ta(this),s=Ii(void 0);try{if(!(r&it.SkipSelf)){let c=this.records.get(e);if(void 0===c){const l=function tee(n){return"function"==typeof n||"object"==typeof n&&n instanceof X}(e)&&O_(e);c=l&&this.injectableDefInScope(l)?Ou(zE(e),W_):null,this.records.set(e,c)}if(null!=c)return this.hydrate(e,c)}return(r&it.Self?K_():this.parent).get(e,t=r&it.Optional&&t===gf?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[L_]=a[L_]||[]).unshift(sr(e)),o)throw a;return function RJ(n,e,t,r){const i=n[L_];throw e[dL]&&i.unshift(e[dL]),n.message=function NJ(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let i=sr(e);if(Array.isArray(e))i=e.map(sr).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):sr(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(SJ,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[L_]=null,n}(a,e,"R3InjectorError",this.source)}throw a}finally{Ii(s),Ta(o)}}resolveInjectorInitializers(){const e=Ta(this),t=Ii(void 0);try{const i=this.get(jc,Ct,it.Self);for(const o of i)o()}finally{Ta(e),Ii(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(sr(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new U(205,!1)}processProvider(e){let t=zc(e=Ae(e))?e:Ae(e&&e.provide);const r=function ZJ(n){return BE(n)?Ou(void 0,n.useValue):Ou(EL(n),W_)}(e);if(!zc(e)&&!0===e.multi){let i=this.records.get(t);i||(i=Ou(void 0,W_,!0),i.factory=()=>EE(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===W_&&(t.value=YJ,t.value=t.factory()),"object"==typeof t.value&&t.value&&function eee(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=Ae(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){const t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}}function zE(n){const e=O_(n),t=null!==e?e.factory:Uc(n);if(null!==t)return t;if(n instanceof X)throw new U(204,!1);if(n instanceof Function)return function XJ(n){if(n.length>0)throw new U(204,!1);const t=function yJ(n){return n&&(n[R_]||n[sL])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new U(204,!1)}function EL(n,e,t){let r;if(zc(n)){const i=Ae(n);return Uc(i)||zE(i)}if(BE(n))r=()=>Ae(n.useValue);else if(function CL(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...EE(n.deps||[]));else if(function wL(n){return!(!n||!n.useExisting)}(n))r=()=>$(Ae(n.useExisting));else{const i=Ae(n&&(n.useClass||n.provide));if(!function JJ(n){return!!n.deps}(n))return Uc(i)||zE(i);r=()=>new i(...EE(n.deps))}return r}function Ou(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function $E(n,e){for(const t of n)Array.isArray(t)?$E(t,e):t&&vE(t)?$E(t.\u0275providers,e):e(t)}function $c(n,e){n instanceof ku&&n.assertNotDestroyed();const r=Ta(n),i=Ii(void 0);try{return e()}finally{Ta(r),Ii(i)}}class dee{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function IL(n,e,t,r){null!==e?e.applyValueToInputSignal(e,r):n[t]=r}function io(){return TL}function TL(n){return n.type.prototype.ngOnChanges&&(n.setInput=fee),hee}function hee(){const n=ML(this),e=n?.current;if(e){const t=n.previous;if(t===$o)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function fee(n,e,t,r,i){const o=this.declaredInputs[r],s=ML(n)||function pee(n,e){return n[DL]=e}(n,{previous:$o,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new dee(l&&l.currentValue,t,c===$o),IL(n,e,i,t)}io.ngInherit=!0;const DL="__ngSimpleChanges__";function ML(n){return n[DL]||null}const Wo=function(n,e,t){};function X_(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),null!=u&&(n.destroyHooks??=[]).push(t,u)}}function Z_(n,e,t){SL(n,e,3,t)}function J_(n,e,t,r){(3&n[Ce])===t&&SL(n,e,t,r)}function qE(n,e){let t=n[Ce];(3&t)===e&&(t&=16383,t+=1,n[Ce]=t)}function SL(n,e,t,r){const o=r??-1,s=e.length-1;let a=0;for(let c=void 0!==r?65535&n[mu]:0;c<s;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=r&&a>=r)break}else e[c]<0&&(n[mu]+=65536),(a<o||-1==o)&&(_ee(n,t,e,c),n[mu]=(4294901760&n[mu])+c+2),c++}function AL(n,e){Wo(4,n,e);const t=B(null);try{e.call(n)}finally{B(t),Wo(5,n,e)}}function _ee(n,e,t,r){const i=t[r]<0,o=t[r+1],a=n[i?-t[r]:t[r]];i?n[Ce]>>14<n[mu]>>16&&(3&n[Ce])===e&&(n[Ce]+=16384,AL(a,o)):AL(a,o)}const Ru=-1;class Cf{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function KE(n){return n!==Ru}function Ef(n){return 32767&n}function xf(n,e){let t=function Cee(n){return n>>16}(n),r=e;for(;t>0;)r=r[gu],t--;return r}let QE=!0;function ey(n){const e=QE;return QE=n,e}const kL=255,OL=5;let Eee=0;const Ko={};function ty(n,e){const t=PL(n,e);if(-1!==t)return t;const r=e[re];r.firstCreatePass&&(n.injectorIndex=e.length,YE(r.data,n),YE(e,null),YE(r.blueprint,null));const i=ny(n,e),o=n.injectorIndex;if(KE(i)){const s=Ef(i),a=xf(i,e),c=a[re].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function YE(n,e){n.push(0,0,0,0,0,0,0,0,e)}function PL(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function ny(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=UL(i),null===r)return Ru;if(t++,i=i[gu],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return Ru}function XE(n,e,t){!function xee(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(tf)&&(r=t[tf]),null==r&&(r=t[tf]=Eee++);const i=r&kL;e.data[n+(i>>OL)]|=1<<i}(n,e,t)}function RL(n,e,t){if(t&it.Optional||void 0!==n)return n;bE()}function NL(n,e,t,r){if(t&it.Optional&&void 0===r&&(r=null),!(t&(it.Self|it.Host))){const i=n[Or],o=Ii(void 0);try{return i?i.get(e,r,t&it.Optional):uL(e,r,t&it.Optional)}finally{Ii(o)}}return RL(r,0,t)}function FL(n,e,t,r=it.Default,i){if(null!==n){if(2048&e[Ce]&&!(r&it.Self)){const s=function See(n,e,t,r,i){let o=n,s=e;for(;null!==o&&null!==s&&2048&s[Ce]&&!(512&s[Ce]);){const a=LL(o,s,t,r|it.Self,Ko);if(a!==Ko)return a;let c=o.parent;if(!c){const l=s[kF];if(l){const u=l.get(t,Ko,r);if(u!==Ko)return u}c=UL(s),s=s[gu]}o=c}return i}(n,e,t,r,Ko);if(s!==Ko)return s}const o=LL(n,e,t,r,Ko);if(o!==Ko)return o}return NL(e,t,r,i)}function LL(n,e,t,r,i){const o=function Dee(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(tf)?n[tf]:void 0;return"number"==typeof e?e>=0?e&kL:Mee:e}(t);if("function"==typeof o){if(!qF(e,n,r))return r&it.Host?RL(i,0,r):NL(e,t,r,i);try{let s;if(s=o(r),null!=s||r&it.Optional)return s;bE()}finally{YF()}}else if("number"==typeof o){let s=null,a=PL(n,e),c=Ru,l=r&it.Host?e[vn][Wr]:null;for((-1===a||r&it.SkipSelf)&&(c=-1===a?ny(n,e):e[a+8],c!==Ru&&BL(r,!1)?(s=e[re],a=Ef(c),e=xf(c,e)):a=-1);-1!==a;){const u=e[re];if(VL(o,a,u.data)){const d=Tee(a,e,t,s,r,l);if(d!==Ko)return d}c=e[a+8],c!==Ru&&BL(r,e[re].data[a+8]===l)&&VL(o,a,e)?(s=u,a=Ef(c),e=xf(c,e)):a=-1}}return i}function Tee(n,e,t,r,i,o){const s=e[re],a=s.data[n+8],u=ry(a,s,t,null==r?Lc(a)&&QE:r!=s&&0!=(3&a.type),i&it.Host&&o===a);return null!==u?Hc(e,s,u,a):Ko}function ry(n,e,t,r,i){const o=n.providerIndexes,s=e.data,a=1048575&o,c=n.directiveStart,u=o>>20,h=i?a+u:n.directiveEnd;for(let f=r?a:a+u;f<h;f++){const y=s[f];if(f<c&&t===y||f>=c&&y.type===t)return f}if(i){const f=s[c];if(f&&Io(f)&&f.type===t)return c}return null}function Hc(n,e,t,r){let i=n[t];const o=e.data;if(function yee(n){return n instanceof Cf}(i)){const s=i;s.resolving&&function TJ(n,e){throw e&&e.join(" > "),new U(-200,n)}(function Tt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Be(n)}(o[t]));const a=ey(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?Ii(s.injectImpl):null;qF(n,r,it.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&function mee(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const s=TL(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}(t,o[t],e)}finally{null!==l&&Ii(l),ey(a),s.resolving=!1,YF()}}return i}function VL(n,e,t){return!!(t[e+(n>>OL)]&1<<n)}function BL(n,e){return!(n&it.Self||n&it.Host&&e)}class lr{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return FL(this._tNode,this._lView,e,V_(r),t)}}function Mee(){return new lr(Ot(),q())}function mr(n){return Rs(()=>{const e=n.prototype.constructor,t=e[Ns]||ZE(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const o=i[Ns]||ZE(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function ZE(n){return F_(n)?()=>{const e=ZE(Ae(n));return e&&e()}:Uc(n)}function UL(n){const e=n[re],t=e.type;return 2===t?e.declTNode:1===t?n[Wr]:null}function GL(n,e=null,t=null,r){const i=qL(n,e,t,r);return i.resolveInjectorInitializers(),i}function qL(n,e=null,t=null,r,i=new Set){const o=[t||Ct,WJ(n)];return r=r||("object"==typeof n?void 0:sr(n)),new ku(o,e||K_(),r||null,i)}let Ut=(()=>{class n{static#e=this.THROW_IF_NOT_FOUND=gf;static#t=this.NULL=new H_;static create(t,r){if(Array.isArray(t))return GL({name:""},r,t,"");{const i=t.name??"";return GL({name:i},t.parent,t.providers,i)}}static#n=this.\u0275prov=ne({token:n,providedIn:"any",factory:()=>$(vL)});static#r=this.__NG_ELEMENT_ID__=-1}return n})();function ex(n){return n.ngOriginalError}class oo{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&ex(e);for(;t&&ex(t);)t=ex(t);return t||null}}const KL=new X("",{providedIn:"root",factory:()=>ee(oo).handleError.bind(void 0)}),YL=new X("",{providedIn:"root",factory:()=>!1});let sy;function Lu(n){return function tx(){if(void 0===sy&&(sy=null,St.trustedTypes))try{sy=St.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return sy}()?.createHTML(n)||n}class Gc{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${pF})`}}class Bee extends Gc{getTypeName(){return"HTML"}}class Uee extends Gc{getTypeName(){return"Style"}}class jee extends Gc{getTypeName(){return"Script"}}class zee extends Gc{getTypeName(){return"URL"}}class $ee extends Gc{getTypeName(){return"ResourceURL"}}function ji(n){return n instanceof Gc?n.changingThisBreaksApplicationSecurity:n}function Qo(n,e){const t=function Hee(n){return n instanceof Gc&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${pF})`)}return t===e}class Yee{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(Lu(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class Xee{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const t=this.inertDocument.createElement("template");return t.innerHTML=Lu(e),t}}const Jee=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function cy(n){return(n=String(n)).match(Jee)?n:"unsafe:"+n}function Us(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function Tf(...n){const e={};for(const t of n)for(const r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}const t3=Us("area,br,col,hr,img,wbr"),n3=Us("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),r3=Us("rp,rt"),rx=Tf(t3,Tf(n3,Us("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Tf(r3,Us("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Tf(r3,n3)),ix=Us("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),i3=Tf(ix,Us("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Us("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ete=Us("script,style,template");class tte{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let i=this.checkClobberedElement(t,t.nextSibling);if(i){t=i;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!rx.hasOwnProperty(t))return this.sanitizedSomething=!0,!ete.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const r=e.attributes;for(let i=0;i<r.length;i++){const o=r.item(i),s=o.name,a=s.toLowerCase();if(!i3.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;ix[a]&&(c=cy(c)),this.buf.push(" ",s,'="',o3(c),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();rx.hasOwnProperty(t)&&!t3.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(o3(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const nte=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,rte=/([^\#-~ |!])/g;function o3(n){return n.replace(/&/g,"&amp;").replace(nte,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(rte,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ly;function s3(n,e){let t=null;try{ly=ly||function e3(n){const e=new Xee(n);return function Zee(){try{return!!(new window.DOMParser).parseFromString(Lu(""),"text/html")}catch{return!1}}()?new Yee(e):e}(n);let r=e?String(e):"";t=ly.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=t.innerHTML,t=ly.getInertBodyElement(r)}while(r!==o);return Lu((new tte).sanitizeChildren(ox(t)||t))}finally{if(t){const r=ox(t)||t;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function ox(n){return"content"in n&&function ite(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Pr=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Pr||{});function sx(n){const e=function Df(){const n=q();return n&&n[Fs].sanitizer}();return e?e.sanitize(Pr.URL,n)||"":Qo(n,"URL")?ji(n):cy(Be(n))}const ax=new Map;let yte=0;const lx="__ngContext__";function Xr(n,e){Kr(e)?(n[lx]=e[af],function bte(n){ax.set(n[af],n)}(e)):n[lx]=e}function zi(n){return n instanceof Function?n():n}var Ma=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Ma||{});let fx;function px(n,e){return fx(n,e)}function Bu(n,e,t,r,i){if(null!=r){let o,s=!1;Qr(r)?o=r:Kr(r)&&(s=!0,r=r[pn]);const a=Ft(r);0===n&&null!==t?null==i?D3(e,t,a):qc(e,t,a,i||null,!0):1===n&&null!==t?qc(e,t,a,i||null,!0):2===n?function _y(n,e,t){const r=gy(n,e);r&&function zte(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,s):3===n&&e.destroyNode(a),null!=o&&function Gte(n,e,t,r,i){const o=t[Ho];o!==Ft(t)&&Bu(e,n,r,o,i);for(let a=Vn;a<t.length;a++){const c=t[a];yy(c[re],c,n,e,r,o)}}(e,n,o,t,i)}}function fy(n,e,t){return n.createElement(e,t)}function x3(n,e){yy(n,e,e[Fe],2,null,null)}function I3(n,e){const t=n[_u],r=t.indexOf(e);t.splice(r,1)}function Sf(n,e){if(n.length<=Vn)return;const t=Vn+e,r=n[t];if(r){const i=r[sf];null!==i&&i!==n&&I3(i,r),e>0&&(n[t-1][Eo]=r[Eo]);const o=M_(n,Vn+e);!function Nte(n,e){x3(n,e),e[pn]=null,e[Wr]=null}(r[re],r);const s=o[Ls];null!==s&&s.detachView(o[re]),r[Ln]=null,r[Eo]=null,r[Ce]&=-129}return r}function py(n,e){if(!(256&e[Ce])){const t=e[Fe];t.destroyNode&&yy(n,e,t,3,null,null),function Lte(n){let e=n[rf];if(!e)return mx(n[re],n);for(;e;){let t=null;if(Kr(e))t=e[rf];else{const r=e[Vn];r&&(t=r)}if(!t){for(;e&&!e[Eo]&&e!==n;)Kr(e)&&mx(e[re],e),e=e[Ln];null===e&&(e=n),Kr(e)&&mx(e[re],e),t=e&&e[Eo]}e=t}}(e)}}function mx(n,e){if(!(256&e[Ce])){e[Ce]&=-129,e[Ce]|=256,e[Fc]&&function bo(n){if(Ke(n),Ps(n))for(let e=0;e<n.producerNode.length;e++)Pc(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}(e[Fc]),function jte(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof Cf)){const o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],c=o[s+1];Wo(4,a,c);try{c.call(a)}finally{Wo(5,a,c)}}else{Wo(4,i,o);try{o.call(i)}finally{Wo(5,i,o)}}}}}(n,e),function Ute(n,e){const t=n.cleanup,r=e[pu];if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const s=t[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else t[o].call(r[t[o+1]]);null!==r&&(e[pu]=null);const i=e[Ea];if(null!==i){e[Ea]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(n,e),1===e[re].type&&e[Fe].destroy();const t=e[sf];if(null!==t&&Qr(e[Ln])){t!==e[Ln]&&I3(t,e);const r=e[Ls];null!==r&&r.detachView(n)}!function wte(n){ax.delete(n[af])}(e)}}function _x(n,e,t){return function T3(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[pn];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=n.data[r.directiveStart+i];if(o===wo.None||o===wo.Emulated)return null}return li(r,t)}}(n,e.parent,t)}function qc(n,e,t,r,i){n.insertBefore(e,t,r,i)}function D3(n,e,t){n.appendChild(e,t)}function M3(n,e,t,r,i){null!==r?qc(n,e,t,r,i):D3(n,e,t)}function gy(n,e){return n.parentNode(e)}function S3(n,e,t){return k3(n,e,t)}let yx,k3=function A3(n,e,t){return 40&n.type?li(n,t):null};function my(n,e,t,r){const i=_x(n,r,e),o=e[Fe],a=S3(r.parent||e[Wr],r,e);if(null!=i)if(Array.isArray(t))for(let c=0;c<t.length;c++)M3(o,i,t[c],a,!1);else M3(o,i,t,a,!1);void 0!==yx&&yx(o,r,e,t,i)}function Af(n,e){if(null!==e){const t=e.type;if(3&t)return li(e,n);if(4&t)return vx(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return Af(n,r);{const i=n[e.index];return Qr(i)?vx(-1,i):Ft(i)}}if(32&t)return px(e,n)()||Ft(n[e.index]);{const r=P3(n,e);return null!==r?Array.isArray(r)?r[0]:Af(Vc(n[vn]),r):Af(n,e.next)}}return null}function P3(n,e){return null!==e?n[vn][Wr].projection[e.projection]:null}function vx(n,e){const t=Vn+n+1;if(t<e.length){const r=e[t],i=r[re].firstChild;if(null!==i)return Af(r,i)}return e[Ho]}function bx(n,e,t,r,i,o,s){for(;null!=t;){const a=r[t.index],c=t.type;if(s&&0===e&&(a&&Xr(Ft(a),r),t.flags|=2),32!=(32&t.flags))if(8&c)bx(n,e,t.child,r,i,o,!1),Bu(e,n,i,a,o);else if(32&c){const l=px(t,r);let u;for(;u=l();)Bu(e,n,i,u,o);Bu(e,n,i,a,o)}else 16&c?N3(n,e,r,t,i,o):Bu(e,n,i,a,o);t=s?t.projectionNext:t.next}}function yy(n,e,t,r,i,o){bx(t,r,n.firstChild,e,i,o,!1)}function N3(n,e,t,r,i,o){const s=t[vn],c=s[Wr].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)Bu(e,n,i,c[l],o);else{let l=c;const u=s[Ln];A_(r)&&(l.flags|=128),bx(n,e,l,u,i,o,!0)}}function F3(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function L3(n,e,t){const{mergedAttrs:r,classes:i,styles:o}=t;null!==r&&$C(n,e,r),null!==i&&F3(n,e,i),null!==o&&function Wte(n,e,t){n.setAttribute(e,"style",t)}(n,e,o)}const $e={};function z(n=1){V3(st(),q(),Yr()+n,!1)}function V3(n,e,t,r){if(!r)if(3==(3&e[Ce])){const o=n.preOrderCheckHooks;null!==o&&Z_(e,o,t)}else{const o=n.preOrderHooks;null!==o&&J_(e,o,0,t)}Bc(t)}function x(n,e=it.Default){const t=q();return null===t?$(n,e):FL(Ot(),t,Ae(n),e)}function U3(n,e,t,r,i,o){const s=B(null);try{let a=null;i&Bt.SignalBased&&(a=e[r][P]),null!==a&&void 0!==a.transformFn&&(o=a.transformFn(o)),i&Bt.HasDecoratorInputTransform&&(o=n.inputTransforms[r].call(e,o)),null!==n.setInput?n.setInput(e,a,o,t,r):IL(e,a,r,o)}finally{B(s)}}function vy(n,e,t,r,i,o,s,a,c,l,u){const d=e.blueprint.slice();return d[pn]=i,d[Ce]=204|r,(null!==l||n&&2048&n[Ce])&&(d[Ce]|=2048),VF(d),d[Ln]=d[gu]=n,d[Wt]=t,d[Fs]=s||n&&n[Fs],d[Fe]=a||n&&n[Fe],d[Or]=c||n&&n[Or]||null,d[Wr]=o,d[af]=function vte(){return yte++}(),d[xo]=u,d[kF]=l,d[vn]=2==e.type?n[vn]:d,d}function Uu(n,e,t,r,i){let o=n.data[e];if(null===o)o=function wx(n,e,t,r,i){const o=zF(),s=tE(),c=n.data[e]=function tne(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return vu()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=c),null!==o&&(s?null==o.child&&null!==c.parent&&(o.child=c):null===o.next&&(o.next=c,c.prev=o)),c}(n,e,t,r,i),function oJ(){return ke.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=t,o.value=r,o.attrs=i;const s=function hf(){const n=ke.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return qo(o,!0),o}function kf(n,e,t,r){if(0===t)return-1;const i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function j3(n,e,t,r,i){const o=Yr(),s=2&r;try{Bc(-1),s&&e.length>Ve&&V3(n,e,Ve,!1),Wo(s?2:0,i),t(r,i)}finally{Bc(o),Wo(s?3:1,i)}}function Cx(n,e,t){if(qC(e)){const r=B(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=n.data[s];a.contentQueries&&a.contentQueries(1,t[s],s)}}finally{B(r)}}}function Ex(n,e,t){jF()&&(function cne(n,e,t,r){const i=t.directiveStart,o=t.directiveEnd;Lc(t)&&function gne(n,e,t){const r=li(e,n),i=z3(t);let s=16;t.signals?s=4096:t.onPush&&(s=64);const a=by(n,vy(n,i,null,s,r,e,null,n[Fs].rendererFactory.createRenderer(r,t),null,null,null));n[e.index]=a}(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||ty(t,e),Xr(r,e);const s=t.initialInputs;for(let a=i;a<o;a++){const c=n.data[a],l=Hc(e,n,a,t);Xr(l,e),null!==s&&mne(0,a-i,l,c,0,s),Io(c)&&(Vi(t.index,e)[Wt]=Hc(e,n,a,t))}}(n,e,t,li(t,e)),64==(64&t.flags)&&W3(n,e,t))}function xx(n,e,t=li){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?t(e,n):n[s];n[i++]=a}}}function z3(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=Ix(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Ix(n,e,t,r,i,o,s,a,c,l,u){const d=Ve+r,h=d+i,f=function Qte(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:$e);return t}(d,h),y="function"==typeof l?l():l;return f[re]={type:n,blueprint:f,template:t,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:y,incompleteFirstPass:!1,ssrId:u}}let $3=()=>null;function H3(n,e,t,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;const s=e[o];if(void 0===s)continue;r??={};let a,c=Bt.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let l=o;if(null!==i){if(!i.hasOwnProperty(o))continue;l=i[o]}0===n?G3(r,t,l,a,c):G3(r,t,l,a)}return r}function G3(n,e,t,r,i){let o;n.hasOwnProperty(t)?(o=n[t]).push(e,r):o=n[t]=[e,r],void 0!==i&&o.push(i)}function Di(n,e,t,r,i,o,s,a){const c=li(e,t);let u,l=e.inputs;!a&&null!=l&&(u=l[r])?(Ax(n,t,u,r,i),Lc(e)&&function ine(n,e){const t=Vi(e,n);16&t[Ce]||(t[Ce]|=64)}(t,e.index)):3&e.type&&(r=function rne(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=s?s(i,e.value||"",r):i,o.setProperty(c,r,i))}function Tx(n,e,t,r){if(jF()){const i=null===r?null:{"":-1},o=function une(n,e){const t=n.directiveRegistry;let r=null,i=null;if(t)for(let o=0;o<t.length;o++){const s=t[o];if(IF(e,s.selectors,!1))if(r||(r=[]),Io(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),Dx(n,e,a.length)}else r.unshift(s),Dx(n,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(n,t);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&q3(n,e,t,s,i,a),i&&function dne(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const o=t[e[i+1]];if(null==o)throw new U(-301,!1);r.push(e[i],o)}}}(t,r,i)}t.mergedAttrs=nf(t.mergedAttrs,t.attrs)}function q3(n,e,t,r,i,o){for(let l=0;l<r.length;l++)XE(ty(t,e),n,r[l].type);!function fne(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,r.length);for(let l=0;l<r.length;l++){const u=r[l];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,c=kf(n,e,r.length,null);for(let l=0;l<r.length;l++){const u=r[l];t.mergedAttrs=nf(t.mergedAttrs,u.hostAttrs),pne(n,t,e,c,u),hne(c,u,i),null!==u.contentQueries&&(t.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(t.flags|=64);const d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),c++}!function nne(n,e,t){const i=e.directiveEnd,o=n.data,s=e.attrs,a=[];let c=null,l=null;for(let u=e.directiveStart;u<i;u++){const d=o[u],h=t?t.get(d):null,y=h?h.outputs:null;c=H3(0,d.inputs,u,c,h?h.inputs:null),l=H3(1,d.outputs,u,l,y);const E=null===c||null===s||xF(e)?null:_ne(c,u,s);a.push(E)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}(n,t,o)}function W3(n,e,t){const r=t.directiveStart,i=t.directiveEnd,o=t.index,s=function aJ(){return ke.lFrame.currentDirectiveIndex}();try{Bc(o);for(let a=r;a<i;a++){const c=n.data[a],l=e[a];rE(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&lne(c,l)}}finally{Bc(-1),rE(s)}}function lne(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function Dx(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function hne(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Io(e)&&(t[""]=n)}}function pne(n,e,t,r,i){n.data[r]=i;const o=i.factory||(i.factory=Uc(i.type)),s=new Cf(o,Io(i),x);n.blueprint[r]=s,t[r]=s,function sne(n,e,t,r,i){const o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;null===s&&(s=n.hostBindingOpCodes=[]);const a=~e.index;(function ane(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(s)!=a&&s.push(a),s.push(t,r,o)}}(n,e,r,kf(n,t,i.hostVars,$e),i)}function Yo(n,e,t,r,i,o){const s=li(n,e);!function Mx(n,e,t,r,i,o,s){if(null==o)n.removeAttribute(e,i,t);else{const a=null==s?Be(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}(e[Fe],s,o,n.value,t,r,i)}function mne(n,e,t,r,i,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;)U3(r,t,s[a++],s[a++],s[a++],s[a++])}function _ne(n,e,t){let r=null,i=0;for(;i<t.length;){const o=t[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(n.hasOwnProperty(o)){null===r&&(r=[]);const s=n[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function K3(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function Q3(n,e){const t=n.contentQueries;if(null!==t){const r=B(null);try{for(let i=0;i<t.length;i+=2){const s=t[i+1];if(-1!==s){const a=n.data[s];I_(t[i]),a.contentQueries(2,e[s],s)}}}finally{B(r)}}}function by(n,e){return n[rf]?n[AF][Eo]=e:n[rf]=e,n[AF]=e,e}function Sx(n,e,t){I_(0);const r=B(null);try{e(n,t)}finally{B(r)}}function Y3(n){return n[pu]||(n[pu]=[])}function X3(n){return n.cleanup||(n.cleanup=[])}function Z3(n,e,t){return(null===n||Io(n))&&(t=function YC(n){for(;Array.isArray(n);){if("object"==typeof n[HC])return n;n=n[pn]}return null}(t[e.index])),t[Fe]}function wy(n,e){const t=n[Or],r=t?t.get(oo,null):null;r&&r.handleError(e)}function Ax(n,e,t,r,i){for(let o=0;o<t.length;){const s=t[o++],a=t[o++],c=t[o++];U3(n.data[s],e[s],r,a,c,i)}}function yne(n,e){const t=Vi(e,n),r=t[re];!function vne(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}(r,t);const i=t[pn];null!==i&&null===t[xo]&&(t[xo]=kE(i,t[Or])),kx(r,t,t[Wt])}function kx(n,e,t){sE(e);try{const r=n.viewQuery;null!==r&&Sx(1,r,t);const i=n.template;null!==i&&j3(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Ls]?.finishViewCreation(n),n.staticContentQueries&&Q3(n,e),n.staticViewQueries&&Sx(2,n.viewQuery,t);const o=n.components;null!==o&&function bne(n,e){for(let t=0;t<e.length;t++)yne(n,e[t])}(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[Ce]&=-5,aE()}}function ju(n,e){return!e||null===e.firstChild||A_(n)}function Pf(n,e,t,r=!0){const i=e[re];if(function Vte(n,e,t,r){const i=Vn+r,o=t.length;r>0&&(t[i-1][Eo]=e),r<o-Vn?(e[Eo]=t[i],eL(t,Vn+r,e)):(t.push(e),e[Eo]=null),e[Ln]=t;const s=e[sf];null!==s&&t!==s&&function Bte(n,e){const t=n[_u];e[vn]!==e[Ln][Ln][vn]&&(n[Ce]|=GC.HasTransplantedViews),null===t?n[_u]=[e]:t.push(e)}(s,e);const a=e[Ls];null!==a&&a.insertView(n),JC(e),e[Ce]|=128}(i,e,n,t),r){const s=vx(t,n),a=e[Fe],c=gy(a,n[Ho]);null!==c&&function Fte(n,e,t,r,i,o){r[pn]=i,r[Wr]=e,yy(n,r,t,1,i,o)}(i,n[Wr],a,e,c,s)}const o=e[xo];null!==o&&null!==o.firstChild&&(o.firstChild=null)}function Rf(n,e,t,r,i=!1){for(;null!==t;){const o=e[t.index];null!==o&&r.push(Ft(o)),Qr(o)&&eV(o,r);const s=t.type;if(8&s)Rf(n,e,t.child,r);else if(32&s){const a=px(t,e);let c;for(;c=a();)r.push(c)}else if(16&s){const a=P3(e,t);if(Array.isArray(a))r.push(...a);else{const c=Vc(e[vn]);Rf(c[re],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function eV(n,e){for(let t=Vn;t<n.length;t++){const r=n[t],i=r[re].firstChild;null!==i&&Rf(r[re],r,i,e)}n[Ho]!==n[pn]&&e.push(n[Ho])}let tV=[];const xne={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{df(n.lView)},consumerOnSignalRead(){this.lView[Fc]=this}};function nV(n){return iV(n[rf])}function rV(n){return iV(n[Eo])}function iV(n){for(;null!==n&&!Qr(n);)n=n[Eo];return n}function Cy(n,e=!0,t=0){const r=n[Fs],i=r.rendererFactory;i.begin?.();try{!function Dne(n,e){Px(n,e);let t=0;for(;ZC(n);){if(100===t)throw new U(103,!1);t++,Px(n,1)}}(n,t)}catch(s){throw e&&wy(n,s),s}finally{i.end?.(),r.inlineEffectRunner?.flush()}}function Mne(n,e,t,r){const i=e[Ce];if(256==(256&i))return;e[Fs].inlineEffectRunner?.flush(),sE(e);let s=null,a=null;(function Sne(n){return 2!==n.type})(n)&&(a=function wne(n){return n[Fc]??function Cne(n){const e=tV.pop()??Object.create(xne);return e.lView=n,e}(n)}(e),s=function he(n){return n&&(n.nextProducerIndex=0),B(n)}(a));try{VF(e),function HF(n){return ke.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&j3(n,e,t,2,r);const c=3==(3&i);if(c){const d=n.preOrderCheckHooks;null!==d&&Z_(e,d,null)}else{const d=n.preOrderHooks;null!==d&&J_(e,d,0,null),qE(e,0)}if(function Ane(n){for(let e=nV(n);null!==e;e=rV(e)){if(!(e[Ce]&GC.HasTransplantedViews))continue;const t=e[_u];for(let r=0;r<t.length;r++){QZ(t[r])}}}(e),sV(e,0),null!==n.contentQueries&&Q3(n,e),c){const d=n.contentCheckHooks;null!==d&&Z_(e,d)}else{const d=n.contentHooks;null!==d&&J_(e,d,1),qE(e,1)}!function Kte(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)Bc(~i);else{const o=i,s=t[++r],a=t[++r];sJ(s,o),a(2,e[o])}}}finally{Bc(-1)}}(n,e);const l=n.components;null!==l&&cV(e,l,0);const u=n.viewQuery;if(null!==u&&Sx(2,u,r),c){const d=n.viewCheckHooks;null!==d&&Z_(e,d)}else{const d=n.viewHooks;null!==d&&J_(e,d,2),qE(e,2)}if(!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[w_]){for(const d of e[w_])d();e[w_]=null}e[Ce]&=-73}catch(c){throw df(e),c}finally{null!==a&&(function Ht(n,e){if(B(e),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(Ps(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Pc(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}(a,s),function Ene(n){n.lView[Fc]!==n&&(n.lView=null,tV.push(n))}(a)),aE()}}function sV(n,e){for(let t=nV(n);null!==t;t=rV(t))for(let r=Vn;r<t.length;r++)aV(t[r],e)}function kne(n,e,t){aV(Vi(e,n),t)}function aV(n,e){XC(n)&&Px(n,e)}function Px(n,e){const r=n[re],i=n[Ce],o=n[Fc];let s=!!(0===e&&16&i);if(s||=!!(64&i&&0===e),s||=!!(1024&i),s||=!(!o?.dirty||!ai(o)),o&&(o.dirty=!1),n[Ce]&=-9217,s)Mne(r,n,r.template,n[Wt]);else if(8192&i){sV(n,1);const a=r.components;null!==a&&cV(n,a,1)}}function cV(n,e,t){for(let r=0;r<e.length;r++)kne(n,e[r],t)}function Nf(n){for(n[Fs].changeDetectionScheduler?.notify();n;){n[Ce]|=64;const e=Vc(n);if(WC(n)&&!e)return n;n=e}return null}class Ff{get rootNodes(){const e=this._lView,t=e[re];return Rf(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Wt]}set context(e){this._lView[Wt]=e}get destroyed(){return 256==(256&this._lView[Ce])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Ln];if(Qr(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(Sf(e,r),M_(t,r))}this._attachedToViewContainer=!1}py(this._lView[re],this._lView)}onDestroy(e){x_(this._lView,e)}markForCheck(){Nf(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ce]&=-129}reattach(){JC(this._lView),this._lView[Ce]|=128}detectChanges(){this._lView[Ce]|=1024,Cy(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new U(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,x3(this._lView[re],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new U(902,!1);this._appRef=e,JC(this._lView)}}let Xo=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=Rne}return n})();const One=Xo,Pne=class extends One{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){const i=function Of(n,e,t,r){const i=e.tView,a=vy(n,i,t,4096&n[Ce]?4096:16,null,e,null,null,null,r?.injector??null,r?.dehydratedView??null);a[sf]=n[e.index];const l=n[Ls];return null!==l&&(a[Ls]=l.createEmbeddedView(i)),kx(i,a,t),a}(this._declarationLView,this._declarationTContainer,e,{injector:t,dehydratedView:r});return new Ff(i)}};function Rne(){return Ey(Ot(),q())}function Ey(n,e){return 4&n.type?new Pne(e,n,bu(n,e)):null}class Bx{}class nre{}class gV{}class ire{resolveComponentFactory(e){throw function rre(n){const e=Error(`No component factory found for ${sr(n)}.`);return e.ngComponent=n,e}(e)}}let $u=(()=>{class n{static#e=this.NULL=new ire}return n})();class Ux{}let Do=(()=>{class n{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function ore(){const n=q(),t=Vi(Ot().index,n);return(Kr(t)?t:n)[Fe]}()}return n})(),sre=(()=>{class n{static#e=this.\u0275prov=ne({token:n,providedIn:"root",factory:()=>null})}return n})();const jx={};const yV=new Set;function Zo(n){yV.has(n)||(yV.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function vV(n){return function _V(n){return"function"==typeof n&&void 0!==n[P]}(n)&&"function"==typeof n.set}function My(n){return!!function zx(n){return null!==n&&("function"==typeof n||"object"==typeof n)}(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}class wV{constructor(){}supports(e){return My(e)}create(e){return new hre(e)}}const dre=(n,e)=>e;class hre{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||dre}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){const s=!r||t&&t.currentIndex<EV(r,i,o)?t:r,a=EV(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,null==s.previousIndex)i++;else{o||(o=[]);const l=a-i,u=c-i;if(l!=u){for(let h=0;h<l;h++){const f=h<o.length?o[h]:o[h]=0,y=f+h;u<=y&&y<l&&(o[h]=f+1)}o[s.previousIndex]=u-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!My(e))throw new U(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,s,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,s,a),r=!0),t=t._next}else i=0,function ure(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new fre(t,r),o,i),e}_verifyReinsertion(e,t,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new CV),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new CV),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class fre{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class pre{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class CV{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new pre,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function EV(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function IV(){return new $x([new wV])}let $x=(()=>{class n{static#e=this.\u0275prov=ne({token:n,providedIn:"root",factory:IV});constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||IV()),deps:[[n,new bf,new Yt]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new U(901,!1)}}return n})(),Hu=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=yre}return n})();function yre(n){return function vre(n,e,t){if(Lc(n)&&!t){const r=Vi(n.index,e);return new Ff(r,r)}return 47&n.type?new Ff(e[vn],e):null}(Ot(),q(),16==(16&n))}let Ay=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=Ere;static#t=this.__NG_ENV_ID__=t=>t}return n})();class Cre extends Ay{constructor(e){super(),this._lView=e}onDestroy(e){return x_(this._lView,e),()=>function eE(n,e){if(null===n[Ea])return;const t=n[Ea].indexOf(e);-1!==t&&n[Ea].splice(t,1)}(this._lView,e)}}function Ere(){return new Cre(q())}function DV(...n){}class De{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Qe(!1),this.onMicrotaskEmpty=new Qe(!1),this.onStable=new Qe(!1),this.onError=new Qe(!1),typeof Zone>"u")throw new U(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function Sre(){const n="function"==typeof St.requestAnimationFrame;let e=St[n?"requestAnimationFrame":"setTimeout"],t=St[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function Ore(n){const e=()=>{!function kre(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(St,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Gx(n),n.isCheckStableRunning=!0,Hx(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Gx(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,o,s,a)=>{if(function Pre(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return t.invokeTask(i,o,s,a);try{return MV(n),t.invokeTask(i,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&e(),SV(n)}},onInvoke:(t,r,i,o,s,a,c)=>{try{return MV(n),t.invoke(i,o,s,a,c)}finally{n.shouldCoalesceRunChangeDetection&&e(),SV(n)}},onHasTask:(t,r,i,o)=>{t.hasTask(i,o),r===i&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,Gx(n),Hx(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,r,i,o)=>(t.handleError(i,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!De.isInAngularZone())throw new U(909,!1)}static assertNotInAngularZone(){if(De.isInAngularZone())throw new U(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,Are,DV,DV);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const Are={};function Hx(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Gx(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function MV(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function SV(n){n._nesting--,Hx(n)}class AV{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Qe,this.onMicrotaskEmpty=new Qe,this.onStable=new Qe,this.onError=new Qe}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}var Wc=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(Wc||{});const kV={destroy(){}};function OV(n,e){!e&&function Q_(n){if(!lL()&&!function kJ(){return Eu}())throw new U(-203,!1)}();const t=e?.injector??ee(Ut);if(!function Da(n){return"browser"===(n??ee(Ut)).get(ro)}(t))return kV;Zo("NgAfterNextRender");const r=t.get(jf),i=r.handler??=new RV,o=e?.phase??Wc.MixedReadWrite,s=()=>{i.unregister(c),a()},a=t.get(Ay).onDestroy(s),c=new PV(t,o,()=>{s(),n()});return i.register(c),{destroy:s}}class PV{constructor(e,t,r){this.phase=t,this.callbackFn=r,this.zone=e.get(De),this.errorHandler=e.get(oo,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}}class RV{constructor(){this.executingCallbacks=!1,this.buckets={[Wc.EarlyRead]:new Set,[Wc.Write]:new Set,[Wc.MixedReadWrite]:new Set,[Wc.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(const e of Object.values(this.buckets))for(const t of e)t.invoke();this.executingCallbacks=!1;for(const e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(const e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}}let jf=(()=>{class n{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const t=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const r of t)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=ne({token:n,providedIn:"root",factory:()=>new n})}return n})();function Oy(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=UC(i,a):2==o&&(r=UC(r,a+": "+e[++s]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}class LV extends $u{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Xe(e);return new Hf(t,this.ngModule)}}function VV(n){const e=[];for(const t in n){if(!n.hasOwnProperty(t))continue;const r=n[t];void 0!==r&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:t})}return e}class Bre{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=V_(r);const i=this.injector.get(e,jx,r);return i!==jx||t===jx?i:this.parentInjector.get(e,t,r)}}class Hf extends gV{get inputs(){const e=this.componentDef,t=e.inputTransforms,r=VV(e.inputs);if(null!==t)for(const i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return VV(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function FZ(n){return n.map(NZ).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let o=(i=i||this.ngModule)instanceof Ui?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new Bre(e,o):e,a=s.get(Ux,null);if(null===a)throw new U(407,!1);const d={rendererFactory:a,sanitizer:s.get(sre,null),inlineEffectRunner:null,afterRenderEventManager:s.get(jf,null),changeDetectionScheduler:s.get(Bx,null)},h=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",y=r?function Yte(n,e,t,r){const o=r.get(YL,!1)||t===wo.ShadowDom,s=n.selectRootElement(e,o);return function Xte(n){$3(n)}(s),s}(h,r,this.componentDef.encapsulation,s):fy(h,f,function Vre(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(f));let E=512;this.componentDef.signals?E|=4096:this.componentDef.onPush||(E|=16);let I=null;null!==y&&(I=kE(y,s,!0));const k=Ix(0,null,null,1,0,null,null,null,null,null,null),M=vy(null,k,null,E,null,null,d,h,s,null,I);let V,K;sE(M);try{const oe=this.componentDef;let de,ze=null;oe.findHostDirectiveDefs?(de=[],ze=new Map,oe.findHostDirectiveDefs(oe,de,ze),de.push(oe)):de=[oe];const ht=function jre(n,e){const t=n[re],r=Ve;return n[r]=e,Uu(t,r,2,"#host",null)}(M,y),or=function zre(n,e,t,r,i,o,s){const a=i[re];!function $re(n,e,t,r){for(const i of n)e.mergedAttrs=nf(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Oy(e,e.mergedAttrs,!0),null!==t&&L3(r,t,e))}(r,n,e,s);let c=null;null!==e&&(c=kE(e,i[Or]));const l=o.rendererFactory.createRenderer(e,t);let u=16;t.signals?u=4096:t.onPush&&(u=64);const d=vy(i,z3(t),null,u,i[n.index],n,o,l,null,null,c);return a.firstCreatePass&&Dx(a,n,r.length-1),by(i,d),i[n.index]=d}(ht,y,oe,de,M,d,h);K=uf(k,Ve),y&&function Gre(n,e,t,r){if(r)$C(n,t,["ng-version","17.2.3"]);else{const{attrs:i,classes:o}=function LZ(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let o=n[r];if("string"==typeof o)2===i?""!==o&&e.push(o,n[++r]):8===i&&t.push(o);else{if(!Co(i))break;i=o}r++}return{attrs:e,classes:t}}(e.selectors[0]);i&&$C(n,t,i),o&&o.length>0&&F3(n,t,o.join(" "))}}(h,oe,y,r),void 0!==t&&function qre(n,e,t){const r=n.projection=[];for(let i=0;i<e.length;i++){const o=t[i];r.push(null!=o?Array.from(o):null)}}(K,this.ngContentSelectors,t),V=function Hre(n,e,t,r,i,o){const s=Ot(),a=i[re],c=li(s,i);q3(a,i,s,t,null,r);for(let u=0;u<t.length;u++)Xr(Hc(i,a,s.directiveStart+u,s),i);W3(a,i,s),c&&Xr(c,i);const l=Hc(i,a,s.directiveStart+s.componentOffset,s);if(n[Wt]=i[Wt]=l,null!==o)for(const u of o)u(l,e);return Cx(a,s,i),l}(or,oe,de,ze,M,[Wre]),kx(k,M,null)}finally{aE()}return new Ure(this.componentType,V,bu(K,M),M,K)}}class Ure extends nre{constructor(e,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new Ff(i,void 0,!1),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;const o=this._rootLView;Ax(o[re],o,i,e,t),this.previousInputValues.set(e,t),Nf(Vi(this._tNode.index,o))}}get injector(){return new lr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function Wre(){const n=Ot();X_(q()[re],n)}let so=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=Kre}return n})();function Kre(){return jV(Ot(),q())}const Qre=so,BV=class extends Qre{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return bu(this._hostTNode,this._hostLView)}get injector(){return new lr(this._hostTNode,this._hostLView)}get parentInjector(){const e=ny(this._hostTNode,this._hostLView);if(KE(e)){const t=xf(e,this._hostLView),r=Ef(e);return new lr(t[re].data[r+8],t)}return new lr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=UV(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-Vn}createEmbeddedView(e,t,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const a=e.createEmbeddedViewImpl(t||{},o,null);return this.insertImpl(a,i,ju(this._hostTNode,null)),a}createComponent(e,t,r,i,o){const s=e&&!function wf(n){return"function"==typeof n}(e);let a;if(s)a=t;else{const y=t||{};a=y.index,r=y.injector,i=y.projectableNodes,o=y.environmentInjector||y.ngModuleRef}const c=s?e:new Hf(Xe(e)),l=r||this.parentInjector;if(!o&&null==c.ngModule){const E=(s?l:this.parentInjector).get(Ui,null);E&&(o=E)}Xe(c.componentType??{});const f=c.create(l,i,null,o);return this.insertImpl(f.hostView,a,ju(this._hostTNode,null)),f}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){const i=e._lView;if(function KZ(n){return Qr(n[Ln])}(i)){const a=this.indexOf(e);if(-1!==a)this.detach(a);else{const c=i[Ln],l=new BV(c,c[Wr],c[Ln]);l.detach(l.indexOf(e))}}const o=this._adjustIndex(t),s=this._lContainer;return Pf(s,i,o,r),e.attachToViewContainerRef(),eL(Qx(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=UV(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=Sf(this._lContainer,t);r&&(M_(Qx(this._lContainer),t),py(r[re],r))}detach(e){const t=this._adjustIndex(e,-1),r=Sf(this._lContainer,t);return r&&null!=M_(Qx(this._lContainer),t)?new Ff(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function UV(n){return n[8]}function Qx(n){return n[8]||(n[8]=[])}function jV(n,e){let t;const r=e[n.index];return Qr(r)?t=r:(t=K3(r,e,null,n),e[n.index]=t,by(e,t)),zV(t,e,n,r),new BV(t,n,e)}let zV=function HV(n,e,t,r){if(n[Ho])return;let i;i=8&t.type?Ft(r):function Yre(n,e){const t=n[Fe],r=t.createComment(""),i=li(e,n);return qc(t,gy(t,i),r,function $te(n,e){return n.nextSibling(e)}(t,i),!1),r}(e,t),n[Ho]=i},Yx=()=>!1;class Xx{constructor(e){this.queryList=e,this.matches=null}clone(){return new Xx(this.queryList)}setDirty(){this.queryList.setDirty()}}class Zx{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){const s=t.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new Zx(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==r1(e,t).matches&&this.queries[t].setDirty()}}class GV{constructor(e,t,r=null){this.flags=t,this.read=r,this.predicate="string"==typeof e?function iie(n){return n.split(",").map(e=>e.trim())}(e):e}}class Jx{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==t?t.push(o):t=[o])}return null!==t?new Jx(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class e1{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new e1(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(e,t,eie(t,o)),this.matchTNodeWithReadOption(e,t,ry(t,e,o,!1,!1))}else r===Xo?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,ry(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Bn||i===so||i===Xo&&4&t.type)this.addMatch(t.index,-2);else{const o=ry(t,e,i,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function eie(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function nie(n,e,t,r){return-1===t?function tie(n,e){return 11&n.type?bu(n,e):4&n.type?Ey(n,e):null}(e,n):-2===t?function rie(n,e,t){return t===Bn?bu(e,n):t===Xo?Ey(e,n):t===so?jV(e,n):void 0}(n,e,r):Hc(n,n[re],t,e)}function qV(n,e,t,r){const i=e[Ls].queries[r];if(null===i.matches){const o=n.data,s=t.matches,a=[];for(let c=0;null!==s&&c<s.length;c+=2){const l=s[c];a.push(l<0?null:nie(e,o[l],s[c+1],t.metadata.read))}i.matches=a}return i.matches}function t1(n,e,t,r){const i=n.queries.getByIndex(t),o=i.matches;if(null!==o){const s=qV(n,e,i,t);for(let a=0;a<o.length;a+=2){const c=o[a];if(c>0)r.push(s[a/2]);else{const l=o[a+1],u=e[-c];for(let d=Vn;d<u.length;d++){const h=u[d];h[sf]===h[Ln]&&t1(h[re],h,l,r)}if(null!==u[_u]){const d=u[_u];for(let h=0;h<d.length;h++){const f=d[h];t1(f[re],f,l,r)}}}}}return r}function WV(n,e,t){const r=new ff(4==(4&t));return function ene(n,e,t,r){const i=Y3(e);i.push(t),n.firstCreatePass&&X3(n).push(r,i.length-1)}(n,e,r,r.destroy),(e[Ls]??=new Zx).queries.push(new Xx(r))-1}function YV(n,e,t){null===n.queries&&(n.queries=new Jx),n.queries.track(new e1(e,t))}function r1(n,e){return n.queries.getByIndex(e)}function XV(n,e){const t=n[re],r=r1(t,e);return r.crossesNgTemplate?t1(t,n,e,[]):qV(t,n,r,e)}function Et(n){let e=function c4(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(Io(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new U(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const s=n;s.inputs=Ry(n.inputs),s.inputTransforms=Ry(n.inputTransforms),s.declaredInputs=Ry(n.declaredInputs),s.outputs=Ry(n.outputs);const a=i.hostBindings;a&&vie(n,a);const c=i.viewQuery,l=i.contentQueries;if(c&&_ie(n,c),l&&yie(n,l),gie(n,i),TZ(n.outputs,i.outputs),Io(i)&&i.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===Et&&(t=!1)}}e=Object.getPrototypeOf(e)}!function mie(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=nf(i.hostAttrs,t=nf(t,i.hostAttrs))}}(r)}function gie(n,e){for(const t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;const r=e.inputs[t];if(void 0!==r&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t],null!==e.inputTransforms)){const i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;n.inputTransforms??={},n.inputTransforms[i]=e.inputTransforms[i]}}}function Ry(n){return n===$o?{}:n===Ct?[]:n}function _ie(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function yie(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,o)=>{e(r,i,o),t(r,i,o)}:e}function vie(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}function s1(n){const e=n.inputConfig,t={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];Array.isArray(i)&&i[3]&&(t[r]=i[3])}n.inputTransforms=t}class Kc{}class h4{}class a1 extends Kc{constructor(e,t,r){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new LV(this);const i=qr(e);this._bootstrapComponents=zi(i.bootstrap),this._r3Injector=qL(e,t,[{provide:Kc,useValue:this},{provide:$u,useValue:this.componentFactoryResolver},...r],sr(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class c1 extends h4{constructor(e){super(),this.moduleType=e}create(e){return new a1(this.moduleType,e,[])}}class f4 extends Kc{constructor(e){super(),this.componentFactoryResolver=new LV(this),this.instance=null;const t=new ku([...e.providers,{provide:Kc,useValue:this},{provide:$u,useValue:this.componentFactoryResolver}],e.parent||K_(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Ny(n,e,t=null){return new f4({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}let qf=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ci(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Un(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Xn(n,e,t,r,i,o,s,a){const c=q(),l=st(),u=n+Ve,d=l.firstCreatePass?function Sie(n,e,t,r,i,o,s,a,c){const l=e.consts,u=Uu(e,n,4,s||null,Go(l,a));Tx(e,t,u,Go(l,c)),X_(e,u);const d=u.tView=Ix(2,u,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,l,c,e,t,r,i,o,s):l.data[u];qo(d,!1);const h=p4(l,c,d,n);D_()&&my(l,c,h,d),Xr(h,c);const f=K3(h,c,h,d);return c[u]=f,by(c,f),function $V(n,e,t){return Yx(n,e,t)}(f,d,c),E_(d)&&Ex(l,c,d),null!=s&&xx(c,d,a),Xn}let p4=function g4(n,e,t,r){return xa(!0),e[Fe].createComment("")};function Hi(n,e,t,r){const i=q();return Un(i,To(),e)&&(st(),Yo(Kt(),i,n,e,t,r)),Hi}function $y(n,e){return n<<17|e<<2}function Oa(n){return n>>17&32767}function y1(n){return 2|n}function Xc(n){return(131068&n)>>2}function v1(n,e){return-131069&n|e<<2}function b1(n){return 1|n}function q4(n,e,t,r){const i=n[t+1],o=null===e;let s=r?Oa(i):Xc(i),a=!1;for(;0!==s&&(!1===a||o);){const l=n[s+1];foe(n[s],e)&&(a=!0,n[s+1]=r?b1(l):y1(l)),s=r?Oa(l):Xc(l)}a&&(n[t+1]=r?y1(i):b1(i))}function foe(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Cu(n,e)>=0}const ur={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function W4(n){return n.substring(ur.key,ur.keyEnd)}function K4(n,e){const t=ur.textEnd;return t===e?-1:(e=ur.keyEnd=function _oe(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,ur.key=e,t),ad(n,e,t))}function ad(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function dr(n,e,t){const r=q();return Un(r,To(),e)&&Di(st(),Kt(),r,n,e,r[Fe],t,!1),dr}function w1(n,e,t,r,i){const s=i?"class":"style";Ax(n,t,e.inputs[s],s,r)}function zs(n,e){return function Mo(n,e,t,r){const i=q(),o=st(),s=Bs(2);o.firstUpdatePass&&tB(o,n,s,r),e!==$e&&Un(i,s,e)&&rB(o,o.data[Yr()],i,i[Fe],n,i[s+1]=function Moe(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=sr(ji(n)))),n}(e,t),r,s)}(n,e,null,!0),zs}function C1(n){!function So(n,e,t,r){const i=st(),o=Bs(2);i.firstUpdatePass&&tB(i,null,o,r);const s=q();if(t!==$e&&Un(s,o,t)){const a=i.data[Yr()];if(oB(a,r)&&!eB(i,o)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;null!==c&&(t=UC(c,t||"")),w1(i,a,s,t,r)}else!function Doe(n,e,t,r,i,o,s,a){i===$e&&(i=Ct);let c=0,l=0,u=0<i.length?i[0]:null,d=0<o.length?o[0]:null;for(;null!==u||null!==d;){const h=c<i.length?i[c+1]:void 0,f=l<o.length?o[l+1]:void 0;let E,y=null;u===d?(c+=2,l+=2,h!==f&&(y=d,E=f)):null===d||null!==u&&u<d?(c+=2,y=u):(l+=2,y=d,E=f),null!==y&&rB(n,e,t,r,y,E,s,a),u=c<i.length?i[c]:null,d=l<o.length?o[l]:null}}(i,a,s,s[Fe],s[o+1],s[o+1]=function Ioe(n,e,t){if(null==t||""===t)return Ct;const r=[],i=ji(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else"string"==typeof i&&e(r,i);return r}(n,e,t),r,o)}}(Toe,ts,n,!0)}function ts(n,e){for(let t=function goe(n){return function Y4(n){ur.key=0,ur.keyEnd=0,ur.value=0,ur.valueEnd=0,ur.textEnd=n.length}(n),K4(n,ad(n,0,ur.textEnd))}(e);t>=0;t=K4(e,t))Bi(n,W4(e),!0)}function eB(n,e){return e>=n.expandoStartIndex}function tB(n,e,t,r){const i=n.data;if(null===i[t+1]){const o=i[Yr()],s=eB(n,t);oB(o,r)&&null===e&&!s&&(e=!1),e=function woe(n,e,t,r){const i=iE(n);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=Xf(t=E1(null,n,e,t,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||n[s]!==i)if(t=E1(i,n,e,t,r),null===o){let c=function Coe(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==Xc(r))return n[Oa(r)]}(n,e,r);void 0!==c&&Array.isArray(c)&&(c=E1(null,n,e,c[1],r),c=Xf(c,e.attrs,r),function Eoe(n,e,t,r){n[Oa(t?e.classBindings:e.styleBindings)]=r}(n,e,r,c))}else o=function xoe(n,e,t){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=Xf(r,n[o].hostAttrs,t);return Xf(r,e.attrs,t)}(n,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),t}(i,o,e,r),function doe(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Oa(s),c=Xc(s);n[r]=t;let u,l=!1;if(Array.isArray(t)?(u=t[1],(null===u||Cu(t,u)>0)&&(l=!0)):u=t,i)if(0!==c){const h=Oa(n[a+1]);n[r+1]=$y(h,a),0!==h&&(n[h+1]=v1(n[h+1],r)),n[a+1]=function loe(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=$y(a,0),0!==a&&(n[a+1]=v1(n[a+1],r)),a=r;else n[r+1]=$y(c,0),0===a?a=r:n[c+1]=v1(n[c+1],r),c=r;l&&(n[r+1]=y1(n[r+1])),q4(n,u,r,!0),q4(n,u,r,!1),function hoe(n,e,t,r,i){const o=i?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof e&&Cu(o,e)>=0&&(t[r+1]=b1(t[r+1]))}(e,u,n,r,o),s=$y(a,c),o?e.classBindings=s:e.styleBindings=s}(i,o,e,t,s,r)}}function E1(n,e,t,r,i){let o=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(o=e[a],r=Xf(r,o.hostAttrs,i),o!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function Xf(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Bi(n,s,!!t||e[++o]))}return void 0===n?null:n}function Toe(n,e,t){const r=String(e);""!==r&&!r.includes(" ")&&Bi(n,r,t)}function rB(n,e,t,r,i,o,s,a){if(!(3&e.type))return;const c=n.data,l=c[a+1],u=function uoe(n){return 1==(1&n)}(l)?iB(c,e,t,i,Xc(l),s):void 0;Hy(u)||(Hy(o)||function coe(n){return 2==(2&n)}(l)&&(o=iB(c,null,t,i,a,s)),function qte(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=-1===r.indexOf("-")?void 0:Ma.DashCase;null==i?n.removeStyle(t,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Ma.Important),n.setStyle(t,r,i,o))}}(r,s,lf(Yr(),t),i,o))}function iB(n,e,t,r,i,o){const s=null===e;let a;for(;i>0;){const c=n[i],l=Array.isArray(c),u=l?c[1]:c,d=null===u;let h=t[i+1];h===$e&&(h=d?Ct:void 0);let f=d?uE(h,r):u===r?h:void 0;if(l&&!Hy(f)&&(f=uE(c,r)),Hy(f)&&(a=f,s))return a;const y=n[i+1];i=s?Oa(y):Xc(y)}if(null!==e){let c=o?e.residualClasses:e.residualStyles;null!=c&&(a=uE(c,r))}return a}function Hy(n){return void 0!==n}function oB(n,e){return 0!=(n.flags&(e?8:16))}function g(n,e,t,r){const i=q(),o=st(),s=Ve+n,a=i[Fe],c=o.firstCreatePass?function Xoe(n,e,t,r,i,o){const s=e.consts,c=Uu(e,n,2,r,Go(s,i));return Tx(e,t,c,Go(s,o)),null!==c.attrs&&Oy(c,c.attrs,!1),null!==c.mergedAttrs&&Oy(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(s,o,i,e,t,r):o.data[s],l=lB(o,i,c,a,e,n);i[s]=l;const u=E_(c);return qo(c,!0),L3(a,l,c),32!=(32&c.flags)&&D_()&&my(o,i,l,c),0===function YZ(){return ke.lFrame.elementDepthCount}()&&Xr(l,i),function XZ(){ke.lFrame.elementDepthCount++}(),u&&(Ex(o,i,c),Cx(o,c,i)),null!==r&&xx(i,c),g}function p(){let n=Ot();tE()?nE():(n=n.parent,qo(n,!1));const e=n;(function JZ(n){return ke.skipHydrationRootTNode===n})(e)&&function rJ(){ke.skipHydrationRootTNode=null}(),function ZZ(){ke.lFrame.elementDepthCount--}();const t=st();return t.firstCreatePass&&(X_(t,n),qC(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function bee(n){return 0!=(8&n.flags)}(e)&&w1(t,e,q(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function wee(n){return 0!=(16&n.flags)}(e)&&w1(t,e,q(),e.stylesWithoutHost,!1),p}function te(n,e,t,r){return g(n,e,t,r),p(),te}let lB=(n,e,t,r,i,o)=>(xa(!0),fy(r,i,function XF(){return ke.lFrame.currentNamespace}()));function yt(){return q()}function A1(n,e,t){const r=q();if(Un(r,To(),e)){const o=st(),s=Kt();Di(o,s,r,n,e,Z3(iE(o.data),s,r),t,!0)}return A1}const ld="en-US";let gB=ld;function Q(n,e,t,r){const i=q(),o=st(),s=Ot();return R1(o,i,i[Fe],s,n,e,r),Q}function P1(n,e){const t=Ot(),r=q(),i=st();return R1(i,r,Z3(iE(i.data),t,r),t,n,e),P1}function R1(n,e,t,r,i,o,s){const a=E_(r),l=n.firstCreatePass&&X3(n),u=e[Wt],d=Y3(e);let h=!0;if(3&r.type||s){const E=li(r,e),I=s?s(E):E,k=d.length,M=s?K=>s(Ft(K[r.index])):r.index;let V=null;if(!s&&a&&(V=function Jse(n,e,t,r){const i=n.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===t&&i[o+1]===r){const a=e[pu],c=i[o+2];return a.length>c?a[c]:null}"string"==typeof s&&(o+=2)}return null}(n,e,i,r.index)),null!==V)(V.__ngLastListenerFn__||V).__ngNextListenerFn__=o,V.__ngLastListenerFn__=o,h=!1;else{o=jB(r,e,u,o,!1);const K=t.listen(I,i,o);d.push(o,K),l&&l.push(i,M,k,k+1)}}else o=jB(r,e,u,o,!1);const f=r.outputs;let y;if(h&&null!==f&&(y=f[i])){const E=y.length;if(E)for(let I=0;I<E;I+=2){const oe=e[y[I]][y[I+1]].subscribe(o),de=d.length;d.push(o,oe),l&&l.push(i,r.index,de,"function"==typeof oe?de+1:-(de+1))}}}function UB(n,e,t,r){try{return Wo(6,e,t),!1!==t(r)}catch(i){return wy(n,i),!1}finally{Wo(7,e,t)}}function jB(n,e,t,r,i){return function o(s){if(s===Function)return r;Nf(n.componentOffset>-1?Vi(n.index,e):e);let c=UB(e,t,r,s),l=o.__ngNextListenerFn__;for(;l;)c=UB(e,t,l,s)&&c,l=l.__ngNextListenerFn__;return i&&!1===c&&s.preventDefault(),c}}function Zt(n=1){return function lJ(n){return(ke.lFrame.contextLView=function BF(n,e){for(;n>0;)e=e[gu],n--;return e}(n,ke.lFrame.contextLView))[Wt]}(n)}function eae(n,e){let t=null;const r=function kZ(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(n);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?IF(n,o,!0):RZ(r,o))return i}else t=i}return t}function ud(n){const e=q()[vn][Wr];if(!e.projection){const r=e.projection=function S_(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}(n?n.length:1,null),i=r.slice();let o=e.child;for(;null!==o;){const s=n?eae(o,n):0;null!==s&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o),o=o.next}}}function Ao(n,e=0,t){const r=q(),i=st(),o=Uu(i,Ve+n,16,null,t||null);null===o.projection&&(o.projection=e),nE(),(!r[xo]||vu())&&32!=(32&o.flags)&&function Hte(n,e,t){N3(e[Fe],0,e,t,_x(n,t,e),S3(t.parent||e[Wr],t,e))}(i,r,o)}function F1(n,e,t,r){!function QV(n,e,t,r){const i=st();if(i.firstCreatePass){const o=Ot();YV(i,new GV(e,t,r),o.index),function oie(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(i,n),2==(2&t)&&(i.staticContentQueries=!0)}return WV(i,q(),t)}(n,e,t,r)}function $n(n,e,t){!function KV(n,e,t){const r=st();return r.firstCreatePass&&(YV(r,new GV(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),WV(r,q(),e)}(n,e,t)}function bn(n){const e=q(),t=st(),r=oE();I_(r+1);const i=r1(t,r);if(n.dirty&&function WZ(n){return 4==(4&n[Ce])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const o=XV(e,r);n.reset(o,JF),n.notifyOnChanges()}return!0}return!1}function wn(){return function n1(n,e){return n[Ls].queries[e].queryList}(q(),oE())}function Cn(n){return function yu(n,e){return n[e]}(function iJ(){return ke.lFrame.contextLView}(),Ve+n)}function w(n,e=""){const t=q(),r=st(),i=n+Ve,o=r.firstCreatePass?Uu(r,i,1,e,null):r.data[i],s=a5(r,t,o,e,n);t[i]=s,D_()&&my(r,t,s,o),qo(o,!1)}let a5=(n,e,t,r,i)=>(xa(!0),function hy(n,e){return n.createText(e)}(e[Fe],r));function He(n){return Ue("",n,""),He}function Ue(n,e,t){const r=q(),i=function Ju(n,e,t,r){return Un(n,To(),t)?e+Be(t)+r:$e}(r,n,e,t);return i!==$e&&function js(n,e,t){const r=lf(e,n);!function E3(n,e,t){n.setValue(e,t)}(n[Fe],r,t)}(r,Yr(),i),Ue}function tt(n,e,t){vV(e)&&(e=e());const r=q();return Un(r,To(),e)&&Di(st(),Kt(),r,n,e,r[Fe],t,!1),tt}function at(n,e){const t=vV(n);return t&&n.set(e),t}function nt(n,e){const t=q(),r=st(),i=Ot();return R1(r,t,t[Fe],i,n,e),nt}function L1(n,e,t,r,i){if(n=Ae(n),Array.isArray(n))for(let o=0;o<n.length;o++)L1(n[o],e,t,r,i);else{const o=st(),s=q(),a=Ot();let c=zc(n)?n:Ae(n.provide);const l=EL(n),u=1048575&a.providerIndexes,d=a.directiveStart,h=a.providerIndexes>>20;if(zc(n)||!n.multi){const f=new Cf(l,i,x),y=B1(c,e,i?u:u+h,d);-1===y?(XE(ty(a,s),o,c),V1(o,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(f),s.push(f)):(t[y]=f,s[y]=f)}else{const f=B1(c,e,u+h,d),y=B1(c,e,u,u+h),I=y>=0&&t[y];if(i&&!I||!i&&!(f>=0&&t[f])){XE(ty(a,s),o,c);const k=function vae(n,e,t,r,i){const o=new Cf(n,t,x);return o.multi=[],o.index=e,o.componentProviders=0,m5(o,i,r&&!t),o}(i?yae:_ae,t.length,i,r,l);!i&&I&&(t[y].providerFactory=k),V1(o,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(k),s.push(k)}else V1(o,n,f>-1?f:y,m5(t[i?y:f],l,!i&&r));!i&&r&&I&&t[y].componentProviders++}}}function V1(n,e,t,r){const i=zc(e),o=function QJ(n){return!!n.useClass}(e);if(i||o){const c=(o?Ae(e.useClass):e).prototype.ngOnDestroy;if(c){const l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const u=l.indexOf(t);-1===u?l.push(t,[r,c]):l[u+1].push(r,c)}else l.push(t,c)}}}function m5(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function B1(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function _ae(n,e,t,r){return U1(this.multi,[])}function yae(n,e,t,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Hc(t,t[re],this.providerFactory.index,r);o=a.slice(0,s),U1(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],U1(i,o);return o}function U1(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function gn(n,e=[]){return t=>{t.providersResolver=(r,i)=>function mae(n,e,t){const r=st();if(r.firstCreatePass){const i=Io(n);L1(t,r.data,r.blueprint,i,!0),L1(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}let bae=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const r=LE(0,t.type),i=r.length>0?Ny([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=ne({token:n,providedIn:"environment",factory:()=>new n($(Ui))})}return n})();function ns(n){Zo("NgStandalone"),n.getStandaloneInjector=e=>e.get(bae).getOrCreateStandaloneInjector(n)}class Pa{constructor(e){this.full=e;const t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}}const gce=new Pa("17.2.3");let G5=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();const Y5=new X(""),Zy=new X("");let Q1,W1=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Q1||(function jce(n){Q1=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{De.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb()}});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t()},r)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||n)($(De),$(K1),$(Zy))};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac})}return n})(),K1=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return Q1?.findTestabilityInTree(this,t,r)??null}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function ap(n){return!!n&&"function"==typeof n.then}function X5(n){return!!n&&"function"==typeof n.subscribe}const cp=new X("");let Y1=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=ee(cp,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const i of this.appInits){const o=i();if(ap(o))t.push(o);else if(X5(o)){const s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const X1=new X("");function eU(n,e){return Array.isArray(e)?e.reduce(eU,n):{...n,...e}}let rs=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ee(KL),this.afterRenderEffectManager=ee(jf),this.componentTypes=[],this.components=[],this.isStable=ee(qf).hasPendingTasks.pipe(Pe(t=>!t)),this._injector=ee(Ui)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){const i=t instanceof gV;if(!this._injector.get(Y1).done)throw!i&&function Ca(n){const e=Xe(n)||ar(n)||kr(n);return null!==e&&e.standalone}(t),new U(405,!1);let s;s=i?t:this._injector.get($u).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const a=function zce(n){return n.isBoundToModule}(s)?void 0:this._injector.get(Kc),l=s.create(Ut.NULL,[],r||s.selector,a),u=l.location.nativeElement,d=l.injector.get(Y5,null);return d?.registerApplication(u),l.onDestroy(()=>{this.detachView(l.hostView),Jy(this.components,l),d?.unregisterApplication(u)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new U(101,!1);try{this._runningTick=!0,this.detectChangesInAttachedViews()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}detectChangesInAttachedViews(){let t=0;const r=this.afterRenderEffectManager;for(;;){if(100===t)throw new U(103,!1);const i=0===t;for(let{_lView:o,notifyErrorHandler:s}of this._views)!i&&!Z1(o)||this.detectChangesInView(o,s,i);if(t++,r.executeInternalCallbacks(),!this._views.some(({_lView:o})=>Z1(o))&&(r.execute(),!this._views.some(({_lView:o})=>Z1(o))))break}}detectChangesInView(t,r,i){let o;i?(o=0,t[Ce]|=1024):o=64&t[Ce]?0:1,Cy(t,r,o)}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;Jy(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(X1,[]);[...this._bootstrapListeners,...r].forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Jy(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new U(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Jy(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function Z1(n){return ZC(n)}class Hce{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let tU=(()=>{class n{compileModuleSync(t){return new c1(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),o=zi(qr(t).declarations).reduce((s,a)=>{const c=Xe(a);return c&&s.push(new Hf(c)),s},[]);return new Hce(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Wce=(()=>{class n{constructor(){this.zone=ee(De),this.applicationRef=ee(rs)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Kce(){const n=ee(De),e=ee(oo);return t=>n.runOutsideAngular(()=>e.handleError(t))}let Yce=(()=>{class n{constructor(){this.subscription=new Yn,this.initialized=!1,this.zone=ee(De),this.pendingTasks=ee(qf)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{De.assertNotInAngularZone(),queueMicrotask(()=>{null!==t&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{De.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const is=new X("",{providedIn:"root",factory:()=>ee(is,it.Optional|it.SkipSelf)||function Xce(){return typeof $localize<"u"&&$localize.locale||ld}()}),J1=new X("");let oU=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function Rre(n="zone.js",e){return"noop"===n?new AV:"zone.js"===n?new De(e):n}(r?.ngZone,function iU(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const o=function Tie(n,e,t){return new a1(n,e,t)}(t.moduleType,this.injector,function rU(n){return[{provide:De,useFactory:n},{provide:jc,multi:!0,useFactory:()=>{const e=ee(Wce,{optional:!0});return()=>e.initialize()}},{provide:jc,multi:!0,useFactory:()=>{const e=ee(Yce);return()=>{e.initialize()}}},{provide:KL,useFactory:Kce}]}(()=>i)),s=o.injector.get(oo,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:c=>{s.handleError(c)}});o.onDestroy(()=>{Jy(this._modules,o),a.unsubscribe()})}),function J5(n,e,t){try{const r=t();return ap(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(s,i,()=>{const a=o.injector.get(Y1);return a.runInitializers(),a.donePromise.then(()=>(function mB(n){"string"==typeof n&&(gB=n.toLowerCase().replace(/_/g,"-"))}(o.injector.get(is,ld)||ld),this._moduleDoBootstrap(o),o))})})}bootstrapModule(t,r=[]){const i=eU({},r);return function qce(n,e,t){const r=new c1(t);return Promise.resolve(r)}(0,0,t).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(t){const r=t.injector.get(rs);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new U(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new U(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(J1,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||n)($(Ut))};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),Ra=null;const sU=new X("");function aU(n,e,t=[]){const r=`Platform: ${e}`,i=new X(r);return(o=[])=>{let s=eI();if(!s||s.injector.get(sU,!1)){const a=[...t,...o,{provide:i,useValue:!0}];n?n(a):function ele(n){if(Ra&&!Ra.get(sU,!1))throw new U(400,!1);(function Z5(){!function iZ(n){rF=n}(()=>{throw new U(600,!1)})})(),Ra=n;const e=n.get(oU);(function lU(n){n.get(aL,null)?.forEach(t=>t())})(n)}(function cU(n=[],e){return Ut.create({name:e,providers:[{provide:UE,useValue:"platform"},{provide:J1,useValue:new Set([()=>Ra=null])},...n]})}(a,r))}return function tle(n){const e=eI();if(!e)throw new U(401,!1);return e}()}}function eI(){return Ra?.get(oU)??null}const ale=aU(null,"core",[]);let cle=(()=>{class n{constructor(t){}static#e=this.\u0275fac=function(r){return new(r||n)($(rs))};static#t=this.\u0275mod=ot({type:n});static#n=this.\u0275inj=et({})}return n})();function el(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let RU=null;function Na(){return RU}class Ble{}const lt=new X("");let aI=(()=>{class n{historyGo(t){throw new Error("")}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=ne({token:n,factory:()=>ee(jle),providedIn:"platform"})}return n})();const Ule=new X("");let jle=(()=>{class n extends aI{constructor(){super(),this._doc=ee(lt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Na().getBaseHref(this._doc)}onPopState(t){const r=Na().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Na().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=ne({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function cI(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function NU(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function $s(n){return n&&"?"!==n[0]?"?"+n:n}let Fa=(()=>{class n{historyGo(t){throw new Error("")}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=ne({token:n,factory:()=>ee(LU),providedIn:"root"})}return n})();const FU=new X("");let LU=(()=>{class n extends Fa{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??ee(lt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return cI(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+$s(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){const s=this.prepareExternalUrl(i+$s(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){const s=this.prepareExternalUrl(i+$s(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(r){return new(r||n)($(aI),$(FU,8))};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),VU=(()=>{class n extends Fa{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){const r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=cI(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+$s(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+$s(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(r){return new(r||n)($(aI),$(FU,8))};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac})}return n})(),_r=(()=>{class n{constructor(t){this._subject=new Qe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function Hle(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(NU(BU(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+$s(r))}normalize(t){return n.stripTrailingSlash(function $le(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,BU(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+$s(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+$s(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static#e=this.normalizeQueryParams=$s;static#t=this.joinWithSlash=cI;static#n=this.stripTrailingSlash=NU;static#r=this.\u0275fac=function(r){return new(r||n)($(Fa))};static#i=this.\u0275prov=ne({token:n,factory:()=>function zle(){return new _r($(Fa))}(),providedIn:"root"})}return n})();function BU(n){return n.replace(/\/index.html$/,"")}class kue{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let uo=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new kue(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),YU(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{YU(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}static#e=this.\u0275fac=function(r){return new(r||n)(x(so),x(Xo),x($x))};static#t=this.\u0275dir=_e({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function YU(n,e){n.context.$implicit=e.item}let vI=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Oue,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){XU("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){XU("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static#e=this.\u0275fac=function(r){return new(r||n)(x(so),x(Xo))};static#t=this.\u0275dir=_e({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class Oue{constructor(){this.$implicit=null,this.ngIf=null}}function XU(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${sr(e)}'.`)}let tl=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=ot({type:n});static#n=this.\u0275inj=et({})}return n})();const ej="browser";function vv(n){return n===ej}function tj(n){return"server"===n}let ade=(()=>{class n{static#e=this.\u0275prov=ne({token:n,providedIn:"root",factory:()=>vv(ee(ro))?new cde(ee(lt),window):new ude})}return n})();class cde{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){const t=function lde(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}}class ude{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}}class Bde extends Ble{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class II extends Bde{static makeCurrent(){!function Vle(n){RU??=n}(new II)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Ude(){return pp=pp||document.querySelector("base"),pp?pp.getAttribute("href"):null}();return null==t?null:function jde(n){return new URL(n,document.baseURI).pathname}(t)}resetBaseElement(){pp=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Mue(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,o]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,e)}}let pp=null,$de=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac})}return n})();const TI=new X("");let uj=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new U(5101,!1);return this._eventNameToPlugin.set(t,r),r}static#e=this.\u0275fac=function(r){return new(r||n)($(TI),$(De))};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac})}return n})();class dj{constructor(e){this._doc=e}}const DI="ng-app-id";let hj=(()=>{class n{constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=tj(o),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${DI}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){const i=this.styleRef;if(i.has(t)){const o=i.get(t);return o.usage+=r,o.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===t)return i.delete(r),o.removeAttribute(DI),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(DI,this.appId),t.appendChild(s),s}}addStyleToHost(t,r){const i=this.getStyleElement(t,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||n)($(lt),$(N_),$(pE,8),$(ro))};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac})}return n})();const MI={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},SI=/%COMP%/g,Wde=new X("",{providedIn:"root",factory:()=>!0});function pj(n,e){return e.map(t=>t.replace(SI,n))}let AI=(()=>{class n{constructor(t,r,i,o,s,a,c,l=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=tj(a),this.defaultRenderer=new kI(t,s,c,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===wo.ShadowDom&&(r={...r,encapsulation:wo.Emulated});const i=this.getOrCreateRenderer(t,r);return i instanceof mj?i.applyToHost(t):i instanceof OI&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case wo.Emulated:o=new mj(c,l,r,this.appId,u,s,a,d);break;case wo.ShadowDom:return new Xde(c,l,t,r,s,a,this.nonce,d);default:o=new OI(c,l,r,u,s,a,d)}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||n)($(uj),$(hj),$(N_),$(Wde),$(lt),$(ro),$(De),$(pE))};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac})}return n})();class kI{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(MI[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(gj(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(gj(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new U(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const o=MI[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=MI[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Ma.DashCase|Ma.Important)?e.style.setProperty(t,r,i&Ma.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Ma.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){null!=e&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if("string"==typeof e&&!(e=Na().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function gj(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Xde extends kI{constructor(e,t,r,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=pj(i.id,i.styles);for(const u of l){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class OI extends kI{constructor(e,t,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=c?pj(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class mj extends OI{constructor(e,t,r,i,o,s,a,c){const l=i+"-"+r.id;super(e,t,r,o,s,a,c,l),this.contentAttr=function Kde(n){return"_ngcontent-%COMP%".replace(SI,n)}(l),this.hostAttr=function Qde(n){return"_nghost-%COMP%".replace(SI,n)}(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let Zde=(()=>{class n extends dj{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||n)($(lt))};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac})}return n})();const _j=["alt","control","meta","shift"],Jde={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ehe={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let the=(()=>{class n extends dj{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Na().onAndCancel(t,o.domEventName,s))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=n._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),_j.forEach(l=>{const u=r.indexOf(l);u>-1&&(r.splice(u,1),s+=l+".")}),s+=o,0!=r.length||0===o.length)return null;const c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(t,r){let i=Jde[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),_j.forEach(s=>{s!==i&&(0,ehe[s])(t)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#e=this.\u0275fac=function(r){return new(r||n)($(lt))};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac})}return n})();const vj=[{provide:ro,useValue:ej},{provide:aL,useValue:function nhe(){II.makeCurrent()},multi:!0},{provide:lt,useFactory:function ihe(){return function mJ(n){dE=n}(document),document},deps:[]}],ohe=aU(ale,"browser",vj),she=new X(""),bj=[{provide:Zy,useClass:class zde{addToWindow(e){St.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new U(5103,!1);return o},St.getAllAngularTestabilities=()=>e.getAllTestabilities(),St.getAllAngularRootElements=()=>e.getAllRootElements(),St.frameworkStabilizers||(St.frameworkStabilizers=[]),St.frameworkStabilizers.push(r=>{const i=St.getAllAngularTestabilities();let o=i.length;const s=function(){o--,0==o&&r()};i.forEach(a=>{a.whenStable(s)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?Na().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:Y5,useClass:W1,deps:[De,K1,Zy]},{provide:W1,useClass:W1,deps:[De,K1,Zy]}],wj=[{provide:UE,useValue:"root"},{provide:oo,useFactory:function rhe(){return new oo},deps:[]},{provide:TI,useClass:Zde,multi:!0,deps:[lt,De,ro]},{provide:TI,useClass:the,multi:!0,deps:[lt]},AI,hj,uj,{provide:Ux,useExisting:AI},{provide:class dde{},useClass:$de,deps:[]},[]];let Cj=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:N_,useValue:t.appId}]}}static#e=this.\u0275fac=function(r){return new(r||n)($(she,12))};static#t=this.\u0275mod=ot({type:n});static#n=this.\u0275inj=et({providers:[...wj,...bj],imports:[tl,cle]})}return n})(),ahe=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static#e=this.\u0275fac=function(r){return new(r||n)($(lt))};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),PI=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=ne({token:n,factory:function(r){let i=null;return i=r?new(r||n):$(dhe),i},providedIn:"root"})}return n})(),dhe=(()=>{class n extends PI{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case Pr.NONE:return r;case Pr.HTML:return Qo(r,"HTML")?ji(r):s3(this._doc,String(r)).toString();case Pr.STYLE:return Qo(r,"Style")?ji(r):r;case Pr.SCRIPT:if(Qo(r,"Script"))return ji(r);throw new U(5200,!1);case Pr.URL:return Qo(r,"URL")?ji(r):cy(String(r));case Pr.RESOURCE_URL:if(Qo(r,"ResourceURL"))return ji(r);throw new U(5201,!1);default:throw new U(5202,!1)}}bypassSecurityTrustHtml(t){return function Gee(n){return new Bee(n)}(t)}bypassSecurityTrustStyle(t){return function qee(n){return new Uee(n)}(t)}bypassSecurityTrustScript(t){return function Wee(n){return new jee(n)}(t)}bypassSecurityTrustUrl(t){return function Kee(n){return new zee(n)}(t)}bypassSecurityTrustResourceUrl(t){return function Qee(n){return new $ee(n)}(t)}static#e=this.\u0275fac=function(r){return new(r||n)($(lt))};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Cv(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}function La(n){return this instanceof La?(this.v=n,this):new La(n)}function Sj(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function LI(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,c){!function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}(a,c,(s=n[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const VI=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Aj(n){return _t(n?.then)}function kj(n){return _t(n[VC])}function Oj(n){return Symbol.asyncIterator&&_t(n?.[Symbol.asyncIterator])}function Pj(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Rj=function Ohe(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Nj(n){return _t(n?.[Rj])}function Fj(n){return function Mj(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(h){r[h]&&(i[h]=function(f){return new Promise(function(y,E){o.push([h,f,y,E])>1||a(h,f)})})}function a(h,f){try{!function c(h){h.value instanceof La?Promise.resolve(h.value.v).then(l,u):d(o[0][2],h)}(r[h](f))}catch(y){d(o[0][3],y)}}function l(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),o.shift(),o.length&&a(o[0][0],o[0][1])}}(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield La(t.read());if(i)return yield La(void 0);yield yield La(r)}}finally{t.releaseLock()}})}function Lj(n){return _t(n?.getReader)}function Rr(n){if(n instanceof qt)return n;if(null!=n){if(kj(n))return function Phe(n){return new qt(e=>{const t=n[VC]();if(_t(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(VI(n))return function Rhe(n){return new qt(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(Aj(n))return function Nhe(n){return new qt(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,lF)})}(n);if(Oj(n))return Vj(n);if(Nj(n))return function Fhe(n){return new qt(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(Lj(n))return function Lhe(n){return Vj(Fj(n))}(n)}throw Pj(n)}function Vj(n){return new qt(e=>{(function Vhe(n,e){var t,r,i,o;return function Tj(n,e,t,r){return new(t||(t=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(u.value).then(a,c)}l((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=Sj(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function qs(n,e,t,r=0,i=!1){const o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Ev(n,e=0){return yn((t,r)=>{t.subscribe(fn(r,i=>qs(r,n,()=>r.next(i),e),()=>qs(r,n,()=>r.complete(),e),i=>qs(r,n,()=>r.error(i),e)))})}function xv(n,e=0){return yn((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function Bj(n,e){if(!n)throw new Error("Iterable cannot be null");return new qt(t=>{qs(t,e,()=>{const r=n[Symbol.asyncIterator]();qs(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function fr(n,e){return e?function Hhe(n,e){if(null!=n){if(kj(n))return function Bhe(n,e){return Rr(n).pipe(xv(e),Ev(e))}(n,e);if(VI(n))return function jhe(n,e){return new qt(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(Aj(n))return function Uhe(n,e){return Rr(n).pipe(xv(e),Ev(e))}(n,e);if(Oj(n))return Bj(n,e);if(Nj(n))return function zhe(n,e){return new qt(t=>{let r;return qs(t,e,()=>{r=n[Rj](),qs(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void t.error(s)}o?t.complete():t.next(i)},0,!0)}),()=>_t(r?.return)&&r.return()})}(n,e);if(Lj(n))return function $he(n,e){return Bj(Fj(n),e)}(n,e)}throw Pj(n)}(n,e):Rr(n)}const{isArray:Ghe}=Array,{getPrototypeOf:qhe,prototype:Whe,keys:Khe}=Object;function Uj(n){if(1===n.length){const e=n[0];if(Ghe(e))return{args:e,keys:null};if(function Qhe(n){return n&&"object"==typeof n&&qhe(n)===Whe}(e)){const t=Khe(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function jj(n){return n&&_t(n.schedule)}function BI(n){return n[n.length-1]}function zj(n){return _t(BI(n))?n.pop():void 0}function mp(n){return jj(BI(n))?n.pop():void 0}const{isArray:Xhe}=Array;function UI(n){return Pe(e=>function Zhe(n,e){return Xhe(e)?n(...e):n(e)}(n,e))}function $j(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Hj(...n){const e=zj(n),{args:t,keys:r}=Uj(n),i=new qt(o=>{const{length:s}=t;if(!s)return void o.complete();const a=new Array(s);let c=s,l=s;for(let u=0;u<s;u++){let d=!1;Rr(t[u]).subscribe(fn(o,h=>{d||(d=!0,l--),a[u]=h},()=>c--,void 0,()=>{(!c||!d)&&(l||o.next(r?$j(r,a):a),o.complete())}))}});return e?i.pipe(UI(e)):i}let Gj=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static#e=this.\u0275fac=function(r){return new(r||n)(x(Do),x(Bn))};static#t=this.\u0275dir=_e({type:n})}return n})(),nl=(()=>{class n extends Gj{static#e=this.\u0275fac=(()=>{let t;return function(i){return(t||(t=mr(n)))(i||n)}})();static#t=this.\u0275dir=_e({type:n,features:[Et]})}return n})();const os=new X(""),efe={provide:os,useExisting:Qt(()=>Zr),multi:!0},nfe=new X("");let Zr=(()=>{class n extends Gj{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function tfe(){const n=Na()?Na().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static#e=this.\u0275fac=function(r){return new(r||n)(x(Do),x(Bn),x(nfe,8))};static#t=this.\u0275dir=_e({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&Q("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[gn([efe]),Et]})}return n})();function Va(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}const Jr=new X(""),Ba=new X("");function Iv(n){return null}function nz(n){return null!=n}function rz(n){return ap(n)?fr(n):n}function iz(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function oz(n,e){return e.map(t=>t(n))}function sz(n){return n.map(e=>function ife(n){return!n.validate}(e)?e:t=>e.validate(t))}function jI(n){return null!=n?function az(n){if(!n)return null;const e=n.filter(nz);return 0==e.length?null:function(t){return iz(oz(t,e))}}(sz(n)):null}function zI(n){return null!=n?function cz(n){if(!n)return null;const e=n.filter(nz);return 0==e.length?null:function(t){return Hj(oz(t,e).map(rz)).pipe(Pe(iz))}}(sz(n)):null}function lz(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function $I(n){return n?Array.isArray(n)?n:[n]:[]}function Tv(n,e){return Array.isArray(n)?n.includes(e):n===e}function hz(n,e){const t=$I(e);return $I(n).forEach(i=>{Tv(t,i)||t.push(i)}),t}function fz(n,e){return $I(e).filter(t=>!Tv(n,t))}class pz{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=jI(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=zI(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class pi extends pz{get formDirective(){return null}get path(){return null}}class Ua extends pz{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class gz{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Si=(()=>{class n extends gz{constructor(t){super(t)}static#e=this.\u0275fac=function(r){return new(r||n)(x(Ua,2))};static#t=this.\u0275dir=_e({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&zs("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Et]})}return n})(),Jn=(()=>{class n extends gz{constructor(t){super(t)}static#e=this.\u0275fac=function(r){return new(r||n)(x(pi,10))};static#t=this.\u0275dir=_e({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&zs("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Et]})}return n})();const _p="VALID",Mv="INVALID",gd="PENDING",yp="DISABLED";function qI(n){return(Sv(n)?n.validators:n)||null}function WI(n,e){return(Sv(e)?e.asyncValidators:n)||null}function Sv(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class KI{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===_p}get invalid(){return this.status===Mv}get pending(){return this.status==gd}get disabled(){return this.status===yp}get enabled(){return this.status!==yp}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(hz(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(hz(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(fz(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(fz(e,this._rawAsyncValidators))}hasValidator(e){return Tv(this._rawValidators,e)}hasAsyncValidator(e){return Tv(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=gd,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=yp,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=_p,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===_p||this.status===gd)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?yp:_p}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=gd,this._hasOwnPendingAsyncValidator=!0;const t=rz(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Qe,this.statusChanges=new Qe}_calculateStatus(){return this._allControlsDisabled()?yp:this.errors?Mv:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(gd)?gd:this._anyControlsHaveStatus(Mv)?Mv:_p}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Sv(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function cfe(n){return Array.isArray(n)?jI(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function lfe(n){return Array.isArray(n)?zI(n):n||null}(this._rawAsyncValidators)}}class QI extends KI{constructor(e,t,r){super(qI(t),WI(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function yz(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new U(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function _z(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new U(1e3,"");if(!r[t])throw new U(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const md=new X("CallSetDisabledState",{providedIn:"root",factory:()=>Av}),Av="always";function vp(n,e,t=Av){YI(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function hfe(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&vz(n,e)})}(n,e),function pfe(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function ffe(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&vz(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function dfe(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Pv(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function YI(n,e){const t=function uz(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(lz(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function dz(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(lz(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Pv(e._rawValidators,i),Pv(e._rawAsyncValidators,i)}function vz(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const vfe={provide:pi,useExisting:Qt(()=>Mn)},bp=Promise.resolve();let Mn=(()=>{class n extends pi{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Qe,this.form=new QI({},jI(t),zI(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){bp.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),vp(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){bp.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){bp.then(()=>{const r=this._findContainer(t.path),i=new QI({});(function bz(n,e){YI(n,e)})(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){bp.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){bp.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function wz(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static#e=this.\u0275fac=function(r){return new(r||n)(x(Jr,10),x(Ba,10),x(md,8))};static#t=this.\u0275dir=_e({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&Q("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[Bt.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[gn([vfe]),Et]})}return n})();function Cz(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function Ez(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const xz=class extends KI{constructor(e=null,t,r){super(qI(t),WI(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Sv(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=Ez(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Cz(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Cz(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){Ez(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Cfe={provide:Ua,useExisting:Qt(()=>gi)},Dz=Promise.resolve();let gi=(()=>{class n extends Ua{constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new xz,this._registered=!1,this.name="",this.update=new Qe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function JI(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===Zr?t=o:function _fe(n){return Object.getPrototypeOf(n.constructor)===nl}(o)?r=o:i=o}),i||r||t||null}(0,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function ZI(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){vp(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Dz.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&el(r);Dz.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function kv(n,e){return[...e.path,n]}(t,this._parent):[t]}static#e=this.\u0275fac=function(r){return new(r||n)(x(pi,9),x(Jr,10),x(Ba,10),x(os,10),x(Hu,8),x(md,8))};static#t=this.\u0275dir=_e({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[Bt.None,"disabled","isDisabled"],model:[Bt.None,"ngModel","model"],options:[Bt.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[gn([Cfe]),Et,io]})}return n})(),er=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=_e({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return n})();const Efe={provide:os,useExisting:Qt(()=>eT),multi:!0};let eT=(()=>{class n extends nl{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}static#e=this.\u0275fac=(()=>{let t;return function(i){return(t||(t=mr(n)))(i||n)}})();static#t=this.\u0275dir=_e({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){1&r&&Q("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[gn([Efe]),Et]})}return n})();const Ofe={provide:os,useExisting:Qt(()=>iT),multi:!0};function Rz(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let iT=(()=>{class n extends nl{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const i=Rz(this._getOptionId(t),t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function Pfe(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static#e=this.\u0275fac=(()=>{let t;return function(i){return(t||(t=mr(n)))(i||n)}})();static#t=this.\u0275dir=_e({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){1&r&&Q("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[gn([Ofe]),Et]})}return n})(),wp=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(Rz(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(r){return new(r||n)(x(Bn),x(Do),x(iT,9))};static#t=this.\u0275dir=_e({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return n})();const Rfe={provide:os,useExisting:Qt(()=>oT),multi:!0};function Nz(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let oT=(()=>{class n extends nl{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const i=[],o=r.selectedOptions;if(void 0!==o){const s=o;for(let a=0;a<s.length;a++){const l=this._getOptionValue(s[a].value);i.push(l)}}else{const s=r.options;for(let a=0;a<s.length;a++){const c=s[a];if(c.selected){const l=this._getOptionValue(c.value);i.push(l)}}}this.value=i,t(i)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function Nfe(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static#e=this.\u0275fac=(()=>{let t;return function(i){return(t||(t=mr(n)))(i||n)}})();static#t=this.\u0275dir=_e({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){1&r&&Q("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[gn([Rfe]),Et]})}return n})(),Cp=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(Nz(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(Nz(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(r){return new(r||n)(x(Bn),x(Do),x(oT,9))};static#t=this.\u0275dir=_e({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return n})();function Lz(n){return"number"==typeof n?n:parseFloat(n)}let rl=(()=>{class n{constructor(){this._validator=Iv}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Iv,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=_e({type:n,features:[io]})}return n})();const Ffe={provide:Jr,useExisting:Qt(()=>sT),multi:!0};let sT=(()=>{class n extends rl{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=t=>Lz(t),this.createValidator=t=>function Qj(n){return e=>{if(Va(e.value)||Va(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(t)}static#e=this.\u0275fac=(()=>{let t;return function(i){return(t||(t=mr(n)))(i||n)}})();static#t=this.\u0275dir=_e({type:n,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,i){2&r&&Hi("max",i._enabled?i.max:null)},inputs:{max:"max"},features:[gn([Ffe]),Et]})}return n})();const Lfe={provide:Jr,useExisting:Qt(()=>aT),multi:!0};let aT=(()=>{class n extends rl{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=t=>Lz(t),this.createValidator=t=>function Kj(n){return e=>{if(Va(e.value)||Va(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(t)}static#e=this.\u0275fac=(()=>{let t;return function(i){return(t||(t=mr(n)))(i||n)}})();static#t=this.\u0275dir=_e({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){2&r&&Hi("min",i._enabled?i.min:null)},inputs:{min:"min"},features:[gn([Lfe]),Et]})}return n})(),Hfe=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=ot({type:n});static#n=this.\u0275inj=et({})}return n})(),Nv=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:md,useValue:t.callSetDisabledState??Av}]}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=ot({type:n});static#n=this.\u0275inj=et({imports:[Hfe]})}return n})();function be(...n){return fr(n,mp(n))}function Fv(...n){const e=mp(n),t=zj(n),{args:r,keys:i}=Uj(n);if(0===r.length)return fr([],e);const o=new qt(function Wfe(n,e,t=ba){return r=>{$z(e,()=>{const{length:i}=n,o=new Array(i);let s=i,a=i;for(let c=0;c<i;c++)$z(e,()=>{const l=fr(n[c],e);let u=!1;l.subscribe(fn(r,d=>{o[c]=d,u||(u=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,i?s=>$j(i,s):ba));return t?o.pipe(UI(t)):o}function $z(n,e,t){n?qs(t,n,e):e()}const Lv=OC(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function yr(n,e,t=1/0){return _t(e)?yr((r,i)=>Pe((o,s)=>e(r,o,i,s))(Rr(n(r,i))),t):("number"==typeof e&&(t=e),yn((r,i)=>function Kfe(n,e,t,r,i,o,s,a){const c=[];let l=0,u=0,d=!1;const h=()=>{d&&!c.length&&!l&&e.complete()},f=E=>l<r?y(E):c.push(E),y=E=>{o&&e.next(E),l++;let I=!1;Rr(t(E,u++)).subscribe(fn(e,k=>{i?.(k),o?f(k):e.next(k)},()=>{I=!0},void 0,()=>{if(I)try{for(l--;c.length&&l<r;){const k=c.shift();s?qs(e,s,()=>y(k)):y(k)}h()}catch(k){e.error(k)}}))};return n.subscribe(fn(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,n,t)))}function _d(n=1/0){return yr(ba,n)}function yd(...n){return function Qfe(){return _d(1)}()(fr(n,mp(n)))}function Ep(n){return new qt(e=>{Rr(n()).subscribe(e)})}function vd(n,e){const t=_t(n)?n:()=>n,r=i=>i.error(t());return new qt(e?i=>e.schedule(r,0,i):r)}const ss=new qt(n=>n.complete());function lT(){return yn((n,e)=>{let t=null;n._refCount++;const r=fn(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class uT extends qt{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,fF(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Yn;const t=this.getSubject();e.add(this.source.subscribe(fn(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Yn.EMPTY)}return e}refCount(){return lT()(this)}}function Ai(n,e){return yn((t,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();t.subscribe(fn(r,c=>{i?.unsubscribe();let l=0;const u=o++;Rr(n(c,u)).subscribe(i=fn(r,d=>r.next(e?e(c,d,u,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Sn(n){return n<=0?()=>ss:yn((e,t)=>{let r=0;e.subscribe(fn(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function dT(...n){const e=mp(n);return yn((t,r)=>{(e?yd(n,t,e):yd(n,t)).subscribe(r)})}function An(n,e){return yn((t,r)=>{let i=0;t.subscribe(fn(r,o=>n.call(e,o,i++)&&r.next(o)))})}function Vv(n){return yn((e,t)=>{let r=!1;e.subscribe(fn(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Hz(n=Xfe){return yn((e,t)=>{let r=!1;e.subscribe(fn(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function Xfe(){return new Lv}function il(n,e){const t=arguments.length>=2;return r=>r.pipe(n?An((i,o)=>n(i,o,r)):ba,Sn(1),t?Vv(e):Hz(()=>new Lv))}function bd(n,e){return _t(e)?yr(n,e,1):yr(n,1)}function kn(n,e,t){const r=_t(n)||e||t?{next:n,error:e,complete:t}:n;return r?yn((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(fn(o,c=>{var l;null===(l=r.next)||void 0===l||l.call(r,c),o.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),o.complete()},c=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,c),o.error(c)},()=>{var c,l;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):ba}function ol(n){return yn((e,t)=>{let o,r=null,i=!1;r=e.subscribe(fn(t,void 0,void 0,s=>{o=Rr(n(s,ol(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function hT(n){return n<=0?()=>ss:yn((e,t)=>{let r=[];e.subscribe(fn(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Gz(n){return Pe(()=>n)}function Bv(n){return yn((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Uv(n){return yn((e,t)=>{Rr(n).subscribe(fn(t,()=>t.complete(),Zh)),!t.closed&&e.subscribe(t)})}const Ye="primary",xp=Symbol("RouteTitle");class tpe{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function wd(n){return new tpe(n)}function npe(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=n[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function as(n,e){const t=n?fT(n):void 0,r=e?fT(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!qz(n[i],e[i]))return!1;return!0}function fT(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function qz(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}return n===e}function Wz(n){return n.length>0?n[n.length-1]:null}function ja(n){return function qfe(n){return!!n&&(n instanceof qt||_t(n.lift)&&_t(n.subscribe))}(n)?n:ap(n)?fr(Promise.resolve(n)):be(n)}const ipe={exact:function Yz(n,e,t){if(!sl(n.segments,e.segments)||!jv(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!Yz(n.children[r],e.children[r],t))return!1;return!0},subset:Xz},Kz={exact:function ope(n,e){return as(n,e)},subset:function spe(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>qz(n[t],e[t]))},ignored:()=>!0};function Qz(n,e,t){return ipe[t.paths](n.root,e.root,t.matrixParams)&&Kz[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Xz(n,e,t){return Zz(n,e,e.segments,t)}function Zz(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!sl(i,t)||e.hasChildren()||!jv(i,t,r))}if(n.segments.length===t.length){if(!sl(n.segments,t)||!jv(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!Xz(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(sl(n.segments,i)&&jv(n.segments,i,r)&&n.children[Ye])&&Zz(n.children[Ye],e,o,r)}}function jv(n,e,t){return e.every((r,i)=>Kz[t](n[i].parameters,r.parameters))}class Cd{constructor(e=new Lt([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=wd(this.queryParams),this._queryParamMap}toString(){return lpe.serialize(this)}}class Lt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return zv(this)}}class Ip{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=wd(this.parameters),this._parameterMap}toString(){return t6(this)}}function sl(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Ed=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=ne({token:n,factory:()=>new pT,providedIn:"root"})}return n})();class pT{parse(e){const t=new bpe(e);return new Cd(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Tp(e.root,!0)}`,r=function hpe(n){const e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${$v(t)}=${$v(i)}`).join("&"):`${$v(t)}=${$v(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function upe(n){return encodeURI(n)}(e.fragment)}`:""}`}}const lpe=new pT;function zv(n){return n.segments.map(e=>t6(e)).join("/")}function Tp(n,e){if(!n.hasChildren())return zv(n);if(e){const t=n.children[Ye]?Tp(n.children[Ye],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==Ye&&r.push(`${i}:${Tp(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function cpe(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===Ye&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==Ye&&(t=t.concat(e(i,r)))}),t}(n,(r,i)=>i===Ye?[Tp(n.children[Ye],!1)]:[`${i}:${Tp(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ye]?`${zv(n)}/${t[0]}`:`${zv(n)}/(${t.join("//")})`}}function Jz(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function $v(n){return Jz(n).replace(/%3B/gi,";")}function gT(n){return Jz(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Hv(n){return decodeURIComponent(n)}function e6(n){return Hv(n.replace(/\+/g,"%20"))}function t6(n){return`${gT(n.path)}${function dpe(n){return Object.entries(n).map(([e,t])=>`;${gT(e)}=${gT(t)}`).join("")}(n.parameters)}`}const fpe=/^[^\/()?;#]+/;function mT(n){const e=n.match(fpe);return e?e[0]:""}const ppe=/^[^\/()?;=#]+/,mpe=/^[^=?&#]+/,ype=/^[^&#]+/;class bpe{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Lt([],{}):new Lt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Ye]=new Lt(e,t)),r}parseSegment(){const e=mT(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new U(4009,!1);return this.capture(e),new Ip(Hv(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function gpe(n){const e=n.match(ppe);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=mT(this.remaining);i&&(r=i,this.capture(r))}e[Hv(t)]=Hv(r)}parseQueryParam(e){const t=function _pe(n){const e=n.match(mpe);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const s=function vpe(n){const e=n.match(ype);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=e6(t),o=e6(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=mT(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new U(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Ye);const s=this.parseChildren();t[o]=1===Object.keys(s).length?s[Ye]:new Lt([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new U(4011,!1)}}function n6(n){return n.segments.length>0?new Lt([],{[Ye]:n}):n}function r6(n){const e={};for(const[r,i]of Object.entries(n.children)){const o=r6(i);if(r===Ye&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function wpe(n){if(1===n.numberOfChildren&&n.children[Ye]){const e=n.children[Ye];return new Lt(n.segments.concat(e.segments),e.children)}return n}(new Lt(n.segments,e))}function xd(n){return n instanceof Cd}function i6(n){let e;const i=n6(function t(o){const s={};for(const c of o.children){const l=t(c);s[c.outlet]=l}const a=new Lt(o.url,s);return o===n&&(e=a),a}(n.root));return e??i}function o6(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(0===e.length)return _T(i,i,i,t,r);const o=function Epe(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new a6(!0,0,n);let e=0,t=!1;const r=n.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new a6(t,e,r)}(e);if(o.toRoot())return _T(i,i,new Lt([],{}),t,r);const s=function xpe(n,e,t){if(n.isAbsolute)return new qv(e,!0,0);if(!t)return new qv(e,!1,NaN);if(null===t.parent)return new qv(t,!0,0);const r=Gv(n.commands[0])?0:1;return function Ipe(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new U(4005,!1);i=r.segments.length}return new qv(r,!1,i-o)}(t,t.segments.length-1+r,n.numberOfDoubleDots)}(o,i,n),a=s.processChildren?Mp(s.segmentGroup,s.index,o.commands):c6(s.segmentGroup,s.index,o.commands);return _T(i,s.segmentGroup,a,t,r)}function Gv(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Dp(n){return"object"==typeof n&&null!=n&&n.outlets}function _T(n,e,t,r,i){let s,o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`}),s=n===e?t:s6(n,e,t);const a=n6(r6(s));return new Cd(a,o,i)}function s6(n,e,t){const r={};return Object.entries(n.children).forEach(([i,o])=>{r[i]=o===e?t:s6(o,e,t)}),new Lt(n.segments,r)}class a6{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Gv(r[0]))throw new U(4003,!1);const i=r.find(Dp);if(i&&i!==Wz(r))throw new U(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class qv{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function c6(n,e,t){if(n??=new Lt([],{}),0===n.segments.length&&n.hasChildren())return Mp(n,e,t);const r=function Dpe(n,e,t){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;const s=n.segments[i],a=t[r];if(Dp(a))break;const c=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&void 0===c)break;if(c&&l&&"object"==typeof l&&void 0===l.outlets){if(!u6(c,l,s))return o;r+=2}else{if(!u6(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const o=new Lt(n.segments.slice(0,r.pathIndex),{});return o.children[Ye]=new Lt(n.segments.slice(r.pathIndex),n.children),Mp(o,0,i)}return r.match&&0===i.length?new Lt(n.segments,{}):r.match&&!n.hasChildren()?yT(n,e,t):r.match?Mp(n,0,i):yT(n,e,t)}function Mp(n,e,t){if(0===t.length)return new Lt(n.segments,{});{const r=function Tpe(n){return Dp(n[0])?n[0].outlets:{[Ye]:n}}(t),i={};if(Object.keys(r).some(o=>o!==Ye)&&n.children[Ye]&&1===n.numberOfChildren&&0===n.children[Ye].segments.length){const o=Mp(n.children[Ye],e,t);return new Lt(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=c6(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new Lt(n.segments,i)}}function yT(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const o=t[i];if(Dp(o)){const c=Mpe(o.outlets);return new Lt(r,c)}if(0===i&&Gv(t[0])){r.push(new Ip(n.segments[e].path,l6(t[0]))),i++;continue}const s=Dp(o)?o.outlets[Ye]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Gv(a)?(r.push(new Ip(s,l6(a))),i+=2):(r.push(new Ip(s,{})),i++)}return new Lt(r,{})}function Mpe(n){const e={};return Object.entries(n).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[t]=yT(new Lt([],{}),0,r))}),e}function l6(n){const e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function u6(n,e,t){return n==t.path&&as(e,t.parameters)}const Sp="imperative";var ft=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(ft||{});class cs{constructor(e,t){this.id=e,this.url=t}}class Wv extends cs{constructor(e,t,r="imperative",i=null){super(e,t),this.type=ft.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ws extends cs{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=ft.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var ho=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(ho||{}),Kv=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Kv||{});class Id extends cs{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=ft.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Td extends cs{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=ft.NavigationSkipped}}class Qv extends cs{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=ft.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class d6 extends cs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=ft.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Spe extends cs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=ft.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ape extends cs{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=ft.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class kpe extends cs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=ft.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ope extends cs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=ft.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ppe{constructor(e){this.route=e,this.type=ft.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Rpe{constructor(e){this.route=e,this.type=ft.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Npe{constructor(e){this.snapshot=e,this.type=ft.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fpe{constructor(e){this.snapshot=e,this.type=ft.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Lpe{constructor(e){this.snapshot=e,this.type=ft.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vpe{constructor(e){this.snapshot=e,this.type=ft.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class h6{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=ft.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class vT{}class bT{constructor(e){this.url=e}}class Bpe{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Ap,this.attachRef=null}}let Ap=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Bpe,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class f6{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=wT(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=wT(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=CT(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return CT(e,this._root).map(t=>t.value)}}function wT(n,e){if(n===e.value)return e;for(const t of e.children){const r=wT(n,t);if(r)return r}return null}function CT(n,e){if(n===e.value)return[e];for(const t of e.children){const r=CT(n,t);if(r.length)return r.unshift(e),r}return[]}class Po{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Dd(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class p6 extends f6{constructor(e,t){super(e),this.snapshot=t,IT(this,e)}toString(){return this.snapshot.toString()}}function g6(n){const e=function Upe(n){const o=new xT([],{},{},"",{},Ye,n,null,{});return new m6("",new Po(o,[]))}(n),t=new ci([new Ip("",{})]),r=new ci({}),i=new ci({}),o=new ci({}),s=new ci(""),a=new ut(t,r,o,s,i,Ye,n,e.root);return a.snapshot=e.root,new p6(new Po(a,[]),e)}class ut{constructor(e,t,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Pe(l=>l[xp]))??be(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Pe(e=>wd(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Pe(e=>wd(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ET(n,e,t="emptyOnly"){let r;const{routeConfig:i}=n;return r=null===e||"always"!==t&&""!==i?.path&&(e.component||e.routeConfig?.loadComponent)?{params:{...n.params},data:{...n.data},resolve:{...n.data,...n._resolvedData??{}}}:{params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.data,...i?.data,...n._resolvedData}},i&&y6(i)&&(r.resolve[xp]=i.title),r}class xT{get title(){return this.data?.[xp]}constructor(e,t,r,i,o,s,a,c,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=wd(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=wd(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class m6 extends f6{constructor(e,t){super(t),this.url=e,IT(this,t)}toString(){return _6(this._root)}}function IT(n,e){e.value._routerState=n,e.children.forEach(t=>IT(n,t))}function _6(n){const e=n.children.length>0?` { ${n.children.map(_6).join(", ")} } `:"";return`${n.value}${e}`}function TT(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,as(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),as(e.params,t.params)||n.paramsSubject.next(t.params),function rpe(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!as(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),as(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function DT(n,e){const t=as(n.params,e.params)&&function ape(n,e){return sl(n,e)&&n.every((t,r)=>as(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||DT(n.parent,e.parent))}function y6(n){return"string"==typeof n.title||null===n.title}let Md=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ye,this.activateEvents=new Qe,this.deactivateEvents=new Qe,this.attachEvents=new Qe,this.detachEvents=new Qe,this.parentContexts=ee(Ap),this.location=ee(so),this.changeDetector=ee(Hu),this.environmentInjector=ee(Ui),this.inputBinder=ee(Yv,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new U(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new U(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new U(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new U(4013,!1);this._activatedRoute=t;const i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new jpe(t,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=_e({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[io]})}return n})();class jpe{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===ut?this.route:e===Ap?this.childContexts:this.parent.get(e,t)}}const Yv=new X("");let v6=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,i=Fv([r.queryParams,r.params,r.data]).pipe(Ai(([o,s,a],c)=>(a={...o,...s,...a},0===c?be(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const s=function Lle(n){const e=Xe(n);if(!e)return null;const t=new Hf(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(s)for(const{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,i)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac})}return n})();function kp(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function $pe(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return kp(n,r,i);return kp(n,r)})}(n,e,t);return new Po(r,i)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>kp(n,a)),s}}const r=function Hpe(n){return new ut(new ci(n.url),new ci(n.params),new ci(n.queryParams),new ci(n.fragment),new ci(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(o=>kp(n,o));return new Po(r,i)}}const b6="ngNavigationCancelingError";function w6(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=xd(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=C6(!1,ho.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function C6(n,e){const t=new Error(`NavigationCancelingError: ${n||""}`);return t[b6]=!0,t.cancellationCode=e,t}function E6(n){return!!n&&n[b6]}let x6=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=Te({type:n,selectors:[["ng-component"]],standalone:!0,features:[ns],decls:1,vars:0,template:function(r,i){1&r&&te(0,"router-outlet")},dependencies:[Md],encapsulation:2})}return n})();function MT(n){const e=n.children&&n.children.map(MT),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Ye&&(t.component=x6),t}function ls(n){return n.outlet||Ye}function Op(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class Zpe{constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),TT(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Dd(t);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Dd(e);for(const s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Dd(e);for(const s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){const i=Dd(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Vpe(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Fpe(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(TT(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),TT(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=Op(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}}class I6{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Xv{constructor(e,t){this.component=e,this.route=t}}function Jpe(n,e,t){const r=n._root;return Pp(r,e?e._root:null,t,[r.value])}function Sd(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function _J(n){return null!==O_(n)}(n)?e.get(n):n:r}function Pp(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Dd(e);return n.children.forEach(s=>{(function tge(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const c=function nge(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!sl(n.url,e.url);case"pathParamsOrQueryParamsChange":return!sl(n.url,e.url)||!as(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!DT(n,e)||!as(n.queryParams,e.queryParams);default:return!DT(n,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new I6(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Pp(n,e,o.component?a?a.children:null:t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Xv(a.outlet.component,s))}else s&&Rp(e,a,i),i.canActivateChecks.push(new I6(r)),Pp(n,null,o.component?a?a.children:null:t,r,i)})(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Rp(a,t.getContext(s),i)),i}function Rp(n,e,t){const r=Dd(n),i=n.value;Object.entries(r).forEach(([o,s])=>{Rp(s,i.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new Xv(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Np(n){return"function"==typeof n}function T6(n){return n instanceof Lv||"EmptyError"===n?.name}const Zv=Symbol("INITIAL_VALUE");function Ad(){return Ai(n=>Fv(n.map(e=>e.pipe(Sn(1),dT(Zv)))).pipe(Pe(e=>{for(const t of e)if(!0!==t){if(t===Zv)return Zv;if(!1===t||t instanceof Cd)return t}return!0}),An(e=>e!==Zv),Sn(1)))}function D6(n){return function _Z(...n){return uF(n)}(kn(e=>{if(xd(e))throw w6(0,e)}),Pe(e=>!0===e))}class ST{constructor(e){this.segmentGroup=e||null}}class AT extends Error{constructor(e){super(),this.urlTree=e}}function kd(n){return vd(new ST(n))}class wge{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return be(r);if(i.numberOfChildren>1||!i.children[Ye])return vd(new U(4e3,!1));i=i.children[Ye]}}applyRedirectCommands(e,t,r){const i=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t.startsWith("/"))throw new AT(i);return i}applyRedirectCreateUrlTree(e,t,r,i){const o=this.createSegmentGroup(e,t.root,r,i);return new Cd(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Object.entries(e).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){const o=this.createSegments(e,t.segments,r,i);let s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new Lt(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new U(4001,!1);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}const kT={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Cge(n,e,t,r,i){const o=OT(n,e,t);return o.matched?(r=function qpe(n,e){return n.providers&&!n._injector&&(n._injector=Ny(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,r),function yge(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?be(i.map(s=>{const a=Sd(s,n);return ja(function cge(n){return n&&Np(n.canMatch)}(a)?a.canMatch(e,t):$c(n,()=>a(e,t)))})).pipe(Ad(),D6()):be(!0)}(r,e,t).pipe(Pe(s=>!0===s?o:{...kT}))):be(o)}function OT(n,e,t){if("**"===e.path)return function Ege(n){return{matched:!0,parameters:n.length>0?Wz(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}(t);if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...kT}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||npe)(t,n,e);if(!i)return{...kT};const o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function M6(n,e,t,r){return t.length>0&&function Tge(n,e,t){return t.some(r=>Jv(n,e,r)&&ls(r)!==Ye)}(n,t,r)?{segmentGroup:new Lt(e,Ige(r,new Lt(t,n.children))),slicedSegments:[]}:0===t.length&&function Dge(n,e,t){return t.some(r=>Jv(n,e,r))}(n,t,r)?{segmentGroup:new Lt(n.segments,xge(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Lt(n.segments,n.children),slicedSegments:t}}function xge(n,e,t,r){const i={};for(const o of t)if(Jv(n,e,o)&&!r[ls(o)]){const s=new Lt([],{});i[ls(o)]=s}return{...r,...i}}function Ige(n,e){const t={};t[Ye]=e;for(const r of n)if(""===r.path&&ls(r)!==Ye){const i=new Lt([],{});t[ls(r)]=i}return t}function Jv(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class Age{}class Pge{constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new wge(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new U(4002,`'${e.segmentGroup}'`)}recognize(){const e=M6(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Pe(t=>{const r=new xT([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ye,this.rootComponentType,null,{}),i=new Po(r,t),o=new m6("",i),s=function Cpe(n,e,t=null,r=null){return o6(i6(n),e,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,Ye).pipe(ol(r=>{if(r instanceof AT)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ST?this.noMatchError(r):r}))}inheritParamsAndData(e,t){const r=e.value,i=ET(r,t,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(o=>this.inheritParamsAndData(o,r))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i,!0).pipe(Pe(o=>o instanceof Po?[o]:[]))}processChildren(e,t,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return fr(i).pipe(bd(o=>{const s=r.children[o],a=function Ype(n,e){const t=n.filter(r=>ls(r)===e);return t.push(...n.filter(r=>ls(r)!==e)),t}(t,o);return this.processSegmentGroup(e,a,s,o)}),function Jfe(n,e){return yn(function Zfe(n,e,t,r,i){return(o,s)=>{let a=t,c=e,l=0;o.subscribe(fn(s,u=>{const d=l++;c=a?n(c,u,d):(a=!0,u),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}(n,e,arguments.length>=2,!0))}((o,s)=>(o.push(...s),o)),Vv(null),function epe(n,e){const t=arguments.length>=2;return r=>r.pipe(n?An((i,o)=>n(i,o,r)):ba,hT(1),t?Vv(e):Hz(()=>new Lv))}(),yr(o=>{if(null===o)return kd(r);const s=S6(o);return function Rge(n){n.sort((e,t)=>e.value.outlet===Ye?-1:t.value.outlet===Ye?1:e.value.outlet.localeCompare(t.value.outlet))}(s),be(s)}))}processSegment(e,t,r,i,o,s){return fr(t).pipe(bd(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,r,i,o,s).pipe(ol(c=>{if(c instanceof ST)return be(null);throw c}))),il(a=>!!a),ol(a=>{if(T6(a))return function Sge(n,e,t){return 0===e.length&&!n.children[t]}(r,i,o)?be(new Age):kd(r);throw a}))}processSegmentAgainstRoute(e,t,r,i,o,s,a){return function Mge(n,e,t,r){return!!(ls(n)===r||r!==Ye&&Jv(e,t,n))&&OT(e,n,t).matched}(r,i,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s):kd(i):kd(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s){const{matched:a,consumedSegments:c,positionalParamSegments:l,remainingSegments:u}=OT(t,i,o);if(!a)return kd(t);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,l);return this.applyRedirects.lineralizeSegments(i,d).pipe(yr(h=>this.processSegment(e,r,t,h.concat(u),s,!1)))}matchSegmentAgainstRoute(e,t,r,i,o){const s=Cge(t,r,i,e);return"**"===r.path&&(t.children={}),s.pipe(Ai(a=>a.matched?this.getChildConfig(e=r._injector??e,r,i).pipe(Ai(({routes:c})=>{const l=r._loadedInjector??e,{consumedSegments:u,remainingSegments:d,parameters:h}=a,f=new xT(u,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function Fge(n){return n.data||{}}(r),ls(r),r.component??r._loadedComponent??null,r,function Lge(n){return n.resolve||{}}(r)),{segmentGroup:y,slicedSegments:E}=M6(t,u,d,c);if(0===E.length&&y.hasChildren())return this.processChildren(l,c,y).pipe(Pe(k=>null===k?null:new Po(f,k)));if(0===c.length&&0===E.length)return be(new Po(f,[]));const I=ls(r)===o;return this.processSegment(l,c,y,E,I?Ye:o,!0).pipe(Pe(k=>new Po(f,k instanceof Po?[k]:[])))})):kd(t)))}getChildConfig(e,t,r){return t.children?be({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?be({routes:t._loadedRoutes,injector:t._loadedInjector}):function _ge(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?be(!0):be(i.map(s=>{const a=Sd(s,n);return ja(function ige(n){return n&&Np(n.canLoad)}(a)?a.canLoad(e,t):$c(n,()=>a(e,t)))})).pipe(Ad(),D6())}(e,t,r).pipe(yr(i=>i?this.configLoader.loadChildren(e,t).pipe(kn(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function bge(n){return vd(C6(!1,ho.GuardRejected))}())):be({routes:[],injector:e})}}function Nge(n){const e=n.value.routeConfig;return e&&""===e.path}function S6(n){const e=[],t=new Set;for(const r of n){if(!Nge(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=S6(r.children);e.push(new Po(r.value,i))}return e.filter(r=>!t.has(r))}function A6(n){const e=n.children.map(t=>A6(t)).flat();return[n,...e]}function PT(n){return Ai(e=>{const t=n(e);return t?fr(t).pipe(Pe(()=>e)):be(e)})}let k6=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Ye);return r}getResolvedTitleForRoute(t){return t.data[xp]}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=ne({token:n,factory:()=>ee($ge),providedIn:"root"})}return n})(),$ge=(()=>{class n extends k6{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||n)($(ahe))};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Od=new X("",{providedIn:"root",factory:()=>({})}),Pd=new X("");let RT=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=ee(tU)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return be(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=ja(t.loadComponent()).pipe(Pe(O6),kn(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Bv(()=>{this.componentLoaders.delete(t)})),i=new uT(r,()=>new wt).pipe(lT());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return be({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=function Hge(n,e,t,r){return ja(n.loadChildren()).pipe(Pe(O6),yr(i=>i instanceof h4||Array.isArray(i)?be(i):fr(e.compileModuleAsync(i))),Pe(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,!0):(o=i.create(t).injector,s=o.get(Pd,[],{optional:!0,self:!0}).flat()),{routes:s.map(MT),injector:o}}))}(r,this.compiler,t,this.onLoadEndListener).pipe(Bv(()=>{this.childrenLoaders.delete(r)})),s=new uT(o,()=>new wt).pipe(lT());return this.childrenLoaders.set(r,s),s}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function O6(n){return function Gge(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let NT=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=ne({token:n,factory:()=>ee(qge),providedIn:"root"})}return n})(),qge=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const P6=new X(""),R6=new X("");function Wge(n,e,t){const r=n.get(R6),i=n.get(lt);return n.get(De).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,Promise.resolve();let o;const s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),function Kge(n){return new Promise(e=>{OV(e,{injector:n})})}(n))),{onViewTransitionCreated:c}=r;return c&&$c(n,()=>c({transition:a,from:e,to:t})),s})}let e0=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new wt,this.transitionAbortSubject=new wt,this.configLoader=ee(RT),this.environmentInjector=ee(Ui),this.urlSerializer=ee(Ed),this.rootContexts=ee(Ap),this.location=ee(_r),this.inputBindingEnabled=null!==ee(Yv,{optional:!0}),this.titleStrategy=ee(k6),this.options=ee(Od,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=ee(NT),this.createViewTransition=ee(P6,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>be(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new Rpe(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new Ppe(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t,r,i){return this.transitions=new ci({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Sp,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(An(o=>0!==o.id),Pe(o=>({...o,extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Ai(o=>{this.currentTransition=o;let s=!1,a=!1;return be(o).pipe(kn(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Ai(c=>{const l=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!l&&"reload"!==(c.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const d="";return this.events.next(new Td(c.id,this.urlSerializer.serialize(c.rawUrl),d,Kv.IgnoredSameUrlNavigation)),c.resolve(null),ss}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return be(c).pipe(Ai(d=>{const h=this.transitions?.getValue();return this.events.next(new Wv(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions?.getValue()?ss:Promise.resolve(d)}),function Vge(n,e,t,r,i,o){return yr(s=>function kge(n,e,t,r,i,o,s="emptyOnly"){return new Pge(n,e,t,r,i,s,o).recognize()}(n,e,t,r,s.extractedUrl,i,o).pipe(Pe(({state:a,tree:c})=>({...s,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),kn(d=>{o.targetSnapshot=d.targetSnapshot,o.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:d.urlAfterRedirects};const h=new d6(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:d,extractedUrl:h,source:f,restoredState:y,extras:E}=c,I=new Wv(d,this.urlSerializer.serialize(h),f,y);this.events.next(I);const k=g6(this.rootComponentType).snapshot;return this.currentTransition=o={...c,targetSnapshot:k,urlAfterRedirects:h,extras:{...E,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=h,be(o)}{const d="";return this.events.next(new Td(c.id,this.urlSerializer.serialize(c.extractedUrl),d,Kv.IgnoredByUrlHandlingStrategy)),c.resolve(null),ss}}),kn(c=>{const l=new Spe(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),Pe(c=>(this.currentTransition=o={...c,guards:Jpe(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},o)),function lge(n,e){return yr(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return 0===s.length&&0===o.length?be({...t,guardsResult:!0}):function uge(n,e,t,r){return fr(n).pipe(yr(i=>function mge(n,e,t,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?be(o.map(a=>{const c=Op(e)??i,l=Sd(a,c);return ja(function age(n){return n&&Np(n.canDeactivate)}(l)?l.canDeactivate(n,e,t,r):$c(c,()=>l(n,e,t,r))).pipe(il())})).pipe(Ad()):be(!0)}(i.component,i.route,t,e,r)),il(i=>!0!==i,!0))}(s,r,i,n).pipe(yr(a=>a&&function rge(n){return"boolean"==typeof n}(a)?function dge(n,e,t,r){return fr(e).pipe(bd(i=>yd(function fge(n,e){return null!==n&&e&&e(new Npe(n)),be(!0)}(i.route.parent,r),function hge(n,e){return null!==n&&e&&e(new Lpe(n)),be(!0)}(i.route,r),function gge(n,e,t){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function ege(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(s)).filter(s=>null!==s).map(s=>Ep(()=>be(s.guards.map(c=>{const l=Op(s.node)??t,u=Sd(c,l);return ja(function sge(n){return n&&Np(n.canActivateChild)}(u)?u.canActivateChild(r,n):$c(l,()=>u(r,n))).pipe(il())})).pipe(Ad())));return be(o).pipe(Ad())}(n,i.path,t),function pge(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return be(!0);const i=r.map(o=>Ep(()=>{const s=Op(e)??t,a=Sd(o,s);return ja(function oge(n){return n&&Np(n.canActivate)}(a)?a.canActivate(e,n):$c(s,()=>a(e,n))).pipe(il())}));return be(i).pipe(Ad())}(n,i.route,t))),il(i=>!0!==i,!0))}(r,o,n,e):be(a)),Pe(a=>({...t,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),kn(c=>{if(o.guardsResult=c.guardsResult,xd(c.guardsResult))throw w6(0,c.guardsResult);const l=new Ape(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),An(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",ho.GuardRejected),!1)),PT(c=>{if(c.guards.canActivateChecks.length)return be(c).pipe(kn(l=>{const u=new kpe(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),Ai(l=>{let u=!1;return be(l).pipe(function Bge(n,e){return yr(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return be(t);const o=new Set(i.map(c=>c.route)),s=new Set;for(const c of o)if(!s.has(c))for(const l of A6(c))s.add(l);let a=0;return fr(s).pipe(bd(c=>o.has(c)?function Uge(n,e,t,r){const i=n.routeConfig,o=n._resolve;return void 0!==i?.title&&!y6(i)&&(o[xp]=i.title),function jge(n,e,t,r){const i=fT(n);if(0===i.length)return be({});const o={};return fr(i).pipe(yr(s=>function zge(n,e,t,r){const i=Op(e)??r,o=Sd(n,i);return ja(o.resolve?o.resolve(e,t):$c(i,()=>o(e,t)))}(n[s],e,t,r).pipe(il(),kn(a=>{o[s]=a}))),hT(1),Gz(o),ol(s=>T6(s)?ss:vd(s)))}(o,n,e,r).pipe(Pe(s=>(n._resolvedData=s,n.data=ET(n,n.parent,t).resolve,null)))}(c,r,n,e):(c.data=ET(c,c.parent,n).resolve,be(void 0))),kn(()=>a++),hT(1),yr(c=>a===s.size?be(t):ss))})}(this.paramsInheritanceStrategy,this.environmentInjector),kn({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(l,"",ho.NoDataFromResolver)}}))}),kn(l=>{const u=new Ope(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}))}),PT(c=>{const l=u=>{const d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(kn(h=>{u.component=h}),Pe(()=>{})));for(const h of u.children)d.push(...l(h));return d};return Fv(l(c.targetSnapshot.root)).pipe(Vv(null),Sn(1))}),PT(()=>this.afterPreactivation()),Ai(()=>{const{currentSnapshot:c,targetSnapshot:l}=o,u=this.createViewTransition?.(this.environmentInjector,c.root,l.root);return u?fr(u).pipe(Pe(()=>o)):be(o)}),Pe(c=>{const l=function zpe(n,e,t){const r=kp(n,e._root,t?t._root:void 0);return new p6(r,e)}(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o={...c,targetRouterState:l},this.currentNavigation.targetRouterState=l,o}),kn(()=>{this.events.next(new vT)}),((n,e,t,r)=>Pe(i=>(new Zpe(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)))(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Sn(1),kn({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ws(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),Uv(this.transitionAbortSubject.pipe(kn(c=>{throw c}))),Bv(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",ho.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),ol(c=>{if(a=!0,E6(c))this.events.next(new Id(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),function Gpe(n){return E6(n)&&xd(n.url)}(c)?this.events.next(new bT(c.url)):o.resolve(!1);else{this.events.next(new Qv(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(t.errorHandler(c))}catch(l){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(l)}}return ss}))}))}cancelNavigationTransition(t,r,i){const o=new Id(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Qge(n){return n!==Sp}let Yge=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=ne({token:n,factory:()=>ee(Zge),providedIn:"root"})}return n})();class Xge{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let Zge=(()=>{class n extends Xge{static#e=this.\u0275fac=(()=>{let t;return function(i){return(t||(t=mr(n)))(i||n)}})();static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),N6=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=ne({token:n,factory:()=>ee(Jge),providedIn:"root"})}return n})(),Jge=(()=>{class n extends N6{constructor(){super(...arguments),this.location=ee(_r),this.urlSerializer=ee(Ed),this.options=ee(Od,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=ee(NT),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Cd,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=g6(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{"popstate"===r.type&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof Wv)this.stateMemento=this.createStateMemento();else if(t instanceof Td)this.rawUrlTree=r.initialUrl;else if(t instanceof d6){if("eager"===this.urlUpdateStrategy&&!r.extras.skipLocationChange){const i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(i,r)}}else t instanceof vT?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):t instanceof Id&&(t.code===ho.GuardRejected||t.code===ho.NoDataFromResolver)?this.restoreHistory(r):t instanceof Qv?this.restoreHistory(r,!0):t instanceof Ws&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",s)}else{const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",o)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&0===o&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static#e=this.\u0275fac=(()=>{let t;return function(i){return(t||(t=mr(n)))(i||n)}})();static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Fp=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Fp||{});function F6(n,e){n.events.pipe(An(t=>t instanceof Ws||t instanceof Id||t instanceof Qv||t instanceof Td),Pe(t=>t instanceof Ws||t instanceof Td?Fp.COMPLETE:t instanceof Id&&(t.code===ho.Redirect||t.code===ho.SupersededByNewNavigation)?Fp.REDIRECTING:Fp.FAILED),An(t=>t!==Fp.REDIRECTING),Sn(1)).subscribe(()=>{e()})}function eme(n){throw n}const tme={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},nme={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Me=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=ee(G5),this.stateManager=ee(N6),this.options=ee(Od,{optional:!0})||{},this.pendingTasks=ee(qf),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=ee(e0),this.urlSerializer=ee(Ed),this.location=ee(_r),this.urlHandlingStrategy=ee(NT),this._events=new wt,this.errorHandler=this.options.errorHandler||eme,this.navigated=!1,this.routeReuseStrategy=ee(Yge),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=ee(Pd,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!ee(Yv,{optional:!0}),this.eventsSubscription=new Yn,this.isNgZoneEnabled=ee(De)instanceof De&&De.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(r=>{try{const i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(null!==i&&null!==o)if(this.stateManager.handleRouterEvent(r,o),r instanceof Id&&r.code!==ho.Redirect&&r.code!==ho.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Ws)this.navigated=!0;else if(r instanceof bT){const s=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),a={info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Qge(i.source)};this.scheduleNavigation(s,Sp,null,a,{resolve:i.resolve,reject:i.reject,promise:i.promise})}(function ime(n){return!(n instanceof vT||n instanceof bT)})(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Sp,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){const o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){const c={...i};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(o.state=c)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(MT),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s;let d,u=null;switch(a){case"merge":u={...this.currentUrlTree.queryParams,...o};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}null!==u&&(u=this.removeEmptyProps(u));try{d=i6(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),d=this.currentUrlTree.root}return o6(d,t,u,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=xd(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Sp,null,r)}navigate(t,r={skipLocationChange:!1}){return function rme(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new U(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(i=!0===r?{...tme}:!1===r?{...nme}:r,xd(t))return Qz(this.currentUrlTree,t,i);const o=this.parseUrl(t);return Qz(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(null!=o&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((d,h)=>{a=d,c=h});const u=this.pendingTasks.add();return F6(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class L6{}let ame=(()=>{class n{constructor(t,r,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(An(t=>t instanceof Ws),bd(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=Ny(o.providers,t,`Route: ${o.path}`));const s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return fr(i).pipe(_d())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):be(null);const o=i.pipe(yr(s=>null===s?be(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));return r.loadComponent&&!r._loadedComponent?fr([o,this.loader.loadComponent(r)]).pipe(_d()):o})}static#e=this.\u0275fac=function(r){return new(r||n)($(Me),$(tU),$(Ui),$(L6),$(RT))};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const LT=new X("");let V6=(()=>{class n{constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Wv?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ws?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Td&&t.code===Kv.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof h6&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new h6(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){!function B3(){throw new Error("invalid")}()};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac})}return n})();function us(n,e){return{\u0275kind:n,\u0275providers:e}}function U6(){const n=ee(Ut);return e=>{const t=n.get(rs);if(e!==t.components[0])return;const r=n.get(Me),i=n.get(j6);1===n.get(VT)&&r.initialNavigation(),n.get(z6,null,it.Optional)?.setUpPreloading(),n.get(LT,null,it.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const j6=new X("",{factory:()=>new wt}),VT=new X("",{providedIn:"root",factory:()=>1}),z6=new X("");function dme(n){return us(0,[{provide:z6,useExisting:ame},{provide:L6,useExisting:n}])}function fme(n){return us(9,[{provide:P6,useValue:Wge},{provide:R6,useValue:{skipNextTransition:!!n?.skipInitialTransition,...n}}])}const $6=new X("ROUTER_FORROOT_GUARD"),pme=[_r,{provide:Ed,useClass:pT},Me,Ap,{provide:ut,useFactory:function B6(n){return n.routerState.root},deps:[Me]},RT,[]];let Ro=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[pme,[],{provide:Pd,multi:!0,useValue:t},{provide:$6,useFactory:yme,deps:[[Me,new Yt,new bf]]},{provide:Od,useValue:r||{}},r?.useHash?{provide:Fa,useClass:VU}:{provide:Fa,useClass:LU},{provide:LT,useFactory:()=>{const n=ee(ade),e=ee(De),t=ee(Od),r=ee(e0),i=ee(Ed);return t.scrollOffset&&n.setOffset(t.scrollOffset),new V6(i,r,n,e,t)}},r?.preloadingStrategy?dme(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?vme(r):[],r?.bindToComponentInputs?us(8,[v6,{provide:Yv,useExisting:v6}]).\u0275providers:[],r?.enableViewTransitions?fme().\u0275providers:[],[{provide:H6,useFactory:U6},{provide:X1,multi:!0,useExisting:H6}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Pd,multi:!0,useValue:t}]}}static#e=this.\u0275fac=function(r){return new(r||n)($($6,8))};static#t=this.\u0275mod=ot({type:n});static#n=this.\u0275inj=et({})}return n})();function yme(n){return"guarded"}function vme(n){return["disabled"===n.initialNavigation?us(3,[{provide:cp,multi:!0,useFactory:()=>{const e=ee(Me);return()=>{e.setUpLocationChangeListener()}}},{provide:VT,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?us(2,[{provide:VT,useValue:0},{provide:cp,multi:!0,deps:[Ut],useFactory:e=>{const t=e.get(Ule,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(Me),o=e.get(j6);F6(i,()=>{r(!0)}),e.get(e0).afterPreactivation=()=>(r(!0),o.closed?be(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const H6=new X(""),se=function(n,e){if(!n)throw Rd(e)},Rd=function(n){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+n)},G6=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e},t0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const o=n[i],s=i+1<n.length,a=s?n[i+1]:0,c=i+2<n.length,l=c?n[i+2]:0;let h=(15&a)<<2|l>>6,f=63&l;c||(f=64,s||(h=64)),r.push(t[o>>2],t[(3&o)<<4|a>>4],t[h],t[f])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(G6(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const c=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(1023&c))}else{const o=n[t++],s=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const l=i<n.length?t[n.charAt(i)]:64;++i;const d=i<n.length?t[n.charAt(i)]:64;if(++i,null==o||null==a||null==l||null==d)throw new Cme;r.push(o<<2|a>>4),64!==l&&(r.push(a<<4&240|l>>2),64!==d&&r.push(l<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Cme extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const q6=function(n){const e=G6(n);return t0.encodeByteArray(e,!0)},n0=function(n){return q6(n).replace(/\./g,"")},r0=function(n){try{return t0.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Eme(n){return W6(void 0,n)}function W6(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===n&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!xme(t)||(n[t]=W6(n[t],e[t]));return n}function xme(n){return"__proto__"!==n}const o0=()=>{try{return function Ime(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&r0(n[1]);return e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},K6=n=>{var e,t;return null===(t=null===(e=o0())||void 0===e?void 0:e.emulatorHosts)||void 0===t?void 0:t[n]},UT=n=>{const e=K6(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Q6=()=>{var n;return null===(n=o0())||void 0===n?void 0:n.config},Y6=n=>{var e;return null===(e=o0())||void 0===e?void 0:e[`_${n}`]};class Nd{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function X6(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[n0(JSON.stringify({alg:"none",type:"JWT"})),n0(JSON.stringify(s)),""].join(".")}function Gn(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function jT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Gn())}function zT(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}function Z6(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function za(){try{return"object"==typeof indexedDB}catch{return!1}}function Lp(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e((null===(o=i.error)||void 0===o?void 0:o.message)||"")}}catch(t){e(t)}})}function $T(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class qi extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,qi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ds.prototype.create)}}class ds{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?function Pme(n,e){return n.replace(Rme,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(o,r):"Error";return new qi(i,`${this.serviceName}: ${s} (${i}).`,r)}}const Rme=/\{\$([^}]+)}/g;function Vp(n){return JSON.parse(n)}function Nr(n){return JSON.stringify(n)}const s0=function(n){let e={},t={},r={},i="";try{const o=n.split(".");e=Vp(r0(o[0])||""),t=Vp(r0(o[1])||""),i=o[2],r=t.d||{},delete t.d}catch{}return{header:e,claims:t,data:r,signature:i}};function hs(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function Fd(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function HT(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function a0(n,e,t){const r={};for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=e.call(t,n[i],i,n));return r}function c0(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const o=n[i],s=e[i];if(J6(o)&&J6(s)){if(!c0(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function J6(n){return null!==n&&"object"==typeof n}function Ld(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Bp(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Up(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}class Lme{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const r=this.W_;if("string"==typeof e)for(let d=0;d<16;d++)r[d]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let d=0;d<16;d++)r[d]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let d=16;d<80;d++){const h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=4294967295&(h<<1|h>>>31)}let l,u,i=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],c=this.chain_[4];for(let d=0;d<80;d++){d<40?d<20?(l=a^o&(s^a),u=1518500249):(l=o^s^a,u=1859775393):d<60?(l=o&s|a&(o|s),u=2400959708):(l=o^s^a,u=3395469782);const h=(i<<5|i>>>27)+l+c+u+r[d]&4294967295;c=a,a=s,s=4294967295&(o<<30|o>>>2),o=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const r=t-this.blockSize;let i=0;const o=this.buf_;let s=this.inbuf_;for(;i<t;){if(0===s)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if("string"==typeof e){for(;i<t;)if(o[s]=e.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}else for(;i<t;)if(o[s]=e[i],++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=255&t,t/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)e[r]=this.chain_[i]>>o&255,++r;return e}}class Bme{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");i=function Ume(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===i.next&&(i.next=GT),void 0===i.error&&(i.error=GT),void 0===i.complete&&(i.complete=GT);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function GT(){}const l0=function(n){let e=0;for(let t=0;t<n.length;t++){const r=n.charCodeAt(t);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,t++):e+=3}return e},zme=1e3,$me=2,Hme=144e5,Gme=.5;function qT(n,e=zme,t=$me){const r=e*Math.pow(t,n),i=Math.round(Gme*r*(Math.random()-.5)*2);return Math.min(Hme,r+i)}function zt(n){return n&&n._delegate?n._delegate:n}class vr{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const al="[DEFAULT]";class Wme{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new Nd;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(t=e?.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function Qme(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:al})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=al){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return _(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=al){return this.instances.has(e)}getOptions(e=al){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,s]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(o)&&s.resolve(i);return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),o=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===al?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var n;return r||null}normalizeInstanceIdentifier(e=al){return this.component?this.component.multipleInstances?e:al:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Yme{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Wme(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const WT=[];var pt=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(pt||{});const e9={debug:pt.DEBUG,verbose:pt.VERBOSE,info:pt.INFO,warn:pt.WARN,error:pt.ERROR,silent:pt.SILENT},Xme=pt.INFO,Zme={[pt.DEBUG]:"log",[pt.VERBOSE]:"log",[pt.INFO]:"info",[pt.WARN]:"warn",[pt.ERROR]:"error"},Jme=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=Zme[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class cl{constructor(e){this.name=e,this._logLevel=Xme,this._logHandler=Jme,this._userLogHandler=null,WT.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?e9[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,pt.DEBUG,...e),this._logHandler(this,pt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,pt.VERBOSE,...e),this._logHandler(this,pt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,pt.INFO,...e),this._logHandler(this,pt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,pt.WARN,...e),this._logHandler(this,pt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,pt.ERROR,...e),this._logHandler(this,pt.ERROR,...e)}}const e_e=(n,e)=>e.some(t=>n instanceof t);let t9,n9;const r9=new WeakMap,KT=new WeakMap,i9=new WeakMap,QT=new WeakMap,YT=new WeakMap;let XT={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return KT.get(n);if("objectStoreNames"===e)return n.objectStoreNames||i9.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return $a(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function a_e(n){return"function"==typeof n?function s_e(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function n_e(){return n9||(n9=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(ZT(this),e),$a(r9.get(this))}:function(...e){return $a(n.apply(ZT(this),e))}:function(e,...t){const r=n.call(ZT(this),e,...t);return i9.set(r,e.sort?e.sort():[e]),$a(r)}}(n):(n instanceof IDBTransaction&&function i_e(n){if(KT.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});KT.set(n,e)}(n),e_e(n,function t_e(){return t9||(t9=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,XT):n)}function $a(n){if(n instanceof IDBRequest)return function r_e(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t($a(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&r9.set(t,n)}).catch(()=>{}),YT.set(e,n),e}(n);if(QT.has(n))return QT.get(n);const e=a_e(n);return e!==n&&(QT.set(n,e),YT.set(e,n)),e}const ZT=n=>YT.get(n),l_e=["get","getKey","getAll","getAllKeys","count"],u_e=["put","add","delete","clear"],JT=new Map;function o9(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(JT.get(e))return JT.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=u_e.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!l_e.includes(t))return;const o=function(){var s=_(function*(a,...c){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(c.shift())),(yield Promise.all([u[t](...c),i&&l.done]))[0]});return function(c){return s.apply(this,arguments)}}();return JT.set(e,o),o}!function o_e(n){XT=n(XT)}(n=>({...n,get:(e,t,r)=>o9(e,t)||n.get(e,t,r),has:(e,t)=>!!o9(e,t)||n.has(e,t)}));class d_e{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function h_e(n){const e=n.getComponent();return"VERSION"===e?.type}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const eD="@firebase/app",ll=new cl("@firebase/app"),u0="[DEFAULT]",V_e={[eD]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ul=new Map,d0=new Map;function B_e(n,e){try{n.container.addComponent(e)}catch(t){ll.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Fr(n){const e=n.name;if(d0.has(e))return ll.debug(`There were multiple attempts to register component ${e}.`),!1;d0.set(e,n);for(const t of ul.values())B_e(t,n);return!0}function Ha(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}const Qs=new ds("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class j_e{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new vr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qs.create("app-deleted",{appName:this._name})}}const Ga="9.23.0";function a9(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:u0,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Qs.create("bad-app-name",{appName:String(i)});if(t||(t=Q6()),!t)throw Qs.create("no-options");const o=ul.get(i);if(o){if(c0(t,o.options)&&c0(r,o.config))return o;throw Qs.create("duplicate-app",{appName:i})}const s=new Yme(i);for(const c of d0.values())s.addComponent(c);const a=new j_e(t,r,s);return ul.set(i,a),a}function zp(n=u0){const e=ul.get(n);if(!e&&n===u0&&Q6())return a9();if(!e)throw Qs.create("no-app",{appName:n});return e}function c9(){return Array.from(ul.values())}function Vt(n,e,t){var r;let i=null!==(r=V_e[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];return o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void ll.warn(a.join(" "))}Fr(new vr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const z_e="firebase-heartbeat-database",$_e=1,$p="firebase-heartbeat-store";let nD=null;function l9(){return nD||(nD=function c_e(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(n,e),a=$a(s);return r&&s.addEventListener("upgradeneeded",c=>{r($a(s.result),c.oldVersion,c.newVersion,$a(s.transaction),c)}),t&&s.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}(z_e,$_e,{upgrade:(n,e)=>{0===e&&n.createObjectStore($p)}}).catch(n=>{throw Qs.create("idb-open",{originalErrorMessage:n.message})})),nD}function rD(){return(rD=_(function*(n){try{return yield(yield l9()).transaction($p).objectStore($p).get(d9(n))}catch(e){if(e instanceof qi)ll.warn(e.message);else{const t=Qs.create("idb-get",{originalErrorMessage:e?.message});ll.warn(t.message)}}})).apply(this,arguments)}function u9(n,e){return iD.apply(this,arguments)}function iD(){return(iD=_(function*(n,e){try{const r=(yield l9()).transaction($p,"readwrite");yield r.objectStore($p).put(e,d9(n)),yield r.done}catch(t){if(t instanceof qi)ll.warn(t.message);else{const r=Qs.create("idb-set",{originalErrorMessage:t?.message});ll.warn(r.message)}}})).apply(this,arguments)}function d9(n){return`${n.name}!${n.options.appId}`}class W_e{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Q_e(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return _(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=h9();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(o=>o.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(o=>{const s=new Date(o.date).valueOf();return Date.now()-s<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return _(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const t=h9(),{heartbeatsToSend:r,unsentEntries:i}=function K_e(n,e=1024){const t=[];let r=n.slice();for(const i of n){const o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),f9(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),f9(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),o=n0(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),o})()}}function h9(){return(new Date).toISOString().substring(0,10)}class Q_e{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(function*(){return!!za()&&Lp().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return _(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function H_e(n){return rD.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var t=this;return _(function*(){var r;if(yield t._canUseIndexedDBPromise){const o=yield t.read();return u9(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return _(function*(){var r;if(yield t._canUseIndexedDBPromise){const o=yield t.read();return u9(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}})()}}function f9(n){return n0(JSON.stringify({version:2,heartbeats:n})).length}!function Y_e(n){Fr(new vr("platform-logger",e=>new d_e(e),"PRIVATE")),Fr(new vr("heartbeat",e=>new W_e(e),"PRIVATE")),Vt(eD,"0.9.13",n),Vt(eD,"0.9.13","esm2017"),Vt("fire-js","")}(""),Vt("firebase","9.23.0","app");const J_e=(n,e)=>e.some(t=>n instanceof t);let p9,g9;const m9=new WeakMap,oD=new WeakMap,_9=new WeakMap,sD=new WeakMap,aD=new WeakMap;let cD={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return oD.get(n);if("objectStoreNames"===e)return n.objectStoreNames||_9.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return qa(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function sye(n){return"function"==typeof n?function oye(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function tye(){return g9||(g9=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(lD(this),e),qa(m9.get(this))}:function(...e){return qa(n.apply(lD(this),e))}:function(e,...t){const r=n.call(lD(this),e,...t);return _9.set(r,e.sort?e.sort():[e]),qa(r)}}(n):(n instanceof IDBTransaction&&function rye(n){if(oD.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});oD.set(n,e)}(n),J_e(n,function eye(){return p9||(p9=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,cD):n)}function qa(n){if(n instanceof IDBRequest)return function nye(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(qa(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&m9.set(t,n)}).catch(()=>{}),aD.set(e,n),e}(n);if(sD.has(n))return sD.get(n);const e=sye(n);return e!==n&&(sD.set(n,e),aD.set(e,n)),e}const lD=n=>aD.get(n),cye=["get","getKey","getAll","getAllKeys","count"],lye=["put","add","delete","clear"],uD=new Map;function y9(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(uD.get(e))return uD.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=lye.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!cye.includes(t))return;const o=function(){var s=_(function*(a,...c){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(c.shift())),(yield Promise.all([u[t](...c),i&&l.done]))[0]});return function(c){return s.apply(this,arguments)}}();return uD.set(e,o),o}!function iye(n){cD=n(cD)}(n=>({...n,get:(e,t,r)=>y9(e,t)||n.get(e,t,r),has:(e,t)=>!!y9(e,t)||n.has(e,t)}));const v9="@firebase/installations",dD="0.6.4",b9=1e4,w9=`w:${dD}`,C9="FIS_v2",uye="https://firebaseinstallations.googleapis.com/v1",dye=36e5,Ys=new ds("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function E9(n){return n instanceof qi&&n.code.includes("request-failed")}function hD({projectId:n}){return`${uye}/projects/${n}/installations`}function x9(n){return{token:n.token,requestStatus:2,expiresIn:gye(n.expiresIn),creationTime:Date.now()}}function fD(n,e){return pD.apply(this,arguments)}function pD(){return(pD=_(function*(n,e){const r=(yield e.json()).error;return Ys.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function I9({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function gD(n){return mD.apply(this,arguments)}function mD(){return(mD=_(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function gye(n){return Number(n.replace("s","000"))}function _D(){return(_D=_(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=hD(n),i=I9(n),o=e.getImmediate({optional:!0});if(o){const l=yield o.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const a={method:"POST",headers:i,body:JSON.stringify({fid:t,authVersion:C9,appId:n.appId,sdkVersion:w9})},c=yield gD(()=>fetch(r,a));if(c.ok){const l=yield c.json();return{fid:l.fid||t,registrationStatus:2,refreshToken:l.refreshToken,authToken:x9(l.authToken)}}throw yield fD("Create Installation",c)})).apply(this,arguments)}function D9(n){return new Promise(e=>{setTimeout(e,n)})}const vye=/^[cdef][\w-]{21}$/,yD="";function bye(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function wye(n){return function yye(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return vye.test(t)?t:yD}catch{return yD}}function Vd(n){return`${n.appName}!${n.appId}`}const Bd=new Map;function M9(n,e){const t=Vd(n);S9(t,e),function xye(n,e){const t=function A9(){return!dl&&"BroadcastChannel"in self&&(dl=new BroadcastChannel("[Firebase] FID Change"),dl.onmessage=n=>{S9(n.data.key,n.data.fid)}),dl}();t&&t.postMessage({key:n,fid:e}),function k9(){0===Bd.size&&dl&&(dl.close(),dl=null)}()}(t,e)}function S9(n,e){const t=Bd.get(n);if(t)for(const r of t)r(e)}let dl=null;const Iye="firebase-installations-database",Tye=1,hl="firebase-installations-store";let vD=null;function bD(){return vD||(vD=function aye(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(n,e),a=qa(s);return r&&s.addEventListener("upgradeneeded",c=>{r(qa(s.result),c.oldVersion,c.newVersion,qa(s.transaction))}),t&&s.addEventListener("blocked",()=>t()),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(Iye,Tye,{upgrade:(n,e)=>{0===e&&n.createObjectStore(hl)}})),vD}function h0(n,e){return wD.apply(this,arguments)}function wD(){return(wD=_(function*(n,e){const t=Vd(n),i=(yield bD()).transaction(hl,"readwrite"),o=i.objectStore(hl),s=yield o.get(t);return yield o.put(e,t),yield i.done,(!s||s.fid!==e.fid)&&M9(n,e.fid),e})).apply(this,arguments)}function CD(n){return ED.apply(this,arguments)}function ED(){return(ED=_(function*(n){const e=Vd(n),r=(yield bD()).transaction(hl,"readwrite");yield r.objectStore(hl).delete(e),yield r.done})).apply(this,arguments)}function Hp(n,e){return xD.apply(this,arguments)}function xD(){return(xD=_(function*(n,e){const t=Vd(n),i=(yield bD()).transaction(hl,"readwrite"),o=i.objectStore(hl),s=yield o.get(t),a=e(s);return void 0===a?yield o.delete(t):yield o.put(a,t),yield i.done,a&&(!s||s.fid!==a.fid)&&M9(n,a.fid),a})).apply(this,arguments)}function ID(n){return TD.apply(this,arguments)}function TD(){return TD=_(function*(n){let e;const t=yield Hp(n.appConfig,r=>{const i=function Dye(n){return P9(n||{fid:bye(),registrationStatus:0})}(r),o=function Mye(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Ys.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function Sye(n,e){return DD.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Aye(n)}:{installationEntry:e}}(n,i);return e=o.registrationPromise,o.installationEntry});return t.fid===yD?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}}),TD.apply(this,arguments)}function DD(){return DD=_(function*(n,e){try{const t=yield function _ye(n,e){return _D.apply(this,arguments)}(n,e);return h0(n.appConfig,t)}catch(t){throw E9(t)&&409===t.customData.serverCode?yield CD(n.appConfig):yield h0(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}),DD.apply(this,arguments)}function Aye(n){return MD.apply(this,arguments)}function MD(){return(MD=_(function*(n){let e=yield O9(n.appConfig);for(;1===e.registrationStatus;)yield D9(100),e=yield O9(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:r}=yield ID(n);return r||t}return e})).apply(this,arguments)}function O9(n){return Hp(n,e=>{if(!e)throw Ys.create("installation-not-found");return P9(e)})}function P9(n){return function kye(n){return 1===n.registrationStatus&&n.registrationTime+b9<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function SD(){return(SD=_(function*({appConfig:n,heartbeatServiceProvider:e},t){const r=function Pye(n,{fid:e}){return`${hD(n)}/${e}/authTokens:generate`}(n,t),i=function T9(n,{refreshToken:e}){const t=I9(n);return t.append("Authorization",function mye(n){return`${C9} ${n}`}(e)),t}(n,t),o=e.getImmediate({optional:!0});if(o){const l=yield o.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:w9,appId:n.appId}})},c=yield gD(()=>fetch(r,a));if(c.ok)return x9(yield c.json());throw yield fD("Generate Auth Token",c)})).apply(this,arguments)}function AD(n){return kD.apply(this,arguments)}function kD(){return kD=_(function*(n,e=!1){let t;const r=yield Hp(n.appConfig,o=>{if(!N9(o))throw Ys.create("not-registered");const s=o.authToken;if(!e&&function Fye(n){return 2===n.requestStatus&&!function Lye(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+dye}(n)}(s))return o;if(1===s.requestStatus)return t=function Rye(n,e){return OD.apply(this,arguments)}(n,e),o;{if(!navigator.onLine)throw Ys.create("app-offline");const a=function Vye(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}(o);return t=function Nye(n,e){return PD.apply(this,arguments)}(n,a),a}});return t?yield t:r.authToken}),kD.apply(this,arguments)}function OD(){return(OD=_(function*(n,e){let t=yield R9(n.appConfig);for(;1===t.authToken.requestStatus;)yield D9(100),t=yield R9(n.appConfig);const r=t.authToken;return 0===r.requestStatus?AD(n,e):r})).apply(this,arguments)}function R9(n){return Hp(n,e=>{if(!N9(e))throw Ys.create("not-registered");return function Bye(n){return 1===n.requestStatus&&n.requestTime+b9<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function PD(){return PD=_(function*(n,e){try{const t=yield function Oye(n,e){return SD.apply(this,arguments)}(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield h0(n.appConfig,r),t}catch(t){if(!E9(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield h0(n.appConfig,r)}else yield CD(n.appConfig);throw t}}),PD.apply(this,arguments)}function N9(n){return void 0!==n&&2===n.registrationStatus}function RD(){return(RD=_(function*(n){const e=n,{installationEntry:t,registrationPromise:r}=yield ID(e);return r?r.catch(console.error):AD(e).catch(console.error),t.fid})).apply(this,arguments)}function ND(){return ND=_(function*(n,e=!1){const t=n;return yield function zye(n){return FD.apply(this,arguments)}(t),(yield AD(t,e)).token}),ND.apply(this,arguments)}function FD(){return(FD=_(function*(n){const{registrationPromise:e}=yield ID(n);e&&(yield e)})).apply(this,arguments)}function BD(n){return Ys.create("missing-app-config-values",{valueName:n})}const F9="installations",Wye=n=>{const e=n.getProvider("app").getImmediate(),t=function Gye(n){if(!n||!n.options)throw BD("App Configuration");if(!n.name)throw BD("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw BD(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:Ha(e,"heartbeat"),_delete:()=>Promise.resolve()}},Kye=n=>{const t=Ha(n.getProvider("app").getImmediate(),F9).getImmediate();return{getId:()=>function Uye(n){return RD.apply(this,arguments)}(t),getToken:i=>function jye(n){return ND.apply(this,arguments)}(t,i)}};(function Qye(){Fr(new vr(F9,Wye,"PUBLIC")),Fr(new vr("installations-internal",Kye,"PRIVATE"))})(),Vt(v9,dD),Vt(v9,dD,"esm2017");const UD="@firebase/remote-config",ki=new ds("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class sve{constructor(e,t,r,i){this.client=e,this.storage=t,this.storageCache=r,this.logger=i}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-t,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var t=this;return _(function*(){const[r,i]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(i&&t.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const o=yield t.client.fetch(e),s=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===o.status&&s.push(t.storage.setLastSuccessfulFetchResponse(o)),yield Promise.all(s),o})()}}function ave(n=navigator){return n.languages&&n.languages[0]||n.language}class cve{constructor(e,t,r,i,o,s){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=r,this.projectId=i,this.apiKey=o,this.appId=s}fetch(e){var t=this;return _(function*(){const[r,i]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),s=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},c={sdk_version:t.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:t.appId,language_code:ave()},l={method:"POST",headers:a,body:JSON.stringify(c)},u=fetch(s,l),d=new Promise((k,M)=>{e.signal.addEventListener(()=>{const V=new Error("The operation was aborted.");V.name="AbortError",M(V)})});let h;try{yield Promise.race([u,d]),h=yield u}catch(k){let M="fetch-client-network";throw"AbortError"===k?.name&&(M="fetch-timeout"),ki.create(M,{originalErrorMessage:k?.message})}let f=h.status;const y=h.headers.get("ETag")||void 0;let E,I;if(200===h.status){let k;try{k=yield h.json()}catch(M){throw ki.create("fetch-client-parse",{originalErrorMessage:M?.message})}E=k.entries,I=k.state}if("INSTANCE_STATE_UNSPECIFIED"===I?f=500:"NO_CHANGE"===I?f=304:("NO_TEMPLATE"===I||"EMPTY_CONFIG"===I)&&(E={}),304!==f&&200!==f)throw ki.create("fetch-status",{httpStatus:f});return{status:f,eTag:y,config:E}})()}}class dve{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return _(function*(){const r=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:r}){var i=this;return _(function*(){yield function lve(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(o),r(ki.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const o=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),o}catch(o){if(!function uve(n){if(!(n instanceof qi&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(o))throw o;const s={throttleEndTimeMillis:Date.now()+qT(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(s),i.attemptFetch(e,s)}})()}}class pve{constructor(e,t,r,i,o){this.app=e,this._client=t,this._storageCache=r,this._storage=i,this._logger=o,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function p0(n,e){const t=n.target.error||void 0;return ki.create(e,{originalErrorMessage:t&&t?.message})}const fl="app_namespace_store";class yve{constructor(e,t,r,i=function _ve(){return new Promise((n,e)=>{try{const t=indexedDB.open("firebase_remote_config",1);t.onerror=r=>{e(p0(r,"storage-open"))},t.onsuccess=r=>{n(r.target.result)},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(fl,{keyPath:"compositeKey"})}}catch(t){e(ki.create("storage-open",{originalErrorMessage:t?.message}))}})}()){this.appId=e,this.appName=t,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return _(function*(){const r=yield t.openDbPromise;return new Promise((i,o)=>{const a=r.transaction([fl],"readonly").objectStore(fl),c=t.createCompositeKey(e);try{const l=a.get(c);l.onerror=u=>{o(p0(u,"storage-get"))},l.onsuccess=u=>{const d=u.target.result;i(d?d.value:void 0)}}catch(l){o(ki.create("storage-get",{originalErrorMessage:l?.message}))}})})()}set(e,t){var r=this;return _(function*(){const i=yield r.openDbPromise;return new Promise((o,s)=>{const c=i.transaction([fl],"readwrite").objectStore(fl),l=r.createCompositeKey(e);try{const u=c.put({compositeKey:l,value:t});u.onerror=d=>{s(p0(d,"storage-set"))},u.onsuccess=()=>{o()}}catch(u){s(ki.create("storage-set",{originalErrorMessage:u?.message}))}})})()}delete(e){var t=this;return _(function*(){const r=yield t.openDbPromise;return new Promise((i,o)=>{const a=r.transaction([fl],"readwrite").objectStore(fl),c=t.createCompositeKey(e);try{const l=a.delete(c);l.onerror=u=>{o(p0(u,"storage-delete"))},l.onsuccess=()=>{i()}}catch(l){o(ki.create("storage-delete",{originalErrorMessage:l?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class vve{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return _(function*(){const t=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),o=yield t;o&&(e.lastFetchStatus=o);const s=yield r;s&&(e.lastSuccessfulFetchTimestampMillis=s);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function wve(){return GD.apply(this,arguments)}function GD(){return(GD=_(function*(){if(!za())return!1;try{return yield Lp()}catch{return!1}})).apply(this,arguments)}!function bve(){Fr(new vr("remote-config",function n(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw ki.create("registration-window");if(!za())throw ki.create("indexed-db-unavailable");const{projectId:o,apiKey:s,appId:a}=r.options;if(!o)throw ki.create("registration-project-id");if(!s)throw ki.create("registration-api-key");if(!a)throw ki.create("registration-app-id");const c=new yve(a,r.name,t=t||"firebase"),l=new vve(c),u=new cl(UD);u.logLevel=pt.ERROR;const d=new cve(i,Ga,t,o,s,a),h=new dve(d,c),f=new sve(h,c,l,u),y=new pve(r,f,l,c,u);return function rve(n){const e=zt(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(y),y},"PUBLIC").setMultipleInstances(!0)),Vt(UD,"0.4.4"),Vt(UD,"0.4.4","esm2017")}();const Cve=(n,e)=>e.some(t=>n instanceof t);let U9,j9;const z9=new WeakMap,qD=new WeakMap,$9=new WeakMap,WD=new WeakMap,KD=new WeakMap;let QD={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return qD.get(n);if("objectStoreNames"===e)return n.objectStoreNames||$9.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Xs(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function Sve(n){return"function"==typeof n?function Mve(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function xve(){return j9||(j9=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(YD(this),e),Xs(z9.get(this))}:function(...e){return Xs(n.apply(YD(this),e))}:function(e,...t){const r=n.call(YD(this),e,...t);return $9.set(r,e.sort?e.sort():[e]),Xs(r)}}(n):(n instanceof IDBTransaction&&function Tve(n){if(qD.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});qD.set(n,e)}(n),Cve(n,function Eve(){return U9||(U9=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,QD):n)}function Xs(n){if(n instanceof IDBRequest)return function Ive(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Xs(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&z9.set(t,n)}).catch(()=>{}),KD.set(e,n),e}(n);if(WD.has(n))return WD.get(n);const e=Sve(n);return e!==n&&(WD.set(n,e),KD.set(e,n)),e}const YD=n=>KD.get(n);function H9(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(n,e),a=Xs(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Xs(s.result),c.oldVersion,c.newVersion,Xs(s.transaction))}),t&&s.addEventListener("blocked",()=>t()),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function XD(n,{blocked:e}={}){const t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",()=>e()),Xs(t).then(()=>{})}const Ave=["get","getKey","getAll","getAllKeys","count"],kve=["put","add","delete","clear"],ZD=new Map;function G9(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(ZD.get(e))return ZD.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=kve.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Ave.includes(t))return;const o=function(){var s=_(function*(a,...c){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(c.shift())),(yield Promise.all([u[t](...c),i&&l.done]))[0]});return function(c){return s.apply(this,arguments)}}();return ZD.set(e,o),o}!function Dve(n){QD=n(QD)}(n=>({...n,get:(e,t,r)=>G9(e,t)||n.get(e,t,r),has:(e,t)=>!!G9(e,t)||n.has(e,t)}));const Ove="/firebase-messaging-sw.js",Pve="/firebase-cloud-messaging-push-scope",q9="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Rve="https://fcmregistrations.googleapis.com/v1",W9="google.c.a.c_id",Nve="google.c.a.c_l",Fve="google.c.a.ts";var g0=function(n){return n.PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",n}(g0||{});function Zs(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Bve(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),i=new Uint8Array(r.length);for(let o=0;o<r.length;++o)i[o]=r.charCodeAt(o);return i}const JD="fcm_token_details_db",Uve=5,K9="fcm_token_object_Store";function eM(){return eM=_(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(o=>o.name).includes(JD))return null;let e=null;return(yield H9(JD,Uve,{upgrade:(r=_(function*(i,o,s,a){var c;if(o<2||!i.objectStoreNames.contains(K9))return;const l=a.objectStore(K9),u=yield l.index("fcmSenderId").get(n);if(yield l.clear(),u)if(2===o){const d=u;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(c=d.createTime)&&void 0!==c?c:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:Zs(d.vapidKey)}}}else if(3===o){const d=u;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Zs(d.auth),p256dh:Zs(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Zs(d.vapidKey)}}}else if(4===o){const d=u;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Zs(d.auth),p256dh:Zs(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Zs(d.vapidKey)}}}}),function(o,s,a,c){return r.apply(this,arguments)})})).close(),yield XD(JD),yield XD("fcm_vapid_details_db"),yield XD("undefined"),function zve(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),eM.apply(this,arguments)}const $ve="firebase-messaging-database",Hve=1,pl="firebase-messaging-store";let tM=null;function nM(){return tM||(tM=H9($ve,Hve,{upgrade:(n,e)=>{0===e&&n.createObjectStore(pl)}})),tM}function Q9(n){return rM.apply(this,arguments)}function rM(){return rM=_(function*(n){const e=aM(n),r=yield(yield nM()).transaction(pl).objectStore(pl).get(e);if(r)return r;{const i=yield function jve(n){return eM.apply(this,arguments)}(n.appConfig.senderId);if(i)return yield iM(n,i),i}}),rM.apply(this,arguments)}function iM(n,e){return oM.apply(this,arguments)}function oM(){return(oM=_(function*(n,e){const t=aM(n),i=(yield nM()).transaction(pl,"readwrite");return yield i.objectStore(pl).put(e,t),yield i.done,e})).apply(this,arguments)}function sM(){return(sM=_(function*(n){const e=aM(n),r=(yield nM()).transaction(pl,"readwrite");yield r.objectStore(pl).delete(e),yield r.done})).apply(this,arguments)}function aM({appConfig:n}){return n.appId}const Lr=new ds("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Wve(n,e){return cM.apply(this,arguments)}function cM(){return(cM=_(function*(n,e){const t=yield hM(n),r=X9(e),i={method:"POST",headers:t,body:JSON.stringify(r)};let o;try{o=yield(yield fetch(dM(n.appConfig),i)).json()}catch(s){throw Lr.create("token-subscribe-failed",{errorInfo:s?.toString()})}if(o.error)throw Lr.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw Lr.create("token-subscribe-no-token");return o.token})).apply(this,arguments)}function lM(){return(lM=_(function*(n,e){const t=yield hM(n),r=X9(e.subscriptionOptions),i={method:"PATCH",headers:t,body:JSON.stringify(r)};let o;try{o=yield(yield fetch(`${dM(n.appConfig)}/${e.token}`,i)).json()}catch(s){throw Lr.create("token-update-failed",{errorInfo:s?.toString()})}if(o.error)throw Lr.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw Lr.create("token-update-no-token");return o.token})).apply(this,arguments)}function Y9(n,e){return uM.apply(this,arguments)}function uM(){return(uM=_(function*(n,e){const r={method:"DELETE",headers:yield hM(n)};try{const o=yield(yield fetch(`${dM(n.appConfig)}/${e}`,r)).json();if(o.error)throw Lr.create("token-unsubscribe-failed",{errorInfo:o.error.message})}catch(i){throw Lr.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function dM({projectId:n}){return`${Rve}/projects/${n}/registrations`}function hM(n){return fM.apply(this,arguments)}function fM(){return(fM=_(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})).apply(this,arguments)}function X9({p256dh:n,auth:e,endpoint:t,vapidKey:r}){const i={web:{endpoint:t,auth:e,p256dh:n}};return r!==q9&&(i.web.applicationPubKey=r),i}const Qve=6048e5;function pM(){return pM=_(function*(n){const e=yield function Zve(n,e){return yM.apply(this,arguments)}(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:Zs(e.getKey("auth")),p256dh:Zs(e.getKey("p256dh"))},r=yield Q9(n.firebaseDependencies);if(r){if(function Jve(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}(r.subscriptionOptions,t))return Date.now()>=r.createTime+Qve?function Xve(n,e){return mM.apply(this,arguments)}(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{yield Y9(n.firebaseDependencies,r.token)}catch(i){console.warn(i)}return J9(n.firebaseDependencies,t)}return J9(n.firebaseDependencies,t)}),pM.apply(this,arguments)}function gM(){return gM=_(function*(n){const e=yield Q9(n.firebaseDependencies);e&&(yield Y9(n.firebaseDependencies,e.token),yield function Gve(n){return sM.apply(this,arguments)}(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()}),gM.apply(this,arguments)}function mM(){return mM=_(function*(n,e){try{const t=yield function Kve(n,e){return lM.apply(this,arguments)}(n.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield iM(n.firebaseDependencies,r),t}catch(t){throw yield function Z9(n){return gM.apply(this,arguments)}(n),t}}),mM.apply(this,arguments)}function J9(n,e){return _M.apply(this,arguments)}function _M(){return(_M=_(function*(n,e){const r={token:yield Wve(n,e),createTime:Date.now(),subscriptionOptions:e};return yield iM(n,r),r.token})).apply(this,arguments)}function yM(){return(yM=_(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Bve(e)})})).apply(this,arguments)}function e$(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function e0e(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const r=e.notification.body;r&&(n.notification.body=r);const i=e.notification.image;i&&(n.notification.image=i);const o=e.notification.icon;o&&(n.notification.icon=o)}(e,n),function t0e(n,e){e.data&&(n.data=e.data)}(e,n),function n0e(n,e){var t,r,i,o,s;if(!(e.fcmOptions||null!==(t=e.notification)&&void 0!==t&&t.click_action))return;n.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(o=e.notification)||void 0===o?void 0:o.click_action;a&&(n.fcmOptions.link=a);const c=null===(s=e.fcmOptions)||void 0===s?void 0:s.analytics_label;c&&(n.fcmOptions.analyticsLabel=c)}(e,n),e}function t$(n,e){const t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));return t.join("")}function vM(n){return Lr.create("missing-app-config-values",{valueName:n})}t$("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),t$("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class o0e{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function i0e(n){if(!n||!n.options)throw vM("App Configuration Object");if(!n.name)throw vM("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const r of e)if(!t[r])throw vM(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}}function bM(){return(bM=_(function*(n){try{n.swRegistration=yield navigator.serviceWorker.register(Ove,{scope:Pve}),n.swRegistration.update().catch(()=>{})}catch(e){throw Lr.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function wM(){return(wM=_(function*(n,e){if(!e&&!n.swRegistration&&(yield function n$(n){return bM.apply(this,arguments)}(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Lr.create("invalid-sw-registration");n.swRegistration=e}})).apply(this,arguments)}function CM(){return(CM=_(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=q9)})).apply(this,arguments)}function EM(){return EM=_(function*(n,e){if(!navigator)throw Lr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Lr.create("permission-blocked");return yield function a0e(n,e){return CM.apply(this,arguments)}(n,e?.vapidKey),yield function s0e(n,e){return wM.apply(this,arguments)}(n,e?.serviceWorkerRegistration),function Yve(n){return pM.apply(this,arguments)}(n)}),EM.apply(this,arguments)}function xM(){return(xM=_(function*(n,e,t){const r=function l0e(n){switch(n){case g0.NOTIFICATION_CLICKED:return"notification_open";case g0.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[W9],message_name:t[Nve],message_time:t[Fve],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function IM(){return IM=_(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===g0.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(e$(t)):n.onMessageHandler.next(e$(t)));const r=t.data;(function r0e(n){return"object"==typeof n&&!!n&&W9 in n})(r)&&"1"===r["google.c.a.e"]&&(yield function c0e(n,e,t){return xM.apply(this,arguments)}(n,t.messageType,r))}),IM.apply(this,arguments)}const i$="@firebase/messaging",d0e=n=>{const e=new o0e(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function u0e(n,e){return IM.apply(this,arguments)}(e,t)),e},h0e=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:r=>function r$(n,e){return EM.apply(this,arguments)}(e,r)}};function s$(){return TM.apply(this,arguments)}function TM(){return(TM=_(function*(){try{yield Lp()}catch{return!1}return typeof window<"u"&&za()&&$T()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function f0e(){Fr(new vr("messaging",d0e,"PUBLIC")),Fr(new vr("messaging-internal",h0e,"PRIVATE")),Vt(i$,"0.12.4"),Vt(i$,"0.12.4","esm2017")}();const m0="analytics",m0e="firebase_id",_0e="origin",y0e=6e4,v0e="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",SM="https://www.googletagmanager.com/gtag/js",br=new cl("@firebase/analytics"),mi=new ds("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function w0e(n){if(!n.startsWith(SM)){const e=mi.create("invalid-gtag-resource",{gtagURL:n});return br.warn(e.message),""}return n}function a$(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function AM(){return(AM=_(function*(n,e,t,r,i,o){const s=r[i];try{if(s)yield e[s];else{const c=(yield a$(t)).find(l=>l.measurementId===i);c&&(yield e[c.appId])}}catch(a){br.error(a)}n("config",i,o)})).apply(this,arguments)}function kM(){return(kM=_(function*(n,e,t,r,i){try{let o=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);const a=yield a$(t);for(const c of s){const l=a.find(d=>d.measurementId===c),u=l&&e[l.appId];if(!u){o=[];break}o.push(u)}}0===o.length&&(o=Object.values(e)),yield Promise.all(o),n("event",r,i||{})}catch(o){br.error(o)}})).apply(this,arguments)}const A0e=30,c$=new class O0e{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function P0e(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function OM(){return(OM=_(function*(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:P0e(r)},o=v0e.replace("{app-id}",t),s=yield fetch(o,i);if(200!==s.status&&304!==s.status){let a="";try{const c=yield s.json();null!==(e=c.error)&&void 0!==e&&e.message&&(a=c.error.message)}catch{}throw mi.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a})}return s.json()})).apply(this,arguments)}function PM(){return(PM=_(function*(n,e=c$,t){const{appId:r,apiKey:i,measurementId:o}=n.options;if(!r)throw mi.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw mi.create("no-api-key")}const s=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new V0e;return setTimeout(_(function*(){a.abort()}),void 0!==t?t:y0e),l$({appId:r,apiKey:i,measurementId:o},s,a,e)})).apply(this,arguments)}function l$(n,e,t){return RM.apply(this,arguments)}function RM(){return RM=_(function*(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=c$){var o;const{appId:s,measurementId:a}=n;try{yield function F0e(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(o),r(mi.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(c){if(a)return br.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:s,measurementId:a};throw c}try{const c=yield function R0e(n){return OM.apply(this,arguments)}(n);return i.deleteThrottleMetadata(s),c}catch(c){const l=c;if(!function L0e(n){if(!(n instanceof qi&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(l)){if(i.deleteThrottleMetadata(s),a)return br.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l?.message}]`),{appId:s,measurementId:a};throw c}const u=503===Number(null===(o=l?.customData)||void 0===o?void 0:o.httpStatus)?qT(t,i.intervalMillis,A0e):qT(t,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+u,backoffCount:t+1};return i.setThrottleMetadata(s,d),br.debug(`Calling attemptFetch again in ${u} millis`),l$(n,d,r,i)}}),RM.apply(this,arguments)}class V0e{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let NM,zM;function FM(){return(FM=_(function*(n,e,t,r,i){if(i&&i.global)n("event",t,r);else{const o=yield e;n("event",t,Object.assign(Object.assign({},r),{send_to:o}))}})).apply(this,arguments)}function $M(){return($M=_(function*(){if(!za())return br.warn(mi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield Lp()}catch(n){return br.warn(mi.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}return!0})).apply(this,arguments)}function HM(){return HM=_(function*(n,e,t,r,i,o,s){var a;const c=function N0e(n){return PM.apply(this,arguments)}(n);c.then(f=>{t[f.measurementId]=f.appId,n.options.measurementId&&f.measurementId!==n.options.measurementId&&br.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>br.error(f)),e.push(c);const l=function G0e(){return $M.apply(this,arguments)}().then(f=>{if(f)return r.getId()}),[u,d]=yield Promise.all([c,l]);(function S0e(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(SM)&&t.src.includes(n))return t;return null})(o)||function E0e(n,e){const t=function C0e(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}("firebase-js-sdk-policy",{createScriptURL:w0e}),r=document.createElement("script"),i=`${SM}?l=${n}&id=${e}`;r.src=t?t?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(o,u.measurementId),zM&&(i("consent","default",zM),function u$(n){zM=n}(void 0)),i("js",new Date);const h=null!==(a=s?.config)&&void 0!==a?a:{};return h[_0e]="firebase",h.update=!0,null!=d&&(h[m0e]=d),i("config",u.measurementId,h),NM&&(i("set",NM),function d$(n){NM=n}(void 0)),u.measurementId}),HM.apply(this,arguments)}class W0e{constructor(e){this.app=e}_delete(){return delete fs[this.app.options.appId],Promise.resolve()}}let fs={},h$=[];const f$={};let g$,ps,_0="dataLayer",GM=!1;function Q0e(n,e,t){!function K0e(){const n=[];if(zT()&&n.push("This is a browser extension environment."),$T()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=mi.create("invalid-analytics-context",{errorInfo:e});br.warn(t.message)}}();const r=n.options.appId;if(!r)throw mi.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw mi.create("no-api-key");br.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=fs[r])throw mi.create("already-exists",{id:r});if(!GM){!function x0e(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(_0);const{wrappedGtag:o,gtagCore:s}=function M0e(n,e,t,r,i){let o=function(...s){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=function D0e(n,e,t,r){function o(){return o=_(function*(s,...a){try{if("event"===s){const[c,l]=a;yield function T0e(n,e,t,r,i){return kM.apply(this,arguments)}(n,e,t,c,l)}else if("config"===s){const[c,l]=a;yield function I0e(n,e,t,r,i,o){return AM.apply(this,arguments)}(n,e,t,r,c,l)}else if("consent"===s){const[c]=a;n("consent","update",c)}else if("get"===s){const[c,l,u]=a;n("get",c,l,u)}else if("set"===s){const[c]=a;n("set",c)}else n(s,...a)}catch(c){br.error(c)}}),o.apply(this,arguments)}return function i(s){return o.apply(this,arguments)}}(o,n,e,t),{gtagCore:o,wrappedGtag:window[i]}}(fs,h$,f$,_0,"gtag");ps=o,g$=s,GM=!0}return fs[r]=function q0e(n,e,t,r,i,o,s){return HM.apply(this,arguments)}(n,h$,f$,e,g$,_0,t),new W0e(n)}function X0e(){return qM.apply(this,arguments)}function qM(){return(qM=_(function*(){if(zT()||!$T()||!za())return!1;try{return yield Lp()}catch{return!1}})).apply(this,arguments)}const m$="@firebase/analytics";!function J0e(){Fr(new vr(m0,(e,{options:t})=>Q0e(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),Fr(new vr("analytics-internal",function n(e){try{const t=e.getProvider(m0).getImmediate();return{logEvent:(r,i,o)=>function Z0e(n,e,t,r){n=zt(n),function B0e(n,e,t,r,i){return FM.apply(this,arguments)}(ps,fs[n.app.options.appId],e,t,r).catch(i=>br.error(i))}(t,r,i,o)}}catch(t){throw mi.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),Vt(m$,"0.10.0"),Vt(m$,"0.10.0","esm2017")}();class ebe extends Yn{constructor(e,t){super()}schedule(e,t=0){return this}}const y0={setInterval(n,e,...t){const{delegate:r}=y0;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=y0;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class v0 extends ebe{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return y0.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&y0.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,p_(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const y$={now:()=>(y$.delegate||Date).now(),delegate:void 0};class Gp{constructor(e,t=Gp.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}Gp.now=y$.now;class b0 extends Gp{constructor(e,t=Gp.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const rbe=new class nbe extends b0{}(class tbe extends v0{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}}),qp=new b0(v0),ibe=qp,Ud=new Pa("7.6.1"),KM="__angularfire_symbol__analyticsIsSupportedValue",QM="__angularfire_symbol__analyticsIsSupported",YM="__angularfire_symbol__remoteConfigIsSupportedValue",XM="__angularfire_symbol__remoteConfigIsSupported",ZM="__angularfire_symbol__messagingIsSupportedValue",JM="__angularfire_symbol__messagingIsSupported";function Wp(n,e,t){if(e){if(1===e.length)return e[0];const o=e.filter(s=>s.app===t);if(1===o.length)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}globalThis[QM]||(globalThis[QM]=X0e().then(n=>globalThis[KM]=n).catch(()=>globalThis[KM]=!1)),globalThis[JM]||(globalThis[JM]=s$().then(n=>globalThis[ZM]=n).catch(()=>globalThis[ZM]=!1)),globalThis[XM]||(globalThis[XM]=wve().then(n=>globalThis[YM]=n).catch(()=>globalThis[YM]=!1));const Kp=(n,e)=>{const t=e?[e]:c9(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r};function jd(){}class v${constructor(e,t=rbe){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(s){i.runGuarded(()=>{e.apply(this,[s])})},t,r)}}class obe{constructor(e){this.zone=e,this.task=null}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",jd,{},jd,jd)),t.pipe(kn({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Qp=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new v$(Zone.current)),this.insideAngular=t.run(()=>new v$(Zone.current,qp)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)($(De))},n.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function gl(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function ml(n){return gl().ngZone.run(()=>n())}function abe(n){return gl(),function cbe(n){return function(t){return(t=t.lift(new obe(n.ngZone))).pipe(xv(n.outsideAngular),Ev(n.insideAngular))}}(gl())(n)}const lbe=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),ml(()=>n.apply(void 0,r))},wr=(n,e)=>function(){let t;const r=arguments;for(let o=0;o<arguments.length;o++)"function"==typeof r[o]&&(e&&(t||(t=ml(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",jd,{},jd,jd)))),r[o]=lbe(r[o],t));const i=function sbe(n){return gl().ngZone.runOutsideAngular(()=>n())}(()=>n.apply(this,r));if(!e){if(i instanceof qt){const o=gl();return i.pipe(xv(o.outsideAngular),Ev(o.insideAngular))}return ml(()=>i)}return i instanceof qt?i.pipe(abe):i instanceof Promise?ml(()=>new Promise((o,s)=>i.then(a=>ml(()=>o(a)),a=>ml(()=>s(a))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:ml(()=>i)};class Wa{constructor(e){return e}}class Yp{constructor(){return c9()}}const tS=new X("angularfire2._apps"),dbe={provide:Wa,useFactory:function ube(n){return n&&1===n.length?n[0]:new Wa(zp())},deps:[[new Yt,tS]]},hbe={provide:Yp,deps:[[new Yt,tS]]};function fbe(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Wa(r)}}let pbe=(()=>{class n{constructor(t){Vt("angularfire",Ud.full,"core"),Vt("angularfire",Ud.full,"app"),Vt("angular",gce.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)($(ro))},n.\u0275mod=ot({type:n}),n.\u0275inj=et({providers:[dbe,hbe]}),n})();function gbe(n,...e){return{ngModule:pbe,providers:[{provide:tS,useFactory:fbe(n),multi:!0,deps:[De,Ut,Qp,...e]}]}}const mbe=wr(a9,!0),nS=new Map,b$={activated:!1,tokenObservers:[]},_be={initialized:!1,enabled:!1};function On(n){return nS.get(n)||Object.assign({},b$)}function w0(){return _be}const rS="https://content-firebaseappcheck.googleapis.com/v1",wbe="exchangeDebugToken",w$={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Ebe{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return _(function*(){t.stop();try{t.pending=new Nd,yield function xbe(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Nd,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Vr=new ds("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function iS(n){if(!On(n).activated)throw Vr.create("use-before-activation",{appName:n.name})}function x0(n,e){return sS.apply(this,arguments)}function sS(){return(sS=_(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const o={method:"POST",body:JSON.stringify(e),headers:r};let s,a;try{s=yield fetch(n,o)}catch(d){throw Vr.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==s.status)throw Vr.create("fetch-status-error",{httpStatus:s.status});try{a=yield s.json()}catch(d){throw Vr.create("fetch-parse-error",{originalErrorMessage:d?.message})}const c=a.ttl.match(/^([\d.]+)(s)$/);if(!c||!c[2]||isNaN(Number(c[1])))throw Vr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const l=1e3*Number(c[1]),u=Date.now();return{token:a.token,expireTimeMillis:u+l,issuedAtTimeMillis:u}})).apply(this,arguments)}function C$(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${rS}/projects/${t}/apps/${r}:${wbe}?key=${i}`,body:{debug_token:e}}}const Mbe="firebase-app-check-database",Sbe=1,Xp="firebase-app-check-store";let I0=null;function aS(){return(aS=_(function*(n,e){const r=(yield function x$(){return I0||(I0=new Promise((n,e)=>{try{const t=indexedDB.open(Mbe,Sbe);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Vr.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Xp,{keyPath:"compositeKey"})}}catch(t){e(Vr.create("storage-open",{originalErrorMessage:t?.message}))}}),I0)}()).transaction(Xp,"readwrite"),o=r.objectStore(Xp).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=c=>{s()},r.onerror=c=>{var l;a(Vr.create("storage-set",{originalErrorMessage:null===(l=c.target.error)||void 0===l?void 0:l.message}))}})})).apply(this,arguments)}const Zp=new cl("@firebase/app-check");function uS(n,e){return za()?function kbe(n,e){return function I$(n,e){return aS.apply(this,arguments)}(function D$(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Zp.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function hS(){return w0().enabled}function fS(){return pS.apply(this,arguments)}function pS(){return(pS=_(function*(){const n=w0();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Lbe={error:"UNKNOWN_ERROR"};function Vbe(n){return t0.encodeString(JSON.stringify(n),!1)}function T0(n){return gS.apply(this,arguments)}function gS(){return(gS=_(function*(n,e=!1){const t=n.app;iS(t);const r=On(t);let o,i=r.token;if(i&&!zd(i)&&(r.token=void 0,i=void 0),!i){const c=yield r.cachedTokenPromise;c&&(zd(c)?i=c:yield uS(t,void 0))}if(!e&&i&&zd(i))return{token:i.token};let a,s=!1;if(hS()){r.exchangeTokenPromise||(r.exchangeTokenPromise=x0(C$(t,yield fS()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),s=!0);const c=yield r.exchangeTokenPromise;return yield uS(t,c),r.token=c,{token:c.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),s=!0),i=yield On(t).exchangeTokenPromise}catch(c){"appCheck/throttled"===c.code?Zp.warn(c.message):Zp.error(c),o=c}return i?o?a=zd(i)?{token:i.token,internalError:o}:k$(o):(a={token:i.token},r.token=i,yield uS(t,i)):a=k$(o),s&&function A$(n,e){const t=On(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,a),a})).apply(this,arguments)}function M$(n){return mS.apply(this,arguments)}function mS(){return(mS=_(function*(n){const e=n.app;iS(e);const{provider:t}=On(e);if(hS()){const r=yield fS(),{token:i}=yield x0(C$(e,r),n.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield t.getToken();return{token:r}}})).apply(this,arguments)}function yS(n,e){const t=On(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function S$(n){const{app:e}=n,t=On(e);let r=t.tokenRefresher;r||(r=function Bbe(n){const{app:e}=n;return new Ebe(_(function*(){let r;if(r=On(e).token?yield T0(n,!0):yield T0(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=On(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},w$.RETRIAL_MIN_WAIT,w$.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function zd(n){return n.expireTimeMillis-Date.now()>0}function k$(n){return{token:Vbe(Lbe),error:n}}class Ube{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=On(this.app);for(const t of e)yS(this.app,t.next);return Promise.resolve()}}const B$="app-check-internal";!function ewe(){Fr(new vr("app-check",n=>function jbe(n,e){return new Ube(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(B$).initialize()})),Fr(new vr(B$,n=>function zbe(n){return{getToken:e=>T0(n,e),getLimitedUseToken:()=>M$(n),addTokenListener:e=>function _S(n,e,t,r){const{app:i}=n,o=On(i);if(o.tokenObservers=[...o.tokenObservers,{next:t,error:r,type:e}],o.token&&zd(o.token)){const a=o.token;Promise.resolve().then(()=>{t({token:a.token}),S$(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>S$(n))}(n,"INTERNAL",e),removeTokenListener:e=>yS(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),Vt("@firebase/app-check","0.8.0")}();class Jp{constructor(){return Kp("app-check")}}typeof window<"u"&&window;const owe=function j$(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},z$=new ds("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),M0=new cl("@firebase/auth");function S0(n,...e){M0.logLevel<=pt.ERROR&&M0.error(`Auth (${Ga}): ${n}`,...e)}function Oi(n,...e){throw ES(n,...e)}function gs(n,...e){return ES(n,...e)}function ES(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return z$.create(n,...e)}function ie(n,e,...t){if(!n)throw ES(e,...t)}function ms(n){const e="INTERNAL ASSERTION FAILED: "+n;throw S0(e),new Error(e)}function Ka(n,e){n||ms(e)}function eg(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function H$(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class tg{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ka(t>e,"Short delay should be less than long delay!"),this.isMobile=jT()||Z6()}get(){return function awe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function xS(){return"http:"===H$()||"https:"===H$()}()||zT()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function IS(n,e){Ka(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class G${static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ms("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ms("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ms("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const lwe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},uwe=new tg(3e4,6e4);function En(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Pn(n,e,t,r){return TS.apply(this,arguments)}function TS(){return(TS=_(function*(n,e,t,r,i={}){return q$(n,i,_(function*(){let o={},s={};r&&("GET"===e?s=r:o={body:JSON.stringify(r)});const a=Ld(Object.assign({key:n.config.apiKey},s)).slice(1),c=yield n._getAdditionalHeaders();return c["Content-Type"]="application/json",n.languageCode&&(c["X-Firebase-Locale"]=n.languageCode),G$.fetch()(W$(n,n.config.apiHost,t,a),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},o))}))})).apply(this,arguments)}function q$(n,e,t){return DS.apply(this,arguments)}function DS(){return(DS=_(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},lwe),e);try{const i=new dwe(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const s=yield o.json();if("needConfirmation"in s)throw ng(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[c,l]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===c)throw ng(n,"credential-already-in-use",s);if("EMAIL_EXISTS"===c)throw ng(n,"email-already-in-use",s);if("USER_DISABLED"===c)throw ng(n,"user-disabled",s);const u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw function $$(n,e,t){const r=Object.assign(Object.assign({},owe()),{[e]:t});return new ds("auth","Firebase",r).create(e,{appName:n.name})}(n,u,l);Oi(n,u)}}catch(i){if(i instanceof qi)throw i;Oi(n,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function Js(n,e,t,r){return MS.apply(this,arguments)}function MS(){return(MS=_(function*(n,e,t,r,i={}){const o=yield Pn(n,e,t,r,i);return"mfaPendingCredential"in o&&Oi(n,"multi-factor-auth-required",{_serverResponse:o}),o})).apply(this,arguments)}function W$(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?IS(n.config,i):`${n.config.apiScheme}://${i}`}class dwe{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(gs(this.auth,"network-request-failed")),uwe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ng(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=gs(n,e,r);return i.customData._tokenResponse=t,i}function SS(){return(SS=_(function*(n,e){return Pn(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function kS(){return(kS=_(function*(n,e){return Pn(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function rg(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function OS(){return(OS=_(function*(n,e=!1){const t=zt(n),r=yield t.getIdToken(e),i=A0(r);ie(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:rg(PS(i.auth_time)),issuedAtTime:rg(PS(i.iat)),expirationTime:rg(PS(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})).apply(this,arguments)}function PS(n){return 1e3*Number(n)}function A0(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return S0("JWT malformed, contained fewer than 3 sections"),null;try{const i=r0(t);return i?JSON.parse(i):(S0("Failed to decode base64 JWT payload"),null)}catch(i){return S0("Caught error parsing JWT payload as JSON",i?.toString()),null}}function ea(n,e){return RS.apply(this,arguments)}function RS(){return(RS=_(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof qi&&function _we({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}class ywe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(_(function*(){yield t.iteration()}),r)}iteration(){var e=this;return _(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class K${constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=rg(this.lastLoginAt),this.creationTime=rg(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ig(n){return NS.apply(this,arguments)}function NS(){return NS=_(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield ea(n,function pwe(n,e){return kS.apply(this,arguments)}(t,{idToken:r}));ie(i?.users.length,t,"internal-error");const o=i.users[0];n._notifyReloadListener(o);const s=null!==(e=o.providerUserInfo)&&void 0!==e&&e.length?function wwe(n){return n.map(e=>{var{providerId:t}=e,r=Cv(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(o.providerUserInfo):[],a=function bwe(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(n.providerData,s),u=!!n.isAnonymous&&!(n.email&&o.passwordHash||a?.length),d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new K$(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(n,d)}),NS.apply(this,arguments)}function FS(){return(FS=_(function*(n){const e=zt(n);yield ig(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function LS(){return(LS=_(function*(n,e){const t=yield q$(n,{},_(function*(){const r=Ld({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=W$(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",G$.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class og{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ie(e.idToken,"internal-error"),ie(typeof e.idToken<"u","internal-error"),ie(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function mwe(n){const e=A0(n);return ie(e,"internal-error"),ie(typeof e.exp<"u","internal-error"),ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return _(function*(){return ie(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return _(function*(){const{accessToken:i,refreshToken:o,expiresIn:s}=yield function Cwe(n,e){return LS.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,o,Number(s))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new og;return r&&(ie("string"==typeof r,"internal-error",{appName:e}),s.refreshToken=r),i&&(ie("string"==typeof i,"internal-error",{appName:e}),s.accessToken=i),o&&(ie("number"==typeof o,"internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new og,this.toJSON())}_performRefresh(){return ms("not implemented")}}function Qa(n,e){ie("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class _l{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=Cv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ywe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new K$(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){var t=this;return _(function*(){const r=yield ea(t,t.stsTokenManager.getToken(t.auth,e));return ie(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function gwe(n){return OS.apply(this,arguments)}(this,e)}reload(){return function vwe(n){return FS.apply(this,arguments)}(this)}_assign(e){this!==e&&(ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new _l(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return _(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield ig(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return _(function*(){const t=yield e.getIdToken();return yield ea(e,function hwe(n,e){return SS.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,c,l,u;const d=null!==(r=t.displayName)&&void 0!==r?r:void 0,h=null!==(i=t.email)&&void 0!==i?i:void 0,f=null!==(o=t.phoneNumber)&&void 0!==o?o:void 0,y=null!==(s=t.photoURL)&&void 0!==s?s:void 0,E=null!==(a=t.tenantId)&&void 0!==a?a:void 0,I=null!==(c=t._redirectEventId)&&void 0!==c?c:void 0,k=null!==(l=t.createdAt)&&void 0!==l?l:void 0,M=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:V,emailVerified:K,isAnonymous:oe,providerData:de,stsTokenManager:ze}=t;ie(V&&ze,e,"internal-error");const ht=og.fromJSON(this.name,ze);ie("string"==typeof V,e,"internal-error"),Qa(d,e.name),Qa(h,e.name),ie("boolean"==typeof K,e,"internal-error"),ie("boolean"==typeof oe,e,"internal-error"),Qa(f,e.name),Qa(y,e.name),Qa(E,e.name),Qa(I,e.name),Qa(k,e.name),Qa(M,e.name);const or=new _l({uid:V,auth:e,email:h,emailVerified:K,displayName:d,isAnonymous:oe,photoURL:y,phoneNumber:f,tenantId:E,stsTokenManager:ht,createdAt:k,lastLoginAt:M});return de&&Array.isArray(de)&&(or.providerData=de.map(Gr=>Object.assign({},Gr))),I&&(or._redirectEventId=I),or}static _fromIdTokenResponse(e,t,r=!1){return _(function*(){const i=new og;i.updateFromServerResponse(t);const o=new _l({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield ig(o),o})()}}const Q$=new Map;function ta(n){Ka(n instanceof Function,"Expected a class definition");let e=Q$.get(n);return e?(Ka(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Q$.set(n,e),e)}const Y$=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(function*(){return!0})()}_set(t,r){var i=this;return _(function*(){i.storage[t]=r})()}_get(t){var r=this;return _(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return _(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function k0(n,e,t){return`firebase:${n}:${e}:${t}`}class Hd{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=k0(this.userKey,i.apiKey,o),this.fullPersistenceKey=k0("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return _(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?_l._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return _(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return _(function*(){if(!t.length)return new Hd(ta(Y$),e,r);const i=(yield Promise.all(t.map(function(){var l=_(function*(u){if(yield u._isAvailable())return u});return function(u){return l.apply(this,arguments)}}()))).filter(l=>l);let o=i[0]||ta(Y$);const s=k0(r,e.config.apiKey,e.name);let a=null;for(const l of t)try{const u=yield l._get(s);if(u){const d=_l._fromJSON(e,u);l!==o&&(a=d),o=l;break}}catch{}const c=i.filter(l=>l._shouldAllowMigration);return o._shouldAllowMigration&&c.length?(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(function(){var l=_(function*(u){if(u!==o)try{yield u._remove(s)}catch{}});return function(u){return l.apply(this,arguments)}}())),new Hd(o,e,r)):new Hd(o,e,r)})()}}function X$(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(eH(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Z$(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(nH(e))return"Blackberry";if(rH(e))return"Webos";if(VS(e))return"Safari";if((e.includes("chrome/")||J$(e))&&!e.includes("edge/"))return"Chrome";if(tH(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function Z$(n=Gn()){return/firefox\//i.test(n)}function VS(n=Gn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function J$(n=Gn()){return/crios\//i.test(n)}function eH(n=Gn()){return/iemobile/i.test(n)}function tH(n=Gn()){return/android/i.test(n)}function nH(n=Gn()){return/blackberry/i.test(n)}function rH(n=Gn()){return/webos/i.test(n)}function O0(n=Gn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function iH(n=Gn()){return O0(n)||tH(n)||rH(n)||nH(n)||/windows phone/i.test(n)||eH(n)}function oH(n,e=[]){let t;switch(n){case"Browser":t=X$(Gn());break;case"Worker":t=`${X$(Gn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ga}/${r}`}function sH(n,e){return US.apply(this,arguments)}function US(){return(US=_(function*(n,e){return Pn(n,"GET","/v2/recaptchaConfig",En(n,e))})).apply(this,arguments)}function cH(n){return void 0!==n&&void 0!==n.enterprise}class lH{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(t=>"EMAIL_PASSWORD_PROVIDER"===t.provider&&"OFF"!==t.enforcementState)}}function jS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const o=gs("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",function Dwe(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)})}function uH(n){return`__${n}${Math.floor(1e6*Math.random())}`}class dH{constructor(e){this.type="recaptcha-enterprise",this.auth=Cr(e)}verify(e="verify",t=!1){var r=this;return _(function*(){function o(){return o=_(function*(a){if(!t){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var c=_(function*(l,u){sH(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new lH(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,l(h.siteKey)}u(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{u(d)})});return function(l,u){return c.apply(this,arguments)}}())}),o.apply(this,arguments)}function s(a,c,l){const u=window.grecaptcha;cH(u)?u.enterprise.ready(()=>{u.enterprise.execute(a,{action:e}).then(d=>{c(d)}).catch(()=>{c("NO_RECAPTCHA")})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,c)=>{(function i(a){return o.apply(this,arguments)})(r.auth).then(l=>{if(!t&&cH(window.grecaptcha))s(l,a,c);else{if(typeof window>"u")return void c(new Error("RecaptchaVerifier is only supported in browser"));jS("https://www.google.com/recaptcha/enterprise.js?render="+l).then(()=>{s(l,a,c)}).catch(u=>{c(u)})}}).catch(l=>{c(l)})})})()}}function Ya(n,e,t){return zS.apply(this,arguments)}function zS(){return(zS=_(function*(n,e,t,r=!1){const i=new dH(n);let o;try{o=yield i.verify(t)}catch{o=yield i.verify(t,!0)}const s=Object.assign({},e);return Object.assign(s,r?{captchaResp:o}:{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})).apply(this,arguments)}class kwe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((s,a)=>{try{s(e(o))}catch(c){a(c)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return _(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const i of t.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const o of r)try{o()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class Owe{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hH(this),this.idTokenSubscription=new hH(this),this.beforeStateQueue=new kwe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=z$,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=ta(t)),this._initializationPromise=this.queue(_(function*(){var i,o;if(!r._deleted&&(r.persistenceManager=yield Hd.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(o=r.currentUser)||void 0===o?void 0:o.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return _(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return _(function*(){var r;const i=yield t.assertedPersistence.getCurrentUser();let o=i,s=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const a=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,c=o?._redirectEventId,l=yield t.tryRedirectSignIn(e);(!a||a===c)&&l?.user&&(o=l.user,s=!0)}if(!o)return t.directlySetCurrentUser(null);if(!o._redirectEventId){if(s)try{yield t.beforeStateQueue.runMiddleware(o)}catch(a){o=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(a))}return o?t.reloadAndSetCurrentUserOrClear(o):t.directlySetCurrentUser(null)}return ie(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===o._redirectEventId?t.directlySetCurrentUser(o):t.reloadAndSetCurrentUserOrClear(o)})()}tryRedirectSignIn(e){var t=this;return _(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return _(function*(){try{yield ig(e)}catch(r){if("auth/network-request-failed"!==r?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function cwe(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return _(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return _(function*(){const r=e?zt(e):null;return r&&ie(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return _(function*(){if(!r._deleted)return e&&ie(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(_(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return _(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue(_(function*(){yield t.assertedPersistence.setPersistence(ta(e))}))}initializeRecaptchaConfig(){var e=this;return _(function*(){const t=yield sH(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new lH(t);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new dH(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ds("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return _(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return _(function*(){if(!t.redirectPersistenceManager){const r=e&&ta(e)||t._popupRedirectResolver;ie(r,t,"argument-error"),t.redirectPersistenceManager=yield Hd.create(t,[ta(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return _(function*(){var r,i;return t._isInitialized&&(yield t.queue(_(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return _(function*(){if(e===t.currentUser)return t.queue(_(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const o="function"==typeof t?t:t.next.bind(t),s=this._isInitialized?Promise.resolve():this._initializationPromise;return ie(s,this,"internal-error"),s.then(()=>o(this.currentUser)),"function"==typeof t?e.addObserver(t,r,i):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return _(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=oH(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return _(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const o=yield e._getAppCheckToken();return o&&(r["X-Firebase-AppCheck"]=o),r})()}_getAppCheckToken(){var e=this;return _(function*(){var t;const r=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return r?.error&&function swe(n,...e){M0.logLevel<=pt.WARN&&M0.warn(`Auth (${Ga}): ${n}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function Cr(n){return zt(n)}class hH{constructor(e){this.auth=e,this.observer=null,this.addObserver=function Vme(n,e){const t=new Bme(n,e);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function fH(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function pH(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}class sg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ms("not implemented")}_getIdTokenResponse(e){return ms("not implemented")}_linkToIdToken(e,t){return ms("not implemented")}_getReauthenticationResolver(e){return ms("not implemented")}}function mH(n,e){return HS.apply(this,arguments)}function HS(){return(HS=_(function*(n,e){return Pn(n,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function qS(n,e){return WS.apply(this,arguments)}function WS(){return(WS=_(function*(n,e){return Js(n,"POST","/v1/accounts:signInWithPassword",En(n,e))})).apply(this,arguments)}function tA(){return(tA=_(function*(n,e){return Js(n,"POST","/v1/accounts:signInWithEmailLink",En(n,e))})).apply(this,arguments)}function nA(){return(nA=_(function*(n,e){return Js(n,"POST","/v1/accounts:signInWithEmailLink",En(n,e))})).apply(this,arguments)}class ag extends sg{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new ag(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new ag(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if(t?.email&&t?.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){var t=this;return _(function*(){var r;switch(t.signInMethod){case"password":const i={returnSecureToken:!0,email:t._email,password:t._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(r=e._getRecaptchaConfig())&&void 0!==r&&r.emailPasswordEnabled){const o=yield Ya(e,i,"signInWithPassword");return qS(e,o)}return qS(e,i).catch(function(){var o=_(function*(s){if("auth/missing-recaptcha-token"===s.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const a=yield Ya(e,i,"signInWithPassword");return qS(e,a)}return Promise.reject(s)});return function(s){return o.apply(this,arguments)}}());case"emailLink":return function jwe(n,e){return tA.apply(this,arguments)}(e,{email:t._email,oobCode:t._password});default:Oi(e,"internal-error")}})()}_linkToIdToken(e,t){var r=this;return _(function*(){switch(r.signInMethod){case"password":return mH(e,{idToken:t,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function zwe(n,e){return nA.apply(this,arguments)}(e,{idToken:t,email:r._email,oobCode:r._password});default:Oi(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function na(n,e){return rA.apply(this,arguments)}function rA(){return(rA=_(function*(n,e){return Js(n,"POST","/v1/accounts:signInWithIdp",En(n,e))})).apply(this,arguments)}class ug{constructor(e){var t,r,i,o,s,a;const c=Bp(Up(e)),l=null!==(t=c.apiKey)&&void 0!==t?t:null,u=null!==(r=c.oobCode)&&void 0!==r?r:null,d=function Qwe(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=c.mode)&&void 0!==i?i:null);ie(l&&u&&d,"argument-error"),this.apiKey=l,this.operation=d,this.code=u,this.continueUrl=null!==(o=c.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(s=c.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=c.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function Ywe(n){const e=Bp(Up(n)).link,t=e?Bp(Up(e)).deep_link_id:null,r=Bp(Up(n)).deep_link_id;return(r?Bp(Up(r)).link:null)||r||t||e||n}(e);try{return new ug(t)}catch{return null}}}let _H=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return ag._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){const i=ug.parseLink(r);return ie(i,"argument-error"),ag._fromEmailAndCode(t,i.code,i.tenantId)}}return n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink",n})();class ra{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Xwe extends ra{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}function N0(n,e){return lA.apply(this,arguments)}function lA(){return(lA=_(function*(n,e){return Js(n,"POST","/v1/accounts:signUp",En(n,e))})).apply(this,arguments)}class fo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return _(function*(){const o=yield _l._fromIdTokenResponse(e,r,i),s=yH(r);return new fo({user:o,providerId:s,_tokenResponse:r,operationType:t})})()}static _forOperation(e,t,r){return _(function*(){yield e._updateTokensIfNecessary(r,!0);const i=yH(r);return new fo({user:e,providerId:i,_tokenResponse:r,operationType:t})})()}}function yH(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class F0 extends qi{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,F0.prototype),this.customData={appName:e.name,tenantId:null!==(o=e.tenantId)&&void 0!==o?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new F0(e,t,r,i)}}function vH(n,e,t,r){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw"auth/multi-factor-auth-required"===o.code?F0._fromErrorAndOperation(n,o,e,r):o})}function fA(){return(fA=_(function*(n,e,t=!1){const r=yield ea(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return fo._forOperation(n,"link",r)})).apply(this,arguments)}function gA(){return(gA=_(function*(n,e,t=!1){const{auth:r}=n,i="reauthenticate";try{const o=yield ea(n,vH(r,i,e,n),t);ie(o.idToken,r,"internal-error");const s=A0(o.idToken);ie(s,r,"internal-error");const{sub:a}=s;return ie(n.uid===a,r,"user-mismatch"),fo._forOperation(n,i,o)}catch(o){throw"auth/user-not-found"===o?.code&&Oi(r,"user-mismatch"),o}})).apply(this,arguments)}function CH(n,e){return mA.apply(this,arguments)}function mA(){return(mA=_(function*(n,e,t=!1){const r="signIn",i=yield vH(n,r,e),o=yield fo._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})).apply(this,arguments)}function yA(){return(yA=_(function*(n,e){return CH(Cr(n),e)})).apply(this,arguments)}function iCe(n,e,t){return AA.apply(this,arguments)}function AA(){return AA=_(function*(n,e,t){var r;const i=Cr(n),o={returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"};let s;if(null!==(r=i._getRecaptchaConfig())&&void 0!==r&&r.emailPasswordEnabled){const l=yield Ya(i,o,"signUpPassword");s=N0(i,l)}else s=N0(i,o).catch(function(){var l=_(function*(u){if("auth/missing-recaptcha-token"===u.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const d=yield Ya(i,o,"signUpPassword");return N0(i,d)}return Promise.reject(u)});return function(u){return l.apply(this,arguments)}}());const a=yield s.catch(l=>Promise.reject(l)),c=yield fo._fromIdTokenResponse(i,"signIn",a);return yield i._updateCurrentUser(c.user),c}),AA.apply(this,arguments)}function oCe(n,e,t){return function _A(n,e){return yA.apply(this,arguments)}(zt(n),_H.credential(e,t))}function gCe(n,e,t,r){return zt(n).onAuthStateChanged(e,t,r)}function mCe(n){return zt(n).signOut()}const V0="__sak";class IH{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(V0,"1"),this.storage.removeItem(V0),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const xCe=(()=>{class n extends IH{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function wCe(){const n=Gn();return VS(n)||O0(n)}()&&function Iwe(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=iH(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key)return void this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});const i=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(t.newValue!==a)null!==t.newValue?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!r)return}const o=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);!function xwe(){return function Ame(){const n=Gn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}()&&10===document.documentMode}()||s===t.newValue||t.newValue===t.oldValue?o():setTimeout(o,10)}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,r){var i=()=>super._set,o=this;return _(function*(){yield i().call(o,t,r),o.localCache[t]=JSON.stringify(r)})()}_get(t){var r=()=>super._get,i=this;return _(function*(){const o=yield r().call(i,t);return i.localCache[t]=JSON.stringify(o),o})()}_remove(t){var r=()=>super._remove,i=this;return _(function*(){yield r().call(i,t),delete i.localCache[t]})()}}return n.type="LOCAL",n})(),TH=(()=>{class n extends IH{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})();let TCe=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;const i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){var r=this;return _(function*(){const i=t,{eventId:o,eventType:s,data:a}=i.data,c=r.handlersMap[s];if(!c?.size)return;i.ports[0].postMessage({status:"ack",eventId:o,eventType:s});const l=Array.from(c).map(function(){var d=_(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),u=yield function ICe(n){return Promise.all(n.map(function(){var e=_(function*(t){try{return{fulfilled:!0,value:yield t}}catch(r){return{fulfilled:!1,reason:r}}});return function(t){return e.apply(this,arguments)}}()))}(l);i.ports[0].postMessage({status:"done",eventId:o,eventType:s,response:u})})()}_subscribe(t,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function HA(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return n+t}class DCe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){var i=this;return _(function*(){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let s,a;return new Promise((c,l)=>{const u=HA("",20);o.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:o,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(f.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"))}}},i.handlers.add(a),o.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:u,data:t},[o.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function tr(){return window}function GA(){return typeof tr().WorkerGlobalScope<"u"&&"function"==typeof tr().importScripts}function qA(){return(qA=_(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const DH="firebaseLocalStorageDb",B0="firebaseLocalStorage",MH="fbase_key";class fg{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function U0(n,e){return n.transaction([B0],e?"readwrite":"readonly").objectStore(B0)}function WA(){const n=indexedDB.open(DH,1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(B0,{keyPath:MH})}catch(i){t(i)}}),n.addEventListener("success",_(function*(){const r=n.result;r.objectStoreNames.contains(B0)?e(r):(r.close(),yield function PCe(){const n=indexedDB.deleteDatabase(DH);return new fg(n).toPromise()}(),e(yield WA()))}))})}function SH(n,e,t){return KA.apply(this,arguments)}function KA(){return(KA=_(function*(n,e,t){const r=U0(n,!0).put({[MH]:e,value:t});return new fg(r).toPromise()})).apply(this,arguments)}function QA(){return(QA=_(function*(n,e){const t=U0(n,!1).get(e),r=yield new fg(t).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function AH(n,e){const t=U0(n,!0).delete(e);return new fg(t).toPromise()}const LCe=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return _(function*(){return t.db||(t.db=yield WA()),t.db})()}_withRetries(t){var r=this;return _(function*(){let i=0;for(;;)try{const o=yield r._openDb();return yield t(o)}catch(o){if(i++>3)throw o;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return _(function*(){return GA()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return _(function*(){t.receiver=TCe._getInstance(function kCe(){return GA()?self:null}()),t.receiver._subscribe("keyChanged",function(){var r=_(function*(i,o){return{keyProcessed:(yield t._poll()).includes(o.key)}});return function(i,o){return r.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var r=_(function*(i,o){return["keyChanged"]});return function(i,o){return r.apply(this,arguments)}}())})()}initializeSender(){var t=this;return _(function*(){var r,i;if(t.activeServiceWorker=yield function SCe(){return qA.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new DCe(t.activeServiceWorker);const o=yield t.sender._send("ping",{},800);o&&null!==(r=o[0])&&void 0!==r&&r.fulfilled&&null!==(i=o[0])&&void 0!==i&&i.value.includes("keyChanged")&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var r=this;return _(function*(){if(r.sender&&r.activeServiceWorker&&function ACe(){var n;return(null===(n=navigator?.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return _(function*(){try{if(!indexedDB)return!1;const t=yield WA();return yield SH(t,V0,"1"),yield AH(t,V0),!0}catch{}return!1})()}_withPendingWrite(t){var r=this;return _(function*(){r.pendingWrites++;try{yield t()}finally{r.pendingWrites--}})()}_set(t,r){var i=this;return _(function*(){return i._withPendingWrite(_(function*(){return yield i._withRetries(o=>SH(o,t,r)),i.localCache[t]=r,i.notifyServiceWorker(t)}))})()}_get(t){var r=this;return _(function*(){const i=yield r._withRetries(o=>function RCe(n,e){return QA.apply(this,arguments)}(o,t));return r.localCache[t]=i,i})()}_remove(t){var r=this;return _(function*(){return r._withPendingWrite(_(function*(){return yield r._withRetries(i=>AH(i,t)),delete r.localCache[t],r.notifyServiceWorker(t)}))})()}_poll(){var t=this;return _(function*(){const r=yield t._withRetries(s=>{const a=U0(s,!1).getAll();return new fg(a).toPromise()});if(!r)return[];if(0!==t.pendingWrites)return[];const i=[],o=new Set;for(const{fbase_key:s,value:a}of r)o.add(s),JSON.stringify(t.localCache[s])!==JSON.stringify(a)&&(t.notifyListeners(s,a),i.push(s));for(const s of Object.keys(t.localCache))t.localCache[s]&&!o.has(s)&&(t.notifyListeners(s,null),i.push(s));return i})()}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const o of Array.from(i))o(r)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval(_(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();uH("rcb"),new tg(3e4,6e4);class ik extends sg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return na(e,this._buildIdpRequest())}_linkToIdToken(e,t){return na(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return na(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function JCe(n){return CH(n.auth,new ik(n),n.bypassAuthState)}function eEe(n){const{auth:e,user:t}=n;return ie(t,e,"internal-error"),function wH(n,e){return gA.apply(this,arguments)}(t,new ik(n),n.bypassAuthState)}function tEe(n){return ok.apply(this,arguments)}function ok(){return(ok=_(function*(n){const{auth:e,user:t}=n;return ie(t,e,"internal-error"),function hA(n,e){return fA.apply(this,arguments)}(t,new ik(n),n.bypassAuthState)})).apply(this,arguments)}class nEe{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=_(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(o){e.reject(o)}});return function(r,i){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return _(function*(){const{urlResponse:r,sessionId:i,postBody:o,tenantId:s,error:a,type:c}=e;if(a)return void t.reject(a);const l={auth:t.auth,requestUri:r,sessionId:i,tenantId:s||void 0,postBody:o||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(c)(l))}catch(u){t.reject(u)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return JCe;case"linkViaPopup":case"linkViaRedirect":return tEe;case"reauthViaPopup":case"reauthViaRedirect":return eEe;default:Oi(this.auth,"internal-error")}}resolve(e){Ka(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ka(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new tg(2e3,1e4);const rEe="pendingRedirect",pg=new Map;class iEe extends nEe{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,t=this;return _(function*(){let r=pg.get(t.auth._key());if(!r){try{const o=(yield function oEe(n,e){return uk.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;r=()=>Promise.resolve(o)}catch(i){r=()=>Promise.reject(i)}pg.set(t.auth._key(),r)}return t.bypassAuthState||pg.set(t.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,r=this;return _(function*(){if("signInViaRedirect"===e.type)return t().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,t().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return _(function*(){})()}cleanUp(){}}function uk(){return(uk=_(function*(n,e){const t=function PH(n){return k0(rEe,n.config.apiKey,n.name)}(e),r=function OH(n){return ta(n._redirectPersistence)}(n);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(t));return yield r._remove(t),i})).apply(this,arguments)}function sEe(n,e){pg.set(n._key(),e)}function RH(n,e){return _k.apply(this,arguments)}function _k(){return(_k=_(function*(n,e,t=!1){const r=Cr(n),i=function vl(n,e){return e?ta(e):(ie(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}(r,e),s=yield new iEe(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})).apply(this,arguments)}class dEe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function hEe(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return LH(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!LH(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(gs(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(FH(e))}saveEventToCache(e){this.cachedEventUids.add(FH(e)),this.lastProcessedEventTime=Date.now()}}function FH(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function LH({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===e?.code}function vk(){return(vk=_(function*(n,e={}){return Pn(n,"GET","/v1/projects",e)})).apply(this,arguments)}const pEe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gEe=/^https?/;function bk(){return bk=_(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield function fEe(n){return vk.apply(this,arguments)}(n);for(const t of e)try{if(_Ee(t))return}catch{}Oi(n,"unauthorized-domain")}),bk.apply(this,arguments)}function _Ee(n){const e=eg(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const s=new URL(n);return""===s.hostname&&""===r?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&s.hostname===r}if(!gEe.test(t))return!1;if(pEe.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const yEe=new tg(3e4,6e4);function VH(){const n=tr().___jsl;if(n?.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let z0=null;const wEe=new tg(5e3,15e3),CEe="__/auth/iframe",EEe="emulator/auth/iframe",xEe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},IEe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function TEe(n){const e=n.config;ie(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?IS(e,EEe):`https://${n.config.authDomain}/${CEe}`,r={apiKey:e.apiKey,appName:n.name,v:Ga},i=IEe.get(n.config.apiHost);i&&(r.eid=i);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Ld(r).slice(1)}`}function wk(){return wk=_(function*(n){const e=yield function bEe(n){return z0=z0||function vEe(n){return new Promise((e,t)=>{var r,i,o;function s(){VH(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{VH(),t(gs(n,"network-request-failed"))},timeout:yEe.get()})}if(null!==(i=null===(r=tr().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(o=tr().gapi)||void 0===o||!o.load){const a=uH("iframefcb");return tr()[a]=()=>{gapi.load?s():t(gs(n,"network-request-failed"))},jS(`https://apis.google.com/js/api.js?onload=${a}`).catch(c=>t(c))}s()}}).catch(e=>{throw z0=null,e})}(n),z0}(n),t=tr().gapi;return ie(t,n,"internal-error"),e.open({where:document.body,url:TEe(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xEe,dontclear:!0},r=>new Promise(function(){var i=_(function*(o,s){yield r.restyle({setHideOnLeave:!1});const a=gs(n,"network-request-failed"),c=tr().setTimeout(()=>{s(a)},wEe.get());function l(){tr().clearTimeout(c),o(r)}r.ping(l).then(l,()=>{s(a)})});return function(o,s){return i.apply(this,arguments)}}()))}),wk.apply(this,arguments)}const MEe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class BH{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const NEe="__/auth/handler",FEe="emulator/auth/handler",LEe=encodeURIComponent("fac");function UH(n,e,t,r,i,o){return Ck.apply(this,arguments)}function Ck(){return(Ck=_(function*(n,e,t,r,i,o){ie(n.config.authDomain,n,"auth-domain-config-required"),ie(n.config.apiKey,n,"invalid-api-key");const s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Ga,eventId:i};if(e instanceof ra){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",HT(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries(o||{}))s[u]=d}if(e instanceof Xwe){const u=e.getScopes().filter(d=>""!==d);u.length>0&&(s.scopes=u.join(","))}n.tenantId&&(s.tid=n.tenantId);const a=s;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const c=yield n._getAppCheckToken(),l=c?`#${LEe}=${encodeURIComponent(c)}`:"";return`${function VEe({config:n}){return n.emulator?IS(n,FEe):`https://${n.authDomain}/${NEe}`}(n)}?${Ld(a).slice(1)}${l}`})).apply(this,arguments)}const Ek="webStorageSupport",UEe=class BEe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=TH,this._completeRedirectFn=RH,this._overrideRedirectResult=sEe}_openPopup(e,t,r,i){var o=this;return _(function*(){var s;Ka(null===(s=o.eventManagers[e._key()])||void 0===s?void 0:s.manager,"_initialize() not called before _openPopup()");const a=yield UH(e,t,r,eg(),i);return function PEe(n,e,t,r=500,i=600){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},MEe),{width:r.toString(),height:i.toString(),top:o,left:s}),l=Gn().toLowerCase();t&&(a=J$(l)?"_blank":t),Z$(l)&&(e=e||"http://localhost",c.scrollbars="yes");const u=Object.entries(c).reduce((h,[f,y])=>`${h}${f}=${y},`,"");if(function Ewe(n=Gn()){var e;return O0(n)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(l)&&"_self"!==a)return function REe(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}(e||"",a),new BH(null);const d=window.open(e||"",a,u);ie(d,n,"popup-blocked");try{d.focus()}catch{}return new BH(d)}(e,a,HA())})()}_openRedirect(e,t,r,i){var o=this;return _(function*(){return yield o._originValidation(e),function MCe(n){tr().location.href=n}(yield UH(e,t,r,eg(),i)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(Ka(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){var t=this;return _(function*(){const r=yield function DEe(n){return wk.apply(this,arguments)}(e),i=new dEe(e);return r.register("authEvent",o=>(ie(o?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:i},t.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Ek,{type:Ek},i=>{var o;const s=null===(o=i?.[0])||void 0===o?void 0:o[Ek];void 0!==s&&t(!!s),Oi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function mEe(n){return bk.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return iH()||VS()||O0()}};var HH="@firebase/auth";class jEe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return _(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const GEe=Y6("authIdTokenMaxAge")||300;let qH=null;const qEe=n=>function(){var e=_(function*(t){const r=t&&(yield t.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>GEe)return;const o=r?.token;qH!==o&&(qH=o,yield fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))});return function(t){return e.apply(this,arguments)}}();function WEe(n=zp()){const e=Ha(n,"auth");if(e.isInitialized())return e.getImmediate();const t=function Pwe(n,e){const t=Ha(n,"auth");if(t.isInitialized()){const i=t.getImmediate();if(c0(t.getOptions(),e??{}))return i;Oi(i,"already-initialized")}return t.initialize({options:e})}(n,{popupRedirectResolver:UEe,persistence:[LCe,xCe,TH]}),r=Y6("authTokenSyncURL");if(r){const o=qEe(r);(function pCe(n,e,t){zt(n).beforeAuthStateChanged(e,t)})(t,o,()=>o(t.currentUser)),function fCe(n,e,t,r){zt(n).onIdTokenChanged(e,t,r)}(t,s=>o(s))}const i=K6("auth");return i&&function Nwe(n,e,t){const r=Cr(n);ie(r._canInitEmulator,r,"emulator-config-failed"),ie(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!t?.disableWarnings,o=fH(e),{host:s,port:a}=function Fwe(n){const e=fH(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:pH(r.substr(o.length+1))}}{const[o,s]=r.split(":");return{host:o,port:pH(s)}}}(e);r.config.emulator={url:`${o}//${s}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function Lwe(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(t,`http://${i}`),t}!function $Ee(n){Fr(new vr("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;ie(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:oH(n)},l=new Owe(r,i,o,c);return function Rwe(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(ta);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Fr(new vr("auth-internal",e=>{const t=Cr(e.getProvider("auth").getImmediate());return new jEe(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Vt(HH,"0.23.2",function zEe(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),Vt(HH,"0.23.2","esm2017")}("Browser");class Ge{constructor(e){return e}}class H0{constructor(){return Kp("auth")}}const Ik=new X("angularfire2.auth-instances");function QEe(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Ge(r)}}const YEe={provide:H0,deps:[[new Yt,Ik]]},XEe={provide:Ge,useFactory:function KEe(n,e){const t=Wp("auth",n,e);return t&&new Ge(t)},deps:[[new Yt,Ik],Wa]};let ZEe=(()=>{class n{constructor(){Vt("angularfire",Ud.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=et({providers:[XEe,YEe]}),n})();function JEe(n,...e){return{ngModule:ZEe,providers:[{provide:Ik,useFactory:QEe(n),multi:!0,deps:[De,Ut,Qp,Yp,[new Yt,Jp],...e]}]}}const exe=wr(iCe,!0),_s=wr(WEe,!0),ia=wr(gCe,!0),txe=wr(oCe,!0),Br=wr(mCe,!0);let KH=(()=>{class n{constructor(t,r){this.auth=t,this.router=r,this.title="gestion-muestras"}Login(){this.router.navigate(["/auth/login"])}handleSignOut(){Br(this.auth).then(()=>{}).catch(t=>{console.log("here")})}Home(){this.router.navigate(["auth/select"])}static#e=this.\u0275fac=function(r){return new(r||n)(x(Ge),x(Me))};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-auth"]],decls:11,vars:0,consts:[[1,"navbar"],[1,"tituloBox"],[1,"tituloText"],[1,"logoCiens"],[1,"logoUcv"],[1,"homeBox",3,"click"],[1,"homeText"],[1,"homeLogo"]],template:function(r,i){1&r&&(g(0,"div",0)(1,"div",1)(2,"span",2),w(3,"Gestion de Muestras"),p()(),te(4,"div",3)(5,"div",4),g(6,"div",5),Q("click",function(){return i.Home()}),g(7,"span",6),w(8,"Home"),p(),te(9,"div",7),p()(),te(10,"router-outlet"))},dependencies:[Md],styles:[".main[_ngcontent-%COMP%]{display:flex;height:100vh;justify-content:center;align-items:center;flex-direction:column}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}.homeBox[_ngcontent-%COMP%]{background-color:#3ec28f;border-right:4px solid white;width:20%;height:10%;position:absolute;cursor:pointer;left:0;top:0%;text-align:center}.homeText[_ngcontent-%COMP%]{color:#fff;display:inline-block;vertical-align:middle;line-height:250%;font-family:Verdana;font-size:40px;letter-spacing:0}.tituloBox[_ngcontent-%COMP%]{background-color:#3ec28f;width:80%;height:10%;position:absolute;left:20%;top:0%;text-align:center}.tituloText[_ngcontent-%COMP%]{color:#fff;display:inline-block;vertical-align:middle;line-height:250%;font-family:Verdana;font-size:40px;letter-spacing:0}.logoCiens[_ngcontent-%COMP%]{width:100px;height:69px;position:absolute;left:90%;top:1.5%;background-image:url(Logo-Agronomia2.2ed90bcafa53fa56.png);background-repeat:no-repeat;background-size:cover}.logoUcv[_ngcontent-%COMP%]{width:69px;height:69px;position:absolute;left:22%;top:1.5%;background-image:url(logo_ucv_bg2_1.32a61806277cba42.png);background-repeat:no-repeat;background-size:cover}@media only screen and (max-width: 768px){.homeBox[_ngcontent-%COMP%]{background-color:#3ec28f;border-right:4px solid white;width:20%;height:15%;position:absolute;left:0;top:0%}.homeText[_ngcontent-%COMP%]{display:none}.homeLogo[_ngcontent-%COMP%]{position:relative;top:30%;left:25%;width:36px;height:36px;text-align:center;background-image:url(home.a5ce65d54c28e165.png);background-repeat:no-repeat;background-size:cover}.tituloBox[_ngcontent-%COMP%]{background-color:#3ec28f;width:80%;height:15%;position:absolute;left:20%;top:0%;text-align:center}.tituloText[_ngcontent-%COMP%]{color:#fff;line-height:1.6;font-family:Verdana;font-size:32px;letter-spacing:0px}.logoCiens[_ngcontent-%COMP%]{width:45px;height:35px;position:absolute;left:85%;top:5%;background-image:url(Logo-Agronomia2.2ed90bcafa53fa56.png);background-repeat:no-repeat;background-size:cover}.logoUcv[_ngcontent-%COMP%]{width:35px;height:35px;position:absolute;left:22%;top:5%;background-image:url(logo_ucv_bg2_1.32a61806277cba42.png);background-repeat:no-repeat;background-size:cover}}"]})}return n})();var ue,nxe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},No={},Tk=Tk||{},je=nxe||self;function G0(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function gg(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Dk="closure_uid_"+(1e9*Math.random()>>>0),ixe=0;function oxe(n,e,t){return n.call.apply(n.bind,arguments)}function sxe(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function ei(n,e,t){return(ei=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?oxe:sxe).apply(null,arguments)}function q0(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Er(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function Xa(){this.s=this.s,this.o=this.o}Xa.prototype.s=!1,Xa.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function rxe(n){Object.prototype.hasOwnProperty.call(n,Dk)&&n[Dk]||(n[Dk]=++ixe)}(this)},Xa.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const QH=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function Mk(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function YH(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(G0(r)){const i=n.length||0,o=r.length||0;n.length=i+o;for(let s=0;s<o;s++)n[i+s]=r[s]}else n.push(r)}}function ti(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}ti.prototype.h=function(){this.defaultPrevented=!0};var cxe=function(){if(!je.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{je.addEventListener("test",()=>{},e),je.removeEventListener("test",()=>{},e)}catch{}return n}();function mg(n){return/^[\s\xa0]*$/.test(n)}function W0(){var n=je.navigator;return n&&(n=n.userAgent)?n:""}function ys(n){return-1!=W0().indexOf(n)}function Sk(n){return Sk[" "](n),n}Sk[" "]=function(){};var kk,n,uxe=ys("Opera"),Wd=ys("Trident")||ys("MSIE"),XH=ys("Edge"),Ak=XH||Wd,ZH=ys("Gecko")&&!(-1!=W0().toLowerCase().indexOf("webkit")&&!ys("Edge"))&&!(ys("Trident")||ys("MSIE"))&&!ys("Edge"),dxe=-1!=W0().toLowerCase().indexOf("webkit")&&!ys("Edge");function JH(){var n=je.document;return n?n.documentMode:void 0}e:{var Ok="",Pk=(n=W0(),ZH?/rv:([^\);]+)(\)|;)/.exec(n):XH?/Edge\/([\d\.]+)/.exec(n):Wd?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):dxe?/WebKit\/(\S+)/.exec(n):uxe?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Pk&&(Ok=Pk?Pk[1]:""),Wd){var Rk=JH();if(null!=Rk&&Rk>parseFloat(Ok)){kk=String(Rk);break e}}kk=Ok}var hxe=je.document&&Wd&&(JH()||parseInt(kk,10))||void 0;function _g(n,e){if(ti.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(ZH){e:{try{Sk(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:fxe[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&_g.$.h.call(this)}}Er(_g,ti);var fxe={2:"touch",3:"pen",4:"mouse"};_g.prototype.h=function(){_g.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var yg="closure_listenable_"+(1e6*Math.random()|0),pxe=0;function gxe(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++pxe,this.fa=this.ia=!1}function K0(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function Fk(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function t8(n){const e={};for(const t in n)e[t]=n[t];return e}const n8="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function r8(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let o=0;o<n8.length;o++)t=n8[o],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Q0(n){this.src=n,this.g={},this.h=0}function Lk(n,e){var t=e.type;if(t in n.g){var o,r=n.g[t],i=QH(r,e);(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(K0(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Vk(n,e,t,r){for(var i=0;i<n.length;++i){var o=n[i];if(!o.fa&&o.listener==e&&o.capture==!!t&&o.la==r)return i}return-1}Q0.prototype.add=function(n,e,t,r,i){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var s=Vk(n,e,r,i);return-1<s?(e=n[s],t||(e.ia=!1)):((e=new gxe(e,this.src,o,!!r,i)).ia=t,n.push(e)),e};var Bk="closure_lm_"+(1e6*Math.random()|0),Uk={};function i8(n,e,t,r,i){if(r&&r.once)return s8(n,e,t,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)i8(n,e[o],t,r,i);return null}return t=Hk(t),n&&n[yg]?n.O(e,t,gg(r)?!!r.capture:!!r,i):o8(n,e,t,!1,r,i)}function o8(n,e,t,r,i,o){if(!e)throw Error("Invalid event type");var s=gg(i)?!!i.capture:!!i,a=zk(n);if(a||(n[Bk]=a=new Q0(n)),(t=a.add(e,t,r,s,o)).proxy)return t;if(r=function _xe(){const e=yxe;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)cxe||(i=s),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(c8(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function s8(n,e,t,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)s8(n,e[o],t,r,i);return null}return t=Hk(t),n&&n[yg]?n.P(e,t,gg(r)?!!r.capture:!!r,i):o8(n,e,t,!0,r,i)}function a8(n,e,t,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)a8(n,e[o],t,r,i);else r=gg(r)?!!r.capture:!!r,t=Hk(t),n&&n[yg]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Vk(o=n.g[e],t,r,i))&&(K0(o[t]),Array.prototype.splice.call(o,t,1),0==o.length&&(delete n.g[e],n.h--))):n&&(n=zk(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Vk(e,t,r,i)),(t=-1<n?e[n]:null)&&jk(t))}function jk(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[yg])Lk(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(c8(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=zk(e))?(Lk(t,n),0==t.h&&(t.src=null,e[Bk]=null)):K0(n)}}}function c8(n){return n in Uk?Uk[n]:Uk[n]="on"+n}function yxe(n,e){if(n.fa)n=!0;else{e=new _g(e,this);var t=n.listener,r=n.la||n.src;n.ia&&jk(n),n=t.call(r,e)}return n}function zk(n){return(n=n[Bk])instanceof Q0?n:null}var $k="__closure_events_fn_"+(1e9*Math.random()>>>0);function Hk(n){return"function"==typeof n?n:(n[$k]||(n[$k]=function(e){return n.handleEvent(e)}),n[$k])}function xr(){Xa.call(this),this.i=new Q0(this),this.S=this,this.J=null}function Ur(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new ti(e,n);else if(e instanceof ti)e.target=e.target||n;else{var i=e;r8(e=new ti(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var s=e.g=t[o];i=Y0(s,r,!0,e)&&i}if(i=Y0(s=e.g=n,r,!0,e)&&i,i=Y0(s,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=Y0(s=e.g=t[o],r,!1,e)&&i}function Y0(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==t){var a=s.listener,c=s.la||s.src;s.ia&&Lk(n.i,s),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}Er(xr,Xa),xr.prototype[yg]=!0,xr.prototype.removeEventListener=function(n,e,t,r){a8(this,n,e,t,r)},xr.prototype.N=function(){if(xr.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)K0(t[r]);delete n.g[e],n.h--}}this.J=null},xr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},xr.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Gk=je.JSON.stringify;function bxe(){var n=qk;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var l8=new class vxe{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Cxe,n=>n.reset());class Cxe{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Exe(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function xxe(n){je.setTimeout(()=>{throw n},0)}let vg,bg=!1,qk=new class wxe{constructor(){this.h=this.g=null}add(e,t){const r=l8.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},u8=()=>{const n=je.Promise.resolve(void 0);vg=()=>{n.then(Ixe)}};var Ixe=()=>{for(var n;n=bxe();){try{n.h.call(n.g)}catch(t){xxe(t)}var e=l8;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}bg=!1};function X0(n,e){xr.call(this),this.h=n||1,this.g=e||je,this.j=ei(this.qb,this),this.l=Date.now()}function Wk(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function Kk(n,e,t){if("function"==typeof n)t&&(n=ei(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ei(n.handleEvent,n)}return 2147483647<Number(e)?-1:je.setTimeout(n,e||0)}function d8(n){n.g=Kk(()=>{n.g=null,n.i&&(n.i=!1,d8(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Er(X0,xr),(ue=X0.prototype).ga=!1,ue.T=null,ue.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ur(this,"tick"),this.ga&&(Wk(this),this.start()))}},ue.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ue.N=function(){X0.$.N.call(this),Wk(this),delete this.g};class Txe extends Xa{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:d8(this)}N(){super.N(),this.g&&(je.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wg(n){Xa.call(this),this.h=n,this.g={}}Er(wg,Xa);var h8=[];function f8(n,e,t,r){Array.isArray(t)||(t&&(h8[0]=t.toString()),t=h8);for(var i=0;i<t.length;i++){var o=i8(e,t[i],r||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function p8(n){Fk(n.g,function(e,t){this.g.hasOwnProperty(t)&&jk(e)},n),n.g={}}function Z0(){this.g=!0}function Kd(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Axe(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Gk(t)}catch{return e}}(n,t)+(r?" "+r:"")})}wg.prototype.N=function(){wg.$.N.call(this),p8(this)},wg.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Z0.prototype.Ea=function(){this.g=!1},Z0.prototype.info=function(){};var bl={},g8=null;function J0(){return g8=g8||new xr}function m8(n){ti.call(this,bl.Ta,n)}function Cg(n){const e=J0();Ur(e,new m8(e))}function _8(n,e){ti.call(this,bl.STAT_EVENT,n),this.stat=e}function _i(n){const e=J0();Ur(e,new _8(e,n))}function y8(n,e){ti.call(this,bl.Ua,n),this.size=e}function Eg(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return je.setTimeout(function(){n()},e)}bl.Ta="serverreachability",Er(m8,ti),bl.STAT_EVENT="statevent",Er(_8,ti),bl.Ua="timingevent",Er(y8,ti);var eb={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},v8={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Qk(){}function w8(){}Qk.prototype.h=null;var Zk,xg={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Yk(){ti.call(this,"d")}function Xk(){ti.call(this,"c")}function tb(){}function Ig(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new wg(this),this.P=kxe,this.V=new X0(n=Ak?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new C8}function C8(){this.i=null,this.g="",this.h=!1}Er(Yk,ti),Er(Xk,ti),Er(tb,Qk),tb.prototype.g=function(){return new XMLHttpRequest},tb.prototype.i=function(){return{}},Zk=new tb;var kxe=45e3,Jk={},nb={};function eO(n,e,t){n.L=1,n.v=sb(oa(e)),n.s=t,n.S=!0,E8(n,null)}function E8(n,e){n.G=Date.now(),Tg(n),n.A=oa(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),P8(t.i,"t",r),n.C=0,t=n.l.J,n.h=new C8,n.g=r7(n.l,t?e:null,!n.s),0<n.O&&(n.M=new Txe(ei(n.Pa,n,n.g),n.O)),f8(n.U,n.g,"readystatechange",n.nb),e=n.I?t8(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),Cg(),function Dxe(n,e,t,r,i,o){n.info(function(){if(n.g)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var d=u.split("_");s=2<=d.length&&"type"==d[1]?s+(u+"=")+l+"&":s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+s})}(n.j,n.u,n.A,n.m,n.W,n.s)}function x8(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function I8(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=Oxe(n,t),i==nb){4==e&&(n.o=4,_i(14),r=!1),Kd(n.j,n.m,null,"[Incomplete Response]");break}if(i==Jk){n.o=4,_i(15),Kd(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Kd(n.j,n.m,i,null),tO(n,i)}x8(n)&&i!=nb&&i!=Jk&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,_i(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),cO(e),e.M=!0,_i(11))):(Kd(n.j,n.m,t,"[Invalid Chunked Response]"),wl(n),Dg(n))}function Oxe(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?nb:(t=Number(e.substring(t,r)),isNaN(t)?Jk:(r+=1)+t>e.length?nb:(e=e.slice(r,r+t),n.C=r+t,e))}function Tg(n){n.Y=Date.now()+n.P,T8(n,n.P)}function T8(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Eg(ei(n.lb,n),e)}function rb(n){n.B&&(je.clearTimeout(n.B),n.B=null)}function Dg(n){0==n.l.H||n.J||J8(n.l,n)}function wl(n){rb(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,Wk(n.V),p8(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function tO(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||nO(t.i,n)))if(!n.K&&nO(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;hb(t),ub(t)}aO(t),_i(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=Eg(ei(t.ib,t),6e3));if(1>=F8(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else El(t,11)}else if((n.K||t.g==n)&&hb(t),!mg(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(t.V=l[0],l=l[1],2==t.H)if("c"==l[0]){t.K=l[1],t.pa=l[2];const u=l[3];null!=u&&(t.ra=u,t.l.info("VER="+t.ra));const d=l[4];null!=d&&(t.Ga=d,t.l.info("SVER="+t.Ga));const h=l[5];null!=h&&"number"==typeof h&&0<h&&(t.L=r=1.5*h,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const f=n.g;if(f){const y=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(y){var o=r.i;o.g||-1==y.indexOf("spdy")&&-1==y.indexOf("quic")&&-1==y.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(rO(o,o.h),o.h=null))}if(r.F){const E=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;E&&(r.Da=E,an(r.I,r.F,E))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var s=n;if((r=t).wa=n7(r,r.J?r.pa:null,r.Y),s.K){L8(r.i,s);var a=s,c=r.L;c&&a.setTimeout(c),a.B&&(rb(a),Tg(a)),r.g=s}else X8(r);0<t.j.length&&db(t)}else"stop"!=l[0]&&"close"!=l[0]||El(t,7);else 3==t.H&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?El(t,7):sO(t):"noop"!=l[0]&&t.h&&t.h.Aa(l),t.A=0)}Cg()}catch{}}function D8(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(G0(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function Rxe(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(G0(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function Pxe(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(G0(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],t&&t[o],n)}(ue=Ig.prototype).setTimeout=function(n){this.P=n},ue.nb=function(n){n=n.target;const e=this.M;e&&3==vs(n)?e.l():this.Pa(n)},ue.Pa=function(n){try{if(n==this.g)e:{const u=vs(this.g);var e=this.g.Ia();if(this.g.da(),!(3>u)&&(3!=u||Ak||this.g&&(this.h.h||this.g.ja()||G8(this.g)))){this.J||4!=u||7==e||Cg(),rb(this);var t=this.g.da();this.ca=t;t:if(x8(this)){var r=G8(this.g);n="";var i=r.length,o=4==vs(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){wl(this),Dg(this);var s="";break t}this.h.i=new je.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==t,function Mxe(n,e,t,r,i,o,s){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+o+" "+s})}(this.j,this.u,this.A,this.m,this.W,u,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!mg(a)){var l=a;break t}}l=null}if(!(t=l)){this.i=!1,this.o=3,_i(12),wl(this),Dg(this);break e}Kd(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,tO(this,t)}this.S?(I8(this,u,s),Ak&&this.i&&3==u&&(f8(this.U,this.V,"tick",this.mb),this.V.start())):(Kd(this.j,this.m,s,null),tO(this,s)),4==u&&wl(this),this.i&&!this.J&&(4==u?J8(this.l,this):(this.i=!1,Tg(this)))}else(function Zxe(n){const e={};n=(n.g&&2<=vs(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(mg(n[r]))continue;var t=Exe(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const o=e[i]||[];e[i]=o,o.push(t)}!function mxe(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<s.indexOf("Unknown SID")?(this.o=3,_i(12)):(this.o=0,_i(13)),wl(this),Dg(this)}}}catch{}},ue.mb=function(){if(this.g){var n=vs(this.g),e=this.g.ja();this.C<e.length&&(rb(this),I8(this,n,e),this.i&&4!=n&&Tg(this))}},ue.cancel=function(){this.J=!0,wl(this)},ue.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function Sxe(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Cg(),_i(17)),wl(this),this.o=2,Dg(this)):T8(this,this.Y-n)};var M8=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Cl(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Cl){this.h=n.h,ib(this,n.j),this.s=n.s,this.g=n.g,ob(this,n.m),this.l=n.l;var e=n.i,t=new Ag;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),S8(this,t),this.o=n.o}else n&&(e=String(n).match(M8))?(this.h=!1,ib(this,e[1]||"",!0),this.s=Mg(e[2]||""),this.g=Mg(e[3]||"",!0),ob(this,e[4]),this.l=Mg(e[5]||"",!0),S8(this,e[6]||"",!0),this.o=Mg(e[7]||"")):(this.h=!1,this.i=new Ag(null,this.h))}function oa(n){return new Cl(n)}function ib(n,e,t){n.j=t?Mg(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function ob(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function S8(n,e,t){e instanceof Ag?(n.i=e,function jxe(n,e){e&&!n.j&&(Za(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(k8(this,r),P8(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Sg(e,Bxe)),n.i=new Ag(e,n.h))}function an(n,e,t){n.i.set(e,t)}function sb(n){return an(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Mg(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Sg(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Fxe),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Fxe(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Cl.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Sg(e,A8,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Sg(e,A8,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Sg(t,"/"==t.charAt(0)?Vxe:Lxe,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Sg(t,Uxe)),n.join("")};var A8=/[#\/\?@]/g,Lxe=/[#\?:]/g,Vxe=/[#\?]/g,Bxe=/[#\?@]/g,Uxe=/#/g;function Ag(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Za(n){n.g||(n.g=new Map,n.h=0,n.i&&function Nxe(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var o=n[t].substring(0,r);i=n[t].substring(r+1)}else o=n[t];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function k8(n,e){Za(n),e=Qd(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function O8(n,e){return Za(n),e=Qd(n,e),n.g.has(e)}function P8(n,e,t){k8(n,e),0<t.length&&(n.i=null,n.g.set(Qd(n,e),Mk(t)),n.h+=t.length)}function Qd(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}(ue=Ag.prototype).add=function(n,e){Za(this),this.i=null,n=Qd(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},ue.forEach=function(n,e){Za(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},ue.ta=function(){Za(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let o=0;o<i.length;o++)t.push(e[r])}return t},ue.Z=function(n){Za(this);let e=[];if("string"==typeof n)O8(this,n)&&(e=e.concat(this.g.get(Qd(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},ue.set=function(n,e){return Za(this),this.i=null,O8(this,n=Qd(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},ue.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},ue.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),n.push(i)}}return this.i=n.join("&")};var zxe=class{constructor(n,e){this.g=n,this.map=e}};function R8(n){this.l=n||$xe,n=je.PerformanceNavigationTiming?0<(n=je.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(je.g&&je.g.Ka&&je.g.Ka()&&je.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var $xe=10;function N8(n){return!!n.h||!!n.g&&n.g.size>=n.j}function F8(n){return n.h?1:n.g?n.g.size:0}function nO(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function rO(n,e){n.g?n.g.add(e):n.h=e}function L8(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function V8(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return Mk(n.i)}R8.prototype.cancel=function(){if(this.i=V8(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var Hxe=class{stringify(n){return je.JSON.stringify(n,void 0)}parse(n){return je.JSON.parse(n,void 0)}};function Gxe(){this.g=new Hxe}function qxe(n,e,t){const r=t||"";try{D8(n,function(i,o){let s=i;gg(i)&&(s=Gk(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function ab(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function kg(n){this.l=n.fc||null,this.j=n.ob||!1}function cb(n,e){xr.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=iO,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Er(kg,Qk),kg.prototype.g=function(){return new cb(this.l,this.j)},kg.prototype.i=function(n){return function(){return n}}({}),Er(cb,xr);var iO=0;function B8(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Og(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Pg(n)}function Pg(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ue=cb.prototype).open=function(n,e){if(this.readyState!=iO)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Pg(this)},ue.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||je).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},ue.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Og(this)),this.readyState=iO},ue.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Pg(this)),this.g&&(this.readyState=3,Pg(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof je.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;B8(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},ue.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Og(this):Pg(this),3==this.readyState&&B8(this)}},ue.Za=function(n){this.g&&(this.response=this.responseText=n,Og(this))},ue.Ya=function(n){this.g&&(this.response=n,Og(this))},ue.ka=function(){this.g&&Og(this)},ue.setRequestHeader=function(n,e){this.v.append(n,e)},ue.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ue.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(cb.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Kxe=je.JSON.parse;function Rn(n){xr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=U8,this.L=this.M=!1}Er(Rn,xr);var U8="",Qxe=/^https?$/i,Yxe=["POST","PUT"];function j8(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,z8(n),lb(n)}function z8(n){n.F||(n.F=!0,Ur(n,"complete"),Ur(n,"error"))}function $8(n){if(n.h&&typeof Tk<"u"&&(!n.C[1]||4!=vs(n)||2!=n.da()))if(n.v&&4==vs(n))Kk(n.La,0,n);else if(Ur(n,"readystatechange"),4==vs(n)){n.h=!1;try{const s=n.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===s){var i=String(n.I).match(M8)[1]||null;!i&&je.self&&je.self.location&&(i=je.self.location.protocol.slice(0,-1)),r=!Qxe.test(i?i.toLowerCase():"")}t=r}if(t)Ur(n,"complete"),Ur(n,"success");else{n.m=6;try{var o=2<vs(n)?n.g.statusText:""}catch{o=""}n.j=o+" ["+n.da()+"]",z8(n)}}finally{lb(n)}}}function lb(n,e){if(n.g){H8(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Ur(n,"ready");try{t.onreadystatechange=r}catch{}}}function H8(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(je.clearTimeout(n.A),n.A=null)}function vs(n){return n.g?n.g.readyState:0}function G8(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case U8:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function q8(n){let e="";return Fk(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function oO(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=q8(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):an(n,e,t))}function Rg(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function W8(n){this.Ga=0,this.j=[],this.l=new Z0,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Rg("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Rg("baseRetryDelayMs",5e3,n),this.hb=Rg("retryDelaySeedMs",1e4,n),this.eb=Rg("forwardChannelMaxRetries",2,n),this.xa=Rg("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new R8(n&&n.concurrentRequestLimit),this.Ja=new Gxe,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function sO(n){if(K8(n),3==n.H){var e=n.W++,t=oa(n.I);if(an(t,"SID",n.K),an(t,"RID",e),an(t,"TYPE","terminate"),Ng(n,t),(e=new Ig(n,n.l,e)).L=2,e.v=sb(oa(t)),t=!1,je.navigator&&je.navigator.sendBeacon)try{t=je.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&je.Image&&((new Image).src=e.v,t=!0),t||(e.g=r7(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Tg(e)}t7(n)}function ub(n){n.g&&(cO(n),n.g.cancel(),n.g=null)}function K8(n){ub(n),n.u&&(je.clearTimeout(n.u),n.u=null),hb(n),n.i.cancel(),n.m&&("number"==typeof n.m&&je.clearTimeout(n.m),n.m=null)}function db(n){if(!N8(n.i)&&!n.m){n.m=!0;var e=n.Na;vg||u8(),bg||(vg(),bg=!0),qk.add(e,n),n.C=0}}function Q8(n,e){var t;t=e?e.m:n.W++;const r=oa(n.I);an(r,"SID",n.K),an(r,"RID",t),an(r,"AID",n.V),Ng(n,r),n.o&&n.s&&oO(r,n.o,n.s),t=new Ig(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=Y8(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),rO(n.i,t),eO(t,r,e)}function Ng(n,e){n.na&&Fk(n.na,function(t,r){an(e,r,t)}),n.h&&D8({},function(t,r){an(e,r,t)})}function Y8(n,e,t){t=Math.min(n.j.length,t);var r=n.h?ei(n.h.Va,n.h,n):null;e:{var i=n.j;let o=-1;for(;;){const s=["count="+t];-1==o?0<t?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let c=0;c<t;c++){let l=i[c].g;const u=i[c].map;if(l-=o,0>l)o=Math.max(0,i[c].g-100),a=!1;else try{qxe(u,s,"req"+l+"_")}catch{r&&r(u)}}if(a){r=s.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function X8(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;vg||u8(),bg||(vg(),bg=!0),qk.add(e,n),n.A=0}}function aO(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Eg(ei(n.Ma,n),e7(n,n.A)),n.A++,0))}function cO(n){null!=n.B&&(je.clearTimeout(n.B),n.B=null)}function Z8(n){n.g=new Ig(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=oa(n.wa);an(e,"RID","rpc"),an(e,"SID",n.K),an(e,"AID",n.V),an(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&an(e,"TO",n.qa),an(e,"TYPE","xmlhttp"),Ng(n,e),n.o&&n.s&&oO(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=sb(oa(e)),t.s=null,t.S=!0,E8(t,n)}function hb(n){null!=n.v&&(je.clearTimeout(n.v),n.v=null)}function J8(n,e){var t=null;if(n.g==e){hb(n),cO(n),n.g=null;var r=2}else{if(!nO(n.i,e))return;t=e.F,L8(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;Ur(r=J0(),new y8(r,t)),db(n)}else X8(n);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function Jxe(n,e){return!(F8(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Eg(ei(n.Na,n,e),e7(n,n.C)),n.C++,0)))}(n,e)||2==r&&aO(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:El(n,5);break;case 4:El(n,10);break;case 3:El(n,6);break;default:El(n,2)}}function e7(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function El(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=ei(n.pb,n);t||(t=new Cl("//www.google.com/images/cleardot.gif"),je.location&&"http"==je.location.protocol||ib(t,"https"),sb(t)),function Wxe(n,e){const t=new Z0;if(je.Image){const r=new Image;r.onload=q0(ab,t,r,"TestLoadImage: loaded",!0,e),r.onerror=q0(ab,t,r,"TestLoadImage: error",!1,e),r.onabort=q0(ab,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=q0(ab,t,r,"TestLoadImage: timeout",!1,e),je.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else _i(2);n.H=0,n.h&&n.h.za(e),t7(n),K8(n)}function t7(n){if(n.H=0,n.ma=[],n.h){const e=V8(n.i);(0!=e.length||0!=n.j.length)&&(YH(n.ma,e),YH(n.ma,n.j),n.i.i.length=0,Mk(n.j),n.j.length=0),n.h.ya()}}function n7(n,e,t){var r=t instanceof Cl?oa(t):new Cl(t);if(""!=r.g)e&&(r.g=e+"."+r.g),ob(r,r.m);else{var i=je.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new Cl(null);r&&ib(o,r),e&&(o.g=e),i&&ob(o,i),t&&(o.l=t),r=o}return e=n.Da,(t=n.F)&&e&&an(r,t,e),an(r,"VER",n.ra),Ng(n,r),r}function r7(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Rn(t&&n.Ha&&!n.va?new kg({ob:!0}):n.va)).Oa(n.J),e}function i7(){}function fb(){if(Wd&&!(10<=Number(hxe)))throw Error("Environmental error: no available transport.")}function Wi(n,e){xr.call(this),this.g=new W8(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!mg(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!mg(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Yd(this)}function o7(n){Yk.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function s7(){Xk.call(this),this.status=1}function Yd(n){this.g=n}function Fo(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function lO(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var o=n.g[3],s=(e=n.g[0])+(o^(t=n.g[1])&((i=n.g[2])^o))+r[0]+3614090360&4294967295;s=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=t+(s<<7&4294967295|s>>>25))+((s=o+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(t^o&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^i&(o^e))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(t^o&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^i&(o^e))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(t^o&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^i&(o^e))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(t^o&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^i&(o^e))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=e+(i^o&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^t&(o^e))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^t&(o^e))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^t&(o^e))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^t&(o^e))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=e+(t^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=t+(i^o^e)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=t+(i^o^e)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=t+(i^o^e)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^t)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=t+(i^o^e)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=e+(i^(t|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~t))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=e+(i^(t|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~t))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=e+(i^(t|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~t))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(e=t+((s=e+(i^(t|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(e^(o|~t))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+o&4294967295}function Pt(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var o=0|n[i];r&&o==e||(t[i]=o,r=!1)}this.g=t}(ue=Rn.prototype).Oa=function(n){this.M=n},ue.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Zk.g(),this.C=function b8(n){return n.h||(n.h=n.i())}(this.u?this.u:Zk),this.g.onreadystatechange=ei(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(o){return void j8(this,o)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const o of r.keys())t.set(o,r.get(o))}r=Array.from(t.keys()).find(o=>"content-type"==o.toLowerCase()),i=je.FormData&&n instanceof je.FormData,!(0<=QH(Yxe,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of t)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{H8(this),0<this.B&&((this.L=function Xxe(n){return Wd&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ei(this.ua,this)):this.A=Kk(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){j8(this,o)}},ue.ua=function(){typeof Tk<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ur(this,"timeout"),this.abort(8))},ue.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Ur(this,"complete"),Ur(this,"abort"),lb(this))},ue.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),lb(this,!0)),Rn.$.N.call(this)},ue.La=function(){this.s||(this.G||this.v||this.l?$8(this):this.kb())},ue.kb=function(){$8(this)},ue.isActive=function(){return!!this.g},ue.da=function(){try{return 2<vs(this)?this.g.status:-1}catch{return-1}},ue.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},ue.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Kxe(e)}},ue.Ia=function(){return this.m},ue.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ue=W8.prototype).ra=8,ue.H=1,ue.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new Ig(this,this.l,n);let o=this.s;if(this.U&&(o?(o=t8(o),r8(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Y8(this,i,e),an(t=oa(this.I),"RID",n),an(t,"CVER",22),this.F&&an(t,"X-HTTP-Session-Id",this.F),Ng(this,t),o&&(this.O?e="headers="+encodeURIComponent(String(q8(o)))+"&"+e:this.o&&oO(t,this.o,o)),rO(this.i,i),this.bb&&an(t,"TYPE","init"),this.P?(an(t,"$req",e),an(t,"SID","null"),i.aa=!0,eO(i,t,null)):eO(i,t,e),this.H=2}}else 3==this.H&&(n?Q8(this,n):0==this.j.length||N8(this.i)||Q8(this))},ue.Ma=function(){if(this.u=null,Z8(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Eg(ei(this.jb,this),n)}},ue.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,_i(10),ub(this),Z8(this))},ue.ib=function(){null!=this.v&&(this.v=null,ub(this),aO(this),_i(19))},ue.pb=function(n){n?(this.l.info("Successfully pinged google.com"),_i(2)):(this.l.info("Failed to ping google.com"),_i(1))},ue.isActive=function(){return!!this.h&&this.h.isActive(this)},(ue=i7.prototype).Ba=function(){},ue.Aa=function(){},ue.za=function(){},ue.ya=function(){},ue.isActive=function(){return!0},ue.Va=function(){},fb.prototype.g=function(n,e){return new Wi(n,e)},Er(Wi,xr),Wi.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;_i(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=n7(n,null,n.Y),db(n)},Wi.prototype.close=function(){sO(this.g)},Wi.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Gk(n),n=t);e.j.push(new zxe(e.fb++,n)),3==e.H&&db(e)},Wi.prototype.N=function(){this.g.h=null,delete this.j,sO(this.g),delete this.g,Wi.$.N.call(this)},Er(o7,Yk),Er(s7,Xk),Er(Yd,i7),Yd.prototype.Ba=function(){Ur(this.g,"a")},Yd.prototype.Aa=function(n){Ur(this.g,new o7(n))},Yd.prototype.za=function(n){Ur(this.g,new s7)},Yd.prototype.ya=function(){Ur(this.g,"b")},Er(Fo,function e1e(){this.blockSize=-1}),Fo.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Fo.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(0==i)for(;o<=t;)lO(this,n,o),o+=this.blockSize;if("string"==typeof n){for(;o<e;)if(r[i++]=n.charCodeAt(o++),i==this.blockSize){lO(this,r),i=0;break}}else for(;o<e;)if(r[i++]=n[o++],i==this.blockSize){lO(this,r),i=0;break}}this.h=i,this.i+=e},Fo.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var t1e={};function uO(n){return-128<=n&&128>n?function lxe(n,e){var t=t1e;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Pt([0|e],0>e?-1:0)}):new Pt([0|n],0>n?-1:0)}function bs(n){if(isNaN(n)||!isFinite(n))return Xd;if(0>n)return jr(bs(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=dO;return new Pt(e,0)}var dO=4294967296,Xd=uO(0),hO=uO(1),c7=uO(16777216);function sa(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function po(n){return-1==n.h}function jr(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new Pt(t,~n.h).add(hO)}function pb(n,e){return n.add(jr(e))}function gb(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Fg(n,e){this.g=n,this.h=e}function mb(n,e){if(sa(e))throw Error("division by zero");if(sa(n))return new Fg(Xd,Xd);if(po(n))return e=mb(jr(n),e),new Fg(jr(e.g),jr(e.h));if(po(e))return e=mb(n,jr(e)),new Fg(jr(e.g),e.h);if(30<n.g.length){if(po(n)||po(e))throw Error("slowDivide_ only works with positive integers.");for(var t=hO,r=e;0>=r.X(n);)t=l7(t),r=l7(r);var i=Zd(t,1),o=Zd(r,1);for(r=Zd(r,2),t=Zd(t,2);!sa(r);){var s=o.add(r);0>=s.X(n)&&(i=i.add(t),o=s),r=Zd(r,1),t=Zd(t,1)}return e=pb(n,i.R(e)),new Fg(i,e)}for(i=Xd;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),s=(o=bs(t)).R(e);po(s)||0<s.X(n);)s=(o=bs(t-=r)).R(e);sa(o)&&(o=hO),i=i.add(o),n=pb(n,s)}return new Fg(i,n)}function l7(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new Pt(t,n.h)}function Zd(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],o=0;o<r;o++)i[o]=0<e?n.D(o+t)>>>e|n.D(o+t+1)<<32-e:n.D(o+t);return new Pt(i,n.h)}(ue=Pt.prototype).ea=function(){if(po(this))return-jr(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:dO+r)*e,e*=dO}return n},ue.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(sa(this))return"0";if(po(this))return"-"+jr(this).toString(n);for(var e=bs(Math.pow(n,6)),t=this,r="";;){var i=mb(t,e).g,o=((0<(t=pb(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(sa(t=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},ue.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},ue.X=function(n){return po(n=pb(this,n))?-1:sa(n)?0:1},ue.abs=function(){return po(this)?jr(this):this},ue.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var o=r+(65535&this.D(i))+(65535&n.D(i)),s=(o>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=s>>>16,t[i]=(s&=65535)<<16|(o&=65535)}return new Pt(t,-2147483648&t[t.length-1]?-1:0)},ue.R=function(n){if(sa(this)||sa(n))return Xd;if(po(this))return po(n)?jr(this).R(jr(n)):jr(jr(this).R(n));if(po(n))return jr(this.R(jr(n)));if(0>this.X(c7)&&0>n.X(c7))return bs(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var o=this.D(r)>>>16,s=65535&this.D(r),a=n.D(i)>>>16,c=65535&n.D(i);t[2*r+2*i]+=s*c,gb(t,2*r+2*i),t[2*r+2*i+1]+=o*c,gb(t,2*r+2*i+1),t[2*r+2*i+1]+=s*a,gb(t,2*r+2*i+1),t[2*r+2*i+2]+=o*a,gb(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new Pt(t,0)},ue.gb=function(n){return mb(this,n).h},ue.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new Pt(t,this.h&n.h)},ue.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new Pt(t,this.h|n.h)},ue.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new Pt(t,this.h^n.h)},fb.prototype.createWebChannel=fb.prototype.g,Wi.prototype.send=Wi.prototype.u,Wi.prototype.open=Wi.prototype.m,Wi.prototype.close=Wi.prototype.close,eb.NO_ERROR=0,eb.TIMEOUT=8,eb.HTTP_ERROR=6,v8.COMPLETE="complete",w8.EventType=xg,xg.OPEN="a",xg.CLOSE="b",xg.ERROR="c",xg.MESSAGE="d",xr.prototype.listen=xr.prototype.O,Rn.prototype.listenOnce=Rn.prototype.P,Rn.prototype.getLastError=Rn.prototype.Sa,Rn.prototype.getLastErrorCode=Rn.prototype.Ia,Rn.prototype.getStatus=Rn.prototype.da,Rn.prototype.getResponseJson=Rn.prototype.Wa,Rn.prototype.getResponseText=Rn.prototype.ja,Rn.prototype.send=Rn.prototype.ha,Rn.prototype.setWithCredentials=Rn.prototype.Oa,Fo.prototype.digest=Fo.prototype.l,Fo.prototype.reset=Fo.prototype.reset,Fo.prototype.update=Fo.prototype.j,Pt.prototype.add=Pt.prototype.add,Pt.prototype.multiply=Pt.prototype.R,Pt.prototype.modulo=Pt.prototype.gb,Pt.prototype.compare=Pt.prototype.X,Pt.prototype.toNumber=Pt.prototype.ea,Pt.prototype.toString=Pt.prototype.toString,Pt.prototype.getBits=Pt.prototype.D,Pt.fromNumber=bs,Pt.fromString=function a7(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return jr(a7(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=bs(Math.pow(e,8)),r=Xd,i=0;i<n.length;i+=8){var o=Math.min(8,n.length-i),s=parseInt(n.substring(i,i+o),e);8>o?(o=bs(Math.pow(e,o)),r=r.R(o).add(bs(s))):r=(r=r.R(t)).add(bs(s))}return r};var n1e=No.createWebChannelTransport=function(){return new fb},r1e=No.getStatEventTarget=function(){return J0()},fO=No.ErrorCode=eb,i1e=No.EventType=v8,o1e=No.Event=bl,u7=No.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},s1e=No.FetchXmlHttpFactory=kg,_b=No.WebChannel=w8,a1e=No.XhrIo=Rn,c1e=No.Md5=Fo,Jd=No.Integer=Pt;const d7="@firebase/firestore";class Ir{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ir.UNAUTHENTICATED=new Ir(null),Ir.GOOGLE_CREDENTIALS=new Ir("google-credentials-uid"),Ir.FIRST_PARTY=new Ir("first-party-uid"),Ir.MOCK_USER=new Ir("mock-user");let eh="9.23.0";const Ja=new cl("@firebase/firestore");function pO(){return Ja.logLevel}function J(n,...e){if(Ja.logLevel<=pt.DEBUG){const t=e.map(gO);Ja.debug(`Firestore (${eh}): ${n}`,...t)}}function qn(n,...e){if(Ja.logLevel<=pt.ERROR){const t=e.map(gO);Ja.error(`Firestore (${eh}): ${n}`,...t)}}function Lo(n,...e){if(Ja.logLevel<=pt.WARN){const t=e.map(gO);Ja.warn(`Firestore (${eh}): ${n}`,...t)}}function gO(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function fe(n="Unexpected state"){const e=`FIRESTORE (${eh}) INTERNAL ASSERTION FAILED: `+n;throw qn(e),new Error(e)}function ye(n,e){n||fe()}function le(n,e){return n}const L={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Y extends qi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class pr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class h7{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class l1e{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ir.UNAUTHENTICATED))}shutdown(){}}class u1e{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class d1e{constructor(e){this.t=e,this.currentUser=Ir.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const o=l=>this.i!==i?(i=this.i,t(l)):Promise.resolve();let s=new pr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new pr,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const l=s;e.enqueueRetryable(_(function*(){yield l.promise,yield o(r.currentUser)}))},c=l=>{J("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>c(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?c(l):(J("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new pr)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(J("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ye("string"==typeof r.accessToken),new h7(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ye(null===e||"string"==typeof e),new Ir(e)}}class h1e{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=Ir.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class f1e{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new h1e(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Ir.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class f7{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class p1e{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=o=>{null!=o.error&&J("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.T;return this.T=o.token,J("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{J("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.I.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.I.getImmediate({optional:!0});o?i(o):J("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ye("string"==typeof t.token),this.T=t.token,new f7(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function g1e(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class p7{static A(){const t=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=g1e(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[o]%62))}return r}}function Le(n,e){return n<e?-1:n>e?1:0}function th(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function g7(n){return n+"\0"}class xn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Y(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Y(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Y(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Y(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return xn.fromMillis(Date.now())}static fromDate(e){return xn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new xn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ve{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ve(e)}static min(){return new ve(new xn(0,0))}static max(){return new ve(new xn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Lg{constructor(e,t,r){void 0===t?t=0:t>e.length&&fe(),void 0===r?r=e.length-t:r>e.length-t&&fe(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Lg.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Lg?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const o=e.get(i),s=t.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class vt extends Lg{construct(e,t,r){return new vt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Y(L.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new vt(t)}static emptyPath(){return new vt([])}}const m1e=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wn extends Lg{construct(e,t,r){return new Wn(e,t,r)}static isValidIdentifier(e){return m1e.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Wn(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const o=()=>{if(0===r.length)throw new Y(L.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new Y(L.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new Y(L.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Y(L.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wn(t)}static emptyPath(){return new Wn([])}}class ae{constructor(e){this.path=e}static fromPath(e){return new ae(vt.fromString(e))}static fromName(e){return new ae(vt.fromString(e).popFirst(5))}static empty(){return new ae(vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===vt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return vt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ae(new vt(e.slice()))}}class yb{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function mO(n){return n.fields.find(e=>2===e.kind)}function xl(n){return n.fields.filter(e=>2!==e.kind)}yb.UNKNOWN_ID=-1;class vb{constructor(e,t){this.fieldPath=e,this.kind=t}}class Vg{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Vg(0,Ki.min())}}function _7(n){return new Ki(n.readTime,n.key,-1)}class Ki{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ki(ve.min(),ae.empty(),-1)}static max(){return new Ki(ve.max(),ae.empty(),-1)}}function _O(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=ae.comparator(n.documentKey,e.documentKey),0!==t?t:Le(n.largestBatchId,e.largestBatchId))}const y7="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class v7{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function ec(n){return yO.apply(this,arguments)}function yO(){return yO=_(function*(n){if(n.code!==L.FAILED_PRECONDITION||n.message!==y7)throw n;J("LocalStore","Unexpectedly lost primary lease")}),yO.apply(this,arguments)}class F{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&fe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new F((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof F?t:F.resolve(t)}catch(t){return F.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):F.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):F.reject(t)}static resolve(e){return new F((t,r)=>{t(e)})}static reject(e){return new F((t,r)=>{r(e)})}static waitFor(e){return new F((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},c=>r(c))}),s=!0,o===i&&t()})}static or(e){let t=F.resolve(!1);for(const r of e)t=t.next(i=>i?F.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new F((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let c=0;c<o;c++){const l=c;t(e[l]).next(u=>{s[l]=u,++a,a===o&&r(s)},u=>i(u))}})}static doWhile(e,t){return new F((r,i)=>{const o=()=>{!0===e()?t().next(()=>{o()},i):r()};o()})}}class bb{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new pr,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new Bg(e,t.error)):this.v.resolve()},this.transaction.onerror=r=>{const i=vO(r.target.error);this.v.reject(new Bg(e,i))}}static open(e,t,r,i){try{return new bb(t,e.transaction(i,r))}catch(o){throw new Bg(t,o)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(J("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new b1e(t)}}class Vo{constructor(e,t,r){this.name=e,this.version=t,this.V=r,12.2===Vo.S(Gn())&&qn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return J("SimpleDb","Removing database:",e),Il(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!za())return!1;if(Vo.C())return!0;const e=Gn(),t=Vo.S(e),r=0<t&&t<10,i=Vo.N(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static N(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}$(e){var t=this;return _(function*(){return t.db||(J("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const o=indexedDB.open(t.name,t.version);o.onsuccess=s=>{r(s.target.result)},o.onblocked=()=>{i(new Bg(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=s=>{const a=s.target.error;i("VersionError"===a.name?new Y(L.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===a.name?new Y(L.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a):new Bg(e,a))},o.onupgradeneeded=s=>{J("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',s.oldVersion),t.V.O(s.target.result,o.transaction,s.oldVersion,t.version).next(()=>{J("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=r=>t.F(r)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var o=this;return _(function*(){const s="readonly"===t;let a=0;for(;;){++a;try{o.db=yield o.$(e);const c=bb.open(o.db,e,s?"readonly":"readwrite",r),l=i(c).next(u=>(c.P(),u)).catch(u=>(c.abort(u),F.reject(u))).toPromise();return l.catch(()=>{}),yield c.R,l}catch(c){const l=c,u="FirebaseError"!==l.name&&a<3;if(J("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),o.close(),!u)return Promise.reject(l)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class v1e{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Il(this.L.delete())}}class Bg extends Y{constructor(e,t){super(L.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function tc(n){return"IndexedDbTransactionError"===n.name}class b1e{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(J("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(J("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Il(r)}add(e){return J("SimpleDb","ADD",this.store.name,e,e),Il(this.store.add(e))}get(e){return Il(this.store.get(e)).next(t=>(void 0===t&&(t=null),J("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return J("SimpleDb","DELETE",this.store.name,e),Il(this.store.delete(e))}count(){return J("SimpleDb","COUNT",this.store.name),Il(this.store.count())}j(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),o=[];return this.W(i,(s,a)=>{o.push(a)}).next(()=>o)}{const i=this.store.getAll(r.range);return new F((o,s)=>{i.onerror=a=>{s(a.target.error)},i.onsuccess=a=>{o(a.target.result)}})}}H(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new F((i,o)=>{r.onerror=s=>{o(s.target.error)},r.onsuccess=s=>{i(s.target.result)}})}J(e,t){J("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.Y=!1;const i=this.cursor(r);return this.W(i,(o,s,a)=>a.delete())}X(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.W(i,t)}Z(e){const t=this.cursor({});return new F((r,i)=>{t.onerror=o=>{const s=vO(o.target.error);i(s)},t.onsuccess=o=>{const s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():r()}):r()}})}W(e,t){const r=[];return new F((i,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{const a=s.target.result;if(!a)return void i();const c=new v1e(a),l=t(a.primaryKey,a.value,c);if(l instanceof F){const u=l.catch(d=>(c.done(),F.reject(d)));r.push(u)}c.isDone?i():null===c.K?a.continue():a.continue(c.K)}}).next(()=>F.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Il(n){return new F((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=vO(r.target.error);t(i)}})}let b7=!1;function vO(n){const e=Vo.S(Gn());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Y("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return b7||(b7=!0,setTimeout(()=>{throw r},0)),r}}return n}class w1e{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;J("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,_(function*(){t.task=null;try{J("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(r){tc(r)?J("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield ec(r)}yield t.et(6e4)}))}}class C1e{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return _(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.st(r,e))})()}st(e,t){const r=new Set;let i=t,o=!0;return F.doWhile(()=>!0===o&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(s=>{if(null!==s&&!r.has(s))return J("IndexBackiller",`Processing collection: ${s}`),this.it(e,s,i).next(a=>{i-=a,r.add(s)});o=!1})).next(()=>t-i)}it(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(o=>{const s=o.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next(()=>this.rt(i,o)).next(a=>(J("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,t,a))).next(()=>s.size)}))}rt(e,t){let r=e;return t.changes.forEach((i,o)=>{const s=_7(o);_O(s,r)>0&&(r=s)}),new Ki(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Qi=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function Ug(n){return null==n}function jg(n){return 0===n&&1/n==-1/0}function ni(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=C7(e)),e=E1e(n.get(t),e);return C7(e)}function E1e(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const o=n.charAt(i);switch(o){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=o}}return t}function C7(n){return n+"\x01\x01"}function ws(n){const e=n.length;if(ye(e>=2),2===e)return ye("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),vt.emptyPath();const t=e-2,r=[];let i="";for(let o=0;o<e;){const s=n.indexOf("\x01",o);switch((s<0||s>t)&&fe(),n.charAt(s+1)){case"\x01":const a=n.substring(o,s);let c;0===i.length?c=a:(i+=a,c=i,i=""),r.push(c);break;case"\x10":i+=n.substring(o,s),i+="\0";break;case"\x11":i+=n.substring(o,s+1);break;default:fe()}o=s+2}return new vt(r)}const E7=["userId","batchId"];function wb(n,e){return[n,ni(e)]}function x7(n,e,t){return[n,ni(e),t]}const x1e={},I1e=["prefixPath","collectionGroup","readTime","documentId"],T1e=["prefixPath","collectionGroup","documentId"],D1e=["collectionGroup","readTime","prefixPath","documentId"],M1e=["canonicalId","targetId"],S1e=["targetId","path"],A1e=["path","targetId"],k1e=["collectionId","parent"],O1e=["indexId","uid"],P1e=["uid","sequenceNumber"],R1e=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],N1e=["indexId","uid","orderedDocumentKey"],F1e=["userId","collectionPath","documentId"],L1e=["userId","collectionPath","largestBatchId"],V1e=["userId","collectionGroup","largestBatchId"],I7=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],B1e=[...I7,"documentOverlays"],T7=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],D7=T7,U1e=[...D7,"indexConfiguration","indexState","indexEntries"];class bO extends v7{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function Tr(n,e){const t=le(n);return Vo.M(t.ht,e)}function M7(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function nc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function S7(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class tn{constructor(e,t){this.comparator=e,this.root=t||zr.EMPTY}insert(e,t){return new tn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,zr.BLACK,null,null))}remove(e){return new tn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,zr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Cb(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Cb(this.root,e,this.comparator,!1)}getReverseIterator(){return new Cb(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Cb(this.root,e,this.comparator,!0)}}class Cb{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class zr{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??zr.RED,this.left=i??zr.EMPTY,this.right=o??zr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new zr(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===o?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return zr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return zr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,zr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,zr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw fe();const e=this.left.check();if(e!==this.right.check())throw fe();return e+(this.isRed()?0:1)}}zr.EMPTY=null,zr.RED=!0,zr.BLACK=!1,zr.EMPTY=new class{constructor(){this.size=0}get key(){throw fe()}get value(){throw fe()}get color(){throw fe()}get left(){throw fe()}get right(){throw fe()}copy(n,e,t,r,i){return this}insert(n,e,t){return new zr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class cn{constructor(e){this.comparator=e,this.data=new tn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new A7(this.data.getIterator())}getIteratorFrom(e){return new A7(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof cn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new cn(this.comparator);return t.data=e,t}}class A7{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function nh(n){return n.hasNext()?n.getNext():void 0}class Pi{constructor(e){this.fields=e,e.sort(Wn.comparator)}static empty(){return new Pi([])}unionWith(e){let t=new cn(Wn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Pi(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return th(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class k7 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class gr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new k7("Invalid base64 string: "+i):i}}(e);return new gr(t)}static fromUint8Array(e){const t=function(r){let i="";for(let o=0;o<r.length;++o)i+=String.fromCharCode(r[o]);return i}(e);return new gr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gr.EMPTY_BYTE_STRING=new gr("");const j1e=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rc(n){if(ye(!!n),"string"==typeof n){let e=0;const t=j1e.exec(n);if(ye(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Nn(n.seconds),nanos:Nn(n.nanos)}}function Nn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function aa(n){return"string"==typeof n?gr.fromBase64String(n):gr.fromUint8Array(n)}function Eb(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function xb(n){const e=n.mapValue.fields.__previous_value__;return Eb(e)?xb(e):e}function zg(n){const e=rc(n.mapValue.fields.__local_write_time__.timestampValue);return new xn(e.seconds,e.nanos)}class z1e{constructor(e,t,r,i,o,s,a,c,l){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}}class Tl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Tl("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Tl&&e.projectId===this.projectId&&e.database===this.database}}const ic={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Ib={nullValue:"NULL_VALUE"};function oc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Eb(n)?4:N7(n)?9007199254740991:10:fe()}function Cs(n,e){if(n===e)return!0;const t=oc(n);if(t!==oc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return zg(n).isEqual(zg(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const o=rc(r.timestampValue),s=rc(i.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,aa(n.bytesValue).isEqual(aa(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Nn(r.geoPointValue.latitude)===Nn(i.geoPointValue.latitude)&&Nn(r.geoPointValue.longitude)===Nn(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Nn(r.integerValue)===Nn(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const o=Nn(r.doubleValue),s=Nn(i.doubleValue);return o===s?jg(o)===jg(s):isNaN(o)&&isNaN(s)}return!1}(n,e);case 9:return th(n.arrayValue.values||[],e.arrayValue.values||[],Cs);case 10:return function(r,i){const o=r.mapValue.fields||{},s=i.mapValue.fields||{};if(M7(o)!==M7(s))return!1;for(const a in o)if(o.hasOwnProperty(a)&&(void 0===s[a]||!Cs(o[a],s[a])))return!1;return!0}(n,e);default:return fe()}var i}function $g(n,e){return void 0!==(n.values||[]).find(t=>Cs(t,e))}function sc(n,e){if(n===e)return 0;const t=oc(n),r=oc(e);if(t!==r)return Le(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Le(n.booleanValue,e.booleanValue);case 2:return function(i,o){const s=Nn(i.integerValue||i.doubleValue),a=Nn(o.integerValue||o.doubleValue);return s<a?-1:s>a?1:s===a?0:isNaN(s)?isNaN(a)?0:-1:1}(n,e);case 3:return O7(n.timestampValue,e.timestampValue);case 4:return O7(zg(n),zg(e));case 5:return Le(n.stringValue,e.stringValue);case 6:return function(i,o){const s=aa(i),a=aa(o);return s.compareTo(a)}(n.bytesValue,e.bytesValue);case 7:return function(i,o){const s=i.split("/"),a=o.split("/");for(let c=0;c<s.length&&c<a.length;c++){const l=Le(s[c],a[c]);if(0!==l)return l}return Le(s.length,a.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,o){const s=Le(Nn(i.latitude),Nn(o.latitude));return 0!==s?s:Le(Nn(i.longitude),Nn(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,o){const s=i.values||[],a=o.values||[];for(let c=0;c<s.length&&c<a.length;++c){const l=sc(s[c],a[c]);if(l)return l}return Le(s.length,a.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,o){if(i===ic.mapValue&&o===ic.mapValue)return 0;if(i===ic.mapValue)return 1;if(o===ic.mapValue)return-1;const s=i.fields||{},a=Object.keys(s),c=o.fields||{},l=Object.keys(c);a.sort(),l.sort();for(let u=0;u<a.length&&u<l.length;++u){const d=Le(a[u],l[u]);if(0!==d)return d;const h=sc(s[a[u]],c[l[u]]);if(0!==h)return h}return Le(a.length,l.length)}(n.mapValue,e.mapValue);default:throw fe()}}function O7(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Le(n,e);const t=rc(n),r=rc(e),i=Le(t.seconds,r.seconds);return 0!==i?i:Le(t.nanos,r.nanos)}function rh(n){return wO(n)}function wO(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=rc(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?aa(n.bytesValue).toBase64():"referenceValue"in n?ae.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",o=!0;for(const s of r.values||[])o?o=!1:i+=",",i+=wO(s);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let o="{",s=!0;for(const a of i)s?s=!1:o+=",",o+=`${a}:${wO(r.fields[a])}`;return o+"}"}(n.mapValue):fe();var e}function Dl(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function CO(n){return!!n&&"integerValue"in n}function Hg(n){return!!n&&"arrayValue"in n}function P7(n){return!!n&&"nullValue"in n}function R7(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Db(n){return!!n&&"mapValue"in n}function Gg(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return nc(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Gg(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Gg(n.arrayValue.values[t]);return e}return Object.assign({},n)}function N7(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function $1e(n){return"nullValue"in n?Ib:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Dl(Tl.empty(),ae.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:fe()}function H1e(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Dl(Tl.empty(),ae.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?ic:fe()}function F7(n,e){const t=sc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function L7(n,e){const t=sc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class $r{constructor(e){this.value=e}static empty(){return new $r({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Db(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gg(t)}setAll(e){let t=Wn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){const c=this.getFieldsMap(t);this.applyChanges(c,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=Gg(s):i.push(a.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){const t=this.field(e.popLast());Db(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Cs(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Db(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){nc(t,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new $r(Gg(this.value))}}function V7(n){const e=[];return nc(n.fields,(t,r)=>{const i=new Wn([t]);if(Db(r)){const o=V7(r.mapValue).fields;if(0===o.length)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Pi(e)}class ln{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new ln(e,0,ve.min(),ve.min(),ve.min(),$r.empty(),0)}static newFoundDocument(e,t,r,i){return new ln(e,1,t,ve.min(),r,i,0)}static newNoDocument(e,t){return new ln(e,2,t,ve.min(),ve.min(),$r.empty(),0)}static newUnknownDocument(e,t){return new ln(e,3,t,ve.min(),ve.min(),$r.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ve.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$r.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$r.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ac{constructor(e,t){this.position=e,this.inclusive=t}}function B7(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const o=e[i],s=n.position[i];if(r=o.field.isKeyField()?ae.comparator(ae.fromName(s.referenceValue),t.key):sc(s,t.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function U7(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Cs(n.position[t],e.position[t]))return!1;return!0}class ih{constructor(e,t="asc"){this.field=e,this.dir=t}}function G1e(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class j7{}class dt extends j7{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new q1e(e,t,r):"array-contains"===t?new Q1e(e,r):"in"===t?new W7(e,r):"not-in"===t?new Y1e(e,r):"array-contains-any"===t?new X1e(e,r):new dt(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new W1e(e,r):new K1e(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(sc(t,this.value)):null!==t&&oc(this.value)===oc(t)&&this.matchesComparison(sc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return fe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Rt extends j7{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Rt(e,t)}matches(e){return oh(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function oh(n){return"and"===n.op}function EO(n){return"or"===n.op}function xO(n){return z7(n)&&oh(n)}function z7(n){for(const e of n.filters)if(e instanceof Rt)return!1;return!0}function IO(n){if(n instanceof dt)return n.field.canonicalString()+n.op.toString()+rh(n.value);if(xO(n))return n.filters.map(e=>IO(e)).join(",");{const e=n.filters.map(t=>IO(t)).join(",");return`${n.op}(${e})`}}function $7(n,e){return n instanceof dt?(t=n,(r=e)instanceof dt&&t.op===r.op&&t.field.isEqual(r.field)&&Cs(t.value,r.value)):n instanceof Rt?function(t,r){return r instanceof Rt&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,o,s)=>i&&$7(o,r.filters[s]),!0)}(n,e):void fe();var t,r}function H7(n,e){const t=n.filters.concat(e);return Rt.create(t,n.op)}function G7(n){return n instanceof dt?`${(e=n).field.canonicalString()} ${e.op} ${rh(e.value)}`:n instanceof Rt?function(e){return e.op.toString()+" {"+e.getFilters().map(G7).join(" ,")+"}"}(n):"Filter";var e}class q1e extends dt{constructor(e,t,r){super(e,t,r),this.key=ae.fromName(r.referenceValue)}matches(e){const t=ae.comparator(e.key,this.key);return this.matchesComparison(t)}}class W1e extends dt{constructor(e,t){super(e,"in",t),this.keys=q7(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class K1e extends dt{constructor(e,t){super(e,"not-in",t),this.keys=q7(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function q7(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>ae.fromName(r.referenceValue))}class Q1e extends dt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Hg(t)&&$g(t.arrayValue,this.value)}}class W7 extends dt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&$g(this.value.arrayValue,t)}}class Y1e extends dt{constructor(e,t){super(e,"not-in",t)}matches(e){if($g(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!$g(this.value.arrayValue,t)}}class X1e extends dt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Hg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>$g(this.value.arrayValue,r))}}class Z1e{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.dt=null}}function TO(n,e=null,t=[],r=[],i=null,o=null,s=null){return new Z1e(n,e,t,r,i,o,s)}function Ml(n){const e=le(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>IO(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Ug(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>rh(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>rh(r)).join(",")),e.dt=t}return e.dt}function qg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!G1e(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!$7(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!U7(n.startAt,e.startAt)&&U7(n.endAt,e.endAt)}function Mb(n){return ae.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Sb(n,e){return n.filters.filter(t=>t instanceof dt&&t.field.isEqual(e))}function K7(n,e,t){let r=Ib,i=!0;for(const o of Sb(n,e)){let s=Ib,a=!0;switch(o.op){case"<":case"<=":s=$1e(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=Ib}F7({value:r,inclusive:i},{value:s,inclusive:a})<0&&(r=s,i=a)}if(null!==t)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const s=t.position[o];F7({value:r,inclusive:i},{value:s,inclusive:t.inclusive})<0&&(r=s,i=t.inclusive);break}return{value:r,inclusive:i}}function Q7(n,e,t){let r=ic,i=!0;for(const o of Sb(n,e)){let s=ic,a=!0;switch(o.op){case">=":case">":s=H1e(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=ic}L7({value:r,inclusive:i},{value:s,inclusive:a})>0&&(r=s,i=a)}if(null!==t)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const s=t.position[o];L7({value:r,inclusive:i},{value:s,inclusive:t.inclusive})>0&&(r=s,i=t.inclusive);break}return{value:r,inclusive:i}}class ca{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.wt=null,this._t=null}}function sh(n){return new ca(n)}function X7(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function DO(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Ab(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function MO(n){return null!==n.collectionGroup}function Sl(n){const e=le(n);if(null===e.wt){e.wt=[];const t=Ab(e),r=DO(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new ih(t)),e.wt.push(new ih(Wn.keyField(),"asc"));else{let i=!1;for(const o of e.explicitOrderBy)e.wt.push(o),o.field.isKeyField()&&(i=!0);if(!i){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new ih(Wn.keyField(),o))}}}return e.wt}function yi(n){const e=le(n);if(!e._t)if("F"===e.limitType)e._t=TO(e.path,e.collectionGroup,Sl(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const o of Sl(e))t.push(new ih(o.field,"desc"===o.dir?"asc":"desc"));const r=e.endAt?new ac(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new ac(e.startAt.position,e.startAt.inclusive):null;e._t=TO(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function SO(n,e){e.getFirstInequalityField(),Ab(n);const t=n.filters.concat([e]);return new ca(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function kb(n,e,t){return new ca(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Wg(n,e){return qg(yi(n),yi(e))&&n.limitType===e.limitType}function Z7(n){return`${Ml(yi(n))}|lt:${n.limitType}`}function AO(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>G7(r)).join(", ")}]`),Ug(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>rh(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>rh(r)).join(",")),`Target(${t})`}(yi(n))}; limitType=${n.limitType})`}function Kg(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):ae.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of Sl(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,o,s){const a=B7(i,o,s);return i.inclusive?a<=0:a<0}(t.startAt,Sl(t),r)||t.endAt&&!function(i,o,s){const a=B7(i,o,s);return i.inclusive?a>=0:a>0}(t.endAt,Sl(t),r)));var t,r}function eG(n){return(e,t)=>{let r=!1;for(const i of Sl(n)){const o=J1e(i,e,t);if(0!==o)return o;r=r||i.field.isKeyField()}return 0}}function J1e(n,e,t){const r=n.field.isKeyField()?ae.comparator(e.key,t.key):function(i,o,s){const a=o.data.field(i),c=s.data.field(i);return null!==a&&null!==c?sc(a,c):fe()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return fe()}}class la{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,o]of r)if(this.equalsFn(i,e))return o}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){nc(this.inner,(t,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return S7(this.inner)}size(){return this.innerSize}}const eIe=new tn(ae.comparator);function Ri(){return eIe}const tG=new tn(ae.comparator);function Qg(...n){let e=tG;for(const t of n)e=e.insert(t.key,t);return e}function nG(n){let e=tG;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Es(){return Yg()}function rG(){return Yg()}function Yg(){return new la(n=>n.toString(),(n,e)=>n.isEqual(e))}const tIe=new tn(ae.comparator),nIe=new cn(ae.comparator);function We(...n){let e=nIe;for(const t of n)e=e.add(t);return e}const rIe=new cn(Le);function iG(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jg(e)?"-0":e}}function oG(n){return{integerValue:""+n}}function sG(n,e){return function w7(n){return"number"==typeof n&&Number.isInteger(n)&&!jg(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?oG(e):iG(n,e)}class Ob{constructor(){this._=void 0}}function iIe(n,e,t){return n instanceof ah?function(r,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&Eb(i)&&(i=xb(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(t,e):n instanceof Al?cG(n,e):n instanceof kl?lG(n,e):function(r,i){const o=aG(r,i),s=uG(o)+uG(r.gt);return CO(o)&&CO(r.gt)?oG(s):iG(r.serializer,s)}(n,e)}function oIe(n,e,t){return n instanceof Al?cG(n,e):n instanceof kl?lG(n,e):t}function aG(n,e){return n instanceof ch?CO(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class ah extends Ob{}class Al extends Ob{constructor(e){super(),this.elements=e}}function cG(n,e){const t=dG(e);for(const r of n.elements)t.some(i=>Cs(i,r))||t.push(r);return{arrayValue:{values:t}}}class kl extends Ob{constructor(e){super(),this.elements=e}}function lG(n,e){let t=dG(e);for(const r of n.elements)t=t.filter(i=>!Cs(i,r));return{arrayValue:{values:t}}}class ch extends Ob{constructor(e,t){super(),this.serializer=e,this.gt=t}}function uG(n){return Nn(n.integerValue||n.doubleValue)}function dG(n){return Hg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Xg{constructor(e,t){this.field=e,this.transform=t}}class aIe{constructor(e,t){this.version=e,this.transformResults=t}}class mn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new mn}static exists(e){return new mn(void 0,e)}static updateTime(e){return new mn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Pb(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Rb{}function hG(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new uh(n.key,mn.none()):new lh(n.key,n.data,mn.none());{const t=n.data,r=$r.empty();let i=new cn(Wn.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);null===s&&o.length>1&&(o=o.popLast(),s=t.field(o)),null===s?r.delete(o):r.set(o,s),i=i.add(o)}return new ua(n.key,r,new Pi(i.toArray()),mn.none())}}function cIe(n,e,t){n instanceof lh?function(r,i,o){const s=r.value.clone(),a=gG(r.fieldTransforms,i,o.transformResults);s.setAll(a),i.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(n,e,t):n instanceof ua?function(r,i,o){if(!Pb(r.precondition,i))return void i.convertToUnknownDocument(o.version);const s=gG(r.fieldTransforms,i,o.transformResults),a=i.data;a.setAll(pG(r)),a.setAll(s),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Zg(n,e,t,r){return n instanceof lh?function(i,o,s,a){if(!Pb(i.precondition,o))return s;const c=i.value.clone(),l=mG(i.fieldTransforms,a,o);return c.setAll(l),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(n,e,t,r):n instanceof ua?function(i,o,s,a){if(!Pb(i.precondition,o))return s;const c=mG(i.fieldTransforms,a,o),l=o.data;return l.setAll(pG(i)),l.setAll(c),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null===s?null:s.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(u=>u.field))}(n,e,t,r):(s=t,Pb(n.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s);var o,s}function lIe(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),o=aG(r.transform,i||null);null!=o&&(null===t&&(t=$r.empty()),t.set(r.field,o))}return t||null}function fG(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&th(t,r,(i,o)=>function sIe(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Al&&r instanceof Al||t instanceof kl&&r instanceof kl?th(t.elements,r.elements,Cs):t instanceof ch&&r instanceof ch?Cs(t.gt,r.gt):t instanceof ah&&r instanceof ah);var t,r}(i,o))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class lh extends Rb{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ua extends Rb{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function pG(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function gG(n,e,t){const r=new Map;ye(n.length===t.length);for(let i=0;i<t.length;i++){const o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,oIe(s,a,t[i]))}return r}function mG(n,e,t){const r=new Map;for(const i of n){const o=i.transform,s=t.data.field(i.field);r.set(i.field,iIe(o,s,e))}return r}class uh extends Rb{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class OO extends Rb{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class PO{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&cIe(o,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Zg(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Zg(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=rG();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;const c=hG(s,a);null!==c&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(ve.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),We())}isEqual(e){return this.batchId===e.batchId&&th(this.mutations,e.mutations,(t,r)=>fG(t,r))&&th(this.baseMutations,e.baseMutations,(t,r)=>fG(t,r))}}class RO{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){ye(e.mutations.length===r.length);let i=tIe;const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new RO(e,t,r,i)}}class NO{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class dIe{constructor(e,t){this.count=e,this.unchangedNames=t}}var nr,bt;function yG(n){if(void 0===n)return qn("GRPC error has no .code"),L.UNKNOWN;switch(n){case nr.OK:return L.OK;case nr.CANCELLED:return L.CANCELLED;case nr.UNKNOWN:return L.UNKNOWN;case nr.DEADLINE_EXCEEDED:return L.DEADLINE_EXCEEDED;case nr.RESOURCE_EXHAUSTED:return L.RESOURCE_EXHAUSTED;case nr.INTERNAL:return L.INTERNAL;case nr.UNAVAILABLE:return L.UNAVAILABLE;case nr.UNAUTHENTICATED:return L.UNAUTHENTICATED;case nr.INVALID_ARGUMENT:return L.INVALID_ARGUMENT;case nr.NOT_FOUND:return L.NOT_FOUND;case nr.ALREADY_EXISTS:return L.ALREADY_EXISTS;case nr.PERMISSION_DENIED:return L.PERMISSION_DENIED;case nr.FAILED_PRECONDITION:return L.FAILED_PRECONDITION;case nr.ABORTED:return L.ABORTED;case nr.OUT_OF_RANGE:return L.OUT_OF_RANGE;case nr.UNIMPLEMENTED:return L.UNIMPLEMENTED;case nr.DATA_LOSS:return L.DATA_LOSS;default:return fe()}}(bt=nr||(nr={}))[bt.OK=0]="OK",bt[bt.CANCELLED=1]="CANCELLED",bt[bt.UNKNOWN=2]="UNKNOWN",bt[bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",bt[bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",bt[bt.NOT_FOUND=5]="NOT_FOUND",bt[bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",bt[bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",bt[bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",bt[bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",bt[bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",bt[bt.ABORTED=10]="ABORTED",bt[bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",bt[bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",bt[bt.INTERNAL=13]="INTERNAL",bt[bt.UNAVAILABLE=14]="UNAVAILABLE",bt[bt.DATA_LOSS=15]="DATA_LOSS";class FO{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Nb}static getOrCreateInstance(){return null===Nb&&(Nb=new FO),Nb}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let Nb=null;const hIe=new Jd([4294967295,4294967295],0);function bG(n){const e=function vG(){return new TextEncoder}().encode(n),t=new c1e;return t.update(e),new Uint8Array(t.digest())}function wG(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Jd([t,r],0),new Jd([i,o],0)]}class LO{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Jg(`Invalid padding: ${t}`);if(r<0)throw new Jg(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Jg(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new Jg(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Jd.fromNumber(this.It)}Et(e,t,r){let i=e.add(t.multiply(Jd.fromNumber(r)));return 1===i.compare(hIe)&&(i=new Jd([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=bG(e),[r,i]=wG(t);for(let o=0;o<this.hashCount;o++){const s=this.Et(r,i,o);if(!this.At(s))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new LO(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(0===this.It)return;const t=bG(e),[r,i]=wG(t);for(let o=0;o<this.hashCount;o++){const s=this.Et(r,i,o);this.Rt(s)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Jg extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class em{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,tm.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new em(ve.min(),i,new tn(Le),Ri(),We())}}class tm{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new tm(r,t,We(),We(),We())}}class Fb{constructor(e,t,r,i){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=i}}class CG{constructor(e,t){this.targetId=e,this.Vt=t}}class EG{constructor(e,t,r=gr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class xG{constructor(){this.St=0,this.Dt=TG(),this.Ct=gr.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=We(),t=We(),r=We();return this.Dt.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:fe()}}),new tm(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=TG()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class fIe{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Ri(),this.zt=IG(),this.Wt=new tn(Le)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:fe()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,i)=>{this.te(i)&&t(i)})}ne(e){var t;const r=e.targetId,i=e.Vt.count,o=this.se(r);if(o){const s=o.target;if(Mb(s))if(0===i){const a=new ae(s.path);this.Yt(r,a,ln.newNoDocument(a,ve.min()))}else ye(1===i);else{const a=this.ie(r);if(a!==i){const c=this.re(e,a);0!==c&&(this.ee(r),this.Wt=this.Wt.insert(r,2===c?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=FO.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(l,u,d){var h,f,y,E,I,k;const M={localCacheCount:u,existenceFilterCount:d.count},V=d.unchangedNames;return V&&(M.bloomFilter={applied:0===l,hashCount:null!==(h=V?.hashCount)&&void 0!==h?h:0,bitmapLength:null!==(E=null===(y=null===(f=V?.bits)||void 0===f?void 0:f.bitmap)||void 0===y?void 0:y.length)&&void 0!==E?E:0,padding:null!==(k=null===(I=V?.bits)||void 0===I?void 0:I.padding)&&void 0!==k?k:0}),M}(c,a,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:o="",padding:s=0},hashCount:a=0}=r;let c,l;try{c=aa(o).toUint8Array()}catch(u){if(u instanceof k7)return Lo("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw u}try{l=new LO(c,s,a)}catch(u){return Lo(u instanceof Jg?"BloomFilter error: ":"Applying bloom filter failed: ",u),1}return 0===l.It?1:i!==t-this.oe(e.targetId,l)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(o=>{const s=this.Gt.ue(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;t.vt(a)||(this.Yt(e,o,null),i++)}),i}ce(e){const t=new Map;this.Qt.forEach((o,s)=>{const a=this.se(s);if(a){if(o.current&&Mb(a.target)){const c=new ae(a.target.path);null!==this.jt.get(c)||this.ae(s,c)||this.Yt(s,c,ln.newNoDocument(c,e))}o.Mt&&(t.set(s,o.Ot()),o.Ft())}});let r=We();this.zt.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{const l=this.se(c);return!l||"TargetPurposeLimboResolution"===l.purpose||(a=!1,!1)}),a&&(r=r.add(o))}),this.jt.forEach((o,s)=>s.setReadTime(e));const i=new em(e,t,this.Wt,this.jt,r);return this.jt=Ri(),this.zt=IG(),this.Wt=new tn(Le),i}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,t)?i.Bt(t,1):i.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new xG,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new cn(Le),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||J("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new xG),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function IG(){return new tn(ae.comparator)}function TG(){return new tn(ae.comparator)}const pIe={asc:"ASCENDING",desc:"DESCENDING"},gIe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mIe={and:"AND",or:"OR"};class _Ie{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function VO(n,e){return n.useProto3Json||Ug(e)?e:{value:e}}function dh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function DG(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function yIe(n,e){return dh(n,e.toTimestamp())}function Kn(n){return ye(!!n),ve.fromTimestamp(function(e){const t=rc(e);return new xn(t.seconds,t.nanos)}(n))}function BO(n,e){return(t=n,new vt(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function MG(n){const e=vt.fromString(n);return ye(LG(e)),e}function nm(n,e){return BO(n.databaseId,e.path)}function xs(n,e){const t=MG(e);if(t.get(1)!==n.databaseId.projectId)throw new Y(L.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Y(L.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ae(AG(t))}function UO(n,e){return BO(n.databaseId,e)}function SG(n){const e=MG(n);return 4===e.length?vt.emptyPath():AG(e)}function rm(n){return new vt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function AG(n){return ye(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function kG(n,e,t){return{name:nm(n,e),fields:t.value.mapValue.fields}}function im(n,e){let t;if(e instanceof lh)t={update:kG(n,e.key,e.value)};else if(e instanceof uh)t={delete:nm(n,e.key)};else if(e instanceof ua)t={update:kG(n,e.key,e.data),updateMask:TIe(e.fieldMask)};else{if(!(e instanceof OO))return fe();t={verify:nm(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const s=o.transform;if(s instanceof ah)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof Al)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof kl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof ch)return{fieldPath:o.field.canonicalString(),increment:s.gt};throw fe()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:yIe(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:fe()),t;var i}function jO(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?mn.updateTime(Kn(i.updateTime)):void 0!==i.exists?mn.exists(i.exists):mn.none():mn.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,s){let a=null;"setToServerValue"in s?(ye("REQUEST_TIME"===s.setToServerValue),a=new ah):"appendMissingElements"in s?a=new Al(s.appendMissingElements.values||[]):"removeAllFromArray"in s?a=new kl(s.removeAllFromArray.values||[]):"increment"in s?a=new ch(o,s.increment):fe();const c=Wn.fromServerFormat(s.fieldPath);return new Xg(c,a)}(n,i)):[];var i;if(e.update){const i=xs(n,e.update.name),o=new $r({mapValue:{fields:e.update.fields}});if(e.updateMask){const s=new Pi((e.updateMask.fieldPaths||[]).map(l=>Wn.fromServerFormat(l)));return new ua(i,o,s,t,r)}return new lh(i,o,t,r)}if(e.delete){const i=xs(n,e.delete);return new uh(i,t)}if(e.verify){const i=xs(n,e.verify);return new OO(i,t)}return fe()}function PG(n,e){return{documents:[UO(n,e.path)]}}function zO(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=UO(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=UO(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(c){if(0!==c.length)return FG(Rt.create(c,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const o=function(c){if(0!==c.length)return c.map(l=>{return{field:cc((u=l).field),direction:EIe(u.dir)};var u})}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const s=VO(n,e.limit);var a,c;return null!==s&&(t.structuredQuery.limit=s),e.startAt&&(t.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(t.structuredQuery.endAt={before:!(c=e.endAt).inclusive,values:c.position}),t}function RG(n){let e=SG(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){ye(1===r);const u=t.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let o=[];t.where&&(o=function(u){const d=NG(u);return d instanceof Rt&&xO(d)?d.getFilters():[d]}(t.where));let s=[];t.orderBy&&(s=t.orderBy.map(u=>{return new ih(hh((d=u).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;t.limit&&(a=function(u){let d;return d="object"==typeof u?u.value:u,Ug(d)?null:d}(t.limit));let c=null;var u;t.startAt&&(c=new ac((u=t.startAt).values||[],!!u.before));let l=null;return t.endAt&&(l=function(u){return new ac(u.values||[],!u.before)}(t.endAt)),function Y7(n,e,t,r,i,o,s,a){return new ca(n,e,t,r,i,o,s,a)}(e,i,s,o,a,"F",c,l)}function NG(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=hh(e.unaryFilter.field);return dt.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=hh(e.unaryFilter.field);return dt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=hh(e.unaryFilter.field);return dt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=hh(e.unaryFilter.field);return dt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return fe()}}(n):void 0!==n.fieldFilter?dt.create(hh((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return fe()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Rt.create(e.compositeFilter.filters.map(t=>NG(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return fe()}}(e.compositeFilter.op))}(n):fe();var e}function EIe(n){return pIe[n]}function xIe(n){return gIe[n]}function IIe(n){return mIe[n]}function cc(n){return{fieldPath:n.canonicalString()}}function hh(n){return Wn.fromServerFormat(n.fieldPath)}function FG(n){return n instanceof dt?function(e){if("=="===e.op){if(R7(e.value))return{unaryFilter:{field:cc(e.field),op:"IS_NAN"}};if(P7(e.value))return{unaryFilter:{field:cc(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(R7(e.value))return{unaryFilter:{field:cc(e.field),op:"IS_NOT_NAN"}};if(P7(e.value))return{unaryFilter:{field:cc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:cc(e.field),op:xIe(e.op),value:e.value}}}(n):n instanceof Rt?function(e){const t=e.getFilters().map(r=>FG(r));return 1===t.length?t[0]:{compositeFilter:{op:IIe(e.op),filters:t}}}(n):fe()}function TIe(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function LG(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class da{constructor(e,t,r,i,o=ve.min(),s=ve.min(),a=gr.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new da(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new da(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new da(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new da(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class VG{constructor(e){this.fe=e}}function BG(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Lb(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:nm(i=n.fe,(o=e).key),fields:o.data.value.mapValue.fields,updateTime:dh(i,o.version.toTimestamp()),createTime:dh(i,o.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Ol(e.version)};else{if(!e.isUnknownDocument())return fe();r.unknownDocument={path:t.path.toArray(),version:Ol(e.version)}}var i,o;return r}function Lb(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Ol(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Pl(n){const e=new xn(n.seconds,n.nanoseconds);return ve.fromTimestamp(e)}function Rl(n,e){const t=(e.baseMutations||[]).map(o=>jO(n.fe,o));for(let o=0;o<e.mutations.length-1;++o)o+1<e.mutations.length&&void 0!==e.mutations[o+1].transform&&(e.mutations[o].updateTransforms=e.mutations[o+1].transform.fieldTransforms,e.mutations.splice(o+1,1),++o);const r=e.mutations.map(o=>jO(n.fe,o)),i=xn.fromMillis(e.localWriteTimeMs);return new PO(e.batchId,i,t,r)}function om(n){const e=Pl(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Pl(n.lastLimboFreeSnapshotVersion):ve.min();let r;var i;return void 0!==n.query.documents?(ye(1===(i=n.query).documents.length),r=yi(sh(SG(i.documents[0])))):r=yi(RG(n.query)),new da(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,gr.fromBase64String(n.resumeToken))}function UG(n,e){const t=Ol(e.snapshotVersion),r=Ol(e.lastLimboFreeSnapshotVersion);let i;i=Mb(e.target)?PG(n.fe,e.target):zO(n.fe,e.target);const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ml(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function $O(n){const e=RG({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?kb(e,e.limit,"L"):e}function HO(n,e){return new NO(e.largestBatchId,jO(n.fe,e.overlayMutation))}function jG(n,e){const t=e.path.lastSegment();return[n,ni(e.path.popLast()),t]}function zG(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Ol(r.readTime),documentKey:ni(r.documentKey.path),largestBatchId:r.largestBatchId}}class MIe{getBundleMetadata(e,t){return $G(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:Pl(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return $G(e).put({bundleId:(r=t).id,createTime:Ol(Kn(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return HG(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:$O(i.bundledQuery),readTime:Pl(i.readTime)};var i})}saveNamedQuery(e,t){return HG(e).put({name:(r=t).name,readTime:Ol(Kn(r.readTime)),bundledQuery:r.bundledQuery});var r}}function $G(n){return Tr(n,"bundles")}function HG(n){return Tr(n,"namedQueries")}class Vb{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new Vb(e,t.uid||"")}getOverlay(e,t){return sm(e).get(jG(this.userId,t)).next(r=>r?HO(this.serializer,r):null)}getOverlays(e,t){const r=Es();return F.forEach(t,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((o,s)=>{const a=new NO(t,s);i.push(this.we(e,a))}),F.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(s=>i.add(ni(s.getCollectionPath())));const o=[];return i.forEach(s=>{const a=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,r+1],!1,!0);o.push(sm(e).J("collectionPathOverlayIndex",a))}),F.waitFor(o)}getOverlaysForCollection(e,t,r){const i=Es(),o=ni(t),s=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return sm(e).j("collectionPathOverlayIndex",s).next(a=>{for(const c of a){const l=HO(this.serializer,c);i.set(l.getKey(),l)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const o=Es();let s;const a=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return sm(e).X({index:"collectionGroupOverlayIndex",range:a},(c,l,u)=>{const d=HO(this.serializer,l);o.size()<i||d.largestBatchId===s?(o.set(d.getKey(),d),s=d.largestBatchId):u.done()}).next(()=>o)}we(e,t){return sm(e).put(function(r,i,o){const[s,a,c]=jG(i,o.mutation.key);return{userId:i,collectionPath:a,documentId:c,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:im(r.fe,o.mutation)}}(this.serializer,this.userId,t))}}function sm(n){return Tr(n,"documentOverlays")}class Nl{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Nn(e.integerValue));else if("doubleValue"in e){const r=Nn(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),jg(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(aa(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?N7(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):fe()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const i of Object.keys(r))this.Te(i,t),this.me(r[i],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const i of r)this.me(i,t)}ve(e,t){this.ye(t,37),ae.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function SIe(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function GG(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const o=SIe(255&t[i]);if(r+=o,8!==o)break}return r}(n);return Math.ceil(e/8)}Nl.Ve=new Nl;class AIe{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.De(r.value),r=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ne(r.value),r=t.next();this.ke()}Me(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.De(r);else if(r<2048)this.De(960|r>>>6),this.De(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.De(480|r>>>12),this.De(128|63&r>>>6),this.De(128|63&r);else{const i=t.codePointAt(0);this.De(240|i>>>18),this.De(128|63&i>>>12),this.De(128|63&i>>>6),this.De(128|63&i)}}this.Ce()}$e(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ne(r);else if(r<2048)this.Ne(960|r>>>6),this.Ne(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r);else{const i=t.codePointAt(0);this.Ne(240|i>>>18),this.Ne(128|63&i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i)}}this.ke()}Oe(e){const t=this.Fe(e),r=GG(t);this.Be(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Le(e){const t=this.Fe(e),r=GG(t);this.Be(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(i){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,i,!1),new Uint8Array(o.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class kIe{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class OIe{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class am{constructor(){this.je=new AIe,this.ze=new kIe(this.je),this.We=new OIe(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class Fl{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Fl(this.indexId,this.documentKey,this.arrayValue,r)}}function lc(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=qG(n.arrayValue,e.arrayValue),0!==t?t:(t=qG(n.directionalValue,e.directionalValue),0!==t?t:ae.comparator(n.documentKey,e.documentKey)))}function qG(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class PIe{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const r=t;r.isInequality()?this.Ze=r:this.Xe.push(r)}}tn(e){ye(e.collectionGroup===this.collectionId);const t=mO(e);if(void 0!==t&&!this.en(t))return!1;const r=xl(e);let i=new Set,o=0,s=0;for(;o<r.length&&this.en(r[o]);++o)i=i.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(void 0!==this.Ze){if(!i.has(this.Ze.field.canonicalString())){const a=r[o];if(!this.nn(this.Ze,a)||!this.sn(this.Ye[s++],a))return!1}++o}for(;o<r.length;++o)if(s>=this.Ye.length||!this.sn(this.Ye[s++],r[o]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function WG(n){var e,t;if(ye(n instanceof dt||n instanceof Rt),n instanceof dt){if(n instanceof W7){const i=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(o=>dt.create(n.field,"==",o)))||[];return Rt.create(i,"or")}return n}const r=n.filters.map(i=>WG(i));return Rt.create(r,n.op)}function RIe(n){if(0===n.getFilters().length)return[];const e=WO(WG(n));return ye(KG(e)),GO(e)||qO(e)?[e]:e.getFilters()}function GO(n){return n instanceof dt}function qO(n){return n instanceof Rt&&xO(n)}function KG(n){return GO(n)||qO(n)||function(e){if(e instanceof Rt&&EO(e)){for(const t of e.getFilters())if(!GO(t)&&!qO(t))return!1;return!0}return!1}(n)}function WO(n){if(ye(n instanceof dt||n instanceof Rt),n instanceof dt)return n;if(1===n.filters.length)return WO(n.filters[0]);const e=n.filters.map(r=>WO(r));let t=Rt.create(e,n.op);return t=Bb(t),KG(t)?t:(ye(t instanceof Rt),ye(oh(t)),ye(t.filters.length>1),t.filters.reduce((r,i)=>KO(r,i)))}function KO(n,e){let t;return ye(n instanceof dt||n instanceof Rt),ye(e instanceof dt||e instanceof Rt),t=n instanceof dt?e instanceof dt?Rt.create([n,e],"and"):QG(n,e):e instanceof dt?QG(e,n):function(r,i){if(ye(r.filters.length>0&&i.filters.length>0),oh(r)&&oh(i))return H7(r,i.getFilters());const o=EO(r)?r:i,s=EO(r)?i:r,a=o.filters.map(c=>KO(c,s));return Rt.create(a,"or")}(n,e),Bb(t)}function QG(n,e){if(oh(e))return H7(e,n.getFilters());{const t=e.filters.map(r=>KO(n,r));return Rt.create(t,"or")}}function Bb(n){if(ye(n instanceof dt||n instanceof Rt),n instanceof dt)return n;const e=n.getFilters();if(1===e.length)return Bb(e[0]);if(z7(n))return n;const t=e.map(i=>Bb(i)),r=[];return t.forEach(i=>{i instanceof dt?r.push(i):i instanceof Rt&&(i.op===n.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:Rt.create(r,n.op)}class NIe{constructor(){this.rn=new QO}addToCollectionParentIndex(e,t){return this.rn.add(t),F.resolve()}getCollectionParents(e,t){return F.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return F.resolve()}deleteFieldIndex(e,t){return F.resolve()}getDocumentsMatchingTarget(e,t){return F.resolve(null)}getIndexType(e,t){return F.resolve(0)}getFieldIndexes(e,t){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,t){return F.resolve(Ki.min())}getMinOffsetFromCollectionGroup(e,t){return F.resolve(Ki.min())}updateCollectionGroup(e,t,r){return F.resolve()}updateIndexEntries(e,t){return F.resolve()}}class QO{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new cn(vt.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new cn(vt.comparator)).toArray()}}const Ub=new Uint8Array(0);class FIe{constructor(e,t){this.user=e,this.databaseId=t,this.on=new QO,this.un=new la(r=>Ml(r),(r,i)=>qg(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const o={collectionId:r,parent:ni(i)};return YG(e).put(o)}return F.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[g7(t),""],!1,!0);return YG(e).j(i).next(o=>{for(const s of o){if(s.collectionId!==t)break;r.push(ws(s.parent))}return r})}addFieldIndex(e,t){const r=jb(e),i={indexId:(s=t).indexId,collectionGroup:s.collectionGroup,fields:s.fields.map(a=>[a.fieldPath.canonicalString(),a.kind])};var s;delete i.indexId;const o=r.add(i);if(t.indexState){const s=lm(e);return o.next(a=>{s.put(zG(a,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return o.next()}deleteFieldIndex(e,t){const r=jb(e),i=lm(e),o=cm(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=cm(e);let i=!0;const o=new Map;return F.forEach(this.cn(t),s=>this.an(e,s).next(a=>{i&&(i=!!a),o.set(s,a)})).next(()=>{if(i){let s=We();const a=[];return F.forEach(o,(c,l)=>{var u;J("IndexedDbIndexManager",`Using index ${u=c,`id=${u.indexId}|cg=${u.collectionGroup}|f=${u.fields.map(V=>`${V.fieldPath}:${V.kind}`).join(",")}`} to execute ${Ml(t)}`);const d=function(V,K){const oe=mO(K);if(void 0===oe)return null;for(const de of Sb(V,oe.fieldPath))switch(de.op){case"array-contains-any":return de.value.arrayValue.values||[];case"array-contains":return[de.value]}return null}(l,c),h=function(V,K){const oe=new Map;for(const de of xl(K))for(const ze of Sb(V,de.fieldPath))switch(ze.op){case"==":case"in":oe.set(de.fieldPath.canonicalString(),ze.value);break;case"not-in":case"!=":return oe.set(de.fieldPath.canonicalString(),ze.value),Array.from(oe.values())}return null}(l,c),f=function(V,K){const oe=[];let de=!0;for(const ze of xl(K)){const ht=0===ze.kind?K7(V,ze.fieldPath,V.startAt):Q7(V,ze.fieldPath,V.startAt);oe.push(ht.value),de&&(de=ht.inclusive)}return new ac(oe,de)}(l,c),y=function(V,K){const oe=[];let de=!0;for(const ze of xl(K)){const ht=0===ze.kind?Q7(V,ze.fieldPath,V.endAt):K7(V,ze.fieldPath,V.endAt);oe.push(ht.value),de&&(de=ht.inclusive)}return new ac(oe,de)}(l,c),E=this.hn(c,l,f),I=this.hn(c,l,y),k=this.ln(c,l,h),M=this.fn(c.indexId,d,E,f.inclusive,I,y.inclusive,k);return F.forEach(M,V=>r.H(V,t.limit).next(K=>{K.forEach(oe=>{const de=ae.fromSegments(oe.documentKey);s.has(de)||(s=s.add(de),a.push(de))})}))}).next(()=>a)}return F.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:RIe(Rt.create(e.filters,"and")).map(r=>TO(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,r,i,o,s,a){const c=(null!=t?t.length:1)*Math.max(r.length,o.length),l=c/(null!=t?t.length:1),u=[];for(let d=0;d<c;++d){const h=t?this.dn(t[d/l]):Ub,f=this.wn(e,h,r[d%l],i),y=this._n(e,h,o[d%l],s),E=a.map(I=>this.wn(e,h,I,!0));u.push(...this.createRange(f,y,E))}return u}wn(e,t,r,i){const o=new Fl(e,ae.empty(),t,r);return i?o:o.Je()}_n(e,t,r,i){const o=new Fl(e,ae.empty(),t,r);return i?o.Je():o}an(e,t){const r=new PIe(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(o=>{let s=null;for(const a of o)r.tn(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(e,t){let r=2;const i=this.cn(t);return F.forEach(i,o=>this.an(e,o).next(s=>{s?0!==r&&s.fields.length<function(a){let c=new cn(Wn.comparator),l=!1;for(const u of a.filters)for(const d of u.getFlattenedFilters())d.field.isKeyField()||("array-contains"===d.op||"array-contains-any"===d.op?l=!0:c=c.add(d.field));for(const u of a.orderBy)u.field.isKeyField()||(c=c.add(u.field));return c.size+(l?1:0)}(o)&&(r=1):r=0})).next(()=>null!==t.limit&&i.length>1&&2===r?1:r)}mn(e,t){const r=new am;for(const i of xl(e)){const o=t.data.field(i.fieldPath);if(null==o)return null;const s=r.He(i.kind);Nl.Ve._e(o,s)}return r.Qe()}dn(e){const t=new am;return Nl.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const r=new am;return Nl.Ve._e(Dl(this.databaseId,t),r.He(function(i){const o=xl(i);return 0===o.length?0:o[o.length-1].kind}(e))),r.Qe()}ln(e,t,r){if(null===r)return[];let i=[];i.push(new am);let o=0;for(const s of xl(e)){const a=r[o++];for(const c of i)if(this.yn(t,s.fieldPath)&&Hg(a))i=this.pn(i,s,a);else{const l=c.He(s.kind);Nl.Ve._e(a,l)}}return this.In(i)}hn(e,t,r){return this.ln(e,t,r.position)}In(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Qe();return t}pn(e,t,r){const i=[...e],o=[];for(const s of r.arrayValue.values||[])for(const a of i){const c=new am;c.seed(a.Qe()),Nl.Ve._e(s,c.He(t.kind)),o.push(c)}return o}yn(e,t){return!!e.filters.find(r=>r instanceof dt&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=jb(e),i=lm(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next(o=>{const s=[];return F.forEach(o,a=>i.get([a.indexId,this.uid]).next(c=>{s.push(function(l,u){const d=u?new Vg(u.sequenceNumber,new Ki(Pl(u.readTime),new ae(ws(u.documentKey)),u.largestBatchId)):Vg.empty(),h=l.fields.map(([f,y])=>new vb(Wn.fromServerFormat(f),y));return new yb(l.indexId,l.collectionGroup,h,d)}(a,c))})).next(()=>s)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==o?o:Le(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=jb(e),o=lm(e);return this.Tn(e).next(s=>i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(a=>F.forEach(a,c=>o.put(zG(c.indexId,this.user,s,r)))))}updateIndexEntries(e,t){const r=new Map;return F.forEach(t,(i,o)=>{const s=r.get(i.collectionGroup);return(s?F.resolve(s):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),F.forEach(a,c=>this.En(e,i,c).next(l=>{const u=this.An(o,c);return l.isEqual(u)?F.resolve():this.vn(e,o,c,l,u)}))))})}Rn(e,t,r,i){return cm(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.gn(r,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,r,i){return cm(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.gn(r,t.key),t.key.path.toArray()])}En(e,t,r){const i=cm(e);let o=new cn(lc);return i.X({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.gn(r,t)])},(s,a)=>{o=o.add(new Fl(r.indexId,t,a.arrayValue,a.directionalValue))}).next(()=>o)}An(e,t){let r=new cn(lc);const i=this.mn(t,e);if(null==i)return r;const o=mO(t);if(null!=o){const s=e.data.field(o.fieldPath);if(Hg(s))for(const a of s.arrayValue.values||[])r=r.add(new Fl(t.indexId,e.key,this.dn(a),i))}else r=r.add(new Fl(t.indexId,e.key,Ub,i));return r}vn(e,t,r,i,o){J("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const s=[];return function(a,c,l,u,d){const h=a.getIterator(),f=c.getIterator();let y=nh(h),E=nh(f);for(;y||E;){let I=!1,k=!1;if(y&&E){const M=l(y,E);M<0?k=!0:M>0&&(I=!0)}else null!=y?k=!0:I=!0;I?(u(E),E=nh(f)):k?(d(y),y=nh(h)):(y=nh(h),E=nh(f))}}(i,o,lc,a=>{s.push(this.Rn(e,t,r,a))},a=>{s.push(this.Pn(e,t,r,a))}),F.waitFor(s)}Tn(e){let t=1;return lm(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,o)=>{o.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((s,a)=>lc(s,a)).filter((s,a,c)=>!a||0!==lc(s,c[a-1]));const i=[];i.push(e);for(const s of r){const a=lc(s,e),c=lc(s,t);if(0===a)i[0]=e.Je();else if(a>0&&c<0)i.push(s),i.push(s.Je());else if(c>0)break}i.push(t);const o=[];for(let s=0;s<i.length;s+=2){if(this.bn(i[s],i[s+1]))return[];o.push(IDBKeyRange.bound([i[s].indexId,this.uid,i[s].arrayValue,i[s].directionalValue,Ub,[]],[i[s+1].indexId,this.uid,i[s+1].arrayValue,i[s+1].directionalValue,Ub,[]]))}return o}bn(e,t){return lc(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(XG)}getMinOffset(e,t){return F.mapArray(this.cn(t),r=>this.an(e,r).next(i=>i||fe())).next(XG)}}function YG(n){return Tr(n,"collectionParents")}function cm(n){return Tr(n,"indexEntries")}function jb(n){return Tr(n,"indexConfiguration")}function lm(n){return Tr(n,"indexState")}function XG(n){ye(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;_O(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new Ki(e.readTime,e.documentKey,t)}const ZG={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ri{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new ri(e,ri.DEFAULT_COLLECTION_PERCENTILE,ri.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function JG(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),o=[],s=IDBKeyRange.only(t.batchId);let a=0;const c=r.X({range:s},(u,d,h)=>(a++,h.delete()));o.push(c.next(()=>{ye(1===a)}));const l=[];for(const u of t.mutations){const d=x7(e,u.key.path,t.batchId);o.push(i.delete(d)),l.push(u.key)}return F.waitFor(o).next(()=>l)}function zb(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw fe();e=n.noDocument}return JSON.stringify(e).length}ri.DEFAULT_COLLECTION_PERCENTILE=10,ri.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ri.DEFAULT=new ri(41943040,ri.DEFAULT_COLLECTION_PERCENTILE,ri.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ri.DISABLED=new ri(-1,0,0);class $b{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.Vn={}}static de(e,t,r,i){ye(""!==e.uid);const o=e.isAuthenticated()?e.uid:"";return new $b(o,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return uc(e).X({index:"userMutationsIndex",range:r},(i,o,s)=>{t=!1,s.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const o=fh(e),s=uc(e);return s.add({}).next(a=>{ye("number"==typeof a);const c=new PO(a,t,r,i),l=function(h,f,y){const E=y.baseMutations.map(k=>im(h.fe,k)),I=y.mutations.map(k=>im(h.fe,k));return{userId:f,batchId:y.batchId,localWriteTimeMs:y.localWriteTime.toMillis(),baseMutations:E,mutations:I}}(this.serializer,this.userId,c),u=[];let d=new cn((h,f)=>Le(h.canonicalString(),f.canonicalString()));for(const h of i){const f=x7(this.userId,h.key.path,a);d=d.add(h.key.path.popLast()),u.push(s.put(l)),u.push(o.put(f,x1e))}return d.forEach(h=>{u.push(this.indexManager.addToCollectionParentIndex(e,h))}),e.addOnCommittedListener(()=>{this.Vn[a]=c.keys()}),F.waitFor(u).next(()=>c)})}lookupMutationBatch(e,t){return uc(e).get(t).next(r=>r?(ye(r.userId===this.userId),Rl(this.serializer,r)):null)}Sn(e,t){return this.Vn[t]?F.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.Vn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return uc(e).X({index:"userMutationsIndex",range:i},(s,a,c)=>{a.userId===this.userId&&(ye(a.batchId>=r),o=Rl(this.serializer,a)),c.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return uc(e).X({index:"userMutationsIndex",range:t,reverse:!0},(i,o,s)=>{r=o.batchId,s.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return uc(e).j("userMutationsIndex",t).next(r=>r.map(i=>Rl(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=wb(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return fh(e).X({range:i},(s,a,c)=>{const[l,u,d]=s,h=ws(u);if(l===this.userId&&t.path.isEqual(h))return uc(e).get(d).next(f=>{if(!f)throw fe();ye(f.userId===this.userId),o.push(Rl(this.serializer,f))});c.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new cn(Le);const i=[];return t.forEach(o=>{const s=wb(this.userId,o.path),a=IDBKeyRange.lowerBound(s),c=fh(e).X({range:a},(l,u,d)=>{const[h,f,y]=l,E=ws(f);h===this.userId&&o.path.isEqual(E)?r=r.add(y):d.done()});i.push(c)}),F.waitFor(i).next(()=>this.Dn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,o=wb(this.userId,r),s=IDBKeyRange.lowerBound(o);let a=new cn(Le);return fh(e).X({range:s},(c,l,u)=>{const[d,h,f]=c,y=ws(h);d===this.userId&&r.isPrefixOf(y)?y.length===i&&(a=a.add(f)):u.done()}).next(()=>this.Dn(e,a))}Dn(e,t){const r=[],i=[];return t.forEach(o=>{i.push(uc(e).get(o).next(s=>{if(null===s)throw fe();ye(s.userId===this.userId),r.push(Rl(this.serializer,s))}))}),F.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return JG(e.ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),F.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return F.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return fh(e).X({range:r},(o,s,a)=>{if(o[0]===this.userId){const c=ws(o[1]);i.push(c)}else a.done()}).next(()=>{ye(0===i.length)})})}containsKey(e,t){return eq(e,this.userId,t)}xn(e){return tq(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function eq(n,e,t){const r=wb(e,t.path),i=r[1],o=IDBKeyRange.lowerBound(r);let s=!1;return fh(n).X({range:o,Y:!0},(a,c,l)=>{const[u,d,h]=a;u===e&&d===i&&(s=!0),l.done()}).next(()=>s)}function uc(n){return Tr(n,"mutations")}function fh(n){return Tr(n,"documentMutations")}function tq(n){return Tr(n,"mutationQueues")}class Ll{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Ll(0)}static Mn(){return new Ll(-1)}}class LIe{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const r=new Ll(t.highestTargetId);return t.highestTargetId=r.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>ve.fromTimestamp(new xn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.$n(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.On(e,i)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(r=>(r.targetCount+=1,this.Bn(t,r),this.On(e,r))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>ph(e).delete(t.targetId)).next(()=>this.$n(e)).next(r=>(ye(r.targetCount>0),r.targetCount-=1,this.On(e,r)))}removeTargets(e,t,r){let i=0;const o=[];return ph(e).X((s,a)=>{const c=om(a);c.sequenceNumber<=t&&null===r.get(c.targetId)&&(i++,o.push(this.removeTargetData(e,c)))}).next(()=>F.waitFor(o)).next(()=>i)}forEachTarget(e,t){return ph(e).X((r,i)=>{const o=om(i);t(o)})}$n(e){return nq(e).get("targetGlobalKey").next(t=>(ye(null!==t),t))}On(e,t){return nq(e).put("targetGlobalKey",t)}Fn(e,t){return ph(e).put(UG(this.serializer,t))}Bn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Ml(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return ph(e).X({range:i,index:"queryTargetsIndex"},(s,a,c)=>{const l=om(a);qg(t,l.target)&&(o=l,c.done())}).next(()=>o)}addMatchingKeys(e,t,r){const i=[],o=dc(e);return t.forEach(s=>{const a=ni(s.path);i.push(o.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,s))}),F.waitFor(i)}removeMatchingKeys(e,t,r){const i=dc(e);return F.forEach(t,o=>{const s=ni(o.path);return F.waitFor([i.delete([r,s]),this.referenceDelegate.removeReference(e,r,o)])})}removeMatchingKeysForTargetId(e,t){const r=dc(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=dc(e);let o=We();return i.X({range:r,Y:!0},(s,a,c)=>{const l=ws(s[1]),u=new ae(l);o=o.add(u)}).next(()=>o)}containsKey(e,t){const r=ni(t.path),i=IDBKeyRange.bound([r],[g7(r)],!1,!0);let o=0;return dc(e).X({index:"documentTargetsIndex",Y:!0,range:i},([s,a],c,l)=>{0!==s&&(o++,l.done())}).next(()=>o>0)}le(e,t){return ph(e).get(t).next(r=>r?om(r):null)}}function ph(n){return Tr(n,"targets")}function nq(n){return Tr(n,"targetGlobal")}function dc(n){return Tr(n,"targetDocuments")}function rq([n,e],[t,r]){const i=Le(n,t);return 0===i?Le(e,r):i}class VIe{constructor(e){this.Ln=e,this.buffer=new cn(rq),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();rq(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class iq{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;J("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,_(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){tc(r)?J("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield ec(r)}yield t.Qn(3e5)}))}}class BIe{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return F.resolve(Qi.ct);const r=new VIe(t);return this.jn.forEachTarget(e,i=>r.Kn(i.sequenceNumber)).next(()=>this.jn.Wn(e,i=>r.Kn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.jn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(J("LruGarbageCollector","Garbage collection skipped; disabled"),F.resolve(ZG)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(J("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ZG):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let r,i,o,s,a,c,l;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(J("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,s=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,a=Date.now(),this.removeTargets(e,r,t))).next(d=>(o=d,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(l=Date.now(),pO()<=pt.DEBUG&&J("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-u}ms\n\tDetermined least recently used ${i} in `+(a-s)+`ms\n\tRemoved ${o} targets in `+(c-a)+`ms\n\tRemoved ${d} documents in `+(l-c)+`ms\nTotal Duration: ${l-u}ms`),F.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:d})))}}class UIe{constructor(e,t){this.db=e,this.garbageCollector=function oq(n,e){return new BIe(n,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Jn(e){let t=0;return this.Wn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(r,i)=>t(i))}addReference(e,t,r){return Hb(e,r)}removeReference(e,t,r){return Hb(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Hb(e,t)}Xn(e,t){return function(r,i){let o=!1;return tq(r).Z(s=>eq(r,s,i).next(a=>(a&&(o=!0),F.resolve(!a)))).next(()=>o)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let o=0;return this.Yn(e,(s,a)=>{if(a<=t){const c=this.Xn(e,s).next(l=>{if(!l)return o++,r.getEntry(e,s).next(()=>(r.removeEntry(s,ve.min()),dc(e).delete([0,ni(s.path)])))});i.push(c)}}).next(()=>F.waitFor(i)).next(()=>r.apply(e)).next(()=>o)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Hb(e,t)}Yn(e,t){const r=dc(e);let i,o=Qi.ct;return r.X({index:"documentTargetsIndex"},([s,a],{path:c,sequenceNumber:l})=>{0===s?(o!==Qi.ct&&t(new ae(ws(i)),o),o=l,i=c):o=Qi.ct}).next(()=>{o!==Qi.ct&&t(new ae(ws(i)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Hb(n,e){return dc(n).put((r=n.currentSequenceNumber,{targetId:0,path:ni(e.path),sequenceNumber:r}));var r}class sq{constructor(){this.changes=new la(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ln.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?F.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class jIe{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Vl(e).put(r)}removeEntry(e,t,r){return Vl(e).delete(function(i,o){const s=i.path.toArray();return[s.slice(0,s.length-2),s[s.length-2],Lb(o),s[s.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Zn(e,r)))}getEntry(e,t){let r=ln.newInvalidDocument(t);return Vl(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(um(t))},(i,o)=>{r=this.ts(t,o)}).next(()=>r)}es(e,t){let r={size:0,document:ln.newInvalidDocument(t)};return Vl(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(um(t))},(i,o)=>{r={document:this.ts(t,o),size:zb(o)}}).next(()=>r)}getEntries(e,t){let r=Ri();return this.ns(e,t,(i,o)=>{const s=this.ts(i,o);r=r.insert(i,s)}).next(()=>r)}ss(e,t){let r=Ri(),i=new tn(ae.comparator);return this.ns(e,t,(o,s)=>{const a=this.ts(o,s);r=r.insert(o,a),i=i.insert(o,zb(s))}).next(()=>({documents:r,rs:i}))}ns(e,t,r){if(t.isEmpty())return F.resolve();let i=new cn(uq);t.forEach(c=>i=i.add(c));const o=IDBKeyRange.bound(um(i.first()),um(i.last())),s=i.getIterator();let a=s.getNext();return Vl(e).X({index:"documentKeyIndex",range:o},(c,l,u)=>{const d=ae.fromSegments([...l.prefixPath,l.collectionGroup,l.documentId]);for(;a&&uq(a,d)<0;)r(a,null),a=s.getNext();a&&a.isEqual(d)&&(r(a,l),a=s.hasNext()?s.getNext():null),a?u.G(um(a)):u.done()}).next(()=>{for(;a;)r(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,t,r,i){const o=t.path,s=[o.popLast().toArray(),o.lastSegment(),Lb(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],a=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Vl(e).j(IDBKeyRange.bound(s,a,!0)).next(c=>{let l=Ri();for(const u of c){const d=this.ts(ae.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);d.isFoundDocument()&&(Kg(t,d)||i.has(d.key))&&(l=l.insert(d.key,d))}return l})}getAllFromCollectionGroup(e,t,r,i){let o=Ri();const s=lq(t,r),a=lq(t,Ki.max());return Vl(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},(c,l,u)=>{const d=this.ts(ae.fromSegments(l.prefixPath.concat(l.collectionGroup,l.documentId)),l);o=o.insert(d.key,d),o.size===i&&u.done()}).next(()=>o)}newChangeBuffer(e){return new zIe(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return cq(e).get("remoteDocumentGlobalKey").next(t=>(ye(!!t),t))}Zn(e,t){return cq(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const r=function DIe(n,e){let t;if(e.document)t=function OG(n,e,t){const r=xs(n,e.name),i=Kn(e.updateTime),o=e.createTime?Kn(e.createTime):ve.min(),s=new $r({mapValue:{fields:e.fields}}),a=ln.newFoundDocument(r,i,o,s);return t&&a.setHasCommittedMutations(),t?a.setHasCommittedMutations():a}(n.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=ae.fromSegments(e.noDocument.path),i=Pl(e.noDocument.readTime);t=ln.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return fe();{const r=ae.fromSegments(e.unknownDocument.path),i=Pl(e.unknownDocument.version);t=ln.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new xn(r[0],r[1]);return ve.fromTimestamp(i)}(e.readTime)),t}(this.serializer,t);if(!r.isNoDocument()||!r.version.isEqual(ve.min()))return r}return ln.newInvalidDocument(e)}}function aq(n){return new jIe(n)}class zIe extends sq{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new la(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new cn((o,s)=>Le(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{const a=this.us.get(o);if(t.push(this.os.removeEntry(e,o,a.readTime)),s.isValidDocument()){const c=BG(this.os.serializer,s);i=i.add(o.path.popLast());const l=zb(c);r+=l-a.size,t.push(this.os.addEntry(e,o,c))}else if(r-=a.size,this.trackRemovals){const c=BG(this.os.serializer,s.convertToNoDocument(ve.min()));t.push(this.os.addEntry(e,o,c))}}),i.forEach(o=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,o))}),t.push(this.os.updateMetadata(e,r)),F.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(r=>(this.us.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:r,rs:i})=>(i.forEach((o,s)=>{this.us.set(o,{size:s,readTime:r.get(o).readTime})}),r))}}function cq(n){return Tr(n,"remoteDocumentGlobal")}function Vl(n){return Tr(n,"remoteDocumentsV14")}function um(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function lq(n,e){const t=e.documentKey.path.toArray();return[n,Lb(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function uq(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let o=0;o<t.length-2&&o<r.length-2;++o)if(i=Le(t[o],r[o]),i)return i;return i=Le(t.length,r.length),i||(i=Le(t[t.length-2],r[r.length-2]),i||Le(t[t.length-1],r[r.length-1]))}class $Ie{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class dq{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&Zg(r.mutation,i,Pi.empty(),xn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,We()).next(()=>r))}getLocalViewOfDocuments(e,t,r=We()){const i=Es();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=Qg();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){const r=Es();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,We()))}populateOverlays(e,t,r){const i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=Ri();const s=Yg(),a=Yg();return t.forEach((c,l)=>{const u=r.get(l.key);i.has(l.key)&&(void 0===u||u.mutation instanceof ua)?o=o.insert(l.key,l):void 0!==u?(s.set(l.key,u.mutation.getFieldMask()),Zg(u.mutation,l,u.mutation.getFieldMask(),xn.now())):s.set(l.key,Pi.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((l,u)=>s.set(l,u)),t.forEach((l,u)=>{var d;return a.set(l,new $Ie(u,null!==(d=s.get(l))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,t){const r=Yg();let i=new tn((s,a)=>s-a),o=We();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(const a of s)a.keys().forEach(c=>{const l=t.get(c);if(null===l)return;let u=r.get(c)||Pi.empty();u=a.applyToLocalView(l,u),r.set(c,u);const d=(i.get(a.batchId)||We()).add(c);i=i.insert(a.batchId,d)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),l=c.key,u=c.value,d=rG();u.forEach(h=>{if(!o.has(h)){const f=hG(t.get(h),r.get(h));null!==f&&d.set(h,f),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,d))}return F.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return ae.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):MO(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):F.resolve(Es());let a=-1,c=o;return s.next(l=>F.forEach(l,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(u)?F.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{c=c.insert(u,h)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,c,l,We())).next(u=>({batchId:a,changes:nG(u)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ae(t)).next(r=>{let i=Qg();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let o=Qg();return this.indexManager.getCollectionParents(e,i).next(s=>F.forEach(s,a=>{const c=(l=t,u=a.child(i),new ca(u,null,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt));var l,u;return this.getDocumentsMatchingCollectionQuery(e,c,r).next(l=>{l.forEach((u,d)=>{o=o.insert(u,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(o=>{i.forEach((a,c)=>{const l=c.getKey();null===o.get(l)&&(o=o.insert(l,ln.newInvalidDocument(l)))});let s=Qg();return o.forEach((a,c)=>{const l=i.get(a);void 0!==l&&Zg(l.mutation,c,Pi.empty(),xn.now()),Kg(t,c)&&(s=s.insert(a,c))}),s})}}class HIe{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return F.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:Kn(r.createTime)}),F.resolve()}getNamedQuery(e,t){return F.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:$O(r.bundledQuery),readTime:Kn(r.readTime)}),F.resolve();var r}}class GIe{constructor(){this.overlays=new tn(ae.comparator),this.ls=new Map}getOverlay(e,t){return F.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Es();return F.forEach(t,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.we(e,t,o)}),F.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.ls.delete(r)),F.resolve()}getOverlaysForCollection(e,t,r){const i=Es(),o=t.length+1,s=new ae(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const c=a.getNext().value,l=c.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return F.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new tn((l,u)=>l-u);const s=this.overlays.getIterator();for(;s.hasNext();){const l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let u=o.get(l.largestBatchId);null===u&&(u=Es(),o=o.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}const a=Es(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,u)=>a.set(l,u)),!(a.size()>=i)););return F.resolve(a)}we(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const s=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new NO(t,r));let o=this.ls.get(t);void 0===o&&(o=We(),this.ls.set(t,o)),this.ls.set(t,o.add(r.key))}}class YO{constructor(){this.fs=new cn(Dr.ds),this.ws=new cn(Dr._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new Dr(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new Dr(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new ae(new vt([])),r=new Dr(t,e),i=new Dr(t,e+1),o=[];return this.ws.forEachInRange([r,i],s=>{this.ys(s),o.push(s.key)}),o}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new ae(new vt([])),r=new Dr(t,e),i=new Dr(t,e+1);let o=We();return this.ws.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const t=new Dr(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Dr{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return ae.comparator(e.key,t.key)||Le(e.As,t.As)}static _s(e,t){return Le(e.As,t.As)||ae.comparator(e.key,t.key)}}class qIe{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new cn(Dr.ds)}checkEmpty(e){return F.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const o=this.vs;this.vs++;const s=new PO(o,t,r,i);this.mutationQueue.push(s);for(const a of i)this.Rs=this.Rs.add(new Dr(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return F.resolve(s)}lookupMutationBatch(e,t){return F.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.bs(t+1),o=i<0?0:i;return F.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Dr(t,0),i=new Dr(t,Number.POSITIVE_INFINITY),o=[];return this.Rs.forEachInRange([r,i],s=>{const a=this.Ps(s.As);o.push(a)}),F.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new cn(Le);return t.forEach(i=>{const o=new Dr(i,0),s=new Dr(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([o,s],a=>{r=r.add(a.As)})}),F.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let o=r;ae.isDocumentKey(o)||(o=o.child(""));const s=new Dr(new ae(o),0);let a=new cn(Le);return this.Rs.forEachWhile(c=>{const l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(c.As)),!0)},s),F.resolve(this.Vs(a))}Vs(e){const t=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){ye(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return F.forEach(t.mutations,i=>{const o=new Dr(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new Dr(t,0),i=this.Rs.firstAfterOrEqual(r);return F.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return F.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class WIe{constructor(e){this.Ds=e,this.docs=new tn(ae.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return F.resolve(r?r.document.mutableCopy():ln.newInvalidDocument(t))}getEntries(e,t){let r=Ri();return t.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():ln.newInvalidDocument(i))}),F.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Ri();const s=t.path,a=new ae(s.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:l,value:{document:u}}=c.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||_O(_7(u),r)<=0||(i.has(u.key)||Kg(t,u))&&(o=o.insert(u.key,u.mutableCopy()))}return F.resolve(o)}getAllFromCollectionGroup(e,t,r,i){fe()}Cs(e,t){return F.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new KIe(this)}getSize(e){return F.resolve(this.size)}}class KIe extends sq{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),F.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class QIe{constructor(e){this.persistence=e,this.xs=new la(t=>Ml(t),qg),this.lastRemoteSnapshotVersion=ve.min(),this.highestTargetId=0,this.Ns=0,this.ks=new YO,this.targetCount=0,this.Ms=Ll.kn()}forEachTarget(e,t){return this.xs.forEach((r,i)=>t(i)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),F.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Ll(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,F.resolve()}updateTargetData(e,t){return this.Fn(t),F.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,t,r){let i=0;const o=[];return this.xs.forEach((s,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.xs.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),F.waitFor(o).next(()=>i)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return F.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),F.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),F.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),F.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return F.resolve(r)}containsKey(e,t){return F.resolve(this.ks.containsKey(t))}}class XO{constructor(e,t){this.$s={},this.overlays={},this.Os=new Qi(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new QIe(this),this.indexManager=new NIe,this.remoteDocumentCache=new WIe(r=>this.referenceDelegate.Ls(r)),this.serializer=new VG(t),this.qs=new HIe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new GIe,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new qIe(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){J("MemoryPersistence","Starting transaction:",e);const i=new YIe(this.Os.next());return this.referenceDelegate.Us(),r(i).next(o=>this.referenceDelegate.Ks(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gs(e,t){return F.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class YIe extends v7{constructor(e){super(),this.currentSequenceNumber=e}}class Gb{constructor(e){this.persistence=e,this.Qs=new YO,this.js=null}static zs(e){return new Gb(e)}get Ws(){if(this.js)return this.js;throw fe()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),F.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),F.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),F.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.Ws.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.Ws,r=>{const i=ae.fromPath(r);return this.Hs(e,i).next(o=>{o||t.removeEntry(i,ve.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return F.or([()=>F.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class XIe{constructor(e){this.serializer=e}O(e,t,r,i){const o=new bb("createOrUpgrade",t);var a;r<1&&i>=1&&(e.createObjectStore("owner"),(a=e).createObjectStore("mutationQueues",{keyPath:"userId"}),a.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",E7,{unique:!0}),a.createObjectStore("documentMutations"),hq(e),function(a){a.createObjectStore("remoteDocuments")}(e));let s=F.resolve();return r<3&&i>=3&&(0!==r&&(function(a){a.deleteObjectStore("targetDocuments"),a.deleteObjectStore("targets"),a.deleteObjectStore("targetGlobal")}(e),hq(e)),s=s.next(()=>function(a){const c=a.store("targetGlobal"),l={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ve.min().toTimestamp(),targetCount:0};return c.put("targetGlobalKey",l)}(o))),r<4&&i>=4&&(0!==r&&(s=s.next(()=>function(a,c){return c.store("mutations").j().next(l=>{a.deleteObjectStore("mutations"),a.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",E7,{unique:!0});const u=c.store("mutations"),d=l.map(h=>u.put(h));return F.waitFor(d)})}(e,o))),s=s.next(()=>{!function(a){a.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(s=s.next(()=>this.Ys(o))),r<6&&i>=6&&(s=s.next(()=>(function(a){a.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(o)))),r<7&&i>=7&&(s=s.next(()=>this.Zs(o))),r<8&&i>=8&&(s=s.next(()=>this.ti(e,o))),r<9&&i>=9&&(s=s.next(()=>{!function(a){a.objectStoreNames.contains("remoteDocumentChanges")&&a.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(s=s.next(()=>this.ei(o))),r<11&&i>=11&&(s=s.next(()=>{(function(a){a.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(a){a.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(s=s.next(()=>{!function(a){const c=a.createObjectStore("documentOverlays",{keyPath:F1e});c.createIndex("collectionPathOverlayIndex",L1e,{unique:!1}),c.createIndex("collectionGroupOverlayIndex",V1e,{unique:!1})}(e)})),r<13&&i>=13&&(s=s.next(()=>function(a){const c=a.createObjectStore("remoteDocumentsV14",{keyPath:I1e});c.createIndex("documentKeyIndex",T1e),c.createIndex("collectionGroupIndex",D1e)}(e)).next(()=>this.ni(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(s=s.next(()=>this.si(e,o))),r<15&&i>=15&&(s=s.next(()=>function(a){a.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),a.createObjectStore("indexState",{keyPath:O1e}).createIndex("sequenceNumberIndex",P1e,{unique:!1}),a.createObjectStore("indexEntries",{keyPath:R1e}).createIndex("documentKeyIndex",N1e,{unique:!1})}(e))),s}Xs(e){let t=0;return e.store("remoteDocuments").X((r,i)=>{t+=zb(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Ys(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.j().next(i=>F.forEach(i,o=>{const s=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",s).next(a=>F.forEach(a,c=>{ye(c.userId===o.userId);const l=Rl(this.serializer,c);return JG(e,o.userId,l).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const o=[];return r.X((s,a)=>{const c=new vt(s),l=[0,ni(c)];o.push(t.get(l).next(u=>u?F.resolve():t.put({targetId:0,path:ni(c),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>F.waitFor(o))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:k1e});const r=t.store("collectionParents"),i=new QO,o=s=>{if(i.add(s)){const a=s.lastSegment(),c=s.popLast();return r.put({collectionId:a,parent:ni(c)})}};return t.store("remoteDocuments").X({Y:!0},(s,a)=>{const c=new vt(s);return o(c.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([s,a,c],l)=>{const u=ws(a);return o(u.popLast())}))}ei(e){const t=e.store("targets");return t.X((r,i)=>{const o=om(i),s=UG(this.serializer,o);return t.put(s)})}ni(e,t){const r=t.store("remoteDocuments"),i=[];return r.X((o,s)=>{const a=t.store("remoteDocumentsV14"),c=(l=s,l.document?new ae(vt.fromString(l.document.name).popFirst(5)):l.noDocument?ae.fromSegments(l.noDocument.path):l.unknownDocument?ae.fromSegments(l.unknownDocument.path):fe()).path.toArray();var l;const u={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};i.push(a.put(u))}).next(()=>F.waitFor(i))}si(e,t){const r=t.store("mutations"),i=aq(this.serializer),o=new XO(Gb.zs,this.serializer.fe);return r.j().next(s=>{const a=new Map;return s.forEach(c=>{var l;let u=null!==(l=a.get(c.userId))&&void 0!==l?l:We();Rl(this.serializer,c).keys().forEach(d=>u=u.add(d)),a.set(c.userId,u)}),F.forEach(a,(c,l)=>{const u=new Ir(l),d=Vb.de(this.serializer,u),h=o.getIndexManager(u),f=$b.de(u,this.serializer,h,o.referenceDelegate);return new dq(i,f,d,h).recalculateAndSaveOverlaysForDocumentKeys(new bO(t,Qi.ct),c).next()})})}}function hq(n){n.createObjectStore("targetDocuments",{keyPath:S1e}).createIndex("documentTargetsIndex",A1e,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",M1e,{unique:!0}),n.createObjectStore("targetGlobal")}const ZO="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class JO{constructor(e,t,r,i,o,s,a,c,l,u,d=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.ii=o,this.window=s,this.document=a,this.ri=l,this.oi=u,this.ui=d,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=h=>Promise.resolve(),!JO.D())throw new Y(L.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new UIe(this,i),this.di=t+"main",this.serializer=new VG(c),this.wi=new Vo(this.di,this.ui,new XIe(this.serializer)),this.Bs=new LIe(this.referenceDelegate,this.serializer),this.remoteDocumentCache=aq(this.serializer),this.qs=new MIe,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===u&&qn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Y(L.FAILED_PRECONDITION,ZO);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new Qi(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var r=_(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=_(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget(_(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Wb(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(tc(e))return J("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return J("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return dm(e).get("owner").next(t=>F.resolve(this.Ri(t)))}Pi(e){return Wb(e).delete(this.clientId)}bi(){var e=this;return _(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Tr(r,"clientMetadata");return i.j().next(o=>{const s=e.Si(o,18e5),a=o.filter(c=>-1===s.indexOf(c));return F.forEach(a,c=>i.delete(c.clientId)).next(()=>a)})}).catch(()=>[]);if(e._i)for(const r of t)e._i.removeItem(e.Di(r.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?F.resolve(!0):dm(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new Y(L.FAILED_PRECONDITION,ZO);return!1}}return!(!this.networkEnabled||!this.inForeground)||Wb(e).j().next(r=>void 0===this.Si(r,5e3).find(i=>!(this.clientId===i.clientId||!(!this.networkEnabled&&i.networkEnabled||!this.inForeground&&i.inForeground&&this.networkEnabled===i.networkEnabled))))}).next(t=>(this.isPrimary!==t&&J("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return _(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new bO(t,Qi.ct);return e.Ai(r).next(()=>e.Pi(r))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(r=>this.Vi(r.updateTimeMs,t)&&!this.Ci(r.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>Wb(e).j().next(t=>this.Si(t,18e5).map(r=>r.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return $b.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new FIe(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return Vb.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,r){J("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",o=15===(s=this.ui)?U1e:14===s?D7:13===s?T7:12===s?B1e:11===s?I7:void fe();var s;let a;return this.wi.runTransaction(e,i,o,c=>(a=new bO(c,this.Os?this.Os.next():Qi.ct),"readwrite-primary"===t?this.Ti(a).next(l=>!!l||this.Ei(a)).next(l=>{if(!l)throw qn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new Y(L.FAILED_PRECONDITION,y7);return r(a)}).next(l=>this.vi(a).next(()=>l)):this.Oi(a).next(()=>r(a)))).then(c=>(a.raiseOnCommittedEvent(),c))}Oi(e){return dm(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Y(L.FAILED_PRECONDITION,ZO)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return dm(e).put("owner",t)}static D(){return Vo.D()}Ai(e){const t=dm(e);return t.get("owner").next(r=>this.Ri(r)?(J("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):F.resolve())}Vi(e,t){const r=Date.now();return!(e<r-t||e>r&&(qn(`Detected an update time that is in the future: ${e} > ${r}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(function kme(){return!function Sme(){var n;const e=null===(n=o0())||void 0===n?void 0:n.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")})()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const r=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return J("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return qn("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){qn("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function dm(n){return Tr(n,"owner")}function Wb(n){return Tr(n,"clientMetadata")}class tP{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=i}static Li(e,t){let r=We(),i=We();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new tP(e,t.fromCache,r,i)}}class fq{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ki(e,t).next(o=>o||this.Gi(e,t,i,r)).next(o=>o||this.Qi(e,t))}Ki(e,t){if(X7(t))return F.resolve(null);let r=yi(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=kb(t,null,"F"),r=yi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=We(...o);return this.Ui.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const l=this.ji(t,a);return this.zi(t,l,s,c.readTime)?this.Ki(e,kb(t,null,"F")):this.Wi(e,l,t,c)}))})))}Gi(e,t,r,i){return X7(t)||i.isEqual(ve.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(o=>{const s=this.ji(t,o);return this.zi(t,s,r,i)?this.Qi(e,t):(pO()<=pt.DEBUG&&J("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),AO(t)),this.Wi(e,s,t,function m7(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ve.fromTimestamp(1e9===r?new xn(t+1,0):new xn(t,r));return new Ki(i,ae.empty(),e)}(i,-1)))})}ji(e,t){let r=new cn(eG(e));return t.forEach((i,o)=>{Kg(e,o)&&(r=r.add(o))}),r}zi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const o="F"===e.limitType?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Qi(e,t){return pO()<=pt.DEBUG&&J("QueryEngine","Using full collection scan to execute query:",AO(t)),this.Ui.getDocumentsMatchingQuery(e,t,Ki.min())}Wi(e,t,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}}class ZIe{constructor(e,t,r,i){this.persistence=e,this.Hi=t,this.serializer=i,this.Ji=new tn(Le),this.Yi=new la(o=>Ml(o),qg),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dq(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function pq(n,e,t,r){return new ZIe(n,e,t,r)}function gq(n,e){return nP.apply(this,arguments)}function nP(){return nP=_(function*(n,e){const t=le(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let c=We();for(const l of i){s.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}for(const l of o){a.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}return t.localDocuments.getDocuments(r,c).next(l=>({er:l,removedBatchIds:s,addedBatchIds:a}))})})}),nP.apply(this,arguments)}function mq(n){const e=le(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function tTe(n,e){const t=le(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function mh(n,e,t){return rP.apply(this,arguments)}function rP(){return rP=_(function*(n,e,t){const r=le(n),i=r.Ji.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!tc(s))throw s;J("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),rP.apply(this,arguments)}function Kb(n,e,t){const r=le(n);let i=ve.min(),o=We();return r.persistence.runTransaction("Execute query","readonly",s=>function(a,c,l){const u=le(a),d=u.Yi.get(l);return void 0!==d?F.resolve(u.Ji.get(d)):u.Bs.getTargetData(c,l)}(r,s,yi(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>r.Hi.getDocumentsMatchingQuery(s,e,t?i:ve.min(),t?o:We())).next(a=>(function bq(n,e,t){let r=n.Xi.get(e)||ve.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Xi.set(e,r)}(r,function J7(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),a),{documents:a,ir:o})))}class cP{constructor(){this.activeTargetIds=function kO(){return rIe}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Eq{constructor(){this.Hr=new cP,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new cP,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class iTe{Yr(e){}shutdown(){}}class xq{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){J("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){J("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Xb=null;function uP(){return null===Xb?Xb=268435456+Math.round(2147483648*Math.random()):Xb++,"0x"+Xb.toString(16)}const oTe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class sTe{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const ii="WebChannelConnection";class aTe extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,i,o){const s=uP(),a=this.To(e,t);J("RestConnection",`Sending RPC '${e}' ${s}:`,a,r);const c={};return this.Eo(c,i,o),this.Ao(e,a,c,r).then(l=>(J("RestConnection",`Received RPC '${e}' ${s}: `,l),l),l=>{throw Lo("RestConnection",`RPC '${e}' ${s} failed with error: `,l,"url: ",a,"request:",r),l})}vo(e,t,r,i,o,s){return this.Io(e,t,r,i,o)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+eh,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}To(e,t){return`${this.mo}/v1/${t}:${oTe[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,i){const o=uP();return new Promise((s,a)=>{const c=new a1e;c.setWithCredentials(!0),c.listenOnce(i1e.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case fO.NO_ERROR:const u=c.getResponseJson();J(ii,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(u)),s(u);break;case fO.TIMEOUT:J(ii,`RPC '${e}' ${o} timed out`),a(new Y(L.DEADLINE_EXCEEDED,"Request time out"));break;case fO.HTTP_ERROR:const d=c.getStatus();if(J(ii,`RPC '${e}' ${o} failed with status:`,d,"response text:",c.getResponseText()),d>0){let h=c.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const y=function(E){const I=E.toLowerCase().replace(/_/g,"-");return Object.values(L).indexOf(I)>=0?I:L.UNKNOWN}(f.status);a(new Y(y,f.message))}else a(new Y(L.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new Y(L.UNAVAILABLE,"Connection failed."));break;default:fe()}}finally{J(ii,`RPC '${e}' ${o} completed.`)}});const l=JSON.stringify(i);J(ii,`RPC '${e}' ${o} sending request:`,i),c.send(t,"POST",l,r,15)})}Ro(e,t,r){const i=uP(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=n1e(),a=r1e(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.xmlHttpFactory=new s1e({})),this.Eo(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;const u=o.join("");J(ii,`Creating RPC '${e}' stream ${i}: ${u}`,c);const d=s.createWebChannel(u,c);let h=!1,f=!1;const y=new sTe({ro:I=>{f?J(ii,`Not sending because RPC '${e}' stream ${i} is closed:`,I):(h||(J(ii,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),J(ii,`RPC '${e}' stream ${i} sending:`,I),d.send(I))},oo:()=>d.close()}),E=(I,k,M)=>{I.listen(k,V=>{try{M(V)}catch(K){setTimeout(()=>{throw K},0)}})};return E(d,_b.EventType.OPEN,()=>{f||J(ii,`RPC '${e}' stream ${i} transport opened.`)}),E(d,_b.EventType.CLOSE,()=>{f||(f=!0,J(ii,`RPC '${e}' stream ${i} transport closed`),y.wo())}),E(d,_b.EventType.ERROR,I=>{f||(f=!0,Lo(ii,`RPC '${e}' stream ${i} transport errored:`,I),y.wo(new Y(L.UNAVAILABLE,"The operation could not be completed")))}),E(d,_b.EventType.MESSAGE,I=>{var k;if(!f){const M=I.data[0];ye(!!M);const K=M.error||(null===(k=M[0])||void 0===k?void 0:k.error);if(K){J(ii,`RPC '${e}' stream ${i} received error:`,K);const oe=K.status;let de=function(ht){const or=nr[ht];if(void 0!==or)return yG(or)}(oe),ze=K.message;void 0===de&&(de=L.INTERNAL,ze="Unknown error status: "+oe+" with message "+K.message),f=!0,y.wo(new Y(de,ze)),d.close()}else J(ii,`RPC '${e}' stream ${i} received:`,M),y._o(M)}}),E(a,o1e.STAT_EVENT,I=>{I.stat===u7.PROXY?J(ii,`RPC '${e}' stream ${i} detected buffering proxy`):I.stat===u7.NOPROXY&&J(ii,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.fo()},0),y}}function Zb(){return typeof document<"u"?document:null}function fm(n){return new _Ie(n,!0)}class dP{constructor(e,t,r=1e3,i=1.5,o=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=i,this.Vo=o,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,t-r);i>0&&J("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class Tq{constructor(e,t,r,i,o,s,a,c){this.ii=e,this.$o=r,this.Oo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new dP(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return _(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return _(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return _(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===L.RESOURCE_EXHAUSTED?(qn(t.toString()),qn("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===L.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===t&&this.Zo(r,i)},r=>{e(()=>{const i=new Y(L.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No(_(function*(){e.state=0,e.start()}))}tu(e){return J("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(J("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class cTe extends Tq{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function bIe(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(c=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:fe(),i=e.targetChange.targetIds||[],o=function(c,l){return c.useProto3Json?(ye(void 0===l||"string"==typeof l),gr.fromBase64String(l||"")):(ye(void 0===l||l instanceof Uint8Array),gr.fromUint8Array(l||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){const l=void 0===c.code?L.UNKNOWN:yG(c.code);return new Y(l,c.message||"")}(s);t=new EG(r,i,o,a||null)}else if("documentChange"in e){const r=e.documentChange,i=xs(n,r.document.name),o=Kn(r.document.updateTime),s=r.document.createTime?Kn(r.document.createTime):ve.min(),a=new $r({mapValue:{fields:r.document.fields}}),c=ln.newFoundDocument(i,o,s,a);t=new Fb(r.targetIds||[],r.removedTargetIds||[],c.key,c)}else if("documentDelete"in e){const r=e.documentDelete,i=xs(n,r.document),o=r.readTime?Kn(r.readTime):ve.min(),s=ln.newNoDocument(i,o);t=new Fb([],r.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const r=e.documentRemove,i=xs(n,r.document);t=new Fb([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return fe();{const r=e.filter,{count:i=0,unchangedNames:o}=r,s=new dIe(i,o);t=new CG(r.targetId,s)}}var c;return t}(this.serializer,e),r=function(i){if(!("targetChange"in i))return ve.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ve.min():o.readTime?Kn(o.readTime):ve.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=rm(this.serializer),t.addTarget=function(i,o){let s;const a=o.target;if(s=Mb(a)?{documents:PG(i,a)}:{query:zO(i,a)},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){s.resumeToken=DG(i,o.resumeToken);const c=VO(i,o.expectedCount);null!==c&&(s.expectedCount=c)}else if(o.snapshotVersion.compareTo(ve.min())>0){s.readTime=dh(i,o.snapshotVersion.toTimestamp());const c=VO(i,o.expectedCount);null!==c&&(s.expectedCount=c)}return s}(this.serializer,e);const r=function CIe(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fe()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=rm(this.serializer),t.removeTarget=e,this.Wo(t)}}class lTe extends Tq{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(ye(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function wIe(n,e){return n&&n.length>0?(ye(void 0!==e),n.map(t=>function(r,i){let o=Kn(r.updateTime?r.updateTime:i);return o.isEqual(ve.min())&&(o=Kn(i)),new aIe(o,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Kn(e.commitTime);return this.listener.cu(r,t)}return ye(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=rm(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>im(this.serializer,r))};this.Wo(t)}}class uTe extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new Y(L.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Io(e,t,r,i,o)).catch(i=>{throw"FirebaseError"===i.name?(i.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Y(L.UNKNOWN,i.toString())})}vo(e,t,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.vo(e,t,r,o,s,i)).catch(o=>{throw"FirebaseError"===o.name?(o.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Y(L.UNKNOWN,o.toString())})}terminate(){this.lu=!0}}class hTe{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(qn(t),this.mu=!1):J("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class fTe{constructor(e,t,r,i,o){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=o,this.Pu.Yr(a=>{r.enqueueAndForget(_(function*(){var c;hc(s)&&(J("RemoteStore","Restarting streams for network reachability change."),yield(c=_(function*(l){const u=le(l);u.vu.add(4),yield _h(u),u.bu.set("Unknown"),u.vu.delete(4),yield pm(u)}),function(l){return c.apply(this,arguments)})(s))}))}),this.bu=new hTe(r,i)}}function pm(n){return fP.apply(this,arguments)}function fP(){return fP=_(function*(n){if(hc(n))for(const e of n.Ru)yield e(!0)}),fP.apply(this,arguments)}function _h(n){return pP.apply(this,arguments)}function pP(){return pP=_(function*(n){for(const e of n.Ru)yield e(!1)}),pP.apply(this,arguments)}function Jb(n,e){const t=le(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),_P(t)?mP(t):vh(t).Ko()&&gP(t,e))}function gm(n,e){const t=le(n),r=vh(t);t.Au.delete(e),r.Ko()&&Dq(t,e),0===t.Au.size&&(r.Ko()?r.jo():hc(t)&&t.bu.set("Unknown"))}function gP(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ve.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}vh(n).su(e)}function Dq(n,e){n.Vu.qt(e),vh(n).iu(e)}function mP(n){n.Vu=new fIe({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),vh(n).start(),n.bu.gu()}function _P(n){return hc(n)&&!vh(n).Uo()&&n.Au.size>0}function hc(n){return 0===le(n).vu.size}function Mq(n){n.Vu=void 0}function pTe(n){return yP.apply(this,arguments)}function yP(){return yP=_(function*(n){n.Au.forEach((e,t)=>{gP(n,e)})}),yP.apply(this,arguments)}function gTe(n,e){return vP.apply(this,arguments)}function vP(){return vP=_(function*(n,e){Mq(n),_P(n)?(n.bu.Iu(e),mP(n)):n.bu.set("Unknown")}),vP.apply(this,arguments)}function mTe(n,e,t){return bP.apply(this,arguments)}function bP(){return bP=_(function*(n,e,t){if(n.bu.set("Online"),e instanceof EG&&2===e.state&&e.cause)try{yield(r=_(function*(i,o){const s=o.cause;for(const a of o.targetIds)i.Au.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Au.delete(a),i.Vu.removeTarget(a))}),function(i,o){return r.apply(this,arguments)})(n,e)}catch(r){J("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield ew(n,r)}else if(e instanceof Fb?n.Vu.Ht(e):e instanceof CG?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(ve.min()))try{const r=yield mq(n.localStore);t.compareTo(r)>=0&&(yield function(i,o){const s=i.Vu.ce(o);return s.targetChanges.forEach((a,c)=>{if(a.resumeToken.approximateByteSize()>0){const l=i.Au.get(c);l&&i.Au.set(c,l.withResumeToken(a.resumeToken,o))}}),s.targetMismatches.forEach((a,c)=>{const l=i.Au.get(a);if(!l)return;i.Au.set(a,l.withResumeToken(gr.EMPTY_BYTE_STRING,l.snapshotVersion)),Dq(i,a);const u=new da(l.target,a,c,l.sequenceNumber);gP(i,u)}),i.remoteSyncer.applyRemoteEvent(s)}(n,t))}catch(r){J("RemoteStore","Failed to raise snapshot:",r),yield ew(n,r)}var r}),bP.apply(this,arguments)}function ew(n,e,t){return wP.apply(this,arguments)}function wP(){return wP=_(function*(n,e,t){if(!tc(e))throw e;n.vu.add(1),yield _h(n),n.bu.set("Offline"),t||(t=()=>mq(n.localStore)),n.asyncQueue.enqueueRetryable(_(function*(){J("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield pm(n)}))}),wP.apply(this,arguments)}function Sq(n,e){return e().catch(t=>ew(n,t,e))}function yh(n){return CP.apply(this,arguments)}function CP(){return CP=_(function*(n){const e=le(n),t=fc(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;_Te(e);)try{const i=yield tTe(e.localStore,r);if(null===i){0===e.Eu.length&&t.jo();break}r=i.batchId,yTe(e,i)}catch(i){yield ew(e,i)}Aq(e)&&kq(e)}),CP.apply(this,arguments)}function _Te(n){return hc(n)&&n.Eu.length<10}function yTe(n,e){n.Eu.push(e);const t=fc(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function Aq(n){return hc(n)&&!fc(n).Uo()&&n.Eu.length>0}function kq(n){fc(n).start()}function vTe(n){return EP.apply(this,arguments)}function EP(){return EP=_(function*(n){fc(n).hu()}),EP.apply(this,arguments)}function bTe(n){return xP.apply(this,arguments)}function xP(){return xP=_(function*(n){const e=fc(n);for(const t of n.Eu)e.uu(t.mutations)}),xP.apply(this,arguments)}function wTe(n,e,t){return IP.apply(this,arguments)}function IP(){return IP=_(function*(n,e,t){const r=n.Eu.shift(),i=RO.from(r,e,t);yield Sq(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield yh(n)}),IP.apply(this,arguments)}function CTe(n,e){return TP.apply(this,arguments)}function TP(){return TP=_(function*(n,e){var t;e&&fc(n).ou&&(yield(t=_(function*(r,i){if(function _G(n){switch(n){default:return fe();case L.CANCELLED:case L.UNKNOWN:case L.DEADLINE_EXCEEDED:case L.RESOURCE_EXHAUSTED:case L.INTERNAL:case L.UNAVAILABLE:case L.UNAUTHENTICATED:return!1;case L.INVALID_ARGUMENT:case L.NOT_FOUND:case L.ALREADY_EXISTS:case L.PERMISSION_DENIED:case L.FAILED_PRECONDITION:case L.ABORTED:case L.OUT_OF_RANGE:case L.UNIMPLEMENTED:case L.DATA_LOSS:return!0}}(o=i.code)&&o!==L.ABORTED){const s=r.Eu.shift();fc(r).Qo(),yield Sq(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield yh(r)}var o}),function(r,i){return t.apply(this,arguments)})(n,e)),Aq(n)&&kq(n)}),TP.apply(this,arguments)}function Oq(n,e){return DP.apply(this,arguments)}function DP(){return DP=_(function*(n,e){const t=le(n);t.asyncQueue.verifyOperationInProgress(),J("RemoteStore","RemoteStore received new credentials");const r=hc(t);t.vu.add(3),yield _h(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield pm(t)}),DP.apply(this,arguments)}function SP(){return SP=_(function*(n,e){const t=le(n);e?(t.vu.delete(2),yield pm(t)):e||(t.vu.add(2),yield _h(t),t.bu.set("Unknown"))}),SP.apply(this,arguments)}function vh(n){return n.Su||(n.Su=function(e,t,r){const i=le(e);return i.fu(),new cTe(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:pTe.bind(null,n),ao:gTe.bind(null,n),nu:mTe.bind(null,n)}),n.Ru.push(function(){var e=_(function*(t){t?(n.Su.Qo(),_P(n)?mP(n):n.bu.set("Unknown")):(yield n.Su.stop(),Mq(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function fc(n){return n.Du||(n.Du=function(e,t,r){const i=le(e);return i.fu(),new lTe(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:vTe.bind(null,n),ao:CTe.bind(null,n),au:bTe.bind(null,n),cu:wTe.bind(null,n)}),n.Ru.push(function(){var e=_(function*(t){t?(n.Du.Qo(),yield yh(n)):(yield n.Du.stop(),n.Eu.length>0&&(J("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class AP{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new pr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}static createAndSchedule(e,t,r,i,o){const s=Date.now()+r,a=new AP(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Y(L.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bh(n,e){if(qn("AsyncQueue",`${e}: ${n}`),tc(n))return new Y(L.UNAVAILABLE,`${e}: ${n}`);throw n}class wh{constructor(e){this.comparator=e?(t,r)=>e(t,r)||ae.comparator(t.key,r.key):(t,r)=>ae.comparator(t.key,r.key),this.keyedMap=Qg(),this.sortedSet=new tn(this.comparator)}static emptySet(e){return new wh(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof wh)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new wh;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class Pq{constructor(){this.Cu=new tn(ae.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):fe():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Ch{constructor(e,t,r,i,o,s,a,c,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){const s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new Ch(e,t,wh.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class ETe{constructor(){this.Nu=void 0,this.listeners=[]}}class xTe{constructor(){this.queries=new la(e=>Z7(e),Wg),this.onlineState="Unknown",this.ku=new Set}}function OP(){return OP=_(function*(n,e){const t=le(n),r=e.query;let i=!1,o=t.queries.get(r);if(o||(i=!0,o=new ETe),i)try{o.Nu=yield t.onListen(r)}catch(s){const a=bh(s,`Initialization of query '${AO(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,o),o.listeners.push(e),e.Mu(t.onlineState),o.Nu&&e.$u(o.Nu)&&NP(t)}),OP.apply(this,arguments)}function RP(){return RP=_(function*(n,e){const t=le(n),r=e.query;let i=!1;const o=t.queries.get(r);if(o){const s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),RP.apply(this,arguments)}function ITe(n,e){const t=le(n);let r=!1;for(const i of e){const s=t.queries.get(i.query);if(s){for(const a of s.listeners)a.$u(i)&&(r=!0);s.Nu=i}}r&&NP(t)}function TTe(n,e,t){const r=le(n),i=r.queries.get(e);if(i)for(const o of i.listeners)o.onError(t);r.queries.delete(e)}function NP(n){n.ku.forEach(e=>{e.next()})}class FP{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Ch(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Ch.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class Fq{constructor(e){this.key=e}}class Lq{constructor(e){this.key=e}}class Vq{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=We(),this.mutatedKeys=We(),this.tc=eG(e),this.ec=new wh(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new Pq,i=t?t.ec:this.ec;let o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1;const c="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const h=i.get(u),f=Kg(this.query,d)?d:null,y=!!h&&this.mutatedKeys.has(h.key),E=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let I=!1;h&&f?h.data.isEqual(f.data)?y!==E&&(r.track({type:3,doc:f}),I=!0):this.rc(h,f)||(r.track({type:2,doc:f}),I=!0,(c&&this.tc(f,c)>0||l&&this.tc(f,l)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),I=!0):h&&!f&&(r.track({type:1,doc:h}),I=!0,(c||l)&&(a=!0)),I&&(f?(s=s.add(f),o=E?o.add(u):o.delete(u)):(s=s.delete(u),o=o.delete(u)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const u="F"===this.query.limitType?s.last():s.first();s=s.delete(u.key),o=o.delete(u.key),r.track({type:1,doc:u})}return{ec:s,ic:r,zi:a,mutatedKeys:o}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const o=e.ic.xu();o.sort((l,u)=>function(d,h){const f=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fe()}};return f(d)-f(h)}(l.type,u.type)||this.tc(l.doc,u.doc)),this.oc(r);const s=t?this.uc():[],a=0===this.Zu.size&&this.current?1:0,c=a!==this.Xu;return this.Xu=a,0!==o.length||c?{snapshot:new Ch(this.query,e.ec,i,o,e.mutatedKeys,0===a,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:s}:{cc:s}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Pq,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=We(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new Lq(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new Fq(r))}),t}hc(e){this.Yu=e.ir,this.Zu=We();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return Ch.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class STe{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class ATe{constructor(e){this.key=e,this.fc=!1}}class kTe{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.dc={},this.wc=new la(a=>Z7(a),Wg),this._c=new Map,this.mc=new Set,this.gc=new tn(ae.comparator),this.yc=new Map,this.Ic=new YO,this.Tc={},this.Ec=new Map,this.Ac=Ll.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function OTe(n,e){return LP.apply(this,arguments)}function LP(){return LP=_(function*(n,e){const t=function sR(n){const e=le(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Bq.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=jTe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=NTe.bind(null,e),e.dc.nu=ITe.bind(null,e.eventManager),e.dc.Pc=TTe.bind(null,e.eventManager),e}(n);let r,i;const o=t.wc.get(e);if(o)r=o.targetId,t.sharedClientState.addLocalQueryTarget(r),i=o.view.lc();else{const s=yield function gh(n,e){const t=le(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Bs.getTargetData(r,e).next(o=>o?(i=o,F.resolve(i)):t.Bs.allocateTargetId(r).next(s=>(i=new da(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}(t.localStore,yi(e)),a=t.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,i=yield function VP(n,e,t,r,i){return BP.apply(this,arguments)}(t,e,r,"current"===a,s.resumeToken),t.isPrimaryClient&&Jb(t.remoteStore,s)}return i}),LP.apply(this,arguments)}function BP(){return BP=_(function*(n,e,t,r,i){n.Rc=(d,h,f)=>{return(y=_(function*(E,I,k,M){let V=I.view.sc(k);V.zi&&(V=yield Kb(E.localStore,I.query,!1).then(({documents:de})=>I.view.sc(de,V)));const K=M&&M.targetChanges.get(I.targetId),oe=I.view.applyChanges(V,E.isPrimaryClient,K);return QP(E,I.targetId,oe.cc),oe.snapshot}),function(E,I,k,M){return y.apply(this,arguments)})(n,d,h,f);var y};const o=yield Kb(n.localStore,e,!0),s=new Vq(e,o.ir),a=s.sc(o.documents),c=tm.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),l=s.applyChanges(a,n.isPrimaryClient,c);QP(n,t,l.cc);const u=new STe(e,t,s);return n.wc.set(e,u),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),l.snapshot}),BP.apply(this,arguments)}function PTe(n,e){return UP.apply(this,arguments)}function UP(){return UP=_(function*(n,e){const t=le(n),r=t.wc.get(e),i=t._c.get(r.targetId);if(i.length>1)return t._c.set(r.targetId,i.filter(o=>!Wg(o,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield mh(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),gm(t.remoteStore,r.targetId),Eh(t,r.targetId)}).catch(ec))):(Eh(t,r.targetId),yield mh(t.localStore,r.targetId,!0))}),UP.apply(this,arguments)}function jP(){return jP=_(function*(n,e,t){const r=aR(n);try{const i=yield function(o,s){const a=le(o),c=xn.now(),l=s.reduce((h,f)=>h.add(f.key),We());let u,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=Ri(),y=We();return a.Zi.getEntries(h,l).next(E=>{f=E,f.forEach((I,k)=>{k.isValidDocument()||(y=y.add(I))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(E=>{u=E;const I=[];for(const k of s){const M=lIe(k,u.get(k.key).overlayedDocument);null!=M&&I.push(new ua(k.key,M,V7(M.value.mapValue),mn.exists(!0)))}return a.mutationQueue.addMutationBatch(h,c,I,s)}).next(E=>{d=E;const I=E.applyToLocalDocumentSet(u,y);return a.documentOverlayCache.saveOverlays(h,E.batchId,I)})}).then(()=>({batchId:d.batchId,changes:nG(u)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,s,a){let c=o.Tc[o.currentUser.toKey()];c||(c=new tn(Le)),c=c.insert(s,a),o.Tc[o.currentUser.toKey()]=c}(r,i.batchId,t),yield ha(r,i.changes),yield yh(r.remoteStore)}catch(i){const o=bh(i,"Failed to persist write");t.reject(o)}}),jP.apply(this,arguments)}function Bq(n,e){return zP.apply(this,arguments)}function zP(){return zP=_(function*(n,e){const t=le(n);try{const r=yield function eTe(n,e){const t=le(n),r=e.snapshotVersion;let i=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=t.Zi.newChangeBuffer({trackRemovals:!0});i=t.Ji;const a=[];e.targetChanges.forEach((u,d)=>{const h=i.get(d);if(!h)return;a.push(t.Bs.removeMatchingKeys(o,u.removedDocuments,d).next(()=>t.Bs.addMatchingKeys(o,u.addedDocuments,d)));let f=h.withSequenceNumber(o.currentSequenceNumber);var y,E,I;null!==e.targetMismatches.get(d)?f=f.withResumeToken(gr.EMPTY_BYTE_STRING,ve.min()).withLastLimboFreeSnapshotVersion(ve.min()):u.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(u.resumeToken,r)),i=i.insert(d,f),E=f,I=u,(0===(y=h).resumeToken.approximateByteSize()||E.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8||I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0)&&a.push(t.Bs.updateTargetData(o,f))});let c=Ri(),l=We();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,u))}),a.push(function _q(n,e,t){let r=We(),i=We();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=Ri();return t.forEach((a,c)=>{const l=o.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(ve.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||0===c.version.compareTo(l.version)&&l.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):J("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{nr:s,sr:i}})}(o,s,e.documentUpdates).next(u=>{c=u.nr,l=u.sr})),!r.isEqual(ve.min())){const u=t.Bs.getLastRemoteSnapshotVersion(o).next(d=>t.Bs.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(u)}return F.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,c,l)).next(()=>c)}).then(o=>(t.Ji=i,o))}(t.localStore,e);e.targetChanges.forEach((i,o)=>{const s=t.yc.get(o);s&&(ye(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.fc=!0:i.modifiedDocuments.size>0?ye(s.fc):i.removedDocuments.size>0&&(ye(s.fc),s.fc=!1))}),yield ha(t,r,e)}catch(r){yield ec(r)}}),zP.apply(this,arguments)}function Uq(n,e,t){const r=le(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.wc.forEach((o,s)=>{const a=s.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(o,s){const a=le(o);a.onlineState=s;let c=!1;a.queries.forEach((l,u)=>{for(const d of u.listeners)d.Mu(s)&&(c=!0)}),c&&NP(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function NTe(n,e,t){return $P.apply(this,arguments)}function $P(){return $P=_(function*(n,e,t){const r=le(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.yc.get(e),o=i&&i.key;if(o){let s=new tn(ae.comparator);s=s.insert(o,ln.newNoDocument(o,ve.min()));const a=We().add(o),c=new em(ve.min(),new Map,new tn(Le),s,a);yield Bq(r,c),r.gc=r.gc.remove(o),r.yc.delete(e),YP(r)}else yield mh(r.localStore,e,!1).then(()=>Eh(r,e,t)).catch(ec)}),$P.apply(this,arguments)}function FTe(n,e){return HP.apply(this,arguments)}function HP(){return HP=_(function*(n,e){const t=le(n),r=e.batch.batchId;try{const i=yield function JIe(n,e){const t=le(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=t.Zi.newChangeBuffer({trackRemovals:!0});return function(s,a,c,l){const u=c.batch,d=u.keys();let h=F.resolve();return d.forEach(f=>{h=h.next(()=>l.getEntry(a,f)).next(y=>{const E=c.docVersions.get(f);ye(null!==E),y.version.compareTo(E)<0&&(u.applyToRemoteDocument(y,c),y.isValidDocument()&&(y.setReadTime(c.commitVersion),l.addEntry(y)))})}),h.next(()=>s.mutationQueue.removeMutationBatch(a,u))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(s){let a=We();for(let c=0;c<s.mutationResults.length;++c)s.mutationResults[c].transformResults.length>0&&(a=a.add(s.batch.mutations[c].key));return a}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);KP(t,r,null),WP(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield ha(t,i)}catch(i){yield ec(i)}}),HP.apply(this,arguments)}function LTe(n,e,t){return GP.apply(this,arguments)}function GP(){return GP=_(function*(n,e,t){const r=le(n);try{const i=yield function(o,s){const a=le(o);return a.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let l;return a.mutationQueue.lookupMutationBatch(c,s).next(u=>(ye(null!==u),l=u.keys(),a.mutationQueue.removeMutationBatch(c,u))).next(()=>a.mutationQueue.performConsistencyCheck(c)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(c,l,s)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,l)).next(()=>a.localDocuments.getDocuments(c,l))})}(r.localStore,e);KP(r,e,t),WP(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield ha(r,i)}catch(i){yield ec(i)}}),GP.apply(this,arguments)}function WP(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function KP(n,e,t){const r=le(n);let i=r.Tc[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function Eh(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||jq(n,r)})}function jq(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(gm(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),YP(n))}function QP(n,e,t){for(const r of t)r instanceof Fq?(n.Ic.addReference(r.key,e),BTe(n,r)):r instanceof Lq?(J("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||jq(n,r.key)):fe()}function BTe(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(J("SyncEngine","New document in limbo: "+t),n.mc.add(r),YP(n))}function YP(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new ae(vt.fromString(e)),r=n.Ac.next();n.yc.set(r,new ATe(t)),n.gc=n.gc.insert(t,r),Jb(n.remoteStore,new da(yi(sh(t.path)),r,"TargetPurposeLimboResolution",Qi.ct))}}function ha(n,e,t){return XP.apply(this,arguments)}function XP(){return XP=_(function*(n,e,t){const r=le(n),i=[],o=[],s=[];var a;r.wc.isEmpty()||(r.wc.forEach((a,c)=>{s.push(r.Rc(c,e,t).then(l=>{if((l||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,l?.fromCache?"not-current":"current"),l){i.push(l);const u=tP.Li(c.targetId,l);o.push(u)}}))}),yield Promise.all(s),r.dc.nu(i),yield(a=_(function*(c,l){const u=le(c);try{yield u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>F.forEach(l,h=>F.forEach(h.Fi,f=>u.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>F.forEach(h.Bi,f=>u.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!tc(d))throw d;J("LocalStore","Failed to update sequence numbers: "+d)}for(const d of l){const h=d.targetId;if(!d.fromCache){const f=u.Ji.get(h),E=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);u.Ji=u.Ji.insert(h,E)}}}),function(c,l){return a.apply(this,arguments)})(r.localStore,o))}),XP.apply(this,arguments)}function UTe(n,e){return ZP.apply(this,arguments)}function ZP(){return ZP=_(function*(n,e){const t=le(n);if(!t.currentUser.isEqual(e)){J("SyncEngine","User change. New user:",e.toKey());const r=yield gq(t.localStore,e);t.currentUser=e,(i=t).Ec.forEach(s=>{s.forEach(a=>{a.reject(new Y(L.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield ha(t,r.er)}var i}),ZP.apply(this,arguments)}function jTe(n,e){const t=le(n),r=t.yc.get(e);if(r&&r.fc)return We().add(r.key);{let i=We();const o=t._c.get(e);if(!o)return i;for(const s of o){const a=t.wc.get(s);i=i.unionWith(a.view.nc)}return i}}function aR(n){const e=le(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=FTe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=LTe.bind(null,e),e}class xh{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return _(function*(){t.serializer=fm(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return pq(this.persistence,new fq,e.initialUser,this.serializer)}createPersistence(e){return new XO(Gb.zs,this.serializer)}createSharedClientState(e){return new Eq}terminate(){var e=this;return _(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class cR extends xh{constructor(e,t,r){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return _(function*(){yield t().call(r,e),yield r.Vc.initialize(r,e),yield aR(r.Vc.syncEngine),yield yh(r.Vc.remoteStore),yield r.persistence.Ii(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return pq(this.persistence,new fq,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new iq(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const r=new C1e(t,this.persistence);return new w1e(e.asyncQueue,r)}createPersistence(e){const t=function eP(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?ri.withCacheSize(this.cacheSizeBytes):ri.DEFAULT;return new JO(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,function Iq(){return typeof window<"u"?window:null}(),Zb(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Eq}}class Ih{initialize(e,t){var r=this;return _(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>Uq(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=UTe.bind(null,r.syncEngine),yield function MP(n,e){return SP.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new xTe}createDatastore(e){const t=fm(e.databaseInfo.databaseId),r=new aTe(e.databaseInfo);return new uTe(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,o=a=>Uq(this.syncEngine,a,0),s=xq.D()?new xq:new iTe,new fTe(t,r,i,o,s);var t,r,i,o,s}createSyncEngine(e,t){return function(r,i,o,s,a,c,l){const u=new kTe(r,i,o,s,a,c);return l&&(u.vc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=_(function*(t){const r=le(t);J("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield _h(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class tw{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):qn("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class eDe{constructor(e,t,r,i){var o=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Ir.UNAUTHENTICATED,this.clientId=p7.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var s=_(function*(a){J("FirestoreClient","Received user=",a.uid),yield o.authCredentialListener(a),o.user=a});return function(a){return s.apply(this,arguments)}}()),this.appCheckCredentials.start(r,s=>(J("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}getConfiguration(){var e=this;return _(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Y(L.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new pr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(_(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=bh(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function nw(n,e){return lR.apply(this,arguments)}function lR(){return lR=_(function*(n,e){n.asyncQueue.verifyOperationInProgress(),J("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=_(function*(o){r.isEqual(o)||(yield gq(e.localStore,o),r=o)});return function(o){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),lR.apply(this,arguments)}function uR(n,e){return dR.apply(this,arguments)}function dR(){return dR=_(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function hR(n){return fR.apply(this,arguments)}(n);J("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>Oq(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>Oq(e.remoteStore,o)),n._onlineComponents=e}),dR.apply(this,arguments)}function qq(n){return"FirebaseError"===n.name?n.code===L.FAILED_PRECONDITION||n.code===L.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function fR(){return fR=_(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){J("FirestoreClient","Using user provided OfflineComponentProvider");try{yield nw(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!qq(t))throw t;Lo("Error using user provided cache. Falling back to memory cache: "+t),yield nw(n,new xh)}}else J("FirestoreClient","Using default OfflineComponentProvider"),yield nw(n,new xh);return n._offlineComponents}),fR.apply(this,arguments)}function rw(n){return pR.apply(this,arguments)}function pR(){return pR=_(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(J("FirestoreClient","Using user provided OnlineComponentProvider"),yield uR(n,n._uninitializedComponentsProvider._online)):(J("FirestoreClient","Using default OnlineComponentProvider"),yield uR(n,new Ih))),n._onlineComponents}),pR.apply(this,arguments)}function mR(){return mR=_(function*(n){const e=yield rw(n),t=e.eventManager;return t.onListen=OTe.bind(null,e.syncEngine),t.onUnlisten=PTe.bind(null,e.syncEngine),t}),mR.apply(this,arguments)}function Xq(n,e,t={}){const r=new pr;return n.asyncQueue.enqueueAndForget(_(function*(){return function(i,o,s,a,c){const l=new tw({next:d=>{o.enqueueAndForget(()=>function PP(n,e){return RP.apply(this,arguments)}(i,u)),d.fromCache&&"server"===a.source?c.reject(new Y(L.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(d)},error:d=>c.reject(d)}),u=new FP(s,l,{includeMetadataChanges:!0,Ku:!0});return function kP(n,e){return OP.apply(this,arguments)}(i,u)}(yield function Th(n){return mR.apply(this,arguments)}(n),n.asyncQueue,e,t,r)})),r.promise}function Zq(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const Jq=new Map;function _R(n,e,t){if(!t)throw new Y(L.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function eW(n){if(!ae.isDocumentKey(n))throw new Y(L.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function tW(n){if(ae.isDocumentKey(n))throw new Y(L.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function ow(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":fe()}function gt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Y(L.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ow(n);throw new Y(L.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class rW{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new Y(L.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Y(L.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function lDe(n,e,t,r){if(!0===e&&!0===r)throw new Y(L.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Zq(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new Y(L.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Y(L.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Y(L.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class mm{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rW({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Y(L.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Y(L.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rW(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new l1e;switch(t.type){case"firstParty":return new f1e(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Y(L.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Jq.get(e);t&&(J("ComponentProvider","Removing Datastore"),Jq.delete(e),t.terminate())}(this),Promise.resolve()}}class Qn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Is(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Qn(this.firestore,e,this._key)}}class Hr{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Hr(this.firestore,e,this._query)}}class Is extends Hr{constructor(e,t,r){super(e,t,sh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Qn(this.firestore,null,new ae(e))}withConverter(e){return new Is(this.firestore,e,this._path)}}function dDe(n,e,...t){if(n=zt(n),_R("collection","path",e),n instanceof mm){const r=vt.fromString(e,...t);return tW(r),new Is(n,null,r)}{if(!(n instanceof Qn||n instanceof Is))throw new Y(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(vt.fromString(e,...t));return tW(r),new Is(n.firestore,null,r)}}function iW(n,e,...t){if(n=zt(n),1===arguments.length&&(e=p7.A()),_R("doc","path",e),n instanceof mm){const r=vt.fromString(e,...t);return eW(r),new Qn(n,null,new ae(r))}{if(!(n instanceof Qn||n instanceof Is))throw new Y(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(vt.fromString(e,...t));return eW(r),new Qn(n.firestore,n instanceof Is?n.converter:null,new ae(r))}}class hDe{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new dP(this,"async_queue_retry"),this.Xc=()=>{const t=Zb();t&&J("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=Zb();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=Zb();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new pr;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return _(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!tc(t))throw t;J("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,qn("INTERNAL UNHANDLED ERROR: ",function(o){let s=o.message||"";return o.stack&&(s=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),s}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const i=AP.createAndSchedule(this,e,t,r,o=>this.na(o));return this.zc.push(i),i}Zc(){this.Wc&&fe()}verifyOperationInProgress(){}sa(){var e=this;return _(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}class un extends mm{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new hDe,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||sW(this),this._firestoreClient.terminate()}}function pDe(n,e){const r="string"==typeof n?n:e||"(default)",i=Ha("object"==typeof n?n:zp(),"firestore").getImmediate({identifier:r});if(!i._initialized){const o=UT("firestore");o&&function uDe(n,e,t,r={}){var i;const o=(n=gt(n,mm))._getSettings(),s=`${e}:${t}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&Lo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,c;if("string"==typeof r.mockUserToken)a=r.mockUserToken,c=Ir.MOCK_USER;else{a=X6(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new Y(L.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Ir(l)}n._authCredentials=new u1e(new h7(a,c))}}(i,...o)}return i}function rr(n){return n._firestoreClient||sW(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function sW(n){var e,t,r;const i=n._freezeSettings(),o=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new z1e(n._databaseId,a,n._persistenceKey,(l=i).host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,Zq(l.experimentalLongPollingOptions),l.useFetchStreams));var a,l;n._firestoreClient=new eDe(n._authCredentials,n._appCheckCredentials,n._queue,o),null!==(t=i.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function gDe(n,e){!function cW(n){if(n._initialized||n._terminated)throw new Y(L.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}(n=gt(n,un));const t=rr(n);if(t._uninitializedComponentsProvider)throw new Y(L.FAILED_PRECONDITION,"SDK cache is already specified.");Lo("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=n._freezeSettings(),i=new Ih;return function aW(n,e,t){const r=new pr;return n.asyncQueue.enqueue(_(function*(){try{yield nw(n,t),yield uR(n,e),r.resolve()}catch(i){const o=i;if(!qq(o))throw o;Lo("Error enabling indexeddb cache. Falling back to memory cache: "+o),r.reject(o)}})).then(()=>r.promise)}(t,i,new cR(i,r.cacheSizeBytes,e?.forceOwnership))}class Bl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bl(gr.fromBase64String(e))}catch(t){throw new Y(L.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Bl(gr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ul{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Y(L.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Dh{constructor(e){this._methodName=e}}class vR{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Y(L.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Y(L.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}}const _De=/^__.*__$/;class yDe{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new ua(e,this.data,this.fieldMask,t,this.fieldTransforms):new lh(e,this.data,t,this.fieldTransforms)}}class lW{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new ua(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function uW(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fe()}}class sw{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===o&&this.ua(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new sw(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return lw(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(uW(this.ca)&&_De.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class vDe{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||fm(e)}ya(e,t,r,i=!1){return new sw({ca:e,methodName:t,ga:r,path:Wn.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jl(n){const e=n._freezeSettings(),t=fm(n._databaseId);return new vDe(n._databaseId,!!e.ignoreUndefinedProperties,t)}function aw(n,e,t,r,i,o={}){const s=n.ya(o.merge||o.mergeFields?2:0,e,t,i);ER("Data must be an object, but it was:",s,r);const a=fW(r,s);let c,l;if(o.merge)c=new Pi(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){const u=[];for(const d of o.mergeFields){const h=vm(e,d,t);if(!s.contains(h))throw new Y(L.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);gW(u,h)||u.push(h)}c=new Pi(u),l=s.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,l=s.fieldTransforms;return new yDe(new $r(a),c,l)}class ym extends Dh{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ym}}function zl(n,e){if(pW(n=zt(n)))return ER("Unsupported field value:",e,n),fW(n,e);if(n instanceof Dh)return function(t,r){if(!uW(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const i=[];let o=0;for(const s of t){let a=zl(s,r.wa(o));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),o++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=zt(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return sG(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=xn.fromDate(t);return{timestampValue:dh(r.serializer,i)}}if(t instanceof xn){const i=new xn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:dh(r.serializer,i)}}if(t instanceof vR)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Bl)return{bytesValue:DG(r.serializer,t._byteString)};if(t instanceof Qn){const i=r.databaseId,o=t.firestore._databaseId;if(!o.isEqual(i))throw r._a(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:BO(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${ow(t)}`)}(n,e)}function fW(n,e){const t={};return S7(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):nc(n,(r,i)=>{const o=zl(i,e.ha(r));null!=o&&(t[r]=o)}),{mapValue:{fields:t}}}function pW(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof xn||n instanceof vR||n instanceof Bl||n instanceof Qn||n instanceof Dh)}function ER(n,e,t){if(!pW(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=ow(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function vm(n,e,t){if((e=zt(e))instanceof Ul)return e._internalPath;if("string"==typeof e)return cw(n,e);throw lw("Field path arguments must be of type string or ",n,!1,void 0,t)}const EDe=new RegExp("[~\\*/\\[\\]]");function cw(n,e,t){if(e.search(EDe)>=0)throw lw(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ul(...e.split("."))._internalPath}catch{throw lw(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function lw(n,e,t,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new Y(L.INVALID_ARGUMENT,a+n+c)}function gW(n,e){return n.some(t=>t.isEqual(e))}class bm{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Qn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new xDe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(uw("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class xDe extends bm{data(){return super.data()}}function uw(n,e){return"string"==typeof e?cw(n,e):e instanceof Ul?e._internalPath:e._delegate._internalPath}class xR{}class wm extends xR{}function IDe(n,e,...t){let r=[];e instanceof xR&&r.push(e),r=r.concat(t),function(i){const o=i.filter(a=>a instanceof Mh).length,s=i.filter(a=>a instanceof Cm).length;if(o>1||o>0&&s>0)throw new Y(L.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class Cm extends wm{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Cm(e,t,r)}_apply(e){const t=this._parse(e);return bW(e._query,t),new Hr(e.firestore,e.converter,SO(e._query,t))}_parse(e){const t=jl(e.firestore);return function(i,o,s,a,c,l,u){let d;if(c.isKeyField()){if("array-contains"===l||"array-contains-any"===l)throw new Y(L.INVALID_ARGUMENT,`Invalid Query. You can't perform '${l}' queries on documentId().`);if("in"===l||"not-in"===l){vW(u,l);const h=[];for(const f of u)h.push(yW(a,i,f));d={arrayValue:{values:h}}}else d=yW(a,i,u)}else"in"!==l&&"not-in"!==l&&"array-contains-any"!==l||vW(u,l),d=function hW(n,e,t,r=!1){return zl(t,n.ya(r?4:3,e))}(s,"where",u,"in"===l||"not-in"===l);return dt.create(c,l,d)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}function TDe(n,e,t){const r=e,i=uw("where",n);return Cm._create(i,r,t)}class Mh extends xR{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Mh(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:Rt.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,i){let o=r;const s=i.getFlattenedFilters();for(const a of s)bW(o,a),o=SO(o,a)}(e._query,t),new Hr(e.firestore,e.converter,SO(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function yW(n,e,t){if("string"==typeof(t=zt(t))){if(""===t)throw new Y(L.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!MO(e)&&-1!==t.indexOf("/"))throw new Y(L.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(vt.fromString(t));if(!ae.isDocumentKey(r))throw new Y(L.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Dl(n,new ae(r))}if(t instanceof Qn)return Dl(n,t._key);throw new Y(L.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ow(t)}.`)}function vW(n,e){if(!Array.isArray(n)||0===n.length)throw new Y(L.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function bW(n,e){if(e.isInequality()){const r=Ab(n),i=e.field;if(null!==r&&!r.isEqual(i))throw new Y(L.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const o=DO(n);null!==o&&function wW(n,e,t){if(!t.isEqual(e))throw new Y(L.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}(0,i,o)}const t=function(r,i){for(const o of r)for(const s of o.getFlattenedFilters())if(i.indexOf(s.op)>=0)return s.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Y(L.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class EW{convertValue(e,t="none"){switch(oc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Nn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(aa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw fe()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return nc(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertGeoPoint(e){return new vR(Nn(e.latitude),Nn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=xb(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(zg(e));default:return null}}convertTimestamp(e){const t=rc(e);return new xn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=vt.fromString(e);ye(LG(r));const i=new Tl(r.get(1),r.get(3)),o=new ae(r.popFirst(5));return i.isEqual(t)||qn(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}class $l{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Sh extends bm{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new gw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(uw("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class gw extends Sh{data(e={}){return super.data(e)}}class Ah{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new $l(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new gw(this._firestore,this._userDataWriter,r.key,r,new $l(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Y(L.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(s=>({type:"added",doc:new gw(r._firestore,r._userDataWriter,s.doc.key,s.doc,new $l(r._snapshot.mutatedKeys.has(s.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:o++}))}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(s=>i||3!==s.type).map(s=>{const a=new gw(r._firestore,r._userDataWriter,s.doc.key,s.doc,new $l(r._snapshot.mutatedKeys.has(s.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,l=-1;return 0!==s.type&&(c=o.indexOf(s.doc.key),o=o.delete(s.doc.key)),1!==s.type&&(o=o.add(s.doc),l=o.indexOf(s.doc.key)),{type:SDe(s.type),doc:a,oldIndex:c,newIndex:l}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function SDe(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fe()}}class pc extends EW{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Qn(this.firestore,null,t)}}function ADe(n){n=gt(n,Hr);const e=gt(n.firestore,un),t=rr(e),r=new pc(e);return function mW(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Y(L.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query),Xq(t,n._query).then(i=>new Ah(e,r,n,i))}function kDe(n,e,t){n=gt(n,Qn);const r=gt(n.firestore,un),i=function pw(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}(n.converter,e,t);return Em(r,[aw(jl(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,mn.none())])}function ODe(n,e,t,...r){n=gt(n,Qn);const i=gt(n.firestore,un),o=jl(i);let s;return s="string"==typeof(e=zt(e))||e instanceof Ul?function CR(n,e,t,r,i,o){const s=n.ya(1,e,t),a=[vm(e,r,t)],c=[i];if(o.length%2!=0)throw new Y(L.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)a.push(vm(e,o[h])),c.push(o[h+1]);const l=[],u=$r.empty();for(let h=a.length-1;h>=0;--h)if(!gW(l,a[h])){const f=a[h];let y=c[h];y=zt(y);const E=s.da(f);if(y instanceof ym)l.push(f);else{const I=zl(y,E);null!=I&&(l.push(f),u.set(f,I))}}const d=new Pi(l);return new lW(u,d,s.fieldTransforms)}(o,"updateDoc",n._key,e,t,r):function wR(n,e,t,r){const i=n.ya(1,e,t);ER("Data must be an object, but it was:",i,r);const o=[],s=$r.empty();nc(r,(c,l)=>{const u=cw(e,c,t);l=zt(l);const d=i.da(u);if(l instanceof ym)o.push(u);else{const h=zl(l,d);null!=h&&(o.push(u),s.set(u,h))}});const a=new Pi(o);return new lW(s,a,i.fieldTransforms)}(o,"updateDoc",n._key,e),Em(i,[s.toMutation(n._key,mn.exists(!0))])}function PDe(n){return Em(gt(n.firestore,un),[new uh(n._key,mn.none())])}function Em(n,e){return function(t,r){const i=new pr;return t.asyncQueue.enqueueAndForget(_(function*(){return function RTe(n,e,t){return jP.apply(this,arguments)}(yield function gR(n){return rw(n).then(e=>e.syncEngine)}(t),r,i)})),i.promise}(rr(n),e)}!function(n,e=!0){eh=Ga,Fr(new vr("firestore",(t,{instanceIdentifier:r,options:i})=>{const o=t.getProvider("app").getImmediate(),s=new un(new d1e(t.getProvider("auth-internal")),new p1e(t.getProvider("app-check-internal")),function(a,c){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new Y(L.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Tl(a.options.projectId,c)}(o,r),o);return i=Object.assign({useFetchStreams:e},i),s._setSettings(i),s},"PUBLIC").setMultipleInstances(!0)),Vt(d7,"3.13.0",n),Vt(d7,"3.13.0","esm2017")}();class ct{constructor(e){return e}}const IW="firestore",DR=new X("angularfire2.firestore-instances");function WDe(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new ct(r)}}const KDe={provide:class GDe{constructor(){return Kp(IW)}},deps:[[new Yt,DR]]},QDe={provide:ct,useFactory:function qDe(n,e){const t=Wp(IW,n,e);return t&&new ct(t)},deps:[[new Yt,DR],Wa]};let YDe=(()=>{class n{constructor(){Vt("angularfire",Ud.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=et({providers:[QDe,KDe]}),n})();function XDe(n,...e){return{ngModule:YDe,providers:[{provide:DR,useFactory:WDe(n),multi:!0,deps:[De,Ut,Qp,Yp,[new Yt,H0],[new Yt,Jp],...e]}]}}const xe=wr(dDe,!0),Fn=wr(PDe,!0),Ie=wr(iW,!0),ZDe=wr(gDe,!0),pe=wr(ADe,!0),JDe=wr(pDe,!0),dn=wr(IDe,!0),vi=wr(kDe,!0),bi=wr(ODe,!0),nn=wr(TDe,!0),eMe=[{path:"auth",component:KH,children:[{path:"login",component:(()=>{class n{constructor(t,r,i){this.auth=t,this.router=r,this.firestore=i,this.data=[],this.nid=1,this.getData()}getData(){const t=xe(this.firestore,"users");pe(t).then(r=>{this.data=[...r.docs.map(i=>({...i.data(),id:i.id}))]})}Signup(){this.router.navigate(["/auth/signup"])}Salir(){Br(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}handleLogin(t){var r=this;return _(function*(){let i;txe(r.auth,t.email,t.password).then(function(){var o=_(function*(s){r.current=s.user.email,i=s.user.email;const a=dn(xe(r.firestore,"users"),nn("email","==",i));console.log(r.auth.currentUser?.email),(yield pe(a)).forEach(l=>{console.log(l.id," => ",l.data());let u=l.data();console.log(u.role),"Adminitrador"==u.role?r.router.navigate(["/admin"]):"Investigador"==u.role?r.router.navigate(["/user/projects"]):"Cliente"==u.role&&r.router.navigate(["/client/projects"])})});return function(s){return o.apply(this,arguments)}}()).catch(o=>{alert(o.message)})})()}static#e=this.\u0275fac=function(r){return new(r||n)(x(Ge),x(Me),x(ct))};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-login"]],decls:18,vars:0,consts:[[1,"salir",3,"click"],[1,"loginBox"],[1,"loginTile"],[1,"lineBlack"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"userText"],["name","email","ngModel","","placeholder","Email","id","email","type","email",1,"input-field"],[1,"claveText"],["name","password","ngModel","","placeholder","Password","id","password","type","password",1,"input-field"],[1,"boton"]],template:function(r,i){if(1&r){const o=yt();g(0,"button",0),Q("click",function(){return i.Salir()}),p(),te(1,"div",1),g(2,"span",2),w(3,"Iniciar Sesi\xf3n"),p(),te(4,"div",3),g(5,"form",4,5),Q("ngSubmit",function(){Re(o);const a=Cn(6);return Ne(i.handleLogin(a.value))}),g(7,"div",6)(8,"div",7)(9,"span",8),w(10,"Email:"),p(),te(11,"input",9),p(),g(12,"div",7)(13,"span",10),w(14,"Clave:"),p(),te(15,"input",11),p(),g(16,"button",12),w(17,"Log In"),p()()()}},dependencies:[er,Zr,Si,Jn,gi,Mn],styles:[".main[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:34%;height:27%;position:absolute;left:39.2%;top:38%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;width:10%;height:4%;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:59.5%;top:59%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.main[_ngcontent-%COMP%]{display:flex;height:100vh;justify-content:center;align-items:center;flex-direction:column}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:40%;position:absolute;left:15%;top:35%}.loginTile[_ngcontent-%COMP%]{color:#000;width:75%;height:20%;position:absolute;font-family:Arial;text-align:center;font-size:24px;letter-spacing:0;left:15%;top:37%}.lineBlack[_ngcontent-%COMP%]{width:75%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:15%;top:43%}#email[_ngcontent-%COMP%]{width:60%;height:3%;position:absolute;left:20%;top:50%}.userText[_ngcontent-%COMP%]{color:#000;width:10%;height:5%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:20%;top:45%}#password[_ngcontent-%COMP%]{width:60%;height:3%;position:absolute;left:20%;top:60%}.claveText[_ngcontent-%COMP%]{color:#000;width:10%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:20%;top:55%}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;width:20%;height:5%;position:absolute;border-width:0;border-radius:30px;font-size:12px;left:60%;top:65%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:14px;letter-spacing:0;left:60%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:15%;left:0%;top:0%}}"]})}return n})()},{path:"signup",component:(()=>{class n{constructor(t,r,i){this.auth=t,this.firestore=r,this.router=i,this.title="gestion-de-muestras-de-campo",this.data=[],this.getData()}Login(){this.router.navigate(["/auth/login"])}handleRegister(t){exe(this.auth,t.email,t.password).then(r=>{console.log(r.user)}).catch(r=>{alert(r.message)}),this.addData(t)}addData(t){const r=Ie(this.firestore,"users",t.email);t.password==t.confirmpassword?"Invetigador"==t.role||"Cliente"==t.role?vi(r,{email:t.email,role:t.role,password:t.password}).then(()=>{alert("Data Sent")}).catch(i=>{alert(i.message)}):alert("Rol no reconocido"):alert("Claves No Iguales")}getData(){const t=xe(this.firestore,"users");pe(t).then(r=>{this.data=[...r.docs.map(i=>({...i.data(),id:i.id}))]})}Salir(){Br(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}static#e=this.\u0275fac=function(r){return new(r||n)(x(Ge),x(ct),x(Me))};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-signup"]],decls:29,vars:0,consts:[[1,"salir",3,"click"],[1,"loginBox"],[1,"loginTile"],[1,"lineBlack"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"userText"],["name","email","ngModel","","placeholder","Email","id","email","type","email",1,"input-field"],[1,"roleText"],["list","roles","name","role","ngModel","","placeholder","Roles","id","role","type","role",1,"input-field"],["id","roles"],["value","Investigador"],["value","Cliente"],[1,"claveText"],["name","password","ngModel","","placeholder","Clave","id","password","type","password",1,"input-field"],[1,"clave2Text"],["name","confirmpassword","ngModel","","placeholder","Confirmar Clave","id","confirmpassword","type","password",1,"input-field"],[1,"boton"]],template:function(r,i){if(1&r){const o=yt();g(0,"button",0),Q("click",function(){return i.Salir()}),p(),te(1,"div",1),g(2,"span",2),w(3,"Registrar"),p(),te(4,"div",3),g(5,"form",4,5),Q("ngSubmit",function(){Re(o);const a=Cn(6);return Ne(i.handleRegister(a.value))}),g(7,"div",6)(8,"div",7)(9,"span",8),w(10,"Email:"),p(),te(11,"input",9),p(),g(12,"div",7)(13,"span",10),w(14,"Roles:"),p(),te(15,"input",11),g(16,"datalist",12),te(17,"option",13)(18,"option",14),p()(),g(19,"div",7)(20,"span",15),w(21,"Clave:"),p(),te(22,"input",16),p(),g(23,"div",7)(24,"span",17),w(25,"Confirmar Clave:"),p(),te(26,"input",18),p(),g(27,"button",19),w(28,"Sign Up"),p()()()}},dependencies:[er,wp,Cp,Zr,Si,Jn,gi,Mn],styles:[".main[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:39%;height:40%;position:absolute;left:33.5%;top:37%}.loginTile[_ngcontent-%COMP%]{color:#000;width:39%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:33.5%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:38.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:33.5%;top:45%}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#role[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.roleText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.5%;top:54%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:58.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:59%}#confirmpassword[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:63.5%}.clave2Text[_ngcontent-%COMP%]{color:#000;width:15%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:36.2%;top:64%}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;width:10%;height:4%;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:59.5%;top:69%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:69.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.main[_ngcontent-%COMP%]{display:flex;height:100vh;justify-content:center;align-items:center;flex-direction:column}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:60%;position:absolute;left:15%;top:25%}.loginTile[_ngcontent-%COMP%]{color:#000;width:75%;height:20%;position:absolute;font-family:Arial;text-align:center;font-size:24px;letter-spacing:0;left:15%;top:26%}.lineBlack[_ngcontent-%COMP%]{width:75%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:15%;top:32%}#email[_ngcontent-%COMP%]{width:60%;height:3%;position:absolute;left:20%;top:40%}.userText[_ngcontent-%COMP%]{color:#000;width:10%;height:5%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:20%;top:35%}#role[_ngcontent-%COMP%]{width:30%;height:3%;position:absolute;left:20%;top:60%}.roleText[_ngcontent-%COMP%]{color:#000;width:15%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:20%;top:55%}#password[_ngcontent-%COMP%]{width:60%;height:3%;position:absolute;left:20%;top:50%}.claveText[_ngcontent-%COMP%]{color:#000;width:10%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:20%;top:45%}#confirmpassword[_ngcontent-%COMP%]{width:60%;height:3%;position:absolute;left:20%;top:70%}.clave2Text[_ngcontent-%COMP%]{color:#000;width:60%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:20%;top:65%}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;width:20%;height:5%;position:absolute;border-width:0;border-radius:30px;font-size:12px;left:60%;top:75%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:14px;letter-spacing:0;left:60%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:15%;left:0%;top:0%}}"]})}return n})()},{path:"select",component:(()=>{class n{constructor(t,r){this.auth=t,this.router=r}Credits(){this.router.navigate(["/auth/credits"])}Login(){this.router.navigate(["/auth/login"])}Signup(){this.router.navigate(["/auth/signup"])}static#e=this.\u0275fac=function(r){return new(r||n)(x(Ge),x(Me))};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-select"]],decls:19,vars:0,consts:[[1,"creditBox",3,"click"],[1,"creditText"],[1,"creditLogo"],[1,"base"],["id","login",3,"click"],["id","signup",3,"click"],[1,"install"],["id","share","src","../../../../assets/share.png","alt","share"],["id","menu","src","../../../../assets/menu.png","alt","menu"]],template:function(r,i){1&r&&(g(0,"div",0),Q("click",function(){return i.Credits()}),g(1,"span",1),w(2,"Creditos"),p(),te(3,"div",2),p(),g(4,"div",3)(5,"div")(6,"button",4),Q("click",function(){return i.Login()}),w(7,"Log In"),p()(),te(8,"div"),g(9,"div")(10,"button",5),Q("click",function(){return i.Signup()}),w(11,"Sign Up"),p()(),g(12,"div",6)(13,"span"),w(14,"Para instalar en tu dispositivo m\xf3vil, pulsa el boton de inicio \u201cCompartir\u201d "),te(15,"img",7),w(16," en IOS o el boton \u201cMen\xfa\u201d "),te(17,"img",8),w(18," en Androi, y selecionar \u201cAgregar a inicio\u201d"),p()()())},styles:[".main[_ngcontent-%COMP%]{display:flex;height:100vh;justify-content:center;align-items:center;flex-direction:column}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#login[_ngcontent-%COMP%]{top:20%;position:absolute}#signup[_ngcontent-%COMP%]{top:40%;position:absolute}#login[_ngcontent-%COMP%]{background-color:#3ec28f;width:40%;height:15%;position:absolute;left:36%;top:25%;border-radius:30px;border-width:0;color:#fff;font-family:Arial;text-align:center;font-size:64px;letter-spacing:0}#signup[_ngcontent-%COMP%]{background-color:#3ec28f;width:40%;height:15%;position:absolute;left:36%;top:50%;border-radius:30px;border-width:0;color:#fff;font-family:Arial;text-align:center;font-size:64px;letter-spacing:0}.install[_ngcontent-%COMP%]{color:#000;width:30%;position:absolute;left:42%;top:77%;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;font-weight:700}.line[_ngcontent-%COMP%]{display:inline}#menu[_ngcontent-%COMP%]{width:16px;height:21.647058486938477px;background-repeat:no-repeat;background-size:cover;border-radius:5px}#share[_ngcontent-%COMP%]{width:20px;height:23.636362075805664px;background-repeat:no-repeat;background-size:cover;border-radius:5px}p[_ngcontent-%COMP%]{line-height:.5}.creditBox[_ngcontent-%COMP%]{background-color:#3ec28f;border-right:4px solid white;width:20%;height:10%;position:absolute;cursor:pointer;left:0;top:0%;text-align:center}.creditText[_ngcontent-%COMP%]{color:#fff;display:inline-block;vertical-align:middle;line-height:250%;font-family:Verdana;font-size:36px;letter-spacing:0}@media only screen and (max-width: 768px){.main[_ngcontent-%COMP%]{display:flex;height:100vh;justify-content:center;align-items:center;flex-direction:column}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;cursor:pointer}#login[_ngcontent-%COMP%]{top:20%;position:absolute}#signup[_ngcontent-%COMP%]{top:40%;position:absolute}#login[_ngcontent-%COMP%]{background-color:#3ec28f;width:70%;height:15%;margin:0;position:absolute;left:15%;top:25%;border-radius:30px;border-width:0;color:#fff;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0}#signup[_ngcontent-%COMP%]{background-color:#3ec28f;width:70%;height:15%;margin:0;position:absolute;left:15%;top:50%;border-radius:30px;border-width:0;color:#fff;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0}.install[_ngcontent-%COMP%]{color:#000;width:70%;height:10%;position:absolute;left:15%;top:75%;font-family:Arial;text-align:center;font-size:12px;letter-spacing:0;font-weight:700}.line[_ngcontent-%COMP%]{display:inline}#menu[_ngcontent-%COMP%]{width:10px;height:12px;background-repeat:no-repeat;background-size:cover;border-radius:5px}#share[_ngcontent-%COMP%]{width:12px;height:14px;background-repeat:no-repeat;background-size:cover;border-radius:5px}p[_ngcontent-%COMP%]{line-height:.5}.creditLogo[_ngcontent-%COMP%]{position:relative;top:45%;left:25%;width:36px;height:36px;cursor:pointer;background-size:contain;background-repeat:no-repeat;background-image:url(info.f631e6664ac6fa77.png)}.creditText[_ngcontent-%COMP%]{display:none}}"]})}return n})()},{path:"credits",component:(()=>{class n{constructor(t,r){this.auth=t,this.router=r}Login(){this.router.navigate(["/auth/login"])}Signup(){this.router.navigate(["/auth/signup"])}static#e=this.\u0275fac=function(r){return new(r||n)(x(Ge),x(Me))};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-credits"]],decls:29,vars:0,consts:[[1,"base"],[1,"install"],[1,"logoCiens"]],template:function(r,i){1&r&&(g(0,"p"),w(1,"credits works!"),p(),g(2,"div",0)(3,"div",1)(4,"h2")(5,"b"),w(6,"Creditos:"),p()(),g(7,"p")(8,"b"),w(9,"Autor: "),p(),g(10,"span"),w(11,"Ioannis Morakis - m.yannis22@gmail.com"),p()(),g(12,"p")(13,"b"),w(14,"Tutora: "),p(),g(15,"span"),w(16,"Profa. Yosly Hern\xe1ndez Bieliukas"),p()(),te(17,"br"),g(18,"h2")(19,"b"),w(20,"Objetivo:"),p()(),g(21,"p")(22,"span"),w(23," Desarrollar una Aplicaci\xf3n Web para la gesti\xf3n de muestras de campo de la Cl\xednica de Enfermedades de Plantas de la Universidad Central de Venezuela"),p()(),te(24,"br")(25,"br"),g(26,"p"),w(27," Universidad Central de Venezuela - Escuela de Computaci\xf3n "),p(),te(28,"div",2),p()())},styles:[".main[_ngcontent-%COMP%]{display:flex;height:100vh;justify-content:center;align-items:center;flex-direction:column}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}.install[_ngcontent-%COMP%]{color:#000;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0}.line[_ngcontent-%COMP%]{display:inline}.base[_ngcontent-%COMP%]{width:600px;height:500px;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}.logoUcv[_ngcontent-%COMP%]{width:69px;height:69px;float:left;background-image:url(logo_ucv_bg2_1.32a61806277cba42.png);background-repeat:no-repeat;background-size:cover}.logoCiens[_ngcontent-%COMP%]{width:69px;height:69px;display:inline-block;background-image:url(image_7.2e20c6c16e8ce206.png);background-repeat:no-repeat;background-size:cover}@media only screen and (max-width: 768px){.main[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}.install[_ngcontent-%COMP%]{color:#000;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0}.line[_ngcontent-%COMP%]{display:inline}.base[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:70%}.logoUcv[_ngcontent-%COMP%]{width:69px;height:69px;float:left;background-image:url(logo_ucv_bg2_1.32a61806277cba42.png);background-repeat:no-repeat;background-size:cover}.logoCiens[_ngcontent-%COMP%]{width:45px;height:45px;display:inline-block;background-image:url(image_7.2e20c6c16e8ce206.png);background-repeat:no-repeat;background-size:cover}}"]})}return n})()}]}];let tMe=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=ot({type:n});static#n=this.\u0275inj=et({imports:[Ro.forChild(eMe),Ro]})}return n})(),nMe=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=ot({type:n});static#n=this.\u0275inj=et({imports:[tl,Nv,Ro,tMe]})}return n})(),rMe=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-home"]],decls:2,vars:0,template:function(r,i){1&r&&(g(0,"p"),w(1,"home works!"),p())}})}return n})();function iMe(n,e){if(1&n){const t=yt();g(0,"tr")(1,"td",14),w(2),p(),g(3,"td",14),w(4),p(),g(5,"td")(6,"button",15),Q("click",function(){const o=Re(t).$implicit;return Ne(Zt().updateData(o.id))}),w(7," Update "),p()()()}if(2&n){const t=e.$implicit;z(2),He(t.email),z(2),He(t.role)}}let oMe=(()=>{class n{constructor(t,r,i,o){this.router=t,this.route=r,this.auth=i,this.firestore=o,this.data=[],this.getData()}ngOnInit(){}getData(){const t=xe(this.firestore,"users");pe(t).then(r=>{this.data=[...r.docs.map(i=>({...i.data(),id:i.id}))]})}updateData(t){const r=Ie(this.firestore,"users",t);bi(r,{}).then(()=>{alert("Data updated"),this.getData()}).catch(i=>{alert(i.message)})}deleteData(t){const r=Ie(this.firestore,"users",t);Fn(r).then(()=>{alert("Data Deleted"),this.getData()}).catch(i=>{alert(i.message)})}handleSignOut(){Br(this.auth).then(()=>{}).catch(t=>{console.log("here")}),this.router.navigate(["auth/select"])}Home(){this.router.navigate(["admin"])}Projectos(){this.router.navigate(["admin"])}Muestras(){this.router.navigate(["admin"])}static#e=this.\u0275fac=function(r){return new(r||n)(x(Me),x(ut),x(Ge),x(ct))};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-admin"]],decls:27,vars:1,consts:[[1,"navbar"],[1,"tituloBox"],[1,"tituloText"],[1,"logoCiens"],[1,"logoUcv"],[1,"homeBox"],[1,"homeText"],[1,"salir",3,"click"],[1,"navbar2"],[1,"navbar2Box"],["id","cerrarText",1,"navbar2Text",3,"click"],[1,"subTituloText"],[1,"list"],[4,"ngFor","ngForOf"],["contenteditable","true"],[3,"click"]],template:function(r,i){1&r&&(g(0,"p"),w(1,"admin works!"),p(),g(2,"div",0)(3,"div",1)(4,"span",2),w(5,"Gestion de Muestras"),p()(),te(6,"div",3)(7,"div",4),g(8,"div",5)(9,"span",6),w(10,"Home"),p()()(),g(11,"button",7),Q("click",function(){return i.Home()}),p(),g(12,"div",8),te(13,"div",9),g(14,"div",10),Q("click",function(){return i.handleSignOut()}),w(15,"CERRAR SESI\xd3N"),p()(),g(16,"h1",11),w(17,"Usuarios"),p(),g(18,"div",12)(19,"table")(20,"tr")(21,"th"),w(22," Email "),p(),g(23,"th"),w(24," Role "),p(),te(25,"th"),p(),Xn(26,iMe,8,2,"tr",13),p()()),2&r&&(z(26),dr("ngForOf",i.data))},dependencies:[uo],styles:[".list[_ngcontent-%COMP%]{position:absolute;left:33%;top:35%}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}button[_ngcontent-%COMP%]{border:none;background-color:#3eb3c2;color:#fff;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;width:70%;height:10%;vertical-align:middle;line-height:250%;font-family:Verdana;text-align:center;font-size:48px;letter-spacing:0;left:20%;top:15%}.main[_ngcontent-%COMP%]{display:flex;height:100vh;justify-content:center;align-items:center;flex-direction:column}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}.homeBox[_ngcontent-%COMP%]{background-color:#3ec28f;border-right:4px solid white;width:20%;height:10%;position:absolute;left:0;top:0%;text-align:center}.homeText[_ngcontent-%COMP%]{color:#fff;display:inline-block;vertical-align:middle;line-height:250%;font-family:Verdana;font-size:40px;letter-spacing:0}.tituloBox[_ngcontent-%COMP%]{background-color:#3ec28f;width:80%;height:10%;position:absolute;left:20%;top:0%;text-align:center}.tituloText[_ngcontent-%COMP%]{color:#fff;display:inline-block;vertical-align:middle;line-height:250%;font-family:Verdana;font-size:40px;letter-spacing:0}.logoCiens[_ngcontent-%COMP%]{width:100px;height:69px;position:absolute;left:90%;top:1.5%;background-image:url(Logo-Agronomia2.2ed90bcafa53fa56.png);background-repeat:no-repeat;background-size:cover}.logoUcv[_ngcontent-%COMP%]{width:69px;height:69px;position:absolute;left:22%;top:1.5%;background-image:url(logo_ucv_bg2_1.32a61806277cba42.png);background-repeat:no-repeat;background-size:cover}.navbar2Box[_ngcontent-%COMP%]{width:100%;height:47px;background:#3ec28f;border-top:4px solid white;position:absolute;left:0%;top:10%}.navbar2Text[_ngcontent-%COMP%]{height:47px;color:#fff;font-size:20px;font-family:Verdana;font-weight:600;word-wrap:break-word;text-align:center;display:inline-block;vertical-align:middle;line-height:240%;border-top:4px solid white}#usernameText[_ngcontent-%COMP%]{width:20%;position:absolute;left:0%;top:10%;border-right:4px solid white}#ProyectosText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:20%;top:10%;border-right:4px solid white}#MuestrasText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:40%;top:10%;border-right:4px solid white}#ClientesText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:60%;top:10%;border-right:4px solid white}#cerrarText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:0%;top:10%;border-right:4px solid white}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.projectBlock[_ngcontent-%COMP%]{width:60%;height:25px;background:#3ec28f;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:14px;font-weight:700;letter-spacing:0;cursor:pointer}.list[_ngcontent-%COMP%]{position:absolute;left:5%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;left:30%;top:22%}.homeBox[_ngcontent-%COMP%]{background-color:#3ec28f;border-right:2px solid white;width:20%;height:15%;position:absolute;left:0;top:0%}.homeText[_ngcontent-%COMP%]{display:none}.homeLogo[_ngcontent-%COMP%]{position:relative;top:30%;left:25%;width:36px;height:36px;text-align:center;background-image:url(home.a5ce65d54c28e165.png);background-repeat:no-repeat;background-size:cover}.tituloBox[_ngcontent-%COMP%]{background-color:#3ec28f;width:80%;height:15%;position:absolute;left:20%;top:0%;text-align:center}.tituloText[_ngcontent-%COMP%]{color:#fff;line-height:1.6;display:inline-block;vertical-align:middle;font-family:Verdana;font-size:32px;letter-spacing:0px}.logoCiens[_ngcontent-%COMP%]{width:45px;height:35px;position:absolute;left:85%;top:1.5%;background-image:url(Logo-Agronomia2.2ed90bcafa53fa56.png);background-repeat:no-repeat;background-size:cover}.logoUcv[_ngcontent-%COMP%]{width:35px;height:35px;position:absolute;left:22%;top:1.5%;background-image:url(logo_ucv_bg2_1.32a61806277cba42.png);background-repeat:no-repeat;background-size:cover}.navbar2Box[_ngcontent-%COMP%]{width:100%;height:5%;background:#3ec28f;border-top:2px solid white;position:absolute;left:0%;top:15%}.navbar2Text[_ngcontent-%COMP%]{height:5%;color:#fff;font-size:10px;font-family:Verdana;font-weight:600;word-wrap:break-word;text-align:center;display:inline-block;vertical-align:middle;line-height:1.6;border-top:2px solid white}#UnidadText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:40%;top:15%;border-right:2px solid white;padding-top:7px}#ProyectosText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:20%;top:15%;border-right:2px solid white;padding-top:7px}#MuestrasText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:60%;top:15%;border-right:2px solid white;padding-top:7px}#ClientesText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:80%;top:15%;padding-top:7px}#cerrarText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:0%;top:15%;border-right:2px solid white}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}button[_ngcontent-%COMP%]{border:none;background-color:#3eb3c2;color:#fff;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;height:10%;padding:10px;margin:5px;border-radius:30px}}"]})}return n})(),sMe=(()=>{class n{constructor(t,r){this.auth=t,this.router=r}canActivate(t,r){return this.checkLogin(r.url)}checkLogin(t){return!!this.auth.currentUser||(this.router.navigate(["/"]),!1)}static#e=this.\u0275fac=function(r){return new(r||n)($(Ge),$(Me))};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),TW=(()=>{class n{constructor(t,r){this.auth=t,this.router=r,this.title="gestion-muestras"}handleSignOut(){Br(this.auth).then(()=>{}).catch(t=>{console.log("here")}),this.router.navigate(["auth/select"])}Home(){this.router.navigate(["user/projects"])}Projectos(){this.router.navigate(["user/projects"])}Muestras(){this.router.navigate(["user/muestras-all"])}Clientes(){this.router.navigate(["user/clients"])}Unidades(){this.router.navigate(["user/unidad-produccion-all"])}Codigo(){this.router.navigate(["user/barcode-new"])}static#e=this.\u0275fac=function(r){return new(r||n)(x(Ge),x(Me))};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-user"]],decls:32,vars:0,consts:[[1,"navbar"],[1,"tituloBox"],[1,"tituloText"],[1,"logoCiens"],[1,"logoUcv"],[1,"homeBox"],[1,"homeText"],[1,"homeLogo"],[1,"salir",3,"click"],[1,"navbar2"],[1,"navbar2Box"],["id","cerrarText",1,"navbar2Text",3,"click"],["id","UnidadText",1,"navbar2Text",3,"click"],[1,"center"],["id","ProyectosText",1,"navbar2Text",3,"click"],["id","MuestrasText",1,"navbar2Text",3,"click"],["id","ClientesText",1,"navbar2Text",3,"click"],["id","CodigoText",1,"navbar2Text",3,"click"]],template:function(r,i){1&r&&(g(0,"p"),w(1,"user works!"),p(),g(2,"div",0)(3,"div",1)(4,"span",2),w(5,"Gestion de Muestras"),p()(),te(6,"div",3)(7,"div",4),g(8,"div",5)(9,"span",6),w(10,"Home"),p(),te(11,"div",7),p()(),g(12,"button",8),Q("click",function(){return i.Home()}),p(),g(13,"div",9),te(14,"div",10),g(15,"div",11),Q("click",function(){return i.handleSignOut()}),w(16,"CERRAR SESI\xd3N"),p(),g(17,"div",12),Q("click",function(){return i.Unidades()}),g(18,"div",13),w(19,"UNIDADES"),p()(),g(20,"div",14),Q("click",function(){return i.Projectos()}),g(21,"div",13),w(22,"PROYECTOS"),p()(),g(23,"div",15),Q("click",function(){return i.Muestras()}),g(24,"div",13),w(25,"MUESTRAS"),p()(),g(26,"div",16),Q("click",function(){return i.Clientes()}),g(27,"div",13),w(28,"CLIENTES"),p()(),g(29,"div",17),Q("click",function(){return i.Codigo()}),w(30,"GENERAR CODIGO"),p()(),te(31,"router-outlet"))},dependencies:[Md],styles:[".main[_ngcontent-%COMP%]{display:flex;height:100vh;justify-content:center;align-items:center;flex-direction:column}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}.homeBox[_ngcontent-%COMP%]{background-color:#3ec28f;border-right:4px solid white;width:15%;height:10%;position:absolute;left:0;top:0%;text-align:center}.homeText[_ngcontent-%COMP%]{color:#fff;display:inline-block;vertical-align:middle;line-height:250%;font-family:Verdana;font-size:40px;letter-spacing:0}.tituloBox[_ngcontent-%COMP%]{background-color:#3ec28f;width:85%;height:10%;position:absolute;left:15%;top:0%;text-align:center}.tituloText[_ngcontent-%COMP%]{color:#fff;display:inline-block;vertical-align:middle;line-height:250%;font-family:Verdana;font-size:40px;letter-spacing:0}.logoCiens[_ngcontent-%COMP%]{width:100px;height:69px;position:absolute;left:90%;top:1.5%;background-image:url(Logo-Agronomia2.2ed90bcafa53fa56.png);background-repeat:no-repeat;background-size:cover}.logoUcv[_ngcontent-%COMP%]{width:69px;height:69px;position:absolute;left:22%;top:1.5%;background-image:url(logo_ucv_bg2_1.32a61806277cba42.png);background-repeat:no-repeat;background-size:cover}.navbar2Box[_ngcontent-%COMP%]{width:100%;height:5%;background:#3ec28f;border-top:4px solid white;position:absolute;left:0%;top:10%}.navbar2Text[_ngcontent-%COMP%]{height:4.5%;color:#fff;font-size:16px;font-family:Verdana;font-weight:600;word-wrap:break-word;text-align:center;display:inline-block;vertical-align:middle;line-height:240%;border-top:4px solid white;padding-top:5px}#cerrarText[_ngcontent-%COMP%]{cursor:pointer;width:15%;position:absolute;left:0%;top:10%;border-right:4px solid white}#ProyectosText[_ngcontent-%COMP%]{cursor:pointer;width:17%;position:absolute;left:15%;top:10%;border-right:4px solid white}#UnidadText[_ngcontent-%COMP%]{cursor:pointer;width:17%;position:absolute;left:32%;top:10%;border-right:4px solid white}#MuestrasText[_ngcontent-%COMP%]{cursor:pointer;width:17%;position:absolute;left:49%;top:10%;border-right:4px solid white}#ClientesText[_ngcontent-%COMP%]{cursor:pointer;width:17%;position:absolute;left:66%;top:10%;border-right:4px solid white}#CodigoText[_ngcontent-%COMP%]{cursor:pointer;width:17%;position:absolute;left:83%;top:10%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.homeBox[_ngcontent-%COMP%]{background-color:#3ec28f;border-right:2px solid white;width:15%;height:15%;position:absolute;left:0;top:0%}.homeText[_ngcontent-%COMP%]{display:none}.homeLogo[_ngcontent-%COMP%]{position:relative;top:30%;left:25%;width:30px;height:30px;text-align:center;background-image:url(home.a5ce65d54c28e165.png);background-repeat:no-repeat;background-size:cover}.tituloBox[_ngcontent-%COMP%]{background-color:#3ec28f;width:85%;height:15%;position:absolute;left:15%;top:0%;text-align:center}.tituloText[_ngcontent-%COMP%]{color:#fff;line-height:1.6;display:inline-block;vertical-align:middle;font-family:Verdana;font-size:32px;letter-spacing:0px}.logoCiens[_ngcontent-%COMP%]{width:45px;height:35px;position:absolute;left:85%;top:5%;background-image:url(Logo-Agronomia2.2ed90bcafa53fa56.png);background-repeat:no-repeat;background-size:cover}.logoUcv[_ngcontent-%COMP%]{width:35px;height:35px;position:absolute;left:22%;top:5%;background-image:url(logo_ucv_bg2_1.32a61806277cba42.png);background-repeat:no-repeat;background-size:cover}.navbar2Box[_ngcontent-%COMP%]{width:100%;height:33px;background:#3ec28f;border-top:2px solid white;position:absolute;left:0%;top:15%}.navbar2Text[_ngcontent-%COMP%]{height:28px;color:#fff;font-size:8px;font-family:Verdana;font-weight:600;word-wrap:break-word;text-align:center;display:inline-block;vertical-align:middle;line-height:1.6;border-top:2px solid white;padding-top:5px}.center[_ngcontent-%COMP%]{position:relative;top:18%}#cerrarText[_ngcontent-%COMP%]{cursor:pointer;width:15%;position:absolute;left:0%;top:15%;border-right:2px solid white}#ProyectosText[_ngcontent-%COMP%]{cursor:pointer;width:17%;position:absolute;left:15%;top:15%;border-right:2px solid white}#UnidadText[_ngcontent-%COMP%]{cursor:pointer;width:17%;position:absolute;left:32%;top:15%;border-right:2px solid white}#MuestrasText[_ngcontent-%COMP%]{cursor:pointer;width:17%;position:absolute;left:49%;top:15%;border-right:2px solid white}#ClientesText[_ngcontent-%COMP%]{cursor:pointer;width:17%;position:absolute;left:66%;top:15%;border-right:2px solid white}#CodigoText[_ngcontent-%COMP%]{cursor:pointer;width:17%;position:absolute;left:83%;top:15%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:15%;left:0%;top:0%}}"]})}return n})();var xm=N(2448);let aMe=(()=>{class n{constructor(t,r,i,o){this.router=t,this.route=r,this.auth=i,this.firestore=o}ngOnInit(){this.route.params.subscribe(t=>{this.item=t,console.log(t),this.generateBarcode(t)})}generateBarcode(t){var r=t.id;let i=t.num;xm("#barcode",r,{format:"CODE128"});for(let o=1;o<i;o++){let s="#barcode"+o;console.log(s),xm(s,r,{format:"CODE128"})}window.print()}static#e=this.\u0275fac=function(r){return new(r||n)(x(Me),x(ut),x(Ge),x(ct))};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-print"]],decls:5,vars:0,consts:[["id","barcode"],["id","barcode1"],["id","barcode2"],["id","barcode3"],["id","barcode4"]],template:function(r,i){1&r&&(T_(),te(0,"svg",0)(1,"svg",1)(2,"svg",2)(3,"svg",3)(4,"svg",4))},styles:["#barcode[_ngcontent-%COMP%]{position:absolute;top:50px;left:200px}#barcode1[_ngcontent-%COMP%]{position:absolute;top:220px;left:200px}#barcode2[_ngcontent-%COMP%]{position:absolute;top:390px;left:200px}#barcode3[_ngcontent-%COMP%]{position:absolute;top:560px;left:200px}#barcode4[_ngcontent-%COMP%]{position:absolute;top:730px;left:200px}"]})}return n})(),DW=(()=>{class n{constructor(t,r){this.auth=t,this.router=r,this.title="gestion-muestras"}handleSignOut(){Br(this.auth).then(()=>{}).catch(t=>{console.log("here")}),this.router.navigate(["auth/select"])}Home(){this.router.navigate(["client/projects"])}Projectos(){this.router.navigate(["client/projects"])}Perfil(){this.router.navigate(["client/perfil"])}Muestras(){this.router.navigate(["client/muestras-all"])}Unidad(){this.router.navigate(["client/unidad-produccion-all"])}static#e=this.\u0275fac=function(r){return new(r||n)(x(Ge),x(Me))};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-client"]],decls:25,vars:0,consts:[[1,"navbar"],[1,"tituloBox"],[1,"tituloText"],[1,"logoCiens"],[1,"logoUcv"],[1,"homeBox"],[1,"homeText"],[1,"salir",3,"click"],[1,"navbar2"],[1,"navbar2Box"],["id","cerrarText",1,"navbar2Text",3,"click"],["id","usernameText",1,"navbar2Text",3,"click"],["id","ProyectosText",1,"navbar2Text",3,"click"],["id","MuestrasText",1,"navbar2Text",3,"click"],["id","UnidadText",1,"navbar2Text",3,"click"]],template:function(r,i){1&r&&(g(0,"p"),w(1,"client works!"),p(),g(2,"div",0)(3,"div",1)(4,"span",2),w(5,"Gestion de Muestras"),p()(),te(6,"div",3)(7,"div",4),g(8,"div",5)(9,"span",6),w(10,"Home"),p()()(),g(11,"button",7),Q("click",function(){return i.Home()}),p(),g(12,"div",8),te(13,"div",9),g(14,"div",10),Q("click",function(){return i.handleSignOut()}),w(15,"CERRAR SESI\xd3N"),p(),g(16,"div",11),Q("click",function(){return i.Perfil()}),w(17,"USUARIO"),p(),g(18,"div",12),Q("click",function(){return i.Projectos()}),w(19,"PROYECTOS"),p(),g(20,"div",13),Q("click",function(){return i.Muestras()}),w(21,"MUESTRAS"),p(),g(22,"div",14),Q("click",function(){return i.Unidad()}),w(23,"UNIDADES"),p()(),te(24,"router-outlet"))},dependencies:[Md],styles:[".main[_ngcontent-%COMP%]{display:flex;height:100vh;justify-content:center;align-items:center;flex-direction:column}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}.homeBox[_ngcontent-%COMP%]{background-color:#3ec28f;border-right:4px solid white;width:20%;height:10%;position:absolute;left:0;top:0%;text-align:center}.homeText[_ngcontent-%COMP%]{color:#fff;display:inline-block;vertical-align:middle;line-height:250%;font-family:Verdana;font-size:40px;letter-spacing:0}.tituloBox[_ngcontent-%COMP%]{background-color:#3ec28f;width:80%;height:10%;position:absolute;left:20%;top:0%;text-align:center}.tituloText[_ngcontent-%COMP%]{color:#fff;display:inline-block;vertical-align:middle;line-height:250%;font-family:Verdana;font-size:40px;letter-spacing:0}.logoCiens[_ngcontent-%COMP%]{width:100px;height:69px;position:absolute;left:90%;top:1.5%;background-image:url(Logo-Agronomia2.2ed90bcafa53fa56.png);background-repeat:no-repeat;background-size:cover}.logoUcv[_ngcontent-%COMP%]{width:69px;height:69px;position:absolute;left:22%;top:1.5%;background-image:url(logo_ucv_bg2_1.32a61806277cba42.png);background-repeat:no-repeat;background-size:cover}.navbar2Box[_ngcontent-%COMP%]{width:100%;height:47px;background:#3ec28f;border-top:4px solid white;position:absolute;left:0%;top:10%}.navbar2Text[_ngcontent-%COMP%]{height:47px;color:#fff;font-size:20px;font-family:Verdana;font-weight:600;word-wrap:break-word;text-align:center;display:inline-block;vertical-align:middle;line-height:240%;border-top:4px solid white}#usernameText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:80%;top:10%}#ProyectosText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:20%;top:10%;border-right:4px solid white}#MuestrasText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:60%;top:10%;border-right:4px solid white}#UnidadText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:40%;top:10%;border-right:4px solid white}#cerrarText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:0%;top:10%;border-right:4px solid white}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.homeBox[_ngcontent-%COMP%]{background-color:#3ec28f;border-right:2px solid white;width:20%;height:15%;position:absolute;left:0;top:0%}.homeText[_ngcontent-%COMP%]{display:none}.homeLogo[_ngcontent-%COMP%]{position:relative;top:30%;left:25%;width:36px;height:36px;text-align:center;background-image:url(home.a5ce65d54c28e165.png);background-repeat:no-repeat;background-size:cover}.tituloBox[_ngcontent-%COMP%]{background-color:#3ec28f;width:80%;height:15%;position:absolute;left:20%;top:0%;text-align:center}.tituloText[_ngcontent-%COMP%]{color:#fff;line-height:1.6;display:inline-block;vertical-align:middle;font-family:Verdana;font-size:32px;letter-spacing:0px}.logoCiens[_ngcontent-%COMP%]{width:45px;height:35px;position:absolute;left:85%;top:1.5%;background-image:url(Logo-Agronomia2.2ed90bcafa53fa56.png);background-repeat:no-repeat;background-size:cover}.logoUcv[_ngcontent-%COMP%]{width:35px;height:35px;position:absolute;left:22%;top:1.5%;background-image:url(logo_ucv_bg2_1.32a61806277cba42.png);background-repeat:no-repeat;background-size:cover}.navbar2Box[_ngcontent-%COMP%]{width:100%;height:5%;background:#3ec28f;border-top:2px solid white;position:absolute;left:0%;top:15%}.navbar2Text[_ngcontent-%COMP%]{height:5%;color:#fff;font-size:10px;font-family:Verdana;font-weight:600;word-wrap:break-word;text-align:center;display:inline-block;vertical-align:middle;line-height:1.6;border-top:2px solid white}#usernameText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:80%;top:15%;padding-top:7px}#UnidadText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:40%;top:15%;border-right:2px solid white;padding-top:7px}#ProyectosText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:20%;top:15%;border-right:2px solid white;padding-top:7px}#MuestrasText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:60%;top:15%;border-right:2px solid white;padding-top:7px}#ClientesText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:80%;top:15%;padding-top:7px}#cerrarText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:0%;top:15%;border-right:2px solid white}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:15%;left:0%;top:0%}}"]})}return n})();const cMe=[{path:"",redirectTo:"auth/select",pathMatch:"full"},{path:"home",component:rMe},{path:"admin",component:oMe,canActivate:[sMe]},{path:"auth",component:KH},{path:"user",component:TW},{path:"client",component:DW},{path:"print/:id/:num",component:aMe}];let MW=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=ot({type:n});static#n=this.\u0275inj=et({imports:[Ro.forRoot(cMe),Ro]})}return n})(),lMe=(()=>{class n{constructor(t,r,i){this.auth=t,this.router=r,this.title="gestion-muestras",console.log("inside app component")}handleSignOut(){Br(this.auth).then(()=>{}).catch(t=>{console.log("here")})}static#e=this.\u0275fac=function(r){return new(r||n)(x(Ge),x(Me),x(ct))};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-root"]],decls:2,vars:0,consts:[[1,"base"]],template:function(r,i){1&r&&(g(0,"div",0),te(1,"router-outlet"),p())},dependencies:[Md],styles:[".base[_ngcontent-%COMP%]{margin:0;width:100%;height:100%;top:0;left:0;background-repeat:repeat;background-image:url(CaptureLeafRepeatOpacity40.fa59cc5e435e5925.png)}"]})}return n})();const uMe_firebase={projectId:"gestion-de-muestras-de-c-fabe0",appId:"1:881625861704:web:1da279954953bf7e3ad27d",databaseURL:"https://gestion-de-muestras-de-c-fabe0-default-rtdb.firebaseio.com",storageBucket:"gestion-de-muestras-de-c-fabe0.appspot.com",apiKey:"AIzaSyD0Py3MA2BD1yEsMg4wM9RDhbNgmEAxZPk",authDomain:"gestion-de-muestras-de-c-fabe0.firebaseapp.com",messagingSenderId:"881625861704",measurementId:"G-PTHV8B640J"},SW="@firebase/database";let MR="";class hMe{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Nr(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Vp(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class fMe{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return hs(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const kW=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new hMe(e)}}catch{}return new fMe},Hl=kW("localStorage"),SR=kW("sessionStorage"),kh=new cl("@firebase/database"),OW=function(){let n=1;return function(){return n++}}(),PW=function(n){const e=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);if(i>=55296&&i<=56319){const o=i-55296;r++,se(r<n.length,"Surrogate pair missing trail surrogate."),i=65536+(o<<10)+(n.charCodeAt(r)-56320)}i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):i<65536?(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e}(n),t=new Lme;t.update(e);const r=t.digest();return t0.encodeByteArray(r)},Im=function(...n){let e="";for(let t=0;t<n.length;t++){const r=n[t];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=Im.apply(null,r):e+="object"==typeof r?Nr(r):r,e+=" "}return e};let Gl=null,RW=!0;const Mr=function(...n){if(!0===RW&&(RW=!1,null===Gl&&!0===SR.get("logging_enabled")&&function(n,e){se(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(kh.logLevel=pt.VERBOSE,Gl=kh.log.bind(kh),e&&SR.set("logging_enabled",!0)):"function"==typeof n?Gl=n:(Gl=null,SR.remove("logging_enabled"))}(!0)),Gl){const e=Im.apply(null,n);Gl(e)}},Tm=function(n){return function(...e){Mr(n,...e)}},AR=function(...n){const e="FIREBASE INTERNAL ERROR: "+Im(...n);kh.error(e)},Ts=function(...n){const e=`FIREBASE FATAL ERROR: ${Im(...n)}`;throw kh.error(e),new Error(e)},oi=function(...n){const e="FIREBASE WARNING: "+Im(...n);kh.warn(e)},mw=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},mc="[MIN_NAME]",fa="[MAX_NAME]",ql=function(n,e){if(n===e)return 0;if(n===mc||e===fa)return-1;if(e===mc||n===fa)return 1;{const t=VW(n),r=VW(e);return null!==t?null!==r?t-r==0?n.length-e.length:t-r:-1:null!==r?1:n<e?-1:1}},mMe=function(n,e){return n===e?0:n<e?-1:1},Dm=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+Nr(e))},kR=function(n){if("object"!=typeof n||null===n)return Nr(n);const e=[];for(const r in n)e.push(r);e.sort();let t="{";for(let r=0;r<e.length;r++)0!==r&&(t+=","),t+=Nr(e[r]),t+=":",t+=kR(n[e[r]]);return t+="}",t},FW=function(n,e){const t=n.length;if(t<=e)return[n];const r=[];for(let i=0;i<t;i+=e)r.push(n.substring(i,i+e>t?t:i+e));return r};function Sr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const LW=function(n){se(!mw(n),"Invalid JSON number");const r=1023;let i,o,s,a,c;0===n?(o=0,s=0,i=1/n==-1/0?1:0):(i=n<0,(n=Math.abs(n))>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(n)/Math.LN2),r),o=a+r,s=Math.round(n*Math.pow(2,52-a)-Math.pow(2,52))):(o=0,s=Math.round(n/Math.pow(2,-1074))));const l=[];for(c=52;c;c-=1)l.push(s%2?1:0),s=Math.floor(s/2);for(c=11;c;c-=1)l.push(o%2?1:0),o=Math.floor(o/2);l.push(i?1:0),l.reverse();const u=l.join("");let d="";for(c=0;c<64;c+=8){let h=parseInt(u.substr(c,8),2).toString(16);1===h.length&&(h="0"+h),d+=h}return d.toLowerCase()},bMe=new RegExp("^-?(0*)\\d{1,10}$"),VW=function(n){if(bMe.test(n)){const e=Number(n);if(e>=-2147483648&&e<=2147483647)return e}return null},Oh=function(n){try{n()}catch(e){setTimeout(()=>{throw oi("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},Mm=function(n,e){const t=setTimeout(n,e);return"number"==typeof t&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):"object"==typeof t&&t.unref&&t.unref(),t};class xMe{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){oi(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class IMe{constructor(e,t,r){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(Mr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',oi(e)}}let Sm=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const $W=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,qW="websocket",WW="long_polling";class PR{constructor(e,t,r,i,o=!1,s="",a=!1,c=!1){this.secure=t,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Hl.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Hl.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function KW(n,e,t){let r;if(se("string"==typeof e,"typeof type must == string"),se("object"==typeof t,"typeof params must == object"),e===qW)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==WW)throw new Error("Unknown connection type: "+e);r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function TMe(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const i=[];return Sr(t,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}class DMe{constructor(){this.counters_={}}incrementCounter(e,t=1){hs(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return Eme(this.counters_)}}const RR={},NR={};function FR(n){const e=n.toString();return RR[e]||(RR[e]=new DMe),RR[e]}class SMe{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Oh(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class _c{constructor(e,t,r,i,o,s,a){this.connId=e,this.repoInfo=t,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Tm(e),this.stats_=FR(t),this.urlFn=c=>(this.appCheckToken&&(c.ac=this.appCheckToken),KW(t,WW,c))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new SMe(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if("complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new LR((...o)=>{const[s,a,c,l,u]=o;if(this.incrementIncomingBytes_(o),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===s)this.id=a,this.password=c;else{if("close"!==s)throw new Error("Unrecognized command received: "+s);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...o)=>{const[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&$W.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){_c.forceAllow_=!0}static forceDisallow(){_c.forceDisallow_=!0}static isAvailable(){return!(!_c.forceAllow_&&(_c.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=Nr(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=q6(t),i=FW(r,1840);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=t,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=Nr(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class LR{constructor(e,t,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=OW(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=LR.createIFrame_();let o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(o='<script>document.domain="'+document.domain+'";<\/script>');const s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){Mr("frame writing exception"),a.stack&&Mr(a.stack),Mr(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Mr("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const s=this.pendingSegs.shift();r=r+"&seg"+i+"="+s.seg+"&ts"+i+"="+s.ts+"&d"+i+"="+s.d,i++}return t+=r,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,r){this.pendingSegs.push({seg:e,ts:t,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const r=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(i),r()})}addTag(e,t){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=()=>{Mr("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let yw=null;typeof MozWebSocket<"u"?yw=MozWebSocket:typeof WebSocket<"u"&&(yw=WebSocket);let Ph=(()=>{class n{constructor(t,r,i,o,s,a,c){this.connId=t,this.applicationId=i,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Tm(this.connId),this.stats_=FR(r),this.connURL=n.connectionURL_(r,a,c,o,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(t,r,i,o,s){const a={v:"5"};return typeof location<"u"&&location.hostname&&$W.test(location.hostname)&&(a.r="f"),r&&(a.s=r),i&&(a.ls=i),o&&(a.ac=o),s&&(a.p=s),KW(t,qW,a)}open(t,r){this.onDisconnect=r,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Hl.set("previous_websocket_failure",!0);try{let i;0,this.mySock=new yw(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const o=i.message||i.data;return o&&this.log_(o),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(t=!0)}return!t&&null!==yw&&!n.forceDisallow_}static previouslyFailed(){return Hl.isInMemoryStorage||!0===Hl.get("previous_websocket_failure")}markConnectionHealthy(){Hl.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=Vp(r);this.onMessage(i)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(se(null===this.frames,"We already have a frame buffer"),t.length<=6){const r=Number(t);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const r=t.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(t){this.resetKeepAlive();const r=Nr(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=FW(r,16384);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),tK=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[_c,Ph]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const r=Ph&&Ph.isAvailable();let i=r&&!Ph.previouslyFailed();if(t.webSocketOnly&&(r||oi("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Ph];else{const o=this.transports_=[];for(const s of n.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class cK{constructor(e,t,r,i,o,s,a,c,l,u){this.id=e,this.repoInfo_=t,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=c,this.onKill_=l,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Tm("c:"+this.id+":"),this.transportManager_=new tK(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Mm(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Dm("t",e),r=Dm("d",e);if("c"===t)this.onSecondaryControl_(r);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Dm("t",e),r=Dm("d",e);"c"===t?this.onControl_(r):"d"===t&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Dm("t",e);if("d"in e){const r=e.d;if("h"===t){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(r):"r"===t?this.onReset_(r):"e"===t?AR("Server Error: "+r):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):AR("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==r&&oi("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,r),Mm(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Mm(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Hl.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class lK{put(e,t,r,i){}merge(e,t,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,r){}onDisconnectMerge(e,t,r){}onDisconnectCancel(e,t){}reportStats(e){}}class uK{constructor(e){this.allowedEvents_=e,this.listeners_={},se(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)}}on(e,t,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:r});const i=this.getInitialEvent(e);i&&t.apply(r,i)}off(e,t,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let o=0;o<i.length;o++)if(i[o].callback===t&&(!r||r===i[o].context))return void i.splice(o,1)}validateEventType_(e){se(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class vw extends uK{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!jT()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new vw}getInitialEvent(e){return se("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class At{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function xt(){return new At("")}function Ze(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function yc(n){return n.pieces_.length-n.pieceNum_}function $t(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new At(n.pieces_,e)}function BR(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function Am(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function fK(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new At(e,0)}function _n(n,e){const t=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)t.push(n.pieces_[r]);if(e instanceof At)for(let r=e.pieceNum_;r<e.pieces_.length;r++)t.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&t.push(r[i])}return new At(t,0)}function Je(n){return n.pieceNum_>=n.pieces_.length}function wi(n,e){const t=Ze(n),r=Ze(e);if(null===t)return e;if(t===r)return wi($t(n),$t(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function UR(n,e){if(yc(n)!==yc(e))return!1;for(let t=n.pieceNum_,r=e.pieceNum_;t<=n.pieces_.length;t++,r++)if(n.pieces_[t]!==e.pieces_[r])return!1;return!0}function go(n,e){let t=n.pieceNum_,r=e.pieceNum_;if(yc(n)>yc(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[r])return!1;++t,++r}return!0}class ZMe{constructor(e,t){this.errorPrefix_=t,this.parts_=Am(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=l0(this.parts_[r]);pK(this)}}function pK(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Wl(n))}function Wl(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class jR extends uK{constructor(){let e,t;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new jR}getInitialEvent(e){return se("visible"===e,"Unknown event type: "+e),[this.visible_]}}const km=1e3;let ww,Kl=(()=>{class n extends lK{constructor(t,r,i,o,s,a,c,l){if(super(),this.repoInfo_=t,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=l,this.id=n.nextPersistentConnectionId_++,this.log_=Tm("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=km,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");jR.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&vw.getInstance().on("online",this.onOnline_,this)}sendRequest(t,r,i){const o=++this.requestNumber_,s={r:o,a:t,b:r};this.log_(Nr(s)),se(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[o]=i)}get(t){this.initConnection_();const r=new Nd,o={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:a=>{const c=a.d;"ok"===a.s?r.resolve(c):r.reject(c)}};return this.outstandingGets_.push(o),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(t,r,i,o){this.initConnection_();const s=t._queryIdentifier,a=t._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),se(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),se(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");const c={onComplete:o,hashFn:r,query:t,tag:i};this.listens.get(a).set(s,c),this.connected_&&this.sendListen_(c)}sendGet_(t){const r=this.outstandingGets_[t];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(t){const r=t.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);const s={p:i};t.tag&&(s.q=r._queryObject,s.t=t.tag),s.h=t.hashFn(),this.sendRequest("q",s,c=>{const l=c.d,u=c.s;n.warnOnListenWarnings_(l,r),(this.listens.get(i)&&this.listens.get(i).get(o))===t&&(this.log_("listen response",c),"ok"!==u&&this.removeListen_(i,o),t.onComplete&&t.onComplete(u,l))})}static warnOnListenWarnings_(t,r){if(t&&"object"==typeof t&&hs(t,"w")){const i=Fd(t,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',s=r._path.toString();oi(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||function(n){const e=s0(n).claims;return"object"==typeof e&&!0===e.admin}(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,r=function(n){const t=s0(n).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",i={cred:t};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,o=>{const s=o.s,a=o.d||"error";this.authToken_===t&&("ok"===s?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const r=t.s,i=t.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(t,r){const i=t._path.toString(),o=t._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),se(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,t._queryObject,r)}sendUnlisten_(t,r,i,o){this.log_("Unlisten on "+t+" for "+r);const s={p:t};o&&(s.q=i,s.t=o),this.sendRequest("n",s)}onDisconnectPut(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:r,onComplete:i})}onDisconnectMerge(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:r,onComplete:i})}onDisconnectCancel(t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(t,r,i,o){const s={p:r,d:i};this.log_("onDisconnect "+t,s),this.sendRequest(t,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(t,r,i,o){this.putInternal("p",t,r,i,o)}merge(t,r,i,o){this.putInternal("m",t,r,i,o)}putInternal(t,r,i,o,s){this.initConnection_();const a={p:r,d:i};void 0!==s&&(a.h=s),this.outstandingPuts_.push({action:t,request:a,onComplete:o}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(t){const r=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,o=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,i,s=>{this.log_(r+" response",s),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(t){if(this.connected_){const r={c:t};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+Nr(t));const r=t.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,r){this.log_("handleServerMessage",t,r),"d"===t?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===t?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===t?this.onListenRevoked_(r.p,r.q):"ac"===t?this.onAuthRevoked_(r.s,r.d):"apc"===t?this.onAppCheckRevoked_(r.s,r.d):"sd"===t?this.onSecurityDebugPacket_(r):AR("Unrecognized action received from server: "+Nr(t)+"\nAre you using the latest client?")}onReady_(t,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){se(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=km,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=km,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=km),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-t);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return _(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const r=t.onDataMessage_.bind(t),i=t.onReady_.bind(t),o=t.onRealtimeDisconnect_.bind(t),s=t.id+":"+n.nextConnectionId_++,a=t.lastSessionId;let c=!1,l=null;const u=function(){l?l.close():(c=!0,o())};t.realtime_={close:u,sendRequest:function(f){se(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(f)}};const h=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[f,y]=yield Promise.all([t.authTokenProvider_.getToken(h),t.appCheckTokenProvider_.getToken(h)]);c?Mr("getToken() completed but was canceled"):(Mr("getToken() completed. Creating connection."),t.authToken_=f&&f.accessToken,t.appCheckToken_=y&&y.token,l=new cK(s,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,r,i,o,E=>{oi(E+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},a))}catch(f){t.log_("Failed to get token: "+f),c||(t.repoInfo_.nodeAdmin&&oi(f),u())}}})()}interrupt(t){Mr("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Mr("Resuming connection for reason: "+t),delete this.interruptReasons_[t],HT(this.interruptReasons_)&&(this.reconnectDelay_=km,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const r=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const r=this.outstandingPuts_[t];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,r){let i;i=r?r.map(s=>kR(s)).join("$"):"default";const o=this.removeListen_(t,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(t,r){const i=new At(t).toString();let o;if(this.listens.has(i)){const s=this.listens.get(i);o=s.get(r),s.delete(r),0===s.size&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(t,r){Mr("Auth token revoked: "+t+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,r){Mr("App check token revoked: "+t+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const r of t.values())this.sendListen_(r);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let r="js";t["sdk."+r+"."+MR.replace(/\./g,"-")]=1,jT()?t["framework.cordova"]=1:Z6()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=vw.getInstance().currentlyOnline();return HT(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class rt{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new rt(e,t)}}class bw{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const r=new rt(mc,e),i=new rt(mc,t);return 0!==this.compare(r,i)}minPost(){return rt.MIN}}class _K extends bw{static get __EMPTY_NODE(){return ww}static set __EMPTY_NODE(e){ww=e}compare(e,t){return ql(e.name,t.name)}isDefinedOn(e){throw Rd("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return rt.MIN}maxPost(){return new rt(fa,ww)}makePost(e,t){return se("string"==typeof e,"KeyIndex indexValue must always be a string."),new rt(e,ww)}toString(){return".key"}}const Ds=new _K;class Cw{constructor(e,t,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,i&&(s*=-1),s<0)e=this.isReverse_?e.left:e.right;else{if(0===s){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let $R,Bo=(()=>{class n{constructor(t,r,i,o,s){this.key=t,this.value=r,this.color=i??n.RED,this.left=o??Ni.EMPTY_NODE,this.right=s??Ni.EMPTY_NODE}copy(t,r,i,o,s){return new n(t??this.key,r??this.value,i??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,i){let o=this;const s=i(t,o.key);return o=s<0?o.copy(null,null,null,o.left.insert(t,r,i),null):0===s?o.copy(null,r,null,null,null):o.copy(null,null,null,null,o.right.insert(t,r,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ni.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,r){let i,o;if(i=this,r(t,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(t,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(t,i.key)){if(i.right.isEmpty())return Ni.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(t,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Ni{constructor(e,t=Ni.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Ni(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Bo.BLACK,null,null))}remove(e){return new Ni(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Bo.BLACK,null,null))}get(e){let t,r=this.root_;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t)return r.value;t<0?r=r.left:t>0&&(r=r.right)}return null}getPredecessorKey(e){let t,r=this.root_,i=null;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}t<0?r=r.left:t>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Cw(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new Cw(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new Cw(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new Cw(this.root_,null,this.comparator_,!0,e)}}function sSe(n,e){return ql(n.name,e.name)}function zR(n,e){return ql(n,e)}Ni.EMPTY_NODE=new class oSe{copy(e,t,r,i,o){return this}insert(e,t,r){return new Bo(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const yK=function(n){return"number"==typeof n?"number:"+LW(n):"string:"+n},vK=function(n){if(n.isLeafNode()){const e=n.val();se("string"==typeof e||"number"==typeof e||"object"==typeof e&&hs(e,".sv"),"Priority must be a string or number.")}else se(n===$R||n.isEmpty(),"priority of unexpected type.");se(n===$R||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let bK,wK,CK,Rh=(()=>{class n{constructor(t,r=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=r,this.lazyHash_=null,se(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),vK(this.priorityNode_)}static set __childrenNodeConstructor(t){bK=t}static get __childrenNodeConstructor(){return bK}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return Je(t)?this:".priority"===Ze(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,r){return null}updateImmediateChild(t,r){return".priority"===t?this.updatePriority(r):r.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,r).updatePriority(this.priorityNode_)}updateChild(t,r){const i=Ze(t);return null===i?r:r.isEmpty()&&".priority"!==i?this:(se(".priority"!==i||1===yc(t),".priority must be the last token in a path"),this.updateImmediateChild(i,n.__childrenNodeConstructor.EMPTY_NODE.updateChild($t(t),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,r){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+yK(this.priorityNode_.val())+":");const r=typeof this.value_;t+=r+":",t+="number"===r?LW(this.value_):this.value_,this.lazyHash_=PW(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:(se(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const r=typeof t.value_,i=typeof this.value_,o=n.VALUE_TYPE_ORDER.indexOf(r),s=n.VALUE_TYPE_ORDER.indexOf(i);return se(o>=0,"Unknown leaf type: "+r),se(s>=0,"Unknown leaf type: "+i),o===s?"object"===i?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(t){return t===this||!!t.isLeafNode()&&(this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const rn=new class uSe extends bw{compare(e,t){const r=e.node.getPriority(),i=t.node.getPriority(),o=r.compareTo(i);return 0===o?ql(e.name,t.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return rt.MIN}maxPost(){return new rt(fa,new Rh("[PRIORITY-POST]",CK))}makePost(e,t){const r=wK(e);return new rt(t,new Rh("[PRIORITY-POST]",r))}toString(){return".priority"}},dSe=Math.log(2);class hSe{constructor(e){this.count=parseInt(Math.log(e+1)/dSe,10),this.current_=this.count-1;const i=(o=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Ew=function(n,e,t,r){n.sort(e);const i=function(c,l){const u=l-c;let d,h;if(0===u)return null;if(1===u)return d=n[c],h=t?t(d):d,new Bo(h,d.node,Bo.BLACK,null,null);{const f=parseInt(u/2,10)+c,y=i(c,f),E=i(f+1,l);return d=n[f],h=t?t(d):d,new Bo(h,d.node,Bo.BLACK,y,E)}},a=function(c){let l=null,u=null,d=n.length;const h=function(y,E){const I=d-y,k=d;d-=y;const M=i(I+1,k),V=n[I],K=t?t(V):V;f(new Bo(K,V.node,E,null,M))},f=function(y){l?(l.left=y,l=y):(u=y,l=y)};for(let y=0;y<c.count;++y){const E=c.nextBitIsOne(),I=Math.pow(2,c.count-(y+1));E?h(I,Bo.BLACK):(h(I,Bo.BLACK),h(I,Bo.RED))}return u}(new hSe(n.length));return new Ni(r||e,a)};let HR;const Nh={};class pa{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return se(Nh&&rn,"ChildrenNode.ts has not been loaded"),HR=HR||new pa({".priority":Nh},{".priority":rn}),HR}get(e){const t=Fd(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Ni?t:null}hasIndex(e){return hs(this.indexSet_,e.toString())}addIndex(e,t){se(e!==Ds,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const o=t.getIterator(rt.Wrap);let a,s=o.getNext();for(;s;)i=i||e.isDefinedOn(s.node),r.push(s),s=o.getNext();a=i?Ew(r,e.getCompare()):Nh;const c=e.toString(),l=Object.assign({},this.indexSet_);l[c]=e;const u=Object.assign({},this.indexes_);return u[c]=a,new pa(u,l)}addToIndexes(e,t){const r=a0(this.indexes_,(i,o)=>{const s=Fd(this.indexSet_,o);if(se(s,"Missing index implementation for "+o),i===Nh){if(s.isDefinedOn(e.node)){const a=[],c=t.getIterator(rt.Wrap);let l=c.getNext();for(;l;)l.name!==e.name&&a.push(l),l=c.getNext();return a.push(e),Ew(a,s.getCompare())}return Nh}{const a=t.get(e.name);let c=i;return a&&(c=c.remove(new rt(e.name,a))),c.insert(e,e.node)}});return new pa(r,this.indexSet_)}removeFromIndexes(e,t){const r=a0(this.indexes_,i=>{if(i===Nh)return i;{const o=t.get(e.name);return o?i.remove(new rt(e.name,o)):i}});return new pa(r,this.indexSet_)}}let Om,qe=(()=>{class n{constructor(t,r,i){this.children_=t,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&vK(this.priorityNode_),this.children_.isEmpty()&&se(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Om||(Om=new n(new Ni(zR),null,pa.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Om}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const r=this.children_.get(t);return null===r?Om:r}}getChild(t){const r=Ze(t);return null===r?this:this.getImmediateChild(r).getChild($t(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,r){if(se(r,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(r);{const i=new rt(t,r);let o,s;r.isEmpty()?(o=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(t,r),s=this.indexMap_.addToIndexes(i,this.children_));const a=o.isEmpty()?Om:this.priorityNode_;return new n(o,a,s)}}updateChild(t,r){const i=Ze(t);if(null===i)return r;{se(".priority"!==Ze(t)||1===yc(t),".priority must be the last token in a path");const o=this.getImmediateChild(i).updateChild($t(t),r);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const r={};let i=0,o=0,s=!0;if(this.forEachChild(rn,(a,c)=>{r[a]=c.val(t),i++,s&&n.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!t&&s&&o<2*i){const a=[];for(const c in r)a[c]=r[c];return a}return t&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+yK(this.getPriority().val())+":"),this.forEachChild(rn,(r,i)=>{const o=i.hash();""!==o&&(t+=":"+r+":"+o)}),this.lazyHash_=""===t?"":PW(t)}return this.lazyHash_}getPredecessorChildName(t,r,i){const o=this.resolveIndex_(i);if(o){const s=o.getPredecessorKey(new rt(t,r));return s?s.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(t){const r=this.getFirstChildName(t);return r?new rt(r,this.children_.get(r)):null}getLastChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(t){const r=this.getLastChildName(t);return r?new rt(r,this.children_.get(r)):null}forEachChild(t,r){const i=this.resolveIndex_(t);return i?i.inorderTraversal(o=>r(o.name,o.node)):this.children_.inorderTraversal(r)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(t,o=>o);{const o=this.children_.getIteratorFrom(t.name,rt.Wrap);let s=o.peek();for(;null!=s&&r.compare(s,t)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(t,o=>o);{const o=this.children_.getReverseIteratorFrom(t.name,rt.Wrap);let s=o.peek();for(;null!=s&&r.compare(s,t)>0;)o.getNext(),s=o.peek();return o}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Pm?-1:0}withIndex(t){if(t===Ds||this.indexMap_.hasIndex(t))return this;{const r=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,r)}}isIndexed(t){return t===Ds||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const r=t;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(rn),o=r.getIterator(rn);let s=i.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=i.getNext(),a=o.getNext()}return null===s&&null===a}return!1}return!1}}resolveIndex_(t){return t===Ds?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const Pm=new class fSe extends qe{constructor(){super(new Ni(zR),qe.EMPTY_NODE,pa.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return qe.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(rt,{MIN:{value:new rt(mc,qe.EMPTY_NODE)},MAX:{value:new rt(fa,Pm)}}),_K.__EMPTY_NODE=qe.EMPTY_NODE,Rh.__childrenNodeConstructor=qe,function aSe(n){$R=n}(Pm),function lSe(n){CK=n}(Pm);const pSe=!0;function In(n,e=null){if(null===n)return qe.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),se(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Rh(n,In(e));if(n instanceof Array||!pSe){let t=qe.EMPTY_NODE;return Sr(n,(r,i)=>{if(hs(n,r)&&"."!==r.substring(0,1)){const o=In(i);(o.isLeafNode()||!o.isEmpty())&&(t=t.updateImmediateChild(r,o))}}),t.updatePriority(In(e))}{const t=[];let r=!1;if(Sr(n,(s,a)=>{if("."!==s.substring(0,1)){const c=In(a);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),t.push(new rt(s,c)))}}),0===t.length)return qe.EMPTY_NODE;const o=Ew(t,sSe,s=>s.name,zR);if(r){const s=Ew(t,rn.getCompare());return new qe(o,In(e),new pa({".priority":s},{".priority":rn}))}return new qe(o,In(e),pa.Default)}}!function cSe(n){wK=n}(In);class GR extends bw{constructor(e){super(),this.indexPath_=e,se(!Je(e)&&".priority"!==Ze(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const r=this.extractChild(e.node),i=this.extractChild(t.node),o=r.compareTo(i);return 0===o?ql(e.name,t.name):o}makePost(e,t){const r=In(e),i=qe.EMPTY_NODE.updateChild(this.indexPath_,r);return new rt(t,i)}maxPost(){const e=qe.EMPTY_NODE.updateChild(this.indexPath_,Pm);return new rt(fa,e)}toString(){return Am(this.indexPath_,0).join("/")}}const qR=new class gSe extends bw{compare(e,t){const r=e.node.compareTo(t.node);return 0===r?ql(e.name,t.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return rt.MIN}maxPost(){return rt.MAX}makePost(e,t){const r=In(e);return new rt(t,r)}toString(){return".value"}};function Nm(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class KR{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=rn}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return se(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return se(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:mc}hasEnd(){return this.endSet_}getIndexEndValue(){return se(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return se(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:fa}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return se(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===rn}copy(){const e=new KR;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function xK(n){const e={};if(n.isDefault())return e;let t;if(n.index_===rn?t="$priority":n.index_===qR?t="$value":n.index_===Ds?t="$key":(se(n.index_ instanceof GR,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=Nr(t),n.startSet_){const r=n.startAfterSet_?"startAfter":"startAt";e[r]=Nr(n.indexStartValue_),n.startNameSet_&&(e[r]+=","+Nr(n.indexStartName_))}if(n.endSet_){const r=n.endBeforeSet_?"endBefore":"endAt";e[r]=Nr(n.indexEndValue_),n.endNameSet_&&(e[r]+=","+Nr(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function IK(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==rn&&(e.i=n.index_.toString()),e}class Iw extends lK{constructor(e,t,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Tm("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(se(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,r,i){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const s=Iw.getListenId_(e,r),a={};this.listens_[s]=a;const c=xK(e._queryParams);this.restRequest_(o+".json",c,(l,u)=>{let d=u;if(404===l&&(d=null,l=null),null===l&&this.onDataUpdate_(o,d,!1,r),Fd(this.listens_,s)===a){let h;h=l?401===l?"permission_denied":"rest_error:"+l:"ok",i(h,null)}})}unlisten(e,t){const r=Iw.getListenId_(e,t);delete this.listens_[r]}get(e){const t=xK(e._queryParams),r=e._path.toString(),i=new Nd;return this.restRequest_(r+".json",t,(o,s)=>{let a=s;404===o&&(a=null,o=null),null===o?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,t={},r){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(t.auth=i.accessToken),o&&o.token&&(t.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Ld(t);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&4===a.readyState){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=Vp(a.responseText)}catch{oi("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,c)}else 401!==a.status&&404!==a.status&&oi("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}}class ESe{constructor(){this.rootNode_=qe.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function Tw(){return{value:null,children:new Map}}function Lh(n,e,t){if(Je(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const r=Ze(e);n.children.has(r)||n.children.set(r,Tw()),Lh(n.children.get(r),e=$t(e),t)}}function ZR(n,e,t){null!==n.value?t(e,n.value):function xSe(n,e){n.children.forEach((t,r)=>{e(r,t)})}(n,(r,i)=>{ZR(i,new At(e.toString()+"/"+r),t)})}class ISe{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Sr(this.last_,(r,i)=>{t[r]=t[r]-i}),this.last_=e,t}}class MSe{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new ISe(e);const r=1e4+2e4*Math.random();Mm(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),t={};let r=!1;Sr(e,(i,o)=>{o>0&&hs(this.statsToReport_,i)&&(t[i]=o,r=!0)}),r&&this.server_.reportStats(t),Mm(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Ms=function(n){return n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",n}(Ms||{});function tN(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class Dw{constructor(e,t,r){this.path=e,this.affectedTree=t,this.revert=r,this.type=Ms.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(Je(this.path)){if(null!=this.affectedTree.value)return se(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new At(e));return new Dw(xt(),t,this.revert)}}return se(Ze(this.path)===e,"operationForChild called for unrelated child."),new Dw($t(this.path),this.affectedTree,this.revert)}}class Ql{constructor(e,t,r){this.source=e,this.path=t,this.snap=r,this.type=Ms.OVERWRITE}operationForChild(e){return Je(this.path)?new Ql(this.source,xt(),this.snap.getImmediateChild(e)):new Ql(this.source,$t(this.path),this.snap)}}class Vh{constructor(e,t,r){this.source=e,this.path=t,this.children=r,this.type=Ms.MERGE}operationForChild(e){if(Je(this.path)){const t=this.children.subtree(new At(e));return t.isEmpty()?null:t.value?new Ql(this.source,xt(),t.value):new Vh(this.source,xt(),t)}return se(Ze(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Vh(this.source,$t(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class vc{constructor(e,t,r){this.node_=e,this.fullyInitialized_=t,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Je(e))return this.isFullyInitialized()&&!this.filtered_;const t=Ze(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function Vm(n,e,t,r,i,o){const s=r.filter(a=>a.type===t);s.sort((a,c)=>function OSe(n,e,t){if(null==e.childName||null==t.childName)throw Rd("Should only compare child_ events.");const r=new rt(e.childName,e.snapshotNode),i=new rt(t.childName,t.snapshotNode);return n.index_.compare(r,i)}(n,a,c)),s.forEach(a=>{const c=function kSe(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,a,o);i.forEach(l=>{l.respondsTo(a.type)&&e.push(l.createEvent(c,n.query_))})})}function Mw(n,e){return{eventCache:n,serverCache:e}}function Bm(n,e,t,r){return Mw(new vc(e,t,r),n.serverCache)}function DK(n,e,t,r){return Mw(n.eventCache,new vc(e,t,r))}function Sw(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Yl(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let nN;class on{constructor(e,t=(()=>(nN||(nN=new Ni(mMe)),nN))()){this.value=e,this.children=t}static fromObject(e){let t=new on(null);return Sr(e,(r,i)=>{t=t.set(new At(r),i)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:xt(),value:this.value};if(Je(e))return null;{const r=Ze(e),i=this.children.get(r);if(null!==i){const o=i.findRootMostMatchingPathAndValue($t(e),t);return null!=o?{path:_n(new At(r),o.path),value:o.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Je(e))return this;{const t=Ze(e),r=this.children.get(t);return null!==r?r.subtree($t(e)):new on(null)}}set(e,t){if(Je(e))return new on(t,this.children);{const r=Ze(e),o=(this.children.get(r)||new on(null)).set($t(e),t),s=this.children.insert(r,o);return new on(this.value,s)}}remove(e){if(Je(e))return this.children.isEmpty()?new on(null):new on(null,this.children);{const t=Ze(e),r=this.children.get(t);if(r){const i=r.remove($t(e));let o;return o=i.isEmpty()?this.children.remove(t):this.children.insert(t,i),null===this.value&&o.isEmpty()?new on(null):new on(this.value,o)}return this}}get(e){if(Je(e))return this.value;{const t=Ze(e),r=this.children.get(t);return r?r.get($t(e)):null}}setTree(e,t){if(Je(e))return t;{const r=Ze(e),o=(this.children.get(r)||new on(null)).setTree($t(e),t);let s;return s=o.isEmpty()?this.children.remove(r):this.children.insert(r,o),new on(this.value,s)}}fold(e){return this.fold_(xt(),e)}fold_(e,t){const r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(_n(e,i),t)}),t(e,this.value,r)}findOnPath(e,t){return this.findOnPath_(e,xt(),t)}findOnPath_(e,t,r){const i=!!this.value&&r(t,this.value);if(i)return i;if(Je(e))return null;{const o=Ze(e),s=this.children.get(o);return s?s.findOnPath_($t(e),_n(t,o),r):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,xt(),t)}foreachOnPath_(e,t,r){if(Je(e))return this;{this.value&&r(t,this.value);const i=Ze(e),o=this.children.get(i);return o?o.foreachOnPath_($t(e),_n(t,i),r):new on(null)}}foreach(e){this.foreach_(xt(),e)}foreach_(e,t){this.children.inorderTraversal((r,i)=>{i.foreach_(_n(e,r),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,r)=>{r.value&&e(t,r.value)})}}class Uo{constructor(e){this.writeTree_=e}static empty(){return new Uo(new on(null))}}function Um(n,e,t){if(Je(e))return new Uo(new on(t));{const r=n.writeTree_.findRootMostValueAndPath(e);if(null!=r){const i=r.path;let o=r.value;const s=wi(i,e);return o=o.updateChild(s,t),new Uo(n.writeTree_.set(i,o))}{const i=new on(t),o=n.writeTree_.setTree(e,i);return new Uo(o)}}}function rN(n,e,t){let r=n;return Sr(t,(i,o)=>{r=Um(r,_n(e,i),o)}),r}function MK(n,e){if(Je(e))return Uo.empty();{const t=n.writeTree_.setTree(e,new on(null));return new Uo(t)}}function iN(n,e){return null!=Xl(n,e)}function Xl(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(wi(t.path,e)):null}function SK(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(rn,(r,i)=>{e.push(new rt(r,i))}):n.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&e.push(new rt(r,i.value))}),e}function bc(n,e){if(Je(e))return n;{const t=Xl(n,e);return new Uo(null!=t?new on(t):n.writeTree_.subtree(e))}}function oN(n){return n.writeTree_.isEmpty()}function Bh(n,e){return AK(xt(),n.writeTree_,e)}function AK(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let r=null;return e.children.inorderTraversal((i,o)=>{".priority"===i?(se(null!==o.value,"Priority writes must always be leaf nodes"),r=o.value):t=AK(_n(n,i),o,t)}),!t.getChild(n).isEmpty()&&null!==r&&(t=t.updateChild(_n(n,".priority"),r)),t}}function Aw(n,e){return NK(e,n)}function VSe(n,e){if(n.snap)return go(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&go(_n(n.path,t),e))return!0;return!1}function USe(n){return n.visible}function kK(n,e,t){let r=Uo.empty();for(let i=0;i<n.length;++i){const o=n[i];if(e(o)){const s=o.path;let a;if(o.snap)go(t,s)?(a=wi(t,s),r=Um(r,a,o.snap)):go(s,t)&&(a=wi(s,t),r=Um(r,xt(),o.snap.getChild(a)));else{if(!o.children)throw Rd("WriteRecord should have .snap or .children");if(go(t,s))a=wi(t,s),r=rN(r,a,o.children);else if(go(s,t))if(a=wi(s,t),Je(a))r=rN(r,xt(),o.children);else{const c=Fd(o.children,Ze(a));if(c){const l=c.getChild($t(a));r=Um(r,xt(),l)}}}}}return r}function OK(n,e,t,r,i){if(r||i){const o=bc(n.visibleWrites,e);return!i&&oN(o)?t:i||null!=t||iN(o,xt())?Bh(kK(n.allWrites,function(l){return(l.visible||i)&&(!r||!~r.indexOf(l.writeId))&&(go(l.path,e)||go(e,l.path))},e),t||qe.EMPTY_NODE):null}{const o=Xl(n.visibleWrites,e);if(null!=o)return o;{const s=bc(n.visibleWrites,e);return oN(s)?t:null!=t||iN(s,xt())?Bh(s,t||qe.EMPTY_NODE):null}}}function kw(n,e,t,r){return OK(n.writeTree,n.treePath,e,t,r)}function sN(n,e){return function jSe(n,e,t){let r=qe.EMPTY_NODE;const i=Xl(n.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(rn,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(t){const o=bc(n.visibleWrites,e);return t.forEachChild(rn,(s,a)=>{const c=Bh(bc(o,new At(s)),a);r=r.updateImmediateChild(s,c)}),SK(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}return SK(bc(n.visibleWrites,e)).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}(n.writeTree,n.treePath,e)}function PK(n,e,t,r){return function zSe(n,e,t,r,i){se(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=_n(e,t);if(iN(n.visibleWrites,o))return null;{const s=bc(n.visibleWrites,o);return oN(s)?i.getChild(t):Bh(s,i.getChild(t))}}(n.writeTree,n.treePath,e,t,r)}function Ow(n,e){return function HSe(n,e){return Xl(n.visibleWrites,e)}(n.writeTree,_n(n.treePath,e))}function aN(n,e,t){return function $Se(n,e,t,r){const i=_n(e,t),o=Xl(n.visibleWrites,i);return null!=o?o:r.isCompleteForChild(t)?Bh(bc(n.visibleWrites,i),r.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function RK(n,e){return NK(_n(n.treePath,e),n.writeTree)}function NK(n,e){return{treePath:n,writeTree:e}}class KSe{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,r=e.childName;se("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),se(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const o=i.type;if("child_added"===t&&"child_removed"===o)this.changeMap.set(r,Nm(r,e.snapshotNode,i.snapshotNode));else if("child_removed"===t&&"child_added"===o)this.changeMap.delete(r);else if("child_removed"===t&&"child_changed"===o)this.changeMap.set(r,function Rm(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}(r,i.oldSnap));else if("child_changed"===t&&"child_added"===o)this.changeMap.set(r,function Fh(n,e){return{type:"child_added",snapshotNode:e,childName:n}}(r,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==o)throw Rd("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(r,Nm(r,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}const FK=new class QSe{getCompleteChild(e){return null}getChildAfterChild(e,t,r){return null}};class cN{constructor(e,t,r=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=r}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const r=null!=this.optCompleteServerCache_?new vc(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return aN(this.writes_,e,r)}}getChildAfterChild(e,t,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Yl(this.viewCache_),o=function WSe(n,e,t,r,i,o){return function GSe(n,e,t,r,i,o,s){let a;const c=bc(n.visibleWrites,e),l=Xl(c,xt());if(null!=l)a=l;else{if(null==t)return[];a=Bh(c,t)}if(a=a.withIndex(s),a.isEmpty()||a.isLeafNode())return[];{const u=[],d=s.getCompare(),h=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s);let f=h.getNext();for(;f&&u.length<i;)0!==d(f,r)&&u.push(f),f=h.getNext();return u}}(n.writeTree,n.treePath,e,t,r,i,o)}(this.writes_,i,t,1,r,e);return 0===o.length?null:o[0]}}function LK(n,e,t,r,i,o){const s=e.eventCache;if(null!=Ow(r,t))return e;{let a,c;if(Je(t))if(se(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const l=Yl(e),d=sN(r,l instanceof qe?l:qe.EMPTY_NODE);a=n.filter.updateFullNode(e.eventCache.getNode(),d,o)}else{const l=kw(r,Yl(e));a=n.filter.updateFullNode(e.eventCache.getNode(),l,o)}else{const l=Ze(t);if(".priority"===l){se(1===yc(t),"Can't have a priority with additional path components");const u=s.getNode();c=e.serverCache.getNode();const d=PK(r,t,u,c);a=null!=d?n.filter.updatePriority(u,d):s.getNode()}else{const u=$t(t);let d;if(s.isCompleteForChild(l)){c=e.serverCache.getNode();const h=PK(r,t,s.getNode(),c);d=null!=h?s.getNode().getImmediateChild(l).updateChild(u,h):s.getNode().getImmediateChild(l)}else d=aN(r,l,e.serverCache);a=null!=d?n.filter.updateChild(s.getNode(),l,d,u,i,o):s.getNode()}}return Bm(e,a,s.isFullyInitialized()||Je(t),n.filter.filtersNodes())}}function Pw(n,e,t,r,i,o,s,a){const c=e.serverCache;let l;const u=s?n.filter:n.filter.getIndexedFilter();if(Je(t))l=u.updateFullNode(c.getNode(),r,null);else if(u.filtersNodes()&&!c.isFiltered()){const f=c.getNode().updateChild(t,r);l=u.updateFullNode(c.getNode(),f,null)}else{const f=Ze(t);if(!c.isCompleteForPath(t)&&yc(t)>1)return e;const y=$t(t),I=c.getNode().getImmediateChild(f).updateChild(y,r);l=".priority"===f?u.updatePriority(c.getNode(),I):u.updateChild(c.getNode(),f,I,y,FK,null)}const d=DK(e,l,c.isFullyInitialized()||Je(t),u.filtersNodes());return LK(n,d,t,i,new cN(i,d,o),a)}function lN(n,e,t,r,i,o,s){const a=e.eventCache;let c,l;const u=new cN(i,e,o);if(Je(t))l=n.filter.updateFullNode(e.eventCache.getNode(),r,s),c=Bm(e,l,!0,n.filter.filtersNodes());else{const d=Ze(t);if(".priority"===d)l=n.filter.updatePriority(e.eventCache.getNode(),r),c=Bm(e,l,a.isFullyInitialized(),a.isFiltered());else{const h=$t(t),f=a.getNode().getImmediateChild(d);let y;if(Je(h))y=r;else{const E=u.getCompleteChild(d);y=null!=E?".priority"===BR(h)&&E.getChild(fK(h)).isEmpty()?E:E.updateChild(h,r):qe.EMPTY_NODE}c=f.equals(y)?e:Bm(e,n.filter.updateChild(a.getNode(),d,y,h,u,s),a.isFullyInitialized(),n.filter.filtersNodes())}}return c}function VK(n,e){return n.eventCache.isCompleteForChild(e)}function BK(n,e,t){return t.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function uN(n,e,t,r,i,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l,c=e;l=Je(t)?r:new on(null).setTree(t,r);const u=e.serverCache.getNode();return l.children.inorderTraversal((d,h)=>{if(u.hasChild(d)){const y=BK(0,e.serverCache.getNode().getImmediateChild(d),h);c=Pw(n,c,new At(d),y,i,o,s,a)}}),l.children.inorderTraversal((d,h)=>{const f=!e.serverCache.isCompleteForChild(d)&&null===h.value;if(!u.hasChild(d)&&!f){const E=BK(0,e.serverCache.getNode().getImmediateChild(d),h);c=Pw(n,c,new At(d),E,i,o,s,a)}}),c}function aAe(n,e){const t=Yl(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!Je(e)&&!t.getImmediateChild(Ze(e)).isEmpty())?t.getChild(e):null}function zK(n,e,t,r){e.type===Ms.MERGE&&null!==e.source.queryId&&(se(Yl(n.viewCache_),"We should always have a full cache before handling merges"),se(Sw(n.viewCache_),"Missing event cache, even though we have a server cache"));const i=n.viewCache_,o=function ZSe(n,e,t,r,i){const o=new KSe;let s,a;if(t.type===Ms.OVERWRITE){const l=t;l.source.fromUser?s=lN(n,e,l.path,l.snap,r,i,o):(se(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered()&&!Je(l.path),s=Pw(n,e,l.path,l.snap,r,i,a,o))}else if(t.type===Ms.MERGE){const l=t;l.source.fromUser?s=function eAe(n,e,t,r,i,o,s){let a=e;return r.foreach((c,l)=>{const u=_n(t,c);VK(e,Ze(u))&&(a=lN(n,a,u,l,i,o,s))}),r.foreach((c,l)=>{const u=_n(t,c);VK(e,Ze(u))||(a=lN(n,a,u,l,i,o,s))}),a}(n,e,l.path,l.children,r,i,o):(se(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered(),s=uN(n,e,l.path,l.children,r,i,a,o))}else if(t.type===Ms.ACK_USER_WRITE){const l=t;s=l.revert?function rAe(n,e,t,r,i,o){let s;if(null!=Ow(r,t))return e;{const a=new cN(r,e,i),c=e.eventCache.getNode();let l;if(Je(t)||".priority"===Ze(t)){let u;if(e.serverCache.isFullyInitialized())u=kw(r,Yl(e));else{const d=e.serverCache.getNode();se(d instanceof qe,"serverChildren would be complete if leaf node"),u=sN(r,d)}l=n.filter.updateFullNode(c,u,o)}else{const u=Ze(t);let d=aN(r,u,e.serverCache);null==d&&e.serverCache.isCompleteForChild(u)&&(d=c.getImmediateChild(u)),l=null!=d?n.filter.updateChild(c,u,d,$t(t),a,o):e.eventCache.getNode().hasChild(u)?n.filter.updateChild(c,u,qe.EMPTY_NODE,$t(t),a,o):c,l.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=kw(r,Yl(e)),s.isLeafNode()&&(l=n.filter.updateFullNode(l,s,o)))}return s=e.serverCache.isFullyInitialized()||null!=Ow(r,xt()),Bm(e,l,s,n.filter.filtersNodes())}}(n,e,l.path,r,i,o):function tAe(n,e,t,r,i,o,s){if(null!=Ow(i,t))return e;const a=e.serverCache.isFiltered(),c=e.serverCache;if(null!=r.value){if(Je(t)&&c.isFullyInitialized()||c.isCompleteForPath(t))return Pw(n,e,t,c.getNode().getChild(t),i,o,a,s);if(Je(t)){let l=new on(null);return c.getNode().forEachChild(Ds,(u,d)=>{l=l.set(new At(u),d)}),uN(n,e,t,l,i,o,a,s)}return e}{let l=new on(null);return r.foreach((u,d)=>{const h=_n(t,u);c.isCompleteForPath(h)&&(l=l.set(u,c.getNode().getChild(h)))}),uN(n,e,t,l,i,o,a,s)}}(n,e,l.path,l.affectedTree,r,i,o)}else{if(t.type!==Ms.LISTEN_COMPLETE)throw Rd("Unknown operation type: "+t.type);s=function nAe(n,e,t,r,i){const o=e.serverCache;return LK(n,DK(e,o.getNode(),o.isFullyInitialized()||Je(t),o.isFiltered()),t,r,FK,i)}(n,e,t.path,r,o)}const c=o.getChanges();return function JSe(n,e,t){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Sw(n);(t.length>0||!n.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&t.push(function EK(n){return{type:"value",snapshotNode:n}}(Sw(e)))}}(e,s,c),{viewCache:s,changes:c}}(n.processor_,i,e,t,r);return function XSe(n,e){se(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),se(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,o.viewCache),se(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=o.viewCache,function $K(n,e,t,r){return function ASe(n,e,t,r){const i=[],o=[];return e.forEach(s=>{"child_changed"===s.type&&n.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(function mSe(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(s.childName,s.snapshotNode))}),Vm(n,i,"child_removed",e,r,t),Vm(n,i,"child_added",e,r,t),Vm(n,i,"child_moved",o,r,t),Vm(n,i,"child_changed",e,r,t),Vm(n,i,"value",e,r,t),i}(n.eventGenerator_,e,t,r?[r]:n.eventRegistrations_)}(n,o.changes,o.viewCache.eventCache.getNode(),null)}let Rw,Fw;function dN(n,e,t,r){const i=e.source.queryId;if(null!==i){const o=n.views.get(i);return se(null!=o,"SyncTree gave us an op for an invalid query."),zK(o,e,t,r)}{let o=[];for(const s of n.views.values())o=o.concat(zK(s,e,t,r));return o}}function wc(n,e){let t=null;for(const r of n.views.values())t=t||aAe(r,e);return t}class QK{constructor(e){this.listenProvider_=e,this.syncPointTree_=new on(null),this.pendingWriteTree_=function qSe(){return{visibleWrites:Uo.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function hN(n,e,t,r,i){return function RSe(n,e,t,r,i){se(r>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),n.allWrites.push({path:e,snap:t,writeId:r,visible:i}),i&&(n.visibleWrites=Um(n.visibleWrites,e,t)),n.lastWriteId=r}(n.pendingWriteTree_,e,t,r,i),i?Uh(n,new Ql({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function Ec(n,e,t=!1){const r=function FSe(n,e){for(let t=0;t<n.allWrites.length;t++){const r=n.allWrites[t];if(r.writeId===e)return r}return null}(n.pendingWriteTree_,e);if(function LSe(n,e){const t=n.allWrites.findIndex(a=>a.writeId===e);se(t>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[t];n.allWrites.splice(t,1);let i=r.visible,o=!1,s=n.allWrites.length-1;for(;i&&s>=0;){const a=n.allWrites[s];a.visible&&(s>=t&&VSe(a,r.path)?i=!1:go(r.path,a.path)&&(o=!0)),s--}return!!i&&(o?(function BSe(n){n.visibleWrites=kK(n.allWrites,USe,xt()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(r.snap?n.visibleWrites=MK(n.visibleWrites,r.path):Sr(r.children,c=>{n.visibleWrites=MK(n.visibleWrites,_n(r.path,c))}),!0))}(n.pendingWriteTree_,e)){let o=new on(null);return null!=r.snap?o=o.set(xt(),!0):Sr(r.children,s=>{o=o.set(new At(s),!0)}),Uh(n,new Dw(r.path,o,t))}return[]}function jm(n,e,t){return Uh(n,new Ql({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function Vw(n,e,t){const i=n.pendingWriteTree_,o=n.syncPointTree_.findOnPath(e,(s,a)=>{const l=wc(a,wi(s,e));if(l)return l});return OK(i,e,o,t,!0)}function Uh(n,e){return XK(e,n.syncPointTree_,null,Aw(n.pendingWriteTree_,xt()))}function XK(n,e,t,r){if(Je(n.path))return ZK(n,e,t,r);{const i=e.get(xt());null==t&&null!=i&&(t=wc(i,xt()));let o=[];const s=Ze(n.path),a=n.operationForChild(s),c=e.children.get(s);if(c&&a){const l=t?t.getImmediateChild(s):null,u=RK(r,s);o=o.concat(XK(a,c,l,u))}return i&&(o=o.concat(dN(i,n,r,t))),o}}function ZK(n,e,t,r){const i=e.get(xt());null==t&&null!=i&&(t=wc(i,xt()));let o=[];return e.children.inorderTraversal((s,a)=>{const c=t?t.getImmediateChild(s):null,l=RK(r,s),u=n.operationForChild(s);u&&(o=o.concat(ZK(u,a,c,l)))}),i&&(o=o.concat(dN(i,n,r,t))),o}function pN(n,e){return n.tagToQueryMap.get(e)}function gN(n){const e=n.indexOf("$");return se(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new At(n.substr(0,e))}}function mN(n,e,t){const r=n.syncPointTree_.get(e);return se(r,"Missing sync point for query tag that we're tracking"),dN(r,t,Aw(n.pendingWriteTree_,e),null)}class _N{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new _N(t)}node(){return this.node_}}class yN{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=_n(this.path_,e);return new yN(this.syncTree_,t)}node(){return Vw(this.syncTree_,this.path_)}}const MAe=function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n},eQ=function(n,e,t){return n&&"object"==typeof n?(se(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?SAe(n[".sv"],e,t):"object"==typeof n[".sv"]?AAe(n[".sv"],e):void se(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},SAe=function(n,e,t){if("timestamp"===n)return t.timestamp;se(!1,"Unexpected server value: "+n)},AAe=function(n,e,t){n.hasOwnProperty("increment")||se(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;"number"!=typeof r&&se(!1,"Unexpected increment value: "+r);const i=e.node();if(se(null!==i&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const s=i.getValue();return"number"!=typeof s?r:s+r},tQ=function(n,e,t,r){return bN(e,new yN(t,n),r)},vN=function(n,e,t){return bN(n,new _N(e),t)};function bN(n,e,t){const r=n.getPriority().val(),i=eQ(r,e.getImmediateChild(".priority"),t);let o;if(n.isLeafNode()){const s=n,a=eQ(s.getValue(),e,t);return a!==s.getValue()||i!==s.getPriority().val()?new Rh(a,In(i)):n}{const s=n;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new Rh(i))),s.forEachChild(rn,(a,c)=>{const l=bN(c,e.getImmediateChild(a),t);l!==c&&(o=o.updateImmediateChild(a,l))}),o}}class wN{constructor(e="",t=null,r={children:{},childCount:0}){this.name=e,this.parent=t,this.node=r}}function Uw(n,e){let t=e instanceof At?e:new At(e),r=n,i=Ze(t);for(;null!==i;){const o=Fd(r.node.children,i)||{children:{},childCount:0};r=new wN(i,r,o),t=$t(t),i=Ze(t)}return r}function Zl(n){return n.node.value}function CN(n,e){n.node.value=e,EN(n)}function nQ(n){return n.node.childCount>0}function jw(n,e){Sr(n.node.children,(t,r)=>{e(new wN(t,n,r))})}function rQ(n,e,t,r){t&&!r&&e(n),jw(n,i=>{rQ(i,e,!0,r)}),t&&r&&e(n)}function Hm(n){return new At(null===n.parent?n.name:Hm(n.parent)+"/"+n.name)}function EN(n){null!==n.parent&&function PAe(n,e,t){const r=function kAe(n){return void 0===Zl(n)&&!nQ(n)}(t),i=hs(n.node.children,e);r&&i?(delete n.node.children[e],n.node.childCount--,EN(n)):!r&&!i&&(n.node.children[e]=t.node,n.node.childCount++,EN(n))}(n.parent,n.name,n)}const RAe=/[\[\].#$\/\u0000-\u001F\u007F]/,NAe=/[\[\].#$\u0000-\u001F\u007F]/,xN=10485760,zw=function(n){return"string"==typeof n&&0!==n.length&&!RAe.test(n)},qm=function(n,e,t){const r=t instanceof At?new ZMe(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+Wl(r));if("function"==typeof e)throw new Error(n+"contains a function "+Wl(r)+" with contents = "+e.toString());if(mw(e))throw new Error(n+"contains "+e.toString()+" "+Wl(r));if("string"==typeof e&&e.length>xN/3&&l0(e)>xN)throw new Error(n+"contains a string greater than "+xN+" utf8 bytes "+Wl(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let i=!1,o=!1;if(Sr(e,(s,a)=>{if(".value"===s)i=!0;else if(".priority"!==s&&".sv"!==s&&(o=!0,!zw(s)))throw new Error(n+" contains an invalid key ("+s+") "+Wl(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function JMe(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=l0(e),pK(n)})(r,s),qm(n,a,r),function eSe(n){const e=n.parts_.pop();n.byteLength_-=l0(e),n.parts_.length>0&&(n.byteLength_-=1)}(r)}),i&&o)throw new Error(n+' contains ".value" child '+Wl(r)+" in addition to actual children.")}},sQ=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!zw(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),function(n){return"string"==typeof n&&0!==n.length&&!NAe.test(n)}(n)}(t))throw new Error(function jp(n,e){return`${n} failed: ${e} argument `}(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class BAe{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Yi(n,e,t){(function $w(n,e){let t=null;for(let r=0;r<e.length;r++){const i=e[r],o=i.getPath();null!==t&&!UR(o,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:o}),t.events.push(i)}t&&n.eventLists_.push(t)})(n,t),function cQ(n,e){n.recursionDepth_++;let t=!0;for(let r=0;r<n.eventLists_.length;r++){const i=n.eventLists_[r];i&&(e(i.path)?(UAe(n.eventLists_[r]),n.eventLists_[r]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}(n,r=>go(r,e)||go(e,r))}function UAe(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const r=t.getEventRunner();Gl&&Mr("event: "+t.toString()),Oh(r)}}}const jAe=25;class zAe{constructor(e,t,r,i){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new BAe,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Tw(),this.transactionQueueTree_=new wN,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function uQ(n){const t=n.infoData_.getNode(new At(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function Km(n){return MAe({timestamp:uQ(n)})}function dQ(n,e,t,r,i){n.dataUpdateCount++;const o=new At(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let s=[];if(i)if(r){const c=a0(t,l=>In(l));s=function CAe(n,e,t,r){const i=pN(n,r);if(i){const o=gN(i),s=o.path,a=o.queryId,c=wi(s,e),l=on.fromObject(t);return mN(n,s,new Vh(tN(a),c,l))}return[]}(n.serverSyncTree_,o,c,i)}else{const c=In(t);s=function YK(n,e,t,r){const i=pN(n,r);if(null!=i){const o=gN(i),s=o.path,a=o.queryId,c=wi(s,e);return mN(n,s,new Ql(tN(a),c,t))}return[]}(n.serverSyncTree_,o,c,i)}else if(r){const c=a0(t,l=>In(l));s=function vAe(n,e,t){const r=on.fromObject(t);return Uh(n,new Vh({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(n.serverSyncTree_,o,c)}else{const c=In(t);s=jm(n.serverSyncTree_,o,c)}let a=o;s.length>0&&(a=zh(n,o)),Yi(n.eventQueue_,a,s)}function hQ(n,e){DN(n,"connected",e),!1===e&&function WAe(n){jh(n,"onDisconnectEvents");const e=Km(n),t=Tw();ZR(n.onDisconnect_,xt(),(i,o)=>{const s=tQ(i,o,n.serverSyncTree_,e);Lh(t,i,s)});let r=[];ZR(t,xt(),(i,o)=>{r=r.concat(jm(n.serverSyncTree_,i,o));const s=function kN(n,e){const t=Hm(gQ(n,e)),r=Uw(n.transactionQueueTree_,e);return function OAe(n,e,t){let r=t?n:n.parent;for(;null!==r;){if(e(r))return!0;r=r.parent}}(r,i=>{ON(n,i)}),ON(n,r),rQ(r,i=>{ON(n,i)}),t}(n,i);zh(n,s)}),n.onDisconnect_=Tw(),Yi(n.eventQueue_,xt(),r)}(n)}function DN(n,e,t){const r=new At("/.info/"+e),i=In(t);n.infoData_.updateSnapshot(r,i);const o=jm(n.infoSyncTree_,r,i);Yi(n.eventQueue_,r,o)}function Hw(n){return n.nextWriteId_++}function jh(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),Mr(t,...e)}function AN(n,e,t){return Vw(n.serverSyncTree_,e,t)||qe.EMPTY_NODE}function Gw(n,e=n.transactionQueueTree_){if(e||qw(n,e),Zl(e)){const t=mQ(n,e);se(t.length>0,"Sending zero length transaction queue"),t.every(i=>0===i.status)&&function eke(n,e,t){const r=t.map(l=>l.currentWriteId),i=AN(n,e,r);let o=i;const s=i.hash();for(let l=0;l<t.length;l++){const u=t[l];se(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=wi(e,u.path);o=o.updateChild(d,u.currentOutputSnapshotRaw)}const a=o.val(!0),c=e;n.server_.put(c.toString(),a,l=>{jh(n,"transaction put response",{path:c.toString(),status:l});let u=[];if("ok"===l){const d=[];for(let h=0;h<t.length;h++)t[h].status=2,u=u.concat(Ec(n.serverSyncTree_,t[h].currentWriteId)),t[h].onComplete&&d.push(()=>t[h].onComplete(null,!0,t[h].currentOutputSnapshotResolved)),t[h].unwatcher();qw(n,Uw(n.transactionQueueTree_,e)),Gw(n,n.transactionQueueTree_),Yi(n.eventQueue_,e,u);for(let h=0;h<d.length;h++)Oh(d[h])}else{if("datastale"===l)for(let d=0;d<t.length;d++)t[d].status=3===t[d].status?4:0;else{oi("transaction at "+c.toString()+" failed: "+l);for(let d=0;d<t.length;d++)t[d].status=4,t[d].abortReason=l}zh(n,e)}},s)}(n,Hm(e),t)}else nQ(e)&&jw(e,t=>{Gw(n,t)})}function zh(n,e){const t=gQ(n,e),r=Hm(t);return function tke(n,e,t){if(0===e.length)return;const r=[];let i=[];const s=e.filter(a=>0===a.status).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const c=e[a],l=wi(t,c.path);let d,u=!1;if(se(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===c.status)u=!0,d=c.abortReason,i=i.concat(Ec(n.serverSyncTree_,c.currentWriteId,!0));else if(0===c.status)if(c.retryCount>=jAe)u=!0,d="maxretry",i=i.concat(Ec(n.serverSyncTree_,c.currentWriteId,!0));else{const h=AN(n,c.path,s);c.currentInputSnapshot=h;const f=e[a].update(h.val());if(void 0!==f){qm("transaction failed: Data returned ",f,c.path);let y=In(f);"object"==typeof f&&null!=f&&hs(f,".priority")||(y=y.updatePriority(h.getPriority()));const I=c.currentWriteId,k=Km(n),M=vN(y,h,k);c.currentOutputSnapshotRaw=y,c.currentOutputSnapshotResolved=M,c.currentWriteId=Hw(n),s.splice(s.indexOf(I),1),i=i.concat(hN(n.serverSyncTree_,c.path,M,c.currentWriteId,c.applyLocally)),i=i.concat(Ec(n.serverSyncTree_,I,!0))}else u=!0,d="nodata",i=i.concat(Ec(n.serverSyncTree_,c.currentWriteId,!0))}Yi(n.eventQueue_,t,i),i=[],u&&(e[a].status=2,setTimeout(e[a].unwatcher,Math.floor(0)),e[a].onComplete&&r.push("nodata"===d?()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot):()=>e[a].onComplete(new Error(d),!1,null)))}qw(n,n.transactionQueueTree_);for(let a=0;a<r.length;a++)Oh(r[a]);Gw(n,n.transactionQueueTree_)}(n,mQ(n,t),r),r}function gQ(n,e){let t,r=n.transactionQueueTree_;for(t=Ze(e);null!==t&&void 0===Zl(r);)r=Uw(r,t),t=Ze(e=$t(e));return r}function mQ(n,e){const t=[];return _Q(n,e,t),t.sort((r,i)=>r.order-i.order),t}function _Q(n,e,t){const r=Zl(e);if(r)for(let i=0;i<r.length;i++)t.push(r[i]);jw(e,i=>{_Q(n,i,t)})}function qw(n,e){const t=Zl(e);if(t){let r=0;for(let i=0;i<t.length;i++)2!==t[i].status&&(t[r]=t[i],r++);t.length=r,CN(e,t.length>0?t:void 0)}jw(e,r=>{qw(n,r)})}function ON(n,e){const t=Zl(e);if(t){const r=[];let i=[],o=-1;for(let s=0;s<t.length;s++)3===t[s].status||(1===t[s].status?(se(o===s-1,"All SENT items should be at beginning of queue."),o=s,t[s].status=3,t[s].abortReason="set"):(se(0===t[s].status,"Unexpected transaction status in abort"),t[s].unwatcher(),i=i.concat(Ec(n.serverSyncTree_,t[s].currentWriteId,!0)),t[s].onComplete&&r.push(t[s].onComplete.bind(null,new Error("set"),!1,null))));-1===o?CN(e,void 0):t.length=o+1,Yi(n.eventQueue_,Hm(e),i);for(let s=0;s<r.length;s++)Oh(r[s])}}const PN=function(n,e){const t=ike(n),r=t.namespace;return"firebase.com"===t.domain&&Ts(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==t.domain&&Ts("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&oi("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new PR(t.host,t.secure,r,"ws"===t.scheme||"wss"===t.scheme,e,"",r!==t.subdomain),path:new At(t.pathString)}},ike=function(n){let e="",t="",r="",i="",o="",s=!0,a="https",c=443;if("string"==typeof n){let l=n.indexOf("//");l>=0&&(a=n.substring(0,l-1),n=n.substring(l+2));let u=n.indexOf("/");-1===u&&(u=n.length);let d=n.indexOf("?");-1===d&&(d=n.length),e=n.substring(0,Math.min(u,d)),u<d&&(i=function nke(n){let e="";const t=n.split("/");for(let r=0;r<t.length;r++)if(t[r].length>0){let i=t[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}(n.substring(u,d)));const h=function rke(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const r=t.split("=");2===r.length?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):oi(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,d)));l=e.indexOf(":"),l>=0?(s="https"===a||"wss"===a,c=parseInt(e.substring(l+1),10)):l=e.length;const f=e.slice(0,l);if("localhost"===f.toLowerCase())t="localhost";else if(f.split(".").length<=2)t=f;else{const y=e.indexOf(".");r=e.substring(0,y).toLowerCase(),t=e.substring(y+1),o=r}"ns"in h&&(o=h.ns)}return{host:e,port:c,domain:t,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};class Xi{constructor(e,t,r,i){this._repo=e,this._path=t,this._queryParams=r,this._orderByCalled=i}get key(){return Je(this._path)?null:BR(this._path)}get ref(){return new jo(this._repo,this._path)}get _queryIdentifier(){const e=IK(this._queryParams),t=kR(e);return"{}"===t?"default":t}get _queryObject(){return IK(this._queryParams)}isEqual(e){if(!((e=zt(e))instanceof Xi))return!1;const t=this._repo===e._repo,r=UR(this._path,e._path);return t&&r&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function YMe(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}class jo extends Xi{constructor(e,t){super(e,t,new KR,!1)}get parent(){const e=fK(this._path);return null===e?null:new jo(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}(function uAe(n){se(!Rw,"__referenceConstructor has already been defined"),Rw=n})(jo),function gAe(n){se(!Fw,"__referenceConstructor has already been defined"),Fw=n}(jo);const NN={};class xke{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function $Ae(n,e,t){if(n.stats_=FR(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new Iw(n.repoInfo_,(r,i,o,s)=>{dQ(n,r,i,o,s)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>hQ(n,!0),0);else{if(typeof t<"u"&&null!==t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Nr(t)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new Kl(n.repoInfo_,e,(r,i,o,s)=>{dQ(n,r,i,o,s)},r=>{hQ(n,r)},r=>{!function HAe(n,e){Sr(e,(t,r)=>{DN(n,t,r)})}(n,r)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=function MMe(n,e){const t=n.toString();return NR[t]||(NR[t]=e()),NR[t]}(n.repoInfo_,()=>new MSe(n.stats_,n.server_)),n.infoData_=new ESe,n.infoSyncTree_=new QK({startListening:(r,i,o,s)=>{let a=[];const c=n.infoData_.getNode(r._path);return c.isEmpty()||(a=jm(n.infoSyncTree_,r._path,c),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),DN(n,"connected",!1),n.serverSyncTree_=new QK({startListening:(r,i,o,s)=>(n.server_.listen(r,o,i,(a,c)=>{const l=s(a,c);Yi(n.eventQueue_,r._path,l)}),[]),stopListening:(r,i)=>{n.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new jo(this._repo,xt())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function wke(n,e){const t=NN[e];(!t||t[n.key]!==n)&&Ts(`Database ${e}(${n.repoInfo_}) has already been deleted.`),function pQ(n){n.persistentConnection_&&n.persistentConnection_.interrupt("repo_interrupt")}(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Ts("Cannot call "+e+" on a deleted database.")}}function Ike(n=zp(),e){const t=Ha(n,"database").getImmediate({identifier:e});if(!t._instanceStarted){const r=UT("database");r&&function Tke(n,e,t,r={}){(n=zt(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Ts("Cannot call useEmulator() after instance has already been initialized.");const i=n._repoInternal;let o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Ts('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Sm(Sm.OWNER);else if(r.mockUserToken){const s="string"==typeof r.mockUserToken?r.mockUserToken:X6(r.mockUserToken,n.app.options.projectId);o=new Sm(s)}!function vke(n,e,t,r){n.repoInfo_=new PR(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),r&&(n.authTokenProvider_=r)}(i,e,t,o)}(t,...r)}return t}Kl.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},Kl.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function Dke(n){(function dMe(n){MR=n})(Ga),Fr(new vr("database",(e,{instanceIdentifier:t})=>function bke(n,e,t,r,i){let o=r||n.options.databaseURL;void 0===o&&(n.options.projectId||Ts("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Mr("Using default host for project ",n.options.projectId),o=`${n.options.projectId}-default-rtdb.firebaseio.com`);let c,l,s=PN(o,i),a=s.repoInfo;typeof process<"u"&&process.env&&(l=process.env.FIREBASE_DATABASE_EMULATOR_HOST),l?(c=!0,o=`http://${l}?ns=${a.namespace}`,s=PN(o,i),a=s.repoInfo):c=!s.repoInfo.secure;const u=i&&c?new Sm(Sm.OWNER):new IMe(n.name,n.options,e);sQ("Invalid Firebase Database URL",s),Je(s.path)||Ts("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function Cke(n,e,t,r){let i=NN[e.name];i||(i={},NN[e.name]=i);let o=i[n.toURLString()];return o&&Ts("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new zAe(n,!1,t,r),i[n.toURLString()]=o,o}(a,n,u,new xMe(n.name,t));return new xke(d,n)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),Vt(SW,"0.14.4",n),Vt(SW,"0.14.4","esm2017")}();class FN{constructor(e){return e}}const TQ="database",LN=new X("angularfire2.database-instances");function Oke(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new FN(r)}}const Pke={provide:class Ake{constructor(){return Kp(TQ)}},deps:[[new Yt,LN]]},Rke={provide:FN,useFactory:function kke(n,e){const t=Wp(TQ,n,e);return t&&new FN(t)},deps:[[new Yt,LN],Wa]};let Nke=(()=>{class n{constructor(){Vt("angularfire",Ud.full,"rtdb")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=et({providers:[Rke,Pke]}),n})();function Fke(n,...e){return{ngModule:Nke,providers:[{provide:LN,useFactory:Oke(n),multi:!0,deps:[De,Ut,Qp,Yp,[new Yt,H0],[new Yt,Jp],...e]}]}}const Lke=wr(Ike,!0),BN="functions";class zke{constructor(e,t,r){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then(i=>this.auth=i,()=>{}),this.messaging||t.get().then(i=>this.messaging=i,()=>{}),this.appCheck||r.get().then(i=>this.appCheck=i,()=>{})}getAuthToken(){var e=this;return _(function*(){if(e.auth)try{const t=yield e.auth.getToken();return t?.accessToken}catch{return}})()}getMessagingToken(){var e=this;return _(function*(){if(e.messaging&&"Notification"in self&&"granted"===Notification.permission)try{return yield e.messaging.getToken()}catch{return}})()}getAppCheckToken(e){var t=this;return _(function*(){if(t.appCheck){const r=e?yield t.appCheck.getLimitedUseToken():yield t.appCheck.getToken();return r.error?null:r.token}return null})()}getContext(e){var t=this;return _(function*(){return{authToken:yield t.getAuthToken(),messagingToken:yield t.getMessagingToken(),appCheckToken:yield t.getAppCheckToken(e)}})()}}const UN="us-central1";class Hke{constructor(e,t,r,i,o=UN,s){this.app=e,this.fetchImpl=s,this.emulatorOrigin=null,this.contextProvider=new zke(t,r,i),this.cancelAllRequests=new Promise(a=>{this.deleteService=()=>Promise.resolve(a())});try{const a=new URL(o);this.customDomain=a.origin,this.region=UN}catch{this.customDomain=null,this.region=o}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;return null!==this.emulatorOrigin?`${this.emulatorOrigin}/${t}/${this.region}/${e}`:null!==this.customDomain?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}}const AQ="@firebase/functions";function eOe(n=zp(),e=UN){const r=Ha(zt(n),BN).getImmediate({identifier:e}),i=UT("functions");return i&&function tOe(n,e,t){!function Gke(n,e,t){n.emulatorOrigin=`http://${e}:${t}`}(zt(n),e,t)}(r,...i),r}!function Jke(n,e){Fr(new vr(BN,(r,{instanceIdentifier:i})=>{const o=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),a=r.getProvider("messaging-internal"),c=r.getProvider("app-check-internal");return new Hke(o,s,a,c,i,n)},"PUBLIC").setMultipleInstances(!0)),Vt(AQ,"0.10.0",e),Vt(AQ,"0.10.0","esm2017")}(fetch.bind(self));class $N{constructor(e){return e}}const OQ="functions",HN=new X("angularfire2.functions-instances");function iOe(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new $N(r)}}const oOe={provide:class nOe{constructor(){return Kp(OQ)}},deps:[[new Yt,HN]]},sOe={provide:$N,useFactory:function rOe(n,e){const t=Wp(OQ,n,e);return t&&new $N(t)},deps:[[new Yt,HN],Wa]};let aOe=(()=>{class n{constructor(){Vt("angularfire",Ud.full,"fn")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ot({type:n}),n.\u0275inj=et({providers:[sOe,oOe]}),n})();function cOe(n,...e){return{ngModule:aOe,providers:[{provide:HN,useFactory:iOe(n),multi:!0,deps:[De,Ut,Qp,Yp,[new Yt,H0],[new Yt,Jp],...e]}]}}const lOe=wr(eOe,!0);function uOe(n,e){if(1&n){const t=yt();g(0,"tr")(1,"td"),w(2),p(),g(3,"td"),w(4),p(),g(5,"td",5),w(6),p(),g(7,"td"),w(8),p(),g(9,"td")(10,"button",8),Q("click",function(){const o=Re(t).$implicit;return Ne(Zt().Unidades(o.name))}),p(),g(11,"button",9),Q("click",function(){const o=Re(t).$implicit;return Ne(Zt().infoProject(o.name))}),p(),g(12,"button",10),Q("click",function(){const o=Re(t).$implicit;return Ne(Zt().editProyecto(o.name))}),p()()()}if(2&n){const t=e.$implicit;z(2),He(t.name),z(2),He(t.owner),z(2),He(t.integrantes),z(2),He(t.cliente)}}let dOe=(()=>{class n{constructor(t,r,i,o){this.router=t,this.route=r,this.auth=i,this.firestore=o,this.data=[],this.list=[],this.email="",this.MyQuery()}getData(){const t=_s();ia(t,i=>{i&&i.email&&(this.email=i.email)});const r=xe(this.firestore,"projects");pe(r).then(i=>{this.data=[...i.docs.map(o=>({...o.data(),id:o.id}))]})}updateData(t){const r=Ie(this.firestore,"projects",t);bi(r,{}).then(()=>{alert("Data updated"),this.getData()}).catch(i=>{alert(i.message)})}deleteData(t){const r=Ie(this.firestore,"projects",t);Fn(r).then(()=>{alert("Data Deleted"),this.getData()}).catch(i=>{alert(i.message)})}infoProject(t){this.router.navigate(["user/project-info/"+t])}newProject(){this.router.navigate(["user/project-new"])}EditProject(){this.router.navigate(["user/project-new"])}Unidades(t){this.router.navigate(["user/unidad-produccion/"+t])}Muestras(t){this.router.navigate(["user/muestras/"+t])}editProyecto(t){this.router.navigate(["user/project-edit/"+t])}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["user/projects"])}logOut(){Br(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}MyQuery(){var t=this;return _(function*(){const r=_s();let i;i="",console.log(r),ia(r,function(){var o=_(function*(s){if(s&&(console.log(s.email),s.email)){i=s.email;const a=dn(xe(t.firestore,"projects"),nn("owner","==",i));pe(a).then(c=>{t.data=[...c.docs.map(l=>({...l.data(),id:l.id}))]})}});return function(s){return o.apply(this,arguments)}}()),console.log("done")})()}static#e=this.\u0275fac=function(r){return new(r||n)(x(Me),x(ut),x(Ge),x(ct))};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-projects"]],decls:23,vars:1,consts:[[1,"center"],[1,"subTituloText"],[1,"scanbutton"],[1,"scantext",3,"click"],[1,"list"],[1,"integrantes"],[4,"ngFor","ngForOf"],["id","agregar",1,"boton",3,"click"],[1,"muestras",3,"click"],[1,"detalles",3,"click"],[1,"edit",3,"click"]],template:function(r,i){1&r&&(g(0,"p"),w(1,"projects works!"),p(),g(2,"div",0)(3,"h1",1),w(4,"Proyectos"),p(),g(5,"div",2)(6,"div",3),Q("click",function(){return i.Scan()}),w(7,"SCAN"),p()(),g(8,"div",4)(9,"table")(10,"tr")(11,"th"),w(12," Nombre "),p(),g(13,"th"),w(14," Due\xf1o "),p(),g(15,"th",5),w(16," Integrantes"),p(),g(17,"th"),w(18," Clientes "),p(),te(19,"th"),p(),Xn(20,uOe,13,4,"tr",6),p(),g(21,"button",7),Q("click",function(){return i.newProject()}),w(22," Agregar "),p()()()),2&r&&(z(20),dr("ngForOf",i.data))},dependencies:[uo],styles:[".center[_ngcontent-%COMP%]{display:block}.list[_ngcontent-%COMP%]{position:absolute;margin:10px;left:15%;top:38%}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{cursor:pointer;width:153px;height:36px;left:45%;top:30%;position:absolute;background:#4c9eff;border-radius:30px;box-shadow:2px 2px 5px #000}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:56px;letter-spacing:0;text-shadow:2px 2px 5px black;left:40%;top:20%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}@media only screen and (max-width: 768px){.list[_ngcontent-%COMP%]{position:absolute;margin:0;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.boton[_ngcontent-%COMP%]{position:absolute;left:80%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;text-shadow:2px 2px 5px black;left:30%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}.scanbutton[_ngcontent-%COMP%]{cursor:pointer;width:153px;height:36px;left:30%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}}@media only screen and (min-width: 1536px){.center[_ngcontent-%COMP%]{display:block;width:1200px;position:absolute;left:50%;top:50%;transform:translate(-50%,-60%)}.scanbutton[_ngcontent-%COMP%]{position:relative;width:153px;height:36px;left:49%;top:22%;position:absolute;background:#4c9eff;border-radius:30px;box-shadow:2px 2px 5px #000}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:relative;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:relative;margin:0;width:400px;height:64px;font-family:Verdana;font-size:56px;letter-spacing:0;text-shadow:2px 2px 5px black;left:500px;top:0%}.list[_ngcontent-%COMP%]{position:relative;width:1000px;margin:10px;left:200px;top:100px}}"]})}return n})();function hOe(n,e){if(1&n){const t=yt();g(0,"tr")(1,"td"),w(2),p(),g(3,"td"),w(4),p(),g(5,"td"),w(6),p(),g(7,"td"),w(8),p(),g(9,"td")(10,"button",8),Q("click",function(){const o=Re(t).$implicit;return Ne(Zt().infoMuestra(o.codigo))}),p(),g(11,"button",9),Q("click",function(){const o=Re(t).$implicit;return Ne(Zt().editMuestra(o.codigo))}),p(),g(12,"button",10),Q("click",function(){const o=Re(t).$implicit;return Ne(Zt().Barcode(o.codigo))}),p()()()}if(2&n){const t=e.$implicit;z(2),He(t.codigo),z(2),He(t.fecha),z(2),He(t.cultivo),z(2),He(t.coordenadas)}}let fOe=(()=>{class n{constructor(t,r,i,o,s){this.router=t,this.route=r,this.auth=i,this.firestore=o,this.location=s,this.data=[]}ngOnInit(){this.route.params.subscribe(t=>{this.item=t.id,this.up=t.up,console.log(t),console.log(t.id)}),this.MyQuery()}getData(){const t=xe(this.firestore,"muestras");pe(t).then(r=>{this.data=[...r.docs.map(i=>({...i.data(),id:i.id}))]})}updateData(t){const r=Ie(this.firestore,"muestras",t);bi(r,{}).then(()=>{alert("Data updated"),this.getData()}).catch(i=>{alert(i.message)})}deleteData(t){const r=Ie(this.firestore,"muestras",t);Fn(r).then(()=>{alert("Data Deleted"),this.getData()}).catch(i=>{alert(i.message)})}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["user/projects"])}logOut(){Br(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}newMuestra(t){this.router.navigate(["user/muestras-new/"+t])}editMuestra(t){this.router.navigate(["user/muestras-edit/"+t])}infoUnidad(t){this.router.navigate(["user/unidad-produccion-info/"+t])}infoMuestra(t){this.router.navigate(["user/muestras-info/"+t])}Barcode(t){this.router.navigate(["user/barcode/"+t])}backPage(){this.location.back()}MyQuery(){var t=this;return _(function*(){let r=t.item;t.pid=r;let i=t.up;console.log(r);const o=dn(xe(t.firestore,"muestras"),nn("project","==",r),nn("unidad","==",i));pe(o).then(a=>{t.data=[...a.docs.map(c=>({...c.data(),id:c.id}))]}),(yield pe(o)).forEach(a=>{console.log(a.id," => ",a.data())})})()}static#e=this.\u0275fac=function(r){return new(r||n)(x(Me),x(ut),x(Ge),x(ct),x(_r))};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-muestras"]],decls:25,vars:1,consts:[[1,"subTituloText"],[1,"scanbutton"],[1,"scantext",3,"click"],[1,"list"],[1,"projectBlock",3,"click"],[4,"ngFor","ngForOf"],["id","agregar",1,"boton",3,"click"],["id","volver",1,"boton",3,"click"],[1,"detalles",3,"click"],[1,"edit",3,"click"],[1,"imprimir",3,"click"]],template:function(r,i){1&r&&(g(0,"p"),w(1,"muestras works!"),p(),g(2,"h1",0),w(3,"Muestras"),p(),g(4,"div",1)(5,"div",2),Q("click",function(){return i.Scan()}),w(6,"SCAN"),p()(),g(7,"div",3)(8,"div",4),Q("click",function(){return i.infoUnidad(i.up)}),w(9,"Unidad de Produccion"),p(),g(10,"table")(11,"tr")(12,"th"),w(13," Codigo "),p(),g(14,"th"),w(15," Fecha "),p(),g(16,"th"),w(17," Cultivo"),p(),g(18,"th"),w(19," Coordenadas "),p(),te(20,"th"),p(),Xn(21,hOe,13,4,"tr",5),p(),g(22,"button",6),Q("click",function(){return i.newMuestra(i.pid)}),w(23," Agregar "),p(),g(24,"button",7),Q("click",function(){return i.backPage()}),p()()),2&r&&(z(21),dr("ngForOf",i.data))},dependencies:[uo],styles:[".list[_ngcontent-%COMP%]{position:absolute;left:38%;top:38%}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.projectBlock[_ngcontent-%COMP%]{width:60%;height:35px;background:#3ec28f;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:20px;font-weight:700;letter-spacing:0;cursor:pointer}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{cursor:pointer;width:153px;height:36px;left:49%;top:30%;position:absolute;background:#4c9eff;border-radius:30px;box-shadow:2px 2px 5px #000}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}#volver[_ngcontent-%COMP%]{position:absolute;left:0%;border:none;width:50px;height:50px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(back-button-Edit4.8567daeed3ab1418.png)}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;text-shadow:2px 2px 5px black;left:45%;top:20%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.projectBlock[_ngcontent-%COMP%]{width:60%;height:25px;background:#3ec28f;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:14px;font-weight:700;letter-spacing:0;cursor:pointer}.list[_ngcontent-%COMP%]{position:absolute;left:5%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:153px;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:80%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}#volver[_ngcontent-%COMP%]{position:absolute;left:0%}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;left:30%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}return n})(),pOe=(()=>{class n{constructor(t,r,i,o,s){this.router=t,this.route=r,this.auth=i,this.firestore=o,this.location=s,this.data=[],this.num=1}ngOnInit(){let t;this.route.params.subscribe(r=>{this.item=r.id,t=r.id,this.generateBarcode(t)})}handleRegister(t){console.log(t.cantidad),this.toPrint(t.cantidad)}generateBarcode(t){var i=t;this.res=i,xm("#barcode",i,{format:"CODE128"})}generateSVG(t,r){for(let i=0;i<t;i++){const o=document.createElement("div"),s=document.createElement("svg");o.setAttribute("class","subcode"),s.setAttribute("id","barcode"+i),document.getElementById("codes")?.appendChild(s)}}toPrint(t){this.router.navigate(["/print/"+this.res+"/"+t])}sleep(t){return _(function*(){return new Promise(r=>setTimeout(r,t))})()}backPage(){this.location.back()}static#e=this.\u0275fac=function(r){return new(r||n)(x(Me),x(ut),x(Ge),x(ct),x(_r))};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-barcode"]],decls:13,vars:1,consts:[["id","barcode"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],["name","cantidad","ngModel","","placeholder","N\xb0","id","cantidad","type","number","min","1","max","5",1,"input-field",3,"ngModel","ngModelChange"],[1,"print"],["id","volver",3,"click"]],template:function(r,i){if(1&r){const o=yt();g(0,"p"),w(1,"barcode works!"),p(),T_(),te(2,"svg",0),cE(),g(3,"form",1,2),Q("ngSubmit",function(){Re(o);const a=Cn(4);return Ne(i.handleRegister(a.value))}),g(5,"div",3)(6,"div",4)(7,"span",5),w(8,"Cantidad: "),p(),g(9,"input",6),nt("ngModelChange",function(a){return at(i.num,a)||(i.num=a),a}),p()(),g(10,"button",7),w(11,"Imprimir"),p()()(),g(12,"button",8),Q("click",function(){return i.backPage()}),p()}2&r&&(z(9),tt("ngModel",i.num))},dependencies:[er,Zr,eT,Si,Jn,aT,sT,gi,Mn],styles:[".main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:40%;top:50%}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:56px;letter-spacing:0;text-shadow:2px 2px 5px black;left:45%;top:20%}.input-fields[_ngcontent-%COMP%]{position:inherit;width:180px;top:25px}.Text[_ngcontent-%COMP%]{display:inline;font-family:Arial;text-align:center;font-size:24px;font-weight:700}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{height:20px;width:40px;font-size:16px}.print[_ngcontent-%COMP%]{position:inherit;left:200px}svg[_ngcontent-%COMP%]{position:absolute;left:44%;top:32%}button[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:24px;font-weight:700;cursor:pointer;border-radius:30px}#volver[_ngcontent-%COMP%]{font-size:16px;position:absolute;left:35%;top:20%;border:none;width:50px;height:50px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(back-button-Edit4.8567daeed3ab1418.png)}#barcode[_ngcontent-%COMP%]{display:inline;border:2px solid rgb(0,0,0);box-shadow:2px 2px 5px #000}@media only screen and (max-width: 768px){.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:60%;height:20%;left:36%;top:60%}.input-fields[_ngcontent-%COMP%]{position:inherit;width:130px;top:25px}.Text[_ngcontent-%COMP%]{display:inline;font-family:Arial;text-align:center;font-size:20px}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{height:20px;width:20px;font-size:16px}.print[_ngcontent-%COMP%]{position:absolute;left:33%;top:45%;font-size:16px}#test[_ngcontent-%COMP%]{position:absolute;left:30%;top:60%;display:none}#codes[_ngcontent-%COMP%]{position:absolute;left:30%;top:35%}svg[_ngcontent-%COMP%]{position:absolute;left:25%;top:30%;margin:15px 0}.space[_ngcontent-%COMP%]{height:200px}#barcode[_ngcontent-%COMP%]{display:inline;border:2px solid rgb(0,0,0);box-shadow:2px 2px 5px #000}button[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:20px;font-weight:700;cursor:pointer;border-radius:30px}#volver[_ngcontent-%COMP%]{font-size:16px;position:absolute;left:28%;top:70%;border:none;width:36px;height:36px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(back-button-Edit4.8567daeed3ab1418.png)}}"]})}return n})();const gOe=["div"];let mOe=(()=>{class n{constructor(t,r,i){this.auth=t,this.firestore=r,this.renderer=i,this.title="gestion-de-muestras-de-campo",this.data=[],this.getData(),this.index=1}randomCode(){let t="";for(let o=0;o<20;o++)t+="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".charAt(Math.floor(62*Math.random()));return t}handleRegister(t){this.addData(t)}addData(t){var r=this;return _(function*(){r.randomCode();let s=t.integrantes.split(/[\s,]+/);const a=Ie(r.firestore,"projects",t.name);vi(a,{name:t.name,cliente:t.cliente,owner:t.owner,integrantes:s}).then(()=>{alert("Data Sent")}).catch(c=>{alert(c.message)})})()}getData(){const t=xe(this.firestore,"projects");pe(t).then(r=>{this.data=[...r.docs.map(i=>({...i.data(),id:i.id}))]})}static#e=this.\u0275fac=function(r){return new(r||n)(x(Ge),x(ct),x(Do))};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-project-new"]],viewQuery:function(r,i){if(1&r&&$n(gOe,5),2&r){let o;bn(o=wn())&&(i.div=o.first)}},decls:26,vars:0,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],["name","name","ngModel","","placeholder","Name","id","name","type","name",1,"input-field"],["name","owner","ngModel","","placeholder","Owner","id","owner","type","owner",1,"input-field"],["name","integrantes","ngModel","","placeholder","Integrantes","id","integrantes","type","integrantes",1,"input-field"],["name","cliente","ngModel","","placeholder","Cliente","id","cliente","type","cliente",1,"input-field"],[1,"boton"]],template:function(r,i){if(1&r){const o=yt();g(0,"p"),w(1,"project-new works!"),p(),g(2,"h1",0),w(3,"Nuevo Proyecto"),p(),g(4,"div",1)(5,"form",2,3),Q("ngSubmit",function(){Re(o);const a=Cn(6);return Ne(i.handleRegister(a.value))}),g(7,"div",4)(8,"div",5)(9,"span",6),w(10,"Name:"),p(),te(11,"input",7),p(),g(12,"div",5)(13,"span",6),w(14,"Owner:"),p(),te(15,"input",8),p(),g(16,"div",5)(17,"span",6),w(18,"Integrantes:"),p(),te(19,"input",9),p(),g(20,"div",5)(21,"span",6),w(22,"Cliente:"),p(),te(23,"input",10),p(),g(24,"button",11),w(25,"Crear Proyecto"),p()()()()}},dependencies:[er,Zr,Si,Jn,gi,Mn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:45%;flex-shrink:0;position:absolute;left:15%;top:30%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:3%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:85%;height:20px;left:92px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:35%;top:20%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:85%;top:110%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:85%;height:50%;flex-shrink:0;position:absolute;left:7%;top:30%}.input-field[_ngcontent-%COMP%]{margin:10px 10px 10px 20px;width:85%;height:20px;left:92px}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:20px;font-family:Arial;font-size:16px;letter-spacing:0}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:3%;top:3%}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:75%;top:110%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}@media only screen and (min-width: 1536px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:1000px;height:400px;flex-shrink:0;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}.boton[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(310px)}.subTituloText[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%)}}"]})}return n})();const _Oe=["geo"];let yOe=(()=>{class n{static#e=this.text="";constructor(t,r,i,o){this.router=t,this.route=r,this.auth=i,this.firestore=o,this.title="gestion-de-muestras-de-campo",this.data=[],this.res="",this.somethingChange=new Qe}ngOnInit(){this.route.params.subscribe(t=>{this.pid=t.id})}handleRegister(t){this.addData(t)}addData(t){const r=Ie(this.firestore,"muestras",t.codigo);vi(r,{codigo:t.codigo,cliente:t.cliente,fecha:t.fecha,cultivo:t.cultivo,tipo:t.tipo,fitopatogeno:t.fitopatogeno,repeticion:t.repeticion,coordenadas:t.coordenadas,sintomas:t.sintomas,comentarios:t.comentarios,project:this.pid}).then(()=>{alert("Data Sent")}).catch(i=>{alert(i.message)})}getData(){const t=xe(this.firestore,"muestras");pe(t).then(r=>{this.data=[...r.docs.map(i=>({...i.data(),id:i.id}))]})}showPosition(t){n.text=t.coords.latitude+", "+t.coords.longitude,console.log(n.text)}getLocation(){var t=this;return _(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{t.res=n.text,console.log(t.res)},1e3)})()}static#t=this.\u0275fac=function(r){return new(r||n)(x(Me),x(ut),x(Ge),x(ct))};static#n=this.\u0275cmp=Te({type:n,selectors:[["app-muestras-new"]],viewQuery:function(r,i){if(1&r&&$n(_Oe,5),2&r){let o;bn(o=wn())&&(i.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:69,vars:1,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],["name","codigo","ngModel","","placeholder","codigo","id","codigo","type","codigo",1,"input-field"],["name","cliente","ngModel","","placeholder","Cliente","id","cliente","type","cliente",1,"input-field"],["name","fecha","ngModel","","placeholder","Fecha","id","fecha","type","fecha",1,"input-field"],["name","cultivo","ngModel","","placeholder","Cultivo","id","cultivo","type","cultivo",1,"input-field"],["list","tipos","name","tipo","ngModel","","placeholder","Tipo","id","tipo","type","tipo",1,"input-field"],["id","tipos"],["value","Hibrido"],["value","Variedad"],["value","Clone"],["list","fitopatogenos","name","fitopatogeno","ngModel","","placeholder","Fitopatogeno","id","fitopatogeno","type","fitopatogeno",1,"input-field"],["id","fitopatogenos"],["value","Hongos"],["value","Bacterias"],["value","Virus"],["name","estado","ngModel","","placeholder","Estado","id","estado","type","estado",1,"input-field"],["name","lote","ngModel","","placeholder","Lote","id","lote","type","lote",1,"input-field"],["name","repeticion","ngModel","","placeholder","Repeticion","id","repeticion","type","repeticion",1,"input-field"],["name","coordenadas","ngModel","","placeholder","Coordenadas","id","coordenadas","type","coordenadas",1,"input-field",3,"ngModel","ngModelChange"],[1,"bUbicacion",3,"click"],["src","../../../../assets/Ubicacion.png","alt","U"],["name","sintomas","ngModel","","placeholder","Sintomas","id","sintomas","rows","4","cols","50"],["name","comentarios","ngModel","","placeholder","Comentarios","id","comentarios","rows","4","cols","50"],[1,"boton"]],template:function(r,i){if(1&r){const o=yt();g(0,"p"),w(1,"muestras-new works!"),p(),g(2,"h1",0),w(3,"Nueva Muestra"),p(),g(4,"div",1)(5,"form",2,3),Q("ngSubmit",function(){Re(o);const a=Cn(6);return Ne(i.handleRegister(a.value))}),g(7,"div",4)(8,"div",5)(9,"span",6),w(10,"Codigo:"),p(),te(11,"input",7),p(),g(12,"div",5)(13,"span",6),w(14,"Cliente:"),p(),te(15,"input",8),p(),g(16,"div",5)(17,"span",6),w(18,"Fecha:"),p(),te(19,"input",9),p(),g(20,"div",5)(21,"span",6),w(22,"Cultivo:"),p(),te(23,"input",10),p(),g(24,"div",5)(25,"span",6),w(26,"Tipo:"),p(),te(27,"input",11),g(28,"datalist",12),te(29,"option",13)(30,"option",14)(31,"option",15),p()(),g(32,"div",5)(33,"span",6),w(34,"Fitopat\xf3geno:"),p(),te(35,"input",16),g(36,"datalist",17),te(37,"option",18)(38,"option",19)(39,"option",20),p()(),g(40,"div",5)(41,"span",6),w(42,"Estado:"),p(),te(43,"input",21),p(),g(44,"div",5)(45,"span",6),w(46,"Lote:"),p(),te(47,"input",22),p(),g(48,"div",5)(49,"span",6),w(50,"Repetici\xf3n:"),p(),te(51,"input",23),p(),g(52,"div",5)(53,"span",6),w(54,"Coordenadas:"),p(),g(55,"input",24),nt("ngModelChange",function(a){return at(i.res,a)||(i.res=a),a}),p(),g(56,"div",25),Q("click",function(){return i.getLocation()}),te(57,"img",26),p()(),g(58,"div",5)(59,"span",6),w(60,"Sintomas:"),p(),te(61,"textarea",27),p(),g(62,"div",5)(63,"span",6),w(64,"Comentarios:"),p(),g(65,"textarea",28),w(66," "),p()(),g(67,"button",29),w(68,"Crear Muestra"),p()()()()}2&r&&(z(55),tt("ngModel",i.res))},dependencies:[er,wp,Cp,Zr,Si,Jn,gi,Mn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:70%;flex-shrink:0;position:absolute;left:15%;top:25%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:3%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:85%;height:20px;left:92px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:35%;top:15%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:80%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:95%;height:100%;flex-shrink:0;position:absolute;left:2.5%;top:30%}.input-field[_ngcontent-%COMP%]{margin:10px 10px 10px 20px;width:85%;height:20px;left:92px}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:20px;font-family:Arial;font-size:16px;letter-spacing:0}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:3%;top:3%}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:75%;top:110%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}return n})();class mo extends wt{constructor(){super(...arguments),this._value=null,this._hasValue=!1,this._isComplete=!1}_checkFinalizedStatuses(e){const{hasError:t,_hasValue:r,_value:i,thrownError:o,isStopped:s,_isComplete:a}=this;t?e.error(o):(s||a)&&(r&&e.next(i),e.complete())}next(e){this.isStopped||(this._value=e,this._hasValue=!0)}complete(){const{_hasValue:e,_value:t,_isComplete:r}=this;r||(this._isComplete=!0,e&&super.next(t),super.complete())}}const vOe=["video"],bOe=["canvas"],wOe=["resultsPanel"],GN="assets/wasm/index.js",Xm="https://cdn.jsdelivr.net/npm/ngx-scanner-qrcode@1.6.4/wasm/index.js",PQ={audio:!1,video:!0},qN={lineWidth:1,strokeStyle:"green",fillStyle:"#55f02880"},WN={font:"15px serif",strokeStyle:"#fff0",fillStyle:"#ff0000"},ga={src:"",fps:30,vibrate:300,decode:"utf-8",isBeep:!0,constraints:PQ,canvasStyles:[qN,WN]};var Xw=()=>"zbarWasm"in window;const It=(n,e,t)=>{t?n.error(t):n.next(e),n.complete()},KN=(n=!1)=>{if(!1===n)return;const e=new Audio("data:audio/mpeg;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU4LjI5LjEwMAAAAAAAAAAAAAAA/+M4wAAAAAAAAAAAAEluZm8AAAAPAAAABQAAAkAAgICAgICAgICAgICAgICAgICAgKCgoKCgoKCgoKCgoKCgoKCgoKCgwMDAwMDAwMDAwMDAwMDAwMDAwMDg4ODg4ODg4ODg4ODg4ODg4ODg4P//////////////////////////AAAAAExhdmM1OC41NAAAAAAAAAAAAAAAACQEUQAAAAAAAAJAk0uXRQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/+MYxAANQAbGeUEQAAHZYZ3fASqD4P5TKBgocg+Bw/8+CAYBA4XB9/4EBAEP4nB9+UOf/6gfUCAIKyjgQ/Kf//wfswAAAwQA/+MYxAYOqrbdkZGQAMA7DJLCsQxNOij///////////+tv///3RWiZGBEhsf/FO/+LoCSFs1dFVS/g8f/4Mhv0nhqAieHleLy/+MYxAYOOrbMAY2gABf/////////////////usPJ66R0wI4boY9/8jQYg//g2SPx1M0N3Z0kVJLIs///Uw4aMyvHJJYmPBYG/+MYxAgPMALBucAQAoGgaBoFQVBUFQWDv6gZBUFQVBUGgaBr5YSgqCoKhIGg7+IQVBUFQVBoGga//SsFSoKnf/iVTEFNRTMu/+MYxAYAAANIAAAAADEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV");e.oncanplaythrough=()=>{const t=e.play();t&&t.catch(r=>{})}},RQ=(n,e,t,r)=>{let i,o,s=e.width,a=e.height,c=s/a,l=parseInt(getComputedStyle(e).width),u=parseInt(getComputedStyle(e).height),d=l/u;t.innerHTML="",c>d?(i=l/s,o=l/c/a):(o=u/a,i=u*c/s);for(let h=0;h<n.length;h++){const f=n[h];let y=document.createElement("canvas"),E=y.getContext("2d",{willReadFrequently:!0}),I={},k=[],M=[],V=0,K=0,oe=2===r.length&&r[1]?.font?.replace(/[^0-9]/g,"");oe&&/[0-9]/g.test(oe)&&(V=parseFloat(oe),K=(i||1)*V,Number.isNaN(K)&&(K=V));const de=f.points;for(let Nt=0;Nt<de.length;Nt++){const uu=de?.[Nt]?.x??0,du=de?.[Nt]?.y??0;I[`x${Nt+1}`]=uu,I[`y${Nt+1}`]=du,k.push(uu),M.push(du)}let ze=Math.max(...k),ht=Math.min(...k),or=Math.max(...M),Gr=Math.min(...M);y.setAttribute("class","qrcode-polygon"),c>d?(y.style.top=Gr*o+.5*(u-l/c)+"px",y.style.left=ht*i+"px",y.width=(ze-ht)*i,y.height=(or-Gr)*i):(y.style.top=Gr*o+"px",y.style.left=ht*i+.5*(l-u*c)+"px",y.width=(ze-ht)*o,y.height=(or-Gr)*o);for(const Nt in r[0])E[Nt]=r[0][Nt];const Xh=[];for(let Nt=0;Nt<k.length;Nt++)Xh.push((I[`x${Nt+1}`]-ht)*o),Xh.push((I[`y${Nt+1}`]-Gr)*i);const to=Xh.slice(0);for(E.beginPath(),E.moveTo(to.shift(),to.shift());to.length;)E.lineTo(to.shift(),to.shift());if(E.closePath(),E.fill(),E.stroke(),V){const Nt=document.createElement("div");Nt.setAttribute("class","qrcode-tooltip-temp"),Nt.innerText=f.value,Nt.style.maxWidth=(s>window.innerWidth?.9*window.innerWidth:s)+"px",Nt.style.borderRadius=`clamp(1px, ${i*V-10}px, 3px)`,Nt.style.paddingBlock=`clamp(1px, ${i*V-10}px, 3px)`,Nt.style.paddingInline=`clamp(2.5px, ${i*V-6}px, 10px)`;const uu=`<svg xmlns="http://www.w3.org/2000/svg" width="${K}" height="${K}" viewBox="0 0 512 512"><rect x="128" y="128" width="336" height="336" rx="57" ry="57"></rect><path d="M383.5,128l.5-24a56.16,56.16,0,0,0-56-56H112a64.19,64.19,0,0,0-64,64V328a56.16,56.16,0,0,0,56,56h24"></path></svg>`,du=(new DOMParser).parseFromString(uu,"application/xml"),ge=Nt.ownerDocument.importNode(du.documentElement,!0);ge.style.marginLeft=`clamp(1px, ${i*V-10}px, 3px)`,Nt.appendChild(ge),ge.addEventListener("click",()=>window.navigator.clipboard.writeText(f.value)),Nt.addEventListener("click",()=>window.navigator.clipboard.writeText(f.value));const me=document.createElement("div");me.setAttribute("class","qrcode-tooltip"),me.appendChild(Nt),o=u/a,i=u*c/s,me.style.fontSize=i*V+"px",me.style.top=Gr*o+"px",me.style.left=ht*i+.5*(l-u*c)+"px",me.style.width=(ze-ht)*o+"px",me.style.height=(or-Gr)*o+"px";const we=document.createElement("span");we.innerText=f.value,we.style.top=Gr*o+-20*o+"px",we.style.left=ht*i+.5*(l-u*c)+"px";const mt=r[1]?.font?.split(" ")?.[1];we.style.fontFamily=mt,we.style.fontSize=i*V+"px",we.style.color=r?.[1]?.fillStyle,t?.appendChild(me),t?.appendChild(we)}t?.appendChild(y)}},NQ=(n,e)=>new Promise((t,r)=>n.toBlob(i=>t(i),e)),FQ=(n=[],e,t,r,i=new mo)=>(LQ(n,t,r).then(o=>{Promise.all(Object.assign([],n).map(s=>((n,e)=>{let t=e?.decode??ga.decode,r=2===e?.canvasStyles?.length?e?.canvasStyles:[qN,WN],i=e?.isBeep??ga.isBeep;return new Promise((o,s)=>{const a=new FileReader;a.onload=()=>{const c={name:n.name,file:n,url:URL.createObjectURL(n)},l=new Image;l.setAttribute("crossOrigin","anonymous"),l.onload=_(function*(){const u=document.createElement("canvas");u.width=l.naturalWidth||l.width,u.height=l.naturalHeight||l.height;const d=u.getContext("2d");d.drawImage(l,0,0,u.width,u.height);const h=d.getImageData(0,0,u.width,u.height);if(Xw()){const f=yield zbarWasm.scanImageData(h);if(f?.length){f.forEach(k=>k.value=k.decode(t?.toLocaleLowerCase())),((n,e,t)=>{let r=e.getContext("2d",{willReadFrequently:!0});for(let i=0;i<n.length;i++){const o=n[i];let s={},a=[],c=[],l=0,d=t[1]?.font?.split(" ")?.[0]?.replace(/[^0-9]/g,"");d&&/[0-9]/g.test(d)&&(l=parseFloat(d));const h=o.points;for(let M=0;M<h.length;M++){const V=h?.[M]?.x??0,K=h?.[M]?.y??0;s[`x${M+1}`]=V,s[`y${M+1}`]=K,a.push(V),c.push(K)}let f=Math.min(...a),y=Math.min(...c);const E=()=>{for(const K in t[0])r[K]=t[0][K];const M=[];for(let K=0;K<a.length;K++)M.push(s[`x${K+1}`]),M.push(s[`y${K+1}`]);const V=M.slice(0);for(r.beginPath(),r.moveTo(V.shift(),V.shift());V.length;)r.lineTo(V.shift(),V.shift());r.closePath(),r.fill(),r.stroke()};let I=document.createElement("canvas");const k=()=>{const M=t[1]?.font?.split(" ")?.[1];I.height=e.height,I.width=e.width;let V=I.getContext("2d",{willReadFrequently:!0});V.font=l+"px "+M;for(const K in t[1])V[K]=t[1][K];MOe(V,o.value,f,y-5)};E(),k(),r.drawImage(I,0,0)}})(f,u,r);const y=yield NQ(u),E=URL.createObjectURL(y);o(Object.assign({},c,{data:f,url:E,canvas:u,file:(k=y,M=c.name,new File([k],M,{lastModified:(new Date).getTime(),type:k.type}))})),KN(i)}else o(Object.assign({},c,{data:f,canvas:u}))}var k,M}),l.src=c.url},a.onerror=c=>s(c),a.readAsDataURL(n)})})(s,e))).then(s=>{It(i,s)}).catch(s=>It(i,null,s))}),i),MOe=(n,e,t,r)=>{let i=1.2*n.measureText("M").width,o=e.split("\n");for(var s=0;s<o.length;++s)n.fillText(o[s],t,r),n.strokeText(o[s],t,r),r+=i},LQ=function(){var n=_(function*(e=[],t=.5,r="image/jpeg"){if(!e.length||1===t)return e;const i=function(){var s=_(function*(a){const c=yield createImageBitmap(a),l=document.createElement("canvas");l.width=c.width,l.height=c.height,l.getContext("2d").drawImage(c,0,0);const d=yield new Promise(h=>l.toBlob(h,r,t));return new File([d],a.name,{type:d.type})});return function(c){return s.apply(this,arguments)}}(),o=new DataTransfer;return yield _(function*(){for(const s of e){if(!s.type.startsWith("image")){o.items.add(s);continue}const a=yield i(s);o.items.add(a)}})(),o.files});return function(){return n.apply(this,arguments)}}(),VQ=n=>{Object.assign([],n.childNodes).forEach(e=>n.removeChild(e))},QN=(n,e)=>{n.style.width=e.offsetWidth+"px",n.style.height=e.offsetHeight+"px"},BQ=(n=300)=>{n&&AOe()&&window?.navigator?.vibrate(n)},AOe=()=>{const n=navigator.userAgent||navigator.vendor||window.opera;return!(!/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(n)&&!/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(n.substr(0,4))||/^((?!chrome|android).)*safari/i.test(n))};let UQ=(()=>{class n{loadFiles(t=[],r,i){const o=new mo;return LQ(t,r,i).then(s=>{Promise.all(Object.assign([],t).map(a=>this.readAsDataURL(a))).then(a=>It(o,a)).catch(a=>It(o,null,a))}),o}loadFilesToScan(t=[],r,i,o){return FQ(t,r,i,o)}readAsDataURL(t){return new Promise((r,i)=>{const o=new FileReader;o.onload=()=>{const s={name:t.name,file:t,url:URL.createObjectURL(t)};r(s)},o.onerror=s=>i(s),o.readAsDataURL(t)})}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),OOe=(()=>{class n{constructor(t,r){this.renderer=t,this.elementRef=r,this.event=new Qe,this.src=ga.src,this.fps=ga.fps,this.vibrate=ga.vibrate,this.decode=ga.decode,this.isBeep=ga.isBeep,this.config=ga,this.constraints=ga.constraints,this.canvasStyles=[qN,WN],this.isStart=!1,this.isPause=!1,this.isLoading=!1,this.isTorch=!1,this.data=new ci([]),this.devices=new ci([]),this.deviceIndexActive=0,this.dataForResize=[],this.ready=new mo,this.STATUS={startON:()=>this.isStart=!0,pauseON:()=>this.isPause=!0,loadingON:()=>this.isLoading=!0,startOFF:()=>this.isStart=!1,pauseOFF:()=>this.isPause=!1,loadingOFF:()=>this.isLoading=!1,torchOFF:()=>this.isTorch=!1}}ngOnInit(){this.overrideConfig(),((n=new mo,e)=>{let t=0;const r=(i=!1)=>{const o=()=>{let c;try{const l=()=>{clearTimeout(c),Xw()?setTimeout(()=>It(n,!0)):c=setTimeout(()=>l())};setTimeout(()=>l()),setTimeout(()=>clearTimeout(c),3e3)}catch{clearTimeout(c)}},s=document.querySelectorAll(`script[src="${Xm}"]`),a=document.querySelectorAll('script[src="https://cdn.jsdelivr.net/npm/ngx-scanner-qrcode@latest/wasm/index.js"]');if(s.length||a.length)o();else{const c=document.querySelectorAll(`script[src="${GN}"]`);if(1===c.length)o();else if(c.forEach(l=>l.remove()),e){const l=e.createElement("script");e.setAttribute(l,"src",i?Xm:GN),e.setAttribute(l,"type","text/javascript"),e.setAttribute(l,"async",""),e.appendChild(document.head,l),l.onload=()=>o(),l.onerror=()=>{t<2?(document.head.removeChild(l),r(!0)):It(n,!1,Xm)},t+=1}else{const l=document.createElement("script");l.setAttribute("src",i?Xm:GN),l.setAttribute("type","text/javascript"),l.setAttribute("async",""),document.head.appendChild(l),l.onload=()=>o(),l.onerror=()=>{t<2?(document.head.removeChild(l),r(!0)):It(n,!1,Xm)},t+=1}}};return r(),n})(this.ready,this.renderer).subscribe(()=>{this.src&&this.loadImage(this.src),this.resize()})}start(t){const r=new mo;return this.isStart?It(r,!1):this.safariWebRTC(r,t),r}stop(){this.STATUS.pauseOFF(),this.STATUS.startOFF(),this.STATUS.torchOFF(),this.STATUS.loadingOFF();const t=new mo;try{clearTimeout(this.rAF_ID),this.video.nativeElement.srcObject.getTracks().forEach(r=>{r.stop(),It(t,!0)}),this.dataForResize=[],(n=>{n.getContext("2d",{willReadFrequently:!0}).clearRect(0,0,n.width,n.height)})(this.canvas.nativeElement),VQ(this.resultsPanel.nativeElement)}catch(r){It(t,!1,r)}return t}play(){const t=new mo;return this.isPause?(this.video.nativeElement.play(),this.STATUS.pauseOFF(),this.requestAnimationFrame(),It(t,!0)):It(t,!1),t}pause(){const t=new mo;return this.isStart?(clearTimeout(this.rAF_ID),this.video.nativeElement.pause(),this.STATUS.pauseON(),It(t,!0)):It(t,!1),t}playDevice(t,r=new mo){const i=this.getConstraints();switch(!0){case"null"===t||"undefined"===t||!t:stop(),this.stop(),It(r,!1);break;case t&&(!this.isStart||!i||i.deviceId!==t):stop(),this.stop(),this.STATUS.loadingON(),this.deviceIndexActive=this.devices.value.findIndex(a=>a.deviceId===t);const s={...this.constraints,audio:!1,video:{deviceId:t,...this.constraints.video}};navigator.mediaDevices.getUserMedia(s).then(a=>{this.video.nativeElement.srcObject=a,this.video.nativeElement.onloadedmetadata=()=>{this.video.nativeElement.play(),this.requestAnimationFrame(),It(r,!0),this.STATUS.startON(),this.STATUS.loadingOFF()}}).catch(a=>{this.eventEmit(!1),It(r,!1,a),this.STATUS.startOFF(),this.STATUS.loadingOFF()});break;default:It(r,!1),this.STATUS.loadingOFF()}return r}loadImage(t){const r=new mo;this.STATUS.startOFF(),this.STATUS.loadingON();const i=new Image;return i.setAttribute("crossOrigin","anonymous"),i.onload=()=>{Xw()&&this.drawImage(i,o=>{It(r,o),this.STATUS.startOFF(),this.STATUS.loadingOFF()})},i.src=t,r}torcher(){const t=this.applyConstraints({advanced:[{torch:this.isTorch}]});return t.subscribe(()=>!1,()=>this.isTorch=!this.isTorch),t}applyConstraints(t,r=0){var i=this;const o=new mo;if(this.isStart){const s=this.video.nativeElement.srcObject;if(null===r&&void 0===r&&Number.isNaN(r))It(o,!1,"Please check again deviceIndex");else{const a=s.getVideoTracks()[r];new window.ImageCapture(a).getPhotoCapabilities().then(_(function*(){yield a.applyConstraints(t),QN(i.video.nativeElement,i.canvas.nativeElement),It(o,!0)})).catch(l=>{switch(l?.name){case"NotFoundError":case"DevicesNotFoundError":It(o,!1,"Required track is missing");break;case"NotReadableError":case"TrackStartError":It(o,!1,"Webcam or mic are already in use");break;case"OverconstrainedError":case"ConstraintNotSatisfiedError":It(o,!1,"Constraints can not be satisfied by avb. devices");break;case"NotAllowedError":case"PermissionDeniedError":It(o,!1,"Permission denied in browser");break;case"TypeError":It(o,!1,"Empty constraints object");break;default:It(o,!1,l)}})}}else It(o,!1,"Please start the scanner");return o}getConstraints(t=0){return this.video.nativeElement.srcObject?.getVideoTracks()[t]?.getConstraints()}download(t=`ngx_scanner_qrcode_${Date.now()}.png`,r,i){var o=this;const s=new mo;return _(function*(){const c=((n,e)=>new File([n],e,{lastModified:(new Date).getTime(),type:n.type}))(yield NQ(o.canvas.nativeElement),t);FQ([c],o.config,r,i,s).subscribe(l=>{l.forEach(u=>{if(u?.data?.length){const d=document.createElement("a");d.href=u.url,d.download=u.name,d.click(),d.remove()}})})})(),s}resize(){window.addEventListener("resize",()=>{RQ(this.dataForResize,this.canvas.nativeElement,this.resultsPanel.nativeElement,this.canvasStyles),QN(this.video.nativeElement,this.canvas.nativeElement)})}overrideConfig(){"src"in this.config&&(this.src=this.config.src),"fps"in this.config&&(this.fps=this.config.fps),"vibrate"in this.config&&(this.vibrate=this.config.vibrate),"decode"in this.config&&(this.decode=this.config.decode),"isBeep"in this.config&&(this.isBeep=this.config.isBeep),"constraints"in this.config&&(this.constraints=((n,e,t)=>{if(e&&Object.keys(e[n]).length){for(const r in t){const i=JSON.parse(JSON.stringify({...e[n],[r]:t[r]}));e[n]=e[n].hasOwnProperty(r)?e[n]:i}return e[n]}return t})("constraints",this.config,PQ)),"canvasStyles"in this.config&&2===this.config?.canvasStyles?.length&&(this.canvasStyles=this.config.canvasStyles)}safariWebRTC(t,r){this.STATUS.startOFF(),this.STATUS.loadingON(),navigator.mediaDevices.getUserMedia(this.constraints).then(i=>{i.getTracks().forEach(o=>o.stop()),this.loadAllDevices(t,r)}).catch(i=>{It(t,!1,i),this.STATUS.startOFF(),this.STATUS.loadingOFF()})}loadAllDevices(t,r){navigator.mediaDevices.enumerateDevices().then(i=>{let o=i.filter(s=>"videoinput"==s.kind);this.devices.next(o),o?.length>0?(It(t,o),r?r(o):this.playDevice(o[0].deviceId)):(It(t,!1,"No camera detected."),this.STATUS.startOFF(),this.STATUS.loadingOFF())}).catch(i=>{It(t,!1,i),this.STATUS.startOFF(),this.STATUS.loadingOFF()})}drawImage(t,r=(()=>{})){var i=this;return _(function*(){const o=i.canvas.nativeElement,s=o.getContext("2d",{willReadFrequently:!0});t instanceof HTMLImageElement&&(o.width=t.naturalWidth,o.height=t.naturalHeight,t.style.visibility="",i.video.nativeElement.style.visibility="hidden",i.renderer.setStyle(i.elementRef.nativeElement,"width",o.width+"px"),i.renderer.setStyle(i.elementRef.nativeElement,"maxWidth","100%"),i.renderer.setStyle(i.elementRef.nativeElement,"display","inline-block")),t instanceof HTMLVideoElement&&(o.width=t.videoWidth,o.height=t.videoHeight,t.style.visibility="",i.canvas.nativeElement.style.visibility="hidden"),QN(i.video.nativeElement,o),s.clearRect(0,0,o.width,o.height),s.drawImage(t,0,0,o.width,o.height);const a=s.getImageData(0,0,o.width,o.height),c=yield zbarWasm.scanImageData(a);if(c?.length){c.forEach(u=>u.value=u.decode(i.decode?.toLocaleLowerCase())),RQ(c,Object.freeze(i.canvas.nativeElement),i.resultsPanel.nativeElement,i.canvasStyles);const l=()=>{i.eventEmit(c),i.dataForResize=c};t instanceof HTMLImageElement&&(r(!0),l(),BQ(i.vibrate),KN(i.isBeep)),t instanceof HTMLVideoElement&&(l(),BQ(i.vibrate),KN(i.isBeep))}else r(!1),VQ(i.resultsPanel.nativeElement),i.dataForResize=[]})()}eventEmit(t=!1){!1!==t&&this.data.next(t||[]),!1!==t&&this.event.emit(t||[])}requestAnimationFrame(t=100){try{clearTimeout(this.rAF_ID),this.rAF_ID=setTimeout(()=>{this.video.nativeElement.readyState===this.video.nativeElement.HAVE_ENOUGH_DATA&&(t=0,Xw()&&this.drawImage(this.video.nativeElement),this.isStart&&!this.isPause&&this.requestAnimationFrame(t))},t||this.fps)}catch{clearTimeout(this.rAF_ID)}}get isReady(){return this.ready}ngOnDestroy(){this.pause()}static#e=this.\u0275fac=function(r){return new(r||n)(x(Do),x(Bn))};static#t=this.\u0275cmp=Te({type:n,selectors:[["ngx-scanner-qrcode"]],viewQuery:function(r,i){if(1&r&&($n(vOe,5),$n(bOe,5),$n(wOe,5)),2&r){let o;bn(o=wn())&&(i.video=o.first),bn(o=wn())&&(i.canvas=o.first),bn(o=wn())&&(i.resultsPanel=o.first)}},hostAttrs:[1,"ngx-scanner-qrcode"],inputs:{src:"src",fps:"fps",vibrate:"vibrate",decode:"decode",isBeep:"isBeep",config:"config",constraints:"constraints",canvasStyles:"canvasStyles"},outputs:{event:"event"},exportAs:["scanner"],decls:6,vars:0,consts:[[1,"origin-overlay"],["resultsPanel",""],[1,"origin-canvas"],["canvas",""],["playsinline","",1,"origin-video"],["video",""]],template:function(r,i){1&r&&te(0,"div",0,1)(2,"canvas",2,3)(4,"video",4,5)},styles:[".ngx-scanner-qrcode{display:block;position:relative}.origin-overlay{width:100%;position:absolute}.origin-overlay span{z-index:2;text-align:left;position:absolute}.origin-overlay .qrcode-polygon{z-index:1;position:absolute}.origin-canvas{width:100%;position:absolute}.origin-video{width:100%;background-color:#262626}.qrcode-tooltip{z-index:3;position:absolute}.qrcode-tooltip:hover .qrcode-tooltip-temp{display:block;position:absolute;cursor:copy}.qrcode-tooltip:hover .qrcode-tooltip-temp:active{color:#afafaf}.qrcode-tooltip .qrcode-tooltip-temp{bottom:0;left:50%;color:#fff;text-align:left;display:none;width:max-content;word-wrap:break-word;transform:translate(-50%);transform-style:preserve-3d;background-color:#000000d0;box-shadow:1px 1px 20px #000000e0}.qrcode-tooltip .qrcode-tooltip-temp svg{cursor:pointer}.qrcode-tooltip .qrcode-tooltip-temp svg rect{fill:none;stroke:#fff;stroke-linejoin:round;stroke-width:32px}.qrcode-tooltip .qrcode-tooltip-temp svg path{fill:none;stroke:#fff;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px}.qrcode-tooltip .qrcode-tooltip-temp svg:active rect{stroke:#afafaf}.qrcode-tooltip .qrcode-tooltip-temp svg:active path{stroke:#afafaf}\n"],encapsulation:2})}return n})(),XN=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=ot({type:n});static#n=this.\u0275inj=et({providers:[UQ]})}return n})();const FOe=["action"];function LOe(n,e){1&n&&(g(0,"p"),w(1,"\u231b Loading..."),p())}let VOe=(()=>{class n{constructor(t,r,i,o,s){this.qrcode=t,this.router=r,this.route=i,this.auth=o,this.firestore=s,this.data=[],this.config={constraints:{video:{width:window.innerWidth}}},this.qrCodeResult=[],this.qrCodeResult2=[],this.getData()}ngAfterViewInit(){this.action.isReady.subscribe(t=>{})}onEvent(t,r){console.log(t[0].value),this.item=t[0].value,this.MyQuery()}handle(t,r){"start"===r?t[r](o=>{const s=o.find(a=>/back|rear|environment/gi.test(a.label));t.playDevice(s?s.deviceId:o[0].deviceId)}).subscribe(o=>console.log(r,o),alert):t[r]().subscribe(o=>console.log(r,o),alert)}onDowload(t){t.download().subscribe(console.log,alert)}onSelects(t){this.qrcode.loadFiles(t,.5).subscribe(r=>{this.qrCodeResult=r})}onSelects2(t){this.qrcode.loadFilesToScan(t,this.config,.5).subscribe(r=>{console.log(r),this.qrCodeResult2=r})}getData(){const t=xe(this.firestore,"muestras");pe(t).then(r=>{this.data=[...r.docs.map(i=>({...i.data(),id:i.id}))]})}MyQuery(){var t=this;return _(function*(){let r=t.item;console.log(r);const i=dn(xe(t.firestore,"muestras"),nn("codigo","==",r));pe(i).then(o=>{t.data=[...o.docs.map(s=>({...s.data(),id:s.id}))],0!=t.data.length&&(t.handle(t.action,"stop"),t.router.navigate(["user/muestras-info/"+r]))})})()}static#e=this.\u0275fac=function(r){return new(r||n)(x(UQ),x(Me),x(ut),x(Ge),x(ct))};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-scan"]],viewQuery:function(r,i){if(1&r&&$n(FOe,5),2&r){let o;bn(o=wn())&&(i.action=o.first)}},decls:6,vars:8,consts:[[1,"container"],[1,"screen",3,"config","event"],["action","scanner"],[4,"ngIf"],[1,"btn",3,"disabled","click"],["width","30px",3,"src"]],template:function(r,i){if(1&r){const o=yt();g(0,"div",0)(1,"ngx-scanner-qrcode",1,2),Q("event",function(a){Re(o);const c=Cn(2);return Ne(i.onEvent(a,c))}),p(),Xn(3,LOe,2,0,"p",3),g(4,"button",4),Q("click",function(){Re(o);const a=Cn(2);return Ne(i.handle(a,a.isStart?"stop":"start"))}),te(5,"img",5),p()()}if(2&r){const o=Cn(2);z(),dr("config",i.config),z(2),dr("ngIf",o.isLoading),z(),zs("btn-info",!o.isStart)("btn-warning",o.isStart),dr("disabled",o.isLoading),z(),dr("src",o.isStart?"https://id1945.github.io/images/svg/camera-off.svg":"https://id1945.github.io/images/svg/camera-on.svg",sx)}},dependencies:[vI,OOe],styles:["h1[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{font-weight:600;word-break:break-all;font-family:Courier New,Courier,monospace}div[_ngcontent-%COMP%]{text-align:center}div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:50%;height:60px;width:60px;margin:4px}div[_ngcontent-%COMP%]   buttondisabled[_ngcontent-%COMP%]{cursor:no-drop}div[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]{background:#faebd7;border-radius:5px}.origin-overlay[_ngcontent-%COMP%]   .qrcode-tooltip[_ngcontent-%COMP%]   .qrcode-tooltip-temp[_ngcontent-%COMP%]{padding:5px!important}.screen[_ngcontent-%COMP%]{display:block;height:50%;width:50%;margin-left:auto;margin-right:auto}.container[_ngcontent-%COMP%]{top:25%;width:100%;position:absolute;left:0%}@media only screen and (max-width: 768px){h1[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{font-weight:600;word-break:break-all;font-family:Courier New,Courier,monospace}div[_ngcontent-%COMP%]{text-align:center}div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:50%;height:60px;width:60px;margin:10px 4px 4px}div[_ngcontent-%COMP%]   buttondisabled[_ngcontent-%COMP%]{cursor:no-drop}div[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]{background:#faebd7;border-radius:5px}.origin-overlay[_ngcontent-%COMP%]   .qrcode-tooltip[_ngcontent-%COMP%]   .qrcode-tooltip-temp[_ngcontent-%COMP%]{padding:5px!important}.screen[_ngcontent-%COMP%]{display:block;height:80%;width:80%;margin-left:auto;margin-right:auto}.container[_ngcontent-%COMP%]{top:25%;width:100%;position:absolute}}"]})}return n})();const BOe=["geo"];let UOe=(()=>{class n{static#e=this.text="";constructor(t,r,i,o,s){this.router=t,this.route=r,this.auth=i,this.firestore=o,this.location=s,this.title="gestion-de-muestras-de-campo",this.data=[],this.res="",this.somethingChange=new Qe}ngOnInit(){this.route.params.subscribe(t=>{this.x=t.id,console.log(t),console.log(t.id)}),this.getData(),this.MyQuery()}handleRegister(t){this.addData(t),this.Home()}addData(t){var r=this;return _(function*(){console.log(t);const i=Ie(r.firestore,"muestras",t.codigo);bi(i,{codigo:t.codigo,cliente:t.cliente,fecha:t.fecha,cultivo:t.cultivo,tipo:t.tipo,fitopatogeno:t.fitopatogeno,repeticion:t.repeticion,coordenadas:t.coordenadas,sintomas:t.sintomas,comentarios:t.comentarios,project:r.pid}).then(()=>{alert("Data Sent")}).catch(o=>{alert(o.message)}),console.log(r.pid)})()}getData(){const t=xe(this.firestore,"muestras");pe(t).then(r=>{this.data=[...r.docs.map(i=>({...i.data(),id:i.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude),n.text=t.coords.latitude+", "+t.coords.longitude}getLocation(){var t=this;return _(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{t.res=n.text,console.log(t.res)},1e3)})()}MyQuery(){var t=this;return _(function*(){let r=t.x;const i=dn(xe(t.firestore,"muestras"),nn("codigo","==",r)),o=yield pe(i);o.empty||o.forEach(s=>{t.item=s.data(),console.log(s.id," => ",s.data()),t.res=t.item.coordenadas,t.pid=t.item.project})})()}deleteData(t){const i=Ie(this.firestore,"muestras",this.x);Fn(i).then(()=>{alert("Data Deleted"),this.router.navigate(["user/muestras/"+this.pid])}).catch(o=>{alert(o.message)})}Home(){this.router.navigate(["user/projects"])}static#t=this.\u0275fac=function(r){return new(r||n)(x(Me),x(ut),x(Ge),x(ct),x(_r))};static#n=this.\u0275cmp=Te({type:n,selectors:[["app-muestras-edit"]],viewQuery:function(r,i){if(1&r&&$n(BOe,5),2&r){let o;bn(o=wn())&&(i.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:68,vars:11,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],["name","codigo","ngModel","","placeholder","codigo","id","codigo","type","codigo",1,"input-field",3,"ngModel","ngModelChange"],["name","cliente","ngModel","","placeholder","Cliente","id","cliente","type","cliente",1,"input-field",3,"ngModel","ngModelChange"],["name","fecha","ngModel","","placeholder","Fecha","id","fecha","type","fecha",1,"input-field",3,"ngModel","ngModelChange"],["name","cultivo","ngModel","","placeholder","Cultivo","id","cultivo","type","cultivo",1,"input-field",3,"ngModel","ngModelChange"],["list","tipos","name","tipo","ngModel","","placeholder","Tipo","id","tipo","type","tipo",1,"input-field",3,"ngModel","ngModelChange"],["id","tipos"],["value","Hibrido"],["value","Variedad"],["value","Clone"],["list","fitopatogenos","name","fitopatogeno","ngModel","","placeholder","Fitopat\xf3geno","id","fitopatogeno","type","fitopatogeno",1,"input-field",3,"ngModel","ngModelChange"],["id","fitopatogenos"],["value","Hongos"],["value","Bacterias"],["value","Virus"],["name","lote","ngModel","","placeholder","Lote","id","lote","type","lote",1,"input-field",3,"ngModel","ngModelChange"],["name","repeticion","ngModel","","placeholder","Repeticion","id","repeticion","type","repeticion",1,"input-field",3,"ngModel","ngModelChange"],["name","coordenadas","ngModel","","placeholder","Coordenadas","id","coordenadas","type","coordenadas",1,"input-field",3,"ngModel","ngModelChange"],[1,"bUbicacion",3,"click"],["src","../../../../assets/Ubicacion.png","alt","U"],["name","sintomas","ngModel","","placeholder","S\xedntomas","id","sintomas","rows","4","cols","50",3,"ngModel","ngModelChange"],["name","comentarios","ngModel","","placeholder","Comentarios","id","comentarios","rows","4","cols","50",3,"ngModel","ngModelChange"],[1,"boton"],[1,"botonrojo",3,"click"],[1,"blank"]],template:function(r,i){if(1&r){const o=yt();g(0,"p"),w(1,"muestras-edit works!"),p(),g(2,"h1",0),w(3,"Editar Muestra"),p(),g(4,"div",1)(5,"form",2,3),Q("ngSubmit",function(){Re(o);const a=Cn(6);return Ne(i.handleRegister(a.value))}),g(7,"div",4)(8,"div",5)(9,"span",6),w(10,"Codigo:"),p(),g(11,"input",7),nt("ngModelChange",function(a){return at(i.item.codigo,a)||(i.item.codigo=a),a}),p()(),g(12,"div",5)(13,"span",6),w(14,"Cliente:"),p(),g(15,"input",8),nt("ngModelChange",function(a){return at(i.item.cliente,a)||(i.item.cliente=a),a}),p()(),g(16,"div",5)(17,"span",6),w(18,"Fecha:"),p(),g(19,"input",9),nt("ngModelChange",function(a){return at(i.item.fecha,a)||(i.item.fecha=a),a}),p()(),g(20,"div",5)(21,"span",6),w(22,"Cultivo:"),p(),g(23,"input",10),nt("ngModelChange",function(a){return at(i.item.cultivo,a)||(i.item.cultivo=a),a}),p()(),g(24,"div",5)(25,"span",6),w(26,"Tipo:"),p(),g(27,"input",11),nt("ngModelChange",function(a){return at(i.item.tipo,a)||(i.item.tipo=a),a}),p(),g(28,"datalist",12),te(29,"option",13)(30,"option",14)(31,"option",15),p()(),g(32,"div",5)(33,"span",6),w(34,"Fitopat\xf3geno:"),p(),g(35,"input",16),nt("ngModelChange",function(a){return at(i.item.fitopatogeno,a)||(i.item.fitopatogeno=a),a}),p(),g(36,"datalist",17),te(37,"option",18)(38,"option",19)(39,"option",20),p()(),g(40,"div",5)(41,"span",6),w(42,"Lote:"),p(),g(43,"input",21),nt("ngModelChange",function(a){return at(i.item.lote,a)||(i.item.lote=a),a}),p()(),g(44,"div",5)(45,"span",6),w(46,"Repetici\xf3n:"),p(),g(47,"input",22),nt("ngModelChange",function(a){return at(i.item.repeticion,a)||(i.item.repeticion=a),a}),p()(),g(48,"div",5)(49,"span",6),w(50,"Coordenadas:"),p(),g(51,"input",23),nt("ngModelChange",function(a){return at(i.res,a)||(i.res=a),a}),p(),g(52,"div",24),Q("click",function(){return i.getLocation()}),te(53,"img",25),p()(),g(54,"div",5)(55,"span",6),w(56,"S\xedntomas:"),p(),g(57,"textarea",26),nt("ngModelChange",function(a){return at(i.item.sintomas,a)||(i.item.sintomas=a),a}),p()(),g(58,"div",5)(59,"span",6),w(60,"Comentarios:"),p(),g(61,"textarea",27),nt("ngModelChange",function(a){return at(i.item.comentarios,a)||(i.item.comentarios=a),a}),w(62," "),p()(),g(63,"button",28),w(64,"Editar Muestra"),p(),g(65,"button",29),Q("click",function(){return i.deleteData(i.item.id)}),w(66," Delete "),p()(),te(67,"div",30),p()()}2&r&&(z(11),tt("ngModel",i.item.codigo),z(4),tt("ngModel",i.item.cliente),z(4),tt("ngModel",i.item.fecha),z(4),tt("ngModel",i.item.cultivo),z(4),tt("ngModel",i.item.tipo),z(8),tt("ngModel",i.item.fitopatogeno),z(8),tt("ngModel",i.item.lote),z(4),tt("ngModel",i.item.repeticion),z(4),tt("ngModel",i.res),z(6),tt("ngModel",i.item.sintomas),z(4),tt("ngModel",i.item.comentarios))},dependencies:[er,wp,Cp,Zr,Si,Jn,gi,Mn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;padding-top:2px;width:75%;height:72%;flex-shrink:0;position:absolute;left:15%;top:24%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;padding-top:7px;width:90%;left:5%;top:0%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:85%;height:20px;left:92px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:39%;top:16%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{margin:2%;background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:90%;top:100%}.botonrojo[_ngcontent-%COMP%]{margin:2%;background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:0%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.input-field[_ngcontent-%COMP%]{margin:6px 6px 6px 24px;height:20px;left:92px;color:#000;font-family:Arial;font-size:16px;letter-spacing:0;text-overflow:ellipsis}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:6px 6px 6px 22px;font-family:Arial;width:85%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:3%;top:2%}.Text[_ngcontent-%COMP%]{color:#000;height:20px;font-family:Arial;font-size:16px;letter-spacing:0}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:95%;height:95%;flex-shrink:0;position:absolute;left:2.5%;top:30%}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:67%;top:105%;border:none;float:right;background-color:#3eb3c2;color:#fff;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:12px;left:0%;top:105%}.blank[_ngcontent-%COMP%]{width:100%;height:16px;position:absolute;left:0%;top:110%}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}return n})();const jOe=["geo"];let zOe=(()=>{class n{constructor(t,r,i,o,s){this.router=t,this.route=r,this.auth=i,this.firestore=o,this.location=s,this.title="gestion-de-muestras-de-campo",this.data=[],this.somethingChange=new Qe,this.getData(),this.MyQuery()}ngOnInit(){this.route.params.subscribe(t=>{this.text=t.id,console.log(t),console.log(t.id)}),this.getData(),this.MyQuery()}handleRegister(t){this.addData(t)}addData(t){const r=Ie(this.firestore,"muestras",t.codigo);vi(r,t).then(()=>{alert("Data Sent")}).catch(i=>{alert(i.message)}),console.log(t.comentarios)}getData(){const t=xe(this.firestore,"muestras");pe(t).then(r=>{this.data=[...r.docs.map(i=>({...i.data(),id:i.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude)}getLocation(){var t=this;return _(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{console.log(t.res)},1e3)})()}MyQuery(){var t=this;return _(function*(){let r=t.text;const i=dn(xe(t.firestore,"muestras"),nn("codigo","==",r)),o=yield pe(i);o.empty||o.forEach(s=>{t.item=s.data(),console.log(s.id," => ",s.data())})})()}editMuestra(){this.router.navigate(["user/muestras-edit/"+this.text])}deleteData(t){const r=Ie(this.firestore,"users",t);Fn(r).then(()=>{alert("Data Deleted"),this.getData()}).catch(i=>{alert(i.message)})}backPage(){this.location.back()}static#e=this.\u0275fac=function(r){return new(r||n)(x(Me),x(ut),x(Ge),x(ct),x(_r))};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-muestras-info"]],viewQuery:function(r,i){if(1&r&&$n(jOe,5),2&r){let o;bn(o=wn())&&(i.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:60,vars:10,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],[1,"input-field"],[1,"boton",3,"click"]],template:function(r,i){if(1&r){const o=yt();g(0,"p"),w(1,"muestras-info works!"),p(),g(2,"h1",0),w(3,"Datos de la Muestra"),p(),g(4,"div",1)(5,"form",2,3),Q("ngSubmit",function(){Re(o);const a=Cn(6);return Ne(i.handleRegister(a.value))}),g(7,"div",4)(8,"div",5)(9,"span",6),w(10,"Codigo:"),p(),g(11,"span",7),w(12),p()(),g(13,"div",5)(14,"span",6),w(15,"Cliente:"),p(),g(16,"span",7),w(17),p()(),g(18,"div",5)(19,"span",6),w(20,"Fecha:"),p(),g(21,"span",7),w(22),p()(),g(23,"div",5)(24,"span",6),w(25,"Cultivo:"),p(),g(26,"span",7),w(27),p()(),g(28,"div",5)(29,"span",6),w(30,"Tipo:"),p(),g(31,"span",7),w(32),p()(),g(33,"div",5)(34,"span",6),w(35,"Fitopat\xf3geno:"),p(),g(36,"span",7),w(37),p()(),g(38,"div",5)(39,"span",6),w(40,"Lote:"),p(),g(41,"span",7),w(42),p()(),g(43,"div",5)(44,"span",6),w(45,"Repetici\xf3n:"),p(),g(46,"span",7),w(47),p()(),g(48,"div",5)(49,"span",6),w(50,"S\xedntomas:"),p(),g(51,"span",7),w(52),p()(),g(53,"div",5)(54,"span",6),w(55,"Comentarios:"),p(),g(56,"span",7),w(57),p()()()()(),g(58,"button",8),Q("click",function(){return i.editMuestra()}),w(59,"Editar Muestra"),p()}2&r&&(z(12),Ue(" ",i.item.codigo,""),z(5),Ue(" ",i.item.cliente,""),z(5),Ue(" ",i.item.fecha,""),z(5),Ue(" ",i.item.cultivo,""),z(5),Ue(" ",i.item.tipo,""),z(5),Ue(" ",i.item.fitopatogeno,""),z(5),Ue(" ",i.item.lote,""),z(5),Ue(" ",i.item.repeticion,""),z(5),Ue(" ",i.item.sintomas,""),z(5),Ue(" ",i.item.comentarios,""))},dependencies:[er,Jn,Mn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:65%;height:62%;flex-shrink:0;position:absolute;left:25%;top:28%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:10%;top:2%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:12px 12px 12px 25px;height:20px;left:92px;color:#000;font-family:Arial;font-size:20px;letter-spacing:0}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:40%;top:20%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;height:25px;font-family:Arial;font-size:20px;font-weight:700;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:80%;top:92%}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:0%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.input-field[_ngcontent-%COMP%]{margin:6px 6px 6px 10px;height:20px;left:92px;color:#000;font-family:Arial;font-size:16px;letter-spacing:0;text-overflow:ellipsis}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:5%;top:2%}.Text[_ngcontent-%COMP%]{color:#000;height:20px;font-family:Arial;font-size:16px;letter-spacing:0}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:90%;height:55%;flex-shrink:0;position:absolute;left:5%;top:33%}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:67%;top:90%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:12px;left:0%;top:110%}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:25%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}return n})();const $Oe=["geo"];let HOe=(()=>{class n{constructor(t,r,i,o,s){this.router=t,this.route=r,this.auth=i,this.firestore=o,this.location=s,this.title="gestion-de-muestras-de-campo",this.data=[],this.somethingChange=new Qe}ngOnInit(){this.route.params.subscribe(t=>{this.text=t.id,console.log(t),console.log(t.id)}),this.getData(),this.MyQuery()}handleRegister(t){this.addData(t),this.Home()}randomCode(){let t="";for(let o=0;o<20;o++)t+="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".charAt(Math.floor(62*Math.random()));return t}addData(t){let r=t.integrantes.split(/[\s,]+/);const i=Ie(this.firestore,"projects",this.pid);vi(i,{name:t.name,cliente:t.cliente,owner:t.owner,integrantes:r}).then(()=>{alert("Data Sent")}).catch(o=>{alert(o.message)}),console.log(t.comentarios)}getData(){const t=xe(this.firestore,"projects");pe(t).then(r=>{this.data=[...r.docs.map(i=>({...i.data(),id:i.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude)}getLocation(){var t=this;return _(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{console.log(t.res)},1e3)})()}MyQuery(){var t=this;return _(function*(){let r=t.text;const i=dn(xe(t.firestore,"projects"),nn("name","==",r));(yield pe(i)).forEach(s=>{t.item=s.data(),t.pid=s.id,console.log(s.id," => ",s.data())})})()}deleteData(t){const r=Ie(this.firestore,"projects",t);Fn(r).then(()=>{alert("Data Deleted"),this.getData()}).catch(i=>{alert(i.message)})}Home(){this.router.navigate(["user/projects"])}backPage(){this.location.back()}static#e=this.\u0275fac=function(r){return new(r||n)(x(Me),x(ut),x(Ge),x(ct),x(_r))};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-project-edit"]],viewQuery:function(r,i){if(1&r&&$n($Oe,5),2&r){let o;bn(o=wn())&&(i.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:28,vars:4,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],["name","name","ngModel","","placeholder","Name","id","name","type","name",1,"input-field",3,"ngModel","ngModelChange"],["name","owner","ngModel","","placeholder","Owner","id","owner","type","owner",1,"input-field",3,"ngModel","ngModelChange"],["name","integrantes","ngModel","","placeholder","Integrantes","id","integrantes","type","integrantes",1,"input-field",3,"ngModel","ngModelChange"],["name","cliente","ngModel","","placeholder","Cliente","id","cliente","type","cliente",1,"input-field",3,"ngModel","ngModelChange"],[1,"boton"],[1,"botonrojo",3,"click"]],template:function(r,i){if(1&r){const o=yt();g(0,"p"),w(1,"project-edit works!"),p(),g(2,"h1",0),w(3,"Editar Projecto"),p(),g(4,"div",1)(5,"form",2,3),Q("ngSubmit",function(){Re(o);const a=Cn(6);return Ne(i.handleRegister(a.value))}),g(7,"div",4)(8,"div",5)(9,"span",6),w(10,"Nombre:"),p(),g(11,"input",7),nt("ngModelChange",function(a){return at(i.item.name,a)||(i.item.name=a),a}),p()(),g(12,"div",5)(13,"span",6),w(14,"Owner:"),p(),g(15,"input",8),nt("ngModelChange",function(a){return at(i.item.owner,a)||(i.item.owner=a),a}),p()(),g(16,"div",5)(17,"span",6),w(18,"Integrantes:"),p(),g(19,"input",9),nt("ngModelChange",function(a){return at(i.item.integrantes,a)||(i.item.integrantes=a),a}),p()(),g(20,"div",5)(21,"span",6),w(22,"Cliente:"),p(),g(23,"input",10),nt("ngModelChange",function(a){return at(i.item.cliente,a)||(i.item.cliente=a),a}),p()(),g(24,"button",11),w(25,"Editar Projecto"),p(),g(26,"button",12),Q("click",function(){return i.deleteData(i.pid)}),w(27," Delete "),p()()()()}2&r&&(z(11),tt("ngModel",i.item.name),z(4),tt("ngModel",i.item.owner),z(4),tt("ngModel",i.item.integrantes),z(4),tt("ngModel",i.item.cliente))},dependencies:[er,Zr,Si,Jn,gi,Mn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:35%;flex-shrink:0;position:absolute;left:15%;top:30%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:5%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:85%;height:20px;left:92px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:35%;top:20%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:85%;top:110%}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:0%;top:110%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.input-field[_ngcontent-%COMP%]{margin:6px 6px 6px 20px;height:20px;width:50%;left:92px;color:#000;font-family:Arial;font-size:16px;letter-spacing:0;text-overflow:ellipsis}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:20px;font-family:Arial;font-size:16px;letter-spacing:0}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:90%;height:25%;flex-shrink:0;position:absolute;left:5%;top:45%}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:70%;top:110%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:12px;left:0%;top:110%}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:30%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}@media only screen and (min-width: 1536px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:900px;height:280px;flex-shrink:0;position:absolute;left:50%;top:45%;transform:translate(-50%,-50%)}.boton[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(310px)}.subTituloText[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%)}}"]})}return n})();function GOe(n,e){if(1&n){const t=yt();g(0,"tr")(1,"td"),w(2),p(),g(3,"td"),w(4),p(),g(5,"td"),w(6),p(),g(7,"td"),w(8),p(),g(9,"td")(10,"button",5),Q("click",function(){const o=Re(t).$implicit;return Ne(Zt().infoMuestra(o.codigo))}),p(),g(11,"button",6),Q("click",function(){const o=Re(t).$implicit;return Ne(Zt().editMuestra(o.codigo))}),p(),g(12,"button",7),Q("click",function(){const o=Re(t).$implicit;return Ne(Zt().Barcode(o.codigo))}),p()()()}if(2&n){const t=e.$implicit;z(2),He(t.codigo),z(2),He(t.fecha),z(2),He(t.cultivo),z(2),He(t.coordenadas)}}let qOe=(()=>{class n{constructor(t,r,i,o){this.router=t,this.route=r,this.auth=i,this.firestore=o,this.data=[],this.getData()}ngOnInit(){this.route.params.subscribe(t=>{this.item=t.id,console.log(t),console.log(t.id)})}getData(){const t=xe(this.firestore,"muestras");pe(t).then(r=>{this.data=[...r.docs.map(i=>({...i.data(),id:i.id}))]})}updateData(t){const r=Ie(this.firestore,"muestras",t);bi(r,{}).then(()=>{alert("Data updated"),this.getData()}).catch(i=>{alert(i.message)})}deleteData(t){const r=Ie(this.firestore,"muestras",t);Fn(r).then(()=>{alert("Data Deleted"),this.getData()}).catch(i=>{alert(i.message)})}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["user/projects"])}logOut(){Br(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}newMuestra(){this.router.navigate(["user/muestras-new"])}editMuestra(t){this.router.navigate(["user/muestras-edit/"+t])}infoProject(t){this.router.navigate(["user/project-edit/"+t])}infoMuestra(t){this.router.navigate(["user/muestras-info/"+t])}Barcode(t){this.router.navigate(["user/barcode/"+t])}MyQuery(){var t=this;return _(function*(){let r=t.item;t.pid=r,console.log(r);const i=dn(xe(t.firestore,"muestras"),nn("project","==",r));pe(i).then(s=>{t.data=[...s.docs.map(a=>({...a.data(),id:a.id}))]}),(yield pe(i)).forEach(s=>{console.log(s.id," => ",s.data())})})()}static#e=this.\u0275fac=function(r){return new(r||n)(x(Me),x(ut),x(Ge),x(ct))};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-muestras-all"]],decls:20,vars:1,consts:[[1,"subTituloText"],[1,"scanbutton"],[1,"scantext",3,"click"],[1,"list"],[4,"ngFor","ngForOf"],[1,"detalles",3,"click"],[1,"edit",3,"click"],[1,"imprimir",3,"click"]],template:function(r,i){1&r&&(g(0,"p"),w(1,"muestras-all works!"),p(),g(2,"h1",0),w(3,"Muestras"),p(),g(4,"div",1)(5,"div",2),Q("click",function(){return i.Scan()}),w(6,"SCAN"),p()(),g(7,"div",3)(8,"table")(9,"tr")(10,"th"),w(11," Codigo "),p(),g(12,"th"),w(13," Fecha "),p(),g(14,"th"),w(15," Cultivo"),p(),g(16,"th"),w(17," Coordenadas "),p(),te(18,"th"),p(),Xn(19,GOe,13,4,"tr",4),p()()),2&r&&(z(19),dr("ngForOf",i.data))},dependencies:[uo],styles:[".list[_ngcontent-%COMP%]{position:absolute;left:38%;top:38%}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.projectBlock[_ngcontent-%COMP%]{width:auto;height:35px;background:#3ec28f;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:20px;font-weight:700;letter-spacing:0;cursor:pointer}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{cursor:pointer;width:153px;height:36px;left:49%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;left:45%;top:20%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;margin-left:2px;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.list[_ngcontent-%COMP%]{position:absolute;left:5%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:153px;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:80%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;left:30%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}return n})();const WOe=["geo"];let KOe=(()=>{class n{constructor(t,r,i,o,s){this.router=t,this.route=r,this.auth=i,this.firestore=o,this.location=s,this.title="gestion-de-muestras-de-campo",this.data=[],this.somethingChange=new Qe}ngOnInit(){this.route.params.subscribe(t=>{this.text=t.id,console.log(t),console.log(t.id)}),this.getData(),this.MyQuery()}handleRegister(t){this.addData(t)}randomCode(){let t="";for(let o=0;o<20;o++)t+="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".charAt(Math.floor(62*Math.random()));return t}addData(t){let r=t.integrantes.split(/[\s,]+/);const i=Ie(this.firestore,"projects",this.pid);vi(i,{name:t.name,cliente:t.cliente,owner:t.owner,integrantes:r}).then(()=>{alert("Data Sent")}).catch(o=>{alert(o.message)}),console.log(t.comentarios)}getData(){const t=xe(this.firestore,"projects");pe(t).then(r=>{this.data=[...r.docs.map(i=>({...i.data(),id:i.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude)}getLocation(){var t=this;return _(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{console.log(t.res)},1e3)})()}MyQuery(){var t=this;return _(function*(){let r=t.text;const i=dn(xe(t.firestore,"projects"),nn("name","==",r));(yield pe(i)).forEach(s=>{t.item=s.data(),t.pid=s.id,console.log(s.id," => ",s.data())})})()}deleteData(t){const r=Ie(this.firestore,"projects",t);Fn(r).then(()=>{alert("Data Deleted"),this.getData()}).catch(i=>{alert(i.message)})}editProyecto(){this.router.navigate(["user/project-edit/"+this.text])}backPage(){this.location.back()}static#e=this.\u0275fac=function(r){return new(r||n)(x(Me),x(ut),x(Ge),x(ct),x(_r))};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-project-info"]],viewQuery:function(r,i){if(1&r&&$n(WOe,5),2&r){let o;bn(o=wn())&&(i.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:30,vars:4,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],[1,"input-field"],[1,"boton",3,"click"]],template:function(r,i){if(1&r){const o=yt();g(0,"p"),w(1,"project-info works!"),p(),g(2,"h1",0),w(3,"Datos del Projecto"),p(),g(4,"div",1)(5,"form",2,3),Q("ngSubmit",function(){Re(o);const a=Cn(6);return Ne(i.handleRegister(a.value))}),g(7,"div",4)(8,"div",5)(9,"span",6),w(10,"Nombre:"),p(),g(11,"span",7),w(12),p()(),g(13,"div",5)(14,"span",6),w(15,"Owner:"),p(),g(16,"span",7),w(17),p()(),g(18,"div",5)(19,"span",6),w(20,"Integrantes:"),p(),g(21,"span",7),w(22),p()(),g(23,"div",5)(24,"span",6),w(25,"Cliente:"),p(),g(26,"span",7),w(27),p()()()()(),g(28,"button",8),Q("click",function(){return i.editProyecto()}),w(29,"Editar Proyecto"),p()}2&r&&(z(12),Ue(" ",i.item.name,""),z(5),Ue(" ",i.item.owner,""),z(5),Ue(" ",i.item.integrantes,""),z(5),Ue(" ",i.item.cliente,""))},dependencies:[er,Jn,Mn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:25%;flex-shrink:0;position:absolute;left:15%;top:30%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:5%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:12px 12px 12px 25px;height:20px;left:92px;color:#000;font-family:Arial;font-size:20px;letter-spacing:0}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:35%;top:20%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:80%;top:60%}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:0%;top:110%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.input-field[_ngcontent-%COMP%]{margin:6px 6px 6px 20px;height:20px;width:50%;left:92px;color:#000;font-family:Arial;font-size:16px;letter-spacing:0;text-overflow:ellipsis}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:20px;font-family:Arial;font-size:16px;letter-spacing:0}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:90%;height:25%;flex-shrink:0;position:absolute;left:5%;top:45%}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:70%;top:75%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:30%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}@media only screen and (min-width: 1536px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:900px;height:260px;flex-shrink:0;position:absolute;left:50%;top:45%;transform:translate(-50%,-50%)}.boton[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(310px)}.subTituloText[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%)}}"]})}return n})();function QOe(n,e){if(1&n){const t=yt();g(0,"tr")(1,"td"),w(2),p(),g(3,"td"),w(4),p(),g(5,"td"),w(6),p(),g(7,"td"),w(8),p(),g(9,"td")(10,"button",8),Q("click",function(){const o=Re(t).$implicit,s=Zt();return Ne(s.Muestras(s.pid,o.codigo))}),p(),g(11,"button",9),Q("click",function(){const o=Re(t).$implicit;return Ne(Zt().infoUnidad(o.codigo))}),p(),g(12,"button",10),Q("click",function(){const o=Re(t).$implicit;return Ne(Zt().editUnidad(o.codigo))}),p()()()}if(2&n){const t=e.$implicit;z(2),He(t.codigo),z(2),He(t.cliente),z(2),He(t.altitud),z(2),He(t.coordenadas)}}let YOe=(()=>{class n{constructor(t,r,i,o,s){this.router=t,this.route=r,this.auth=i,this.firestore=o,this.location=s,this.data=[]}ngOnInit(){this.route.params.subscribe(t=>{this.pid=t.id,console.log(t),console.log(t.id)}),this.MyQuery()}getData(){const t=xe(this.firestore,"unidad-produccion");pe(t).then(r=>{this.data=[...r.docs.map(i=>({...i.data(),id:i.id}))]})}updateData(t){const r=Ie(this.firestore,"unidad-produccion",t);bi(r,{}).then(()=>{alert("Data updated"),this.getData()}).catch(i=>{alert(i.message)})}deleteData(t){const r=Ie(this.firestore,"unidad-produccion",t);Fn(r).then(()=>{alert("Data Deleted"),this.getData()}).catch(i=>{alert(i.message)})}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["user/projects"])}Muestras(t,r){this.router.navigate(["user/muestras/"+t+"/"+r])}logOut(){Br(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}newUnidad(t){this.router.navigate(["user/unidad-produccion-new/"+t])}editUnidad(t){this.router.navigate(["user/unidad-produccion-edit/"+t])}infoProject(t){this.router.navigate(["user/project-info/"+t])}infoUnidad(t){this.router.navigate(["user/unidad-produccion-info/"+t])}MyQuery(){var t=this;return _(function*(){let r=t.pid;console.log(r);const i=dn(xe(t.firestore,"unidad-produccion"),nn("project","==",r));pe(i).then(s=>{t.data=[...s.docs.map(a=>({...a.data(),id:a.id}))]}),(yield pe(i)).forEach(s=>{console.log(s.id," => ",s.data())})})()}backPage(){this.location.back()}static#e=this.\u0275fac=function(r){return new(r||n)(x(Me),x(ut),x(Ge),x(ct),x(_r))};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-unidad-produccion"]],decls:25,vars:1,consts:[[1,"subTituloText"],[1,"scanbutton"],[1,"scantext",3,"click"],[1,"list"],[1,"projectBlock"],[4,"ngFor","ngForOf"],["id","agregar",1,"boton",3,"click"],["id","volver",1,"boton",3,"click"],[1,"muestras",3,"click"],[1,"detalles",3,"click"],[1,"edit",3,"click"]],template:function(r,i){1&r&&(g(0,"p"),w(1,"unidad-produccion works!"),p(),g(2,"h1",0),w(3,"Unidades "),p(),g(4,"div",1)(5,"div",2),Q("click",function(){return i.Scan()}),w(6,"SCAN"),p()(),g(7,"div",3)(8,"div",4),w(9,"Proyecto"),p(),g(10,"table")(11,"tr")(12,"th"),w(13," Codigo "),p(),g(14,"th"),w(15," Cliente "),p(),g(16,"th"),w(17," Altitud"),p(),g(18,"th"),w(19," Coordenadas "),p(),te(20,"th"),p(),Xn(21,QOe,13,4,"tr",5),p(),g(22,"button",6),Q("click",function(){return i.newUnidad(i.pid)}),w(23," Agregar "),p(),g(24,"button",7),Q("click",function(){return i.backPage()}),p()()),2&r&&(z(21),dr("ngForOf",i.data))},dependencies:[uo],styles:[".list[_ngcontent-%COMP%]{position:absolute;left:38%;top:38%}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.projectBlock[_ngcontent-%COMP%]{width:60%;height:35px;background:#3ec28f;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:20px;font-weight:700;letter-spacing:0;cursor:pointer}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:153px;height:36px;left:49%;top:30%;position:absolute;background:#4c9eff;border-radius:30px;box-shadow:2px 2px 5px #000}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}#volver[_ngcontent-%COMP%]{position:absolute;left:0%;border:none;width:50px;height:50px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(back-button-Edit4.8567daeed3ab1418.png)}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;text-shadow:2px 2px 5px black;left:45%;top:20%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.projectBlock[_ngcontent-%COMP%]{width:40%;height:25px;background:#3ec28f;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:14px;font-weight:700;letter-spacing:0;cursor:pointer}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:153px;height:36px;left:30%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:80%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}#volver[_ngcontent-%COMP%]{position:absolute;left:0%}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;left:30%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}return n})();const XOe=["geo"];let ZOe=(()=>{class n{static#e=this.text="";constructor(t,r,i,o){this.router=t,this.route=r,this.auth=i,this.firestore=o,this.title="gestion-de-muestras-de-campo",this.data=[],this.res="",this.somethingChange=new Qe}ngOnInit(){this.route.params.subscribe(t=>{this.pid=t.id})}handleRegister(t){this.addData(t)}addData(t){const r=Ie(this.firestore,"unidad-produccion",t.codigo);vi(r,{codigo:t.codigo,cliente:t.cliente,fecha:t.fecha,cultivo:t.cultivo,tipo:t.tipo,fitopatogeno:t.fitopatogeno,estado:t.estado,coordenadas:t.coordenadas,sintomas:t.sintomas,comentarios:t.comentarios,project:this.pid}).then(()=>{alert("Data Sent")}).catch(i=>{alert(i.message)}),console.log(t.comentarios)}getData(){const t=xe(this.firestore,"unidad-produccion");pe(t).then(r=>{this.data=[...r.docs.map(i=>({...i.data(),id:i.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude),n.text=t.coords.latitude+", "+t.coords.longitude,console.log(n.text)}getLocation(){var t=this;return _(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{t.res=n.text,console.log(t.res)},1e3)})()}static#t=this.\u0275fac=function(r){return new(r||n)(x(Me),x(ut),x(Ge),x(ct))};static#n=this.\u0275cmp=Te({type:n,selectors:[["app-unidad-produccion-new"]],viewQuery:function(r,i){if(1&r&&$n(XOe,5),2&r){let o;bn(o=wn())&&(i.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:52,vars:1,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],["name","codigo","ngModel","","placeholder","codigo","id","codigo","type","codigo",1,"input-field"],["name","cliente","ngModel","","placeholder","Cliente","id","cliente","type","cliente",1,"input-field"],["name","coordenadas","ngModel","","placeholder","Coordenadas","id","coordenadas","type","coordenadas",1,"input-field",3,"ngModel","ngModelChange"],[1,"bUbicacion",3,"click"],["src","../../../../assets/Ubicacion.png","alt","U"],["name","localidad","ngModel","","placeholder","Localidad","id","localidad","type","localidad",1,"input-field"],["name","municipio","ngModel","","placeholder","Municipio","id","municipio","type","municipio",1,"input-field"],["name","estado","ngModel","","placeholder","Estado","id","estado","type","estado",1,"input-field"],["name","altitud","ngModel","","placeholder","Altitud","id","altitud","type","altitud",1,"input-field"],["name","tempmax","ngModel","","placeholder","Temperaturas M\xe1ximas","id","tempmax","type","tempmax",1,"input-field"],["name","tempmin","ngModel","","placeholder","Temperaturas M\xednimas","id","tempmin","type","tempmin",1,"input-field"],["name","precipitacion","ngModel","","placeholder","Precipitaci\xf3n","id","precipitacion","type","precipitacion",1,"input-field"],[1,"boton"]],template:function(r,i){if(1&r){const o=yt();g(0,"p"),w(1,"unidad-produccion-new works!"),p(),g(2,"h1",0),w(3,"Nueva Unidad"),p(),g(4,"div",1)(5,"form",2,3),Q("ngSubmit",function(){Re(o);const a=Cn(6);return Ne(i.handleRegister(a.value))}),g(7,"div",4)(8,"div",5)(9,"span",6),w(10,"Codigo:"),p(),te(11,"input",7),p(),g(12,"div",5)(13,"span",6),w(14,"Cliente:"),p(),te(15,"input",8),p(),g(16,"div",5)(17,"span",6),w(18,"Coordenadas:"),p(),g(19,"input",9),nt("ngModelChange",function(a){return at(i.res,a)||(i.res=a),a}),p(),g(20,"div",10),Q("click",function(){return i.getLocation()}),te(21,"img",11),p()(),g(22,"div",5)(23,"span",6),w(24,"Localidad:"),p(),te(25,"input",12),p(),g(26,"div",5)(27,"span",6),w(28,"Municipio:"),p(),te(29,"input",13),p(),g(30,"div",5)(31,"span",6),w(32,"Estado:"),p(),te(33,"input",14),p(),g(34,"div",5)(35,"span",6),w(36,"Altitud:"),p(),te(37,"input",15),p(),g(38,"div",5)(39,"span",6),w(40,"Temperaturas M\xe1ximas:"),p(),te(41,"input",16),p(),g(42,"div",5)(43,"span",6),w(44,"Temperaturas M\xednimas:"),p(),te(45,"input",17),p(),g(46,"div",5)(47,"span",6),w(48,"Precipitaci\xf3n:"),p(),te(49,"input",18),p(),g(50,"button",19),w(51,"Crear Unidad"),p()()()()}2&r&&(z(19),tt("ngModel",i.res))},dependencies:[er,Zr,Si,Jn,gi,Mn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:70%;flex-shrink:0;position:absolute;left:15%;top:25%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:3%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:85%;height:20px;left:92px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:35%;top:15%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:80%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:85%;height:50%;flex-shrink:0;position:absolute;left:7%;top:30%}.input-field[_ngcontent-%COMP%]{margin:10px 10px 10px 20px;width:85%;height:20px;left:92px}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:20px;font-family:Arial;font-size:16px;letter-spacing:0}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:3%;top:3%}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:75%;top:110%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}return n})();const JOe=["geo"];let ePe=(()=>{class n{static#e=this.text="";constructor(t,r,i,o,s){this.router=t,this.route=r,this.auth=i,this.firestore=o,this.location=s,this.title="gestion-de-muestras-de-campo",this.data=[],this.res="",this.somethingChange=new Qe}ngOnInit(){this.route.params.subscribe(t=>{this.x=t.id,console.log(t),console.log(t.id)}),this.getData(),this.MyQuery()}handleRegister(t){this.addData(t),this.Home()}addData(t){var r=this;return _(function*(){console.log(t);const i=Ie(r.firestore,"unidad-produccion",t.codigo);bi(i,{codigo:t.codigo,cliente:t.cliente,fecha:t.fecha,cultivo:t.cultivo,tipo:t.tipo,fitopatogeno:t.fitopatogeno,estado:t.estado,coordenadas:t.coordenadas,sintomas:t.sintomas,comentarios:t.comentarios,project:r.pid}).then(()=>{alert("Data Sent")}).catch(o=>{alert(o.message)}),console.log(r.pid)})()}getData(){const t=xe(this.firestore,"unidad-produccion");pe(t).then(r=>{this.data=[...r.docs.map(i=>({...i.data(),id:i.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude),n.text=t.coords.latitude+", "+t.coords.longitude}getLocation(){var t=this;return _(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{t.res=n.text,console.log(t.res)},1e3)})()}MyQuery(){var t=this;return _(function*(){let r=t.x;const i=dn(xe(t.firestore,"unidad-produccion"),nn("codigo","==",r)),o=yield pe(i);o.empty||o.forEach(s=>{t.item=s.data(),console.log(s.id," => ",s.data()),t.res=t.item.coordenadas,t.pid=t.item.project})})()}deleteData(t){const i=Ie(this.firestore,"unidad-produccion",this.x);Fn(i).then(()=>{alert("Data Deleted"),this.router.navigate(["user/unidad-produccion/"+this.pid])}).catch(o=>{alert(o.message)})}Home(){this.router.navigate(["user/projects"])}backPage(){this.location.back()}static#t=this.\u0275fac=function(r){return new(r||n)(x(Me),x(ut),x(Ge),x(ct),x(_r))};static#n=this.\u0275cmp=Te({type:n,selectors:[["app-unidad-produccion-edit"]],viewQuery:function(r,i){if(1&r&&$n(JOe,5),2&r){let o;bn(o=wn())&&(i.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:64,vars:10,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],["name","codigo","ngModel","","placeholder","codigo","id","codigo","type","codigo",1,"input-field",3,"ngModel","ngModelChange"],["name","cliente","ngModel","","placeholder","Cliente","id","cliente","type","cliente",1,"input-field",3,"ngModel","ngModelChange"],["name","fecha","ngModel","","placeholder","Fecha","id","fecha","type","fecha",1,"input-field",3,"ngModel","ngModelChange"],["name","cultivo","ngModel","","placeholder","Cultivo","id","cultivo","type","cultivo",1,"input-field",3,"ngModel","ngModelChange"],["list","tipos","name","tipo","ngModel","","placeholder","Tipo","id","tipo","type","tipo",1,"input-field",3,"ngModel","ngModelChange"],["id","tipos"],["value","Hibrido"],["value","Variedad"],["value","Clone"],["list","fitopatogenos","name","fitopatogeno","ngModel","","placeholder","Fitopat\xf3geno","id","fitopatogeno","type","fitopatogeno",1,"input-field",3,"ngModel","ngModelChange"],["id","fitopatogenos"],["value","Hongos"],["value","Bacterias"],["value","Virus"],["name","estado","ngModel","","placeholder","Estado","id","estado","type","estado",1,"input-field",3,"ngModel","ngModelChange"],["name","coordenadas","ngModel","","placeholder","Coordenadas","id","coordenadas","type","coordenadas",1,"input-field",3,"ngModel","ngModelChange"],[1,"bUbicacion",3,"click"],["src","../../../../assets/Ubicacion.png","alt","U"],["name","sintomas","ngModel","","placeholder","S\xedntomas","id","sintomas","rows","4","cols","50",3,"ngModel","ngModelChange"],["name","comentarios","ngModel","","placeholder","Comentarios","id","comentarios","rows","4","cols","50",3,"ngModel","ngModelChange"],[1,"boton"],[1,"botonrojo",3,"click"],[1,"blank"]],template:function(r,i){if(1&r){const o=yt();g(0,"p"),w(1,"unidad-produccion-edit works!"),p(),g(2,"h1",0),w(3,"Editar Unidad"),p(),g(4,"div",1)(5,"form",2,3),Q("ngSubmit",function(){Re(o);const a=Cn(6);return Ne(i.handleRegister(a.value))}),g(7,"div",4)(8,"div",5)(9,"span",6),w(10,"Codigo:"),p(),g(11,"input",7),nt("ngModelChange",function(a){return at(i.item.codigo,a)||(i.item.codigo=a),a}),p()(),g(12,"div",5)(13,"span",6),w(14,"Cliente:"),p(),g(15,"input",8),nt("ngModelChange",function(a){return at(i.item.cliente,a)||(i.item.cliente=a),a}),p()(),g(16,"div",5)(17,"span",6),w(18,"Fecha:"),p(),g(19,"input",9),nt("ngModelChange",function(a){return at(i.item.fecha,a)||(i.item.fecha=a),a}),p()(),g(20,"div",5)(21,"span",6),w(22,"Cultivo:"),p(),g(23,"input",10),nt("ngModelChange",function(a){return at(i.item.cultivo,a)||(i.item.cultivo=a),a}),p()(),g(24,"div",5)(25,"span",6),w(26,"Tipo:"),p(),g(27,"input",11),nt("ngModelChange",function(a){return at(i.item.tipo,a)||(i.item.tipo=a),a}),p(),g(28,"datalist",12),te(29,"option",13)(30,"option",14)(31,"option",15),p()(),g(32,"div",5)(33,"span",6),w(34,"Fitopat\xf3geno:"),p(),g(35,"input",16),nt("ngModelChange",function(a){return at(i.item.fitopatogeno,a)||(i.item.fitopatogeno=a),a}),p(),g(36,"datalist",17),te(37,"option",18)(38,"option",19)(39,"option",20),p()(),g(40,"div",5)(41,"span",6),w(42,"Estado:"),p(),g(43,"input",21),nt("ngModelChange",function(a){return at(i.item.estado,a)||(i.item.estado=a),a}),p()(),g(44,"div",5)(45,"span",6),w(46,"Coordenadas:"),p(),g(47,"input",22),nt("ngModelChange",function(a){return at(i.res,a)||(i.res=a),a}),p(),g(48,"div",23),Q("click",function(){return i.getLocation()}),te(49,"img",24),p()(),g(50,"div",5)(51,"span",6),w(52,"S\xedntomas:"),p(),g(53,"textarea",25),nt("ngModelChange",function(a){return at(i.item.sintomas,a)||(i.item.sintomas=a),a}),p()(),g(54,"div",5)(55,"span",6),w(56,"Comentarios:"),p(),g(57,"textarea",26),nt("ngModelChange",function(a){return at(i.item.comentarios,a)||(i.item.comentarios=a),a}),w(58," "),p()(),g(59,"button",27),w(60,"Editar Unidad"),p(),g(61,"button",28),Q("click",function(){return i.deleteData(i.item.id)}),w(62," Delete "),p()(),te(63,"div",29),p()()}2&r&&(z(11),tt("ngModel",i.item.codigo),z(4),tt("ngModel",i.item.cliente),z(4),tt("ngModel",i.item.fecha),z(4),tt("ngModel",i.item.cultivo),z(4),tt("ngModel",i.item.tipo),z(8),tt("ngModel",i.item.fitopatogeno),z(8),tt("ngModel",i.item.estado),z(4),tt("ngModel",i.res),z(6),tt("ngModel",i.item.sintomas),z(4),tt("ngModel",i.item.comentarios))},dependencies:[er,wp,Cp,Zr,Si,Jn,gi,Mn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:70%;flex-shrink:0;position:absolute;left:15%;top:25%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:3%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:85%;height:20px;left:92px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:35%;top:17%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:90%;top:100%}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:0%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.input-field[_ngcontent-%COMP%]{margin:6px 6px 6px 24px;height:20px;left:92px;color:#000;font-family:Arial;font-size:16px;letter-spacing:0;text-overflow:ellipsis}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:6px 6px 6px 22px;font-family:Arial;width:85%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:3%;top:2%}.Text[_ngcontent-%COMP%]{color:#000;height:20px;font-family:Arial;font-size:16px;letter-spacing:0}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:95%;height:85%;flex-shrink:0;position:absolute;left:2.5%;top:30%}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:67%;top:105%;border:none;float:right;background-color:#3eb3c2;color:#fff;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:12px;left:0%;top:105%}.blank[_ngcontent-%COMP%]{width:100%;height:16px;position:absolute;left:0%;top:110%}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}return n})();const tPe=["geo"];let nPe=(()=>{class n{constructor(t,r,i,o,s){this.router=t,this.route=r,this.auth=i,this.firestore=o,this.location=s,this.title="gestion-de-muestras-de-campo",this.data=[],this.somethingChange=new Qe,this.getData(),this.MyQuery()}ngOnInit(){this.route.params.subscribe(t=>{this.text=t.id,console.log(t),console.log(t.id)}),this.getData(),this.MyQuery()}handleRegister(t){this.addData(t)}addData(t){const r=Ie(this.firestore,"unidad-produccion",t.codigo);vi(r,t).then(()=>{alert("Data Sent")}).catch(i=>{alert(i.message)}),console.log(t.comentarios)}getData(){const t=xe(this.firestore,"unidad-produccion");pe(t).then(r=>{this.data=[...r.docs.map(i=>({...i.data(),id:i.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude)}getLocation(){var t=this;return _(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{console.log(t.res)},1e3)})()}MyQuery(){var t=this;return _(function*(){let r=t.text;const i=dn(xe(t.firestore,"unidad-produccion"),nn("codigo","==",r)),o=yield pe(i);o.empty||o.forEach(s=>{t.item=s.data(),console.log(s.id," => ",s.data())})})()}editMuestra(){this.router.navigate(["user/unidad-produccion-edit/"+this.text])}deleteData(t){const r=Ie(this.firestore,"users",t);Fn(r).then(()=>{alert("Data Deleted"),this.getData()}).catch(i=>{alert(i.message)})}backPage(){this.location.back()}static#e=this.\u0275fac=function(r){return new(r||n)(x(Me),x(ut),x(Ge),x(ct),x(_r))};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-unidad-produccion-info"]],viewQuery:function(r,i){if(1&r&&$n(tPe,5),2&r){let o;bn(o=wn())&&(i.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:60,vars:10,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],[1,"input-field"],[1,"boton",3,"click"]],template:function(r,i){if(1&r){const o=yt();g(0,"p"),w(1,"unidad-produccion-info works!"),p(),g(2,"h1",0),w(3,"Datos de la Muestra"),p(),g(4,"div",1)(5,"form",2,3),Q("ngSubmit",function(){Re(o);const a=Cn(6);return Ne(i.handleRegister(a.value))}),g(7,"div",4)(8,"div",5)(9,"span",6),w(10,"Codigo:"),p(),g(11,"span",7),w(12),p()(),g(13,"div",5)(14,"span",6),w(15,"Cliente:"),p(),g(16,"span",7),w(17),p()(),g(18,"div",5)(19,"span",6),w(20,"Coordenadas:"),p(),g(21,"span",7),w(22),p()(),g(23,"div",5)(24,"span",6),w(25,"Localidad:"),p(),g(26,"span",7),w(27),p()(),g(28,"div",5)(29,"span",6),w(30,"Municipio:"),p(),g(31,"span",7),w(32),p()(),g(33,"div",5)(34,"span",6),w(35,"Estado:"),p(),g(36,"span",7),w(37),p()(),g(38,"div",5)(39,"span",6),w(40,"Altitud:"),p(),g(41,"span",7),w(42),p()(),g(43,"div",5)(44,"span",6),w(45,"Temperaturas M\xe1ximas:"),p(),g(46,"span",7),w(47),p()(),g(48,"div",5)(49,"span",6),w(50,"Temperaturas M\xednimas:"),p(),g(51,"span",7),w(52),p()(),g(53,"div",5)(54,"span",6),w(55,"Precipitaci\xf3n:"),p(),g(56,"span",7),w(57),p()()()()(),g(58,"button",8),Q("click",function(){return i.editMuestra()}),w(59,"Editar Unidad"),p()}2&r&&(z(12),Ue(" ",i.item.codigo,""),z(5),Ue(" ",i.item.cliente,""),z(5),Ue(" ",i.item.coordenadas,""),z(5),Ue(" ",i.item.localidad,""),z(5),Ue(" ",i.item.municipio,""),z(5),Ue(" ",i.item.cliente,""),z(5),Ue(" ",i.item.altitud,""),z(5),Ue(" ",i.item.tempmax,""),z(5),Ue(" ",i.item.tempmin,""),z(5),Ue(" ",i.item.precipitacion,""))},dependencies:[er,Jn,Mn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:65%;height:55%;flex-shrink:0;position:absolute;left:25%;top:30%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:10%;top:7%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:12px 12px 12px 25px;height:20px;left:92px;color:#000;font-family:Arial;font-size:20px;letter-spacing:0}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:40%;top:20%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;height:25px;font-family:Arial;font-size:20px;font-weight:700;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:80%;top:88%}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:0%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.input-field[_ngcontent-%COMP%]{margin:6px 6px 6px 15px;height:20px;left:92px;color:#000;font-family:Arial;font-size:16px;letter-spacing:0;text-overflow:ellipsis}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:5%;top:3%}.Text[_ngcontent-%COMP%]{color:#000;height:20px;font-family:Arial;font-size:16px;letter-spacing:0}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:90%;height:53%;flex-shrink:0;position:absolute;left:5%;top:35%}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:67%;top:90%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:12px;left:0%;top:110%}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:25%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}return n})();function rPe(n,e){if(1&n){const t=yt();g(0,"tr")(1,"td"),w(2),p(),g(3,"td"),w(4),p(),g(5,"td"),w(6),p(),g(7,"td"),w(8),p(),g(9,"td")(10,"button",4),Q("click",function(){const o=Re(t).$implicit;return Ne(Zt().infoClients(o.email))}),p(),g(11,"button",5),Q("click",function(){const o=Re(t).$implicit;return Ne(Zt().editClients(o.email))}),p()()()}if(2&n){const t=e.$implicit;z(2),He(t.email),z(2),He(t.nombre),z(2),He(t.telefono),z(2),He(t.direccion)}}let iPe=(()=>{class n{constructor(t,r,i,o){this.router=t,this.route=r,this.auth=i,this.firestore=o,this.data=[],this.getData()}ngOnInit(){this.route.params.subscribe(t=>{this.item=t.id,console.log(t),console.log(t.id)})}getData(){const t=xe(this.firestore,"clientes");pe(t).then(r=>{this.data=[...r.docs.map(i=>({...i.data(),id:i.id}))]})}updateData(t){const r=Ie(this.firestore,"muestras",t);bi(r,{}).then(()=>{alert("Data updated"),this.getData()}).catch(i=>{alert(i.message)})}deleteData(t){const r=Ie(this.firestore,"muestras",t);Fn(r).then(()=>{alert("Data Deleted"),this.getData()}).catch(i=>{alert(i.message)})}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["user/projects"])}logOut(){Br(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}newClients(){this.router.navigate(["user/clients-new"])}editClients(t){this.router.navigate(["user/clients-edit/"+t])}infoClients(t){this.router.navigate(["user/clients-info/"+t])}infoMuestra(t){this.router.navigate(["user/muestras-info/"+t])}MyQuery(){var t=this;return _(function*(){let r=t.item;t.pid=r,console.log(r);const i=dn(xe(t.firestore,"muestras"),nn("project","==",r));pe(i).then(s=>{t.data=[...s.docs.map(a=>({...a.data(),id:a.id}))]}),(yield pe(i)).forEach(s=>{console.log(s.id," => ",s.data())})})()}static#e=this.\u0275fac=function(r){return new(r||n)(x(Me),x(ut),x(Ge),x(ct))};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-clients"]],decls:19,vars:1,consts:[[1,"subTituloText"],[1,"list"],[4,"ngFor","ngForOf"],["id","agregar",1,"boton",3,"click"],[1,"detalles",3,"click"],[1,"edit",3,"click"]],template:function(r,i){1&r&&(g(0,"p"),w(1,"clients works!"),p(),g(2,"h1",0),w(3,"Clientes"),p(),g(4,"div",1)(5,"table")(6,"tr")(7,"th"),w(8," Email "),p(),g(9,"th"),w(10," Nombre "),p(),g(11,"th"),w(12," Telefono"),p(),g(13,"th"),w(14," Direccion "),p(),te(15,"th"),p(),Xn(16,rPe,12,4,"tr",2),p(),g(17,"button",3),Q("click",function(){return i.newClients()}),w(18," Agregar "),p()()),2&r&&(z(16),dr("ngForOf",i.data))},dependencies:[uo],styles:[".list[_ngcontent-%COMP%]{position:absolute;left:38%;top:38%}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.projectBlock[_ngcontent-%COMP%]{width:auto;height:35px;background:#3ec28f;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:20px;font-weight:700;letter-spacing:0;cursor:pointer}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:153px;height:36px;left:49%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:126px;height:16px;left:50%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:300px;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;left:45%;top:20%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;margin-left:2px;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.list[_ngcontent-%COMP%]{position:absolute;left:2%;width:94%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:80%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;left:30%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}return n})();const oPe=["geo"];let sPe=(()=>{class n{static#e=this.text="";constructor(t,r,i,o){this.router=t,this.route=r,this.auth=i,this.firestore=o,this.title="gestion-de-muestras-de-campo",this.data=[],this.res="",this.somethingChange=new Qe}ngOnInit(){this.route.params.subscribe(t=>{this.pid=t.id})}handleRegister(t){this.addData(t)}addData(t){const r=Ie(this.firestore,"clientes",t.email);vi(r,{email:t.email,nombre:t.nombre,fecha:t.fecha,telefono:t.telefono,direccion:t.direccion}).then(()=>{alert("Data Sent")}).catch(i=>{alert(i.message)}),console.log(t.comentarios)}getData(){const t=xe(this.firestore,"muestras");pe(t).then(r=>{this.data=[...r.docs.map(i=>({...i.data(),id:i.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude),n.text=t.coords.latitude+", "+t.coords.longitude,console.log(n.text)}getLocation(){var t=this;return _(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{t.res=n.text,console.log(t.res)},1e3)})()}static#t=this.\u0275fac=function(r){return new(r||n)(x(Me),x(ut),x(Ge),x(ct))};static#n=this.\u0275cmp=Te({type:n,selectors:[["app-clients-new"]],viewQuery:function(r,i){if(1&r&&$n(oPe,5),2&r){let o;bn(o=wn())&&(i.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:26,vars:0,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],["name","email","ngModel","","placeholder","Email","id","emai","type","email",1,"input-field"],["name","nombre","ngModel","","placeholder","Nombre","id","nombre","type","nombre",1,"input-field"],["name","telefono","ngModel","","placeholder","Telefono","id","telefono","type","telefono",1,"input-field"],["name","direccion","ngModel","","placeholder","Direccion","id","direccion","type","direccion",1,"input-field"],[1,"boton"]],template:function(r,i){if(1&r){const o=yt();g(0,"p"),w(1,"clients-new works!"),p(),g(2,"h1",0),w(3,"Nuevo Cliente"),p(),g(4,"div",1)(5,"form",2,3),Q("ngSubmit",function(){Re(o);const a=Cn(6);return Ne(i.handleRegister(a.value))}),g(7,"div",4)(8,"div",5)(9,"span",6),w(10,"Email:"),p(),te(11,"input",7),p(),g(12,"div",5)(13,"span",6),w(14,"Nombre:"),p(),te(15,"input",8),p(),g(16,"div",5)(17,"span",6),w(18,"Telefono:"),p(),te(19,"input",9),p(),g(20,"div",5)(21,"span",6),w(22,"Direccion:"),p(),te(23,"input",10),p(),g(24,"button",11),w(25,"Crear Cliente"),p()()()()}},dependencies:[er,Zr,Si,Jn,gi,Mn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:30%;flex-shrink:0;position:absolute;left:15%;top:30%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:3%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:85%;height:20px;left:92px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:35%;top:20%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:80%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:85%;height:50%;flex-shrink:0;position:absolute;left:7%;top:30%}.input-field[_ngcontent-%COMP%]{margin:10px 10px 10px 20px;width:85%;height:20px;left:92px}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:20px;font-family:Arial;font-size:16px;letter-spacing:0}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:3%;top:3%}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:75%;top:110%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}return n})();function aPe(n,e){if(1&n){const t=yt();g(0,"tr")(1,"td"),w(2),p(),g(3,"td"),w(4),p(),g(5,"td"),w(6),p(),g(7,"td"),w(8),p(),g(9,"td")(10,"button",5),Q("click",function(){const o=Re(t).$implicit,s=Zt();return Ne(s.Muestras(s.pid,o.codigo))}),p(),g(11,"button",6),Q("click",function(){const o=Re(t).$implicit;return Ne(Zt().infoUnidad(o.codigo))}),p(),g(12,"button",7),Q("click",function(){const o=Re(t).$implicit;return Ne(Zt().editUnidad(o.codigo))}),p()()()}if(2&n){const t=e.$implicit;z(2),He(t.codigo),z(2),He(t.cliente),z(2),He(t.altitud),z(2),He(t.coordenadas)}}let cPe=(()=>{class n{constructor(t,r,i,o){this.router=t,this.route=r,this.auth=i,this.firestore=o,this.data=[],this.getData()}ngOnInit(){this.route.params.subscribe(t=>{this.pid=t.id,console.log(t),console.log(t.id)})}getData(){const t=xe(this.firestore,"unidad-produccion");pe(t).then(r=>{this.data=[...r.docs.map(i=>({...i.data(),id:i.id}))]})}updateData(t){const r=Ie(this.firestore,"unidad-produccion",t);bi(r,{}).then(()=>{alert("Data updated"),this.getData()}).catch(i=>{alert(i.message)})}deleteData(t){const r=Ie(this.firestore,"unidad-produccion",t);Fn(r).then(()=>{alert("Data Deleted"),this.getData()}).catch(i=>{alert(i.message)})}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["user/projects"])}Muestras(t,r){this.router.navigate(["user/muestras/"+t+"/"+r])}logOut(){Br(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}newUnidad(t){this.router.navigate(["user/unidad-produccion-new/"+t])}editUnidad(t){this.router.navigate(["user/unidad-produccion-edit/"+t])}infoProject(t){this.router.navigate(["user/project-info/"+t])}infoUnidad(t){this.router.navigate(["user/unidad-produccion-info/"+t])}MyQuery(){var t=this;return _(function*(){let r=t.pid;console.log(r);const i=dn(xe(t.firestore,"unidad-produccion"),nn("project","==",r));pe(i).then(s=>{t.data=[...s.docs.map(a=>({...a.data(),id:a.id}))]}),(yield pe(i)).forEach(s=>{console.log(s.id," => ",s.data())})})()}static#e=this.\u0275fac=function(r){return new(r||n)(x(Me),x(ut),x(Ge),x(ct))};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-unidad-produccion-all"]],decls:20,vars:1,consts:[[1,"subTituloText"],[1,"scanbutton"],[1,"scantext",3,"click"],[1,"list"],[4,"ngFor","ngForOf"],[1,"muestras",3,"click"],[1,"detalles",3,"click"],[1,"edit",3,"click"]],template:function(r,i){1&r&&(g(0,"p"),w(1,"unidad-produccion-all works!"),p(),g(2,"h1",0),w(3,"Unidades "),p(),g(4,"div",1)(5,"div",2),Q("click",function(){return i.Scan()}),w(6,"SCAN"),p()(),g(7,"div",3)(8,"table")(9,"tr")(10,"th"),w(11," Codigo "),p(),g(12,"th"),w(13," Cliente "),p(),g(14,"th"),w(15," Altitud"),p(),g(16,"th"),w(17," Coordenadas "),p(),te(18,"th"),p(),Xn(19,aPe,13,4,"tr",4),p()()),2&r&&(z(19),dr("ngForOf",i.data))},dependencies:[uo],styles:[".list[_ngcontent-%COMP%]{position:absolute;left:38%;top:38%}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.projectBlock[_ngcontent-%COMP%]{width:auto;height:35px;background:#3ec28f;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:20px;font-weight:700;letter-spacing:0;cursor:pointer}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{cursor:pointer;width:153px;height:36px;left:49%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;left:45%;top:20%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.list[_ngcontent-%COMP%]{position:absolute;left:2%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:153px;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:80%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;left:30%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}return n})();const lPe=["geo"];let uPe=(()=>{class n{static#e=this.text="";constructor(t,r,i,o,s){this.router=t,this.route=r,this.auth=i,this.firestore=o,this.location=s,this.title="gestion-de-muestras-de-campo",this.data=[],this.res="",this.somethingChange=new Qe}ngOnInit(){this.route.params.subscribe(t=>{this.x=t.id,console.log(t),console.log(t.id)}),this.getData(),this.MyQuery()}handleRegister(t){this.addData(t),this.Home()}addData(t){var r=this;return _(function*(){console.log(t);const i=Ie(r.firestore,"clientes",t.email);bi(i,{email:t.email,nombre:t.nombre,fecha:t.fecha,telefono:t.telefono,direccion:t.direccion}).then(()=>{alert("Data Sent")}).catch(o=>{alert(o.message)}),console.log(r.pid)})()}getData(){const t=xe(this.firestore,"clientes");pe(t).then(r=>{this.data=[...r.docs.map(i=>({...i.data(),id:i.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude),n.text=t.coords.latitude+", "+t.coords.longitude}getLocation(){var t=this;return _(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{t.res=n.text,console.log(t.res)},1e3)})()}MyQuery(){var t=this;return _(function*(){let r=t.x;const i=dn(xe(t.firestore,"clientes"),nn("email","==",r)),o=yield pe(i);o.empty||o.forEach(s=>{t.item=s.data(),console.log(s.id," => ",s.data()),t.res=t.item.coordenadas,t.pid=t.item.project})})()}deleteData(t){const i=Ie(this.firestore,"clientes",this.x);Fn(i).then(()=>{alert("Data Deleted"),this.router.navigate(["user/muestras/"+this.pid])}).catch(o=>{alert(o.message)})}Home(){this.router.navigate(["user/projects"])}backPage(){this.location.back()}static#t=this.\u0275fac=function(r){return new(r||n)(x(Me),x(ut),x(Ge),x(ct),x(_r))};static#n=this.\u0275cmp=Te({type:n,selectors:[["app-clients-edit"]],viewQuery:function(r,i){if(1&r&&$n(lPe,5),2&r){let o;bn(o=wn())&&(i.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:26,vars:4,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],["name","email","ngModel","","placeholder","Email","id","emai","type","email",1,"input-field",3,"ngModel","ngModelChange"],["name","nombre","ngModel","","placeholder","Nombre","id","nombre","type","nombre",1,"input-field",3,"ngModel","ngModelChange"],["name","telefono","ngModel","","placeholder","Telefono","id","telefono","type","telefono",1,"input-field",3,"ngModel","ngModelChange"],["name","direccion","ngModel","","placeholder","Direccion","id","direccion","type","direccion",1,"input-field",3,"ngModel","ngModelChange"],[1,"boton"]],template:function(r,i){if(1&r){const o=yt();g(0,"p"),w(1,"clients-edit works!"),p(),g(2,"h1",0),w(3,"Nuevo Cliente"),p(),g(4,"div",1)(5,"form",2,3),Q("ngSubmit",function(){Re(o);const a=Cn(6);return Ne(i.handleRegister(a.value))}),g(7,"div",4)(8,"div",5)(9,"span",6),w(10,"Email:"),p(),g(11,"input",7),nt("ngModelChange",function(a){return at(i.item.email,a)||(i.item.email=a),a}),p()(),g(12,"div",5)(13,"span",6),w(14,"Nombre:"),p(),g(15,"input",8),nt("ngModelChange",function(a){return at(i.item.nombre,a)||(i.item.nombre=a),a}),p()(),g(16,"div",5)(17,"span",6),w(18,"Telefono:"),p(),g(19,"input",9),nt("ngModelChange",function(a){return at(i.item.telefono,a)||(i.item.telefono=a),a}),p()(),g(20,"div",5)(21,"span",6),w(22,"Direccion:"),p(),g(23,"input",10),nt("ngModelChange",function(a){return at(i.item.direccion,a)||(i.item.direccion=a),a}),p()(),g(24,"button",11),w(25,"Editar Cliente"),p()()()()}2&r&&(z(11),tt("ngModel",i.item.email),z(4),tt("ngModel",i.item.nombre),z(4),tt("ngModel",i.item.telefono),z(4),tt("ngModel",i.item.direccion))},dependencies:[er,Zr,Si,Jn,gi,Mn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:30%;flex-shrink:0;position:absolute;left:15%;top:30%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:3%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:85%;height:20px;left:92px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:35%;top:20%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:80%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:50%;flex-shrink:0;position:absolute;left:15%;top:30%}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:75%;top:110%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}return n})();const dPe=["geo"],hPe=[{path:"user",component:TW,children:[{path:"projects",component:dOe},{path:"project-new",component:mOe},{path:"project-edit/:id",component:HOe},{path:"project-info/:id",component:KOe},{path:"barcode/:id",component:pOe},{path:"barcode-cantidad/:id",component:(()=>{class n{constructor(t,r,i,o){this.router=t,this.route=r,this.auth=i,this.firestore=o,this.data=[]}ngOnInit(){let t;this.route.params.subscribe(r=>{this.item=r.id,t=r.id,console.log(r),console.log(r.id),this.generateBarcode(t)})}generateBarcode(t){var r=t;console.log(t),console.log(r),this.res=r,xm("#barcode",r,{format:"CODE128"})}toPrint(){this.router.navigate(["/print/"+this.res])}static#e=this.\u0275fac=function(r){return new(r||n)(x(Me),x(ut),x(Ge),x(ct))};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-barcode-cantidad"]],standalone:!0,features:[ns],decls:5,vars:0,consts:[["onclick","window.print(this)","id","barcode"],[1,"print",3,"click"]],template:function(r,i){1&r&&(g(0,"p"),w(1,"barcode-cantidad works!"),p(),T_(),te(2,"svg",0),cE(),g(3,"button",1),Q("click",function(){return i.toPrint()}),w(4,"Print"),p())},styles:[".main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:100%;left:5%;top:20%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.print[_ngcontent-%COMP%]{position:absolute;width:10%;left:45%;top:20%}svg[_ngcontent-%COMP%]{position:absolute;left:44%;top:35%}button[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:24px;font-weight:700;cursor:pointer;border-radius:30px}@media only screen and (max-width: 768px){.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:100%;left:5%;top:20%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.print[_ngcontent-%COMP%]{position:absolute;width:30%;left:40%;top:20%}svg[_ngcontent-%COMP%]{position:absolute;left:30%;top:35%}button[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:24px;font-weight:700;cursor:pointer;border-radius:30px}}"]})}return n})()},{path:"barcode-new",component:(()=>{class n{constructor(t,r,i,o,s){this.router=t,this.route=r,this.auth=i,this.firestore=o,this.location=s,this.data=[],this.num=1}ngOnInit(){let t;this.route.params.subscribe(r=>{this.item=r.id,t=r.id,this.generateBarcode(t)})}handleRegister(t){console.log(t.codigo),this.addData(t),this.Barcode(t.codigo)}generateBarcode(t){var i=t;this.res=i,xm("#barcode",i,{format:"CODE128"})}generateSVG(t,r){for(let i=0;i<t;i++){const o=document.createElement("div"),s=document.createElement("svg");o.setAttribute("class","subcode"),s.setAttribute("id","barcode"+i),document.getElementById("codes")?.appendChild(s)}}addData(t){let r=Ie(this.firestore,"muestras",t.codigo);vi(r,{codigo:t.codigo}),t.id&&(r=Ie(this.firestore,"projects",t.id),vi(r,{name:t.id})),t.ud&&(r=Ie(this.firestore,"unidad-produccion",t.ud),vi(r,{codigo:t.ud}))}toPrint(t){this.router.navigate(["/print/"+this.res+"/"+t])}sleep(t){return _(function*(){return new Promise(r=>setTimeout(r,t))})()}backPage(){this.location.back()}Barcode(t){this.router.navigate(["user/barcode/"+t])}static#e=this.\u0275fac=function(r){return new(r||n)(x(Me),x(ut),x(Ge),x(ct),x(_r))};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-barcode-new"]],decls:31,vars:0,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"group1"],[1,"input-fields"],[1,"Text"],["name","id","ngModel","","placeholder","ID Projecto","id","id","type","id",1,"input-field"],[1,"Opcional"],["name","ud","ngModel","","placeholder","ID Unidad","id","ud","type","ud",1,"input-field"],[1,"group2"],["name","codigo","ngModel","","placeholder","Codigo","id","codigo","type","codigo",1,"input-field"],[1,"red"],[1,"print"],["id","volver",3,"click"]],template:function(r,i){if(1&r){const o=yt();g(0,"p"),w(1,"barcode-new works!"),p(),g(2,"h1",0),w(3,"Generar Codigo"),p(),g(4,"div",1)(5,"form",2,3),Q("ngSubmit",function(){Re(o);const a=Cn(6);return Ne(i.handleRegister(a.value))}),g(7,"div",4)(8,"div",5)(9,"div",6)(10,"span",7),w(11,"Projecto: "),p(),te(12,"input",8),g(13,"span",9),w(14," (opcional) "),p()(),g(15,"div",6)(16,"span",7),w(17,"Unidad de Producci\xf3n: "),p(),te(18,"input",10),g(19,"span",9),w(20," (opcional) "),p()()(),g(21,"div",11)(22,"div",6)(23,"span",7),w(24," Codigo: "),p(),te(25,"input",12),g(26,"span",13),w(27," * (obligatorio) "),p()()(),g(28,"button",14),w(29,"Generar"),p(),g(30,"button",15),Q("click",function(){return i.backPage()}),p()()()()}},dependencies:[er,Zr,Si,Jn,gi,Mn],styles:[".main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;margin:10px;height:95%;width:95%}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:56px;letter-spacing:0;text-shadow:2px 2px 5px black;left:50%;top:20%;transform:translate(-50%)}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:650px;height:300px;flex-shrink:0;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.group2[_ngcontent-%COMP%]{display:inline}.input-fields[_ngcontent-%COMP%]{position:inherit;margin:25px 10px;top:25px}.Text[_ngcontent-%COMP%]{display:inline;font-family:Arial;text-align:center;font-size:24px;font-weight:700}.Opcional[_ngcontent-%COMP%]{display:inline;font-family:Arial;text-align:center;font-size:18px}.red[_ngcontent-%COMP%]{display:inline;font-family:Arial;text-align:center;font-size:18px;color:red}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{height:20px;width:35%;font-size:16px}.print[_ngcontent-%COMP%]{position:absolute;top:65%;left:75%}svg[_ngcontent-%COMP%]{position:absolute;left:44%;top:32%}button[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:24px;font-weight:700;cursor:pointer;border-radius:30px}#volver[_ngcontent-%COMP%]{font-size:16px;position:absolute;left:5%;top:65%;border:none;width:50px;height:50px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(back-button-Edit4.8567daeed3ab1418.png)}#barcode[_ngcontent-%COMP%]{display:inline;border:2px solid rgb(0,0,0);box-shadow:2px 2px 5px #000}@media only screen and (max-width: 768px){.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:60%;height:20%;left:36%;top:60%}.input-fields[_ngcontent-%COMP%]{position:inherit;width:130px;top:25px}.Text[_ngcontent-%COMP%]{display:inline;font-family:Arial;text-align:center;font-size:20px}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{height:20px;width:20px;font-size:16px}.print[_ngcontent-%COMP%]{position:absolute;left:33%;top:45%;font-size:16px}#test[_ngcontent-%COMP%]{position:absolute;left:30%;top:60%;display:none}#codes[_ngcontent-%COMP%]{position:absolute;left:30%;top:35%}svg[_ngcontent-%COMP%]{position:absolute;left:25%;top:30%;margin:15px 0}.space[_ngcontent-%COMP%]{height:200px}#barcode[_ngcontent-%COMP%]{display:inline;border:2px solid rgb(0,0,0);box-shadow:2px 2px 5px #000}button[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:20px;font-weight:700;cursor:pointer;border-radius:30px}#volver[_ngcontent-%COMP%]{font-size:16px;position:absolute;left:28%;top:70%;border:none;width:36px;height:36px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(back-button-Edit4.8567daeed3ab1418.png)}}"]})}return n})()},{path:"muestras/:id/:up",component:fOe},{path:"muestras-new/:id",component:yOe},{path:"muestras-edit/:id",component:UOe},{path:"muestras-info/:id",component:zOe},{path:"muestras-all",component:qOe},{path:"unidad-produccion/:id",component:YOe},{path:"unidad-produccion-new/:id",component:ZOe},{path:"unidad-produccion-edit/:id",component:ePe},{path:"unidad-produccion-info/:id",component:nPe},{path:"unidad-produccion-all",component:cPe},{path:"clients",component:iPe},{path:"clients-new",component:sPe},{path:"clients-edit/:id",component:uPe},{path:"clients-info/:id",component:(()=>{class n{constructor(t,r,i,o,s){this.router=t,this.route=r,this.auth=i,this.firestore=o,this.location=s,this.title="gestion-de-muestras-de-campo",this.data=[],this.somethingChange=new Qe,this.getData(),this.MyQuery()}ngOnInit(){this.route.params.subscribe(t=>{this.text=t.id,console.log(t),console.log(t.id)}),this.getData(),this.MyQuery()}handleRegister(t){this.addData(t)}addData(t){const r=Ie(this.firestore,"clientes",t.codigo);vi(r,t).then(()=>{alert("Data Sent")}).catch(i=>{alert(i.message)}),console.log(t.comentarios)}getData(){const t=xe(this.firestore,"clientes");pe(t).then(r=>{this.data=[...r.docs.map(i=>({...i.data(),id:i.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude)}getLocation(){var t=this;return _(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{console.log(t.res)},1e3)})()}MyQuery(){var t=this;return _(function*(){let r=t.text;const i=dn(xe(t.firestore,"clientes"),nn("email","==",r)),o=yield pe(i);o.empty||o.forEach(s=>{t.item=s.data(),console.log(s.id," => ",s.data())})})()}editClients(){this.router.navigate(["user/clientes-edit/"+this.text])}deleteData(t){const r=Ie(this.firestore,"clientes",t);Fn(r).then(()=>{alert("Data Deleted"),this.getData()}).catch(i=>{alert(i.message)})}backPage(){this.location.back()}static#e=this.\u0275fac=function(r){return new(r||n)(x(Me),x(ut),x(Ge),x(ct),x(_r))};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-clients-info"]],viewQuery:function(r,i){if(1&r&&$n(dPe,5),2&r){let o;bn(o=wn())&&(i.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:30,vars:4,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],[1,"input-field"],[1,"boton",3,"click"]],template:function(r,i){if(1&r){const o=yt();g(0,"p"),w(1,"clients-info works!"),p(),g(2,"h1",0),w(3,"Informacion del Cliente"),p(),g(4,"div",1)(5,"form",2,3),Q("ngSubmit",function(){Re(o);const a=Cn(6);return Ne(i.handleRegister(a.value))}),g(7,"div",4)(8,"div",5)(9,"span",6),w(10,"Email:"),p(),g(11,"span",7),w(12),p()(),g(13,"div",5)(14,"span",6),w(15,"Nombre:"),p(),g(16,"span",7),w(17),p()(),g(18,"div",5)(19,"span",6),w(20,"Telefono:"),p(),g(21,"span",7),w(22),p()(),g(23,"div",5)(24,"span",6),w(25,"Direccion:"),p(),g(26,"span",7),w(27),p()()()()(),g(28,"button",8),Q("click",function(){return i.editClients()}),w(29,"Editar Cliente"),p()}2&r&&(z(12),Ue(" ",i.item.email,""),z(5),Ue(" ",i.item.nombre,""),z(5),Ue(" ",i.item.telefono,""),z(5),Ue(" ",i.item.direccion,""))},dependencies:[er,Jn,Mn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:25%;flex-shrink:0;position:absolute;left:15%;top:30%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:3%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:85%;height:20px;left:92px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:35%;top:20%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:80%;top:58%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:50%;flex-shrink:0;position:absolute;left:15%;top:30%}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:75%;top:110%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}return n})()},{path:"scan",component:VOe}]}];let ZN,fPe=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=ot({type:n});static#n=this.\u0275inj=et({imports:[Ro.forChild(hPe),Ro]})}return n})(),pPe=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=ot({type:n});static#n=this.\u0275inj=et({imports:[tl,fPe,Nv,XN]})}return n})(),gPe=(()=>{class n{Hello(){console.log("hello")}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=ot({type:n});static#n=this.\u0275inj=et({imports:[tl]})}return n})();try{ZN=typeof Intl<"u"&&Intl.v8BreakIterator}catch{ZN=!1}let Zm,eu,JN,Zi=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?vv(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!ZN)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(r){return new(r||n)($(ro))};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Zw(n){return function mPe(){if(null==Zm&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Zm=!0}))}finally{Zm=Zm||!1}return Zm}()?n:!!n.capture}function _Pe(){if(null==eu){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return eu=!1,eu;if("scrollBehavior"in document.documentElement.style)eu=!0;else{const n=Element.prototype.scrollTo;eu=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return eu}function e2(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function Dc(n){return n.composedPath?n.composedPath()[0]:n.target}function t2(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function n2(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function qQ(n){return An((e,t)=>n<=t)}function BPe(n,e){return n===e}let UPe=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),jPe=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=ot({type:n});static#n=this.\u0275inj=et({providers:[UPe]})}return n})();function eC(n){return Array.isArray(n)?n:[n]}function ir(n){return null==n?"":"string"==typeof n?n:`${n}px`}function qh(n){return n instanceof Bn?n.nativeElement:n}const WQ=new Set;let tu,$Pe=(()=>{class n{constructor(t,r){this._platform=t,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):GPe}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function HPe(n,e){if(!WQ.has(n))try{tu||(tu=document.createElement("style"),e&&(tu.nonce=e),tu.setAttribute("type","text/css"),document.head.appendChild(tu)),tu.sheet&&(tu.sheet.insertRule(`@media ${n} {body{ }}`,0),WQ.add(n))}catch(t){console.error(t)}}(t,this._nonce),this._matchMedia(t)}static#e=this.\u0275fac=function(r){return new(r||n)($(Zi),$(pE,8))};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function GPe(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let KQ=(()=>{class n{constructor(t,r){this._mediaMatcher=t,this._zone=r,this._queries=new Map,this._destroySubject=new wt}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return QQ(eC(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let o=Fv(QQ(eC(t)).map(s=>this._registerQuery(s).observable));return o=yd(o.pipe(Sn(1)),o.pipe(qQ(1),function GQ(n,e=qp){return yn((t,r)=>{let i=null,o=null,s=null;const a=()=>{if(i){i.unsubscribe(),i=null;const l=o;o=null,r.next(l)}};function c(){const l=s+n,u=e.now();if(u<l)return i=this.schedule(void 0,l-u),void r.add(i);a()}t.subscribe(fn(r,l=>{o=l,s=e.now(),i||(i=e.schedule(c,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}(0))),o.pipe(Pe(s=>{const a={matches:!1,breakpoints:{}};return s.forEach(({matches:c,query:l})=>{a.matches=a.matches||c,a.breakpoints[l]=c}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const r=this._mediaMatcher.matchMedia(t),o={observable:new qt(s=>{const a=c=>this._zone.run(()=>s.next(c));return r.addListener(a),()=>{r.removeListener(a)}}).pipe(dT(r),Pe(({matches:s})=>({query:t,matches:s})),Uv(this._destroySubject)),mql:r};return this._queries.set(t,o),o}static#e=this.\u0275fac=function(r){return new(r||n)($($Pe),$(De))};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function QQ(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}const Wh_Medium="(min-width: 960px) and (max-width: 1279.98px)",Wh_Large="(min-width: 1280px) and (max-width: 1919.98px)";let r2=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function YPe(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const r=function QPe(n){try{return n.frameElement}catch{return null}}(function iRe(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(r&&(-1===JQ(r)||!this.isVisible(r)))return!1;let i=t.nodeName.toLowerCase(),o=JQ(t);return t.hasAttribute("contenteditable")?-1!==o:!("iframe"===i||"object"===i||this._platform.WEBKIT&&this._platform.IOS&&!function nRe(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===i?!!t.hasAttribute("controls")&&-1!==o:"video"===i?-1!==o&&(null!==o||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,r){return function rRe(n){return!function ZPe(n){return function eRe(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function XPe(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function JPe(n){return function tRe(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||ZQ(n))}(t)&&!this.isDisabled(t)&&(r?.ignoreVisibility||this.isVisible(t))}static#e=this.\u0275fac=function(r){return new(r||n)($(Zi))};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ZQ(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function JQ(n){if(!ZQ(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class eY{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,t,r,i,o=!1){this._element=e,this._checker=t,this._ngZone=r,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const r=this._getFirstTabbableElement(t);return r?.focus(e),!!r}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=0;r<t.length;r++){const i=t[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[r]):null;if(i)return i}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=t.length-1;r>=0;r--){const i=t[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[r]):null;if(i)return i}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(Sn(1)).subscribe(e)}}let tY=(()=>{class n{constructor(t,r,i){this._checker=t,this._ngZone=r,this._document=i}create(t,r=!1){return new eY(t,this._checker,this._ngZone,this._document,r)}static#e=this.\u0275fac=function(r){return new(r||n)($(r2),$(De),$(lt))};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function nY(n){return 0===n.buttons||0===n.detail}function rY(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const oRe=new X("cdk-input-modality-detector-options"),sRe={ignoreKeys:[18,17,224,91,16]},Kh=Zw({passive:!0,capture:!0});let aRe=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,r,i,o){this._platform=t,this._mostRecentTarget=null,this._modality=new ci(null),this._lastTouchMs=0,this._onKeydown=s=>{this._options?.ignoreKeys?.some(a=>a===s.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Dc(s))},this._onMousedown=s=>{Date.now()-this._lastTouchMs<650||(this._modality.next(nY(s)?"keyboard":"mouse"),this._mostRecentTarget=Dc(s))},this._onTouchstart=s=>{rY(s)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Dc(s))},this._options={...sRe,...o},this.modalityDetected=this._modality.pipe(qQ(1)),this.modalityChanged=this.modalityDetected.pipe(function VPe(n,e=ba){return n=n??BPe,yn((t,r)=>{let i,o=!0;t.subscribe(fn(r,s=>{const a=e(s);(o||!n(i,a))&&(o=!1,i=a,r.next(s))}))})}()),t.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,Kh),i.addEventListener("mousedown",this._onMousedown,Kh),i.addEventListener("touchstart",this._onTouchstart,Kh)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Kh),document.removeEventListener("mousedown",this._onMousedown,Kh),document.removeEventListener("touchstart",this._onTouchstart,Kh))}static#e=this.\u0275fac=function(r){return new(r||n)($(Zi),$(De),$(lt),$(oRe,8))};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var tC=function(n){return n[n.IMMEDIATE=0]="IMMEDIATE",n[n.EVENTUAL=1]="EVENTUAL",n}(tC||{});const lRe=new X("cdk-focus-monitor-default-options"),nC=Zw({passive:!0,capture:!0});let oY=(()=>{class n{constructor(t,r,i,o,s){this._ngZone=t,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new wt,this._rootNodeFocusAndBlurListener=a=>{for(let l=Dc(a);l;l=l.parentElement)"focus"===a.type?this._onFocus(a,l):this._onBlur(a,l)},this._document=o,this._detectionMode=s?.detectionMode||tC.IMMEDIATE}monitor(t,r=!1){const i=qh(t);if(!this._platform.isBrowser||1!==i.nodeType)return be();const o=function vPe(n){if(function yPe(){if(null==JN){const n=typeof document<"u"?document.head:null;JN=!(!n||!n.createShadowRoot&&!n.attachShadow)}return JN}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(i)||this._getDocument(),s=this._elementInfo.get(i);if(s)return r&&(s.checkChildren=!0),s.subject;const a={checkChildren:r,subject:new wt,rootNode:o};return this._elementInfo.set(i,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){const r=qh(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){const o=qh(t);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([a,c])=>this._originChanged(a,r,c)):(this._setOrigin(r),"function"==typeof o.focus&&o.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return this._detectionMode===tC.EVENTUAL||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused","touch"===r),t.classList.toggle("cdk-keyboard-focused","keyboard"===r),t.classList.toggle("cdk-mouse-focused","mouse"===r),t.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,this._detectionMode===tC.IMMEDIATE&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const i=this._elementInfo.get(r),o=Dc(t);!i||!i.checkChildren&&r!==o||this._originChanged(r,this._getFocusOrigin(o),i)}_onBlur(t,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(t,r){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,nC),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,nC)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Uv(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,nC),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,nC),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((i,o)=>{(o===t||i.checkChildren&&o.contains(t))&&r.push([o,i])}),r}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if("mouse"!==i||!r||r===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const o=t.labels;if(o)for(let s=0;s<o.length;s++)if(o[s].contains(r))return!0;return!1}static#e=this.\u0275fac=function(r){return new(r||n)($(De),$(Zi),$(aRe),$(lt,8),$(lRe,8))};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var nu=function(n){return n[n.NONE=0]="NONE",n[n.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",n[n.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",n}(nu||{});const sY="cdk-high-contrast-black-on-white",aY="cdk-high-contrast-white-on-black",o2="cdk-high-contrast-active";let cY=(()=>{class n{constructor(t,r){this._platform=t,this._document=r,this._breakpointSubscription=ee(KQ).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return nu.NONE;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,o=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return nu.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return nu.BLACK_ON_WHITE}return nu.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(o2,sY,aY),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();r===nu.BLACK_ON_WHITE?t.add(o2,sY):r===nu.WHITE_ON_BLACK&&t.add(o2,aY)}}static#e=this.\u0275fac=function(r){return new(r||n)($(Zi),$(lt))};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),uRe=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(r){return new(r||n)($(cY))};static#t=this.\u0275mod=ot({type:n});static#n=this.\u0275inj=et({imports:[jPe]})}return n})();const dRe=["addListener","removeListener"],hRe=["addEventListener","removeEventListener"],fRe=["on","off"];function e_(n,e,t,r){if(_t(t)&&(r=t,t=void 0),r)return e_(n,e,t).pipe(UI(r));const[i,o]=function mRe(n){return _t(n.addEventListener)&&_t(n.removeEventListener)}(n)?hRe.map(s=>a=>n[s](e,a,t)):function pRe(n){return _t(n.addListener)&&_t(n.removeListener)}(n)?dRe.map(lY(n,e)):function gRe(n){return _t(n.on)&&_t(n.off)}(n)?fRe.map(lY(n,e)):[];if(!i&&VI(n))return yr(s=>e_(s,e,t))(Rr(n));if(!i)throw new TypeError("Invalid event target");return new qt(s=>{const a=(...c)=>s.next(1<c.length?c:c[0]);return i(a),()=>o(a)})}function lY(n,e){return t=>r=>n[t](e,r)}const t_={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=t_;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(o=>{t=void 0,n(o)});return new Yn(()=>t?.(i))},requestAnimationFrame(...n){const{delegate:e}=t_;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=t_;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class yRe extends b0{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class _Re extends v0{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=t_.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:o}=e;null!=t&&(null===(i=o[o.length-1])||void 0===i?void 0:i.id)!==t&&(t_.cancelAnimationFrame(t),e._scheduled=void 0)}});let s2,bRe=1;const rC={};function uY(n){return n in rC&&(delete rC[n],!0)}const wRe={setImmediate(n){const e=bRe++;return rC[e]=!0,s2||(s2=Promise.resolve()),s2.then(()=>uY(e)&&n()),e},clearImmediate(n){uY(n)}},{setImmediate:CRe,clearImmediate:ERe}=wRe,iC={setImmediate(...n){const{delegate:e}=iC;return(e?.setImmediate||CRe)(...n)},clearImmediate(n){const{delegate:e}=iC;return(e?.clearImmediate||ERe)(n)},delegate:void 0};new class IRe extends b0{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class xRe extends v0{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=iC.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:o}=e;null!=t&&(null===(i=o[o.length-1])||void 0===i?void 0:i.id)!==t&&(iC.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}});function a2(n=0,e,t=ibe){let r=-1;return null!=e&&(jj(e)?t=e:r=e),new qt(i=>{let o=function MRe(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function dY(n,e=qp){return function DRe(n){return yn((e,t)=>{let r=!1,i=null,o=null,s=!1;const a=()=>{if(o?.unsubscribe(),o=null,r){r=!1;const l=i;i=null,t.next(l)}s&&t.complete()},c=()=>{o=null,s&&t.complete()};e.subscribe(fn(t,l=>{r=!0,i=l,o||Rr(n(l)).subscribe(o=fn(t,a,c))},()=>{s=!0,(!r||!o||o.closed)&&t.complete()}))})}(()=>a2(n,e))}const SRe=new X("cdk-dir-doc",{providedIn:"root",factory:function ARe(){return ee(lt)}}),kRe=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let c2=(()=>{class n{constructor(t){this.value="ltr",this.change=new Qe,t&&(this.value=function ORe(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?kRe.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(r){return new(r||n)($(SRe,8))};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),n_=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=ot({type:n});static#n=this.\u0275inj=et({})}return n})(),RRe=(()=>{class n{constructor(t,r,i){this._ngZone=t,this._platform=r,this._scrolled=new wt,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new qt(r=>{this._globalSubscription||this._addGlobalListener();const i=t>0?this._scrolled.pipe(dY(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):be()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(An(o=>!o||i.indexOf(o)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((i,o)=>{this._scrollableContainsElement(o,t)&&r.push(o)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let i=qh(r),o=t.getElementRef().nativeElement;do{if(i==o)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>e_(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(r){return new(r||n)($(De),$(Zi),$(lt,8))};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),hY=(()=>{class n{constructor(t,r,i){this._platform=t,this._change=new wt,this._changeListener=o=>{this._change.next(o)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,o=i.getBoundingClientRect();return{top:-o.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-o.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(dY(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(r){return new(r||n)($(Zi),$(De),$(lt,8))};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),fY=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=ot({type:n});static#n=this.\u0275inj=et({})}return n})(),pY=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=ot({type:n});static#n=this.\u0275inj=et({imports:[n_,fY,n_,fY]})}return n})();class l2{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class u2 extends l2{constructor(e,t,r,i,o){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=i,this.projectableNodes=o}}class gY extends l2{constructor(e,t,r,i){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class FRe extends l2{constructor(e){super(),this.element=e instanceof Bn?e.nativeElement:e}}class d2{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof u2?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof gY?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof FRe?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class LRe extends d2{constructor(e,t,r,i,o){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=s=>{const a=s.element,c=this._document.createComment("dom-portal");a.parentNode.insertBefore(c,a),this.outletElement.appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(a,c)})},this._document=o}attachComponentPortal(e){const r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>i.destroy())):(i=r.create(e.injector||this._defaultInjector||Ut.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);-1!==i&&t.remove(i)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let h2=(()=>{class n extends d2{constructor(t,r,i){super(),this._componentFactoryResolver=t,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new Qe,this.attachDomPortal=o=>{const s=o.element,a=this._document.createComment("dom-portal");o.setAttachedHost(this),s.parentNode.insertBefore(a,s),this._getRootNode().appendChild(s),this._attachedPortal=o,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(s,a)})},this._document=i}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);const r=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,o=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),s=r.createComponent(o,r.length,t.injector||r.injector,t.projectableNodes||void 0);return r!==this._viewContainerRef&&this._getRootNode().appendChild(s.hostView.rootNodes[0]),super.setDisposeFn(()=>s.destroy()),this._attachedPortal=t,this._attachedRef=s,this.attached.emit(s),s}attachTemplatePortal(t){t.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}static#e=this.\u0275fac=function(r){return new(r||n)(x($u),x(so),x(lt))};static#t=this.\u0275dir=_e({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[Bt.None,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[Et]})}return n})(),oC=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=ot({type:n});static#n=this.\u0275inj=et({})}return n})();function sC(...n){const e=mp(n),t=function Yhe(n,e){return"number"==typeof BI(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?Rr(r[0]):_d(t)(fr(r,e)):ss}const mY=_Pe();class VRe{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=ir(-this._previousScrollPosition.left),e.style.top=ir(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,r=e.style,i=this._document.body.style,o=r.scrollBehavior||"",s=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),mY&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),mY&&(r.scrollBehavior=o,i.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}}class BRe{constructor(e,t,r,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0).pipe(An(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class _Y{enable(){}disable(){}attach(){}}function f2(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function yY(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class URe{constructor(e,t,r,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();f2(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let jRe=(()=>{class n{constructor(t,r,i,o){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new _Y,this.close=s=>new BRe(this._scrollDispatcher,this._ngZone,this._viewportRuler,s),this.block=()=>new VRe(this._viewportRuler,this._document),this.reposition=s=>new URe(this._scrollDispatcher,this._viewportRuler,this._ngZone,s),this._document=o}static#e=this.\u0275fac=function(r){return new(r||n)($(RRe),$(hY),$(De),$(lt))};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class vY{constructor(e){if(this.scrollStrategy=new _Y,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const r of t)void 0!==e[r]&&(this[r]=e[r])}}}class zRe{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let bY=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(r){return new(r||n)($(lt))};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),$Re=(()=>{class n extends bY{constructor(t,r){super(t),this._ngZone=r,this._keydownListener=i=>{const o=this._attachedOverlays;for(let s=o.length-1;s>-1;s--)if(o[s]._keydownEvents.observers.length>0){const a=o[s]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(i)):a.next(i);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(r){return new(r||n)($(lt),$(De,8))};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),HRe=(()=>{class n extends bY{constructor(t,r,i){super(t),this._platform=r,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=Dc(o)},this._clickListener=o=>{const s=Dc(o),a="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const c=this._attachedOverlays.slice();for(let l=c.length-1;l>-1;l--){const u=c[l];if(u._outsidePointerEvents.observers.length<1||!u.hasAttached())continue;if(u.overlayElement.contains(s)||u.overlayElement.contains(a))break;const d=u._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>d.next(o)):d.next(o)}}}add(t){if(super.add(t),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(r){return new(r||n)($(lt),$(Zi),$(De,8))};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),p2=(()=>{class n{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||t2()){const i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let o=0;o<i.length;o++)i[o].remove()}const r=this._document.createElement("div");r.classList.add(t),t2()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}static#e=this.\u0275fac=function(r){return new(r||n)($(lt),$(Zi))};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class aC{constructor(e,t,r,i,o,s,a,c,l,u=!1){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=c,this._outsideClickDispatcher=l,this._animationsDisabled=u,this._backdropElement=null,this._backdropClick=new wt,this._attachments=new wt,this._detachments=new wt,this._locationChanges=Yn.EMPTY,this._backdropClickHandler=d=>this._backdropClick.next(d),this._backdropTransitionendHandler=d=>{this._disposeBackdrop(d.target)},this._keydownEvents=new wt,this._outsidePointerEvents=new wt,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Sn(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=ir(this._config.width),e.height=ir(this._config.height),e.minWidth=ir(this._config.minWidth),e.minHeight=ir(this._config.minHeight),e.maxWidth=ir(this._config.maxWidth),e.maxHeight=ir(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,r){const i=eC(t||[]).filter(o=>!!o);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(Uv(sC(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const wY="cdk-overlay-connected-position-bounding-box",GRe=/([A-Za-z%]+)$/;class qRe{get positions(){return this._preferredPositions}constructor(e,t,r,i,o){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new wt,this._resizeSubscription=Yn.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(wY),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,r=this._viewportRect,i=this._containerRect,o=[];let s;for(let a of this._preferredPositions){let c=this._getOriginPoint(e,i,a),l=this._getOverlayPoint(c,t,a),u=this._getOverlayFit(l,t,r,a);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,c);this._canFitWithFlexibleDimensions(u,l,r)?o.push({position:a,origin:c,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(c,a)}):(!s||s.overlayFit.visibleArea<u.visibleArea)&&(s={overlayFit:u,overlayPoint:l,originPoint:c,position:a,overlayRect:t})}if(o.length){let a=null,c=-1;for(const l of o){const u=l.boundingBoxRect.width*l.boundingBoxRect.height*(l.position.weight||1);u>c&&(c=u,a=l)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&ru(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(wY),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,r){let i,o;if("center"==r.originX)i=e.left+e.width/2;else{const s=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;i="start"==r.originX?s:a}return t.left<0&&(i-=t.left),o="center"==r.originY?e.top+e.height/2:"top"==r.originY?e.top:e.bottom,t.top<0&&(o-=t.top),{x:i,y:o}}_getOverlayPoint(e,t,r){let i,o;return i="center"==r.overlayX?-t.width/2:"start"===r.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,o="center"==r.overlayY?-t.height/2:"top"==r.overlayY?0:-t.height,{x:e.x+i,y:e.y+o}}_getOverlayFit(e,t,r,i){const o=EY(t);let{x:s,y:a}=e,c=this._getOffset(i,"x"),l=this._getOffset(i,"y");c&&(s+=c),l&&(a+=l);let h=0-a,f=a+o.height-r.height,y=this._subtractOverflows(o.width,0-s,s+o.width-r.width),E=this._subtractOverflows(o.height,h,f),I=y*E;return{visibleArea:I,isCompletelyWithinViewport:o.width*o.height===I,fitsInViewportVertically:E===o.height,fitsInViewportHorizontally:y==o.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){const i=r.bottom-t.y,o=r.right-t.x,s=CY(this._overlayRef.getConfig().minHeight),a=CY(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=s&&s<=i)&&(e.fitsInViewportHorizontally||null!=a&&a<=o)}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const i=EY(t),o=this._viewportRect,s=Math.max(e.x+i.width-o.width,0),a=Math.max(e.y+i.height-o.height,0),c=Math.max(o.top-r.top-e.y,0),l=Math.max(o.left-r.left-e.x,0);let u=0,d=0;return u=i.width<=o.width?l||-s:e.x<this._viewportMargin?o.left-r.left-e.x:0,d=i.height<=o.height?c||-a:e.y<this._viewportMargin?o.top-r.top-e.y:0,this._previousPushAmount={x:u,y:d},{x:e.x+u,y:e.y+d}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._positionChanges.observers.length){const r=this._getScrollVisibility();if(e!==this._lastPosition||!this._lastScrollVisibility||!function WRe(n,e){return n===e||n.isOriginClipped===e.isOriginClipped&&n.isOriginOutsideView===e.isOriginOutsideView&&n.isOverlayClipped===e.isOverlayClipped&&n.isOverlayOutsideView===e.isOverlayOutsideView}(this._lastScrollVisibility,r)){const i=new zRe(e,r);this._positionChanges.next(i)}this._lastScrollVisibility=r}this._lastPosition=e,this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=e.overlayY;r="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let o=0;o<t.length;o++)t[o].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,t){const r=this._viewportRect,i=this._isRtl();let o,s,a,u,d,h;if("top"===t.overlayY)s=e.y,o=r.height-s+this._viewportMargin;else if("bottom"===t.overlayY)a=r.height-e.y+2*this._viewportMargin,o=r.height-a+this._viewportMargin;else{const f=Math.min(r.bottom-e.y+r.top,e.y),y=this._lastBoundingBoxSize.height;o=2*f,s=e.y-f,o>y&&!this._isInitialRender&&!this._growAfterOpen&&(s=e.y-y/2)}if("end"===t.overlayX&&!i||"start"===t.overlayX&&i)h=r.width-e.x+2*this._viewportMargin,u=e.x-this._viewportMargin;else if("start"===t.overlayX&&!i||"end"===t.overlayX&&i)d=e.x,u=r.right-e.x;else{const f=Math.min(r.right-e.x+r.left,e.x),y=this._lastBoundingBoxSize.width;u=2*f,d=e.x-f,u>y&&!this._isInitialRender&&!this._growAfterOpen&&(d=e.x-y/2)}return{top:s,left:d,bottom:a,right:h,width:u,height:o}}_setBoundingBoxStyles(e,t){const r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;i.height=ir(r.height),i.top=ir(r.top),i.bottom=ir(r.bottom),i.width=ir(r.width),i.left=ir(r.left),i.right=ir(r.right),i.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",i.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",o&&(i.maxHeight=ir(o)),s&&(i.maxWidth=ir(s))}this._lastBoundingBoxSize=r,ru(this._boundingBox.style,i)}_resetBoundingBoxStyles(){ru(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){ru(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const r={},i=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(i){const u=this._viewportRuler.getViewportScrollPosition();ru(r,this._getExactOverlayY(t,e,u)),ru(r,this._getExactOverlayX(t,e,u))}else r.position="static";let a="",c=this._getOffset(t,"x"),l=this._getOffset(t,"y");c&&(a+=`translateX(${c}px) `),l&&(a+=`translateY(${l}px)`),r.transform=a.trim(),s.maxHeight&&(i?r.maxHeight=ir(s.maxHeight):o&&(r.maxHeight="")),s.maxWidth&&(i?r.maxWidth=ir(s.maxWidth):o&&(r.maxWidth="")),ru(this._pane.style,r)}_getExactOverlayY(e,t,r){let i={top:"",bottom:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r)),"bottom"===e.overlayY?i.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":i.top=ir(o.y),i}_getExactOverlayX(e,t,r){let s,i={left:"",right:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r)),s=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===s?i.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":i.left=ir(o.x),i}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:yY(e,r),isOriginOutsideView:f2(e,r),isOverlayClipped:yY(t,r),isOverlayOutsideView:f2(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&eC(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof Bn)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}}function ru(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function CY(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(GRe);return t&&"px"!==t?null:parseFloat(e)}return n||null}function EY(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const xY="cdk-global-overlay-wrapper";class KRe{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(xY),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:o,maxWidth:s,maxHeight:a}=r,c=!("100%"!==i&&"100vw"!==i||s&&"100%"!==s&&"100vw"!==s),l=!("100%"!==o&&"100vh"!==o||a&&"100%"!==a&&"100vh"!==a),u=this._xPosition,d=this._xOffset,h="rtl"===this._overlayRef.getConfig().direction;let f="",y="",E="";c?E="flex-start":"center"===u?(E="center",h?y=d:f=d):h?"left"===u||"end"===u?(E="flex-end",f=d):("right"===u||"start"===u)&&(E="flex-start",y=d):"left"===u||"start"===u?(E="flex-start",f=d):("right"===u||"end"===u)&&(E="flex-end",y=d),e.position=this._cssPosition,e.marginLeft=c?"0":f,e.marginTop=l?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=c?"0":y,t.justifyContent=E,t.alignItems=l?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(xY),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let QRe=(()=>{class n{constructor(t,r,i,o){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=o}global(){return new KRe}flexibleConnectedTo(t){return new qRe(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(r){return new(r||n)($(hY),$(lt),$(Zi),$(p2))};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),YRe=0,iu=(()=>{class n{constructor(t,r,i,o,s,a,c,l,u,d,h,f){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=o,this._keyboardDispatcher=s,this._injector=a,this._ngZone=c,this._document=l,this._directionality=u,this._location=d,this._outsideClickDispatcher=h,this._animationsModuleType=f}create(t){const r=this._createHostElement(),i=this._createPaneElement(r),o=this._createPortalOutlet(i),s=new vY(t);return s.direction=s.direction||this._directionality.value,new aC(o,r,i,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const r=this._document.createElement("div");return r.id="cdk-overlay-"+YRe++,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(rs)),new LRe(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(r){return new(r||n)($(jRe),$(p2),$($u),$(QRe),$($Re),$(Ut),$(De),$(lt),$(c2),$(_r),$(HRe),$(fE,8))};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const XRe=new X("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{const n=ee(iu);return()=>n.scrollStrategies.reposition()}}),JRe={provide:XRe,deps:[iu],useFactory:function ZRe(n){return()=>n.scrollStrategies.reposition()}};let eNe=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=ot({type:n});static#n=this.\u0275inj=et({providers:[iu,JRe],imports:[n_,oC,pY,pY]})}return n})();function tNe(n,e){}class cC{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let IY=(()=>{class n extends d2{constructor(t,r,i,o,s,a,c,l){super(),this._elementRef=t,this._focusTrapFactory=r,this._config=o,this._interactivityChecker=s,this._ngZone=a,this._overlayRef=c,this._focusMonitor=l,this._platform=ee(Zi),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=ee(Hu),this.attachDomPortal=u=>{this._portalOutlet.hasAttached();const d=this._portalOutlet.attachDomPortal(u);return this._contentAttached(),d},this._document=i,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(t){this._ariaLabelledByQueue.push(t),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(t){const r=this._ariaLabelledByQueue.indexOf(t);r>-1&&(this._ariaLabelledByQueue.splice(r,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(t){this._portalOutlet.hasAttached();const r=this._portalOutlet.attachComponentPortal(t);return this._contentAttached(),r}attachTemplatePortal(t){this._portalOutlet.hasAttached();const r=this._portalOutlet.attachTemplatePortal(t);return this._contentAttached(),r}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,r){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const i=()=>{t.removeEventListener("blur",i),t.removeEventListener("mousedown",i),t.removeAttribute("tabindex")};t.addEventListener("blur",i),t.addEventListener("mousedown",i)})),t.focus(r)}_focusByCssSelector(t,r){let i=this._elementRef.nativeElement.querySelector(t);i&&this._forceFocus(i,r)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElementWhenReady().then(r=>{r||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._config.restoreFocus;let r=null;if("string"==typeof t?r=this._document.querySelector(t):"boolean"==typeof t?r=t?this._elementFocusedBeforeDialogWasOpened:null:t&&(r=t),this._config.restoreFocus&&r&&"function"==typeof r.focus){const i=e2(),o=this._elementRef.nativeElement;(!i||i===this._document.body||i===o||o.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(r,this._closeInteractionType),this._closeInteractionType=null):r.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,r=e2();return t===r||t.contains(r)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=e2()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static#e=this.\u0275fac=function(r){return new(r||n)(x(Bn),x(tY),x(lt,8),x(cC),x(r2),x(De),x(aC),x(oY))};static#t=this.\u0275cmp=Te({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(r,i){if(1&r&&$n(h2,7),2&r){let o;bn(o=wn())&&(i._portalOutlet=o.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(r,i){2&r&&Hi("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledByQueue[0])("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},standalone:!0,features:[Et,ns],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(r,i){1&r&&Xn(0,tNe,0,0,"ng-template",0)},dependencies:[h2],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return n})();class g2{constructor(e,t){this.overlayRef=e,this.config=t,this.closed=new wt,this.disableClose=t.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=t.id,this.keydownEvents.subscribe(r=>{27===r.keyCode&&!this.disableClose&&!n2(r)&&(r.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=e.detachments().subscribe(()=>{!1!==t.closeOnOverlayDetachments&&this.close()})}close(e,t){if(this.containerInstance){const r=this.closed;this.containerInstance._closeInteractionType=t?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),r.next(e),r.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",t=""){return this.overlayRef.updateSize({width:e,height:t}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}}const TY=new X("DialogScrollStrategy",{providedIn:"root",factory:()=>{const n=ee(iu);return()=>n.scrollStrategies.block()}}),nNe=new X("DialogData"),rNe=new X("DefaultDialogConfig");let oNe=0,DY=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(t,r,i,o,s,a){this._overlay=t,this._injector=r,this._defaultOptions=i,this._parentDialog=o,this._overlayContainer=s,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new wt,this._afterOpenedAtThisLevel=new wt,this._ariaHiddenElements=new Map,this.afterAllClosed=Ep(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(dT(void 0))),this._scrollStrategy=a}open(t,r){(r={...this._defaultOptions||new cC,...r}).id=r.id||"cdk-dialog-"+oNe++,r.id&&this.getDialogById(r.id);const o=this._getOverlayConfig(r),s=this._overlay.create(o),a=new g2(s,r),c=this._attachContainer(s,a,r);return a.containerInstance=c,this._attachDialogContent(t,a,c,r),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(a),a.closed.subscribe(()=>this._removeOpenDialog(a,!0)),this.afterOpened.next(a),a}closeAll(){m2(this.openDialogs,t=>t.close())}getDialogById(t){return this.openDialogs.find(r=>r.id===t)}ngOnDestroy(){m2(this._openDialogsAtThisLevel,t=>{!1===t.config.closeOnDestroy&&this._removeOpenDialog(t,!1)}),m2(this._openDialogsAtThisLevel,t=>t.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(t){const r=new vY({positionStrategy:t.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,width:t.width,height:t.height,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(r.backdropClass=t.backdropClass),r}_attachContainer(t,r,i){const o=i.injector||i.viewContainerRef?.injector,s=[{provide:cC,useValue:i},{provide:g2,useValue:r},{provide:aC,useValue:t}];let a;i.container?"function"==typeof i.container?a=i.container:(a=i.container.type,s.push(...i.container.providers(i))):a=IY;const c=new u2(a,i.viewContainerRef,Ut.create({parent:o||this._injector,providers:s}),i.componentFactoryResolver);return t.attach(c).instance}_attachDialogContent(t,r,i,o){if(t instanceof Xo){const s=this._createInjector(o,r,i,void 0);let a={$implicit:o.data,dialogRef:r};o.templateContext&&(a={...a,..."function"==typeof o.templateContext?o.templateContext():o.templateContext}),i.attachTemplatePortal(new gY(t,null,a,s))}else{const s=this._createInjector(o,r,i,this._injector),a=i.attachComponentPortal(new u2(t,o.viewContainerRef,s,o.componentFactoryResolver));r.componentRef=a,r.componentInstance=a.instance}}_createInjector(t,r,i,o){const s=t.injector||t.viewContainerRef?.injector,a=[{provide:nNe,useValue:t.data},{provide:g2,useValue:r}];return t.providers&&("function"==typeof t.providers?a.push(...t.providers(r,t,i)):a.push(...t.providers)),t.direction&&(!s||!s.get(c2,null,{optional:!0}))&&a.push({provide:c2,useValue:{value:t.direction,change:be()}}),Ut.create({parent:s||o,providers:a})}_removeOpenDialog(t,r){const i=this.openDialogs.indexOf(t);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,s)=>{o?s.setAttribute("aria-hidden",o):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),r&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const r=t.parentElement.children;for(let i=r.length-1;i>-1;i--){const o=r[i];o!==t&&"SCRIPT"!==o.nodeName&&"STYLE"!==o.nodeName&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}static#e=this.\u0275fac=function(r){return new(r||n)($(iu),$(Ut),$(rNe,8),$(n,12),$(p2),$(TY))};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function m2(n,e){let t=n.length;for(;t--;)e(n[t])}let sNe=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=ot({type:n});static#n=this.\u0275inj=et({providers:[DY],imports:[eNe,oC,uRe,oC]})}return n})(),AY=(()=>{class n{static#e=this.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)";static#t=this.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)";static#n=this.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)";static#r=this.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)"}return n})(),kY=(()=>{class n{static#e=this.COMPLEX="375ms";static#t=this.ENTERING="225ms";static#n=this.EXITING="195ms"}return n})();const cNe=new X("mat-sanity-checks",{providedIn:"root",factory:function aNe(){return!0}});let Mc=(()=>{class n{constructor(t,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!t2()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}static#e=this.\u0275fac=function(r){return new(r||n)($(cY),$(cNe,8),$(lt))};static#t=this.\u0275mod=ot({type:n});static#n=this.\u0275inj=et({imports:[n_,n_]})}return n})();const OY=Zw({passive:!0,capture:!0});class mNe{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=Dc(e);t&&this._events.get(e.type)?.forEach((r,i)=>{(i===t||i.contains(t))&&r.forEach(o=>o.handleEvent(e))})}}addHandler(e,t,r,i){const o=this._events.get(t);if(o){const s=o.get(r);s?s.add(i):o.set(r,new Set([i]))}else this._events.set(t,new Map([[r,new Set([i])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,OY)})}removeHandler(e,t,r){const i=this._events.get(e);if(!i)return;const o=i.get(t);o&&(o.delete(r),0===o.size&&i.delete(t),0===i.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,OY)))}}class _2{static#e=this._eventManager=new mNe;constructor(e,t,r,i){this._target=e,this._ngZone=t,this._platform=i,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=qh(r))}fadeInRipple(e,t,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...PY,...r.animation},s=r.radius||function yNe(n,e,t){const r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}(e,t,i),a=e-i.left,c=t-i.top,l=o.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=a-s+"px",u.style.top=c-s+"px",u.style.height=2*s+"px",u.style.width=2*s+"px",null!=r.color&&(u.style.backgroundColor=r.color),u.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(u);const d=window.getComputedStyle(u),f=d.transitionDuration,y="none"===d.transitionProperty||"0s"===f||"0s, 0s"===f||0===i.width&&0===i.height,E=new gNe(this,u,r,y);u.style.transform="scale3d(1, 1, 1)",E.state=_o.FADING_IN,r.persistent||(this._mostRecentTransientRipple=E);return!y&&(l||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const k=()=>this._finishRippleTransition(E),M=()=>this._destroyRipple(E);u.addEventListener("transitionend",k),u.addEventListener("transitioncancel",M)}),this._activeRipples.set(E,null),(y||!l)&&this._finishRippleTransition(E),E}fadeOutRipple(e){if(e.state===_o.FADING_OUT||e.state===_o.HIDDEN)return;const t=e.element,r={...PY,...e.config.animation};t.style.transitionDuration=`${r.exitDuration}ms`,t.style.opacity="0",e.state=_o.FADING_OUT,(e._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=qh(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,NY.forEach(r=>{_2._eventManager.addHandler(this._ngZone,r,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{FY.forEach(t=>{this._triggerElement.addEventListener(t,this,RY)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===_o.FADING_IN?this._startFadeOutTransition(e):e.state===_o.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:r}=e.config;e.state=_o.VISIBLE,!r&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=_o.HIDDEN,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=nY(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!rY(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;if(t)for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(e.state===_o.VISIBLE||e.config.terminateOnPointerUp&&e.state===_o.FADING_IN)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(NY.forEach(t=>_2._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&FY.forEach(t=>e.removeEventListener(t,this,RY)))}}var Oe=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(Oe||{});const ma="*";function vNe(n,e){return{type:Oe.Trigger,name:n,definitions:e,options:{}}}function LY(n,e=null){return{type:Oe.Animate,styles:e,timings:n}}function VY(n,e=null){return{type:Oe.Group,steps:n,options:e}}function lC(n){return{type:Oe.Style,styles:n,offset:null}}function BY(n,e,t){return{type:Oe.State,name:n,styles:e,options:t}}function UY(n,e,t=null){return{type:Oe.Transition,expr:n,animation:e,options:t}}function jY(n=null){return{type:Oe.AnimateChild,options:n}}function zY(n,e,t=null){return{type:Oe.Query,selector:n,animation:e,options:t}}class i_{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class $Y{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const o=this.players.length;0==o?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++r==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}function INe(n,e){}const TNe={bottomSheetState:vNe("state",[BY("void, hidden",lC({transform:"translateY(100%)"})),BY("visible",lC({transform:"translateY(0%)"})),UY("visible => void, visible => hidden",VY([LY(`${kY.COMPLEX} ${AY.ACCELERATION_CURVE}`),zY("@*",jY(),{optional:!0})])),UY("void => visible",VY([LY(`${kY.EXITING} ${AY.DECELERATION_CURVE}`),zY("@*",jY(),{optional:!0})]))])};let DNe=(()=>{class n extends IY{constructor(t,r,i,o,s,a,c,l,u){super(t,r,i,o,s,a,c,u),this._animationState="void",this._animationStateChanged=new Qe,this._breakpointSubscription=l.observe([Wh_Medium,Wh_Large,"(min-width: 1920px)"]).subscribe(()=>{this._toggleClass("mat-bottom-sheet-container-medium",l.isMatched(Wh_Medium)),this._toggleClass("mat-bottom-sheet-container-large",l.isMatched(Wh_Large)),this._toggleClass("mat-bottom-sheet-container-xlarge",l.isMatched("(min-width: 1920px)"))})}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges())}exit(){this._destroyed||(this._animationState="hidden",this._changeDetectorRef.markForCheck())}ngOnDestroy(){super.ngOnDestroy(),this._breakpointSubscription.unsubscribe(),this._destroyed=!0}_onAnimationDone(t){"visible"===t.toState&&this._trapFocus(),this._animationStateChanged.emit(t)}_onAnimationStart(t){this._animationStateChanged.emit(t)}_captureInitialFocus(){}_toggleClass(t,r){this._elementRef.nativeElement.classList.toggle(t,r)}static#e=this.\u0275fac=function(r){return new(r||n)(x(Bn),x(tY),x(lt,8),x(cC),x(r2),x(De),x(aC),x(KQ),x(oY))};static#t=this.\u0275cmp=Te({type:n,selectors:[["mat-bottom-sheet-container"]],hostAttrs:["tabindex","-1",1,"mat-bottom-sheet-container"],hostVars:4,hostBindings:function(r,i){1&r&&P1("@state.start",function(s){return i._onAnimationStart(s)})("@state.done",function(s){return i._onAnimationDone(s)}),2&r&&(Hi("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-label",i._config.ariaLabel),A1("@state",i._animationState))},standalone:!0,features:[Et,ns],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(r,i){1&r&&Xn(0,INe,0,0,"ng-template",0)},dependencies:[h2],styles:[".mat-bottom-sheet-container{box-shadow:0px 8px 10px -5px rgba(0, 0, 0, 0.2), 0px 16px 24px 2px rgba(0, 0, 0, 0.14), 0px 6px 30px 5px rgba(0, 0, 0, 0.12);padding:8px 16px;min-width:100vw;box-sizing:border-box;display:block;outline:0;max-height:80vh;overflow:auto;background:var(--mat-bottom-sheet-container-background-color);color:var(--mat-bottom-sheet-container-text-color);font-family:var(--mat-bottom-sheet-container-text-font);font-size:var(--mat-bottom-sheet-container-text-size);line-height:var(--mat-bottom-sheet-container-text-line-height);font-weight:var(--mat-bottom-sheet-container-text-weight);letter-spacing:var(--mat-bottom-sheet-container-text-tracking)}.cdk-high-contrast-active .mat-bottom-sheet-container{outline:1px solid}.mat-bottom-sheet-container-xlarge,.mat-bottom-sheet-container-large,.mat-bottom-sheet-container-medium{border-top-left-radius:var(--mat-bottom-sheet-container-shape);border-top-right-radius:var(--mat-bottom-sheet-container-shape)}.mat-bottom-sheet-container-medium{min-width:384px;max-width:calc(100vw - 128px)}.mat-bottom-sheet-container-large{min-width:512px;max-width:calc(100vw - 256px)}.mat-bottom-sheet-container-xlarge{min-width:576px;max-width:calc(100vw - 384px)}"],encapsulation:2,data:{animation:[TNe.bottomSheetState]}})}return n})();const HY=new X("MatBottomSheetData");class MNe{constructor(){this.data=null,this.hasBackdrop=!0,this.disableClose=!1,this.ariaLabel=null,this.ariaModal=!0,this.closeOnNavigation=!0,this.autoFocus="dialog",this.restoreFocus=!0}}class v2{get instance(){return this._ref.componentInstance}get componentRef(){return this._ref.componentRef}constructor(e,t,r){this._ref=e,this._afterOpened=new wt,this.containerInstance=r,this.disableClose=t.disableClose,r._animationStateChanged.pipe(An(i=>"done"===i.phaseName&&"visible"===i.toState),Sn(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),r._animationStateChanged.pipe(An(i=>"done"===i.phaseName&&"hidden"===i.toState),Sn(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._ref.close(this._result)}),e.overlayRef.detachments().subscribe(()=>{this._ref.close(this._result)}),sC(this.backdropClick(),this.keydownEvents().pipe(An(i=>27===i.keyCode))).subscribe(i=>{!this.disableClose&&("keydown"!==i.type||!n2(i))&&(i.preventDefault(),this.dismiss())})}dismiss(e){this.containerInstance&&(this.containerInstance._animationStateChanged.pipe(An(t=>"start"===t.phaseName),Sn(1)).subscribe(t=>{this._closeFallbackTimeout=setTimeout(()=>{this._ref.close(this._result)},t.totalTime+100),this._ref.overlayRef.detachBackdrop()}),this._result=e,this.containerInstance.exit(),this.containerInstance=null)}afterDismissed(){return this._ref.closed}afterOpened(){return this._afterOpened}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}}const SNe=new X("mat-bottom-sheet-default-options");let GY=(()=>{class n{get _openedBottomSheetRef(){const t=this._parentBottomSheet;return t?t._openedBottomSheetRef:this._bottomSheetRefAtThisLevel}set _openedBottomSheetRef(t){this._parentBottomSheet?this._parentBottomSheet._openedBottomSheetRef=t:this._bottomSheetRefAtThisLevel=t}constructor(t,r,i,o){this._overlay=t,this._parentBottomSheet=i,this._defaultOptions=o,this._bottomSheetRefAtThisLevel=null,this._dialog=r.get(DY)}open(t,r){const i={...this._defaultOptions||new MNe,...r};let o;return this._dialog.open(t,{...i,disableClose:!0,closeOnOverlayDetachments:!1,maxWidth:"100%",container:DNe,scrollStrategy:i.scrollStrategy||this._overlay.scrollStrategies.block(),positionStrategy:this._overlay.position().global().centerHorizontally().bottom("0"),templateContext:()=>({bottomSheetRef:o}),providers:(s,a,c)=>(o=new v2(s,i,c),[{provide:v2,useValue:o},{provide:HY,useValue:i.data}])}),o.afterDismissed().subscribe(()=>{this._openedBottomSheetRef===o&&(this._openedBottomSheetRef=null)}),this._openedBottomSheetRef?(this._openedBottomSheetRef.afterDismissed().subscribe(()=>o.containerInstance?.enter()),this._openedBottomSheetRef.dismiss()):o.containerInstance.enter(),this._openedBottomSheetRef=o,o}dismiss(t){this._openedBottomSheetRef&&this._openedBottomSheetRef.dismiss(t)}ngOnDestroy(){this._bottomSheetRefAtThisLevel&&this._bottomSheetRefAtThisLevel.dismiss()}static#e=this.\u0275fac=function(r){return new(r||n)($(iu),$(Ut),$(n,12),$(SNe,8))};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ANe=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=ot({type:n});static#n=this.\u0275inj=et({providers:[GY],imports:[sNe,Mc,oC,Mc]})}return n})();const Qh=new qt(Zh),ONe={connector:()=>new wt};function qY(n,e=ONe){const{connector:t}=e;return yn((r,i)=>{const o=t();Rr(n(function kNe(n){return new qt(e=>n.subscribe(e))}(o))).subscribe(i),i.add(r.subscribe(o))})}function WY(n,e){return e?t=>yd(e.pipe(Sn(1),function NNe(){return yn((n,e)=>{n.subscribe(fn(e,Zh))})}()),t.pipe(WY(n))):yr((t,r)=>Rr(n(t,r)).pipe(Sn(1),Gz(t)))}const o_="Service workers are disabled or not supported by this browser";class uC{constructor(e){if(this.serviceWorker=e,e){const r=e_(e,"controllerchange").pipe(Pe(()=>e.controller)),o=yd(Ep(()=>be(e.controller)),r);this.worker=o.pipe(An(u=>!!u)),this.registration=this.worker.pipe(Ai(()=>e.getRegistration()));const l=e_(e,"message").pipe(Pe(u=>u.data)).pipe(An(u=>u&&u.type)).pipe(function RNe(n){return n?e=>qY(n)(e):e=>function PNe(n,e){const t=_t(n)?n:()=>n;return _t(e)?qY(e,{connector:t}):r=>new uT(r,t)}(new wt)(e)}());l.connect(),this.events=l}else this.worker=this.events=this.registration=function LNe(n){return Ep(()=>vd(new Error(n)))}(o_)}postMessage(e,t){return this.worker.pipe(Sn(1),kn(r=>{r.postMessage({action:e,...t})})).toPromise().then(()=>{})}postMessageWithOperation(e,t,r){const i=this.waitForOperationCompleted(r),o=this.postMessage(e,t);return Promise.all([o,i]).then(([,s])=>s)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(e){let t;return t="string"==typeof e?r=>r.type===e:r=>e.includes(r.type),this.events.pipe(An(t))}nextEventOfType(e){return this.eventsOfType(e).pipe(Sn(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(An(t=>t.nonce===e),Sn(1),Pe(t=>{if(void 0!==t.result)return t.result;throw new Error(t.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let KY=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,this.pushManager=null,this.subscriptionChanges=new wt,!t.isEnabled)return this.messages=Qh,this.notificationClicks=Qh,void(this.subscription=Qh);this.messages=this.sw.eventsOfType("PUSH").pipe(Pe(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(Pe(i=>i.data)),this.pushManager=this.sw.registration.pipe(Pe(i=>i.pushManager));const r=this.pushManager.pipe(Ai(i=>i.getSubscription()));this.subscription=sC(r,this.subscriptionChanges)}requestSubscription(t){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(o_));const r={userVisibleOnly:!0};let i=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),o=new Uint8Array(new ArrayBuffer(i.length));for(let s=0;s<i.length;s++)o[s]=i.charCodeAt(s);return r.applicationServerKey=o,this.pushManager.pipe(Ai(s=>s.subscribe(r)),Sn(1)).toPromise().then(s=>(this.subscriptionChanges.next(s),s))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(Sn(1),Ai(r=>{if(null===r)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(i=>{if(!i)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(o_))}decodeBase64(t){return atob(t)}static#e=this.\u0275fac=function(r){return new(r||n)($(uC))};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac})}return n})(),QY=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,!t.isEnabled)return this.versionUpdates=Qh,void(this.unrecoverable=Qh);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(o_));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(o_));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}static#e=this.\u0275fac=function(r){return new(r||n)($(uC))};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac})}return n})();const YY=new X("");function VNe(n,e,t,r){return()=>{if(!vv(r)||!("serviceWorker"in navigator)||!1===t.enabled)return;let i;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof t.registrationStrategy)i=t.registrationStrategy();else{const[s,...a]=(t.registrationStrategy||"registerWhenStable:30000").split(":");switch(s){case"registerImmediately":i=be(null);break;case"registerWithDelay":i=XY(+a[0]||0);break;case"registerWhenStable":i=a[0]?sC(ZY(n),XY(+a[0])):ZY(n);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${t.registrationStrategy}`)}}n.get(De).runOutsideAngular(()=>i.pipe(Sn(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:t.scope}).catch(s=>console.error("Service worker registration failed with:",s))))}}function XY(n){return be(null).pipe(function FNe(n,e=qp){const t=a2(n,e);return WY(()=>t)}(n))}function ZY(n){return n.get(rs).isStable.pipe(An(t=>t))}function BNe(n,e){return new uC(vv(e)&&!1!==n.enabled?navigator.serviceWorker:void 0)}class b2{}function UNe(n,e={}){return function G_(n){return{\u0275providers:n}}([KY,QY,{provide:YY,useValue:n},{provide:b2,useValue:e},{provide:uC,useFactory:BNe,deps:[b2,ro]},{provide:cp,useFactory:VNe,deps:[Ut,YY,b2,ro],multi:!0}])}let jNe=(()=>{class n{static register(t,r={}){return{ngModule:n,providers:[UNe(t,r)]}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=ot({type:n});static#n=this.\u0275inj=et({providers:[KY,QY]})}return n})();function zNe(n,e){if(1&n){const t=yt();g(0,"tr")(1,"td"),w(2),p(),g(3,"td"),w(4),p(),g(5,"td"),w(6),p(),g(7,"td")(8,"button",3),Q("click",function(){const o=Re(t).$implicit;return Ne(Zt().Muestras(o.name))}),p()()()}if(2&n){const t=e.$implicit;z(2),He(t.name),z(2),He(t.owner),z(2),He(t.integrantes)}}let $Ne=(()=>{class n{constructor(t,r,i,o){this.router=t,this.route=r,this.auth=i,this.firestore=o,this.data=[],this.list=[],this.email="",this.getData(),this.MyQuery()}getData(){const t=_s();ia(t,i=>{i&&(console.log(i.email),i.email&&(this.email=i.email))});const r=xe(this.firestore,"projects");pe(r).then(i=>{this.data=[...i.docs.map(o=>({...o.data(),id:o.id}))]})}updateData(t){const r=Ie(this.firestore,"projects",t);bi(r,{}).then(()=>{alert("Data updated"),this.getData()}).catch(i=>{alert(i.message)})}deleteData(t){const r=Ie(this.firestore,"projects",t);Fn(r).then(()=>{alert("Data Deleted"),this.getData()}).catch(i=>{alert(i.message)})}newProject(){this.router.navigate(["user/project-new"])}EditProject(){this.router.navigate(["user/project-new"])}Muestras(t){this.router.navigate(["client/muestras/"+t])}editProyecto(t){this.router.navigate(["user/project-edit/"+t])}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["user/projects"])}logOut(){Br(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}MyQuery(){var t=this;return _(function*(){const r=_s();let i;i="",console.log(r),ia(r,function(){var o=_(function*(s){if(s&&(console.log(s.email),s.email)){i=s.email;const a=dn(xe(t.firestore,"projects"),nn("cliente","==",i));pe(a).then(l=>{t.data=[...l.docs.map(u=>({...u.data(),id:u.id}))]});const c=yield pe(a);console.log(c),c.forEach(l=>{console.log(l.id," => ",l.data()),console.log("here2")}),console.log(t.data.length),console.log(t.data),console.log(t.data[0].cliente)}});return function(s){return o.apply(this,arguments)}}())})()}static#e=this.\u0275fac=function(r){return new(r||n)(x(Me),x(ut),x(Ge),x(ct))};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-projects"]],decls:15,vars:1,consts:[[1,"subTituloText"],[1,"list"],[4,"ngFor","ngForOf"],[1,"muestras",3,"click"]],template:function(r,i){1&r&&(g(0,"p"),w(1,"projects works!"),p(),g(2,"h1",0),w(3,"Proyectos"),p(),g(4,"div",1)(5,"table")(6,"tr")(7,"th"),w(8," Nombre "),p(),g(9,"th"),w(10," Due\xf1o "),p(),g(11,"th"),w(12," Integrantes"),p(),te(13,"th"),p(),Xn(14,zNe,9,3,"tr",2),p()()),2&r&&(z(14),dr("ngForOf",i.data))},dependencies:[uo],styles:[".list[_ngcontent-%COMP%]{position:absolute;left:25%;top:38%}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:153px;height:36px;left:49%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:126px;height:16px;left:50%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:300px;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;left:45%;top:20%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.list[_ngcontent-%COMP%]{position:absolute;margin:0;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.boton[_ngcontent-%COMP%]{position:absolute;left:80%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;left:30%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}.scanbutton[_ngcontent-%COMP%]{cursor:pointer;width:153px;height:36px;left:30%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}}"]})}return n})();function HNe(n,e){if(1&n){const t=yt();g(0,"tr")(1,"td"),w(2),p(),g(3,"td"),w(4),p(),g(5,"td"),w(6),p(),g(7,"td"),w(8),p(),g(9,"td")(10,"button",4),Q("click",function(){const o=Re(t).$implicit;return Ne(Zt().infoMuestra(o.codigo))}),p()()()}if(2&n){const t=e.$implicit;z(2),He(t.codigo),z(2),He(t.fecha),z(2),He(t.cultivo),z(2),He(t.coordenadas)}}let JY=(()=>{class n{constructor(t,r,i,o){this.router=t,this.route=r,this.auth=i,this.firestore=o,this.data=[],this.MyQuery()}ngOnInit(){this.route.params.subscribe(t=>{this.item=t.id,console.log(t),console.log(t.id)}),this.MyQuery()}getData(){const t=xe(this.firestore,"muestras");pe(t).then(r=>{this.data=[...r.docs.map(i=>({...i.data(),id:i.id}))]})}updateData(t){const r=Ie(this.firestore,"muestras",t);bi(r,{}).then(()=>{alert("Data updated"),this.getData()}).catch(i=>{alert(i.message)})}deleteData(t){const r=Ie(this.firestore,"muestras",t);Fn(r).then(()=>{alert("Data Deleted"),this.getData()}).catch(i=>{alert(i.message)})}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["client/projects"])}logOut(){Br(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}newMuestra(){this.router.navigate(["user/muestras-new"])}editMuestra(t){this.router.navigate(["user/muestras-edit/"+t])}infoProject(t){this.router.navigate(["user/project-edit/"+t])}infoMuestra(t){this.router.navigate(["client/muestras-info/"+t])}MyQuery(){var t=this;return _(function*(){let r=t.item;t.pid=r,console.log(r);const i=dn(xe(t.firestore,"muestras"),nn("project","==",r));pe(i).then(s=>{t.data=[...s.docs.map(a=>({...a.data(),id:a.id}))]}),(yield pe(i)).forEach(s=>{console.log(s.id," => ",s.data())})})()}static#e=this.\u0275fac=function(r){return new(r||n)(x(Me),x(ut),x(Ge),x(ct))};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-muestras"]],decls:19,vars:1,consts:[[1,"subTituloText"],[1,"list"],[1,"projectBlock",3,"click"],[4,"ngFor","ngForOf"],[1,"detalles",3,"click"]],template:function(r,i){1&r&&(g(0,"p"),w(1,"muestras works!"),p(),g(2,"h1",0),w(3,"Muestras"),p(),g(4,"div",1)(5,"div",2),Q("click",function(){return i.infoProject(i.pid)}),w(6,"Proyecto"),p(),g(7,"table")(8,"tr")(9,"th"),w(10," Codigo "),p(),g(11,"th"),w(12," Fecha "),p(),g(13,"th"),w(14," Cultivo"),p(),g(15,"th"),w(16," Coordenadas "),p(),te(17,"th"),p(),Xn(18,HNe,11,4,"tr",3),p()()),2&r&&(z(18),dr("ngForOf",i.data))},dependencies:[uo],styles:[".list[_ngcontent-%COMP%]{position:absolute;left:38%;top:38%}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.projectBlock[_ngcontent-%COMP%]{width:auto;height:35px;background:#3ec28f;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:20px;font-weight:700;letter-spacing:0;cursor:pointer}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:153px;height:36px;left:49%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:126px;height:16px;left:50%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:300px;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;left:45%;top:20%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.projectBlock[_ngcontent-%COMP%]{width:60%;height:25px;background:#3ec28f;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:14px;font-weight:700;letter-spacing:0;cursor:pointer}.list[_ngcontent-%COMP%]{position:absolute;left:5%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:80%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;left:30%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}return n})();function GNe(n,e){if(1&n){const t=yt();g(0,"tr")(1,"td"),w(2),p(),g(3,"td"),w(4),p(),g(5,"td"),w(6),p(),g(7,"td"),w(8),p(),g(9,"td")(10,"button",3),Q("click",function(){const o=Re(t).$implicit;return Ne(Zt().infoMuestra(o.codigo))}),p()()()}if(2&n){const t=e.$implicit;z(2),He(t.codigo),z(2),He(t.fecha),z(2),He(t.cultivo),z(2),He(t.coordenadas)}}let qNe=(()=>{class n{constructor(t,r,i,o){this.router=t,this.route=r,this.auth=i,this.firestore=o,this.data=[],this.arr=[]}ngOnInit(){this.route.params.subscribe(t=>{this.item=t.id,console.log(t),console.log(t.id)}),this.getData(),this.MyQuery()}getData(){const t=xe(this.firestore,"muestras");pe(t).then(r=>{this.data=[...r.docs.map(i=>({...i.data(),id:i.id}))]})}updateData(t){const r=Ie(this.firestore,"muestras",t);bi(r,{}).then(()=>{alert("Data updated"),this.getData()}).catch(i=>{alert(i.message)})}deleteData(t){const r=Ie(this.firestore,"muestras",t);Fn(r).then(()=>{alert("Data Deleted"),this.getData()}).catch(i=>{alert(i.message)})}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["user/projects"])}logOut(){Br(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}newMuestra(){this.router.navigate(["user/muestras-new"])}editMuestra(t){this.router.navigate(["user/muestras-edit/"+t])}infoProject(t){this.router.navigate(["user/project-edit/"+t])}infoMuestra(t){this.router.navigate(["user/muestras-info/"+t])}MyQuery(){var t=this;return _(function*(){const r=_s();let i,o=[];i="",console.log(r),ia(r,function(){var s=_(function*(a){if(a&&(console.log(a.email),a.email)){i=a.email;const d=dn(xe(t.firestore,"projects"),nn("cliente","==",i));pe(d).then(y=>{t.dataTem=[...y.docs.map(E=>({...E.data(),id:E.id}))]}),(yield pe(d)).forEach(y=>{}),console.log(t.dataTem.length),console.log(t.dataTem[0].name);let f=t.dataTem.length;console.log(f);for(let y=0;y<f;y++)console.log(t.dataTem[y].name),o.push(t.dataTem[y].name);console.log(o)}console.log("next"),console.log(o),t.pid=t.item;const l=dn(xe(t.firestore,"muestras"),nn("project","in",o));pe(l).then(d=>{t.data=[...d.docs.map(h=>({...h.data(),id:h.id}))]}),(yield pe(l)).forEach(d=>{console.log(d.id," => ",d.data())})});return function(a){return s.apply(this,arguments)}}())})()}static#e=this.\u0275fac=function(r){return new(r||n)(x(Me),x(ut),x(Ge),x(ct))};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-muestras-all"]],decls:17,vars:1,consts:[[1,"subTituloText"],[1,"list"],[4,"ngFor","ngForOf"],[1,"detalles",3,"click"]],template:function(r,i){1&r&&(g(0,"p"),w(1,"muestras-all works!"),p(),g(2,"h1",0),w(3,"Muestras"),p(),g(4,"div",1)(5,"table")(6,"tr")(7,"th"),w(8," Codigo "),p(),g(9,"th"),w(10," Fecha "),p(),g(11,"th"),w(12," Cultivo"),p(),g(13,"th"),w(14," Coordenadas "),p(),te(15,"th"),p(),Xn(16,GNe,11,4,"tr",2),p()()),2&r&&(z(16),dr("ngForOf",i.data))},dependencies:[uo],styles:[".list[_ngcontent-%COMP%]{position:absolute;left:38%;top:38%}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.projectBlock[_ngcontent-%COMP%]{width:auto;height:35px;background:#3ec28f;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:20px;font-weight:700;letter-spacing:0;cursor:pointer}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:153px;height:36px;left:49%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:126px;height:16px;left:50%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:300px;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;left:45%;top:20%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;margin-left:2px;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.list[_ngcontent-%COMP%]{position:absolute;left:5%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:80%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;left:30%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}return n})();function WNe(n,e){if(1&n){const t=yt();g(0,"tr")(1,"td"),w(2),p(),g(3,"td"),w(4),p(),g(5,"td"),w(6),p(),g(7,"td"),w(8),p(),g(9,"td")(10,"button",3),Q("click",function(){const o=Re(t).$implicit;return Ne(Zt().infoUnidad(o.codigo))}),p()()()}if(2&n){const t=e.$implicit;z(2),He(t.codigo),z(2),He(t.project),z(2),He(t.altitud),z(2),He(t.coordenadas)}}let KNe=(()=>{class n{constructor(t,r,i,o){this.router=t,this.route=r,this.auth=i,this.firestore=o,this.data=[],this.arr=[]}ngOnInit(){this.route.params.subscribe(t=>{this.item=t.id,console.log(t),console.log(t.id)}),this.getData(),this.MyQuery()}getData(){const t=xe(this.firestore,"unidad-produccion");pe(t).then(r=>{this.data=[...r.docs.map(i=>({...i.data(),id:i.id}))]})}updateData(t){const r=Ie(this.firestore,"unidad-produccion",t);bi(r,{}).then(()=>{alert("Data updated"),this.getData()}).catch(i=>{alert(i.message)})}deleteData(t){const r=Ie(this.firestore,"unidad-produccion",t);Fn(r).then(()=>{alert("Data Deleted"),this.getData()}).catch(i=>{alert(i.message)})}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["user/projects"])}logOut(){Br(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}newMuestra(){this.router.navigate(["user/muestras-new"])}editMuestra(t){this.router.navigate(["user/muestras-edit/"+t])}infoProject(t){this.router.navigate(["user/project-edit/"+t])}infoUnidad(t){this.router.navigate(["client/unidad-produccion-info/"+t])}MyQuery(){var t=this;return _(function*(){const r=_s();let i,o=[];i="",console.log(r),ia(r,function(){var s=_(function*(a){if(a&&(console.log(a.email),a.email)){i=a.email;const d=dn(xe(t.firestore,"projects"),nn("cliente","==",i));pe(d).then(y=>{t.dataTem=[...y.docs.map(E=>({...E.data(),id:E.id}))]}),(yield pe(d)).forEach(y=>{}),console.log(t.dataTem.length),console.log(t.dataTem[0].name);let f=t.dataTem.length;console.log(f);for(let y=0;y<f;y++)console.log(t.dataTem[y].name),o.push(t.dataTem[y].name);console.log(o)}console.log("next"),console.log(o),t.pid=t.item;const l=dn(xe(t.firestore,"unidad-produccion"),nn("project","in",o));pe(l).then(d=>{t.data=[...d.docs.map(h=>({...h.data(),id:h.id}))]}),(yield pe(l)).forEach(d=>{console.log(d.id," => ",d.data())})});return function(a){return s.apply(this,arguments)}}())})()}static#e=this.\u0275fac=function(r){return new(r||n)(x(Me),x(ut),x(Ge),x(ct))};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-unidad-produccion-all"]],decls:17,vars:1,consts:[[1,"subTituloText"],[1,"list"],[4,"ngFor","ngForOf"],[1,"detalles",3,"click"]],template:function(r,i){1&r&&(g(0,"p"),w(1,"unidad-produccion-all works!"),p(),g(2,"h1",0),w(3,"Unidades"),p(),g(4,"div",1)(5,"table")(6,"tr")(7,"th"),w(8," Codigo "),p(),g(9,"th"),w(10," Proyecto "),p(),g(11,"th"),w(12," Altitud"),p(),g(13,"th"),w(14," Coordenadas "),p(),te(15,"th"),p(),Xn(16,WNe,11,4,"tr",2),p()()),2&r&&(z(16),dr("ngForOf",i.data))},dependencies:[uo],styles:[".list[_ngcontent-%COMP%]{position:absolute;left:38%;top:38%}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.projectBlock[_ngcontent-%COMP%]{width:auto;height:35px;background:#3ec28f;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:20px;font-weight:700;letter-spacing:0;cursor:pointer}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:153px;height:36px;left:49%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:126px;height:16px;left:50%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:300px;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;left:45%;top:20%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;margin-left:2px;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.list[_ngcontent-%COMP%]{position:absolute;left:2%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:80%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;left:30%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}return n})();const QNe=["geo"];let YNe=(()=>{class n{constructor(t,r,i,o){this.router=t,this.route=r,this.auth=i,this.firestore=o,this.title="gestion-de-muestras-de-campo",this.data=[],this.somethingChange=new Qe}ngOnInit(){this.route.params.subscribe(t=>{this.text=t.id,console.log(t),console.log(t.id)}),this.MyQuery()}handleRegister(t){this.addData(t)}addData(t){const r=Ie(this.firestore,"unidad-produccion",t.codigo);vi(r,t).then(()=>{alert("Data Sent")}).catch(i=>{alert(i.message)}),console.log(t.comentarios)}getData(){const t=xe(this.firestore,"unidad-produccion");pe(t).then(r=>{this.data=[...r.docs.map(i=>({...i.data(),id:i.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude)}getLocation(){var t=this;return _(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{console.log(t.res)},1e3)})()}MyQuery(){var t=this;return _(function*(){let r=t.text;const i=dn(xe(t.firestore,"unidad-produccion"),nn("codigo","==",r)),o=yield pe(i);o.empty||o.forEach(s=>{t.item=s.data(),console.log(s.id," => ",s.data())})})()}editMuestra(){this.router.navigate(["user/unidad-produccion-edit/"+this.text])}deleteData(t){const r=Ie(this.firestore,"users",t);Fn(r).then(()=>{alert("Data Deleted"),this.getData()}).catch(i=>{alert(i.message)})}static#e=this.\u0275fac=function(r){return new(r||n)(x(Me),x(ut),x(Ge),x(ct))};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-unidad-produccion-info"]],viewQuery:function(r,i){if(1&r&&$n(QNe,5),2&r){let o;bn(o=wn())&&(i.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:58,vars:10,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],[1,"input-field"]],template:function(r,i){if(1&r){const o=yt();g(0,"p"),w(1,"unidad-produccion-info works!"),p(),g(2,"h1",0),w(3,"Datos de la Muestra"),p(),g(4,"div",1)(5,"form",2,3),Q("ngSubmit",function(){Re(o);const a=Cn(6);return Ne(i.handleRegister(a.value))}),g(7,"div",4)(8,"div",5)(9,"span",6),w(10,"Codigo:"),p(),g(11,"span",7),w(12),p()(),g(13,"div",5)(14,"span",6),w(15,"Cliente:"),p(),g(16,"span",7),w(17),p()(),g(18,"div",5)(19,"span",6),w(20,"Coordenadas:"),p(),g(21,"span",7),w(22),p()(),g(23,"div",5)(24,"span",6),w(25,"Localidad:"),p(),g(26,"span",7),w(27),p()(),g(28,"div",5)(29,"span",6),w(30,"Municipio:"),p(),g(31,"span",7),w(32),p()(),g(33,"div",5)(34,"span",6),w(35,"Estado:"),p(),g(36,"span",7),w(37),p()(),g(38,"div",5)(39,"span",6),w(40,"Altitud:"),p(),g(41,"span",7),w(42),p()(),g(43,"div",5)(44,"span",6),w(45,"Temperaturas M\xe1ximas:"),p(),g(46,"span",7),w(47),p()(),g(48,"div",5)(49,"span",6),w(50,"Temperaturas M\xednimas:"),p(),g(51,"span",7),w(52),p()(),g(53,"div",5)(54,"span",6),w(55,"Precipitaci\xf3n:"),p(),g(56,"span",7),w(57),p()()()()()}2&r&&(z(12),Ue(" ",i.item.codigo,""),z(5),Ue(" ",i.item.cliente,""),z(5),Ue(" ",i.item.coordenadas,""),z(5),Ue(" ",i.item.localidad,""),z(5),Ue(" ",i.item.municipio,""),z(5),Ue(" ",i.item.cliente,""),z(5),Ue(" ",i.item.altitud,""),z(5),Ue(" ",i.item.tempmax,""),z(5),Ue(" ",i.item.tempmin,""),z(5),Ue(" ",i.item.precipitacion,""))},dependencies:[er,Jn,Mn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:65%;height:55%;flex-shrink:0;position:absolute;left:25%;top:30%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:10%;top:7%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:12px 12px 12px 25px;height:20px;left:92px;color:#000;font-family:Arial;font-size:20px;letter-spacing:0}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:40%;top:20%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;height:25px;font-family:Arial;font-size:20px;font-weight:700;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:80%;top:88%}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:0%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.input-field[_ngcontent-%COMP%]{margin:6px 6px 6px 15px;height:20px;left:92px;color:#000;font-family:Arial;font-size:16px;letter-spacing:0;text-overflow:ellipsis}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:5%;top:3%}.Text[_ngcontent-%COMP%]{color:#000;height:20px;font-family:Arial;font-size:16px;letter-spacing:0}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:90%;height:53%;flex-shrink:0;position:absolute;left:5%;top:35%}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:67%;top:90%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:12px;left:0%;top:110%}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:25%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}return n})();const XNe=["geo"];let ZNe=(()=>{class n{static#e=this.text="";constructor(t,r,i,o){this.router=t,this.route=r,this.auth=i,this.firestore=o,this.title="gestion-de-muestras-de-campo",this.data=[],this.res="",this.email="",this.somethingChange=new Qe}ngOnInit(){this.route.params.subscribe(t=>{this.x=t.id,console.log(t),console.log(t.id)}),this.getData(),this.MyQuery()}handleRegister(t){this.addData(t)}addData(t){var r=this;return _(function*(){const i=Ie(r.firestore,"clientes",t.codigo);vi(i,t).then(()=>{alert("Data Sent")}).catch(o=>{alert(o.message)}),console.log(r.pid)})()}getData(){const t=_s();ia(t,i=>{i&&i.email&&(this.email=i.email)});const r=xe(this.firestore,"clientes");pe(r).then(i=>{this.data=[...i.docs.map(o=>({...o.data(),id:o.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude),n.text=t.coords.latitude+", "+t.coords.longitude}getLocation(){var t=this;return _(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{t.res=n.text,console.log(t.res)},1e3)})()}MyQuery(){var t=this;return _(function*(){const r=_s();let i;i="",console.log(r),ia(r,function(){var o=_(function*(s){if(s&&(console.log(s.email),s.email)){i=s.email;const a=dn(xe(t.firestore,"clientes"),nn("email","==",i));pe(a).then(l=>{t.data=[...l.docs.map(u=>({...u.data(),id:u.id}))]});const c=yield pe(a);console.log(c),c.forEach(l=>{t.item=l.data(),t.pid=l.id,console.log(l.id," => ",l.data()),console.log("here2")}),console.log(t.data.length),console.log(t.data),console.log(t.data[0].email)}});return function(s){return o.apply(this,arguments)}}())})()}editClients(){this.router.navigate(["client/perfil-edit"])}deleteData(t){const i=Ie(this.firestore,"clientes",this.x);Fn(i).then(()=>{alert("Data Deleted"),this.router.navigate(["user/muestras/"+this.pid])}).catch(o=>{alert(o.message)})}static#t=this.\u0275fac=function(r){return new(r||n)(x(Me),x(ut),x(Ge),x(ct))};static#n=this.\u0275cmp=Te({type:n,selectors:[["app-perfil"]],viewQuery:function(r,i){if(1&r&&$n(XNe,5),2&r){let o;bn(o=wn())&&(i.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:32,vars:4,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],[1,"input-field"],[1,"boton",3,"click"]],template:function(r,i){if(1&r){const o=yt();g(0,"p"),w(1,"perfil works!"),p(),g(2,"p"),w(3,"clients-info works!"),p(),g(4,"h1",0),w(5,"Informacion del Cliente"),p(),g(6,"div",1)(7,"form",2,3),Q("ngSubmit",function(){Re(o);const a=Cn(8);return Ne(i.handleRegister(a.value))}),g(9,"div",4)(10,"div",5)(11,"span",6),w(12,"Email:"),p(),g(13,"span",7),w(14),p()(),g(15,"div",5)(16,"span",6),w(17,"Nombre:"),p(),g(18,"span",7),w(19),p()(),g(20,"div",5)(21,"span",6),w(22,"Telefono:"),p(),g(23,"span",7),w(24),p()(),g(25,"div",5)(26,"span",6),w(27,"Direccion:"),p(),g(28,"span",7),w(29),p()()()()(),g(30,"button",8),Q("click",function(){return i.editClients()}),w(31,"Editar Cliente"),p()}2&r&&(z(14),Ue(" ",i.item.email,""),z(5),Ue(" ",i.item.nombre,""),z(5),Ue(" ",i.item.telefono,""),z(5),Ue(" ",i.item.direccion,""))},dependencies:[er,Jn,Mn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:25%;flex-shrink:0;position:absolute;left:15%;top:30%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:3%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:85%;height:20px;left:92px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:35%;top:20%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:80%;top:58%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:50%;flex-shrink:0;position:absolute;left:15%;top:30%}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:75%;top:110%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}return n})();const JNe=["geo"],e2e=[{path:"client",component:DW,children:[{path:"projects",component:$Ne},{path:"muestras-all",component:qNe},{path:"muestras/:id",component:JY},{path:"unidad-produccion-all",component:KNe},{path:"muestras-info/:id",component:JY},{path:"unidad-produccion-info/:id",component:YNe},{path:"perfil",component:ZNe},{path:"perfil-edit",component:(()=>{class n{static#e=this.text="";constructor(t,r,i,o){this.router=t,this.route=r,this.auth=i,this.firestore=o,this.title="gestion-de-muestras-de-campo",this.data=[],this.res="",this.email="",this.somethingChange=new Qe,this.getData(),this.MyQuery()}handleRegister(t){this.addData(t)}addData(t){var r=this;return _(function*(){console.log(t);const i=Ie(r.firestore,"clientes",t.email);bi(i,{email:t.email,nombre:t.nombre,fecha:t.fecha,telefono:t.telefono,direccion:t.direccion}).then(()=>{alert("Data Sent")}).catch(o=>{alert(o.message)}),console.log(r.pid)})()}getData(){const t=xe(this.firestore,"clientes");pe(t).then(r=>{this.data=[...r.docs.map(i=>({...i.data(),id:i.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude),n.text=t.coords.latitude+", "+t.coords.longitude}getLocation(){var t=this;return _(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{t.res=n.text,console.log(t.res)},1e3)})()}MyQuery(){var t=this;return _(function*(){const r=_s();let i;i="",console.log(r),ia(r,function(){var o=_(function*(s){if(s&&(console.log(s.email),s.email)){i=s.email;const a=dn(xe(t.firestore,"clientes"),nn("email","==",i));pe(a).then(l=>{t.data=[...l.docs.map(u=>({...u.data(),id:u.id}))]});const c=yield pe(a);console.log(c),c.forEach(l=>{t.item=l.data(),t.pid=l.id,console.log(l.id," => ",l.data()),console.log("here2")}),console.log(t.data.length),console.log(t.data),console.log(t.data[0].email)}});return function(s){return o.apply(this,arguments)}}())})()}deleteData(t){const i=Ie(this.firestore,"clientes",this.x);Fn(i).then(()=>{alert("Data Deleted"),this.router.navigate(["user/muestras/"+this.pid])}).catch(o=>{alert(o.message)})}static#t=this.\u0275fac=function(r){return new(r||n)(x(Me),x(ut),x(Ge),x(ct))};static#n=this.\u0275cmp=Te({type:n,selectors:[["app-perfil-edit"]],viewQuery:function(r,i){if(1&r&&$n(JNe,5),2&r){let o;bn(o=wn())&&(i.geo=o.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:26,vars:4,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],["name","email","ngModel","","placeholder","Email","id","emai","type","email",1,"input-field",3,"ngModel","ngModelChange"],["name","nombre","ngModel","","placeholder","Nombre","id","nombre","type","nombre",1,"input-field",3,"ngModel","ngModelChange"],["name","telefono","ngModel","","placeholder","Telefono","id","telefono","type","telefono",1,"input-field",3,"ngModel","ngModelChange"],["name","direccion","ngModel","","placeholder","Direccion","id","direccion","type","direccion",1,"input-field",3,"ngModel","ngModelChange"],[1,"boton"]],template:function(r,i){if(1&r){const o=yt();g(0,"p"),w(1,"perfil-edit works!"),p(),g(2,"h1",0),w(3," Editar Perfil"),p(),g(4,"div",1)(5,"form",2,3),Q("ngSubmit",function(){Re(o);const a=Cn(6);return Ne(i.handleRegister(a.value))}),g(7,"div",4)(8,"div",5)(9,"span",6),w(10,"Email:"),p(),g(11,"input",7),nt("ngModelChange",function(a){return at(i.item.email,a)||(i.item.email=a),a}),p()(),g(12,"div",5)(13,"span",6),w(14,"Nombre:"),p(),g(15,"input",8),nt("ngModelChange",function(a){return at(i.item.nombre,a)||(i.item.nombre=a),a}),p()(),g(16,"div",5)(17,"span",6),w(18,"Telefono:"),p(),g(19,"input",9),nt("ngModelChange",function(a){return at(i.item.telefono,a)||(i.item.telefono=a),a}),p()(),g(20,"div",5)(21,"span",6),w(22,"Direccion:"),p(),g(23,"input",10),nt("ngModelChange",function(a){return at(i.item.direccion,a)||(i.item.direccion=a),a}),p()(),g(24,"button",11),w(25,"Editar Cliente"),p()()()()}2&r&&(z(11),tt("ngModel",i.item.email),z(4),tt("ngModel",i.item.nombre),z(4),tt("ngModel",i.item.telefono),z(4),tt("ngModel",i.item.direccion))},dependencies:[er,Zr,Si,Jn,gi,Mn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:30%;flex-shrink:0;position:absolute;left:15%;top:30%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:3%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:85%;height:20px;left:92px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:35%;top:20%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#a6a6a6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:80%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:50%;flex-shrink:0;position:absolute;left:15%;top:30%}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#d9d9d9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#aaa;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4c9eff;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:75%;top:110%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]})}return n})()}]}];let t2e=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=ot({type:n});static#n=this.\u0275inj=et({imports:[Ro.forChild(e2e),Ro]})}return n})(),n2e=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=ot({type:n});static#n=this.\u0275inj=et({imports:[t2e,MW,tl,Nv,XN,Ro]})}return n})();const r2e=["*",[["mat-toolbar-row"]]],i2e=["*","mat-toolbar-row"];let o2e=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=_e({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"],standalone:!0})}return n})(),s2e=(()=>{class n{constructor(t,r,i){this._elementRef=t,this._platform=r,this._document=i}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}static#e=this.\u0275fac=function(r){return new(r||n)(x(Bn),x(Zi),x(lt))};static#t=this.\u0275cmp=Te({type:n,selectors:[["mat-toolbar"]],contentQueries:function(r,i,o){if(1&r&&F1(o,o2e,5),2&r){let s;bn(s=wn())&&(i._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(r,i){2&r&&(C1(i.color?"mat-"+i.color:""),zs("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length))},inputs:{color:"color"},exportAs:["matToolbar"],standalone:!0,features:[ns],ngContentSelectors:i2e,decls:2,vars:0,template:function(r,i){1&r&&(ud(r2e),Ao(0),Ao(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color:var(--mat-toolbar-container-text-color);--mdc-outlined-button-label-text-color:var(--mat-toolbar-container-text-color)}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0})}return n})(),a2e=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=ot({type:n});static#n=this.\u0275inj=et({imports:[Mc,Mc]})}return n})();function w2(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new Jh({next:()=>{r.unsubscribe(),n()}});return Rr(e(...t)).subscribe(r)}class C2{}class _a{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),o=i.toLowerCase(),s=t.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof _a?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new _a;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof _a?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const o=e.value;if(o){let s=this.headers.get(t);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){const r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class l2e{encodeKey(e){return eX(e)}encodeValue(e){return eX(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const d2e=/%(\d[a-f0-9])/gi,h2e={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function eX(n){return encodeURIComponent(n).replace(d2e,(e,t)=>h2e[t]??e)}function dC(n){return`${n}`}class Sc{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new l2e,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function u2e(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[s,a]=-1==o?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],c=t.get(s)||[];c.push(a),t.set(s,c)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(dC):[dC(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Sc({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(dC(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(dC(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class f2e{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function tX(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function nX(n){return typeof Blob<"u"&&n instanceof Blob}function rX(n){return typeof FormData<"u"&&n instanceof FormData}class s_{constructor(e,t,r,i){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function p2e(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new _a,this.context??=new f2e,this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+s}}else this.params=new Sc,this.urlWithParams=t}serializeBody(){return null===this.body?null:tX(this.body)||nX(this.body)||rX(this.body)||function g2e(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Sc?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||rX(this.body)?null:nX(this.body)?this.body.type||null:tX(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Sc?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,s=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let c=e.headers||this.headers,l=e.params||this.params;const u=e.context??this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((d,h)=>d.set(h,e.setHeaders[h]),c)),e.setParams&&(l=Object.keys(e.setParams).reduce((d,h)=>d.set(h,e.setParams[h]),l)),new s_(t,r,o,{params:l,headers:c,context:u,reportProgress:a,responseType:i,withCredentials:s})}}var x2=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(x2||{});class I2{constructor(e,t=oX.Ok,r="OK"){this.headers=e.headers||new _a,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class a_ extends I2{constructor(e={}){super(e),this.type=x2.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new a_({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}var oX=function(n){return n[n.Continue=100]="Continue",n[n.SwitchingProtocols=101]="SwitchingProtocols",n[n.Processing=102]="Processing",n[n.EarlyHints=103]="EarlyHints",n[n.Ok=200]="Ok",n[n.Created=201]="Created",n[n.Accepted=202]="Accepted",n[n.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",n[n.NoContent=204]="NoContent",n[n.ResetContent=205]="ResetContent",n[n.PartialContent=206]="PartialContent",n[n.MultiStatus=207]="MultiStatus",n[n.AlreadyReported=208]="AlreadyReported",n[n.ImUsed=226]="ImUsed",n[n.MultipleChoices=300]="MultipleChoices",n[n.MovedPermanently=301]="MovedPermanently",n[n.Found=302]="Found",n[n.SeeOther=303]="SeeOther",n[n.NotModified=304]="NotModified",n[n.UseProxy=305]="UseProxy",n[n.Unused=306]="Unused",n[n.TemporaryRedirect=307]="TemporaryRedirect",n[n.PermanentRedirect=308]="PermanentRedirect",n[n.BadRequest=400]="BadRequest",n[n.Unauthorized=401]="Unauthorized",n[n.PaymentRequired=402]="PaymentRequired",n[n.Forbidden=403]="Forbidden",n[n.NotFound=404]="NotFound",n[n.MethodNotAllowed=405]="MethodNotAllowed",n[n.NotAcceptable=406]="NotAcceptable",n[n.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",n[n.RequestTimeout=408]="RequestTimeout",n[n.Conflict=409]="Conflict",n[n.Gone=410]="Gone",n[n.LengthRequired=411]="LengthRequired",n[n.PreconditionFailed=412]="PreconditionFailed",n[n.PayloadTooLarge=413]="PayloadTooLarge",n[n.UriTooLong=414]="UriTooLong",n[n.UnsupportedMediaType=415]="UnsupportedMediaType",n[n.RangeNotSatisfiable=416]="RangeNotSatisfiable",n[n.ExpectationFailed=417]="ExpectationFailed",n[n.ImATeapot=418]="ImATeapot",n[n.MisdirectedRequest=421]="MisdirectedRequest",n[n.UnprocessableEntity=422]="UnprocessableEntity",n[n.Locked=423]="Locked",n[n.FailedDependency=424]="FailedDependency",n[n.TooEarly=425]="TooEarly",n[n.UpgradeRequired=426]="UpgradeRequired",n[n.PreconditionRequired=428]="PreconditionRequired",n[n.TooManyRequests=429]="TooManyRequests",n[n.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",n[n.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",n[n.InternalServerError=500]="InternalServerError",n[n.NotImplemented=501]="NotImplemented",n[n.BadGateway=502]="BadGateway",n[n.ServiceUnavailable=503]="ServiceUnavailable",n[n.GatewayTimeout=504]="GatewayTimeout",n[n.HttpVersionNotSupported=505]="HttpVersionNotSupported",n[n.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",n[n.InsufficientStorage=507]="InsufficientStorage",n[n.LoopDetected=508]="LoopDetected",n[n.NotExtended=510]="NotExtended",n[n.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",n}(oX||{});function T2(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}let D2=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof s_)o=t;else{let c,l;c=i.headers instanceof _a?i.headers:new _a(i.headers),i.params&&(l=i.params instanceof Sc?i.params:new Sc({fromObject:i.params})),o=new s_(t,r,void 0!==i.body?i.body:null,{headers:c,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}const s=be(o).pipe(bd(c=>this.handler.handle(c)));if(t instanceof s_||"events"===i.observe)return s;const a=s.pipe(An(c=>c instanceof a_));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(Pe(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(Pe(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(Pe(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return a.pipe(Pe(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Sc).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,T2(i,r))}post(t,r,i={}){return this.request("POST",t,T2(i,r))}put(t,r,i={}){return this.request("PUT",t,T2(i,r))}static#e=this.\u0275fac=function(r){return new(r||n)($(C2))};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac})}return n})();const L2e=["*"];let pC;function c_(n){return function V2e(){if(void 0===pC&&(pC=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(pC=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return pC}()?.createHTML(n)||n}function vX(n){return Error(`Unable to find icon with the name "${n}"`)}function bX(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function wX(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class su{constructor(e,t,r){this.url=e,this.svgText=t,this.options=r}}let gC=(()=>{class n{constructor(t,r,i,o){this._httpClient=t,this._sanitizer=r,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=i}addSvgIcon(t,r,i){return this.addSvgIconInNamespace("",t,r,i)}addSvgIconLiteral(t,r,i){return this.addSvgIconLiteralInNamespace("",t,r,i)}addSvgIconInNamespace(t,r,i,o){return this._addSvgIconConfig(t,r,new su(i,null,o))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,r,i,o){const s=this._sanitizer.sanitize(Pr.HTML,i);if(!s)throw wX(i);const a=c_(s);return this._addSvgIconConfig(t,r,new su("",a,o))}addSvgIconSet(t,r){return this.addSvgIconSetInNamespace("",t,r)}addSvgIconSetLiteral(t,r){return this.addSvgIconSetLiteralInNamespace("",t,r)}addSvgIconSetInNamespace(t,r,i){return this._addSvgIconSetConfig(t,new su(r,null,i))}addSvgIconSetLiteralInNamespace(t,r,i){const o=this._sanitizer.sanitize(Pr.HTML,r);if(!o)throw wX(r);const s=c_(o);return this._addSvgIconSetConfig(t,new su("",s,i))}registerFontClassAlias(t,r=t){return this._fontCssClassesByAlias.set(t,r),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const r=this._sanitizer.sanitize(Pr.RESOURCE_URL,t);if(!r)throw bX(t);const i=this._cachedIconsByUrl.get(r);return i?be(mC(i)):this._loadSvgIconFromConfig(new su(t,null)).pipe(kn(o=>this._cachedIconsByUrl.set(r,o)),Pe(o=>mC(o)))}getNamedSvgIcon(t,r=""){const i=CX(r,t);let o=this._svgIconConfigs.get(i);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(r,t),o)return this._svgIconConfigs.set(i,o),this._getSvgFromConfig(o);const s=this._iconSetConfigs.get(r);return s?this._getSvgFromIconSetConfigs(t,s):vd(vX(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?be(mC(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(Pe(r=>mC(r)))}_getSvgFromIconSetConfigs(t,r){const i=this._extractIconWithNameFromAnySet(t,r);return i?be(i):Hj(r.filter(s=>!s.svgText).map(s=>this._loadSvgIconSetFromConfig(s).pipe(ol(a=>{const l=`Loading icon set URL: ${this._sanitizer.sanitize(Pr.RESOURCE_URL,s.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(l)),be(null)})))).pipe(Pe(()=>{const s=this._extractIconWithNameFromAnySet(t,r);if(!s)throw vX(t);return s}))}_extractIconWithNameFromAnySet(t,r){for(let i=r.length-1;i>=0;i--){const o=r[i];if(o.svgText&&o.svgText.toString().indexOf(t)>-1){const s=this._svgElementFromConfig(o),a=this._extractSvgIconFromSet(s,t,o.options);if(a)return a}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(kn(r=>t.svgText=r),Pe(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?be(null):this._fetchIcon(t).pipe(kn(r=>t.svgText=r))}_extractSvgIconFromSet(t,r,i){const o=t.querySelector(`[id="${r}"]`);if(!o)return null;const s=o.cloneNode(!0);if(s.removeAttribute("id"),"svg"===s.nodeName.toLowerCase())return this._setSvgAttributes(s,i);if("symbol"===s.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(s),i);const a=this._svgElementFromString(c_("<svg></svg>"));return a.appendChild(s),this._setSvgAttributes(a,i)}_svgElementFromString(t){const r=this._document.createElement("DIV");r.innerHTML=t;const i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(t){const r=this._svgElementFromString(c_("<svg></svg>")),i=t.attributes;for(let o=0;o<i.length;o++){const{name:s,value:a}=i[o];"id"!==s&&r.setAttribute(s,a)}for(let o=0;o<t.childNodes.length;o++)t.childNodes[o].nodeType===this._document.ELEMENT_NODE&&r.appendChild(t.childNodes[o].cloneNode(!0));return r}_setSvgAttributes(t,r){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),r&&r.viewBox&&t.setAttribute("viewBox",r.viewBox),t}_fetchIcon(t){const{url:r,options:i}=t,o=i?.withCredentials??!1;if(!this._httpClient)throw function B2e(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const s=this._sanitizer.sanitize(Pr.RESOURCE_URL,r);if(!s)throw bX(r);const a=this._inProgressUrlFetches.get(s);if(a)return a;const c=this._httpClient.get(s,{responseType:"text",withCredentials:o}).pipe(Pe(l=>c_(l)),Bv(()=>this._inProgressUrlFetches.delete(s)),function c2e(n={}){const{connector:e=(()=>new wt),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return o=>{let s,a,c,l=0,u=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),s=c=void 0,u=d=!1},y=()=>{const E=s;f(),E?.unsubscribe()};return yn((E,I)=>{l++,!d&&!u&&h();const k=c=c??e();I.add(()=>{l--,0===l&&!d&&!u&&(a=w2(y,i))}),k.subscribe(I),!s&&l>0&&(s=new Jh({next:M=>k.next(M),error:M=>{d=!0,h(),a=w2(f,t,M),k.error(M)},complete:()=>{u=!0,h(),a=w2(f,r),k.complete()}}),Rr(E).subscribe(s))})(o)}}());return this._inProgressUrlFetches.set(s,c),c}_addSvgIconConfig(t,r,i){return this._svgIconConfigs.set(CX(t,r),i),this}_addSvgIconSetConfig(t,r){const i=this._iconSetConfigs.get(t);return i?i.push(r):this._iconSetConfigs.set(t,[r]),this}_svgElementFromConfig(t){if(!t.svgElement){const r=this._svgElementFromString(t.svgText);this._setSvgAttributes(r,t.options),t.svgElement=r}return t.svgElement}_getIconConfigFromResolvers(t,r){for(let i=0;i<this._resolvers.length;i++){const o=this._resolvers[i](r,t);if(o)return j2e(o)?new su(o.url,null,o.options):new su(o,null)}}static#e=this.\u0275fac=function(r){return new(r||n)($(D2,8),$(PI),$(lt,8),$(oo))};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function mC(n){return n.cloneNode(!0)}function CX(n,e){return n+":"+e}function j2e(n){return!(!n.url||!n.options)}const z2e=new X("MAT_ICON_DEFAULT_OPTIONS"),$2e=new X("mat-icon-location",{providedIn:"root",factory:function H2e(){const n=ee(lt),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),EX=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],G2e=EX.map(n=>`[${n}]`).join(", "),q2e=/^url\(['"]?#(.*?)['"]?\)$/;let W2e=(()=>{class n{get color(){return this._color||this._defaultColor}set color(t){this._color=t}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const r=this._cleanupFontValue(t);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const r=this._cleanupFontValue(t);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}constructor(t,r,i,o,s,a){this._elementRef=t,this._iconRegistry=r,this._location=o,this._errorHandler=s,this.inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Yn.EMPTY,a&&(a.color&&(this.color=this._defaultColor=a.color),a.fontSet&&(this.fontSet=a.fontSet)),i||t.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];const r=t.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let r=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const i=t.childNodes[r];(1!==i.nodeType||"svg"===i.nodeName.toLowerCase())&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(i=>i.length>0);this._previousFontSetClass.forEach(i=>t.classList.remove(i)),r.forEach(i=>t.classList.add(i)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const r=this._elementsWithExternalReferences;r&&r.forEach((i,o)=>{i.forEach(s=>{o.setAttribute(s.name,`url('${t}#${s.value}')`)})})}_cacheChildrenWithExternalReferences(t){const r=t.querySelectorAll(G2e),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<r.length;o++)EX.forEach(s=>{const a=r[o],c=a.getAttribute(s),l=c?c.match(q2e):null;if(l){let u=i.get(a);u||(u=[],i.set(a,u)),u.push({name:s,value:l[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[r,i]=this._splitIconName(t);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe(Sn(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${i}! ${o.message}`))})}}static#e=this.\u0275fac=function(r){return new(r||n)(x(Bn),x(gC),function If(n){return function Iee(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const o=t[i];if(bF(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(o===e)return t[i+1];i+=2}}}return null}(Ot(),n)}("aria-hidden"),x($2e),x(oo),x(z2e,8))};static#t=this.\u0275cmp=Te({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(r,i){2&r&&(Hi("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),C1(i.color?"mat-"+i.color:""),zs("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:[Bt.HasDecoratorInputTransform,"inline","inline",el],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],standalone:!0,features:[s1,ns],ngContentSelectors:L2e,decls:1,vars:0,template:function(r,i){1&r&&(ud(),Ao(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}return n})(),xX=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=ot({type:n});static#n=this.\u0275inj=et({imports:[Mc,Mc]})}return n})();function K2e(n,e){if(1&n){const t=yt();g(0,"mat-toolbar",2)(1,"button",3),Q("click",function(){return Re(t),Ne(Zt().installPwa())}),w(2," Add to Home screen "),p(),g(3,"button",4),Q("click",function(){return Re(t),Ne(Zt().close())}),w(4," Close "),p()()}}function Q2e(n,e){if(1&n){const t=yt();g(0,"div",5)(1,"button",6),Q("click",function(){return Re(t),Ne(Zt().close())}),g(2,"mat-icon"),w(3,"close"),p()(),g(4,"div"),w(5,"To install this web app on your device tap the Menu button and then 'Add to Home screen' button"),p(),g(6,"div"),te(7,"img",7),g(8,"mat-icon"),w(9,"navigate_next"),p(),te(10,"img",8),p()()}}let Y2e=(()=>{class n{constructor(t,r){this.data=t,this.bottomSheetRef=r}installPwa(){this.data.promptEvent.prompt(),this.close()}close(){this.bottomSheetRef.dismiss()}static#e=this.\u0275fac=function(r){return new(r||n)(x(HY),x(v2))};static#t=this.\u0275cmp=Te({type:n,selectors:[["app-prompt"]],decls:2,vars:2,consts:[["color","primary","class","android-prompt",4,"ngIf"],["class","ios-prompt",4,"ngIf"],["color","primary",1,"android-prompt"],["mat-button","",1,"install",3,"click"],["mat-icon-button","",1,"close",3,"click"],[1,"ios-prompt"],["mat-button","","color","primary",1,"close-ios-inv",3,"click"],["src","../../assets/ios-menu-btn.png"],["src","../../assets/ios-add-btn.png"]],template:function(r,i){1&r&&Xn(0,K2e,5,0,"mat-toolbar",0)(1,Q2e,11,0,"div",1),2&r&&(dr("ngIf","android"===i.data.mobileType),z(),dr("ngIf","ios"===i.data.mobileType))},dependencies:[s2e,W2e,vI],styles:[".android-prompt[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.android-prompt[_ngcontent-%COMP%]   .install[_ngcontent-%COMP%]{background-color:#4c8bf5;color:#fff;border-radius:5px;border-color:#4c8bf5;margin:5px;padding:5px;font-family:Arial;text-align:center;font-size:18px}.android-prompt[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{background-color:#fff;color:#4c8bf5;border-radius:5px;border-color:#d3d3d3;margin:5px;padding:5px;font-family:Arial;text-align:center;font-size:18px}.ios-prompt[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;align-items:center}.ios-prompt[_ngcontent-%COMP%]   .close-ios-inv[_ngcontent-%COMP%]{position:absolute;right:0;top:0}.ios-prompt[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{text-align:center;padding:10px 25px 0}.ios-prompt[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{position:relative;top:-7px}.ios-prompt[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:inline}"]})}return n})(),X2e=(()=>{class n{constructor(t,r){this.bottomSheet=t,this.platform=r}initPwaPrompt(){console.log("chosing"),this.platform.ANDROID&&(console.log("android"),window.addEventListener("beforeinstallprompt",t=>{t.preventDefault(),this.promptEvent=t,this.openPromptComponent("android")})),this.platform.IOS&&(console.log("ios"),"standalone"in window.navigator&&window.navigator.standalone||this.openPromptComponent("ios")),console.log("endchoose")}openPromptComponent(t){a2(2e3).pipe(Sn(1)).subscribe(()=>this.bottomSheet.open(Y2e,{data:{mobileType:t,promptEvent:this.promptEvent}}))}static#e=this.\u0275fac=function(r){return new(r||n)($(GY),$(Zi))};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),iFe=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=ot({type:n});static#n=this.\u0275inj=et({imports:[Mc,tl,Mc]})}return n})();function IX(n){return new U(3e3,!1)}function kc(n){switch(n.length){case 0:return new i_;case 1:return n[0];default:return new $Y(n)}}function TX(n,e,t=new Map,r=new Map){const i=[],o=[];let s=-1,a=null;if(e.forEach(c=>{const l=c.get("offset"),u=l==s,d=u&&a||new Map;c.forEach((h,f)=>{let y=f,E=h;if("offset"!==f)switch(y=n.normalizePropertyName(y,i),E){case"!":E=t.get(f);break;case ma:E=r.get(f);break;default:E=n.normalizeStyleValue(f,y,E,i)}d.set(y,E)}),u||o.push(d),a=d,s=l}),i.length)throw function DFe(n){return new U(3502,!1)}();return o}function A2(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&k2(t,"start",n)));break;case"done":n.onDone(()=>r(t&&k2(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&k2(t,"destroy",n)))}}function k2(n,e,t){const o=O2(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),s=n._data;return null!=s&&(o._data=s),o}function O2(n,e,t,r,i="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function Ji(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function DX(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}const BFe=typeof document>"u"?null:document.documentElement;function P2(n){const e=n.parentNode||n.host||null;return e===BFe?null:e}let au=null,MX=!1;function SX(n,e){for(;e;){if(e===n)return!0;e=P2(e)}return!1}function AX(n,e,t){if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]}let R2=(()=>{class n{validateStyleProperty(t){return function jFe(n){au||(au=function zFe(){return typeof document<"u"?document.body:null}()||{},MX=!!au.style&&"WebkitAppearance"in au.style);let e=!0;return au.style&&!function UFe(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in au.style,!e&&MX&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in au.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return SX(t,r)}getParentElement(t){return P2(t)}query(t,r,i){return AX(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,o,s,a=[],c){return new i_(i,o)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac})}return n})();class N2{static#e=this.NOOP=new R2}class F2{}const HFe=1e3,L2="ng-enter",_C="ng-leave",yC="ng-trigger",vC=".ng-trigger",OX="ng-animating",V2=".ng-animating";function ya(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:B2(parseFloat(e[1]),e[2])}function B2(n,e){return"s"===e?n*HFe:n}function bC(n,e,t){return n.hasOwnProperty("duration")?n:function qFe(n,e,t){let i,o=0,s="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(IX()),{duration:0,delay:0,easing:""};i=B2(parseFloat(a[1]),a[2]);const c=a[3];null!=c&&(o=B2(parseFloat(c),a[4]));const l=a[5];l&&(s=l)}else i=n;if(!t){let a=!1,c=e.length;i<0&&(e.push(function oFe(){return new U(3100,!1)}()),a=!0),o<0&&(e.push(function sFe(){return new U(3101,!1)}()),a=!0),a&&e.splice(c,0,IX())}return{duration:i,delay:o,easing:s}}(n,e,t)}function ks(n,e,t){e.forEach((r,i)=>{const o=j2(i);t&&!t.has(i)&&t.set(i,n.style[o]),n.style[o]=r})}function cu(n,e){e.forEach((t,r)=>{const i=j2(r);n.style[i]=""})}function l_(n){return Array.isArray(n)?1==n.length?n[0]:function bNe(n,e=null){return{type:Oe.Sequence,steps:n,options:e}}(n):n}const U2=new RegExp("{{\\s*(.+?)\\s*}}","g");function RX(n){let e=[];if("string"==typeof n){let t;for(;t=U2.exec(n);)e.push(t[1]);U2.lastIndex=0}return e}function u_(n,e,t){const r=`${n}`,i=r.replace(U2,(o,s)=>{let a=e[s];return null==a&&(t.push(function cFe(n){return new U(3003,!1)}()),a=""),a.toString()});return i==r?n:i}const QFe=/-+([a-z0-9])/g;function j2(n){return n.replace(QFe,(...e)=>e[1].toUpperCase())}function eo(n,e,t){switch(e.type){case Oe.Trigger:return n.visitTrigger(e,t);case Oe.State:return n.visitState(e,t);case Oe.Transition:return n.visitTransition(e,t);case Oe.Sequence:return n.visitSequence(e,t);case Oe.Group:return n.visitGroup(e,t);case Oe.Animate:return n.visitAnimate(e,t);case Oe.Keyframes:return n.visitKeyframes(e,t);case Oe.Style:return n.visitStyle(e,t);case Oe.Reference:return n.visitReference(e,t);case Oe.AnimateChild:return n.visitAnimateChild(e,t);case Oe.AnimateRef:return n.visitAnimateRef(e,t);case Oe.Query:return n.visitQuery(e,t);case Oe.Stagger:return n.visitStagger(e,t);default:throw function lFe(n){return new U(3004,!1)}()}}function z2(n,e){return window.getComputedStyle(n)[e]}const ZFe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class NX extends F2{normalizePropertyName(e,t){return j2(e)}normalizeStyleValue(e,t,r,i){let o="";const s=r.toString().trim();if(ZFe.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)o="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function uFe(n,e){return new U(3005,!1)}())}return s+o}}const wC="*";const CC=new Set(["true","1"]),EC=new Set(["false","0"]);function FX(n,e){const t=CC.has(n)||EC.has(n),r=CC.has(e)||EC.has(e);return(i,o)=>{let s=n==wC||n==i,a=e==wC||e==o;return!s&&t&&"boolean"==typeof i&&(s=i?CC.has(n):EC.has(n)),!a&&r&&"boolean"==typeof o&&(a=o?CC.has(e):EC.has(e)),s&&a}}const nLe=new RegExp("s*:selfs*,?","g");function $2(n,e,t,r){return new rLe(n).build(e,t,r)}class rLe{constructor(e){this._driver=e}build(e,t,r){const i=new sLe(t);return this._resetContextStyleTimingState(i),eo(this,l_(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const o=[],s=[];return"@"==e.name.charAt(0)&&t.errors.push(function dFe(){return new U(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==Oe.State){const c=a,l=c.name;l.toString().split(/\s*,\s*/).forEach(u=>{c.name=u,o.push(this.visitState(c,t))}),c.name=l}else if(a.type==Oe.Transition){const c=this.visitTransition(a,t);r+=c.queryCount,i+=c.depCount,s.push(c)}else t.errors.push(function hFe(){return new U(3007,!1)}())}),{type:Oe.Trigger,name:e.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const o=new Set,s=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{RX(c).forEach(l=>{s.hasOwnProperty(l)||o.add(l)})})}),o.size&&t.errors.push(function fFe(n,e){return new U(3008,!1)}(0,o.values()))}return{type:Oe.State,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=eo(this,l_(e.animation),t),i=function JFe(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function eLe(n,e,t){if(":"==n[0]){const c=function tLe(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function EFe(n){return new U(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof c)return void e.push(c);n=c}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function CFe(n){return new U(3015,!1)}()),e;const i=r[1],o=r[2],s=r[3];e.push(FX(i,s)),"<"==o[0]&&(i!=wC||s!=wC)&&e.push(FX(s,i))}(r,t,e)):t.push(n),t}(e.expr,t.errors);return{type:Oe.Transition,matchers:i,animation:r,queryCount:t.queryCount,depCount:t.depCount,options:lu(e.options)}}visitSequence(e,t){return{type:Oe.Sequence,steps:e.steps.map(r=>eo(this,r,t)),options:lu(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const o=e.steps.map(s=>{t.currentTime=r;const a=eo(this,s,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:Oe.Group,steps:o,options:lu(e.options)}}visitAnimate(e,t){const r=function cLe(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return H2(bC(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=H2(0,0,"");return o.dynamic=!0,o.strValue=t,o}const i=bC(t,e);return H2(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,o=e.styles?e.styles:lC({});if(o.type==Oe.Keyframes)i=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;const l={};r.easing&&(l.easing=r.easing),s=lC(l)}t.currentTime+=r.duration+r.delay;const c=this.visitStyle(s,t);c.isEmptyStep=a,i=c}return t.currentAnimateTimings=null,{type:Oe.Animate,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)"string"==typeof a?a===ma?r.push(a):t.errors.push(new U(3002,!1)):r.push(new Map(Object.entries(a)));let o=!1,s=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o))for(let c of a.values())if(c.toString().indexOf("{{")>=0){o=!0;break}}),{type:Oe.Style,styles:r,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,o=t.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,c)=>{const l=t.collectedStyles.get(t.currentQuerySelector),u=l.get(c);let d=!0;u&&(o!=i&&o>=u.startTime&&i<=u.endTime&&(t.errors.push(function gFe(n,e,t,r,i){return new U(3010,!1)}()),d=!1),o=u.startTime),d&&l.set(c,{startTime:o,endTime:i}),t.options&&function KFe(n,e,t){const r=e.params||{},i=RX(n);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||t.push(function aFe(n){return new U(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:Oe.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function mFe(){return new U(3011,!1)}()),r;let o=0;const s=[];let a=!1,c=!1,l=0;const u=e.steps.map(k=>{const M=this._makeStyleAst(k,t);let V=null!=M.offset?M.offset:function aLe(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(M.styles),K=0;return null!=V&&(o++,K=M.offset=V),c=c||K<0||K>1,a=a||K<l,l=K,s.push(K),M});c&&t.errors.push(function _Fe(){return new U(3012,!1)}()),a&&t.errors.push(function yFe(){return new U(3200,!1)}());const d=e.steps.length;let h=0;o>0&&o<d?t.errors.push(function vFe(){return new U(3202,!1)}()):0==o&&(h=1/(d-1));const f=d-1,y=t.currentTime,E=t.currentAnimateTimings,I=E.duration;return u.forEach((k,M)=>{const V=h>0?M==f?1:h*M:s[M],K=V*I;t.currentTime=y+E.delay+K,E.duration=K,this._validateStyleAst(k,t),k.offset=V,r.styles.push(k)}),r}visitReference(e,t){return{type:Oe.Reference,animation:eo(this,l_(e.animation),t),options:lu(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:Oe.AnimateChild,options:lu(e.options)}}visitAnimateRef(e,t){return{type:Oe.AnimateRef,animation:this.visitReference(e.animation,t),options:lu(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[o,s]=function iLe(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(nLe,"")),n=n.replace(/@\*/g,vC).replace(/@\w+/g,t=>vC+"-"+t.slice(1)).replace(/:animating/g,V2),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+o:o,Ji(t.collectedStyles,t.currentQuerySelector,new Map);const a=eo(this,l_(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:Oe.Query,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:lu(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function bFe(){return new U(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:bC(e.timings,t.errors,!0);return{type:Oe.Stagger,animation:eo(this,l_(e.animation),t),timings:r,options:null}}}class sLe{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function lu(n){return n?(n={...n}).params&&(n.params=function oLe(n){return n?{...n}:null}(n.params)):n={},n}function H2(n,e,t){return{duration:n,delay:e,easing:t}}function G2(n,e,t,r,i,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}class xC{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const dLe=new RegExp(":enter","g"),fLe=new RegExp(":leave","g");function q2(n,e,t,r,i,o=new Map,s=new Map,a,c,l=[]){return(new pLe).buildKeyframes(n,e,t,r,i,o,s,a,c,l)}class pLe{buildKeyframes(e,t,r,i,o,s,a,c,l,u=[]){l=l||new xC;const d=new W2(e,t,l,i,o,u,[]);d.options=c;const h=c.delay?ya(c.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([s],null,d.errors,c),eo(this,r,d);const f=d.timelines.filter(y=>y.containsAnimation());if(f.length&&a.size){let y;for(let E=f.length-1;E>=0;E--){const I=f[E];if(I.element===t){y=I;break}}y&&!y.allowOnlyTimelineStyles()&&y.setStyles([a],null,d.errors,c)}return f.length?f.map(y=>y.buildKeyframes()):[G2(t,[],[],[],0,h,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(r,i,i.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const o=i?.delay;if(o){const s="number"==typeof o?o:ya(u_(o,i?.params??{},t.errors));r.delayNextStep(s)}}}_visitSubInstructions(e,t,r){let o=t.currentTimeline.currentTime;const s=null!=r.duration?ya(r.duration):null,a=null!=r.delay?ya(r.delay):null;return 0!==s&&e.forEach(c=>{const l=t.appendInstructionToTimeline(c,s,a);o=Math.max(o,l.duration+l.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),eo(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const o=e.options;if(o&&(o.params||o.delay)&&(i=t.createSubContext(o),i.transformIntoNewTimeline(),null!=o.delay)){i.previousNode.type==Oe.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=IC);const s=ya(o.delay);i.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>eo(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const o=e.options&&e.options.delay?ya(e.options.delay):0;e.steps.forEach(s=>{const a=t.createSubContext(e.options);o&&a.delayNextStep(o),eo(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return bC(t.params?u_(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const o=e.style;o.type==Oe.Keyframes?this.visitKeyframes(o,t):(t.incrementTime(r.duration),this.visitStyle(o,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const o=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(o):r.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,o=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(c=>{a.forwardTime((c.offset||0)*o),a.setStyles(c.styles,c.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+o),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},o=i.delay?ya(i.delay):0;o&&(t.previousNode.type===Oe.Style||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=IC);let s=r;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let c=null;a.forEach((l,u)=>{t.currentQueryIndex=u;const d=t.createSubContext(e.options,l);o&&d.delayNextStep(o),l===t.element&&(c=d.currentTimeline),eo(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,d.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),c&&(t.currentTimeline.mergeTimelineCollectedStyles(c),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1);let c=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=r.currentStaggerTime}const u=t.currentTimeline;c&&u.delayNextStep(c);const d=u.currentTime;eo(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}}const IC={};class W2{constructor(e,t,r,i,o,s,a,c){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=IC,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new TC(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=ya(r.duration)),null!=r.delay&&(i.delay=ya(r.delay));const o=r.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=u_(o[a],s,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,o=new W2(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=IC,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},o=new gLe(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,o,s){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(dLe,"."+this._enterClassName)).replace(fLe,"."+this._leaveClassName);let l=this._driver.query(this.element,e,1!=r);0!==r&&(l=r<0?l.slice(l.length+r,l.length):l.slice(0,r)),a.push(...l)}return!o&&0==a.length&&s.push(function wFe(n){return new U(3014,!1)}()),a}}class TC{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new TC(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||ma),this._currentKeyframe.set(t,ma);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const o=i&&i.params||{},s=function mLe(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r??=e.keys();for(let o of r)t.set(o,ma)}else for(let[o,s]of i)t.set(o,s)}),t}(e,this._globalTimelineStyles);for(let[a,c]of s){const l=u_(c,o,r);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??ma),this._updateStyle(a,l)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,c)=>{const l=new Map([...this._backFill,...a]);l.forEach((u,d)=>{"!"===u?e.add(d):u===ma&&t.add(d)}),r||l.set("offset",c/this.duration),i.push(l)});const o=[...e.values()],s=[...t.values()];if(r){const a=i[0],c=new Map(a);a.set("offset",0),c.set("offset",1),i=[a,c]}return G2(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}}class gLe extends TC{constructor(e,t,r,i,o,s,a=!1){super(e,t,s.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const o=[],s=r+t,a=t/s,c=new Map(e[0]);c.set("offset",0),o.push(c);const l=new Map(e[0]);l.set("offset",BX(a)),o.push(l);const u=e.length-1;for(let d=1;d<=u;d++){let h=new Map(e[d]);const f=h.get("offset");h.set("offset",BX((t+f*r)/s)),o.push(h)}r=s,t=0,i="",e=o}return G2(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function BX(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}function UX(n,e,t,r,i,o,s,a,c,l,u,d,h){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:u,totalTime:d,errors:h}}const K2={};class jX{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function _Le(n,e,t,r,i){return n.some(o=>o(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,o,s,a,c,l,u){const d=[],h=this.ast.options&&this.ast.options.params||K2,y=this.buildStyles(r,a&&a.params||K2,d),E=c&&c.params||K2,I=this.buildStyles(i,E,d),k=new Set,M=new Map,V=new Map,K="void"===i,oe={params:zX(E,h),delay:this.ast.options?.delay},de=u?[]:q2(e,t,this.ast.animation,o,s,y,I,oe,l,d);let ze=0;return de.forEach(ht=>{ze=Math.max(ht.duration+ht.delay,ze)}),d.length?UX(t,this._triggerName,r,i,K,y,I,[],[],M,V,ze,d):(de.forEach(ht=>{const or=ht.element,Gr=Ji(M,or,new Set);ht.preStyleProps.forEach(to=>Gr.add(to));const Xh=Ji(V,or,new Set);ht.postStyleProps.forEach(to=>Xh.add(to)),or!==t&&k.add(or)}),UX(t,this._triggerName,r,i,K,y,I,de,[...k.values()],M,V,ze))}}function zX(n,e){const t={...e};return Object.entries(n).forEach(([r,i])=>{null!=i&&(t[r]=i)}),t}class yLe{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=zX(e,this.defaultParams);return this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,a)=>{s&&(s=u_(s,i,t));const c=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,c,s,t),r.set(a,s)})}),r}}class bLe{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new yLe(i.style,i.options&&i.options.params||{},r))}),$X(this.states,"true","1"),$X(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new jX(e,i,this.states))}),this.fallbackTransition=function wLe(n,e,t){return new jX(n,{type:Oe.Transition,animation:{type:Oe.Sequence,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(s=>s.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function $X(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const CLe=new xC;class ELe{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],o=$2(this._driver,t,r,[]);if(r.length)throw function MFe(n){return new U(3503,!1)}();this._animations.set(e,o)}_buildPlayer(e,t,r){const i=e.element,o=TX(this._normalizer,e.keyframes,t,r);return this._driver.animate(i,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],o=this._animations.get(e);let s;const a=new Map;if(o?(s=q2(this._driver,t,o,L2,_C,new Map,new Map,r,CLe,i),s.forEach(u=>{const d=Ji(a,u.element,new Map);u.postStyleProps.forEach(h=>d.set(h,null))})):(i.push(function SFe(){return new U(3300,!1)}()),s=[]),i.length)throw function AFe(n){return new U(3504,!1)}();a.forEach((u,d)=>{u.forEach((h,f)=>{u.set(f,this._driver.computeStyle(d,f,ma))})});const l=kc(s.map(u=>{const d=a.get(u.element);return this._buildPlayer(u,new Map,d)}));return this._playersById.set(e,l),l.onDestroy(()=>this.destroy(e)),this.players.push(l),l}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function kFe(n){return new U(3301,!1)}();return t}listen(e,t,r,i){const o=O2(t,"","","");return A2(this._getPlayer(e),r,o,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const o=this._getPlayer(e);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const HX="ng-animate-queued",Q2="ng-animate-disabled",MLe=[],GX={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},SLe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},zo="__ng_removed";class Y2{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function PLe(n){return n??null}(r?e.value:e),r){const{value:o,...s}=e;this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const d_="void",X2=new Y2(d_);class ALe{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,yo(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function OFe(n,e){return new U(3302,!1)}();if(null==r||0==r.length)throw function PFe(n){return new U(3303,!1)}();if(!function RLe(n){return"start"==n||"done"==n}(r))throw function RFe(n,e){return new U(3400,!1)}();const o=Ji(this._elementListeners,e,[]),s={name:t,phase:r,callback:i};o.push(s);const a=Ji(this._engine.statesByElement,e,new Map);return a.has(t)||(yo(e,yC),yo(e,yC+"-"+t),a.set(t,X2)),()=>{this._engine.afterFlush(()=>{const c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function NFe(n){return new U(3401,!1)}();return t}trigger(e,t,r,i=!0){const o=this._getTrigger(t),s=new Z2(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(yo(e,yC),yo(e,yC+"-"+t),this._engine.statesByElement.set(e,a=new Map));let c=a.get(t);const l=new Y2(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&c&&l.absorbOptions(c.options),a.set(t,l),c||(c=X2),l.value!==d_&&c.value===l.value){if(!function LLe(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const o=t[i];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}(c.params,l.params)){const E=[],I=o.matchStyles(c.value,c.params,E),k=o.matchStyles(l.value,l.params,E);E.length?this._engine.reportError(E):this._engine.afterFlush(()=>{cu(e,I),ks(e,k)})}return}const h=Ji(this._engine.playersByElement,e,[]);h.forEach(E=>{E.namespaceId==this.id&&E.triggerName==t&&E.queued&&E.destroy()});let f=o.matchTransition(c.value,l.value,e,l.params),y=!1;if(!f){if(!i)return;f=o.fallbackTransition,y=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:f,fromState:c,toState:l,player:s,isFallbackTransition:y}),y||(yo(e,HX),s.onStart(()=>{Yh(e,HX)})),s.onDone(()=>{let E=this.players.indexOf(s);E>=0&&this.players.splice(E,1);const I=this._engine.playersByElement.get(e);if(I){let k=I.indexOf(s);k>=0&&I.splice(k,1)}}),this.players.push(s),h.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,vC,!0);r.forEach(i=>{if(i[zo])return;const o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const o=this._engine.statesByElement.get(e),s=new Map;if(o){const a=[];if(o.forEach((c,l)=>{if(s.set(l,c.value),this._triggers.has(l)){const u=this.trigger(e,l,d_,i);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),r&&kc(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(o=>{const s=o.name;if(i.has(s))return;i.add(s);const c=this._triggers.get(s).fallbackTransition,l=r.get(s)||X2,u=new Y2(d_),d=new Z2(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:c,fromState:l,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else{let s=e;for(;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const o=e[zo];(!o||o===GX)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){yo(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const o=r.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==r.triggerName){const c=O2(o,r.triggerName,r.fromState.value,r.toState.value);c._data=e,A2(r.player,a.phase,c,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const o=r.transition.ast.depCount,s=i.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class kLe{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r,i){this.bodyNode=e,this.driver=t,this._normalizer=r,this.scheduler=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new ALe(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){const c=i.get(a);if(c){const l=r.indexOf(c);r.splice(l+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const o=this._fetchNamespace(i.namespaceId);o&&t.add(o)}return t}trigger(e,t,r,i){if(DC(t)){const o=this._fetchNamespace(e);if(o)return o.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!DC(t))return;const o=t[zo];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){const s=this._fetchNamespace(e);s&&s.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),yo(e,Q2)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Yh(e,Q2))}removeNode(e,t,r){if(DC(t)){this.scheduler?.notify();const i=e?this._fetchNamespace(e):null;i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r);const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,r,i,o){this.collectedLeaveElements.push(t),t[zo]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,r,i,o){return DC(t)?this._fetchNamespace(e).listen(t,r,i,o):()=>{}}_buildInstruction(e,t,r,i,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,vC,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,V2,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return kc(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[zo];if(t&&t.setForRemoval){if(e[zo]=GX,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(Q2)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)yo(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?kc(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function FFe(n){return new U(3402,!1)}()}_flushAnimations(e,t){const r=new xC,i=[],o=new Map,s=[],a=new Map,c=new Map,l=new Map,u=new Set;this.disabledNodes.forEach(ge=>{u.add(ge);const me=this.driver.query(ge,".ng-animate-queued",!0);for(let we=0;we<me.length;we++)u.add(me[we])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=KX(h,this.collectedEnterElements),y=new Map;let E=0;f.forEach((ge,me)=>{const we=L2+E++;y.set(me,we),ge.forEach(mt=>yo(mt,we))});const I=[],k=new Set,M=new Set;for(let ge=0;ge<this.collectedLeaveElements.length;ge++){const me=this.collectedLeaveElements[ge],we=me[zo];we&&we.setForRemoval&&(I.push(me),k.add(me),we.hasAnimation?this.driver.query(me,".ng-star-inserted",!0).forEach(mt=>k.add(mt)):M.add(me))}const V=new Map,K=KX(h,Array.from(k));K.forEach((ge,me)=>{const we=_C+E++;V.set(me,we),ge.forEach(mt=>yo(mt,we))}),e.push(()=>{f.forEach((ge,me)=>{const we=y.get(me);ge.forEach(mt=>Yh(mt,we))}),K.forEach((ge,me)=>{const we=V.get(me);ge.forEach(mt=>Yh(mt,we))}),I.forEach(ge=>{this.processLeaveNode(ge)})});const oe=[],de=[];for(let ge=this._namespaceList.length-1;ge>=0;ge--)this._namespaceList[ge].drainQueuedTransitions(t).forEach(we=>{const mt=we.player,Ar=we.element;if(oe.push(mt),this.collectedEnterElements.length){const si=Ar[zo];if(si&&si.setForMove){if(si.previousTriggersValues&&si.previousTriggersValues.has(we.triggerName)){const hu=si.previousTriggersValues.get(we.triggerName),vo=this.statesByElement.get(we.element);if(vo&&vo.has(we.triggerName)){const SC=vo.get(we.triggerName);SC.value=hu,vo.set(we.triggerName,SC)}}return void mt.destroy()}}const Os=!d||!this.driver.containsElement(d,Ar),no=V.get(Ar),Oc=y.get(Ar),Tn=this._buildInstruction(we,r,Oc,no,Os);if(Tn.errors&&Tn.errors.length)return void de.push(Tn);if(Os)return mt.onStart(()=>cu(Ar,Tn.fromStyles)),mt.onDestroy(()=>ks(Ar,Tn.toStyles)),void i.push(mt);if(we.isFallbackTransition)return mt.onStart(()=>cu(Ar,Tn.fromStyles)),mt.onDestroy(()=>ks(Ar,Tn.toStyles)),void i.push(mt);const rZ=[];Tn.timelines.forEach(si=>{si.stretchStartingKeyframe=!0,this.disabledNodes.has(si.element)||rZ.push(si)}),Tn.timelines=rZ,r.append(Ar,Tn.timelines),s.push({instruction:Tn,player:mt,element:Ar}),Tn.queriedElements.forEach(si=>Ji(a,si,[]).push(mt)),Tn.preStyleProps.forEach((si,hu)=>{if(si.size){let vo=c.get(hu);vo||c.set(hu,vo=new Set),si.forEach((SC,tF)=>vo.add(tF))}}),Tn.postStyleProps.forEach((si,hu)=>{let vo=l.get(hu);vo||l.set(hu,vo=new Set),si.forEach((SC,tF)=>vo.add(tF))})});if(de.length){const ge=[];de.forEach(me=>{ge.push(function LFe(n,e){return new U(3505,!1)}())}),oe.forEach(me=>me.destroy()),this.reportError(ge)}const ze=new Map,ht=new Map;s.forEach(ge=>{const me=ge.element;r.has(me)&&(ht.set(me,me),this._beforeAnimationBuild(ge.player.namespaceId,ge.instruction,ze))}),i.forEach(ge=>{const me=ge.element;this._getPreviousPlayers(me,!1,ge.namespaceId,ge.triggerName,null).forEach(mt=>{Ji(ze,me,[]).push(mt),mt.destroy()})});const or=I.filter(ge=>YX(ge,c,l)),Gr=new Map;WX(Gr,this.driver,M,l,ma).forEach(ge=>{YX(ge,c,l)&&or.push(ge)});const to=new Map;f.forEach((ge,me)=>{WX(to,this.driver,new Set(ge),c,"!")}),or.forEach(ge=>{const me=Gr.get(ge),we=to.get(ge);Gr.set(ge,new Map([...me?.entries()??[],...we?.entries()??[]]))});const Nt=[],uu=[],du={};s.forEach(ge=>{const{element:me,player:we,instruction:mt}=ge;if(r.has(me)){if(u.has(me))return we.onDestroy(()=>ks(me,mt.toStyles)),we.disabled=!0,we.overrideTotalTime(mt.totalTime),void i.push(we);let Ar=du;if(ht.size>1){let no=me;const Oc=[];for(;no=no.parentNode;){const Tn=ht.get(no);if(Tn){Ar=Tn;break}Oc.push(no)}Oc.forEach(Tn=>ht.set(Tn,Ar))}const Os=this._buildAnimation(we.namespaceId,mt,ze,o,to,Gr);if(we.setRealPlayer(Os),Ar===du)Nt.push(we);else{const no=this.playersByElement.get(Ar);no&&no.length&&(we.parentPlayer=kc(no)),i.push(we)}}else cu(me,mt.fromStyles),we.onDestroy(()=>ks(me,mt.toStyles)),uu.push(we),u.has(me)&&i.push(we)}),uu.forEach(ge=>{const me=o.get(ge.element);if(me&&me.length){const we=kc(me);ge.setRealPlayer(we)}}),i.forEach(ge=>{ge.parentPlayer?ge.syncPlayerEvents(ge.parentPlayer):ge.destroy()});for(let ge=0;ge<I.length;ge++){const me=I[ge],we=me[zo];if(Yh(me,_C),we&&we.hasAnimation)continue;let mt=[];if(a.size){let Os=a.get(me);Os&&Os.length&&mt.push(...Os);let no=this.driver.query(me,V2,!0);for(let Oc=0;Oc<no.length;Oc++){let Tn=a.get(no[Oc]);Tn&&Tn.length&&mt.push(...Tn)}}const Ar=mt.filter(Os=>!Os.destroyed);Ar.length?NLe(this,me,Ar):this.processLeaveNode(me)}return I.length=0,Nt.forEach(ge=>{this.players.push(ge),ge.onDone(()=>{ge.destroy();const me=this.players.indexOf(ge);this.players.splice(me,1)}),ge.play()}),Nt}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,o){let s=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(s=a)}else{const a=this.playersByElement.get(e);if(a){const c=!o||o==d_;a.forEach(l=>{l.queued||!c&&l.triggerName!=i||s.push(l)})}}return(r||i)&&(s=s.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(e,t,r){const o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const c of t.timelines){const l=c.element,u=l!==o,d=Ji(r,l,[]);this._getPreviousPlayers(l,u,s,a,t.toState).forEach(f=>{const y=f.getRealPlayer();y.beforeDestroy&&y.beforeDestroy(),f.destroy(),d.push(f)})}cu(o,t.fromStyles)}_buildAnimation(e,t,r,i,o,s){const a=t.triggerName,c=t.element,l=[],u=new Set,d=new Set,h=t.timelines.map(y=>{const E=y.element;u.add(E);const I=E[zo];if(I&&I.removedBeforeQueried)return new i_(y.duration,y.delay);const k=E!==c,M=function FLe(n){const e=[];return QX(n,e),e}((r.get(E)||MLe).map(ze=>ze.getRealPlayer())).filter(ze=>!!ze.element&&ze.element===E),V=o.get(E),K=s.get(E),oe=TX(this._normalizer,y.keyframes,V,K),de=this._buildPlayer(y,oe,M);if(y.subTimeline&&i&&d.add(E),k){const ze=new Z2(e,a,E);ze.setRealPlayer(de),l.push(ze)}return de});l.forEach(y=>{Ji(this.playersByQueriedElement,y.element,[]).push(y),y.onDone(()=>function OLe(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,y.element,y))}),u.forEach(y=>yo(y,OX));const f=kc(h);return f.onDestroy(()=>{u.forEach(y=>Yh(y,OX)),ks(c,t.toStyles)}),d.forEach(y=>{Ji(i,y,[]).push(f)}),f}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new i_(e.duration,e.delay)}}class Z2{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new i_,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>A2(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Ji(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function DC(n){return n&&1===n.nodeType}function qX(n,e){const t=n.style.display;return n.style.display=e??"none",t}function WX(n,e,t,r,i){const o=[];t.forEach(c=>o.push(qX(c)));const s=[];r.forEach((c,l)=>{const u=new Map;c.forEach(d=>{const h=e.computeStyle(l,d,i);u.set(d,h),(!h||0==h.length)&&(l[zo]=SLe,s.push(l))}),n.set(l,u)});let a=0;return t.forEach(c=>qX(c,o[a++])),s}function KX(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const i=new Set(e),o=new Map;function s(a){if(!a)return 1;let c=o.get(a);if(c)return c;const l=a.parentNode;return c=t.has(l)?l:i.has(l)?1:s(l),o.set(a,c),c}return e.forEach(a=>{const c=s(a);1!==c&&t.get(c).push(a)}),t}function yo(n,e){n.classList?.add(e)}function Yh(n,e){n.classList?.remove(e)}function NLe(n,e,t){kc(t).onDone(()=>n.processLeaveNode(e))}function QX(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof $Y?QX(r.players,e):e.push(r)}}function YX(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(o=>i.add(o)):e.set(n,r),t.delete(n),!0}class h_{constructor(e,t,r,i){this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(o,s)=>{},this._transitionEngine=new kLe(e.body,t,r,i),this._timelineEngine=new ELe(e.body,t,r),this._transitionEngine.onRemovalComplete=(o,s)=>this.onRemovalComplete(o,s)}registerTrigger(e,t,r,i,o){const s=e+"-"+i;let a=this._triggerCache[s];if(!a){const c=[],u=$2(this._driver,o,c,[]);if(c.length)throw function TFe(n,e){return new U(3404,!1)}();a=function vLe(n,e,t){return new bLe(n,e,t)}(i,u,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r){this._transitionEngine.removeNode(e,t,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[o,s]=DX(r);this._timelineEngine.command(o,t,s,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,o){if("@"==r.charAt(0)){const[s,a]=DX(r);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,r,i,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}class f_{static#e=this.initialStylesByElement=new WeakMap;constructor(e,t,r){this._element=e,this._startStyles=t,this._endStyles=r,this._state=0;let i=f_.initialStylesByElement.get(e);i||f_.initialStylesByElement.set(e,i=new Map),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&ks(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ks(this._element,this._initialStyles),this._endStyles&&(ks(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(f_.initialStylesByElement.delete(this._element),this._startStyles&&(cu(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(cu(this._element,this._endStyles),this._endStyles=null),ks(this._element,this._initialStyles),this._state=3)}}function J2(n){let e=null;return n.forEach((t,r)=>{(function BLe(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class XX{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;const t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:z2(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class ZX{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return SX(e,t)}getParentElement(e){return P2(e)}query(e,t,r){return AX(e,t,r)}computeStyle(e,t,r){return z2(e,t)}animate(e,t,r,i,o,s=[]){const c={duration:r,delay:i,fill:0==i?"both":"forwards"};o&&(c.easing=o);const l=new Map,u=s.filter(f=>f instanceof XX);(function YFe(n,e){return 0===n||0===e})(r,i)&&u.forEach(f=>{f.currentSnapshot.forEach((y,E)=>l.set(E,y))});let d=function WFe(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}(t).map(f=>new Map(f));d=function XFe(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((o,s)=>{r.has(s)||i.push(s),r.set(s,o)}),i.length)for(let o=1;o<e.length;o++){let s=e[o];i.forEach(a=>s.set(a,z2(n,a)))}}return e}(e,d,l);const h=function VLe(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=J2(e[0]),e.length>1&&(r=J2(e[e.length-1]))):e instanceof Map&&(t=J2(e)),t||r?new f_(n,t,r):null}(e,d);return new XX(e,d,c,h)}}const JX="@.disabled";class eZ{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==JX?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class ULe extends eZ{constructor(e,t,r,i,o){super(t,r,i,o),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==JX?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function jLe(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let o=t.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function zLe(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(o)),this.engine.listen(this.namespaceId,i,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,t,r)}}class $Le{constructor(e,t,r){this.delegate=e,this.engine=t,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,t.onRemovalComplete=(i,o)=>{const s=o?.parentNode(i);s&&o.removeChild(s,i)}}createRenderer(e,t){const i=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){const l=this._rendererCache;let u=l.get(i);return u||(u=new eZ("",i,this.engine,()=>l.delete(i)),l.set(i,u)),u}const o=t.id,s=t.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);const a=l=>{Array.isArray(l)?l.forEach(a):this.engine.registerTrigger(o,s,e,l.name,l)};return t.data.animation.forEach(a),new ULe(this,s,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,r){if(e>=0&&e<this._microtaskId)return void this._zone.run(()=>t(r));const i=this._animationCallbacksBuffer;0==i.length&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),i.push([t,r])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}let HLe=(()=>{class n extends h_{constructor(t,r,i){super(t,r,i,ee(Bx,{optional:!0}))}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(r){return new(r||n)($(lt),$(N2),$(F2))};static#t=this.\u0275prov=ne({token:n,factory:n.\u0275fac})}return n})();const tZ=[{provide:F2,useFactory:function GLe(){return new NX}},{provide:h_,useClass:HLe},{provide:Ux,useFactory:function qLe(n,e,t){return new $Le(n,e,t)},deps:[AI,h_,De]}],eF=[{provide:N2,useFactory:()=>new ZX},{provide:fE,useValue:"BrowserAnimations"},...tZ],nZ=[{provide:N2,useClass:R2},{provide:fE,useValue:"NoopAnimations"},...tZ];let WLe=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?nZ:eF}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=ot({type:n});static#n=this.\u0275inj=et({providers:eF,imports:[Cj]})}return n})();const KLe=n=>()=>n.initPwaPrompt();let QLe=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=ot({type:n,bootstrap:[lMe]});static#n=this.\u0275inj=et({providers:[{provide:Fa,useClass:VU},{provide:cp,useFactory:KLe,deps:[X2e],multi:!0}],imports:[ANe,a2e,xX,iFe,xX,WLe,tl,Ro,Cj,MW,Nv,nMe,gbe(()=>mbe(uMe_firebase)),JEe(()=>_s()),Fke(()=>Lke()),XDe(()=>{const t=JDe();return ZDe(t),t}),cOe(()=>lOe()),pPe,gPe,n2e,XN,jNe.register("ngsw-worker.js",{enabled:!0,registrationStrategy:"registerWhenStable:30000"})]})}return n})();ohe().bootstrapModule(QLe).catch(n=>console.error(n))},2448:(Ee,S,N)=>{var _=ce(N(4824)),R=ce(N(988)),W=ce(N(5948)),B=ce(N(6448)),m=ce(N(7740)),C=ce(N(8620)),T=ce(N(9916)),A=N(6900),Z=ce(N(7312));function ce(Ke){return Ke&&Ke.__esModule?Ke:{default:Ke}}var he=function(){},Ht=function(Gt,Dn,sn){var hn=new he;if(typeof Gt>"u")throw Error("No element to render on was provided.");return hn._renderProperties=(0,m.default)(Gt),hn._encodings=[],hn._options=Z.default,hn._errorHandler=new T.default(hn),typeof Dn<"u"&&((sn=sn||{}).format||(sn.format=Pc()),hn.options(sn)[sn.format](Dn,sn).render()),hn};for(var ai in Ht.getModule=function(Ke){return _.default[Ke]},_.default)_.default.hasOwnProperty(ai)&&bo(_.default,ai);function bo(Ke,Gt){he.prototype[Gt]=he.prototype[Gt.toUpperCase()]=he.prototype[Gt.toLowerCase()]=function(Dn,sn){var hn=this;return hn._errorHandler.wrapBarcodeCall(function(){sn.text=typeof sn.text>"u"?void 0:""+sn.text;var Ci=(0,R.default)(hn._options,sn);Ci=(0,C.default)(Ci);var nF=va(Dn,Ke[Gt],Ci);return hn._encodings.push(nF),hn})}}function va(Ke,Gt,Dn){var sn=new Gt(Ke=""+Ke,Dn);if(!sn.valid())throw new A.InvalidInputException(sn.constructor.name,Ke);var hn=sn.encode();hn=(0,W.default)(hn);for(var Ci=0;Ci<hn.length;Ci++)hn[Ci].options=(0,R.default)(Dn,hn[Ci].options);return hn}function Pc(){return _.default.CODE128?"CODE128":Object.keys(_.default)[0]}function Ps(Ke,Gt,Dn){Gt=(0,W.default)(Gt);for(var sn=0;sn<Gt.length;sn++)Gt[sn].options=(0,R.default)(Dn,Gt[sn].options),(0,B.default)(Gt[sn].options);(0,B.default)(Dn),new(0,Ke.renderer)(Ke.element,Gt,Dn).render(),Ke.afterRender&&Ke.afterRender()}he.prototype.options=function(Ke){return this._options=(0,R.default)(this._options,Ke),this},he.prototype.blank=function(Ke){var Gt=new Array(Ke+1).join("0");return this._encodings.push({data:Gt}),this},he.prototype.init=function(){var Ke;if(this._renderProperties)for(var Gt in Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]),this._renderProperties){var Dn=(0,R.default)(this._options,(Ke=this._renderProperties[Gt]).options);"auto"==Dn.format&&(Dn.format=Pc()),this._errorHandler.wrapBarcodeCall(function(){var Ci=va(Dn.value,_.default[Dn.format.toUpperCase()],Dn);Ps(Ke,Ci,Dn)})}},he.prototype.render=function(){if(!this._renderProperties)throw new A.NoElementException;if(Array.isArray(this._renderProperties))for(var Ke=0;Ke<this._renderProperties.length;Ke++)Ps(this._renderProperties[Ke],this._encodings,this._options);else Ps(this._renderProperties,this._encodings,this._options);return this},he.prototype._defaults=Z.default,typeof window<"u"&&(window.JsBarcode=Ht),typeof jQuery<"u"&&(jQuery.fn.JsBarcode=function(Ke,Gt){var Dn=[];return jQuery(this).each(function(){Dn.push(this)}),Ht(Dn,Ke,Gt)}),Ee.exports=Ht},2660:(Ee,S)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.default=function _(j,R){(function N(_,j){if(!(_ instanceof j))throw new TypeError("Cannot call a class as a function")})(this,_),this.data=j,this.text=R.text||j,this.options=R}},6132:(Ee,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0});var H=function(){function m(v,C){for(var b=0;b<C.length;b++){var T=C[b];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(v,T.key,T)}}return function(v,C,b){return C&&m(v.prototype,C),b&&m(v,b),v}}(),j=function G(m){return m&&m.__esModule?m:{default:m}}(N(2660)),R=N(1880),D=function(m){function v(C,b){!function W(m,v){if(!(m instanceof v))throw new TypeError("Cannot call a class as a function")}(this,v);var T=function P(m,v){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||"object"!=typeof v&&"function"!=typeof v?m:v}(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,C.substring(1),b));return T.bytes=C.split("").map(function(A){return A.charCodeAt(0)}),T}return function B(m,v){if("function"!=typeof v&&null!==v)throw new TypeError("Super expression must either be null or a function, not "+typeof v);m.prototype=Object.create(v&&v.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(m,v):m.__proto__=v)}(v,m),H(v,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var b=this.bytes,T=b.shift()-105,A=R.SET_BY_CODE[T];if(void 0===A)throw new RangeError("The encoding does not start with a start character.");!0===this.shouldEncodeAsEan128()&&b.unshift(R.FNC1);var O=v.next(b,1,A);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:v.getBar(T)+O.result+v.getBar((O.checksum+T)%R.MODULO)+v.getBar(R.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var b=this.options.ean128||!1;return"string"==typeof b&&(b="true"===b.toLowerCase()),b}}],[{key:"getBar",value:function(b){return R.BARS[b]?R.BARS[b].toString():""}},{key:"correctIndex",value:function(b,T){if(T===R.SET_A){var A=b.shift();return A<32?A+64:A-32}return T===R.SET_B?b.shift()-32:10*(b.shift()-48)+b.shift()-48}},{key:"next",value:function(b,T,A){if(!b.length)return{result:"",checksum:0};var O=void 0,Z=void 0;if(b[0]>=200){Z=b.shift()-105;var ce=R.SWAP[Z];void 0!==ce?O=v.next(b,T+1,ce):((A===R.SET_A||A===R.SET_B)&&Z===R.SHIFT&&(b[0]=A===R.SET_A?b[0]>95?b[0]-96:b[0]:b[0]<32?b[0]+96:b[0]),O=v.next(b,T+1,A))}else Z=v.correctIndex(b,A),O=v.next(b,T+1,A);return{result:v.getBar(Z)+O.result,checksum:Z*T+O.checksum}}}]),v}(j.default);S.default=D},1856:(Ee,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0});var H=function(){function m(v,C){for(var b=0;b<C.length;b++){var T=C[b];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(v,T.key,T)}}return function(v,C,b){return C&&m(v.prototype,C),b&&m(v,b),v}}(),j=function G(m){return m&&m.__esModule?m:{default:m}}(N(6132)),R=N(1880),D=function(m){function v(C,b){return function W(m,v){if(!(m instanceof v))throw new TypeError("Cannot call a class as a function")}(this,v),function P(m,v){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||"object"!=typeof v&&"function"!=typeof v?m:v}(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,R.A_START_CHAR+C,b))}return function B(m,v){if("function"!=typeof v&&null!==v)throw new TypeError("Super expression must either be null or a function, not "+typeof v);m.prototype=Object.create(v&&v.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(m,v):m.__proto__=v)}(v,m),H(v,[{key:"valid",value:function(){return new RegExp("^"+R.A_CHARS+"+$").test(this.data)}}]),v}(j.default);S.default=D},4640:(Ee,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0});var H=function(){function m(v,C){for(var b=0;b<C.length;b++){var T=C[b];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(v,T.key,T)}}return function(v,C,b){return C&&m(v.prototype,C),b&&m(v,b),v}}(),j=function G(m){return m&&m.__esModule?m:{default:m}}(N(6132)),R=N(1880),D=function(m){function v(C,b){return function W(m,v){if(!(m instanceof v))throw new TypeError("Cannot call a class as a function")}(this,v),function P(m,v){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||"object"!=typeof v&&"function"!=typeof v?m:v}(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,R.B_START_CHAR+C,b))}return function B(m,v){if("function"!=typeof v&&null!==v)throw new TypeError("Super expression must either be null or a function, not "+typeof v);m.prototype=Object.create(v&&v.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(m,v):m.__proto__=v)}(v,m),H(v,[{key:"valid",value:function(){return new RegExp("^"+R.B_CHARS+"+$").test(this.data)}}]),v}(j.default);S.default=D},9256:(Ee,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0});var H=function(){function m(v,C){for(var b=0;b<C.length;b++){var T=C[b];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(v,T.key,T)}}return function(v,C,b){return C&&m(v.prototype,C),b&&m(v,b),v}}(),j=function G(m){return m&&m.__esModule?m:{default:m}}(N(6132)),R=N(1880),D=function(m){function v(C,b){return function W(m,v){if(!(m instanceof v))throw new TypeError("Cannot call a class as a function")}(this,v),function P(m,v){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||"object"!=typeof v&&"function"!=typeof v?m:v}(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,R.C_START_CHAR+C,b))}return function B(m,v){if("function"!=typeof v&&null!==v)throw new TypeError("Super expression must either be null or a function, not "+typeof v);m.prototype=Object.create(v&&v.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(m,v):m.__proto__=v)}(v,m),H(v,[{key:"valid",value:function(){return new RegExp("^"+R.C_CHARS+"+$").test(this.data)}}]),v}(j.default);S.default=D},2016:(Ee,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0});var _=G(N(6132)),R=G(N(3136));function G(m){return m&&m.__esModule?m:{default:m}}function P(m,v){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||"object"!=typeof v&&"function"!=typeof v?m:v}var D=function(m){function v(C,b){if(function W(m,v){if(!(m instanceof v))throw new TypeError("Cannot call a class as a function")}(this,v),/^[\x00-\x7F\xC8-\xD3]+$/.test(C))var T=P(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,(0,R.default)(C),b));else T=P(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,C,b));return P(T)}return function B(m,v){if("function"!=typeof v&&null!==v)throw new TypeError("Super expression must either be null or a function, not "+typeof v);m.prototype=Object.create(v&&v.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(m,v):m.__proto__=v)}(v,m),v}(_.default);S.default=D},3136:(Ee,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0});var H=N(1880),_=function(B){return B.match(new RegExp("^"+H.A_CHARS+"*"))[0].length},j=function(B){return B.match(new RegExp("^"+H.B_CHARS+"*"))[0].length},R=function(B){return B.match(new RegExp("^"+H.C_CHARS+"*"))[0]};function G(P,B){var D=B?H.A_CHARS:H.B_CHARS,m=P.match(new RegExp("^("+D+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(m)return m[1]+"\xcc"+W(P.substring(m[1].length));var v=P.match(new RegExp("^"+D+"+"))[0];return v.length===P.length?P:v+String.fromCharCode(B?205:206)+G(P.substring(v.length),!B)}function W(P){var B=R(P),D=B.length;if(D===P.length)return P;P=P.substring(D);var m=_(P)>=j(P);return B+String.fromCharCode(m?206:205)+G(P,m)}S.default=function(P){var B=void 0;if(R(P).length>=2)B=H.C_START_CHAR+W(P);else{var m=_(P)>j(P);B=(m?H.A_START_CHAR:H.B_START_CHAR)+G(P,m)}return B.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,function(v,C){return"\xcb"+C})}},1880:(Ee,S)=>{var N;function H(ai,bo,va){return bo in ai?Object.defineProperty(ai,bo,{value:va,enumerable:!0,configurable:!0,writable:!0}):ai[bo]=va,ai}Object.defineProperty(S,"__esModule",{value:!0});var _=S.SET_A=0,j=S.SET_B=1,R=S.SET_C=2,W=(S.SHIFT=98,S.START_A=103),P=S.START_B=104,B=S.START_C=105;S.MODULO=103,S.STOP=106,S.FNC1=207,S.SET_BY_CODE=(H(N={},W,_),H(N,P,j),H(N,B,R),N),S.SWAP={101:_,100:j,99:R},S.A_START_CHAR="\xd0",S.B_START_CHAR="\xd1",S.C_START_CHAR="\xd2",S.A_CHARS="[\0-_\xc8-\xcf]",S.B_CHARS="[ -\x7f\xc8-\xcf]",S.C_CHARS="(\xcf*[0-9]{2}\xcf*)",S.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011]},7224:(Ee,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.CODE128C=S.CODE128B=S.CODE128A=S.CODE128=void 0;var _=D(N(2016)),R=D(N(1856)),W=D(N(4640)),B=D(N(9256));function D(m){return m&&m.__esModule?m:{default:m}}S.CODE128=_.default,S.CODE128A=R.default,S.CODE128B=W.default,S.CODE128C=B.default},5872:(Ee,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.CODE39=void 0;var H=function(){function O(Z,ce){for(var he=0;he<ce.length;he++){var Ht=ce[he];Ht.enumerable=Ht.enumerable||!1,Ht.configurable=!0,"value"in Ht&&(Ht.writable=!0),Object.defineProperty(Z,Ht.key,Ht)}}return function(Z,ce,he){return ce&&O(Z.prototype,ce),he&&O(Z,he),Z}}(),B=function(O){function Z(ce,he){return function G(O,Z){if(!(O instanceof Z))throw new TypeError("Cannot call a class as a function")}(this,Z),ce=ce.toUpperCase(),he.mod43&&(ce+=function b(O){return D[O]}(function A(O){for(var Z=0,ce=0;ce<O.length;ce++)Z+=T(O[ce]);return Z%=43}(ce))),function W(O,Z){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!Z||"object"!=typeof Z&&"function"!=typeof Z?O:Z}(this,(Z.__proto__||Object.getPrototypeOf(Z)).call(this,ce,he))}return function P(O,Z){if("function"!=typeof Z&&null!==Z)throw new TypeError("Super expression must either be null or a function, not "+typeof Z);O.prototype=Object.create(Z&&Z.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),Z&&(Object.setPrototypeOf?Object.setPrototypeOf(O,Z):O.__proto__=Z)}(Z,O),H(Z,[{key:"encode",value:function(){for(var he=v("*"),Ht=0;Ht<this.data.length;Ht++)he+=v(this.data[Ht])+"0";return{data:he+=v("*"),text:this.text}}},{key:"valid",value:function(){return-1!==this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)}}]),Z}(function R(O){return O&&O.__esModule?O:{default:O}}(N(2660)).default),D=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],m=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function v(O){return function C(O){return m[O].toString(2)}(T(O))}function T(O){return D.indexOf(O)}S.CODE39=B},8512:(Ee,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0});var H=function(){function C(b,T){for(var A=0;A<T.length;A++){var O=T[A];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(b,O.key,O)}}return function(b,T,A){return T&&C(b.prototype,T),A&&C(b,A),b}}(),_=N(8600),R=P(N(1496));function P(C){return C&&C.__esModule?C:{default:C}}var v=function(C){function b(T,A){!function B(C,b){if(!(C instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);var O=function D(C,b){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?C:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,T,A));return O.fontSize=!A.flat&&A.fontSize>10*A.width?10*A.width:A.fontSize,O.guardHeight=A.height+O.fontSize/2+A.textMargin,O}return function m(C,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);C.prototype=Object.create(b&&b.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(C,b):C.__proto__=b)}(b,C),H(b,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(A,O){return this.text.substr(A,O)}},{key:"leftEncode",value:function(A,O){return(0,R.default)(A,O)}},{key:"rightText",value:function(A,O){return this.text.substr(A,O)}},{key:"rightEncode",value:function(A,O){return(0,R.default)(A,O)}},{key:"encodeGuarded",value:function(){var A={fontSize:this.fontSize},O={height:this.guardHeight};return[{data:_.SIDE_BIN,options:O},{data:this.leftEncode(),text:this.leftText(),options:A},{data:_.MIDDLE_BIN,options:O},{data:this.rightEncode(),text:this.rightText(),options:A},{data:_.SIDE_BIN,options:O}]}},{key:"encodeFlat",value:function(){return{data:[_.SIDE_BIN,this.leftEncode(),_.MIDDLE_BIN,this.rightEncode(),_.SIDE_BIN].join(""),text:this.text}}}]),b}(P(N(2660)).default);S.default=v},2308:(Ee,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0});var H=function(){function C(b,T){for(var A=0;A<T.length;A++){var O=T[A];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(b,O.key,O)}}return function(b,T,A){return T&&C(b.prototype,T),A&&C(b,A),b}}(),_=function C(b,T,A){null===b&&(b=Function.prototype);var O=Object.getOwnPropertyDescriptor(b,T);if(void 0===O){var Z=Object.getPrototypeOf(b);return null===Z?void 0:C(Z,T,A)}if("value"in O)return O.value;var ce=O.get;return void 0===ce?void 0:ce.call(A)},j=N(8600),G=function W(C){return C&&C.__esModule?C:{default:C}}(N(8512)),m=function(b){return(10-b.substr(0,12).split("").map(function(A){return+A}).reduce(function(A,O,Z){return Z%2?A+3*O:A+O},0)%10)%10},v=function(C){function b(T,A){(function P(C,b){if(!(C instanceof b))throw new TypeError("Cannot call a class as a function")})(this,b),-1!==T.search(/^[0-9]{12}$/)&&(T+=m(T));var O=function B(C,b){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?C:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,T,A));return O.lastChar=A.lastChar,O}return function D(C,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);C.prototype=Object.create(b&&b.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(C,b):C.__proto__=b)}(b,C),H(b,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{13}$/)&&+this.data[12]===m(this.data)}},{key:"leftText",value:function(){return _(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var A=this.data.substr(1,6),O=j.EAN13_STRUCTURE[this.data[0]];return _(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"leftEncode",this).call(this,A,O)}},{key:"rightText",value:function(){return _(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var A=this.data.substr(7,6);return _(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"rightEncode",this).call(this,A,"RRRRRR")}},{key:"encodeGuarded",value:function(){var A=_(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(A.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(A.push({data:"00"}),A.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),A}}]),b}(G.default);S.default=v},580:(Ee,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0});var H=function(){function C(b,T){for(var A=0;A<T.length;A++){var O=T[A];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(b,O.key,O)}}return function(b,T,A){return T&&C(b.prototype,T),A&&C(b,A),b}}(),_=N(8600),R=P(N(1496));function P(C){return C&&C.__esModule?C:{default:C}}var v=function(C){function b(T,A){return function B(C,b){if(!(C instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b),function D(C,b){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?C:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,T,A))}return function m(C,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);C.prototype=Object.create(b&&b.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(C,b):C.__proto__=b)}(b,C),H(b,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{2}$/)}},{key:"encode",value:function(){var A=_.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,R.default)(this.data,A,"01"),text:this.text}}}]),b}(P(N(2660)).default);S.default=v},7168:(Ee,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0});var H=function(){function b(T,A){for(var O=0;O<A.length;O++){var Z=A[O];Z.enumerable=Z.enumerable||!1,Z.configurable=!0,"value"in Z&&(Z.writable=!0),Object.defineProperty(T,Z.key,Z)}}return function(T,A,O){return A&&b(T.prototype,A),O&&b(T,O),T}}(),_=N(8600),R=P(N(1496));function P(b){return b&&b.__esModule?b:{default:b}}var C=function(b){function T(A,O){return function B(b,T){if(!(b instanceof T))throw new TypeError("Cannot call a class as a function")}(this,T),function D(b,T){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!T||"object"!=typeof T&&"function"!=typeof T?b:T}(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,A,O))}return function m(b,T){if("function"!=typeof T&&null!==T)throw new TypeError("Super expression must either be null or a function, not "+typeof T);b.prototype=Object.create(T&&T.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(b,T):b.__proto__=T)}(T,b),H(T,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{5}$/)}},{key:"encode",value:function(){var O=_.EAN5_STRUCTURE[function(T){return T.split("").map(function(O){return+O}).reduce(function(O,Z,ce){return ce%2?O+9*Z:O+3*Z},0)%10}(this.data)];return{data:"1011"+(0,R.default)(this.data,O,"01"),text:this.text}}}]),T}(P(N(2660)).default);S.default=C},5240:(Ee,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0});var H=function(){function v(C,b){for(var T=0;T<b.length;T++){var A=b[T];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(C,A.key,A)}}return function(C,b,T){return b&&v(C.prototype,b),T&&v(C,T),C}}(),_=function v(C,b,T){null===C&&(C=Function.prototype);var A=Object.getOwnPropertyDescriptor(C,b);if(void 0===A){var O=Object.getPrototypeOf(C);return null===O?void 0:v(O,b,T)}if("value"in A)return A.value;var Z=A.get;return void 0===Z?void 0:Z.call(T)},R=function G(v){return v&&v.__esModule?v:{default:v}}(N(8512)),D=function(C){return(10-C.substr(0,7).split("").map(function(T){return+T}).reduce(function(T,A,O){return O%2?T+A:T+3*A},0)%10)%10},m=function(v){function C(b,T){return function W(v,C){if(!(v instanceof C))throw new TypeError("Cannot call a class as a function")}(this,C),-1!==b.search(/^[0-9]{7}$/)&&(b+=D(b)),function P(v,C){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!C||"object"!=typeof C&&"function"!=typeof C?v:C}(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,b,T))}return function B(v,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function, not "+typeof C);v.prototype=Object.create(C&&C.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(v,C):v.__proto__=C)}(C,v),H(C,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{8}$/)&&+this.data[7]===D(this.data)}},{key:"leftText",value:function(){return _(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var T=this.data.substr(0,4);return _(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"leftEncode",this).call(this,T,"LLLL")}},{key:"rightText",value:function(){return _(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var T=this.data.substr(4,4);return _(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"rightEncode",this).call(this,T,"RRRR")}}]),C}(R.default);S.default=m},7832:(Ee,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0});var H=function(){function C(b,T){for(var A=0;A<T.length;A++){var O=T[A];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(b,O.key,O)}}return function(b,T,A){return T&&C(b.prototype,T),A&&C(b,A),b}}();S.checksum=v;var j=W(N(1496));function W(C){return C&&C.__esModule?C:{default:C}}var m=function(C){function b(T,A){(function P(C,b){if(!(C instanceof b))throw new TypeError("Cannot call a class as a function")})(this,b),-1!==T.search(/^[0-9]{11}$/)&&(T+=v(T));var O=function B(C,b){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?C:b}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,T,A));return O.displayValue=A.displayValue,O.fontSize=A.fontSize>10*A.width?10*A.width:A.fontSize,O.guardHeight=A.height+O.fontSize/2+A.textMargin,O}return function D(C,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);C.prototype=Object.create(b&&b.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(C,b):C.__proto__=b)}(b,C),H(b,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{12}$/)&&this.data[11]==v(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var A="";return A+="101",A+=(0,j.default)(this.data.substr(0,6),"LLLLLL"),A+="01010",A+=(0,j.default)(this.data.substr(6,6),"RRRRRR"),{data:A+="101",text:this.text}}},{key:"guardedEncoding",value:function(){var A=[];return this.displayValue&&A.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),A.push({data:"101"+(0,j.default)(this.data[0],"L"),options:{height:this.guardHeight}}),A.push({data:(0,j.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),A.push({data:"01010",options:{height:this.guardHeight}}),A.push({data:(0,j.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),A.push({data:(0,j.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&A.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),A}}]),b}(W(N(2660)).default);function v(C){var T,b=0;for(T=1;T<11;T+=2)b+=parseInt(C[T]);for(T=0;T<11;T+=2)b+=3*parseInt(C[T]);return(10-b%10)%10}S.default=m},3464:(Ee,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0});var H=function(){function A(O,Z){for(var ce=0;ce<Z.length;ce++){var he=Z[ce];he.enumerable=he.enumerable||!1,he.configurable=!0,"value"in he&&(he.writable=!0),Object.defineProperty(O,he.key,he)}}return function(O,Z,ce){return Z&&A(O.prototype,Z),ce&&A(O,ce),O}}(),j=P(N(1496)),G=P(N(2660)),W=N(7832);function P(A){return A&&A.__esModule?A:{default:A}}function D(A,O){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!O||"object"!=typeof O&&"function"!=typeof O?A:O}var v=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],C=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],b=function(A){function O(Z,ce){!function B(A,O){if(!(A instanceof O))throw new TypeError("Cannot call a class as a function")}(this,O);var he=D(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,Z,ce));if(he.isValid=!1,-1!==Z.search(/^[0-9]{6}$/))he.middleDigits=Z,he.upcA=T(Z,"0"),he.text=ce.text||""+he.upcA[0]+Z+he.upcA[he.upcA.length-1],he.isValid=!0;else{if(-1===Z.search(/^[01][0-9]{7}$/))return D(he);if(he.middleDigits=Z.substring(1,Z.length-1),he.upcA=T(he.middleDigits,Z[0]),he.upcA[he.upcA.length-1]!==Z[Z.length-1])return D(he);he.isValid=!0}return he.displayValue=ce.displayValue,he.fontSize=ce.fontSize>10*ce.width?10*ce.width:ce.fontSize,he.guardHeight=ce.height+he.fontSize/2+ce.textMargin,he}return function m(A,O){if("function"!=typeof O&&null!==O)throw new TypeError("Super expression must either be null or a function, not "+typeof O);A.prototype=Object.create(O&&O.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(A,O):A.__proto__=O)}(O,A),H(O,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var ce="";return ce+="101",ce+=this.encodeMiddleDigits(),{data:ce+="010101",text:this.text}}},{key:"guardedEncoding",value:function(){var ce=[];return this.displayValue&&ce.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),ce.push({data:"101",options:{height:this.guardHeight}}),ce.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),ce.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&ce.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),ce}},{key:"encodeMiddleDigits",value:function(){var ce=this.upcA[0],Ht=C[parseInt(this.upcA[this.upcA.length-1])][parseInt(ce)];return(0,j.default)(this.middleDigits,Ht)}}]),O}(G.default);function T(A,O){for(var Z=parseInt(A[A.length-1]),ce=v[Z],he="",Ht=0,ai=0;ai<ce.length;ai++){var bo=ce[ai];he+="X"===bo?A[Ht++]:bo}return(he=""+O+he)+(0,W.checksum)(he)}S.default=b},8600:(Ee,S)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.SIDE_BIN="101",S.MIDDLE_BIN="01010",S.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]},S.EAN2_STRUCTURE=["LL","LG","GL","GG"],S.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"],S.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"]},1496:(Ee,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0});var H=N(8600);S.default=function(R,G,W){var P=R.split("").map(function(D,m){return H.BINARIES[G[m]]}).map(function(D,m){return D?D[R[m]]:""});if(W){var B=R.length-1;P=P.map(function(D,m){return m<B?D+W:D})}return P.join("")}},5256:(Ee,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.UPCE=S.UPC=S.EAN2=S.EAN5=S.EAN8=S.EAN13=void 0;var _=b(N(2308)),R=b(N(5240)),W=b(N(7168)),B=b(N(580)),m=b(N(7832)),C=b(N(3464));function b(T){return T&&T.__esModule?T:{default:T}}S.EAN13=_.default,S.EAN8=R.default,S.EAN5=W.default,S.EAN2=B.default,S.UPC=m.default,S.UPCE=C.default},5573:(Ee,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.GenericBarcode=void 0;var H=function(){function D(m,v){for(var C=0;C<v.length;C++){var b=v[C];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(m,b.key,b)}}return function(m,v,C){return v&&D(m.prototype,v),C&&D(m,C),m}}(),B=function(D){function m(v,C){return function G(D,m){if(!(D instanceof m))throw new TypeError("Cannot call a class as a function")}(this,m),function W(D,m){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||"object"!=typeof m&&"function"!=typeof m?D:m}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,v,C))}return function P(D,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function, not "+typeof m);D.prototype=Object.create(m&&m.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(D,m):D.__proto__=m)}(m,D),H(m,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),m}(function R(D){return D&&D.__esModule?D:{default:D}}(N(2660)).default);S.GenericBarcode=B},136:(Ee,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0});var H=function(){function m(v,C){for(var b=0;b<C.length;b++){var T=C[b];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(v,T.key,T)}}return function(v,C,b){return C&&m(v.prototype,C),b&&m(v,b),v}}(),_=N(3664),D=function(m){function v(){return function W(m,v){if(!(m instanceof v))throw new TypeError("Cannot call a class as a function")}(this,v),function P(m,v){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||"object"!=typeof v&&"function"!=typeof v?m:v}(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return function B(m,v){if("function"!=typeof v&&null!==v)throw new TypeError("Super expression must either be null or a function, not "+typeof v);m.prototype=Object.create(v&&v.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(m,v):m.__proto__=v)}(v,m),H(v,[{key:"valid",value:function(){return-1!==this.data.search(/^([0-9]{2})+$/)}},{key:"encode",value:function(){var b=this,T=this.data.match(/.{2}/g).map(function(A){return b.encodePair(A)}).join("");return{data:_.START_BIN+T+_.END_BIN,text:this.text}}},{key:"encodePair",value:function(b){var T=_.BINARIES[b[1]];return _.BINARIES[b[0]].split("").map(function(A,O){return("1"===A?"111":"1")+("1"===T[O]?"000":"0")}).join("")}}]),v}(function G(m){return m&&m.__esModule?m:{default:m}}(N(2660)).default);S.default=D},4690:(Ee,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0});var H=function(){function m(v,C){for(var b=0;b<C.length;b++){var T=C[b];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(v,T.key,T)}}return function(v,C,b){return C&&m(v.prototype,C),b&&m(v,b),v}}(),j=function R(m){return m&&m.__esModule?m:{default:m}}(N(136)),B=function(v){var C=v.substr(0,13).split("").map(function(b){return parseInt(b,10)}).reduce(function(b,T,A){return b+T*(3-A%2*2)},0);return 10*Math.ceil(C/10)-C},D=function(m){function v(C,b){return function G(m,v){if(!(m instanceof v))throw new TypeError("Cannot call a class as a function")}(this,v),-1!==C.search(/^[0-9]{13}$/)&&(C+=B(C)),function W(m,v){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||"object"!=typeof v&&"function"!=typeof v?m:v}(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,C,b))}return function P(m,v){if("function"!=typeof v&&null!==v)throw new TypeError("Super expression must either be null or a function, not "+typeof v);m.prototype=Object.create(v&&v.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(m,v):m.__proto__=v)}(v,m),H(v,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{14}$/)&&+this.data[13]===B(this.data)}}]),v}(j.default);S.default=D},3664:(Ee,S)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.START_BIN="1010",S.END_BIN="11101",S.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"]},3108:(Ee,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.ITF14=S.ITF=void 0;var _=G(N(136)),R=G(N(4690));function G(W){return W&&W.__esModule?W:{default:W}}S.ITF=_.default,S.ITF14=R.default},2132:(Ee,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0});var H=function(){function m(v,C){for(var b=0;b<C.length;b++){var T=C[b];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(v,T.key,T)}}return function(v,C,b){return C&&m(v.prototype,C),b&&m(v,b),v}}(),B=function(m){function v(C,b){return function G(m,v){if(!(m instanceof v))throw new TypeError("Cannot call a class as a function")}(this,v),function W(m,v){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||"object"!=typeof v&&"function"!=typeof v?m:v}(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,C,b))}return function P(m,v){if("function"!=typeof v&&null!==v)throw new TypeError("Super expression must either be null or a function, not "+typeof v);m.prototype=Object.create(v&&v.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(m,v):m.__proto__=v)}(v,m),H(v,[{key:"encode",value:function(){for(var b="110",T=0;T<this.data.length;T++){var O=parseInt(this.data[T]).toString(2);O=D(O,4-O.length);for(var Z=0;Z<O.length;Z++)b+="0"==O[Z]?"100":"110"}return{data:b+="1001",text:this.text}}},{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]+$/)}}]),v}(function R(m){return m&&m.__esModule?m:{default:m}}(N(2660)).default);function D(m,v){for(var C=0;C<v;C++)m="0"+m;return m}S.default=B},5128:(Ee,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0});var _=function R(D){return D&&D.__esModule?D:{default:D}}(N(2132)),j=N(6512),B=function(D){function m(v,C){return function G(D,m){if(!(D instanceof m))throw new TypeError("Cannot call a class as a function")}(this,m),function W(D,m){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||"object"!=typeof m&&"function"!=typeof m?D:m}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,v+(0,j.mod10)(v),C))}return function P(D,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function, not "+typeof m);D.prototype=Object.create(m&&m.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(D,m):D.__proto__=m)}(m,D),m}(_.default);S.default=B},9324:(Ee,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0});var _=function R(D){return D&&D.__esModule?D:{default:D}}(N(2132)),j=N(6512),B=function(D){function m(v,C){return function G(D,m){if(!(D instanceof m))throw new TypeError("Cannot call a class as a function")}(this,m),v+=(0,j.mod10)(v),v+=(0,j.mod10)(v),function W(D,m){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||"object"!=typeof m&&"function"!=typeof m?D:m}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,v,C))}return function P(D,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function, not "+typeof m);D.prototype=Object.create(m&&m.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(D,m):D.__proto__=m)}(m,D),m}(_.default);S.default=B},5672:(Ee,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0});var _=function R(D){return D&&D.__esModule?D:{default:D}}(N(2132)),j=N(6512),B=function(D){function m(v,C){return function G(D,m){if(!(D instanceof m))throw new TypeError("Cannot call a class as a function")}(this,m),function W(D,m){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||"object"!=typeof m&&"function"!=typeof m?D:m}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,v+(0,j.mod11)(v),C))}return function P(D,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function, not "+typeof m);D.prototype=Object.create(m&&m.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(D,m):D.__proto__=m)}(m,D),m}(_.default);S.default=B},1640:(Ee,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0});var _=function R(D){return D&&D.__esModule?D:{default:D}}(N(2132)),j=N(6512),B=function(D){function m(v,C){return function G(D,m){if(!(D instanceof m))throw new TypeError("Cannot call a class as a function")}(this,m),v+=(0,j.mod11)(v),v+=(0,j.mod10)(v),function W(D,m){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||"object"!=typeof m&&"function"!=typeof m?D:m}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,v,C))}return function P(D,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function, not "+typeof m);D.prototype=Object.create(m&&m.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(D,m):D.__proto__=m)}(m,D),m}(_.default);S.default=B},6512:(Ee,S)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.mod10=function N(_){for(var j=0,R=0;R<_.length;R++){var G=parseInt(_[R]);j+=(R+_.length)%2==0?G:2*G%10+Math.floor(2*G/10)}return(10-j%10)%10},S.mod11=function H(_){for(var j=0,R=[2,3,4,5,6,7],G=0;G<_.length;G++){var W=parseInt(_[_.length-1-G]);j+=R[G%R.length]*W}return(11-j%11)%11}},4876:(Ee,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.MSI1110=S.MSI1010=S.MSI11=S.MSI10=S.MSI=void 0;var _=v(N(2132)),R=v(N(5128)),W=v(N(5672)),B=v(N(9324)),m=v(N(1640));function v(C){return C&&C.__esModule?C:{default:C}}S.MSI=_.default,S.MSI10=R.default,S.MSI11=W.default,S.MSI1010=B.default,S.MSI1110=m.default},5756:(Ee,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.codabar=void 0;var H=function(){function D(m,v){for(var C=0;C<v.length;C++){var b=v[C];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(m,b.key,b)}}return function(m,v,C){return v&&D(m.prototype,v),C&&D(m,C),m}}(),B=function(D){function m(v,C){(function G(D,m){if(!(D instanceof m))throw new TypeError("Cannot call a class as a function")})(this,m),0===v.search(/^[0-9\-\$\:\.\+\/]+$/)&&(v="A"+v+"A");var b=function W(D,m){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||"object"!=typeof m&&"function"!=typeof m?D:m}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,v.toUpperCase(),C));return b.text=b.options.text||b.text.replace(/[A-D]/g,""),b}return function P(D,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function, not "+typeof m);D.prototype=Object.create(m&&m.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(D,m):D.__proto__=m)}(m,D),H(m,[{key:"valid",value:function(){return-1!==this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)}},{key:"encode",value:function(){for(var C=[],b=this.getEncodings(),T=0;T<this.data.length;T++)C.push(b[this.data.charAt(T)]),T!==this.data.length-1&&C.push("0");return{text:this.text,data:C.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"1011011011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),m}(function R(D){return D&&D.__esModule?D:{default:D}}(N(2660)).default);S.codabar=B},4824:(Ee,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0});var H=N(5872),_=N(7224),j=N(5256),R=N(3108),G=N(4876),W=N(316),P=N(5756),B=N(5573);S.default={CODE39:H.CODE39,CODE128:_.CODE128,CODE128A:_.CODE128A,CODE128B:_.CODE128B,CODE128C:_.CODE128C,EAN13:j.EAN13,EAN8:j.EAN8,EAN5:j.EAN5,EAN2:j.EAN2,UPC:j.UPC,UPCE:j.UPCE,ITF14:R.ITF14,ITF:R.ITF,MSI:G.MSI,MSI10:G.MSI10,MSI11:G.MSI11,MSI1010:G.MSI1010,MSI1110:G.MSI1110,pharmacode:W.pharmacode,codabar:P.codabar,GenericBarcode:B.GenericBarcode}},316:(Ee,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.pharmacode=void 0;var H=function(){function D(m,v){for(var C=0;C<v.length;C++){var b=v[C];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(m,b.key,b)}}return function(m,v,C){return v&&D(m.prototype,v),C&&D(m,C),m}}(),B=function(D){function m(v,C){!function G(D,m){if(!(D instanceof m))throw new TypeError("Cannot call a class as a function")}(this,m);var b=function W(D,m){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||"object"!=typeof m&&"function"!=typeof m?D:m}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,v,C));return b.number=parseInt(v,10),b}return function P(D,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function, not "+typeof m);D.prototype=Object.create(m&&m.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(D,m):D.__proto__=m)}(m,D),H(m,[{key:"encode",value:function(){for(var C=this.number,b="";!isNaN(C)&&0!=C;)C%2==0?(b="11100"+b,C=(C-2)/2):(b="100"+b,C=(C-1)/2);return{data:b=b.slice(0,-2),text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),m}(function R(D){return D&&D.__esModule?D:{default:D}}(N(2660)).default);S.pharmacode=B},9916:(Ee,S)=>{Object.defineProperty(S,"__esModule",{value:!0});var N=function(){function j(R,G){for(var W=0;W<G.length;W++){var P=G[W];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(R,P.key,P)}}return function(R,G,W){return G&&j(R.prototype,G),W&&j(R,W),R}}(),_=function(){function j(R){(function H(j,R){if(!(j instanceof R))throw new TypeError("Cannot call a class as a function")})(this,j),this.api=R}return N(j,[{key:"handleCatch",value:function(G){if("InvalidInputException"!==G.name)throw G;if(this.api._options.valid===this.api._defaults.valid)throw G.message;this.api._options.valid(!1),this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(G){try{var W=G.apply(void 0,arguments);return this.api._options.valid(!0),W}catch(P){return this.handleCatch(P),this.api}}}]),j}();S.default=_},6900:(Ee,S)=>{function N(W,P){if(!(W instanceof P))throw new TypeError("Cannot call a class as a function")}function H(W,P){if(!W)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!P||"object"!=typeof P&&"function"!=typeof P?W:P}function _(W,P){if("function"!=typeof P&&null!==P)throw new TypeError("Super expression must either be null or a function, not "+typeof P);W.prototype=Object.create(P&&P.prototype,{constructor:{value:W,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(W,P):W.__proto__=P)}Object.defineProperty(S,"__esModule",{value:!0});var j=function(W){function P(B,D){N(this,P);var m=H(this,(P.__proto__||Object.getPrototypeOf(P)).call(this));return m.name="InvalidInputException",m.symbology=B,m.input=D,m.message='"'+m.input+'" is not a valid input for '+m.symbology,m}return _(P,Error),P}(),R=function(W){function P(){N(this,P);var B=H(this,(P.__proto__||Object.getPrototypeOf(P)).call(this));return B.name="InvalidElementException",B.message="Not supported type to render on",B}return _(P,Error),P}(),G=function(W){function P(){N(this,P);var B=H(this,(P.__proto__||Object.getPrototypeOf(P)).call(this));return B.name="NoElementException",B.message="No element to render on.",B}return _(P,Error),P}();S.InvalidInputException=j,S.InvalidElementException=R,S.NoElementException=G},6448:(Ee,S)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.default=function N(H){return H.marginTop=H.marginTop||H.margin,H.marginBottom=H.marginBottom||H.margin,H.marginRight=H.marginRight||H.margin,H.marginLeft=H.marginLeft||H.margin,H}},5084:(Ee,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0});var _=G(N(8620)),R=G(N(7312));function G(P){return P&&P.__esModule?P:{default:P}}S.default=function W(P){var B={};for(var D in R.default)R.default.hasOwnProperty(D)&&(P.hasAttribute("jsbarcode-"+D.toLowerCase())&&(B[D]=P.getAttribute("jsbarcode-"+D.toLowerCase())),P.hasAttribute("data-"+D.toLowerCase())&&(B[D]=P.getAttribute("data-"+D.toLowerCase())));return B.value=P.getAttribute("jsbarcode-value")||P.getAttribute("data-value"),(0,_.default)(B)}},7740:(Ee,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0});var H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(v){return typeof v}:function(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},j=P(N(5084)),G=P(N(9896)),W=N(6900);function P(v){return v&&v.__esModule?v:{default:v}}S.default=function B(v){if("string"==typeof v)return function D(v){var C=document.querySelectorAll(v);if(0!==C.length){for(var b=[],T=0;T<C.length;T++)b.push(B(C[T]));return b}}(v);if(Array.isArray(v)){for(var C=[],b=0;b<v.length;b++)C.push(B(v[b]));return C}if(typeof HTMLCanvasElement<"u"&&v instanceof HTMLImageElement)return function m(v){var C=document.createElement("canvas");return{element:C,options:(0,j.default)(v),renderer:G.default.CanvasRenderer,afterRender:function(){v.setAttribute("src",C.toDataURL())}}}(v);if(v&&v.nodeName&&"svg"===v.nodeName.toLowerCase()||typeof SVGElement<"u"&&v instanceof SVGElement)return{element:v,options:(0,j.default)(v),renderer:G.default.SVGRenderer};if(typeof HTMLCanvasElement<"u"&&v instanceof HTMLCanvasElement)return{element:v,options:(0,j.default)(v),renderer:G.default.CanvasRenderer};if(v&&v.getContext)return{element:v,renderer:G.default.CanvasRenderer};if(v&&"object"===(typeof v>"u"?"undefined":H(v))&&!v.nodeName)return{element:v,renderer:G.default.ObjectRenderer};throw new W.InvalidElementException}},5948:(Ee,S)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.default=function N(H){var _=[];return function j(R){if(Array.isArray(R))for(var G=0;G<R.length;G++)j(R[G]);else R.text=R.text||"",R.data=R.data||"",_.push(R)}(H),_}},988:(Ee,S)=>{Object.defineProperty(S,"__esModule",{value:!0});var N=Object.assign||function(H){for(var _=1;_<arguments.length;_++){var j=arguments[_];for(var R in j)Object.prototype.hasOwnProperty.call(j,R)&&(H[R]=j[R])}return H};S.default=function(H,_){return N({},H,_)}},8620:(Ee,S)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.default=function N(H){var _=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var j in _)_.hasOwnProperty(j)&&"string"==typeof H[j=_[j]]&&(H[j]=parseInt(H[j],10));return"string"==typeof H.displayValue&&(H.displayValue="false"!=H.displayValue),H}},7312:(Ee,S)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.default={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}}},8560:(Ee,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0});var H=function(){function B(D,m){for(var v=0;v<m.length;v++){var C=m[v];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(D,C.key,C)}}return function(D,m,v){return m&&B(D.prototype,m),v&&B(D,v),D}}(),j=function G(B){return B&&B.__esModule?B:{default:B}}(N(988)),R=N(5152),P=function(){function B(D,m,v){(function W(B,D){if(!(B instanceof D))throw new TypeError("Cannot call a class as a function")})(this,B),this.canvas=D,this.encodings=m,this.options=v}return H(B,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var m=0;m<this.encodings.length;m++){var v=(0,j.default)(this.options,this.encodings[m].options);this.drawCanvasBarcode(v,this.encodings[m]),this.drawCanvasText(v,this.encodings[m]),this.moveCanvasDrawing(this.encodings[m])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var m=this.canvas.getContext("2d");m.save(),(0,R.calculateEncodingAttributes)(this.encodings,this.options,m);var v=(0,R.getTotalWidthOfEncodings)(this.encodings),C=(0,R.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=v+this.options.marginLeft+this.options.marginRight,this.canvas.height=C,m.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(m.fillStyle=this.options.background,m.fillRect(0,0,this.canvas.width,this.canvas.height)),m.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(m,v){var T,C=this.canvas.getContext("2d"),b=v.data;T="top"==m.textPosition?m.marginTop+m.fontSize+m.textMargin:m.marginTop,C.fillStyle=m.lineColor;for(var A=0;A<b.length;A++){var O=A*m.width+v.barcodePadding;"1"===b[A]?C.fillRect(O,T,m.width,m.height):b[A]&&C.fillRect(O,T,m.width,m.height*b[A])}}},{key:"drawCanvasText",value:function(m,v){var T,A,C=this.canvas.getContext("2d");m.displayValue&&(A="top"==m.textPosition?m.marginTop+m.fontSize-m.textMargin:m.height+m.textMargin+m.marginTop+m.fontSize,C.font=m.fontOptions+" "+m.fontSize+"px "+m.font,"left"==m.textAlign||v.barcodePadding>0?(T=0,C.textAlign="left"):"right"==m.textAlign?(T=v.width-1,C.textAlign="right"):(T=v.width/2,C.textAlign="center"),C.fillText(v.text,T,A))}},{key:"moveCanvasDrawing",value:function(m){this.canvas.getContext("2d").translate(m.width,0)}},{key:"restoreCanvas",value:function(){this.canvas.getContext("2d").restore()}}]),B}();S.default=P},9896:(Ee,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0});var _=P(N(8560)),R=P(N(2888)),W=P(N(56));function P(B){return B&&B.__esModule?B:{default:B}}S.default={CanvasRenderer:_.default,SVGRenderer:R.default,ObjectRenderer:W.default}},56:(Ee,S)=>{Object.defineProperty(S,"__esModule",{value:!0});var N=function(){function j(R,G){for(var W=0;W<G.length;W++){var P=G[W];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(R,P.key,P)}}return function(R,G,W){return G&&j(R.prototype,G),W&&j(R,W),R}}(),_=function(){function j(R,G,W){(function H(j,R){if(!(j instanceof R))throw new TypeError("Cannot call a class as a function")})(this,j),this.object=R,this.encodings=G,this.options=W}return N(j,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),j}();S.default=_},5152:(Ee,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.getTotalWidthOfEncodings=S.calculateEncodingAttributes=S.getBarcodePadding=S.getEncodingHeight=S.getMaximumHeightOfEncodings=void 0;var _=function j(m){return m&&m.__esModule?m:{default:m}}(N(988));function R(m,v){return v.height+(v.displayValue&&m.text.length>0?v.fontSize+v.textMargin:0)+v.marginTop+v.marginBottom}function G(m,v,C){if(C.displayValue&&v<m){if("center"==C.textAlign)return Math.floor((m-v)/2);if("left"==C.textAlign)return 0;if("right"==C.textAlign)return Math.floor(m-v)}return 0}function D(m,v,C){var b;if(C)b=C;else{if(!(typeof document<"u"))return 0;b=document.createElement("canvas").getContext("2d")}b.font=v.fontOptions+" "+v.fontSize+"px "+v.font;var T=b.measureText(m);return T?T.width:0}S.getMaximumHeightOfEncodings=function B(m){for(var v=0,C=0;C<m.length;C++)m[C].height>v&&(v=m[C].height);return v},S.getEncodingHeight=R,S.getBarcodePadding=G,S.calculateEncodingAttributes=function W(m,v,C){for(var b=0;b<m.length;b++){var O,T=m[b],A=(0,_.default)(v,T.options);O=A.displayValue?D(T.text,A,C):0;var Z=T.data.length*A.width;T.width=Math.ceil(Math.max(O,Z)),T.height=R(T,A),T.barcodePadding=G(O,Z,A)}},S.getTotalWidthOfEncodings=function P(m){for(var v=0,C=0;C<m.length;C++)v+=m[C].width;return v}},2888:(Ee,S,N)=>{Object.defineProperty(S,"__esModule",{value:!0});var H=function(){function D(m,v){for(var C=0;C<v.length;C++){var b=v[C];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(m,b.key,b)}}return function(m,v,C){return v&&D(m.prototype,v),C&&D(m,C),m}}(),j=function G(D){return D&&D.__esModule?D:{default:D}}(N(988)),R=N(5152),P="http://www.w3.org/2000/svg",B=function(){function D(m,v,C){(function W(D,m){if(!(D instanceof m))throw new TypeError("Cannot call a class as a function")})(this,D),this.svg=m,this.encodings=v,this.options=C,this.document=C.xmlDocument||document}return H(D,[{key:"render",value:function(){var v=this.options.marginLeft;this.prepareSVG();for(var C=0;C<this.encodings.length;C++){var b=this.encodings[C],T=(0,j.default)(this.options,b.options),A=this.createGroup(v,T.marginTop,this.svg);this.setGroupOptions(A,T),this.drawSvgBarcode(A,T,b),this.drawSVGText(A,T,b),v+=b.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,R.calculateEncodingAttributes)(this.encodings,this.options);var v=(0,R.getTotalWidthOfEncodings)(this.encodings),C=(0,R.getMaximumHeightOfEncodings)(this.encodings),b=v+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(b,C),this.options.background&&this.drawRect(0,0,b,C,this.svg).setAttribute("style","fill:"+this.options.background+";")}},{key:"drawSvgBarcode",value:function(v,C,b){var A,T=b.data;A="top"==C.textPosition?C.fontSize+C.textMargin:0;for(var O=0,Z=0,ce=0;ce<T.length;ce++)Z=ce*C.width+b.barcodePadding,"1"===T[ce]?O++:O>0&&(this.drawRect(Z-C.width*O,A,C.width*O,C.height,v),O=0);O>0&&this.drawRect(Z-C.width*(O-1),A,C.width*O,C.height,v)}},{key:"drawSVGText",value:function(v,C,b){var A,O,T=this.document.createElementNS(P,"text");C.displayValue&&(T.setAttribute("style","font:"+C.fontOptions+" "+C.fontSize+"px "+C.font),O="top"==C.textPosition?C.fontSize-C.textMargin:C.height+C.textMargin+C.fontSize,"left"==C.textAlign||b.barcodePadding>0?(A=0,T.setAttribute("text-anchor","start")):"right"==C.textAlign?(A=b.width-1,T.setAttribute("text-anchor","end")):(A=b.width/2,T.setAttribute("text-anchor","middle")),T.setAttribute("x",A),T.setAttribute("y",O),T.appendChild(this.document.createTextNode(b.text)),v.appendChild(T))}},{key:"setSvgAttributes",value:function(v,C){var b=this.svg;b.setAttribute("width",v+"px"),b.setAttribute("height",C+"px"),b.setAttribute("x","0px"),b.setAttribute("y","0px"),b.setAttribute("viewBox","0 0 "+v+" "+C),b.setAttribute("xmlns",P),b.setAttribute("version","1.1"),b.setAttribute("style","transform: translate(0,0)")}},{key:"createGroup",value:function(v,C,b){var T=this.document.createElementNS(P,"g");return T.setAttribute("transform","translate("+v+", "+C+")"),b.appendChild(T),T}},{key:"setGroupOptions",value:function(v,C){v.setAttribute("style","fill:"+C.lineColor+";")}},{key:"drawRect",value:function(v,C,b,T,A){var O=this.document.createElementNS(P,"rect");return O.setAttribute("x",v),O.setAttribute("y",C),O.setAttribute("width",b),O.setAttribute("height",T),A.appendChild(O),O}}]),D}();S.default=B}},Ee=>{Ee(Ee.s=9008)}]);